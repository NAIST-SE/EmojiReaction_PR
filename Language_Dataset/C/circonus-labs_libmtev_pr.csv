circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,8,2016-02-18T16:06:31Z,2016-02-18T19:40:43Z,2016-04-04T17:35:22Z,CLOSED,False,2,2,1,https://github.com/aidancully,properly define XOPEN_SOURCE CPPFLAGS.,1,[],https://github.com/circonus-labs/libmtev/pull/8,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/8,"We had -D_XOPEN_SOURCE=600 and -D_XOPEN_SOURCE_EXTENDED in CPPFLAGS,
which confuses Illumos's sys/feature-test.h into not defining _XPG5 or
_XPG6. (We had partially worked around this by defining -D_XPG6 on
solaris-type OSes, but this still left _XPG5 undefined, and does not
seem to be the preferred way to define _XPG* feature-test macros.)","We had -D_XOPEN_SOURCE=600 and -D_XOPEN_SOURCE_EXTENDED in CPPFLAGS,
which confuses Illumos's sys/feature-test.h into not defining _XPG5 or
_XPG6. (We had partially worked around this by defining -D_XPG6 on
solaris-type OSes, but this still left _XPG5 undefined, and does not
seem to be the preferred way to define _XPG* feature-test macros.)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,8,2016-02-18T16:06:31Z,2016-02-18T19:40:43Z,2016-04-04T17:35:22Z,CLOSED,False,2,2,1,https://github.com/aidancully,properly define XOPEN_SOURCE CPPFLAGS.,1,[],https://github.com/circonus-labs/libmtev/pull/8,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/8#issuecomment-185885401,"We had -D_XOPEN_SOURCE=600 and -D_XOPEN_SOURCE_EXTENDED in CPPFLAGS,
which confuses Illumos's sys/feature-test.h into not defining _XPG5 or
_XPG6. (We had partially worked around this by defining -D_XPG6 on
solaris-type OSes, but this still left _XPG5 undefined, and does not
seem to be the preferred way to define _XPG* feature-test macros.)",this change is on the xpgcppflags branch.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,9,2016-03-10T19:25:25Z,2016-03-14T16:22:37Z,2016-04-04T17:35:08Z,MERGED,True,7,8,2,https://github.com/aidancully,fix multiple definition error of eventer_err and _deb log streams.,2,[],https://github.com/circonus-labs/libmtev/pull/9,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/9,"Get rid of _EVENTER_C conditional #define, just declare all global
variables from eventer.h as extern, and rely on a .c file to
actually define the values. The old scheme was not universally
applied to all globals exposed by the header file, resulting in
duplicate symbol errors in which these symbols could be multiply
defined.","Get rid of _EVENTER_C conditional #define, just declare all global
variables from eventer.h as extern, and rely on a .c file to
actually define the values. The old scheme was not universally
applied to all globals exposed by the header file, resulting in
duplicate symbol errors in which these symbols could be multiply
defined.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,10,2016-03-15T19:27:43Z,2016-03-15T19:59:03Z,2016-04-04T17:35:04Z,MERGED,True,81,18,7,https://github.com/aidancully,add mtev_b<32|64>_<max_de|en>code_len functions and tests.,1,[],https://github.com/circonus-labs/libmtev/pull/10,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/10,"Also repair b32 encoding so that the encoded data length is always a
multiple of 8 bytes.
Bump library minor version number, because semver.","Also repair b32 encoding so that the encoded data length is always a
multiple of 8 bytes.
Bump library minor version number, because semver.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,11,2016-03-18T15:58:53Z,2016-03-18T17:52:26Z,2016-04-04T17:35:02Z,MERGED,True,10,3,1,https://github.com/aidancully,try to prevent visibility of skiplist placeholder column.,1,[],https://github.com/circonus-labs/libmtev/pull/11,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/11,"As an implementation detail, each mtev_skiplist contains a column
of mtev_skiplist_node structures that contain no data. This
detail is intended to be invisible to clients of the skiplist API,
but could be exposed by a few APIs (mtev_skiplist_find_neighbors
and friends, mtev_skiplist_previous) that manage neighboring
nodes. Modify these routines to stop exposing these placeholder
nodes to clients.","As an implementation detail, each mtev_skiplist contains a column
of mtev_skiplist_node structures that contain no data. This
detail is intended to be invisible to clients of the skiplist API,
but could be exposed by a few APIs (mtev_skiplist_find_neighbors
and friends, mtev_skiplist_previous) that manage neighboring
nodes. Modify these routines to stop exposing these placeholder
nodes to clients.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,12,2016-03-18T20:10:59Z,2016-03-21T14:40:41Z,2016-04-04T17:34:57Z,MERGED,True,14,2,2,https://github.com/aidancully,Mtev skiplist node funcs,2,[],https://github.com/circonus-labs/libmtev/pull/12,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/12,"expose ""blessed"" interface to remove a node from a skiplist.
add mtev_skiplist_data accessor function.","expose ""blessed"" interface to remove a node from a skiplist.
add mtev_skiplist_data accessor function.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,15,2016-04-04T17:50:09Z,2016-04-04T17:54:35Z,2016-04-08T15:25:12Z,MERGED,True,5,5,2,https://github.com/aidancully,always name mtev_console structure types.,1,[],https://github.com/circonus-labs/libmtev/pull/15,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/15,"This avoids a C++ warning, X has a field X::Y whose type uses the
anonymous namespace. In this case, we avoid the error by requiring
all structure types to have a name before the open-brace, but
signal to clients that these structure types should not be used
directly by prefixing the name with _.","This avoids a C++ warning, X has a field X::Y whose type uses the
anonymous namespace. In this case, we avoid the error by requiring
all structure types to have a name before the open-brace, but
signal to clients that these structure types should not be used
directly by prefixing the name with _.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,16,2016-04-04T18:48:18Z,2016-04-05T15:09:05Z,2016-04-05T15:09:06Z,MERGED,True,1410,57,21,https://github.com/postwait,Luamtev,7,[],https://github.com/circonus-labs/libmtev/pull/16,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/16,Several things all enabling a standalone lua file executer.,Several things all enabling a standalone lua file executer.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,17,2016-04-05T15:10:33Z,2016-04-05T15:11:44Z,2016-04-05T15:11:44Z,MERGED,True,1,1,1,https://github.com/postwait,"fix jsonarray to lua, lua arrays start at 1",1,[],https://github.com/circonus-labs/libmtev/pull/17,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/17,subject says it all,subject says it all,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,18,2016-04-05T15:12:05Z,2016-04-05T17:11:15Z,2016-04-05T17:14:51Z,CLOSED,False,80,0,1,https://github.com/postwait,add lua mtev.tojson(obj) function,1,[],https://github.com/circonus-labs/libmtev/pull/18,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/18,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,19,2016-04-05T17:11:41Z,2016-04-05T17:12:00Z,2016-04-05T17:14:51Z,MERGED,True,80,0,1,https://github.com/postwait,add lua mtev.tojson(obj) function,1,[],https://github.com/circonus-labs/libmtev/pull/19,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/19,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,20,2016-04-06T17:42:55Z,2016-04-06T19:16:49Z,2016-04-08T15:25:05Z,MERGED,True,359,10,4,https://github.com/aidancully,mtev_confstr implementation.,1,[],https://github.com/circonus-labs/libmtev/pull/20,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/20,"parses strings such as might be found in config files into more
useable form.","parses strings such as might be found in config files into more
useable form.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,21,2016-04-14T17:00:56Z,2016-04-15T16:58:24Z,2018-08-14T14:29:42Z,MERGED,True,13,9,1,https://github.com/rileyberton,"remove omniti package publisher from build requirements for omnios, a…",2,[],https://github.com/circonus-labs/libmtev/pull/21,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/21,…dd other missing required packages to docs,…dd other missing required packages to docs,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,22,2016-04-18T17:53:28Z,2016-04-29T14:41:11Z,2016-04-29T14:57:41Z,MERGED,True,219,43,3,https://github.com/aidancully,added mtev_confstr_parse_time_gm routine.,1,[],https://github.com/circonus-labs/libmtev/pull/22,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/22,"parses rfc3339 datespecs.
also, for consistency, changed existing mtev_confstr to return
MTEV_CONFSTR_PARSE result codes.


This change is","parses rfc3339 datespecs.
also, for consistency, changed existing mtev_confstr to return
MTEV_CONFSTR_PARSE result codes.


This change is",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,22,2016-04-18T17:53:28Z,2016-04-29T14:41:11Z,2016-04-29T14:57:41Z,MERGED,True,219,43,3,https://github.com/aidancully,added mtev_confstr_parse_time_gm routine.,1,[],https://github.com/circonus-labs/libmtev/pull/22,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/22#issuecomment-211953722,"parses rfc3339 datespecs.
also, for consistency, changed existing mtev_confstr to return
MTEV_CONFSTR_PARSE result codes.


This change is",Looks good to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,23,2016-04-21T19:25:04Z,2016-04-21T19:36:06Z,2016-04-21T19:39:24Z,MERGED,True,6,3,3,https://github.com/aidancully,portability fixes.,1,[],https://github.com/circonus-labs/libmtev/pull/23,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/23,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,24,2016-04-22T20:25:21Z,2016-04-22T20:53:35Z,2016-04-22T20:53:35Z,MERGED,True,1,0,1,https://github.com/aidancully,fix memory leak,1,[],https://github.com/circonus-labs/libmtev/pull/24,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/24,"mtev_skiplist_destroy did not free the index allocated by
mtev_skiplist_init. fixed.","mtev_skiplist_destroy did not free the index allocated by
mtev_skiplist_init. fixed.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,25,2016-04-29T09:25:22Z,2016-04-29T16:40:19Z,2016-05-02T06:46:54Z,MERGED,True,95,0,2,https://github.com/JonasKunze,Implemented mtev_conf_check,1,[],https://github.com/circonus-labs/libmtev/pull/25,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/25,"This allows you to check the existens of configs in a clean way. An example could look like following:
struct mtev_conf_description_t descs[] = { {
CONFIG_FQ_HOST, MTEV_CONF_TYPE_STRING,
""Hostname of the fq broker data should be received from"" },
{ CONFIG_FQ_PORT, MTEV_CONF_TYPE_INT, ""Port number of the fq broker"" },
{ CONFIG_FQ_USER, MTEV_CONF_TYPE_STRING,
""User name used to connect to the fq broker"" },
{ CONFIG_FQ_PASS, MTEV_CONF_TYPE_STRING,
""Password used to connect to the fq broker"" } };
if (mtev_conf_load_desc(config_file, descs,
sizeof(descs) / sizeof(struct mtev_conf_description_t)) != 0) {
mtevL(mtev_error, ""Cannot load config: '%s'\n"", config_file);
exit(2);
}
If a config path isn't found this will print a message explaining which path is missing and what's the semantics of the corresponding value.


This change is","This allows you to check the existens of configs in a clean way. An example could look like following:
struct mtev_conf_description_t descs[] = { {
CONFIG_FQ_HOST, MTEV_CONF_TYPE_STRING,
""Hostname of the fq broker data should be received from"" },
{ CONFIG_FQ_PORT, MTEV_CONF_TYPE_INT, ""Port number of the fq broker"" },
{ CONFIG_FQ_USER, MTEV_CONF_TYPE_STRING,
""User name used to connect to the fq broker"" },
{ CONFIG_FQ_PASS, MTEV_CONF_TYPE_STRING,
""Password used to connect to the fq broker"" } };
if (mtev_conf_load_desc(config_file, descs,
sizeof(descs) / sizeof(struct mtev_conf_description_t)) != 0) {
mtevL(mtev_error, ""Cannot load config: '%s'\n"", config_file);
exit(2);
}
If a config path isn't found this will print a message explaining which path is missing and what's the semantics of the corresponding value.


This change is",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,26,2016-04-30T19:49:42Z,2016-05-02T17:52:45Z,2016-06-08T13:54:28Z,MERGED,True,227,57,8,https://github.com/postwait,Bring lua_web up to snuff with lua_general,2,[],https://github.com/circonus-labs/libmtev/pull/26,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/26,"fix typo in http DEFATE -> DEFLATE
update http to force chunked or closed if the caller is sloppy
allow rest registrations to have a closure



This change is","fix typo in http DEFATE -> DEFLATE
update http to force chunked or closed if the caller is sloppy
allow rest registrations to have a closure



This change is",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,27,2016-05-02T08:57:47Z,2016-05-02T11:58:35Z,2016-05-02T11:58:35Z,MERGED,True,1,0,1,https://github.com/JonasKunze,Fixed memory leak: call mtev_hash_destroy in case of an error in mtev_conf_check,1,[],https://github.com/circonus-labs/libmtev/pull/27,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/27,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,28,2016-05-02T10:43:44Z,2016-05-02T17:53:00Z,2016-05-03T06:44:27Z,MERGED,True,131,3,4,https://github.com/JonasKunze,Implemented mtev_conf_section_to_xpath,1,[],https://github.com/circonus-labs/libmtev/pull/28,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/28,This is used by mtev_conf_check to print nicer error messages,This is used by mtev_conf_check to print nicer error messages,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,29,2016-05-03T09:32:44Z,2016-05-03T12:39:06Z,2016-05-03T12:39:06Z,MERGED,True,4,6,1,https://github.com/JonasKunze,fixed some gcc warning messages,1,[],https://github.com/circonus-labs/libmtev/pull/29,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/29,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,30,2016-05-03T16:15:59Z,2016-05-04T17:22:38Z,2016-05-04T18:01:11Z,CLOSED,False,606,4,6,https://github.com/JonasKunze,mtev_fq,10,[],https://github.com/circonus-labs/libmtev/pull/30,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/30,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,31,2016-05-04T14:54:19Z,2016-05-04T19:48:03Z,2016-05-04T19:48:03Z,CLOSED,False,0,0,0,https://github.com/JonasKunze,Implemented mtev_conf_get_value and allowed optional configs,0,[],https://github.com/circonus-labs/libmtev/pull/31,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/31,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,32,2016-05-04T19:56:47Z,2016-05-06T01:43:52Z,2016-05-10T06:59:33Z,MERGED,True,176,59,4,https://github.com/JonasKunze,Implemented mtev_conf_get_value and allowed optional configs,1,[],https://github.com/circonus-labs/libmtev/pull/32,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/32,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,33,2016-05-04T19:57:10Z,2016-05-06T01:34:10Z,2016-05-10T06:59:38Z,MERGED,True,11,1,1,https://github.com/JonasKunze,checking if an <appname> tag exists in the config,1,[],https://github.com/circonus-labs/libmtev/pull/33,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/33,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,34,2016-05-05T07:50:32Z,2016-05-06T01:28:35Z,2016-05-10T06:59:25Z,CLOSED,False,7,3,3,https://github.com/JonasKunze,Bugfix: segfault and memory leak when using mtev_cluster,1,[],https://github.com/circonus-labs/libmtev/pull/34,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/34,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,34,2016-05-05T07:50:32Z,2016-05-06T01:28:35Z,2016-05-10T06:59:25Z,CLOSED,False,7,3,3,https://github.com/JonasKunze,Bugfix: segfault and memory leak when using mtev_cluster,1,[],https://github.com/circonus-labs/libmtev/pull/34,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/34#issuecomment-217324877,,This was fixed as a part of PR #35,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,35,2016-05-05T11:39:56Z,2016-05-05T22:17:09Z,2016-05-05T22:17:21Z,MERGED,True,782,7,7,https://github.com/postwait,secure unreliable broadcast between cluster nodes,1,[],https://github.com/circonus-labs/libmtev/pull/35,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/35,"Abstracted binary payloads can now be send in an emulated broadcast to all cluster nodes.
mtev_net_heartbeat provides on-the-wire services over UDP supporting broadcast, multicast and direct send.
mtev_cluster is updated to leverage the direct send part only.
In this PR, mtev_cluster does not actually exchange any information.","Abstracted binary payloads can now be send in an emulated broadcast to all cluster nodes.
mtev_net_heartbeat provides on-the-wire services over UDP supporting broadcast, multicast and direct send.
mtev_cluster is updated to leverage the direct send part only.
In this PR, mtev_cluster does not actually exchange any information.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,36,2016-05-05T22:02:03Z,2016-05-05T22:21:26Z,2016-05-05T22:21:26Z,MERGED,True,1,1,1,https://github.com/esproul,Invert logic so that we can turn ON server cipher preference,1,[],https://github.com/circonus-labs/libmtev/pull/36,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/36,Simple fix to a logic error.,Simple fix to a logic error.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,37,2016-05-06T18:14:14Z,2016-05-23T14:19:06Z,2016-06-08T13:54:36Z,MERGED,True,228,17,6,https://github.com/postwait,Ensure safe memory reclamation makes progress.,1,[],https://github.com/circonus-labs/libmtev/pull/37,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/37,Add barrier and try and asynchronous barrier emulation.,Add barrier and try and asynchronous barrier emulation.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,38,2016-05-10T08:13:06Z,2016-05-10T11:44:32Z,2016-05-10T11:44:32Z,MERGED,True,4,4,4,https://github.com/JonasKunze,Fixed 'Error: unknown pseudo-op: .reference'' when rsynced from other machine,1,[],https://github.com/circonus-labs/libmtev/pull/38,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/38,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,39,2016-05-11T16:19:16Z,2016-05-13T20:19:55Z,2016-06-08T13:54:57Z,MERGED,True,21,2,2,https://github.com/postwait,Avoid SSL_SESSION_free,1,[],https://github.com/circonus-labs/libmtev/pull/39,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/39,"SSL_get1_session is supposed to increment the refcnt.  Other things can
negatively effect the SSL_SESSION itself making it dangerous to free even
the refcnt'd copy (crashes on OS X).  There is only one consumer of this
and we can avoid this by simply requiring that no one use it ""later.""
Expose a :release() method on the session in lua that null our reference
and make the GC null its reference.  Then change the return convention
to not increment the refcnt.","SSL_get1_session is supposed to increment the refcnt.  Other things can
negatively effect the SSL_SESSION itself making it dangerous to free even
the refcnt'd copy (crashes on OS X).  There is only one consumer of this
and we can avoid this by simply requiring that no one use it ""later.""
Expose a :release() method on the session in lua that null our reference
and make the GC null its reference.  Then change the return convention
to not increment the refcnt.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,40,2016-05-13T09:45:55Z,2016-05-13T18:40:10Z,2016-05-19T16:11:44Z,MERGED,True,22,3,4,https://github.com/JonasKunze,defining ntohll on Linux and including mtev_conf.h,5,[],https://github.com/circonus-labs/libmtev/pull/40,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/40,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,41,2016-05-18T12:34:21Z,2016-05-19T16:07:43Z,2016-05-19T16:10:30Z,MERGED,True,236,23,6,https://github.com/JonasKunze,ernie-ping,1,[],https://github.com/circonus-labs/libmtev/pull/41,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/41,"Implemented a very basic algorithm that determines the oldest node in a cluster:

Every node knows the boot times of all other nodes in the cluster
If two nodes have the identic boot time, they'll set the tv_usec to random()%1E6
If the last_contact time is of a node is older than 2*period, it's boot time is set to a large value in the future and the new oldest node is determined","Implemented a very basic algorithm that determines the oldest node in a cluster:

Every node knows the boot times of all other nodes in the cluster
If two nodes have the identic boot time, they'll set the tv_usec to random()%1E6
If the last_contact time is of a node is older than 2*period, it's boot time is set to a large value in the future and the new oldest node is determined",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,42,2016-05-20T12:47:50Z,2016-05-20T15:35:42Z,2016-07-20T13:55:57Z,MERGED,True,0,1,1,https://github.com/JonasKunze,fixed copy paste error: called xmlNewNode without using it,1,[],https://github.com/circonus-labs/libmtev/pull/42,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/42,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,43,2016-05-20T15:55:35Z,2016-05-20T16:15:15Z,2016-06-08T13:54:45Z,MERGED,True,41,7,3,https://github.com/postwait,"Fix mtev_str growth_factor not growing anything, add tests",1,[],https://github.com/circonus-labs/libmtev/pull/43,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/43,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,44,2016-05-20T20:15:51Z,2016-05-20T21:28:59Z,2016-06-08T13:54:23Z,MERGED,True,26,8,4,https://github.com/postwait,Support stack trace print out on errors.,1,[],https://github.com/circonus-labs/libmtev/pull/44,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/44,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,45,2016-05-24T15:34:34Z,2016-05-24T16:26:09Z,2016-06-08T13:54:16Z,MERGED,True,19,0,1,https://github.com/postwait,make the go_sync and write commands careful about draining a backlog,1,[],https://github.com/circonus-labs/libmtev/pull/45,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/45,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,46,2016-05-26T15:32:49Z,2016-05-31T20:27:48Z,2016-05-31T20:27:48Z,CLOSED,False,7,4,2,https://github.com/aidancully,change eventer_dispatch_timed so that it can leave the eventer_t allocated,1,[],https://github.com/circonus-labs/libmtev/pull/46,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/46,"the eventer signals that that's what it wants by returning -1. makes it much
easier to avoid use-after-free when trying to cancel or update a timed event
from another thread.","the eventer signals that that's what it wants by returning -1. makes it much
easier to avoid use-after-free when trying to cancel or update a timed event
from another thread.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,47,2016-05-27T14:59:48Z,2016-05-31T20:26:53Z,2016-06-08T13:53:27Z,MERGED,True,108,1,6,https://github.com/postwait,Support reference counting for eventer_t objects.,2,[],https://github.com/circonus-labs/libmtev/pull/47,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/47,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,48,2016-05-31T20:30:11Z,2016-06-02T15:23:38Z,2016-06-02T15:23:39Z,MERGED,True,87,0,4,https://github.com/postwait,Add mtev_http_rest_disclose_endpoints for optional rest introspection.,2,[],https://github.com/circonus-labs/libmtev/pull/48,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/48,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,49,2016-06-01T00:30:32Z,2016-06-01T00:31:29Z,2016-06-01T00:31:29Z,MERGED,True,4,2,1,https://github.com/aidancully,fix mtev_skiplist_destroy null pointer dereference.,1,[],https://github.com/circonus-labs/libmtev/pull/49,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/49,"this program currently segv's:
#include <mtev_skiplist.h>

int foo(const void *ap, const void *bp)
{
  return mtev_compare_voidptr(ap, bp);
}

int main(int argc, char const *argv[])
{
  mtev_skiplist sl;
  mtev_skiplist_init(&sl);
  mtev_skiplist_set_compare(&sl, foo, foo);
  mtev_skiplist_add_index(&sl, mtev_compare_voidptr, mtev_compare_voidptr);
  mtev_skiplist_destroy(&sl, 0);
  return 0;
}

this patch addresses the issue.","this program currently segv's:
#include <mtev_skiplist.h>

int foo(const void *ap, const void *bp)
{
  return mtev_compare_voidptr(ap, bp);
}

int main(int argc, char const *argv[])
{
  mtev_skiplist sl;
  mtev_skiplist_init(&sl);
  mtev_skiplist_set_compare(&sl, foo, foo);
  mtev_skiplist_add_index(&sl, mtev_compare_voidptr, mtev_compare_voidptr);
  mtev_skiplist_destroy(&sl, 0);
  return 0;
}

this patch addresses the issue.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,50,2016-06-01T02:08:01Z,2016-06-02T14:48:53Z,2016-06-08T13:53:43Z,MERGED,True,5,5,2,https://github.com/postwait,Fix compiler warnings.,1,[],https://github.com/circonus-labs/libmtev/pull/50,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/50,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,51,2016-06-01T12:49:30Z,2016-06-01T13:41:31Z,2016-06-01T13:41:31Z,MERGED,True,8,2,1,https://github.com/JonasKunze,Defined UUID_PRINTABLE_STRING_LENGTH,1,[],https://github.com/circonus-labs/libmtev/pull/51,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/51,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,52,2016-06-02T15:00:07Z,2016-06-02T15:03:41Z,2016-06-02T15:03:41Z,MERGED,True,5,5,5,https://github.com/pamaddox,Fix Issues With Symbols And strndup Calls,2,[],https://github.com/circonus-labs/libmtev/pull/52,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/52,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,53,2016-06-02T16:57:25Z,2016-06-02T17:02:02Z,2016-06-02T17:02:02Z,MERGED,True,6,0,1,https://github.com/pamaddox,"Undef ""user2"" If term.h Is Included",1,[],https://github.com/circonus-labs/libmtev/pull/53,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/53,"term.h #defines ""user2"", which conflicts with some libraries (notably -
libxml and the libxml/xterm.h include file)... undefine it if we had to
include term.h.","term.h #defines ""user2"", which conflicts with some libraries (notably -
libxml and the libxml/xterm.h include file)... undefine it if we had to
include term.h.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,53,2016-06-02T16:57:25Z,2016-06-02T17:02:02Z,2016-06-02T17:02:02Z,MERGED,True,6,0,1,https://github.com/pamaddox,"Undef ""user2"" If term.h Is Included",1,[],https://github.com/circonus-labs/libmtev/pull/53,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/53#issuecomment-223355295,"term.h #defines ""user2"", which conflicts with some libraries (notably -
libxml and the libxml/xterm.h include file)... undefine it if we had to
include term.h.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,54,2016-06-02T17:14:02Z,2016-06-02T17:15:51Z,2016-06-02T17:15:51Z,MERGED,True,4,9,2,https://github.com/pamaddox,Move Including #term.h Into mtev_console_telnet C File,1,[],https://github.com/circonus-labs/libmtev/pull/54,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/54,"Rather than doing an #undef for user2 (there are tons of bad defines in
term.h), just move term.h include into the C file itself.","Rather than doing an #undef for user2 (there are tons of bad defines in
term.h), just move term.h include into the C file itself.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,54,2016-06-02T17:14:02Z,2016-06-02T17:15:51Z,2016-06-02T17:15:51Z,MERGED,True,4,9,2,https://github.com/pamaddox,Move Including #term.h Into mtev_console_telnet C File,1,[],https://github.com/circonus-labs/libmtev/pull/54,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/54#issuecomment-223358983,"Rather than doing an #undef for user2 (there are tons of bad defines in
term.h), just move term.h include into the C file itself.","LGTM - in fact, even better than PR #53!",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,55,2016-06-02T17:50:40Z,2016-06-02T17:54:59Z,2016-06-02T17:54:59Z,MERGED,True,3,3,2,https://github.com/pamaddox,Move curses.h Include To mtev_console_telnet.c,1,[],https://github.com/circonus-labs/libmtev/pull/55,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/55,"Take curses.h out of mtev_console_telnet.h.... were getting conflicts
with the macro ""move"".","Take curses.h out of mtev_console_telnet.h.... were getting conflicts
with the macro ""move"".",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,55,2016-06-02T17:50:40Z,2016-06-02T17:54:59Z,2016-06-02T17:54:59Z,MERGED,True,3,3,2,https://github.com/pamaddox,Move curses.h Include To mtev_console_telnet.c,1,[],https://github.com/circonus-labs/libmtev/pull/55,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/55#issuecomment-223369578,"Take curses.h out of mtev_console_telnet.h.... were getting conflicts
with the macro ""move"".",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,56,2016-06-08T13:01:17Z,2016-06-08T13:08:27Z,2016-06-08T13:53:32Z,MERGED,True,34,2,3,https://github.com/postwait,Cleaner luamtev start,2,[],https://github.com/circonus-labs/libmtev/pull/56,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/56,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,56,2016-06-08T13:01:17Z,2016-06-08T13:08:27Z,2016-06-08T13:53:32Z,MERGED,True,34,2,3,https://github.com/postwait,Cleaner luamtev start,2,[],https://github.com/circonus-labs/libmtev/pull/56,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/56#issuecomment-224582262,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,57,2016-06-08T19:36:17Z,2016-06-08T19:40:39Z,2016-06-08T19:40:39Z,MERGED,True,1,1,1,https://github.com/aidancully,fix off-by-one error in add_timeval function.,1,[],https://github.com/circonus-labs/libmtev/pull/57,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/57,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,57,2016-06-08T19:36:17Z,2016-06-08T19:40:39Z,2016-06-08T19:40:39Z,MERGED,True,1,1,1,https://github.com/aidancully,fix off-by-one error in add_timeval function.,1,[],https://github.com/circonus-labs/libmtev/pull/57,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/57#issuecomment-224704163,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,58,2016-06-09T17:25:05Z,2016-06-10T17:26:13Z,2016-11-26T16:44:10Z,MERGED,True,53,4,4,https://github.com/postwait,Cross thread adding,3,[],https://github.com/circonus-labs/libmtev/pull/58,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/58,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,58,2016-06-09T17:25:05Z,2016-06-10T17:26:13Z,2016-11-26T16:44:10Z,MERGED,True,53,4,4,https://github.com/postwait,Cross thread adding,3,[],https://github.com/circonus-labs/libmtev/pull/58,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/58#issuecomment-225202694,,+1,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,59,2016-06-10T21:52:51Z,2016-06-10T22:01:27Z,2016-11-26T16:44:10Z,MERGED,True,7,0,1,https://github.com/postwait,Enable ECDHE,1,[],https://github.com/circonus-labs/libmtev/pull/59,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/59,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,59,2016-06-10T21:52:51Z,2016-06-10T22:01:27Z,2016-11-26T16:44:10Z,MERGED,True,7,0,1,https://github.com/postwait,Enable ECDHE,1,[],https://github.com/circonus-labs/libmtev/pull/59,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/59#issuecomment-225305205,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,60,2016-06-13T14:30:53Z,2016-06-13T16:00:54Z,2016-06-13T16:00:54Z,MERGED,True,1,0,1,https://github.com/JonasKunze,bugfix: eventer fd not removed in lua_socket_connect_complete,1,[],https://github.com/circonus-labs/libmtev/pull/60,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/60,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,60,2016-06-13T14:30:53Z,2016-06-13T16:00:54Z,2016-06-13T16:00:54Z,MERGED,True,1,0,1,https://github.com/JonasKunze,bugfix: eventer fd not removed in lua_socket_connect_complete,1,[],https://github.com/circonus-labs/libmtev/pull/60,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/60#issuecomment-225613125,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,61,2016-06-14T09:26:10Z,2016-06-14T11:52:57Z,2016-06-14T11:52:57Z,MERGED,True,1,0,1,https://github.com/JonasKunze,missing break in mtev_restc_index_func,1,[],https://github.com/circonus-labs/libmtev/pull/61,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/61,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,62,2016-06-16T16:01:28Z,2016-06-16T21:57:26Z,2016-06-16T21:57:44Z,MERGED,True,273,30,4,https://github.com/postwait,Support lua state introspection over http,3,[],https://github.com/circonus-labs/libmtev/pull/62,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/62,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,62,2016-06-16T16:01:28Z,2016-06-16T21:57:26Z,2016-06-16T21:57:44Z,MERGED,True,273,30,4,https://github.com/postwait,Support lua state introspection over http,3,[],https://github.com/circonus-labs/libmtev/pull/62,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/62#issuecomment-226625676,,Looks fine to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,63,2016-06-17T15:18:11Z,2016-06-23T07:59:13Z,2016-06-23T07:59:13Z,CLOSED,False,128,17,3,https://github.com/JonasKunze,a timeout callback may be passed to socket:read used by HttpClient,1,[],https://github.com/circonus-labs/libmtev/pull/63,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/63,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,63,2016-06-17T15:18:11Z,2016-06-23T07:59:13Z,2016-06-23T07:59:13Z,CLOSED,False,128,17,3,https://github.com/JonasKunze,a timeout callback may be passed to socket:read used by HttpClient,1,[],https://github.com/circonus-labs/libmtev/pull/63,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/63#issuecomment-227588571,,Can you put this through another round of testing so you are confident it works the way you anticipated?  The code looks good to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,63,2016-06-17T15:18:11Z,2016-06-23T07:59:13Z,2016-06-23T07:59:13Z,CLOSED,False,128,17,3,https://github.com/JonasKunze,a timeout callback may be passed to socket:read used by HttpClient,1,[],https://github.com/circonus-labs/libmtev/pull/63,https://github.com/JonasKunze,3,https://github.com/circonus-labs/libmtev/pull/63#issuecomment-227671219,,this has already been tested via the unit tests of beaker!,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,63,2016-06-17T15:18:11Z,2016-06-23T07:59:13Z,2016-06-23T07:59:13Z,CLOSED,False,128,17,3,https://github.com/JonasKunze,a timeout callback may be passed to socket:read used by HttpClient,1,[],https://github.com/circonus-labs/libmtev/pull/63,https://github.com/JonasKunze,4,https://github.com/circonus-labs/libmtev/pull/63#issuecomment-227977403,,"Comment from Theo:
the timeout you set is on every read… instead of the request.
which is unintuitive.
I think you want to set the timeout from the start of the do_request… and adjust it for future reads so that you aim at the same timeout deadline.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,64,2016-06-17T19:03:06Z,2016-06-17T19:58:54Z,2016-06-17T19:59:21Z,MERGED,True,32,7,1,https://github.com/postwait,Respond to ERANGE with malloc-driven larger buffers.,1,[],https://github.com/circonus-labs/libmtev/pull/64,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/64,"if it fits, use alloca
if it doesn't fit, find a bigger buffer size with malloc
remember the buffer size so future calls are likely work with alloca","if it fits, use alloca
if it doesn't fit, find a bigger buffer size with malloc
remember the buffer size so future calls are likely work with alloca",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,64,2016-06-17T19:03:06Z,2016-06-17T19:58:54Z,2016-06-17T19:59:21Z,MERGED,True,32,7,1,https://github.com/postwait,Respond to ERANGE with malloc-driven larger buffers.,1,[],https://github.com/circonus-labs/libmtev/pull/64,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/64#issuecomment-226866965,"if it fits, use alloca
if it doesn't fit, find a bigger buffer size with malloc
remember the buffer size so future calls are likely work with alloca",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,65,2016-06-17T22:02:26Z,2016-06-20T14:08:51Z,2016-11-26T16:44:08Z,MERGED,True,12,7,1,https://github.com/postwait,Support C-loaded module names like namespace:foo.,1,[],https://github.com/circonus-labs/libmtev/pull/65,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/65,"namespace:foo will just load ""foo"", but register the whole name.
names should be returned by hash key, not by internal name","namespace:foo will just load ""foo"", but register the whole name.
names should be returned by hash key, not by internal name",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,65,2016-06-17T22:02:26Z,2016-06-20T14:08:51Z,2016-11-26T16:44:08Z,MERGED,True,12,7,1,https://github.com/postwait,Support C-loaded module names like namespace:foo.,1,[],https://github.com/circonus-labs/libmtev/pull/65,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/65#issuecomment-227151293,"namespace:foo will just load ""foo"", but register the whole name.
names should be returned by hash key, not by internal name",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,66,2016-06-20T16:17:41Z,2016-06-20T17:31:48Z,2016-06-20T17:42:43Z,MERGED,True,301,269,1,https://github.com/pamaddox,Thread Safety Fixes To Reverse Socket Code,1,[],https://github.com/circonus-labs/libmtev/pull/66,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/66,"Added reference counts to reverse socket code to avoid use-after-free
issues. Changed a couple of locks to avoid multiple threads accessing
the same code.","Added reference counts to reverse socket code to avoid use-after-free
issues. Changed a couple of locks to avoid multiple threads accessing
the same code.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,66,2016-06-20T16:17:41Z,2016-06-20T17:31:48Z,2016-06-20T17:42:43Z,MERGED,True,301,269,1,https://github.com/pamaddox,Thread Safety Fixes To Reverse Socket Code,1,[],https://github.com/circonus-labs/libmtev/pull/66,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/66#issuecomment-227211898,"Added reference counts to reverse socket code to avoid use-after-free
issues. Changed a couple of locks to avoid multiple threads accessing
the same code.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,67,2016-06-21T14:47:00Z,2016-06-21T15:13:10Z,2016-06-21T15:13:49Z,MERGED,True,6,7,1,https://github.com/pamaddox,Fix Shadowed Argument Bug,2,[],https://github.com/circonus-labs/libmtev/pull/67,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/67,"We were declaring a local version of a variable that was shadowing
another variable, which was causing us to never look at the new value.
Fix this to work properly and change the reverse socket deref stuff to
reflect this fix.","We were declaring a local version of a variable that was shadowing
another variable, which was causing us to never look at the new value.
Fix this to work properly and change the reverse socket deref stuff to
reflect this fix.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,67,2016-06-21T14:47:00Z,2016-06-21T15:13:10Z,2016-06-21T15:13:49Z,MERGED,True,6,7,1,https://github.com/pamaddox,Fix Shadowed Argument Bug,2,[],https://github.com/circonus-labs/libmtev/pull/67,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/67#issuecomment-227471387,"We were declaring a local version of a variable that was shadowing
another variable, which was causing us to never look at the new value.
Fix this to work properly and change the reverse socket deref stuff to
reflect this fix.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,68,2016-06-21T20:22:19Z,2016-06-21T20:40:46Z,2016-06-21T20:42:21Z,MERGED,True,0,1,1,https://github.com/pamaddox,Fix A Busted Reference Count In Eventer SSL Code,1,[],https://github.com/circonus-labs/libmtev/pull/68,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/68,"We were double-decrementing a refcnt, which could lead to undocumented
behavior. Fix it to decrement properly.","We were double-decrementing a refcnt, which could lead to undocumented
behavior. Fix it to decrement properly.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,68,2016-06-21T20:22:19Z,2016-06-21T20:40:46Z,2016-06-21T20:42:21Z,MERGED,True,0,1,1,https://github.com/pamaddox,Fix A Busted Reference Count In Eventer SSL Code,1,[],https://github.com/circonus-labs/libmtev/pull/68,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/68#issuecomment-227562757,"We were double-decrementing a refcnt, which could lead to undocumented
behavior. Fix it to decrement properly.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,69,2016-06-21T21:13:33Z,2016-06-22T16:54:36Z,2016-11-26T16:44:07Z,MERGED,True,13,5,3,https://github.com/postwait,Fix http to respect floated events,1,[],https://github.com/circonus-labs/libmtev/pull/69,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/69,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,69,2016-06-21T21:13:33Z,2016-06-22T16:54:36Z,2016-11-26T16:44:07Z,MERGED,True,13,5,3,https://github.com/postwait,Fix http to respect floated events,1,[],https://github.com/circonus-labs/libmtev/pull/69,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/69#issuecomment-227805602,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,70,2016-06-21T21:53:33Z,2016-06-21T22:05:04Z,2016-06-21T22:05:27Z,CLOSED,False,3,0,1,https://github.com/pamaddox,Disable ECDH,1,[],https://github.com/circonus-labs/libmtev/pull/70,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/70,"Disable ECDH stuff temporarily until we can find the source of an SSL
bug we're seeing.","Disable ECDH stuff temporarily until we can find the source of an SSL
bug we're seeing.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,70,2016-06-21T21:53:33Z,2016-06-21T22:05:04Z,2016-06-21T22:05:27Z,CLOSED,False,3,0,1,https://github.com/pamaddox,Disable ECDH,1,[],https://github.com/circonus-labs/libmtev/pull/70,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/70#issuecomment-227586661,"Disable ECDH stuff temporarily until we can find the source of an SSL
bug we're seeing.","Eh, think that we want to actually fix this rather than just work around. Gonna close this and work on a fix.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,71,2016-06-21T22:09:06Z,2016-06-21T22:10:41Z,2016-06-22T19:18:08Z,MERGED,True,9,10,1,https://github.com/pamaddox,Fix ECDH Order Of Operations Problem,1,[],https://github.com/circonus-labs/libmtev/pull/71,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/71,"Move ECDH to before setting the SSL CTX cache.... we should only do this
at initialization.","Move ECDH to before setting the SSL CTX cache.... we should only do this
at initialization.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,71,2016-06-21T22:09:06Z,2016-06-21T22:10:41Z,2016-06-22T19:18:08Z,MERGED,True,9,10,1,https://github.com/pamaddox,Fix ECDH Order Of Operations Problem,1,[],https://github.com/circonus-labs/libmtev/pull/71,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/71#issuecomment-227587827,"Move ECDH to before setting the SSL CTX cache.... we should only do this
at initialization.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,72,2016-06-22T13:39:07Z,2016-06-22T17:18:48Z,2016-11-26T16:44:06Z,MERGED,True,100,0,3,https://github.com/postwait,support matching against listener configs in REST ACLs,1,[],https://github.com/circonus-labs/libmtev/pull/72,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/72,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,72,2016-06-22T13:39:07Z,2016-06-22T17:18:48Z,2016-11-26T16:44:06Z,MERGED,True,100,0,3,https://github.com/postwait,support matching against listener configs in REST ACLs,1,[],https://github.com/circonus-labs/libmtev/pull/72,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/72#issuecomment-227814320,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,73,2016-06-22T18:27:24Z,2016-06-22T19:16:37Z,2016-06-22T19:17:32Z,MERGED,True,48,26,7,https://github.com/pamaddox,Better Error Handling Before Aborts,5,[],https://github.com/circonus-labs/libmtev/pull/73,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/73,"When we abort, rather than just aborting, log what happens via the new
MTEV_LOG_AND_ABORT() function. This will set the log to synchronous, log
the message, then abort. This will avoid the issue where we queue
something to be written to a log but exit before it flushes.","When we abort, rather than just aborting, log what happens via the new
MTEV_LOG_AND_ABORT() function. This will set the log to synchronous, log
the message, then abort. This will avoid the issue where we queue
something to be written to a log but exit before it flushes.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,73,2016-06-22T18:27:24Z,2016-06-22T19:16:37Z,2016-06-22T19:17:32Z,MERGED,True,48,26,7,https://github.com/pamaddox,Better Error Handling Before Aborts,5,[],https://github.com/circonus-labs/libmtev/pull/73,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/73#issuecomment-227839863,"When we abort, rather than just aborting, log what happens via the new
MTEV_LOG_AND_ABORT() function. This will set the log to synchronous, log
the message, then abort. This will avoid the issue where we queue
something to be written to a log but exit before it flushes.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,73,2016-06-22T18:27:24Z,2016-06-22T19:16:37Z,2016-06-22T19:17:32Z,MERGED,True,48,26,7,https://github.com/pamaddox,Better Error Handling Before Aborts,5,[],https://github.com/circonus-labs/libmtev/pull/73,https://github.com/aidancully,3,https://github.com/circonus-labs/libmtev/pull/73#issuecomment-227848159,"When we abort, rather than just aborting, log what happens via the new
MTEV_LOG_AND_ABORT() function. This will set the log to synchronous, log
the message, then abort. This will avoid the issue where we queue
something to be written to a log but exit before it flushes.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,74,2016-06-22T20:31:08Z,2016-06-22T20:33:06Z,2016-06-23T15:02:42Z,MERGED,True,6,3,1,https://github.com/pamaddox,Log Allocation Failures In inbuff_addlstring,1,[],https://github.com/circonus-labs/libmtev/pull/74,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/74,"Rather that just asserting out, actually log a message with mtevFatal.","Rather that just asserting out, actually log a message with mtevFatal.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,75,2016-06-22T20:37:40Z,2016-06-22T21:18:36Z,2016-11-26T16:41:42Z,CLOSED,False,870,72,24,https://github.com/rileyberton,Websocket support using wslay,12,[],https://github.com/circonus-labs/libmtev/pull/75,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/75,"http://wslay.sourceforge.net/
A bunch of unrelated changes got pulled in because of an accidental rebase from master.
This add support for ""ws://"" and ""wss://"" and ability to write apps that communicate via websockets.  This is layered into the normal mtev_http_rest API and so will degrade to a normal HTTP session if something goes wrong with the websocket.  This also means that it support all the rest authentication that a normal mtev rest app supports.
Currently I am only dispatching to user defined handlers when we receive a complete websocket message.  This might hamstring people who need finer grained control over websocket communication but we can always expose this level of control in a later release.","http://wslay.sourceforge.net/
A bunch of unrelated changes got pulled in because of an accidental rebase from master.
This add support for ""ws://"" and ""wss://"" and ability to write apps that communicate via websockets.  This is layered into the normal mtev_http_rest API and so will degrade to a normal HTTP session if something goes wrong with the websocket.  This also means that it support all the rest authentication that a normal mtev rest app supports.
Currently I am only dispatching to user defined handlers when we receive a complete websocket message.  This might hamstring people who need finer grained control over websocket communication but we can always expose this level of control in a later release.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,75,2016-06-22T20:37:40Z,2016-06-22T21:18:36Z,2016-11-26T16:41:42Z,CLOSED,False,870,72,24,https://github.com/rileyberton,Websocket support using wslay,12,[],https://github.com/circonus-labs/libmtev/pull/75,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/75#issuecomment-227879919,"http://wslay.sourceforge.net/
A bunch of unrelated changes got pulled in because of an accidental rebase from master.
This add support for ""ws://"" and ""wss://"" and ability to write apps that communicate via websockets.  This is layered into the normal mtev_http_rest API and so will degrade to a normal HTTP session if something goes wrong with the websocket.  This also means that it support all the rest authentication that a normal mtev rest app supports.
Currently I am only dispatching to user defined handlers when we receive a complete websocket message.  This might hamstring people who need finer grained control over websocket communication but we can always expose this level of control in a later release.",Closing this to create another branch that cleans up the accidental rebase,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,76,2016-06-22T21:27:34Z,2016-06-30T16:26:37Z,2016-06-30T16:32:46Z,MERGED,True,748,47,14,https://github.com/rileyberton,Websocket support using wslay,10,[],https://github.com/circonus-labs/libmtev/pull/76,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/76,"http://wslay.sourceforge.net/
This add support for ""ws://"" and ""wss://"" and ability to write apps that communicate via websockets. This is layered into the normal mtev_http_rest API and so will degrade to a normal HTTP session if something goes wrong with the websocket. This also means that it support all the rest authentication that a normal mtev rest app supports.
Currently I am only dispatching to user defined handlers when we receive a complete websocket message. This might hamstring people who need finer grained control over websocket communication but we can always expose this level of control in a later release.","http://wslay.sourceforge.net/
This add support for ""ws://"" and ""wss://"" and ability to write apps that communicate via websockets. This is layered into the normal mtev_http_rest API and so will degrade to a normal HTTP session if something goes wrong with the websocket. This also means that it support all the rest authentication that a normal mtev rest app supports.
Currently I am only dispatching to user defined handlers when we receive a complete websocket message. This might hamstring people who need finer grained control over websocket communication but we can always expose this level of control in a later release.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,76,2016-06-22T21:27:34Z,2016-06-30T16:26:37Z,2016-06-30T16:32:46Z,MERGED,True,748,47,14,https://github.com/rileyberton,Websocket support using wslay,10,[],https://github.com/circonus-labs/libmtev/pull/76,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/76#issuecomment-229711829,"http://wslay.sourceforge.net/
This add support for ""ws://"" and ""wss://"" and ability to write apps that communicate via websockets. This is layered into the normal mtev_http_rest API and so will degrade to a normal HTTP session if something goes wrong with the websocket. This also means that it support all the rest authentication that a normal mtev rest app supports.
Currently I am only dispatching to user defined handlers when we receive a complete websocket message. This might hamstring people who need finer grained control over websocket communication but we can always expose this level of control in a later release.",+1,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,77,2016-06-23T13:07:30Z,2016-06-29T16:29:44Z,2016-06-29T16:29:44Z,MERGED,True,143,17,3,https://github.com/JonasKunze,a timeout callback may be passed to socket:read used by HttpClient,2,[],https://github.com/circonus-labs/libmtev/pull/77,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/77,"e.timeout now as double
registering timeout events so that they are cleaned up when a coro is canceled
HttpClient timeout counts for a request instead of a read call","e.timeout now as double
registering timeout events so that they are cleaned up when a coro is canceled
HttpClient timeout counts for a request instead of a read call",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,78,2016-06-23T18:17:05Z,2016-06-23T21:39:00Z,2016-06-23T21:39:25Z,MERGED,True,195,213,36,https://github.com/pamaddox,"Replace ""assert"" Calls With ""mtevAssert""",5,[],https://github.com/circonus-labs/libmtev/pull/78,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/78,"Add a custom call, ""mtevAssert"", that will replace normal assert calls.
This will log the error to mtevError, flush the log, then abort.
In addition, this makes it much easier if we wish to add other prints or
information to the logging when we need to assert.","Add a custom call, ""mtevAssert"", that will replace normal assert calls.
This will log the error to mtevError, flush the log, then abort.
In addition, this makes it much easier if we wish to add other prints or
information to the logging when we need to assert.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,78,2016-06-23T18:17:05Z,2016-06-23T21:39:00Z,2016-06-23T21:39:25Z,MERGED,True,195,213,36,https://github.com/pamaddox,"Replace ""assert"" Calls With ""mtevAssert""",5,[],https://github.com/circonus-labs/libmtev/pull/78,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/78#issuecomment-228192358,"Add a custom call, ""mtevAssert"", that will replace normal assert calls.
This will log the error to mtevError, flush the log, then abort.
In addition, this makes it much easier if we wish to add other prints or
information to the logging when we need to assert.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,79,2016-06-23T21:48:33Z,2016-06-23T21:49:25Z,2016-06-23T21:49:43Z,MERGED,True,1,0,1,https://github.com/pamaddox,Add Error Message If NDEBUG Is Defined,1,[],https://github.com/circonus-labs/libmtev/pull/79,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/79,"If NDEBUG is defined, add an #error that audit of mtevAssert is
required.","If NDEBUG is defined, add an #error that audit of mtevAssert is
required.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,79,2016-06-23T21:48:33Z,2016-06-23T21:49:25Z,2016-06-23T21:49:43Z,MERGED,True,1,0,1,https://github.com/pamaddox,Add Error Message If NDEBUG Is Defined,1,[],https://github.com/circonus-labs/libmtev/pull/79,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/79#issuecomment-228195161,"If NDEBUG is defined, add an #error that audit of mtevAssert is
required.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,80,2016-06-24T14:40:47Z,2016-06-24T14:42:27Z,2016-06-24T14:42:35Z,MERGED,True,12,2,1,https://github.com/aidancully,more detail on some eventer_epoll assertion failures.,1,[],https://github.com/circonus-labs/libmtev/pull/80,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/80,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,80,2016-06-24T14:40:47Z,2016-06-24T14:42:27Z,2016-06-24T14:42:35Z,MERGED,True,12,2,1,https://github.com/aidancully,more detail on some eventer_epoll assertion failures.,1,[],https://github.com/circonus-labs/libmtev/pull/80,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/80#issuecomment-228364662,,Looks fine,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,81,2016-06-24T15:56:51Z,2016-06-24T16:28:48Z,2016-06-24T16:28:48Z,MERGED,True,5,2,1,https://github.com/aidancully,add fd back to spec->epoll_fd when doing implicit eventer_add during …,2,[],https://github.com/circonus-labs/libmtev/pull/81,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/81,"…eventer_trigger.
seems to fix case where we hit an assertion that EPOLL_CTL_MOD failed due
to the fd not being associated to the epoll_fd.","…eventer_trigger.
seems to fix case where we hit an assertion that EPOLL_CTL_MOD failed due
to the fd not being associated to the epoll_fd.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,81,2016-06-24T15:56:51Z,2016-06-24T16:28:48Z,2016-06-24T16:28:48Z,MERGED,True,5,2,1,https://github.com/aidancully,add fd back to spec->epoll_fd when doing implicit eventer_add during …,2,[],https://github.com/circonus-labs/libmtev/pull/81,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/81#issuecomment-228385416,"…eventer_trigger.
seems to fix case where we hit an assertion that EPOLL_CTL_MOD failed due
to the fd not being associated to the epoll_fd.",I dont think we should act there. We should act where we mod and choose to add when appropriate,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,81,2016-06-24T15:56:51Z,2016-06-24T16:28:48Z,2016-06-24T16:28:48Z,MERGED,True,5,2,1,https://github.com/aidancully,add fd back to spec->epoll_fd when doing implicit eventer_add during …,2,[],https://github.com/circonus-labs/libmtev/pull/81,https://github.com/aidancully,3,https://github.com/circonus-labs/libmtev/pull/81#issuecomment-228386101,"…eventer_trigger.
seems to fix case where we hit an assertion that EPOLL_CTL_MOD failed due
to the fd not being associated to the epoll_fd.","OK, that occurred to me, too... The logic seemed more difficult, since we'd need to either ADD instead of MOD, or do nothing instead of DEL... but I can take that approach if you prefer.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,82,2016-06-29T04:41:05Z,2016-06-29T14:03:04Z,2016-11-26T16:44:20Z,MERGED,True,90,9,6,https://github.com/postwait,Support loggers in modules and use fq as an example.,1,[],https://github.com/circonus-labs/libmtev/pull/82,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/82,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,82,2016-06-29T04:41:05Z,2016-06-29T14:03:04Z,2016-11-26T16:44:20Z,MERGED,True,90,9,6,https://github.com/postwait,Support loggers in modules and use fq as an example.,1,[],https://github.com/circonus-labs/libmtev/pull/82,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/82#issuecomment-229354364,,This looks OK to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,83,2016-06-29T15:19:50Z,2016-06-29T16:31:44Z,2016-06-29T16:31:44Z,MERGED,True,19,10,3,https://github.com/esproul,Add FQ-modules-only install target,2,[],https://github.com/circonus-labs/libmtev/pull/83,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/83,"Facilitates packaging, where we want to deliver the optional FQ
modules separately. Only one change is present for default builds:
mtev_fq.h is no longer installed unless we are building with
FQ support. This header is useless without fq.so anyway.
As part of this fix we disambiguate the Lua-related modules to reduce
confusion. There is one module that provides Lua functionality to
libmtev apps (LUA4MTEV) and one that provides libmtev functionality to
Lua apps (MTEV4LUA).
Also fixed is a bug with cleaning where we were not cleaning up in the
src/modules directory.","Facilitates packaging, where we want to deliver the optional FQ
modules separately. Only one change is present for default builds:
mtev_fq.h is no longer installed unless we are building with
FQ support. This header is useless without fq.so anyway.
As part of this fix we disambiguate the Lua-related modules to reduce
confusion. There is one module that provides Lua functionality to
libmtev apps (LUA4MTEV) and one that provides libmtev functionality to
Lua apps (MTEV4LUA).
Also fixed is a bug with cleaning where we were not cleaning up in the
src/modules directory.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,84,2016-06-30T14:56:04Z,2016-07-05T16:15:19Z,2016-07-05T16:15:19Z,MERGED,True,33,32,1,https://github.com/esproul,Add 2048-bit DH params support,4,[],https://github.com/circonus-labs/libmtev/pull/84,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/84,"Removes 512-bit DH params, which are now considered insecure.
Use the strongest params available for new connections.
Add some logging around params loading and generating.","Removes 512-bit DH params, which are now considered insecure.
Use the strongest params available for new connections.
Add some logging around params loading and generating.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,84,2016-06-30T14:56:04Z,2016-07-05T16:15:19Z,2016-07-05T16:15:19Z,MERGED,True,33,32,1,https://github.com/esproul,Add 2048-bit DH params support,4,[],https://github.com/circonus-labs/libmtev/pull/84,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/84#issuecomment-229685918,"Removes 512-bit DH params, which are now considered insecure.
Use the strongest params available for new connections.
Add some logging around params loading and generating.",I don't see many error messages. But they are labeled as mtev_error... they should be eventer debug directed.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,84,2016-06-30T14:56:04Z,2016-07-05T16:15:19Z,2016-07-05T16:15:19Z,MERGED,True,33,32,1,https://github.com/esproul,Add 2048-bit DH params support,4,[],https://github.com/circonus-labs/libmtev/pull/84,https://github.com/esproul,3,https://github.com/circonus-labs/libmtev/pull/84#issuecomment-229687462,"Removes 512-bit DH params, which are now considered insecure.
Use the strongest params available for new connections.
Add some logging around params loading and generating.","I wanted visibility into DH param loading/generation in the default logs, and eventer debug is of course turned off by default.  I feel operators should not have to run in debug to see the timing of generation and/or whether params are being loaded from a file.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,84,2016-06-30T14:56:04Z,2016-07-05T16:15:19Z,2016-07-05T16:15:19Z,MERGED,True,33,32,1,https://github.com/esproul,Add 2048-bit DH params support,4,[],https://github.com/circonus-labs/libmtev/pull/84,https://github.com/postwait,4,https://github.com/circonus-labs/libmtev/pull/84#issuecomment-229996923,"Removes 512-bit DH params, which are now considered insecure.
Use the strongest params available for new connections.
Add some logging around params loading and generating.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,85,2016-07-01T17:45:02Z,2016-07-05T18:01:16Z,2016-07-05T18:02:35Z,MERGED,True,5,3,1,https://github.com/aidancully,mtev_http_session_req_consume shouldn't return 0 when it starts readi…,1,[],https://github.com/circonus-labs/libmtev/pull/85,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/85,"…ng an empty bchain buffer.
mtev_http_request_finalize can sometimes leave an empty bchain
buffer as the only buffer on the bchain. It had been the case
that mtev_http_session_req_consume would, in this case, return 0,
but better to actually try another non-blocking read, instead.","…ng an empty bchain buffer.
mtev_http_request_finalize can sometimes leave an empty bchain
buffer as the only buffer on the bchain. It had been the case
that mtev_http_session_req_consume would, in this case, return 0,
but better to actually try another non-blocking read, instead.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,85,2016-07-01T17:45:02Z,2016-07-05T18:01:16Z,2016-07-05T18:02:35Z,MERGED,True,5,3,1,https://github.com/aidancully,mtev_http_session_req_consume shouldn't return 0 when it starts readi…,1,[],https://github.com/circonus-labs/libmtev/pull/85,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/85#issuecomment-230007716,"…ng an empty bchain buffer.
mtev_http_request_finalize can sometimes leave an empty bchain
buffer as the only buffer on the bchain. It had been the case
that mtev_http_session_req_consume would, in this case, return 0,
but better to actually try another non-blocking read, instead.",Looks fine to me.,True,{'THUMBS_UP': ['https://github.com/postwait']}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,86,2016-07-06T21:35:32Z,2016-07-06T21:42:38Z,2016-07-06T21:42:44Z,MERGED,True,1,1,1,https://github.com/aidancully,release http context as soon as we detect a socket error.,1,[],https://github.com/circonus-labs/libmtev/pull/86,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/86,"Existing code would possibly perform websockets check after the
file-descriptor for an HTTP connection was closed. Better to
just free the connection structure immediately when an error is
detected.","Existing code would possibly perform websockets check after the
file-descriptor for an HTTP connection was closed. Better to
just free the connection structure immediately when an error is
detected.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,86,2016-07-06T21:35:32Z,2016-07-06T21:42:38Z,2016-07-06T21:42:44Z,MERGED,True,1,1,1,https://github.com/aidancully,release http context as soon as we detect a socket error.,1,[],https://github.com/circonus-labs/libmtev/pull/86,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/86#issuecomment-230915807,"Existing code would possibly perform websockets check after the
file-descriptor for an HTTP connection was closed. Better to
just free the connection structure immediately when an error is
detected.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,87,2016-07-07T13:41:09Z,2016-07-20T13:20:17Z,2016-07-20T13:20:17Z,MERGED,True,238,0,1,https://github.com/JonasKunze,Lua interstate communication,2,[],https://github.com/circonus-labs/libmtev/pull/87,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/87,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,87,2016-07-07T13:41:09Z,2016-07-20T13:20:17Z,2016-07-20T13:20:17Z,MERGED,True,238,0,1,https://github.com/JonasKunze,Lua interstate communication,2,[],https://github.com/circonus-labs/libmtev/pull/87,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/87#issuecomment-233946361,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,88,2016-07-07T15:49:05Z,2016-07-07T16:17:45Z,2016-07-07T17:03:18Z,MERGED,True,196,1,5,https://github.com/rileyberton,fix SPMC in mtev_hash,2,[],https://github.com/circonus-labs/libmtev/pull/88,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/88,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,88,2016-07-07T15:49:05Z,2016-07-07T16:17:45Z,2016-07-07T17:03:18Z,MERGED,True,196,1,5,https://github.com/rileyberton,fix SPMC in mtev_hash,2,[],https://github.com/circonus-labs/libmtev/pull/88,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/88#issuecomment-231125599,,Looks good to me.  Do any of the other c tests set examples for output?  Tap perhaps?,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,88,2016-07-07T15:49:05Z,2016-07-07T16:17:45Z,2016-07-07T17:03:18Z,MERGED,True,196,1,5,https://github.com/rileyberton,fix SPMC in mtev_hash,2,[],https://github.com/circonus-labs/libmtev/pull/88,https://github.com/rileyberton,3,https://github.com/circonus-labs/libmtev/pull/88#issuecomment-231126894,,I don't believe there are any other C tests in mtev at the moment.  they are all lua.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,89,2016-07-07T18:07:52Z,2016-07-07T19:46:36Z,2016-07-07T19:46:40Z,MERGED,True,73,49,3,https://github.com/rileyberton,maintain ABI compatibility by sneaking a pointer into cacheline space…,4,[],https://github.com/circonus-labs/libmtev/pull/89,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/89,….. take away my license,….. take away my license,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,89,2016-07-07T18:07:52Z,2016-07-07T19:46:36Z,2016-07-07T19:46:40Z,MERGED,True,73,49,3,https://github.com/rileyberton,maintain ABI compatibility by sneaking a pointer into cacheline space…,4,[],https://github.com/circonus-labs/libmtev/pull/89,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/89#issuecomment-231166270,….. take away my license,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,89,2016-07-07T18:07:52Z,2016-07-07T19:46:36Z,2016-07-07T19:46:40Z,MERGED,True,73,49,3,https://github.com/rileyberton,maintain ABI compatibility by sneaking a pointer into cacheline space…,4,[],https://github.com/circonus-labs/libmtev/pull/89,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/89#issuecomment-231184822,….. take away my license,Looks good.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,90,2016-07-11T15:34:45Z,2016-07-12T20:33:47Z,2016-07-20T17:07:04Z,MERGED,True,6,6,1,https://github.com/JonasKunze,Bugfix: wrong parameter check in mtev.readdir,1,[],https://github.com/circonus-labs/libmtev/pull/90,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/90,"mtev:readdir(dir, [filter]) makes 2 or 3 parameters. So far the test was weird anyway (<1 ==> <2)","mtev:readdir(dir, [filter]) makes 2 or 3 parameters. So far the test was weird anyway (<1 ==> <2)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,90,2016-07-11T15:34:45Z,2016-07-12T20:33:47Z,2016-07-20T17:07:04Z,MERGED,True,6,6,1,https://github.com/JonasKunze,Bugfix: wrong parameter check in mtev.readdir,1,[],https://github.com/circonus-labs/libmtev/pull/90,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/90#issuecomment-231821228,"mtev:readdir(dir, [filter]) makes 2 or 3 parameters. So far the test was weird anyway (<1 ==> <2)","LGTM, but hold off on merge",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,90,2016-07-11T15:34:45Z,2016-07-12T20:33:47Z,2016-07-20T17:07:04Z,MERGED,True,6,6,1,https://github.com/JonasKunze,Bugfix: wrong parameter check in mtev.readdir,1,[],https://github.com/circonus-labs/libmtev/pull/90,https://github.com/pamaddox,3,https://github.com/circonus-labs/libmtev/pull/90#issuecomment-232171551,"mtev:readdir(dir, [filter]) makes 2 or 3 parameters. So far the test was weird anyway (<1 ==> <2)",This looks fine. I'm going to go ahead and merge it.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,91,2016-07-13T20:52:03Z,2016-07-13T21:11:24Z,2016-07-13T21:11:34Z,MERGED,True,141,27,27,https://github.com/pamaddox,Explicitly Initialize Mtev Hash Structures,1,[],https://github.com/circonus-labs/libmtev/pull/91,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/91,"Rather than setting them with MTEV_HASH_EMPTY, explcitly call
mtev_hash_init to initialize hash tables.","Rather than setting them with MTEV_HASH_EMPTY, explcitly call
mtev_hash_init to initialize hash tables.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,91,2016-07-13T20:52:03Z,2016-07-13T21:11:24Z,2016-07-13T21:11:34Z,MERGED,True,141,27,27,https://github.com/pamaddox,Explicitly Initialize Mtev Hash Structures,1,[],https://github.com/circonus-labs/libmtev/pull/91,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/91#issuecomment-232487745,"Rather than setting them with MTEV_HASH_EMPTY, explcitly call
mtev_hash_init to initialize hash tables.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,92,2016-07-14T19:43:35Z,2016-07-14T19:45:22Z,2016-07-14T19:45:24Z,MERGED,True,1,0,1,https://github.com/pamaddox,Add Hash Init That Was Missing,1,[],https://github.com/circonus-labs/libmtev/pull/92,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/92,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,92,2016-07-14T19:43:35Z,2016-07-14T19:45:22Z,2016-07-14T19:45:24Z,MERGED,True,1,0,1,https://github.com/pamaddox,Add Hash Init That Was Missing,1,[],https://github.com/circonus-labs/libmtev/pull/92,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/92#issuecomment-232771324,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,93,2016-07-14T20:02:56Z,2016-07-14T20:06:35Z,2016-07-14T20:06:40Z,MERGED,True,6,2,1,https://github.com/pamaddox,Init Hashes In Mtev Reverse Socket Code,2,[],https://github.com/circonus-labs/libmtev/pull/93,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/93,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,93,2016-07-14T20:02:56Z,2016-07-14T20:06:35Z,2016-07-14T20:06:40Z,MERGED,True,6,2,1,https://github.com/pamaddox,Init Hashes In Mtev Reverse Socket Code,2,[],https://github.com/circonus-labs/libmtev/pull/93,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/93#issuecomment-232776658,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,94,2016-07-15T18:34:07Z,2016-07-18T16:07:00Z,2016-07-18T16:07:04Z,MERGED,True,41,8,1,https://github.com/pamaddox,Log When We Init Hashes In Failure Case,1,[],https://github.com/circonus-labs/libmtev/pull/94,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/94,"If we try to use a hash function on an uninitialized hash table, log a
failure (including a stack trace), then initialize it. The idea is to
eventually require hashes to be initialized before use - this will aid
in the transition.","If we try to use a hash function on an uninitialized hash table, log a
failure (including a stack trace), then initialize it. The idea is to
eventually require hashes to be initialized before use - this will aid
in the transition.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,94,2016-07-15T18:34:07Z,2016-07-18T16:07:00Z,2016-07-18T16:07:04Z,MERGED,True,41,8,1,https://github.com/pamaddox,Log When We Init Hashes In Failure Case,1,[],https://github.com/circonus-labs/libmtev/pull/94,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/94#issuecomment-233033991,"If we try to use a hash function on an uninitialized hash table, log a
failure (including a stack trace), then initialize it. The idea is to
eventually require hashes to be initialized before use - this will aid
in the transition.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,95,2016-07-15T20:25:30Z,2016-07-20T15:25:39Z,2016-07-20T15:25:42Z,MERGED,True,40,25,1,https://github.com/aidancully,improve error reporting when the HTTP download exceeds the read_limit.,1,[],https://github.com/circonus-labs/libmtev/pull/95,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/95,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,95,2016-07-15T20:25:30Z,2016-07-20T15:25:39Z,2016-07-20T15:25:42Z,MERGED,True,40,25,1,https://github.com/aidancully,improve error reporting when the HTTP download exceeds the read_limit.,1,[],https://github.com/circonus-labs/libmtev/pull/95,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/95#issuecomment-233069618,,"I should point out, I'm not at all sure that those are the best error messages to return, and would like to hear if someone has opinions about what error text would be better.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,95,2016-07-15T20:25:30Z,2016-07-20T15:25:39Z,2016-07-20T15:25:42Z,MERGED,True,40,25,1,https://github.com/aidancully,improve error reporting when the HTTP download exceeds the read_limit.,1,[],https://github.com/circonus-labs/libmtev/pull/95,https://github.com/pamaddox,3,https://github.com/circonus-labs/libmtev/pull/95#issuecomment-233375986,,This looks fine to me. I don't have any objections to the error messages being returned here.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,95,2016-07-15T20:25:30Z,2016-07-20T15:25:39Z,2016-07-20T15:25:42Z,MERGED,True,40,25,1,https://github.com/aidancully,improve error reporting when the HTTP download exceeds the read_limit.,1,[],https://github.com/circonus-labs/libmtev/pull/95,https://github.com/rileyberton,4,https://github.com/circonus-labs/libmtev/pull/95#issuecomment-233955302,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,96,2016-07-18T17:47:14Z,2016-07-18T17:51:56Z,2016-07-18T17:52:28Z,MERGED,True,4,6,1,https://github.com/pamaddox,Attempt To Print Stack Dumps In Linux,1,[],https://github.com/circonus-labs/libmtev/pull/96,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/96,"Attempt to retrieve and print stacktraces in Linux in mtev_stacktrace
code. Also change wording in messages to print ""stacktrace"" instead of
""backtrace"".","Attempt to retrieve and print stacktraces in Linux in mtev_stacktrace
code. Also change wording in messages to print ""stacktrace"" instead of
""backtrace"".",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,96,2016-07-18T17:47:14Z,2016-07-18T17:51:56Z,2016-07-18T17:52:28Z,MERGED,True,4,6,1,https://github.com/pamaddox,Attempt To Print Stack Dumps In Linux,1,[],https://github.com/circonus-labs/libmtev/pull/96,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/96#issuecomment-233404949,"Attempt to retrieve and print stacktraces in Linux in mtev_stacktrace
code. Also change wording in messages to print ""stacktrace"" instead of
""backtrace"".",lgtm,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,97,2016-07-18T19:24:49Z,2016-07-18T19:46:31Z,2016-07-18T19:47:03Z,MERGED,True,18,0,1,https://github.com/pamaddox,Reinitialize Response Hash If Freed,2,[],https://github.com/circonus-labs/libmtev/pull/97,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/97,"If we've freed the response hash table, we need to reinitialize it so we
don't attempt to use a freed hash table.
Long term, this code likely needs to be refactored to avoid this
condition at all; this is a band-aid.","If we've freed the response hash table, we need to reinitialize it so we
don't attempt to use a freed hash table.
Long term, this code likely needs to be refactored to avoid this
condition at all; this is a band-aid.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,97,2016-07-18T19:24:49Z,2016-07-18T19:46:31Z,2016-07-18T19:47:03Z,MERGED,True,18,0,1,https://github.com/pamaddox,Reinitialize Response Hash If Freed,2,[],https://github.com/circonus-labs/libmtev/pull/97,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/97#issuecomment-233437174,"If we've freed the response hash table, we need to reinitialize it so we
don't attempt to use a freed hash table.
Long term, this code likely needs to be refactored to avoid this
condition at all; this is a band-aid.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,98,2016-07-18T20:20:36Z,2016-07-18T20:21:58Z,2016-07-18T20:22:24Z,MERGED,True,10,0,1,https://github.com/pamaddox,Reallocate Request Hashes If Reused,1,[],https://github.com/circonus-labs/libmtev/pull/98,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/98,Much like requests - reallocate hashes if we've already freed them.,Much like requests - reallocate hashes if we've already freed them.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,98,2016-07-18T20:20:36Z,2016-07-18T20:21:58Z,2016-07-18T20:22:24Z,MERGED,True,10,0,1,https://github.com/pamaddox,Reallocate Request Hashes If Reused,1,[],https://github.com/circonus-labs/libmtev/pull/98,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/98#issuecomment-233446520,Much like requests - reallocate hashes if we've already freed them.,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,99,2016-07-19T16:32:49Z,2016-07-20T14:15:23Z,2016-07-20T14:15:23Z,MERGED,True,8,3,2,https://github.com/esproul,Set SONAME to major.minor,1,[],https://github.com/circonus-labs/libmtev/pull/99,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/99,"This eases patch-level, bugfix updates by getting dependent
applications to depend only on major.minor as the library filename.","This eases patch-level, bugfix updates by getting dependent
applications to depend only on major.minor as the library filename.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,99,2016-07-19T16:32:49Z,2016-07-20T14:15:23Z,2016-07-20T14:15:23Z,MERGED,True,8,3,2,https://github.com/esproul,Set SONAME to major.minor,1,[],https://github.com/circonus-labs/libmtev/pull/99,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/99#issuecomment-233691182,"This eases patch-level, bugfix updates by getting dependent
applications to depend only on major.minor as the library filename.","Tested that SONAME is correct:
$ elfdump -d /tmp/soname_test/opt/circonus/lib/amd64/libmtev.so.0.0.6 | grep SONAME
      [24]  SONAME            0xacc0              libmtev.so.0.0

and that an application built against it looks for the correct file:
    trying path=/opt/circonus/lib/amd64/libmtev.so.0.0
        libmtev.so.0.0 =>        /opt/circonus/lib/amd64/libmtev.so.0.0",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,99,2016-07-19T16:32:49Z,2016-07-20T14:15:23Z,2016-07-20T14:15:23Z,MERGED,True,8,3,2,https://github.com/esproul,Set SONAME to major.minor,1,[],https://github.com/circonus-labs/libmtev/pull/99,https://github.com/rileyberton,3,https://github.com/circonus-labs/libmtev/pull/99#issuecomment-233954435,"This eases patch-level, bugfix updates by getting dependent
applications to depend only on major.minor as the library filename.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,99,2016-07-19T16:32:49Z,2016-07-20T14:15:23Z,2016-07-20T14:15:23Z,MERGED,True,8,3,2,https://github.com/esproul,Set SONAME to major.minor,1,[],https://github.com/circonus-labs/libmtev/pull/99,https://github.com/pamaddox,4,https://github.com/circonus-labs/libmtev/pull/99#issuecomment-233959044,"This eases patch-level, bugfix updates by getting dependent
applications to depend only on major.minor as the library filename.",Looks fine to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,100,2016-07-19T16:35:20Z,2016-07-19T17:03:40Z,2016-07-20T13:56:16Z,MERGED,True,2,0,2,https://github.com/JonasKunze,initializing lmc->pending,1,[],https://github.com/circonus-labs/libmtev/pull/100,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/100,without that I got flooded by warning: null hashtable in mtev_hash_store... initializing,without that I got flooded by warning: null hashtable in mtev_hash_store... initializing,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,100,2016-07-19T16:35:20Z,2016-07-19T17:03:40Z,2016-07-20T13:56:16Z,MERGED,True,2,0,2,https://github.com/JonasKunze,initializing lmc->pending,1,[],https://github.com/circonus-labs/libmtev/pull/100,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/100#issuecomment-233699194,without that I got flooded by warning: null hashtable in mtev_hash_store... initializing,Looks fine to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,101,2016-07-19T19:54:36Z,2016-07-19T19:58:32Z,2016-07-19T19:58:35Z,MERGED,True,1,0,1,https://github.com/pamaddox,Init Telnet _env Hash Table,1,[],https://github.com/circonus-labs/libmtev/pull/101,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/101,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,101,2016-07-19T19:54:36Z,2016-07-19T19:58:32Z,2016-07-19T19:58:35Z,MERGED,True,1,0,1,https://github.com/pamaddox,Init Telnet _env Hash Table,1,[],https://github.com/circonus-labs/libmtev/pull/101,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/101#issuecomment-233747365,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,102,2016-07-20T13:26:31Z,2016-07-20T13:51:27Z,2016-07-20T13:51:27Z,MERGED,True,7,0,1,https://github.com/JonasKunze,Implemented mtev.watchdog_child_heartbeat() for lua,1,[],https://github.com/circonus-labs/libmtev/pull/102,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/102,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,102,2016-07-20T13:26:31Z,2016-07-20T13:51:27Z,2016-07-20T13:51:27Z,MERGED,True,7,0,1,https://github.com/JonasKunze,Implemented mtev.watchdog_child_heartbeat() for lua,1,[],https://github.com/circonus-labs/libmtev/pull/102,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/102#issuecomment-233954172,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,103,2016-07-20T13:38:59Z,2016-07-20T13:51:18Z,2016-07-20T13:55:52Z,MERGED,True,9,2,1,https://github.com/JonasKunze,Locking access to shared_table hash,1,[],https://github.com/circonus-labs/libmtev/pull/103,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/103,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,103,2016-07-20T13:38:59Z,2016-07-20T13:51:18Z,2016-07-20T13:55:52Z,MERGED,True,9,2,1,https://github.com/JonasKunze,Locking access to shared_table hash,1,[],https://github.com/circonus-labs/libmtev/pull/103,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/103#issuecomment-233954048,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,104,2016-07-20T17:02:01Z,2016-07-20T17:05:21Z,2016-07-20T17:05:21Z,MERGED,True,1,0,1,https://github.com/JonasKunze,Fixed warning 'implicit declaration of function ‘mtev_watchdog_child_…,1,[],https://github.com/circonus-labs/libmtev/pull/104,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/104,…heartbeat’',…heartbeat’',True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,104,2016-07-20T17:02:01Z,2016-07-20T17:05:21Z,2016-07-20T17:05:21Z,MERGED,True,1,0,1,https://github.com/JonasKunze,Fixed warning 'implicit declaration of function ‘mtev_watchdog_child_…,1,[],https://github.com/circonus-labs/libmtev/pull/104,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/104#issuecomment-234013265,…heartbeat’',Looks fine to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,105,2016-07-20T19:00:57Z,2016-07-20T19:05:19Z,2016-08-16T08:00:54Z,MERGED,True,123,0,1,https://github.com/JonasKunze,Implemented mtev.cluster_handle_node_update_hook,1,[],https://github.com/circonus-labs/libmtev/pull/105,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/105,"Added two functions to the lua mtev object to access cluster specific information:
cluster_handle_node_update_hook_register (called every time the cluster has changed)
cluster_am_i_oldest_node (check if the given node is currently the oldest on in the cluster)","Added two functions to the lua mtev object to access cluster specific information:
cluster_handle_node_update_hook_register (called every time the cluster has changed)
cluster_am_i_oldest_node (check if the given node is currently the oldest on in the cluster)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,105,2016-07-20T19:00:57Z,2016-07-20T19:05:19Z,2016-08-16T08:00:54Z,MERGED,True,123,0,1,https://github.com/JonasKunze,Implemented mtev.cluster_handle_node_update_hook,1,[],https://github.com/circonus-labs/libmtev/pull/105,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/105#issuecomment-234048796,"Added two functions to the lua mtev object to access cluster specific information:
cluster_handle_node_update_hook_register (called every time the cluster has changed)
cluster_am_i_oldest_node (check if the given node is currently the oldest on in the cluster)",Looks good to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,105,2016-07-20T19:00:57Z,2016-07-20T19:05:19Z,2016-08-16T08:00:54Z,MERGED,True,123,0,1,https://github.com/JonasKunze,Implemented mtev.cluster_handle_node_update_hook,1,[],https://github.com/circonus-labs/libmtev/pull/105,https://github.com/JonasKunze,3,https://github.com/circonus-labs/libmtev/pull/105#issuecomment-234049199,"Added two functions to the lua mtev object to access cluster specific information:
cluster_handle_node_update_hook_register (called every time the cluster has changed)
cluster_am_i_oldest_node (check if the given node is currently the oldest on in the cluster)","wow, that was quick! thx!",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,106,2016-07-20T19:33:18Z,2016-07-20T19:35:44Z,2016-07-20T19:35:46Z,MERGED,True,4,0,1,https://github.com/pamaddox,Assert Threads Are Equal For mtev_lua_on_cluster_node_updated,1,[],https://github.com/circonus-labs/libmtev/pull/106,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/106,"Add a pthread_t ""self"" to lua_callback_ref, set it to pthread_self() in
nl_cluster_handle_node_update_hook_register, then confirm that it's the
same in the callback (currently only mtev_lua_on_cluster_node_updated).","Add a pthread_t ""self"" to lua_callback_ref, set it to pthread_self() in
nl_cluster_handle_node_update_hook_register, then confirm that it's the
same in the callback (currently only mtev_lua_on_cluster_node_updated).",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,106,2016-07-20T19:33:18Z,2016-07-20T19:35:44Z,2016-07-20T19:35:46Z,MERGED,True,4,0,1,https://github.com/pamaddox,Assert Threads Are Equal For mtev_lua_on_cluster_node_updated,1,[],https://github.com/circonus-labs/libmtev/pull/106,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/106#issuecomment-234057401,"Add a pthread_t ""self"" to lua_callback_ref, set it to pthread_self() in
nl_cluster_handle_node_update_hook_register, then confirm that it's the
same in the callback (currently only mtev_lua_on_cluster_node_updated).",👍,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,107,2016-07-21T13:23:58Z,2016-07-21T13:29:29Z,2016-11-26T16:44:18Z,MERGED,True,30,10,2,https://github.com/postwait,Support mtev programs that avoid mtev_main and still need init_globals.,1,[],https://github.com/circonus-labs/libmtev/pull/107,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/107,"Make mtev_init_globals non-static.
Make it callable multiple times safely.
Make it called in the .init section if libmtev is linked shared.","Make mtev_init_globals non-static.
Make it callable multiple times safely.
Make it called in the .init section if libmtev is linked shared.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,107,2016-07-21T13:23:58Z,2016-07-21T13:29:29Z,2016-11-26T16:44:18Z,MERGED,True,30,10,2,https://github.com/postwait,Support mtev programs that avoid mtev_main and still need init_globals.,1,[],https://github.com/circonus-labs/libmtev/pull/107,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/107#issuecomment-234252702,"Make mtev_init_globals non-static.
Make it callable multiple times safely.
Make it called in the .init section if libmtev is linked shared.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,108,2016-07-21T13:37:02Z,2016-07-22T09:45:35Z,2016-07-22T09:45:35Z,MERGED,True,97,108,3,https://github.com/JonasKunze,Implemented mtev.cluster_details,3,[],https://github.com/circonus-labs/libmtev/pull/108,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/108,Replaced cluster_handle_node_update_hook_register and cluster_am_i_oldest_node with cluster_details and cluster_get_self,Replaced cluster_handle_node_update_hook_register and cluster_am_i_oldest_node with cluster_details and cluster_get_self,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,108,2016-07-21T13:37:02Z,2016-07-22T09:45:35Z,2016-07-22T09:45:35Z,MERGED,True,97,108,3,https://github.com/JonasKunze,Implemented mtev.cluster_details,3,[],https://github.com/circonus-labs/libmtev/pull/108,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/108#issuecomment-234267787,Replaced cluster_handle_node_update_hook_register and cluster_am_i_oldest_node with cluster_details and cluster_get_self,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,109,2016-07-21T19:33:14Z,2016-07-21T19:52:30Z,2016-07-21T19:52:32Z,MERGED,True,16,20,12,https://github.com/pamaddox,Add Locking To Certain Hash Tables,3,[],https://github.com/circonus-labs/libmtev/pull/109,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/109,"Did an audit to initialize certain hash tables as locking. I didn't mess
with any tables that manually have locks around them, and I tried to be
conservative with initializing the locks so that we don't lock
unnecessarily - this may require tweaking at a later point, but this is
a good start.","Did an audit to initialize certain hash tables as locking. I didn't mess
with any tables that manually have locks around them, and I tried to be
conservative with initializing the locks so that we don't lock
unnecessarily - this may require tweaking at a later point, but this is
a good start.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,109,2016-07-21T19:33:14Z,2016-07-21T19:52:30Z,2016-07-21T19:52:32Z,MERGED,True,16,20,12,https://github.com/pamaddox,Add Locking To Certain Hash Tables,3,[],https://github.com/circonus-labs/libmtev/pull/109,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/109#issuecomment-234360356,"Did an audit to initialize certain hash tables as locking. I didn't mess
with any tables that manually have locks around them, and I tried to be
conservative with initializing the locks so that we don't lock
unnecessarily - this may require tweaking at a later point, but this is
a good start.","mtev_hash.c uses NoitHASH_INITIAL_SIZE as the initial size, 1<<7, or 128... This patch changed those all to 256, which will increase our memory usage. Not a big problem, but... Can we add a #define MTEV_HASH_DEFAULT_SIZE (1<<7) to mtev_hash.h, and change those 256's to use that constant, and replace all NoitHASH_INITIAL_SIZE with MTEV_HASH_DEFAULT_SIZE?",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,109,2016-07-21T19:33:14Z,2016-07-21T19:52:30Z,2016-07-21T19:52:32Z,MERGED,True,16,20,12,https://github.com/pamaddox,Add Locking To Certain Hash Tables,3,[],https://github.com/circonus-labs/libmtev/pull/109,https://github.com/aidancully,3,https://github.com/circonus-labs/libmtev/pull/109#issuecomment-234364238,"Did an audit to initialize certain hash tables as locking. I didn't mess
with any tables that manually have locks around them, and I tried to be
conservative with initializing the locks so that we don't lock
unnecessarily - this may require tweaking at a later point, but this is
a good start.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,110,2016-07-21T21:26:53Z,2016-07-22T14:53:57Z,2016-07-22T14:54:05Z,MERGED,True,30,14,2,https://github.com/aidancully,"mtev_config.h will export uint<8|16|32>_t now, following stdint.h convention.",2,[],https://github.com/circonus-labs/libmtev/pull/110,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/110,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,110,2016-07-21T21:26:53Z,2016-07-22T14:53:57Z,2016-07-22T14:54:05Z,MERGED,True,30,14,2,https://github.com/aidancully,"mtev_config.h will export uint<8|16|32>_t now, following stdint.h convention.",2,[],https://github.com/circonus-labs/libmtev/pull/110,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/110#issuecomment-234390873,,"I'm fine with this in concept... libmtev supports a lot of platforms... so we need to test this on linux old-new, solaris 10+, freebsd 8-11 and mac os x at a minimum.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,110,2016-07-21T21:26:53Z,2016-07-22T14:53:57Z,2016-07-22T14:54:05Z,MERGED,True,30,14,2,https://github.com/aidancully,"mtev_config.h will export uint<8|16|32>_t now, following stdint.h convention.",2,[],https://github.com/circonus-labs/libmtev/pull/110,https://github.com/aidancully,3,https://github.com/circonus-labs/libmtev/pull/110#issuecomment-234440767,,"Tested on rhel6.3 (old linux), yesterday's Arch Linux (new linux), omnios-006, and omnios-014. (Verified that mtev_config.h looked as expected, and that it was possible to compile something #includeing <mtev_config.h> with a uint8_t defined.) I'll test on FreeBSD tomorrow.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,110,2016-07-21T21:26:53Z,2016-07-22T14:53:57Z,2016-07-22T14:54:05Z,MERGED,True,30,14,2,https://github.com/aidancully,"mtev_config.h will export uint<8|16|32>_t now, following stdint.h convention.",2,[],https://github.com/circonus-labs/libmtev/pull/110,https://github.com/aidancully,4,https://github.com/circonus-labs/libmtev/pull/110#issuecomment-234565538,,"I don't believe libmtev currently compiles on FreeBSD, due (at least) to mtev_hrtime not currently being ported to the platform. I can't test on Mac OS X easily, but I strongly doubt, at this point, that I've introduced any portability issues with this PR.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,110,2016-07-21T21:26:53Z,2016-07-22T14:53:57Z,2016-07-22T14:54:05Z,MERGED,True,30,14,2,https://github.com/aidancully,"mtev_config.h will export uint<8|16|32>_t now, following stdint.h convention.",2,[],https://github.com/circonus-labs/libmtev/pull/110,https://github.com/postwait,5,https://github.com/circonus-labs/libmtev/pull/110#issuecomment-234565624,,+1,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,111,2016-07-26T12:49:34Z,2016-07-26T14:53:42Z,2016-11-26T16:41:28Z,MERGED,True,89,113,24,https://github.com/rileyberton,Werror,5,[],https://github.com/circonus-labs/libmtev/pull/111,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/111,"-Werror was not on for libmtev and there were many warnings (mostly copy/paste unused variable).
Pay particular attention to mtev_net_heartbeat.c which defined and filled an IPV6 struct but then never used it?","-Werror was not on for libmtev and there were many warnings (mostly copy/paste unused variable).
Pay particular attention to mtev_net_heartbeat.c which defined and filled an IPV6 struct but then never used it?",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,111,2016-07-26T12:49:34Z,2016-07-26T14:53:42Z,2016-11-26T16:41:28Z,MERGED,True,89,113,24,https://github.com/rileyberton,Werror,5,[],https://github.com/circonus-labs/libmtev/pull/111,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/111#issuecomment-235277031,"-Werror was not on for libmtev and there were many warnings (mostly copy/paste unused variable).
Pay particular attention to mtev_net_heartbeat.c which defined and filled an IPV6 struct but then never used it?","Can you run mtev_config --cflags with this change? I'm worried -Werror will be included in the output, and I think it shouldn't be.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,111,2016-07-26T12:49:34Z,2016-07-26T14:53:42Z,2016-11-26T16:41:28Z,MERGED,True,89,113,24,https://github.com/rileyberton,Werror,5,[],https://github.com/circonus-labs/libmtev/pull/111,https://github.com/rileyberton,3,https://github.com/circonus-labs/libmtev/pull/111#issuecomment-235278529,"-Werror was not on for libmtev and there were many warnings (mostly copy/paste unused variable).
Pay particular attention to mtev_net_heartbeat.c which defined and filled an IPV6 struct but then never used it?","Yes, mtev-config does the wrong thing now.  looking into it.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,111,2016-07-26T12:49:34Z,2016-07-26T14:53:42Z,2016-11-26T16:41:28Z,MERGED,True,89,113,24,https://github.com/rileyberton,Werror,5,[],https://github.com/circonus-labs/libmtev/pull/111,https://github.com/postwait,4,https://github.com/circonus-labs/libmtev/pull/111#issuecomment-235278591,"-Werror was not on for libmtev and there were many warnings (mostly copy/paste unused variable).
Pay particular attention to mtev_net_heartbeat.c which defined and filled an IPV6 struct but then never used it?",needs work... doing that now.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,111,2016-07-26T12:49:34Z,2016-07-26T14:53:42Z,2016-11-26T16:41:28Z,MERGED,True,89,113,24,https://github.com/rileyberton,Werror,5,[],https://github.com/circonus-labs/libmtev/pull/111,https://github.com/postwait,5,https://github.com/circonus-labs/libmtev/pull/111#issuecomment-235292993,"-Werror was not on for libmtev and there were many warnings (mostly copy/paste unused variable).
Pay particular attention to mtev_net_heartbeat.c which defined and filled an IPV6 struct but then never used it?",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,111,2016-07-26T12:49:34Z,2016-07-26T14:53:42Z,2016-11-26T16:41:28Z,MERGED,True,89,113,24,https://github.com/rileyberton,Werror,5,[],https://github.com/circonus-labs/libmtev/pull/111,https://github.com/aidancully,6,https://github.com/circonus-labs/libmtev/pull/111#issuecomment-235293120,"-Werror was not on for libmtev and there were many warnings (mostly copy/paste unused variable).
Pay particular attention to mtev_net_heartbeat.c which defined and filled an IPV6 struct but then never used it?",LGTM2,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,112,2016-07-26T15:24:56Z,2016-07-26T15:35:28Z,2016-07-26T15:35:31Z,MERGED,True,9,8,7,https://github.com/rileyberton,fix centos Werror problems,1,[],https://github.com/circonus-labs/libmtev/pull/112,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/112,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,112,2016-07-26T15:24:56Z,2016-07-26T15:35:28Z,2016-07-26T15:35:31Z,MERGED,True,9,8,7,https://github.com/rileyberton,fix centos Werror problems,1,[],https://github.com/circonus-labs/libmtev/pull/112,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/112#issuecomment-235306765,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,113,2016-07-26T16:37:21Z,2016-07-26T17:33:37Z,2016-07-26T17:33:39Z,MERGED,True,12,0,2,https://github.com/rileyberton,fix centos7 compile,1,[],https://github.com/circonus-labs/libmtev/pull/113,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/113,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,113,2016-07-26T16:37:21Z,2016-07-26T17:33:37Z,2016-07-26T17:33:39Z,MERGED,True,12,0,2,https://github.com/rileyberton,fix centos7 compile,1,[],https://github.com/circonus-labs/libmtev/pull/113,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/113#issuecomment-235334608,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,114,2016-07-26T21:31:49Z,2016-07-26T21:50:26Z,2016-07-26T21:50:32Z,MERGED,True,1,0,1,https://github.com/aidancully,more lua failure logging,1,[],https://github.com/circonus-labs/libmtev/pull/114,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/114,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,114,2016-07-26T21:31:49Z,2016-07-26T21:50:26Z,2016-07-26T21:50:32Z,MERGED,True,1,0,1,https://github.com/aidancully,more lua failure logging,1,[],https://github.com/circonus-labs/libmtev/pull/114,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/114#issuecomment-235416580,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,115,2016-07-28T11:35:32Z,2016-08-01T07:31:14Z,2016-08-16T08:12:07Z,MERGED,True,3,2,1,https://github.com/JonasKunze,Printing callback name in case of error in eventer_epoll_impl_trigger,1,[],https://github.com/circonus-labs/libmtev/pull/115,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/115,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,115,2016-07-28T11:35:32Z,2016-08-01T07:31:14Z,2016-08-16T08:12:07Z,MERGED,True,3,2,1,https://github.com/JonasKunze,Printing callback name in case of error in eventer_epoll_impl_trigger,1,[],https://github.com/circonus-labs/libmtev/pull/115,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/115#issuecomment-236254745,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,115,2016-07-28T11:35:32Z,2016-08-01T07:31:14Z,2016-08-16T08:12:07Z,MERGED,True,3,2,1,https://github.com/JonasKunze,Printing callback name in case of error in eventer_epoll_impl_trigger,1,[],https://github.com/circonus-labs/libmtev/pull/115,https://github.com/rileyberton,3,https://github.com/circonus-labs/libmtev/pull/115#issuecomment-236274548,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,116,2016-07-28T11:44:53Z,2016-08-01T07:30:20Z,2016-08-05T15:08:08Z,MERGED,True,10,0,1,https://github.com/JonasKunze,Added address to push_cluster_node,1,[],https://github.com/circonus-labs/libmtev/pull/116,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/116,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,116,2016-07-28T11:44:53Z,2016-08-01T07:30:20Z,2016-08-05T15:08:08Z,MERGED,True,10,0,1,https://github.com/JonasKunze,Added address to push_cluster_node,1,[],https://github.com/circonus-labs/libmtev/pull/116,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/116#issuecomment-236274495,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,117,2016-07-29T17:29:31Z,2016-08-01T07:31:02Z,2016-08-16T08:08:38Z,MERGED,True,34,0,1,https://github.com/JonasKunze,Implemented mtev.conf_get_string_list,1,[],https://github.com/circonus-labs/libmtev/pull/117,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/117,"Returns a table with the xpath matching  of all nodes matching 
Example:

value


mtev.conf_get_string_list(""/a/b"", ""@c"")
-> {1 = ""attr"", 2 = ""attr2""}
mtev.conf_get_string_list(""/a/b"", ""self::node()"")
-> {1 = ""value"", 2 = """"}","Returns a table with the xpath matching  of all nodes matching 
Example:

value


mtev.conf_get_string_list(""/a/b"", ""@c"")
-> {1 = ""attr"", 2 = ""attr2""}
mtev.conf_get_string_list(""/a/b"", ""self::node()"")
-> {1 = ""value"", 2 = """"}",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,117,2016-07-29T17:29:31Z,2016-08-01T07:31:02Z,2016-08-16T08:08:38Z,MERGED,True,34,0,1,https://github.com/JonasKunze,Implemented mtev.conf_get_string_list,1,[],https://github.com/circonus-labs/libmtev/pull/117,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/117#issuecomment-236274381,"Returns a table with the xpath matching  of all nodes matching 
Example:

value


mtev.conf_get_string_list(""/a/b"", ""@c"")
-> {1 = ""attr"", 2 = ""attr2""}
mtev.conf_get_string_list(""/a/b"", ""self::node()"")
-> {1 = ""value"", 2 = """"}",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,118,2016-07-29T19:33:18Z,2016-07-29T20:09:06Z,2016-11-26T16:41:51Z,MERGED,True,819,2,7,https://github.com/rileyberton,implement a 2x faster uuid parse function,3,[],https://github.com/circonus-labs/libmtev/pull/118,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/118,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,118,2016-07-29T19:33:18Z,2016-07-29T20:09:06Z,2016-11-26T16:41:51Z,MERGED,True,819,2,7,https://github.com/rileyberton,implement a 2x faster uuid parse function,3,[],https://github.com/circonus-labs/libmtev/pull/118,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/118#issuecomment-236280478,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,119,2016-07-29T21:26:06Z,2016-07-29T21:39:16Z,2016-07-29T21:39:22Z,MERGED,True,44,73,2,https://github.com/aidancully,even faster UUID parse logic,2,[],https://github.com/circonus-labs/libmtev/pull/119,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/119,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,119,2016-07-29T21:26:06Z,2016-07-29T21:39:16Z,2016-07-29T21:39:22Z,MERGED,True,44,73,2,https://github.com/aidancully,even faster UUID parse logic,2,[],https://github.com/circonus-labs/libmtev/pull/119,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/119#issuecomment-236298401,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,120,2016-08-01T12:02:52Z,2016-08-01T12:03:00Z,2016-08-01T12:03:01Z,MERGED,True,0,2,1,https://github.com/JonasKunze,Removed unused variable,1,[],https://github.com/circonus-labs/libmtev/pull/120,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/120,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,121,2016-08-02T09:34:54Z,2016-08-02T12:53:41Z,2016-08-02T12:54:50Z,MERGED,True,91,15,3,https://github.com/JonasKunze,Bugfix: Shortly dead cluster nodes became oldest node,1,[],https://github.com/circonus-labs/libmtev/pull/121,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/121,If a cluster node that was the oldest node died and came up within a short time (shorter then the timeout) it became oldest node again.,If a cluster node that was the oldest node died and came up within a short time (shorter then the timeout) it became oldest node again.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,121,2016-08-02T09:34:54Z,2016-08-02T12:53:41Z,2016-08-02T12:54:50Z,MERGED,True,91,15,3,https://github.com/JonasKunze,Bugfix: Shortly dead cluster nodes became oldest node,1,[],https://github.com/circonus-labs/libmtev/pull/121,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/121#issuecomment-236894752,If a cluster node that was the oldest node died and came up within a short time (shorter then the timeout) it became oldest node again.,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,122,2016-08-02T15:29:15Z,2016-08-17T13:55:44Z,2016-08-17T13:56:12Z,MERGED,True,298,38,6,https://github.com/JonasKunze,Enabled appending of arbitrary payload to cluster heartbeats,1,[],https://github.com/circonus-labs/libmtev/pull/122,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/122,Also the config_seq is stored in the node struct and passed to the user (he should decide what to do if the configs diverged),Also the config_seq is stored in the node struct and passed to the user (he should decide what to do if the configs diverged),True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,122,2016-08-02T15:29:15Z,2016-08-17T13:55:44Z,2016-08-17T13:56:12Z,MERGED,True,298,38,6,https://github.com/JonasKunze,Enabled appending of arbitrary payload to cluster heartbeats,1,[],https://github.com/circonus-labs/libmtev/pull/122,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/122#issuecomment-237884634,Also the config_seq is stored in the node struct and passed to the user (he should decide what to do if the configs diverged),"I believe this should be marginally more flexible.
As single payload is challenging.  I suggest payloads be marked with a 32bit int ""Type"" and a unsigned 8bit ""size""...
The payload you described with cluster config can be of one type and would be encoded into the packet as <32bit type><8bit len><len....>.
This will allow libmtev to share some stuff (like cluster state) and reconnoiter could add on it's own small amount of metadata...
the 8bit size forces callers to recognize this is going into a small packet and it isn't supposed to be used as a transport as much as a notification of state change.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,123,2016-08-04T19:40:26Z,2016-08-04T19:57:15Z,2016-11-26T16:44:17Z,MERGED,True,165,1,4,https://github.com/postwait,implement mtev_perftimer convenience functions,1,[],https://github.com/circonus-labs/libmtev/pull/123,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/123,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,123,2016-08-04T19:40:26Z,2016-08-04T19:57:15Z,2016-11-26T16:44:17Z,MERGED,True,165,1,4,https://github.com/postwait,implement mtev_perftimer convenience functions,1,[],https://github.com/circonus-labs/libmtev/pull/123,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/123#issuecomment-237662416,,This looks reasonable to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,123,2016-08-04T19:40:26Z,2016-08-04T19:57:15Z,2016-11-26T16:44:17Z,MERGED,True,165,1,4,https://github.com/postwait,implement mtev_perftimer convenience functions,1,[],https://github.com/circonus-labs/libmtev/pull/123,https://github.com/aidancully,3,https://github.com/circonus-labs/libmtev/pull/123#issuecomment-237662816,,LGTM2,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,124,2016-08-05T17:32:29Z,2016-08-05T17:38:57Z,2016-08-05T17:38:59Z,MERGED,True,2,0,1,https://github.com/pamaddox,Add Macro To Choose Eventer Owner,2,[],https://github.com/circonus-labs/libmtev/pull/124,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/124,"Add macro, EVENTER_CHOOSE_THREAD_FOR_EVENT_FD, that sets the owner
thread to the event fd (eventer_choose_owner(e->fd);)","Add macro, EVENTER_CHOOSE_THREAD_FOR_EVENT_FD, that sets the owner
thread to the event fd (eventer_choose_owner(e->fd);)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,124,2016-08-05T17:32:29Z,2016-08-05T17:38:57Z,2016-08-05T17:38:59Z,MERGED,True,2,0,1,https://github.com/pamaddox,Add Macro To Choose Eventer Owner,2,[],https://github.com/circonus-labs/libmtev/pull/124,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/124#issuecomment-237913159,"Add macro, EVENTER_CHOOSE_THREAD_FOR_EVENT_FD, that sets the owner
thread to the event fd (eventer_choose_owner(e->fd);)",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,125,2016-08-10T08:35:33Z,2016-08-10T12:36:52Z,2016-08-16T08:11:17Z,MERGED,True,6,4,2,https://github.com/JonasKunze,Clarified harmfull sounding  debug log,1,[],https://github.com/circonus-labs/libmtev/pull/125,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/125,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,125,2016-08-10T08:35:33Z,2016-08-10T12:36:52Z,2016-08-16T08:11:17Z,MERGED,True,6,4,2,https://github.com/JonasKunze,Clarified harmfull sounding  debug log,1,[],https://github.com/circonus-labs/libmtev/pull/125,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/125#issuecomment-238849249,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,126,2016-08-11T17:24:14Z,2016-08-15T22:41:17Z,2016-11-26T16:42:10Z,MERGED,True,874,80,23,https://github.com/rileyberton,RDTSC changes,10,[],https://github.com/circonus-labs/libmtev/pull/126,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/126,"RDTSC requires cpu identification, thread->core affinity and functions to fallback to gethrtime() equivalents if rdtsc is not available or the thread isn't pinned to a core.
** The controversial part of the this PR is the change to make all pthread_create into mtev_thread_create.  The latter of which does thread->core affinity in a round robin fashion.  We might not want to do this **","RDTSC requires cpu identification, thread->core affinity and functions to fallback to gethrtime() equivalents if rdtsc is not available or the thread isn't pinned to a core.
** The controversial part of the this PR is the change to make all pthread_create into mtev_thread_create.  The latter of which does thread->core affinity in a round robin fashion.  We might not want to do this **",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,126,2016-08-11T17:24:14Z,2016-08-15T22:41:17Z,2016-11-26T16:42:10Z,MERGED,True,874,80,23,https://github.com/rileyberton,RDTSC changes,10,[],https://github.com/circonus-labs/libmtev/pull/126,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/126#issuecomment-239951114,"RDTSC requires cpu identification, thread->core affinity and functions to fallback to gethrtime() equivalents if rdtsc is not available or the thread isn't pinned to a core.
** The controversial part of the this PR is the change to make all pthread_create into mtev_thread_create.  The latter of which does thread->core affinity in a round robin fashion.  We might not want to do this **",LGTM from slack conversation.. merging,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,126,2016-08-11T17:24:14Z,2016-08-15T22:41:17Z,2016-11-26T16:42:10Z,MERGED,True,874,80,23,https://github.com/rileyberton,RDTSC changes,10,[],https://github.com/circonus-labs/libmtev/pull/126,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/126#issuecomment-239951216,"RDTSC requires cpu identification, thread->core affinity and functions to fallback to gethrtime() equivalents if rdtsc is not available or the thread isn't pinned to a core.
** The controversial part of the this PR is the change to make all pthread_create into mtev_thread_create.  The latter of which does thread->core affinity in a round robin fashion.  We might not want to do this **",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,127,2016-08-15T21:32:47Z,2016-08-15T21:35:50Z,2016-08-15T21:35:54Z,MERGED,True,5,0,1,https://github.com/aidancully,remove jobq from all_queues hash on eventer_jobq_destroy.,1,[],https://github.com/circonus-labs/libmtev/pull/127,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/127,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,127,2016-08-15T21:32:47Z,2016-08-15T21:35:50Z,2016-08-15T21:35:54Z,MERGED,True,5,0,1,https://github.com/aidancully,remove jobq from all_queues hash on eventer_jobq_destroy.,1,[],https://github.com/circonus-labs/libmtev/pull/127,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/127#issuecomment-239936457,,Looks good to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,128,2016-08-15T22:17:30Z,2016-08-29T12:19:20Z,2016-11-26T16:42:09Z,MERGED,True,4,9,8,https://github.com/rileyberton,fix static analysis complaints,1,[],https://github.com/circonus-labs/libmtev/pull/128,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/128,clang scan-build uncovered these obvious things,clang scan-build uncovered these obvious things,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,128,2016-08-15T22:17:30Z,2016-08-29T12:19:20Z,2016-11-26T16:42:09Z,MERGED,True,4,9,8,https://github.com/rileyberton,fix static analysis complaints,1,[],https://github.com/circonus-labs/libmtev/pull/128,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/128#issuecomment-240175619,clang scan-build uncovered these obvious things,This looks fine to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,129,2016-08-16T08:10:39Z,2016-08-16T08:10:49Z,2016-08-16T08:11:17Z,CLOSED,False,6,4,2,https://github.com/JonasKunze,Clarified harmfull sounding  debug log,1,[],https://github.com/circonus-labs/libmtev/pull/129,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/129,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,130,2016-08-18T09:06:52Z,2016-08-29T12:18:46Z,2016-08-29T12:18:49Z,MERGED,True,65,26,4,https://github.com/JonasKunze,Passing change type to handle_node_update_hook,3,[],https://github.com/circonus-labs/libmtev/pull/130,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/130,Added an enum defining the possible reason an node_update_hook has been called. The corresponding value is passed to the hook.,Added an enum defining the possible reason an node_update_hook has been called. The corresponding value is passed to the hook.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,130,2016-08-18T09:06:52Z,2016-08-29T12:18:46Z,2016-08-29T12:18:49Z,MERGED,True,65,26,4,https://github.com/JonasKunze,Passing change type to handle_node_update_hook,3,[],https://github.com/circonus-labs/libmtev/pull/130,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/130#issuecomment-243107660,Added an enum defining the possible reason an node_update_hook has been called. The corresponding value is passed to the hook.,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,131,2016-08-18T16:52:44Z,2016-08-18T18:19:45Z,2016-11-26T16:42:17Z,MERGED,True,27,3,6,https://github.com/rileyberton,Thread binding changes,1,[],https://github.com/circonus-labs/libmtev/pull/131,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/131,"do not bind the mtev gc thread, asynch log thread or the eventer threads
leave jobq threads bound to cores
provide an env var MTEV_THREAD_BINDING_DISABLE which allows turning off binding for everything","do not bind the mtev gc thread, asynch log thread or the eventer threads
leave jobq threads bound to cores
provide an env var MTEV_THREAD_BINDING_DISABLE which allows turning off binding for everything",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,131,2016-08-18T16:52:44Z,2016-08-18T18:19:45Z,2016-11-26T16:42:17Z,MERGED,True,27,3,6,https://github.com/rileyberton,Thread binding changes,1,[],https://github.com/circonus-labs/libmtev/pull/131,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/131#issuecomment-240808537,"do not bind the mtev gc thread, asynch log thread or the eventer threads
leave jobq threads bound to cores
provide an env var MTEV_THREAD_BINDING_DISABLE which allows turning off binding for everything",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,132,2016-08-26T18:40:18Z,2016-08-26T18:41:15Z,2016-08-26T18:41:15Z,MERGED,True,9,6,1,https://github.com/postwait,function defs should be skipped if unused,1,[],https://github.com/circonus-labs/libmtev/pull/132,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/132,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,132,2016-08-26T18:40:18Z,2016-08-26T18:41:15Z,2016-08-26T18:41:15Z,MERGED,True,9,6,1,https://github.com/postwait,function defs should be skipped if unused,1,[],https://github.com/circonus-labs/libmtev/pull/132,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/132#issuecomment-242817677,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,133,2016-08-29T14:58:14Z,2016-08-30T11:33:44Z,2016-08-30T11:33:44Z,MERGED,True,10,10,2,https://github.com/JonasKunze,Made timeval structs const in mtev_log functions,1,[],https://github.com/circonus-labs/libmtev/pull/133,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/133,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,133,2016-08-29T14:58:14Z,2016-08-30T11:33:44Z,2016-08-30T11:33:44Z,MERGED,True,10,10,2,https://github.com/JonasKunze,Made timeval structs const in mtev_log functions,1,[],https://github.com/circonus-labs/libmtev/pull/133,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/133#issuecomment-243153753,,Can we identify whoe implements these hooks today? All their code will break as their hook implementations will have prototype mismatches.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,133,2016-08-29T14:58:14Z,2016-08-30T11:33:44Z,2016-08-30T11:33:44Z,MERGED,True,10,10,2,https://github.com/JonasKunze,Made timeval structs const in mtev_log functions,1,[],https://github.com/circonus-labs/libmtev/pull/133,https://github.com/JonasKunze,3,https://github.com/circonus-labs/libmtev/pull/133#issuecomment-243155093,,"I only found one place:
https://github.com/circonus-labs/reconnoiter/blob/5b936e6c0a76730aa4359d8ca9c5f9b882827a40/src/noit_metric_director.c#L291
If you think it's a bad Idea to change this hook I can change my code base instead to use non-const timevals...",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,133,2016-08-29T14:58:14Z,2016-08-30T11:33:44Z,2016-08-30T11:33:44Z,MERGED,True,10,10,2,https://github.com/JonasKunze,Made timeval structs const in mtev_log functions,1,[],https://github.com/circonus-labs/libmtev/pull/133,https://github.com/postwait,4,https://github.com/circonus-labs/libmtev/pull/133#issuecomment-243156347,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,134,2016-08-29T19:42:30Z,2016-08-29T19:46:17Z,2016-08-29T20:02:45Z,MERGED,True,9,6,1,https://github.com/postwait,"fix inifinite loop when optimized, limit attempts as well.",1,[],https://github.com/circonus-labs/libmtev/pull/134,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/134,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,134,2016-08-29T19:42:30Z,2016-08-29T19:46:17Z,2016-08-29T20:02:45Z,MERGED,True,9,6,1,https://github.com/postwait,"fix inifinite loop when optimized, limit attempts as well.",1,[],https://github.com/circonus-labs/libmtev/pull/134,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/134#issuecomment-243233216,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,135,2016-08-29T20:38:12Z,2016-08-30T17:31:14Z,2016-08-30T17:31:14Z,MERGED,True,272,14,15,https://github.com/postwait,Stats,2,[],https://github.com/circonus-labs/libmtev/pull/135,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/135,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,135,2016-08-29T20:38:12Z,2016-08-30T17:31:14Z,2016-08-30T17:31:14Z,MERGED,True,272,14,15,https://github.com/postwait,Stats,2,[],https://github.com/circonus-labs/libmtev/pull/135,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/135#issuecomment-243471867,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,135,2016-08-29T20:38:12Z,2016-08-30T17:31:14Z,2016-08-30T17:31:14Z,MERGED,True,272,14,15,https://github.com/postwait,Stats,2,[],https://github.com/circonus-labs/libmtev/pull/135,https://github.com/aidancully,3,https://github.com/circonus-labs/libmtev/pull/135#issuecomment-243515798,,"actually, I think this may not work perfectly until #137 (or its moral equivalent) gets merged.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,136,2016-08-29T21:15:12Z,2016-08-30T14:33:02Z,2016-08-30T14:33:02Z,MERGED,True,3,2,1,https://github.com/postwait,more robust error message,1,[],https://github.com/circonus-labs/libmtev/pull/136,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/136,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,136,2016-08-29T21:15:12Z,2016-08-30T14:33:02Z,2016-08-30T14:33:02Z,MERGED,True,3,2,1,https://github.com/postwait,more robust error message,1,[],https://github.com/circonus-labs/libmtev/pull/136,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/136#issuecomment-243259373,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,137,2016-08-30T15:32:09Z,2016-08-30T17:30:55Z,2016-08-30T17:30:58Z,MERGED,True,5,1,1,https://github.com/aidancully,don't use rdtsc in threads in which it's not explicitly requested.,1,[],https://github.com/circonus-labs/libmtev/pull/137,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/137,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,137,2016-08-30T15:32:09Z,2016-08-30T17:30:55Z,2016-08-30T17:30:58Z,MERGED,True,5,1,1,https://github.com/aidancully,don't use rdtsc in threads in which it's not explicitly requested.,1,[],https://github.com/circonus-labs/libmtev/pull/137,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/137#issuecomment-243516376,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,138,2016-09-02T13:39:13Z,2016-09-02T14:58:21Z,2016-09-02T14:58:26Z,MERGED,True,136,12,4,https://github.com/JonasKunze,Implemented mtev_str_buff,3,[],https://github.com/circonus-labs/libmtev/pull/138,https://github.com/JonasKunze,1,https://github.com/circonus-labs/libmtev/pull/138,Just added an exponentially growing (base 2) buffer for string concatenation similar to the already existing prepend_str,Just added an exponentially growing (base 2) buffer for string concatenation similar to the already existing prepend_str,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,138,2016-09-02T13:39:13Z,2016-09-02T14:58:21Z,2016-09-02T14:58:26Z,MERGED,True,136,12,4,https://github.com/JonasKunze,Implemented mtev_str_buff,3,[],https://github.com/circonus-labs/libmtev/pull/138,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/138#issuecomment-244378093,Just added an exponentially growing (base 2) buffer for string concatenation similar to the already existing prepend_str,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,139,2016-09-02T14:39:26Z,2016-09-06T12:48:35Z,2016-11-26T16:43:12Z,MERGED,True,1589,557,13,https://github.com/postwait,Refactor fast time support.,3,[],https://github.com/circonus-labs/libmtev/pull/139,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/139,"Use a single global rdtsc function when found.
Store skew and tpn together in the coreclock.
Calculate hrtime to gettimeofday skew: mtev_gettimeofday.
Tracks the number of fast and slow calls.
Allow runtime toggling.
Automatic per-cpu killswitch if lack of maintenance is
determined.
Add dedicated maintenance thread for tpn and skew upkeep.
Add console ""mtev rdtsc <enable|disable>""
Add console ""show mtev debug coreclocks""

Now all threads benefit if they find themselves on a cpu
that has been evaluated ""accurately enough"" and ""recently
enough.""  On illumos this is a 300ns -> 90ns speed up for
the common case.","Use a single global rdtsc function when found.
Store skew and tpn together in the coreclock.
Calculate hrtime to gettimeofday skew: mtev_gettimeofday.
Tracks the number of fast and slow calls.
Allow runtime toggling.
Automatic per-cpu killswitch if lack of maintenance is
determined.
Add dedicated maintenance thread for tpn and skew upkeep.
Add console ""mtev rdtsc <enable|disable>""
Add console ""show mtev debug coreclocks""

Now all threads benefit if they find themselves on a cpu
that has been evaluated ""accurately enough"" and ""recently
enough.""  On illumos this is a 300ns -> 90ns speed up for
the common case.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,139,2016-09-02T14:39:26Z,2016-09-06T12:48:35Z,2016-11-26T16:43:12Z,MERGED,True,1589,557,13,https://github.com/postwait,Refactor fast time support.,3,[],https://github.com/circonus-labs/libmtev/pull/139,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/139#issuecomment-244938906,"Use a single global rdtsc function when found.
Store skew and tpn together in the coreclock.
Calculate hrtime to gettimeofday skew: mtev_gettimeofday.
Tracks the number of fast and slow calls.
Allow runtime toggling.
Automatic per-cpu killswitch if lack of maintenance is
determined.
Add dedicated maintenance thread for tpn and skew upkeep.
Add console ""mtev rdtsc <enable|disable>""
Add console ""show mtev debug coreclocks""

Now all threads benefit if they find themselves on a cpu
that has been evaluated ""accurately enough"" and ""recently
enough.""  On illumos this is a 300ns -> 90ns speed up for
the common case.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,140,2016-09-06T13:06:56Z,2016-09-06T19:58:31Z,2016-09-06T19:58:32Z,CLOSED,False,55,6,3,https://github.com/postwait,Ensure that logging actually works at program start time.,1,[],https://github.com/circonus-labs/libmtev/pull/140,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/140,"static stderr, error, notice, and debug loggers usable at boot.
manipulation will act on them if no explicit logs with those names exist.
fix mtev_memory start logging to use the right facilities.","static stderr, error, notice, and debug loggers usable at boot.
manipulation will act on them if no explicit logs with those names exist.
fix mtev_memory start logging to use the right facilities.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,141,2016-09-06T20:19:24Z,2016-09-06T20:31:21Z,2016-11-26T16:43:13Z,MERGED,True,80,80,20,https://github.com/postwait,use our mtev_gettimeofday and mtev_gethrtime variants,1,[],https://github.com/circonus-labs/libmtev/pull/141,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/141,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,141,2016-09-06T20:19:24Z,2016-09-06T20:31:21Z,2016-11-26T16:43:13Z,MERGED,True,80,80,20,https://github.com/postwait,use our mtev_gettimeofday and mtev_gethrtime variants,1,[],https://github.com/circonus-labs/libmtev/pull/141,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/141#issuecomment-245078252,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,142,2016-09-09T19:40:50Z,2016-09-09T19:45:57Z,2016-11-26T16:41:38Z,MERGED,True,4,4,1,https://github.com/pamaddox,Fix Memory Leak When HTTP Connection Snips,1,[],https://github.com/circonus-labs/libmtev/pull/142,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/142,Need to clean up the service if the connection gets broken.,Need to clean up the service if the connection gets broken.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,142,2016-09-09T19:40:50Z,2016-09-09T19:45:57Z,2016-11-26T16:41:38Z,MERGED,True,4,4,1,https://github.com/pamaddox,Fix Memory Leak When HTTP Connection Snips,1,[],https://github.com/circonus-labs/libmtev/pull/142,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/142#issuecomment-246018847,Need to clean up the service if the connection gets broken.,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,143,2016-09-14T12:44:04Z,2016-09-14T19:12:37Z,2016-11-26T16:43:15Z,MERGED,True,41,27,4,https://github.com/postwait,Make the tests work and fix the bugs they reveal,2,[],https://github.com/circonus-labs/libmtev/pull/143,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/143,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,143,2016-09-14T12:44:04Z,2016-09-14T19:12:37Z,2016-11-26T16:43:15Z,MERGED,True,41,27,4,https://github.com/postwait,Make the tests work and fix the bugs they reveal,2,[],https://github.com/circonus-labs/libmtev/pull/143,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/143#issuecomment-247108650,,"OK, I didn't understand a subtlety of how lua manages C-allocated strings. LGTM.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,144,2016-09-15T18:12:51Z,2016-09-15T18:22:47Z,2016-11-26T16:43:18Z,MERGED,True,28,647,11,https://github.com/postwait,collapse libmtev.so build into a much smaller and simpler top-level m…,1,[],https://github.com/circonus-labs/libmtev/pull/144,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/144,…akefile,…akefile,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,145,2016-09-15T21:40:20Z,2016-09-16T13:13:22Z,2016-11-26T16:43:19Z,MERGED,True,77,6,4,https://github.com/postwait,subvert normal gethrtime and gettimeofday,1,[],https://github.com/circonus-labs/libmtev/pull/145,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/145,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,146,2016-10-12T21:22:19Z,2016-10-12T22:20:11Z,2016-11-26T16:43:20Z,MERGED,True,11,0,1,https://github.com/postwait,Fix peer info on reused sessions.,2,[],https://github.com/circonus-labs/libmtev/pull/146,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/146,"If we have a reused session from cache, verify is not performed again.
This caused subject and issuer to not be set.  We can fetch them from
the ctx->ssl, so add a fallback to do that if they are NULL.","If we have a reused session from cache, verify is not performed again.
This caused subject and issuer to not be set.  We can fetch them from
the ctx->ssl, so add a fallback to do that if they are NULL.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,147,2016-10-17T15:16:30Z,2016-10-17T15:26:07Z,2016-11-26T16:43:22Z,MERGED,True,7,3,1,https://github.com/postwait,Fix memory leak in abandoned gunzip.,1,[],https://github.com/circonus-labs/libmtev/pull/147,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/147,"Change 175e7c0 introduced a refactor that didn't propagate the
unconditional free into all switch cases.","Change 175e7c0 introduced a refactor that didn't propagate the
unconditional free into all switch cases.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,147,2016-10-17T15:16:30Z,2016-10-17T15:26:07Z,2016-11-26T16:43:22Z,MERGED,True,7,3,1,https://github.com/postwait,Fix memory leak in abandoned gunzip.,1,[],https://github.com/circonus-labs/libmtev/pull/147,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/147#issuecomment-254240433,"Change 175e7c0 introduced a refactor that didn't propagate the
unconditional free into all switch cases.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,148,2016-10-19T15:00:15Z,2016-10-19T15:46:56Z,2016-11-26T16:43:24Z,MERGED,True,4,5,1,https://github.com/postwait,Fix mtev_reverse_socket_t leak.,1,[],https://github.com/circonus-labs/libmtev/pull/148,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/148,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,148,2016-10-19T15:00:15Z,2016-10-19T15:46:56Z,2016-11-26T16:43:24Z,MERGED,True,4,5,1,https://github.com/postwait,Fix mtev_reverse_socket_t leak.,1,[],https://github.com/circonus-labs/libmtev/pull/148,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/148#issuecomment-254848535,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,149,2016-10-24T14:50:59Z,2016-10-24T18:51:32Z,2016-10-24T18:51:36Z,MERGED,True,2,2,1,https://github.com/aidancully,fix signed/unsigned comparison issue.,1,[],https://github.com/circonus-labs/libmtev/pull/149,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/149,"There's a scenario where an integer can be <0, then promoted to
an unsigned type to check if it's less than an unsigned value.
when the check passes (since unsigned -1 is ~0, aka some INT_MAX
variant) we then index an array from -1, potentially causing a
SEGV. Fix by coercing the unsigned side to signed before the
comparison.","There's a scenario where an integer can be <0, then promoted to
an unsigned type to check if it's less than an unsigned value.
when the check passes (since unsigned -1 is ~0, aka some INT_MAX
variant) we then index an array from -1, potentially causing a
SEGV. Fix by coercing the unsigned side to signed before the
comparison.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,150,2016-10-26T21:19:44Z,2016-10-27T22:33:37Z,2016-11-26T16:43:26Z,MERGED,True,14,5,4,https://github.com/postwait,Tests pass,2,[],https://github.com/circonus-labs/libmtev/pull/150,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/150,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,150,2016-10-26T21:19:44Z,2016-10-27T22:33:37Z,2016-11-26T16:43:26Z,MERGED,True,14,5,4,https://github.com/postwait,Tests pass,2,[],https://github.com/circonus-labs/libmtev/pull/150,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/150#issuecomment-256788664,,Lgtm,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,151,2016-11-07T14:46:11Z,2016-11-07T16:03:51Z,2016-11-26T16:43:31Z,MERGED,True,41,18,6,https://github.com/postwait,various cleanup on Linux for Windows,1,[],https://github.com/circonus-labs/libmtev/pull/151,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/151,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,151,2016-11-07T14:46:11Z,2016-11-07T16:03:51Z,2016-11-26T16:43:31Z,MERGED,True,41,18,6,https://github.com/postwait,various cleanup on Linux for Windows,1,[],https://github.com/circonus-labs/libmtev/pull/151,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/151#issuecomment-258862324,,Looks fine to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,152,2016-11-08T05:07:10Z,2016-11-08T13:30:57Z,2016-11-26T16:43:36Z,MERGED,True,11,3,1,https://github.com/postwait,Respect CN as a unique key for connection initiation filtering.,1,[],https://github.com/circonus-labs/libmtev/pull/152,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/152,"It is possible to have multiple noits without an address.  If
that was the case and we initiated the connection, we'd start
another (extra) connection for all address-less destinations.
We should expect CNs to be unique, so allow the caller to specify
that for filtering as well.  No CN and IP address should be
coincidentally the same, so this is safe without breaking existing
consumers of the API.","It is possible to have multiple noits without an address.  If
that was the case and we initiated the connection, we'd start
another (extra) connection for all address-less destinations.
We should expect CNs to be unique, so allow the caller to specify
that for filtering as well.  No CN and IP address should be
coincidentally the same, so this is safe without breaking existing
consumers of the API.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,152,2016-11-08T05:07:10Z,2016-11-08T13:30:57Z,2016-11-26T16:43:36Z,MERGED,True,11,3,1,https://github.com/postwait,Respect CN as a unique key for connection initiation filtering.,1,[],https://github.com/circonus-labs/libmtev/pull/152,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/152#issuecomment-259131605,"It is possible to have multiple noits without an address.  If
that was the case and we initiated the connection, we'd start
another (extra) connection for all address-less destinations.
We should expect CNs to be unique, so allow the caller to specify
that for filtering as well.  No CN and IP address should be
coincidentally the same, so this is safe without breaking existing
consumers of the API.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,153,2016-11-08T20:08:50Z,2016-11-09T18:22:14Z,2016-11-26T16:43:47Z,CLOSED,False,565,293,20,https://github.com/postwait,Fix the lua1.conf and luatest.lua to run.,1,[],https://github.com/circonus-labs/libmtev/pull/153,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/153,"This embeds all tests as a part of the example program.
Multi-threaded tests don't work yet due to lack of
cross-thread notify/waitfor support.","This embeds all tests as a part of the example program.
Multi-threaded tests don't work yet due to lack of
cross-thread notify/waitfor support.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,153,2016-11-08T20:08:50Z,2016-11-09T18:22:14Z,2016-11-26T16:43:47Z,CLOSED,False,565,293,20,https://github.com/postwait,Fix the lua1.conf and luatest.lua to run.,1,[],https://github.com/circonus-labs/libmtev/pull/153,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/153#issuecomment-259276823,"This embeds all tests as a part of the example program.
Multi-threaded tests don't work yet due to lack of
cross-thread notify/waitfor support.","This seems to have introduced some code duplication? For example, I see both src/examples/lua-tests/confstr_spec.lua, which looks very similar (if not identical) to test/utils/confstr_spec.lua.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,153,2016-11-08T20:08:50Z,2016-11-09T18:22:14Z,2016-11-26T16:43:47Z,CLOSED,False,565,293,20,https://github.com/postwait,Fix the lua1.conf and luatest.lua to run.,1,[],https://github.com/circonus-labs/libmtev/pull/153,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/153#issuecomment-259277257,"This embeds all tests as a part of the example program.
Multi-threaded tests don't work yet due to lack of
cross-thread notify/waitfor support.",The src/examples/lua-test/ tests are a superset of the the test/utils/ tests.  Once this is all working we can remove them from tests.... or move this all to tests.. or something.  Those that are in both are identical.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,153,2016-11-08T20:08:50Z,2016-11-09T18:22:14Z,2016-11-26T16:43:47Z,CLOSED,False,565,293,20,https://github.com/postwait,Fix the lua1.conf and luatest.lua to run.,1,[],https://github.com/circonus-labs/libmtev/pull/153,https://github.com/aidancully,4,https://github.com/circonus-labs/libmtev/pull/153#issuecomment-259483971,"This embeds all tests as a part of the example program.
Multi-threaded tests don't work yet due to lack of
cross-thread notify/waitfor support.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,154,2016-11-08T20:17:08Z,2016-11-10T17:14:55Z,2016-11-11T21:23:41Z,MERGED,True,778,4,9,https://github.com/gallison93,first version of websocket client,2,[],https://github.com/circonus-labs/libmtev/pull/154,https://github.com/gallison93,1,https://github.com/circonus-labs/libmtev/pull/154,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,154,2016-11-08T20:17:08Z,2016-11-10T17:14:55Z,2016-11-11T21:23:41Z,MERGED,True,778,4,9,https://github.com/gallison93,first version of websocket client,2,[],https://github.com/circonus-labs/libmtev/pull/154,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/154#issuecomment-259704599,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,155,2016-11-09T18:22:32Z,2016-11-09T18:22:36Z,2016-11-26T16:43:47Z,MERGED,True,565,293,20,https://github.com/postwait,Leverage a native libmtev app to run the embedded test suite.,1,[],https://github.com/circonus-labs/libmtev/pull/155,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/155,"This consolidates ffi tests and internal libmtev lua tests.
It outputs gtest to stderr and junit to a file for CI systems.","This consolidates ffi tests and internal libmtev lua tests.
It outputs gtest to stderr and junit to a file for CI systems.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,156,2016-11-11T19:20:37Z,2016-11-11T19:23:47Z,2016-11-26T16:41:33Z,MERGED,True,39,22,2,https://github.com/rileyberton,small refactor of mtev_json_util to allow reading and writing to open…,1,[],https://github.com/circonus-labs/libmtev/pull/156,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/156,… fds,… fds,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,157,2016-11-11T23:03:44Z,2016-11-12T15:01:23Z,2016-11-12T15:01:26Z,MERGED,True,200,3,6,https://github.com/rileyberton,Mtev sort,2,[],https://github.com/circonus-labs/libmtev/pull/157,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/157,Needed a merge_sort implementation for linked lists within snowth.  seems universally useful.,Needed a merge_sort implementation for linked lists within snowth.  seems universally useful.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,157,2016-11-11T23:03:44Z,2016-11-12T15:01:23Z,2016-11-12T15:01:26Z,MERGED,True,200,3,6,https://github.com/rileyberton,Mtev sort,2,[],https://github.com/circonus-labs/libmtev/pull/157,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/157#issuecomment-260083361,Needed a merge_sort implementation for linked lists within snowth.  seems universally useful.,lgtm,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,158,2016-11-15T18:36:51Z,2016-11-16T13:33:00Z,2016-11-16T13:33:03Z,MERGED,True,169,2,4,https://github.com/rileyberton,add a simple hyperloglog impl in mtev,3,[],https://github.com/circonus-labs/libmtev/pull/158,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/158,"Useful tiny footprint counter for cardinality estimation when ""close enough"" counts are needed.","Useful tiny footprint counter for cardinality estimation when ""close enough"" counts are needed.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,159,2016-11-16T15:52:28Z,2016-11-16T15:54:11Z,2016-11-16T15:54:14Z,MERGED,True,5,0,2,https://github.com/aidancully,added routine to get the original querystring from a request.,1,[],https://github.com/circonus-labs/libmtev/pull/159,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/159,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,159,2016-11-16T15:52:28Z,2016-11-16T15:54:11Z,2016-11-16T15:54:14Z,MERGED,True,5,0,2,https://github.com/aidancully,added routine to get the original querystring from a request.,1,[],https://github.com/circonus-labs/libmtev/pull/159,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/159#issuecomment-260982553,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,160,2016-11-16T16:23:59Z,2016-11-16T16:34:56Z,2016-11-26T16:43:45Z,MERGED,True,166,245,15,https://github.com/postwait,"Introduce mtev_hash_adv (obsolete mtev_hash_next{,_str})",1,[],https://github.com/circonus-labs/libmtev/pull/160,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/160,"It has been, but will no longer be, tragic that each attempt
to use an iterator over an mtev_hash required the stack declarations
of at least a const char *key, an int klen, and a void *value.
This commit adds those requirements into the iterator type itself
and preserves backward compatibility.  All old calls will only access
within the boundaries of its original size so while the the ABI of the
iterator changed, it remains safe and backward compatible.","It has been, but will no longer be, tragic that each attempt
to use an iterator over an mtev_hash required the stack declarations
of at least a const char *key, an int klen, and a void *value.
This commit adds those requirements into the iterator type itself
and preserves backward compatibility.  All old calls will only access
within the boundaries of its original size so while the the ABI of the
iterator changed, it remains safe and backward compatible.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,160,2016-11-16T16:23:59Z,2016-11-16T16:34:56Z,2016-11-26T16:43:45Z,MERGED,True,166,245,15,https://github.com/postwait,"Introduce mtev_hash_adv (obsolete mtev_hash_next{,_str})",1,[],https://github.com/circonus-labs/libmtev/pull/160,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/160#issuecomment-260995054,"It has been, but will no longer be, tragic that each attempt
to use an iterator over an mtev_hash required the stack declarations
of at least a const char *key, an int klen, and a void *value.
This commit adds those requirements into the iterator type itself
and preserves backward compatibility.  All old calls will only access
within the boundaries of its original size so while the the ABI of the
iterator changed, it remains safe and backward compatible.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,161,2016-11-18T02:35:49Z,2016-11-22T20:47:28Z,2016-11-22T20:47:28Z,MERGED,True,19,8,2,https://github.com/postwait,Implicitly create logs when searching for them.,2,[],https://github.com/circonus-labs/libmtev/pull/161,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/161,"Now if you ask for a specific log, it will always come back.  This
also plays some type trickery with #define so that mdb can easily
print mtev_log_stream_t objects: ::mtev_log | ::pring mtev_log_stream_t","Now if you ask for a specific log, it will always come back.  This
also plays some type trickery with #define so that mdb can easily
print mtev_log_stream_t objects: ::mtev_log | ::pring mtev_log_stream_t",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,162,2016-11-18T18:37:20Z,2016-11-22T21:04:42Z,2016-11-22T21:04:42Z,MERGED,True,171,35,7,https://github.com/postwait,initial implementation of alternative event loop pools,2,[],https://github.com/circonus-labs/libmtev/pull/162,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/162,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,163,2016-11-21T13:59:05Z,2016-11-21T17:45:29Z,2016-11-26T16:43:33Z,MERGED,True,363,3,5,https://github.com/postwait,Mtev allocator,2,[],https://github.com/circonus-labs/libmtev/pull/163,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/163,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,164,2016-11-21T20:10:56Z,2016-11-22T22:00:37Z,2016-11-26T16:43:42Z,MERGED,True,250,73,4,https://github.com/postwait,Support multiple concurrency watchdog timers.,1,[],https://github.com/circonus-labs/libmtev/pull/164,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/164,"Since making the event loop multi-threaded, it is possible for
a thread other than the master thread to hang without triggering
a watchdog timeout.  This provides an API where any consumer
can create a new watchdog and maintain it such that the parent
will notice inactivity.  This commit does not enable per-thread
watchdogs in the eventer as that change would conflict with some
other in-flight changes; it will come later.","Since making the event loop multi-threaded, it is possible for
a thread other than the master thread to hang without triggering
a watchdog timeout.  This provides an API where any consumer
can create a new watchdog and maintain it such that the parent
will notice inactivity.  This commit does not enable per-thread
watchdogs in the eventer as that change would conflict with some
other in-flight changes; it will come later.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,165,2016-11-26T16:39:24Z,2016-11-26T21:17:25Z,2016-11-26T21:17:25Z,MERGED,True,16,6,2,https://github.com/postwait,Memory tls init,2,[],https://github.com/circonus-labs/libmtev/pull/165,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/165,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,165,2016-11-26T16:39:24Z,2016-11-26T21:17:25Z,2016-11-26T21:17:25Z,MERGED,True,16,6,2,https://github.com/postwait,Memory tls init,2,[],https://github.com/circonus-labs/libmtev/pull/165,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/165#issuecomment-263073130,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,166,2016-11-26T16:40:03Z,2016-11-26T21:17:16Z,2016-11-26T21:17:16Z,MERGED,True,8,5,2,https://github.com/postwait,Initial file ownership,2,[],https://github.com/circonus-labs/libmtev/pull/166,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/166,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,166,2016-11-26T16:40:03Z,2016-11-26T21:17:16Z,2016-11-26T21:17:16Z,MERGED,True,8,5,2,https://github.com/postwait,Initial file ownership,2,[],https://github.com/circonus-labs/libmtev/pull/166,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/166#issuecomment-263073126,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,167,2016-12-03T04:24:01Z,2016-12-05T21:38:50Z,2016-12-05T21:38:50Z,MERGED,True,216,125,7,https://github.com/postwait,Add eventer_jobq_set_concurrency API.,4,[],https://github.com/circonus-labs/libmtev/pull/167,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/167,Add console command to change jobq concurrencies at runtime.,Add console command to change jobq concurrencies at runtime.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,167,2016-12-03T04:24:01Z,2016-12-05T21:38:50Z,2016-12-05T21:38:50Z,MERGED,True,216,125,7,https://github.com/postwait,Add eventer_jobq_set_concurrency API.,4,[],https://github.com/circonus-labs/libmtev/pull/167,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/167#issuecomment-264955088,Add console command to change jobq concurrencies at runtime.,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,168,2016-12-04T21:04:45Z,2016-12-05T17:02:47Z,2016-12-05T17:02:47Z,MERGED,True,18852,307003,1202,https://github.com/postwait,Conversion to gitbook and additional docs.,2,[],https://github.com/circonus-labs/libmtev/pull/168,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/168,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,169,2016-12-05T22:53:20Z,2016-12-05T22:54:28Z,2016-12-05T22:54:30Z,MERGED,True,2,3,1,https://github.com/aidancully,refactoring jobq ended up with some fields uninitialized. fix this.,1,[],https://github.com/circonus-labs/libmtev/pull/169,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/169,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,170,2016-12-06T15:45:16Z,2016-12-06T15:53:41Z,2016-12-06T15:53:41Z,MERGED,True,14,16,1,https://github.com/esproul,Make logging consistent for reverse socket,1,[],https://github.com/circonus-labs/libmtev/pull/170,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/170,"Standardize on the nlerr/nldeb form so that all logs end up in the
proper channel. Remove the explicit assignments, since they are
guaranteed to be found after the fef61bb change.","Standardize on the nlerr/nldeb form so that all logs end up in the
proper channel. Remove the explicit assignments, since they are
guaranteed to be found after the fef61bb change.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,171,2016-12-06T15:54:23Z,2016-12-06T15:57:00Z,2016-12-06T15:58:04Z,MERGED,True,2,2,1,https://github.com/esproul,Fix compiler args for test targets,1,[],https://github.com/circonus-labs/libmtev/pull/171,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/171,"We need to be able to build without an installation of the finished
code.","We need to be able to build without an installation of the finished
code.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,172,2016-12-06T19:34:47Z,2016-12-06T20:28:12Z,2016-12-06T20:28:12Z,CLOSED,False,228,49,30,https://github.com/postwait,Allow jobqs to be configured via eventer config.,2,[],https://github.com/circonus-labs/libmtev/pull/172,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/172,"Expose jobq_<name> as an eventer config property.
Values look like concurrency[,min[,max[,safety]]].
Default newly (programmatically) created jobqs that
are not backqs to a concurrency of 1 so that they can
be used without a subsequeny set_concurrency call.","Expose jobq_<name> as an eventer config property.
Values look like concurrency[,min[,max[,safety]]].
Default newly (programmatically) created jobqs that
are not backqs to a concurrency of 1 so that they can
be used without a subsequeny set_concurrency call.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,172,2016-12-06T19:34:47Z,2016-12-06T20:28:12Z,2016-12-06T20:28:12Z,CLOSED,False,228,49,30,https://github.com/postwait,Allow jobqs to be configured via eventer config.,2,[],https://github.com/circonus-labs/libmtev/pull/172,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/172#issuecomment-265257218,"Expose jobq_<name> as an eventer config property.
Values look like concurrency[,min[,max[,safety]]].
Default newly (programmatically) created jobqs that
are not backqs to a concurrency of 1 so that they can
be used without a subsequeny set_concurrency call.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,172,2016-12-06T19:34:47Z,2016-12-06T20:28:12Z,2016-12-06T20:28:12Z,CLOSED,False,228,49,30,https://github.com/postwait,Allow jobqs to be configured via eventer config.,2,[],https://github.com/circonus-labs/libmtev/pull/172,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/172#issuecomment-265263053,"Expose jobq_<name> as an eventer config property.
Values look like concurrency[,min[,max[,safety]]].
Default newly (programmatically) created jobqs that
are not backqs to a concurrency of 1 so that they can
be used without a subsequeny set_concurrency call.","This was merged, but for some reason the PR didn't close.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,173,2016-12-07T05:45:02Z,2016-12-07T14:00:38Z,2016-12-07T14:00:38Z,MERGED,True,0,1,1,https://github.com/jpeach,Remove stale Java configure message.,1,[],https://github.com/circonus-labs/libmtev/pull/173,https://github.com/jpeach,1,https://github.com/circonus-labs/libmtev/pull/173,"Java code was removed in the great culling, so this checking message
isn't needed any more.","Java code was removed in the great culling, so this checking message
isn't needed any more.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,174,2016-12-09T20:09:41Z,2016-12-12T14:59:57Z,2016-12-12T15:00:01Z,MERGED,True,1,0,1,https://github.com/aidancully,"`madvise(..., MADV_SEQUENTIAL)` for mmap'ed parts of HTTP response data.",1,[],https://github.com/circonus-labs/libmtev/pull/174,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/174,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,175,2016-12-11T00:42:30Z,2016-12-15T15:04:24Z,2016-12-15T15:04:24Z,MERGED,True,433,790,52,https://github.com/jpeach,Autoconf build updates.,11,[],https://github.com/circonus-labs/libmtev/pull/175,https://github.com/jpeach,1,https://github.com/circonus-labs/libmtev/pull/175,"A couple of updates to make the build more standard. First, modernize the autoconf macros we use so that you can use autoreconf to regenerate the build. Second, standardize on standard C fixed-width integer types and use the built-in autoconf macros to figure them out.","A couple of updates to make the build more standard. First, modernize the autoconf macros we use so that you can use autoreconf to regenerate the build. Second, standardize on standard C fixed-width integer types and use the built-in autoconf macros to figure them out.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,177,2016-12-13T16:15:23Z,2016-12-13T17:20:59Z,2016-12-13T17:20:59Z,MERGED,True,10,2,3,https://github.com/postwait,Leverage watchdogs vectors to protect all eventloop threads.,1,[],https://github.com/circonus-labs/libmtev/pull/177,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/177,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,177,2016-12-13T16:15:23Z,2016-12-13T17:20:59Z,2016-12-13T17:20:59Z,MERGED,True,10,2,3,https://github.com/postwait,Leverage watchdogs vectors to protect all eventloop threads.,1,[],https://github.com/circonus-labs/libmtev/pull/177,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/177#issuecomment-266785142,,"Verified e->thr_owner would be set correctly (it's set to the current thread in eventer_alloc, which we're calling from the per_thread_init function), so that the watchdog poke would be scheduled on the current thread's event-loop. LGTM.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,177,2016-12-13T16:15:23Z,2016-12-13T17:20:59Z,2016-12-13T17:20:59Z,MERGED,True,10,2,3,https://github.com/postwait,Leverage watchdogs vectors to protect all eventloop threads.,1,[],https://github.com/circonus-labs/libmtev/pull/177,https://github.com/pamaddox,3,https://github.com/circonus-labs/libmtev/pull/177#issuecomment-266785339,,Reviewed. Looks good to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,178,2016-12-14T15:56:42Z,2016-12-16T13:36:55Z,2016-12-16T13:36:58Z,MERGED,True,55,10,3,https://github.com/rileyberton,add test for hyperloglog and improve performance a bit,3,[],https://github.com/circonus-labs/libmtev/pull/178,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/178,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,179,2016-12-14T22:19:06Z,2016-12-14T23:18:02Z,2016-12-14T23:18:02Z,MERGED,True,28,8,3,https://github.com/postwait,"Add a CHOTOPT for optimizatio of ""hot"" C files.",1,[],https://github.com/circonus-labs/libmtev/pull/179,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/179,"Defaults to -O5, but can override with gmake CHOTOPT=-O2","Defaults to -O5, but can override with gmake CHOTOPT=-O2",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,179,2016-12-14T22:19:06Z,2016-12-14T23:18:02Z,2016-12-14T23:18:02Z,MERGED,True,28,8,3,https://github.com/postwait,"Add a CHOTOPT for optimizatio of ""hot"" C files.",1,[],https://github.com/circonus-labs/libmtev/pull/179,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/179#issuecomment-267178345,"Defaults to -O5, but can override with gmake CHOTOPT=-O2",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,180,2016-12-29T21:43:57Z,2016-12-29T22:28:23Z,2016-12-29T22:28:23Z,MERGED,True,53,10,4,https://github.com/postwait,Allow pruning jobq threads to min_concurrency.,2,[],https://github.com/circonus-labs/libmtev/pull/180,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/180,Support less aggressive growing and periodic pruning of idle jobq threads.,Support less aggressive growing and periodic pruning of idle jobq threads.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,180,2016-12-29T21:43:57Z,2016-12-29T22:28:23Z,2016-12-29T22:28:23Z,MERGED,True,53,10,4,https://github.com/postwait,Allow pruning jobq threads to min_concurrency.,2,[],https://github.com/circonus-labs/libmtev/pull/180,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/180#issuecomment-269699873,Support less aggressive growing and periodic pruning of idle jobq threads.,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,181,2017-01-03T20:29:23Z,2017-01-04T16:15:14Z,2017-01-04T16:15:14Z,MERGED,True,217,64,1,https://github.com/postwait,Glob includes,2,[],https://github.com/circonus-labs/libmtev/pull/181,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/181,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,182,2017-01-10T03:20:35Z,2017-01-10T13:11:11Z,2017-01-10T13:11:12Z,MERGED,True,7,7,1,https://github.com/jpeach,Fix --disable-wslay configuration option.,1,[],https://github.com/circonus-labs/libmtev/pull/182,https://github.com/jpeach,1,https://github.com/circonus-labs/libmtev/pull/182,"libwslay was being enabled unconditionally even if --disable-wslay was
specified. Fix the configure check for the option and make the subsequent
checks a little more readable. The build appears to correctly support
turning off libwslay.","libwslay was being enabled unconditionally even if --disable-wslay was
specified. Fix the configure check for the option and make the subsequent
checks a little more readable. The build appears to correctly support
turning off libwslay.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,183,2017-01-19T17:55:41Z,2017-01-19T18:20:57Z,2017-01-19T18:20:57Z,MERGED,True,7,5,1,https://github.com/postwait,More aggressive spawning based on total queued work.,1,[],https://github.com/circonus-labs/libmtev/pull/183,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/183,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,184,2017-01-19T19:43:07Z,2017-01-19T20:38:43Z,2017-01-19T20:38:43Z,MERGED,True,126,58,32,https://github.com/postwait,Pool watchdogs,3,[],https://github.com/circonus-labs/libmtev/pull/184,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/184,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,184,2017-01-19T19:43:07Z,2017-01-19T20:38:43Z,2017-01-19T20:38:43Z,MERGED,True,126,58,32,https://github.com/postwait,Pool watchdogs,3,[],https://github.com/circonus-labs/libmtev/pull/184,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/184#issuecomment-273888306,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,185,2017-01-20T22:11:51Z,2017-01-23T18:37:25Z,2017-01-23T18:37:29Z,MERGED,True,10,1,1,https://github.com/pamaddox,Avoid Use Of alloca In http_construct_leader,1,[],https://github.com/circonus-labs/libmtev/pull/185,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/185,"Rather than use alloca - have a static array of 16 char pointers instead

use that if the amount we need is less than 16, otherwise malloc and
free.","Rather than use alloca - have a static array of 16 char pointers instead

use that if the amount we need is less than 16, otherwise malloc and
free.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,186,2017-01-23T20:42:53Z,2017-02-07T18:41:01Z,2017-02-07T18:41:04Z,MERGED,True,68,23,4,https://github.com/gallison93,Enzo c changes,7,[],https://github.com/circonus-labs/libmtev/pull/186,https://github.com/gallison93,1,https://github.com/circonus-labs/libmtev/pull/186,"Tweaks to websocket_client:

Adjusting the return values of the callbacks
Add some missing locking
Add a closure
Allow specifying which event pool the client should be on","Tweaks to websocket_client:

Adjusting the return values of the callbacks
Add some missing locking
Add a closure
Allow specifying which event pool the client should be on",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,187,2017-01-30T19:55:31Z,2017-01-31T17:24:35Z,2017-01-31T17:24:35Z,MERGED,True,29,18,3,https://github.com/postwait,Add mtev_rest_complete_upload convenience function.,1,[],https://github.com/circonus-labs/libmtev/pull/187,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/187,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,187,2017-01-30T19:55:31Z,2017-01-31T17:24:35Z,2017-01-31T17:24:35Z,MERGED,True,29,18,3,https://github.com/postwait,Add mtev_rest_complete_upload convenience function.,1,[],https://github.com/circonus-labs/libmtev/pull/187,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/187#issuecomment-276429891,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,188,2017-01-31T16:25:30Z,2017-01-31T16:38:10Z,2017-01-31T16:38:10Z,MERGED,True,13,3,1,https://github.com/postwait,Fix include writes.,1,[],https://github.com/circonus-labs/libmtev/pull/188,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/188,"Comparing the private data instead of the container within caused
include files to have only their first child element written out.","Comparing the private data instead of the container within caused
include files to have only their first child element written out.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,188,2017-01-31T16:25:30Z,2017-01-31T16:38:10Z,2017-01-31T16:38:10Z,MERGED,True,13,3,1,https://github.com/postwait,Fix include writes.,1,[],https://github.com/circonus-labs/libmtev/pull/188,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/188#issuecomment-276414914,"Comparing the private data instead of the container within caused
include files to have only their first child element written out.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,188,2017-01-31T16:25:30Z,2017-01-31T16:38:10Z,2017-01-31T16:38:10Z,MERGED,True,13,3,1,https://github.com/postwait,Fix include writes.,1,[],https://github.com/circonus-labs/libmtev/pull/188,https://github.com/aidancully,3,https://github.com/circonus-labs/libmtev/pull/188#issuecomment-276416495,"Comparing the private data instead of the container within caused
include files to have only their first child element written out.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,189,2017-01-31T17:26:43Z,2017-01-31T17:26:52Z,2017-01-31T17:26:52Z,MERGED,True,1256,74,27,https://github.com/postwait,Rest docs,2,[],https://github.com/circonus-labs/libmtev/pull/189,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/189,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,190,2017-01-31T22:22:28Z,2017-02-01T16:21:40Z,2017-02-01T16:21:40Z,MERGED,True,288,39,35,https://github.com/postwait,Require env,4,[],https://github.com/circonus-labs/libmtev/pull/190,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/190,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,190,2017-01-31T22:22:28Z,2017-02-01T16:21:40Z,2017-02-01T16:21:40Z,MERGED,True,288,39,35,https://github.com/postwait,Require env,4,[],https://github.com/circonus-labs/libmtev/pull/190,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/190#issuecomment-276698512,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,191,2017-02-01T18:41:48Z,2017-02-06T17:22:36Z,2017-02-06T17:35:03Z,MERGED,True,1399,179,10,https://github.com/rileyberton,Add transparent compression support for mtev_http_session_req_consume,11,[],https://github.com/circonus-labs/libmtev/pull/191,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/191,"This adds gzip and lz4f transparent compression support and related helper functions to mtev.  This allows POSTers of data to send compressed as gzip or lz4f and the receiving service will transparently get uncompressed data when it reads.
Also added support for lz4f content-encoding in chunked responses.","This adds gzip and lz4f transparent compression support and related helper functions to mtev.  This allows POSTers of data to send compressed as gzip or lz4f and the receiving service will transparently get uncompressed data when it reads.
Also added support for lz4f content-encoding in chunked responses.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,191,2017-02-01T18:41:48Z,2017-02-06T17:22:36Z,2017-02-06T17:35:03Z,MERGED,True,1399,179,10,https://github.com/rileyberton,Add transparent compression support for mtev_http_session_req_consume,11,[],https://github.com/circonus-labs/libmtev/pull/191,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/191#issuecomment-277707508,"This adds gzip and lz4f transparent compression support and related helper functions to mtev.  This allows POSTers of data to send compressed as gzip or lz4f and the receiving service will transparently get uncompressed data when it reads.
Also added support for lz4f content-encoding in chunked responses.",👍,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,191,2017-02-01T18:41:48Z,2017-02-06T17:22:36Z,2017-02-06T17:35:03Z,MERGED,True,1399,179,10,https://github.com/rileyberton,Add transparent compression support for mtev_http_session_req_consume,11,[],https://github.com/circonus-labs/libmtev/pull/191,https://github.com/rileyberton,3,https://github.com/circonus-labs/libmtev/pull/191#issuecomment-277750436,"This adds gzip and lz4f transparent compression support and related helper functions to mtev.  This allows POSTers of data to send compressed as gzip or lz4f and the receiving service will transparently get uncompressed data when it reads.
Also added support for lz4f content-encoding in chunked responses.",Running snowth test suite against this version of the lib with compression enabled for replication passes.  Merging.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,192,2017-02-02T17:08:04Z,2017-02-02T20:41:04Z,2017-02-02T20:41:09Z,MERGED,True,1,0,1,https://github.com/aidancully,fix for having multiple connections to the mtev console at once.,1,[],https://github.com/circonus-labs/libmtev/pull/192,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/192,"The EditLine state is passed around on the stack, and stored in
a TLS variable. The stack copy and the TLS copy need to agree,
but we weren't enforcing that. Fix by updating the TLS copy on
entry to the console handling function.","The EditLine state is passed around on the stack, and stored in
a TLS variable. The stack copy and the TLS copy need to agree,
but we weren't enforcing that. Fix by updating the TLS copy on
entry to the console handling function.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,193,2017-02-04T18:40:42Z,2017-02-06T21:35:55Z,2017-02-06T21:35:55Z,MERGED,True,60,0,2,https://github.com/postwait,"Add mtev_http_response_{append_str,appendf,vappend} helpers.",1,[],https://github.com/circonus-labs/libmtev/pull/193,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/193,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,193,2017-02-04T18:40:42Z,2017-02-06T21:35:55Z,2017-02-06T21:35:55Z,MERGED,True,60,0,2,https://github.com/postwait,"Add mtev_http_response_{append_str,appendf,vappend} helpers.",1,[],https://github.com/circonus-labs/libmtev/pull/193,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/193#issuecomment-277821195,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,194,2017-02-05T22:21:11Z,2017-02-05T22:22:42Z,2017-02-05T22:22:42Z,MERGED,True,4734,19,37,https://github.com/postwait,Convert in-source docs to gitbook docs.,1,[],https://github.com/circonus-labs/libmtev/pull/194,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/194,"Fixes some spacing issues in existin documentation.
Creates a small set of lua examples as well.","Fixes some spacing issues in existin documentation.
Creates a small set of lua examples as well.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,195,2017-02-07T01:43:17Z,2017-02-07T18:32:54Z,2017-02-07T18:32:54Z,MERGED,True,237,49,10,https://github.com/postwait,Mt lua web,3,[],https://github.com/circonus-labs/libmtev/pull/195,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/195,Make lua_web thread safe and allow assigning handlers to alternate event loops,Make lua_web thread safe and allow assigning handlers to alternate event loops,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,195,2017-02-07T01:43:17Z,2017-02-07T18:32:54Z,2017-02-07T18:32:54Z,MERGED,True,237,49,10,https://github.com/postwait,Mt lua web,3,[],https://github.com/circonus-labs/libmtev/pull/195,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/195#issuecomment-278071528,Make lua_web thread safe and allow assigning handlers to alternate event loops,"I don't see any obvious bugs, LGTM",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,196,2017-02-07T18:27:41Z,2017-02-07T18:29:06Z,2017-02-07T18:29:06Z,MERGED,True,91,1,2,https://github.com/postwait,lua_module_closure API,1,[],https://github.com/circonus-labs/libmtev/pull/196,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/196,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,197,2017-02-07T22:30:08Z,2017-02-10T21:32:08Z,2018-08-14T14:21:32Z,MERGED,True,326,231,6,https://github.com/rileyberton,"fix chunked encoding, make compression work with chunked encoding",8,[],https://github.com/circonus-labs/libmtev/pull/197,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/197,"Please to review this carefully.
I tested using curl with every combination of chunked/not-chunked compression/not-compression.
However, this is really hairy and could use a careful review.","Please to review this carefully.
I tested using curl with every combination of chunked/not-chunked compression/not-compression.
However, this is really hairy and could use a careful review.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,197,2017-02-07T22:30:08Z,2017-02-10T21:32:08Z,2018-08-14T14:21:32Z,MERGED,True,326,231,6,https://github.com/rileyberton,"fix chunked encoding, make compression work with chunked encoding",8,[],https://github.com/circonus-labs/libmtev/pull/197,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/197#issuecomment-278753756,"Please to review this carefully.
I tested using curl with every combination of chunked/not-chunked compression/not-compression.
However, this is really hairy and could use a careful review.","Tested with python, ruby, nodejs (via snowth test suite), C (libcurl), and command line curl.  I think this is correct now.
Note that ruby doesn't appear to handle the gzip format we return without writing some code: (see autodetect gzip header)
request = Net::HTTP::Post.new(uri.request_uri, header)
request[""Accept-Encoding""] = ""gzip""
request.body = params.to_json

response = http.request(request)
puts ""Response body is: #{response.body.length}""

# auto detect gzip header
zi = Zlib::Inflate.new(Zlib::MAX_WBITS + 32)

uncompressed = zi.inflate(response.body)```",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,197,2017-02-07T22:30:08Z,2017-02-10T21:32:08Z,2018-08-14T14:21:32Z,MERGED,True,326,231,6,https://github.com/rileyberton,"fix chunked encoding, make compression work with chunked encoding",8,[],https://github.com/circonus-labs/libmtev/pull/197,https://github.com/aidancully,3,https://github.com/circonus-labs/libmtev/pull/197#issuecomment-279071227,"Please to review this carefully.
I tested using curl with every combination of chunked/not-chunked compression/not-compression.
However, this is really hairy and could use a careful review.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,198,2017-02-09T20:58:21Z,2017-02-10T04:15:46Z,2017-02-10T04:15:46Z,MERGED,True,77,23,17,https://github.com/postwait,First pass at getting FreeBSD builds,2,[],https://github.com/circonus-labs/libmtev/pull/198,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/198,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,198,2017-02-09T20:58:21Z,2017-02-10T04:15:46Z,2017-02-10T04:15:46Z,MERGED,True,77,23,17,https://github.com/postwait,First pass at getting FreeBSD builds,2,[],https://github.com/circonus-labs/libmtev/pull/198,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/198#issuecomment-278796787,,"ctfconvert on FreeBSD 10 throws this error for every object:
ERROR: ctfconvert: failed to initialize DWARF: Wrong CU version. Only 2 and 3 supported [dwarf_init_info(538)]

and at the end:
ERROR: ctfmerge: No ctf sections found to merge

If we want to support FreeBSD 10, and it's not hard to fix, I suggest we do it. Otherwise, we can make the minimum version FreeBSD 11.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,198,2017-02-09T20:58:21Z,2017-02-10T04:15:46Z,2017-02-10T04:15:46Z,MERGED,True,77,23,17,https://github.com/postwait,First pass at getting FreeBSD builds,2,[],https://github.com/circonus-labs/libmtev/pull/198,https://github.com/esproul,3,https://github.com/circonus-labs/libmtev/pull/198#issuecomment-278805452,,"The ctfconvert errors on 10 are not fatal. We end up not having CTF in the shared object, but we don't fail to build.  It seems like the CTF tools on FreeBSD 10 are just not capable of dealing with the DWARF version 4 symbols emitted by gcc.  The CTF tools on FreeBSD 11 seem fine.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,199,2017-02-11T23:22:55Z,2017-02-12T01:13:29Z,2017-02-12T01:13:29Z,MERGED,True,77,267,9,https://github.com/postwait,use luamtev to run the test suite.,1,[],https://github.com/circonus-labs/libmtev/pull/199,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/199,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,200,2017-02-11T23:23:11Z,2017-02-12T01:12:53Z,2017-02-12T01:12:53Z,MERGED,True,270,279,13,https://github.com/postwait,"json to mtev_json, plus terse helpers",1,[],https://github.com/circonus-labs/libmtev/pull/200,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/200,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,201,2017-02-11T23:28:37Z,2017-02-12T01:11:38Z,2017-02-12T01:11:38Z,MERGED,True,44,18,2,https://github.com/postwait,Fix leaks,2,[],https://github.com/circonus-labs/libmtev/pull/201,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/201,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,201,2017-02-11T23:28:37Z,2017-02-12T01:11:38Z,2017-02-12T01:11:38Z,MERGED,True,44,18,2,https://github.com/postwait,Fix leaks,2,[],https://github.com/circonus-labs/libmtev/pull/201,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/201#issuecomment-279188554,,This is ::findleaks clean now.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,202,2017-02-12T00:32:01Z,2017-02-14T00:16:52Z,2017-02-14T00:16:52Z,MERGED,True,52,0,5,https://github.com/postwait,Avoid the syscalls valgrind doesn't support.,1,[],https://github.com/circonus-labs/libmtev/pull/202,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/202,"On Illumos, Valgrind doesn't support a handful of syscalls.
This change detects when we run under valgrind and either skips
silently of fails explicitly to the caller as appropriate.","On Illumos, Valgrind doesn't support a handful of syscalls.
This change detects when we run under valgrind and either skips
silently of fails explicitly to the caller as appropriate.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,203,2017-02-12T01:15:57Z,2017-03-05T18:14:41Z,2017-03-05T18:14:41Z,MERGED,True,7,6,2,https://github.com/postwait,Base add/mod/dev in epoll off e->mask.,2,[],https://github.com/circonus-labs/libmtev/pull/203,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/203,"We should trust that if e->mask is zero, then the event should not already
be registered with epoll.  If it is zero, we should not DEL and ADD in lieu
of MOD.  If it is non-zero, we should DEL and MOD in lieu of ADD.","We should trust that if e->mask is zero, then the event should not already
be registered with epoll.  If it is zero, we should not DEL and ADD in lieu
of MOD.  If it is non-zero, we should DEL and MOD in lieu of ADD.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,203,2017-02-12T01:15:57Z,2017-03-05T18:14:41Z,2017-03-05T18:14:41Z,MERGED,True,7,6,2,https://github.com/postwait,Base add/mod/dev in epoll off e->mask.,2,[],https://github.com/circonus-labs/libmtev/pull/203,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/203#issuecomment-284248417,"We should trust that if e->mask is zero, then the event should not already
be registered with epoll.  If it is zero, we should not DEL and ADD in lieu
of MOD.  If it is non-zero, we should DEL and MOD in lieu of ADD.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,204,2017-02-13T04:59:09Z,2017-02-14T00:12:10Z,2017-02-14T00:12:10Z,MERGED,True,43,25,6,https://github.com/postwait,Hwloc leak,4,[],https://github.com/circonus-labs/libmtev/pull/204,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/204,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,205,2017-02-14T22:01:06Z,2017-02-14T23:05:19Z,2017-02-14T23:06:24Z,MERGED,True,1,1,1,https://github.com/jabley,Fix typo,1,[],https://github.com/circonus-labs/libmtev/pull/205,https://github.com/jabley,1,https://github.com/circonus-labs/libmtev/pull/205,"Spefically -> Specifically
Not sure if this needs changing in the HTML as well? I'm assuming that
is built from the Markdown, but I've not looked at the build system yet.","Spefically -> Specifically
Not sure if this needs changing in the HTML as well? I'm assuming that
is built from the Markdown, but I've not looked at the build system yet.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,205,2017-02-14T22:01:06Z,2017-02-14T23:05:19Z,2017-02-14T23:06:24Z,MERGED,True,1,1,1,https://github.com/jabley,Fix typo,1,[],https://github.com/circonus-labs/libmtev/pull/205,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/205#issuecomment-279865594,"Spefically -> Specifically
Not sure if this needs changing in the HTML as well? I'm assuming that
is built from the Markdown, but I've not looked at the build system yet.","The HTML will get committed when I next do a docs build.
gmake docs-html in the top-level.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,206,2017-02-15T18:59:47Z,2017-02-15T19:25:04Z,2018-08-14T14:25:01Z,MERGED,True,18,8,3,https://github.com/rileyberton,fix weird gzip encoding issue when output buffer is not large enough …,1,[],https://github.com/circonus-labs/libmtev/pull/206,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/206,…to process input buffer and there is data to flush,…to process input buffer and there is data to flush,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,206,2017-02-15T18:59:47Z,2017-02-15T19:25:04Z,2018-08-14T14:25:01Z,MERGED,True,18,8,3,https://github.com/rileyberton,fix weird gzip encoding issue when output buffer is not large enough …,1,[],https://github.com/circonus-labs/libmtev/pull/206,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/206#issuecomment-280106806,…to process input buffer and there is data to flush,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,207,2017-02-15T19:11:05Z,2017-02-15T20:21:11Z,2017-02-15T20:21:11Z,MERGED,True,203,91,6,https://github.com/postwait,Rework stack traces.,1,[],https://github.com/circonus-labs/libmtev/pull/207,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/207,"Refactor setup and calling code, separate into separate source file.
mtev_main will now setup sefl-diagnosis for foreground operated processes.","Refactor setup and calling code, separate into separate source file.
mtev_main will now setup sefl-diagnosis for foreground operated processes.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,207,2017-02-15T19:11:05Z,2017-02-15T20:21:11Z,2017-02-15T20:21:11Z,MERGED,True,203,91,6,https://github.com/postwait,Rework stack traces.,1,[],https://github.com/circonus-labs/libmtev/pull/207,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/207#issuecomment-280110076,"Refactor setup and calling code, separate into separate source file.
mtev_main will now setup sefl-diagnosis for foreground operated processes.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,208,2017-02-16T17:39:53Z,2017-02-16T18:05:09Z,2017-02-16T18:05:09Z,MERGED,True,17,7,2,https://github.com/postwait,Don't track latencies of noop recurrent events,1,[],https://github.com/circonus-labs/libmtev/pull/208,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/208,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,208,2017-02-16T17:39:53Z,2017-02-16T18:05:09Z,2017-02-16T18:05:09Z,MERGED,True,17,7,2,https://github.com/postwait,Don't track latencies of noop recurrent events,1,[],https://github.com/circonus-labs/libmtev/pull/208,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/208#issuecomment-280407080,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,209,2017-02-16T18:19:23Z,2017-02-16T18:51:59Z,2017-02-16T18:51:59Z,MERGED,True,2,2,1,https://github.com/postwait,Use fast variant of histograms for these two potentially hot ones.,1,[],https://github.com/circonus-labs/libmtev/pull/209,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/209,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,209,2017-02-16T18:19:23Z,2017-02-16T18:51:59Z,2017-02-16T18:51:59Z,MERGED,True,2,2,1,https://github.com/postwait,Use fast variant of histograms for these two potentially hot ones.,1,[],https://github.com/circonus-labs/libmtev/pull/209,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/209#issuecomment-280413800,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,210,2017-02-16T20:08:48Z,2017-02-16T20:27:34Z,2017-02-16T20:27:36Z,MERGED,True,174,8,9,https://github.com/rileyberton,add docs for mtev_sort,1,[],https://github.com/circonus-labs/libmtev/pull/210,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/210,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,210,2017-02-16T20:08:48Z,2017-02-16T20:27:34Z,2017-02-16T20:27:36Z,MERGED,True,174,8,9,https://github.com/rileyberton,add docs for mtev_sort,1,[],https://github.com/circonus-labs/libmtev/pull/210,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/210#issuecomment-280446961,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,211,2017-02-17T00:52:49Z,2017-02-17T01:56:42Z,2018-08-14T14:25:22Z,MERGED,True,72,64,3,https://github.com/rileyberton,switch mtev_merge_sort to an iterative impl,1,[],https://github.com/circonus-labs/libmtev/pull/211,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/211,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,212,2017-02-20T16:48:24Z,2017-02-20T18:41:33Z,2017-02-20T18:41:33Z,MERGED,True,343,15,10,https://github.com/postwait,import mtevbusted implementation,2,[],https://github.com/circonus-labs/libmtev/pull/212,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/212,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,212,2017-02-20T16:48:24Z,2017-02-20T18:41:33Z,2017-02-20T18:41:33Z,MERGED,True,343,15,10,https://github.com/postwait,import mtevbusted implementation,2,[],https://github.com/circonus-labs/libmtev/pull/212,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/212#issuecomment-281150569,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,212,2017-02-20T16:48:24Z,2017-02-20T18:41:33Z,2017-02-20T18:41:33Z,MERGED,True,343,15,10,https://github.com/postwait,import mtevbusted implementation,2,[],https://github.com/circonus-labs/libmtev/pull/212,https://github.com/gallison93,3,https://github.com/circonus-labs/libmtev/pull/212#issuecomment-281152314,,lgtm,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,213,2017-02-20T22:59:55Z,2017-02-21T14:55:22Z,2017-02-21T14:55:29Z,MERGED,True,436,36,7,https://github.com/rileyberton,"add mtev_now_ms and mtev_now_us, add docs for mtev_time.h",3,[],https://github.com/circonus-labs/libmtev/pull/213,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/213,Added convenience functions for getting the current timeofday (wall time) in milliseconds and microseconds.  Also updated docs for mtev_time.h to be our doxygen compatible.,Added convenience functions for getting the current timeofday (wall time) in milliseconds and microseconds.  Also updated docs for mtev_time.h to be our doxygen compatible.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,213,2017-02-20T22:59:55Z,2017-02-21T14:55:22Z,2017-02-21T14:55:29Z,MERGED,True,436,36,7,https://github.com/rileyberton,"add mtev_now_ms and mtev_now_us, add docs for mtev_time.h",3,[],https://github.com/circonus-labs/libmtev/pull/213,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/213#issuecomment-281366862,Added convenience functions for getting the current timeofday (wall time) in milliseconds and microseconds.  Also updated docs for mtev_time.h to be our doxygen compatible.,LGTM from slack chat.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,214,2017-02-23T06:07:54Z,2017-02-24T13:44:34Z,2017-02-24T13:44:35Z,CLOSED,False,1,1,1,https://github.com/jpeach,Checking for circllhist requires -lm.,1,[],https://github.com/circonus-labs/libmtev/pull/214,https://github.com/jpeach,1,https://github.com/circonus-labs/libmtev/pull/214,"libcircllhist uses floor(3), so we need to add -lm when we
try to link it.","libcircllhist uses floor(3), so we need to add -lm when we
try to link it.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,214,2017-02-23T06:07:54Z,2017-02-24T13:44:34Z,2017-02-24T13:44:35Z,CLOSED,False,1,1,1,https://github.com/jpeach,Checking for circllhist requires -lm.,1,[],https://github.com/circonus-labs/libmtev/pull/214,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/214#issuecomment-282005099,"libcircllhist uses floor(3), so we need to add -lm when we
try to link it.","Should we add -lm to libcircllhist hist instead?  If it has the dep, then it should pull it in itself?  I suppose that might not work if it is a .a file, but then again, you can't pull a .a file into a .so safely anyway.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,214,2017-02-23T06:07:54Z,2017-02-24T13:44:34Z,2017-02-24T13:44:35Z,CLOSED,False,1,1,1,https://github.com/jpeach,Checking for circllhist requires -lm.,1,[],https://github.com/circonus-labs/libmtev/pull/214,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/214#issuecomment-282005497,"libcircllhist uses floor(3), so we need to add -lm when we
try to link it.","It is, in fact, already a libcircllhist dep, so libcircllhist should pull -lm in without any addition effort.  Any idea why that isn't working for you?",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,214,2017-02-23T06:07:54Z,2017-02-24T13:44:34Z,2017-02-24T13:44:35Z,CLOSED,False,1,1,1,https://github.com/jpeach,Checking for circllhist requires -lm.,1,[],https://github.com/circonus-labs/libmtev/pull/214,https://github.com/jpeach,4,https://github.com/circonus-labs/libmtev/pull/214#issuecomment-282091069,"libcircllhist uses floor(3), so we need to add -lm when we
try to link it.","Yep, I was linking against the static libcircllhist.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,214,2017-02-23T06:07:54Z,2017-02-24T13:44:34Z,2017-02-24T13:44:35Z,CLOSED,False,1,1,1,https://github.com/jpeach,Checking for circllhist requires -lm.,1,[],https://github.com/circonus-labs/libmtev/pull/214,https://github.com/postwait,5,https://github.com/circonus-labs/libmtev/pull/214#issuecomment-282091892,"libcircllhist uses floor(3), so we need to add -lm when we
try to link it.","So... some systems can audit for unnecessary libraries... if I link against a shared libcircllhist and then -lm, the -lm will be unnecessary and flagged.  How can I have autoconf tell if I'm doing a static link?  We should be -lm'ing if the link is static, and not if it isn't... I think.  Ideas?",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,214,2017-02-23T06:07:54Z,2017-02-24T13:44:34Z,2017-02-24T13:44:35Z,CLOSED,False,1,1,1,https://github.com/jpeach,Checking for circllhist requires -lm.,1,[],https://github.com/circonus-labs/libmtev/pull/214,https://github.com/gallison93,6,https://github.com/circonus-labs/libmtev/pull/214#issuecomment-282102456,"libcircllhist uses floor(3), so we need to add -lm when we
try to link it.","I think you could achieve that with AC_CHECK_LIB. The fifth parameter is other-libraries to be used when testing for the library. So if you run AC_CHECK_LIB without -lm and it finds libcircllhist, you have the dynamic one. If it doesn't, try AC_CHECK_LIB with -lm, if it works you have a static libcircllhist, and if not you have no libcircllhist. I'm not sure if AC_CHECK_LIB would add -lm by default in the static case, but if not it would be simple to do with its action-if-found parameter.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,214,2017-02-23T06:07:54Z,2017-02-24T13:44:34Z,2017-02-24T13:44:35Z,CLOSED,False,1,1,1,https://github.com/jpeach,Checking for circllhist requires -lm.,1,[],https://github.com/circonus-labs/libmtev/pull/214,https://github.com/postwait,7,https://github.com/circonus-labs/libmtev/pull/214#issuecomment-282111783,"libcircllhist uses floor(3), so we need to add -lm when we
try to link it.","Thanks for the tip @gallison93 ... @jpeach does this work?
diff --git a/configure.in b/configure.in
index c52b411..33848be 100755
--- a/configure.in
+++ b/configure.in
@@ -260,8 +260,16 @@ AC_CHECK_LIB(lz4, LZ4F_compressBegin, , [AC_MSG_ERROR([*** liblz4 is required **
 # for them in reverse dependency order so that $LIBS contains the correct
 # dependencies at each step.
 AC_CHECK_LIB(jlog, jlog_new, , [AC_MSG_ERROR([*** libjlog required github.com/omniti-labs/jlog ***])])
-AC_CHECK_LIB(circllhist, hist_insert, , [AC_MSG_ERROR([*** libcircllhist is required ***])])
-AC_CHECK_LIB(circmetrics, stats_recorder_alloc, , [AC_MSG_ERROR([*** libcircmetrics is required ***])])
+AC_CHECK_LIB(circllhist, hist_insert, ,
+  unset ac_cv_lib_circllhist_hist_insert
+  AC_CHECK_LIB(circllhist, hist_insert,
+               [LIBS=""$LIBS -lcircllhist -lm""],
+               [AC_MSG_ERROR([*** libcircllhist is required ***])], [-lm]))
+AC_CHECK_LIB(circmetrics, stats_recorder_alloc, ,
+  unset ac_cv_lib_circmetrics_stats_recorder_alloc
+  AC_CHECK_LIB(circmetrics, stats_recorder_alloc,
+               [AC_CHECK_LIB(m, floor,,)],
+               [AC_MSG_ERROR([*** libcircmetrics is required ***])], [-lm]))

 AC_CHECK_LIB(umem, umem_cache_create, [
        LIBS=""$LIBS -lumem""",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,214,2017-02-23T06:07:54Z,2017-02-24T13:44:34Z,2017-02-24T13:44:35Z,CLOSED,False,1,1,1,https://github.com/jpeach,Checking for circllhist requires -lm.,1,[],https://github.com/circonus-labs/libmtev/pull/214,https://github.com/jpeach,8,https://github.com/circonus-labs/libmtev/pull/214#issuecomment-282207776,"libcircllhist uses floor(3), so we need to add -lm when we
try to link it.","Yup, that works.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,215,2017-02-24T20:21:52Z,2017-02-24T21:39:40Z,2017-02-24T21:39:40Z,MERGED,True,324,6,10,https://github.com/postwait,MTEV_MAYBE implementation.,2,[],https://github.com/circonus-labs/libmtev/pull/215,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/215,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,215,2017-02-24T20:21:52Z,2017-02-24T21:39:40Z,2017-02-24T21:39:40Z,MERGED,True,324,6,10,https://github.com/postwait,MTEV_MAYBE implementation.,2,[],https://github.com/circonus-labs/libmtev/pull/215,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/215#issuecomment-282402161,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,215,2017-02-24T20:21:52Z,2017-02-24T21:39:40Z,2017-02-24T21:39:40Z,MERGED,True,324,6,10,https://github.com/postwait,MTEV_MAYBE implementation.,2,[],https://github.com/circonus-labs/libmtev/pull/215,https://github.com/aidancully,3,https://github.com/circonus-labs/libmtev/pull/215#issuecomment-282410570,,👍,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,216,2017-02-27T16:47:01Z,2017-03-16T17:34:28Z,2017-03-16T17:34:28Z,MERGED,True,112,49,6,https://github.com/postwait,implement eventer_gettimeofcallback and friends,1,[],https://github.com/circonus-labs/libmtev/pull/216,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/216,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,216,2017-02-27T16:47:01Z,2017-03-16T17:34:28Z,2017-03-16T17:34:28Z,MERGED,True,112,49,6,https://github.com/postwait,implement eventer_gettimeofcallback and friends,1,[],https://github.com/circonus-labs/libmtev/pull/216,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/216#issuecomment-287114547,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,216,2017-02-27T16:47:01Z,2017-03-16T17:34:28Z,2017-03-16T17:34:28Z,MERGED,True,112,49,6,https://github.com/postwait,implement eventer_gettimeofcallback and friends,1,[],https://github.com/circonus-labs/libmtev/pull/216,https://github.com/rileyberton,3,https://github.com/circonus-labs/libmtev/pull/216#issuecomment-287116372,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,217,2017-03-02T21:52:56Z,2017-03-03T14:34:58Z,2017-03-03T14:34:58Z,MERGED,True,743,2,6,https://github.com/postwait,AMQP module via librabbitmq,1,[],https://github.com/circonus-labs/libmtev/pull/217,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/217,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,217,2017-03-02T21:52:56Z,2017-03-03T14:34:58Z,2017-03-03T14:34:58Z,MERGED,True,743,2,6,https://github.com/postwait,AMQP module via librabbitmq,1,[],https://github.com/circonus-labs/libmtev/pull/217,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/217#issuecomment-283967908,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,218,2017-03-02T23:15:31Z,2017-03-03T17:10:34Z,2018-08-14T14:27:57Z,MERGED,True,620,68,8,https://github.com/rileyberton,Mtev dyn buffer,8,[],https://github.com/circonus-labs/libmtev/pull/218,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/218,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,219,2017-03-10T20:03:41Z,2017-06-29T17:16:11Z,2017-06-29T17:16:11Z,MERGED,True,112,43,7,https://github.com/postwait,Implement eventer_add_asynch_dep(...),1,[],https://github.com/circonus-labs/libmtev/pull/219,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/219,"This new function can be called from an asynchronous job to
delay the completion of the current executing job until the
new added deap has past its cleanup phase.","This new function can be called from an asynchronous job to
delay the completion of the current executing job until the
new added deap has past its cleanup phase.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,219,2017-03-10T20:03:41Z,2017-06-29T17:16:11Z,2017-06-29T17:16:11Z,MERGED,True,112,43,7,https://github.com/postwait,Implement eventer_add_asynch_dep(...),1,[],https://github.com/circonus-labs/libmtev/pull/219,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/219#issuecomment-287128436,"This new function can be called from an asynchronous job to
delay the completion of the current executing job until the
new added deap has past its cleanup phase.","I've got an alternative approach for this use case, I'll try to PR that, and we can compare... I think it wouldn't be hard to create a fork/join implementation that can be used with jobq's (like this does), or from other threads..",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,219,2017-03-10T20:03:41Z,2017-06-29T17:16:11Z,2017-06-29T17:16:11Z,MERGED,True,112,43,7,https://github.com/postwait,Implement eventer_add_asynch_dep(...),1,[],https://github.com/circonus-labs/libmtev/pull/219,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/219#issuecomment-312016398,"This new function can be called from an asynchronous job to
delay the completion of the current executing job until the
new added deap has past its cleanup phase.",it would be nice to get some action on this.. I've brought this up to current master.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,219,2017-03-10T20:03:41Z,2017-06-29T17:16:11Z,2017-06-29T17:16:11Z,MERGED,True,112,43,7,https://github.com/postwait,Implement eventer_add_asynch_dep(...),1,[],https://github.com/circonus-labs/libmtev/pull/219,https://github.com/rileyberton,4,https://github.com/circonus-labs/libmtev/pull/219#issuecomment-312020632,"This new function can be called from an asynchronous job to
delay the completion of the current executing job until the
new added deap has past its cleanup phase.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,220,2017-03-14T21:32:09Z,2017-03-15T17:30:44Z,2017-03-15T17:30:44Z,MERGED,True,90,5,2,https://github.com/gallison93,Enable SSL for mtev_websocket_client.c,2,[],https://github.com/circonus-labs/libmtev/pull/220,https://github.com/gallison93,1,https://github.com/circonus-labs/libmtev/pull/220,"Based on mtev_connection_complete_connect and mtev_connection_ssl_upgrade from mtev_reverse_socket.c.
Enabling SSL breaks connections to non-SSL endpoints: eventer_SSL_connect returns EAGAIN so we return the given mask and are never triggered again. I'm not sure how the eventer SSL code is (not?) supposed to handle a non-SSL connection, so I provided an alternate code path to avoid the SSL upgrade and opset switch by not providing an sslconfig.
I'm also at a loss as to how the sslconfig should be acquired, and would appreciate feedback on that. For now I've simply stuck in a new mtev_hash_table parameter for mtev_websocket_client_new.
That prototype is getting a bit lengthy now. I'm intending to make another PR this week to fix an outstanding bug/design problem in this file(that prevents freeing clients/causes invalid memory accesses and undefined behavior) that may require another parameter in _new, so I'll very likely add variants(e.g. _new would do no SSL on default pool, _new_pool accepts a pool, _new_pool_ssl accepts pool and sslconfig, rough concept, will refine it) then rather than in this PR.","Based on mtev_connection_complete_connect and mtev_connection_ssl_upgrade from mtev_reverse_socket.c.
Enabling SSL breaks connections to non-SSL endpoints: eventer_SSL_connect returns EAGAIN so we return the given mask and are never triggered again. I'm not sure how the eventer SSL code is (not?) supposed to handle a non-SSL connection, so I provided an alternate code path to avoid the SSL upgrade and opset switch by not providing an sslconfig.
I'm also at a loss as to how the sslconfig should be acquired, and would appreciate feedback on that. For now I've simply stuck in a new mtev_hash_table parameter for mtev_websocket_client_new.
That prototype is getting a bit lengthy now. I'm intending to make another PR this week to fix an outstanding bug/design problem in this file(that prevents freeing clients/causes invalid memory accesses and undefined behavior) that may require another parameter in _new, so I'll very likely add variants(e.g. _new would do no SSL on default pool, _new_pool accepts a pool, _new_pool_ssl accepts pool and sslconfig, rough concept, will refine it) then rather than in this PR.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,220,2017-03-14T21:32:09Z,2017-03-15T17:30:44Z,2017-03-15T17:30:44Z,MERGED,True,90,5,2,https://github.com/gallison93,Enable SSL for mtev_websocket_client.c,2,[],https://github.com/circonus-labs/libmtev/pull/220,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/220#issuecomment-286774379,"Based on mtev_connection_complete_connect and mtev_connection_ssl_upgrade from mtev_reverse_socket.c.
Enabling SSL breaks connections to non-SSL endpoints: eventer_SSL_connect returns EAGAIN so we return the given mask and are never triggered again. I'm not sure how the eventer SSL code is (not?) supposed to handle a non-SSL connection, so I provided an alternate code path to avoid the SSL upgrade and opset switch by not providing an sslconfig.
I'm also at a loss as to how the sslconfig should be acquired, and would appreciate feedback on that. For now I've simply stuck in a new mtev_hash_table parameter for mtev_websocket_client_new.
That prototype is getting a bit lengthy now. I'm intending to make another PR this week to fix an outstanding bug/design problem in this file(that prevents freeing clients/causes invalid memory accesses and undefined behavior) that may require another parameter in _new, so I'll very likely add variants(e.g. _new would do no SSL on default pool, _new_pool accepts a pool, _new_pool_ssl accepts pool and sslconfig, rough concept, will refine it) then rather than in this PR.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,221,2017-03-20T13:53:10Z,2017-03-20T14:16:27Z,2017-03-20T14:16:27Z,MERGED,True,21,16,2,https://github.com/postwait,Fix the time code to be less obnoxious to the debug log,1,[],https://github.com/circonus-labs/libmtev/pull/221,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/221,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,221,2017-03-20T13:53:10Z,2017-03-20T14:16:27Z,2017-03-20T14:16:27Z,MERGED,True,21,16,2,https://github.com/postwait,Fix the time code to be less obnoxious to the debug log,1,[],https://github.com/circonus-labs/libmtev/pull/221,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/221#issuecomment-287770498,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,222,2017-03-20T13:53:28Z,2017-03-20T16:10:52Z,2017-03-20T16:10:52Z,MERGED,True,251,14,8,https://github.com/postwait,Make Linux epoll impl more resilient to confused add/del/mod.,1,[],https://github.com/circonus-labs/libmtev/pull/222,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/222,"This change isn't ideal as I think it accommodates other bugs, but
it would appear that we can remove and fd and then re-trigger it
with a mask and an event in the master_fds.  This causes us to
attempt to add when we should modify (or mod when we should add).
This simply provides an explicit fallback if the approach we take
errors b/c it was backwards, we try the other operation.","This change isn't ideal as I think it accommodates other bugs, but
it would appear that we can remove and fd and then re-trigger it
with a mask and an event in the master_fds.  This causes us to
attempt to add when we should modify (or mod when we should add).
This simply provides an explicit fallback if the approach we take
errors b/c it was backwards, we try the other operation.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,222,2017-03-20T13:53:28Z,2017-03-20T16:10:52Z,2017-03-20T16:10:52Z,MERGED,True,251,14,8,https://github.com/postwait,Make Linux epoll impl more resilient to confused add/del/mod.,1,[],https://github.com/circonus-labs/libmtev/pull/222,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/222#issuecomment-287803745,"This change isn't ideal as I think it accommodates other bugs, but
it would appear that we can remove and fd and then re-trigger it
with a mask and an event in the master_fds.  This causes us to
attempt to add when we should modify (or mod when we should add).
This simply provides an explicit fallback if the approach we take
errors b/c it was backwards, we try the other operation.","Can't say I completely understand the case being addressed, but at the least nothing seems harmful, and I believe the change makes us more robust. LGTM.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,223,2017-03-22T18:47:09Z,2017-03-22T19:02:56Z,2017-03-22T19:02:56Z,MERGED,True,300,40,6,https://github.com/postwait,Lua improvements,3,[],https://github.com/circonus-labs/libmtev/pull/223,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/223,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,224,2017-03-23T15:58:05Z,2017-03-23T17:27:01Z,2017-03-23T17:27:01Z,MERGED,True,595,22,15,https://github.com/postwait,Console logs,4,[],https://github.com/circonus-labs/libmtev/pull/224,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/224,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,224,2017-03-23T15:58:05Z,2017-03-23T17:27:01Z,2017-03-23T17:27:01Z,MERGED,True,595,22,15,https://github.com/postwait,Console logs,4,[],https://github.com/circonus-labs/libmtev/pull/224,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/224#issuecomment-288770595,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,225,2017-03-23T21:18:47Z,2017-03-23T21:33:40Z,2017-03-23T21:33:44Z,MERGED,True,6,2,2,https://github.com/gallison93,prevent race condition between wslay_event_send and wslay_event_queue_msg,1,[],https://github.com/circonus-labs/libmtev/pull/225,https://github.com/gallison93,1,https://github.com/circonus-labs/libmtev/pull/225,"This change uses existing locks to make calls to wslay_event_send and wslay_event_queue_msg mutually exclusive.
Wslay in general does not appear thread-safe. Specific to our usage of it, wslay_event_send and wslay_event_queue_msg both manipulate the same internal queue in a given wslay_event_context_ptr. There are several potential failures from this, although in testing I only saw one: if a push(in wslay_event_queue_msg) and pop(in wslay_event_send) operation are interleaved in a certain manner, wslay will interpret the queue as empty from that point forward and thus stop writing frames even as more and more messages are successfully enqueue'd to send(which according to wslay docs should cause wslay to attempt more writes). There is no error provided, neither to our network peer nor in return values from wslay calls, nor is the wslay_event_context_ptr considered closed or write-disabled.","This change uses existing locks to make calls to wslay_event_send and wslay_event_queue_msg mutually exclusive.
Wslay in general does not appear thread-safe. Specific to our usage of it, wslay_event_send and wslay_event_queue_msg both manipulate the same internal queue in a given wslay_event_context_ptr. There are several potential failures from this, although in testing I only saw one: if a push(in wslay_event_queue_msg) and pop(in wslay_event_send) operation are interleaved in a certain manner, wslay will interpret the queue as empty from that point forward and thus stop writing frames even as more and more messages are successfully enqueue'd to send(which according to wslay docs should cause wslay to attempt more writes). There is no error provided, neither to our network peer nor in return values from wslay calls, nor is the wslay_event_context_ptr considered closed or write-disabled.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,225,2017-03-23T21:18:47Z,2017-03-23T21:33:40Z,2017-03-23T21:33:44Z,MERGED,True,6,2,2,https://github.com/gallison93,prevent race condition between wslay_event_send and wslay_event_queue_msg,1,[],https://github.com/circonus-labs/libmtev/pull/225,https://github.com/gallison93,2,https://github.com/circonus-labs/libmtev/pull/225#issuecomment-288867054,"This change uses existing locks to make calls to wslay_event_send and wslay_event_queue_msg mutually exclusive.
Wslay in general does not appear thread-safe. Specific to our usage of it, wslay_event_send and wslay_event_queue_msg both manipulate the same internal queue in a given wslay_event_context_ptr. There are several potential failures from this, although in testing I only saw one: if a push(in wslay_event_queue_msg) and pop(in wslay_event_send) operation are interleaved in a certain manner, wslay will interpret the queue as empty from that point forward and thus stop writing frames even as more and more messages are successfully enqueue'd to send(which according to wslay docs should cause wslay to attempt more writes). There is no error provided, neither to our network peer nor in return values from wslay calls, nor is the wslay_event_context_ptr considered closed or write-disabled.","mtev_websocket_client_drive should be restricted to a single thread for a given client, so I believe that lock is safe from recursion. mtev_websocket_client_send could theoretically be called by any number of threads at any time, but it makes no recursive call nor does it offer a callback so I believe that should also be free from recursion.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,226,2017-03-24T15:22:47Z,2017-03-24T16:08:41Z,2017-03-24T16:08:41Z,MERGED,True,97,35,2,https://github.com/postwait,Fix log initialization startup sequence.,1,[],https://github.com/circonus-labs/libmtev/pull/226,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/226,"During log init, we create the run-time dynamic instances
of ""stderr"", ""debug"", ""error"", and ""notice,"" but previously
they didn't match their boot equivalents.  Fixing this allows
us to default the log creation state to enabled.","During log init, we create the run-time dynamic instances
of ""stderr"", ""debug"", ""error"", and ""notice,"" but previously
they didn't match their boot equivalents.  Fixing this allows
us to default the log creation state to enabled.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,227,2017-03-24T19:07:52Z,2017-03-24T19:09:37Z,2017-03-24T19:09:37Z,MERGED,True,123,3,7,https://github.com/postwait,Pcretest,2,[],https://github.com/circonus-labs/libmtev/pull/227,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/227,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,227,2017-03-24T19:07:52Z,2017-03-24T19:09:37Z,2017-03-24T19:09:37Z,MERGED,True,123,3,7,https://github.com/postwait,Pcretest,2,[],https://github.com/circonus-labs/libmtev/pull/227,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/227#issuecomment-289117617,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,228,2017-03-26T01:24:26Z,2017-03-26T15:05:44Z,2017-03-26T15:05:44Z,MERGED,True,286,36,8,https://github.com/postwait,Lua proc wait fix,3,[],https://github.com/circonus-labs/libmtev/pull/228,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/228,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,229,2017-03-27T13:49:06Z,2017-03-28T14:48:41Z,2018-08-14T14:21:12Z,MERGED,True,20,8,2,https://github.com/HeinrichHartmann,Add mtevbusted flags: -filter/-filter-out/-list,2,[],https://github.com/circonus-labs/libmtev/pull/229,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/229,Also add build automation for omnios.,Also add build automation for omnios.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,229,2017-03-27T13:49:06Z,2017-03-28T14:48:41Z,2018-08-14T14:21:12Z,MERGED,True,20,8,2,https://github.com/HeinrichHartmann,Add mtevbusted flags: -filter/-filter-out/-list,2,[],https://github.com/circonus-labs/libmtev/pull/229,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/229#issuecomment-289793752,Also add build automation for omnios.,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,230,2017-03-27T14:02:19Z,2017-03-31T15:52:29Z,2018-08-14T14:21:08Z,CLOSED,False,135,1,8,https://github.com/HeinrichHartmann,Add OmniOS buildtools,1,[],https://github.com/circonus-labs/libmtev/pull/230,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/230,"Allow for to control libmtev build from a remote omnios host
Add librabbitmq dependency","Allow for to control libmtev build from a remote omnios host
Add librabbitmq dependency",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,230,2017-03-27T14:02:19Z,2017-03-31T15:52:29Z,2018-08-14T14:21:08Z,CLOSED,False,135,1,8,https://github.com/HeinrichHartmann,Add OmniOS buildtools,1,[],https://github.com/circonus-labs/libmtev/pull/230,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/230#issuecomment-289467209,"Allow for to control libmtev build from a remote omnios host
Add librabbitmq dependency","This is a circonus-labs repo, so I don't see anything wrong with us using /opt/criconus paths for our development.
If we are going to support Vagrant / Docker builds in the future (I think we should) build information is needed inside this repo. Packaging could then use these scrpts as well.
Even if we don't use them elsewhere and they run out of date, then they are more likely to be working than copy/paste from the readme.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,230,2017-03-27T14:02:19Z,2017-03-31T15:52:29Z,2018-08-14T14:21:08Z,CLOSED,False,135,1,8,https://github.com/HeinrichHartmann,Add OmniOS buildtools,1,[],https://github.com/circonus-labs/libmtev/pull/230,https://github.com/HeinrichHartmann,3,https://github.com/circonus-labs/libmtev/pull/230#issuecomment-289469566,"Allow for to control libmtev build from a remote omnios host
Add librabbitmq dependency","Using --prefix=/usr/local breaks mtevbusted since it expects luamtev in /opt/circonus:
https://github.com/circonus-labs/libmtev/blob/master/test/mtevbusted-script.in#L1
Maybe that should be fixed.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,230,2017-03-27T14:02:19Z,2017-03-31T15:52:29Z,2018-08-14T14:21:08Z,CLOSED,False,135,1,8,https://github.com/HeinrichHartmann,Add OmniOS buildtools,1,[],https://github.com/circonus-labs/libmtev/pull/230,https://github.com/postwait,4,https://github.com/circonus-labs/libmtev/pull/230#issuecomment-289469752,"Allow for to control libmtev build from a remote omnios host
Add librabbitmq dependency",That's a bug in mtevbusted.. it should respect the install prefix.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,230,2017-03-27T14:02:19Z,2017-03-31T15:52:29Z,2018-08-14T14:21:08Z,CLOSED,False,135,1,8,https://github.com/HeinrichHartmann,Add OmniOS buildtools,1,[],https://github.com/circonus-labs/libmtev/pull/230,https://github.com/postwait,5,https://github.com/circonus-labs/libmtev/pull/230#issuecomment-290751469,"Allow for to control libmtev build from a remote omnios host
Add librabbitmq dependency",Circonus specific build stuff should live in a different tree.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,231,2017-03-27T17:54:35Z,2017-03-27T18:09:31Z,2017-03-27T18:09:35Z,MERGED,True,5,1,1,https://github.com/pamaddox,Better Errors In write_out_include_files,1,[],https://github.com/circonus-labs/libmtev/pull/231,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/231,"When we get failures in this function, we should:

Check to see if the FD is valid before trying to do anything to it.
Print out the filenames that failed.","When we get failures in this function, we should:

Check to see if the FD is valid before trying to do anything to it.
Print out the filenames that failed.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,232,2017-03-27T19:49:49Z,2017-03-27T19:56:19Z,2017-03-27T19:56:19Z,MERGED,True,43,52,3,https://github.com/postwait,"deprecate noit-specific mtev_conf_write_log, expose encoder",1,[],https://github.com/circonus-labs/libmtev/pull/232,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/232,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,233,2017-03-28T17:17:09Z,2017-03-28T21:32:15Z,2017-03-28T21:32:15Z,MERGED,True,89,17,13,https://github.com/postwait,add dtrace instrumentation to http server,1,[],https://github.com/circonus-labs/libmtev/pull/233,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/233,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,234,2017-03-29T14:57:31Z,2017-03-29T16:29:09Z,2018-08-14T14:28:43Z,MERGED,True,10,6,2,https://github.com/HeinrichHartmann,mtevbusted add -l/-L flags,4,[],https://github.com/circonus-labs/libmtev/pull/234,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/234,... and fixes.,... and fixes.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,235,2017-03-29T20:58:00Z,2017-03-30T14:41:03Z,2017-03-30T14:41:03Z,MERGED,True,8544,8,14,https://github.com/postwait,Add C++ demangling to the stacktrace output.,1,[],https://github.com/circonus-labs/libmtev/pull/235,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/235,"Pulled an isolated demangler from the Google Android project.
https://android.googlesource.com/platform/external/gcc-demangle/
Added some hacky features to make it not allocate.","Pulled an isolated demangler from the Google Android project.
https://android.googlesource.com/platform/external/gcc-demangle/
Added some hacky features to make it not allocate.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,235,2017-03-29T20:58:00Z,2017-03-30T14:41:03Z,2017-03-30T14:41:03Z,MERGED,True,8544,8,14,https://github.com/postwait,Add C++ demangling to the stacktrace output.,1,[],https://github.com/circonus-labs/libmtev/pull/235,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/235#issuecomment-290424565,"Pulled an isolated demangler from the Google Android project.
https://android.googlesource.com/platform/external/gcc-demangle/
Added some hacky features to make it not allocate.",LGTM - works on both Linux and illumos,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,236,2017-03-30T15:17:34Z,2017-03-31T17:36:42Z,2017-03-31T17:36:42Z,MERGED,True,565,209,11,https://github.com/postwait,Implement mtev_main_terminate,2,[],https://github.com/circonus-labs/libmtev/pull/236,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/236,"Add mtev_lockfile_acquire_owner that returns the owner on failure.
Improve error message when start fails due to lock failures.
Add kill capabilities to the example application.","Add mtev_lockfile_acquire_owner that returns the owner on failure.
Improve error message when start fails due to lock failures.
Add kill capabilities to the example application.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,237,2017-03-31T14:59:28Z,2017-03-31T21:10:08Z,2017-03-31T21:10:08Z,MERGED,True,1533,536,29,https://github.com/postwait,Opaque eventer t,3,[],https://github.com/circonus-labs/libmtev/pull/237,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/237,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,237,2017-03-31T14:59:28Z,2017-03-31T21:10:08Z,2017-03-31T21:10:08Z,MERGED,True,1533,536,29,https://github.com/postwait,Opaque eventer t,3,[],https://github.com/circonus-labs/libmtev/pull/237,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/237#issuecomment-290792451,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,238,2017-03-31T18:15:17Z,2017-03-31T18:17:56Z,2017-03-31T18:17:57Z,MERGED,True,78,4,4,https://github.com/postwait,Expose jemalloc stats if available.,1,[],https://github.com/circonus-labs/libmtev/pull/238,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/238,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,238,2017-03-31T18:15:17Z,2017-03-31T18:17:56Z,2017-03-31T18:17:57Z,MERGED,True,78,4,4,https://github.com/postwait,Expose jemalloc stats if available.,1,[],https://github.com/circonus-labs/libmtev/pull/238,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/238#issuecomment-290788779,,glorious,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,239,2017-04-01T21:35:43Z,2017-04-03T15:19:48Z,2017-04-03T15:37:33Z,MERGED,True,593,24,8,https://github.com/gallison93,add mtev_websocket_client_new_noref,7,[],https://github.com/circonus-labs/libmtev/pull/239,https://github.com/gallison93,1,https://github.com/circonus-labs/libmtev/pull/239,"This fulfills the use case where a mtev_websocket_client_t is solely interacted with through the callbacks.
The example cleanup handler in src/examples/websocket_client.c was deceptive: it suggested that one could safely mtev_websocket_client_free() the client in the cleanup handler. This was not true, and that actually caused unsafe memory accesses after the handler returned. The example was so small that the issue would almost certainly never appear there.
In the use case mentioned above, one would either be forced to leak the clients or track references to clients just to free them later.","This fulfills the use case where a mtev_websocket_client_t is solely interacted with through the callbacks.
The example cleanup handler in src/examples/websocket_client.c was deceptive: it suggested that one could safely mtev_websocket_client_free() the client in the cleanup handler. This was not true, and that actually caused unsafe memory accesses after the handler returned. The example was so small that the issue would almost certainly never appear there.
In the use case mentioned above, one would either be forced to leak the clients or track references to clients just to free them later.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,240,2017-04-02T14:59:20Z,2017-05-15T14:53:46Z,2017-05-15T14:53:46Z,MERGED,True,58,5,3,https://github.com/postwait,"On linux with sys/sdt.h, build sdt-style dtrace alternative.",1,[],https://github.com/circonus-labs/libmtev/pull/240,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/240,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,241,2017-04-03T16:31:00Z,2017-04-21T19:37:19Z,2017-05-16T15:29:39Z,MERGED,True,252,259,78,https://github.com/aidancully,use standard-C style prototypes for functions with no arguments.,6,[],https://github.com/circonus-labs/libmtev/pull/241,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/241,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,242,2017-04-07T20:04:54Z,2017-04-10T20:07:00Z,2017-04-10T20:07:04Z,MERGED,True,166,51,5,https://github.com/rileyberton,LZ4F support on the response side,2,[],https://github.com/circonus-labs/libmtev/pull/242,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/242,"add a curl helper you can hand to CURLOPT_WRITEFUNCTION that can decompress LZ4F responses
fix LZ4F handling so it actually works on the response side","add a curl helper you can hand to CURLOPT_WRITEFUNCTION that can decompress LZ4F responses
fix LZ4F handling so it actually works on the response side",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,243,2017-04-11T19:00:23Z,2017-04-20T20:40:53Z,2017-04-20T20:40:58Z,MERGED,True,2,1,1,https://github.com/aidancully,fix bchain buffer use when buffer contains multiple requests.,1,[],https://github.com/circonus-labs/libmtev/pull/243,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/243,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,243,2017-04-11T19:00:23Z,2017-04-20T20:40:53Z,2017-04-20T20:40:58Z,MERGED,True,2,1,1,https://github.com/aidancully,fix bchain buffer use when buffer contains multiple requests.,1,[],https://github.com/circonus-labs/libmtev/pull/243,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/243#issuecomment-295900248,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,244,2017-04-13T20:19:58Z,2017-04-13T20:28:51Z,2017-04-13T20:28:54Z,MERGED,True,2,0,1,https://github.com/aidancully,fix potential use-after-free in eventer cross-thread triggers.,1,[],https://github.com/circonus-labs/libmtev/pull/244,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/244,"CTT's first add the eventer_t to a cross-thread-trigger list,
then call eventer_wakeup(event). If the event is handled across
threads before the wakeup, then the event might be free'd before
eventer_wakeup has a chance to fully examine it. Protect against
this by refcnt'ing the eventer_t around the transaction.","CTT's first add the eventer_t to a cross-thread-trigger list,
then call eventer_wakeup(event). If the event is handled across
threads before the wakeup, then the event might be free'd before
eventer_wakeup has a chance to fully examine it. Protect against
this by refcnt'ing the eventer_t around the transaction.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,244,2017-04-13T20:19:58Z,2017-04-13T20:28:51Z,2017-04-13T20:28:54Z,MERGED,True,2,0,1,https://github.com/aidancully,fix potential use-after-free in eventer cross-thread triggers.,1,[],https://github.com/circonus-labs/libmtev/pull/244,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/244#issuecomment-294012913,"CTT's first add the eventer_t to a cross-thread-trigger list,
then call eventer_wakeup(event). If the event is handled across
threads before the wakeup, then the event might be free'd before
eventer_wakeup has a chance to fully examine it. Protect against
this by refcnt'ing the eventer_t around the transaction.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,245,2017-04-14T16:31:38Z,2017-04-14T17:48:24Z,2018-08-14T14:25:26Z,MERGED,True,76,8,4,https://github.com/rileyberton,Handle triggers of events from within event handlers on the same thre…,2,[],https://github.com/circonus-labs/libmtev/pull/245,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/245,…ad.  Treat these the same as a cross thread trigger,…ad.  Treat these the same as a cross thread trigger,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,245,2017-04-14T16:31:38Z,2017-04-14T17:48:24Z,2018-08-14T14:25:26Z,MERGED,True,76,8,4,https://github.com/rileyberton,Handle triggers of events from within event handlers on the same thre…,2,[],https://github.com/circonus-labs/libmtev/pull/245,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/245#issuecomment-294200329,…ad.  Treat these the same as a cross thread trigger,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,246,2017-04-21T11:19:15Z,2017-04-21T17:14:01Z,2018-08-14T14:28:23Z,CLOSED,False,516,14,5,https://github.com/aidancully,Mtev logbuf,5,[],https://github.com/circonus-labs/libmtev/pull/246,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/246,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,246,2017-04-21T11:19:15Z,2017-04-21T17:14:01Z,2018-08-14T14:28:23Z,CLOSED,False,516,14,5,https://github.com/aidancully,Mtev logbuf,5,[],https://github.com/circonus-labs/libmtev/pull/246,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/246#issuecomment-296168597,,"I'm curious as to what problem this solves. It appears to only delay the probe effect instead of avoid it.
The logging subsystem should already elide blocks when the log is disabled or has no output.  That's the purpose of the materialization of the log_stream DAG.  Under what circumstances are we seeing issues that this would address?",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,247,2017-04-21T17:13:49Z,2017-04-24T15:27:12Z,2017-04-24T15:27:17Z,MERGED,True,79,3,4,https://github.com/aidancully,speculative mtev_log facility,4,[],https://github.com/circonus-labs/libmtev/pull/247,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/247,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,248,2017-04-27T13:58:27Z,2017-04-27T14:12:20Z,2018-08-14T14:25:18Z,MERGED,True,8,5,1,https://github.com/rileyberton,NULL out chains passed to RELEASE_BCHAIN,1,[],https://github.com/circonus-labs/libmtev/pull/248,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/248,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,248,2017-04-27T13:58:27Z,2017-04-27T14:12:20Z,2018-08-14T14:25:18Z,MERGED,True,8,5,1,https://github.com/rileyberton,NULL out chains passed to RELEASE_BCHAIN,1,[],https://github.com/circonus-labs/libmtev/pull/248,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/248#issuecomment-297724210,,Lgtm,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,249,2017-04-27T19:16:39Z,2017-04-27T19:19:11Z,2018-08-14T14:29:31Z,MERGED,True,77,11,3,https://github.com/rileyberton,Always double the dyn_buffer size instead of incrementally growing,1,[],https://github.com/circonus-labs/libmtev/pull/249,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/249,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,249,2017-04-27T19:16:39Z,2017-04-27T19:19:11Z,2018-08-14T14:29:31Z,MERGED,True,77,11,3,https://github.com/rileyberton,Always double the dyn_buffer size instead of incrementally growing,1,[],https://github.com/circonus-labs/libmtev/pull/249,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/249#issuecomment-297812777,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,250,2017-05-02T14:01:52Z,2017-05-02T16:55:38Z,2018-08-14T14:25:06Z,MERGED,True,62,23,1,https://github.com/rileyberton,Fix epoll,2,[],https://github.com/circonus-labs/libmtev/pull/250,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/250,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,250,2017-05-02T14:01:52Z,2017-05-02T16:55:38Z,2018-08-14T14:25:06Z,MERGED,True,62,23,1,https://github.com/rileyberton,Fix epoll,2,[],https://github.com/circonus-labs/libmtev/pull/250,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/250#issuecomment-298645698,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,251,2017-05-04T15:37:57Z,2017-05-04T15:50:03Z,2017-05-04T15:50:09Z,MERGED,True,304,5,6,https://github.com/aidancully,Mtev confstr duration docs,2,[],https://github.com/circonus-labs/libmtev/pull/251,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/251,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,251,2017-05-04T15:37:57Z,2017-05-04T15:50:03Z,2017-05-04T15:50:09Z,MERGED,True,304,5,6,https://github.com/aidancully,Mtev confstr duration docs,2,[],https://github.com/circonus-labs/libmtev/pull/251,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/251#issuecomment-299226711,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,252,2017-05-08T19:03:35Z,2017-05-08T19:33:20Z,2018-08-14T14:24:57Z,MERGED,True,23,10,1,https://github.com/rileyberton,"cleanup http request and response releasing, fix double free on decom…",1,[],https://github.com/circonus-labs/libmtev/pull/252,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/252,…pression errors,…pression errors,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,253,2017-05-15T12:31:40Z,2017-05-15T12:46:13Z,2018-08-14T14:21:42Z,MERGED,True,8,0,1,https://github.com/rileyberton,use locks to protect against cross thread releases,1,[],https://github.com/circonus-labs/libmtev/pull/253,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/253,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,253,2017-05-15T12:31:40Z,2017-05-15T12:46:13Z,2018-08-14T14:21:42Z,MERGED,True,8,0,1,https://github.com/rileyberton,use locks to protect against cross thread releases,1,[],https://github.com/circonus-labs/libmtev/pull/253,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/253#issuecomment-301464031,,snowth ci passes with these changes,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,254,2017-05-16T15:31:26Z,2017-05-17T16:20:58Z,2017-05-17T16:21:02Z,MERGED,True,9,6,1,https://github.com/aidancully,the MTEV_HOOK_IMPL can be invoked from C++ code.,1,[],https://github.com/circonus-labs/libmtev/pull/254,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/254,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,255,2017-05-17T16:23:17Z,2017-05-18T15:17:33Z,2017-05-18T15:17:38Z,MERGED,True,474,17,10,https://github.com/rileyberton,add mtev_lru,9,[],https://github.com/circonus-labs/libmtev/pull/255,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/255,"Simple LRU with configurable free function for evicted items.
Went with ck_hs directly instead of mtev_hash_table because I needed access to ck_hs_set to catch conflicting puts.","Simple LRU with configurable free function for evicted items.
Went with ck_hs directly instead of mtev_hash_table because I needed access to ck_hs_set to catch conflicting puts.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,255,2017-05-17T16:23:17Z,2017-05-18T15:17:33Z,2017-05-18T15:17:38Z,MERGED,True,474,17,10,https://github.com/rileyberton,add mtev_lru,9,[],https://github.com/circonus-labs/libmtev/pull/255,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/255#issuecomment-302255358,"Simple LRU with configurable free function for evicted items.
Went with ck_hs directly instead of mtev_hash_table because I needed access to ck_hs_set to catch conflicting puts.",I think that's all of the problems.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,255,2017-05-17T16:23:17Z,2017-05-18T15:17:33Z,2017-05-18T15:17:38Z,MERGED,True,474,17,10,https://github.com/rileyberton,add mtev_lru,9,[],https://github.com/circonus-labs/libmtev/pull/255,https://github.com/aidancully,3,https://github.com/circonus-labs/libmtev/pull/255#issuecomment-302433658,"Simple LRU with configurable free function for evicted items.
Went with ck_hs directly instead of mtev_hash_table because I needed access to ck_hs_set to catch conflicting puts.","a couple of nits, but nothing that should stop the merge.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,256,2017-05-18T14:56:51Z,2017-05-18T15:04:47Z,2017-05-18T15:04:50Z,MERGED,True,82,0,3,https://github.com/pamaddox,Add mtev_uuid_copy Inline Function,2,[],https://github.com/circonus-labs/libmtev/pull/256,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/256,"libuuid's uuid_copy function copies character-by-character. This is
pretty inefficient. Add a mtev_uuid_copy function that just does a
memcpy.
Also - add a mtev_uuid.h header to allow just including that to get all
of the mtev uuid utilities.","libuuid's uuid_copy function copies character-by-character. This is
pretty inefficient. Add a mtev_uuid_copy function that just does a
memcpy.
Also - add a mtev_uuid.h header to allow just including that to get all
of the mtev uuid utilities.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,256,2017-05-18T14:56:51Z,2017-05-18T15:04:47Z,2017-05-18T15:04:50Z,MERGED,True,82,0,3,https://github.com/pamaddox,Add mtev_uuid_copy Inline Function,2,[],https://github.com/circonus-labs/libmtev/pull/256,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/256#issuecomment-302429850,"libuuid's uuid_copy function copies character-by-character. This is
pretty inefficient. Add a mtev_uuid_copy function that just does a
memcpy.
Also - add a mtev_uuid.h header to allow just including that to get all
of the mtev uuid utilities.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,257,2017-05-18T16:22:57Z,2017-05-30T14:31:00Z,2017-05-30T14:31:01Z,MERGED,True,19,0,1,https://github.com/postwait,mtev_notice when we have a single namespace conf collision,1,[],https://github.com/circonus-labs/libmtev/pull/257,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/257,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,258,2017-05-25T14:30:21Z,2017-05-25T14:42:18Z,2017-05-25T14:42:21Z,MERGED,True,4,8,2,https://github.com/pamaddox,Don't Change user_len In mtev_http_session_req_consume,1,[],https://github.com/circonus-labs/libmtev/pull/258,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/258,"We're altering a variable that is supposed to represent the size of the
buffer passed in; we don't want to change this, as it can have nasty
size effects.","We're altering a variable that is supposed to represent the size of the
buffer passed in; we don't want to change this, as it can have nasty
size effects.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,259,2017-05-25T17:20:39Z,2017-05-25T17:26:09Z,2017-05-25T17:26:11Z,MERGED,True,3,2,1,https://github.com/pamaddox,Fix Memory Leak In mtev_http_complete_request,1,[],https://github.com/circonus-labs/libmtev/pull/259,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/259,"If we try to eventer_read and get back 0, don't immediately go to
full_error.... try to finalize, then go to full_error if that fails.
This will clean up the memory properly, which wasn't always being done
before.","If we try to eventer_read and get back 0, don't immediately go to
full_error.... try to finalize, then go to full_error if that fails.
This will clean up the memory properly, which wasn't always being done
before.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,259,2017-05-25T17:20:39Z,2017-05-25T17:26:09Z,2017-05-25T17:26:11Z,MERGED,True,3,2,1,https://github.com/pamaddox,Fix Memory Leak In mtev_http_complete_request,1,[],https://github.com/circonus-labs/libmtev/pull/259,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/259#issuecomment-304069765,"If we try to eventer_read and get back 0, don't immediately go to
full_error.... try to finalize, then go to full_error if that fails.
This will clean up the memory properly, which wasn't always being done
before.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,260,2017-05-26T22:01:10Z,2017-05-30T14:06:55Z,2017-05-30T14:06:57Z,MERGED,True,2,0,1,https://github.com/pamaddox,Realloc Request And Response At Next Req,1,[],https://github.com/circonus-labs/libmtev/pull/260,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/260,"When we hit the ""next_req"" flag, we need to realloc the request and
response. Otherwise, we could end up allocating data into a structure
flagged ""freed"", leading to memory leaks.","When we hit the ""next_req"" flag, we need to realloc the request and
response. Otherwise, we could end up allocating data into a structure
flagged ""freed"", leading to memory leaks.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,260,2017-05-26T22:01:10Z,2017-05-30T14:06:55Z,2017-05-30T14:06:57Z,MERGED,True,2,0,1,https://github.com/pamaddox,Realloc Request And Response At Next Req,1,[],https://github.com/circonus-labs/libmtev/pull/260,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/260#issuecomment-304398636,"When we hit the ""next_req"" flag, we need to realloc the request and
response. Otherwise, we could end up allocating data into a structure
flagged ""freed"", leading to memory leaks.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,261,2017-06-06T12:46:01Z,2017-06-06T19:12:38Z,2018-08-14T14:27:29Z,MERGED,True,404,365,5,https://github.com/postwait,"as the only users of omnios, we should make it build as we build",1,[],https://github.com/circonus-labs/libmtev/pull/261,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/261,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,262,2017-06-08T14:33:43Z,2017-06-08T19:17:26Z,2018-08-14T14:21:49Z,MERGED,True,56,1,2,https://github.com/postwait,Implement a filtered owners list for clusters,1,[],https://github.com/circonus-labs/libmtev/pull/262,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/262,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,262,2017-06-08T14:33:43Z,2017-06-08T19:17:26Z,2018-08-14T14:21:49Z,MERGED,True,56,1,2,https://github.com/postwait,Implement a filtered owners list for clusters,1,[],https://github.com/circonus-labs/libmtev/pull/262,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/262#issuecomment-307200750,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,263,2017-06-08T14:33:49Z,2017-06-08T20:33:26Z,2018-08-14T14:15:41Z,MERGED,True,66,1,4,https://github.com/postwait,allow naming of threads within the eventer,2,[],https://github.com/circonus-labs/libmtev/pull/263,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/263,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,263,2017-06-08T14:33:49Z,2017-06-08T20:33:26Z,2018-08-14T14:15:41Z,MERGED,True,66,1,4,https://github.com/postwait,allow naming of threads within the eventer,2,[],https://github.com/circonus-labs/libmtev/pull/263,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/263#issuecomment-307218854,,Changes look good to me.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,264,2017-06-12T21:39:10Z,2017-06-13T22:55:56Z,2018-08-14T14:27:09Z,MERGED,True,397,12,9,https://github.com/postwait,implement hooks in lua,2,[],https://github.com/circonus-labs/libmtev/pull/264,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/264,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,264,2017-06-12T21:39:10Z,2017-06-13T22:55:56Z,2018-08-14T14:27:09Z,MERGED,True,397,12,9,https://github.com/postwait,implement hooks in lua,2,[],https://github.com/circonus-labs/libmtev/pull/264,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/264#issuecomment-308251919,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,265,2017-06-14T15:14:59Z,2017-06-14T15:30:25Z,2018-08-14T14:29:15Z,MERGED,True,13,8,3,https://github.com/postwait,Add convenience functions for resuming after flaot,1,[],https://github.com/circonus-labs/libmtev/pull/265,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/265,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,265,2017-06-14T15:14:59Z,2017-06-14T15:30:25Z,2018-08-14T14:29:15Z,MERGED,True,13,8,3,https://github.com/postwait,Add convenience functions for resuming after flaot,1,[],https://github.com/circonus-labs/libmtev/pull/265,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/265#issuecomment-308465648,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,266,2017-06-14T15:47:55Z,2017-06-14T16:02:19Z,2018-08-14T14:26:33Z,MERGED,True,164,30,12,https://github.com/postwait,"Add `fanout`, `fanout_pool`, and `accept_thread` listener attributes.",1,[],https://github.com/circonus-labs/libmtev/pull/266,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/266,"You can now, via configuration, make an listener have a dedicated
accept thread as well as indicate that new connections should be
fanned out over arbitrary pools.","You can now, via configuration, make an listener have a dedicated
accept thread as well as indicate that new connections should be
fanned out over arbitrary pools.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,266,2017-06-14T15:47:55Z,2017-06-14T16:02:19Z,2018-08-14T14:26:33Z,MERGED,True,164,30,12,https://github.com/postwait,"Add `fanout`, `fanout_pool`, and `accept_thread` listener attributes.",1,[],https://github.com/circonus-labs/libmtev/pull/266,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/266#issuecomment-308477480,"You can now, via configuration, make an listener have a dedicated
accept thread as well as indicate that new connections should be
fanned out over arbitrary pools.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,267,2017-06-15T19:34:37Z,2017-06-16T12:58:19Z,2017-06-16T12:58:19Z,MERGED,True,1968,149,42,https://github.com/postwait,Fix zipkin and add a Jaeger publishing module.,3,[],https://github.com/circonus-labs/libmtev/pull/267,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/267,"Fix up various bugs in the zipkin implementations.
Introduce easier to use APIs. Always set timetsamp and duration
in spans.","Fix up various bugs in the zipkin implementations.
Introduce easier to use APIs. Always set timetsamp and duration
in spans.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,267,2017-06-15T19:34:37Z,2017-06-16T12:58:19Z,2017-06-16T12:58:19Z,MERGED,True,1968,149,42,https://github.com/postwait,Fix zipkin and add a Jaeger publishing module.,3,[],https://github.com/circonus-labs/libmtev/pull/267,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/267#issuecomment-309017358,"Fix up various bugs in the zipkin implementations.
Introduce easier to use APIs. Always set timetsamp and duration
in spans.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,268,2017-06-15T21:08:40Z,2017-06-15T22:12:28Z,2017-06-15T22:12:28Z,MERGED,True,16,9,3,https://github.com/esproul,Add more SSL options to sample listener config,1,[],https://github.com/circonus-labs/libmtev/pull/268,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/268,"Clarify wording for the ""layer"" and ""ciphers"" attribute.
Fix a minor formatting issue with the section following sslconfig.","Clarify wording for the ""layer"" and ""ciphers"" attribute.
Fix a minor formatting issue with the section following sslconfig.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,269,2017-06-16T13:00:14Z,2017-06-16T13:00:18Z,2018-08-14T14:26:03Z,MERGED,True,1,1,1,https://github.com/postwait,fix typo,1,[],https://github.com/circonus-labs/libmtev/pull/269,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/269,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,270,2017-06-16T17:58:34Z,2017-06-20T14:20:43Z,2018-08-14T14:21:38Z,MERGED,True,603,43,14,https://github.com/postwait,Add event contexts and a zipkin layer for them.,2,[],https://github.com/circonus-labs/libmtev/pull/270,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/270,"Allow external components to register eventer contexts that
provide contextural data and ghosting of eventer creation,
copying, deallocation, and callback invocation.


Provide a TLS that represents the event currently in callback.


Add a zipkin event context layer and connect it to the HTTP
server such that inbould requests attach spans to the connection
if a span exists and have that span persisted forward through
causally created events.


Provide a zipkin event context client span managment API and
provide mtev_zipkin_curl.h as a sample client wrapper.","Allow external components to register eventer contexts that
provide contextural data and ghosting of eventer creation,
copying, deallocation, and callback invocation.


Provide a TLS that represents the event currently in callback.


Add a zipkin event context layer and connect it to the HTTP
server such that inbould requests attach spans to the connection
if a span exists and have that span persisted forward through
causally created events.


Provide a zipkin event context client span managment API and
provide mtev_zipkin_curl.h as a sample client wrapper.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,271,2017-06-19T19:24:23Z,2017-06-19T21:39:08Z,2018-08-14T14:24:33Z,MERGED,True,38,55,2,https://github.com/postwait,Fix lua gc of events.,2,[],https://github.com/circonus-labs/libmtev/pull/271,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/271,"The lua event cleanup had an inverted assumption. When an event goes
""live"" in the schedule such that lua is off-cpu, we should zero out
the eventer pointer because if the state is ""cleaned up"" the event
will be freed in due course of the eventer callbacks and lua is not
responsible for GCing it.
Make the coro state hashes safer by copying the key we use.","The lua event cleanup had an inverted assumption. When an event goes
""live"" in the schedule such that lua is off-cpu, we should zero out
the eventer pointer because if the state is ""cleaned up"" the event
will be freed in due course of the eventer callbacks and lua is not
responsible for GCing it.
Make the coro state hashes safer by copying the key we use.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,271,2017-06-19T19:24:23Z,2017-06-19T21:39:08Z,2018-08-14T14:24:33Z,MERGED,True,38,55,2,https://github.com/postwait,Fix lua gc of events.,2,[],https://github.com/circonus-labs/libmtev/pull/271,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/271#issuecomment-309555466,"The lua event cleanup had an inverted assumption. When an event goes
""live"" in the schedule such that lua is off-cpu, we should zero out
the eventer pointer because if the state is ""cleaned up"" the event
will be freed in due course of the eventer callbacks and lua is not
responsible for GCing it.
Make the coro state hashes safer by copying the key we use.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,272,2017-06-21T20:49:22Z,2017-06-28T23:24:35Z,2017-06-28T23:24:40Z,MERGED,True,130,21,6,https://github.com/aidancully,add mtev_b64_encodev function + test.,3,[],https://github.com/circonus-labs/libmtev/pull/272,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/272,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,272,2017-06-21T20:49:22Z,2017-06-28T23:24:35Z,2017-06-28T23:24:40Z,MERGED,True,130,21,6,https://github.com/aidancully,add mtev_b64_encodev function + test.,3,[],https://github.com/circonus-labs/libmtev/pull/272,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/272#issuecomment-311818638,,created lua-based test for mtev_b64_encodev,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,273,2017-06-26T21:11:59Z,2017-06-28T23:02:59Z,2017-06-28T23:18:25Z,MERGED,True,281,1,3,https://github.com/aidancully,Mtev waterlevel2,12,[],https://github.com/circonus-labs/libmtev/pull/273,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/273,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,273,2017-06-26T21:11:59Z,2017-06-28T23:02:59Z,2017-06-28T23:18:25Z,MERGED,True,281,1,3,https://github.com/aidancully,Mtev waterlevel2,12,[],https://github.com/circonus-labs/libmtev/pull/273,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/273#issuecomment-311699108,,"I'm changing this a little, making the levels unsigned, fixing a bug in when we'd signal ENABLE. (The argument that negative values sometimes make sense applied to the other approach, but does not apply here.)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,274,2017-06-27T19:52:57Z,2017-06-28T15:17:05Z,2018-08-14T14:21:19Z,MERGED,True,2,3,2,https://github.com/postwait,use a better distribution technique,1,[],https://github.com/circonus-labs/libmtev/pull/274,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/274,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,274,2017-06-27T19:52:57Z,2017-06-28T15:17:05Z,2018-08-14T14:21:19Z,MERGED,True,2,3,2,https://github.com/postwait,use a better distribution technique,1,[],https://github.com/circonus-labs/libmtev/pull/274,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/274#issuecomment-311692242,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,275,2017-06-28T12:53:54Z,2017-06-28T14:34:25Z,2018-08-14T14:14:20Z,MERGED,True,37,11,4,https://github.com/postwait,"Stop abusing ""sampled"" to force downstream traces.",1,[],https://github.com/circonus-labs/libmtev/pull/275,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/275,"Sampled in, sampled out.  Otherwise, respect the probabilities configured.","Sampled in, sampled out.  Otherwise, respect the probabilities configured.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,275,2017-06-28T12:53:54Z,2017-06-28T14:34:25Z,2018-08-14T14:14:20Z,MERGED,True,37,11,4,https://github.com/postwait,"Stop abusing ""sampled"" to force downstream traces.",1,[],https://github.com/circonus-labs/libmtev/pull/275,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/275#issuecomment-311651833,"Sampled in, sampled out.  Otherwise, respect the probabilities configured.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,276,2017-06-29T20:18:04Z,2017-06-29T20:24:40Z,2018-08-14T14:24:54Z,MERGED,True,55,45,1,https://github.com/rileyberton,fix non-chunked reads from socket to user_data,1,[],https://github.com/circonus-labs/libmtev/pull/276,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/276,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,277,2017-07-05T20:03:39Z,2017-07-05T20:33:15Z,2017-07-05T20:33:21Z,MERGED,True,11,7,2,https://github.com/aidancully,mtev_flow_regulator will not return DISABLE instruction on ACK.,1,[],https://github.com/circonus-labs/libmtev/pull/277,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/277,"This means that the only time we'll return DISABLE is when trying
to add work, via mtev_flow_regulator_raise_one.","This means that the only time we'll return DISABLE is when trying
to add work, via mtev_flow_regulator_raise_one.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,277,2017-07-05T20:03:39Z,2017-07-05T20:33:15Z,2017-07-05T20:33:21Z,MERGED,True,11,7,2,https://github.com/aidancully,mtev_flow_regulator will not return DISABLE instruction on ACK.,1,[],https://github.com/circonus-labs/libmtev/pull/277,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/277#issuecomment-313215176,"This means that the only time we'll return DISABLE is when trying
to add work, via mtev_flow_regulator_raise_one.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,278,2017-07-06T14:32:08Z,2017-07-06T16:11:55Z,2018-08-14T14:25:33Z,MERGED,True,224,112,4,https://github.com/postwait,Hide the cluster structures requiring APIs.,1,[],https://github.com/circonus-labs/libmtev/pull/278,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/278,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,279,2017-07-06T17:40:47Z,2017-07-06T17:49:23Z,2017-07-06T17:49:28Z,MERGED,True,7,11,2,https://github.com/aidancully,"Revert ""mtev_flow_regulator will not return DISABLE instruction on ACK.""",1,[],https://github.com/circonus-labs/libmtev/pull/279,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/279,This reverts commit 89b11f7.,This reverts commit 89b11f7.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,279,2017-07-06T17:40:47Z,2017-07-06T17:49:23Z,2017-07-06T17:49:28Z,MERGED,True,7,11,2,https://github.com/aidancully,"Revert ""mtev_flow_regulator will not return DISABLE instruction on ACK.""",1,[],https://github.com/circonus-labs/libmtev/pull/279,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/279#issuecomment-313469882,This reverts commit 89b11f7.,Straightforward reversion. LGTM.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,280,2017-07-11T14:17:17Z,2017-07-13T16:26:06Z,2017-07-13T16:26:17Z,MERGED,True,282,20,6,https://github.com/aidancully,Flow regulator stabilize,3,[],https://github.com/circonus-labs/libmtev/pull/280,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/280,"remove mtev_flow_regulator_stabilize API, replace with stable_try_raise_one and stable_lower.","remove mtev_flow_regulator_stabilize API, replace with stable_try_raise_one and stable_lower.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,281,2017-07-12T21:50:36Z,2017-07-13T13:38:59Z,2017-07-13T13:40:33Z,MERGED,True,5,5,3,https://github.com/esproul,Fix typedef that collides with curl namespace,1,[],https://github.com/circonus-labs/libmtev/pull/281,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/281,Recent libcurl now defines curl_write_callback so we should avoid using that name.,Recent libcurl now defines curl_write_callback so we should avoid using that name.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,282,2017-07-20T20:01:04Z,2017-07-24T19:54:37Z,2017-07-24T20:22:43Z,MERGED,True,157,29,7,https://github.com/postwait,Logs on spans,3,[],https://github.com/circonus-labs/libmtev/pull/282,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/282,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,282,2017-07-20T20:01:04Z,2017-07-24T19:54:37Z,2017-07-24T20:22:43Z,MERGED,True,157,29,7,https://github.com/postwait,Logs on spans,3,[],https://github.com/circonus-labs/libmtev/pull/282,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/282#issuecomment-317535642,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,283,2017-07-24T19:44:24Z,2017-07-24T19:47:51Z,2017-07-24T20:23:00Z,MERGED,True,4,0,1,https://github.com/postwait,limit backq consumption to initial queue size,1,[],https://github.com/circonus-labs/libmtev/pull/283,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/283,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,283,2017-07-24T19:44:24Z,2017-07-24T19:47:51Z,2017-07-24T20:23:00Z,MERGED,True,4,0,1,https://github.com/postwait,limit backq consumption to initial queue size,1,[],https://github.com/circonus-labs/libmtev/pull/283,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/283#issuecomment-317533808,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,284,2017-07-24T20:09:27Z,2017-07-24T20:14:27Z,2017-07-24T20:23:21Z,MERGED,True,30,30,3,https://github.com/postwait,include pretty thread name and id in log,1,[],https://github.com/circonus-labs/libmtev/pull/284,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/284,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,284,2017-07-24T20:09:27Z,2017-07-24T20:14:27Z,2017-07-24T20:23:21Z,MERGED,True,30,30,3,https://github.com/postwait,include pretty thread name and id in log,1,[],https://github.com/circonus-labs/libmtev/pull/284,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/284#issuecomment-317540526,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,285,2017-07-28T14:28:28Z,2017-07-28T15:23:15Z,2018-08-14T14:26:53Z,MERGED,True,26,0,1,https://github.com/postwait,Track per-pool and per-thread eventer loop cycle times,1,[],https://github.com/circonus-labs/libmtev/pull/285,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/285,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,286,2017-07-28T15:11:15Z,2017-07-28T15:16:15Z,2018-08-14T14:27:31Z,MERGED,True,13,12,1,https://github.com/postwait,Make membuf use normal mutex and fix missing unlocks.,1,[],https://github.com/circonus-labs/libmtev/pull/286,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/286,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,286,2017-07-28T15:11:15Z,2017-07-28T15:16:15Z,2018-08-14T14:27:31Z,MERGED,True,13,12,1,https://github.com/postwait,Make membuf use normal mutex and fix missing unlocks.,1,[],https://github.com/circonus-labs/libmtev/pull/286,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/286#issuecomment-318679581,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,287,2017-07-28T19:44:52Z,2017-07-28T20:18:53Z,2017-07-28T20:18:59Z,MERGED,True,136,57,17,https://github.com/rileyberton,fix most high and medium coverity issues,2,[],https://github.com/circonus-labs/libmtev/pull/287,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/287,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,288,2017-08-03T19:34:24Z,2017-08-03T19:44:49Z,2017-08-03T19:44:53Z,CLOSED,False,1,1,1,https://github.com/nshalman,docs/development/mtev_main.html: fix typo,1,[],https://github.com/circonus-labs/libmtev/pull/288,https://github.com/nshalman,1,https://github.com/circonus-labs/libmtev/pull/288,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,288,2017-08-03T19:34:24Z,2017-08-03T19:44:49Z,2017-08-03T19:44:53Z,CLOSED,False,1,1,1,https://github.com/nshalman,docs/development/mtev_main.html: fix typo,1,[],https://github.com/circonus-labs/libmtev/pull/288,https://github.com/nshalman,2,https://github.com/circonus-labs/libmtev/pull/288#issuecomment-320070697,,That makes much more sense.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,289,2017-08-03T19:45:49Z,2017-08-03T19:58:08Z,2017-08-03T19:58:08Z,MERGED,True,1,1,1,https://github.com/nshalman,docs-md/development/mtev_main.md: fix a typo,1,[],https://github.com/circonus-labs/libmtev/pull/289,https://github.com/nshalman,1,https://github.com/circonus-labs/libmtev/pull/289,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,289,2017-08-03T19:45:49Z,2017-08-03T19:58:08Z,2017-08-03T19:58:08Z,MERGED,True,1,1,1,https://github.com/nshalman,docs-md/development/mtev_main.md: fix a typo,1,[],https://github.com/circonus-labs/libmtev/pull/289,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/289#issuecomment-320073290,,"Looks good.  If you want you can run make docs-html in the root of the tree and commit the changes to the HTML files as well?  If that's a PITA, I can do that on this end.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,289,2017-08-03T19:45:49Z,2017-08-03T19:58:08Z,2017-08-03T19:58:08Z,MERGED,True,1,1,1,https://github.com/nshalman,docs-md/development/mtev_main.md: fix a typo,1,[],https://github.com/circonus-labs/libmtev/pull/289,https://github.com/nshalman,3,https://github.com/circonus-labs/libmtev/pull/289#issuecomment-320073723,,"Probably better if you do it. I noticed the typo while reading docs online and did the edit from the web UI. I cloned the repo to my laptop, but getting that build to work will be more yak shaving than it's worth for me.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,290,2017-08-07T17:30:41Z,2017-08-07T19:24:49Z,2018-08-14T14:29:21Z,MERGED,True,244,2,2,https://github.com/postwait,Implement mtev_conf_register_global_param,1,[],https://github.com/circonus-labs/libmtev/pull/290,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/290,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,290,2017-08-07T17:30:41Z,2017-08-07T19:24:49Z,2018-08-14T14:29:21Z,MERGED,True,244,2,2,https://github.com/postwait,Implement mtev_conf_register_global_param,1,[],https://github.com/circonus-labs/libmtev/pull/290,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/290#issuecomment-320743228,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,290,2017-08-07T17:30:41Z,2017-08-07T19:24:49Z,2018-08-14T14:29:21Z,MERGED,True,244,2,2,https://github.com/postwait,Implement mtev_conf_register_global_param,1,[],https://github.com/circonus-labs/libmtev/pull/290,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/290#issuecomment-320752514,,Added a parser,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,290,2017-08-07T17:30:41Z,2017-08-07T19:24:49Z,2018-08-14T14:29:21Z,MERGED,True,244,2,2,https://github.com/postwait,Implement mtev_conf_register_global_param,1,[],https://github.com/circonus-labs/libmtev/pull/290,https://github.com/aidancully,4,https://github.com/circonus-labs/libmtev/pull/290#issuecomment-320756302,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,291,2017-08-09T20:40:36Z,2017-08-09T21:39:38Z,2018-08-14T14:25:58Z,MERGED,True,1,0,1,https://github.com/postwait,avoid possible uninitialized use of now,1,[],https://github.com/circonus-labs/libmtev/pull/291,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/291,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,291,2017-08-09T20:40:36Z,2017-08-09T21:39:38Z,2018-08-14T14:25:58Z,MERGED,True,1,0,1,https://github.com/postwait,avoid possible uninitialized use of now,1,[],https://github.com/circonus-labs/libmtev/pull/291,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/291#issuecomment-321378474,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,292,2017-08-09T20:40:42Z,2017-08-09T21:39:30Z,2018-08-14T14:25:36Z,MERGED,True,3,0,1,https://github.com/postwait,RFC 2616 says we SHOULD include an Accept header,1,[],https://github.com/circonus-labs/libmtev/pull/292,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/292,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,292,2017-08-09T20:40:42Z,2017-08-09T21:39:30Z,2018-08-14T14:25:36Z,MERGED,True,3,0,1,https://github.com/postwait,RFC 2616 says we SHOULD include an Accept header,1,[],https://github.com/circonus-labs/libmtev/pull/292,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/292#issuecomment-321379462,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,293,2017-08-09T21:42:32Z,2017-08-24T15:42:04Z,2018-08-14T14:27:54Z,MERGED,True,469,234,13,https://github.com/postwait,Add thread-safety to mtev_conf.,1,[],https://github.com/circonus-labs/libmtev/pull/293,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/293,"This is an API/ABI breaking change.  Efforts were made to
preserve allocation model and be as load as possible on old
use.  One specific note is the need to release section(s)
fetched via mtev_conf_get_section(s).","This is an API/ABI breaking change.  Efforts were made to
preserve allocation model and be as load as possible on old
use.  One specific note is the need to release section(s)
fetched via mtev_conf_get_section(s).",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,294,2017-08-10T14:56:27Z,2017-08-10T15:01:02Z,2018-08-14T14:27:19Z,MERGED,True,55,8,5,https://github.com/postwait,export watchdog info in lua,1,[],https://github.com/circonus-labs/libmtev/pull/294,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/294,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,295,2017-08-10T14:57:09Z,2017-08-21T19:39:36Z,2018-08-14T14:29:25Z,MERGED,True,80,55,6,https://github.com/postwait,Skiplist hide abi,2,[],https://github.com/circonus-labs/libmtev/pull/295,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/295,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,296,2017-08-10T15:55:59Z,2017-08-10T16:38:04Z,2017-08-10T16:38:04Z,MERGED,True,7,18,8,https://github.com/SamuelWM01,Coverity fixes,4,[],https://github.com/circonus-labs/libmtev/pull/296,https://github.com/SamuelWM01,1,https://github.com/circonus-labs/libmtev/pull/296,Misc fixes that were required in coverity. Most are removals of dead code. Functionality appears to have not been interrupted as gmake built correctly and all tests were successful.,Misc fixes that were required in coverity. Most are removals of dead code. Functionality appears to have not been interrupted as gmake built correctly and all tests were successful.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,296,2017-08-10T15:55:59Z,2017-08-10T16:38:04Z,2017-08-10T16:38:04Z,MERGED,True,7,18,8,https://github.com/SamuelWM01,Coverity fixes,4,[],https://github.com/circonus-labs/libmtev/pull/296,https://github.com/SamuelWM01,2,https://github.com/circonus-labs/libmtev/pull/296#issuecomment-321604684,Misc fixes that were required in coverity. Most are removals of dead code. Functionality appears to have not been interrupted as gmake built correctly and all tests were successful.,noticed a typo fixing,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,297,2017-08-10T17:55:25Z,2017-08-10T18:34:22Z,2017-08-10T18:34:22Z,MERGED,True,2,3,2,https://github.com/SamuelWM01,Coverity fixes,2,[],https://github.com/circonus-labs/libmtev/pull/297,https://github.com/SamuelWM01,1,https://github.com/circonus-labs/libmtev/pull/297,More misc fixes.,More misc fixes.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,298,2017-08-10T21:07:36Z,2017-08-11T18:01:39Z,2018-08-14T14:26:27Z,MERGED,True,528,3,5,https://github.com/rileyberton,LFU cache with O(1) operations based on bucketed lists of frequencies,2,[],https://github.com/circonus-labs/libmtev/pull/298,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/298,Need this to deal with currently unbounded caches in a way that's smarter than LRU.,Need this to deal with currently unbounded caches in a way that's smarter than LRU.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,298,2017-08-10T21:07:36Z,2017-08-11T18:01:39Z,2018-08-14T14:26:27Z,MERGED,True,528,3,5,https://github.com/rileyberton,LFU cache with O(1) operations based on bucketed lists of frequencies,2,[],https://github.com/circonus-labs/libmtev/pull/298,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/298#issuecomment-321694366,Need this to deal with currently unbounded caches in a way that's smarter than LRU.,"this doesn't need to be addressed now, or possibly ever, but i'm also a little worried about the number of allocations this may result in for the frequency buckets. unless i'm missing something, it seems likely that common uses of this facility will end up with a frequency bucket per item, and that the buckets will often not be adjacent... with current implementation, this could mean an alloc and a free every time we update the frequency of an item? potentially every time we fetch it from the LFU?
I don't think that's a showstopper for the merge - we'll see if that's an issue later, under load, and if so, we can fix the implementation w/o breaking the ABI.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,298,2017-08-10T21:07:36Z,2017-08-11T18:01:39Z,2018-08-14T14:26:27Z,MERGED,True,528,3,5,https://github.com/rileyberton,LFU cache with O(1) operations based on bucketed lists of frequencies,2,[],https://github.com/circonus-labs/libmtev/pull/298,https://github.com/rileyberton,3,https://github.com/circonus-labs/libmtev/pull/298#issuecomment-321816971,Need this to deal with currently unbounded caches in a way that's smarter than LRU.,"Not sure the allocations are super problematic.  They might become so in cases where there is really high churn in the LFU.  I think in practice, frequently used items will get higher frequency counts and those buckets will exist.
There might be an issue with the 1 bucket under high churn.  We could introduce a freelist here to combat that.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,298,2017-08-10T21:07:36Z,2017-08-11T18:01:39Z,2018-08-14T14:26:27Z,MERGED,True,528,3,5,https://github.com/rileyberton,LFU cache with O(1) operations based on bucketed lists of frequencies,2,[],https://github.com/circonus-labs/libmtev/pull/298,https://github.com/aidancully,4,https://github.com/circonus-labs/libmtev/pull/298#issuecomment-321822127,Need this to deal with currently unbounded caches in a way that's smarter than LRU.,"For example, if we have a single element in the LFU, we call mtev_lfu_get to retrieve it, which calls touch_lfu_get_no_lock. touch_lfu_get_no_lock will remove the element from its existing bucket (to bump the frequency), freeing the old bucket (there was only one element, and now there are 0), and allocating a new bucket for the new frequency. This is potentially a free / alloc on every fetch.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,298,2017-08-10T21:07:36Z,2017-08-11T18:01:39Z,2018-08-14T14:26:27Z,MERGED,True,528,3,5,https://github.com/rileyberton,LFU cache with O(1) operations based on bucketed lists of frequencies,2,[],https://github.com/circonus-labs/libmtev/pull/298,https://github.com/rileyberton,5,https://github.com/circonus-labs/libmtev/pull/298#issuecomment-321829632,Need this to deal with currently unbounded caches in a way that's smarter than LRU.,Yes but that condition (1 element in the bucket) would only be under very low usage of the LFU.  We could retain the bucket once it's created but this has the same unbounded memory problem.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,298,2017-08-10T21:07:36Z,2017-08-11T18:01:39Z,2018-08-14T14:26:27Z,MERGED,True,528,3,5,https://github.com/rileyberton,LFU cache with O(1) operations based on bucketed lists of frequencies,2,[],https://github.com/circonus-labs/libmtev/pull/298,https://github.com/aidancully,6,https://github.com/circonus-labs/libmtev/pull/298#issuecomment-321831748,Need this to deal with currently unbounded caches in a way that's smarter than LRU.,"I suspect that 1 element in the bucket will be the common case, as the LFU's lifetime increases. In other words, I think it will, after running for a long time, be unlikely that frequently-used elements will have the exact same (or +/- 1) use frequencies. Say, after running for a long time, we ultimately fetch an item 1,000,000 times... I think it will be unlikely that any other elements will have been accessed exactly 999,999, or 1,000,001 times.
Again, though, I don't think it blocks the merge.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,298,2017-08-10T21:07:36Z,2017-08-11T18:01:39Z,2018-08-14T14:26:27Z,MERGED,True,528,3,5,https://github.com/rileyberton,LFU cache with O(1) operations based on bucketed lists of frequencies,2,[],https://github.com/circonus-labs/libmtev/pull/298,https://github.com/rileyberton,7,https://github.com/circonus-labs/libmtev/pull/298#issuecomment-321834328,Need this to deal with currently unbounded caches in a way that's smarter than LRU.,"So the other way to handle this is to use a skiplist or something for cache entries and pay logN to search it for insertion every time there is an operation (we'd have to remove from the list and re-add on frequency change to ensure the order is correct).
We could also implement a min-heap or other ordered tree and pay the same cost.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,298,2017-08-10T21:07:36Z,2017-08-11T18:01:39Z,2018-08-14T14:26:27Z,MERGED,True,528,3,5,https://github.com/rileyberton,LFU cache with O(1) operations based on bucketed lists of frequencies,2,[],https://github.com/circonus-labs/libmtev/pull/298,https://github.com/aidancully,8,https://github.com/circonus-labs/libmtev/pull/298#issuecomment-321836804,Need this to deal with currently unbounded caches in a way that's smarter than LRU.,"The 1 element bucket pathology can be largely avoided by not immediately freeing the bucket after removal, and instead using the old structure if there isn't already a destination bucket. This would have the effect of, essentially, bumping the frequency field of the lfu_cache_entry for the common case that the lfu_cache_entry has only one element, and no adjacent neighbors.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,299,2017-08-11T15:05:03Z,2017-08-14T13:58:49Z,2017-08-14T13:58:49Z,MERGED,True,9,12,5,https://github.com/SamuelWM01,Misc coverity fixes,3,[],https://github.com/circonus-labs/libmtev/pull/299,https://github.com/SamuelWM01,1,https://github.com/circonus-labs/libmtev/pull/299,"Made changes to many null check deferences.
I don't know to much about this bug type so a solid review would be appreciated.
Also made a few other coverity fixes.","Made changes to many null check deferences.
I don't know to much about this bug type so a solid review would be appreciated.
Also made a few other coverity fixes.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,299,2017-08-11T15:05:03Z,2017-08-14T13:58:49Z,2017-08-14T13:58:49Z,MERGED,True,9,12,5,https://github.com/SamuelWM01,Misc coverity fixes,3,[],https://github.com/circonus-labs/libmtev/pull/299,https://github.com/SamuelWM01,2,https://github.com/circonus-labs/libmtev/pull/299#issuecomment-321848481,"Made changes to many null check deferences.
I don't know to much about this bug type so a solid review would be appreciated.
Also made a few other coverity fixes.",making corrections to incorrect fixes.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,300,2017-08-14T14:07:03Z,2017-08-14T14:41:43Z,2017-08-14T14:41:46Z,MERGED,True,75,13,2,https://github.com/rileyberton,"re-use LFU buckets instead of allocating, make the zero sized LFU wor…",4,[],https://github.com/circonus-labs/libmtev/pull/300,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/300,…k properly,…k properly,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,300,2017-08-14T14:07:03Z,2017-08-14T14:41:43Z,2017-08-14T14:41:46Z,MERGED,True,75,13,2,https://github.com/rileyberton,"re-use LFU buckets instead of allocating, make the zero sized LFU wor…",4,[],https://github.com/circonus-labs/libmtev/pull/300,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/300#issuecomment-322208934,…k properly,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,301,2017-08-14T17:31:24Z,2017-08-14T17:39:30Z,2018-08-14T14:29:45Z,MERGED,True,7,7,7,https://github.com/postwait,fix race in eventer_update_whence,2,[],https://github.com/circonus-labs/libmtev/pull/301,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/301,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,301,2017-08-14T17:31:24Z,2017-08-14T17:39:30Z,2018-08-14T14:29:45Z,MERGED,True,7,7,7,https://github.com/postwait,fix race in eventer_update_whence,2,[],https://github.com/circonus-labs/libmtev/pull/301,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/301#issuecomment-322256789,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,302,2017-08-15T18:26:14Z,2017-08-16T18:39:03Z,2017-08-16T18:39:07Z,MERGED,True,38,21,2,https://github.com/rileyberton,more tests for edge cases and fix edge cases,3,[],https://github.com/circonus-labs/libmtev/pull/302,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/302,"Found a few edge cases:

getting the same value twice from the LFU would segfault
there is a case where buckets would get ordered incorrectly","Found a few edge cases:

getting the same value twice from the LFU would segfault
there is a case where buckets would get ordered incorrectly",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,303,2017-08-16T14:46:53Z,2017-08-16T15:25:38Z,2017-08-16T15:25:38Z,MERGED,True,2,4,3,https://github.com/SamuelWM01,More coverity fixes,3,[],https://github.com/circonus-labs/libmtev/pull/303,https://github.com/SamuelWM01,1,https://github.com/circonus-labs/libmtev/pull/303,"Fixed a few more issues in coverity. Need to push and merge this so I can do a git pull and Fix a few more remaining changes.
Reviews appreciated.
Edit to lines 85 & 86 of mtev_cpuid.c is an attempt to have at least one condition reach the default return and avoid a deadcode error.","Fixed a few more issues in coverity. Need to push and merge this so I can do a git pull and Fix a few more remaining changes.
Reviews appreciated.
Edit to lines 85 & 86 of mtev_cpuid.c is an attempt to have at least one condition reach the default return and avoid a deadcode error.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,304,2017-08-16T20:32:41Z,2017-08-17T17:34:49Z,2017-08-17T17:34:49Z,MERGED,True,6,4,4,https://github.com/SamuelWM01,Even More Coverity Fixes,1,[],https://github.com/circonus-labs/libmtev/pull/304,https://github.com/SamuelWM01,1,https://github.com/circonus-labs/libmtev/pull/304,"Fixes for an insecure temp file, deadcode, and unchecked return values.
Couldn't fix other temp file yet due to testing errors.
Warning umask might break stuff due to the nature of the command.
Merge with caution and if a problem is noticed, notify me and I will fix it.","Fixes for an insecure temp file, deadcode, and unchecked return values.
Couldn't fix other temp file yet due to testing errors.
Warning umask might break stuff due to the nature of the command.
Merge with caution and if a problem is noticed, notify me and I will fix it.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,304,2017-08-16T20:32:41Z,2017-08-17T17:34:49Z,2017-08-17T17:34:49Z,MERGED,True,6,4,4,https://github.com/SamuelWM01,Even More Coverity Fixes,1,[],https://github.com/circonus-labs/libmtev/pull/304,https://github.com/SamuelWM01,2,https://github.com/circonus-labs/libmtev/pull/304#issuecomment-322891694,"Fixes for an insecure temp file, deadcode, and unchecked return values.
Couldn't fix other temp file yet due to testing errors.
Warning umask might break stuff due to the nature of the command.
Merge with caution and if a problem is noticed, notify me and I will fix it.","tests worked and libmtev built with the temp file insecurity fix, I'm just concerned that the tests may not be adequate for the change 🤔",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,304,2017-08-16T20:32:41Z,2017-08-17T17:34:49Z,2017-08-17T17:34:49Z,MERGED,True,6,4,4,https://github.com/SamuelWM01,Even More Coverity Fixes,1,[],https://github.com/circonus-labs/libmtev/pull/304,https://github.com/rileyberton,3,https://github.com/circonus-labs/libmtev/pull/304#issuecomment-322892712,"Fixes for an insecure temp file, deadcode, and unchecked return values.
Couldn't fix other temp file yet due to testing errors.
Warning umask might break stuff due to the nature of the command.
Merge with caution and if a problem is noticed, notify me and I will fix it.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,305,2017-08-17T17:35:23Z,2017-08-17T17:43:42Z,2018-08-14T14:28:30Z,MERGED,True,15,0,3,https://github.com/postwait,Implement safe memory thread shutdown.,1,[],https://github.com/circonus-labs/libmtev/pull/305,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/305,"As threads exited in jobq pool maintenance, we would leak
epoch records.  This provides an API for shutdown and uses
it in thread shutdown of jobq pools.  Additionally, an API
is provided to determine if this thread has be memory_safe
initialized.","As threads exited in jobq pool maintenance, we would leak
epoch records.  This provides an API for shutdown and uses
it in thread shutdown of jobq pools.  Additionally, an API
is provided to determine if this thread has be memory_safe
initialized.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,306,2017-08-17T18:00:22Z,2017-08-17T19:09:33Z,2017-08-17T19:09:33Z,MERGED,True,1,1,1,https://github.com/SamuelWM01,Failure Fix,2,[],https://github.com/circonus-labs/libmtev/pull/306,https://github.com/SamuelWM01,1,https://github.com/circonus-labs/libmtev/pull/306,"Attempted fix to insecure temp file caused failures.
Changing it back for the time being.","Attempted fix to insecure temp file caused failures.
Changing it back for the time being.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,306,2017-08-17T18:00:22Z,2017-08-17T19:09:33Z,2017-08-17T19:09:33Z,MERGED,True,1,1,1,https://github.com/SamuelWM01,Failure Fix,2,[],https://github.com/circonus-labs/libmtev/pull/306,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/306#issuecomment-323156337,"Attempted fix to insecure temp file caused failures.
Changing it back for the time being.","utils/mtev_stacktrace.c:122: error: 'oldmask' undeclared (first use in this function)

Failures only happened on Linux, and not on OmniOS, but according to Sam, simply declaring the oldmask variable beforehand did not work.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,306,2017-08-17T18:00:22Z,2017-08-17T19:09:33Z,2017-08-17T19:09:33Z,MERGED,True,1,1,1,https://github.com/SamuelWM01,Failure Fix,2,[],https://github.com/circonus-labs/libmtev/pull/306,https://github.com/SamuelWM01,3,https://github.com/circonus-labs/libmtev/pull/306#issuecomment-323158219,"Attempted fix to insecure temp file caused failures.
Changing it back for the time being.","When I had the variable declared before hand it crashed and burned in my devzone, looking into it rn.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,307,2017-08-18T17:38:00Z,2017-08-21T13:53:55Z,2018-08-14T14:24:16Z,MERGED,True,2,1,1,https://github.com/postwait,free line,1,[],https://github.com/circonus-labs/libmtev/pull/307,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/307,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,308,2017-08-18T20:50:28Z,2017-08-28T18:18:02Z,2017-08-28T18:18:05Z,MERGED,True,166,46,3,https://github.com/rileyberton,Mtev hash iterate spmc,4,[],https://github.com/circonus-labs/libmtev/pull/308,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/308,"This relies on HEAD of concurrency kit to get ck_hs_next_spmc
I will leave this open until we have a libck package based on HEAD.
There is a bunch of safe memory stuff below.
The short story is: You can use mtev_hash as SPMC going forward and iterate/get from it on the read side without locks.  Even in the face of deletes from the writer thread.  Before this merge this wasn't really safe because ck_hs did not memoize the internal map and iterations and gets could hit the old map after a resize in the write thread which could have already been freed.","This relies on HEAD of concurrency kit to get ck_hs_next_spmc
I will leave this open until we have a libck package based on HEAD.
There is a bunch of safe memory stuff below.
The short story is: You can use mtev_hash as SPMC going forward and iterate/get from it on the read side without locks.  Even in the face of deletes from the writer thread.  Before this merge this wasn't really safe because ck_hs did not memoize the internal map and iterations and gets could hit the old map after a resize in the write thread which could have already been freed.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,308,2017-08-18T20:50:28Z,2017-08-28T18:18:02Z,2017-08-28T18:18:05Z,MERGED,True,166,46,3,https://github.com/rileyberton,Mtev hash iterate spmc,4,[],https://github.com/circonus-labs/libmtev/pull/308,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/308#issuecomment-323469138,"This relies on HEAD of concurrency kit to get ck_hs_next_spmc
I will leave this open until we have a libck package based on HEAD.
There is a bunch of safe memory stuff below.
The short story is: You can use mtev_hash as SPMC going forward and iterate/get from it on the read side without locks.  Even in the face of deletes from the writer thread.  Before this merge this wasn't really safe because ck_hs did not memoize the internal map and iterations and gets could hit the old map after a resize in the write thread which could have already been freed.","Yes, did this.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,309,2017-08-21T15:46:55Z,2017-08-21T15:55:15Z,2018-08-14T14:15:54Z,MERGED,True,18,4,2,https://github.com/postwait,"mtev_memory_safe_free before thread ""fini""",1,[],https://github.com/circonus-labs/libmtev/pull/309,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/309,"We were uninitializing the epoch system and then attmepting
to epoch free in the thread tear-down.  We need to make sure
the thread tear down doesn't do any memory safe things.  We
NULL out the thread name to account for this ordering issue.","We were uninitializing the epoch system and then attmepting
to epoch free in the thread tear-down.  We need to make sure
the thread tear down doesn't do any memory safe things.  We
NULL out the thread name to account for this ordering issue.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,310,2017-08-22T16:08:25Z,2017-08-22T16:15:12Z,2018-08-14T14:25:39Z,MERGED,True,6,6,1,https://github.com/postwait,Protect against null dereference.,1,[],https://github.com/circonus-labs/libmtev/pull/310,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/310,"It is possible to release the head chain (nulling it), then break to here
from the EAGAIN read state to if there is data available and wind up with
no next chunk and head unassigned.  We need to always assign head upon
entering this section of code.","It is possible to release the head chain (nulling it), then break to here
from the EAGAIN read state to if there is data available and wind up with
no next chunk and head unassigned.  We need to always assign head upon
entering this section of code.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,310,2017-08-22T16:08:25Z,2017-08-22T16:15:12Z,2018-08-14T14:25:39Z,MERGED,True,6,6,1,https://github.com/postwait,Protect against null dereference.,1,[],https://github.com/circonus-labs/libmtev/pull/310,https://github.com/gallison93,2,https://github.com/circonus-labs/libmtev/pull/310#issuecomment-324076231,"It is possible to release the head chain (nulling it), then break to here
from the EAGAIN read state to if there is data available and wind up with
no next chunk and head unassigned.  We need to always assign head upon
entering this section of code.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,311,2017-08-28T19:04:58Z,2017-08-28T19:22:28Z,2018-08-14T14:25:29Z,MERGED,True,4,4,1,https://github.com/postwait,"use local context, coverity",1,[],https://github.com/circonus-labs/libmtev/pull/311,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/311,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,312,2017-08-28T19:05:19Z,2017-08-28T19:30:39Z,2017-08-28T19:30:42Z,MERGED,True,1,0,1,https://github.com/pamaddox,Fix Memory Leak In rest_xml_payload_free Function,1,[],https://github.com/circonus-labs/libmtev/pull/312,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/312,"We need to free the actual object being passed into
rest_xml_payload_free, not just its components.","We need to free the actual object being passed into
rest_xml_payload_free, not just its components.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,313,2017-08-28T19:29:30Z,2017-08-28T19:43:53Z,2017-08-28T19:43:56Z,MERGED,True,9,1,2,https://github.com/rileyberton,fix return value of mtev_hash_set to indicate whether something was r…,2,[],https://github.com/circonus-labs/libmtev/pull/313,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/313,…eplaced and utilize this in mtev_hash_replace for free function calling,…eplaced and utilize this in mtev_hash_replace for free function calling,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,313,2017-08-28T19:29:30Z,2017-08-28T19:43:53Z,2017-08-28T19:43:56Z,MERGED,True,9,1,2,https://github.com/rileyberton,fix return value of mtev_hash_set to indicate whether something was r…,2,[],https://github.com/circonus-labs/libmtev/pull/313,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/313#issuecomment-325458166,…eplaced and utilize this in mtev_hash_replace for free function calling,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,314,2017-08-28T20:00:49Z,2017-08-28T20:09:50Z,2017-08-28T20:09:52Z,MERGED,True,24,18,4,https://github.com/rileyberton,various coverity gripes,1,[],https://github.com/circonus-labs/libmtev/pull/314,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/314,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,314,2017-08-28T20:00:49Z,2017-08-28T20:09:50Z,2017-08-28T20:09:52Z,MERGED,True,24,18,4,https://github.com/rileyberton,various coverity gripes,1,[],https://github.com/circonus-labs/libmtev/pull/314,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/314#issuecomment-325464692,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,315,2017-08-29T16:18:56Z,2017-08-29T16:44:55Z,2017-08-29T16:44:57Z,MERGED,True,4,0,1,https://github.com/pamaddox,Add Missing Release In mtev_conf_security_init,1,[],https://github.com/circonus-labs/libmtev/pull/315,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/315,"We were failing to release ""secnode"" here, causing a potential deadlock.","We were failing to release ""secnode"" here, causing a potential deadlock.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,315,2017-08-29T16:18:56Z,2017-08-29T16:44:55Z,2017-08-29T16:44:57Z,MERGED,True,4,0,1,https://github.com/pamaddox,Add Missing Release In mtev_conf_security_init,1,[],https://github.com/circonus-labs/libmtev/pull/315,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/315#issuecomment-325718464,"We were failing to release ""secnode"" here, causing a potential deadlock.",lgtm,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,316,2017-08-31T21:22:10Z,2017-09-01T14:19:25Z,2017-09-01T14:19:28Z,MERGED,True,1,0,1,https://github.com/pamaddox,Fix Crashing Bug In lua_mtev.c,1,[],https://github.com/circonus-labs/libmtev/pull/316,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/316,"When we free, we need to set the eptr to NULL to prevent reuse.","When we free, we need to set the eptr to NULL to prevent reuse.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,316,2017-08-31T21:22:10Z,2017-09-01T14:19:25Z,2017-09-01T14:19:28Z,MERGED,True,1,0,1,https://github.com/pamaddox,Fix Crashing Bug In lua_mtev.c,1,[],https://github.com/circonus-labs/libmtev/pull/316,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/316#issuecomment-326428517,"When we free, we need to set the eptr to NULL to prevent reuse.",Agreed with Aidan.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,316,2017-08-31T21:22:10Z,2017-09-01T14:19:25Z,2017-09-01T14:19:28Z,MERGED,True,1,0,1,https://github.com/pamaddox,Fix Crashing Bug In lua_mtev.c,1,[],https://github.com/circonus-labs/libmtev/pull/316,https://github.com/aidancully,3,https://github.com/circonus-labs/libmtev/pull/316#issuecomment-326588077,"When we free, we need to set the eptr to NULL to prevent reuse.","AFAICT, C code can only see cl->eptr through cl.cl->eptr was allocated by lua_newuserdata, so Lua also has access to cl->eptr (in a way), and that's what's causing the UAF. In the problem case I looked at, C code has free'd the eventer_t via mtev_lua_resume_clean_events, but cl->eptr was left populated. So when Lua attempted to GC cl->eptr, we got a UAF.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,317,2017-09-05T19:52:17Z,2018-02-06T15:22:47Z,2018-08-14T14:21:22Z,MERGED,True,41,7,1,https://github.com/aidancully,use a different eventer_t when triggering after APPEND_OUT.,2,[],https://github.com/circonus-labs/libmtev/pull/317,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/317,I think this avoids a potential use-after-free when writing to a reverse-socket from another thread.,I think this avoids a potential use-after-free when writing to a reverse-socket from another thread.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,318,2017-09-06T15:36:30Z,2017-09-06T15:56:21Z,2017-09-06T15:57:09Z,CLOSED,False,32,1,2,https://github.com/postwait,expose jemalloc stats in JSON over REST,1,[],https://github.com/circonus-labs/libmtev/pull/318,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/318,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,319,2017-09-06T17:47:08Z,2017-09-06T17:54:46Z,2017-09-06T17:54:49Z,MERGED,True,9,0,1,https://github.com/pamaddox,Fix Potential Race Condition In Log Setup,1,[],https://github.com/circonus-labs/libmtev/pull/319,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/319,"If we try to find a log and fail, we attempt to create it; however,
another thread MAY have already created the log, which would lead to
storing the ""new"" log failing, which would lead to a crash. If we fail
to open a log, rather than crashing, we should try to retrieve it again;
if THAT fails, we should just assert out rather than dying by trying to
access a null pointer.","If we try to find a log and fail, we attempt to create it; however,
another thread MAY have already created the log, which would lead to
storing the ""new"" log failing, which would lead to a crash. If we fail
to open a log, rather than crashing, we should try to retrieve it again;
if THAT fails, we should just assert out rather than dying by trying to
access a null pointer.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,320,2017-09-18T13:54:21Z,2017-09-18T16:01:31Z,2017-09-18T16:01:37Z,MERGED,True,38,0,2,https://github.com/aidancully,add `eventer_at_next_opportunity` and `eventer_add_at_next_opportunit…,2,[],https://github.com/circonus-labs/libmtev/pull/320,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/320,"…y` functions.
these wake up the relevant event-loop, to call the requested callback
as soon as possible.","…y` functions.
these wake up the relevant event-loop, to call the requested callback
as soon as possible.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,321,2017-09-19T14:39:52Z,2017-09-19T18:47:17Z,2018-08-14T14:29:35Z,MERGED,True,23,4,2,https://github.com/postwait,improve SSL accept error message,2,[],https://github.com/circonus-labs/libmtev/pull/321,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/321,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,321,2017-09-19T14:39:52Z,2017-09-19T18:47:17Z,2018-08-14T14:29:35Z,MERGED,True,23,4,2,https://github.com/postwait,improve SSL accept error message,2,[],https://github.com/circonus-labs/libmtev/pull/321,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/321#issuecomment-330570060,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,322,2017-09-19T18:11:37Z,2017-09-19T18:52:09Z,2018-08-14T14:28:46Z,MERGED,True,2,2,1,https://github.com/HeinrichHartmann,mtevbusted: Show stack traces on error,1,[],https://github.com/circonus-labs/libmtev/pull/322,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/322,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,323,2017-09-19T20:01:26Z,2017-09-20T16:42:46Z,2018-08-14T14:27:47Z,MERGED,True,175,95,11,https://github.com/postwait,hide acceptor_closure_t ABI,1,[],https://github.com/circonus-labs/libmtev/pull/323,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/323,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,324,2017-09-26T18:10:44Z,2017-09-26T20:09:02Z,2017-09-26T20:09:04Z,MERGED,True,58,0,1,https://github.com/pamaddox,Add Function To Run Commands Synchronously And Return Output,5,[],https://github.com/circonus-labs/libmtev/pull/324,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/324,"In mtevbusted.... we need a way to run an external process and return
the output of said process. Added functions to allow for this.","In mtevbusted.... we need a way to run an external process and return
the output of said process. Added functions to allow for this.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,324,2017-09-26T18:10:44Z,2017-09-26T20:09:02Z,2017-09-26T20:09:04Z,MERGED,True,58,0,1,https://github.com/pamaddox,Add Function To Run Commands Synchronously And Return Output,5,[],https://github.com/circonus-labs/libmtev/pull/324,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/324#issuecomment-332318605,"In mtevbusted.... we need a way to run an external process and return
the output of said process. Added functions to allow for this.","LGTM, but this is more @postwait's area",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,325,2017-10-04T21:42:37Z,2017-10-04T21:45:59Z,2018-08-14T14:21:29Z,MERGED,True,1,1,1,https://github.com/rileyberton,return headers from HTTP requests,1,[],https://github.com/circonus-labs/libmtev/pull/325,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/325,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,325,2017-10-04T21:42:37Z,2017-10-04T21:45:59Z,2018-08-14T14:21:29Z,MERGED,True,1,1,1,https://github.com/rileyberton,return headers from HTTP requests,1,[],https://github.com/circonus-labs/libmtev/pull/325,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/325#issuecomment-334298907,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,326,2017-10-06T13:58:26Z,2017-10-06T14:07:51Z,2017-10-06T14:07:51Z,MERGED,True,31,0,1,https://github.com/esproul,Improve DTrace documentation,1,[],https://github.com/circonus-labs/libmtev/pull/326,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/326,"Describe how probes definitions will look and how to list them.
Add the HTTP probes.
Link to DTrace documentation.","Describe how probes definitions will look and how to list them.
Add the HTTP probes.
Link to DTrace documentation.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,327,2017-10-11T20:09:32Z,2017-10-12T19:54:51Z,2017-10-12T19:54:51Z,MERGED,True,127,36,6,https://github.com/esproul,Add sha256 functions to mtev_lua,3,[],https://github.com/circonus-labs/libmtev/pull/327,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/327,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,327,2017-10-11T20:09:32Z,2017-10-12T19:54:51Z,2017-10-12T19:54:51Z,MERGED,True,127,36,6,https://github.com/esproul,Add sha256 functions to mtev_lua,3,[],https://github.com/circonus-labs/libmtev/pull/327,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/327#issuecomment-336207277,,"@postwait just to clarify, since I don't see any of the existing hash functions documented, this will be in the ""Lua"" section of the API reference, i.e. http://circonus-labs.github.io/libmtev/apireference/#lua ?",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,327,2017-10-11T20:09:32Z,2017-10-12T19:54:51Z,2017-10-12T19:54:51Z,MERGED,True,127,36,6,https://github.com/esproul,Add sha256 functions to mtev_lua,3,[],https://github.com/circonus-labs/libmtev/pull/327,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/327#issuecomment-336215640,,There has been a document as you touch things approach.  See other documented lua functions in the code.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,328,2017-10-18T21:52:53Z,2017-10-18T21:59:08Z,2017-10-18T21:59:12Z,MERGED,True,0,2,1,https://github.com/aidancully,using umask on stacktrace is not safe.,1,[],https://github.com/circonus-labs/libmtev/pull/328,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/328,"other threads may rely on umask having an application-set value,
so that modifying it during a stack-dump can cause those other threads
to misbehave.","other threads may rely on umask having an application-set value,
so that modifying it during a stack-dump can cause those other threads
to misbehave.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,328,2017-10-18T21:52:53Z,2017-10-18T21:59:08Z,2017-10-18T21:59:12Z,MERGED,True,0,2,1,https://github.com/aidancully,using umask on stacktrace is not safe.,1,[],https://github.com/circonus-labs/libmtev/pull/328,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/328#issuecomment-337739832,"other threads may rely on umask having an application-set value,
so that modifying it during a stack-dump can cause those other threads
to misbehave.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,329,2017-10-19T15:39:40Z,2017-10-19T15:46:35Z,2017-10-19T15:46:40Z,MERGED,True,7,0,1,https://github.com/aidancully,suppress coverity false positive,1,[],https://github.com/circonus-labs/libmtev/pull/329,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/329,and document why this is a false positive.,and document why this is a false positive.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,329,2017-10-19T15:39:40Z,2017-10-19T15:46:35Z,2017-10-19T15:46:40Z,MERGED,True,7,0,1,https://github.com/aidancully,suppress coverity false positive,1,[],https://github.com/circonus-labs/libmtev/pull/329,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/329#issuecomment-337949903,and document why this is a false positive.,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,330,2017-10-20T14:30:56Z,2017-10-20T14:53:56Z,2017-10-20T15:29:14Z,MERGED,True,39,39,11,https://github.com/esproul,Fix various typos,1,[],https://github.com/circonus-labs/libmtev/pull/330,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/330,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,331,2017-10-20T15:25:31Z,2017-10-20T15:29:34Z,2017-10-20T15:29:38Z,MERGED,True,1,1,1,https://github.com/aidancully,fix return value from lua hook glue,1,[],https://github.com/circonus-labs/libmtev/pull/331,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/331,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,331,2017-10-20T15:25:31Z,2017-10-20T15:29:34Z,2017-10-20T15:29:38Z,MERGED,True,1,1,1,https://github.com/aidancully,fix return value from lua hook glue,1,[],https://github.com/circonus-labs/libmtev/pull/331,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/331#issuecomment-338240009,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,332,2017-10-23T20:05:27Z,2017-10-23T20:12:52Z,2018-08-14T14:28:16Z,MERGED,True,2,0,1,https://github.com/postwait,expose _proto and _exists for hooks,1,[],https://github.com/circonus-labs/libmtev/pull/332,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/332,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,332,2017-10-23T20:05:27Z,2017-10-23T20:12:52Z,2018-08-14T14:28:16Z,MERGED,True,2,0,1,https://github.com/postwait,expose _proto and _exists for hooks,1,[],https://github.com/circonus-labs/libmtev/pull/332,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/332#issuecomment-338782087,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,333,2017-10-24T20:57:58Z,2017-10-27T19:57:17Z,2017-10-27T19:57:20Z,MERGED,True,31,1,2,https://github.com/aidancully,mtev_sem_wait_noeintr function,1,[],https://github.com/circonus-labs/libmtev/pull/333,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/333,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,333,2017-10-24T20:57:58Z,2017-10-27T19:57:17Z,2017-10-27T19:57:20Z,MERGED,True,31,1,2,https://github.com/aidancully,mtev_sem_wait_noeintr function,1,[],https://github.com/circonus-labs/libmtev/pull/333,https://github.com/aidancully,2,https://github.com/circonus-labs/libmtev/pull/333#issuecomment-340066398,,"anyone? if this goes too much against the grain, i'd prefer it be closed than to hang out open and pending.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,334,2017-10-25T19:51:03Z,2017-10-25T19:55:00Z,2018-08-14T14:29:18Z,MERGED,True,4,2,2,https://github.com/postwait,Expose PID in booting notices,1,[],https://github.com/circonus-labs/libmtev/pull/334,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/334,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,335,2017-10-27T21:16:54Z,2017-10-30T13:35:13Z,2017-10-30T13:35:18Z,MERGED,True,67,18,1,https://github.com/rileyberton,support non-string keys in mtev_lfu,3,[],https://github.com/circonus-labs/libmtev/pull/335,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/335,store key_len with the LFU key so we can store arbitrary non-string keys.,store key_len with the LFU key so we can store arbitrary non-string keys.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,336,2017-11-07T23:44:24Z,2017-11-13T14:05:28Z,2018-08-14T14:26:56Z,MERGED,True,171,58,6,https://github.com/rileyberton,"move LRU to non-string keys, introduce memory safety through a get/re…",2,[],https://github.com/circonus-labs/libmtev/pull/336,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/336,…lease semantic,…lease semantic,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,337,2017-11-08T18:49:56Z,2017-11-08T18:50:49Z,2018-08-14T14:29:39Z,MERGED,True,129,18,5,https://github.com/postwait,support stats panel,1,[],https://github.com/circonus-labs/libmtev/pull/337,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/337,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,338,2017-11-08T18:50:03Z,2017-11-08T19:24:46Z,2018-08-14T14:29:12Z,MERGED,True,32,5,3,https://github.com/postwait,track latencies by rest mount point,1,[],https://github.com/circonus-labs/libmtev/pull/338,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/338,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,339,2017-11-09T15:25:08Z,2017-11-27T15:39:24Z,2018-08-14T14:24:36Z,CLOSED,False,2,2,1,https://github.com/HeinrichHartmann,Allow intermediate nodes in eventer/config,1,[],https://github.com/circonus-labs/libmtev/pull/339,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/339,So that we will find eventer/config stanzas in include files.,So that we will find eventer/config stanzas in include files.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,339,2017-11-09T15:25:08Z,2017-11-27T15:39:24Z,2018-08-14T14:24:36Z,CLOSED,False,2,2,1,https://github.com/HeinrichHartmann,Allow intermediate nodes in eventer/config,1,[],https://github.com/circonus-labs/libmtev/pull/339,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/339#issuecomment-347220664,So that we will find eventer/config stanzas in include files.,obsolete.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,340,2017-11-10T14:55:31Z,2017-11-10T15:18:09Z,2018-08-14T14:25:55Z,MERGED,True,4,2,1,https://github.com/postwait,support <eventer> as top-level include,1,[],https://github.com/circonus-labs/libmtev/pull/340,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/340,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,340,2017-11-10T14:55:31Z,2017-11-10T15:18:09Z,2018-08-14T14:25:55Z,MERGED,True,4,2,1,https://github.com/postwait,support <eventer> as top-level include,1,[],https://github.com/circonus-labs/libmtev/pull/340,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/340#issuecomment-343494489,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,341,2017-11-10T16:50:45Z,2017-11-10T18:33:44Z,2018-08-14T14:29:09Z,MERGED,True,3,44,4,https://github.com/postwait,remove flaw compiled fallbacks,2,[],https://github.com/circonus-labs/libmtev/pull/341,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/341,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,342,2017-11-13T17:16:56Z,2017-11-14T15:01:28Z,2018-08-14T14:27:12Z,MERGED,True,294,7,6,https://github.com/postwait,Support mtev.stats to register and record stats.,3,[],https://github.com/circonus-labs/libmtev/pull/342,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/342,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,343,2017-11-14T13:57:54Z,2017-11-14T14:16:41Z,2018-08-14T14:28:01Z,MERGED,True,2707,924,46,https://github.com/postwait,mtev_frrh_t implementation,2,[],https://github.com/circonus-labs/libmtev/pull/343,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/343,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,343,2017-11-14T13:57:54Z,2017-11-14T14:16:41Z,2018-08-14T14:28:01Z,MERGED,True,2707,924,46,https://github.com/postwait,mtev_frrh_t implementation,2,[],https://github.com/circonus-labs/libmtev/pull/343,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/343#issuecomment-344270206,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,344,2017-11-14T22:46:22Z,2017-11-14T22:53:29Z,2018-08-14T14:27:43Z,MERGED,True,36,30,2,https://github.com/postwait,We need to be careful to delay the connection to post_init so that,1,[],https://github.com/circonus-labs/libmtev/pull/344,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/344,"other players can hook ""connect"" without a race.","other players can hook ""connect"" without a race.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,345,2017-11-15T22:39:51Z,2017-11-16T16:49:36Z,2018-08-14T14:26:59Z,MERGED,True,33,0,1,https://github.com/HeinrichHartmann,Lua add _unwarp_json,3,[],https://github.com/circonus-labs/libmtev/pull/345,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/345,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,345,2017-11-15T22:39:51Z,2017-11-16T16:49:36Z,2018-08-14T14:26:59Z,MERGED,True,33,0,1,https://github.com/HeinrichHartmann,Lua add _unwarp_json,3,[],https://github.com/circonus-labs/libmtev/pull/345,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/345#issuecomment-344781892,,That's the reason there are two commits in this PR. Just click on them to see the individual diffs.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,345,2017-11-15T22:39:51Z,2017-11-16T16:49:36Z,2018-08-14T14:26:59Z,MERGED,True,33,0,1,https://github.com/HeinrichHartmann,Lua add _unwarp_json,3,[],https://github.com/circonus-labs/libmtev/pull/345,https://github.com/HeinrichHartmann,3,https://github.com/circonus-labs/libmtev/pull/345#issuecomment-344981142,,"LGTM.
Did some local testing. This appears to be working as expected.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,346,2017-11-16T20:55:15Z,2017-11-16T21:24:49Z,2018-08-14T14:26:40Z,MERGED,True,8,1,1,https://github.com/postwait,Track errno for failed asynch writes,2,[],https://github.com/circonus-labs/libmtev/pull/346,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/346,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,347,2017-11-18T00:47:10Z,2017-11-21T19:44:08Z,2018-08-14T14:24:29Z,MERGED,True,743,301,44,https://github.com/HeinrichHartmann,Add lua documentation stubs,7,[],https://github.com/circonus-labs/libmtev/pull/347,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/347,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,348,2017-11-28T19:33:55Z,2017-11-28T19:39:53Z,2017-11-28T19:39:55Z,MERGED,True,5,0,1,https://github.com/pamaddox,Fix Memory Leak In nl_waitfor Functions,2,[],https://github.com/circonus-labs/libmtev/pull/348,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/348,"We were basically leaking eventer objects all over the place due to not
cleaning them up when we resume. Fix this memory leak.","We were basically leaking eventer objects all over the place due to not
cleaning them up when we resume. Fix this memory leak.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,349,2017-11-30T19:26:13Z,2017-11-30T19:37:13Z,2018-08-14T14:26:49Z,MERGED,True,27,0,1,https://github.com/postwait,lock around resize-possible ops,1,[],https://github.com/circonus-labs/libmtev/pull/349,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/349,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,349,2017-11-30T19:26:13Z,2017-11-30T19:37:13Z,2018-08-14T14:26:49Z,MERGED,True,27,0,1,https://github.com/postwait,lock around resize-possible ops,1,[],https://github.com/circonus-labs/libmtev/pull/349,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/349#issuecomment-348295153,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,350,2017-12-01T14:34:28Z,2017-12-01T18:17:08Z,2018-08-14T14:26:19Z,MERGED,True,194,16,4,https://github.com/postwait,Implement fair scheduling inside jobqs based on subqueue.,3,[],https://github.com/circonus-labs/libmtev/pull/350,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/350,"By adding asynch jobs with the _subqueue variant functions,
developers can ensure that enqueue sets of jobs for different
tasks will not starve other tasks.
make sure we go around at least once
make it fair RR","By adding asynch jobs with the _subqueue variant functions,
developers can ensure that enqueue sets of jobs for different
tasks will not starve other tasks.
make sure we go around at least once
make it fair RR",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,350,2017-12-01T14:34:28Z,2017-12-01T18:17:08Z,2018-08-14T14:26:19Z,MERGED,True,194,16,4,https://github.com/postwait,Implement fair scheduling inside jobqs based on subqueue.,3,[],https://github.com/circonus-labs/libmtev/pull/350,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/350#issuecomment-348513770,"By adding asynch jobs with the _subqueue variant functions,
developers can ensure that enqueue sets of jobs for different
tasks will not starve other tasks.
make sure we go around at least once
make it fair RR","Docs LGTM, can't comment on code.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,351,2017-12-01T22:07:33Z,2017-12-02T18:04:11Z,2018-08-14T14:15:34Z,MERGED,True,138,4,5,https://github.com/postwait,simply task tracking via eventer contexts,1,[],https://github.com/circonus-labs/libmtev/pull/351,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/351,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,351,2017-12-01T22:07:33Z,2017-12-02T18:04:11Z,2018-08-14T14:15:34Z,MERGED,True,138,4,5,https://github.com/postwait,simply task tracking via eventer contexts,1,[],https://github.com/circonus-labs/libmtev/pull/351,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/351#issuecomment-348656626,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,352,2017-12-06T14:41:04Z,2017-12-06T14:44:29Z,2018-08-14T14:24:43Z,MERGED,True,4,5,1,https://github.com/postwait,Fix ABA problem,1,[],https://github.com/circonus-labs/libmtev/pull/352,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/352,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,353,2017-12-07T17:22:31Z,2017-12-07T17:36:18Z,2017-12-07T17:36:32Z,MERGED,True,18,4,1,https://github.com/aidancully,lua_mtev's json parser now pushes numbers up to 52 bits wide as numbers.,1,[],https://github.com/circonus-labs/libmtev/pull/353,https://github.com/aidancully,1,https://github.com/circonus-labs/libmtev/pull/353,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,353,2017-12-07T17:22:31Z,2017-12-07T17:36:18Z,2017-12-07T17:36:32Z,MERGED,True,18,4,1,https://github.com/aidancully,lua_mtev's json parser now pushes numbers up to 52 bits wide as numbers.,1,[],https://github.com/circonus-labs/libmtev/pull/353,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/353#issuecomment-350038671,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,354,2017-12-07T20:09:13Z,2017-12-07T22:52:12Z,2018-08-14T14:15:25Z,MERGED,True,6,3,2,https://github.com/postwait,V1,1,[],https://github.com/circonus-labs/libmtev/pull/354,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/354,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,354,2017-12-07T20:09:13Z,2017-12-07T22:52:12Z,2018-08-14T14:15:25Z,MERGED,True,6,3,2,https://github.com/postwait,V1,1,[],https://github.com/circonus-labs/libmtev/pull/354,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/354#issuecomment-350086392,,"What is the purpose of the ""improved tag detection""?  git tag returns the full list of tags, so I don't understand how loading that into SYM makes sense.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,355,2017-12-08T20:53:53Z,2017-12-15T01:37:10Z,2017-12-15T01:37:10Z,MERGED,True,142,129,13,https://github.com/esproul,Minor developer docs updates,2,[],https://github.com/circonus-labs/libmtev/pull/355,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/355,"I noticed a number of misspellings and formatting issues, so I fixed 'em.  Along the way I saw some places where links would help navigate.","I noticed a number of misspellings and formatting issues, so I fixed 'em.  Along the way I saw some places where links would help navigate.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,356,2017-12-11T21:47:01Z,2017-12-11T22:18:33Z,2018-08-14T14:25:11Z,CLOSED,False,20,7,4,https://github.com/pamaddox,Fix Some Memory Leaks And Races,1,[],https://github.com/circonus-labs/libmtev/pull/356,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/356,"We could potentially leak memory if mtev_hash_store calls fail, and a
cleanup function was not freeing everything it should have been. Fixed
these conditions.","We could potentially leak memory if mtev_hash_store calls fail, and a
cleanup function was not freeing everything it should have been. Fixed
these conditions.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,356,2017-12-11T21:47:01Z,2017-12-11T22:18:33Z,2018-08-14T14:25:11Z,CLOSED,False,20,7,4,https://github.com/pamaddox,Fix Some Memory Leaks And Races,1,[],https://github.com/circonus-labs/libmtev/pull/356,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/356#issuecomment-350876967,"We could potentially leak memory if mtev_hash_store calls fail, and a
cleanup function was not freeing everything it should have been. Fixed
these conditions.","lmc is thread-safe, so we don't need all this checking. PR is unnecessary. Withdrawing.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,357,2017-12-13T19:50:10Z,2017-12-13T19:55:36Z,2017-12-13T19:55:38Z,MERGED,True,16,3,2,https://github.com/pamaddox,Fix Leaks And Add Safety To Lua Functions,1,[],https://github.com/circonus-labs/libmtev/pull/357,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/357,"Fix a memory leak where we weren't freeing the data in a hash
Check for failure on mtev_hash_store and if we DO fail, clean up the
allocated memory and throw an error.","Fix a memory leak where we weren't freeing the data in a hash
Check for failure on mtev_hash_store and if we DO fail, clean up the
allocated memory and throw an error.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,357,2017-12-13T19:50:10Z,2017-12-13T19:55:36Z,2017-12-13T19:55:38Z,MERGED,True,16,3,2,https://github.com/pamaddox,Fix Leaks And Add Safety To Lua Functions,1,[],https://github.com/circonus-labs/libmtev/pull/357,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/357#issuecomment-351503289,"Fix a memory leak where we weren't freeing the data in a hash
Check for failure on mtev_hash_store and if we DO fail, clean up the
allocated memory and throw an error.",Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,358,2017-12-14T15:05:35Z,2017-12-15T15:26:27Z,2018-08-14T14:27:22Z,MERGED,True,8,8,1,https://github.com/postwait,"lua_web coroutines lack context_data, so resume should tolerate that.",1,[],https://github.com/circonus-labs/libmtev/pull/358,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/358,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,358,2017-12-14T15:05:35Z,2017-12-15T15:26:27Z,2018-08-14T14:27:22Z,MERGED,True,8,8,1,https://github.com/postwait,"lua_web coroutines lack context_data, so resume should tolerate that.",1,[],https://github.com/circonus-labs/libmtev/pull/358,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/358#issuecomment-352032794,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,359,2017-12-14T15:54:34Z,2017-12-15T01:37:24Z,2018-06-01T14:55:39Z,MERGED,True,21,19,1,https://github.com/postwait,Move websocket errors to their own logger.,2,[],https://github.com/circonus-labs/libmtev/pull/359,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/359,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,360,2018-01-10T01:52:51Z,2018-01-10T16:22:49Z,2018-08-14T14:28:59Z,MERGED,True,2,2,1,https://github.com/postwait,Protect against a NULL pctx->span in event init,1,[],https://github.com/circonus-labs/libmtev/pull/360,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/360,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,361,2018-01-10T16:09:13Z,2018-01-10T16:12:56Z,2018-08-14T14:14:29Z,MERGED,True,2,1,2,https://github.com/postwait,"If logging was on, we attempted to annotate a span too late.",2,[],https://github.com/circonus-labs/libmtev/pull/361,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/361,"Do to a double drop in publish, we erroneously free before use.","Do to a double drop in publish, we erroneously free before use.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,362,2018-01-25T16:58:14Z,2018-01-25T18:45:49Z,2018-08-14T14:25:42Z,MERGED,True,729,0,6,https://github.com/rileyberton,add mtev_huge_hash,2,[],https://github.com/circonus-labs/libmtev/pull/362,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/362,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,363,2018-01-25T20:07:27Z,2018-01-25T20:27:09Z,2018-01-25T20:28:35Z,MERGED,True,7,7,2,https://github.com/esproul,Make SONAME be just the major version,1,[],https://github.com/circonus-labs/libmtev/pull/363,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/363,"Make it simpler to introduce backward-compatible new features, which in semver is the minor release.  We plan to reserve ABI-breaking changes for major releases.","Make it simpler to introduce backward-compatible new features, which in semver is the minor release.  We plan to reserve ABI-breaking changes for major releases.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,363,2018-01-25T20:07:27Z,2018-01-25T20:27:09Z,2018-01-25T20:28:35Z,MERGED,True,7,7,2,https://github.com/esproul,Make SONAME be just the major version,1,[],https://github.com/circonus-labs/libmtev/pull/363,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/363#issuecomment-360585277,"Make it simpler to introduce backward-compatible new features, which in semver is the minor release.  We plan to reserve ABI-breaking changes for major releases.","Tested on OmniOS:
$ ls -l /tmp/mtevtest/opt/circonus/lib/amd64/
total 6896
lrwxrwxrwx   1 root     root          16 Jan 25 19:58 libmtev.so -> libmtev.so.1.0.2
lrwxrwxrwx   1 root     root          16 Jan 25 19:58 libmtev.so.1 -> libmtev.so.1.0.2
-rwxr-xr-x   1 root     root     3502200 Jan 25 19:58 libmtev.so.1.0.2

$ elfdump -d /tmp/mtevtest/opt/circonus/lib/amd64/libmtev.so.1.0.2  | grep SONAME
      [29]  SONAME            0xc564              libmtev.so.1",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,364,2018-01-26T13:54:49Z,2018-01-26T13:57:37Z,2018-01-26T13:57:43Z,MERGED,True,946,836,11,https://github.com/HeinrichHartmann,Fixes to docs and mtev.thread_self(),6,[],https://github.com/circonus-labs/libmtev/pull/364,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/364,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,365,2018-01-29T14:46:47Z,2018-01-29T14:48:53Z,2018-08-14T14:26:46Z,MERGED,True,4,3,1,https://github.com/postwait,Use 64bit integer conf_get to set max_size and retain_size log options.,1,[],https://github.com/circonus-labs/libmtev/pull/365,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/365,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,365,2018-01-29T14:46:47Z,2018-01-29T14:48:53Z,2018-08-14T14:26:46Z,MERGED,True,4,3,1,https://github.com/postwait,Use 64bit integer conf_get to set max_size and retain_size log options.,1,[],https://github.com/circonus-labs/libmtev/pull/365,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/365#issuecomment-361267666,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,365,2018-01-29T14:46:47Z,2018-01-29T14:48:53Z,2018-08-14T14:26:46Z,MERGED,True,4,3,1,https://github.com/postwait,Use 64bit integer conf_get to set max_size and retain_size log options.,1,[],https://github.com/circonus-labs/libmtev/pull/365,https://github.com/esproul,3,https://github.com/circonus-labs/libmtev/pull/365#issuecomment-361268405,,"FYI, this came up because of a configuration where retain_bytes was set to > INT32_MAX, causing the value to be negative, and therefore retention was not enforced and a filesystem filled up.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,366,2018-01-31T15:57:28Z,2018-01-31T15:59:25Z,2018-08-14T14:25:46Z,MERGED,True,19,19,2,https://github.com/postwait,Make arguments reasonably const,1,[],https://github.com/circonus-labs/libmtev/pull/366,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/366,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,366,2018-01-31T15:57:28Z,2018-01-31T15:59:25Z,2018-08-14T14:25:46Z,MERGED,True,19,19,2,https://github.com/postwait,Make arguments reasonably const,1,[],https://github.com/circonus-labs/libmtev/pull/366,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/366#issuecomment-361977690,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,367,2018-02-12T20:03:50Z,2018-02-12T20:27:05Z,2018-08-14T14:26:22Z,MERGED,True,165,11,5,https://github.com/postwait,Add try variant of eventer_add_asynch APIs,1,[],https://github.com/circonus-labs/libmtev/pull/367,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/367,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,368,2018-02-15T20:48:06Z,2018-02-15T20:54:00Z,2018-02-15T20:54:02Z,MERGED,True,39,11,1,https://github.com/pamaddox,Added And Improved Debug Messages In Reverse Socket Handling,1,[],https://github.com/circonus-labs/libmtev/pull/368,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/368,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,368,2018-02-15T20:48:06Z,2018-02-15T20:54:00Z,2018-02-15T20:54:02Z,MERGED,True,39,11,1,https://github.com/pamaddox,Added And Improved Debug Messages In Reverse Socket Handling,1,[],https://github.com/circonus-labs/libmtev/pull/368,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/368#issuecomment-366057790,,Looks good to me,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,369,2018-02-19T22:43:16Z,2018-02-19T22:43:24Z,2018-02-19T22:43:26Z,MERGED,True,136,135,1,https://github.com/pamaddox,Fix Issues With Reverse Connections,2,[],https://github.com/circonus-labs/libmtev/pull/369,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/369,Fix an error where we can get stuck by not writing all the data we have available and not setting the mask properly.,Fix an error where we can get stuck by not writing all the data we have available and not setting the mask properly.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,370,2018-02-19T23:55:20Z,2018-02-20T15:27:09Z,2018-02-20T15:27:09Z,MERGED,True,16,2,3,https://github.com/cody271,Support GNU libc v2.24+ and GCC 7,3,[],https://github.com/circonus-labs/libmtev/pull/370,https://github.com/cody271,1,https://github.com/circonus-labs/libmtev/pull/370,"These fixes are required to build libmtev on the latest Ubuntu:


As of GNU libc version 2.24, readdir_r() has been deprecated. Fix by allowing deprecated calls only within the inline function portable_readdir_r(), so as not to remove the warning globally. These hints are also understood by Clang. (See discussion on LWN: https://lwn.net/Articles/696474/)


GCC 7 on Linux no longer recognizes CVS rcsid version strings as special


GCC 7 is now more strict on empty string checks with char** (Fix from NetBSD)","These fixes are required to build libmtev on the latest Ubuntu:


As of GNU libc version 2.24, readdir_r() has been deprecated. Fix by allowing deprecated calls only within the inline function portable_readdir_r(), so as not to remove the warning globally. These hints are also understood by Clang. (See discussion on LWN: https://lwn.net/Articles/696474/)


GCC 7 on Linux no longer recognizes CVS rcsid version strings as special


GCC 7 is now more strict on empty string checks with char** (Fix from NetBSD)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,371,2018-02-20T16:44:10Z,2018-02-20T20:53:27Z,2018-02-20T21:43:25Z,MERGED,True,8,1,1,https://github.com/esproul,Fix non-Linux builds after PR#370,4,[],https://github.com/circonus-labs/libmtev/pull/371,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/371,Not sure if this is the best/right way to solve it but it restores a working build and passes tests on OmniOS.,Not sure if this is the best/right way to solve it but it restores a working build and passes tests on OmniOS.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,371,2018-02-20T16:44:10Z,2018-02-20T20:53:27Z,2018-02-20T21:43:25Z,MERGED,True,8,1,1,https://github.com/esproul,Fix non-Linux builds after PR#370,4,[],https://github.com/circonus-labs/libmtev/pull/371,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/371#issuecomment-367040310,Not sure if this is the best/right way to solve it but it restores a working build and passes tests on OmniOS.,"@postwait I tried combining but the preprocessor still complained:
diff --git a/src/mtev_defines.h b/src/mtev_defines.h
index 9a766dc..19fb0a4 100644
--- a/src/mtev_defines.h
+++ b/src/mtev_defines.h
@@ -216,7 +216,7 @@ static inline void uuid_unparse_lower(uuid_t in, char *out) {
 #define portable_readdir_r(a,b,c) (((*(c)) = readdir_r(a,b)) == NULL)
 #else
 /* https://lwn.net/Articles/696474/ */
-#if defined(__GLIBC_PREREQ) && __GLIBC_PREREQ(2, 24)
+#if (defined(linux) || defined(__linux) || defined(__linux__)) && defined(__GLIBC_PREREQ) && __GLIBC_PREREQ(2, 24)
 #if HAVE_DIRENT_H
 #include <dirent.h>
 #endif

Still got:
In file included from mtev_main.c:33:0:
mtev_defines.h:219:108: error: missing binary operator before token ""(""
 #if (defined(linux) || defined(__linux) || defined(__linux__)) && defined(__GLIBC_PREREQ) && __GLIBC_PREREQ(2, 24)
                                                                                                            ^",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,371,2018-02-20T16:44:10Z,2018-02-20T20:53:27Z,2018-02-20T21:43:25Z,MERGED,True,8,1,1,https://github.com/esproul,Fix non-Linux builds after PR#370,4,[],https://github.com/circonus-labs/libmtev/pull/371,https://github.com/esproul,3,https://github.com/circonus-labs/libmtev/pull/371#issuecomment-367072908,Not sure if this is the best/right way to solve it but it restores a working build and passes tests on OmniOS.,"Tested a better solution, suggested by @postwait, which was to split the define test for __GLIBC_PREREQ from the actual macro expansion.  Additionally we guard with a define condition for __GLIBC__.  This compiles and passes tests on both OmniOS r151014 (gcc 4.8) and Ubuntu 17.10.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,371,2018-02-20T16:44:10Z,2018-02-20T20:53:27Z,2018-02-20T21:43:25Z,MERGED,True,8,1,1,https://github.com/esproul,Fix non-Linux builds after PR#370,4,[],https://github.com/circonus-labs/libmtev/pull/371,https://github.com/esproul,4,https://github.com/circonus-labs/libmtev/pull/371#issuecomment-367078418,Not sure if this is the best/right way to solve it but it restores a working build and passes tests on OmniOS.,"This still isn't right, it breaks on glibc < 2.24 now.
- compiling mtev_rest.c
cc1: warnings being treated as errors
mtev_conf.c: In function 'mtev_conf_read_into_node':
mtev_conf.c:1102: error: implicit declaration of function 'portable_readdir_r'

This is on EL6 (glibc 2.12)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,371,2018-02-20T16:44:10Z,2018-02-20T20:53:27Z,2018-02-20T21:43:25Z,MERGED,True,8,1,1,https://github.com/esproul,Fix non-Linux builds after PR#370,4,[],https://github.com/circonus-labs/libmtev/pull/371,https://github.com/esproul,5,https://github.com/circonus-labs/libmtev/pull/371#issuecomment-367081161,Not sure if this is the best/right way to solve it but it restores a working build and passes tests on OmniOS.,Tests now pass on glibc < 2.24 (EL6),True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,371,2018-02-20T16:44:10Z,2018-02-20T20:53:27Z,2018-02-20T21:43:25Z,MERGED,True,8,1,1,https://github.com/esproul,Fix non-Linux builds after PR#370,4,[],https://github.com/circonus-labs/libmtev/pull/371,https://github.com/cody271,6,https://github.com/circonus-labs/libmtev/pull/371#issuecomment-367118165,Not sure if this is the best/right way to solve it but it restores a working build and passes tests on OmniOS.,"Sorry, I should have tested this more thoroughly!",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,371,2018-02-20T16:44:10Z,2018-02-20T20:53:27Z,2018-02-20T21:43:25Z,MERGED,True,8,1,1,https://github.com/esproul,Fix non-Linux builds after PR#370,4,[],https://github.com/circonus-labs/libmtev/pull/371,https://github.com/postwait,7,https://github.com/circonus-labs/libmtev/pull/371#issuecomment-367130304,Not sure if this is the best/right way to solve it but it restores a working build and passes tests on OmniOS.,"CI is king.  At some point, we'll do auto-CI on PRs like we do for some of our other projects.  Then we can all be more thorough without investing any more human cycles.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,372,2018-02-20T20:58:01Z,2018-02-20T21:00:37Z,2018-08-14T14:29:02Z,MERGED,True,1,1,1,https://github.com/postwait,"make this notice a debug, most people will never care",1,[],https://github.com/circonus-labs/libmtev/pull/372,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/372,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,373,2018-02-20T23:21:10Z,2018-02-21T20:36:11Z,2018-02-21T20:48:51Z,MERGED,True,43,15,2,https://github.com/HeinrichHartmann,Minor fixes and cleanups to mtev_cluster.c,3,[],https://github.com/circonus-labs/libmtev/pull/373,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/373,See commit messages.,See commit messages.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,373,2018-02-20T23:21:10Z,2018-02-21T20:36:11Z,2018-02-21T20:48:51Z,MERGED,True,43,15,2,https://github.com/HeinrichHartmann,Minor fixes and cleanups to mtev_cluster.c,3,[],https://github.com/circonus-labs/libmtev/pull/373,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/373#issuecomment-367417277,See commit messages.,"Removed aesthetic changes.
Moved non-cluster stuff to #374.
Also added the drop_e fix to this PR.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,374,2018-02-21T18:07:00Z,2018-02-21T19:24:14Z,2018-02-21T19:24:24Z,MERGED,True,10,0,1,https://github.com/HeinrichHartmann,Make mtev.thread_self() return thread id on linux,1,[],https://github.com/circonus-labs/libmtev/pull/374,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/374,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,375,2018-02-21T19:12:20Z,2018-02-21T19:17:13Z,2018-08-14T14:28:53Z,MERGED,True,1,1,1,https://github.com/postwait,Avoid setting an opset for non-fd events.,1,[],https://github.com/circonus-labs/libmtev/pull/375,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/375,This will cause a crash when a non-fd event is misused as an fd event.,This will cause a crash when a non-fd event is misused as an fd event.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,376,2018-02-21T19:48:16Z,2018-02-21T20:35:59Z,2018-08-14T14:26:30Z,MERGED,True,2,11,1,https://github.com/HeinrichHartmann,mtev_lua: Use mtev_thread_id() to get the thread id,1,[],https://github.com/circonus-labs/libmtev/pull/376,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/376,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,377,2018-02-22T23:11:07Z,2018-02-26T13:21:23Z,2018-02-26T13:21:26Z,MERGED,True,27,21,2,https://github.com/HeinrichHartmann,mtev_cluster: Make sure uuids are not null before printing,2,[],https://github.com/circonus-labs/libmtev/pull/377,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/377,"mtev_cluster: Make sure uuids are not null before printing.
It's not garuantted that my_cluster_id will be set at startup, so it can be nil.
Similarlly oldest_node is only determined after some heartbeats arrived.
Complain about missing //clusters in mtev_cluster_set_self()
mtev_cluster_set_self fails silently if there are no matches for //clusters.
Now, it emit's a corresponding log line, and returns -1.
The RC is not actually used on the call sites, but I found it clearer to indicate the error exit.
Happy to revert that to maintain the original signature (void return).
Also the logic was re-arranged a little:

Check for //clusters
Check for //clusters/@my_id
Not the other way around.","mtev_cluster: Make sure uuids are not null before printing.
It's not garuantted that my_cluster_id will be set at startup, so it can be nil.
Similarlly oldest_node is only determined after some heartbeats arrived.
Complain about missing //clusters in mtev_cluster_set_self()
mtev_cluster_set_self fails silently if there are no matches for //clusters.
Now, it emit's a corresponding log line, and returns -1.
The RC is not actually used on the call sites, but I found it clearer to indicate the error exit.
Happy to revert that to maintain the original signature (void return).
Also the logic was re-arranged a little:

Check for //clusters
Check for //clusters/@my_id
Not the other way around.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,377,2018-02-22T23:11:07Z,2018-02-26T13:21:23Z,2018-02-26T13:21:26Z,MERGED,True,27,21,2,https://github.com/HeinrichHartmann,mtev_cluster: Make sure uuids are not null before printing,2,[],https://github.com/circonus-labs/libmtev/pull/377,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/377#issuecomment-367854907,"mtev_cluster: Make sure uuids are not null before printing.
It's not garuantted that my_cluster_id will be set at startup, so it can be nil.
Similarlly oldest_node is only determined after some heartbeats arrived.
Complain about missing //clusters in mtev_cluster_set_self()
mtev_cluster_set_self fails silently if there are no matches for //clusters.
Now, it emit's a corresponding log line, and returns -1.
The RC is not actually used on the call sites, but I found it clearer to indicate the error exit.
Happy to revert that to maintain the original signature (void return).
Also the logic was re-arranged a little:

Check for //clusters
Check for //clusters/@my_id
Not the other way around.",Testing of clustering is not finished. This PR might be augmented.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,378,2018-02-26T13:29:59Z,2018-02-27T14:07:28Z,2018-02-27T14:07:28Z,MERGED,True,78,71,2,https://github.com/HeinrichHartmann,mtev_cluster PR-3,6,[],https://github.com/circonus-labs/libmtev/pull/378,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/378,See commit messages,See commit messages,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,378,2018-02-26T13:29:59Z,2018-02-27T14:07:28Z,2018-02-27T14:07:28Z,MERGED,True,78,71,2,https://github.com/HeinrichHartmann,mtev_cluster PR-3,6,[],https://github.com/circonus-labs/libmtev/pull/378,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/378#issuecomment-368639345,See commit messages,Let's leave it out for now,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,378,2018-02-26T13:29:59Z,2018-02-27T14:07:28Z,2018-02-27T14:07:28Z,MERGED,True,78,71,2,https://github.com/HeinrichHartmann,mtev_cluster PR-3,6,[],https://github.com/circonus-labs/libmtev/pull/378,https://github.com/HeinrichHartmann,3,https://github.com/circonus-labs/libmtev/pull/378#issuecomment-368681202,See commit messages,OK. removed last commit.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,379,2018-03-11T07:47:33Z,2018-03-12T20:23:15Z,2018-03-12T20:24:34Z,MERGED,True,6,2,2,https://github.com/vasuraman11,Prevent javascript from adding thousands of lines of log to Internals…,2,[],https://github.com/circonus-labs/libmtev/pull/379,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/379,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,379,2018-03-11T07:47:33Z,2018-03-12T20:23:15Z,2018-03-12T20:24:34Z,MERGED,True,6,2,2,https://github.com/vasuraman11,Prevent javascript from adding thousands of lines of log to Internals…,2,[],https://github.com/circonus-labs/libmtev/pull/379,https://github.com/vasuraman11,2,https://github.com/circonus-labs/libmtev/pull/379#issuecomment-372096407,,"I think the libmtev build is creating the minimized version of the js'es but I also saw it seems the minimized file is also committed.  Should I try to run the build and commit the minimized version, or should I let this be done by CI?",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,379,2018-03-11T07:47:33Z,2018-03-12T20:23:15Z,2018-03-12T20:24:34Z,MERGED,True,6,2,2,https://github.com/vasuraman11,Prevent javascript from adding thousands of lines of log to Internals…,2,[],https://github.com/circonus-labs/libmtev/pull/379,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/379#issuecomment-372114433,,CI won't do that.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,379,2018-03-11T07:47:33Z,2018-03-12T20:23:15Z,2018-03-12T20:24:34Z,MERGED,True,6,2,2,https://github.com/vasuraman11,Prevent javascript from adding thousands of lines of log to Internals…,2,[],https://github.com/circonus-labs/libmtev/pull/379,https://github.com/rileyberton,4,https://github.com/circonus-labs/libmtev/pull/379#issuecomment-372114786,,"Yeah, I think we need to compile and check in the minimized version",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,379,2018-03-11T07:47:33Z,2018-03-12T20:23:15Z,2018-03-12T20:24:34Z,MERGED,True,6,2,2,https://github.com/vasuraman11,Prevent javascript from adding thousands of lines of log to Internals…,2,[],https://github.com/circonus-labs/libmtev/pull/379,https://github.com/vasuraman11,5,https://github.com/circonus-labs/libmtev/pull/379#issuecomment-372449251,,This PR relates to part of CIRC-1525 (addressing the responsiveness issues but not collapse/expand).,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,379,2018-03-11T07:47:33Z,2018-03-12T20:23:15Z,2018-03-12T20:24:34Z,MERGED,True,6,2,2,https://github.com/vasuraman11,Prevent javascript from adding thousands of lines of log to Internals…,2,[],https://github.com/circonus-labs/libmtev/pull/379,https://github.com/vasuraman11,6,https://github.com/circonus-labs/libmtev/pull/379#issuecomment-372449632,,Merging the fix and closing.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,380,2018-03-16T21:02:16Z,2018-03-16T21:07:31Z,2018-08-14T14:26:36Z,MERGED,True,1,1,1,https://github.com/HeinrichHartmann,Lock access to lua_ctypes,1,[],https://github.com/circonus-labs/libmtev/pull/380,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/380,avoiding races on mtev_hash_replace during luaopen_mtev_http,avoiding races on mtev_hash_replace during luaopen_mtev_http,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,381,2018-03-19T13:36:49Z,2018-03-19T18:15:16Z,2018-08-14T14:29:28Z,MERGED,True,1,0,1,https://github.com/HeinrichHartmann,Don't report sockets without opset in /eventer/socket.json,1,[],https://github.com/circonus-labs/libmtev/pull/381,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/381,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,382,2018-03-19T13:59:30Z,2018-03-19T14:10:42Z,2018-08-14T14:24:47Z,MERGED,True,1,0,1,https://github.com/postwait,Add missing opset on fd event,1,[],https://github.com/circonus-labs/libmtev/pull/382,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/382,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,383,2018-03-25T23:38:58Z,2018-03-26T14:40:20Z,2018-03-26T14:40:45Z,MERGED,True,95,5,3,https://github.com/cody271,mtev.process:wait() Add waitpid() status macros to Lua API ,1,[],https://github.com/circonus-labs/libmtev/pull/383,https://github.com/cody271,1,https://github.com/circonus-labs/libmtev/pull/383,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,384,2018-03-26T17:33:53Z,2018-03-26T18:17:58Z,2018-03-26T18:18:01Z,MERGED,True,21,2,2,https://github.com/pamaddox,Make posix_spawnp Behave Consistently Across Platforms,1,[],https://github.com/circonus-labs/libmtev/pull/384,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/384,"posix_spawnp was behaving differently on Solaris and Linux systems; set
a flag to make them behave the same.","posix_spawnp was behaving differently on Solaris and Linux systems; set
a flag to make them behave the same.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,385,2018-04-04T17:14:24Z,2018-04-04T18:16:28Z,2018-08-14T14:28:20Z,MERGED,True,14,0,1,https://github.com/postwait,Implement mtev.log_enabled(facility) in lua.,1,[],https://github.com/circonus-labs/libmtev/pull/385,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/385,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,385,2018-04-04T17:14:24Z,2018-04-04T18:16:28Z,2018-08-14T14:28:20Z,MERGED,True,14,0,1,https://github.com/postwait,Implement mtev.log_enabled(facility) in lua.,1,[],https://github.com/circonus-labs/libmtev/pull/385,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/385#issuecomment-378684040,,LGTM.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,385,2018-04-04T17:14:24Z,2018-04-04T18:16:28Z,2018-08-14T14:28:20Z,MERGED,True,14,0,1,https://github.com/postwait,Implement mtev.log_enabled(facility) in lua.,1,[],https://github.com/circonus-labs/libmtev/pull/385,https://github.com/HeinrichHartmann,3,https://github.com/circonus-labs/libmtev/pull/385#issuecomment-378686486,,Just tested this. Works fine.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,385,2018-04-04T17:14:24Z,2018-04-04T18:16:28Z,2018-08-14T14:28:20Z,MERGED,True,14,0,1,https://github.com/postwait,Implement mtev.log_enabled(facility) in lua.,1,[],https://github.com/circonus-labs/libmtev/pull/385,https://github.com/postwait,4,https://github.com/circonus-labs/libmtev/pull/385#issuecomment-378689233,,Okay... technically if you supply an invalid log it will dynamically create it within libmtev and disable it.  So it wouldn't error.  I'll coalesce on the nil return always thing.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,385,2018-04-04T17:14:24Z,2018-04-04T18:16:28Z,2018-08-14T14:28:20Z,MERGED,True,14,0,1,https://github.com/postwait,Implement mtev.log_enabled(facility) in lua.,1,[],https://github.com/circonus-labs/libmtev/pull/385,https://github.com/cody271,5,https://github.com/circonus-labs/libmtev/pull/385#issuecomment-378690454,,"The lua_gettop call is no longer necessary, but LGTM now!",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,386,2018-04-09T18:49:10Z,2018-04-09T22:43:34Z,2018-08-14T14:27:04Z,MERGED,True,83,0,1,https://github.com/postwait,Start of a mtev.cluster object,1,[],https://github.com/circonus-labs/libmtev/pull/386,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/386,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,386,2018-04-09T18:49:10Z,2018-04-09T22:43:34Z,2018-08-14T14:27:04Z,MERGED,True,83,0,1,https://github.com/postwait,Start of a mtev.cluster object,1,[],https://github.com/circonus-labs/libmtev/pull/386,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/386#issuecomment-379915382,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,387,2018-04-10T16:40:53Z,2018-04-11T15:26:06Z,2018-08-14T14:20:59Z,MERGED,True,23,144,5,https://github.com/HeinrichHartmann,"Updates to mtev_cluster, mtev_lua, mtev_conf",4,[],https://github.com/circonus-labs/libmtev/pull/387,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/387,See commit messages for more details.,See commit messages for more details.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,387,2018-04-10T16:40:53Z,2018-04-11T15:26:06Z,2018-08-14T14:20:59Z,MERGED,True,23,144,5,https://github.com/HeinrichHartmann,"Updates to mtev_cluster, mtev_lua, mtev_conf",4,[],https://github.com/circonus-labs/libmtev/pull/387,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/387#issuecomment-380493206,See commit messages for more details.,"Removed the controversial bit's as requested. Merging the PR now.
I would still appreciate an answer to this Q:
#387 (comment)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,388,2018-04-12T18:32:27Z,2018-04-12T18:40:41Z,2018-04-12T18:44:04Z,MERGED,True,157,29,17,https://github.com/HeinrichHartmann,v1.2.7,2,[],https://github.com/circonus-labs/libmtev/pull/388,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/388,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,389,2018-04-19T16:05:49Z,2018-04-20T15:39:39Z,2018-08-14T14:27:16Z,MERGED,True,453,2,8,https://github.com/postwait,Support `mtev.timezone`,2,[],https://github.com/circonus-labs/libmtev/pull/389,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/389,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,389,2018-04-19T16:05:49Z,2018-04-20T15:39:39Z,2018-08-14T14:27:16Z,MERGED,True,453,2,8,https://github.com/postwait,Support `mtev.timezone`,2,[],https://github.com/circonus-labs/libmtev/pull/389,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/389#issuecomment-383062089,,Pushed a nit to the branch. lua binding looks good otherwise.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,389,2018-04-19T16:05:49Z,2018-04-20T15:39:39Z,2018-08-14T14:27:16Z,MERGED,True,453,2,8,https://github.com/postwait,Support `mtev.timezone`,2,[],https://github.com/circonus-labs/libmtev/pull/389,https://github.com/HeinrichHartmann,3,https://github.com/circonus-labs/libmtev/pull/389#issuecomment-383062739,,"The tz information is read from the file /usr/share/zoneinfo. Is this file guaranteed to be there? How is it kept up to date (leapseconds, etc. change)? Do the supported TZs differ from platform to platform?
Maybe it's worth to add a check function, that tests for the presence of the file, and a set of timezones that we can call on startup.
https://github.com/circonus-labs/libmtev/pull/389/files#diff-9ddf6c97c258d08cbe3203e87cd44cedR63",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,389,2018-04-19T16:05:49Z,2018-04-20T15:39:39Z,2018-08-14T14:27:16Z,MERGED,True,453,2,8,https://github.com/postwait,Support `mtev.timezone`,2,[],https://github.com/circonus-labs/libmtev/pull/389,https://github.com/HeinrichHartmann,4,https://github.com/circonus-labs/libmtev/pull/389#issuecomment-383068386,,"Is there a reason the function returns values are sometimes in a separate line and sometimes not:

https://github.com/circonus-labs/libmtev/pull/389/files#diff-9ddf6c97c258d08cbe3203e87cd44cedR147
https://github.com/circonus-labs/libmtev/pull/389/files#diff-9ddf6c97c258d08cbe3203e87cd44cedR208
I don't see a pattern.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,389,2018-04-19T16:05:49Z,2018-04-20T15:39:39Z,2018-08-14T14:27:16Z,MERGED,True,453,2,8,https://github.com/postwait,Support `mtev.timezone`,2,[],https://github.com/circonus-labs/libmtev/pull/389,https://github.com/HeinrichHartmann,5,https://github.com/circonus-labs/libmtev/pull/389#issuecomment-383068403,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,390,2018-04-20T23:34:18Z,2018-04-20T23:49:31Z,2018-08-14T14:27:25Z,MERGED,True,2,0,1,https://github.com/postwait,"explicitly alter umask for mkstemp, then back",1,[],https://github.com/circonus-labs/libmtev/pull/390,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/390,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,391,2018-04-21T00:40:19Z,2018-04-27T17:48:37Z,2018-08-14T14:25:52Z,MERGED,True,1,1,1,https://github.com/postwait,Fix performance timings under a hypervisor.,1,[],https://github.com/circonus-labs/libmtev/pull/391,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/391,"Hypervisors use adjtime and we should respect that.
We were having issues where we'd see time moving ""too fast.""","Hypervisors use adjtime and we should respect that.
We were having issues where we'd see time moving ""too fast.""",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,392,2018-04-27T17:06:29Z,2018-04-27T17:47:34Z,2018-04-27T17:47:38Z,MERGED,True,213,4,6,https://github.com/rileyberton,Heap profiling,6,[],https://github.com/circonus-labs/libmtev/pull/392,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/392,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,393,2018-05-08T00:24:12Z,2018-05-10T20:25:51Z,2018-05-10T20:25:56Z,MERGED,True,16,0,1,https://github.com/cody271,Add option to disable JIT at runtime,2,[],https://github.com/circonus-labs/libmtev/pull/393,https://github.com/cody271,1,https://github.com/circonus-labs/libmtev/pull/393,"Use with environment variable MTEV_JIT_OFF.
For example: $ MTEV_JIT_OFF=1 /opt/circonus/bin/luamtev  <module>","Use with environment variable MTEV_JIT_OFF.
For example: $ MTEV_JIT_OFF=1 /opt/circonus/bin/luamtev  <module>",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,393,2018-05-08T00:24:12Z,2018-05-10T20:25:51Z,2018-05-10T20:25:56Z,MERGED,True,16,0,1,https://github.com/cody271,Add option to disable JIT at runtime,2,[],https://github.com/circonus-labs/libmtev/pull/393,https://github.com/cody271,2,https://github.com/circonus-labs/libmtev/pull/393#issuecomment-387512777,"Use with environment variable MTEV_JIT_OFF.
For example: $ MTEV_JIT_OFF=1 /opt/circonus/bin/luamtev  <module>","Also, here is my script to check with luamtev:
local jit_status = jit.status
local print = print
local exit = os.exit

module(...)

function main()
  local st = jit_status()
  if st then st = ""on"" else st = ""off"" end
  print(""JIT is "" .. st)
  exit()
end",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,394,2018-05-14T01:21:50Z,2018-05-14T15:00:14Z,2018-05-14T15:00:17Z,MERGED,True,18,0,1,https://github.com/cody271,Add option to set JIT optimization level at runtime,1,[],https://github.com/circonus-labs/libmtev/pull/394,https://github.com/cody271,1,https://github.com/circonus-labs/libmtev/pull/394,"Use with environment variable MTEV_JIT_OPT.
For example: $ MTEV_JIT_OPT=0 /opt/circonus/bin/luamtev <module>","Use with environment variable MTEV_JIT_OPT.
For example: $ MTEV_JIT_OPT=0 /opt/circonus/bin/luamtev <module>",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,395,2018-05-14T17:22:38Z,2018-05-14T17:42:51Z,2018-08-14T14:28:33Z,MERGED,True,1,1,1,https://github.com/postwait,mtev_str: I wanna go fast,1,[],https://github.com/circonus-labs/libmtev/pull/395,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/395,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,396,2018-05-14T19:16:38Z,2018-05-14T20:00:20Z,2018-08-14T14:21:15Z,MERGED,True,4,2,1,https://github.com/postwait,Support queuename in amqp,1,[],https://github.com/circonus-labs/libmtev/pull/396,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/396,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,397,2018-05-14T20:23:45Z,2018-05-14T20:30:47Z,2018-08-14T14:24:39Z,MERGED,True,70,22,3,https://github.com/postwait,Add mtev_main_eventer_config API to allow config-like programming.,1,[],https://github.com/circonus-labs/libmtev/pull/397,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/397,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,398,2018-05-15T22:00:01Z,2018-05-15T22:02:28Z,2018-08-14T14:24:51Z,MERGED,True,5,0,3,https://github.com/postwait,Expose the min/max concurrency the various places jobqs are displayed.,1,[],https://github.com/circonus-labs/libmtev/pull/398,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/398,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,399,2018-05-16T14:37:49Z,2018-05-16T14:59:57Z,2018-08-14T14:27:35Z,MERGED,True,64,25,7,https://github.com/postwait,Memmem,2,[],https://github.com/circonus-labs/libmtev/pull/399,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/399,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,400,2018-05-16T21:59:50Z,2018-05-17T13:51:11Z,2018-08-14T14:24:20Z,MERGED,True,323,50,11,https://github.com/postwait,Various coverity issues.,3,[],https://github.com/circonus-labs/libmtev/pull/400,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/400,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,401,2018-05-17T19:56:10Z,2018-05-17T20:05:04Z,2018-08-14T14:15:12Z,MERGED,True,18,1,1,https://github.com/postwait,ASYNCH_CORE_DUMP=0 should waitpid before lauching next child,1,[],https://github.com/circonus-labs/libmtev/pull/401,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/401,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,402,2018-05-18T15:02:45Z,2018-05-18T15:41:30Z,2018-08-14T14:21:25Z,MERGED,True,8,4,2,https://github.com/postwait,Set max_backlog via configuration,1,[],https://github.com/circonus-labs/libmtev/pull/402,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/402,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,403,2018-05-18T20:33:21Z,2018-05-18T21:20:58Z,2018-08-14T14:24:13Z,MERGED,True,64,1,2,https://github.com/postwait,Add support for configuration uints,2,[],https://github.com/circonus-labs/libmtev/pull/403,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/403,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,404,2018-05-21T14:08:51Z,2018-05-21T15:27:57Z,2018-08-14T14:26:13Z,MERGED,True,93,11,11,https://github.com/postwait,Add a floor for jobqs and add docs,2,[],https://github.com/circonus-labs/libmtev/pull/404,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/404,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,405,2018-05-25T14:05:29Z,2018-05-25T14:07:33Z,2018-08-14T14:28:40Z,MERGED,True,51,0,3,https://github.com/rileyberton,add mtev_uuid_unparse_lower optimization,1,[],https://github.com/circonus-labs/libmtev/pull/405,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/405,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,406,2018-06-11T12:48:56Z,2018-06-20T12:19:22Z,2018-06-20T12:19:28Z,MERGED,True,320,20,19,https://github.com/HeinrichHartmann,Add some luamtev examples,9,[],https://github.com/circonus-labs/libmtev/pull/406,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/406,"I am not sure that this repo is the right place for the example script. The reason I am posting this here at this stage is to make adding in-line comments easy using GitHubs review features.
There are a couple of open questions in hello-world.lua I would appreciate feedback to.","I am not sure that this repo is the right place for the example script. The reason I am posting this here at this stage is to make adding in-line comments easy using GitHubs review features.
There are a couple of open questions in hello-world.lua I would appreciate feedback to.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,406,2018-06-11T12:48:56Z,2018-06-20T12:19:22Z,2018-06-20T12:19:28Z,MERGED,True,320,20,19,https://github.com/HeinrichHartmann,Add some luamtev examples,9,[],https://github.com/circonus-labs/libmtev/pull/406,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/406#issuecomment-398728499,"I am not sure that this repo is the right place for the example script. The reason I am posting this here at this stage is to make adding in-line comments easy using GitHubs review features.
There are a couple of open questions in hello-world.lua I would appreciate feedback to.","Merging with the following changes since review:

Moved examples to existing src/examples folder
Rebased to master
Re-generated documentation",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,407,2018-06-11T17:56:05Z,2018-06-11T18:22:50Z,2018-08-14T14:27:38Z,MERGED,True,265,14,12,https://github.com/postwait,More complete UUID function coverage.  Still no generate.,3,[],https://github.com/circonus-labs/libmtev/pull/407,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/407,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,408,2018-06-11T19:00:42Z,2018-06-11T20:42:17Z,2018-08-14T14:28:36Z,MERGED,True,166,6,11,https://github.com/postwait,Implement mtev_uuid_generate,2,[],https://github.com/circonus-labs/libmtev/pull/408,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/408,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,409,2018-06-11T22:10:33Z,2018-06-12T12:13:42Z,2018-08-14T14:14:11Z,MERGED,True,56,66,14,https://github.com/postwait,Remove libuuid build/run dependency (still needed for test),1,[],https://github.com/circonus-labs/libmtev/pull/409,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/409,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,410,2018-06-12T17:37:20Z,2018-06-14T15:53:55Z,2018-08-14T14:24:26Z,MERGED,True,671,690,24,https://github.com/postwait,"deprecate atomics, use concurrencykit",1,[],https://github.com/circonus-labs/libmtev/pull/410,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/410,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,411,2018-06-14T13:13:16Z,2018-06-14T15:39:17Z,2018-08-14T14:15:48Z,MERGED,True,19,0,5,https://github.com/postwait,Support naming threads,1,[],https://github.com/circonus-labs/libmtev/pull/411,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/411,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,412,2018-06-14T22:06:06Z,2018-06-14T22:29:12Z,2018-06-14T22:29:12Z,MERGED,True,25,3,4,https://github.com/postwait,support 'short' queue names,1,[],https://github.com/circonus-labs/libmtev/pull/412,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/412,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,413,2018-07-12T15:15:15Z,2018-07-12T16:19:43Z,2018-07-12T16:19:43Z,MERGED,True,81,3,7,https://github.com/rileyberton,Lfu iterate,5,[],https://github.com/circonus-labs/libmtev/pull/413,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/413,A lot of this is docs rebuild.. See mtev_lfu_iterate.[ch] at the bottom.,A lot of this is docs rebuild.. See mtev_lfu_iterate.[ch] at the bottom.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,414,2018-07-16T19:37:08Z,2018-07-17T18:40:14Z,2018-10-05T18:05:17Z,MERGED,True,40,2,2,https://github.com/HeinrichHartmann,Lua mtev.shared_seq,3,[],https://github.com/circonus-labs/libmtev/pull/414,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/414,"There are situations where we want to have access to an sequence number in lua that is increasing across all lua states and co-routines. E.g. to generate monotonic requests ids.
The given implementation is fast and straight forward.
It has the downside, that there is only one single SEQ in a single process / applications. So if you have two libs that make use of sequences they would see each other's incs.
This is fine for situations where only monotony is required not single stepping.
Also, I don't see a way around this that does not sacrifice simplicity and performance by introducing locks.","There are situations where we want to have access to an sequence number in lua that is increasing across all lua states and co-routines. E.g. to generate monotonic requests ids.
The given implementation is fast and straight forward.
It has the downside, that there is only one single SEQ in a single process / applications. So if you have two libs that make use of sequences they would see each other's incs.
This is fine for situations where only monotony is required not single stepping.
Also, I don't see a way around this that does not sacrifice simplicity and performance by introducing locks.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,415,2018-07-20T04:27:39Z,2018-07-20T21:15:11Z,2018-07-20T21:15:11Z,MERGED,True,6329,363,70,https://github.com/postwait,Aco,8,[],https://github.com/circonus-labs/libmtev/pull/415,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/415,Integrate co-routine support into the eventer and stacktrace systems.,Integrate co-routine support into the eventer and stacktrace systems.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,416,2018-07-20T20:34:39Z,2018-07-20T20:37:19Z,2018-10-05T18:05:15Z,MERGED,True,3,3,1,https://github.com/HeinrichHartmann,lua: Return nil when no cluster is found,1,[],https://github.com/circonus-labs/libmtev/pull/416,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/416,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,417,2018-07-23T15:11:11Z,2018-07-23T21:10:45Z,2018-07-23T21:10:45Z,MERGED,True,64,0,3,https://github.com/postwait,Implement eventer_aco_set_*_timeout.,2,[],https://github.com/circonus-labs/libmtev/pull/417,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/417,"This sets a default timeout for aco events if NULL is passed.
This allows traditional eventer read/write to respect timeouts.","This sets a default timeout for aco events if NULL is passed.
This allows traditional eventer read/write to respect timeouts.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,418,2018-07-25T22:01:02Z,2018-07-26T00:12:53Z,2018-07-26T00:12:53Z,MERGED,True,23,25,2,https://github.com/postwait,Implement optional dwarf filtering,2,[],https://github.com/circonus-labs/libmtev/pull/418,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/418,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,419,2018-08-09T16:26:52Z,2018-08-13T14:05:20Z,2018-08-13T14:05:23Z,MERGED,True,2,3,1,https://github.com/HeinrichHartmann,Allow HttpClient:set_timeout to be called without callback argument,1,[],https://github.com/circonus-labs/libmtev/pull/419,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/419,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,420,2018-08-09T21:49:25Z,2018-08-10T13:10:13Z,2018-08-10T13:10:13Z,MERGED,True,35,1,3,https://github.com/postwait,"Use tlsv1.2, tlsv1.1, sslv23 in that order if not specified.",1,[],https://github.com/circonus-labs/libmtev/pull/420,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/420,Support retrieving the SNI name the client issued.,Support retrieving the SNI name the client issued.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,421,2018-08-13T17:17:32Z,2018-08-14T18:21:33Z,2018-08-14T18:21:33Z,MERGED,True,35,5,3,https://github.com/postwait,eventer_loop doesn't use main thread and synchronizes start of all lo…,1,[],https://github.com/circonus-labs/libmtev/pull/421,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/421,…ops.,…ops.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,422,2018-08-15T14:50:24Z,2018-08-15T15:18:00Z,2018-08-15T15:18:00Z,MERGED,True,44,3,8,https://github.com/postwait,Add mtev_cluster_node_get_idx.,1,[],https://github.com/circonus-labs/libmtev/pull/422,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/422,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,423,2018-08-17T07:24:31Z,2018-08-17T16:59:22Z,2018-08-17T16:59:22Z,MERGED,True,11,0,1,https://github.com/postwait,"Monitor should handle QUIT, TERM, and INT signals.",1,[],https://github.com/circonus-labs/libmtev/pull/423,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/423,"It should catch them, send them to the monitored child, then exit.","It should catch them, send them to the monitored child, then exit.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,424,2018-08-17T07:25:07Z,2018-08-17T15:53:48Z,2018-08-17T15:53:48Z,MERGED,True,26,5,1,https://github.com/postwait,Add SSL support for test API client,1,[],https://github.com/circonus-labs/libmtev/pull/424,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/424,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,425,2018-08-21T12:38:06Z,2018-08-21T17:20:53Z,2018-08-21T17:20:53Z,MERGED,True,23,7,2,https://github.com/postwait,Websocket refcnt,2,[],https://github.com/circonus-labs/libmtev/pull/425,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/425,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,426,2018-08-21T13:11:37Z,2018-08-21T19:25:21Z,2018-08-21T19:25:21Z,MERGED,True,104,73,5,https://github.com/postwait,Fix race in lua subsystem w.r.t. coroutine GC.,1,[],https://github.com/circonus-labs/libmtev/pull/426,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/426,"It is possible that a coroutine is ""removed"" from the mtev
registry and and yet garbarge collection is delayed enough
that it still executed in the lua VM.  This would cause the
revivification of the resume_info in the mtev coro state
tracker and desperately confuse things.  Events that are
solely owned (and are active) within a coro that is canceled
can fire their callbacks as well.  In these changes we
see a few things:

resume info states know how to create same time infos.
a find function for resume info was added that does not
autovivify resume info when missing.
all callbacks from the event system that land in a lua
state that has no resume info are cleaned up; lua error.
better safety is added for events removed on-demand that
then later get removed via resume info cleanup.","It is possible that a coroutine is ""removed"" from the mtev
registry and and yet garbarge collection is delayed enough
that it still executed in the lua VM.  This would cause the
revivification of the resume_info in the mtev coro state
tracker and desperately confuse things.  Events that are
solely owned (and are active) within a coro that is canceled
can fire their callbacks as well.  In these changes we
see a few things:

resume info states know how to create same time infos.
a find function for resume info was added that does not
autovivify resume info when missing.
all callbacks from the event system that land in a lua
state that has no resume info are cleaned up; lua error.
better safety is added for events removed on-demand that
then later get removed via resume info cleanup.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,427,2018-08-21T13:11:50Z,2018-08-21T19:49:09Z,2018-08-21T19:49:09Z,CLOSED,False,0,0,0,https://github.com/postwait,Lua websockets,0,[],https://github.com/circonus-labs/libmtev/pull/427,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/427,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,428,2018-08-21T15:51:21Z,2018-08-22T18:59:06Z,2018-08-22T18:59:06Z,MERGED,True,221,27,11,https://github.com/postwait,Granular control over lua_gc from module config.,1,[],https://github.com/circonus-labs/libmtev/pull/428,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/428,"New defaults of step for 1000 iterations, then full.

gc_full: n = 0 no full, n > 0 full every n iterations
gc_step: arg to lua_gc LUA_GCSTEP
gc_stepmul: arg to lua_gc LUA_GCSETSTEPMUL
gc_pause: arg to lua_gc LUA_GCSETPAUSE (% growth)","New defaults of step for 1000 iterations, then full.

gc_full: n = 0 no full, n > 0 full every n iterations
gc_step: arg to lua_gc LUA_GCSTEP
gc_stepmul: arg to lua_gc LUA_GCSETSTEPMUL
gc_pause: arg to lua_gc LUA_GCSETPAUSE (% growth)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,428,2018-08-21T15:51:21Z,2018-08-22T18:59:06Z,2018-08-22T18:59:06Z,MERGED,True,221,27,11,https://github.com/postwait,Granular control over lua_gc from module config.,1,[],https://github.com/circonus-labs/libmtev/pull/428,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/428#issuecomment-415104489,"New defaults of step for 1000 iterations, then full.

gc_full: n = 0 no full, n > 0 full every n iterations
gc_step: arg to lua_gc LUA_GCSTEP
gc_stepmul: arg to lua_gc LUA_GCSETSTEPMUL
gc_pause: arg to lua_gc LUA_GCSETPAUSE (% growth)",See comments. LGTM otherwise.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,429,2018-08-21T19:51:07Z,2018-08-22T00:11:30Z,2018-08-22T00:11:30Z,MERGED,True,412,5,6,https://github.com/postwait,mtev.websocket_client_connect,1,[],https://github.com/circonus-labs/libmtev/pull/429,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/429,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,431,2018-08-23T12:43:43Z,2018-08-23T15:31:54Z,2018-08-23T15:31:54Z,MERGED,True,39,20,4,https://github.com/postwait,Always use ASYNCH_BARRIER method of epoch gc.,1,[],https://github.com/circonus-labs/libmtev/pull/431,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/431,"Have the asynch method dequeue up to 100 lists,
synchronise, then hand back. 100x less syncronization.
Add a NONE method which will just reclaim the completed
sync, but no request any work.","Have the asynch method dequeue up to 100 lists,
synchronise, then hand back. 100x less syncronization.
Add a NONE method which will just reclaim the completed
sync, but no request any work.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,432,2018-08-23T14:12:30Z,2018-08-23T14:13:42Z,2018-08-23T14:13:42Z,MERGED,True,24,21,5,https://github.com/postwait,The universal callback times are useless.,1,[],https://github.com/circonus-labs/libmtev/pull/432,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/432,"Instead of tracking a universal latency chart for callbacks, track
it per pool as that is more useful for developers.","Instead of tracking a universal latency chart for callbacks, track
it per pool as that is more useful for developers.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,433,2018-08-23T20:19:56Z,2018-08-23T20:22:29Z,2018-08-23T20:23:11Z,MERGED,True,4,3,2,https://github.com/esproul,Fix some inadequate clean targets,1,[],https://github.com/circonus-labs/libmtev/pull/433,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/433,After a make clean there were still some build artifacts present.,After a make clean there were still some build artifacts present.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,434,2018-08-27T14:46:18Z,2018-08-27T16:24:50Z,2018-08-27T16:25:46Z,MERGED,True,2,2,1,https://github.com/esproul,Move reverse connection logging to debug,1,[],https://github.com/circonus-labs/libmtev/pull/434,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/434,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,435,2018-08-27T18:09:53Z,2018-08-28T17:39:04Z,2018-08-28T17:39:04Z,MERGED,True,8,7,1,https://github.com/rileyberton,Just observe atomic integers for determining event loop priming,2,[],https://github.com/circonus-labs/libmtev/pull/435,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/435,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,435,2018-08-27T18:09:53Z,2018-08-28T17:39:04Z,2018-08-28T17:39:04Z,MERGED,True,8,7,1,https://github.com/rileyberton,Just observe atomic integers for determining event loop priming,2,[],https://github.com/circonus-labs/libmtev/pull/435,https://github.com/rileyberton,2,https://github.com/circonus-labs/libmtev/pull/435#issuecomment-416668206,,Fixed.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,435,2018-08-27T18:09:53Z,2018-08-28T17:39:04Z,2018-08-28T17:39:04Z,MERGED,True,8,7,1,https://github.com/rileyberton,Just observe atomic integers for determining event loop priming,2,[],https://github.com/circonus-labs/libmtev/pull/435,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/435#issuecomment-416675770,,Lgtm,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,436,2018-08-27T21:44:57Z,2018-08-28T14:28:58Z,2018-08-28T14:28:58Z,MERGED,True,4,2,2,https://github.com/pamaddox,Fix Memory Leak And Bad Switch Statement,1,[],https://github.com/circonus-labs/libmtev/pull/436,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/436,"Fix a memory leak where we were allocating something and not storing
it.


Fix a bad switch statement in lua_web_resume - if we have case 0, we
want to break, not just return 0.","Fix a memory leak where we were allocating something and not storing
it.


Fix a bad switch statement in lua_web_resume - if we have case 0, we
want to break, not just return 0.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,437,2018-08-29T19:23:22Z,2018-08-29T19:24:42Z,2018-08-29T19:24:45Z,MERGED,True,1,1,1,https://github.com/pamaddox,Change Operator From > to >= In mtev_lua_gc,1,[],https://github.com/circonus-labs/libmtev/pull/437,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/437,"We need to check if the p->iters_since_full values is
greater-than-or-equal-to p->full_every rather than just greater-than.","We need to check if the p->iters_since_full values is
greater-than-or-equal-to p->full_every rather than just greater-than.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,438,2018-08-30T00:01:43Z,2018-08-30T13:28:34Z,2018-08-30T13:28:34Z,MERGED,True,5,18,1,https://github.com/postwait,correct stack management for new resume info (don't leave lmc userdat…,1,[],https://github.com/circonus-labs/libmtev/pull/438,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/438,…a on stack),…a on stack),True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,439,2018-08-30T21:51:12Z,2018-08-30T21:54:01Z,2018-08-30T21:54:01Z,MERGED,True,4,0,3,https://github.com/postwait,Initialize events with fd = -1 and set fd = -1 upon close.,1,[],https://github.com/circonus-labs/libmtev/pull/439,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/439,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,440,2018-08-30T22:09:57Z,2018-08-31T15:55:21Z,2018-08-31T15:55:21Z,MERGED,True,14,5,3,https://github.com/postwait,Lua cleanup,2,[],https://github.com/circonus-labs/libmtev/pull/440,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/440,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,441,2018-08-31T14:20:04Z,2018-08-31T17:17:15Z,2018-08-31T17:17:16Z,MERGED,True,17,17,2,https://github.com/postwait,Make epoch memory reclamation more aggressive.,1,[],https://github.com/circonus-labs/libmtev/pull/441,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/441,"Change needs_maintenance from boolean to counter to toggle need on/off.
Attempt to reclaim on every cycle.
Only attempt to do work when we might have work to do.","Change needs_maintenance from boolean to counter to toggle need on/off.
Attempt to reclaim on every cycle.
Only attempt to do work when we might have work to do.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,442,2018-09-01T08:16:45Z,2018-09-04T12:46:30Z,2018-09-04T12:46:30Z,MERGED,True,137,43,6,https://github.com/postwait,Memory fini,2,[],https://github.com/circonus-labs/libmtev/pull/442,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/442,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,443,2018-09-05T13:26:03Z,2018-09-05T13:30:09Z,2018-09-05T13:30:10Z,MERGED,True,38,96,5,https://github.com/postwait,Undo loop changes,2,[],https://github.com/circonus-labs/libmtev/pull/443,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/443,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,444,2018-09-12T12:15:12Z,2018-09-12T13:01:16Z,2018-09-12T13:01:16Z,MERGED,True,6168,118,6,https://github.com/postwait,Use libslz to power mtev_compress gzip/deflate compression.,2,[],https://github.com/circonus-labs/libmtev/pull/444,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/444,http://www.libslz.org/,http://www.libslz.org/,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,446,2018-09-17T11:25:27Z,2018-09-17T12:58:27Z,2018-09-17T13:02:27Z,MERGED,True,35,2,3,https://github.com/postwait,Introduce mtev_watchdog_disable_asynch_core_dump,1,[],https://github.com/circonus-labs/libmtev/pull/446,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/446,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,446,2018-09-17T11:25:27Z,2018-09-17T12:58:27Z,2018-09-17T13:02:27Z,MERGED,True,35,2,3,https://github.com/postwait,Introduce mtev_watchdog_disable_asynch_core_dump,1,[],https://github.com/circonus-labs/libmtev/pull/446,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/446#issuecomment-422006094,,"You have to call it before you fork: mtev_main... and it will be
environmentally overridden no matter how late you call it.
…
On Mon, Sep 17, 2018 at 8:58 AM Riley Berton ***@***.***> wrote:
 ***@***.**** approved this pull request.
 ------------------------------

 In src/utils/mtev_watchdog.h
 <#446 (comment)>:

 > @@ -176,5 +193,14 @@ API_EXPORT(void)

  API_EXPORT(int)
    mtev_setup_crash_signals(void (*)(int, siginfo_t *, void *));
 +
 +/*! \fn void mtev_watchdog_disable_asynch_core_dump(void)
 +    \brief Disable asynchronous core dumps.
 +
 +    Disable starting a new child while a faulting prior child is still dumping.  This will be
 +    overridden by the MTEV_ASYNCH_CORE_DUMP is present.

 Is the ""overridden"" still true if I call this very late in the program
 execution?

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#446 (review)>,
 or mute the thread
 <https://github.com/notifications/unsubscribe-auth/AAUfhKrD19HBANEoalVuGAAmDAA37mcYks5ub5xbgaJpZM4Wrt_i>
 .


-- 
Theo Schlossnagle
Founder & CEO @circonus",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,447,2018-09-21T14:53:06Z,2018-10-01T12:32:53Z,2018-10-01T12:32:53Z,MERGED,True,6192,104,7,https://github.com/postwait,Slz2,3,[],https://github.com/circonus-labs/libmtev/pull/447,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/447,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,448,2018-09-23T22:27:22Z,2018-09-25T20:50:42Z,2018-09-25T20:50:42Z,MERGED,True,2872,12,8,https://github.com/postwait,mtev_intern,7,[],https://github.com/circonus-labs/libmtev/pull/448,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/448,"concurrency: 4
   intern competing insert      2492981/s (1604.5 ns/op)
   intern competing lookup      5999520/s ( 666.7 ns/op)
                    strdup     28426167/s ( 140.7 ns/op)","concurrency: 4
   intern competing insert      2492981/s (1604.5 ns/op)
   intern competing lookup      5999520/s ( 666.7 ns/op)
                    strdup     28426167/s ( 140.7 ns/op)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,449,2018-10-01T12:51:13Z,2018-10-04T12:18:33Z,2018-10-04T12:18:33Z,MERGED,True,258,33,6,https://github.com/postwait,log deduplication,2,[],https://github.com/circonus-labs/libmtev/pull/449,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/449,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,451,2018-10-02T20:29:44Z,2018-10-04T13:11:10Z,2018-10-04T13:15:57Z,MERGED,True,25,3,4,https://github.com/esproul,Disable trace output,5,[],https://github.com/circonus-labs/libmtev/pull/451,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/451,Fixes #450,Fixes #450,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,452,2018-10-02T20:40:10Z,2018-10-05T17:59:24Z,2018-10-05T18:05:13Z,MERGED,True,1480,184,17,https://github.com/HeinrichHartmann,Add High Level Lua Api,25,[],https://github.com/circonus-labs/libmtev/pull/452,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/452,"This PR introduces two classes mtev.Proc and mtev.Api which are extracted from similar scripts in  mtevbusted/lua-support.
These classes don't provide any new functionality, but they are rather wrappers around mtev.HttpClient and mtev.spawn_process that make common use cases more accessible.
In order not keep the documentation of the core functionality clean, I opted to create a new doc section: ""High Level Lua API"". (This is similar to the lua_* and luaL_* apis that lua itself provides.) Functions in the High Level API are marked as unstable for the time being.
Changes made along the way:

Support for gitbook documentation embedded in lua code
Add mtev.time()
Add mtev.exec(), mtev.sh()
Fix to mtev.waitfor()","This PR introduces two classes mtev.Proc and mtev.Api which are extracted from similar scripts in  mtevbusted/lua-support.
These classes don't provide any new functionality, but they are rather wrappers around mtev.HttpClient and mtev.spawn_process that make common use cases more accessible.
In order not keep the documentation of the core functionality clean, I opted to create a new doc section: ""High Level Lua API"". (This is similar to the lua_* and luaL_* apis that lua itself provides.) Functions in the High Level API are marked as unstable for the time being.
Changes made along the way:

Support for gitbook documentation embedded in lua code
Add mtev.time()
Add mtev.exec(), mtev.sh()
Fix to mtev.waitfor()",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,452,2018-10-02T20:40:10Z,2018-10-05T17:59:24Z,2018-10-05T18:05:13Z,MERGED,True,1480,184,17,https://github.com/HeinrichHartmann,Add High Level Lua Api,25,[],https://github.com/circonus-labs/libmtev/pull/452,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/452#issuecomment-426699305,"This PR introduces two classes mtev.Proc and mtev.Api which are extracted from similar scripts in  mtevbusted/lua-support.
These classes don't provide any new functionality, but they are rather wrappers around mtev.HttpClient and mtev.spawn_process that make common use cases more accessible.
In order not keep the documentation of the core functionality clean, I opted to create a new doc section: ""High Level Lua API"". (This is similar to the lua_* and luaL_* apis that lua itself provides.) Functions in the High Level API are marked as unstable for the time being.
Changes made along the way:

Support for gitbook documentation embedded in lua code
Add mtev.time()
Add mtev.exec(), mtev.sh()
Fix to mtev.waitfor()","Replaced the internals of child.lua with Proc. Busted tests for libmtev and snowth are still running as expected, so I am reasonably confident that went fine.
Replacing the internals of api.lua with the new Api, is not worth it since the APIs are quite different, and there is just too little code to replace.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,453,2018-10-09T23:21:09Z,2018-10-09T23:32:43Z,2018-10-09T23:32:43Z,MERGED,True,16,2,3,https://github.com/postwait,"aquire the lock explicitly for fork, unlock post fork",2,[],https://github.com/circonus-labs/libmtev/pull/453,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/453,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,454,2018-10-12T14:21:53Z,2018-10-12T14:54:06Z,2018-10-12T14:54:06Z,MERGED,True,67,7,3,https://github.com/postwait,Expose more jobq modification via console.,1,[],https://github.com/circonus-labs/libmtev/pull/454,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/454,Fix header declaration for setting jobq_floor.,Fix header declaration for setting jobq_floor.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,455,2018-10-15T12:51:05Z,2018-10-15T14:01:04Z,2018-10-15T14:01:04Z,MERGED,True,15,7,4,https://github.com/postwait,Default luamtev to an eventer concurrency of 1.,1,[],https://github.com/circonus-labs/libmtev/pull/455,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/455,"Change the ""concurrency"" eventer config to support 0 for default
behavior.  Add a -n flag to luamtev to control concurrency and
default it to 1 if the flag is unused.","Change the ""concurrency"" eventer config to support 0 for default
behavior.  Add a -n flag to luamtev to control concurrency and
default it to 1 if the flag is unused.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,455,2018-10-15T12:51:05Z,2018-10-15T14:01:04Z,2018-10-15T14:01:04Z,MERGED,True,15,7,4,https://github.com/postwait,Default luamtev to an eventer concurrency of 1.,1,[],https://github.com/circonus-labs/libmtev/pull/455,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/455#issuecomment-429863702,"Change the ""concurrency"" eventer config to support 0 for default
behavior.  Add a -n flag to luamtev to control concurrency and
default it to 1 if the flag is unused.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,456,2018-10-18T19:55:45Z,2018-10-23T03:28:54Z,2018-10-23T03:28:54Z,MERGED,True,39,19,6,https://github.com/postwait,Implement mtevStartupTerminate and mtevTerminate,1,[],https://github.com/circonus-labs/libmtev/pull/456,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/456,Implement public helper: mtev_watchdog_number_of_starts,Implement public helper: mtev_watchdog_number_of_starts,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,457,2018-10-22T21:18:08Z,2018-10-23T02:05:32Z,2018-10-23T02:05:32Z,MERGED,True,2,2,1,https://github.com/postwait,Fix b64 sizing rounding,1,[],https://github.com/circonus-labs/libmtev/pull/457,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/457,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,458,2018-10-29T21:25:01Z,2018-10-29T22:33:50Z,2018-10-29T22:33:50Z,MERGED,True,14,4,3,https://github.com/postwait,Fix SMR in jobqs. make begin/end recursion safe,1,[],https://github.com/circonus-labs/libmtev/pull/458,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/458,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,458,2018-10-29T21:25:01Z,2018-10-29T22:33:50Z,2018-10-29T22:33:50Z,MERGED,True,14,4,3,https://github.com/postwait,Fix SMR in jobqs. make begin/end recursion safe,1,[],https://github.com/circonus-labs/libmtev/pull/458,https://github.com/vasuraman11,2,https://github.com/circonus-labs/libmtev/pull/458#issuecomment-434105672,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,459,2018-10-31T17:44:45Z,2018-10-31T20:00:45Z,2018-10-31T20:00:45Z,MERGED,True,8,5,3,https://github.com/postwait,"Use ""CS"" as the default, wrap recurrent calls.",1,[],https://github.com/circonus-labs/libmtev/pull/459,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/459,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,460,2018-11-01T03:46:32Z,2018-11-01T13:38:23Z,2018-11-01T13:38:23Z,MERGED,True,80,20,6,https://github.com/postwait,Make lua GC on next eventer tick.,2,[],https://github.com/circonus-labs/libmtev/pull/460,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/460,"We can be in a lua call triggering into C completing and decide ""we're done""
with the coroutine that is servicing the request.  From lua's perspective
we are done, but it is littered through the calling frames and is very likely
going to be used before we unwind.  So, instead of GC in place, we make
mtev_lua_gc schedule a GC on next tick which makes for a clean (empty) call
stack and greatly simplifies the next of lua/C call stacks.","We can be in a lua call triggering into C completing and decide ""we're done""
with the coroutine that is servicing the request.  From lua's perspective
we are done, but it is littered through the calling frames and is very likely
going to be used before we unwind.  So, instead of GC in place, we make
mtev_lua_gc schedule a GC on next tick which makes for a clean (empty) call
stack and greatly simplifies the next of lua/C call stacks.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,460,2018-11-01T03:46:32Z,2018-11-01T13:38:23Z,2018-11-01T13:38:23Z,MERGED,True,80,20,6,https://github.com/postwait,Make lua GC on next eventer tick.,2,[],https://github.com/circonus-labs/libmtev/pull/460,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/460#issuecomment-434921958,"We can be in a lua call triggering into C completing and decide ""we're done""
with the coroutine that is servicing the request.  From lua's perspective
we are done, but it is littered through the calling frames and is very likely
going to be used before we unwind.  So, instead of GC in place, we make
mtev_lua_gc schedule a GC on next tick which makes for a clean (empty) call
stack and greatly simplifies the next of lua/C call stacks.","This also uses the global registry instead of a ""mtev_coros"" global table for thread references.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,460,2018-11-01T03:46:32Z,2018-11-01T13:38:23Z,2018-11-01T13:38:23Z,MERGED,True,80,20,6,https://github.com/postwait,Make lua GC on next eventer tick.,2,[],https://github.com/circonus-labs/libmtev/pull/460,https://github.com/cody271,3,https://github.com/circonus-labs/libmtev/pull/460#issuecomment-434936992,"We can be in a lua call triggering into C completing and decide ""we're done""
with the coroutine that is servicing the request.  From lua's perspective
we are done, but it is littered through the calling frames and is very likely
going to be used before we unwind.  So, instead of GC in place, we make
mtev_lua_gc schedule a GC on next tick which makes for a clean (empty) call
stack and greatly simplifies the next of lua/C call stacks.","This also uses the global registry instead of a ""mtev_coros"" global table for thread references.

👍",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,460,2018-11-01T03:46:32Z,2018-11-01T13:38:23Z,2018-11-01T13:38:23Z,MERGED,True,80,20,6,https://github.com/postwait,Make lua GC on next eventer tick.,2,[],https://github.com/circonus-labs/libmtev/pull/460,https://github.com/postwait,4,https://github.com/circonus-labs/libmtev/pull/460#issuecomment-435032251,"We can be in a lua call triggering into C completing and decide ""we're done""
with the coroutine that is servicing the request.  From lua's perspective
we are done, but it is littered through the calling frames and is very likely
going to be used before we unwind.  So, instead of GC in place, we make
mtev_lua_gc schedule a GC on next tick which makes for a clean (empty) call
stack and greatly simplifies the next of lua/C call stacks.",All nits addressed.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,461,2018-11-01T10:49:06Z,2018-11-01T15:22:01Z,2018-11-01T15:22:01Z,MERGED,True,11,3,3,https://github.com/HeinrichHartmann,Improve error reporting in Api.lua,2,[],https://github.com/circonus-labs/libmtev/pull/461,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/461,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,462,2018-11-03T01:47:05Z,2018-11-05T15:30:43Z,2018-11-05T15:30:43Z,MERGED,True,58,21,2,https://github.com/postwait,Make ncct write operations thread safe,2,[],https://github.com/circonus-labs/libmtev/pull/462,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/462,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,462,2018-11-03T01:47:05Z,2018-11-05T15:30:43Z,2018-11-05T15:30:43Z,MERGED,True,58,21,2,https://github.com/postwait,Make ncct write operations thread safe,2,[],https://github.com/circonus-labs/libmtev/pull/462,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/462#issuecomment-435905576,,"Looks like accesses to outbuf_* are appropriately locked.
There are two places where it's not 100% certain. Otherwise looks fine.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,463,2018-11-07T15:58:26Z,2018-11-07T16:13:33Z,2018-11-07T16:13:33Z,MERGED,True,71,7,6,https://github.com/postwait,Add reporting for SMR and fix thread name leaks.,1,[],https://github.com/circonus-labs/libmtev/pull/463,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/463,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,464,2018-11-08T16:35:00Z,2018-11-08T16:37:05Z,2018-11-08T16:37:05Z,MERGED,True,711,152,74,https://github.com/postwait,Support -Wextra in gcc and clang and use it by default.,2,[],https://github.com/circonus-labs/libmtev/pull/464,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/464,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,467,2018-11-09T05:08:33Z,2018-11-10T03:18:09Z,2018-11-10T03:18:09Z,MERGED,True,104,55,1,https://github.com/postwait,Avoid waiting in mtev_memory_fini_thread for reclamation.,6,[],https://github.com/circonus-labs/libmtev/pull/467,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/467,"This change ""disowns"" any outstanding SMR actions such that the
memory gc thread will take responsibility and act on them.
Fixes #465","This change ""disowns"" any outstanding SMR actions such that the
memory gc thread will take responsibility and act on them.
Fixes #465",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,470,2018-11-14T14:34:40Z,2018-11-14T20:27:49Z,2018-11-14T20:27:49Z,MERGED,True,175,32,4,https://github.com/postwait,watchdogs should have actionable stack traces,1,[],https://github.com/circonus-labs/libmtev/pull/470,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/470,"This adds support for getting a stack trace from the offending thread during a watchdog timeout.  It also adds the crash signal name or offending thread name to the glider ""reason"" argument.","This adds support for getting a stack trace from the offending thread during a watchdog timeout.  It also adds the crash signal name or offending thread name to the glider ""reason"" argument.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,471,2018-11-16T04:49:39Z,2018-11-16T05:54:09Z,2018-11-16T05:54:09Z,MERGED,True,93,21,8,https://github.com/postwait,Fix aco rest,6,[],https://github.com/circonus-labs/libmtev/pull/471,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/471,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,472,2018-11-16T15:23:25Z,2018-11-16T21:57:15Z,2018-11-16T21:57:15Z,MERGED,True,48,6,4,https://github.com/postwait,Fix thread migration for ACO rest calls.,1,[],https://github.com/circonus-labs/libmtev/pull/472,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/472,"By default, if pools were specified, thread-fanout happened.  This
now always happens as ""no pool"" is treated correctly as the default
pool.","By default, if pools were specified, thread-fanout happened.  This
now always happens as ""no pool"" is treated correctly as the default
pool.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,473,2018-11-26T19:42:01Z,2018-11-26T21:27:54Z,2018-11-26T21:27:54Z,MERGED,True,9,11,1,https://github.com/postwait,Fix mistaken aco registry collisions.,1,[],https://github.com/circonus-labs/libmtev/pull/473,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/473,"The ACO registry was keyed on pointer value, but the entries
where later compared on content value.  Just store the objects
in there with a directy pointer comparison.  It is smaller and
faster this way.","The ACO registry was keyed on pointer value, but the entries
where later compared on content value.  Just store the objects
in there with a directy pointer comparison.  It is smaller and
faster this way.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,474,2018-11-26T19:42:31Z,2018-11-26T21:27:43Z,2018-11-26T21:27:43Z,MERGED,True,5,4,1,https://github.com/postwait,Allocation of epoch records via ck_epoch_recycle.,1,[],https://github.com/circonus-labs/libmtev/pull/474,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/474,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,475,2018-11-26T19:44:16Z,2019-01-25T19:48:21Z,2019-01-25T19:48:21Z,MERGED,True,29,3,3,https://github.com/postwait,Support optional history for console.,1,[],https://github.com/circonus-labs/libmtev/pull/475,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/475,Fixes #466,Fixes #466,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,476,2018-12-04T01:04:30Z,2018-12-04T15:56:57Z,2018-12-04T15:56:57Z,MERGED,True,4,3,1,https://github.com/postwait,Make epoll_wait use a smaller possible return set.,1,[],https://github.com/circonus-labs/libmtev/pull/476,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/476,"This saves quite a bit of memory on highly concurrent configs.
This simply limits each epoll_wait to 1024 fds to attend to, any
subsequent ones will be picked up on the next iteration.","This saves quite a bit of memory on highly concurrent configs.
This simply limits each epoll_wait to 1024 fds to attend to, any
subsequent ones will be picked up on the next iteration.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,477,2018-12-04T02:17:23Z,2018-12-04T15:53:11Z,2018-12-04T15:53:11Z,MERGED,True,5,2,2,https://github.com/postwait,Fix munmap in large http chains.,1,[],https://github.com/circonus-labs/libmtev/pull/477,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/477,"The http chain processor can sometimes under-use large blocks in a
bchain.  If they are large enough to qualify for mmap, they must
later be munmap'd instead of freed.  We used the allocd field
to track how large they were, but if we under-use the block, the
allocd will be forced down to match size (to ensure no one uses
the remainder) and then subsequent munmap will provide an
insufficient length to the call leaving some mmap'd memory stranded.
This fix uses a separate struct field (that is never modified) to
track the mmap size so that the corresponding munmap is guaranteed
to match.","The http chain processor can sometimes under-use large blocks in a
bchain.  If they are large enough to qualify for mmap, they must
later be munmap'd instead of freed.  We used the allocd field
to track how large they were, but if we under-use the block, the
allocd will be forced down to match size (to ensure no one uses
the remainder) and then subsequent munmap will provide an
insufficient length to the call leaving some mmap'd memory stranded.
This fix uses a separate struct field (that is never modified) to
track the mmap size so that the corresponding munmap is guaranteed
to match.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,478,2018-12-07T03:14:54Z,2018-12-10T16:35:38Z,2018-12-10T16:35:38Z,MERGED,True,60,17,3,https://github.com/postwait,Have the intern release perform compaction,2,[],https://github.com/circonus-labs/libmtev/pull/478,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/478,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,478,2018-12-07T03:14:54Z,2018-12-10T16:35:38Z,2018-12-10T16:35:38Z,MERGED,True,60,17,3,https://github.com/postwait,Have the intern release perform compaction,2,[],https://github.com/circonus-labs/libmtev/pull/478,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/478#issuecomment-445269139,,Is this lightweight enough that high-churn use cases don't turn pathological?,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,479,2018-12-07T03:15:05Z,2018-12-13T18:47:55Z,2018-12-13T18:47:55Z,MERGED,True,5643,3038,24,https://github.com/postwait,http2 support,5,[],https://github.com/circonus-labs/libmtev/pull/479,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/479,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,480,2018-12-10T00:27:05Z,2018-12-10T13:54:14Z,2018-12-10T13:54:14Z,MERGED,True,2,2,1,https://github.com/postwait,Support decoding 'URL' Alphabet base64 messages (rfc4648),1,[],https://github.com/circonus-labs/libmtev/pull/480,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/480,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,480,2018-12-10T00:27:05Z,2018-12-10T13:54:14Z,2018-12-10T13:54:14Z,MERGED,True,2,2,1,https://github.com/postwait,Support decoding 'URL' Alphabet base64 messages (rfc4648),1,[],https://github.com/circonus-labs/libmtev/pull/480,https://github.com/cody271,2,https://github.com/circonus-labs/libmtev/pull/480#issuecomment-445650098,,"Confirmed, this matches Table 2: The ""URL and Filename safe"" Base 64 Alphabet from RFC 4648.
Also known as ""base64url"" format.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,481,2018-12-19T17:16:01Z,2018-12-19T18:18:52Z,2018-12-19T18:18:55Z,MERGED,True,3,1,1,https://github.com/pamaddox,Fix Mtev Memory Memory Leak,1,[],https://github.com/circonus-labs/libmtev/pull/481,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/481,"The way mtev_memory was using the libck dequeue function in cleanup was
resulting in a memory leak. Rather than dequeue, we should just loop
through the fifo and call cleanup on all the elements; then we can go
and clean up the containers.","The way mtev_memory was using the libck dequeue function in cleanup was
resulting in a memory leak. Rather than dequeue, we should just loop
through the fifo and call cleanup on all the elements; then we can go
and clean up the containers.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,482,2018-12-21T18:07:57Z,2019-01-02T16:13:20Z,2019-01-02T16:13:23Z,MERGED,True,118,32,1,https://github.com/pamaddox,Improve Reverse Socket Debugging,7,[],https://github.com/circonus-labs/libmtev/pull/482,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/482,Added more (and more detailed) debug log statements to the mtev_reverse_socket code.,Added more (and more detailed) debug log statements to the mtev_reverse_socket code.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,483,2019-01-24T19:27:26Z,2019-01-24T19:27:34Z,2019-01-24T19:27:34Z,MERGED,True,14,5,2,https://github.com/pamaddox,Http1 fixups,6,[],https://github.com/circonus-labs/libmtev/pull/483,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/483,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,484,2019-01-25T16:38:10Z,2019-01-25T16:46:33Z,2019-01-25T16:46:33Z,MERGED,True,50,1,1,https://github.com/postwait,Fix notify across C-barrier coroutines.,1,[],https://github.com/circonus-labs/libmtev/pull/484,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/484,"Add an immediate ping when we have a resumable coroutine waiting,
but we are not in a yieldable state.  We register a ""timeout-like""
function that fires immediately but does not intefere with an
existing timeout.","Add an immediate ping when we have a resumable coroutine waiting,
but we are not in a yieldable state.  We register a ""timeout-like""
function that fires immediately but does not intefere with an
existing timeout.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,485,2019-01-31T16:19:35Z,2019-01-31T16:30:00Z,2019-01-31T16:30:55Z,MERGED,True,19,6,2,https://github.com/esproul,Release 1.6.0,1,[],https://github.com/circonus-labs/libmtev/pull/485,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/485,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,486,2019-02-04T23:15:35Z,2019-02-05T16:05:19Z,2019-02-05T16:05:19Z,MERGED,True,25,4,1,https://github.com/postwait,Track the waitfor ping eventer explicitly and prevent double fire.,1,[],https://github.com/circonus-labs/libmtev/pull/486,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/486,"If two things are queued immediately for a coroutine that isn't in a
resumable state, it could register the ping twice which would cause
a lingering event to fire with out waiter.  By tracking the ping
eventer within the queue, we prevent a double ping.  Additionally,
we use this ping eventer to even more carefully remove it if there
was somehow a timeout fire race.","If two things are queued immediately for a coroutine that isn't in a
resumable state, it could register the ping twice which would cause
a lingering event to fire with out waiter.  By tracking the ping
eventer within the queue, we prevent a double ping.  Additionally,
we use this ping eventer to even more carefully remove it if there
was somehow a timeout fire race.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,487,2019-02-05T20:38:57Z,2019-02-05T20:47:44Z,2019-02-05T20:47:46Z,MERGED,True,1,0,1,https://github.com/pamaddox,Fix Crash In mtev_skiplist_find_neighbors,1,[],https://github.com/circonus-labs/libmtev/pull/487,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/487,"We were trying to access sl->compare when sl was null. Need to check for
existance of sl before trying to access sl->compare.","We were trying to access sl->compare when sl was null. Need to check for
existance of sl before trying to access sl->compare.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,488,2019-02-06T19:31:14Z,2019-02-06T19:50:02Z,2019-02-06T19:50:06Z,MERGED,True,29,1,1,https://github.com/pamaddox,Make mtev_skiplist Safer If Misused,2,[],https://github.com/circonus-labs/libmtev/pull/488,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/488,"There are many functions in mtev_skiplist that will crash if passed a
null skiplist. Rather than crash, we should check for this and return a
failure.","There are many functions in mtev_skiplist that will crash if passed a
null skiplist. Rather than crash, we should check for this and return a
failure.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,488,2019-02-06T19:31:14Z,2019-02-06T19:50:02Z,2019-02-06T19:50:06Z,MERGED,True,29,1,1,https://github.com/pamaddox,Make mtev_skiplist Safer If Misused,2,[],https://github.com/circonus-labs/libmtev/pull/488,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/488#issuecomment-461160010,"There are many functions in mtev_skiplist that will crash if passed a
null skiplist. Rather than crash, we should check for this and return a
failure.",Addressed requested changes,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,489,2019-02-08T18:42:27Z,2019-02-08T19:03:16Z,2019-02-08T19:03:16Z,MERGED,True,504,45,23,https://github.com/postwait,Jobq improvment,5,[],https://github.com/circonus-labs/libmtev/pull/489,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/489,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,490,2019-02-12T00:34:56Z,2019-02-12T20:09:39Z,2019-02-12T20:09:39Z,MERGED,True,125,1,4,https://github.com/postwait,Support stats exposure for mtev_intern pools,4,[],https://github.com/circonus-labs/libmtev/pull/490,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/490,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,490,2019-02-12T00:34:56Z,2019-02-12T20:09:39Z,2019-02-12T20:09:39Z,MERGED,True,125,1,4,https://github.com/postwait,Support stats exposure for mtev_intern pools,4,[],https://github.com/circonus-labs/libmtev/pull/490,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/490#issuecomment-462914658,,"Still LGTM, tested the new list command, works great.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,491,2019-02-14T03:59:05Z,2019-02-14T16:40:13Z,2019-02-14T16:40:14Z,MERGED,True,3,58,1,https://github.com/postwait,make mtev_hash__hash be XXH64 for speed,1,[],https://github.com/circonus-labs/libmtev/pull/491,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/491,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,491,2019-02-14T03:59:05Z,2019-02-14T16:40:13Z,2019-02-14T16:40:14Z,MERGED,True,3,58,1,https://github.com/postwait,make mtev_hash__hash be XXH64 for speed,1,[],https://github.com/circonus-labs/libmtev/pull/491,https://github.com/cody271,2,https://github.com/circonus-labs/libmtev/pull/491#issuecomment-463487762,,We should probably update our copy of xxHash to the latest while we're at it..,True,{'THUMBS_UP': ['https://github.com/postwait']}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,492,2019-02-14T03:59:23Z,2019-02-14T04:40:14Z,2019-02-14T04:40:14Z,MERGED,True,77,24,2,https://github.com/postwait,Cleanup some intern code.,1,[],https://github.com/circonus-labs/libmtev/pull/492,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/492,"This should yield no functional change.  It adds some asserts and
macros for commonly repeated ops and reworks a few predicated to
avoid unsigned rolling (that should never have been possible anyway).
Make the test a bit more rigorous.","This should yield no functional change.  It adds some asserts and
macros for commonly repeated ops and reworks a few predicated to
avoid unsigned rolling (that should never have been possible anyway).
Make the test a bit more rigorous.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,493,2019-02-18T15:31:39Z,2019-02-18T22:52:36Z,2019-02-18T22:52:36Z,MERGED,True,138,67,4,https://github.com/postwait,Intern unswole,2,[],https://github.com/circonus-labs/libmtev/pull/493,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/493,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,494,2019-02-19T15:56:42Z,2019-02-19T23:17:14Z,2019-02-19T23:17:14Z,MERGED,True,41,37,1,https://github.com/postwait,Fix intern race on freelist head acquisition,2,[],https://github.com/circonus-labs/libmtev/pull/494,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/494,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,495,2019-03-04T22:24:02Z,2019-03-04T22:41:55Z,2019-03-04T22:41:55Z,MERGED,True,31,6,2,https://github.com/postwait,Fix fq polling starvation issue,2,[],https://github.com/circonus-labs/libmtev/pull/495,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/495,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,496,2019-03-12T05:23:57Z,2019-04-12T14:40:13Z,2019-04-12T14:40:13Z,MERGED,True,185,0,3,https://github.com/postwait,extract DWARF symbols and use them for callback names,2,[],https://github.com/circonus-labs/libmtev/pull/496,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/496,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,497,2019-03-13T04:28:26Z,2019-03-14T14:30:54Z,2019-03-14T14:30:54Z,MERGED,True,130,27,9,https://github.com/postwait,Implement support for libcircmetric stream tags.,1,[],https://github.com/circonus-labs/libmtev/pull/497,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/497,"This is a breaking change for some internal metrics as their
names will change; most are unaffected.","This is a breaking change for some internal metrics as their
names will change; most are unaffected.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,498,2019-03-18T14:50:17Z,2019-03-18T14:58:30Z,2019-03-18T14:58:30Z,MERGED,True,4,1,3,https://github.com/rileyberton,fix undefined XXH64 which collides with rdkafka,1,[],https://github.com/circonus-labs/libmtev/pull/498,https://github.com/rileyberton,1,https://github.com/circonus-labs/libmtev/pull/498,Make all xxhash accesses private to the modules utilizing them.,Make all xxhash accesses private to the modules utilizing them.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,499,2019-03-19T13:12:27Z,2019-03-19T14:01:34Z,2019-03-19T14:01:34Z,MERGED,True,132,8,5,https://github.com/postwait,Fix null dereference caused by in mtev_memory_fini_thread.,1,[],https://github.com/circonus-labs/libmtev/pull/499,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/499,"We were using a boolean to determine if the asynch thread should
perform cleanup which could cause it to perform cleanup before the
last asynch reclamation job was enqueued.  Change the boolean to a
pointer representing what we know to be the last reclamation job
and trigger the termination on observation of that element.","We were using a boolean to determine if the asynch thread should
perform cleanup which could cause it to perform cleanup before the
last asynch reclamation job was enqueued.  Change the boolean to a
pointer representing what we know to be the last reclamation job
and trigger the termination on observation of that element.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,500,2019-03-19T17:51:20Z,2019-03-19T18:21:17Z,2019-03-19T18:21:17Z,MERGED,True,56,16,7,https://github.com/postwait,Add unused jobq toggle and default display to only used,1,[],https://github.com/circonus-labs/libmtev/pull/500,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/500,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,501,2019-03-22T02:31:20Z,2019-03-22T20:04:01Z,2019-03-22T20:04:05Z,MERGED,True,4,2,1,https://github.com/vasuraman11,Add -skip commandline switch,2,[],https://github.com/circonus-labs/libmtev/pull/501,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/501,"When debugging a busted test or binary under test with many it-blocks (subtests), it is often useful to be able to stop at the first error or failure, instead of having to scroll backwards at the end to find out what happened.  This change adds a new switch to mtevbusted (-skip) which will cause the remainder of the it-blocks to be skipped.","When debugging a busted test or binary under test with many it-blocks (subtests), it is often useful to be able to stop at the first error or failure, instead of having to scroll backwards at the end to find out what happened.  This change adds a new switch to mtevbusted (-skip) which will cause the remainder of the it-blocks to be skipped.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,501,2019-03-22T02:31:20Z,2019-03-22T20:04:01Z,2019-03-22T20:04:05Z,MERGED,True,4,2,1,https://github.com/vasuraman11,Add -skip commandline switch,2,[],https://github.com/circonus-labs/libmtev/pull/501,https://github.com/vasuraman11,2,https://github.com/circonus-labs/libmtev/pull/501#issuecomment-475752891,"When debugging a busted test or binary under test with many it-blocks (subtests), it is often useful to be able to stop at the first error or failure, instead of having to scroll backwards at the end to find out what happened.  This change adds a new switch to mtevbusted (-skip) which will cause the remainder of the it-blocks to be skipped.","""-bail"" means that mtevbusted (or the wrapper run-tests.sh) should quit running test files after a test failure or error, BUT all the remaining it-blocks will still be executed.  We often use test steps to do additional test setup (such as spinning up snowth instances) or to ingest data or whatever, or we have a crash, so additional it-blocks are doomed to fail and spew out a bunch of noise.
To help make this easier, I added -skip.
I thought of other names like -bail_faster, or -bail_after_subtest, but those are clunky and -skip is short. I'm open to other suggestions.
""-skip"" is new and means to quit after the first it-block failure, and quit running the remaining it-blocks.
This saves the engineer from the need to scroll backwards through all the noise to find the output at the first it-block error or failure, and so it increases our productivity.  The name ""skip"" comes from the fact that it actually sets a flag ""busted.skipAll"" during the error or failure handler, and so skip is a natural name (could change it to skipall, but that seems more confusing).",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,502,2019-03-27T23:11:41Z,2019-03-29T14:30:58Z,2019-03-29T14:30:58Z,MERGED,True,8,0,1,https://github.com/bincircon,check return AMPQ name,1,[],https://github.com/circonus-labs/libmtev/pull/502,https://github.com/bincircon,1,https://github.com/circonus-labs/libmtev/pull/502,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,502,2019-03-27T23:11:41Z,2019-03-29T14:30:58Z,2019-03-29T14:30:58Z,MERGED,True,8,0,1,https://github.com/bincircon,check return AMPQ name,1,[],https://github.com/circonus-labs/libmtev/pull/502,https://github.com/bincircon,2,https://github.com/circonus-labs/libmtev/pull/502#issuecomment-477385240,,"@postwait, there is assert call watchdog
mtevAssert(queuename.bytes != NULL); after call amqp_queue_declare
I dig over AMPQ, i am wonder if we pass queuename to below call, will the r->queue NULL because queue is not assigned internally by AMQP.
amqp_queue_declare_ok_t *r =
amqp_queue_declare(conn->conn, 1,
conn->queuename ? amqp_cstring_bytes(conn->queuename) : amqp_empty_bytes, 0, 0, 0, 1,
amqp_empty_table);
die_on_amqp_error(amqp_get_rpc_reply(conn->conn), ""declaring queue"");",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,502,2019-03-27T23:11:41Z,2019-03-29T14:30:58Z,2019-03-29T14:30:58Z,MERGED,True,8,0,1,https://github.com/bincircon,check return AMPQ name,1,[],https://github.com/circonus-labs/libmtev/pull/502,https://github.com/bincircon,3,https://github.com/circonus-labs/libmtev/pull/502#issuecomment-477762098,,"@postwait please review, i noticed that static void *
rabbitmq_manage_connection(void *vconn) {
struct timeval fiveseconds = { 5, 0 };
struct amqp_conn *conn = vconn;
while(1) {
it is doing a while for no block socket, create and destroy and recreate again, is it intentional.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,502,2019-03-27T23:11:41Z,2019-03-29T14:30:58Z,2019-03-29T14:30:58Z,MERGED,True,8,0,1,https://github.com/bincircon,check return AMPQ name,1,[],https://github.com/circonus-labs/libmtev/pull/502,https://github.com/postwait,4,https://github.com/circonus-labs/libmtev/pull/502#issuecomment-477763404,,"Yes, that blocking while(1) is intentional.  That is run in a dedicated thread.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,502,2019-03-27T23:11:41Z,2019-03-29T14:30:58Z,2019-03-29T14:30:58Z,MERGED,True,8,0,1,https://github.com/bincircon,check return AMPQ name,1,[],https://github.com/circonus-labs/libmtev/pull/502,https://github.com/bincircon,5,https://github.com/circonus-labs/libmtev/pull/502#issuecomment-477810795,,"@postwait it add some safe check, can we merge this",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,503,2019-03-28T21:03:42Z,2019-03-28T21:13:55Z,2019-03-28T21:13:58Z,MERGED,True,1,1,1,https://github.com/cody271,mtevbusted don't *force* application/json,1,[],https://github.com/circonus-labs/libmtev/pull/503,https://github.com/cody271,1,https://github.com/circonus-labs/libmtev/pull/503,Trivial fix for commit fix headers and don't *force* application/json,Trivial fix for commit fix headers and don't *force* application/json,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,504,2019-03-28T22:46:13Z,2019-06-21T14:46:29Z,2019-06-21T14:46:29Z,MERGED,True,21,3,7,https://github.com/cody271,"Suppress GCC 7 warnings for ""-Wimplicit-fallthrough"" and ""-Wclobbered""",2,[],https://github.com/circonus-labs/libmtev/pull/504,https://github.com/cody271,1,https://github.com/circonus-labs/libmtev/pull/504,Fixes libmtev build with GCC 7 on newer Ubuntu. (Follow up to PR #370),Fixes libmtev build with GCC 7 on newer Ubuntu. (Follow up to PR #370),True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,504,2019-03-28T22:46:13Z,2019-06-21T14:46:29Z,2019-06-21T14:46:29Z,MERGED,True,21,3,7,https://github.com/cody271,"Suppress GCC 7 warnings for ""-Wimplicit-fallthrough"" and ""-Wclobbered""",2,[],https://github.com/circonus-labs/libmtev/pull/504,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/504#issuecomment-477830607,Fixes libmtev build with GCC 7 on newer Ubuntu. (Follow up to PR #370),Another option is to fix the code. What would that look like?,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,504,2019-03-28T22:46:13Z,2019-06-21T14:46:29Z,2019-06-21T14:46:29Z,MERGED,True,21,3,7,https://github.com/cody271,"Suppress GCC 7 warnings for ""-Wimplicit-fallthrough"" and ""-Wclobbered""",2,[],https://github.com/circonus-labs/libmtev/pull/504,https://github.com/cody271,3,https://github.com/circonus-labs/libmtev/pull/504#issuecomment-477845240,Fixes libmtev build with GCC 7 on newer Ubuntu. (Follow up to PR #370),"For -Wimplicit-fallthrough, it looks these are all valid uses of fall through in a switch statement.
Personally I think warning suppression with #pragma is much clearer than using the special comment /* fall through */. Though we actually are already using that here.. thoughts?",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,504,2019-03-28T22:46:13Z,2019-06-21T14:46:29Z,2019-06-21T14:46:29Z,MERGED,True,21,3,7,https://github.com/cody271,"Suppress GCC 7 warnings for ""-Wimplicit-fallthrough"" and ""-Wclobbered""",2,[],https://github.com/circonus-labs/libmtev/pull/504,https://github.com/cody271,4,https://github.com/circonus-labs/libmtev/pull/504#issuecomment-477847851,Fixes libmtev build with GCC 7 on newer Ubuntu. (Follow up to PR #370),"For -Wclobbered, there we could be an actual bug there. I don't honestly understand the code in eventer_jobq_consumer() enough to know for sure.
Documentation for that warning recommends adding volatile, but that shouldn't be necessary here and actually conflicts with libck primitives.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,504,2019-03-28T22:46:13Z,2019-06-21T14:46:29Z,2019-06-21T14:46:29Z,MERGED,True,21,3,7,https://github.com/cody271,"Suppress GCC 7 warnings for ""-Wimplicit-fallthrough"" and ""-Wclobbered""",2,[],https://github.com/circonus-labs/libmtev/pull/504,https://github.com/postwait,5,https://github.com/circonus-labs/libmtev/pull/504#issuecomment-477983282,Fixes libmtev build with GCC 7 on newer Ubuntu. (Follow up to PR #370),I think the advantage of the /* fall through */ comment is that is must be specified at use (per-case) whereas the pragma tends to wrap the whole switch.  I think we should comment.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,504,2019-03-28T22:46:13Z,2019-06-21T14:46:29Z,2019-06-21T14:46:29Z,MERGED,True,21,3,7,https://github.com/cody271,"Suppress GCC 7 warnings for ""-Wimplicit-fallthrough"" and ""-Wclobbered""",2,[],https://github.com/circonus-labs/libmtev/pull/504,https://github.com/postwait,6,https://github.com/circonus-labs/libmtev/pull/504#issuecomment-477983745,Fixes libmtev build with GCC 7 on newer Ubuntu. (Follow up to PR #370),"As for the clobber, since we use ck all over the place and this is the only warning site, we should figure out what's going on b/c the warning could be a real indicator of a flaw.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,505,2019-03-29T14:42:27Z,2019-03-29T15:21:02Z,2019-03-29T15:21:02Z,MERGED,True,33,34,3,https://github.com/postwait,"Add more thread names: log dedup, amqp, fq",1,[],https://github.com/circonus-labs/libmtev/pull/505,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/505,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,506,2019-03-29T19:29:10Z,2019-03-29T20:30:02Z,2019-03-29T20:30:02Z,MERGED,True,24,3,2,https://github.com/bincircon,CIRC3408: add poll for AMQP,1,[],https://github.com/circonus-labs/libmtev/pull/506,https://github.com/bincircon,1,https://github.com/circonus-labs/libmtev/pull/506,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,507,2019-04-04T21:01:38Z,2019-04-04T21:19:23Z,2019-04-04T21:19:23Z,MERGED,True,3,10,1,https://github.com/postwait,revert to normal allocator for eventer_t objects,1,[],https://github.com/circonus-labs/libmtev/pull/507,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/507,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,509,2019-04-05T19:11:57Z,2019-04-05T21:10:22Z,2019-04-05T21:10:27Z,MERGED,True,8,3,1,https://github.com/pamaddox,Make mtevbusted Headers Lowercase,1,[],https://github.com/circonus-labs/libmtev/pull/509,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/509,"We need to make sure we convert to and accept lowercase headers when
running busted tests.","We need to make sure we convert to and accept lowercase headers when
running busted tests.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,510,2019-04-10T17:07:39Z,2019-04-10T17:10:52Z,2019-04-10T17:10:52Z,MERGED,True,66,0,9,https://github.com/postwait,Make the eventer heartbeat aware of the heartbeat timeout,1,[],https://github.com/circonus-labs/libmtev/pull/510,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/510,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,511,2019-04-11T20:28:52Z,2019-04-11T21:32:23Z,2019-04-11T21:38:56Z,MERGED,True,83,1,5,https://github.com/postwait,Add statistics for lua in-VM runtime and GC operations.,1,[],https://github.com/circonus-labs/libmtev/pull/511,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/511,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,512,2019-04-12T14:02:45Z,2019-04-12T14:17:44Z,2019-04-12T14:17:44Z,MERGED,True,12,8,5,https://github.com/postwait,Cov work,4,[],https://github.com/circonus-labs/libmtev/pull/512,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/512,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,513,2019-04-20T05:04:52Z,2019-04-27T14:15:28Z,2019-04-27T14:15:29Z,CLOSED,False,1,1,1,https://github.com/redhotpenguin,Fix failure to AC_CHECK_LIB ck_ht_init on darwin,1,[],https://github.com/circonus-labs/libmtev/pull/513,https://github.com/redhotpenguin,1,https://github.com/circonus-labs/libmtev/pull/513,"My autoconf foo is not so great, but this change resolves the following
build error on darwin by adding -L to the full libpath, which finds libck (installed
either via source or homebrew"")
error - ""configure: error: *** concurrencyckit (libck) is required ***""","My autoconf foo is not so great, but this change resolves the following
build error on darwin by adding -L to the full libpath, which finds libck (installed
either via source or homebrew"")
error - ""configure: error: *** concurrencyckit (libck) is required ***""",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,513,2019-04-20T05:04:52Z,2019-04-27T14:15:28Z,2019-04-27T14:15:29Z,CLOSED,False,1,1,1,https://github.com/redhotpenguin,Fix failure to AC_CHECK_LIB ck_ht_init on darwin,1,[],https://github.com/circonus-labs/libmtev/pull/513,https://github.com/redhotpenguin,2,https://github.com/circonus-labs/libmtev/pull/513#issuecomment-487289559,"My autoconf foo is not so great, but this change resolves the following
build error on darwin by adding -L to the full libpath, which finds libck (installed
either via source or homebrew"")
error - ""configure: error: *** concurrencyckit (libck) is required ***""","Closing this one; will open a new PR in a bit, working through a couple other build issues on Darwin",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,514,2019-04-22T16:42:49Z,2019-04-22T18:58:04Z,2019-04-22T18:58:04Z,MERGED,True,7,3,3,https://github.com/postwait,Change jobq default memory safety: #469,1,[],https://github.com/circonus-labs/libmtev/pull/514,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/514,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,515,2019-05-02T19:06:32Z,2019-05-02T21:10:57Z,2019-05-02T21:10:58Z,MERGED,True,112,30,2,https://github.com/postwait,support malloc/free pass thru for intern with extent_size 0,1,[],https://github.com/circonus-labs/libmtev/pull/515,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/515,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,516,2019-05-02T21:43:40Z,2019-05-02T21:53:59Z,2019-05-02T21:54:02Z,MERGED,True,2,2,2,https://github.com/pamaddox,Fix Warnings In Tests,3,[],https://github.com/circonus-labs/libmtev/pull/516,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/516,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,517,2019-05-03T14:09:54Z,2019-05-03T14:55:31Z,2019-05-03T14:55:31Z,MERGED,True,19,0,3,https://github.com/postwait,Allow hooking rest handler assignments,1,[],https://github.com/circonus-labs/libmtev/pull/517,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/517,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,518,2019-05-03T15:27:33Z,2019-05-03T15:39:50Z,2019-05-03T15:39:50Z,MERGED,True,9,1,3,https://github.com/postwait,Introduce `mtev_log_has_material_output` and update `N_L_S_ON`,1,[],https://github.com/circonus-labs/libmtev/pull/518,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/518,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,518,2019-05-03T15:27:33Z,2019-05-03T15:39:50Z,2019-05-03T15:39:50Z,MERGED,True,9,1,3,https://github.com/postwait,Introduce `mtev_log_has_material_output` and update `N_L_S_ON`,1,[],https://github.com/circonus-labs/libmtev/pull/518,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/518#issuecomment-489138801,,LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,519,2019-05-20T21:13:32Z,2019-05-20T21:39:41Z,2019-05-20T21:39:41Z,MERGED,True,12,4,1,https://github.com/postwait,Fix reading of chunked client request data.,1,[],https://github.com/circonus-labs/libmtev/pull/519,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/519,"Calculate minimal satisfied read correctly for request side chunked encoding.
We were not ensuring we had enough space for the trailing \r\n on the
chunked frame and large payloads that didn't otherwise fit in the
existing chain would be processed before we read the trailing \r\n and
then fail decoding. This change makes sure we size in two extra bytes
and ensures we've read them before we process the chunk.","Calculate minimal satisfied read correctly for request side chunked encoding.
We were not ensuring we had enough space for the trailing \r\n on the
chunked frame and large payloads that didn't otherwise fit in the
existing chain would be processed before we read the trailing \r\n and
then fail decoding. This change makes sure we size in two extra bytes
and ensures we've read them before we process the chunk.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,520,2019-05-24T12:56:05Z,2019-05-24T15:16:53Z,2019-05-24T15:16:53Z,MERGED,True,56,13,2,https://github.com/postwait,Address REST ACL hole,1,[],https://github.com/circonus-labs/libmtev/pull/520,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/520,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,520,2019-05-24T12:56:05Z,2019-05-24T15:16:53Z,2019-05-24T15:16:53Z,MERGED,True,56,13,2,https://github.com/postwait,Address REST ACL hole,1,[],https://github.com/circonus-labs/libmtev/pull/520,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/520#issuecomment-495614967,,"There is a lot of debugging added to help troubleshoot pattern issues in the future, but the gist of the fix is to move the ->auth(...) application above the migrate logic in handler selection.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,521,2019-05-24T13:05:04Z,2019-05-24T13:10:48Z,2019-05-24T13:10:48Z,MERGED,True,4,0,2,https://github.com/postwait,Fix ALPN upgrade crash w/ listener npn=none.,1,[],https://github.com/circonus-labs/libmtev/pull/521,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/521,Fixes CIRC-3664,Fixes CIRC-3664,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,522,2019-06-07T21:10:59Z,2019-06-09T19:20:09Z,2019-06-09T19:20:10Z,MERGED,True,523,8,9,https://github.com/postwait,Add hooks and a http_observer module.,1,[],https://github.com/circonus-labs/libmtev/pull/522,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/522,"This acts to track current and recent http requests and expose
information for built-in operational visibility.","This acts to track current and recent http requests and expose
information for built-in operational visibility.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,523,2019-06-12T02:36:04Z,2019-06-12T07:20:18Z,2019-06-12T07:20:18Z,MERGED,True,2,1,1,https://github.com/postwait,Fix double free when sending messages in duplicate,1,[],https://github.com/circonus-labs/libmtev/pull/523,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/523,CIRC-3749,CIRC-3749,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,524,2019-06-12T02:54:26Z,2019-06-12T18:06:21Z,2019-06-12T18:06:22Z,MERGED,True,10,0,1,https://github.com/postwait,Skip the dwarf scan for luamtev by default,1,[],https://github.com/circonus-labs/libmtev/pull/524,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/524,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,525,2019-06-12T18:06:00Z,2019-06-13T01:45:57Z,2019-06-13T01:45:57Z,CLOSED,False,20,1,2,https://github.com/postwait,Lua socket close yield,2,[],https://github.com/circonus-labs/libmtev/pull/525,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/525,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,525,2019-06-12T18:06:00Z,2019-06-13T01:45:57Z,2019-06-13T01:45:57Z,CLOSED,False,20,1,2,https://github.com/postwait,Lua socket close yield,2,[],https://github.com/circonus-labs/libmtev/pull/525,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/525#issuecomment-501516680,,Closing for alternative implementation from @HeinrichHartmann,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,526,2019-06-12T21:15:11Z,2019-06-13T09:07:29Z,2019-06-13T09:07:29Z,MERGED,True,28,1,2,https://github.com/HeinrichHartmann,Lua socket close yield (2),1,[],https://github.com/circonus-labs/libmtev/pull/526,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/526,"Avoid deadlock caused by eventer_t:close() in lua
Variant of #525","Avoid deadlock caused by eventer_t:close() in lua
Variant of #525",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,526,2019-06-12T21:15:11Z,2019-06-13T09:07:29Z,2019-06-13T09:07:29Z,MERGED,True,28,1,2,https://github.com/HeinrichHartmann,Lua socket close yield (2),1,[],https://github.com/circonus-labs/libmtev/pull/526,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/526#issuecomment-501617783,"Avoid deadlock caused by eventer_t:close() in lua
Variant of #525",rebased.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,527,2019-06-13T04:24:36Z,2019-06-13T16:03:20Z,2019-06-13T16:03:20Z,MERGED,True,415,11,15,https://github.com/postwait,Add UI for http clients and resolve code issues supporting it,1,[],https://github.com/circonus-labs/libmtev/pull/527,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/527,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,528,2019-06-13T15:47:47Z,2019-06-18T17:40:40Z,2019-06-18T17:40:40Z,MERGED,True,79,5,3,https://github.com/HeinrichHartmann,Add timeout parameter to lua/socket:connect(),5,[],https://github.com/circonus-labs/libmtev/pull/528,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/528,This is modeled after the lua_mtev_socket_read function.,This is modeled after the lua_mtev_socket_read function.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,528,2019-06-13T15:47:47Z,2019-06-18T17:40:40Z,2019-06-18T17:40:40Z,MERGED,True,79,5,3,https://github.com/HeinrichHartmann,Add timeout parameter to lua/socket:connect(),5,[],https://github.com/circonus-labs/libmtev/pull/528,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/528#issuecomment-503212624,This is modeled after the lua_mtev_socket_read function.,This appears to work. I don't see lingering sockets after timeout events in my testing. (As reported by sudo ss -n -p | grep noit on centos7).,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,529,2019-06-17T15:07:38Z,2019-06-17T15:08:30Z,2019-06-17T15:08:30Z,CLOSED,False,417,11,16,https://github.com/postwait,Add UI for http clients and resolve code issues supporting it,1,[],https://github.com/circonus-labs/libmtev/pull/529,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/529,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,530,2019-06-21T11:37:06Z,2019-07-11T18:51:46Z,2019-07-11T18:51:46Z,MERGED,True,32,14,6,https://github.com/postwait,Support automatic flushing of output past a buffered threshold.,2,[],https://github.com/circonus-labs/libmtev/pull/530,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/530,"mtev_http_response_auto_flush to control this.
default of DEFAULT_BCHAINSIZE
make mtev_http_response_flush and mtev_http_response_flush_asynch
auto-detect (and this the same call) for HTTP/1.  Either will do
the right thing in both synch and asynch context now.","mtev_http_response_auto_flush to control this.
default of DEFAULT_BCHAINSIZE
make mtev_http_response_flush and mtev_http_response_flush_asynch
auto-detect (and this the same call) for HTTP/1.  Either will do
the right thing in both synch and asynch context now.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,531,2019-06-21T14:32:49Z,2019-06-21T14:45:43Z,2019-06-21T14:45:43Z,MERGED,True,4,2,1,https://github.com/postwait,Report upload size in access log,1,[],https://github.com/circonus-labs/libmtev/pull/531,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/531,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,532,2019-06-24T12:03:26Z,2019-06-25T13:06:57Z,2019-06-25T13:06:57Z,MERGED,True,182,32,6,https://github.com/HeinrichHartmann,A Semaphore implementation for lua_mtev,9,[],https://github.com/circonus-labs/libmtev/pull/532,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/532,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,533,2019-06-24T23:32:11Z,2019-06-25T16:56:39Z,2019-06-25T16:56:39Z,MERGED,True,103,1,2,https://github.com/HeinrichHartmann,Add module/lua/xcall.json,4,[],https://github.com/circonus-labs/libmtev/pull/533,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/533,"This is an initial version. There are some obvious improvements that can be done in the future:

Use lua_web to handle xcall requests
Make xcall a lua function that can be used from lua_web handlers

With this PR we only aim for the immediate use case.
The implementation borrows heavily from /module/lua/stats.json","This is an initial version. There are some obvious improvements that can be done in the future:

Use lua_web to handle xcall requests
Make xcall a lua function that can be used from lua_web handlers

With this PR we only aim for the immediate use case.
The implementation borrows heavily from /module/lua/stats.json",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,534,2019-06-25T16:53:12Z,2019-06-28T17:49:01Z,2019-06-28T17:49:01Z,MERGED,True,52,0,3,https://github.com/HeinrichHartmann, Add Lpreloads config for lua_web/lua_general,3,[],https://github.com/circonus-labs/libmtev/pull/534,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/534,This gives us a place to register xcall handlers in lua_web states.,This gives us a place to register xcall handlers in lua_web states.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,534,2019-06-25T16:53:12Z,2019-06-28T17:49:01Z,2019-06-28T17:49:01Z,MERGED,True,52,0,3,https://github.com/HeinrichHartmann, Add Lpreloads config for lua_web/lua_general,3,[],https://github.com/circonus-labs/libmtev/pull/534,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/534#issuecomment-506809614,This gives us a place to register xcall handlers in lua_web states.,"I'm fine with the variable in the code being Lpreloads, but I think as for docs, changelog and user-facing name, it should just be called preloads.. it's a lua module, so it would make sense that the preloads were lua.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,534,2019-06-25T16:53:12Z,2019-06-28T17:49:01Z,2019-06-28T17:49:01Z,MERGED,True,52,0,3,https://github.com/HeinrichHartmann, Add Lpreloads config for lua_web/lua_general,3,[],https://github.com/circonus-labs/libmtev/pull/534,https://github.com/HeinrichHartmann,3,https://github.com/circonus-labs/libmtev/pull/534#issuecomment-506810194,This gives us a place to register xcall handlers in lua_web states.,"This was done in analogy to LPATH and CPATH variables used by lua. It's your call. Happy to change it to ""preloads""",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,535,2019-06-25T18:46:25Z,2019-06-25T19:36:38Z,2019-06-25T19:36:38Z,MERGED,True,1,1,1,https://github.com/HeinrichHartmann,xcall: Skip states w/o xcall handler,1,[],https://github.com/circonus-labs/libmtev/pull/535,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/535,... it's not worth the trouble to register xcall handlers in all lua states that are lurking around.,... it's not worth the trouble to register xcall handlers in all lua states that are lurking around.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,536,2019-06-25T19:41:07Z,2019-06-28T17:42:20Z,2019-06-28T17:42:20Z,MERGED,True,339,64,14,https://github.com/postwait,Fixes to ACO and hash APIs,6,[],https://github.com/circonus-labs/libmtev/pull/536,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/536,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,536,2019-06-25T19:41:07Z,2019-06-28T17:42:20Z,2019-06-28T17:42:20Z,MERGED,True,339,64,14,https://github.com/postwait,Fixes to ACO and hash APIs,6,[],https://github.com/circonus-labs/libmtev/pull/536,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/536#issuecomment-506814121,,nits addressed.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,537,2019-06-27T18:40:44Z,2019-06-27T19:11:40Z,2019-06-27T19:11:40Z,MERGED,True,5,5,1,https://github.com/postwait,"Avoid explicit full buffer initialization, it's deceptively expensive",1,[],https://github.com/circonus-labs/libmtev/pull/537,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/537,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,538,2019-06-28T00:28:55Z,2019-06-28T14:03:55Z,2020-07-21T21:25:30Z,MERGED,True,16,1,3,https://github.com/vasuraman11,Add set and get app_name functions to assist in config file root disc…,1,[],https://github.com/circonus-labs/libmtev/pull/538,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/538,…overy,…overy,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,539,2019-06-28T13:46:46Z,2019-06-28T14:03:37Z,2019-06-28T14:03:37Z,MERGED,True,19,0,6,https://github.com/postwait,Provide mtev_http_request_payload_complete,1,[],https://github.com/circonus-labs/libmtev/pull/539,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/539,"This is clearly too hard to get right from the client side as
I've coded it three different wrong ways. Provide a superbly
simply solution to determine if you should need to call
mtev_http_request_consume_read again if it has returned you
a 0.","This is clearly too hard to get right from the client side as
I've coded it three different wrong ways. Provide a superbly
simply solution to determine if you should need to call
mtev_http_request_consume_read again if it has returned you
a 0.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,540,2019-06-28T16:41:50Z,2019-06-28T17:03:33Z,2019-06-28T17:03:33Z,MERGED,True,1,1,1,https://github.com/HeinrichHartmann,Nit: Log to h2_debug in mtev_http2.c,1,[],https://github.com/circonus-labs/libmtev/pull/540,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/540,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,541,2019-07-10T00:40:24Z,2019-07-10T14:29:50Z,2019-07-10T14:29:57Z,MERGED,True,12,2,1,https://github.com/vasuraman11,Use safe refcnt inc in mtev_intern_copy as in other places in the code,2,[],https://github.com/circonus-labs/libmtev/pull/541,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/541,"Found this while reviewing mtev_intern, fixes potential race due to a client copying an interned string that is also being released concurrently (possibly hiding the client bug by referring it forward).","Found this while reviewing mtev_intern, fixes potential race due to a client copying an interned string that is also being released concurrently (possibly hiding the client bug by referring it forward).",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,542,2019-07-10T16:59:16Z,2019-07-10T22:15:09Z,2019-07-10T22:15:12Z,MERGED,True,18,13,1,https://github.com/vasuraman11,Protect intern release from concurrent double-free,2,[],https://github.com/circonus-labs/libmtev/pull/542,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/542,Another case where we might not see a caller misbehavior in context  - this will not allow it to slide (previously we would have decremented a zero refcnt to 0xFFFFFFFF and essentially ignored the double-release instead of asserting on it and getting a callstack right away),Another case where we might not see a caller misbehavior in context  - this will not allow it to slide (previously we would have decremented a zero refcnt to 0xFFFFFFFF and essentially ignored the double-release instead of asserting on it and getting a callstack right away),True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,542,2019-07-10T16:59:16Z,2019-07-10T22:15:09Z,2019-07-10T22:15:12Z,MERGED,True,18,13,1,https://github.com/vasuraman11,Protect intern release from concurrent double-free,2,[],https://github.com/circonus-labs/libmtev/pull/542,https://github.com/vasuraman11,2,https://github.com/circonus-labs/libmtev/pull/542#issuecomment-510154543,Another case where we might not see a caller misbehavior in context  - this will not allow it to slide (previously we would have decremented a zero refcnt to 0xFFFFFFFF and essentially ignored the double-release instead of asserting on it and getting a callstack right away),"ok, sounds good, since it is going to assert anyway, can actually change the copy that way too to reduce perf hit",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,543,2019-07-11T02:36:43Z,2019-07-11T18:51:36Z,2019-07-11T18:51:36Z,MERGED,True,125,11,5,https://github.com/postwait,Support idle_timeout on listener accepted sockets.,1,[],https://github.com/circonus-labs/libmtev/pull/543,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/543,"Support tracking last read/write (protocol drivers must do this).
Bassed on this tracking and the idle_timeout listener config
option, trigger an exception on sockets that have outstayed their
welcome.","Support tracking last read/write (protocol drivers must do this).
Bassed on this tracking and the idle_timeout listener config
option, trigger an exception on sockets that have outstayed their
welcome.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,544,2019-07-11T14:37:53Z,2019-10-15T15:48:57Z,2019-10-15T15:48:57Z,CLOSED,False,35,30,3,https://github.com/postwait,Make intern removal explicit,1,[],https://github.com/circonus-labs/libmtev/pull/544,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/544,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,545,2019-07-11T15:13:14Z,2019-07-11T15:15:53Z,2019-07-11T15:44:22Z,MERGED,True,1,1,1,https://github.com/postwait,The assert should be a retry as there's a race,1,[],https://github.com/circonus-labs/libmtev/pull/545,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/545,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,545,2019-07-11T15:13:14Z,2019-07-11T15:15:53Z,2019-07-11T15:44:22Z,MERGED,True,1,1,1,https://github.com/postwait,The assert should be a retry as there's a race,1,[],https://github.com/circonus-labs/libmtev/pull/545,https://github.com/vasuraman11,2,https://github.com/circonus-labs/libmtev/pull/545#issuecomment-510540989,,LGTM good catch,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,546,2019-07-11T23:58:20Z,2019-07-12T00:09:04Z,2019-07-12T00:09:04Z,MERGED,True,38,18,2,https://github.com/postwait,Intern safety,2,[],https://github.com/circonus-labs/libmtev/pull/546,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/546,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,547,2019-07-12T13:29:53Z,2019-07-12T13:53:40Z,2019-07-12T13:53:40Z,MERGED,True,58,8,10,https://github.com/postwait,HTTP aco memory issues,2,[],https://github.com/circonus-labs/libmtev/pull/547,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/547,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,548,2019-07-12T18:06:02Z,2019-07-12T18:15:54Z,2019-07-12T18:15:55Z,MERGED,True,20,11,2,https://github.com/postwait,ACO events should act normal when in jobq queues.,1,[],https://github.com/circonus-labs/libmtev/pull/548,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/548,"If you attempt to write to an ACO event in a jobq, it should
not expect the ACO context and just short-circuit to the original
opset activities.","If you attempt to write to an ACO event in a jobq, it should
not expect the ACO context and just short-circuit to the original
opset activities.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,549,2019-07-16T12:44:36Z,2019-07-16T14:20:53Z,2019-07-16T14:20:53Z,MERGED,True,42,30,3,https://github.com/postwait,Forcefully remove migrating thread from epoll.,3,[],https://github.com/circonus-labs/libmtev/pull/549,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/549,"When a thread returns from an FD-triggered callback and the owner
has changed, we should always remove the thread from epoll because
if we do not, it will fail to add to the other loop spec and then
subsequently fire on the wrong thread and chaos will ensue.","When a thread returns from an FD-triggered callback and the owner
has changed, we should always remove the thread from epoll because
if we do not, it will fail to add to the other loop spec and then
subsequently fire on the wrong thread and chaos will ensue.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,550,2019-07-17T04:32:07Z,2019-07-17T04:53:37Z,2019-07-17T12:17:38Z,MERGED,True,22,13,3,https://github.com/postwait,Omnios aco cleanup,2,[],https://github.com/circonus-labs/libmtev/pull/550,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/550,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,551,2019-07-18T19:59:05Z,2019-07-18T20:41:08Z,2019-07-18T20:43:38Z,MERGED,True,64,0,2,https://github.com/HeinrichHartmann,lua-mtev: Add mtev.getaddrinfo() function,3,[],https://github.com/circonus-labs/libmtev/pull/551,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/551,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,551,2019-07-18T19:59:05Z,2019-07-18T20:41:08Z,2019-07-18T20:43:38Z,MERGED,True,64,0,2,https://github.com/HeinrichHartmann,lua-mtev: Add mtev.getaddrinfo() function,3,[],https://github.com/circonus-labs/libmtev/pull/551,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/551#issuecomment-512979978,,"As discussed in Slack: Keeping this as is, since it is idiomatic for lua.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,552,2019-07-19T11:48:18Z,2019-07-19T14:37:48Z,2019-07-19T14:37:48Z,MERGED,True,55,2,3,https://github.com/HeinrichHartmann,lua: Add mtev.inet_pton() function,3,[],https://github.com/circonus-labs/libmtev/pull/552,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/552,"Apparently inet_pton is the best way to validate IP v4/v6 address: https://stackoverflow.com/a/4017219/1209380
Avoids ugly regexpes.","Apparently inet_pton is the best way to validate IP v4/v6 address: https://stackoverflow.com/a/4017219/1209380
Avoids ugly regexpes.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,552,2019-07-19T11:48:18Z,2019-07-19T14:37:48Z,2019-07-19T14:37:48Z,MERGED,True,55,2,3,https://github.com/HeinrichHartmann,lua: Add mtev.inet_pton() function,3,[],https://github.com/circonus-labs/libmtev/pull/552,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/552#issuecomment-513227179,"Apparently inet_pton is the best way to validate IP v4/v6 address: https://stackoverflow.com/a/4017219/1209380
Avoids ugly regexpes.","I should have added a comment about this: This function can be trivially extended to also return the struct in_addr if there is ever the need for it.
So it would look like:
rc, fam, addr = mtev.inet_pton(addr_str)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,552,2019-07-19T11:48:18Z,2019-07-19T14:37:48Z,2019-07-19T14:37:48Z,MERGED,True,55,2,3,https://github.com/HeinrichHartmann,lua: Add mtev.inet_pton() function,3,[],https://github.com/circonus-labs/libmtev/pull/552,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/552#issuecomment-513227902,"Apparently inet_pton is the best way to validate IP v4/v6 address: https://stackoverflow.com/a/4017219/1209380
Avoids ugly regexpes.","If it is trivial then extend, if it is not, then rename it.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,552,2019-07-19T11:48:18Z,2019-07-19T14:37:48Z,2019-07-19T14:37:48Z,MERGED,True,55,2,3,https://github.com/HeinrichHartmann,lua: Add mtev.inet_pton() function,3,[],https://github.com/circonus-labs/libmtev/pull/552,https://github.com/HeinrichHartmann,4,https://github.com/circonus-labs/libmtev/pull/552#issuecomment-513240909,"Apparently inet_pton is the best way to validate IP v4/v6 address: https://stackoverflow.com/a/4017219/1209380
Avoids ugly regexpes.",updated,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,553,2019-07-23T18:55:36Z,2019-07-23T19:08:23Z,2019-07-23T19:08:23Z,MERGED,True,9,0,1,https://github.com/postwait,Prevent over-reading fixed sized HTTP payloads.,1,[],https://github.com/circonus-labs/libmtev/pull/553,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/553,"If there were more bytes available on the wire and we weren't reading
chunked data, we could read too much which will cause bad things to
happen.  First the payload would be empty for the receiver and then the
next HTTP session would be potentially corrupted by having its first
few bytes lost.","If there were more bytes available on the wire and we weren't reading
chunked data, we could read too much which will cause bad things to
happen.  First the payload would be empty for the receiver and then the
next HTTP session would be potentially corrupted by having its first
few bytes lost.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,554,2019-07-23T19:08:03Z,2019-07-23T19:54:23Z,2019-07-23T19:54:23Z,MERGED,True,46,1,5,https://github.com/postwait,Make close asynch and call shutdown(),2,[],https://github.com/circonus-labs/libmtev/pull/554,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/554,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,555,2019-07-24T13:33:57Z,2019-07-24T14:01:50Z,2019-07-24T16:03:50Z,MERGED,True,31,23,1,https://github.com/postwait,Make HTTP drain client data before request cleanup,3,[],https://github.com/circonus-labs/libmtev/pull/555,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/555,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,555,2019-07-24T13:33:57Z,2019-07-24T14:01:50Z,2019-07-24T16:03:50Z,MERGED,True,31,23,1,https://github.com/postwait,Make HTTP drain client data before request cleanup,3,[],https://github.com/circonus-labs/libmtev/pull/555,https://github.com/bdunavant,2,https://github.com/circonus-labs/libmtev/pull/555#issuecomment-514695283,,Linking this to CIRC-3834,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,556,2019-07-24T13:36:24Z,2019-07-24T14:04:40Z,2019-07-24T14:04:40Z,MERGED,True,34,25,8,https://github.com/postwait,Expose the eventer ABI to internal CUs,1,[],https://github.com/circonus-labs/libmtev/pull/556,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/556,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,557,2019-07-24T21:06:48Z,2019-07-24T21:07:22Z,2019-07-24T21:10:45Z,MERGED,True,20,31,5,https://github.com/postwait,Fix race in asynch event_close.,1,[],https://github.com/circonus-labs/libmtev/pull/557,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/557,"Make the actual POSIX shutdown and close operations asynchronous
and not the whole event_close path b/c the event_close (and opset
dispatch) can happen while an event is being taken into or out of
ACO mode and it will abort.  This should be safe.","Make the actual POSIX shutdown and close operations asynchronous
and not the whole event_close path b/c the event_close (and opset
dispatch) can happen while an event is being taken into or out of
ACO mode and it will abort.  This should be safe.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,557,2019-07-24T21:06:48Z,2019-07-24T21:07:22Z,2019-07-24T21:10:45Z,MERGED,True,20,31,5,https://github.com/postwait,Fix race in asynch event_close.,1,[],https://github.com/circonus-labs/libmtev/pull/557,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/557#issuecomment-514801580,"Make the actual POSIX shutdown and close operations asynchronous
and not the whole event_close path b/c the event_close (and opset
dispatch) can happen while an event is being taken into or out of
ACO mode and it will abort.  This should be safe.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,558,2019-07-31T16:45:50Z,2019-07-31T19:48:15Z,2019-07-31T19:48:15Z,MERGED,True,96,74,2,https://github.com/HeinrichHartmann,CIRC-3894 nits,3,[],https://github.com/circonus-labs/libmtev/pull/558,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/558,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,559,2019-08-05T15:08:17Z,2019-08-05T16:33:50Z,2019-08-05T16:33:50Z,MERGED,True,395,46,5,https://github.com/HeinrichHartmann,Fix http1 chunked upload,14,[],https://github.com/circonus-labs/libmtev/pull/559,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/559,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,559,2019-08-05T15:08:17Z,2019-08-05T16:33:50Z,2019-08-05T16:33:50Z,MERGED,True,395,46,5,https://github.com/HeinrichHartmann,Fix http1 chunked upload,14,[],https://github.com/circonus-labs/libmtev/pull/559,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/559#issuecomment-518301866,,"Expanding on the last comment. The whole loop could be redone, using a single large buffer that holds the latest chunk. Once we have completely read it, we move it to the user_data linked list (as we do now).
Looks like the {first,last}_input list is not doing much.
The reason I did not go for this refactor is, that I don't understand:

(a) the non-chunked case
(b) the reading of header fields, etc. in other http_request_* functions.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,559,2019-08-05T15:08:17Z,2019-08-05T16:33:50Z,2019-08-05T16:33:50Z,MERGED,True,395,46,5,https://github.com/HeinrichHartmann,Fix http1 chunked upload,14,[],https://github.com/circonus-labs/libmtev/pull/559,https://github.com/HeinrichHartmann,3,https://github.com/circonus-labs/libmtev/pull/559#issuecomment-518305152,,Tests pass locally.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,560,2019-08-05T17:21:42Z,2019-08-05T17:24:13Z,2019-08-05T17:24:13Z,MERGED,True,22,4,1,https://github.com/HeinrichHartmann,http1.c Handle case of small bchain buffer,1,[],https://github.com/circonus-labs/libmtev/pull/560,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/560,"It's possible for http_request_consume_read to be handed a head node,
with small BCHAIN buffer. This happens, e.g. when there was a preceding
read with ""leftovers"":
[t@8210/e:default/0,mtev_http1.c:614] [fd=19] mtev_http1_request_finalize -- leftovers: 5","It's possible for http_request_consume_read to be handed a head node,
with small BCHAIN buffer. This happens, e.g. when there was a preceding
read with ""leftovers"":
[t@8210/e:default/0,mtev_http1.c:614] [fd=19] mtev_http1_request_finalize -- leftovers: 5",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,561,2019-08-12T14:46:58Z,2019-08-12T16:34:32Z,2019-08-12T16:34:32Z,MERGED,True,1,2,1,https://github.com/postwait,Fix payload_complete when data is read but not yet consumed.,1,[],https://github.com/circonus-labs/libmtev/pull/561,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/561,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,561,2019-08-12T14:46:58Z,2019-08-12T16:34:32Z,2019-08-12T16:34:32Z,MERGED,True,1,2,1,https://github.com/postwait,Fix payload_complete when data is read but not yet consumed.,1,[],https://github.com/circonus-labs/libmtev/pull/561,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/561#issuecomment-520471974,,"Still don't understand the how this fixes the issue you are seeing. Is this the call-site (mtev_http1.c:1721) ?
    while(ctx->conn.e && !mtev_http1_request_payload_complete(&ctx->req)) {
      int len = mtev_http1_session_req_consume(ctx, NULL, DEFAULT_BCHAINSIZE, 0, &mask);
      if(len < 0 && errno == EAGAIN) return mask | EVENTER_EXCEPTION;
      if(len <= 0) break;
    }",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,561,2019-08-12T14:46:58Z,2019-08-12T16:34:32Z,2019-08-12T16:34:32Z,MERGED,True,1,2,1,https://github.com/postwait,Fix payload_complete when data is read but not yet consumed.,1,[],https://github.com/circonus-labs/libmtev/pull/561,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/561#issuecomment-520483487,,"that part wasn't broken, it is for consumers calling mtev_http_session_req_consume directly and attempting to determine completion.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,561,2019-08-12T14:46:58Z,2019-08-12T16:34:32Z,2019-08-12T16:34:32Z,MERGED,True,1,2,1,https://github.com/postwait,Fix payload_complete when data is read but not yet consumed.,1,[],https://github.com/circonus-labs/libmtev/pull/561,https://github.com/HeinrichHartmann,4,https://github.com/circonus-labs/libmtev/pull/561#issuecomment-520487643,,"I'll give this a +1, since I understand the intention behind it, and the code is straight-forward.
Still not fully able to understand how we end-up in a situation where this would have worked before the last PR, and break after it. Don't want to spent too much time on this. If the tests pass, this is good to go.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,562,2019-08-15T17:29:30Z,2019-08-15T20:00:14Z,2019-08-15T20:00:14Z,MERGED,True,4,5,3,https://github.com/postwait,Fix implemenation leakage in lua_mtev.h header.,1,[],https://github.com/circonus-labs/libmtev/pull/562,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/562,"The lua implementation leaked the presence of two debugging
variables into the header which meant that any consumers
of this header would have linkage issues that are legitimately
hard to fix correctly.","The lua implementation leaked the presence of two debugging
variables into the header which meant that any consumers
of this header would have linkage issues that are legitimately
hard to fix correctly.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,562,2019-08-15T17:29:30Z,2019-08-15T20:00:14Z,2019-08-15T20:00:14Z,MERGED,True,4,5,3,https://github.com/postwait,Fix implemenation leakage in lua_mtev.h header.,1,[],https://github.com/circonus-labs/libmtev/pull/562,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/562#issuecomment-521730075,"The lua implementation leaked the presence of two debugging
variables into the header which meant that any consumers
of this header would have linkage issues that are legitimately
hard to fix correctly.","Will need to fix a few other places, where we make use of those log streams. Update coming.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,563,2019-08-19T18:20:15Z,2019-08-19T20:39:15Z,2019-08-19T20:39:15Z,MERGED,True,921,24,13,https://github.com/postwait,Consul,5,[],https://github.com/circonus-labs/libmtev/pull/563,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/563,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,564,2019-08-22T14:47:45Z,2019-08-22T18:45:40Z,2019-08-22T18:45:40Z,MERGED,True,225,11,2,https://github.com/postwait,support auto-updating consul kv tree attachment,1,[],https://github.com/circonus-labs/libmtev/pull/564,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/564,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,565,2019-08-23T16:24:36Z,2019-08-23T16:48:28Z,2019-08-23T16:48:28Z,MERGED,True,7,2,3,https://github.com/postwait,Http fix buffered count,2,[],https://github.com/circonus-labs/libmtev/pull/565,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/565,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,566,2019-08-23T18:38:31Z,2019-08-23T19:11:53Z,2019-08-23T19:11:53Z,MERGED,True,0,2,1,https://github.com/postwait,Allow SMR in aco mode.,1,[],https://github.com/circonus-labs/libmtev/pull/566,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/566,"ACO can suspend to the eventer loop while a memory critical section
is held.  We should allow attempted garbage collection even when this
is the case.","ACO can suspend to the eventer loop while a memory critical section
is held.  We should allow attempted garbage collection even when this
is the case.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,567,2019-08-26T15:17:25Z,2019-08-26T16:11:28Z,2019-08-26T16:11:28Z,MERGED,True,0,10,4,https://github.com/postwait,Delegate SMR begin/end to users.,1,[],https://github.com/circonus-labs/libmtev/pull/567,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/567,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,568,2019-08-27T20:22:08Z,2019-08-27T20:26:05Z,2019-08-27T20:26:05Z,MERGED,True,39,1,1,https://github.com/postwait,Expose :tagged_name and :tagged_suppress for stats handles,1,[],https://github.com/circonus-labs/libmtev/pull/568,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/568,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,568,2019-08-27T20:22:08Z,2019-08-27T20:26:05Z,2019-08-27T20:26:05Z,MERGED,True,39,1,1,https://github.com/postwait,Expose :tagged_name and :tagged_suppress for stats handles,1,[],https://github.com/circonus-labs/libmtev/pull/568,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/568#issuecomment-525468141,,"LGTM.
I prefer using luaL_checkstring(L, idx) and luaL_checkuserdata(L,idx, type) instead of manual error checking. But this is a stylistic choice.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,569,2019-08-30T18:30:11Z,2019-08-30T19:02:16Z,2019-08-30T19:02:17Z,MERGED,True,36,35,1,https://github.com/postwait,Fix issue with failed reaping of stopped children.,1,[],https://github.com/circonus-labs/libmtev/pull/569,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/569,"If the child was stopped, kill would fail and we'd miss our reap.
Now in the alarm path we attempt a non-blocking waitpid(-1, ...)
to pick up an possible stragglers to that have exited.  If what has
exited is the child, restart it.","If the child was stopped, kill would fail and we'd miss our reap.
Now in the alarm path we attempt a non-blocking waitpid(-1, ...)
to pick up an possible stragglers to that have exited.  If what has
exited is the child, restart it.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,570,2019-08-30T21:23:20Z,2019-08-30T22:00:37Z,2019-08-30T22:00:37Z,MERGED,True,43,11,4,https://github.com/postwait,Add mtev_thread_setnamef and mtev_thread_getname.,2,[],https://github.com/circonus-labs/libmtev/pull/570,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/570,Fix logging to report thread names set via mtev_thread_* APIs.,Fix logging to report thread names set via mtev_thread_* APIs.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,571,2019-08-30T21:25:13Z,2019-08-30T21:46:09Z,2019-08-30T21:46:09Z,MERGED,True,8,3,3,https://github.com/postwait,Make app:appname a pervasive stats tag,1,[],https://github.com/circonus-labs/libmtev/pull/571,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/571,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,572,2019-08-30T22:52:22Z,2019-09-01T00:38:14Z,2019-09-01T00:38:14Z,MERGED,True,146,56,8,https://github.com/postwait,Make SMR and ACO friendly.,1,[],https://github.com/circonus-labs/libmtev/pull/572,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/572,"Given that ACO feels procedural but can span across many eventer loop
cycles, it is possible that an ACO consumer could quite unintentionally
create an SMR critical section (mtev_memory_{begin,end}) that spans
across the eventer loop boundary.  If this were to happen frequently,
SMR garbage collection could cease to make progress.  ck_epoch supports
this use case via ck_epoch_section_ts.  This change switches to use
ck_epoch_section_t for critical sections and attaches and transparently
activates a new section for each ACO coroutine.  We may want to lift the
mtev_memory_section_t and the swapping of these section into aco.c so
that aco could still be directly used outside the eventer.","Given that ACO feels procedural but can span across many eventer loop
cycles, it is possible that an ACO consumer could quite unintentionally
create an SMR critical section (mtev_memory_{begin,end}) that spans
across the eventer loop boundary.  If this were to happen frequently,
SMR garbage collection could cease to make progress.  ck_epoch supports
this use case via ck_epoch_section_ts.  This change switches to use
ck_epoch_section_t for critical sections and attaches and transparently
activates a new section for each ACO coroutine.  We may want to lift the
mtev_memory_section_t and the swapping of these section into aco.c so
that aco could still be directly used outside the eventer.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,573,2019-09-01T00:38:31Z,2019-09-01T00:40:44Z,2019-09-01T00:40:44Z,MERGED,True,6,0,1,https://github.com/postwait,Set payload complete on a content-length of zero.,1,[],https://github.com/circonus-labs/libmtev/pull/573,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/573,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,574,2019-09-03T16:46:38Z,2019-09-03T16:47:18Z,2019-09-03T16:47:18Z,MERGED,True,5,1,1,https://github.com/postwait,Fix NPE on rest raw handler.,1,[],https://github.com/circonus-labs/libmtev/pull/574,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/574,"If we received an exception on the socket before our first read, then
we would dereference a NULL restc context. Just close the event and
bail in that case.
CIRC-4052","If we received an exception on the socket before our first read, then
we would dereference a NULL restc context. Just close the event and
bail in that case.
CIRC-4052",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,575,2019-09-05T01:29:57Z,2019-09-05T03:31:50Z,2019-09-05T03:31:50Z,MERGED,True,28,1,2,https://github.com/postwait,Allow eventer_aco_start to be called from anywhere.,1,[],https://github.com/circonus-labs/libmtev/pull/575,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/575,The invocation will be schedule immediately on e:default/0,The invocation will be schedule immediately on e:default/0,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,576,2019-09-05T01:32:56Z,2019-09-05T03:33:22Z,2019-09-05T03:33:22Z,MERGED,True,7,0,3,https://github.com/postwait,Add mtev_memory_in_cs(),2,[],https://github.com/circonus-labs/libmtev/pull/576,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/576,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,577,2019-09-15T01:44:11Z,2019-09-18T12:30:44Z,2019-09-18T12:30:44Z,MERGED,True,181,25,12,https://github.com/postwait,Provide stacktrace hooks and implement a lua tracer,1,[],https://github.com/circonus-labs/libmtev/pull/577,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/577,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,577,2019-09-15T01:44:11Z,2019-09-18T12:30:44Z,2019-09-18T12:30:44Z,MERGED,True,181,25,12,https://github.com/postwait,Provide stacktrace hooks and implement a lua tracer,1,[],https://github.com/circonus-labs/libmtev/pull/577,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/577#issuecomment-531781928,,"Nice! Let me see if I understand this correctly:

For each OS-thread we store a pointer to the currently active lua-coro in: tls_active_lua_state
mtev_stacktrace got a new hook that is able to replace/augment stack-frame information.
mtev_lua_stacktrace_assist is registered with this hook, to insert lua-stack information.

So this should give lua stacktraces in crash situations!
What's not clear to me is how the fame-level insertion works. I would have expected a single call to lua_taceback(L) that is appended to the very end of the stacktrace:
C-stack
...
lua-stack
...


A single C-frame might be responsible for multiple lua-frames (lj_resume)
There might be multiple C frames for a single lua-frame (e.g. object creation calls mutliple lj-functions)
Maybe this all works out. Just not clear to me how.

Also, by interleaving C-stack and lua-stack walking we might get in troubles when lua_getstack is called on a corrupted lua state: Would we still get a C-level stack trace if lua_getstack segfaults?",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,578,2019-09-15T15:23:11Z,2019-09-16T05:45:50Z,2019-09-16T05:45:50Z,MERGED,True,31,3,3,https://github.com/postwait,"Make aco_resume work in ASAN,",1,[],https://github.com/circonus-labs/libmtev/pull/578,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/578,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,579,2019-09-18T12:30:17Z,2019-09-19T00:51:21Z,2019-09-19T00:51:21Z,MERGED,True,41,8,2,https://github.com/postwait,Automatically attempt to ffi.cast pointers for hooks.,1,[],https://github.com/circonus-labs/libmtev/pull/579,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/579,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,580,2019-09-18T21:57:38Z,2019-09-19T01:12:45Z,2019-09-19T01:12:45Z,MERGED,True,161,40,4,https://github.com/postwait,Support for OpenSSL 1.1,1,[],https://github.com/circonus-labs/libmtev/pull/580,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/580,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,581,2019-09-19T01:10:39Z,2019-09-19T01:25:59Z,2019-09-19T01:25:59Z,MERGED,True,10,0,1,https://github.com/postwait,Allow compilation without libdwarf,1,[],https://github.com/circonus-labs/libmtev/pull/581,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/581,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,582,2019-09-19T18:15:43Z,2019-09-19T18:47:59Z,2019-09-19T18:47:59Z,MERGED,True,111,57,4,https://github.com/postwait,Several eventer performance improvements.,1,[],https://github.com/circonus-labs/libmtev/pull/582,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/582,"Change callback details to use ck_hs directly.
Avoid recurrent latency tracking until after a call returns
non-zero the first time.
Avoid tracking latency if there's nowhere to put it
(this can be further optimized to have a setting to always
skip out on this).","Change callback details to use ck_hs directly.
Avoid recurrent latency tracking until after a call returns
non-zero the first time.
Avoid tracking latency if there's nowhere to put it
(this can be further optimized to have a setting to always
skip out on this).",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,583,2019-09-19T18:59:00Z,2019-09-19T20:08:49Z,2019-09-19T20:08:49Z,MERGED,True,15,2,2,https://github.com/postwait,1.8.0 release,1,[],https://github.com/circonus-labs/libmtev/pull/583,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/583,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,584,2019-09-25T02:54:27Z,2019-09-25T03:54:12Z,2019-09-25T03:54:12Z,MERGED,True,27,6,5,https://github.com/postwait,name more callbacks,2,[],https://github.com/circonus-labs/libmtev/pull/584,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/584,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,585,2019-09-25T20:32:37Z,2019-09-26T14:51:46Z,2019-09-26T14:51:46Z,MERGED,True,95,7,4,https://github.com/postwait,Better coverity support.,1,[],https://github.com/circonus-labs/libmtev/pull/585,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/585,"Add a simple though incomplete coverity model for libmtev consumers.
Change eventers calls that were #define maps into static inline
functions such that coverity models can apply to them.  Add a build
target for the coverity model file.","Add a simple though incomplete coverity model for libmtev consumers.
Change eventers calls that were #define maps into static inline
functions such that coverity models can apply to them.  Add a build
target for the coverity model file.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,586,2019-09-26T15:15:06Z,2019-09-26T17:15:58Z,2019-09-26T17:15:58Z,MERGED,True,2113,5,5,https://github.com/postwait,V1.8.1,3,[],https://github.com/circonus-labs/libmtev/pull/586,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/586,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,587,2019-09-27T05:13:00Z,2019-09-27T16:10:01Z,2019-09-27T16:10:01Z,MERGED,True,216,98,24,https://github.com/postwait,This addresses several issues with aco+eventer.,5,[],https://github.com/circonus-labs/libmtev/pull/587,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/587,"aco and alloca() don't always get along. alloca() is evil.
Remove all alloca().
The eventer uses a TLS variable to track the ""current"" event
in a callback, but we really want this tracked per co-routine.
Extend the aco context to hold some tls-like things and
store/retrieve the current event in there when we're in an aco
context.","aco and alloca() don't always get along. alloca() is evil.
Remove all alloca().
The eventer uses a TLS variable to track the ""current"" event
in a callback, but we really want this tracked per co-routine.
Extend the aco context to hold some tls-like things and
store/retrieve the current event in there when we're in an aco
context.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,588,2019-09-27T05:13:15Z,2019-09-27T15:06:36Z,2019-09-27T15:06:36Z,MERGED,True,255,1945,2,https://github.com/postwait,Fix abusive ajax calls,1,[],https://github.com/circonus-labs/libmtev/pull/588,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/588,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,589,2019-09-27T05:13:25Z,2019-09-27T14:28:11Z,2019-09-27T14:28:11Z,MERGED,True,55,26,2,https://github.com/postwait,Implement log splitting on \n,1,[],https://github.com/circonus-labs/libmtev/pull/589,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/589,"At the sink, a log stream can have a MTEV_LOG_STREAM_SPLIT flag.
This flag will cause the log to be written once per \n separated
segment.  Additionally, if the last segment fails to include a
trailing \n, one is appended.","At the sink, a log stream can have a MTEV_LOG_STREAM_SPLIT flag.
This flag will cause the log to be written once per \n separated
segment.  Additionally, if the last segment fails to include a
trailing \n, one is appended.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,590,2019-09-27T16:17:32Z,2019-09-27T16:43:27Z,2019-09-27T16:43:27Z,MERGED,True,13,1,2,https://github.com/postwait,Prepare 1.8.2 release.,2,[],https://github.com/circonus-labs/libmtev/pull/590,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/590,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,591,2019-09-30T15:17:46Z,2019-09-30T15:52:10Z,2019-09-30T15:52:10Z,MERGED,True,560,357,14,https://github.com/postwait,Implement flatbuffer (and json) logging.,2,[],https://github.com/circonus-labs/libmtev/pull/591,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/591,"Make logging internally all flatbuffer based. Provide a ""format""
option for material loggers (those with ops).  Format defaults to
plain (which is unchanged behavior).  We also support ""flatbuffer""
and ""json"" format.  Flatbuffer is not framed so it makes little
since to use it outside of a framed loggers. ""jlog"" and ""memory""
types are framed, ""file"" is not.","Make logging internally all flatbuffer based. Provide a ""format""
option for material loggers (those with ops).  Format defaults to
plain (which is unchanged behavior).  We also support ""flatbuffer""
and ""json"" format.  Flatbuffer is not framed so it makes little
since to use it outside of a framed loggers. ""jlog"" and ""memory""
types are framed, ""file"" is not.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,592,2019-09-30T15:18:12Z,2019-09-30T15:52:41Z,2019-09-30T15:52:41Z,MERGED,True,103,48,13,https://github.com/postwait,Implement slow callback logging,2,[],https://github.com/circonus-labs/libmtev/pull/592,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/592,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,593,2019-10-02T16:50:23Z,2019-10-02T18:14:59Z,2019-10-02T18:15:02Z,MERGED,True,9,4,2,https://github.com/pamaddox,Fix ck_fifo Alignment,3,[],https://github.com/circonus-labs/libmtev/pull/593,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/593,ck_fifos need to be 16-byte aligned. Make sure we allocate them as such.,ck_fifos need to be 16-byte aligned. Make sure we allocate them as such.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,594,2019-10-03T20:49:51Z,2019-10-03T21:34:41Z,2019-10-03T21:34:41Z,MERGED,True,31,0,4,https://github.com/postwait,console hook point,1,[],https://github.com/circonus-labs/libmtev/pull/594,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/594,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,595,2019-10-09T03:58:14Z,2019-10-09T12:43:35Z,2019-10-09T12:43:35Z,MERGED,True,64,10,6,https://github.com/postwait,Support LIFO jobqs,2,[],https://github.com/circonus-labs/libmtev/pull/595,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/595,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,596,2019-10-14T22:08:39Z,2019-10-15T18:51:02Z,2019-10-15T18:51:02Z,MERGED,True,2767,213,61,https://github.com/postwait,Add a http auth,2,[],https://github.com/circonus-labs/libmtev/pull/596,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/596,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,597,2019-10-14T22:09:31Z,2019-10-15T16:26:21Z,2019-10-15T16:26:21Z,MERGED,True,735,333,15,https://github.com/postwait,Console variants,3,[],https://github.com/circonus-labs/libmtev/pull/597,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/597,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,598,2019-10-15T15:48:41Z,2019-10-15T16:24:36Z,2019-10-15T16:24:36Z,MERGED,True,113,57,8,https://github.com/postwait,Fix logging zipkin with ACO and http2.,2,[],https://github.com/circonus-labs/libmtev/pull/598,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/598,"Add zipkin metadata to flatbuffer logs.
Fix zipkin traces if they move into ACO thread in mtev_rest.
Fix zipkin traces in http2.","Add zipkin metadata to flatbuffer logs.
Fix zipkin traces if they move into ACO thread in mtev_rest.
Fix zipkin traces in http2.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,599,2019-10-15T22:16:34Z,2019-10-16T15:09:18Z,2019-10-16T15:09:19Z,MERGED,True,161,42,9,https://github.com/postwait,"Add IP CIDR and ""skipto"" to rest ACL rules.",3,[],https://github.com/circonus-labs/libmtev/pull/599,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/599,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,600,2019-10-16T20:23:43Z,2019-10-16T20:40:57Z,2019-10-16T20:40:57Z,MERGED,True,39,20,3,https://github.com/postwait,Fix websocket client handhake and service specification.,1,[],https://github.com/circonus-labs/libmtev/pull/600,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/600,"Accommodate EAGAIN during header reading in ws setup.
Allow NULL service/protocol in websocket client creation.","Accommodate EAGAIN during header reading in ws setup.
Allow NULL service/protocol in websocket client creation.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,601,2019-10-16T21:13:18Z,2019-10-16T21:46:47Z,2019-10-16T21:46:47Z,MERGED,True,36,12,2,https://github.com/postwait,Fix crashes when logging to console within ACO contexts.,1,[],https://github.com/circonus-labs/libmtev/pull/601,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/601,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,602,2019-10-17T14:35:05Z,2019-10-17T18:00:05Z,2019-10-17T18:00:05Z,MERGED,True,298,14,11,https://github.com/postwait,Add an interactive console over the web,2,[],https://github.com/circonus-labs/libmtev/pull/602,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/602,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,603,2019-10-17T15:57:24Z,2019-10-17T16:17:58Z,2019-10-17T16:17:58Z,MERGED,True,44,6,4,https://github.com/postwait,Fixes to crash handling.,2,[],https://github.com/circonus-labs/libmtev/pull/603,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/603,"Fix watchdog traces on e:default/0
Make logging asynch-signal safe again in our flatbuffers world.","Fix watchdog traces on e:default/0
Make logging asynch-signal safe again in our flatbuffers world.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,604,2019-10-23T22:31:37Z,2019-10-23T23:05:11Z,2019-10-23T23:05:11Z,MERGED,True,3,4,2,https://github.com/postwait,Allow requests to migrate in/out of ACO.,1,[],https://github.com/circonus-labs/libmtev/pull/604,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/604,"HTTP1 requests should allow migration even when the context
is in ACO.  Migration only happens at request assignment and
those contexts can change.  The core of this is making the http1
session driver not pipeline requests when the context is in aco
mode.","HTTP1 requests should allow migration even when the context
is in ACO.  Migration only happens at request assignment and
those contexts can change.  The core of this is making the http1
session driver not pipeline requests when the context is in aco
mode.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,605,2019-10-28T16:05:16Z,2019-10-28T16:20:51Z,2019-10-28T16:20:51Z,MERGED,True,18,4,3,https://github.com/postwait,Improve racy implicit callback naming,1,[],https://github.com/circonus-labs/libmtev/pull/605,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/605,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,606,2019-10-29T09:38:26Z,2019-10-31T21:19:35Z,2019-10-31T21:19:38Z,MERGED,True,25,7,6,https://github.com/vasuraman11,Stacktrace log stream,10,[],https://github.com/circonus-labs/libmtev/pull/606,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/606,"This PR pulls stacktrace out into a separate log stream which is the same as error by default, in order to permit ease of inspection, symbolizing, and the potential for future backtrace upload.  Right now the stacktraces are often interleaved with the last asynch logging throes of a crashed binary.
By default it behaves in the same way as it does now.  It is only if you deliberately add it to your conf that it can be sent to a different outlet.  A new logging type of ""file_synch"" has also been added to ensure that if the stacktrace stream is written to a file that it will be properly written out before termination.
As an example, with this PR the stacktrace could be configured in this way for busted tests:
<log name=""stacktrace"" type=""file_synch"" path=""$(root)/$(node)/stacktrace.log"" />","This PR pulls stacktrace out into a separate log stream which is the same as error by default, in order to permit ease of inspection, symbolizing, and the potential for future backtrace upload.  Right now the stacktraces are often interleaved with the last asynch logging throes of a crashed binary.
By default it behaves in the same way as it does now.  It is only if you deliberately add it to your conf that it can be sent to a different outlet.  A new logging type of ""file_synch"" has also been added to ensure that if the stacktrace stream is written to a file that it will be properly written out before termination.
As an example, with this PR the stacktrace could be configured in this way for busted tests:
<log name=""stacktrace"" type=""file_synch"" path=""$(root)/$(node)/stacktrace.log"" />",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,606,2019-10-29T09:38:26Z,2019-10-31T21:19:35Z,2019-10-31T21:19:38Z,MERGED,True,25,7,6,https://github.com/vasuraman11,Stacktrace log stream,10,[],https://github.com/circonus-labs/libmtev/pull/606,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/606#issuecomment-547491238,"This PR pulls stacktrace out into a separate log stream which is the same as error by default, in order to permit ease of inspection, symbolizing, and the potential for future backtrace upload.  Right now the stacktraces are often interleaved with the last asynch logging throes of a crashed binary.
By default it behaves in the same way as it does now.  It is only if you deliberately add it to your conf that it can be sent to a different outlet.  A new logging type of ""file_synch"" has also been added to ensure that if the stacktrace stream is written to a file that it will be properly written out before termination.
As an example, with this PR the stacktrace could be configured in this way for busted tests:
<log name=""stacktrace"" type=""file_synch"" path=""$(root)/$(node)/stacktrace.log"" />","I think we should just start directing stack traces to either error/stacktrace or notice/stacktrace
then we can, in config, direct it wherever we please.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,606,2019-10-29T09:38:26Z,2019-10-31T21:19:35Z,2019-10-31T21:19:38Z,MERGED,True,25,7,6,https://github.com/vasuraman11,Stacktrace log stream,10,[],https://github.com/circonus-labs/libmtev/pull/606,https://github.com/vasuraman11,3,https://github.com/circonus-labs/libmtev/pull/606#issuecomment-547679488,"This PR pulls stacktrace out into a separate log stream which is the same as error by default, in order to permit ease of inspection, symbolizing, and the potential for future backtrace upload.  Right now the stacktraces are often interleaved with the last asynch logging throes of a crashed binary.
By default it behaves in the same way as it does now.  It is only if you deliberately add it to your conf that it can be sent to a different outlet.  A new logging type of ""file_synch"" has also been added to ensure that if the stacktrace stream is written to a file that it will be properly written out before termination.
As an example, with this PR the stacktrace could be configured in this way for busted tests:
<log name=""stacktrace"" type=""file_synch"" path=""$(root)/$(node)/stacktrace.log"" />","Allowing the CRASHING stack trace to go to a different log facility makes sense, but many of the the stacktraces you changed are run-time informational stack traces and they should be coupled with the context in which their called (which would likely be asynch).

Fixed, you are right I don't want to redirect informational traces out of the context that is meaningful, just provide a means for optionally redirecting a crash stacktrace.

I think you only want to change the crashing one. However, in the crashing scenario we flip the logging system into fully synchronous mode before continuing, so I don't know what we gain here.

When redirecting the stacktrace to a file, it never gets written before termination so you end up with a zero-length stacktrace log file.  The addition of the file_synch type neatly handled this.

I don't object to the file_synch log type it seems useful and very little extra code.

Cool, yes could also be useful in other contexts.  For example, since our busted tests also log a luarequest.log (lua/requestlog stream) and a debug.log (debuglog stream, not sure if this is used?) and those end up being zero length which could be because they don't get flushed before termination.  I considered conditionally using fsync() to force a flush after every write(), but setting up the file_synch type just worked.  Debug streams can be separated out into their own file in the future using this.

It sounds like you'd just like the terminal crash stack to drop into a different file and if that is the case, I think just specifying a separate log for that would achieve the goal.


I think we should just start directing stack traces to either error/stacktrace or notice/stacktrace then we can, in config, direct it wherever we please.

Looked at doing that, but grabbing the error/stacktrace stream does not seem straightforward.  This is because I want it to be available from the start, initialized in mtev_log.c as early as the other streams and functional immediately.  I could just change it like shown below from stacktrace to error/stacktrace, but not sure if that would work or if it is wise:
mtev_error_stacktrace = mtev_log_stream_new(""error/stacktrace"", NULL, NULL, NULL, NULL);
mtev_log_stream_add_stream(mtev_error_stacktrace, mtev_error);",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,606,2019-10-29T09:38:26Z,2019-10-31T21:19:35Z,2019-10-31T21:19:38Z,MERGED,True,25,7,6,https://github.com/vasuraman11,Stacktrace log stream,10,[],https://github.com/circonus-labs/libmtev/pull/606,https://github.com/vasuraman11,4,https://github.com/circonus-labs/libmtev/pull/606#issuecomment-548570607,"This PR pulls stacktrace out into a separate log stream which is the same as error by default, in order to permit ease of inspection, symbolizing, and the potential for future backtrace upload.  Right now the stacktraces are often interleaved with the last asynch logging throes of a crashed binary.
By default it behaves in the same way as it does now.  It is only if you deliberately add it to your conf that it can be sent to a different outlet.  A new logging type of ""file_synch"" has also been added to ensure that if the stacktrace stream is written to a file that it will be properly written out before termination.
As an example, with this PR the stacktrace could be configured in this way for busted tests:
<log name=""stacktrace"" type=""file_synch"" path=""$(root)/$(node)/stacktrace.log"" />","yes it works great, added this line to the busted stock conf to redirect it to a file:
<log name=""error/stacktrace"" type=""file_synch"" path=""$(root)/$(node)/stacktrace.log"" />",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,607,2019-10-31T15:43:02Z,2019-10-31T17:05:03Z,2019-10-31T17:05:03Z,MERGED,True,4322,63,53,https://github.com/postwait,Aklomp base64,3,[],https://github.com/circonus-labs/libmtev/pull/607,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/607,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,607,2019-10-31T15:43:02Z,2019-10-31T17:05:03Z,2019-10-31T17:05:03Z,MERGED,True,4322,63,53,https://github.com/postwait,Aklomp base64,3,[],https://github.com/circonus-labs/libmtev/pull/607,https://github.com/bdunavant,2,https://github.com/circonus-labs/libmtev/pull/607#issuecomment-548447274,,Added usage  to https://docs.google.com/document/d/1b81uc2a9FVpImaYlaZMaKfmGUJapcYAejoXcyzRjC8c/edit,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,608,2019-11-04T12:11:35Z,2019-11-05T19:16:41Z,2020-07-21T21:25:37Z,MERGED,True,239,79,7,https://github.com/vasuraman11,Fixes to improve libmtev stacktrace,10,[],https://github.com/circonus-labs/libmtev/pull/608,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/608,"This PR improves symbolicating of stacktraces, so that line numbers are present with main binaries and correct in general and so that function names are extracted from dwarf and used to fill in whenever necessary.  Prevented mtev_stacktrace reentrancy.  Very thorough dwarf debug logging can be enabled with debug/dwarf to debug any issues.","This PR improves symbolicating of stacktraces, so that line numbers are present with main binaries and correct in general and so that function names are extracted from dwarf and used to fill in whenever necessary.  Prevented mtev_stacktrace reentrancy.  Very thorough dwarf debug logging can be enabled with debug/dwarf to debug any issues.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,609,2019-11-05T15:50:50Z,2019-11-05T16:05:15Z,2019-11-05T16:05:19Z,MERGED,True,2,1,2,https://github.com/HeinrichHartmann,"lua_mtev: Fix timezone():extract(..., ""offset"") function",2,[],https://github.com/circonus-labs/libmtev/pull/609,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/609,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,610,2019-11-06T05:05:41Z,2019-11-06T05:29:06Z,2020-07-21T21:30:01Z,CLOSED,False,90,3,5,https://github.com/vasuraman11,Add lua mtev.process:status,1,[],https://github.com/circonus-labs/libmtev/pull/610,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/610,"A process spawned by libmtev lua mtev.spawn may crash, and if the parent process is waiting for it to finish something lengthy, there was previously no function to just check status.  This PR adds a lua function mtev.process:status which allows a lua client to check the status so that it can be polled for a crash during a lengthy operation, especially useful in busted tests (right now the timeout is 5 minutes unless otherwise specified).","A process spawned by libmtev lua mtev.spawn may crash, and if the parent process is waiting for it to finish something lengthy, there was previously no function to just check status.  This PR adds a lua function mtev.process:status which allows a lua client to check the status so that it can be polled for a crash during a lengthy operation, especially useful in busted tests (right now the timeout is 5 minutes unless otherwise specified).",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,610,2019-11-06T05:05:41Z,2019-11-06T05:29:06Z,2020-07-21T21:30:01Z,CLOSED,False,90,3,5,https://github.com/vasuraman11,Add lua mtev.process:status,1,[],https://github.com/circonus-labs/libmtev/pull/610,https://github.com/vasuraman11,2,https://github.com/circonus-labs/libmtev/pull/610#issuecomment-550151445,"A process spawned by libmtev lua mtev.spawn may crash, and if the parent process is waiting for it to finish something lengthy, there was previously no function to just check status.  This PR adds a lua function mtev.process:status which allows a lua client to check the status so that it can be polled for a crash during a lengthy operation, especially useful in busted tests (right now the timeout is 5 minutes unless otherwise specified).","was able to avoid adding a new function by just using mtev.process:wait(0) and checking status to see if it is nil, and errno is also accessible, so this change is not needed",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,611,2019-11-08T19:10:01Z,2019-11-08T20:39:46Z,2019-11-08T20:39:46Z,MERGED,True,93,55,14,https://github.com/postwait,Ci perf work,4,[],https://github.com/circonus-labs/libmtev/pull/611,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/611,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,612,2019-11-12T18:52:41Z,2019-11-13T07:18:04Z,2019-11-13T07:18:04Z,MERGED,True,74,6,3,https://github.com/postwait,libmtev.a for better performance,3,[],https://github.com/circonus-labs/libmtev/pull/612,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/612,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,613,2019-11-12T18:54:06Z,2019-11-12T20:26:22Z,2019-11-12T20:26:23Z,MERGED,True,15,13,3,https://github.com/postwait,Watchdog adjustment can be done once before loop.,1,[],https://github.com/circonus-labs/libmtev/pull/613,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/613,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,614,2019-11-13T20:37:29Z,2019-11-25T15:23:33Z,2019-11-25T15:23:33Z,CLOSED,False,87,226,17,https://github.com/HeinrichHartmann,Revert to c200a22e to fix tests,1,[],https://github.com/circonus-labs/libmtev/pull/614,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/614,"The following commit broke tests:
6c704e1
Reset working tree to a the known-good state","The following commit broke tests:
6c704e1
Reset working tree to a the known-good state",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,614,2019-11-13T20:37:29Z,2019-11-25T15:23:33Z,2019-11-25T15:23:33Z,CLOSED,False,87,226,17,https://github.com/HeinrichHartmann,Revert to c200a22e to fix tests,1,[],https://github.com/circonus-labs/libmtev/pull/614,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/614#issuecomment-553591626,"The following commit broke tests:
6c704e1
Reset working tree to a the known-good state","Test:
; git diff HEAD..c200a22e
# 2019-11-13 20:38:22
# OK after 0.975s",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,615,2019-11-15T05:44:09Z,2019-11-15T06:03:36Z,2019-11-15T06:03:36Z,MERGED,True,1,1,2,https://github.com/postwait,Call mtev_log_go_asynch in the new child process.,1,[],https://github.com/circonus-labs/libmtev/pull/615,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/615,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,616,2019-11-15T21:03:10Z,2020-01-13T19:34:56Z,2020-01-13T19:34:56Z,CLOSED,False,7,7,1,https://github.com/postwait,Hoist the die tag test to avoid work.,1,[],https://github.com/circonus-labs/libmtev/pull/616,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/616,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,617,2019-11-21T18:11:23Z,2019-11-21T20:58:26Z,2019-11-21T20:58:26Z,MERGED,True,105,32,4,https://github.com/postwait,Crash stack dump improvements.,4,[],https://github.com/circonus-labs/libmtev/pull/617,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/617,"Quiet down dwarf debug
Print stacks when crashing in foreground (-D)
Attempt to recover from crashes within crashes.","Quiet down dwarf debug
Print stacks when crashing in foreground (-D)
Attempt to recover from crashes within crashes.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,618,2019-11-21T18:11:54Z,2019-11-21T18:45:47Z,2019-11-21T18:45:47Z,MERGED,True,36,24,5,https://github.com/postwait,Track current lua state in TLS for stack unwinding,1,[],https://github.com/circonus-labs/libmtev/pull/618,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/618,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,619,2019-11-25T14:31:34Z,2019-11-25T14:49:48Z,2019-11-25T14:49:48Z,MERGED,True,9,2,2,https://github.com/postwait,Address bogus cross-thread trigger on closed events,1,[],https://github.com/circonus-labs/libmtev/pull/619,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/619,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,620,2019-11-26T14:41:16Z,2019-11-26T16:17:11Z,2019-11-26T16:17:11Z,MERGED,True,6,4,3,https://github.com/postwait,"Append and flush should ""fail"" on disconnected clients.",1,[],https://github.com/circonus-labs/libmtev/pull/620,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/620,"Make sure that mtev_http_response_flush and mtev_http_response_append
return false when there is an underlying problem with the http session.","Make sure that mtev_http_response_flush and mtev_http_response_append
return false when there is an underlying problem with the http session.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,621,2019-11-26T19:49:30Z,2019-11-26T20:02:48Z,2019-11-26T20:02:48Z,MERGED,True,12,4,3,https://github.com/postwait,Bracket valid watchdog retry and span limits,3,[],https://github.com/circonus-labs/libmtev/pull/621,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/621,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,622,2019-11-26T22:25:23Z,2019-11-26T22:31:53Z,2019-11-26T22:31:53Z,MERGED,True,6,3,2,https://github.com/postwait,Make `mtev_http_rest_register` secure-by-defualt,1,[],https://github.com/circonus-labs/libmtev/pull/622,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/622,"Make it so that the most commonly used rest registration routine
uses the built-in auth by default such that programmers don't
accidentaly register endpoints that aren't securable.","Make it so that the most commonly used rest registration routine
uses the built-in auth by default such that programmers don't
accidentaly register endpoints that aren't securable.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,624,2019-12-03T19:04:54Z,2019-12-04T00:30:33Z,2019-12-04T00:31:05Z,MERGED,True,10,2,2,https://github.com/postwait,"Allow rest_auth_denied hook to ""undeny"".",1,[],https://github.com/circonus-labs/libmtev/pull/624,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/624,"rest_auth_denied hooks can set the deny function to NULL to
reverse a denial decision.
lua should register the rest closure as a vararg cimpl","rest_auth_denied hooks can set the deny function to NULL to
reverse a denial decision.
lua should register the rest closure as a vararg cimpl",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,625,2019-12-04T00:22:06Z,2019-12-04T00:22:14Z,2019-12-04T00:31:15Z,MERGED,True,25,3,3,https://github.com/postwait,Fix various http/2 issues in direct rest listeners.,1,[],https://github.com/circonus-labs/libmtev/pull/625,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/625,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,626,2019-12-06T22:43:04Z,2019-12-06T22:48:05Z,2019-12-06T22:48:08Z,MERGED,True,4,0,1,https://github.com/pamaddox,Respect mtev_curl_write_callback Write Errors,1,[],https://github.com/circonus-labs/libmtev/pull/626,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/626,"The write callback function in mtev_curl_write_callback was writing
data, but would never check for error conditions. It was impossible for
the write callback to report errors back to curl.
If the callback returns -1, consider that an error and return out back
to curl.","The write callback function in mtev_curl_write_callback was writing
data, but would never check for error conditions. It was impossible for
the write callback to report errors back to curl.
If the callback returns -1, consider that an error and return out back
to curl.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,627,2019-12-09T16:07:56Z,2019-12-09T16:26:10Z,2019-12-09T16:26:10Z,MERGED,True,13,6,1,https://github.com/postwait,Don't replace (free) callback details,1,[],https://github.com/circonus-labs/libmtev/pull/627,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/627,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,628,2019-12-10T03:23:01Z,2019-12-11T00:01:29Z,2019-12-11T00:01:41Z,MERGED,True,54,7,6,https://github.com/vasuraman11,MTEV_DIAGNOSE_CRASH can be set to an external tool path to be invoked with tid,4,[],https://github.com/circonus-labs/libmtev/pull/628,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/628,"In development and test, it can be convenient without requiring a parent to launch one of a number of debugging or reporting tools directly or via a script for mtev diagnose of a crash (instead of the internal stacktrace or backtrace coroner).  A small change allows this via MTEV_DIAGNOSE_CRASH directly.","In development and test, it can be convenient without requiring a parent to launch one of a number of debugging or reporting tools directly or via a script for mtev diagnose of a crash (instead of the internal stacktrace or backtrace coroner).  A small change allows this via MTEV_DIAGNOSE_CRASH directly.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,629,2019-12-11T03:31:29Z,2019-12-11T20:01:15Z,2019-12-11T20:01:19Z,MERGED,True,18,14,4,https://github.com/vasuraman11,"execlp needs null at end of args, add pid also when on linux, pid only non-linux",3,[],https://github.com/circonus-labs/libmtev/pull/629,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/629,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,630,2020-01-06T22:47:39Z,2020-01-07T03:39:06Z,2020-01-07T03:39:11Z,MERGED,True,55,13,2,https://github.com/vasuraman11,Collect and display the column within the source line if available,2,[],https://github.com/circonus-labs/libmtev/pull/630,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/630,"Small 15 min enhancement to libmtev stacktrace, where we can now show the column number within a source line that corresponds to the callstack address (when it is available).  This can help clarify exactly within the source line what variable had a bad address or where the fault occurred.","Small 15 min enhancement to libmtev stacktrace, where we can now show the column number within a source line that corresponds to the callstack address (when it is available).  This can help clarify exactly within the source line what variable had a bad address or where the fault occurred.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,631,2020-01-07T19:43:13Z,2020-01-08T04:24:08Z,2020-01-08T04:24:09Z,MERGED,True,4,13,1,https://github.com/postwait,Never replace callback details avoiding use-after-free.,1,[],https://github.com/circonus-labs/libmtev/pull/631,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/631,fixes CIRC-4462,fixes CIRC-4462,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,632,2020-01-08T16:07:37Z,2020-01-08T16:09:36Z,2020-01-08T16:10:08Z,MERGED,True,2,2,1,https://github.com/esproul,FQ polling limit changes should be debug-logged,1,[],https://github.com/circonus-labs/libmtev/pull/632,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/632,Also fix an error log to use a consistent log stream.,Also fix an error log to use a consistent log stream.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,633,2020-01-13T16:49:19Z,2020-01-13T19:18:07Z,2020-01-13T19:18:07Z,MERGED,True,1,1,1,https://github.com/postwait,Use correct helper to determine completion of payload.,1,[],https://github.com/circonus-labs/libmtev/pull/633,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/633,Fixes a more generic CIRC-4425,Fixes a more generic CIRC-4425,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,634,2020-01-13T18:53:07Z,2020-01-13T19:26:38Z,2020-01-13T19:29:36Z,MERGED,True,5,3,1,https://github.com/postwait,mtev_json should use atomic ref counts.,1,[],https://github.com/circonus-labs/libmtev/pull/634,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/634,fixes #623,fixes #623,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,635,2020-01-15T20:31:09Z,2020-01-15T20:35:37Z,2020-01-15T20:35:37Z,MERGED,True,18,13,2,https://github.com/postwait,change eventer ssl debug log stream,2,[],https://github.com/circonus-labs/libmtev/pull/635,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/635,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,636,2020-01-15T20:31:25Z,2020-01-15T20:39:00Z,2020-01-15T20:39:00Z,MERGED,True,17,4,5,https://github.com/postwait,Fix use-after-free in HTTP/2 logging.,2,[],https://github.com/circonus-labs/libmtev/pull/636,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/636,"If an HTTP/2 session were snipped the accept consutruct was freed
long before the attempt to use in HTTP logging.  This change moves
HTTP/2 logging up to the connection snip time prior to the accept
construct free.","If an HTTP/2 session were snipped the accept consutruct was freed
long before the attempt to use in HTTP logging.  This change moves
HTTP/2 logging up to the connection snip time prior to the accept
construct free.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,637,2020-01-15T22:05:06Z,2020-01-15T22:26:34Z,2020-01-15T22:26:34Z,MERGED,True,8,5,3,https://github.com/postwait,Address various coverity complaints.,1,[],https://github.com/circonus-labs/libmtev/pull/637,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/637,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,638,2020-01-17T05:16:19Z,2020-01-17T15:50:04Z,2020-01-17T15:50:04Z,MERGED,True,179,11,11,https://github.com/postwait,Make the lua mtev integration watchdog aware.,2,[],https://github.com/circonus-labs/libmtev/pull/638,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/638,"Use thread-directed (Linux) POSIX timers to trigger a lua_hook
insertion into the state that stack traces and calls luaL_error().
This should prevent long-running lua states in a callback from
triggering the watchdog by breaking them.","Use thread-directed (Linux) POSIX timers to trigger a lua_hook
insertion into the state that stack traces and calls luaL_error().
This should prevent long-running lua states in a callback from
triggering the watchdog by breaking them.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,638,2020-01-17T05:16:19Z,2020-01-17T15:50:04Z,2020-01-17T15:50:04Z,MERGED,True,179,11,11,https://github.com/postwait,Make the lua mtev integration watchdog aware.,2,[],https://github.com/circonus-labs/libmtev/pull/638,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/638#issuecomment-575632338,"Use thread-directed (Linux) POSIX timers to trigger a lua_hook
insertion into the state that stack traces and calls luaL_error().
This should prevent long-running lua states in a callback from
triggering the watchdog by breaking them.","LGTM. If this works, this will be a big improvement for the lua situation.
The only comment I have, is that resetting the timeout in the mtev_lua_resume function will not catch all lua -> C yeidl operations. There are cases where we switch the lua state without going throught the eventer. We hit that with the nl_sleep_complete (where we now yield), if I remember correctly.
The current approach is fair, but this is something to keep in mind.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,638,2020-01-17T05:16:19Z,2020-01-17T15:50:04Z,2020-01-17T15:50:04Z,MERGED,True,179,11,11,https://github.com/postwait,Make the lua mtev integration watchdog aware.,2,[],https://github.com/circonus-labs/libmtev/pull/638,https://github.com/HeinrichHartmann,3,https://github.com/circonus-labs/libmtev/pull/638#issuecomment-575634619,"Use thread-directed (Linux) POSIX timers to trigger a lua_hook
insertion into the state that stack traces and calls luaL_error().
This should prevent long-running lua states in a callback from
triggering the watchdog by breaking them.","Using lua_sethook to get into a consistent state after the signal handler was fired is VERY NICE. This was the piece I was missing.
With this technique, we should also be able to dump stack traces (without calling lua_error) on external signals. I would love to have a pstack tool for lua.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,638,2020-01-17T05:16:19Z,2020-01-17T15:50:04Z,2020-01-17T15:50:04Z,MERGED,True,179,11,11,https://github.com/postwait,Make the lua mtev integration watchdog aware.,2,[],https://github.com/circonus-labs/libmtev/pull/638,https://github.com/HeinrichHartmann,4,https://github.com/circonus-labs/libmtev/pull/638#issuecomment-575679030,"Use thread-directed (Linux) POSIX timers to trigger a lua_hook
insertion into the state that stack traces and calls luaL_error().
This should prevent long-running lua states in a callback from
triggering the watchdog by breaking them.",LGTM,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,639,2020-01-20T21:40:19Z,2020-01-24T01:45:37Z,2020-01-24T01:45:37Z,MERGED,True,25,9,4,https://github.com/postwait,Change crash handling to pass thru ucontext_t,4,[],https://github.com/circonus-labs/libmtev/pull/639,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/639,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,640,2020-01-23T14:52:27Z,2022-03-29T19:18:25Z,2022-03-29T19:18:25Z,CLOSED,False,104,33,6,https://github.com/postwait,Implement cooperative preemption for lua.,4,[],https://github.com/circonus-labs/libmtev/pull/640,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/640,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,640,2020-01-23T14:52:27Z,2022-03-29T19:18:25Z,2022-03-29T19:18:25Z,CLOSED,False,104,33,6,https://github.com/postwait,Implement cooperative preemption for lua.,4,[],https://github.com/circonus-labs/libmtev/pull/640,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/640#issuecomment-577723086,,"As discussed on Slack: I quite like to have the option to throw lua errors, in case of watchdog timeouts. This gives a very effective way to debug issues where lua hogs the CPU. If we re-schedule always, we loose this capability.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,640,2020-01-23T14:52:27Z,2022-03-29T19:18:25Z,2022-03-29T19:18:25Z,CLOSED,False,104,33,6,https://github.com/postwait,Implement cooperative preemption for lua.,4,[],https://github.com/circonus-labs/libmtev/pull/640,https://github.com/HeinrichHartmann,3,https://github.com/circonus-labs/libmtev/pull/640#issuecomment-577852293,,"I played around with this a little more:
Calling mtev.interrupt_hook() too early (e.g. snowth-init) fails with (""coro terminated""). Setting the hook form the request handler works.
Fully jit-ed functions can not be pre-empted:
  -- use infinite CPU
  if qs.cpu_bomb then
    -- play Collatz game
    local i = 1
    while true do
      if i % 2 == 0 then
        i = i / 2
        --- mtev.log(""debug"", ""x"")
      else
        --- mtev.log(""debug"", ""o"")
        i = 3*i + 1
      end
    end
  end

In this case the hook (""lstop"") will not be called.
Uncommenting those two log lines, we are calling the hook, but pre-emption will fail with: lua/test_error: attempt to yield across C-call boundary
Thorowing an error from the lua interrupt_hook, works nicely in this case.
Also printing a stack trace debug.traceback() works fine.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,640,2020-01-23T14:52:27Z,2022-03-29T19:18:25Z,2022-03-29T19:18:25Z,CLOSED,False,104,33,6,https://github.com/postwait,Implement cooperative preemption for lua.,4,[],https://github.com/circonus-labs/libmtev/pull/640,https://github.com/HeinrichHartmann,4,https://github.com/circonus-labs/libmtev/pull/640#issuecomment-577856117,,"Here is another error, without a mtev.interrupt_hook set, calling the cpu_bomb function sometimes crashes the process with:
192.168.2.201 - - [23/Jan/2020:20:13:12 -0000] ""GET /extension/lua/test_error?cpu_bomb=1 HTTP/1.1"" 500 634|0 1011.583
XXX mtev lua open
Using lualib_path=/home/hhartmann/circ/src/snowth/src/lua/extensions/?.lua;/home/hhartmann/circ/src/snowth/src/lua/support/?.lua;/home/hhartmann/circ/src/snowth/src/lua/test/?.lua;/home/hhartmann/circ/src/snowth/src/?.lua;
coro_store -> 0x7fc1401cabd0
loading luamtev-extension
Starting lua timer: 0x7fc19800c4e8 for 1.000000
Handling request to lua module 'test_error'
XXX HANDLER START
timer fired: lua 0x7fc1401cabd0
LSTOP fired!
lua state 0x7fc1401cabd0 preempted
register_event( in: 0x7fc1401cabd0 , e: 0x7fc19800d7e0 )
lua: 0x7fc1401cabd0 yielding
Stopping lua timer: 0x7fc19800c4e8
deregister_event( in: 0x7fc1401cabd0 , e: 0x7fc19800d7e0 )
Starting lua timer: 0x7fc19800c4e8 for 1.000000
emancipate: process 23435, monitored 23435, signal 11
[monitor] snowth 23435 has stopped.
[monitor] snowth 23435 has crashed.
STACKTRACE(23435):
t@23449> 0000000000000003
t@23449> -- mtev lua runtime stacktrace --
t@23449> stack traceback:
t@23449> 	[C]: in function 'log'
t@23449> 	...rtmann/circ/src/snowth/src/lua/extensions/test_error.lua:65: in function <...rtmann/circ/src/snowth/src/lua/extensions/test_error.lua:4>
t@23449> 	[C]: in function 'xpcall'
t@23449> 	...hartmann/circ/src/snowth/src/lua/support/snowth-init.lua:311: in function 'extension_process'
t@23449> 	...nn/circ/src/snowth/src/lua/support/luamtev-extension.lua:118: in function <...nn/circ/src/snowth/src/lua/support/luamtev-extension.lua:78>
t@23449> 
[monitor] reaped pid: 23435.
[monitor] snowth child died [0/17], restarting.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,640,2020-01-23T14:52:27Z,2022-03-29T19:18:25Z,2022-03-29T19:18:25Z,CLOSED,False,104,33,6,https://github.com/postwait,Implement cooperative preemption for lua.,4,[],https://github.com/circonus-labs/libmtev/pull/640,https://github.com/HeinrichHartmann,5,https://github.com/circonus-labs/libmtev/pull/640#issuecomment-577856874,,I'll stop debugging this for now.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,640,2020-01-23T14:52:27Z,2022-03-29T19:18:25Z,2022-03-29T19:18:25Z,CLOSED,False,104,33,6,https://github.com/postwait,Implement cooperative preemption for lua.,4,[],https://github.com/circonus-labs/libmtev/pull/640,https://github.com/postwait,6,https://github.com/circonus-labs/libmtev/pull/640#issuecomment-1082277022,,This is addressed in #804 and enabling by default is pending some luajit issue resolution.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,641,2020-01-27T16:01:17Z,2020-01-27T16:14:43Z,2020-01-27T16:14:43Z,MERGED,True,18,12,7,https://github.com/postwait,Address gcc9 warnings for a clean compile.,1,[],https://github.com/circonus-labs/libmtev/pull/641,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/641,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,642,2020-01-31T19:35:40Z,2020-02-11T18:50:05Z,2020-02-11T18:50:06Z,MERGED,True,52,4,3,https://github.com/postwait,"Count HTTP requests, responses, and upgrades",2,[],https://github.com/circonus-labs/libmtev/pull/642,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/642,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,643,2020-02-11T16:20:01Z,2020-02-11T17:25:15Z,2020-02-11T17:25:15Z,MERGED,True,6,5,2,https://github.com/postwait,Fix short HTTP/1 payload reads.,1,[],https://github.com/circonus-labs/libmtev/pull/643,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/643,"We should only mark a payload complete when we have nothing left to
read.","We should only mark a payload complete when we have nothing left to
read.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,644,2020-02-20T23:27:03Z,2020-02-22T00:59:51Z,2020-02-22T00:59:51Z,MERGED,True,2319,511,48,https://github.com/postwait,Ci managed apps,2,[],https://github.com/circonus-labs/libmtev/pull/644,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/644,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,645,2020-02-26T22:14:59Z,2020-02-27T00:42:52Z,2020-02-27T00:42:52Z,MERGED,True,133,63,18,https://github.com/postwait,Fix libmtev on FreeBSD.,2,[],https://github.com/circonus-labs/libmtev/pull/645,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/645,"myriad compile issues.
fix kqueue eventer unsafe reuse of the change vector.","myriad compile issues.
fix kqueue eventer unsafe reuse of the change vector.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,646,2020-02-27T17:35:32Z,2020-02-27T17:44:14Z,2020-02-27T17:44:14Z,MERGED,True,7,0,2,https://github.com/postwait,Fix crash upon failed HTTP/2 setup.,1,[],https://github.com/circonus-labs/libmtev/pull/646,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/646,"If the initial http/2 session fails to complete setup, the context is
NULL and we should accommodate that case.","If the initial http/2 session fails to complete setup, the context is
NULL and we should accommodate that case.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,647,2020-03-04T01:22:29Z,2020-03-06T05:21:46Z,2020-03-06T05:21:46Z,MERGED,True,308,132,13,https://github.com/postwait,reader-writer differentiation in mtev_conf,3,[],https://github.com/circonus-labs/libmtev/pull/647,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/647,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,648,2020-03-05T06:09:40Z,2020-03-06T02:23:28Z,2020-03-06T02:23:28Z,MERGED,True,230,4,1,https://github.com/postwait,Implement shared waitfor/notify across threads,4,[],https://github.com/circonus-labs/libmtev/pull/648,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/648,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,649,2020-03-07T20:02:53Z,2020-03-09T14:47:00Z,2020-03-09T14:47:01Z,CLOSED,False,182,218,7,https://github.com/postwait,complete change to new mtev_conf section APIs,2,[],https://github.com/circonus-labs/libmtev/pull/649,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/649,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,650,2020-03-09T14:47:54Z,2020-03-11T04:04:30Z,2020-03-11T04:04:31Z,MERGED,True,182,218,7,https://github.com/postwait,reader-writer differentiation in mtev_conf,2,[],https://github.com/circonus-labs/libmtev/pull/650,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/650,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,651,2020-03-12T18:03:31Z,2020-03-12T18:11:26Z,2020-03-12T18:11:26Z,MERGED,True,173,16,9,https://github.com/postwait,Support segment_size and precommit jlog config.,1,[],https://github.com/circonus-labs/libmtev/pull/651,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/651,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,652,2020-03-19T00:46:58Z,2020-03-19T13:53:16Z,2020-03-19T13:53:16Z,MERGED,True,183,30,7,https://github.com/postwait,Add several supporting lua functions.,1,[],https://github.com/circonus-labs/libmtev/pull/652,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/652,"mtev.get_ipv4 (get local IP address based on target route)
mtev.uname (return uname(2) details)
mtev.reverse_details (show details of a reverse connection)","mtev.get_ipv4 (get local IP address based on target route)
mtev.uname (return uname(2) details)
mtev.reverse_details (show details of a reverse connection)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,653,2020-03-26T04:05:31Z,2020-03-26T14:27:10Z,2020-03-26T14:27:10Z,MERGED,True,66,34,2,https://github.com/postwait,Fix thread-safety issues with mtev_conf reads.,3,[],https://github.com/circonus-labs/libmtev/pull/653,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/653,"Multireader support had us reusing a single global XPath
context.  This was completely broken.  Thread-local storage
of context and generational counter is leveraged to maintain
a cached, per-thread XPathContext and recreating it on config
reloads.","Multireader support had us reusing a single global XPath
context.  This was completely broken.  Thread-local storage
of context and generational counter is leveraged to maintain
a cached, per-thread XPathContext and recreating it on config
reloads.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,653,2020-03-26T04:05:31Z,2020-03-26T14:27:10Z,2020-03-26T14:27:10Z,MERGED,True,66,34,2,https://github.com/postwait,Fix thread-safety issues with mtev_conf reads.,3,[],https://github.com/circonus-labs/libmtev/pull/653,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/653#issuecomment-604381401,"Multireader support had us reusing a single global XPath
context.  This was completely broken.  Thread-local storage
of context and generational counter is leveraged to maintain
a cached, per-thread XPathContext and recreating it on config
reloads.","Running into this while testing:
[hhartmann@el7 caql-broker]$ ./busted/run-tests.sh
*** Error in `/opt/circonus/bin/luamtev': double free or corruption (!prev): 0x000000000162ad00 ***
======= Backtrace: =========
/lib64/libc.so.6(+0x81679)[0x7fe576dc8679]
/opt/circonus/lib/libmtev.so.1(mtev_conf_get_sections_ex+0x14a)[0x7fe57b223a5a]
/opt/circonus/lib/libmtev.so.1(mtev_conf_log_init_rotate+0x6a)[0x7fe57b225fba]
/opt/circonus/lib/libmtev.so.1(mtev_conf_log_init+0x601)[0x7fe57b226a01]
/opt/circonus/lib/libmtev.so.1(mtev_main+0x2a9)[0x7fe57b209e69]
/opt/circonus/bin/luamtev(main+0x2ae)[0x4020ee]
/lib64/libc.so.6(__libc_start_main+0xf5)[0x7fe576d69505]
/opt/circonus/bin/luamtev[0x40241d]
======= Memory map: ========
00400000-00404000 r-xp 00000000 00:3a 580338                             /opt/circonus/bin/luamtev
00604000-00605000 r--p 00004000 00:3a 580338                             /opt/circonus/bin/luamtev
00605000-00606000 rw-p 00005000 00:3a 580338                             /opt/circonus/bin/luamtev
015db000-0163e000 rw-p 00000000 00:00 0                                  [heap]
7fe570000000-7fe570021000 rw-p 00000000 00:00 0
7fe570021000-7fe574000000 ---p 00000000 00:00 0
7fe5742b0000-7fe574ab1000 rw-p 00000000 00:00 0
7fe574ab1000-7fe574ac0000 r-xp 00000000 00:3a 2539                       /usr/lib64/libbz2.so.1.0.6
7fe574ac0000-7fe574cbf000 ---p 0000f000 00:3a 2539                       /usr/lib64/libbz2.so.1.0.6
7fe574cbf000-7fe574cc0000 r--p 0000e000 00:3a 2539                       /usr/lib64/libbz2.so.1.0.6
7fe574cc0000-7fe574cc1000 rw-p 0000f000 00:3a 2539                       /usr/lib64/libbz2.so.1.0.6
7fe574cc1000-7fe574cc5000 r-xp 00000000 00:3a 48112                      /usr/lib64/libattr.so.1.1.0
7fe574cc5000-7fe574ec4000 ---p 00004000 00:3a 48112                      /usr/lib64/libattr.so.1.1.0
7fe574ec4000-7fe574ec5000 r--p 00003000 00:3a 48112                      /usr/lib64/libattr.so.1.1.0
7fe574ec5000-7fe574ec6000 rw-p 00004000 00:3a 48112                      /usr/lib64/libattr.so.1.1.0",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,653,2020-03-26T04:05:31Z,2020-03-26T14:27:10Z,2020-03-26T14:27:10Z,MERGED,True,66,34,2,https://github.com/postwait,Fix thread-safety issues with mtev_conf reads.,3,[],https://github.com/circonus-labs/libmtev/pull/653,https://github.com/HeinrichHartmann,3,https://github.com/circonus-labs/libmtev/pull/653#issuecomment-604443395,"Multireader support had us reusing a single global XPath
context.  This was completely broken.  Thread-local storage
of context and generational counter is leveraged to maintain
a cached, per-thread XPathContext and recreating it on config
reloads.",I don't see anything wrong with the code. Tests seem to work. +1,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,654,2020-03-27T14:02:59Z,2020-03-27T14:17:19Z,2020-03-27T14:17:19Z,MERGED,True,9,23,6,https://github.com/postwait,Revised mtev_conf thread-safety and freshen examples,2,[],https://github.com/circonus-labs/libmtev/pull/654,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/654,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,655,2020-03-30T13:12:18Z,2020-03-30T14:52:18Z,2020-03-30T14:52:18Z,MERGED,True,6,1,1,https://github.com/postwait,verify the userdata during NPN callback,1,[],https://github.com/circonus-labs/libmtev/pull/655,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/655,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,656,2020-04-09T15:12:53Z,2020-04-17T17:37:28Z,2020-04-17T17:37:28Z,MERGED,True,20,17,4,https://github.com/postwait,Use condition variables instead of semaphores,1,[],https://github.com/circonus-labs/libmtev/pull/656,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/656,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,657,2020-04-17T16:44:18Z,2020-04-17T17:36:40Z,2020-04-17T17:36:40Z,MERGED,True,2069,32,19,https://github.com/postwait,Log outlet filters,3,[],https://github.com/circonus-labs/libmtev/pull/657,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/657,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,658,2020-04-24T22:18:09Z,2020-04-25T15:40:03Z,2020-04-25T15:40:04Z,MERGED,True,59,19,5,https://github.com/postwait,Fb log UUID strn,2,[],https://github.com/circonus-labs/libmtev/pull/658,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/658,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,659,2020-04-27T20:11:17Z,2020-04-27T22:12:20Z,2020-04-27T22:13:22Z,MERGED,True,5,2,1,https://github.com/postwait,Use epoch reclamation for hash contents also,1,[],https://github.com/circonus-labs/libmtev/pull/659,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/659,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,660,2020-04-27T21:49:37Z,2020-04-27T22:12:29Z,2020-04-27T22:12:45Z,MERGED,True,11,6,2,https://github.com/postwait,Support adding null KV values into log metadata.,2,[],https://github.com/circonus-labs/libmtev/pull/660,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/660,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,661,2020-04-28T14:45:29Z,2020-04-28T14:45:47Z,2020-04-28T14:45:47Z,MERGED,True,78,16,6,https://github.com/postwait,Fq fanout,2,[],https://github.com/circonus-labs/libmtev/pull/661,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/661,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,662,2020-04-29T16:26:32Z,2020-04-29T20:01:11Z,2020-04-29T20:01:11Z,MERGED,True,34,1,3,https://github.com/HeinrichHartmann,CIRC-5027 Add log-volume statistics,6,[],https://github.com/circonus-labs/libmtev/pull/662,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/662,"This PR enables the operator can configure log outlets to emit metrics to mtev/stats:
Example Config:
    <log name=""error"" facility=""true"" stats=""true""/>

Result:
> curl -s 'localhost:8081/mtev/stats.json?format=tagged' | jq .

...
  ""error|ST[app:noit,framework:libmtev,mtev:log,units:lines]"": {
    ""_type"": ""L"",
    ""_value"": 11
  },
...

Currently there is no logic to disable/free stats counters, once they are enabled.","This PR enables the operator can configure log outlets to emit metrics to mtev/stats:
Example Config:
    <log name=""error"" facility=""true"" stats=""true""/>

Result:
> curl -s 'localhost:8081/mtev/stats.json?format=tagged' | jq .

...
  ""error|ST[app:noit,framework:libmtev,mtev:log,units:lines]"": {
    ""_type"": ""L"",
    ""_value"": 11
  },
...

Currently there is no logic to disable/free stats counters, once they are enabled.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,662,2020-04-29T16:26:32Z,2020-04-29T20:01:11Z,2020-04-29T20:01:11Z,MERGED,True,34,1,3,https://github.com/HeinrichHartmann,CIRC-5027 Add log-volume statistics,6,[],https://github.com/circonus-labs/libmtev/pull/662,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/662#issuecomment-621375158,"This PR enables the operator can configure log outlets to emit metrics to mtev/stats:
Example Config:
    <log name=""error"" facility=""true"" stats=""true""/>

Result:
> curl -s 'localhost:8081/mtev/stats.json?format=tagged' | jq .

...
  ""error|ST[app:noit,framework:libmtev,mtev:log,units:lines]"": {
    ""_type"": ""L"",
    ""_value"": 11
  },
...

Currently there is no logic to disable/free stats counters, once they are enabled.",Should be fixed now.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,663,2020-04-29T19:34:22Z,2020-05-06T15:19:08Z,2020-05-06T15:19:09Z,MERGED,True,1748,1090,13,https://github.com/postwait,Arch aarch64,6,[],https://github.com/circonus-labs/libmtev/pull/663,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/663,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,663,2020-04-29T19:34:22Z,2020-05-06T15:19:08Z,2020-05-06T15:19:09Z,MERGED,True,1748,1090,13,https://github.com/postwait,Arch aarch64,6,[],https://github.com/circonus-labs/libmtev/pull/663,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/663#issuecomment-624249100,,"Update: I can get it to build using our packaging script with these additional compiler flags, which quash errors stemming from libunwind's headers:
-Wno-error=unused-value -Wno-error=incompatible-pointer-types",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,663,2020-04-29T19:34:22Z,2020-05-06T15:19:08Z,2020-05-06T15:19:09Z,MERGED,True,1748,1090,13,https://github.com/postwait,Arch aarch64,6,[],https://github.com/circonus-labs/libmtev/pull/663,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/663#issuecomment-624256452,,"I did not build with libunwind.  Looking at the header, it would seem that error suppression is the only choice.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,663,2020-04-29T19:34:22Z,2020-05-06T15:19:08Z,2020-05-06T15:19:09Z,MERGED,True,1748,1090,13,https://github.com/postwait,Arch aarch64,6,[],https://github.com/circonus-labs/libmtev/pull/663,https://github.com/esproul,4,https://github.com/circonus-labs/libmtev/pull/663#issuecomment-624286505,,Confirmed that I can build again without any special error suppression compiler flags.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,664,2020-04-29T20:14:56Z,2020-04-29T20:20:57Z,2020-04-29T20:20:58Z,MERGED,True,6,0,2,https://github.com/HeinrichHartmann,CIRC-5027 Add documentation,1,[],https://github.com/circonus-labs/libmtev/pull/664,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/664,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,665,2020-04-30T20:10:19Z,2020-05-01T14:01:51Z,2020-05-01T14:02:16Z,MERGED,True,387,112,1,https://github.com/postwait,Logging optimizations:,1,[],https://github.com/circonus-labs/libmtev/pull/665,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/665,"riff on the signal case to avoid allocations (8% speedup)
hoist filtering before flatbuffer serialization (500k/s -> 3mm/s)","riff on the signal case to avoid allocations (8% speedup)
hoist filtering before flatbuffer serialization (500k/s -> 3mm/s)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,666,2020-04-30T20:10:32Z,2020-05-01T14:04:15Z,2020-05-01T14:04:15Z,MERGED,True,65,20,2,https://github.com/postwait,logic optimizations and string slices,1,[],https://github.com/circonus-labs/libmtev/pull/666,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/666,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,667,2020-05-01T16:50:59Z,2020-05-01T18:22:45Z,2021-07-13T18:07:02Z,MERGED,True,9,5,2,https://github.com/esproul,1.10.5,3,[],https://github.com/circonus-labs/libmtev/pull/667,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/667,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,668,2020-05-01T21:01:47Z,2020-05-01T21:19:41Z,2020-05-14T17:35:33Z,MERGED,True,44,17,4,https://github.com/postwait,Improvements to the stack unwinder.,2,[],https://github.com/circonus-labs/libmtev/pull/668,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/668,"Use libunwind lookups when DWARF lookups fail.
Speed up DWARF crawling slightly.","Use libunwind lookups when DWARF lookups fail.
Speed up DWARF crawling slightly.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,669,2020-05-01T21:58:35Z,2020-05-01T22:52:31Z,2020-05-14T17:35:26Z,MERGED,True,33,1,3,https://github.com/postwait,Support ENV:default:{KEY} for config values,2,[],https://github.com/circonus-labs/libmtev/pull/669,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/669,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,670,2020-05-01T22:27:00Z,2020-05-01T22:53:03Z,2020-05-14T17:35:18Z,MERGED,True,54,24,1,https://github.com/postwait,Make read-write recursive locks like mtev_conf,1,[],https://github.com/circonus-labs/libmtev/pull/670,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/670,"We need to make sure that recursive acquisition of read locks does
not live lock when there is a pending writer.  We do this by managing
the read recursion in a thread-local variable.  This also allows us
to seamlessly recurse a writelock as a readlock if needed.","We need to make sure that recursive acquisition of read locks does
not live lock when there is a pending writer.  We do this by managing
the read recursion in a thread-local variable.  This also allows us
to seamlessly recurse a writelock as a readlock if needed.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,671,2020-05-05T00:16:17Z,2020-05-05T14:42:53Z,2020-05-14T17:35:02Z,MERGED,True,67,23,4,https://github.com/postwait,Two-stage the predicate matching to avoid vprintf.,1,[],https://github.com/circonus-labs/libmtev/pull/671,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/671,"If the predicate for a filter doesn't include ""message"" then
we can do the evaluation without constructing the message and
it turns out that the vprintf can be quite expensive.  This will
break the predicate matching into two phases with the first phase
bailing early with an indicator if it cannot complete due to
needing the message constructed.
This bumps non-message predicates evaluation to 5.6mm/sec/core
on my test machine (from 2.6mm/sec/core).","If the predicate for a filter doesn't include ""message"" then
we can do the evaluation without constructing the message and
it turns out that the vprintf can be quite expensive.  This will
break the predicate matching into two phases with the first phase
bailing early with an indicator if it cannot complete due to
needing the message constructed.
This bumps non-message predicates evaluation to 5.6mm/sec/core
on my test machine (from 2.6mm/sec/core).",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,672,2020-05-06T16:45:21Z,2020-05-06T20:46:46Z,2020-05-06T20:46:58Z,MERGED,True,302,1,6,https://github.com/HeinrichHartmann,CIRC-5070 Add backtrace/ptrace pretty printers,6,[],https://github.com/circonus-labs/libmtev/pull/672,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/672,"This PR adds pretty-printers for the mtev_hash_table and mtev_http*_request structs in backtrace reports.
Here is an example how that looks in the backtrace-console:

mtev_hash_table

mtev_http_request attribute

mtev_http_request thread annotation


To use these modules ptrace has to be invoked with ptrace --modules-path=$(pwd)/backtrace ....
TODO

Install those modules into an appropriate path (/opt/circonus/share/backtrace/ ?)
Change backwash/watchdog scripts to add --modules-path parameter","This PR adds pretty-printers for the mtev_hash_table and mtev_http*_request structs in backtrace reports.
Here is an example how that looks in the backtrace-console:

mtev_hash_table

mtev_http_request attribute

mtev_http_request thread annotation


To use these modules ptrace has to be invoked with ptrace --modules-path=$(pwd)/backtrace ....
TODO

Install those modules into an appropriate path (/opt/circonus/share/backtrace/ ?)
Change backwash/watchdog scripts to add --modules-path parameter",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,672,2020-05-06T16:45:21Z,2020-05-06T20:46:46Z,2020-05-06T20:46:58Z,MERGED,True,302,1,6,https://github.com/HeinrichHartmann,CIRC-5070 Add backtrace/ptrace pretty printers,6,[],https://github.com/circonus-labs/libmtev/pull/672,https://github.com/HeinrichHartmann,2,https://github.com/circonus-labs/libmtev/pull/672#issuecomment-624763397,"This PR adds pretty-printers for the mtev_hash_table and mtev_http*_request structs in backtrace reports.
Here is an example how that looks in the backtrace-console:

mtev_hash_table

mtev_http_request attribute

mtev_http_request thread annotation


To use these modules ptrace has to be invoked with ptrace --modules-path=$(pwd)/backtrace ....
TODO

Install those modules into an appropriate path (/opt/circonus/share/backtrace/ ?)
Change backwash/watchdog scripts to add --modules-path parameter",@esproul Do you have suggestions for the install locations?,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,672,2020-05-06T16:45:21Z,2020-05-06T20:46:46Z,2020-05-06T20:46:58Z,MERGED,True,302,1,6,https://github.com/HeinrichHartmann,CIRC-5070 Add backtrace/ptrace pretty printers,6,[],https://github.com/circonus-labs/libmtev/pull/672,https://github.com/HeinrichHartmann,3,https://github.com/circonus-labs/libmtev/pull/672#issuecomment-624763701,"This PR adds pretty-printers for the mtev_hash_table and mtev_http*_request structs in backtrace reports.
Here is an example how that looks in the backtrace-console:

mtev_hash_table

mtev_http_request attribute

mtev_http_request thread annotation


To use these modules ptrace has to be invoked with ptrace --modules-path=$(pwd)/backtrace ....
TODO

Install those modules into an appropriate path (/opt/circonus/share/backtrace/ ?)
Change backwash/watchdog scripts to add --modules-path parameter",Also the location in the source tree (/backtrace) is up for debate.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,672,2020-05-06T16:45:21Z,2020-05-06T20:46:46Z,2020-05-06T20:46:58Z,MERGED,True,302,1,6,https://github.com/HeinrichHartmann,CIRC-5070 Add backtrace/ptrace pretty printers,6,[],https://github.com/circonus-labs/libmtev/pull/672,https://github.com/esproul,4,https://github.com/circonus-labs/libmtev/pull/672#issuecomment-624765795,"This PR adds pretty-printers for the mtev_hash_table and mtev_http*_request structs in backtrace reports.
Here is an example how that looks in the backtrace-console:

mtev_hash_table

mtev_http_request attribute

mtev_http_request thread annotation


To use these modules ptrace has to be invoked with ptrace --modules-path=$(pwd)/backtrace ....
TODO

Install those modules into an appropriate path (/opt/circonus/share/backtrace/ ?)
Change backwash/watchdog scripts to add --modules-path parameter","For the install location, how about /opt/circonus/share/backtrace-plugins?  I don't have an opinion about source repo location.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,672,2020-05-06T16:45:21Z,2020-05-06T20:46:46Z,2020-05-06T20:46:58Z,MERGED,True,302,1,6,https://github.com/HeinrichHartmann,CIRC-5070 Add backtrace/ptrace pretty printers,6,[],https://github.com/circonus-labs/libmtev/pull/672,https://github.com/HeinrichHartmann,5,https://github.com/circonus-labs/libmtev/pull/672#issuecomment-624848333,"This PR adds pretty-printers for the mtev_hash_table and mtev_http*_request structs in backtrace reports.
Here is an example how that looks in the backtrace-console:

mtev_hash_table

mtev_http_request attribute

mtev_http_request thread annotation


To use these modules ptrace has to be invoked with ptrace --modules-path=$(pwd)/backtrace ....
TODO

Install those modules into an appropriate path (/opt/circonus/share/backtrace/ ?)
Change backwash/watchdog scripts to add --modules-path parameter","Alright. I moved the files to src/backtrace-support since this is consistent with src/mdb-support which we already have and which serves a similar purpose.
As for the install location I would vote for /opt/circonus/share/ptrace since those are (backtrace-) ptrace modules. The -plugins / -modules postfix seems redundant, since I expect things in ../share/.. to be modules/libraries of some sort.",True,{'THUMBS_UP': ['https://github.com/esproul']}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,673,2020-05-07T15:04:22Z,2020-05-07T16:37:59Z,2020-05-07T16:38:04Z,CLOSED,False,7,2,2,https://github.com/pamaddox, CIRC-5074 - Make mtev_cluster Config Update Synchronous,4,[],https://github.com/circonus-labs/libmtev/pull/673,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/673,"When calling mtev_cluster_write_config, we were marking the config dirty
and returning success before actually writing out the config. This could
cause the config change to be lost if there's an ill-timed crash. Change
to force writing the config.","When calling mtev_cluster_write_config, we were marking the config dirty
and returning success before actually writing out the config. This could
cause the config change to be lost if there's an ill-timed crash. Change
to force writing the config.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,673,2020-05-07T15:04:22Z,2020-05-07T16:37:59Z,2020-05-07T16:38:04Z,CLOSED,False,7,2,2,https://github.com/pamaddox, CIRC-5074 - Make mtev_cluster Config Update Synchronous,4,[],https://github.com/circonus-labs/libmtev/pull/673,https://github.com/pamaddox,2,https://github.com/circonus-labs/libmtev/pull/673#issuecomment-625365084,"When calling mtev_cluster_write_config, we were marking the config dirty
and returning success before actually writing out the config. This could
cause the config change to be lost if there's an ill-timed crash. Change
to force writing the config.",Going to do this a different way,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,674,2020-05-07T19:29:44Z,2020-05-07T19:44:56Z,2020-05-07T19:44:59Z,MERGED,True,25,0,2,https://github.com/pamaddox,CIRC-5074 - Add Flag To Cluster Endpoint To Force Conf Flush,2,[],https://github.com/circonus-labs/libmtev/pull/674,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/674,"Add an optional flag, ""x-mtev-conf-sync"", that will allow forcing
cluster configuration changes to be written to disk immediately rather
than waiting for the scheduled write.","Add an optional flag, ""x-mtev-conf-sync"", that will allow forcing
cluster configuration changes to be written to disk immediately rather
than waiting for the scheduled write.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,675,2020-05-11T16:03:55Z,2020-05-11T16:30:49Z,2020-05-11T16:30:52Z,MERGED,True,12,10,1,https://github.com/pamaddox,Check For Null When Cleaning Up Backingstore,1,[],https://github.com/circonus-labs/libmtev/pull/675,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/675,"If last->path is null, we have nothing to do, so skip the work.
Otherwise, we'll print an error that isn't actually an error.","If last->path is null, we have nothing to do, so skip the work.
Otherwise, we'll print an error that isn't actually an error.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,676,2020-05-12T12:48:07Z,2020-05-12T14:45:29Z,2020-05-14T17:34:32Z,MERGED,True,13,2,1,https://github.com/HeinrichHartmann,CIRC-5070 backtrace: Limit number of extracted hash members,1,[],https://github.com/circonus-labs/libmtev/pull/676,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/676,mtev hash tables can be come large. We want to limit the time spent in extracing large hash tables when crash reporting.,mtev hash tables can be come large. We want to limit the time spent in extracing large hash tables when crash reporting.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,677,2020-05-12T15:05:18Z,2020-05-13T12:11:45Z,2020-05-14T17:34:25Z,MERGED,True,9,6,1,https://github.com/postwait,Cleanup bool vs. enum type mess,1,[],https://github.com/circonus-labs/libmtev/pull/677,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/677,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,678,2020-05-12T19:54:18Z,2020-05-12T19:57:34Z,2020-05-14T17:34:18Z,MERGED,True,13,0,1,https://github.com/postwait,Afford configure an --enable-coverage option.,1,[],https://github.com/circonus-labs/libmtev/pull/678,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/678,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,679,2020-05-12T21:59:13Z,2020-05-12T22:10:35Z,2020-05-14T17:34:11Z,MERGED,True,8,8,2,https://github.com/postwait,Fix NPN upgrade crashes.,1,[],https://github.com/circonus-labs/libmtev/pull/679,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/679,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,680,2020-05-13T17:52:54Z,2020-05-14T13:29:19Z,2020-05-14T17:34:04Z,MERGED,True,799,128,10,https://github.com/postwait,Update autoconf tooling add coverage targets.,7,[],https://github.com/circonus-labs/libmtev/pull/680,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/680,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,680,2020-05-13T17:52:54Z,2020-05-14T13:29:19Z,2020-05-14T17:34:04Z,MERGED,True,799,128,10,https://github.com/postwait,Update autoconf tooling add coverage targets.,7,[],https://github.com/circonus-labs/libmtev/pull/680,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/680#issuecomment-628180536,,"Same error on Ubuntu 16.04, with aclocal/automake 1.15.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,681,2020-05-14T12:39:32Z,2020-05-18T14:53:30Z,2020-05-18T14:53:30Z,MERGED,True,197,14,4,https://github.com/HeinrichHartmann,CIRC-5099 backtrace: Add support for http observer module,3,[],https://github.com/circonus-labs/libmtev/pull/681,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/681,"This ptrace module extracts information from the http-observer lookup table, and attaches it to the backtrace report.
Example:","This ptrace module extracts information from the http-observer lookup table, and attaches it to the backtrace report.
Example:",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,682,2020-05-14T13:29:32Z,2020-05-14T13:41:06Z,2020-05-14T17:33:49Z,MERGED,True,8,3,1,https://github.com/postwait,Ignore EPERM when adding via epoll_ctl.,1,[],https://github.com/circonus-labs/libmtev/pull/682,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/682,"Adding /dev/null an epoll fd causes EPERM, this happens when luamtev
is used with a redirect in or out to /dev/null.","Adding /dev/null an epoll fd causes EPERM, this happens when luamtev
is used with a redirect in or out to /dev/null.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,683,2020-05-14T13:37:04Z,2020-05-14T17:33:21Z,2020-05-14T17:33:39Z,MERGED,True,519,109,11,https://github.com/postwait,Fix support for NPN/ALPN negotiation on the server side.,2,[],https://github.com/circonus-labs/libmtev/pull/683,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/683,"Make http/1.1 an option for ALPN in the rest system
Provide helpers to make it so we can register new alpn keys.
Allow ssl contexts to override/add ALPN keys.
More thorough HTTP tests","Make http/1.1 an option for ALPN in the rest system
Provide helpers to make it so we can register new alpn keys.
Allow ssl contexts to override/add ALPN keys.
More thorough HTTP tests",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,684,2020-05-14T13:40:52Z,2020-05-14T13:53:29Z,2020-05-14T13:53:29Z,MERGED,True,1,2,1,https://github.com/postwait,Don't skip timers,1,[],https://github.com/circonus-labs/libmtev/pull/684,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/684,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,685,2020-05-14T13:43:20Z,2020-05-14T13:53:39Z,2020-05-14T13:53:39Z,MERGED,True,9,2,1,https://github.com/postwait,cover more cht test,1,[],https://github.com/circonus-labs/libmtev/pull/685,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/685,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,686,2020-05-14T13:53:13Z,2020-05-14T14:40:18Z,2020-05-14T14:43:27Z,MERGED,True,261,109,7,https://github.com/postwait,Various luamtev improvments.,1,[],https://github.com/circonus-labs/libmtev/pull/686,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/686,"Make luamtev print to stdout by default.
Add -h formally as a no-error help.
Make interactive mode work when not attached to a TTY.
Fix -e flag for running different methods.
Add tests.","Make luamtev print to stdout by default.
Add -h formally as a no-error help.
Make interactive mode work when not attached to a TTY.
Fix -e flag for running different methods.
Add tests.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,687,2020-05-14T17:59:36Z,2020-05-18T18:46:48Z,2020-05-18T18:46:48Z,MERGED,True,9,0,1,https://github.com/postwait,Allow layer TLSv1.3 to be forced,1,[],https://github.com/circonus-labs/libmtev/pull/687,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/687,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,688,2020-05-14T19:18:10Z,2020-05-14T19:31:57Z,2020-05-14T19:31:57Z,MERGED,True,17,0,1,https://github.com/postwait,accommodate misuse of env in mtev.exec/mtev.sh,2,[],https://github.com/circonus-labs/libmtev/pull/688,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/688,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,688,2020-05-14T19:18:10Z,2020-05-14T19:31:57Z,2020-05-14T19:31:57Z,MERGED,True,17,0,1,https://github.com/postwait,accommodate misuse of env in mtev.exec/mtev.sh,2,[],https://github.com/circonus-labs/libmtev/pull/688,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/688#issuecomment-628843780,,got an out-of-band review from @HeinrichHartmann .,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,689,2020-05-15T17:06:02Z,2020-05-15T17:28:12Z,2020-05-15T17:28:12Z,MERGED,True,786,8,93,https://github.com/postwait,Allow use from C++,1,[],https://github.com/circonus-labs/libmtev/pull/689,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/689,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,690,2020-05-17T06:18:30Z,2020-05-18T19:26:12Z,2020-05-18T19:38:44Z,MERGED,True,977,283,27,https://github.com/postwait,SSL improvements.,1,[],https://github.com/circonus-labs/libmtev/pull/690,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/690,"Redo the tests to have intermediate certs.
Improve ssl/crypto error messages.
Support for inline key, cert, and ca in config.
Separate ca_accept from ca_chain (for advertising)
Extend the test suite to set SSL chained certs
Disable compression in http/2 unless requested (to appease curl)
Update lua bindings to accept a table and adapt HttpClient","Redo the tests to have intermediate certs.
Improve ssl/crypto error messages.
Support for inline key, cert, and ca in config.
Separate ca_accept from ca_chain (for advertising)
Extend the test suite to set SSL chained certs
Disable compression in http/2 unless requested (to appease curl)
Update lua bindings to accept a table and adapt HttpClient",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,691,2020-05-19T17:00:42Z,2020-05-19T17:10:53Z,2020-05-19T17:10:53Z,MERGED,True,1,1,1,https://github.com/postwait,make the lookup hash use SMR,1,[],https://github.com/circonus-labs/libmtev/pull/691,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/691,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,692,2020-05-28T15:32:28Z,2020-05-28T15:38:51Z,2020-05-28T15:38:52Z,MERGED,True,17,0,3,https://github.com/postwait,Add some common ck helpers,1,[],https://github.com/circonus-labs/libmtev/pull/692,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/692,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,693,2020-05-28T22:01:19Z,2020-05-28T22:09:05Z,2020-05-28T22:27:17Z,MERGED,True,15,2,2,https://github.com/postwait,fix race in eventer startup resulting in unattended events,1,[],https://github.com/circonus-labs/libmtev/pull/693,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/693,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,694,2020-05-28T22:46:40Z,2020-05-29T12:17:31Z,2020-05-29T12:17:31Z,MERGED,True,8,3,1,https://github.com/pjulien,fix race,1,[],https://github.com/circonus-labs/libmtev/pull/694,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/694,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,695,2020-05-29T18:24:34Z,2020-06-01T13:45:21Z,2020-06-01T13:45:21Z,MERGED,True,23,0,2,https://github.com/HeinrichHartmann,Add function mtev_log_hexdump(),3,[],https://github.com/circonus-labs/libmtev/pull/695,https://github.com/HeinrichHartmann,1,https://github.com/circonus-labs/libmtev/pull/695,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,696,2020-06-01T13:42:33Z,2020-06-01T13:45:29Z,2020-06-01T13:45:29Z,MERGED,True,1,1,1,https://github.com/postwait,Make DH params requirement explicit.,1,[],https://github.com/circonus-labs/libmtev/pull/696,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/696,"If we do not have DH params setup, but dhparam_bits was not explicitly
set, then allow the context to be used.","If we do not have DH params setup, but dhparam_bits was not explicitly
set, then allow the context to be used.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,697,2020-06-02T18:11:44Z,2020-06-02T19:08:53Z,2020-06-02T19:09:45Z,MERGED,True,23,14,1,https://github.com/postwait,add lua awareness of tls13,1,[],https://github.com/circonus-labs/libmtev/pull/697,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/697,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,698,2020-06-02T19:10:00Z,2020-06-02T22:21:24Z,2020-06-02T22:21:24Z,MERGED,True,18,13,2,https://github.com/postwait,SSL verification was happening before the handshake was complete,2,[],https://github.com/circonus-labs/libmtev/pull/698,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/698,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,699,2020-06-06T11:31:26Z,2020-06-08T13:15:46Z,2020-06-08T13:15:56Z,MERGED,True,1,1,1,https://github.com/pjulien,CIRC-5215,1,[],https://github.com/circonus-labs/libmtev/pull/699,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/699,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,700,2020-06-08T13:31:03Z,2020-06-08T13:39:49Z,2020-06-08T13:39:55Z,MERGED,True,7,2,1,https://github.com/postwait,Delay assertion until after free in bad SMR free.,2,[],https://github.com/circonus-labs/libmtev/pull/700,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/700,"This is to allow a bad free to happen in the hopes that
if ASAN or valgrind or some other memory analysis is underway
then it could expose the details of the infraction.","This is to allow a bad free to happen in the hopes that
if ASAN or valgrind or some other memory analysis is underway
then it could expose the details of the infraction.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,701,2020-06-09T12:52:19Z,2020-06-09T13:22:20Z,2020-06-09T13:22:21Z,MERGED,True,116,267,20,https://github.com/postwait,Cleaner JSON lib,3,[],https://github.com/circonus-labs/libmtev/pull/701,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/701,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,701,2020-06-09T12:52:19Z,2020-06-09T13:22:20Z,2020-06-09T13:22:21Z,MERGED,True,116,267,20,https://github.com/postwait,Cleaner JSON lib,3,[],https://github.com/circonus-labs/libmtev/pull/701,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/701#issuecomment-641271474,,This change fixes bad pointer returns in the mtev_json_util code and reorganizes the tree such that we only install the four necessary public headers.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,702,2020-06-09T13:51:41Z,2020-06-09T16:50:16Z,2020-06-09T16:50:16Z,MERGED,True,7,5,2,https://github.com/postwait,1.12.0,1,[],https://github.com/circonus-labs/libmtev/pull/702,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/702,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,703,2020-06-09T15:57:58Z,2020-06-09T16:04:42Z,2020-06-09T16:04:42Z,MERGED,True,98,47,4,https://github.com/postwait,Clean JSON APIs more,1,[],https://github.com/circonus-labs/libmtev/pull/703,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/703,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,704,2020-06-09T21:27:45Z,2020-06-10T15:54:00Z,2020-06-10T16:47:50Z,MERGED,True,37,7,1,https://github.com/postwait,Allow pre-init use of mtev_log.,3,[],https://github.com/circonus-labs/libmtev/pull/704,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/704,Act as if we're in a signal handler if we've not yet initialized.,Act as if we're in a signal handler if we've not yet initialized.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,704,2020-06-09T21:27:45Z,2020-06-10T15:54:00Z,2020-06-10T16:47:50Z,MERGED,True,37,7,1,https://github.com/postwait,Allow pre-init use of mtev_log.,3,[],https://github.com/circonus-labs/libmtev/pull/704,https://github.com/pjulien,2,https://github.com/circonus-labs/libmtev/pull/704#issuecomment-642024682,Act as if we're in a signal handler if we've not yet initialized.,@postwait Are signal sets used to limit the signal handlers to the same thread?,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,704,2020-06-09T21:27:45Z,2020-06-10T15:54:00Z,2020-06-10T16:47:50Z,MERGED,True,37,7,1,https://github.com/postwait,Allow pre-init use of mtev_log.,3,[],https://github.com/circonus-labs/libmtev/pull/704,https://github.com/pjulien,3,https://github.com/circonus-labs/libmtev/pull/704#issuecomment-642044706,Act as if we're in a signal handler if we've not yet initialized.,"@postwait
Although the new code is correct, the problem is this:
static int _mtev_log_siglvl = 0;
void mtev_log_enter_sighandler(void) { _mtev_log_siglvl++; }
void mtev_log_leave_sighandler(void) { _mtev_log_siglvl--; }
I can find no evidence that pthread_sigmask is in use.  As such, it seems like this is not safe.
I am unsure how to do this using libck but using C11, we would need to do the following:
void mtev_log_enter_sighandler(void) {
  atomic_fetch_add_explicit(&_mtev_log_siglvl, 1, memory_order_relaxed);
  atomic_thread_fence(memory_order_release);
}

void mtev_log_leave_sighandler(void) {
  atomic_fetch_sub_explicit(&_mtev_log_siglvl, 1, memory_order_relaxed);
  atomic_thread_fence(memory_order_release);
}
Then when we read it:
   int lvl = atomic_load_explicit(&_mtev_log_siglvl, memory_order_relaxed);
   atomic_thread_fence(memory_order_consume);",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,704,2020-06-09T21:27:45Z,2020-06-10T15:54:00Z,2020-06-10T16:47:50Z,MERGED,True,37,7,1,https://github.com/postwait,Allow pre-init use of mtev_log.,3,[],https://github.com/circonus-labs/libmtev/pull/704,https://github.com/pjulien,4,https://github.com/circonus-labs/libmtev/pull/704#issuecomment-642052329,Act as if we're in a signal handler if we've not yet initialized.,"Alternatively we could do
void mtev_log_enter_sighandler(void) {
  atomic_fetch_add_explicit(&_mtev_log_siglvl, 1, memory_order_relaxed);
}

void mtev_log_leave_sighandler(void) {
  atomic_fetch_add_explicit(&_mtev_log_siglvl, 1, memory_order_relaxed);
}
and then when we read
   int lvl = atomic_load_explicit(&_mtev_log_siglvl, memory_order_seq_cst);
which I think is more easy to translate to libck like this
void mtev_log_enter_sighandler(void) { 
  _mtev_log_siglvl++; 
  ck_pr_fence_store();
}

void mtev_log_leave_sighandler(void) { 
  _mtev_log_siglvl--; 
  ck_pr_fence_store();
}
and then when we read
   int lvl = ck_pr_load_int(&_mtev_log_siglvl);
It's more expensive for nothing but it works within libck",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,705,2020-06-09T21:27:58Z,2020-06-10T16:23:20Z,2020-06-10T16:23:20Z,MERGED,True,26,10,5,https://github.com/postwait,Allow apps to use -fsanitize=address.,2,[],https://github.com/circonus-labs/libmtev/pull/705,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/705,"Before this change, in order for apps to use ASAN and ACO, libmtev
must have also be compiled with ASAN support such that the memcpy
that performs stack swapping would not cause an error.  This introduces
runtime detection via aco_detect_asan() and chooses the correct
implementation.","Before this change, in order for apps to use ASAN and ACO, libmtev
must have also be compiled with ASAN support such that the memcpy
that performs stack swapping would not cause an error.  This introduces
runtime detection via aco_detect_asan() and chooses the correct
implementation.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,706,2020-06-10T15:54:49Z,2020-06-10T16:15:42Z,2020-06-10T16:15:43Z,MERGED,True,7,5,1,https://github.com/postwait,only use `unw_dyn_info_t` if `get_proc_name` does not work,1,[],https://github.com/circonus-labs/libmtev/pull/706,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/706,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,707,2020-06-11T16:59:32Z,2020-06-11T17:04:47Z,2020-06-11T17:04:50Z,MERGED,True,14,6,2,https://github.com/postwait,add mtev_log_hexdump_ex for wide hexdumps,1,[],https://github.com/circonus-labs/libmtev/pull/707,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/707,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,708,2020-06-11T18:58:24Z,2020-06-12T17:43:59Z,2020-06-12T17:43:59Z,CLOSED,False,2453,227,6,https://github.com/postwait,write docs for logging,1,[],https://github.com/circonus-labs/libmtev/pull/708,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/708,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,708,2020-06-11T18:58:24Z,2020-06-12T17:43:59Z,2020-06-12T17:43:59Z,CLOSED,False,2453,227,6,https://github.com/postwait,write docs for logging,1,[],https://github.com/circonus-labs/libmtev/pull/708,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/708#issuecomment-643403524,,Closing for different branch.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,709,2020-06-12T17:45:18Z,2020-06-12T21:17:02Z,2020-06-12T21:17:02Z,MERGED,True,2465,228,7,https://github.com/postwait,write docs for logging,2,[],https://github.com/circonus-labs/libmtev/pull/709,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/709,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,710,2020-06-17T14:07:14Z,2020-06-17T15:05:41Z,2020-06-17T15:05:41Z,MERGED,True,150,159,69,https://github.com/postwait,Use include <> for installed headers,1,[],https://github.com/circonus-labs/libmtev/pull/710,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/710,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,711,2020-06-18T13:28:05Z,2020-06-18T14:06:29Z,2020-06-18T14:06:29Z,MERGED,True,1112,986,9,https://github.com/postwait,Move strlcpy and strlcat to utils.,3,[],https://github.com/circonus-labs/libmtev/pull/711,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/711,"Remove strlcpy and strlcat from noitedit/ to utils/
Make them mtev_ prefixed
If strlcat/strlcpy are not present on platform expose them weak","Remove strlcpy and strlcat from noitedit/ to utils/
Make them mtev_ prefixed
If strlcat/strlcpy are not present on platform expose them weak",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,712,2020-06-18T13:28:14Z,2020-06-18T18:18:47Z,2020-06-18T18:18:47Z,MERGED,True,24,1,3,https://github.com/postwait,Add `mtev_frrh_set_prob_function`,2,[],https://github.com/circonus-labs/libmtev/pull/712,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/712,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,713,2020-06-18T15:11:35Z,2020-06-18T15:30:51Z,2020-06-18T15:30:51Z,MERGED,True,16,4,2,https://github.com/postwait,Make __restrict work safely for C/C++ and use it.,2,[],https://github.com/circonus-labs/libmtev/pull/713,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/713,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,714,2020-06-19T18:04:50Z,2021-04-22T17:38:02Z,2021-04-22T17:38:02Z,CLOSED,False,59,59,5,https://github.com/postwait,Change MLKV{ } to MLKV( ),1,['major-release'],https://github.com/circonus-labs/libmtev/pull/714,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/714,"This worked before mostly by accident because of the way CPP tokens
were pasted together.  Any subsequent array members were actually seen
as the varargs.  MLKV must take arguments to treat it as one parameter.
This changes the ABI and will break old compiles.  We now pass an array
of mtev_log_kv_t's to the logging functions instead of an array of
mtev_log_kv_t pointers.  Notably, this works within c++ now.","This worked before mostly by accident because of the way CPP tokens
were pasted together.  Any subsequent array members were actually seen
as the varargs.  MLKV must take arguments to treat it as one parameter.
This changes the ABI and will break old compiles.  We now pass an array
of mtev_log_kv_t's to the logging functions instead of an array of
mtev_log_kv_t pointers.  Notably, this works within c++ now.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,715,2020-06-23T14:28:20Z,2020-06-23T16:18:35Z,2020-06-23T16:18:35Z,MERGED,True,37,37,2,https://github.com/postwait,Various functional fixes for mtev_logic.,2,[],https://github.com/circonus-labs/libmtev/pull/715,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/715,"Set the string lenght on node creation.
Avoid allocation on tostring
Make strllcmp not return zero if lengths vary.","Set the string lenght on node creation.
Avoid allocation on tostring
Make strllcmp not return zero if lengths vary.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,716,2020-06-23T16:18:54Z,2020-06-23T16:54:19Z,2020-06-23T16:54:20Z,MERGED,True,112,81,21,https://github.com/postwait,Address coverity complaints,1,[],https://github.com/circonus-labs/libmtev/pull/716,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/716,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,717,2020-06-30T16:15:50Z,2020-06-30T16:20:32Z,2020-06-30T16:20:38Z,MERGED,True,13,0,2,https://github.com/pjulien,"CIRC-5348 Add ck_malloc that uses ""regular"" memory",1,[],https://github.com/circonus-labs/libmtev/pull/717,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/717,ck_malloc that doesn't use mtev_memory is defined dozens of times already over the source.,ck_malloc that doesn't use mtev_memory is defined dozens of times already over the source.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,718,2020-07-02T17:07:50Z,2020-07-02T17:43:24Z,2020-07-02T17:43:24Z,MERGED,True,152,15,4,https://github.com/postwait,Flexible mtev_conf interpolation hooks + hwloc,3,[],https://github.com/circonus-labs/libmtev/pull/718,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/718,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,719,2020-07-02T18:40:09Z,2020-07-02T19:23:06Z,2020-07-02T19:23:06Z,MERGED,True,14,12,8,https://github.com/postwait,Change MTEV_RDTSC_DISABLE to MTEV_RDTSC_ENABLE,1,[],https://github.com/circonus-labs/libmtev/pull/719,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/719,"For a while the default is to compile with out ""faster time"" support
anyway.  So, this will make the default behavior for compiled-in and
compiled-out the same.  Now it has to be compiled in and explicitly
enabled in the environment.","For a while the default is to compile with out ""faster time"" support
anyway.  So, this will make the default behavior for compiled-in and
compiled-out the same.  Now it has to be compiled in and explicitly
enabled in the environment.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,720,2020-07-03T15:54:36Z,2020-07-07T21:23:56Z,2020-07-07T21:24:01Z,MERGED,True,10,5,2,https://github.com/pjulien,fix race,1,[],https://github.com/circonus-labs/libmtev/pull/720,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/720,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,721,2020-07-06T22:14:13Z,2020-07-08T22:23:39Z,2020-07-21T21:25:42Z,MERGED,True,29,19,1,https://github.com/vasuraman11,Improve jemalloc heap profile docs,3,[],https://github.com/circonus-labs/libmtev/pull/721,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/721,The docs were missing how you check to make sure you are configured properly with just /mtev/heap_profile and how to do a differential heap report.,The docs were missing how you check to make sure you are configured properly with just /mtev/heap_profile and how to do a differential heap report.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,721,2020-07-06T22:14:13Z,2020-07-08T22:23:39Z,2020-07-21T21:25:42Z,MERGED,True,29,19,1,https://github.com/vasuraman11,Improve jemalloc heap profile docs,3,[],https://github.com/circonus-labs/libmtev/pull/721,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/721#issuecomment-655508692,The docs were missing how you check to make sure you are configured properly with just /mtev/heap_profile and how to do a differential heap report.,@vasuraman11 did you actually push the changes?  I still see only the one commit.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,722,2020-07-21T20:59:49Z,2020-07-24T19:16:32Z,2020-07-24T19:16:32Z,MERGED,True,17,9,3,https://github.com/postwait,Cleaner versioning info in source.,2,[],https://github.com/circonus-labs/libmtev/pull/722,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/722,Expose global variables with version and git hash to aide debugging,Expose global variables with version and git hash to aide debugging,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,723,2020-07-24T19:16:08Z,2020-07-24T19:25:16Z,2020-07-24T19:25:16Z,MERGED,True,2,2,1,https://github.com/postwait,Fix incorrect usage of pthread_mutex_trylock in mtev_plock_try_rtos.,1,[],https://github.com/circonus-labs/libmtev/pull/723,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/723,This would result in multiple threads in the S critical section.,This would result in multiple threads in the S critical section.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,724,2020-07-24T19:17:44Z,2020-07-24T19:25:06Z,2020-07-24T19:25:06Z,MERGED,True,41,10,3,https://github.com/postwait,-DMTEV_MEMORY_DEBUG will turn on debugging support,1,[],https://github.com/circonus-labs/libmtev/pull/724,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/724,"Captures stack trace at alloc and free and then reports them if the
free looks invalid.","Captures stack trace at alloc and free and then reports them if the
free looks invalid.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,725,2020-07-24T19:32:43Z,2020-07-24T19:35:55Z,2020-07-24T19:35:55Z,MERGED,True,15,1,2,https://github.com/postwait,Changelog for 1.12.5 release.,1,[],https://github.com/circonus-labs/libmtev/pull/725,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/725,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,726,2020-07-24T19:59:56Z,2020-07-24T20:58:47Z,2020-07-24T20:58:47Z,MERGED,True,2,6,1,https://github.com/postwait,this throws errors in clang8,3,[],https://github.com/circonus-labs/libmtev/pull/726,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/726,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,727,2020-07-24T20:09:11Z,2020-07-24T20:46:57Z,2020-07-24T20:46:57Z,CLOSED,False,1,1,1,https://github.com/pjulien,Clang compat change,1,[],https://github.com/circonus-labs/libmtev/pull/727,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/727,clang is of course right,clang is of course right,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,728,2020-07-27T21:34:39Z,2020-07-30T18:13:05Z,2020-07-30T18:13:05Z,MERGED,True,3,2,2,https://github.com/postwait,"Skip lua stack trace on failed resumption, just error.",1,[],https://github.com/circonus-labs/libmtev/pull/728,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/728,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,729,2020-07-30T17:44:54Z,2020-07-30T18:25:07Z,2020-07-30T18:25:07Z,MERGED,True,79,8,3,https://github.com/postwait,Better ACO support for Zipkin.,1,[],https://github.com/circonus-labs/libmtev/pull/729,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/729,"Allow for creation of simple children
Allow ACO context span swapping
old = swap(new); do something; swap(old);
Integrate ACO awareness into all calls.
Improve error message on jaeger span submission failure.","Allow for creation of simple children
Allow ACO context span swapping
old = swap(new); do something; swap(old);
Integrate ACO awareness into all calls.
Improve error message on jaeger span submission failure.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,730,2020-07-30T18:30:38Z,2020-07-30T18:53:11Z,2020-07-30T18:53:11Z,MERGED,True,110,24,9,https://github.com/postwait,prep 1.12.6,1,[],https://github.com/circonus-labs/libmtev/pull/730,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/730,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,731,2020-08-03T14:53:22Z,2020-08-03T15:38:26Z,2020-08-03T15:38:26Z,MERGED,True,6,12,1,https://github.com/postwait,Revert part of the ACO zipkin support.,1,[],https://github.com/circonus-labs/libmtev/pull/731,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/731,"To much magic context inheritance unintentionally overrides event
spans and ACO spans when unexpected.  It should be made explicit and we
should add APIs to for that as necessary.","To much magic context inheritance unintentionally overrides event
spans and ACO spans when unexpected.  It should be made explicit and we
should add APIs to for that as necessary.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,732,2020-08-13T20:19:35Z,2020-08-13T21:59:05Z,2020-08-13T21:59:09Z,MERGED,True,80,0,4,https://github.com/pamaddox,CIRC-5562 - Add Function To Drain Jobqs,2,['enhancement'],https://github.com/circonus-labs/libmtev/pull/732,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/732,"Add a new function, ""eventer_jobq_drain_and_shutdown"", that will wait
for all inflight/backlog jobs to finish, then close all of the jobq
consumer threads. This makes it safe to destroy the jobq.","Add a new function, ""eventer_jobq_drain_and_shutdown"", that will wait
for all inflight/backlog jobs to finish, then close all of the jobq
consumer threads. This makes it safe to destroy the jobq.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,732,2020-08-13T20:19:35Z,2020-08-13T21:59:05Z,2020-08-13T21:59:09Z,MERGED,True,80,0,4,https://github.com/pamaddox,CIRC-5562 - Add Function To Drain Jobqs,2,['enhancement'],https://github.com/circonus-labs/libmtev/pull/732,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/732#issuecomment-673708501,"Add a new function, ""eventer_jobq_drain_and_shutdown"", that will wait
for all inflight/backlog jobs to finish, then close all of the jobq
consumer threads. This makes it safe to destroy the jobq.","The state, because it is being read and written from different threads needs to use ck_pr load and store.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,733,2020-08-28T01:42:42Z,2020-08-28T15:43:34Z,2020-08-28T15:43:34Z,MERGED,True,4,2,3,https://github.com/postwait,Fix 1-byte read overrun in slow path for base64/32 decoding,1,[],https://github.com/circonus-labs/libmtev/pull/733,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/733,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,734,2020-09-04T00:54:01Z,2020-09-04T13:03:14Z,2020-09-04T13:03:14Z,MERGED,True,9,0,3,https://github.com/postwait,Support OPTIONS in HTTP/1 REST layer.,1,[],https://github.com/circonus-labs/libmtev/pull/734,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/734,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,735,2020-09-18T16:54:23Z,2020-09-18T16:58:17Z,2020-09-18T16:58:17Z,MERGED,True,3,1,2,https://github.com/postwait,Allow eventer config to be deep descendents,1,[],https://github.com/circonus-labs/libmtev/pull/735,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/735,"This will allow


 ...","This will allow


 ...",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,736,2020-10-16T12:54:53Z,2020-10-16T13:09:42Z,2020-10-16T13:09:42Z,MERGED,True,8,5,2,https://github.com/postwait,Allocate sufficient space for large headers.,1,[],https://github.com/circonus-labs/libmtev/pull/736,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/736,"If the header was too large, we were not allocated suffucient space
and asserting.  Now, if there's not enough space for a header, allocate
enough space for the header.","If the header was too large, we were not allocated suffucient space
and asserting.  Now, if there's not enough space for a header, allocate
enough space for the header.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,737,2020-10-23T19:01:01Z,2020-10-23T19:09:59Z,2020-10-23T19:09:59Z,MERGED,True,10,1,1,https://github.com/postwait,AMQP backoff and assertion removal,2,[],https://github.com/circonus-labs/libmtev/pull/737,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/737,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,738,2020-11-19T17:37:05Z,2020-11-19T18:13:41Z,2020-11-19T18:35:27Z,MERGED,True,4,1,2,https://github.com/postwait,Quiet SSL layer not understood messages.,1,[],https://github.com/circonus-labs/libmtev/pull/738,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/738,"If !sslv2 is specified and SSLv2 isn't available, then not being able
to turn it off isn't an error-worthy message.  If a ""not understood""
SSL layer is encountered, use debug logging if negation is requested.","If !sslv2 is specified and SSLv2 isn't available, then not being able
to turn it off isn't an error-worthy message.  If a ""not understood""
SSL layer is encountered, use debug logging if negation is requested.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,739,2020-11-24T06:29:41Z,2020-11-24T19:25:20Z,2020-11-24T19:25:44Z,MERGED,True,14,1,3,https://github.com/vasuraman11,CIRC-5039 - Fixed missing top of crash stacktrace when using libunwind,3,[],https://github.com/circonus-labs/libmtev/pull/739,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/739,"https://circonus.atlassian.net/browse/CIRC-5039
When we have a crash we get a context where the crash happened, and when that is given to libunwind it is already in the function context where the crash occurred, even before ignoring the top 3 frames or calling unw_step().
So there were two fixes here, one is to detect whether we are using libunwind vs. calling backtrace directly and whether we already have an incoming context (and so avoid ignoring valid stackframes), and the other is to avoid calling unw_step prematurely.","https://circonus.atlassian.net/browse/CIRC-5039
When we have a crash we get a context where the crash happened, and when that is given to libunwind it is already in the function context where the crash occurred, even before ignoring the top 3 frames or calling unw_step().
So there were two fixes here, one is to detect whether we are using libunwind vs. calling backtrace directly and whether we already have an incoming context (and so avoid ignoring valid stackframes), and the other is to avoid calling unw_step prematurely.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,740,2020-11-25T05:38:08Z,,2022-03-28T14:55:17Z,OPEN,False,34,6,5,https://github.com/vasuraman11,DRAFT: CIRC-4436 - Allow stacktrace across an eventer asynch,1,[],https://github.com/circonus-labs/libmtev/pull/740,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/740,This branch allows libmtev to stacktrace beyond mtev_run_callback and show what the stacktrace was when eventer_add was called.  That allows us to get a greater context if a crash occurs.,This branch allows libmtev to stacktrace beyond mtev_run_callback and show what the stacktrace was when eventer_add was called.  That allows us to get a greater context if a crash occurs.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,740,2020-11-25T05:38:08Z,,2022-03-28T14:55:17Z,OPEN,False,34,6,5,https://github.com/vasuraman11,DRAFT: CIRC-4436 - Allow stacktrace across an eventer asynch,1,[],https://github.com/circonus-labs/libmtev/pull/740,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/740#issuecomment-1080758362,This branch allows libmtev to stacktrace beyond mtev_run_callback and show what the stacktrace was when eventer_add was called.  That allows us to get a greater context if a crash occurs.,I also thing that zipking provides a lot of this already.  I think we should close this for a different approach.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,741,2020-12-04T18:24:52Z,2020-12-04T18:44:17Z,2020-12-04T18:44:17Z,MERGED,True,19,18,2,https://github.com/postwait,Respect `segment_size` and `precommit` jlog config,1,[],https://github.com/circonus-labs/libmtev/pull/741,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/741,"The metadata alteration was done prior to the opening of the writer
which made it not work.  Delay the alteration until after the writer is
open.
CIRC-6004","The metadata alteration was done prior to the opening of the writer
which made it not work.  Delay the alteration until after the writer is
open.
CIRC-6004",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,741,2020-12-04T18:24:52Z,2020-12-04T18:44:17Z,2020-12-04T18:44:17Z,MERGED,True,19,18,2,https://github.com/postwait,Respect `segment_size` and `precommit` jlog config,1,[],https://github.com/circonus-labs/libmtev/pull/741,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/741#issuecomment-738946889,"The metadata alteration was done prior to the opening of the writer
which made it not work.  Delay the alteration until after the writer is
open.
CIRC-6004","Curious if you think this will cause unexpected behavior; could an old modification suddenly ""take effect"" after this change, where it had been effectively dormant prior?",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,741,2020-12-04T18:24:52Z,2020-12-04T18:44:17Z,2020-12-04T18:44:17Z,MERGED,True,19,18,2,https://github.com/postwait,Respect `segment_size` and `precommit` jlog config,1,[],https://github.com/circonus-labs/libmtev/pull/741,https://github.com/postwait,3,https://github.com/circonus-labs/libmtev/pull/741#issuecomment-738950799,"The metadata alteration was done prior to the opening of the writer
which made it not work.  Delay the alteration until after the writer is
open.
CIRC-6004","We had intended long ago to change the segment size to 64MB in our of our apps, but found out that change was specified but never realized due to this.  So, yes, but that's the goal.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,742,2021-01-13T19:01:05Z,2021-01-13T19:04:07Z,2021-01-13T19:04:08Z,MERGED,True,5,2,2,https://github.com/postwait,Fix CHT stack smash for outsized W and increase max W to 256.,1,[],https://github.com/circonus-labs/libmtev/pull/742,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/742,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,743,2021-01-13T21:03:19Z,2021-01-13T21:04:09Z,2021-01-13T21:04:09Z,MERGED,True,4,2,1,https://github.com/pamaddox,Fix Potential Off By One Error In Clustering,1,[],https://github.com/circonus-labs/libmtev/pull/743,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/743,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,744,2021-01-26T20:42:30Z,2021-01-26T21:00:32Z,2021-01-26T21:00:32Z,MERGED,True,47,11,4,https://github.com/postwait,Ci lua hook timing,2,[],https://github.com/circonus-labs/libmtev/pull/744,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/744,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,744,2021-01-26T20:42:30Z,2021-01-26T21:00:32Z,2021-01-26T21:00:32Z,MERGED,True,47,11,4,https://github.com/postwait,Ci lua hook timing,2,[],https://github.com/circonus-labs/libmtev/pull/744,https://github.com/pjulien,2,https://github.com/circonus-labs/libmtev/pull/744#issuecomment-767824077,,"LGTM
assuming Lua frees this automatically",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,745,2021-01-26T20:47:53Z,2021-01-26T21:27:00Z,2021-01-26T21:27:00Z,MERGED,True,5,0,2,https://github.com/postwait,Decode + to space in URL decoding for querystring,1,[],https://github.com/circonus-labs/libmtev/pull/745,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/745,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,746,2021-01-26T21:49:56Z,2021-01-26T21:56:26Z,2021-01-26T21:56:28Z,MERGED,True,3,1,2,https://github.com/pamaddox,1.12.17 Release,1,[],https://github.com/circonus-labs/libmtev/pull/746,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/746,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,747,2021-02-01T17:40:44Z,2021-02-01T18:47:04Z,2021-02-01T18:47:04Z,MERGED,True,102,1,2,https://github.com/postwait,Add console accessible stats to `mtev_fq`,2,[],https://github.com/circonus-labs/libmtev/pull/747,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/747,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,748,2021-02-08T18:32:49Z,2021-02-08T18:36:49Z,2021-02-08T18:37:22Z,MERGED,True,2,0,1,https://github.com/esproul,Crash fix in lua_mtev cluster configuration,1,[],https://github.com/circonus-labs/libmtev/pull/748,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/748,Work by @postwait (Theo Schlossnagle theo.schlossnagle@circonus.com),Work by @postwait (Theo Schlossnagle theo.schlossnagle@circonus.com),True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,749,2021-02-11T20:52:45Z,2021-02-11T20:57:00Z,2021-02-11T20:57:00Z,MERGED,True,7,0,2,https://github.com/postwait,NPE in eventer SSL,1,[],https://github.com/circonus-labs/libmtev/pull/749,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/749,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,750,2021-03-16T18:21:42Z,2021-03-16T18:25:20Z,2021-03-16T18:25:22Z,MERGED,True,21,19,3,https://github.com/pjulien,CIRC-6350 - Assertion Failure,2,[],https://github.com/circonus-labs/libmtev/pull/750,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/750,"If the peek returns null, this could still pop a non-null
element right after... which would then promptly assert.

https://circonus.atlassian.net/browse/CIRC-6350
https://circonus.sp.backtrace.io/p/fault/debug?time=all&filters=(_deleted%3D0%2C(site_domain%2Ccontains%2Cjoyent))&fingerprint=c017921c00ce78fcd752a177eae1e9049b913fa5822c3aea355f30b0e72b24ad&debug=(a90,0,10,67)","If the peek returns null, this could still pop a non-null
element right after... which would then promptly assert.

https://circonus.atlassian.net/browse/CIRC-6350
https://circonus.sp.backtrace.io/p/fault/debug?time=all&filters=(_deleted%3D0%2C(site_domain%2Ccontains%2Cjoyent))&fingerprint=c017921c00ce78fcd752a177eae1e9049b913fa5822c3aea355f30b0e72b24ad&debug=(a90,0,10,67)",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,751,2021-03-16T19:19:51Z,2021-03-16T19:22:16Z,2021-03-16T19:22:19Z,MERGED,True,3,0,1,https://github.com/pjulien,CIRC-6351 - Possible Infinite Loop,1,[],https://github.com/circonus-labs/libmtev/pull/751,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/751,"Fix possible infinite loop
https://circonus.atlassian.net/browse/CIRC-6351","Fix possible infinite loop
https://circonus.atlassian.net/browse/CIRC-6351",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,752,2021-04-05T14:05:48Z,2021-04-07T14:40:21Z,2021-04-07T18:36:50Z,MERGED,True,79,22,1,https://github.com/esproul,Allow configuration to continue without optional modules,2,[],https://github.com/circonus-labs/libmtev/pull/752,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/752,"This does not change the disposition of the --disable-{amqp,fq,zipkin-fq} options, but instead makes their absence non-fatal. They are documented as optional modules, after all.  If the supporting library is present, the module will be built by default, just as it is today (i.e., no need to explicitly enable it).
Add a configuration summary message to make it clear whether any/all optional modules will be built.","This does not change the disposition of the --disable-{amqp,fq,zipkin-fq} options, but instead makes their absence non-fatal. They are documented as optional modules, after all.  If the supporting library is present, the module will be built by default, just as it is today (i.e., no need to explicitly enable it).
Add a configuration summary message to make it clear whether any/all optional modules will be built.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,753,2021-04-06T21:52:58Z,2021-04-07T13:11:16Z,2021-04-07T13:11:19Z,MERGED,True,82,7,4,https://github.com/pjulien,CIRC-6436 - add yajl string encode,3,[],https://github.com/circonus-labs/libmtev/pull/753,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/753,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,754,2021-04-07T15:13:52Z,2021-04-07T15:53:08Z,2021-04-07T18:27:57Z,MERGED,True,104,83,1,https://github.com/esproul,Refresh build instructions,4,[],https://github.com/circonus-labs/libmtev/pull/754,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/754,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,755,2021-04-08T00:12:57Z,2021-04-08T17:34:39Z,2021-04-08T17:35:06Z,MERGED,True,7,5,1,https://github.com/vasuraman11,log glider execution and return code,1,[],https://github.com/circonus-labs/libmtev/pull/755,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/755,"we have missing backtraces sometimes and it would be good to not have libmtev blamed for it, this will simply log the glider commandline that was invoked and also show the exit code after the glider returns, so it confirms that we did in fact execute the glider.","we have missing backtraces sometimes and it would be good to not have libmtev blamed for it, this will simply log the glider commandline that was invoked and also show the exit code after the glider returns, so it confirms that we did in fact execute the glider.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,756,2021-04-22T13:41:35Z,2021-04-22T15:42:54Z,2021-04-22T15:42:57Z,MERGED,True,118,59,6,https://github.com/pjulien,CIRC-6485 - C++ Compatible Ext Logging,1,[],https://github.com/circonus-labs/libmtev/pull/756,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/756,"Introduce new compile time only template for logging array construction.
Use C++ compatible aggregate construction
This worked before mostly by accident because of the way CPP tokens
were pasted together.  Any subsequent array members were actually seen
as the varargs.  MLKV must take arguments to treat it as one parameter.
This changes the ABI and will break old compiles.  We now pass an array
of mtev_log_kv_t's to the logging functions instead of an array of
mtev_log_kv_t pointers.  Notably, this works within c++ now.","Introduce new compile time only template for logging array construction.
Use C++ compatible aggregate construction
This worked before mostly by accident because of the way CPP tokens
were pasted together.  Any subsequent array members were actually seen
as the varargs.  MLKV must take arguments to treat it as one parameter.
This changes the ABI and will break old compiles.  We now pass an array
of mtev_log_kv_t's to the logging functions instead of an array of
mtev_log_kv_t pointers.  Notably, this works within c++ now.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,757,2021-05-13T15:43:14Z,2021-05-13T16:34:06Z,2021-05-17T18:51:57Z,MERGED,True,24,14,1,https://github.com/pjulien,CIRC-6566 - Fix race condition in mtev_memory_gc,1,[],https://github.com/circonus-labs/libmtev/pull/757,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/757,"This race condition makes it possible to access a pointer after it has been freed by another thread.  The problem is in mtev_memory_gc, the pointer ar is re-queued back to its original thread via:
ck_fifo_spsc_enqueue(gc_return->queue, fifo_entry, ar);
but after this call, the current thread continues to use ar.  It is now a race between this thread finishing its use of the pointer and the other thread freeing it.
Sometimes the programs keeps on running with possible corruption, sometimes it crashes.  ASAN catches the issue, sometimes , but doesn't offer much help on the root cause unfortunately.
This crash affects fault, snowth, stratcon and the brokers.  There are literally hundreds of crashes spanning all these products in the last year because of this issue.  The jira report has sample reports","This race condition makes it possible to access a pointer after it has been freed by another thread.  The problem is in mtev_memory_gc, the pointer ar is re-queued back to its original thread via:
ck_fifo_spsc_enqueue(gc_return->queue, fifo_entry, ar);
but after this call, the current thread continues to use ar.  It is now a race between this thread finishing its use of the pointer and the other thread freeing it.
Sometimes the programs keeps on running with possible corruption, sometimes it crashes.  ASAN catches the issue, sometimes , but doesn't offer much help on the root cause unfortunately.
This crash affects fault, snowth, stratcon and the brokers.  There are literally hundreds of crashes spanning all these products in the last year because of this issue.  The jira report has sample reports",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,758,2021-05-13T20:07:11Z,2021-05-13T20:08:26Z,2021-05-13T20:08:29Z,MERGED,True,6,1,2,https://github.com/pamaddox,Version 2.0.1,1,[],https://github.com/circonus-labs/libmtev/pull/758,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/758,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,759,2021-06-01T19:43:40Z,2021-06-01T20:00:19Z,2021-06-01T20:00:21Z,MERGED,True,6,2,3,https://github.com/pjulien,CIRC-6620 - Fix Clang Warnings,2,[],https://github.com/circonus-labs/libmtev/pull/759,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/759,"Fix clang warnings
https://circonus.atlassian.net/browse/CIRC-6620","Fix clang warnings
https://circonus.atlassian.net/browse/CIRC-6620",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,760,2021-06-03T22:39:01Z,2021-06-04T14:21:42Z,2021-06-04T14:21:45Z,MERGED,True,67,13,5,https://github.com/pjulien,CIRC-6386 - Race Condition,4,[],https://github.com/circonus-labs/libmtev/pull/760,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/760,"Fix race condition
https://circonus.atlassian.net/browse/CIRC-6294","Fix race condition
https://circonus.atlassian.net/browse/CIRC-6294",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,761,2021-06-14T13:59:42Z,2021-06-14T14:17:10Z,2021-06-14T14:17:44Z,MERGED,True,2,1,2,https://github.com/postwait,Remove bad (and unnecessary) write in `mtev_str`,1,[],https://github.com/circonus-labs/libmtev/pull/761,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/761,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,762,2021-06-14T14:36:14Z,2021-06-14T14:42:57Z,2021-06-14T14:42:58Z,MERGED,True,4,1,1,https://github.com/postwait,Add thread name to the tuple returned in lua.,1,[],https://github.com/circonus-labs/libmtev/pull/762,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/762,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,763,2021-06-14T14:36:26Z,2021-06-14T14:42:35Z,2021-06-14T14:42:35Z,MERGED,True,1,1,1,https://github.com/postwait,Fix predicate in mtev_reverse.,1,[],https://github.com/circonus-labs/libmtev/pull/763,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/763,"if(fd >= 0) instead of if(fd).  The default mtev_main startup
process always either leaves stdin open or dups /dev/null to fd 0, so
this bug should never manifest under prescribed conditions, but this is
certainly a bug.","if(fd >= 0) instead of if(fd).  The default mtev_main startup
process always either leaves stdin open or dups /dev/null to fd 0, so
this bug should never manifest under prescribed conditions, but this is
certainly a bug.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,764,2021-06-22T20:28:21Z,2021-06-22T20:32:28Z,2021-06-22T20:32:28Z,MERGED,True,2,1,1,https://github.com/postwait,Address likely compiler bug where optimization trashes KVs.,1,[],https://github.com/circonus-labs/libmtev/pull/764,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/764,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,765,2021-06-29T15:17:28Z,2021-06-29T17:15:50Z,2021-06-29T17:16:12Z,MERGED,True,71,35,1,https://github.com/esproul,Update license list,1,[],https://github.com/circonus-labs/libmtev/pull/765,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/765,"Remove redundant full text for aklomp-base64, which appears in its
source directory.
Audit for all external sources imported into the tree, and list each
with its SPDX identifier and home page link.","Remove redundant full text for aklomp-base64, which appears in its
source directory.
Audit for all external sources imported into the tree, and list each
with its SPDX identifier and home page link.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,766,2021-07-01T19:54:07Z,2021-07-01T19:57:23Z,2021-07-01T19:57:37Z,MERGED,True,2,2,1,https://github.com/pjulien,CIRC-6732 - Log Socket Pairs,1,[],https://github.com/circonus-labs/libmtev/pull/766,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/766,"Make it easy from ""show reverse"" to know which type of
sockets we're dealing with
https://circonus.atlassian.net/browse/CIRC-6732","Make it easy from ""show reverse"" to know which type of
sockets we're dealing with
https://circonus.atlassian.net/browse/CIRC-6732",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,767,2021-07-09T23:25:08Z,2021-07-12T13:22:20Z,2021-07-12T13:22:25Z,MERGED,True,26,12,1,https://github.com/pjulien,CIRC-6761 - SSL_get_ex_new_index Race Condition,2,[],https://github.com/circonus-labs/libmtev/pull/767,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/767,"Guard SSL_get_ex_new_index since it does not check
for duplicates


Set the context back to null in the event itself
before freeing the context


https://circonus.sp.backtrace.io/p/broker/debug?time=all&fingerprint=dbd42c5690c7c8fbd0e6050470071d2ddf58c349cfd42c20a032d6e1a024aa63&debug=(%2251ddc%22,0,9,0)


https://circonus.atlassian.net/browse/CIRC-6761","Guard SSL_get_ex_new_index since it does not check
for duplicates


Set the context back to null in the event itself
before freeing the context


https://circonus.sp.backtrace.io/p/broker/debug?time=all&fingerprint=dbd42c5690c7c8fbd0e6050470071d2ddf58c349cfd42c20a032d6e1a024aa63&debug=(%2251ddc%22,0,9,0)


https://circonus.atlassian.net/browse/CIRC-6761",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,768,2021-07-13T18:20:31Z,2021-07-26T15:41:12Z,2021-07-26T15:43:04Z,MERGED,True,8,0,3,https://github.com/esproul,Add jobq backlog convenience function,2,[],https://github.com/circonus-labs/libmtev/pull/768,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/768,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,769,2021-08-02T19:56:15Z,2021-08-09T14:47:27Z,2021-08-09T15:36:14Z,MERGED,True,2133,274,3,https://github.com/esproul,Update jQuery to 3.6.0,3,[],https://github.com/circonus-labs/libmtev/pull/769,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/769,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,770,2021-08-17T19:34:40Z,2021-08-17T19:37:58Z,2021-08-17T19:38:02Z,MERGED,True,1,1,1,https://github.com/zmalone,"Include ""seconds"" after the time given",1,[],https://github.com/circonus-labs/libmtev/pull/770,https://github.com/zmalone,1,https://github.com/circonus-labs/libmtev/pull/770,"I think many users will be troubleshooting watchdog periods based on this error message, so writing out ""seconds"" is likely to save other people time.","I think many users will be troubleshooting watchdog periods based on this error message, so writing out ""seconds"" is likely to save other people time.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,771,2021-09-10T15:28:07Z,2021-09-10T16:37:38Z,2021-09-10T16:37:40Z,MERGED,True,34,2,2,https://github.com/pamaddox,CIRC-6997 - Fix Crash On Invalid JSON,3,[],https://github.com/circonus-labs/libmtev/pull/771,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/771,The JSON parser would crash when invalid JSON was passed into it that did not start with a valid JSON leading character. Added code to validate that we're starting with one off those before processing.,The JSON parser would crash when invalid JSON was passed into it that did not start with a valid JSON leading character. Added code to validate that we're starting with one off those before processing.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,772,2021-09-10T17:32:18Z,2021-09-10T18:20:28Z,2021-09-10T18:20:30Z,MERGED,True,1,0,1,https://github.com/pamaddox,Need To Include mtev_defines In JSON Header File,1,[],https://github.com/circonus-labs/libmtev/pull/772,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/772,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,773,2021-09-13T19:25:30Z,2021-09-13T19:26:44Z,2021-09-13T19:26:47Z,MERGED,True,5,1,2,https://github.com/pamaddox,CIRC-7009 - Version 2.1.1,1,[],https://github.com/circonus-labs/libmtev/pull/773,https://github.com/pamaddox,1,https://github.com/circonus-labs/libmtev/pull/773,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,774,2021-09-17T02:22:20Z,2021-09-17T18:57:06Z,2021-09-17T18:57:26Z,MERGED,True,4,4,2,https://github.com/vasuraman11,Small const updates (supporting snowth hardening),1,[],https://github.com/circonus-labs/libmtev/pull/774,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/774,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,775,2021-09-17T17:26:39Z,2021-09-17T19:03:35Z,2021-09-17T19:03:38Z,MERGED,True,2,1,1,https://github.com/pjulien,CIRC-7041 - UBSan mtev_hash,1,[],https://github.com/circonus-labs/libmtev/pull/775,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/775,"The size of an object is not its alignment.  Neither malloc, or in this
case, mtev_memory_safe_malloc_cleanup, can determine what the proper
alignment should be since all they get is a request that contains only a number
of bytes.
For example:
./seq/filters/workspace/noit.out:SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior noit_check.c:3054:5 in
./seq/filters/workspace/noit.out:noit_check.c:2416:32: runtime error: member access within misaligned address 0x7fcb840040a0 for type 'stats_t' (aka 'struct stats_t'), which requires 64 byte alignment

Usually, malloc only aligns at an 8 byte boundary or max_align_t,
neither of which are 64 bytes
Preserves backwards compatibility without hitting undefined behavior","The size of an object is not its alignment.  Neither malloc, or in this
case, mtev_memory_safe_malloc_cleanup, can determine what the proper
alignment should be since all they get is a request that contains only a number
of bytes.
For example:
./seq/filters/workspace/noit.out:SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior noit_check.c:3054:5 in
./seq/filters/workspace/noit.out:noit_check.c:2416:32: runtime error: member access within misaligned address 0x7fcb840040a0 for type 'stats_t' (aka 'struct stats_t'), which requires 64 byte alignment

Usually, malloc only aligns at an 8 byte boundary or max_align_t,
neither of which are 64 bytes
Preserves backwards compatibility without hitting undefined behavior",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,776,2021-09-27T21:00:03Z,2021-09-28T15:28:09Z,2021-09-28T15:28:09Z,MERGED,True,4,0,1,https://github.com/andre9875,allowed space(s) between number and unit string in duration parsing,5,[],https://github.com/circonus-labs/libmtev/pull/776,https://github.com/andre9875,1,https://github.com/circonus-labs/libmtev/pull/776,"Jira ticket - CIRC-7085
Currently, libmtev parsing function mtev_confstr_parse_duration can recognize only spaces between different time units like ""1day 20min 10sec"". New logic will allow end-users to use spaces freely everywhere like ""1 day 20 min 10 sec"".","Jira ticket - CIRC-7085
Currently, libmtev parsing function mtev_confstr_parse_duration can recognize only spaces between different time units like ""1day 20min 10sec"". New logic will allow end-users to use spaces freely everywhere like ""1 day 20 min 10 sec"".",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,776,2021-09-27T21:00:03Z,2021-09-28T15:28:09Z,2021-09-28T15:28:09Z,MERGED,True,4,0,1,https://github.com/andre9875,allowed space(s) between number and unit string in duration parsing,5,[],https://github.com/circonus-labs/libmtev/pull/776,https://github.com/pjulien,2,https://github.com/circonus-labs/libmtev/pull/776#issuecomment-928277727,"Jira ticket - CIRC-7085
Currently, libmtev parsing function mtev_confstr_parse_duration can recognize only spaces between different time units like ""1day 20min 10sec"". New logic will allow end-users to use spaces freely everywhere like ""1 day 20 min 10 sec"".",Why can't you just continue until you hit a non-space?,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,777,2021-10-04T15:32:16Z,2021-10-04T15:32:41Z,2021-10-04T15:33:45Z,CLOSED,False,1406,21,46,https://github.com/esproul,Release 2.1.2,5,[],https://github.com/circonus-labs/libmtev/pull/777,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/777,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,778,2021-10-04T15:35:09Z,2021-10-04T15:38:18Z,2021-10-04T15:38:52Z,MERGED,True,9,1,2,https://github.com/esproul,Version 2.1.2,1,[],https://github.com/circonus-labs/libmtev/pull/778,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/778,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,779,2021-10-06T21:16:11Z,2021-10-12T14:50:43Z,2021-10-12T14:53:08Z,MERGED,True,1398,19,44,https://github.com/esproul,CIRC-7075 Document time duration strings,6,[],https://github.com/circonus-labs/libmtev/pull/779,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/779,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,780,2021-10-20T06:09:32Z,2021-10-20T22:59:53Z,2021-10-20T22:59:53Z,MERGED,True,5,1,1,https://github.com/vasuraman11,Add env variable to configure where to send stdout/stdout,1,[],https://github.com/circonus-labs/libmtev/pull/780,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/780,"Currently libmtev always sends stdout and stderr to /dev/null unless the mtev client specifies foreground (with snowth this is -D switch).  However, there are rare cases where we want to be able to see what was directly output from the mtev client to stour or stderr.  This change allows configuring of the output path by simply setting the env variable MTEV_OUTPUT_REDIRECT to the desired path (usually would be a log file).  This can allow things like allocator messages, debug tools messages, or other error or output messages etc. to be saved to a log file.","Currently libmtev always sends stdout and stderr to /dev/null unless the mtev client specifies foreground (with snowth this is -D switch).  However, there are rare cases where we want to be able to see what was directly output from the mtev client to stour or stderr.  This change allows configuring of the output path by simply setting the env variable MTEV_OUTPUT_REDIRECT to the desired path (usually would be a log file).  This can allow things like allocator messages, debug tools messages, or other error or output messages etc. to be saved to a log file.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,781,2021-10-21T21:23:45Z,2021-10-21T21:25:37Z,2021-10-21T21:25:37Z,MERGED,True,2,1,2,https://github.com/postwait,Make ENV: and consul: fallback greedy.,1,[],https://github.com/circonus-labs/libmtev/pull/781,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/781,This will allow fallback values to have colons.,This will allow fallback values to have colons.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,782,2021-10-21T21:31:36Z,2021-10-21T21:33:21Z,2021-10-21T21:33:21Z,MERGED,True,7,1,2,https://github.com/postwait,Prep for 2.1.3,1,[],https://github.com/circonus-labs/libmtev/pull/782,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/782,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,783,2021-12-09T19:21:11Z,2021-12-13T19:53:03Z,2021-12-14T18:26:45Z,MERGED,True,57,24,3,https://github.com/postwait,Expand TLS version options,5,[],https://github.com/circonus-labs/libmtev/pull/783,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/783,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,783,2021-12-09T19:21:11Z,2021-12-13T19:53:03Z,2021-12-14T18:26:45Z,MERGED,True,57,24,3,https://github.com/postwait,Expand TLS version options,5,[],https://github.com/circonus-labs/libmtev/pull/783,https://github.com/bdunavant,2,https://github.com/circonus-labs/libmtev/pull/783#issuecomment-993860480,,This is for https://circonus.atlassian.net/browse/CIRC-6209,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,784,2021-12-15T14:45:43Z,2021-12-15T14:53:05Z,2021-12-15T14:53:05Z,MERGED,True,7,4,1,https://github.com/pjulien,CIRC-7398 - Incorrect Error Handling,1,[],https://github.com/circonus-labs/libmtev/pull/784,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/784,Using error code,Using error code,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,785,2021-12-28T17:28:00Z,2021-12-28T18:05:39Z,2021-12-28T18:05:39Z,CLOSED,False,26,35,5,https://github.com/mcieslinski,CIRC-6131 Remove Alloca,2,[],https://github.com/circonus-labs/libmtev/pull/785,https://github.com/mcieslinski,1,https://github.com/circonus-labs/libmtev/pull/785,grep says I got them all.,grep says I got them all.,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,786,2021-12-28T18:39:33Z,2021-12-30T18:52:03Z,2021-12-30T18:52:11Z,MERGED,True,26,35,5,https://github.com/mcieslinski,Ci circ 6131 remove alloca,2,[],https://github.com/circonus-labs/libmtev/pull/786,https://github.com/mcieslinski,1,https://github.com/circonus-labs/libmtev/pull/786,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,787,2021-12-30T19:53:25Z,2021-12-30T23:06:24Z,2021-12-30T23:06:30Z,MERGED,True,3,3,1,https://github.com/vasuraman11,Make _mtev_image use const char *,1,[],https://github.com/circonus-labs/libmtev/pull/787,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/787,"small refactor...
can go back and remove const_casts after a new libmtev is released with this code improvement of just using const char *","small refactor...
can go back and remove const_casts after a new libmtev is released with this code improvement of just using const char *",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,788,2022-01-13T14:56:05Z,2022-01-13T15:36:48Z,2022-01-13T15:36:49Z,MERGED,True,18,0,3,https://github.com/postwait,Add mtev_reverse_proxy_changed,1,[],https://github.com/circonus-labs/libmtev/pull/788,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/788,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,789,2022-01-14T01:54:31Z,2022-01-14T18:55:09Z,2022-01-14T18:55:09Z,MERGED,True,979,162,9,https://github.com/postwait,Extend consul support and add API and lua access,2,[],https://github.com/circonus-labs/libmtev/pull/789,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/789,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,790,2022-01-14T19:03:35Z,2022-01-14T19:37:57Z,2022-01-14T19:37:57Z,MERGED,True,4,1,2,https://github.com/postwait,Release 2.1.6,1,[],https://github.com/circonus-labs/libmtev/pull/790,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/790,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,791,2022-01-18T18:07:36Z,2022-01-18T19:25:10Z,2022-01-18T19:25:11Z,MERGED,True,333,214,3,https://github.com/postwait,support multiple checks per consul service,1,[],https://github.com/circonus-labs/libmtev/pull/791,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/791,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,792,2022-01-18T21:42:42Z,2022-01-19T17:17:58Z,2022-01-19T17:17:58Z,MERGED,True,456,256,10,https://github.com/postwait,mtev_curl eventer assistance w/ ACO support,4,[],https://github.com/circonus-labs/libmtev/pull/792,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/792,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,793,2022-01-31T21:42:54Z,2022-01-31T22:08:12Z,2022-01-31T22:08:12Z,MERGED,True,18,0,2,https://github.com/postwait,Expose the `http_observer_note` dyn function to lua,1,[],https://github.com/circonus-labs/libmtev/pull/793,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/793,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,794,2022-02-01T15:16:32Z,2022-02-01T15:39:02Z,2022-02-01T15:39:03Z,MERGED,True,2,2,2,https://github.com/postwait,Remove ex from all,2,[],https://github.com/circonus-labs/libmtev/pull/794,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/794,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,794,2022-02-01T15:16:32Z,2022-02-01T15:39:02Z,2022-02-01T15:39:03Z,MERGED,True,2,2,2,https://github.com/postwait,Remove ex from all,2,[],https://github.com/circonus-labs/libmtev/pull/794,https://github.com/esproul,2,https://github.com/circonus-labs/libmtev/pull/794#issuecomment-1026957305,,Is the curl linkage commit supposed to be here?,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,795,2022-02-01T18:32:23Z,2022-02-01T18:32:32Z,2022-02-01T18:32:56Z,MERGED,True,1,3,1,https://github.com/postwait,Unneeded predicate,1,[],https://github.com/circonus-labs/libmtev/pull/795,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/795,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,796,2022-02-06T21:11:37Z,2022-02-07T20:35:37Z,2022-02-07T20:35:37Z,MERGED,True,30,0,2,https://github.com/vasuraman11,Add MTEV_MAYBE_REALLOC_WITH_TYPE for C++ compatibility,1,[],https://github.com/circonus-labs/libmtev/pull/796,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/796,"MTEV_MAYBE_REALLOC does not work with C++, this adds a version which does work and leaves the original so that no existing code is broken.","MTEV_MAYBE_REALLOC does not work with C++, this adds a version which does work and leaves the original so that no existing code is broken.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,797,2022-02-07T13:54:27Z,2022-02-07T15:49:12Z,2022-02-07T15:49:22Z,MERGED,True,24,24,1,https://github.com/bosley,Deprecated mtev atomic,1,[],https://github.com/circonus-labs/libmtev/pull/797,https://github.com/bosley,1,https://github.com/circonus-labs/libmtev/pull/797,"All public uses of volatile removed, and all items in mtev atomic marked as deprecated.","All public uses of volatile removed, and all items in mtev atomic marked as deprecated.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,797,2022-02-07T13:54:27Z,2022-02-07T15:49:12Z,2022-02-07T15:49:22Z,MERGED,True,24,24,1,https://github.com/bosley,Deprecated mtev atomic,1,[],https://github.com/circonus-labs/libmtev/pull/797,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/797#issuecomment-1031517183,"All public uses of volatile removed, and all items in mtev atomic marked as deprecated.","If we're deprecating it, why are we changing it (remove of volatile) at the same time?",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,797,2022-02-07T13:54:27Z,2022-02-07T15:49:12Z,2022-02-07T15:49:22Z,MERGED,True,24,24,1,https://github.com/bosley,Deprecated mtev atomic,1,[],https://github.com/circonus-labs/libmtev/pull/797,https://github.com/pjulien,3,https://github.com/circonus-labs/libmtev/pull/797#issuecomment-1031540241,"All public uses of volatile removed, and all items in mtev atomic marked as deprecated.",let's just remove the file and bump the mtev version,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,797,2022-02-07T13:54:27Z,2022-02-07T15:49:12Z,2022-02-07T15:49:22Z,MERGED,True,24,24,1,https://github.com/bosley,Deprecated mtev atomic,1,[],https://github.com/circonus-labs/libmtev/pull/797,https://github.com/pjulien,4,https://github.com/circonus-labs/libmtev/pull/797#issuecomment-1031541456,"All public uses of volatile removed, and all items in mtev atomic marked as deprecated.","If we're deprecating it, why are we changing it (remove of volatile) at the same time?

I think we should remove the file or fix the volatile but not both",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,797,2022-02-07T13:54:27Z,2022-02-07T15:49:12Z,2022-02-07T15:49:22Z,MERGED,True,24,24,1,https://github.com/bosley,Deprecated mtev atomic,1,[],https://github.com/circonus-labs/libmtev/pull/797,https://github.com/postwait,5,https://github.com/circonus-labs/libmtev/pull/797#issuecomment-1031541868,"All public uses of volatile removed, and all items in mtev atomic marked as deprecated.","We should add the #warning and deprecate it and release a new version.
After that we can remove the file and bump the version.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,797,2022-02-07T13:54:27Z,2022-02-07T15:49:12Z,2022-02-07T15:49:22Z,MERGED,True,24,24,1,https://github.com/bosley,Deprecated mtev atomic,1,[],https://github.com/circonus-labs/libmtev/pull/797,https://github.com/postwait,6,https://github.com/circonus-labs/libmtev/pull/797#issuecomment-1031543112,"All public uses of volatile removed, and all items in mtev atomic marked as deprecated.","We're not trying to fix it, we're trying to get rid of it.  I support work on the latter, not the former.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,797,2022-02-07T13:54:27Z,2022-02-07T15:49:12Z,2022-02-07T15:49:22Z,MERGED,True,24,24,1,https://github.com/bosley,Deprecated mtev atomic,1,[],https://github.com/circonus-labs/libmtev/pull/797,https://github.com/pjulien,7,https://github.com/circonus-labs/libmtev/pull/797#issuecomment-1031544691,"All public uses of volatile removed, and all items in mtev atomic marked as deprecated.","All public uses of volatile removed

It still has to work correctly, some of the removals are broken",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,798,2022-02-22T16:18:30Z,2022-02-22T16:21:17Z,2022-02-22T16:21:17Z,MERGED,True,8,0,2,https://github.com/postwait,Fix accounting issue on static jobq subqueue.,1,[],https://github.com/circonus-labs/libmtev/pull/798,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/798,"We were missing out inflight decrement when jobs were assigned to the
static (default) FSS subqueue of a jobq.  This would cause jobs to not
be scheduled once UINT32_MAX (2^32-1) jobs had been scheduled.","We were missing out inflight decrement when jobs were assigned to the
static (default) FSS subqueue of a jobq.  This would cause jobs to not
be scheduled once UINT32_MAX (2^32-1) jobs had been scheduled.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,799,2022-02-22T20:52:52Z,2022-02-23T02:02:14Z,2022-02-23T02:02:14Z,MERGED,True,36,17,2,https://github.com/postwait,Allow lua pcre matching to return offset information.,1,[],https://github.com/circonus-labs/libmtev/pull/799,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/799,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,800,2022-03-22T18:33:58Z,2022-03-23T14:39:13Z,2022-03-23T14:39:13Z,MERGED,True,1,1,1,https://github.com/bosley,CIRC-7160 GCC 11 array-bounds warning,1,[],https://github.com/circonus-labs/libmtev/pull/800,https://github.com/bosley,1,https://github.com/circonus-labs/libmtev/pull/800,"This change fixes the array-bounds warning by allocating the entirety of the bchain structure.
CI Has passed","This change fixes the array-bounds warning by allocating the entirety of the bchain structure.
CI Has passed",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,801,2022-03-28T14:11:07Z,2022-03-28T14:42:08Z,2022-03-28T14:42:08Z,MERGED,True,15,2,2,https://github.com/postwait,Add a workingdir config for controlling the chdir,1,[],https://github.com/circonus-labs/libmtev/pull/801,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/801,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,802,2022-03-28T14:37:24Z,2022-03-28T14:53:50Z,2022-03-28T14:53:50Z,MERGED,True,111,4,4,https://github.com/postwait,Support cycling lua_web lua environments,1,[],https://github.com/circonus-labs/libmtev/pull/802,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/802,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,803,2022-03-29T14:28:49Z,2022-03-29T14:58:12Z,2022-03-29T14:58:12Z,MERGED,True,38,1,2,https://github.com/postwait,mtev.log should show lua file/line in debugging context,1,[],https://github.com/circonus-labs/libmtev/pull/803,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/803,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,804,2022-03-29T19:05:40Z,2022-03-29T19:16:59Z,2022-03-29T19:16:59Z,MERGED,True,75,4,7,https://github.com/postwait,Support preemptive interrupts.,3,[],https://github.com/circonus-labs/libmtev/pull/804,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/804,"This defaults to ""error"" b/c we still see issues with some luajit
resumption causing segfaults.","This defaults to ""error"" b/c we still see issues with some luajit
resumption causing segfaults.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,805,2022-03-29T22:15:02Z,2022-04-04T13:00:51Z,2022-04-04T13:00:51Z,MERGED,True,304,74,7,https://github.com/postwait,support reloads in lua_general,2,[],https://github.com/circonus-labs/libmtev/pull/805,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/805,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,806,2022-04-03T05:29:00Z,2022-04-03T17:10:21Z,2022-04-03T17:10:21Z,MERGED,True,97,93,4,https://github.com/postwait,pure C mtev.timeval,1,[],https://github.com/circonus-labs/libmtev/pull/806,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/806,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,807,2022-04-03T17:59:41Z,2022-04-04T12:29:11Z,2022-04-04T12:29:11Z,MERGED,True,99,2,2,https://github.com/postwait,"mtev.timeval: add better metamethod support, eq, lt, le and tests",1,[],https://github.com/circonus-labs/libmtev/pull/807,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/807,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,808,2022-04-03T18:05:16Z,2022-04-04T15:31:05Z,2022-04-04T15:31:05Z,MERGED,True,31,11,1,https://github.com/postwait,detect and fix expired certs in tests,1,[],https://github.com/circonus-labs/libmtev/pull/808,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/808,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,809,2022-04-04T13:04:26Z,2022-04-04T13:14:51Z,2022-04-04T13:14:51Z,MERGED,True,10,18,2,https://github.com/postwait,fix stack error,2,[],https://github.com/circonus-labs/libmtev/pull/809,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/809,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,810,2022-04-04T17:59:41Z,2022-04-04T18:16:41Z,2022-04-04T18:16:44Z,MERGED,True,2,2,1,https://github.com/pjulien,CIRC-8046 - stack overflow,1,[],https://github.com/circonus-labs/libmtev/pull/810,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/810,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,811,2022-04-08T02:19:34Z,2022-04-18T14:14:28Z,2022-04-18T14:14:28Z,MERGED,True,184,3,7,https://github.com/postwait,Lua zipkin support and bug fixes.,2,[],https://github.com/circonus-labs/libmtev/pull/811,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/811,"Support mtev.zipkin.active() and :log and :tag
Fix zipkin binary annotations of type double
Fix log attachment to zipkin spans","Support mtev.zipkin.active() and :log and :tag
Fix zipkin binary annotations of type double
Fix log attachment to zipkin spans",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,812,2022-04-12T15:25:08Z,2022-04-12T15:45:28Z,2022-04-12T15:45:28Z,MERGED,True,12,12,1,https://github.com/pjulien,CIRC-8062 - Stack Corruption,1,[],https://github.com/circonus-labs/libmtev/pull/812,https://github.com/pjulien,1,https://github.com/circonus-labs/libmtev/pull/812,"Memory checker compatible way of doing the same
thing.  In other words, does the same thing
but works with _FORTIFY_SOURCE set at
level 2","Memory checker compatible way of doing the same
thing.  In other words, does the same thing
but works with _FORTIFY_SOURCE set at
level 2",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,813,2022-04-18T01:51:50Z,2022-04-18T14:13:59Z,2022-04-18T14:13:59Z,MERGED,True,3,1,2,https://github.com/postwait,Make lua auto-preemption stable.,1,[],https://github.com/circonus-labs/libmtev/pull/813,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/813,"We were registering the hook as CALL|RET|COUNT and lua does not support
C yields from CALL or RET hooks.  Only use the COUNT hook.","We were registering the hook as CALL|RET|COUNT and lua does not support
C yields from CALL or RET hooks.  Only use the COUNT hook.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,814,2022-04-18T14:29:39Z,2022-04-18T14:32:42Z,2022-04-18T14:32:42Z,MERGED,True,130,12,15,https://github.com/postwait,Prep for 2.2.4,1,[],https://github.com/circonus-labs/libmtev/pull/814,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/814,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,815,2022-04-18T16:51:43Z,2022-04-18T17:04:48Z,2022-04-18T17:04:48Z,MERGED,True,110,9,4,https://github.com/postwait,Support cancel and kill of lua states.,2,[],https://github.com/circonus-labs/libmtev/pull/815,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/815,"Allow mtev lua cancel <state> and mtev lua kill <state> from the
console.
Resume should be implementation-centric.","Allow mtev lua cancel <state> and mtev lua kill <state> from the
console.
Resume should be implementation-centric.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,816,2022-04-18T17:08:36Z,2022-04-18T17:27:48Z,2022-04-18T17:27:48Z,MERGED,True,7,1,2,https://github.com/postwait,Prepare 2.2.5,1,[],https://github.com/circonus-labs/libmtev/pull/816,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/816,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,817,2022-04-20T03:56:49Z,2022-04-20T17:05:45Z,2022-04-20T17:05:45Z,MERGED,True,3,3,1,https://github.com/vasuraman11,Make -skip the default for busted tests,4,[],https://github.com/circonus-labs/libmtev/pull/817,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/817,"Currently by default we run all the subtests (describe, it, etc) in a busted test even if the nodes fail to boot or whatever else goes wrong.  Since in practice many subtests depend on previous subtests this makes little sense and forces the engineer to look for the first subtest that failed.
Some years ago I implemented the -skip flag for mtevbusted, which piggybacks on the -skipAll flag in busted which was implemented already and hidden by mtevbusted (busted is from Olivine Labs and underlies mtevbusted).
This PR changes the default to skip all subtests after the first error or failure.  It replaces the command line flag with -dontskip which can be used in the rare case where an engineer wants mtevbusted to continue running subtests after an error or failure.
Even if someone implements a Lua test file with no dependencies, this still does not fit our CI workflow where we want the executor to be released as early as possible to run other CI jobs.
Locally, if someone wrote a test that had completely independent subtests and ran in the context of a background test runner plugin with TDD or other workflow, they can run them all using -dontskip to revert to the previous behavior.  I might speculate that was the reason for the objection in times long ago...and it does not apply to our current workflow.","Currently by default we run all the subtests (describe, it, etc) in a busted test even if the nodes fail to boot or whatever else goes wrong.  Since in practice many subtests depend on previous subtests this makes little sense and forces the engineer to look for the first subtest that failed.
Some years ago I implemented the -skip flag for mtevbusted, which piggybacks on the -skipAll flag in busted which was implemented already and hidden by mtevbusted (busted is from Olivine Labs and underlies mtevbusted).
This PR changes the default to skip all subtests after the first error or failure.  It replaces the command line flag with -dontskip which can be used in the rare case where an engineer wants mtevbusted to continue running subtests after an error or failure.
Even if someone implements a Lua test file with no dependencies, this still does not fit our CI workflow where we want the executor to be released as early as possible to run other CI jobs.
Locally, if someone wrote a test that had completely independent subtests and ran in the context of a background test runner plugin with TDD or other workflow, they can run them all using -dontskip to revert to the previous behavior.  I might speculate that was the reason for the objection in times long ago...and it does not apply to our current workflow.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,818,2022-04-20T18:24:24Z,2022-04-20T18:27:43Z,2022-04-20T18:27:43Z,MERGED,True,4,1,1,https://github.com/postwait,Preemption stats,1,[],https://github.com/circonus-labs/libmtev/pull/818,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/818,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,819,2022-04-22T19:31:54Z,2022-04-25T22:02:13Z,2022-04-25T22:03:38Z,MERGED,True,81,5,4,https://github.com/esproul,Support OpenSSL 3.0,6,[],https://github.com/circonus-labs/libmtev/pull/819,https://github.com/esproul,1,https://github.com/circonus-labs/libmtev/pull/819,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,820,2022-05-05T14:59:17Z,2022-05-05T15:02:02Z,2022-05-05T15:02:02Z,MERGED,True,19,6,2,https://github.com/postwait,Fix internal log type to not assert on large messages.,1,[],https://github.com/circonus-labs/libmtev/pull/820,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/820,"If the message was large such that it didn't fit right in the circular
buffer we would assert.  Now we just refuse to log the message.","If the message was large such that it didn't fit right in the circular
buffer we would assert.  Now we just refuse to log the message.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,821,2022-05-05T15:42:30Z,2022-05-05T15:49:11Z,2022-05-05T15:49:11Z,MERGED,True,3,1,2,https://github.com/postwait,2.2.7,1,[],https://github.com/circonus-labs/libmtev/pull/821,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/821,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,822,2022-05-19T18:24:38Z,2022-05-19T18:35:44Z,2022-05-19T18:35:45Z,MERGED,True,4,2,2,https://github.com/postwait,Always perform double-free/corruption messages.,1,[],https://github.com/circonus-labs/libmtev/pull/822,https://github.com/postwait,1,https://github.com/circonus-labs/libmtev/pull/822,,,True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,823,2022-06-01T05:11:12Z,,2022-06-02T05:11:32Z,OPEN,False,90,7,8,https://github.com/vasuraman11,DRAFT: Make POST/PUT payload visible in requests.json,5,[],https://github.com/circonus-labs/libmtev/pull/823,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/823,"The libmtev HTTP observer module and libmtev have been changed to expose the incoming HTTP payload if it is text, so that we can see the incoming payload using requests.json.","The libmtev HTTP observer module and libmtev have been changed to expose the incoming HTTP payload if it is text, so that we can see the incoming payload using requests.json.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,823,2022-06-01T05:11:12Z,,2022-06-02T05:11:32Z,OPEN,False,90,7,8,https://github.com/vasuraman11,DRAFT: Make POST/PUT payload visible in requests.json,5,[],https://github.com/circonus-labs/libmtev/pull/823,https://github.com/postwait,2,https://github.com/circonus-labs/libmtev/pull/823#issuecomment-1143132780,"The libmtev HTTP observer module and libmtev have been changed to expose the incoming HTTP payload if it is text, so that we can see the incoming payload using requests.json.","Am I reading this right that we're going to pay a large allocation and memcpy on every request now? This seems like a bad default performance sacrifice.
Perhaps http end points should opt into this.",True,{}
circonus-labs/libmtev,https://github.com/circonus-labs/libmtev,824,2022-06-02T05:07:37Z,2022-06-02T19:00:38Z,2022-06-02T19:00:38Z,MERGED,True,29,5,2,https://github.com/vasuraman11,Backtrace post payload,7,[],https://github.com/circonus-labs/libmtev/pull/824,https://github.com/vasuraman11,1,https://github.com/circonus-labs/libmtev/pull/824,"We don'r need requests.json or mtev _observer_module.so and libmtev changes just to expose the payload  in backtrace, so this PR cuts it down to just the meter-http1/2-module.lua files used by ptrace.","We don'r need requests.json or mtev _observer_module.so and libmtev changes just to expose the payload  in backtrace, so this PR cuts it down to just the meter-http1/2-module.lua files used by ptrace.",True,{}
