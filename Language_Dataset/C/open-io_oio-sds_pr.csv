open-io/oio-sds,https://github.com/open-io/oio-sds,483,2016-03-09T14:33:11Z,2016-03-09T16:36:14Z,2016-03-09T16:36:14Z,MERGED,True,1151,362,35,https://github.com/fvennetier,Merge release-2.0 into master,22,[],https://github.com/open-io/oio-sds/pull/483,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/483,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,484,2016-03-11T14:16:47Z,2016-03-11T14:16:51Z,2017-02-22T10:11:58Z,CLOSED,False,2,2,2,https://github.com/jfsmig,oio-conscience-agent: tag.vol added as soon as a volume is monitored,2,[],https://github.com/open-io/oio-sds/pull/484,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/484,Fixes #481,Fixes #481,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,485,2016-03-11T14:26:19Z,2016-03-11T14:38:20Z,2017-02-22T10:11:58Z,MERGED,True,2,2,2,https://github.com/jfsmig,oio-conscience-agent: tag.vol added for each monitored volume,2,[],https://github.com/open-io/oio-sds/pull/485,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/485,Fixes #481,Fixes #481,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,486,2016-03-11T14:34:06Z,2016-03-11T14:53:29Z,2016-03-14T16:22:38Z,MERGED,True,9,9,3,https://github.com/jfsmig,Fixes several warnings at compile time on old systems,2,[],https://github.com/open-io/oio-sds/pull/486,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/486,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,487,2016-03-11T16:29:21Z,2016-03-14T15:14:57Z,2016-03-14T15:14:57Z,MERGED,True,7,7,125,https://github.com/jkasarherou,core: move python files around,1,[],https://github.com/open-io/oio-sds/pull/487,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/487,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,488,2016-03-14T09:11:13Z,2016-03-14T09:57:19Z,2016-03-14T09:57:19Z,MERGED,True,11,10,1,https://github.com/fvennetier,Fix RAIN tests,1,[],https://github.com/open-io/oio-sds/pull/488,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/488,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,489,2016-03-14T14:59:26Z,2016-03-14T15:57:08Z,2016-03-14T15:57:08Z,MERGED,True,33,22,7,https://github.com/fvennetier,Merge release-2.0 into master,6,[],https://github.com/open-io/oio-sds/pull/489,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/489,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,490,2016-03-14T15:16:52Z,2016-03-15T09:22:04Z,2016-03-15T09:25:39Z,CLOSED,False,152,18,5,https://github.com/jkasarherou,conscience-agent: add basic http interaction for stats,1,[],https://github.com/open-io/oio-sds/pull/490,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/490,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,491,2016-03-14T16:46:40Z,2016-03-15T07:39:50Z,2017-02-22T10:12:01Z,MERGED,True,3,3,1,https://github.com/jfsmig,core: guards hexid computation when fields are missing,1,[],https://github.com/open-io/oio-sds/pull/491,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/491,Prevents an assertion to be raised.,Prevents an assertion to be raised.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,492,2016-03-14T17:59:17Z,2016-03-15T10:12:39Z,2016-03-15T10:14:51Z,MERGED,True,55,62,3,https://github.com/fvennetier,Better error messages about meta0 connection to zookeeper,1,[],https://github.com/open-io/oio-sds/pull/492,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/492,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,493,2016-03-15T09:14:51Z,2016-03-15T09:26:42Z,2016-03-15T09:26:42Z,CLOSED,False,0,0,0,https://github.com/jkasarherou,event-agent: improve workers,0,[],https://github.com/open-io/oio-sds/pull/493,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/493,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,494,2016-03-15T09:21:49Z,2016-03-15T09:43:42Z,2016-05-23T07:27:08Z,MERGED,True,152,18,5,https://github.com/jkasarherou,conscience-agent: add basic http interaction for stats,1,[],https://github.com/open-io/oio-sds/pull/494,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/494,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,495,2016-03-15T09:33:09Z,2016-03-15T09:45:59Z,2016-05-24T13:56:35Z,MERGED,True,75,102,2,https://github.com/jkasarherou,event-agent: improve workers,1,[],https://github.com/open-io/oio-sds/pull/495,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/495,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,497,2016-03-15T16:11:50Z,2016-03-15T17:16:51Z,2016-03-15T17:16:51Z,MERGED,True,712,547,13,https://github.com/fvennetier,Merge release-2.0 into master,28,[],https://github.com/open-io/oio-sds/pull/497,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/497,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,498,2016-03-16T09:03:29Z,2016-03-16T10:21:48Z,2017-02-22T10:12:03Z,MERGED,True,31,17,2,https://github.com/jkasarherou,account: improve container update,1,[],https://github.com/open-io/oio-sds/pull/498,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/498,this should help for #496,this should help for #496,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,499,2016-03-16T10:45:38Z,2016-03-16T10:54:34Z,2016-03-16T10:54:34Z,MERGED,True,31,17,2,https://github.com/fvennetier,Merge release-2.0 into master,3,[],https://github.com/open-io/oio-sds/pull/499,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/499,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,500,2016-03-16T13:45:33Z,2016-03-16T14:05:52Z,2016-03-16T14:18:30Z,MERGED,True,1,1,1,https://github.com/jfsmig,proxy: fixes expiration of services,1,[],https://github.com/open-io/oio-sds/pull/500,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/500,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,501,2016-03-16T14:43:13Z,2016-03-17T09:19:58Z,2016-05-23T07:27:15Z,CLOSED,False,27,35,4,https://github.com/jkasarherou,blob-indexer: add interval parameter,1,[],https://github.com/open-io/oio-sds/pull/501,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/501,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,501,2016-03-16T14:43:13Z,2016-03-17T09:19:58Z,2016-05-23T07:27:15Z,CLOSED,False,27,35,4,https://github.com/jkasarherou,blob-indexer: add interval parameter,1,[],https://github.com/open-io/oio-sds/pull/501,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/501#issuecomment-197783748,,The only commit of this PR has been included by hand in current master.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,501,2016-03-16T14:43:13Z,2016-03-17T09:19:58Z,2016-05-23T07:27:15Z,CLOSED,False,27,35,4,https://github.com/jkasarherou,blob-indexer: add interval parameter,1,[],https://github.com/open-io/oio-sds/pull/501,https://github.com/jkasarherou,3,https://github.com/open-io/oio-sds/pull/501#issuecomment-197786731,,"yeah PR are so mainstream, let's just merge by hand from now on.",True,{'THUMBS_DOWN': ['https://github.com/jfsmig']}
open-io/oio-sds,https://github.com/open-io/oio-sds,505,2016-03-17T10:28:15Z,2016-03-17T10:36:10Z,2016-03-17T10:36:10Z,MERGED,True,2,2,1,https://github.com/fvennetier,"core: fix #503, portability issue on armv7hl",1,[],https://github.com/open-io/oio-sds/pull/505,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/505,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,506,2016-03-18T10:22:56Z,2016-03-18T13:48:04Z,2017-02-22T10:12:06Z,MERGED,True,2256,7933,219,https://github.com/fvennetier,Bring release-2.0 up to date with current master,42,[],https://github.com/open-io/oio-sds/pull/506,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/506,"Since the recent conscience modifications (the only difference between master and release-2.0) seem to have no impact on our benchmarks, we can include them into the next release.","Since the recent conscience modifications (the only difference between master and release-2.0) seem to have no impact on our benchmarks, we can include them into the next release.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,507,2016-03-21T17:59:01Z,2016-03-21T18:02:21Z,2017-02-22T10:12:07Z,MERGED,True,380,243,11,https://github.com/jfsmig,Jfs elections timers,6,[],https://github.com/open-io/oio-sds/pull/507,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/507,"Elections organized in per-state lists: attempt to make a better management of staled elections, with a higher priority on timers for pending and failed states.
better default timeouts on synchronicity requests (from 1s to 4s)
more warnings on specific error-prone situations","Elections organized in per-state lists: attempt to make a better management of staled elections, with a higher priority on timers for pending and failed states.
better default timeouts on synchronicity requests (from 1s to 4s)
more warnings on specific error-prone situations",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,508,2016-03-22T14:23:05Z,2016-03-22T14:32:27Z,2016-04-27T07:15:26Z,MERGED,True,15,5,1,https://github.com/fvennetier,Fix PIPEFROM reqid,1,[],https://github.com/open-io/oio-sds/pull/508,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/508,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,509,2016-03-22T14:30:24Z,2016-03-22T14:49:09Z,2017-02-22T10:12:07Z,MERGED,True,30,19,3,https://github.com/jfsmig,sqlx: election synchronisation reviewed,2,[],https://github.com/open-io/oio-sds/pull/509,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/509,"report individual errors that happened during replicated commits.
default delay between gratuitous DB_USE set to 5 seconds when sent by failed elections (instead of 2s, too short for a server that already has problems), and to 15 minutes for established elections (instead of 5min, too short for something ""not so useful"").
Limits the number of elections timers to 100 (instead of 1000) per round, because there is 1 round / second and 1000s is way too much.","report individual errors that happened during replicated commits.
default delay between gratuitous DB_USE set to 5 seconds when sent by failed elections (instead of 2s, too short for a server that already has problems), and to 15 minutes for established elections (instead of 5min, too short for something ""not so useful"").
Limits the number of elections timers to 100 (instead of 1000) per round, because there is 1 round / second and 1000s is way too much.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,510,2016-03-22T18:04:01Z,2016-03-22T20:30:36Z,2017-02-22T10:12:08Z,MERGED,True,26,11,4,https://github.com/jfsmig,m0v2 init sequence fixed,3,[],https://github.com/open-io/oio-sds/pull/510,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/510,"Fixes a wrong DB init in sqliterepo that (currently) only happens in meta0 when the base is opened from the cache, before an election_manager is ready to use. This helps fixing #193 (try this, @racciari )
Extends the timeout when filling the base.
allows oio-reset.sh to deploy several meta0","Fixes a wrong DB init in sqliterepo that (currently) only happens in meta0 when the base is opened from the cache, before an election_manager is ready to use. This helps fixing #193 (try this, @racciari )
Extends the timeout when filling the base.
allows oio-reset.sh to deploy several meta0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,511,2016-03-23T17:04:10Z,2016-03-23T17:34:02Z,2017-02-22T10:12:08Z,MERGED,True,66,65,8,https://github.com/jfsmig,Fixes the ability to cleanly reconnect ZooKeeper,3,[],https://github.com/open-io/oio-sds/pull/511,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/511,"Longer timeout by default (4s -> 8s, helps under heavy loads)
Upon expired sessions, re-opens a new session, with a brand new ID","Longer timeout by default (4s -> 8s, helps under heavy loads)
Upon expired sessions, re-opens a new session, with a brand new ID",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,512,2016-03-23T17:44:02Z,2016-03-24T20:16:43Z,2016-03-24T20:16:46Z,MERGED,True,50,12,2,https://github.com/fvennetier,Review open bases and connections limits,1,[],https://github.com/open-io/oio-sds/pull/512,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/512,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,514,2016-03-24T17:32:02Z,2016-03-25T10:59:13Z,2016-04-01T18:56:08Z,MERGED,True,407,312,20,https://github.com/jfsmig,"More cache in the proxy, Less calls to the conscience + CNX timeout set to 2s",11,[],https://github.com/open-io/oio-sds/pull/514,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/514,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,514,2016-03-24T17:32:02Z,2016-03-25T10:59:13Z,2016-04-01T18:56:08Z,MERGED,True,407,312,20,https://github.com/jfsmig,"More cache in the proxy, Less calls to the conscience + CNX timeout set to 2s",11,[],https://github.com/open-io/oio-sds/pull/514,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/514#issuecomment-201005649,,Fixes #513,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,515,2016-03-25T06:48:51Z,2016-03-25T11:00:21Z,2016-03-25T11:00:21Z,MERGED,True,8,8,3,https://github.com/jkasarherou,cli: rename rdir commands to volume,1,[],https://github.com/open-io/oio-sds/pull/515,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/515,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,516,2016-03-29T12:10:42Z,2016-03-29T12:17:43Z,2016-03-29T12:17:43Z,MERGED,True,972,665,37,https://github.com/fvennetier,Release 2.0,37,[],https://github.com/open-io/oio-sds/pull/516,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/516,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,517,2016-03-29T12:24:47Z,2016-04-19T15:30:00Z,2016-04-27T07:16:06Z,MERGED,True,1233,448,23,https://github.com/fvennetier,"Review the meta0, implement new tools to bootstrap it",5,[],https://github.com/open-io/oio-sds/pull/517,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/517,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,518,2016-03-29T13:40:07Z,2016-03-29T14:31:48Z,2016-03-29T14:31:48Z,MERGED,True,2,2,2,https://github.com/fvennetier,"m0,m1,m2,sqlx: do not enforce fsync when replication is enabled",1,[],https://github.com/open-io/oio-sds/pull/518,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/518,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,519,2016-03-29T14:27:45Z,2016-03-29T14:43:31Z,2017-02-22T10:12:11Z,MERGED,True,12,6,2,https://github.com/jfsmig,conscience: Better timeout management for service's scores,3,[],https://github.com/open-io/oio-sds/pull/519,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/519,"proxy: expiration of known services set to 5 days
conscience: check more robust for small clocks
conscience: scored to 0 instead of service removed","proxy: expiration of known services set to 5 days
conscience: check more robust for small clocks
conscience: scored to 0 instead of service removed",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,520,2016-03-31T20:30:22Z,2016-04-01T13:17:27Z,2017-02-22T10:12:12Z,MERGED,True,37,25,2,https://github.com/jfsmig,sqlx: fixes the default schema for the connector to dovecot,2,[],https://github.com/open-io/oio-sds/pull/520,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/520,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,521,2016-04-01T09:33:28Z,2016-04-01T12:53:58Z,2017-02-22T10:12:12Z,MERGED,True,58,168,12,https://github.com/fvennetier,"rawx,sqlx*: new options to preallocate chunks and databases",2,[],https://github.com/open-io/oio-sds/pull/521,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/521,"rawx: new ""grid_fallocate"" option (enabled by default), to tell
the server to preallocate the space for the chunk, and
possibly fail at the beginnig of the upload if there is not enough
m0,m1,m2,sqlx: new ""PageSize"" commandline option to change the
sqlite database page_size (defaults to 4096 bytes)","rawx: new ""grid_fallocate"" option (enabled by default), to tell
the server to preallocate the space for the chunk, and
possibly fail at the beginnig of the upload if there is not enough
m0,m1,m2,sqlx: new ""PageSize"" commandline option to change the
sqlite database page_size (defaults to 4096 bytes)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,522,2016-04-01T13:16:55Z,2016-04-01T14:10:59Z,2016-04-01T18:57:23Z,MERGED,True,39,44,1,https://github.com/jfsmig,events: retries more agressively in a FIFO fashion,1,[],https://github.com/open-io/oio-sds/pull/522,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/522,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,523,2016-04-01T16:04:44Z,2016-04-02T19:54:43Z,2017-02-22T10:12:13Z,CLOSED,False,43,88,7,https://github.com/fvennetier,rawx: send events to beanstalkd instead of zeromq,1,[],https://github.com/open-io/oio-sds/pull/523,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/523,The implementation is dumb and opens a connection for each event.,The implementation is dumb and opens a connection for each event.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,523,2016-04-01T16:04:44Z,2016-04-02T19:54:43Z,2017-02-22T10:12:13Z,CLOSED,False,43,88,7,https://github.com/fvennetier,rawx: send events to beanstalkd instead of zeromq,1,[],https://github.com/open-io/oio-sds/pull/523,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/523#issuecomment-204789493,The implementation is dumb and opens a connection for each event.,"To be closed, but it inspires #524  for something more generic. Thanks, @fvennetier !",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,524,2016-04-02T19:52:38Z,2016-04-04T08:27:51Z,2017-02-22T10:12:13Z,MERGED,True,665,282,26,https://github.com/jfsmig,"events: insulates module, adds beanstalkd implementation",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/524,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/524,"rawx: modified to benefit from the oio-event pseudo-object
sqlx*: idem","rawx: modified to benefit from the oio-event pseudo-object
sqlx*: idem",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,524,2016-04-02T19:52:38Z,2016-04-04T08:27:51Z,2017-02-22T10:12:13Z,MERGED,True,665,282,26,https://github.com/jfsmig,"events: insulates module, adds beanstalkd implementation",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/524,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/524#issuecomment-204793006,"rawx: modified to benefit from the oio-event pseudo-object
sqlx*: idem","This PR allows an admin to configure an event-agent url as beanstalk://IP:PORT in /etc/oio/sds.conf. oio-bootstrap.py has been modified to make this the default:

event-agent=beanstalk://127.0.0.1:11300

The previous ZeroMQ implementation is still available and recognized, but now the ipc:// and tcp:// prefixes are required.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,525,2016-04-02T20:33:18Z,2016-04-04T09:06:22Z,2016-04-04T09:21:00Z,MERGED,True,24,12,1,https://github.com/jfsmig,metautils/gridd: honors total timeout during reconnections,1,[],https://github.com/open-io/oio-sds/pull/525,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/525,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,526,2016-04-02T20:39:00Z,2016-04-04T09:25:20Z,2016-04-04T09:32:59Z,MERGED,True,7,37,2,https://github.com/jfsmig,metautils: signals simplified with POSIX functions,2,[],https://github.com/open-io/oio-sds/pull/526,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/526,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,527,2016-04-04T10:03:33Z,2016-04-04T14:56:08Z,2016-04-04T14:56:08Z,MERGED,True,862,538,39,https://github.com/fvennetier,Release 2.0,20,[],https://github.com/open-io/oio-sds/pull/527,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/527,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,528,2016-04-04T14:25:10Z,2016-04-04T14:46:59Z,2017-02-22T10:12:14Z,MERGED,True,27,1,4,https://github.com/jfsmig,events: fixes the default beanstalk configuration,1,[],https://github.com/open-io/oio-sds/pull/528,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/528,"Now the config for C clients conforms to what it was for the Python
tools.","Now the config for C clients conforms to what it was for the Python
tools.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,529,2016-04-04T16:48:12Z,2016-04-05T11:41:29Z,2017-02-22T10:12:15Z,MERGED,True,16,6,1,https://github.com/fvennetier,rdir client: keep a cache of rdir addresses,1,[],https://github.com/open-io/oio-sds/pull/529,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/529,This speeds up event-agent by about 25%.,This speeds up event-agent by about 25%.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,530,2016-04-05T10:13:04Z,2016-04-05T11:41:24Z,2016-05-23T07:27:20Z,MERGED,True,20,11,3,https://github.com/jkasarherou,add compat code for pyxattr vs xattr bullsh*t,1,[],https://github.com/open-io/oio-sds/pull/530,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/530,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,531,2016-04-05T11:28:36Z,2016-04-05T11:55:40Z,2017-02-22T10:12:16Z,MERGED,True,130,54,8,https://github.com/jfsmig,"rawx  + beanstalkd: fixes (design, memleak)",5,[],https://github.com/open-io/oio-sds/pull/531,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/531,"events / beanstalkd: better check to detect the queue is empty
events / beanstalkd: memleak fixed, happened once par queue creation
rawx: 1 queue / request to force one thread manage its own events
rawx: minor one-shot memleaks fixed","events / beanstalkd: better check to detect the queue is empty
events / beanstalkd: memleak fixed, happened once par queue creation
rawx: 1 queue / request to force one thread manage its own events
rawx: minor one-shot memleaks fixed",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,531,2016-04-05T11:28:36Z,2016-04-05T11:55:40Z,2017-02-22T10:12:16Z,MERGED,True,130,54,8,https://github.com/jfsmig,"rawx  + beanstalkd: fixes (design, memleak)",5,[],https://github.com/open-io/oio-sds/pull/531,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/531#issuecomment-205766899,"events / beanstalkd: better check to detect the queue is empty
events / beanstalkd: memleak fixed, happened once par queue creation
rawx: 1 queue / request to force one thread manage its own events
rawx: minor one-shot memleaks fixed",🆙,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,532,2016-04-05T14:05:40Z,2016-04-05T16:01:07Z,2016-04-05T16:01:42Z,MERGED,True,1,0,1,https://github.com/fvennetier,lb: set default WRR reset_delay to 60s,1,[],https://github.com/open-io/oio-sds/pull/532,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/532,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,534,2016-04-05T15:51:11Z,2016-04-05T16:00:50Z,2016-05-23T07:27:23Z,MERGED,True,11,5,3,https://github.com/jkasarherou,set eventlet default hub to poll,1,[],https://github.com/open-io/oio-sds/pull/534,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/534,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,535,2016-04-06T13:15:55Z,2016-04-06T13:34:32Z,2016-04-06T16:48:38Z,MERGED,True,84,51,6,https://github.com/jfsmig,proxy: trades some GMutex for GRWLock,1,[],https://github.com/open-io/oio-sds/pull/535,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/535,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,536,2016-04-06T13:40:16Z,2016-04-06T15:40:57Z,2017-02-22T10:11:08Z,MERGED,True,235,8,10,https://github.com/fvennetier,"m2,events: new function send overwritable events with delay",1,[],https://github.com/open-io/oio-sds/pull/536,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/536,"This will reduce the number of events sent by meta2 to account-server:
maximum one event by container each second.","This will reduce the number of events sent by meta2 to account-server:
maximum one event by container each second.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,539,2016-04-07T10:10:12Z,2016-04-07T11:02:39Z,2017-02-22T10:11:11Z,MERGED,True,22,23,8,https://github.com/fvennetier,"Less logs at service startup, less verbose connection errors in conscience-agent",2,[],https://github.com/open-io/oio-sds/pull/539,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/539,"Closes #537
Closes #538","Closes #537
Closes #538",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,540,2016-04-07T10:15:35Z,2016-04-07T11:03:06Z,2016-05-23T07:27:25Z,MERGED,True,1,1,1,https://github.com/jkasarherou,conscience-agent: better error output,1,[],https://github.com/open-io/oio-sds/pull/540,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/540,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,541,2016-04-07T13:54:36Z,2016-04-07T14:14:35Z,2016-04-07T14:14:36Z,MERGED,True,37,13,3,https://github.com/jkasarherou,Event agent concurrency option,1,[],https://github.com/open-io/oio-sds/pull/541,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/541,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,542,2016-04-07T13:59:28Z,2016-04-07T15:24:45Z,2016-04-07T15:24:45Z,MERGED,True,35,19,5,https://github.com/fvennetier,events: make buffer delay configurable (5s by default),1,[],https://github.com/open-io/oio-sds/pull/542,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/542,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,543,2016-04-07T15:25:40Z,2016-04-07T15:50:32Z,2017-02-22T10:11:06Z,MERGED,True,19,18,6,https://github.com/jfsmig,Miscellaneous improvements,5,[],https://github.com/open-io/oio-sds/pull/543,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/543,"Timeouts, robustness, etc.
""It works on my machine"".","Timeouts, robustness, etc.
""It works on my machine"".",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,544,2016-04-07T19:54:30Z,2016-04-08T12:02:17Z,2016-05-23T07:26:56Z,MERGED,True,1,50,4,https://github.com/jkasarherou,event-agent: get rid of old useless stuff,1,[],https://github.com/open-io/oio-sds/pull/544,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/544,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,545,2016-04-08T08:14:53Z,2016-04-08T08:21:06Z,2016-04-08T08:21:06Z,MERGED,True,25,0,1,https://github.com/fvennetier,oio-tool: add ping tool,1,[],https://github.com/open-io/oio-sds/pull/545,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/545,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,547,2016-04-08T13:56:19Z,2016-04-08T19:28:13Z,2017-02-22T10:11:05Z,MERGED,True,13,7,1,https://github.com/fvennetier,server: log access AFTER answering and log response size,1,[],https://github.com/open-io/oio-sds/pull/547,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/547,Closes #546,Closes #546,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,547,2016-04-08T13:56:19Z,2016-04-08T19:28:13Z,2017-02-22T10:11:05Z,MERGED,True,13,7,1,https://github.com/fvennetier,server: log access AFTER answering and log response size,1,[],https://github.com/open-io/oio-sds/pull/547,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/547#issuecomment-207569568,Closes #546,Merci!,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,548,2016-04-11T11:59:36Z,2016-04-11T12:39:19Z,2016-04-27T07:15:08Z,MERGED,True,12,7,1,https://github.com/fvennetier,rawx: open file before reading xattrs,1,[],https://github.com/open-io/oio-sds/pull/548,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/548,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,549,2016-04-11T15:37:41Z,2016-04-11T15:45:24Z,2017-02-22T10:11:04Z,MERGED,True,43,20,1,https://github.com/jfsmig,rawx: makes the event queue asynchronous,1,[],https://github.com/open-io/oio-sds/pull/549,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/549,"Currently is beanstalkd the only queue manager. If beanstalkd becomes
down it can lead to the unavailability of all the rawx on the host.","Currently is beanstalkd the only queue manager. If beanstalkd becomes
down it can lead to the unavailability of all the rawx on the host.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,550,2016-04-12T07:06:50Z,2016-04-12T07:24:46Z,2016-04-12T09:38:37Z,MERGED,True,329,632,12,https://github.com/fvennetier,Faster rawx,11,[],https://github.com/open-io/oio-sds/pull/550,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/550,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,551,2016-04-12T15:09:23Z,2016-04-12T15:40:10Z,2017-02-22T10:11:03Z,MERGED,True,2,2,1,https://github.com/jfsmig,utf8: fixed encoding,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/551,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/551,Fixes a memory management error when iterating over an UTF8 strings.,Fixes a memory management error when iterating over an UTF8 strings.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,552,2016-04-12T15:09:59Z,2016-04-12T16:23:24Z,2017-02-22T10:11:03Z,MERGED,True,84,54,1,https://github.com/jfsmig,"proxy: when listing, dups the properties in the body",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/552,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/552,"Destined to replaces the properties in the headers, both are kept for
the transition.","Destined to replaces the properties in the headers, both are kept for
the transition.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,552,2016-04-12T15:09:59Z,2016-04-12T16:23:24Z,2017-02-22T10:11:03Z,MERGED,True,84,54,1,https://github.com/jfsmig,"proxy: when listing, dups the properties in the body",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/552,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/552#issuecomment-208986693,"Destined to replaces the properties in the headers, both are kept for
the transition.",@fvennetier 🔺,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,553,2016-04-12T16:23:25Z,2016-04-12T16:35:23Z,2017-02-22T10:11:03Z,MERGED,True,239,462,16,https://github.com/jfsmig,Integrates TTL directly into the LRU,4,[],https://github.com/open-io/oio-sds/pull/553,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/553,"Prior to this set of commits, the LRU cache only managed random accesses in O(log(n)) via a balanced tree, and O(1) to the oldest and earliest items.
There was no ""last access time"" on items, and such notion has to be managed externally. This was done nearly for every use of the LRU.
So this has been integrated for the sake of simplicity.","Prior to this set of commits, the LRU cache only managed random accesses in O(log(n)) via a balanced tree, and O(1) to the oldest and earliest items.
There was no ""last access time"" on items, and such notion has to be managed externally. This was done nearly for every use of the LRU.
So this has been integrated for the sake of simplicity.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,554,2016-04-13T08:34:20Z,2016-04-13T08:47:06Z,2016-04-13T08:47:06Z,MERGED,True,1279,1391,69,https://github.com/fvennetier,Release 2.0,58,[],https://github.com/open-io/oio-sds/pull/554,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/554,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,556,2016-04-13T13:14:05Z,2016-04-13T15:06:43Z,2017-02-22T10:11:02Z,MERGED,True,211,34,6,https://github.com/fvennetier,m2: add a cache of DB entries required for M2_PREP,2,[],https://github.com/open-io/oio-sds/pull/556,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/556,"This prevents opening the database in most cases, and thus saves IO.","This prevents opening the database in most cases, and thus saves IO.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,557,2016-04-14T01:01:18Z,2016-04-14T16:44:08Z,2017-02-22T10:11:07Z,MERGED,True,260,242,22,https://github.com/jfsmig,"SQLite page size, less syscalls (specially futex), less strlen()",8,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/557,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/557,"SQLite page size not taken into account
a lot of useless syscalls removed for each M2_PREP
m2v2: removed a bunch of strlen()","SQLite page size not taken into account
a lot of useless syscalls removed for each M2_PREP
m2v2: removed a bunch of strlen()",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,559,2016-04-15T16:05:01Z,2016-04-15T16:15:03Z,2017-02-22T10:11:02Z,MERGED,True,5,3,1,https://github.com/jfsmig,conscience: considers tag.first only if service unknown,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/559,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/559,"Avoids locking a service known by the conscience when it is stamped with a ""tag.first"" by a proxy that never saw it. This happened when you stop a proxy, let services expire, start the proxy.","Avoids locking a service known by the conscience when it is stamped with a ""tag.first"" by a proxy that never saw it. This happened when you stop a proxy, let services expire, start the proxy.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,560,2016-04-18T09:36:40Z,2016-04-18T10:05:58Z,2017-02-22T10:11:01Z,MERGED,True,28,18,7,https://github.com/fvennetier,Change event names,1,[],https://github.com/open-io/oio-sds/pull/560,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/560,"""meta1"" prefix removed
""meta2"" prefix replaced by ""storage""
""rawx"" prefix replaced by ""storage""
""container.create"" replaced by ""container.new""
""container.destroy"" replaced by ""container.deleted""
""chunk.delete"" replaced by ""chunk.deleted""","""meta1"" prefix removed
""meta2"" prefix replaced by ""storage""
""rawx"" prefix replaced by ""storage""
""container.create"" replaced by ""container.new""
""container.destroy"" replaced by ""container.deleted""
""chunk.delete"" replaced by ""chunk.deleted""",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,561,2016-04-19T12:08:55Z,2016-04-19T12:26:02Z,2017-02-22T10:11:00Z,MERGED,True,7,2,2,https://github.com/fvennetier,"m0: speed up replication, increase oio-meta0-init timeout",1,[],https://github.com/open-io/oio-sds/pull/561,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/561,"Force the meta0 slaves to restore the whole database from the master
which is far quicker than using the standard replication mechanism
when a large part of the database has changed.","Force the meta0 slaves to restore the whole database from the master
which is far quicker than using the standard replication mechanism
when a large part of the database has changed.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,562,2016-04-19T14:49:03Z,2016-04-19T14:55:54Z,2016-04-19T14:55:54Z,MERGED,True,511,299,33,https://github.com/fvennetier,Merge release 2.0 into master,17,[],https://github.com/open-io/oio-sds/pull/562,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/562,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,563,2016-04-22T16:46:26Z,2016-04-26T15:52:39Z,2016-04-26T15:52:39Z,MERGED,True,118,113,5,https://github.com/fvennetier,Small improvements,3,[],https://github.com/open-io/oio-sds/pull/563,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/563,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,565,2016-04-25T15:51:37Z,2016-04-27T14:21:33Z,2017-02-22T10:10:59Z,CLOSED,False,96,95,12,https://github.com/jfsmig,"m2v2,m1v2,rawx: unifies events formats.",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/565,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/565,"Unifies the format of events, and factorizes code around events generation","Unifies the format of events, and factorizes code around events generation",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,566,2016-04-25T20:22:05Z,2016-05-03T14:47:40Z,2016-05-23T07:26:58Z,CLOSED,False,812,331,30,https://github.com/jkasarherou,Event handlers,6,[],https://github.com/open-io/oio-sds/pull/566,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/566,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,569,2016-04-27T13:31:53Z,2016-04-27T14:07:19Z,2017-02-22T10:21:53Z,MERGED,True,29,3,1,https://github.com/fvennetier,events: better management of beanstalkd connections,1,[],https://github.com/open-io/oio-sds/pull/569,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/569,Fixes #568,Fixes #568,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,570,2016-04-27T15:40:31Z,2016-04-29T15:01:38Z,2017-02-22T10:20:26Z,MERGED,True,40,62,9,https://github.com/fvennetier,lb: better error messages,1,[],https://github.com/open-io/oio-sds/pull/570,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/570,Fix #567,Fix #567,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,571,2016-04-29T15:02:25Z,2016-04-29T15:16:25Z,2016-04-29T15:16:25Z,MERGED,True,187,178,15,https://github.com/fvennetier,Merge release-2.0 into master,6,[],https://github.com/open-io/oio-sds/pull/571,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/571,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,572,2016-04-29T16:22:48Z,2016-05-04T11:44:02Z,2017-02-22T10:21:53Z,MERGED,True,118,147,11,https://github.com/fvennetier,New 'weak' load balancing option,3,[],https://github.com/open-io/oio-sds/pull/572,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/572,"New 'weak' option to data treatments, allowing to relax the distance
requirements if they were not satisfiable. This allows requiring more
chunks than the number of services locations. Note that using this
option may lead to unbalanced situations.","New 'weak' option to data treatments, allowing to relax the distance
requirements if they were not satisfiable. This allows requiring more
chunks than the number of services locations. Note that using this
option may lead to unbalanced situations.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,573,2016-05-03T14:33:17Z,2016-05-03T14:47:22Z,2017-02-22T10:21:53Z,MERGED,True,824,333,31,https://github.com/jfsmig,Events review,8,[],https://github.com/open-io/oio-sds/pull/573,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/573,"fixed format (sender services)
fixed signal management (event agent)
fixed deployment for testing purposes","fixed format (sender services)
fixed signal management (event agent)
fixed deployment for testing purposes",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,574,2016-05-03T20:31:15Z,2016-05-06T10:21:01Z,2017-02-22T10:21:53Z,MERGED,True,99,45,7,https://github.com/jfsmig,beanstalkd: configurable TUBE,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/574,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/574,"Set to oio as a default.
Known limitation: the OIO_EVT_BEANSTALKD_DEFAULT_TUBE directive for cmake doesn't affect the value configured by oio-bootstrap.py.","Set to oio as a default.
Known limitation: the OIO_EVT_BEANSTALKD_DEFAULT_TUBE directive for cmake doesn't affect the value configured by oio-bootstrap.py.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,575,2016-05-09T09:31:44Z,2016-06-21T12:56:10Z,2017-02-22T10:21:52Z,MERGED,True,429,138,19,https://github.com/jblanquart,core : add properties modification and container deletion in C SDK,6,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/575,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/575,"add get and set properties method in C SDK
add container removal in C SDK","add get and set properties method in C SDK
add container removal in C SDK",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,576,2016-05-09T10:10:59Z,2016-05-09T10:19:00Z,2016-05-09T10:19:00Z,MERGED,True,923,378,35,https://github.com/fvennetier,Merge release-2.0 into master,2,[],https://github.com/open-io/oio-sds/pull/576,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/576,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,577,2016-05-09T10:26:08Z,2016-05-09T12:30:47Z,2017-02-22T10:10:58Z,MERGED,True,1241,1271,28,https://github.com/jfsmig,Makes the proxy prefer MASTER (resp. SLAVE) for writing (resp. reading) ops,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/577,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/577,And big thanks to @fvennetier  for a better scheduling of requests in sqliterepo!,And big thanks to @fvennetier  for a better scheduling of requests in sqliterepo!,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,578,2016-05-09T12:28:19Z,2016-05-09T13:13:14Z,2017-02-22T10:20:26Z,MERGED,True,68,139,16,https://github.com/jfsmig,Benefits from optimized strcmp() when case sensitivity is not worth,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/578,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/578,"In addition, here are minor proxy cleanups.","In addition, here are minor proxy cleanups.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,579,2016-05-10T08:56:52Z,2016-05-10T08:57:12Z,2016-05-10T08:57:12Z,MERGED,True,1,0,1,https://github.com/jkasarherou,event-agent: add default tube option in sample conf,1,[],https://github.com/open-io/oio-sds/pull/579,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/579,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,580,2016-05-10T18:33:34Z,2016-05-11T15:25:13Z,2016-05-24T13:56:38Z,MERGED,True,12,6,6,https://github.com/jkasarherou,fixes for event-agent,3,[],https://github.com/open-io/oio-sds/pull/580,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/580,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,581,2016-05-12T13:52:17Z,2016-05-12T15:26:35Z,2016-05-23T07:26:41Z,MERGED,True,34,3,2,https://github.com/jkasarherou,event-agent: use basic http for account client,1,[],https://github.com/open-io/oio-sds/pull/581,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/581,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,582,2016-05-12T15:52:31Z,2016-05-12T16:16:04Z,2017-02-22T10:21:50Z,MERGED,True,2,4,1,https://github.com/jfsmig,"metautils/lb: uses the local PRNG, uniform distribution",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/582,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/582,"Uses the local PRNG instead of the libc's rand(), with its guarantee on
the uniform distribution over a given range.
This should lead to better random and should fix the apparent preference
for the first item.","Uses the local PRNG instead of the libc's rand(), with its guarantee on
the uniform distribution over a given range.
This should lead to better random and should fix the apparent preference
for the first item.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,583,2016-05-12T16:11:51Z,2016-05-12T16:36:10Z,2016-05-13T16:03:15Z,MERGED,True,19,8,1,https://github.com/jfsmig,oio-bootstrap.py: fixed default schema for mail applications,1,[],https://github.com/open-io/oio-sds/pull/583,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/583,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,585,2016-05-13T08:49:13Z,2016-05-20T09:58:19Z,2017-02-22T10:21:49Z,MERGED,True,368,162,10,https://github.com/jblanquart,tools : Add file configuration for oio-bootstrap.py,3,[],https://github.com/open-io/oio-sds/pull/585,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/585,"some notes : The file must be in yaml or json.
the json file must finish with .json, yaml with .yml
Some options in oio-reset.sh was removed. The remaining one are : -B, -D, -I, -N, -Z
the configuration file must be passed with the -f option in oio-reset.sh .","some notes : The file must be in yaml or json.
the json file must finish with .json, yaml with .yml
Some options in oio-reset.sh was removed. The remaining one are : -B, -D, -I, -N, -Z
the configuration file must be passed with the -f option in oio-reset.sh .",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,585,2016-05-13T08:49:13Z,2016-05-20T09:58:19Z,2017-02-22T10:21:49Z,MERGED,True,368,162,10,https://github.com/jblanquart,tools : Add file configuration for oio-bootstrap.py,3,[],https://github.com/open-io/oio-sds/pull/585,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/585#issuecomment-220190059,"some notes : The file must be in yaml or json.
the json file must finish with .json, yaml with .yml
Some options in oio-reset.sh was removed. The remaining one are : -B, -D, -I, -N, -Z
the configuration file must be passed with the -f option in oio-reset.sh .","It seems good! Whatever it still requires attention :)

a lot of commented code
completely drop the -B and -D options to oio-reset.sh: the value can be fetch from the configuration file. Do not hesitate to use (develop) a side CLI tool to get entries from the file.
competely drop all the options from oio-bootstrap.py",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,586,2016-05-13T16:02:38Z,2016-05-18T22:43:16Z,2017-02-22T10:21:49Z,MERGED,True,19,8,3,https://github.com/jblanquart,proxy/common.c : add a function to recover flags from url or header,1,[],https://github.com/open-io/oio-sds/pull/586,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/586,"add the function
gboolean _request_get_flag (struct req_args_s *args, const char *header, const char *flag, const gboolean default_value);","add the function
gboolean _request_get_flag (struct req_args_s *args, const char *header, const char *flag, const gboolean default_value);",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,587,2016-05-17T11:59:34Z,2016-05-17T12:15:32Z,2016-05-17T12:15:32Z,MERGED,True,1,1,1,https://github.com/fvennetier,Do not generate extra debug and asserts when building in RelWithDebInfo,1,[],https://github.com/open-io/oio-sds/pull/587,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/587,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,588,2016-05-17T13:16:31Z,2016-05-17T13:37:21Z,2016-05-17T13:37:21Z,MERGED,True,6,5,3,https://github.com/fvennetier,core: fix warnings happening with some libcurl/gcc versions,1,[],https://github.com/open-io/oio-sds/pull/588,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/588,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,589,2016-05-18T13:19:31Z,2016-05-18T13:26:48Z,2016-05-18T13:26:48Z,MERGED,True,18,12,3,https://github.com/fvennetier,core: fix warnings happening with some libcurl/gcc versions (2),1,[],https://github.com/open-io/oio-sds/pull/589,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/589,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,590,2016-05-18T14:00:27Z,2016-05-18T14:07:33Z,2017-02-22T10:21:46Z,MERGED,True,1,1,1,https://github.com/jfsmig,events/beanstalkd: fixed `use` command,1,[],https://github.com/open-io/oio-sds/pull/590,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/590,Mandatory in lowercase.,Mandatory in lowercase.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,591,2016-05-18T22:34:38Z,2016-05-18T23:11:47Z,2016-05-18T23:13:30Z,MERGED,True,74,27,2,https://github.com/jfsmig,core: better management of unknown namespaces,1,[],https://github.com/open-io/oio-sds/pull/591,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/591,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,592,2016-05-18T23:09:02Z,2016-05-18T23:19:34Z,2016-05-18T23:20:25Z,MERGED,True,24,30,5,https://github.com/jfsmig,proxy: all the boolean flags available from the URL,1,[],https://github.com/open-io/oio-sds/pull/592,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/592,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,593,2016-05-19T12:02:05Z,2016-05-19T12:13:24Z,2016-05-19T12:16:08Z,CLOSED,False,237,59,15,https://github.com/fvennetier,EC through gateway + rebase on master,6,[],https://github.com/open-io/oio-sds/pull/593,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/593,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,594,2016-05-19T12:18:47Z,2016-05-19T15:32:19Z,2016-05-20T08:55:25Z,MERGED,True,255,68,20,https://github.com/fvennetier,EC through gateway + rebase on master,6,[],https://github.com/open-io/oio-sds/pull/594,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/594,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,595,2016-05-23T10:24:02Z,2016-05-23T10:33:35Z,2017-02-22T10:21:48Z,MERGED,True,55,20,3,https://github.com/jkasarherou,event-agent: beanstalk interaction reviewed,1,[],https://github.com/open-io/oio-sds/pull/595,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/595,(cherry picked from commit d4c868e),(cherry picked from commit d4c868e),True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,596,2016-05-23T13:21:34Z,2016-05-23T13:33:00Z,2016-05-23T13:33:01Z,MERGED,True,255,34,10,https://github.com/jkasarherou,Stgpol review,2,[],https://github.com/open-io/oio-sds/pull/596,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/596,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,597,2016-05-24T14:16:58Z,2016-05-24T14:32:25Z,2016-05-24T14:33:09Z,MERGED,True,26,18,5,https://github.com/fvennetier,Merge master into stgpol-review,11,[],https://github.com/open-io/oio-sds/pull/597,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/597,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,598,2016-05-24T15:59:27Z,2016-05-24T19:49:01Z,2016-05-24T19:52:17Z,MERGED,True,495,235,18,https://github.com/fvennetier,Merge master into stgpol-review,11,[],https://github.com/open-io/oio-sds/pull/598,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/598,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,600,2016-05-25T08:36:19Z,2016-05-25T08:43:41Z,2017-02-09T04:37:42Z,MERGED,True,1,1,1,https://github.com/jkasarherou,lower version requirement for python-werkzeug,1,[],https://github.com/open-io/oio-sds/pull/600,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/600,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,601,2016-05-25T12:33:13Z,2016-05-25T12:56:44Z,2017-02-22T10:21:44Z,CLOSED,False,0,0,0,https://github.com/jblanquart,tools/oio-reset.sh : add support of relative path,0,[],https://github.com/open-io/oio-sds/pull/601,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/601,adding support for relative path (close #599),adding support for relative path (close #599),True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,602,2016-05-25T13:02:22Z,2016-05-27T07:45:51Z,2017-02-22T10:21:43Z,MERGED,True,13,5,2,https://github.com/jblanquart,tools/oio-reset.sh : relative path support compatibility (fixed #599),2,[],https://github.com/open-io/oio-sds/pull/602,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/602,tools/oio-reset : relative path support compatibility (fixed #599 ),tools/oio-reset : relative path support compatibility (fixed #599 ),True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,603,2016-05-25T13:53:40Z,2016-05-25T14:44:15Z,2016-05-25T14:44:15Z,MERGED,True,408,400,7,https://github.com/jkasarherou,rdir and account: python-flask no longer required,1,[],https://github.com/open-io/oio-sds/pull/603,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/603,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,604,2016-05-25T14:27:36Z,2016-05-26T09:14:36Z,2016-05-26T09:37:36Z,MERGED,True,868,951,45,https://github.com/fvennetier,New erasure coding daemon integration,18,[],https://github.com/open-io/oio-sds/pull/604,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/604,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,605,2016-05-26T11:15:11Z,2016-05-30T16:51:48Z,2017-02-22T10:21:43Z,MERGED,True,639,5242,37,https://github.com/jfsmig,"Drops rainx, manages trailers in rawx",8,[],https://github.com/open-io/oio-sds/pull/605,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/605,"Since ecd is here, no need of the rainx anymore.","Since ecd is here, no need of the rainx anymore.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,606,2016-05-27T14:18:18Z,2016-05-27T17:12:58Z,2016-05-30T22:04:58Z,MERGED,True,68,23,5,https://github.com/jfsmig,Fixes proxy route: /admin/status,3,[],https://github.com/open-io/oio-sds/pull/606,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/606,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,607,2016-05-27T21:37:55Z,2016-05-30T12:48:30Z,2017-02-22T10:21:42Z,MERGED,True,355,640,26,https://github.com/jkasarherou,bootstrap: review config input,1,[],https://github.com/open-io/oio-sds/pull/607,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/607,"new config format for bootstrap, only yml
changed test.conf file to test.yml with also review format
get rid of the python scripts needed to read this file, not required by oio-reset anymore","new config format for bootstrap, only yml
changed test.conf file to test.yml with also review format
get rid of the python scripts needed to read this file, not required by oio-reset anymore",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,608,2016-05-30T22:05:05Z,2016-05-31T05:35:26Z,2016-06-14T10:56:24Z,MERGED,True,36,17,4,https://github.com/jfsmig,rawx: fixes checks on xattr when no trailers have been sent.,3,[],https://github.com/open-io/oio-sds/pull/608,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/608,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,609,2016-06-01T13:16:49Z,2016-06-01T13:33:12Z,2016-06-01T13:33:12Z,MERGED,True,30,15,9,https://github.com/fvennetier,Make tests pass,1,[],https://github.com/open-io/oio-sds/pull/609,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/609,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,610,2016-06-01T22:33:51Z,2016-06-07T09:51:10Z,2017-02-22T10:21:41Z,MERGED,True,618,835,33,https://github.com/jkasarherou,storage policy ongoing work,6,[],https://github.com/open-io/oio-sds/pull/610,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/610,"work around the storage policy and the chunk-method
now chunk-method is the key metadata to learn how a content is stored
two supported methods:

plain for standard replication
ec for erasure coding

ec requires chunks to have two new meta: metachunk_size, metachunk_hash
metachunk_size refers to the number of bytes of content data was stored in a metachunk
metachunk_hash refers to the md5 checksum of the content data stored in a metachunk
to support streaming metachunks to rawx, these are known by the rawx in the trailers of the chunked PUT request
This also removes useless metadata stored in the rdir db","work around the storage policy and the chunk-method
now chunk-method is the key metadata to learn how a content is stored
two supported methods:

plain for standard replication
ec for erasure coding

ec requires chunks to have two new meta: metachunk_size, metachunk_hash
metachunk_size refers to the number of bytes of content data was stored in a metachunk
metachunk_hash refers to the md5 checksum of the content data stored in a metachunk
to support streaming metachunks to rawx, these are known by the rawx in the trailers of the chunked PUT request
This also removes useless metadata stored in the rdir db",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,615,2016-06-07T10:22:19Z,2016-06-08T11:38:30Z,2017-02-09T04:37:46Z,CLOSED,False,362,59,11,https://github.com/jkasarherou,new commands for CLI,3,[],https://github.com/open-io/oio-sds/pull/615,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/615,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,615,2016-06-07T10:22:19Z,2016-06-08T11:38:30Z,2017-02-09T04:37:46Z,CLOSED,False,362,59,11,https://github.com/jkasarherou,new commands for CLI,3,[],https://github.com/open-io/oio-sds/pull/615,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/615#issuecomment-224564106,,"no need for this PR for the moment
will integrate these features in a bigger PR",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,616,2016-06-07T16:57:58Z,2016-06-10T13:30:49Z,2017-02-22T10:21:38Z,MERGED,True,2328,2784,52,https://github.com/fvennetier,Integrate the new load balancer,9,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/616,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/616,"The configuration is still the same, it will be changed later.","The configuration is still the same, it will be changed later.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,616,2016-06-07T16:57:58Z,2016-06-10T13:30:49Z,2017-02-22T10:21:38Z,MERGED,True,2328,2784,52,https://github.com/fvennetier,Integrate the new load balancer,9,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/616,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/616#issuecomment-225182114,"The configuration is still the same, it will be changed later.",Fixes #198,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,616,2016-06-07T16:57:58Z,2016-06-10T13:30:49Z,2017-02-22T10:21:38Z,MERGED,True,2328,2784,52,https://github.com/fvennetier,Integrate the new load balancer,9,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/616,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/616#issuecomment-225182294,"The configuration is still the same, it will be changed later.",First step toward #190 \o/,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,617,2016-06-08T16:19:28Z,2016-06-09T09:34:44Z,2017-02-09T04:37:48Z,MERGED,True,7231,494,70,https://github.com/jkasarherou,Python api merge,5,[],https://github.com/open-io/oio-sds/pull/617,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/617,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,617,2016-06-08T16:19:28Z,2016-06-09T09:34:44Z,2017-02-09T04:37:48Z,MERGED,True,7231,494,70,https://github.com/jkasarherou,Python api merge,5,[],https://github.com/open-io/oio-sds/pull/617,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/617#issuecomment-224650627,,"this changes a lot of stuff regarding the dependencies
so fellow developers you'll will probably want to reinstall a new python virtualenv from scratch to have a clean environment",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,618,2016-06-10T12:58:11Z,2016-12-30T05:03:55Z,2016-12-30T05:03:55Z,CLOSED,False,132,53,9,https://github.com/fvennetier,"m2,events: add sequence number, add event logging filter",1,[],https://github.com/open-io/oio-sds/pull/618,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/618,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,618,2016-06-10T12:58:11Z,2016-12-30T05:03:55Z,2016-12-30T05:03:55Z,CLOSED,False,132,53,9,https://github.com/fvennetier,"m2,events: add sequence number, add event logging filter",1,[],https://github.com/open-io/oio-sds/pull/618,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/618#issuecomment-232289162,,is this thing legit?,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,618,2016-06-10T12:58:11Z,2016-12-30T05:03:55Z,2016-12-30T05:03:55Z,CLOSED,False,132,53,9,https://github.com/fvennetier,"m2,events: add sequence number, add event logging filter",1,[],https://github.com/open-io/oio-sds/pull/618,https://github.com/jkasarherou,3,https://github.com/open-io/oio-sds/pull/618#issuecomment-269732993,,this is not needed anymore,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,619,2016-06-13T09:16:29Z,2016-06-14T09:58:33Z,2016-06-14T09:58:33Z,MERGED,True,374,695,24,https://github.com/jkasarherou,update EC content tools and tests,6,[],https://github.com/open-io/oio-sds/pull/619,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/619,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,620,2016-06-13T17:00:30Z,2016-06-14T09:11:06Z,2016-06-14T09:16:17Z,MERGED,True,131,167,11,https://github.com/fvennetier,Fix rawx compression,3,[],https://github.com/open-io/oio-sds/pull/620,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/620,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,621,2016-06-15T13:09:42Z,2016-06-15T23:54:06Z,2016-06-16T14:34:30Z,MERGED,True,12,2,1,https://github.com/fvennetier,"Show meta0 and meta1 addresses in ""openio container locate""",1,[],https://github.com/open-io/oio-sds/pull/621,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/621,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,622,2016-06-15T16:00:49Z,2016-06-15T23:53:18Z,2016-06-16T14:34:12Z,MERGED,True,175,63,18,https://github.com/fvennetier,"Fix memleaks, LB, and add test envs",10,[],https://github.com/open-io/oio-sds/pull/622,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/622,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,623,2016-06-16T09:23:33Z,2016-06-16T11:40:55Z,2016-06-16T14:34:01Z,MERGED,True,1058,59,15,https://github.com/fvennetier,Backblaze support,16,[],https://github.com/open-io/oio-sds/pull/623,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/623,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,624,2016-06-16T12:52:09Z,2016-06-16T13:51:13Z,2016-06-16T13:51:13Z,MERGED,True,2,2,2,https://github.com/fvennetier,cli: fix container listing,1,[],https://github.com/open-io/oio-sds/pull/624,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/624,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,625,2016-06-16T13:16:13Z,2016-06-16T13:22:10Z,2016-06-16T13:22:10Z,MERGED,True,1,1,1,https://github.com/jfsmig,ecd: wraps around mod_wsgi bug,1,[],https://github.com/open-io/oio-sds/pull/625,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/625,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,626,2016-06-17T16:00:52Z,2016-06-18T19:50:04Z,2017-02-22T10:21:34Z,MERGED,True,36,13,6,https://github.com/fvennetier,conscience: option to unlock scores by default (fix #612),1,[],https://github.com/open-io/oio-sds/pull/626,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/626,"The option is 'lock_at_first_register' and is on by default.
It must be specified per service type, e.g.:
param_service.meta0.lock_at_first_register=false","The option is 'lock_at_first_register' and is on by default.
It must be specified per service type, e.g.:
param_service.meta0.lock_at_first_register=false",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,627,2016-06-21T08:59:01Z,2016-06-21T09:23:21Z,2017-02-22T10:21:34Z,MERGED,True,25,10,9,https://github.com/jfsmig,oio-sds API version check,5,[],https://github.com/open-io/oio-sds/pull/627,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/627,fix with backblaze tiering,fix with backblaze tiering,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,628,2016-06-21T23:10:37Z,2016-06-22T00:45:06Z,2017-02-22T10:21:33Z,MERGED,True,254,68,5,https://github.com/jfsmig,core: exposes the metachunks boundaries,2,[],https://github.com/open-io/oio-sds/pull/628,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/628,Allows a client application to know the about how the content has been split. Useful to align ranges on metachunks borders.,Allows a client application to know the about how the content has been split. Useful to align ranges on metachunks borders.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,629,2016-06-22T12:22:10Z,2016-06-22T12:29:10Z,2017-02-22T10:21:33Z,MERGED,True,130,90,4,https://github.com/jfsmig,core: more DL tests with ranges,1,[],https://github.com/open-io/oio-sds/pull/629,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/629,"non contiguous
not sorted","non contiguous
not sorted",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,630,2016-06-23T08:43:01Z,2016-07-04T12:15:57Z,2016-08-02T12:24:39Z,MERGED,True,227,128,7,https://github.com/jblanquart,backblaze : delete operation is made asynchronously,1,[],https://github.com/open-io/oio-sds/pull/630,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/630,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,631,2016-06-23T12:46:46Z,2016-06-24T12:56:22Z,2017-02-22T10:21:32Z,MERGED,True,376,104,19,https://github.com/fvennetier,Implement metachunk replacement,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/631,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/631,"This will allow optimized random writes (to change 1 byte, you will
have to download and reupload only 1 metachunk, not the whole content).","This will allow optimized random writes (to change 1 byte, you will
have to download and reupload only 1 metachunk, not the whole content).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,632,2016-06-24T16:47:47Z,2016-06-27T13:43:44Z,2016-07-07T11:54:51Z,MERGED,True,348,268,13,https://github.com/jfsmig,C API : able to append data to contents,7,[],https://github.com/open-io/oio-sds/pull/632,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/632,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,635,2016-07-01T14:44:41Z,2016-07-04T13:53:01Z,2017-02-22T10:21:31Z,MERGED,True,602,563,38,https://github.com/fvennetier,Review storage policy and service pool configuration,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/635,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/635,Fix #190.,Fix #190.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,635,2016-07-01T14:44:41Z,2016-07-04T13:53:01Z,2017-02-22T10:21:31Z,MERGED,True,602,563,38,https://github.com/fvennetier,Review storage policy and service pool configuration,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/635,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/635#issuecomment-230248342,Fix #190.,Also fixes #434.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,635,2016-07-01T14:44:41Z,2016-07-04T13:53:01Z,2017-02-22T10:21:31Z,MERGED,True,602,563,38,https://github.com/fvennetier,Review storage policy and service pool configuration,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/635,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/635#issuecomment-230295743,Fix #190.,I love this! 😍,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,636,2016-07-04T13:56:51Z,2016-07-04T14:07:23Z,2016-07-07T11:54:52Z,MERGED,True,8,2,2,https://github.com/jfsmig,Fixes memleaks,2,[],https://github.com/open-io/oio-sds/pull/636,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/636,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,637,2016-07-05T07:59:34Z,2016-07-05T08:05:52Z,2016-07-05T08:05:52Z,MERGED,True,6,2,2,https://github.com/fvennetier,"travis: test ""Release"" compilation",1,[],https://github.com/open-io/oio-sds/pull/637,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/637,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,639,2016-07-06T13:29:45Z,2016-07-07T16:24:05Z,2016-07-07T16:42:55Z,MERGED,True,29,8,4,https://github.com/fvennetier,"proxy, metautils: fix #638",2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/639,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/639,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,640,2016-07-07T13:52:57Z,2016-07-07T16:43:53Z,2017-02-22T10:21:36Z,MERGED,True,984,622,8,https://github.com/jfsmig,C SDK: fixes and improvements,15,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/640,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/640,"added robustness with invalid chunk positions
interface reviewed to report typed content ""system"" properties
a lot of fixes around buffers management","added robustness with invalid chunk positions
interface reviewed to report typed content ""system"" properties
a lot of fixes around buffers management",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,641,2016-07-07T17:21:02Z,2016-07-08T15:46:30Z,2016-07-20T16:32:10Z,MERGED,True,119,79,8,https://github.com/fvennetier,ecd: take Range header into account,2,[],https://github.com/open-io/oio-sds/pull/641,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/641,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,641,2016-07-07T17:21:02Z,2016-07-08T15:46:30Z,2016-07-20T16:32:10Z,MERGED,True,119,79,8,https://github.com/fvennetier,ecd: take Range header into account,2,[],https://github.com/open-io/oio-sds/pull/641,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/641#issuecomment-231340348,,"Please, rebase your branch on the master to benefit from the latest fixes around the functional tests.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,642,2016-07-08T10:18:26Z,2016-07-08T11:44:37Z,2017-02-22T10:21:30Z,MERGED,True,22,18,3,https://github.com/jfsmig,Fixes the functional tests,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/642,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/642,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,643,2016-07-12T07:53:30Z,2016-07-12T09:06:06Z,2017-02-22T10:21:30Z,MERGED,True,142,18,7,https://github.com/jfsmig,core + sqlx: more debug when triggered,3,[],https://github.com/open-io/oio-sds/pull/643,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/643,"sqlx: SQL queries dumped in the abstract client
core: allows plugging a custom log handler for a better integration with tools providing a custom logging method.","sqlx: SQL queries dumped in the abstract client
core: allows plugging a custom log handler for a better integration with tools providing a custom logging method.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,645,2016-07-13T16:00:07Z,2016-07-18T11:40:35Z,2016-07-20T16:31:45Z,MERGED,True,449,140,11,https://github.com/fvennetier,LB pools improvements + reviewed conscience configuration,4,[],https://github.com/open-io/oio-sds/pull/645,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/645,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,647,2016-07-18T16:31:32Z,2016-07-21T13:05:58Z,2016-07-21T16:26:20Z,MERGED,True,50,46,3,https://github.com/fvennetier,python api: support multiple ranges in same request,1,[],https://github.com/open-io/oio-sds/pull/647,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/647,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,648,2016-07-19T08:38:08Z,2016-07-19T09:06:42Z,2016-07-19T09:06:42Z,MERGED,True,39,24,3,https://github.com/jfsmig,cache: memcached and hiredis not built by default,1,[],https://github.com/open-io/oio-sds/pull/648,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/648,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,649,2016-07-19T09:02:52Z,2016-07-19T13:17:15Z,2016-08-03T15:02:59Z,MERGED,True,3,1,1,https://github.com/jfsmig,core: reports the DEBUG log level,1,[],https://github.com/open-io/oio-sds/pull/649,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/649,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,651,2016-07-19T15:19:58Z,2016-07-22T14:27:40Z,2017-02-22T10:21:26Z,MERGED,True,429,49,23,https://github.com/fvennetier,"New content truncation functions, fixes around events",3,[],https://github.com/open-io/oio-sds/pull/651,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/651,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,652,2016-07-25T23:10:40Z,2016-07-26T06:29:42Z,2016-07-26T06:29:42Z,MERGED,True,6,6,1,https://github.com/jkasarherou,cli: fix volume commands,1,[],https://github.com/open-io/oio-sds/pull/652,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/652,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,653,2016-07-26T10:15:33Z,2017-07-19T13:23:23Z,2017-07-19T13:23:24Z,CLOSED,False,364,95,11,https://github.com/jblanquart,data encryption,3,[],https://github.com/open-io/oio-sds/pull/653,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/653,"oio/api/backblaze : adding cryptography
oio/common : adding some cryptography tools
oio/cli : adding a new openio command : openio generate encryption key
Some notes : The cryptography is actually made with the requests library with the Fernet method.
To see more details about Fernet, see this page : https://github.com/fernet/spec/blob/master/Spec.md","oio/api/backblaze : adding cryptography
oio/common : adding some cryptography tools
oio/cli : adding a new openio command : openio generate encryption key
Some notes : The cryptography is actually made with the requests library with the Fernet method.
To see more details about Fernet, see this page : https://github.com/fernet/spec/blob/master/Spec.md",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,653,2016-07-26T10:15:33Z,2017-07-19T13:23:23Z,2017-07-19T13:23:24Z,CLOSED,False,364,95,11,https://github.com/jblanquart,data encryption,3,[],https://github.com/open-io/oio-sds/pull/653,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/653#issuecomment-316385151,"oio/api/backblaze : adding cryptography
oio/common : adding some cryptography tools
oio/cli : adding a new openio command : openio generate encryption key
Some notes : The cryptography is actually made with the requests library with the Fernet method.
To see more details about Fernet, see this page : https://github.com/fernet/spec/blob/master/Spec.md",🤷‍♂️,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,654,2016-07-26T13:06:41Z,2016-07-26T13:30:43Z,2016-07-26T13:30:48Z,MERGED,True,116,14,5,https://github.com/fvennetier,"More LB tests, minor fix in CLI",2,[],https://github.com/open-io/oio-sds/pull/654,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/654,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,655,2016-07-26T16:33:07Z,2017-05-09T16:06:55Z,2017-05-09T16:06:55Z,CLOSED,False,820,69,17,https://github.com/jblanquart,#655 - Tiering: Add possibility to make filters,2,[],https://github.com/open-io/oio-sds/pull/655,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/655,"To begin with storage tiering, put a new parameter tiering_settings_file in your bootstrap config file. this parameter must contain the path of the tiering config yaml file.
The filter is implemented with some filters internally.
2 filters are actually implemented : none, who just returns True and python_script who launch a python script and determine if the filter let him do tiering or not.
2 config files are available :

/etc/tiering_config.yml -> exemple of what the tiering_config_file must be
/etc/tiering_creation_date.py -> exemple of python_script filter, test if the actual time is greater than creation_time + <tiering_time> (in seconds, to define in the tiering_settings_file)

To write new python variables, you have 2 parameters at disposition:
obj_infos : the information of the object
filter_args : the arguments available in the args of the tiering config file","To begin with storage tiering, put a new parameter tiering_settings_file in your bootstrap config file. this parameter must contain the path of the tiering config yaml file.
The filter is implemented with some filters internally.
2 filters are actually implemented : none, who just returns True and python_script who launch a python script and determine if the filter let him do tiering or not.
2 config files are available :

/etc/tiering_config.yml -> exemple of what the tiering_config_file must be
/etc/tiering_creation_date.py -> exemple of python_script filter, test if the actual time is greater than creation_time + <tiering_time> (in seconds, to define in the tiering_settings_file)

To write new python variables, you have 2 parameters at disposition:
obj_infos : the information of the object
filter_args : the arguments available in the args of the tiering config file",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,655,2016-07-26T16:33:07Z,2017-05-09T16:06:55Z,2017-05-09T16:06:55Z,CLOSED,False,820,69,17,https://github.com/jblanquart,#655 - Tiering: Add possibility to make filters,2,[],https://github.com/open-io/oio-sds/pull/655,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/655#issuecomment-300214311,"To begin with storage tiering, put a new parameter tiering_settings_file in your bootstrap config file. this parameter must contain the path of the tiering config yaml file.
The filter is implemented with some filters internally.
2 filters are actually implemented : none, who just returns True and python_script who launch a python script and determine if the filter let him do tiering or not.
2 config files are available :

/etc/tiering_config.yml -> exemple of what the tiering_config_file must be
/etc/tiering_creation_date.py -> exemple of python_script filter, test if the actual time is greater than creation_time + <tiering_time> (in seconds, to define in the tiering_settings_file)

To write new python variables, you have 2 parameters at disposition:
obj_infos : the information of the object
filter_args : the arguments available in the args of the tiering config file","Because we need to implement the filters in the fashion of the Amazon S3 lifecycle (with a per-bucket configuration instead of a single per-namespace configuration file), and because of the (huge) estimation of the time necessary to understand, fix and rebase, we prefer to reimplement it another way.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,656,2016-07-29T16:06:59Z,2016-08-03T08:30:36Z,2017-02-22T10:21:25Z,MERGED,True,395,1,7,https://github.com/jblanquart,events - check response from beanstalkd requests,1,[],https://github.com/open-io/oio-sds/pull/656,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/656,"oio/events : verify content received from beanstalkd
tests : adding some tests to verify beanstalkd requests","oio/events : verify content received from beanstalkd
tests : adding some tests to verify beanstalkd requests",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,657,2016-08-02T10:37:48Z,2016-08-03T08:32:14Z,2016-08-03T08:32:14Z,MERGED,True,205,2,7,https://github.com/jkasarherou,cli: add basic functional tests,2,[],https://github.com/open-io/oio-sds/pull/657,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/657,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,658,2016-08-02T11:54:52Z,2018-09-20T15:41:40Z,2018-09-20T15:41:40Z,CLOSED,False,1197,141,26,https://github.com/jblanquart,Add new cache implementation in proxy,1,[],https://github.com/open-io/oio-sds/pull/658,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/658,"proxy : add new cache implementation in srv-known, srv-down and resolver
proxy : add new optional parameter to indicate cache parameter file","proxy : add new cache implementation in srv-known, srv-down and resolver
proxy : add new optional parameter to indicate cache parameter file",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,658,2016-08-02T11:54:52Z,2018-09-20T15:41:40Z,2018-09-20T15:41:40Z,CLOSED,False,1197,141,26,https://github.com/jblanquart,Add new cache implementation in proxy,1,[],https://github.com/open-io/oio-sds/pull/658,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/658#issuecomment-408797905,"proxy : add new cache implementation in srv-known, srv-down and resolver
proxy : add new optional parameter to indicate cache parameter file",OK to close this?,True,{'THUMBS_DOWN': ['https://github.com/jfsmig']}
open-io/oio-sds,https://github.com/open-io/oio-sds,658,2016-08-02T11:54:52Z,2018-09-20T15:41:40Z,2018-09-20T15:41:40Z,CLOSED,False,1197,141,26,https://github.com/jblanquart,Add new cache implementation in proxy,1,[],https://github.com/open-io/oio-sds/pull/658,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/658#issuecomment-421610280,"proxy : add new cache implementation in srv-known, srv-down and resolver
proxy : add new optional parameter to indicate cache parameter file","Not yet, a part of it will be useful very soon.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,661,2016-08-03T16:27:37Z,2016-08-03T22:01:28Z,2016-08-03T22:01:28Z,MERGED,True,242,39,15,https://github.com/jkasarherou,cli: add more functional tests,1,[],https://github.com/open-io/oio-sds/pull/661,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/661,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,662,2016-08-03T21:59:45Z,2016-08-04T12:04:12Z,2016-08-10T10:16:26Z,MERGED,True,123,56,7,https://github.com/jfsmig,"proxy fixes, oio-reset.sh evolution",6,[],https://github.com/open-io/oio-sds/pull/662,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/662,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,663,2016-08-03T22:00:41Z,2016-08-04T12:02:43Z,2016-08-10T10:16:23Z,MERGED,True,319,445,10,https://github.com/jfsmig,events / beanstalkd: now checked with unit tests,1,[],https://github.com/open-io/oio-sds/pull/663,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/663,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,664,2016-08-10T16:04:57Z,2016-08-10T16:20:51Z,2016-08-16T08:18:42Z,MERGED,True,11,6,5,https://github.com/jblanquart,oio|tests : all the headers are str (due to requests 2.11.0 update),1,[],https://github.com/open-io/oio-sds/pull/664,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/664,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,665,2016-08-10T16:55:40Z,2016-08-10T16:59:51Z,2017-02-22T10:21:23Z,MERGED,True,2,0,1,https://github.com/jfsmig,proxy: Fixes /admin/status,1,[],https://github.com/open-io/oio-sds/pull/665,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/665,restores the 'noredirect' option when crawling services,restores the 'noredirect' option when crawling services,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,666,2016-08-10T16:55:51Z,2016-08-10T17:10:43Z,2017-02-22T10:21:22Z,MERGED,True,1,7,7,https://github.com/jfsmig,oio-reset.sh: zookeeper untouched when not concerned,2,[],https://github.com/open-io/oio-sds/pull/666,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/666,"When zookeeper is set to 'false', it overrides any zookeeper config from
any other file specified before on the CLI. To avoid giving to much
importance to the order of configs, let's leave zookeeper untouched when
not concerned.","When zookeeper is set to 'false', it overrides any zookeeper config from
any other file specified before on the CLI. To avoid giving to much
importance to the order of configs, let's leave zookeeper untouched when
not concerned.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,667,2016-08-11T14:01:04Z,2016-08-23T07:31:41Z,2017-02-22T10:21:22Z,MERGED,True,378,14,31,https://github.com/jblanquart,Implement worm (no data modification) and slave (accept only replication) modes,1,[],https://github.com/open-io/oio-sds/pull/667,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/667,"To use admin mode, two methods are available
with the python cli, you can use the --admin param to pass in admin mode
with the C SDK, you can use oio_sds_configure with the OIOSDS_CFG_FLAG_ADMIN flag
to enable worm mode, you must add worm=true inside your oio-reset config file.
to modify the state of the NS (slave or master mode), you must add state='master' or 'slave' inside the oio-reset config file
By default, the state is in stand_alone mode.
This PR add also a new script named oio-flush-all, who flush all caches of meta0, meta1 and meta2.","To use admin mode, two methods are available
with the python cli, you can use the --admin param to pass in admin mode
with the C SDK, you can use oio_sds_configure with the OIOSDS_CFG_FLAG_ADMIN flag
to enable worm mode, you must add worm=true inside your oio-reset config file.
to modify the state of the NS (slave or master mode), you must add state='master' or 'slave' inside the oio-reset config file
By default, the state is in stand_alone mode.
This PR add also a new script named oio-flush-all, who flush all caches of meta0, meta1 and meta2.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,668,2016-08-11T23:32:43Z,2016-08-11T23:38:05Z,2016-08-11T23:38:06Z,MERGED,True,327,454,40,https://github.com/jfsmig,Jfs properties cleanup,11,[],https://github.com/open-io/oio-sds/pull/668,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/668,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,669,2016-08-12T10:57:43Z,2016-08-12T11:51:19Z,2016-08-12T13:00:50Z,MERGED,True,44,54,4,https://github.com/jfsmig,Jfs properties cleanup,2,[],https://github.com/open-io/oio-sds/pull/669,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/669,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,669,2016-08-12T10:57:43Z,2016-08-12T11:51:19Z,2016-08-12T13:00:50Z,MERGED,True,44,54,4,https://github.com/jfsmig,Jfs properties cleanup,2,[],https://github.com/open-io/oio-sds/pull/669,https://github.com/jblanquart,2,https://github.com/open-io/oio-sds/pull/669#issuecomment-239439676,,"in proxy/m2_actions.c:702

static GError * _load_content_from_json_object(struct req_args_s _args,
struct json_object *jbody, GSList *_out) {

The norm is more like this, no? :

static GError *
_load_content_from_json_object(struct req_args_s _args, struct json_object *jbody, GSList *_out)
{

#668 have a lot more change of format too, especially in core/ext.c",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,670,2016-08-16T15:10:10Z,2016-08-19T07:32:16Z,2017-02-22T10:21:21Z,MERGED,True,3,1,1,https://github.com/jblanquart,oio/api/backblaze_http : change api url to match new backblaze api url,1,[],https://github.com/open-io/oio-sds/pull/670,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/670,see https://help.backblaze.com/hc/en-us/articles/224959187-B2-Domain-Migration-Plan for more details,see https://help.backblaze.com/hc/en-us/articles/224959187-B2-Domain-Migration-Plan for more details,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,671,2016-08-17T13:33:54Z,2016-08-18T12:13:22Z,2017-02-22T10:21:21Z,MERGED,True,12,4,1,https://github.com/jblanquart,tests/functional/conscience/test_lb.py : correct test_choose_4_slot,1,[],https://github.com/open-io/oio-sds/pull/671,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/671,"The error was because the proxy shuffle all elements of the list after the conscience return the slots.
Now, the test is testing if there are 3 fast slots and 1 slow slots, not testing only the first and last element port","The error was because the proxy shuffle all elements of the list after the conscience return the slots.
Now, the test is testing if there are 3 fast slots and 1 slow slots, not testing only the first and last element port",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,672,2016-08-18T09:54:44Z,2016-08-30T16:07:03Z,2017-02-22T10:21:20Z,CLOSED,False,6,0,1,https://github.com/fvennetier,core: force usage of old fmemopen with glibc >= 2.22,1,[],https://github.com/open-io/oio-sds/pull/672,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/672,"Binary mode of fmemopen() has been removed in glibc 2.22.
Without binary mode, fmemopen() tries to add '\0' at the end of the
buffer, but if there is no room it fails an never flushes the writes,
leading to unpredictable behavior.","Binary mode of fmemopen() has been removed in glibc 2.22.
Without binary mode, fmemopen() tries to add '\0' at the end of the
buffer, but if there is no room it fails an never flushes the writes,
leading to unpredictable behavior.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,672,2016-08-18T09:54:44Z,2016-08-30T16:07:03Z,2017-02-22T10:21:20Z,CLOSED,False,6,0,1,https://github.com/fvennetier,core: force usage of old fmemopen with glibc >= 2.22,1,[],https://github.com/open-io/oio-sds/pull/672,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/672#issuecomment-243491562,"Binary mode of fmemopen() has been removed in glibc 2.22.
Without binary mode, fmemopen() tries to add '\0' at the end of the
buffer, but if there is no room it fails an never flushes the writes,
leading to unpredictable behavior.",Superseded by #677 .,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,673,2016-08-18T12:03:02Z,2016-08-26T07:00:36Z,2017-02-22T10:21:20Z,MERGED,True,27,9,3,https://github.com/jblanquart,core: modify set_properties and get_properties to respect new format,1,[],https://github.com/open-io/oio-sds/pull/673,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/673,core: The properties indicate in upload are set in the upload_commit step,core: The properties indicate in upload are set in the upload_commit step,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,673,2016-08-18T12:03:02Z,2016-08-26T07:00:36Z,2017-02-22T10:21:20Z,MERGED,True,27,9,3,https://github.com/jblanquart,core: modify set_properties and get_properties to respect new format,1,[],https://github.com/open-io/oio-sds/pull/673,https://github.com/jblanquart,2,https://github.com/open-io/oio-sds/pull/673#issuecomment-240709162,core: The properties indicate in upload are set in the upload_commit step,see #659,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,674,2016-08-18T16:14:46Z,2016-08-19T09:24:55Z,2017-02-22T10:21:20Z,MERGED,True,4,3,1,https://github.com/fvennetier,python api: fix StorageMethod cache,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/674,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/674,"This will avoid many object creations,
and reduce impact of a memory leak in PyECLib.
https://bitbucket.org/kmgreen2/pyeclib/issues/65/ecdriver-init-destruct-might-leak-memory","This will avoid many object creations,
and reduce impact of a memory leak in PyECLib.
https://bitbucket.org/kmgreen2/pyeclib/issues/65/ecdriver-init-destruct-might-leak-memory",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,675,2016-08-19T12:30:57Z,2016-08-30T15:28:06Z,2017-02-22T10:21:19Z,MERGED,True,69,17,4,https://github.com/fvennetier,m2: implement simple object counter,1,[],https://github.com/open-io/oio-sds/pull/675,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/675,"Count the number of entries in ""contents"" table of each container
and save it under key ""sys.m2.objects"" in admin table.
Next step is to count object per storage policy.","Count the number of entries in ""contents"" table of each container
and save it under key ""sys.m2.objects"" in admin table.
Next step is to count object per storage policy.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,676,2016-08-19T13:56:49Z,2016-08-23T13:14:22Z,2016-09-28T14:10:58Z,MERGED,True,1,1,1,https://github.com/jblanquart,all-requirements.txt: replace cliff version dependencies by choosing only 2.0.X versions,1,[],https://github.com/open-io/oio-sds/pull/676,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/676,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,676,2016-08-19T13:56:49Z,2016-08-23T13:14:22Z,2016-09-28T14:10:58Z,MERGED,True,1,1,1,https://github.com/jblanquart,all-requirements.txt: replace cliff version dependencies by choosing only 2.0.X versions,1,[],https://github.com/open-io/oio-sds/pull/676,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/676#issuecomment-241725037,,"the fix is ok,
but travis build failed because of failure in LB?",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,676,2016-08-19T13:56:49Z,2016-08-23T13:14:22Z,2016-09-28T14:10:58Z,MERGED,True,1,1,1,https://github.com/jblanquart,all-requirements.txt: replace cliff version dependencies by choosing only 2.0.X versions,1,[],https://github.com/open-io/oio-sds/pull/676,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/676#issuecomment-241725618,,This LB failure has been there for weeks. @Crashdown59 is working on it.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,677,2016-08-22T10:22:48Z,2016-08-30T16:06:10Z,2016-08-30T16:08:33Z,MERGED,True,74,16,3,https://github.com/fvennetier,Fix size of contents and container after append,5,['bug :scream:'],https://github.com/open-io/oio-sds/pull/677,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/677,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,678,2016-08-23T12:35:56Z,2016-08-23T12:52:04Z,2017-02-09T04:38:00Z,MERGED,True,594,339,14,https://github.com/jkasarherou,Properties cleanup,3,[],https://github.com/open-io/oio-sds/pull/678,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/678,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,679,2016-08-24T15:25:53Z,2016-08-26T08:55:07Z,2016-08-26T08:55:48Z,MERGED,True,112,60,12,https://github.com/fvennetier,Tests around properties (fix #659),6,[],https://github.com/open-io/oio-sds/pull/679,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/679,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,681,2016-08-26T10:26:18Z,2016-08-29T16:14:00Z,2017-02-22T10:21:23Z,CLOSED,False,42,13,4,https://github.com/jblanquart,meta2: adding recovery of location with the load balancer,1,[],https://github.com/open-io/oio-sds/pull/681,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/681,correcting problem with chunk move tests,correcting problem with chunk move tests,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,681,2016-08-26T10:26:18Z,2016-08-29T16:14:00Z,2017-02-22T10:21:23Z,CLOSED,False,42,13,4,https://github.com/jblanquart,meta2: adding recovery of location with the load balancer,1,[],https://github.com/open-io/oio-sds/pull/681,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/681#issuecomment-243172191,correcting problem with chunk move tests,Superseded with #683,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,683,2016-08-26T15:08:42Z,2016-08-29T16:12:09Z,2017-02-22T10:21:18Z,MERGED,True,81,37,7,https://github.com/fvennetier,"core,m2: fix spare chunk requests",1,[],https://github.com/open-io/oio-sds/pull/683,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/683,Supersedes #681,Supersedes #681,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,684,2016-08-29T07:51:01Z,2016-09-02T08:36:07Z,2017-02-22T10:21:17Z,MERGED,True,164,5,5,https://github.com/jblanquart,oio/cli: add oio-cluster command into openio client,1,[],https://github.com/open-io/oio-sds/pull/684,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/684,"New commands :
openio cluster list --local -> show all local services of cluster
openio cluster unlock   (--score ) -> unlock the service given in the command with the score 
openio cluster local conf -> print to stdout the namespace configuration values locally configured
openio clear flush  -> flush all services of the service type","New commands :
openio cluster list --local -> show all local services of cluster
openio cluster unlock   (--score ) -> unlock the service given in the command with the score 
openio cluster local conf -> print to stdout the namespace configuration values locally configured
openio clear flush  -> flush all services of the service type",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,685,2016-08-29T12:02:21Z,2016-09-07T13:23:58Z,2017-02-22T10:21:17Z,MERGED,True,29,4,1,https://github.com/jblanquart,rawx: trace follows the oio-sds logging format,2,[],https://github.com/open-io/oio-sds/pull/685,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/685,fix #634,fix #634,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,685,2016-08-29T12:02:21Z,2016-09-07T13:23:58Z,2017-02-22T10:21:17Z,MERGED,True,29,4,1,https://github.com/jblanquart,rawx: trace follows the oio-sds logging format,2,[],https://github.com/open-io/oio-sds/pull/685,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/685#issuecomment-243707332,fix #634,"About %O, documentation says:

You need to enable mod_logio to use this.

So template_rawx_service variable of oio-bootstrap.py is missing something like
LoadModule logio_module ${APACHE2_MODULES_SYSTEM_DIR}modules/mod_logio.so",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,685,2016-08-29T12:02:21Z,2016-09-07T13:23:58Z,2017-02-22T10:21:17Z,MERGED,True,29,4,1,https://github.com/jblanquart,rawx: trace follows the oio-sds logging format,2,[],https://github.com/open-io/oio-sds/pull/685,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/685#issuecomment-243711833,fix #634,"The log looks good for PUT requests but is weird for GET requests:
Aug 31 11:25:59 oio OIO,NS,rawx,1 20919 140509541005056 access INF 127.0.0.1:6008 127.0.0.1 PUT 201 18026 1069 9360156FE5329E8AF6D3B8F5096F0B31E4B88A876EB87439136A8D11F2330331 - ""9360156FE5329E8AF6D3B8F5096F0B31E4B88A876EB87439136A8D11F2330331 6DE061AF5A3B0500632C4C50D6505D42 17""
Aug 31 11:33:31 oio OIO,NS,rawx,2 20843 140120991262464 access INF 127.0.0.1:6009 127.0.0.1 GET 200 658 1049353 - - ""- - -""

I would also add the port used by the client (%{remote}p).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,685,2016-08-29T12:02:21Z,2016-09-07T13:23:58Z,2017-02-22T10:21:17Z,MERGED,True,29,4,1,https://github.com/jblanquart,rawx: trace follows the oio-sds logging format,2,[],https://github.com/open-io/oio-sds/pull/685,https://github.com/fvennetier,4,https://github.com/open-io/oio-sds/pull/685#issuecomment-243819692,fix #634,"You fixed the weird hyphens, but I still don't see the client port. Neither the chunk ID.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,686,2016-08-30T09:43:13Z,2016-08-30T12:35:37Z,2016-08-30T16:08:12Z,MERGED,True,2594,3640,103,https://github.com/fvennetier,Properties cleanup,34,[],https://github.com/open-io/oio-sds/pull/686,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/686,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,687,2016-08-30T12:45:22Z,2016-08-30T12:59:17Z,2016-08-30T13:43:25Z,MERGED,True,141,43,9,https://github.com/fvennetier,Python support streamed upload,2,[],https://github.com/open-io/oio-sds/pull/687,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/687,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,691,2016-09-01T09:15:10Z,2016-09-01T13:11:26Z,2016-09-01T14:34:56Z,MERGED,True,20,4,3,https://github.com/fvennetier,cli: do not require a type when calling 'openio cluster list',1,[],https://github.com/open-io/oio-sds/pull/691,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/691,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,692,2016-09-01T14:16:35Z,2016-09-01T14:33:46Z,2017-02-22T10:21:15Z,MERGED,True,28,11,4,https://github.com/fvennetier,core: fix oio_sds_get_usage(),1,[],https://github.com/open-io/oio-sds/pull/692,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/692,oio_sds_get_usage() is used by oiofs.,oio_sds_get_usage() is used by oiofs.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,693,2016-09-02T14:02:10Z,2016-09-05T10:23:09Z,2017-02-22T10:21:18Z,MERGED,True,50,36,9,https://github.com/fvennetier,cli: add 'openio cluster unlockall' command,1,[],https://github.com/open-io/oio-sds/pull/693,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/693,Related to #690.,Related to #690.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,694,2016-09-02T17:13:40Z,2016-09-05T10:21:21Z,2016-09-05T13:26:52Z,MERGED,True,22,5,4,https://github.com/fvennetier,"events: convert modification time to seconds, fix syslog prefix (fix #689)",3,[],https://github.com/open-io/oio-sds/pull/694,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/694,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,694,2016-09-02T17:13:40Z,2016-09-05T10:21:21Z,2016-09-05T13:26:52Z,MERGED,True,22,5,4,https://github.com/fvennetier,"events: convert modification time to seconds, fix syslog prefix (fix #689)",3,[],https://github.com/open-io/oio-sds/pull/694,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/694#issuecomment-244679152,,should also check the time format on the rdir side,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,696,2016-09-06T15:32:47Z,2016-09-06T15:52:39Z,2017-02-22T10:21:13Z,MERGED,True,19,19,5,https://github.com/fvennetier,proxy: fail on empty properties requests,1,[],https://github.com/open-io/oio-sds/pull/696,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/696,Previously it was a noop.,Previously it was a noop.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,697,2016-09-08T12:59:54Z,2016-09-08T14:53:47Z,2017-02-22T10:21:12Z,MERGED,True,96,16,10,https://github.com/fvennetier,Balance reads,2,[],https://github.com/open-io/oio-sds/pull/697,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/697,"In C API, by default, chunks are shuffled before reading disregarding the score. Now it is possible to start reading the highest scored one.
In Python API,  when reading a replicated content, we swap the highest scored chunk with one selected by a weighted random algorithm, to avoid harassing the same rawx.
New openio cluster lock command.","In C API, by default, chunks are shuffled before reading disregarding the score. Now it is possible to start reading the highest scored one.
In Python API,  when reading a replicated content, we swap the highest scored chunk with one selected by a weighted random algorithm, to avoid harassing the same rawx.
New openio cluster lock command.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,698,2016-09-12T14:51:08Z,2016-12-12T15:09:14Z,2017-02-22T10:21:12Z,CLOSED,False,45,3,4,https://github.com/jblanquart,core: flushing cache when rebalance prefixes,1,[],https://github.com/open-io/oio-sds/pull/698,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/698,"proxy: empty resolver cache when error is 'prefix not managed'
meta2: empty meta2 cache when error is 'prefix not managed'
meta1: reload prefixes when error is 'prefix not managed'","proxy: empty resolver cache when error is 'prefix not managed'
meta2: empty meta2 cache when error is 'prefix not managed'
meta1: reload prefixes when error is 'prefix not managed'",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,699,2016-09-13T07:22:22Z,2016-09-14T14:19:23Z,2016-09-14T14:20:15Z,MERGED,True,114,95,7,https://github.com/fvennetier,Fix rdir allocation,4,[],https://github.com/open-io/oio-sds/pull/699,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/699,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,700,2016-09-14T15:17:56Z,2016-12-12T13:33:37Z,2017-02-22T10:21:11Z,CLOSED,False,35,4,2,https://github.com/jblanquart,oio/directory/meta0: correcting rebalance function,1,[],https://github.com/open-io/oio-sds/pull/700,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/700,"The bug was caused by the non-check of the length of the random prefixes, who can be zero.
When the prefix set was zero, all prefixes of the service selected were lost, causing a lost of prefixes managed by a meta1","The bug was caused by the non-check of the length of the random prefixes, who can be zero.
When the prefix set was zero, all prefixes of the service selected were lost, causing a lost of prefixes managed by a meta1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,700,2016-09-14T15:17:56Z,2016-12-12T13:33:37Z,2017-02-22T10:21:11Z,CLOSED,False,35,4,2,https://github.com/jblanquart,oio/directory/meta0: correcting rebalance function,1,[],https://github.com/open-io/oio-sds/pull/700,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/700#issuecomment-266431818,"The bug was caused by the non-check of the length of the random prefixes, who can be zero.
When the prefix set was zero, all prefixes of the service selected were lost, causing a lost of prefixes managed by a meta1",Fixed in commit d52f907,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,701,2016-09-14T15:25:25Z,2016-09-15T06:43:31Z,2016-09-17T21:01:40Z,MERGED,True,19,10,2,https://github.com/jfsmig,More robustness against wrong stgpol configurations,2,[],https://github.com/open-io/oio-sds/pull/701,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/701,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,702,2016-09-16T07:12:25Z,2016-09-22T21:17:49Z,2016-09-28T14:09:54Z,MERGED,True,18,6,4,https://github.com/jblanquart,proxy: all PREFER_SLAVE requests can be changed into PREFER_MASTER,1,[],https://github.com/open-io/oio-sds/pull/702,https://github.com/jblanquart,1,https://github.com/open-io/oio-sds/pull/702,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,703,2016-09-16T15:52:43Z,2016-09-27T13:07:27Z,2017-02-22T10:21:10Z,MERGED,True,221,41,17,https://github.com/fvennetier,"core,m1: fix 'user_is_a_service' option handling (2)",5,[],https://github.com/open-io/oio-sds/pull/703,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/703,"There was a problem with the location of the service for which
the load-balancer was queried.
This requires conscience configuration modifications:

rdir pool must require a rawx (targets=1,rawx;1,rdir, or just don't define the pool, it will be autoconfigured);
service_update_policy for rdir must be rdir=KEEP|1|1|user_is_a_service=rawx.","There was a problem with the location of the service for which
the load-balancer was queried.
This requires conscience configuration modifications:

rdir pool must require a rawx (targets=1,rawx;1,rdir, or just don't define the pool, it will be autoconfigured);
service_update_policy for rdir must be rdir=KEEP|1|1|user_is_a_service=rawx.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,704,2016-09-20T11:58:58Z,2016-09-20T12:22:18Z,2016-09-20T12:22:19Z,MERGED,True,409,163,9,https://github.com/jfsmig,Several fixes to make it work from python,9,[],https://github.com/open-io/oio-sds/pull/704,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/704,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,705,2016-09-21T17:18:10Z,2016-09-22T17:39:57Z,2016-10-31T15:15:57Z,MERGED,True,237,8,7,https://github.com/fvennetier,Container name tests,2,[],https://github.com/open-io/oio-sds/pull/705,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/705,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,706,2016-09-21T22:12:25Z,2016-09-23T07:47:10Z,2017-02-22T10:21:09Z,MERGED,True,82,12,8,https://github.com/jfsmig,Various fixes around LB pools,7,['bug :scream:'],https://github.com/open-io/oio-sds/pull/706,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/706,"core: ceinture
metautils: bretelles","core: ceinture
metautils: bretelles",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,708,2016-09-22T01:27:01Z,2016-09-22T09:08:24Z,2017-02-22T10:21:09Z,MERGED,True,23,7,3,https://github.com/jfsmig,Prevent the registration of services when unlocking,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/708,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/708,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,709,2016-09-22T07:58:31Z,2016-09-22T09:56:54Z,2017-02-09T04:38:01Z,MERGED,True,98,17,3,https://github.com/jkasarherou,cli: add --full argument for full listing,2,[],https://github.com/open-io/oio-sds/pull/709,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/709,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,710,2016-09-22T21:42:51Z,2016-09-23T00:22:10Z,2016-09-23T00:22:10Z,MERGED,True,376,38,17,https://github.com/jfsmig,Tiering kinetic,13,[],https://github.com/open-io/oio-sds/pull/710,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/710,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,711,2016-09-26T16:55:26Z,2016-09-27T13:15:22Z,2016-09-27T13:18:27Z,MERGED,True,22,6,1,https://github.com/fvennetier,core: fix LB mask parsing,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/711,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/711,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,712,2016-09-27T15:33:02Z,2016-09-28T13:36:15Z,2017-02-22T10:11:39Z,MERGED,True,72,6,2,https://github.com/jfsmig,CLI: `openio cluster` completed,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/712,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/712,"Now able to wait services to be scored, and to unlock services with given type.
Fixes #690
(oio)me@home 70 # OIO_NS=OPENIO openio cluster wait -t meta2
+-------+----------------+-------+
| Type  | Service        | Score |
+-------+----------------+-------+
| meta2 | 127.0.0.1:6008 |    86 |
| meta2 | 127.0.0.1:6009 |    86 |
| meta2 | 127.0.0.1:6010 |    86 |
+-------+----------------+-------+","Now able to wait services to be scored, and to unlock services with given type.
Fixes #690
(oio)me@home 70 # OIO_NS=OPENIO openio cluster wait -t meta2
+-------+----------------+-------+
| Type  | Service        | Score |
+-------+----------------+-------+
| meta2 | 127.0.0.1:6008 |    86 |
| meta2 | 127.0.0.1:6009 |    86 |
| meta2 | 127.0.0.1:6010 |    86 |
+-------+----------------+-------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,713,2016-09-27T16:29:50Z,2016-09-28T07:44:45Z,2017-02-22T10:11:39Z,MERGED,True,9,1,1,https://github.com/jfsmig,cli: better message when all the services are locked,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/713,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/713,"Fixes #502
Explicit message telling no account service is available.","Fixes #502
Explicit message telling no account service is available.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,714,2016-09-28T10:21:24Z,2016-09-29T09:12:20Z,2017-02-22T10:11:38Z,MERGED,True,169,14,10,https://github.com/fvennetier,Better rdir balancing,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/714,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/714,rdir are linked to rawx by openio directory bootstrap.,rdir are linked to rawx by openio directory bootstrap.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,715,2016-09-28T14:58:46Z,2016-09-28T18:55:35Z,2016-09-28T18:55:49Z,MERGED,True,99,65,3,https://github.com/fvennetier,event-agent: fix TypeError on som delete events (fix #695),2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/715,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/715,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,716,2016-09-30T12:47:29Z,2016-09-30T14:21:49Z,2016-09-30T14:23:46Z,MERGED,True,25,10,2,https://github.com/fvennetier,blob-mover: various small improvements,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/716,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/716,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,717,2016-09-30T14:04:31Z,2016-09-30T16:51:38Z,2017-02-22T10:11:37Z,MERGED,True,76,11,3,https://github.com/jfsmig,Fix core's sysstat crash when monitoring a not found directory,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/717,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/717,"Fixes segfault happening when no cache of major/inor numbers and file not found
Fixes uninitialised variables
adds a unit test","Fixes segfault happening when no cache of major/inor numbers and file not found
Fixes uninitialised variables
adds a unit test",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,718,2016-09-30T16:45:27Z,2016-10-06T15:31:06Z,2016-10-06T16:15:54Z,MERGED,True,131,73,9,https://github.com/fvennetier,"Request ids, service timeouts",3,[],https://github.com/open-io/oio-sds/pull/718,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/718,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,719,2016-10-01T03:02:01Z,2016-10-05T00:37:55Z,2017-02-22T10:11:37Z,CLOSED,False,1,1,1,https://github.com/gdelaporte,Quick win,1,[],https://github.com/open-io/oio-sds/pull/719,https://github.com/gdelaporte,1,https://github.com/open-io/oio-sds/pull/719,Because it is easier when it's explained what to do,Because it is easier when it's explained what to do,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,719,2016-10-01T03:02:01Z,2016-10-05T00:37:55Z,2017-02-22T10:11:37Z,CLOSED,False,1,1,1,https://github.com/gdelaporte,Quick win,1,[],https://github.com/open-io/oio-sds/pull/719,https://github.com/gdelaporte,2,https://github.com/open-io/oio-sds/pull/719#issuecomment-251553040,Because it is easier when it's explained what to do,Seems legit :),True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,722,2016-10-06T15:24:50Z,2016-10-06T15:50:46Z,2017-02-22T10:11:36Z,MERGED,True,341,167,15,https://github.com/fvennetier,Various fixes and improvements on properties,4,[],https://github.com/open-io/oio-sds/pull/722,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/722,"Implement reference properties in C client.
Fix container properties reading.
Factorize code.","Implement reference properties in C client.
Fix container properties reading.
Factorize code.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,723,2016-10-06T16:07:38Z,2016-10-11T15:40:47Z,2016-10-11T15:40:47Z,MERGED,True,1026,273,52,https://github.com/jfsmig,kinetic tiering: master merged,40,[],https://github.com/open-io/oio-sds/pull/723,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/723,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,724,2016-10-07T15:56:23Z,2016-10-12T12:11:30Z,2016-10-12T15:22:47Z,MERGED,True,177,41,9,https://github.com/fvennetier,BlobClient improvements,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/724,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/724,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,729,2016-10-11T11:43:44Z,2016-10-11T14:59:08Z,2016-10-11T14:59:08Z,CLOSED,False,6,6,1,https://github.com/gdelaporte,Improve help on openio volume command,2,[],https://github.com/open-io/oio-sds/pull/729,https://github.com/gdelaporte,1,https://github.com/open-io/oio-sds/pull/729,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,731,2016-10-11T15:02:26Z,2016-10-11T15:16:10Z,2016-10-11T15:16:10Z,MERGED,True,6,6,1,https://github.com/gdelaporte,Improve help on openio volume command,1,[],https://github.com/open-io/oio-sds/pull/731,https://github.com/gdelaporte,1,https://github.com/open-io/oio-sds/pull/731,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,732,2016-10-12T15:28:42Z,2016-10-13T07:46:27Z,2016-10-13T07:46:34Z,MERGED,True,38,24,7,https://github.com/fvennetier,Python API: review content metadata keys (fix #726),1,[],https://github.com/open-io/oio-sds/pull/732,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/732,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,734,2016-10-14T14:50:21Z,2016-10-14T16:01:54Z,2016-10-14T16:01:54Z,MERGED,True,6,2,1,https://github.com/jfsmig,dir: Prevents asserts raised with invalid namespaces,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/734,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/734,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,735,2016-10-18T09:22:24Z,2016-10-18T11:58:55Z,2016-10-18T11:59:00Z,MERGED,True,57,18,6,https://github.com/fvennetier,Small rdir improvements,2,[],https://github.com/open-io/oio-sds/pull/735,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/735,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,736,2016-10-18T13:22:15Z,2016-10-18T14:29:00Z,2016-10-18T15:19:55Z,MERGED,True,360,213,15,https://github.com/jfsmig,"Prevents starvations: elections, cache",4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/736,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/736,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,738,2016-10-19T16:41:28Z,2016-10-20T08:55:42Z,2016-10-20T08:55:48Z,MERGED,True,16,12,3,https://github.com/fvennetier,cli: container show improvements (fix #725),2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/738,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/738,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,738,2016-10-19T16:41:28Z,2016-10-20T08:55:42Z,2016-10-20T08:55:48Z,MERGED,True,16,12,3,https://github.com/fvennetier,cli: container show improvements (fix #725),2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/738,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/738#issuecomment-254912458,,please fix failing test,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,740,2016-10-26T16:23:15Z,2016-10-26T16:47:16Z,2017-02-22T10:11:32Z,MERGED,True,20,6,2,https://github.com/jkasarherou,Python API: fix Range header for GET requests in EC,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/740,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/740,"this caused ranges in EC to be broken
changed the corresponding unit test to check Range header in GET request
TODO we should tests more ranges","this caused ranges in EC to be broken
changed the corresponding unit test to check Range header in GET request
TODO we should tests more ranges",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,741,2016-10-27T09:29:20Z,2016-10-27T15:35:10Z,2016-10-28T16:30:56Z,MERGED,True,26,26,3,https://github.com/fvennetier,m2: fix prepare data update when not replicated (fix #739),1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/741,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/741,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,742,2016-10-28T14:22:37Z,2016-10-28T16:08:22Z,2017-02-09T04:38:03Z,MERGED,True,2,1,1,https://github.com/jkasarherou,suppress annoying warning from pyeclib/liberasurecode when using CLI,1,[],https://github.com/open-io/oio-sds/pull/742,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/742,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,743,2016-10-31T14:05:29Z,2016-10-31T14:46:41Z,2016-10-31T14:46:41Z,MERGED,True,279,41,7,https://github.com/fvennetier,Fix download ranges,5,['bug :scream:'],https://github.com/open-io/oio-sds/pull/743,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/743,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,744,2016-10-31T15:18:52Z,2016-10-31T15:31:00Z,2016-10-31T15:31:00Z,MERGED,True,343,86,15,https://github.com/fvennetier,Merge 3.0.1 updates into master,10,[],https://github.com/open-io/oio-sds/pull/744,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/744,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,745,2016-10-31T15:58:13Z,2016-11-02T10:59:01Z,2017-02-09T04:38:09Z,MERGED,True,6,3,2,https://github.com/jkasarherou,api: fix invalid request body format for object_set_properties,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/745,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/745,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,746,2016-11-02T08:18:44Z,2016-11-02T13:21:07Z,2017-02-22T10:11:29Z,MERGED,True,173,58,9,https://github.com/jfsmig,"Autocontainer in the ""Flat NS"" style",10,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/746,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/746,"Conscience option renamed for beauty purpose: FLATNS_* options become flat_* options
C code simplified to ease Python bindings
NewPython ""HashedcontainerBuilder"" wrapping the former C code
New CLI option ""--auto"" that ignores the given container and computes it with the content name","Conscience option renamed for beauty purpose: FLATNS_* options become flat_* options
C code simplified to ease Python bindings
NewPython ""HashedcontainerBuilder"" wrapping the former C code
New CLI option ""--auto"" that ignores the given container and computes it with the content name",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,748,2016-11-02T16:46:16Z,2016-11-02T19:38:50Z,2016-11-02T19:38:50Z,MERGED,True,7,6,2,https://github.com/fvennetier,"Fix too aggressive property key rename, improve oio-blob-rebuilder help",2,[],https://github.com/open-io/oio-sds/pull/748,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/748,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,749,2016-11-03T10:04:13Z,2016-11-03T14:04:01Z,2016-11-10T08:36:25Z,MERGED,True,5,3,2,https://github.com/fvennetier,proxy: answer 409 when content already exists (fix #747),1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/749,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/749,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,750,2016-11-04T17:34:54Z,2016-11-08T10:05:43Z,2016-11-08T10:05:43Z,MERGED,True,189,73,15,https://github.com/fvennetier,List object properties while listing objects,6,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/750,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/750,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,752,2016-11-08T10:07:15Z,2016-11-08T11:08:42Z,2016-11-08T11:08:42Z,MERGED,True,397,155,25,https://github.com/fvennetier,Merge 3.x updates into master,23,[],https://github.com/open-io/oio-sds/pull/752,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/752,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,753,2016-11-08T10:17:42Z,2016-11-08T10:32:25Z,2016-11-08T13:35:48Z,MERGED,True,17,12,1,https://github.com/jfsmig,meta2: fixes a memleak when checking for the MASTER state of a NS.,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/753,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/753,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,753,2016-11-08T10:17:42Z,2016-11-08T10:32:25Z,2016-11-08T13:35:48Z,MERGED,True,17,12,1,https://github.com/jfsmig,meta2: fixes a memleak when checking for the MASTER state of a NS.,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/753,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/753#issuecomment-259103850,,Closes #751,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,754,2016-11-09T16:04:30Z,2016-11-10T09:25:41Z,2017-02-22T10:11:27Z,MERGED,True,197,167,4,https://github.com/fvennetier,CLI improvements for autocontainers,5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/754,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/754,"The <container> parameter is now optional if --auto option is provided.
It is possible to list all objects put in autocontainers with openio object list --auto. --marker and --limit options are taken into account.","The <container> parameter is now optional if --auto option is provided.
It is possible to list all objects put in autocontainers with openio object list --auto. --marker and --limit options are taken into account.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,755,2016-11-09T16:47:22Z,2016-11-10T14:44:50Z,2017-02-22T10:11:26Z,MERGED,True,408,238,12,https://github.com/jfsmig,CLI tools to reset elections at the ZK level,6,[],https://github.com/open-io/oio-sds/pull/755,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/755,"In addition, the PEP8 compliance has been improved, tabulations became spaces, etc.","In addition, the PEP8 compliance has been improved, tabulations became spaces, etc.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,756,2016-11-15T00:42:18Z,2016-11-15T11:16:44Z,2017-02-22T10:11:26Z,MERGED,True,311,34,16,https://github.com/jfsmig,Fix memleaks,7,['bug :scream:'],https://github.com/open-io/oio-sds/pull/756,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/756,"meta1: output strings not freed when transaction commits fail
metautils: error possibly forgotten
sqliterpo: minor leak when resyncing a DB on the master","meta1: output strings not freed when transaction commits fail
metautils: error possibly forgotten
sqliterpo: minor leak when resyncing a DB on the master",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,757,2016-11-15T12:49:24Z,2016-11-15T15:18:09Z,2016-11-15T15:24:09Z,MERGED,True,103,50,7,https://github.com/jfsmig,Fixes a proxy segfault,6,['bug :scream:'],https://github.com/open-io/oio-sds/pull/757,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/757,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,758,2016-11-15T14:23:09Z,2016-11-15T15:16:42Z,2017-02-22T10:11:25Z,MERGED,True,60,18,1,https://github.com/fvennetier,Prevent election storm (fix #611),2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/758,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/758,"We don't know the source of these orphan Zookeeper nodes, but you can test their proper deletion with oio-election-smudge.py on a fresh namespace:
openio container create X
oio-election-smudge.py NS meta2 -d `openio reference list X -f value -c Host | head -n 1` &
sleep 5
curl -XPOST ""http://localhost:6000/v3.0/NS/admin/leave?ref=X&type=meta2&acct=myaccount""
sleep 1
openio object create X /etc/magic

In the logs you should see lines talking about ""Rogue ZK node"".","We don't know the source of these orphan Zookeeper nodes, but you can test their proper deletion with oio-election-smudge.py on a fresh namespace:
openio container create X
oio-election-smudge.py NS meta2 -d `openio reference list X -f value -c Host | head -n 1` &
sleep 5
curl -XPOST ""http://localhost:6000/v3.0/NS/admin/leave?ref=X&type=meta2&acct=myaccount""
sleep 1
openio object create X /etc/magic

In the logs you should see lines talking about ""Rogue ZK node"".",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,759,2016-11-16T16:57:52Z,2016-11-16T17:28:03Z,2016-11-16T17:33:15Z,MERGED,True,118,98,4,https://github.com/fvennetier,"Use eventfd() instead of pipe(), warn on long election request queue",4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/759,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/759,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,760,2016-11-16T23:51:48Z,2016-11-17T07:53:49Z,2017-02-22T10:11:25Z,MERGED,True,21,2,3,https://github.com/jfsmig,"meta{0,1,2},sqlx: allow alternate ZK url in /etc/oio/sds.conf",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/760,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/760,"A service with the XXX service type now overrides its ZK url (found at zookeeper in /etc/oio/sds.conf) with an other value found at zookeeper.XXX in /etc/oio/sds.conf. If the specific value is not set, the main value is left untouched.
The main zookeeper value is still necessary for the zk-bootstrap.py script to run.","A service with the XXX service type now overrides its ZK url (found at zookeeper in /etc/oio/sds.conf) with an other value found at zookeeper.XXX in /etc/oio/sds.conf. If the specific value is not set, the main value is left untouched.
The main zookeeper value is still necessary for the zk-bootstrap.py script to run.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,761,2016-11-18T00:17:06Z,2016-11-18T23:55:16Z,2017-02-22T10:11:24Z,MERGED,True,325,72,11,https://github.com/jfsmig,UDP preferred for DB_USE requests,6,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/761,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/761,"Only enabled when explicitely allowed in the /etc/oio/sds.conf files, with en entry like this in the namespace's section
[MyNS]
udp_allowed = true

The goal is to reduce the overall load with a simpler protocol for dummy tasks.","Only enabled when explicitely allowed in the /etc/oio/sds.conf files, with en entry like this in the namespace's section
[MyNS]
udp_allowed = true

The goal is to reduce the overall load with a simpler protocol for dummy tasks.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,762,2016-11-18T00:28:10Z,2016-11-19T00:07:54Z,2017-02-22T10:11:31Z,MERGED,True,76,23,8,https://github.com/jfsmig,"Adds bugs, and makes the clients slower",4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/762,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/762,"For once in this project's lifetime, this happens intentionally.

The enbugging is used to prove the oio-proxy can manage the bugs.
We slow the client operations down when a redirection loop is detected, to let a legit election reach a final state.","For once in this project's lifetime, this happens intentionally.

The enbugging is used to prove the oio-proxy can manage the bugs.
We slow the client operations down when a redirection loop is detected, to let a legit election reach a final state.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,763,2016-11-18T15:46:48Z,2016-11-19T08:21:11Z,2017-02-22T10:11:30Z,MERGED,True,9,1,3,https://github.com/fvennetier,core: add OIO_USE_OLD_FMEMOPEN to choose fmemopen implementation,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/763,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/763,"Add -DOIO_USE_OLD_FMEMOPEN=1 on cmake commandline to use old fmemopen implementation. This will workaround a bug with glibc >= 2.22, but unfortunately won't compile with stripped glibc.","Add -DOIO_USE_OLD_FMEMOPEN=1 on cmake commandline to use old fmemopen implementation. This will workaround a bug with glibc >= 2.22, but unfortunately won't compile with stripped glibc.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,764,2016-11-19T00:50:07Z,2016-11-21T17:25:43Z,2017-02-22T10:11:30Z,MERGED,True,556,2401,42,https://github.com/jfsmig,Meta1 may now group prefixes in common databases,7,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/764,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/764,"meta1 manages prefixes from 0 to 4 digits. This is configured in the /etc/oio/sds.conf files.
Elections are per-base, not per prefix, so reducing the number of files has a huge impact of the election load.

0 : single 0000.meta1 database file, ideal for minimal demonstrations
1 : 16 db files, from 0000.meta1 to F000.meta1, ideal for scalability demonstrations
2 : 256 db files, ideal for auto-containers deployments, with less than 8M containers
3 : 4096 db files, ideal for big deployments, with less than 256M containers
4 : 64ki db files, ideal for huge deployments
default: 4 (for a backward compliance purpose)

Changelog:

meta1: coalesces prefixes in bases, based on the hexadecimal prefix
meta1: health check added around coalescence of prefixes, pre-refresh
oio: directory bootstrap manages the variable meta1 prefixes
tools/oio-bootstrap.py: manages the meta1 variable prefixes
tools/oio-reset.sh: manages the meta1 variable prefixes
meta1: code factorized, trimmed, beautified
etc/bootstrap-*: new presets
tools/oio-reset.sh: fixes number of directory replicas.
It was equal to the number of meta1 services, by default.
meta0: crap code removed, remaining code simplified","meta1 manages prefixes from 0 to 4 digits. This is configured in the /etc/oio/sds.conf files.
Elections are per-base, not per prefix, so reducing the number of files has a huge impact of the election load.

0 : single 0000.meta1 database file, ideal for minimal demonstrations
1 : 16 db files, from 0000.meta1 to F000.meta1, ideal for scalability demonstrations
2 : 256 db files, ideal for auto-containers deployments, with less than 8M containers
3 : 4096 db files, ideal for big deployments, with less than 256M containers
4 : 64ki db files, ideal for huge deployments
default: 4 (for a backward compliance purpose)

Changelog:

meta1: coalesces prefixes in bases, based on the hexadecimal prefix
meta1: health check added around coalescence of prefixes, pre-refresh
oio: directory bootstrap manages the variable meta1 prefixes
tools/oio-bootstrap.py: manages the meta1 variable prefixes
tools/oio-reset.sh: manages the meta1 variable prefixes
meta1: code factorized, trimmed, beautified
etc/bootstrap-*: new presets
tools/oio-reset.sh: fixes number of directory replicas.
It was equal to the number of meta1 services, by default.
meta0: crap code removed, remaining code simplified",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,765,2016-11-21T14:13:57Z,2016-11-21T14:39:47Z,2017-02-22T10:11:23Z,MERGED,True,104,33,3,https://github.com/jfsmig,"sqliterepo: fix a memleak, bound the waiting time",2,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/765,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/765,"TL;DR we expect here the queue to be drastically peeled in case of storms, and old RPC immediately avoided.
For invalid peers addresses, we spare computation time and abort the RPC attempt immediately, then avoiding the GError structure to be leaked.
Bounds to 4s the delay in the queue of waiting RPC. After that, there is no RPC attempt, it will be aborted.","TL;DR we expect here the queue to be drastically peeled in case of storms, and old RPC immediately avoided.
For invalid peers addresses, we spare computation time and abort the RPC attempt immediately, then avoiding the GError structure to be leaked.
Bounds to 4s the delay in the queue of waiting RPC. After that, there is no RPC attempt, it will be aborted.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,766,2016-11-22T10:14:18Z,2016-11-22T10:57:12Z,2017-02-22T10:11:22Z,MERGED,True,67,24,8,https://github.com/jfsmig,Minor improvements around ZK usage and elections,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/766,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/766,"ZK Connection string shuffling
ZK is now configurable for oio-reset.sh (allows to use a cluster instead of a single local node).
Counters properly reset when re-candidating to an election","ZK Connection string shuffling
ZK is now configurable for oio-reset.sh (allows to use a cluster instead of a single local node).
Counters properly reset when re-candidating to an election",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,767,2016-11-22T15:22:04Z,2016-11-22T15:36:18Z,2016-11-23T09:05:44Z,MERGED,True,93,61,10,https://github.com/jfsmig,sqliterepo: log outgoing requests to ZK & peers,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/767,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/767,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,768,2016-11-22T17:17:33Z,2016-11-23T08:31:41Z,2017-02-22T10:11:22Z,MERGED,True,77,37,2,https://github.com/jfsmig,Restrain election storms,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/768,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/768,Introduces a pause when a change in the list (peers or master) has been detected while in PRELEAD/PRELOST state. We wait all the pending GETVERS are done before re-listing the peers and re-resending GETVERS.,Introduces a pause when a change in the list (peers or master) has been detected while in PRELEAD/PRELOST state. We wait all the pending GETVERS are done before re-listing the peers and re-resending GETVERS.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,769,2016-11-22T18:00:35Z,2016-11-22T21:53:30Z,2017-02-22T10:11:21Z,MERGED,True,77,12,5,https://github.com/fvennetier,Fix election expiration,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/769,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/769,"Now the master expires AFTER the slaves. When it expires before, it triggers a new election on the slaves and they bring him back. With this change this case can still happen in case of read-only activity but it's not a problem.","Now the master expires AFTER the slaves. When it expires before, it triggers a new election on the slaves and they bring him back. With this change this case can still happen in case of read-only activity but it's not a problem.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,770,2016-11-23T09:57:35Z,2016-11-23T10:11:17Z,2016-11-23T10:11:17Z,MERGED,True,2570,3239,98,https://github.com/fvennetier,Merge 3.x updates into master,77,[],https://github.com/open-io/oio-sds/pull/770,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/770,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,771,2016-11-23T23:29:48Z,2016-11-24T08:54:42Z,2017-02-22T10:11:21Z,CLOSED,False,55,16,4,https://github.com/jfsmig,Prevent hurricanes of UDP pings,4,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/771,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/771,@fvennetier found the thing.,@fvennetier found the thing.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,772,2016-11-24T08:56:25Z,2016-11-24T09:11:25Z,2016-11-24T10:10:02Z,MERGED,True,1,1,1,https://github.com/jfsmig,resolver: fix timeout to prevent early decache,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/772,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/772,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,773,2016-11-24T08:59:09Z,2016-11-24T09:41:38Z,2016-11-24T10:10:04Z,MERGED,True,56,15,3,https://github.com/jfsmig,"Prevent excess of USE, Resist to floods of UDP requests",3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/773,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/773,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,774,2016-11-24T13:02:16Z,2016-11-24T14:32:03Z,2016-11-24T17:35:48Z,MERGED,True,41,15,5,https://github.com/fvennetier,sqliterepo: actually reuse idle bases when max reached,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/774,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/774,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,775,2016-11-24T14:09:38Z,2016-11-24T14:22:32Z,2016-11-24T14:34:15Z,MERGED,True,4,2,1,https://github.com/jfsmig,sqliterepo: fix usage of a freed pointer,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/775,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/775,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,776,2016-11-24T14:10:44Z,2016-11-24T14:31:53Z,2017-02-22T10:11:19Z,MERGED,True,15,9,1,https://github.com/jfsmig,server: drop UDP messages in queue at exit,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/776,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/776,It prevents a spam of 500-coded errors because of a repository being closed.,It prevents a spam of 500-coded errors because of a repository being closed.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,777,2016-11-24T17:06:55Z,2016-11-24T18:00:50Z,2016-11-29T08:30:12Z,MERGED,True,5,2,1,https://github.com/jfsmig,sqliterepo/election: Add a missing transition on GETVERS network error,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/777,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/777,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,778,2016-11-24T17:43:00Z,2016-11-24T18:00:35Z,2016-11-24T19:33:56Z,MERGED,True,10,3,1,https://github.com/fvennetier,sqliterepo: warn on failed PIPEFROM,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/778,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/778,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,780,2016-11-25T14:58:26Z,2016-11-28T08:22:56Z,2017-02-22T10:11:24Z,MERGED,True,116,25,1,https://github.com/jfsmig,sqliterepo/election: intercepts ZK disconnects,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/780,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/780,aborts elections after the ZK disconnects.,aborts elections after the ZK disconnects.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,781,2016-11-28T10:19:57Z,2016-11-28T10:57:16Z,2016-11-28T10:57:23Z,MERGED,True,55,8,1,https://github.com/fvennetier,sqliterepo: review election FSM transitions after timeout,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/781,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/781,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,782,2016-11-28T18:06:56Z,2016-11-29T09:02:54Z,2016-11-29T09:02:54Z,MERGED,True,158,74,4,https://github.com/fvennetier,"Python API: allow setting connection, read and write timeouts",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/782,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/782,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,783,2016-11-29T15:37:25Z,2016-11-29T17:33:16Z,2016-11-29T17:33:19Z,MERGED,True,48,14,8,https://github.com/fvennetier,Python API: allow setting connection pool options,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/783,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/783,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,784,2016-11-30T15:56:37Z,2016-12-01T14:32:11Z,2021-09-21T17:17:22Z,MERGED,True,135,58,10,https://github.com/fvennetier,CLI: allow to set quota and storage policy,3,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/784,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/784,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,784,2016-11-30T15:56:37Z,2016-12-01T14:32:11Z,2021-09-21T17:17:22Z,MERGED,True,135,58,10,https://github.com/fvennetier,CLI: allow to set quota and storage policy,3,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/784,https://github.com/isnuryusuf,2,https://github.com/open-io/oio-sds/pull/784#issuecomment-924191932,,"Quota features is not work
[root@071966e30aff /]# openio container set bucket1 --quota 1000000 --oio-account AUTH_demo
dd if=/dev/zero of=bigfile.txt bs=2M count=1
aws --endpoint-url http://172.17.0.2:6007 --no-verify-ssl s3 cp bigfile.txt s3://bucket1
+-------------------------------------+-------------------------------------------------------------------------------------+
| Field                               | Value                                                                               |
+-------------------------------------+-------------------------------------------------------------------------------------+
| account                             | AUTH_demo                                                                           |
| base_name                           | 886DF4919BC0EB4C87AA55B259ADF8308A049EE51CB806133CF11AFB4B625055.1                  |
| bucket                              | bucket1                                                                             |
| bytes_usage                         | 2.097MB                                                                             |
| container                           | bucket1                                                                             |
| ctime                               | 1632237377                                                                          |
| damaged_objects                     | 0                                                                                   |
| max_versions                        | Namespace default                                                                   |
| meta.X-Container-Sysmeta-Swift3-Acl | {""Owner"":""demo:demo"",""Grant"":[{""Grantee"":""demo:demo"",""Permission"":""FULL_CONTROL""}]} |
| missing_chunks                      | 0                                                                                   |
| objects                             | 15                                                                                  |
| quota                               | 1000000                                                                             |
| status                              | Enabled                                                                             |
| storage_policy                      | Namespace default                                                                   |
+-------------------------------------+-------------------------------------------------------------------------------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,785,2016-12-01T16:23:25Z,2016-12-12T16:52:08Z,2016-12-12T16:52:44Z,MERGED,True,1004,749,34,https://github.com/fvennetier,Python API: code reorganization and documentation,7,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/785,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/785,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,786,2016-12-02T11:19:16Z,2016-12-16T17:10:36Z,2017-02-22T10:11:15Z,MERGED,True,2874,1752,17,https://github.com/jfsmig,sqliterepo: election FSM redesign,35,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/786,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/786,"Complete reshaping of the election finite state machine, though compatible with the previous.
sqliterepo/election: cleaner FSM transitions
commit e254158:
The goal of the commit is to prevent entering a state with several
pending callbacks that can trouble the transitions and cause messages
storms.
Only the completion events make the FSM (finite state machine) step
forward. All the ""interruptions"" events are delayed until the normal
actions are all done.
Summary of the changes:

general renaming of the states to more intuitive names that denote the
action that is pending. LEADER -> MASTER, LOST -> SLAVE.
new states added, so that at most one action is pending in each state.
specially PRELOST that becomes [ASKING,CHECKING_MASTER] and CANDOK
that becomes [WATCHING,LISTING].
new state added to leave-and-then-fail, instead of leaving then
retrying.
Tests, tests, test. Despite the FSM is not 100% covered yet, the major
transitions are now checked.
Timers simplified: since we wait for actionns before leaving an FSM
state,.the necessity to retry an election is vastly simplified and
only occurs from the NONE state.
A jitter has been introduced before sending a ping (USE) from a final
state.

Despite the result should be more stable, robust and resilient, this is
a big set of changes and one shoould take care of possible unexpected
effects. Especially of elections that could go more often than necessary
in the FAILED state, and then undergo a 5s timer before the retry.
(Prior to this commit, we would have loop-retry more often than
necessary.)
sqliterepo/election: pre-SLAVE only check the possible MASTER
commit c3bdc82
This change suppresses (N-1) * (N-2) GETVERS messages per election in
a group of N members.","Complete reshaping of the election finite state machine, though compatible with the previous.
sqliterepo/election: cleaner FSM transitions
commit e254158:
The goal of the commit is to prevent entering a state with several
pending callbacks that can trouble the transitions and cause messages
storms.
Only the completion events make the FSM (finite state machine) step
forward. All the ""interruptions"" events are delayed until the normal
actions are all done.
Summary of the changes:

general renaming of the states to more intuitive names that denote the
action that is pending. LEADER -> MASTER, LOST -> SLAVE.
new states added, so that at most one action is pending in each state.
specially PRELOST that becomes [ASKING,CHECKING_MASTER] and CANDOK
that becomes [WATCHING,LISTING].
new state added to leave-and-then-fail, instead of leaving then
retrying.
Tests, tests, test. Despite the FSM is not 100% covered yet, the major
transitions are now checked.
Timers simplified: since we wait for actionns before leaving an FSM
state,.the necessity to retry an election is vastly simplified and
only occurs from the NONE state.
A jitter has been introduced before sending a ping (USE) from a final
state.

Despite the result should be more stable, robust and resilient, this is
a big set of changes and one shoould take care of possible unexpected
effects. Especially of elections that could go more often than necessary
in the FAILED state, and then undergo a 5s timer before the retry.
(Prior to this commit, we would have loop-retry more often than
necessary.)
sqliterepo/election: pre-SLAVE only check the possible MASTER
commit c3bdc82
This change suppresses (N-1) * (N-2) GETVERS messages per election in
a group of N members.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,787,2016-12-05T10:58:36Z,2016-12-05T11:39:18Z,2016-12-10T10:19:20Z,MERGED,True,16,16,1,https://github.com/jfsmig,sqliterepo: fix segfault during CREATE_KO transition,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/787,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/787,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,788,2016-12-05T14:34:40Z,2016-12-07T08:44:07Z,2016-12-07T08:44:07Z,MERGED,True,651,228,33,https://github.com/fvennetier,Merge 3.x updates into master,20,[],https://github.com/open-io/oio-sds/pull/788,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/788,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,789,2016-12-05T22:29:24Z,2016-12-06T07:50:42Z,2017-02-22T10:11:14Z,MERGED,True,41,2,4,https://github.com/jfsmig,proxy: repair /admin/status and /admin/debug (fix #779),3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/789,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/789,Fixes #779,Fixes #779,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,791,2016-12-06T15:46:02Z,2016-12-07T08:20:43Z,2017-02-22T10:11:14Z,MERGED,True,8,1,1,https://github.com/jfsmig,Python API: fix division by zero in rdir client when no service available (fix #790),1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/791,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/791,"Fixes #790.
It happened in openio directory bootstrap when all the rdir services where unavailable.","Fixes #790.
It happened in openio directory bootstrap when all the rdir services where unavailable.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,793,2016-12-07T16:47:08Z,2016-12-09T12:43:19Z,2017-02-22T10:11:13Z,MERGED,True,6,7,2,https://github.com/fvennetier,sqliterepo: review service shutdown sequence,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/793,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/793,This may fix #792 (I didn't reproduce it with or without this commit).,This may fix #792 (I didn't reproduce it with or without this commit).,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,794,2016-12-09T13:18:39Z,2016-12-10T10:21:54Z,2017-02-22T10:11:13Z,MERGED,True,547,264,8,https://github.com/jfsmig,Improve robustness of election FSM,10,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/794,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/794,"better management of complete disconnections
asynchronous management of Zookeeper completion hooks
enlarged default numbers: bases kept open in cache, timeout for elections retrial, service urls in cache
new /forward/info oio-proxy route","better management of complete disconnections
asynchronous management of Zookeeper completion hooks
enlarged default numbers: bases kept open in cache, timeout for elections retrial, service urls in cache
new /forward/info oio-proxy route",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,795,2016-12-11T15:22:32Z,2016-12-12T09:17:56Z,2016-12-12T09:18:27Z,MERGED,True,37,9,3,https://github.com/fvennetier,Fix volume stats,2,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/795,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/795,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,796,2016-12-12T13:39:07Z,2016-12-12T14:07:37Z,2016-12-12T14:07:37Z,MERGED,True,589,279,12,https://github.com/fvennetier,Merge 3.x updates into master,16,[],https://github.com/open-io/oio-sds/pull/796,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/796,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,797,2016-12-12T14:27:23Z,2016-12-12T15:08:27Z,2017-02-22T10:11:12Z,MERGED,True,62,20,4,https://github.com/jfsmig,Flush the cache of the resolver on CODE_RANGE_NOTFOUND errors,2,[],https://github.com/open-io/oio-sds/pull/797,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/797,"Affect proxy, meta1, meta2.
Closes #698","Affect proxy, meta1, meta2.
Closes #698",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,798,2016-12-12T15:48:32Z,2016-12-12T16:26:55Z,2017-02-22T10:11:18Z,MERGED,True,10,0,1,https://github.com/jfsmig,core: make finer stat.io measurement,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/798,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/798,Avoids as possible to count I/O ops after the monotonic time snapshot.,Avoids as possible to count I/O ops after the monotonic time snapshot.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,799,2016-12-14T13:31:53Z,2016-12-15T09:10:13Z,2016-12-15T09:47:41Z,MERGED,True,259,114,24,https://github.com/jfsmig,Add oio-reset.sh options and configuration presets,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/799,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/799,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,801,2016-12-14T14:21:56Z,2016-12-14T17:29:42Z,2016-12-15T08:20:29Z,MERGED,True,321,93,18,https://github.com/fvennetier,Various code optimizations,8,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/801,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/801,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,802,2016-12-14T22:20:31Z,2016-12-15T08:22:26Z,2017-02-22T10:11:16Z,MERGED,True,12,10,4,https://github.com/jfsmig,"Fix memory leaks (meta0, metautils)",2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/802,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/802,"The metautils leak specially affects all the sqliterepo-based services.
It happens under heavy loads, when replication RPC generate timeouts on the client side (e.g. ""queued for too long"").","The metautils leak specially affects all the sqliterepo-based services.
It happens under heavy loads, when replication RPC generate timeouts on the client side (e.g. ""queued for too long"").",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,802,2016-12-14T22:20:31Z,2016-12-15T08:22:26Z,2017-02-22T10:11:16Z,MERGED,True,12,10,4,https://github.com/jfsmig,"Fix memory leaks (meta0, metautils)",2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/802,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/802#issuecomment-267175374,"The metautils leak specially affects all the sqliterepo-based services.
It happens under heavy loads, when replication RPC generate timeouts on the client side (e.g. ""queued for too long"").",It seems a good idea to port both commits to the 3.1.x branch.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,803,2016-12-15T08:27:04Z,2016-12-15T09:00:34Z,2016-12-15T09:00:36Z,MERGED,True,16,13,7,https://github.com/fvennetier,Fix some memory leaks,4,['bug :scream:'],https://github.com/open-io/oio-sds/pull/803,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/803,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,804,2016-12-15T10:56:39Z,2016-12-19T15:56:24Z,2016-12-19T15:56:28Z,MERGED,True,62,15,3,https://github.com/fvennetier,Fix container api (fix #800),3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/804,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/804,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,805,2016-12-15T13:35:08Z,2016-12-19T14:17:09Z,2017-02-22T10:21:07Z,MERGED,True,406,332,49,https://github.com/jfsmig,Reduce the number of calls to realloc() and strlen(),9,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/805,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/805,"We play a lot with GByteArray and GString, so let's try to init the structure with a size that will be enough for most use cases.","We play a lot with GByteArray and GString, so let's try to init the structure with a size that will be enough for most use cases.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,808,2016-12-20T13:44:11Z,2016-12-20T17:22:43Z,2017-02-22T10:21:06Z,MERGED,True,289,400,34,https://github.com/jfsmig,"Fix some odd mix of memory management, libc vs. glib",10,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/808,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/808,"In addition, some more strings handlings have been moved on the stack.","In addition, some more strings handlings have been moved on the stack.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,809,2016-12-20T17:24:50Z,2016-12-20T17:37:44Z,2016-12-20T17:37:44Z,MERGED,True,5240,3426,149,https://github.com/fvennetier,Merge 3.x updates into master,89,[],https://github.com/open-io/oio-sds/pull/809,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/809,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,810,2016-12-20T17:31:16Z,2017-01-04T09:54:27Z,2017-01-04T09:54:27Z,MERGED,True,177,272,8,https://github.com/fvennetier,Python API refactoring,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/810,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/810,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,811,2016-12-21T05:05:35Z,2016-12-22T09:17:28Z,2017-02-22T10:21:05Z,MERGED,True,43,33,5,https://github.com/jkasarherou,event-agent fixes,3,[],https://github.com/open-io/oio-sds/pull/811,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/811,should help mitigating #806,should help mitigating #806,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,811,2016-12-21T05:05:35Z,2016-12-22T09:17:28Z,2017-02-22T10:21:05Z,MERGED,True,43,33,5,https://github.com/jkasarherou,event-agent fixes,3,[],https://github.com/open-io/oio-sds/pull/811,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/811#issuecomment-268453229,should help mitigating #806,"this PR is reviewing error handling in event-agent
Basically the problem was that retrying actions in filters were unclear
in the filters there should not have except Exception that silently captures errors
filters should use a specific error return to retry event
and by default unmanaged exception will bury event
This will most likely bury more events than before, but it is intended.
We should track event-agent logs during tests to see if new behavior is correct",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,812,2016-12-23T13:31:43Z,2016-12-23T13:44:34Z,2017-01-27T16:37:21Z,MERGED,True,43,33,5,https://github.com/jfsmig,Backport fixes from #811 in branch 3.1.x,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/812,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/812,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,818,2016-12-29T07:03:16Z,2017-01-03T11:21:10Z,2017-02-22T10:21:04Z,MERGED,True,7,6,3,https://github.com/jkasarherou,API bug fixes,3,[],https://github.com/open-io/oio-sds/pull/818,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/818,fixes #816,fixes #816,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,820,2017-01-03T16:23:34Z,2017-01-03T21:03:47Z,2017-01-27T16:36:32Z,MERGED,True,42,28,4,https://github.com/jfsmig,Fix the detection of End Of Stream with B2 tiering,9,[],https://github.com/open-io/oio-sds/pull/820,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/820,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,825,2017-01-11T09:17:26Z,2017-01-11T10:15:37Z,2017-02-22T10:21:04Z,MERGED,True,30,6,3,https://github.com/fvennetier,Various fixes required (or not) by oiofs,2,[],https://github.com/open-io/oio-sds/pull/825,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/825,"improve fmemopen() binary mode workaround
set size and object count database entries at container creation
improve some error messages
add comment on oio_url_set_id()","improve fmemopen() binary mode workaround
set size and object count database entries at container creation
improve some error messages
add comment on oio_url_set_id()",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,826,2017-01-11T10:16:37Z,2017-01-11T10:20:24Z,2017-01-11T10:20:24Z,CLOSED,False,30,6,3,https://github.com/fvennetier,Merge 3.1.x fixes into 3.x,12,[],https://github.com/open-io/oio-sds/pull/826,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/826,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,827,2017-01-11T17:39:24Z,2017-01-12T08:40:00Z,2017-02-22T10:21:03Z,MERGED,True,10,10,2,https://github.com/fvennetier,rdir: slight optimizations in server,1,[],https://github.com/open-io/oio-sds/pull/827,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/827,oio-rdir-harass.py showed 8% more requests per second,oio-rdir-harass.py showed 8% more requests per second,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,829,2017-01-12T17:25:43Z,2017-01-13T13:12:42Z,2017-02-22T10:21:01Z,MERGED,True,35,14,7,https://github.com/fvennetier,Prevent crash when polling empty service list (fix #828),3,[],https://github.com/open-io/oio-sds/pull/829,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/829,fix #828,fix #828,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,831,2017-01-13T07:16:04Z,2017-01-13T10:50:17Z,2017-01-13T10:50:17Z,MERGED,True,11,12,1,https://github.com/jkasarherou,api: fix object_list metadata handling,1,[],https://github.com/open-io/oio-sds/pull/831,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/831,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,831,2017-01-13T07:16:04Z,2017-01-13T10:50:17Z,2017-01-13T10:50:17Z,MERGED,True,11,12,1,https://github.com/jkasarherou,api: fix object_list metadata handling,1,[],https://github.com/open-io/oio-sds/pull/831,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/831#issuecomment-272392537,,"Hello. You have to remove this line for the tests to pass https://github.com/jkasarherou/oio-sds/blob/0cea50ddf5823f5b089146965b5dd306227eaf83/oio/api/object_storage.py#L20.
Do you think this deserves to be ported to branch 3.1.x? (requires modifications, cannot just cherry-pick)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,835,2017-01-13T15:10:46Z,2017-01-13T18:49:19Z,2017-01-20T08:32:21Z,MERGED,True,3,3,2,https://github.com/fvennetier,cli: fix 'container locate' and 'reference locate',1,[],https://github.com/open-io/oio-sds/pull/835,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/835,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,837,2017-01-31T14:35:27Z,2017-01-31T14:55:36Z,2017-01-31T15:33:01Z,MERGED,True,34,18,3,https://github.com/jfsmig,rdir: Allow thread-based parallelism,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/837,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/837,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,838,2017-01-31T14:47:08Z,2017-01-31T15:28:13Z,2017-02-22T10:21:00Z,MERGED,True,11,5,2,https://github.com/jfsmig,Fix the concurrent auto-creation of a container,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/838,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/838,The ALREADY_EXISTS erorr while auto-creating a container (during a content creation) is not considered as an error.,The ALREADY_EXISTS erorr while auto-creating a container (during a content creation) is not considered as an error.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,839,2017-01-31T15:05:48Z,2017-02-01T07:17:25Z,2017-02-22T10:20:59Z,CLOSED,False,56,29,7,https://github.com/jfsmig,sqliterepo: Shorten the cnx timeout for USE and GETVERS requests,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/839,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/839,The ALREADY_EXISTS erorr while auto-creating a container (during a content creation) is not considered as an error.,The ALREADY_EXISTS erorr while auto-creating a container (during a content creation) is not considered as an error.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,840,2017-01-31T15:29:54Z,2017-01-31T15:30:31Z,2017-01-31T15:32:59Z,MERGED,True,11,5,2,https://github.com/jfsmig,3.1.x fixes 20170130,2,[],https://github.com/open-io/oio-sds/pull/840,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/840,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,841,2017-01-31T15:33:12Z,2017-01-31T15:33:58Z,2017-02-22T10:20:59Z,MERGED,True,56,29,7,https://github.com/jfsmig,sqliterepo: Shorten the cnx timeout for USE and GETVERS requests,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/841,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/841,"From a default of 2s, use now 0.5s for GETVERS and 0.25s for USE.","From a default of 2s, use now 0.5s for GETVERS and 0.25s for USE.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,842,2017-02-01T07:13:09Z,2017-02-01T07:25:10Z,2017-02-01T09:07:47Z,MERGED,True,7,1,1,https://github.com/jfsmig,proxy: Fix the autocreation of the container on a /content/prepare,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/842,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/842,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,843,2017-02-01T07:17:46Z,2017-02-01T08:59:01Z,2017-02-22T10:20:58Z,MERGED,True,56,29,7,https://github.com/jfsmig,sqliterepo: Shorten the cnx timeout for USE and GETVERS requests,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/843,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/843,"From a default of 2s, use now 0.5s for GETVERS and 0.25s for USE.","From a default of 2s, use now 0.5s for GETVERS and 0.25s for USE.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,844,2017-02-01T07:20:54Z,2017-02-01T07:51:38Z,2017-02-01T09:07:45Z,MERGED,True,1,1,1,https://github.com/jfsmig,metautils/gridd_client: Fix the expiration detection,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/844,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/844,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,846,2017-02-01T12:00:48Z,2017-02-02T08:34:45Z,2017-02-02T08:34:45Z,MERGED,True,31,81,5,https://github.com/jkasarherou,rdir: add threads option support,1,[],https://github.com/open-io/oio-sds/pull/846,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/846,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,847,2017-02-01T12:21:02Z,2017-02-01T13:33:33Z,2017-02-01T13:58:01Z,MERGED,True,30,8,7,https://github.com/jfsmig,Really use shorter timeouts for GETVERS and USE requests,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/847,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/847,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,849,2017-02-02T10:57:26Z,2017-02-02T11:10:23Z,2017-02-22T10:21:02Z,MERGED,True,211,44,23,https://github.com/jfsmig,Avoid faulty services,8,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/849,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/849,The PR allows to detect services causing network errors (connection reset / timeout / refused / closed) and to skip those connections when the error rate is too high.,The PR allows to detect services causing network errors (connection reset / timeout / refused / closed) and to skip those connections when the error rate is too high.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,851,2017-02-02T17:29:34Z,2017-02-02T18:02:55Z,2017-02-07T09:09:52Z,MERGED,True,18,7,1,https://github.com/jfsmig,oio: `openio` resists to down account services.,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/851,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/851,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,856,2017-02-03T15:06:34Z,2017-02-06T20:43:50Z,2017-02-06T20:43:50Z,MERGED,True,107,97,16,https://github.com/jkasarherou,oio: clean separation of green code,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/856,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/856,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,860,2017-02-06T01:08:16Z,2017-02-06T21:15:25Z,2018-06-29T02:18:28Z,MERGED,True,85,55,3,https://github.com/jkasarherou,api: fix missing failed chunk in EC,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/860,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/860,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,860,2017-02-06T01:08:16Z,2017-02-06T21:15:25Z,2018-06-29T02:18:28Z,MERGED,True,85,55,3,https://github.com/jkasarherou,api: fix missing failed chunk in EC,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/860,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/860#issuecomment-277565558,,fixes #859,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,861,2017-02-06T15:09:54Z,2017-02-06T15:28:31Z,2017-02-07T09:09:45Z,MERGED,True,7,7,2,https://github.com/jfsmig,Build on x86_32 architectures,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/861,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/861,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,863,2017-02-06T17:29:58Z,2017-02-06T22:05:20Z,2017-02-07T09:09:54Z,MERGED,True,156,63,14,https://github.com/jfsmig,Implement TOUCH on containers and objects,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/863,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/863,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,864,2017-02-07T09:52:13Z,2017-02-07T10:42:02Z,2017-02-22T10:20:53Z,MERGED,True,26,23,4,https://github.com/jfsmig,proxy: Mention the source error in the access log,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/864,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/864,"A final token is added on each accesslog linne, stored in the arbitrary part.
e={""status"":406,""message"":""Directory error: no such user""}","A final token is added on each accesslog linne, stored in the arbitrary part.
e={""status"":406,""message"":""Directory error: no such user""}",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,865,2017-02-07T10:51:12Z,2017-02-14T08:30:20Z,2018-06-29T02:18:39Z,MERGED,True,53,64,17,https://github.com/jkasarherou,api: avoid empty chunks,2,[],https://github.com/open-io/oio-sds/pull/865,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/865,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,865,2017-02-07T10:51:12Z,2017-02-14T08:30:20Z,2018-06-29T02:18:39Z,MERGED,True,53,64,17,https://github.com/jkasarherou,api: avoid empty chunks,2,[],https://github.com/open-io/oio-sds/pull/865,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/865#issuecomment-277964333,,fixes #850,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,867,2017-02-07T17:24:34Z,2017-02-07T17:42:59Z,2017-02-07T17:42:59Z,MERGED,True,741,392,69,https://github.com/fvennetier,Merge 3.x into master,46,[],https://github.com/open-io/oio-sds/pull/867,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/867,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,868,2017-02-08T08:21:56Z,2017-02-10T16:19:24Z,2018-06-29T02:18:25Z,MERGED,True,341,0,3,https://github.com/jkasarherou,crawler: add integrity check,2,[],https://github.com/open-io/oio-sds/pull/868,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/868,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,869,2017-02-08T09:35:37Z,2017-02-09T00:07:34Z,2017-02-22T10:20:56Z,MERGED,True,28,15,1,https://github.com/fvennetier,oio-tool: format output like Shinken plugins (fix #836),1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/869,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/869,"http://shinken.readthedocs.io/en/latest/15_development/pluginapi.html
As suggested by @vdombrovski the output is in milliseconds. I can change this to seconds to be coherent with the check_tcp plugin.","http://shinken.readthedocs.io/en/latest/15_development/pluginapi.html
As suggested by @vdombrovski the output is in milliseconds. I can change this to seconds to be coherent with the check_tcp plugin.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,870,2017-02-08T12:01:30Z,2017-02-08T14:03:40Z,2017-02-22T10:20:51Z,MERGED,True,53,22,1,https://github.com/jfsmig,meta2: Add a check on each container state before handling it.,2,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/870,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/870,"In addition, a bit of harmless renamings.
Fixes #852 and #853.","In addition, a bit of harmless renamings.
Fixes #852 and #853.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,871,2017-02-08T17:56:12Z,2017-02-09T08:18:28Z,2017-02-22T10:20:51Z,MERGED,True,58,70,5,https://github.com/jfsmig,oio/rdir: Do not link from the simple rdir client,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/871,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/871,"Keep this for a class whose purpose is administration and deployment.
The ""link"" in the directory (meta1) is supposed already donbe in a ""bootstrap"" step of the deployment. Only the lazy creation of the rdir DB is performed.
When then avoid any relinking to a (supposedly) rdir service, then avoiding the mistake to link a rawx service. De facto fixes #854 .","Keep this for a class whose purpose is administration and deployment.
The ""link"" in the directory (meta1) is supposed already donbe in a ""bootstrap"" step of the deployment. Only the lazy creation of the rdir DB is performed.
When then avoid any relinking to a (supposedly) rdir service, then avoiding the mistake to link a rawx service. De facto fixes #854 .",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,872,2017-02-09T07:19:27Z,2017-05-09T16:27:04Z,2018-06-29T02:18:52Z,CLOSED,False,18,15,2,https://github.com/jkasarherou,api: minor fixes,2,[],https://github.com/open-io/oio-sds/pull/872,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/872,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,872,2017-02-09T07:19:27Z,2017-05-09T16:27:04Z,2018-06-29T02:18:52Z,CLOSED,False,18,15,2,https://github.com/jkasarherou,api: minor fixes,2,[],https://github.com/open-io/oio-sds/pull/872,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/872#issuecomment-299147483,,Is this PR still relevant?,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,875,2017-02-09T11:46:52Z,2017-02-09T11:55:14Z,2017-02-22T10:20:50Z,MERGED,True,36,1,5,https://github.com/fvennetier,event: new noop event filter,1,[],https://github.com/open-io/oio-sds/pull/875,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/875,Does nothing with the input event. Useful if you just want to drop the events.,Does nothing with the input event. Useful if you just want to drop the events.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,876,2017-02-09T12:11:49Z,2017-02-09T12:23:28Z,2017-02-22T10:20:50Z,MERGED,True,31,20,3,https://github.com/jfsmig,rawx: Allow to turn off the event source,1,[],https://github.com/open-io/oio-sds/pull/876,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/876,"Controlled by the ""rawx_events"" in sds.conf
Disabled by default.","Controlled by the ""rawx_events"" in sds.conf
Disabled by default.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,878,2017-02-09T18:34:07Z,2017-02-10T11:14:02Z,2017-03-16T16:14:13Z,MERGED,True,154,37,11,https://github.com/fvennetier,Rdir and blob-rebuilder improvements (fix #855),4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/878,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/878,"Create databases just after linking to rawx
Add openio volume assignation subcommand to display current rdir links
Add option --max-per-rdir to openio volume admin bootstrap to enforce the maximum number of databases per rdir service
Keep rdir databases open when they are created
Allow rebuild of a chunk on the original rawx","Create databases just after linking to rawx
Add openio volume assignation subcommand to display current rdir links
Add option --max-per-rdir to openio volume admin bootstrap to enforce the maximum number of databases per rdir service
Keep rdir databases open when they are created
Allow rebuild of a chunk on the original rawx",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,879,2017-02-10T13:18:52Z,2017-02-10T14:25:33Z,2017-03-20T16:30:16Z,MERGED,True,73,21,8,https://github.com/fvennetier,Events improvements,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/879,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/879,"noop event handler
rawx events can be disabled","noop event handler
rawx events can be disabled",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,885,2017-02-15T23:58:24Z,2017-02-16T09:39:50Z,2017-02-22T10:20:48Z,MERGED,True,12,5,2,https://github.com/jfsmig,"Prevent http_proxy environment variable to be considered, enhance error messages",3,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/885,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/885,Fixes #877,Fixes #877,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,886,2017-02-16T00:45:04Z,2017-02-16T07:53:00Z,2017-02-16T07:53:00Z,MERGED,True,5,3,1,https://github.com/jkasarherou,blob-rebuilder: set syslog prefix,1,[],https://github.com/open-io/oio-sds/pull/886,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/886,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,886,2017-02-16T00:45:04Z,2017-02-16T07:53:00Z,2017-02-16T07:53:00Z,MERGED,True,5,3,1,https://github.com/jkasarherou,blob-rebuilder: set syslog prefix,1,[],https://github.com/open-io/oio-sds/pull/886,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/886#issuecomment-280192181,,fixes #884,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,887,2017-02-16T01:24:14Z,2017-02-16T09:43:25Z,2017-02-22T10:20:52Z,MERGED,True,233,186,12,https://github.com/jfsmig,Allow the proxy to prefer the MASTER,3,[],https://github.com/open-io/oio-sds/pull/887,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/887,Fix #858,Fix #858,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,889,2017-02-16T15:41:49Z,2017-02-17T11:01:53Z,2017-02-17T11:02:28Z,MERGED,True,74,17,8,https://github.com/fvennetier,"""events exhume"" subcommand, zk-reset help, oio-event-agent config (fix #882, fix #888)",3,[],https://github.com/open-io/oio-sds/pull/889,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/889,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,890,2017-02-17T10:02:36Z,2017-02-17T10:43:18Z,2017-02-22T10:11:10Z,MERGED,True,34,3,1,https://github.com/jfsmig,oio-event-agent: Allow a few retries on the RPC to the rdir,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/890,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/890,"Connection errors occurs when the peer (rdir) closes the connection. An exception is immediately raised, and retrying saves a buried event or a more complicated beanstalkd ""delayed re-queuing"".","Connection errors occurs when the peer (rdir) closes the connection. An exception is immediately raised, and retrying saves a buried event or a more complicated beanstalkd ""delayed re-queuing"".",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,891,2017-02-17T15:41:02Z,2017-02-20T10:25:06Z,2017-03-16T16:07:07Z,MERGED,True,22,5,1,https://github.com/fvennetier,sqliterepo: detect zookeeper disconnection loops (fix #873),1,[],https://github.com/open-io/oio-sds/pull/891,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/891,And do a fresh reconnection in such case.,And do a fresh reconnection in such case.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,892,2017-02-20T14:09:20Z,2017-02-20T15:03:06Z,2017-02-22T10:11:09Z,MERGED,True,29,2,1,https://github.com/fvennetier,Python API: wrap source stream into IOBase if necessary,1,[],https://github.com/open-io/oio-sds/pull/892,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/892,"Internally we make usage of io.BufferedReader objects, which require a subclass of io.IOBase as input, thus the need for a wrapper.","Internally we make usage of io.BufferedReader objects, which require a subclass of io.IOBase as input, thus the need for a wrapper.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,893,2017-02-21T16:39:58Z,2017-02-22T10:21:38Z,2017-03-06T10:34:28Z,MERGED,True,9,3,2,https://github.com/fvennetier,"cli: display empty rdir in ""volume assignation""",1,['priority:4 :suspect:'],https://github.com/open-io/oio-sds/pull/893,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/893,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,894,2017-02-22T10:22:32Z,2017-02-23T15:44:57Z,2017-02-23T15:44:57Z,MERGED,True,168,30,13,https://github.com/jfsmig,Merge the latest improvements of 3.x in master,10,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/894,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/894,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,895,2017-02-27T14:07:45Z,2017-03-17T09:52:31Z,2017-03-17T10:21:14Z,MERGED,True,3577,1664,110,https://github.com/jfsmig,Add a central configuration facility,11,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/895,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/895,Breaks the CLI options!,Breaks the CLI options!,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,896,2017-02-27T14:34:03Z,2017-02-28T10:55:03Z,2017-03-06T14:59:30Z,MERGED,True,238,462,39,https://github.com/jfsmig,Big batch of fixes for warnings,16,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/896,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/896,"This is mostly the removal of unused code, minor reformatting to ease the task of some IDE.
Please note that:

metautils now ships its own asn1c code (so we drop the asn1c runtime dependency)
the proxy receives the fix to a ""hopefully impactless"" horrible bug.","This is mostly the removal of unused code, minor reformatting to ease the task of some IDE.
Please note that:

metautils now ships its own asn1c code (so we drop the asn1c runtime dependency)
the proxy receives the fix to a ""hopefully impactless"" horrible bug.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,897,2017-02-27T14:41:22Z,2017-02-28T15:29:14Z,2017-03-03T12:14:30Z,MERGED,True,108,44,5,https://github.com/jfsmig,proxy: expose the relink of a directory entry,5,['bug :scream:'],https://github.com/open-io/oio-sds/pull/897,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/897,"Prior to this pull request, the relinking of a directory entry was broken in both the proxy and the meta1.","Prior to this pull request, the relinking of a directory entry was broken in both the proxy and the meta1.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,898,2017-02-27T14:45:16Z,2017-02-28T10:54:28Z,2017-03-13T21:19:53Z,MERGED,True,21,7,1,https://github.com/jfsmig,proxy: don't look for properties on container autocreation,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/898,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/898,"It prevents the properties of a content to be reused for the container. This doesn't happen yet, because both content-wide and container-wide properties are not provided at the same place. But this is ugly and subject to a change for the sake of uniformity.","It prevents the properties of a content to be reused for the container. This doesn't happen yet, because both content-wide and container-wide properties are not provided at the same place. But this is ugly and subject to a change for the sake of uniformity.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,900,2017-03-01T14:49:58Z,2017-03-06T13:55:01Z,2017-03-06T13:55:08Z,MERGED,True,111,16,6,https://github.com/fvennetier,Store replication peers in the database,2,[],https://github.com/open-io/oio-sds/pull/900,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/900,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,901,2017-03-02T17:40:08Z,2017-03-06T13:54:00Z,2017-03-06T13:54:04Z,MERGED,True,17,13,1,https://github.com/fvennetier,Improve sqliterepo-based services shutdown sequence,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/901,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/901,"Review the sequence of variable de-allocations
Reduce the timeout to 10s (was 30s)","Review the sequence of variable de-allocations
Reduce the timeout to 10s (was 30s)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,902,2017-03-03T16:28:05Z,2017-03-06T14:48:54Z,2017-03-06T14:51:51Z,MERGED,True,272,253,12,https://github.com/fvennetier,"Store replication peers in the database, and use them in priority",5,[],https://github.com/open-io/oio-sds/pull/902,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/902,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,904,2017-03-07T10:54:07Z,2017-03-07T14:32:34Z,2017-03-07T14:32:50Z,MERGED,True,130,89,7,https://github.com/fvennetier,Openio directory bootstrap improvements,3,"['bug :scream:', 'enhancement :sparkles:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/904,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/904,"Fix buffer overflow in proxy when forcing meta0 data
Factorize meta0-related functions in proxy
Add --check and --force options to openio directory bootstrap and set timeout to 30s","Fix buffer overflow in proxy when forcing meta0 data
Factorize meta0-related functions in proxy
Add --check and --force options to openio directory bootstrap and set timeout to 30s",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,905,2017-03-09T15:12:29Z,2017-03-13T08:08:21Z,2017-04-06T15:28:59Z,MERGED,True,21,15,1,https://github.com/jfsmig,oio-blob-rebuilder: name the reported fields in the log,2,[],https://github.com/open-io/oio-sds/pull/905,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/905,"The periodic report now have that shape:

12697 7F9500C47CD0 log INFO status=127.0.0.1:6008 started=2017-03-09_16:08:14 passes=1 errors=1 chunk/s=109.54 byte/s=0.00 elapsed=0.01 (rebuilder: 0.00%)

The final report has that shape:

12697 7F9500C47CD0 log INFO DONE=127.0.0.1:6008 elapsed=0.02 errors=2 chunk/s=57.69 byte/s=0.00 elapsed=0.01 (rebuilder: 0.39%)

The date is reported in a space-less format, and the volume is now printed on each report line.
Fix #720","The periodic report now have that shape:

12697 7F9500C47CD0 log INFO status=127.0.0.1:6008 started=2017-03-09_16:08:14 passes=1 errors=1 chunk/s=109.54 byte/s=0.00 elapsed=0.01 (rebuilder: 0.00%)

The final report has that shape:

12697 7F9500C47CD0 log INFO DONE=127.0.0.1:6008 elapsed=0.02 errors=2 chunk/s=57.69 byte/s=0.00 elapsed=0.01 (rebuilder: 0.39%)

The date is reported in a space-less format, and the volume is now printed on each report line.
Fix #720",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,905,2017-03-09T15:12:29Z,2017-03-13T08:08:21Z,2017-04-06T15:28:59Z,MERGED,True,21,15,1,https://github.com/jfsmig,oio-blob-rebuilder: name the reported fields in the log,2,[],https://github.com/open-io/oio-sds/pull/905,https://github.com/sebastienlapierre,2,https://github.com/open-io/oio-sds/pull/905#issuecomment-287702364,"The periodic report now have that shape:

12697 7F9500C47CD0 log INFO status=127.0.0.1:6008 started=2017-03-09_16:08:14 passes=1 errors=1 chunk/s=109.54 byte/s=0.00 elapsed=0.01 (rebuilder: 0.00%)

The final report has that shape:

12697 7F9500C47CD0 log INFO DONE=127.0.0.1:6008 elapsed=0.02 errors=2 chunk/s=57.69 byte/s=0.00 elapsed=0.01 (rebuilder: 0.39%)

The date is reported in a space-less format, and the volume is now printed on each report line.
Fix #720","After tests, oio-blob-rebuilder log report is :
18564 19EBAF0 log INFO DONE=10.0.0.35:6004 elapsed=55.98 errors=0 chunk/s=9.31 byte/s=5670041.86 elapsed=55.95 (rebuilder: 1.00%)
The rebuilder is a ratio (1.00) not a percentage, could you please modify it ?",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,906,2017-03-13T09:25:21Z,2017-03-14T10:32:47Z,2017-03-14T10:32:47Z,MERGED,True,202,4,6,https://github.com/kamel-rahim,Add an option to create many containers in on go,3,[],https://github.com/open-io/oio-sds/pull/906,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/906,"The command ""openio container create "" used to send a request for every
container in the list to create it.
Now the command check the number of containers and use a specific request to ask for the
creation of all the containers.","The command ""openio container create "" used to send a request for every
container in the list to create it.
Now the command check the number of containers and use a specific request to ask for the
creation of all the containers.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,908,2017-03-13T22:12:20Z,2017-03-14T08:46:15Z,2017-03-14T08:59:43Z,MERGED,True,13,2,1,https://github.com/jfsmig,proxy: Avoid losing the (un)lock commands on simple registrations,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/908,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/908,Attempt to fix #845,Attempt to fix #845,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,909,2017-03-13T23:53:42Z,2017-03-14T08:46:47Z,2017-03-14T08:59:42Z,MERGED,True,3,6,3,https://github.com/jfsmig,Show expired services in the replies from the conscience ,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/909,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/909,Necessary fix to close #874,Necessary fix to close #874,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,910,2017-03-14T08:20:38Z,2017-03-14T10:36:58Z,2017-03-14T10:38:39Z,MERGED,True,357,165,12,https://github.com/jfsmig,Allow the services to expire in the LB pools,5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/910,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/910,"Fix #815

The core/lb feature now has a way to easily expire services that disappear from the conscience
meta2 now uses the same code as meta1, both use the expiration feature.
proxy uses a slight variant of that code","Fix #815

The core/lb feature now has a way to easily expire services that disappear from the conscience
meta2 now uses the same code as meta1, both use the expiration feature.
proxy uses a slight variant of that code",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,911,2017-03-14T08:44:42Z,2017-03-14T08:56:19Z,2017-03-14T08:59:41Z,MERGED,True,3,4,1,https://github.com/jfsmig,tests/func: Reduce the adherence to the time,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/911,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/911,"Explicit refreshes are sent to the proxy instead of waiting in the hope that the periodically scheduled refresh happens.
This will help the tests to pass on Travis-CI.","Explicit refreshes are sent to the proxy instead of waiting in the hope that the periodically scheduled refresh happens.
This will help the tests to pass on Travis-CI.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,912,2017-03-15T11:36:47Z,2017-03-17T09:53:16Z,2017-03-17T09:53:16Z,MERGED,True,84,0,8,https://github.com/kamel-rahim,Add account listing to the CLI (fix #817),1,[],https://github.com/open-io/oio-sds/pull/912,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/912,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,917,2017-03-16T18:20:19Z,2017-03-17T16:40:56Z,2017-03-17T20:21:31Z,MERGED,True,162,101,9,https://github.com/fvennetier,Improve error handling in Python API,3,"['enhancement :sparkles:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/917,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/917,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,919,2017-03-18T13:54:04Z,2017-03-18T20:04:00Z,2017-03-20T08:51:42Z,MERGED,True,3,1,2,https://github.com/jfsmig,Improve the resilience toward network/rawx failures,1,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/919,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/919,Fix #916,Fix #916,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,920,2017-03-18T20:02:28Z,2017-03-18T20:32:16Z,2017-03-20T08:51:40Z,MERGED,True,2,2,1,https://github.com/jfsmig,oio-blob-revuilder: Remove the broken chunks from the rdir,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/920,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/920,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,921,2017-03-20T08:45:05Z,2017-03-20T15:19:29Z,2017-03-21T10:31:21Z,MERGED,True,29,0,2,https://github.com/kamel-rahim,proxy: make command lock/unlock check type of the service (fix #822),1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/921,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/921,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,922,2017-03-20T09:29:15Z,2017-03-20T10:00:11Z,2017-03-20T16:14:27Z,MERGED,True,15,10,1,https://github.com/jfsmig,oio-blob-rebuilder: Fix the progression message,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/922,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/922,Amends the format of the log emitted by the oio-blob-rebuilder while it progresses.,Amends the format of the log emitted by the oio-blob-rebuilder while it progresses.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,923,2017-03-20T13:44:56Z,2017-03-20T17:32:20Z,2017-03-21T09:33:22Z,MERGED,True,57,26,2,https://github.com/jfsmig,Improve the management of cnx errors while requesting RAWX.,5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/923,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/923,"When #919 fixes things in the python API, the current PR fixes them in the C SDK.
Only the chunks that succeeded are now saved in the container.
And it is up to the container to trigger a rebuild action on the content to make it comply with the storage policy.","When #919 fixes things in the python API, the current PR fixes them in the C SDK.
Only the chunks that succeeded are now saved in the container.
And it is up to the container to trigger a rebuild action on the content to make it comply with the storage policy.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,924,2017-03-20T14:55:21Z,2017-03-21T10:23:41Z,2017-03-21T10:30:49Z,MERGED,True,30,14,2,https://github.com/kamel-rahim,Modify log format of oio-blob-rebuilder and oio-blob-indexer (fix #880),2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/924,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/924,"Add the date of the start and end of both command.
Add name to the value of the fields of the oio-blob-indexer logs,
like the one oio-blob-rebuilder is using.","Add the date of the start and end of both command.
Add name to the value of the fields of the oio-blob-indexer logs,
like the one oio-blob-rebuilder is using.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,925,2017-03-20T15:15:01Z,2017-03-20T16:04:28Z,2017-03-20T16:14:18Z,MERGED,True,24,11,4,https://github.com/jfsmig,oio: Fix the behavior upon rawx errors.,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/925,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/925,"Starting now, only the chunks to be saved should be returned by the WriteHandler implementation, and this might depend on the implementation.
Prior to this fix, the filtering of failed chunks was performed whatever the implementation. We now do it in each subclass where it is necessary.","Starting now, only the chunks to be saved should be returned by the WriteHandler implementation, and this might depend on the implementation.
Prior to this fix, the filtering of failed chunks was performed whatever the implementation. We now do it in each subclass where it is necessary.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,926,2017-03-20T17:27:22Z,2017-03-21T09:05:44Z,2017-03-21T09:33:23Z,MERGED,True,37,1,1,https://github.com/jfsmig,oio-bootstrap.py: Deploy one oio-blob-indexer per rawx,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/926,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/926,Let's run tests that take the effect of the indexer into account.,Let's run tests that take the effect of the indexer into account.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,927,2017-03-20T17:33:53Z,2017-03-21T09:31:32Z,2017-03-21T09:33:25Z,MERGED,True,48,45,2,https://github.com/jfsmig,oio: Improve the behavior of download of contents with bad chunks,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/927,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/927,Le's make the python API avoid chunks with dirty attributes (i.e. out of a quorum).,Le's make the python API avoid chunks with dirty attributes (i.e. out of a quorum).,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,928,2017-03-21T09:04:44Z,2017-03-21T10:25:19Z,2017-03-21T14:15:02Z,MERGED,True,136,17,5,https://github.com/jfsmig,Enable TCP_FASTOPEN option on sockets,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/928,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/928,"The major benefit will be ~ 25% less network packets for small RPC, because the server will accept to the data sent with the TCP SYN packet. Currently implemented between the C SDK based clients and the services, the biggest impact will be observed between the services (DB replication), and between the proxy and the services.
Consider configuring your hosts like this:
echo 3 >> /proc/sys/net/ipv4/tcp_fastopen
echo 1 would activate it for the clients, echo 2 for the servers, their sum fort both.","The major benefit will be ~ 25% less network packets for small RPC, because the server will accept to the data sent with the TCP SYN packet. Currently implemented between the C SDK based clients and the services, the biggest impact will be observed between the services (DB replication), and between the proxy and the services.
Consider configuring your hosts like this:
echo 3 >> /proc/sys/net/ipv4/tcp_fastopen
echo 1 would activate it for the clients, echo 2 for the servers, their sum fort both.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,929,2017-03-21T15:00:59Z,2017-03-21T15:20:00Z,2017-03-22T13:51:39Z,MERGED,True,0,3,1,https://github.com/jfsmig,core: Disable TCP_FASTOPEN toward rawx,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/929,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/929,It has been reported by @fvennetier that libcurl==7.53 poorly manages the TCP_FASTOPEN when it is supported but disabled by a 0 set in /proc/sys/net/ipv4/tcp_fastopen,It has been reported by @fvennetier that libcurl==7.53 poorly manages the TCP_FASTOPEN when it is supported but disabled by a 0 set in /proc/sys/net/ipv4/tcp_fastopen,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,930,2017-03-21T16:58:40Z,2017-03-22T08:49:41Z,2017-03-22T13:51:41Z,MERGED,True,88,35,3,https://github.com/jfsmig,core/sds: Make the oio_sds_s handle thread-safe,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/930,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/930,There are use cases of oio_sds_s handles shared among threads. Let's resist and be functional under such circumstances.,There are use cases of oio_sds_s handles shared among threads. Let's resist and be functional under such circumstances.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,931,2017-03-21T18:03:51Z,2017-03-22T11:18:13Z,2017-03-22T11:18:16Z,MERGED,True,117,8,9,https://github.com/fvennetier,Fix account stats,6,['bug :scream:'],https://github.com/open-io/oio-sds/pull/931,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/931,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,932,2017-03-22T14:11:34Z,2017-03-22T14:59:59Z,2017-03-23T08:42:23Z,MERGED,True,6,2,1,https://github.com/jfsmig,Default user's autocreation while creating containers,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/932,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/932,"Also, allow empty bodies in the POST /container/create requests.
Fix #915","Also, allow empty bodies in the POST /container/create requests.
Fix #915",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,933,2017-03-23T11:38:14Z,2017-04-07T09:25:18Z,2017-05-24T08:31:38Z,MERGED,True,343,11,9,https://github.com/kamel-rahim,proxy: Add bulk delete content,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/933,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/933,"Permit to delete many content in one go for one container.
Modify the format of cli command 'openio object delete' to return a List.Lister.
Modify tests that depended on the old format response to use the new one.
The format of a request to the proxy is a json {""contents"":[{""name"":""...""},{""name"":""...""}]}
and the url is /content/delete_many.
The format of the answer is a json {""contents"":[{""name"":""..."", ""status"":""..."", ""message"":""...""}]}","Permit to delete many content in one go for one container.
Modify the format of cli command 'openio object delete' to return a List.Lister.
Modify tests that depended on the old format response to use the new one.
The format of a request to the proxy is a json {""contents"":[{""name"":""...""},{""name"":""...""}]}
and the url is /content/delete_many.
The format of the answer is a json {""contents"":[{""name"":""..."", ""status"":""..."", ""message"":""...""}]}",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,934,2017-03-24T08:25:42Z,2017-03-24T09:38:11Z,2017-03-24T11:54:18Z,MERGED,True,200,172,5,https://github.com/jfsmig,sqliterepo: Reduce the amount of IO ops with a smarter cache,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/934,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/934,Better management of modified/deleted entries in the cache of the admin table.,Better management of modified/deleted entries in the cache of the admin table.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,935,2017-03-24T09:15:44Z,2017-03-24T09:37:57Z,2017-03-24T11:54:16Z,MERGED,True,1,14,1,https://github.com/jfsmig,Travis-CI: Stop dumping the /var/log at exit,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/935,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/935,"Prove useful under certain temporary circumstances, not necessary in the
mainstream conditions.","Prove useful under certain temporary circumstances, not necessary in the
mainstream conditions.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,936,2017-03-24T16:14:06Z,2017-03-27T14:00:31Z,2017-03-27T14:00:34Z,MERGED,True,87,73,24,https://github.com/fvennetier,Fix compilation issues with GCC 7,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/936,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/936,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,937,2017-03-24T22:28:13Z,2017-03-25T08:18:04Z,2017-03-27T13:04:13Z,MERGED,True,84,45,4,https://github.com/jfsmig,Fix metautils/gridd_client,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/937,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/937,The introduction of TCP_FASTOPEN revealed some hidden bugs. They have been hunted.,The introduction of TCP_FASTOPEN revealed some hidden bugs. They have been hunted.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,938,2017-03-27T13:11:36Z,2017-03-27T13:51:51Z,2017-04-02T13:40:00Z,MERGED,True,2,4,2,https://github.com/jfsmig,Fix a deadlock when shutting down meta* services,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/938,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/938,"In addition, also fix the detection of the delay that prevent TFO to be retried too fast after a ""not supported"" error.","In addition, also fix the detection of the delay that prevent TFO to be retried too fast after a ""not supported"" error.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,939,2017-03-27T16:29:54Z,2017-03-28T07:15:39Z,2017-03-28T07:16:36Z,MERGED,True,5,4,1,https://github.com/fvennetier,Fix second packet when using TCP_FASTOPEN,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/939,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/939,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,940,2017-03-28T08:27:36Z,2017-03-28T09:03:28Z,2017-04-06T15:28:27Z,MERGED,True,4,3,2,https://github.com/fvennetier,"Lower zookeeper connection failure threshold, always positive stat.io and stat.cpu",2,[],https://github.com/open-io/oio-sds/pull/940,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/940,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,941,2017-03-28T21:14:20Z,2017-04-05T12:45:16Z,2017-04-05T12:47:24Z,CLOSED,False,197,86,11,https://github.com/jfsmig,Allow the clients of the proxy to retry on errors 503,5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/941,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/941,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,942,2017-03-29T16:37:07Z,2017-04-04T15:41:00Z,2017-04-06T15:28:19Z,MERGED,True,217,5,2,https://github.com/fvennetier,New LB tests for tight platforms,1,[],https://github.com/open-io/oio-sds/pull/942,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/942,"Check how many unbalanced repartitions we get on platforms where
there is not enough locations to ensure a perfect data securing.
For example, when there is 3 host with 4 services each, and we ask
for 9 services, the load-balancer sometimes returns 4 services from
the first host, 2 from the second and 3 from the third,
whereas we expect 3, 3 and 3.","Check how many unbalanced repartitions we get on platforms where
there is not enough locations to ensure a perfect data securing.
For example, when there is 3 host with 4 services each, and we ask
for 9 services, the load-balancer sometimes returns 4 services from
the first host, 2 from the second and 3 from the third,
whereas we expect 3, 3 and 3.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,946,2017-03-31T14:26:59Z,2017-04-03T14:26:29Z,2017-04-03T15:01:42Z,MERGED,True,61,50,6,https://github.com/fvennetier,rawx: lower memory usage (especially when writing) (fix #944),2,"['enhancement :sparkles:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/946,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/946,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,947,2017-04-03T08:21:49Z,2017-04-03T15:20:39Z,2017-04-03T15:48:00Z,MERGED,True,2356,1007,13,https://github.com/jfsmig,Rewrite the rdir in C,7,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/947,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/947,Reuses the server base and the HTTP parser of the oio-proxy.,Reuses the server base and the HTTP parser of the oio-proxy.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,951,2017-04-03T14:35:28Z,2017-04-04T14:32:09Z,2017-04-04T14:32:11Z,MERGED,True,49,10,4,https://github.com/fvennetier,Python API: fix metachunk hashes for pos > 0 (fix #950),2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/951,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/951,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,952,2017-04-03T15:49:45Z,2017-04-03T17:04:52Z,2017-04-04T13:49:41Z,MERGED,True,58,352,5,https://github.com/jfsmig,gridd: fix the recycling of threads,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/952,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/952,"Impacts only the central conscience.
Also removes dirty crap not used anymore since several years.","Impacts only the central conscience.
Also removes dirty crap not used anymore since several years.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,954,2017-04-04T13:50:17Z,2017-04-04T14:35:05Z,2017-04-04T16:02:41Z,MERGED,True,3,0,1,https://github.com/jfsmig,meta0: Fix a memory leak happening during the bootstrap,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/954,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/954,Fix #953,Fix #953,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,955,2017-04-04T13:53:17Z,2017-04-04T14:51:43Z,2017-04-04T16:02:26Z,MERGED,True,18,6,5,https://github.com/jfsmig,Prevent SIGPIPE signal when writing to a closed connection,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/955,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/955,"We don't need the ugly SIGPIPE to be raised, especially if we make the necessary to ignore it.","We don't need the ugly SIGPIPE to be raised, especially if we make the necessary to ignore it.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,956,2017-04-04T13:56:03Z,2017-04-04T14:45:42Z,2017-04-04T16:02:24Z,MERGED,True,3,0,1,https://github.com/jfsmig,core/curl: Avoid intercepting signals upon curl errors,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/956,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/956,"Let each service manage the signals the way it decided.
Impacts the oio-sds C SDK and the meta* services while they contact the proxy.","Let each service manage the signals the way it decided.
Impacts the oio-sds C SDK and the meta* services while they contact the proxy.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,957,2017-04-04T14:15:46Z,2017-04-04T14:49:34Z,2017-04-04T16:02:22Z,MERGED,True,25,3,5,https://github.com/jfsmig,Add a general trigger around the activiation of TFO,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/957,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/957,TCP_FASTOPEN improved the behavior on small-to-medium loads but it seems to induce some side effects such an extra load when strongly stressing the services. Let's deactivate it by default and continue the job of improving our support.,TCP_FASTOPEN improved the behavior on small-to-medium loads but it seems to induce some side effects such an extra load when strongly stressing the services. Let's deactivate it by default and continue the job of improving our support.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,958,2017-04-05T12:49:49Z,2017-04-06T16:12:41Z,2017-04-06T16:24:21Z,MERGED,True,16,9,5,https://github.com/jfsmig,Fix memleaks and reduce the memory ping-pong,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/958,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/958,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,959,2017-04-06T08:25:51Z,2017-04-06T15:47:26Z,2017-04-06T16:24:20Z,CLOSED,False,14,6,2,https://github.com/jfsmig,rawx: Do not compute the MD5 of the chunk when using EC,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/959,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/959,"the hash of the chunk doesn't make sense, and it is saved nowhere.","the hash of the chunk doesn't make sense, and it is saved nowhere.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,959,2017-04-06T08:25:51Z,2017-04-06T15:47:26Z,2017-04-06T16:24:20Z,CLOSED,False,14,6,2,https://github.com/jfsmig,rawx: Do not compute the MD5 of the chunk when using EC,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/959,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/959#issuecomment-292217010,"the hash of the chunk doesn't make sense, and it is saved nowhere.","The Python API still relies on the chunk_hash (for no real purpose) and it is a change way to big for the small expected gain, in a milestone already overdue.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,960,2017-04-06T14:20:39Z,2017-04-06T15:15:09Z,2017-04-06T16:24:23Z,MERGED,True,110,94,7,https://github.com/jfsmig,tests/functional: Rely on the deployed rdir for the tests,5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/960,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/960,"It avoids restarting processes, and this took a while on Travis.","It avoids restarting processes, and this took a while on Travis.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,961,2017-04-06T14:52:41Z,2017-04-06T15:34:38Z,2017-04-06T15:36:39Z,MERGED,True,23,6,4,https://github.com/fvennetier,Python API minor improvements,3,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/961,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/961,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,962,2017-04-06T16:38:51Z,2017-04-06T17:08:51Z,2017-04-06T21:01:17Z,MERGED,True,2,1,1,https://github.com/jfsmig,rdir: Fix a memleak in /status,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/962,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/962,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,964,2017-04-07T08:51:28Z,2017-04-07T09:25:17Z,2017-04-07T09:59:24Z,MERGED,True,355,12,10,https://github.com/jfsmig,Proxy: Add bulk delete of contents (Amend #933),2,[],https://github.com/open-io/oio-sds/pull/964,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/964,Close #933,Close #933,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,966,2017-04-07T10:20:16Z,2017-04-07T14:33:29Z,2017-04-07T14:33:34Z,MERGED,True,33,19,9,https://github.com/fvennetier,"Minor python optimizations, prevent segfault at sqliterepo service shutdown",4,[],https://github.com/open-io/oio-sds/pull/966,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/966,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,967,2017-04-07T14:18:20Z,2017-04-07T20:48:12Z,2017-04-10T09:43:50Z,MERGED,True,147,141,5,https://github.com/jfsmig,"Bulk requests: Fixed memleak, easier integration",3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/967,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/967,"Allow the ""good old unitary requests"" as a fallback for their respective bulk requests, when unsupported. Also manage batches of excessive size.","Allow the ""good old unitary requests"" as a fallback for their respective bulk requests, when unsupported. Also manage batches of excessive size.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,968,2017-04-07T14:19:23Z,2017-04-07T20:28:09Z,2017-04-10T09:44:04Z,MERGED,True,8,5,3,https://github.com/jfsmig,Avoid filling the RPC with useless fields,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/968,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/968,"When the RPC mode is not set to ""admin"", don't tell ""admin=false""
because this is the default.","When the RPC mode is not set to ""admin"", don't tell ""admin=false""
because this is the default.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,969,2017-04-07T14:19:59Z,2017-04-10T08:07:09Z,2017-04-10T09:43:54Z,MERGED,True,12,23,7,https://github.com/jfsmig,core: Fix a memleak around the local cached configuration,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/969,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/969,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,969,2017-04-07T14:19:59Z,2017-04-10T08:07:09Z,2017-04-10T09:43:54Z,MERGED,True,12,23,7,https://github.com/jfsmig,core: Fix a memleak around the local cached configuration,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/969,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/969#issuecomment-292875061,,"Currently at commit 0835414, the service needs to be restarted.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,970,2017-04-07T14:21:26Z,2017-04-10T09:06:37Z,2017-04-10T09:44:15Z,MERGED,True,188,85,10,https://github.com/jfsmig,Let the service announce they are overloaded,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/970,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/970,And let their client retry with an exponential back-off.,And let their client retry with an exponential back-off.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,971,2017-04-07T14:22:18Z,2017-04-07T20:47:02Z,2017-04-10T09:43:57Z,MERGED,True,25,16,5,https://github.com/jfsmig,Avoid thread pools with reserved threads,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/971,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/971,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,972,2017-04-07T14:23:45Z,2017-04-12T08:32:16Z,2017-04-13T09:53:26Z,MERGED,True,77,34,6,https://github.com/jfsmig,server: Prevent DDoS with early drop of old cnx/req ,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/972,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/972,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,973,2017-04-07T14:24:09Z,2017-04-12T08:34:25Z,2017-04-13T09:53:28Z,MERGED,True,334,377,28,https://github.com/jfsmig,Avoid allocating memory for small strings with a bounded size,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/973,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/973,Rather use character arrays located on the stack or inlined into their owner structures.,Rather use character arrays located on the stack or inlined into their owner structures.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,975,2017-04-12T12:09:02Z,2017-04-12T14:35:59Z,2017-04-12T16:36:25Z,MERGED,True,15,7,2,https://github.com/fvennetier,Fix EC failure after rawx connection failure,1,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/975,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/975,"This failure was manifesting with 'list index out of range' errors
happening in oio/api/ec.py.","This failure was manifesting with 'list index out of range' errors
happening in oio/api/ec.py.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,976,2017-04-24T17:13:13Z,2017-05-02T13:10:59Z,2017-05-02T13:11:26Z,MERGED,True,213,131,3,https://github.com/fvennetier,Improve directory bootstrapping,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/976,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/976,"Add some tests with variable number of meta1 digits, improve the balancing function.","Add some tests with variable number of meta1 digits, improve the balancing function.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,977,2017-04-25T16:44:52Z,2017-05-02T09:29:24Z,2017-05-02T09:29:51Z,MERGED,True,164,186,17,https://github.com/fvennetier,Python API: fix requests ids and kwargs API traversal,1,"['enhancement :sparkles:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/977,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/977,"Rework oio/container/client.py so that headers is used only where necessary, and kwargs are passed where needed.","Rework oio/container/client.py so that headers is used only where necessary, and kwargs are passed where needed.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,978,2017-04-26T08:11:23Z,2017-04-27T09:34:22Z,2017-04-27T09:34:22Z,CLOSED,False,142,0,2,https://github.com/sebastienlapierre,Add meta2 and meta1 databases rebuilding scripts,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/978,https://github.com/sebastienlapierre,1,https://github.com/open-io/oio-sds/pull/978,"Add 2 bash scripts, each dedicated to rebuild meta2/meta1 databases.","Add 2 bash scripts, each dedicated to rebuild meta2/meta1 databases.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,978,2017-04-26T08:11:23Z,2017-04-27T09:34:22Z,2017-04-27T09:34:22Z,CLOSED,False,142,0,2,https://github.com/sebastienlapierre,Add meta2 and meta1 databases rebuilding scripts,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/978,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/978#issuecomment-297664317,"Add 2 bash scripts, each dedicated to rebuild meta2/meta1 databases.",Rebased in #981,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,979,2017-04-26T14:25:50Z,2017-05-09T09:30:21Z,2017-05-09T09:30:47Z,MERGED,True,145,82,14,https://github.com/fvennetier,"Avoid bursts of buffered events (fix ""Too many pending events"")",4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/979,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/979,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,980,2017-04-27T09:14:40Z,2017-04-27T13:11:45Z,2017-05-04T10:14:30Z,MERGED,True,313,96,8,https://github.com/jfsmig,Add the oio-blob-registrator,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/980,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/980,A new tool to refresh the meta2 information about the chunks found in the RAWX volumes.,A new tool to refresh the meta2 information about the chunks found in the RAWX volumes.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,981,2017-04-27T09:32:06Z,2017-04-27T23:47:59Z,2017-04-27T23:47:59Z,MERGED,True,142,0,2,https://github.com/sebastienlapierre,Add meta2 and meta1 databases rebuilding scripts,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/981,https://github.com/sebastienlapierre,1,https://github.com/open-io/oio-sds/pull/981,"Add 2 bash scripts, each dedicated to rebuild meta2/meta1 databases.","Add 2 bash scripts, each dedicated to rebuild meta2/meta1 databases.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,982,2017-04-27T16:06:33Z,2017-05-31T14:02:37Z,2017-06-02T15:42:58Z,MERGED,True,1129,36,22,https://github.com/kamel-rahim,meta2: notify the sparse contents,5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/982,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/982,"Add meta2_filter_action_check_content before action_put_content
Check the size and the position of the all the chunks a content.
Depending of the storage_policy some chunks can be rebuild (eg copy or ec)
with the chunks already presents.
If the chunks can be rebuild it send a event storage.content.broken containing
""present_chunks"":[{""id"":""..."",""pos"":""..."",""hash"":""..."",""size"":""...""}],
""missing_chunks"":[pos1,pos2,...,posn]
if not return FILTER_KO.
Add an event handler content_broken that permit to rebuild the missing chunks","Add meta2_filter_action_check_content before action_put_content
Check the size and the position of the all the chunks a content.
Depending of the storage_policy some chunks can be rebuild (eg copy or ec)
with the chunks already presents.
If the chunks can be rebuild it send a event storage.content.broken containing
""present_chunks"":[{""id"":""..."",""pos"":""..."",""hash"":""..."",""size"":""...""}],
""missing_chunks"":[pos1,pos2,...,posn]
if not return FILTER_KO.
Add an event handler content_broken that permit to rebuild the missing chunks",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,983,2017-04-27T21:20:42Z,2017-04-27T23:15:33Z,2017-05-04T10:14:55Z,MERGED,True,84,40,3,https://github.com/jfsmig,"python: Manage versioned object (CLI, API)",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/983,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/983,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,984,2017-04-27T23:14:58Z,2017-05-04T10:02:03Z,2017-05-04T10:13:22Z,MERGED,True,96,46,10,https://github.com/jfsmig,meta2: Fix versioning + Miscellaneous fixes,10,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/984,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/984,"meta2: fix the parsing of version numbers (now accepting int64 integers)
Tune some variables in the central configuration, for starvation less reactive
Instead, let's print a warning when there is an early clue of a starvation (new variable added)","meta2: fix the parsing of version numbers (now accepting int64 integers)
Tune some variables in the central configuration, for starvation less reactive
Instead, let's print a warning when there is an early clue of a starvation (new variable added)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,985,2017-05-02T16:32:10Z,2017-05-04T09:59:01Z,2017-05-04T09:59:05Z,MERGED,True,86,24,4,https://github.com/fvennetier,Improve chunk integrity checks and oio-blob-rebuilder,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/985,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/985,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,986,2017-05-03T14:11:06Z,2017-05-04T10:01:30Z,2017-05-04T10:13:46Z,MERGED,True,205,124,7,https://github.com/jfsmig,rawx: Improvement and fixes around the uploads of chunks,8,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/986,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/986,"More secure rollback() of uploads
Atomic chunk creation
MD5 compared between the request and the local computation: only effective when both are present.
Local MD5 computation can be siabled by a configuration directive grid_checksum: on|off|smart where smart activates it when meaningful (i.e. not when managing an EC/ chunk).","More secure rollback() of uploads
Atomic chunk creation
MD5 compared between the request and the local computation: only effective when both are present.
Local MD5 computation can be siabled by a configuration directive grid_checksum: on|off|smart where smart activates it when meaningful (i.e. not when managing an EC/ chunk).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,986,2017-05-03T14:11:06Z,2017-05-04T10:01:30Z,2017-05-04T10:13:46Z,MERGED,True,205,124,7,https://github.com/jfsmig,rawx: Improvement and fixes around the uploads of chunks,8,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/986,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/986#issuecomment-298922795,"More secure rollback() of uploads
Atomic chunk creation
MD5 compared between the request and the local computation: only effective when both are present.
Local MD5 computation can be siabled by a configuration directive grid_checksum: on|off|smart where smart activates it when meaningful (i.e. not when managing an EC/ chunk).","Also fixes the sending of the HTTP trailer. Prior to this PR, the Trailer: header was malformed and not understood by the server.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,988,2017-05-04T16:01:43Z,2017-05-05T11:56:26Z,2017-05-05T11:56:29Z,MERGED,True,53,23,2,https://github.com/fvennetier,Make output of oio-crawler-integrity fit oio-blob-rebuilder input,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/988,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/988,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,989,2017-05-05T14:49:52Z,2017-05-05T16:41:15Z,2017-05-09T14:24:35Z,MERGED,True,172,114,13,https://github.com/jfsmig,oio-blob-register: Make the action configurable,7,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/989,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/989,"Prior to this pull request, the oio-blob-register was only able to force the refresh of the chunks in their corresponding container.
Now the operator can choose, on the CLI, between:

refreshing the chunk (--upgrade) being only effective if the chunk is already registered
inserting it (--insert) with no effect is yet present
checking it's presence (not yet implemented)","Prior to this pull request, the oio-blob-register was only able to force the refresh of the chunks in their corresponding container.
Now the operator can choose, on the CLI, between:

refreshing the chunk (--upgrade) being only effective if the chunk is already registered
inserting it (--insert) with no effect is yet present
checking it's presence (not yet implemented)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,990,2017-05-09T14:45:42Z,2017-05-10T17:52:18Z,2017-05-10T17:52:34Z,MERGED,True,251,291,12,https://github.com/fvennetier,Factorize Python API code around object reading,3,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/990,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/990,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,991,2017-05-09T16:21:04Z,2017-05-10T09:27:50Z,2017-05-10T09:30:05Z,MERGED,True,39,41,4,https://github.com/jfsmig,Bound the meta0 init time,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/991,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/991,Helps preventing #833 and drops journal entries that help to understand there is a problem.,Helps preventing #833 and drops journal entries that help to understand there is a problem.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,992,2017-05-10T14:22:50Z,2017-05-10T15:39:04Z,2017-05-10T16:19:31Z,MERGED,True,31,18,1,https://github.com/jfsmig,cli: Fix the behavior of `openio object create` upon an error,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/992,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/992,"The whole command shouldn't fail at the first error that occurs, if several contents have been specified.","The whole command shouldn't fail at the first error that occurs, if several contents have been specified.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,993,2017-05-10T14:24:13Z,2017-05-10T15:39:17Z,2017-05-10T16:19:32Z,MERGED,True,46,56,1,https://github.com/jfsmig,oio-blob-indexer: Factorizes the reporting,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/993,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/993,"A counter of chunks was misleading because it continuously was increased.
Eventually, 10 lines less to do the same...","A counter of chunks was misleading because it continuously was increased.
Eventually, 10 lines less to do the same...",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,994,2017-05-10T16:21:10Z,2017-05-11T08:53:07Z,2017-05-19T12:17:53Z,MERGED,True,7,2,2,https://github.com/jfsmig,oio: Quote the content_path in the headers sent to the rawx services,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/994,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/994,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,995,2017-05-11T14:52:07Z,2017-05-12T15:12:50Z,2017-05-12T15:17:25Z,MERGED,True,141,91,7,https://github.com/fvennetier,"CLI: organize imports, add versioning options",1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/995,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/995,"Organize module imports to make the CLI faster to load (not that much).
Add --max-versions option to openio container create and openio container set.
Add --max-versions, --quota and --storage-policy options to openio container unset.","Organize module imports to make the CLI faster to load (not that much).
Add --max-versions option to openio container create and openio container set.
Add --max-versions, --quota and --storage-policy options to openio container unset.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,996,2017-05-16T13:34:02Z,2017-05-17T20:25:27Z,2017-07-12T15:22:31Z,MERGED,True,25,0,1,https://github.com/murlock,Add coverage target for cmake,1,[],https://github.com/open-io/oio-sds/pull/996,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/996,"To use it:
$ cmake -DENABLE_CODECOVERAGE=TRUE ../oio-sds
$ make
$ make coverage_init
$ make test
$ make coverage
Result will be available in coverage_results directory
Heavily inspired from https://cmake.org/pipermail/cmake/2010-March/036063.html
An example of coverage is available at http://www.murlock.org/coverage_results/","To use it:
$ cmake -DENABLE_CODECOVERAGE=TRUE ../oio-sds
$ make
$ make coverage_init
$ make test
$ make coverage
Result will be available in coverage_results directory
Heavily inspired from https://cmake.org/pipermail/cmake/2010-March/036063.html
An example of coverage is available at http://www.murlock.org/coverage_results/",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,997,2017-05-17T10:35:22Z,2017-05-18T14:26:32Z,2017-05-18T14:26:36Z,MERGED,True,93,69,12,https://github.com/fvennetier,Versioning support,3,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/997,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/997,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,998,2017-05-17T13:33:00Z,2017-05-19T12:15:42Z,2017-05-19T12:26:46Z,MERGED,True,1466,1045,69,https://github.com/jfsmig,"Central config, round 2",26,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/998,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/998,"Some variables have been renamed for more clarity, some have been removed because they were redundant
 Units can be used in the central oio/sds.conf files, depending on the type of the variable the unit can time-related or size-related.
 The export of all the variables in now achieved with a single __constructor__, for less code.
 The variables are not split into client/server but packaged with the library that uses them. So that the service should only expose the variables from the libraries they bind to
 The limits in terms of file descriptors (max bases, max cnx active/passive) have been centralized (not on the CLI anymore)
 oio-proxy reloads its configuraiton upon SIGHUP signals
 oio-meta*-server and oio-sqlx-server reload their configuraiton upon SIGHUP signals
 oio-rdir-server reloads its configuraiton upon SIGHUP signals
 Make the tests pass
 Fix #974 (the ""special signal"" will be SIGHUP)","Some variables have been renamed for more clarity, some have been removed because they were redundant
 Units can be used in the central oio/sds.conf files, depending on the type of the variable the unit can time-related or size-related.
 The export of all the variables in now achieved with a single __constructor__, for less code.
 The variables are not split into client/server but packaged with the library that uses them. So that the service should only expose the variables from the libraries they bind to
 The limits in terms of file descriptors (max bases, max cnx active/passive) have been centralized (not on the CLI anymore)
 oio-proxy reloads its configuraiton upon SIGHUP signals
 oio-meta*-server and oio-sqlx-server reload their configuraiton upon SIGHUP signals
 oio-rdir-server reloads its configuraiton upon SIGHUP signals
 Make the tests pass
 Fix #974 (the ""special signal"" will be SIGHUP)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1000,2017-05-17T14:30:11Z,2017-10-19T16:17:50Z,2017-10-19T16:17:50Z,CLOSED,False,31,46,4,https://github.com/jfsmig,meta2: Review the versioning support of the backend (WIP),1,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/1000,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1000,"Remove the DISLABLED mode
 Fix the management of the deleted flag","Remove the DISLABLED mode
 Fix the management of the deleted flag",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1001,2017-05-18T07:51:03Z,2017-05-18T14:23:10Z,2017-05-18T14:26:58Z,MERGED,True,1,1,1,https://github.com/fvennetier,sqliterepo: fix compilation with zookeeper 3.5.3,1,[],https://github.com/open-io/oio-sds/pull/1001,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1001,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1002,2017-05-19T07:51:30Z,2017-05-19T08:33:36Z,2017-05-24T08:29:05Z,MERGED,True,8,6,1,https://github.com/kamel-rahim,"meta2: take account of ""flag_nodeleted"" on listing (fix #999)",1,[],https://github.com/open-io/oio-sds/pull/1002,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1002,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1003,2017-05-19T10:15:48Z,2017-05-19T12:14:24Z,2017-05-19T12:14:29Z,MERGED,True,2,0,1,https://github.com/fvennetier,Fix segfault in sqliterepo,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1003,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1003,This happens in a weird case where the peers saved in a base do not include the service currently serving the base...,This happens in a weird case where the peers saved in a base do not include the service currently serving the base...,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1005,2017-05-19T12:40:14Z,2017-05-19T13:59:00Z,2017-05-19T14:09:10Z,MERGED,True,167,156,13,https://github.com/jfsmig,sqliterepo: Add a security belt around fetches of the peers,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1005,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1005,"Each time the application locates for peers, whatever the level, ensure...

the output pointer is set to something
an array is used when no error occur (even if it is empty)
NULL is never used to represent an empty list of peers.
NULL is used when an error returned","Each time the application locates for peers, whatever the level, ensure...

the output pointer is set to something
an array is used when no error occur (even if it is empty)
NULL is never used to represent an empty list of peers.
NULL is used when an error returned",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1006,2017-05-19T13:11:56Z,2017-05-19T13:59:22Z,2017-05-19T14:08:40Z,MERGED,True,71,319,30,https://github.com/jfsmig,"For a better code coverage, let's remove unused code",9,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1006,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1006,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1007,2017-05-19T15:13:54Z,2017-05-22T09:43:07Z,2017-05-24T13:03:17Z,MERGED,True,18,6,2,https://github.com/jfsmig,Run the suite of functional tests with on a NS with a replicated dirtectory,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1007,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1007,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1008,2017-05-22T09:03:41Z,2017-05-22T09:41:46Z,2017-05-23T07:48:39Z,MERGED,True,9,4,3,https://github.com/fvennetier,List deleted objects,2,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1008,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1008,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1010,2017-05-22T13:18:18Z,2017-05-22T15:44:43Z,2017-06-19T14:53:17Z,MERGED,True,8,3,3,https://github.com/murlock,Enable coverage with console output for Travis,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1010,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1010,Run test with C coverage enabled.,Run test with C coverage enabled.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1011,2017-05-23T09:32:26Z,2017-05-23T16:02:04Z,2017-06-19T14:52:59Z,MERGED,True,32,12,5,https://github.com/murlock,Add Python coverage,1,[],https://github.com/open-io/oio-sds/pull/1011,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1011,"To achieve Python coverage, a new environment was added in tox.ini to have global coverage.
For each Python test, command is set to coverage run -p instead of python.","To achieve Python coverage, a new environment was added in tox.ini to have global coverage.
For each Python test, command is set to coverage run -p instead of python.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1012,2017-05-23T12:51:21Z,2017-05-23T16:04:44Z,2017-05-23T16:04:50Z,MERGED,True,31,9,2,https://github.com/fvennetier,"Reduce CPU usage when sending events, warn when reaching max queue size",1,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1012,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1012,Buffered event handling function was called too often.,Buffered event handling function was called too often.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1013,2017-05-23T14:22:48Z,2017-05-23T16:37:00Z,2017-05-24T13:03:15Z,MERGED,True,181,113,6,https://github.com/jfsmig,"rdir: Fix the maxfd detection, Serve the /config route",3,"['bug :scream:', 'enhancement :sparkles:']",https://github.com/open-io/oio-sds/pull/1013,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1013,"Fix the detection of the
 Provide a /config as the oio-proxy does
 Document the new variable managed by the central configuration facility","Fix the detection of the
 Provide a /config as the oio-proxy does
 Document the new variable managed by the central configuration facility",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1014,2017-05-23T15:57:29Z,2017-05-24T08:25:05Z,2017-05-24T08:28:45Z,MERGED,True,2,1,1,https://github.com/kamel-rahim,replication: fix error on replicated write chunk,1,[],https://github.com/open-io/oio-sds/pull/1014,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1014,Use a copy of a list of connections when a remove maybe needed,Use a copy of a list of connections when a remove maybe needed,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1015,2017-05-26T13:40:42Z,2017-05-29T12:25:44Z,2017-05-29T12:25:53Z,MERGED,True,8,12,5,https://github.com/fvennetier,Convert eventlet Timeout to OioTimeout,2,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1015,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1015,Users of our API don't have to be bothered by eventlet.,Users of our API don't have to be bothered by eventlet.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1017,2017-05-30T13:44:33Z,2017-05-31T13:47:12Z,2017-06-02T15:44:06Z,MERGED,True,20,16,1,https://github.com/kamel-rahim,Accounts: ensure that redis unlock is called (fix #1016),1,[],https://github.com/open-io/oio-sds/pull/1017,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1017,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1021,2017-06-01T12:57:46Z,2017-06-01T17:06:53Z,2017-06-19T14:53:07Z,MERGED,True,2,0,1,https://github.com/murlock,CMake: add CODECOV_PATTERN_TO_IGNORE,1,[],https://github.com/open-io/oio-sds/pull/1021,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1021,"Add variable CODECOV_PATTERN_TO_IGNORE to remove some
autogenerated libs from coverage.
For example:
set(CODECOV_PATTERN_TO_IGNORE ${CMAKE_BINARY_DIR}/core/client_variables.c '${CMAKE_BINARY_DIR}/metautils/lib/*.c')","Add variable CODECOV_PATTERN_TO_IGNORE to remove some
autogenerated libs from coverage.
For example:
set(CODECOV_PATTERN_TO_IGNORE ${CMAKE_BINARY_DIR}/core/client_variables.c '${CMAKE_BINARY_DIR}/metautils/lib/*.c')",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1022,2017-06-01T17:20:01Z,2017-06-07T08:55:05Z,2017-06-07T08:57:23Z,MERGED,True,687,119,9,https://github.com/fvennetier,LB improvements,5,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1022,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1022,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1023,2017-06-02T07:32:11Z,2017-06-05T13:19:38Z,2017-06-05T13:19:48Z,MERGED,True,3,2,3,https://github.com/fvennetier,Fix compilation issues with GCC 7,1,[],https://github.com/open-io/oio-sds/pull/1023,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1023,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1026,2017-06-02T15:53:57Z,2017-06-06T13:44:18Z,2017-06-06T13:57:23Z,MERGED,True,129,84,4,https://github.com/kamel-rahim,Account: send a lua script to redis to update containers.,1,[],https://github.com/open-io/oio-sds/pull/1026,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1026,"Replace the lock/unlock by a script to redis.
Since a script is atomic it should prevent the problem of tilted redis that left lock.","Replace the lock/unlock by a script to redis.
Since a script is atomic it should prevent the problem of tilted redis that left lock.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1028,2017-06-05T16:32:06Z,2017-06-06T10:04:27Z,2017-06-06T10:09:09Z,MERGED,True,412,322,11,https://github.com/jfsmig,travis: Speed up the test suites,4,[],https://github.com/open-io/oio-sds/pull/1028,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1028,"Bring the Travis execution from 22 minutes to 9 minutes.

Split each test suite into a specific Travis job
Add one specific test suite for code coverage, that is not systematically scheduled because it sequentially run all the test suites
Remove the log folding because this is not needed anymore","Bring the Travis execution from 22 minutes to 9 minutes.

Split each test suite into a specific Travis job
Add one specific test suite for code coverage, that is not systematically scheduled because it sequentially run all the test suites
Remove the log folding because this is not needed anymore",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1029,2017-06-05T16:37:31Z,2017-06-06T07:10:48Z,2017-06-06T07:10:51Z,MERGED,True,11,4,3,https://github.com/fvennetier,Fix randomly failing Python LB tests,1,['priority:1 :goberserk:'],https://github.com/open-io/oio-sds/pull/1029,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1029,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1031,2017-06-06T13:45:29Z,2017-06-06T14:36:00Z,2017-06-06T20:02:11Z,MERGED,True,8,6,1,https://github.com/jfsmig,core: Fix a pointer management in the C proxy client,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1031,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1031,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1032,2017-06-06T13:46:19Z,2017-06-06T14:35:30Z,2017-06-06T20:02:16Z,MERGED,True,4,1,1,https://github.com/jfsmig,sqliterepo: Remove the 'ABNORMAL 04/LEFT_SELF',1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1032,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1032,Abusive and annoying,Abusive and annoying,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1034,2017-06-07T14:43:05Z,2017-06-07T20:22:55Z,2017-06-08T07:07:14Z,MERGED,True,1,2,2,https://github.com/fvennetier,oio-directory-bootstrap: allow meta1_digits < 2 (fix #832),2,"['bug :scream:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1034,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1034,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1035,2017-06-07T15:07:42Z,2017-06-23T15:22:28Z,2017-07-12T15:22:07Z,MERGED,True,1045,3,7,https://github.com/murlock,Download container as archive,14,[],https://github.com/open-io/oio-sds/pull/1035,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1035,"Allow to download a container with support of HTTP Ranges
Limitations:

Ranges must be aligned with 512-byte boundaries
no support of multipart range
Container is not yet frozen

Still missing:

support Head with Range
include versions of object
include deleted object

Example:
$ s3cmd mb s3://test1
$ s3cmd put /etc/passwd s3://test1
$ s3cmd --add-header=UserAdd:value modify s3://test1/passwd

$ ./streaming.py
$ curl -I http://localhost:5001/test1
HTTP/1.0 200 OK
Content-Length: 7168
X-Blocks: 14
Content-Type: application/tar
Accept-Ranges: bytes
Server: Werkzeug/0.12.1 Python/2.7.13
Date: Wed, 07 Jun 2017 14:59:25 GMT

$ curl http://localhost:5001/test1 -H ""Range: bytes=0-3583"" > a.tar
$ curl http://localhost:5001/test1 -H ""Range: bytes=3584-7167"" >> a.tar
$ tar --xattrs -xf a.tar
$ xattr -l passwd","Allow to download a container with support of HTTP Ranges
Limitations:

Ranges must be aligned with 512-byte boundaries
no support of multipart range
Container is not yet frozen

Still missing:

support Head with Range
include versions of object
include deleted object

Example:
$ s3cmd mb s3://test1
$ s3cmd put /etc/passwd s3://test1
$ s3cmd --add-header=UserAdd:value modify s3://test1/passwd

$ ./streaming.py
$ curl -I http://localhost:5001/test1
HTTP/1.0 200 OK
Content-Length: 7168
X-Blocks: 14
Content-Type: application/tar
Accept-Ranges: bytes
Server: Werkzeug/0.12.1 Python/2.7.13
Date: Wed, 07 Jun 2017 14:59:25 GMT

$ curl http://localhost:5001/test1 -H ""Range: bytes=0-3583"" > a.tar
$ curl http://localhost:5001/test1 -H ""Range: bytes=3584-7167"" >> a.tar
$ tar --xattrs -xf a.tar
$ xattr -l passwd",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1035,2017-06-07T15:07:42Z,2017-06-23T15:22:28Z,2017-07-12T15:22:07Z,MERGED,True,1045,3,7,https://github.com/murlock,Download container as archive,14,[],https://github.com/open-io/oio-sds/pull/1035,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1035#issuecomment-309469112,"Allow to download a container with support of HTTP Ranges
Limitations:

Ranges must be aligned with 512-byte boundaries
no support of multipart range
Container is not yet frozen

Still missing:

support Head with Range
include versions of object
include deleted object

Example:
$ s3cmd mb s3://test1
$ s3cmd put /etc/passwd s3://test1
$ s3cmd --add-header=UserAdd:value modify s3://test1/passwd

$ ./streaming.py
$ curl -I http://localhost:5001/test1
HTTP/1.0 200 OK
Content-Length: 7168
X-Blocks: 14
Content-Type: application/tar
Accept-Ranges: bytes
Server: Werkzeug/0.12.1 Python/2.7.13
Date: Wed, 07 Jun 2017 14:59:25 GMT

$ curl http://localhost:5001/test1 -H ""Range: bytes=0-3583"" > a.tar
$ curl http://localhost:5001/test1 -H ""Range: bytes=3584-7167"" >> a.tar
$ tar --xattrs -xf a.tar
$ xattr -l passwd","Codecov Report

Merging #1035 into master will decrease coverage by 0.03%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1035      +/-   ##
==========================================
- Coverage   67.74%   67.71%   -0.04%     
==========================================
  Files         225      225              
  Lines       44363    44363              
  Branches     6640     6640              
==========================================
- Hits        30055    30039      -16     
- Misses      13589    13603      +14     
- Partials      719      721       +2



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_container.c
46.78% <0%> (-3.58%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


meta2v2/meta2_filters_action_content.c
81.31% <0%> (-1.64%)
⬇️


sqliterepo/election.c
75.46% <0%> (-1.31%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


cluster/conscience/conscience.c
72.41% <0%> (-0.69%)
⬇️


core/http_put.c
92.62% <0%> (-0.51%)
⬇️


sqlx/sqlx_service.c
82.24% <0%> (-0.47%)
⬇️


sqliterepo/repository.c
69.92% <0%> (-0.38%)
⬇️


meta2v2/meta2_backend.c
69.62% <0%> (-0.34%)
⬇️


... and 18 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 070c1c3...ec49701. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1036,2017-06-07T17:07:33Z,2017-06-15T12:53:16Z,2017-06-15T13:05:25Z,MERGED,True,448,207,16,https://github.com/fvennetier,LB improvements (2),8,"['enhancement :sparkles:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1036,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1036,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1038,2017-06-08T14:15:56Z,2017-06-09T14:16:05Z,2017-06-23T07:38:14Z,MERGED,True,870,2493,58,https://github.com/jfsmig,Move NS-wide config to the central configuration facility,27,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1038,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1038,"Move the chunk_size, storage_policy, service_update_policy as central variables
Simplifies the ASN.1 structures serialized
Alert for old-style options found in the configuration of the conscience
rawx: Disable the support of ACL (unused, untested, thus non functional)
rawx: Disables the compression support
rawx: Stop supporting any compression algorithm that is not ZLIB
Simplifies the output of cmake","Move the chunk_size, storage_policy, service_update_policy as central variables
Simplifies the ASN.1 structures serialized
Alert for old-style options found in the configuration of the conscience
rawx: Disable the support of ACL (unused, untested, thus non functional)
rawx: Disables the compression support
rawx: Stop supporting any compression algorithm that is not ZLIB
Simplifies the output of cmake",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1039,2017-06-09T16:19:49Z,2017-06-12T15:43:23Z,2017-06-13T11:51:17Z,MERGED,True,7,59,4,https://github.com/kamel-rahim,ContentRebuilderFilter: Merge with NotifyFilter (fix #1033),2,[],https://github.com/open-io/oio-sds/pull/1039,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1039,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1041,2017-06-12T09:04:58Z,2017-06-15T12:26:06Z,2017-06-22T14:08:04Z,MERGED,True,22,9,4,https://github.com/kamel-rahim,CLI:  Change default output to 'value' when listing containers and objects (fix #1025),3,[],https://github.com/open-io/oio-sds/pull/1041,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1041,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1042,2017-06-12T09:08:08Z,2017-06-12T15:44:08Z,2017-06-13T11:51:05Z,MERGED,True,13,15,1,https://github.com/kamel-rahim,CLI: use a generator for account listing (fix #1024),2,[],https://github.com/open-io/oio-sds/pull/1042,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1042,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1043,2017-06-14T15:50:25Z,2017-06-15T12:51:48Z,2017-06-22T14:08:03Z,MERGED,True,28,4,2,https://github.com/kamel-rahim,Meta2: fix memory leak in m2db_check_content,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1043,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1043,The memory leak was caused by a GSList not freed in each node of sorted_content.metachunks,The memory leak was caused by a GSList not freed in each node of sorted_content.metachunks,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1044,2017-06-15T11:17:42Z,2017-06-19T13:56:11Z,2017-06-19T14:53:42Z,MERGED,True,138,65,9,https://github.com/murlock,Check validity of oio_url_s instance,5,[],https://github.com/open-io/oio-sds/pull/1044,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1044,"Only core, meta2 and proxy are now protected (I hope, please correct me if I miss something).
Path and version are always checked with oio_url_check.
Namespace is only checked if current one is passed as argument.","Only core, meta2 and proxy are now protected (I hope, please correct me if I miss something).
Path and version are always checked with oio_url_check.
Namespace is only checked if current one is passed as argument.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1045,2017-06-16T09:58:01Z,2017-06-16T12:21:21Z,2017-06-16T12:23:54Z,MERGED,True,42,42,4,https://github.com/fvennetier,Fix upload with C client with more than one metachunk,4,"['bug :scream:', 'priority:1 :goberserk:']",https://github.com/open-io/oio-sds/pull/1045,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1045,"Due to a variable mismatch, only the first chunk of the first metachunk was referenced in meta2 database.","Due to a variable mismatch, only the first chunk of the first metachunk was referenced in meta2 database.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1046,2017-06-16T16:01:29Z,2017-06-19T14:27:34Z,2017-06-19T14:54:08Z,MERGED,True,18,4,4,https://github.com/murlock,Enable codecov,1,[],https://github.com/open-io/oio-sds/pull/1046,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1046,"This patch enable use of codecov.io with:

C coverage
Python coverage
Badge integration","This patch enable use of codecov.io with:

C coverage
Python coverage
Badge integration",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1046,2017-06-16T16:01:29Z,2017-06-19T14:27:34Z,2017-06-19T14:54:08Z,MERGED,True,18,4,4,https://github.com/murlock,Enable codecov,1,[],https://github.com/open-io/oio-sds/pull/1046,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1046#issuecomment-309067580,"This patch enable use of codecov.io with:

C coverage
Python coverage
Badge integration","Codecov Report

❗ No coverage uploaded for pull request base (master@1f35ef4). Click here to learn what that means.
The diff coverage is n/a.


@@           Coverage Diff            @@
##             master   #1046   +/-   ##
========================================
  Coverage          ?     68%           
========================================
  Files             ?     225           
  Lines             ?   44338           
  Branches          ?    6635           
========================================
  Hits              ?   30153           
  Misses            ?   13683           
  Partials          ?     502

Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1f35ef4...c3c8e15. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1047,2017-06-21T13:17:30Z,2017-06-22T13:01:54Z,2017-06-22T13:01:59Z,MERGED,True,2,1,1,https://github.com/fvennetier,"CLI: display policy in ""openio object list --long""",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1047,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1047,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1047,2017-06-21T13:17:30Z,2017-06-22T13:01:54Z,2017-06-22T13:01:59Z,MERGED,True,2,1,1,https://github.com/fvennetier,"CLI: display policy in ""openio object list --long""",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1047,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1047#issuecomment-310077980,,"Codecov Report

Merging #1047 into master will increase coverage by 0.13%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1047      +/-   ##
==========================================
+ Coverage   68.03%   68.17%   +0.13%     
==========================================
  Files         225      225              
  Lines       44362    44362              
  Branches     6640     6640              
==========================================
+ Hits        30183    30243      +60     
+ Misses      13636    13546      -90     
- Partials      543      573      +30



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
37.88% <0%> (-2.75%)
⬇️


meta2v2/meta2_filters_action_container.c
48.21% <0%> (-1.08%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


sqliterepo/repository.c
69.55% <0%> (-0.5%)
⬇️


metautils/lib/utils_sockets.c
48.62% <0%> (-0.4%)
⬇️


core/lb.c
93.54% <0%> (-0.31%)
⬇️


meta2v2/meta2_backend.c
74.69% <0%> (-0.23%)
⬇️


metautils/lib/gridd_client.c
71.7% <0%> (-0.22%)
⬇️


metautils/lib/gridd_client_ext.c
80.59% <0%> (ø)
⬆️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e04af33...9e087c0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1050,2017-06-22T10:18:23Z,2017-06-22T13:37:47Z,2017-06-22T13:37:51Z,MERGED,True,102,88,9,https://github.com/fvennetier,Improve error messages and readability,3,"['enhancement :sparkles:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1050,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1050,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1050,2017-06-22T10:18:23Z,2017-06-22T13:37:47Z,2017-06-22T13:37:51Z,MERGED,True,102,88,9,https://github.com/fvennetier,Improve error messages and readability,3,"['enhancement :sparkles:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1050,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1050#issuecomment-310341091,,"Codecov Report

Merging #1050 into master will increase coverage by 0.12%.
The diff coverage is 52.94%.


@@            Coverage Diff             @@
##           master    #1050      +/-   ##
==========================================
+ Coverage   68.07%   68.19%   +0.12%     
==========================================
  Files         225      225              
  Lines       44362    44361       -1     
  Branches     6640     6640              
==========================================
+ Hits        30198    30254      +56     
+ Misses      13607    13561      -46     
+ Partials      557      546      -11



Impacted Files
Coverage Δ





meta2v2/meta2_utils.c
72.84% <ø> (ø)
⬆️


proxy/m2_actions.c
76.65% <100%> (ø)
⬆️


oio/api/ec.py
15.15% <18.18%> (-0.13%)
⬇️


oio/blob/client.py
26.22% <50%> (ø)
⬆️


oio/api/replication.py
45.81% <50%> (-1.04%)
⬇️


oio/api/io.py
52.44% <75%> (+0.91%)
⬆️


rawx-lib/src/attr_handler.c
53.24% <0%> (-1.3%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
65.29% <0%> (-0.92%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d0a8706...adf438b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1051,2017-06-23T08:08:33Z,2017-06-23T14:32:23Z,2017-11-13T13:44:35Z,MERGED,True,76,11,3,https://github.com/murlock,oio/api: allow append operations,2,[],https://github.com/open-io/oio-sds/pull/1051,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1051,"This patch introduces a new parameter for object_create to support
appending data to an existing object.
If object doesn't exist, it is created, only if container exists as
flag append can not be used at same time with flag autocreate.","This patch introduces a new parameter for object_create to support
appending data to an existing object.
If object doesn't exist, it is created, only if container exists as
flag append can not be used at same time with flag autocreate.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1051,2017-06-23T08:08:33Z,2017-06-23T14:32:23Z,2017-11-13T13:44:35Z,MERGED,True,76,11,3,https://github.com/murlock,oio/api: allow append operations,2,[],https://github.com/open-io/oio-sds/pull/1051,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1051#issuecomment-310603115,"This patch introduces a new parameter for object_create to support
appending data to an existing object.
If object doesn't exist, it is created, only if container exists as
flag append can not be used at same time with flag autocreate.","Codecov Report

Merging #1051 into master will decrease coverage by 0.57%.
The diff coverage is 66.66%.


@@            Coverage Diff             @@
##           master    #1051      +/-   ##
==========================================
- Coverage    68.1%   67.53%   -0.58%     
==========================================
  Files         225      225              
  Lines       44361    44363       +2     
  Branches     6640     6640              
==========================================
- Hits        30213    29960     -253     
- Misses      13593    13695     +102     
- Partials      555      708     +153



Impacted Files
Coverage Δ





oio/api/object_storage.py
36.38% <ø> (ø)
⬆️


oio/container/client.py
42.19% <66.66%> (+0.06%)
⬆️


sqliterepo/restoration.c
0% <0%> (-74.08%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


sqliterepo/replication_dispatcher.c
33.11% <0%> (-7.44%)
⬇️


meta2v2/meta2_backend.c
69.51% <0%> (-5.18%)
⬇️


meta0v2/meta0_remote.c
43.33% <0%> (-5%)
⬇️


sqliterepo/replication_client.c
21.42% <0%> (-4.29%)
⬇️


sqliterepo/repository.c
65.71% <0%> (-3.97%)
⬇️


meta2v2/meta2_utils.c
69.77% <0%> (-3.07%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update bf188bb...8024bf7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1052,2017-06-26T09:43:51Z,2017-06-27T08:14:27Z,2017-11-13T13:44:35Z,MERGED,True,123,104,5,https://github.com/murlock,oio: create a shared RedisConn object,2,[],https://github.com/open-io/oio-sds/pull/1052,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1052,"It will help to manage StrictRedis or Sentinel on various
daemons (account/backend.py and container_streaming at this time)","It will help to manage StrictRedis or Sentinel on various
daemons (account/backend.py and container_streaming at this time)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1052,2017-06-26T09:43:51Z,2017-06-27T08:14:27Z,2017-11-13T13:44:35Z,MERGED,True,123,104,5,https://github.com/murlock,oio: create a shared RedisConn object,2,[],https://github.com/open-io/oio-sds/pull/1052,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1052#issuecomment-311014627,"It will help to manage StrictRedis or Sentinel on various
daemons (account/backend.py and container_streaming at this time)","Codecov Report

Merging #1052 into master will decrease coverage by 0.16%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1052      +/-   ##
==========================================
- Coverage   67.86%   67.69%   -0.17%     
==========================================
  Files         225      225              
  Lines       44363    44363              
  Branches     6640     6640              
==========================================
- Hits        30108    30033      -75     
- Misses      13538    13614      +76     
+ Partials      717      716       -1



Impacted Files
Coverage Δ





meta0v2/meta0_remote.c
43.33% <0%> (-5%)
⬇️


meta1v2/meta1_prefixes.c
78.61% <0%> (-3.15%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


proxy/cs_actions.c
70.27% <0%> (-2.71%)
⬇️


sqliterepo/replication.c
75.72% <0%> (-1.45%)
⬇️


sqliterepo/election.c
75.46% <0%> (-1.37%)
⬇️


metautils/lib/gridd_client_ext.c
79.85% <0%> (-1.12%)
⬇️


metautils/lib/gridd_client.c
71.05% <0%> (-1.08%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


proxy/metacd_http.c
78.77% <0%> (-0.83%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b3e0b4b...07ef98e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1053,2017-06-26T14:33:33Z,2017-06-27T08:14:43Z,2017-06-27T08:14:46Z,MERGED,True,24,228,6,https://github.com/fvennetier,"More LB tests, a bit of cleaning",3,[],https://github.com/open-io/oio-sds/pull/1053,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1053,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1053,2017-06-26T14:33:33Z,2017-06-27T08:14:43Z,2017-06-27T08:14:46Z,MERGED,True,24,228,6,https://github.com/fvennetier,"More LB tests, a bit of cleaning",3,[],https://github.com/open-io/oio-sds/pull/1053,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1053#issuecomment-311098311,,"Codecov Report

Merging #1053 into master will decrease coverage by 0.32%.
The diff coverage is 33.33%.


@@            Coverage Diff             @@
##           master    #1053      +/-   ##
==========================================
- Coverage   67.86%   67.53%   -0.33%     
==========================================
  Files         225      225              
  Lines       44363    44373      +10     
  Branches     6640     6640              
==========================================
- Hits        30108    29969     -139     
- Misses      13538    13687     +149     
  Partials      717      717



Impacted Files
Coverage Δ





tests/unit/test_lb.c
99.03% <100%> (ø)
⬆️


oio/api/object_storage.py
35.97% <11.11%> (-0.41%)
⬇️


sqliterepo/restoration.c
0% <0%> (-74.08%)
⬇️


meta0v2/meta0_remote.c
43.33% <0%> (-5%)
⬇️


sqliterepo/repository.c
65.71% <0%> (-4.58%)
⬇️


meta2v2/meta2_filters_action_content.c
81.31% <0%> (-3.28%)
⬇️


meta1v2/meta1_prefixes.c
78.61% <0%> (-3.15%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


sqliterepo/election.c
74.41% <0%> (-2.42%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b3e0b4b...4781f47. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1056,2017-06-27T16:17:22Z,2017-06-28T09:05:28Z,2017-06-28T09:05:31Z,MERGED,True,128,44,7,https://github.com/fvennetier,"account: factorize code, add documentation (fix #1054)",1,[],https://github.com/open-io/oio-sds/pull/1056,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1056,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1056,2017-06-27T16:17:22Z,2017-06-28T09:05:28Z,2017-06-28T09:05:31Z,MERGED,True,128,44,7,https://github.com/fvennetier,"account: factorize code, add documentation (fix #1054)",1,[],https://github.com/open-io/oio-sds/pull/1056,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1056#issuecomment-311415507,,"Codecov Report

Merging #1056 into master will decrease coverage by 0.44%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##           master    #1056      +/-   ##
==========================================
- Coverage   68.07%   67.63%   -0.45%     
==========================================
  Files         225      225              
  Lines       44373    44375       +2     
  Branches     6640     6640              
==========================================
- Hits        30207    30013     -194     
- Misses      13530    13629      +99     
- Partials      636      733      +97



Impacted Files
Coverage Δ





oio/api/object_storage.py
35.78% <0%> (-0.19%)
⬇️


gridd/main/srvalert.c
0% <0%> (-45.17%)
⬇️


proxy/reply.c
73.8% <0%> (-7.15%)
⬇️


sqliterepo/replication_dispatcher.c
33.84% <0%> (-6.39%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


sqliterepo/sqlite_utils.c
83.94% <0%> (-2.92%)
⬇️


core/proxy.c
81.9% <0%> (-2.29%)
⬇️


sqliterepo/election.c
75.21% <0%> (-1.86%)
⬇️


proxy/cs_actions.c
70.27% <0%> (-1.81%)
⬇️


core/str.c
87.56% <0%> (-1.78%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ba73cea...e5997ce. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1058,2017-06-27T19:32:23Z,2017-06-30T12:02:03Z,2017-11-13T13:44:50Z,MERGED,True,274,66,4,https://github.com/murlock,support restoration of container by range,7,[],https://github.com/open-io/oio-sds/pull/1058,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1058,"When a dump operation is launched, the Manifest is stored as first file of the archive.
Please note that restoration by range must be a multiple of 1 MB, as empty block may be inserted to avoid header split.
When untaring a dump on Linux filesystem, you should provide option --ignore-zeroes to avoid 'A lone zero block at %d' error.","When a dump operation is launched, the Manifest is stored as first file of the archive.
Please note that restoration by range must be a multiple of 1 MB, as empty block may be inserted to avoid header split.
When untaring a dump on Linux filesystem, you should provide option --ignore-zeroes to avoid 'A lone zero block at %d' error.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1058,2017-06-27T19:32:23Z,2017-06-30T12:02:03Z,2017-11-13T13:44:50Z,MERGED,True,274,66,4,https://github.com/murlock,support restoration of container by range,7,[],https://github.com/open-io/oio-sds/pull/1058,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1058#issuecomment-311650016,"When a dump operation is launched, the Manifest is stored as first file of the archive.
Please note that restoration by range must be a multiple of 1 MB, as empty block may be inserted to avoid header split.
When untaring a dump on Linux filesystem, you should provide option --ignore-zeroes to avoid 'A lone zero block at %d' error.","Codecov Report

Merging #1058 into master will increase coverage by 0.34%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1058      +/-   ##
==========================================
+ Coverage   67.67%   68.01%   +0.34%     
==========================================
  Files         225      225              
  Lines       44370    44370              
  Branches     6638     6638              
==========================================
+ Hits        30027    30178     +151     
+ Misses      13653    13529     -124     
+ Partials      690      663      -27



Impacted Files
Coverage Δ





meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


meta1v2/meta1_prefixes.c
78.61% <0%> (-1.26%)
⬇️


cluster/lib/gridcluster.c
35.62% <0%> (-1.25%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


metautils/lib/gridd_client.c
71.7% <0%> (-0.65%)
⬇️


server/transport_gridd.c
63.74% <0%> (-0.6%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
66.21% <0%> (-0.46%)
⬇️


core/lb.c
93.54% <0%> (-0.31%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c08a9e5...18c1880. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1059,2017-06-27T23:10:18Z,2017-06-28T08:46:15Z,2017-11-13T13:44:52Z,MERGED,True,57,71,11,https://github.com/jfsmig,Fix elections troubles,10,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1059,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1059,"Systematically reset a timer when restarting an election cycle, the timer that allows the client to detect the election is stalled
Avoid leaving uninitialized DB files, erroneously autocreated","Systematically reset a timer when restarting an election cycle, the timer that allows the client to detect the election is stalled
Avoid leaving uninitialized DB files, erroneously autocreated",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1059,2017-06-27T23:10:18Z,2017-06-28T08:46:15Z,2017-11-13T13:44:52Z,MERGED,True,57,71,11,https://github.com/jfsmig,Fix elections troubles,10,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1059,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1059#issuecomment-311512666,"Systematically reset a timer when restarting an election cycle, the timer that allows the client to detect the election is stalled
Avoid leaving uninitialized DB files, erroneously autocreated","Codecov Report

Merging #1059 into master will decrease coverage by 0.47%.
The diff coverage is 73.52%.


@@            Coverage Diff            @@
##           master   #1059      +/-   ##
=========================================
- Coverage   68.07%   67.6%   -0.48%     
=========================================
  Files         225     225              
  Lines       44373   44360      -13     
  Branches     6640    6638       -2     
=========================================
- Hits        30207   29988     -219     
- Misses      13530   13668     +138     
- Partials      636     704      +68



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
81.71% <ø> (-1.62%)
⬇️


proxy/reply.c
73.8% <ø> (-7.15%)
⬇️


sqliterepo/replication_dispatcher.c
32.57% <100%> (-7.65%)
⬇️


meta0v2/meta0_backend.c
55.35% <50%> (-0.53%)
⬇️


meta1v2/meta1_backend_internals.c
71.66% <50%> (ø)
⬆️


sqliterepo/repository.c
67.32% <66.66%> (-3.35%)
⬇️


proxy/m2_actions.c
76.81% <72.72%> (-0.48%)
⬇️


sqliterepo/election.c
77.03% <85.71%> (-0.05%)
⬇️


sqliterepo/restoration.c
0% <0%> (-74.08%)
⬇️


gridd/main/srvalert.c
0% <0%> (-45.17%)
⬇️


... and 42 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ba73cea...955a923. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1061,2017-06-28T15:01:45Z,2017-06-28T17:00:17Z,2017-06-28T17:00:21Z,MERGED,True,67,15,4,https://github.com/fvennetier,Python API: review exception handling in HttpApi,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1061,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1061,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1063,2017-06-29T13:22:01Z,2017-06-30T10:24:45Z,2017-06-30T10:24:48Z,MERGED,True,13,12,2,https://github.com/fvennetier,Fix object list paging and help,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1063,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1063,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1063,2017-06-29T13:22:01Z,2017-06-30T10:24:45Z,2017-06-30T10:24:48Z,MERGED,True,13,12,2,https://github.com/fvennetier,Fix object list paging and help,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1063,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1063#issuecomment-311968823,,"Codecov Report

Merging #1063 into master will decrease coverage by <.01%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##           master    #1063      +/-   ##
==========================================
- Coverage   67.67%   67.66%   -0.01%     
==========================================
  Files         225      225              
  Lines       44370    44370              
  Branches     6638     6638              
==========================================
- Hits        30027    30023       -4     
+ Misses      13653    13613      -40     
- Partials      690      734      +44



Impacted Files
Coverage Δ





metautils/lib/common_main.c
30.89% <0%> (ø)
⬆️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


sqliterepo/election.c
75.66% <0%> (-1.99%)
⬇️


core/str.c
87.56% <0%> (-1.78%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
65.29% <0%> (-1.37%)
⬇️


meta1v2/meta1_prefixes.c
78.61% <0%> (-1.26%)
⬇️


cluster/lib/gridcluster.c
35.62% <0%> (-1.25%)
⬇️


metautils/lib/gridd_client.c
71.27% <0%> (-1.08%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c08a9e5...e53b2bf. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1064,2017-06-29T17:26:31Z,2017-06-30T10:58:13Z,2017-11-13T13:44:50Z,MERGED,True,551,139,18,https://github.com/jfsmig,Improve the behavior with huge amounts of elections,18,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1064,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1064,"Add a tool to stress a ZK cluster: know its limit
 Shuffle the ZK endpoints in a connection string: for a better balancing of the connections among the nodes
 Allow to balance a connection to a ZK cluster over several ZK handles (and as many connections): for smaller transactions, then less jute.maxbuffer errors
 Allow several ZK cluster in the configuration: when the number of bases is too high","Add a tool to stress a ZK cluster: know its limit
 Shuffle the ZK endpoints in a connection string: for a better balancing of the connections among the nodes
 Allow to balance a connection to a ZK cluster over several ZK handles (and as many connections): for smaller transactions, then less jute.maxbuffer errors
 Allow several ZK cluster in the configuration: when the number of bases is too high",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1064,2017-06-29T17:26:31Z,2017-06-30T10:58:13Z,2017-11-13T13:44:50Z,MERGED,True,551,139,18,https://github.com/jfsmig,Improve the behavior with huge amounts of elections,18,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1064,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1064#issuecomment-312038145,"Add a tool to stress a ZK cluster: know its limit
 Shuffle the ZK endpoints in a connection string: for a better balancing of the connections among the nodes
 Allow to balance a connection to a ZK cluster over several ZK handles (and as many connections): for smaller transactions, then less jute.maxbuffer errors
 Allow several ZK cluster in the configuration: when the number of bases is too high","Codecov Report

Merging #1064 into master will increase coverage by 0.09%.
The diff coverage is 62.16%.


@@            Coverage Diff             @@
##           master    #1064      +/-   ##
==========================================
+ Coverage   67.67%   67.77%   +0.09%     
==========================================
  Files         225      225              
  Lines       44370    44427      +57     
  Branches     6638     6653      +15     
==========================================
+ Hits        30027    30109      +82     
+ Misses      13653    13585      -68     
- Partials      690      733      +43



Impacted Files
Coverage Δ





tests/unit/test_sqliterepo_election.c
94.66% <100%> (ø)
⬆️


meta0v2/zk_manager.c
61.71% <100%> (+0.6%)
⬆️


sqliterepo/synchro.c
58.56% <48%> (-1.17%)
⬇️


sqliterepo/election.c
77.21% <59.25%> (-0.45%)
⬇️


sqlx/sqlx_service.c
81.73% <67.27%> (-0.92%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


metautils/lib/utils_syscall.c
50% <0%> (-1.52%)
⬇️


meta2v2/meta2_filters_action_content.c
81.31% <0%> (-1.32%)
⬇️


meta1v2/meta1_prefixes.c
78.61% <0%> (-1.26%)
⬇️


... and 20 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c08a9e5...0e6f310. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1065,2017-06-30T07:39:30Z,2017-06-30T11:00:27Z,2017-06-30T11:02:11Z,CLOSED,False,1266,1991,96,https://github.com/jfsmig,don't merge this,34,[],https://github.com/open-io/oio-sds/pull/1065,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1065,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1065,2017-06-30T07:39:30Z,2017-06-30T11:00:27Z,2017-06-30T11:02:11Z,CLOSED,False,1266,1991,96,https://github.com/jfsmig,don't merge this,34,[],https://github.com/open-io/oio-sds/pull/1065,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1065#issuecomment-312230051,,"Codecov Report

Merging #1065 into master will increase coverage by 1.18%.
The diff coverage is 59.43%.


@@            Coverage Diff             @@
##           master    #1065      +/-   ##
==========================================
+ Coverage   67.67%   68.85%   +1.18%     
==========================================
  Files         225      224       -1     
  Lines       44370    44241     -129     
  Branches     6638     6594      -44     
==========================================
+ Hits        30027    30463     +436     
+ Misses      13653    13027     -626     
- Partials      690      751      +61



Impacted Files
Coverage Δ





metautils/lib/utils_strings.c
90% <ø> (ø)
⬆️


core/cs.c
80.35% <ø> (+14.73%)
⬆️


core/sds.c
79.77% <ø> (ø)
⬆️


core/log.c
67.95% <ø> (ø)
⬆️


core/dir.c
70.16% <ø> (ø)
⬆️


core/proxy.c
84.57% <ø> (+2.66%)
⬆️


core/tool_roundtrip.c
83.03% <ø> (ø)
⬆️


core/headers.c
97.29% <ø> (+9.49%)
⬆️


core/http_put.c
92.62% <ø> (ø)
⬆️


core/oiostr.h
100% <ø> (ø)
⬆️


... and 74 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c08a9e5...e163f1d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1067,2017-06-30T11:03:02Z,2017-06-30T12:01:16Z,2017-06-30T12:29:01Z,MERGED,True,4,2,1,https://github.com/jfsmig,"sqlx,meta*: Avoid alerting when no peer because of an absent DB",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1067,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1067,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1067,2017-06-30T11:03:02Z,2017-06-30T12:01:16Z,2017-06-30T12:29:01Z,MERGED,True,4,2,1,https://github.com/jfsmig,"sqlx,meta*: Avoid alerting when no peer because of an absent DB",1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1067,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1067#issuecomment-312242568,,"Codecov Report

Merging #1067 into master will decrease coverage by 0.25%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##           master    #1067      +/-   ##
==========================================
- Coverage    67.8%   67.55%   -0.26%     
==========================================
  Files         225      225              
  Lines       44427    44428       +1     
  Branches     6653     6654       +1     
==========================================
- Hits        30125    30013     -112     
- Misses      13563    13691     +128     
+ Partials      739      724      -15



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
81.46% <0%> (-0.28%)
⬇️


sqliterepo/restoration.c
0% <0%> (-74.08%)
⬇️


gridd/main/srvalert.c
0% <0%> (-45.17%)
⬇️


sqliterepo/repository.c
67.32% <0%> (-3.84%)
⬇️


sqliterepo/replication_dispatcher.c
32.9% <0%> (-1.71%)
⬇️


metautils/lib/utils_syscall.c
50% <0%> (-1.52%)
⬇️


sqliterepo/replication.c
75.72% <0%> (-1.45%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
65.29% <0%> (-1.37%)
⬇️


cluster/module/module.c
68.07% <0%> (-1%)
⬇️


sqliterepo/election.c
77.21% <0%> (-0.81%)
⬇️


... and 16 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f56fedc...5599452. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1068,2017-06-30T14:23:01Z,2017-06-30T16:02:07Z,2017-11-13T13:44:49Z,MERGED,True,44,4,1,https://github.com/murlock,tests/functional: more tests for restore,1,[],https://github.com/open-io/oio-sds/pull/1068,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1068,"Add test for restoration with multi part
Add test to detect replay of multi part
Add test to detect try to initiate restore with invalid part","Add test for restoration with multi part
Add test to detect replay of multi part
Add test to detect try to initiate restore with invalid part",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1068,2017-06-30T14:23:01Z,2017-06-30T16:02:07Z,2017-11-13T13:44:49Z,MERGED,True,44,4,1,https://github.com/murlock,tests/functional: more tests for restore,1,[],https://github.com/open-io/oio-sds/pull/1068,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1068#issuecomment-312283470,"Add test for restoration with multi part
Add test to detect replay of multi part
Add test to detect try to initiate restore with invalid part","Codecov Report

Merging #1068 into master will decrease coverage by 0.25%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1068      +/-   ##
==========================================
- Coverage   67.87%   67.61%   -0.26%     
==========================================
  Files         225      225              
  Lines       44428    44428              
  Branches     6654     6654              
==========================================
- Hits        30154    30039     -115     
- Misses      13536    13666     +130     
+ Partials      738      723      -15



Impacted Files
Coverage Δ





sqliterepo/restoration.c
0% <0%> (-74.08%)
⬇️


gridd/main/srvalert.c
0% <0%> (-45.17%)
⬇️


proxy/reply.c
73.8% <0%> (-7.15%)
⬇️


sqliterepo/repository.c
67.57% <0%> (-3.35%)
⬇️


core/str.c
87.56% <0%> (-1.78%)
⬇️


proxy/common.c
76.47% <0%> (-1.74%)
⬇️


core/proxy.c
81.9% <0%> (-1.72%)
⬇️


sqliterepo/replication.c
75.72% <0%> (-1.45%)
⬇️


meta1v2/meta1_backend_properties.c
66.18% <0%> (-1.44%)
⬇️


sqliterepo/replication_dispatcher.c
33.06% <0%> (-1.22%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 24b4c49...13382b5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1069,2017-06-30T15:54:21Z,2017-06-30T16:22:47Z,2017-06-30T16:23:10Z,MERGED,True,789,776,4,https://github.com/fvennetier,container backup: rename ambiguous variables and files,1,[],https://github.com/open-io/oio-sds/pull/1069,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1069,Should be merged after #1068 to avoid conflicts.,Should be merged after #1068 to avoid conflicts.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1069,2017-06-30T15:54:21Z,2017-06-30T16:22:47Z,2017-06-30T16:23:10Z,MERGED,True,789,776,4,https://github.com/fvennetier,container backup: rename ambiguous variables and files,1,[],https://github.com/open-io/oio-sds/pull/1069,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1069#issuecomment-312307688,Should be merged after #1068 to avoid conflicts.,"Codecov Report

Merging #1069 into master will increase coverage by 0.1%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##           master    #1069     +/-   ##
=========================================
+ Coverage   67.78%   67.88%   +0.1%     
=========================================
  Files         225      225             
  Lines       44428    44428             
  Branches     6654     6654             
=========================================
+ Hits        30115    30160     +45     
+ Misses      13586    13533     -53     
- Partials      727      735      +8



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
82.95% <0%> (-1.64%)
⬇️


core/cs.c
65.62% <0%> (-0.9%)
⬇️


metautils/lib/gridd_client_ext.c
80.22% <0%> (-0.75%)
⬇️


server/transport_gridd.c
63.74% <0%> (-0.6%)
⬇️


rawx-apache2/src/rawx_repository.c
48.77% <0%> (-0.5%)
⬇️


meta2v2/meta2_filters_action_container.c
47.5% <0%> (-0.36%)
⬇️


sqliterepo/replication_dispatcher.c
34.27% <0%> (-0.33%)
⬇️


core/lb.c
93.54% <0%> (-0.31%)
⬇️


resolver/hc_resolver.c
81.84% <0%> (ø)
⬆️


meta2v2/meta2_backend.c
69.74% <0%> (ø)
⬆️


... and 17 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1091058...dd7eeac. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1071,2017-06-30T23:24:50Z,2017-07-01T12:44:56Z,2017-07-01T13:16:18Z,MERGED,True,108,6,7,https://github.com/jfsmig,Fix #1070,6,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1071,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1071,"Fix #1070, in case it was not mentioned yet","Fix #1070, in case it was not mentioned yet",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1072,2017-07-02T15:41:39Z,2017-07-03T12:07:56Z,2017-11-13T13:44:48Z,MERGED,True,1441,2707,101,https://github.com/jfsmig,Reach 70% of code coverage,32,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1072,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1072,"Remove useless code: paranoid checks, obsolete features (meta0)
Rename macros dating, at least, from the Jurassic period
Add tests: meta1 (unit), oio-tool, oio-cluster
Slight code reorganisation in core/","Remove useless code: paranoid checks, obsolete features (meta0)
Rename macros dating, at least, from the Jurassic period
Add tests: meta1 (unit), oio-tool, oio-cluster
Slight code reorganisation in core/",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1072,2017-07-02T15:41:39Z,2017-07-03T12:07:56Z,2017-11-13T13:44:48Z,MERGED,True,1441,2707,101,https://github.com/jfsmig,Reach 70% of code coverage,32,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1072,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1072#issuecomment-312587299,"Remove useless code: paranoid checks, obsolete features (meta0)
Rename macros dating, at least, from the Jurassic period
Add tests: meta1 (unit), oio-tool, oio-cluster
Slight code reorganisation in core/","Codecov Report

Merging #1072 into master will increase coverage by 2.21%.
The diff coverage is 77.04%.


@@            Coverage Diff             @@
##           master    #1072      +/-   ##
==========================================
+ Coverage   67.86%   70.08%   +2.21%     
==========================================
  Files         226      225       -1     
  Lines       44471    44356     -115     
  Branches     6660     6571      -89     
==========================================
+ Hits        30181    31087     +906     
+ Misses      13564    12576     -988     
+ Partials      726      693      -33



Impacted Files
Coverage Δ





core/sds.c
79.77% <ø> (ø)
⬆️


core/http_put.c
93.12% <ø> (ø)
⬆️


core/oiostr.h
100% <ø> (ø)
⬆️


meta0v2/zk_manager.c
61.71% <ø> (ø)
⬆️


core/str.c
87.56% <ø> (-1.78%)
⬇️


core/url.c
88.8% <ø> (ø)
⬆️


meta0v2/meta0_gridd_dispatcher.c
79.54% <ø> (+19.65%)
⬆️


core/var.c
65.25% <ø> (+15.67%)
⬆️


core/log.c
67.95% <ø> (ø)
⬆️


core/dir.c
70.16% <ø> (ø)
⬆️


... and 90 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7a936f3...af4a36a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1073,2017-07-03T08:14:05Z,2017-07-07T12:19:18Z,2017-09-04T12:38:34Z,MERGED,True,428,53,27,https://github.com/kamel-rahim,"Rawx: Add xattr oio_version and full_path (fix #948, fix #1020)",2,[],https://github.com/open-io/oio-sds/pull/1073,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1073,"Modify the client to send the header X-oio-chunk-meta-full-path:Acct/Container/Name
Convert the header to the xattr oio.user:Acct/Container/Name=""""","Modify the client to send the header X-oio-chunk-meta-full-path:Acct/Container/Name
Convert the header to the xattr oio.user:Acct/Container/Name=""""",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1073,2017-07-03T08:14:05Z,2017-07-07T12:19:18Z,2017-09-04T12:38:34Z,MERGED,True,428,53,27,https://github.com/kamel-rahim,"Rawx: Add xattr oio_version and full_path (fix #948, fix #1020)",2,[],https://github.com/open-io/oio-sds/pull/1073,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1073#issuecomment-312581124,"Modify the client to send the header X-oio-chunk-meta-full-path:Acct/Container/Name
Convert the header to the xattr oio.user:Acct/Container/Name=""""","Codecov Report

Merging #1073 into master will decrease coverage by 0.06%.
The diff coverage is 74.83%.


@@            Coverage Diff             @@
##           master    #1073      +/-   ##
==========================================
- Coverage   70.51%   70.44%   -0.07%     
==========================================
  Files         225      225              
  Lines       44364    44494     +130     
  Branches     6575     6595      +20     
==========================================
+ Hits        31282    31345      +63     
- Misses      12519    12549      +30     
- Partials      563      600      +37



Impacted Files
Coverage Δ





rawx-apache2/src/rawx_chunk_update.c
0% <0%> (ø)
⬆️


oio/blob/client.py
25.39% <0%> (-0.84%)
⬇️


oio/content/factory.py
81.25% <100%> (+6.25%)
⬆️


oio/common/constants.py
100% <100%> (ø)
⬆️


oio/content/plain.py
37.5% <100%> (-7.82%)
⬇️


rawx-apache2/src/rawx_internals.c
76.56% <100%> (+0.75%)
⬆️


oio/content/ec.py
17.85% <25%> (+3.1%)
⬆️


oio/common/http.py
68.71% <25%> (+0.53%)
⬆️


oio/api/object_storage.py
36.01% <50%> (+0.22%)
⬆️


rawx-lib/src/attr_handler.c
57.61% <67.24%> (+4.37%)
⬆️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d2c2924...23c4346. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1074,2017-07-04T13:05:30Z,2017-07-06T07:53:17Z,2017-07-06T07:53:22Z,MERGED,True,85,10,3,https://github.com/fvennetier,Fix load balancing on tight platforms,3,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1074,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1074,"Detect when we are in a ""tight"" situation, where we need to pick more
services than the number of different locations. In such case, disable
the distance checks, and rely only on the theoretical maximum number of
services per location.","Detect when we are in a ""tight"" situation, where we need to pick more
services than the number of different locations. In such case, disable
the distance checks, and rely only on the theoretical maximum number of
services per location.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1074,2017-07-04T13:05:30Z,2017-07-06T07:53:17Z,2017-07-06T07:53:22Z,MERGED,True,85,10,3,https://github.com/fvennetier,Fix load balancing on tight platforms,3,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1074,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1074#issuecomment-312875185,"Detect when we are in a ""tight"" situation, where we need to pick more
services than the number of different locations. In such case, disable
the distance checks, and rely only on the theoretical maximum number of
services per location.","Codecov Report

Merging #1074 into 4.0.x will decrease coverage by 0.33%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.0.x   #1074      +/-   ##
=========================================
- Coverage   68.13%   67.8%   -0.34%     
=========================================
  Files         226     226              
  Lines       44471   44491      +20     
  Branches     6660    6663       +3     
=========================================
- Hits        30301   30167     -134     
- Misses      13515   13583      +68     
- Partials      655     741      +86



Impacted Files
Coverage Δ





tests/unit/test_lb.c
99.04% <100%> (ø)
⬆️


core/lb.c
93.98% <100%> (+0.14%)
⬆️


sqliterepo/replication_dispatcher.c
34.11% <0%> (-3.73%)
⬇️


meta2v2/meta2_filters_action_container.c
46.78% <0%> (-3.58%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


meta2v2/meta2_filters_action_content.c
82.95% <0%> (-1.97%)
⬇️


core/str.c
87.56% <0%> (-1.78%)
⬇️


cluster/module/module.c
67.94% <0%> (-1.49%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
65.29% <0%> (-1.37%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7a936f3...a42d316. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1075,2017-07-04T14:05:44Z,2017-07-07T12:31:43Z,2017-07-07T12:41:56Z,MERGED,True,1500,8,18,https://github.com/AymericDu,Create event agent benchmark,21,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1075,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1075,"New benchmark for the event agent.
It can manage the events:

storage.chunk.new
storage.chunk.deleted
storage.container.new
storage.container.state
storage.container.deleted
storage.content.deleted

For example:
$ oio-event-benchmark OPENIO CHUNK_NEW -q
Linking fake rawx address with the fake service address...
Starting the fake service...
Sending 100 fake events
100 events sent (errors: 0) in 0.095444 seconds, 1047.734797 events/sec
Sending 1047 fake events
1047 events sent (errors: 0) in 0.724469 seconds, 1445.196413 events/sec
Sending 1445 fake events
^CStopping the fake service...
1445 events sent (errors: 0) in 1.025482 seconds, 1409.093480 events/sec
Cleaning...","New benchmark for the event agent.
It can manage the events:

storage.chunk.new
storage.chunk.deleted
storage.container.new
storage.container.state
storage.container.deleted
storage.content.deleted

For example:
$ oio-event-benchmark OPENIO CHUNK_NEW -q
Linking fake rawx address with the fake service address...
Starting the fake service...
Sending 100 fake events
100 events sent (errors: 0) in 0.095444 seconds, 1047.734797 events/sec
Sending 1047 fake events
1047 events sent (errors: 0) in 0.724469 seconds, 1445.196413 events/sec
Sending 1445 fake events
^CStopping the fake service...
1445 events sent (errors: 0) in 1.025482 seconds, 1409.093480 events/sec
Cleaning...",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1075,2017-07-04T14:05:44Z,2017-07-07T12:31:43Z,2017-07-07T12:41:56Z,MERGED,True,1500,8,18,https://github.com/AymericDu,Create event agent benchmark,21,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1075,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1075#issuecomment-312888755,"New benchmark for the event agent.
It can manage the events:

storage.chunk.new
storage.chunk.deleted
storage.container.new
storage.container.state
storage.container.deleted
storage.content.deleted

For example:
$ oio-event-benchmark OPENIO CHUNK_NEW -q
Linking fake rawx address with the fake service address...
Starting the fake service...
Sending 100 fake events
100 events sent (errors: 0) in 0.095444 seconds, 1047.734797 events/sec
Sending 1047 fake events
1047 events sent (errors: 0) in 0.724469 seconds, 1445.196413 events/sec
Sending 1445 fake events
^CStopping the fake service...
1445 events sent (errors: 0) in 1.025482 seconds, 1409.093480 events/sec
Cleaning...","Codecov Report

Merging #1075 into 4.x will decrease coverage by 0.49%.
The diff coverage is 0%.


@@            Coverage Diff            @@
##              4.x    #1075     +/-   ##
=========================================
- Coverage   70.51%   70.01%   -0.5%     
=========================================
  Files         225      225             
  Lines       44364    44418     +54     
  Branches     6575     6580      +5     
=========================================
- Hits        31282    31098    -184     
- Misses      12519    12636    +117     
- Partials      563      684    +121



Impacted Files
Coverage Δ





rawx-apache2/src/rawx_event.c
53.33% <ø> (ø)
⬆️


core/oiostr.h
100% <ø> (ø)
⬆️


core/proxy.c
81.27% <0%> (-5.59%)
⬇️


core/str.c
87.78% <0%> (-1.56%)
⬇️


core/dir.c
59.58% <0%> (-10.58%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


proxy/reply.c
73.8% <0%> (-7.15%)
⬇️


meta2v2/meta2_backend.c
69.51% <0%> (-5.4%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d2c2924...6291b87. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1076,2017-07-05T12:14:56Z,2017-07-05T13:53:31Z,2017-07-07T12:34:14Z,MERGED,True,1,0,1,https://github.com/kamel-rahim,Test rdir: Clean up chunk after test (fix #1055),1,[],https://github.com/open-io/oio-sds/pull/1076,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1076,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1076,2017-07-05T12:14:56Z,2017-07-05T13:53:31Z,2017-07-07T12:34:14Z,MERGED,True,1,0,1,https://github.com/kamel-rahim,Test rdir: Clean up chunk after test (fix #1055),1,[],https://github.com/open-io/oio-sds/pull/1076,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1076#issuecomment-313087392,,"Codecov Report

Merging #1076 into 4.x will increase coverage by 0.04%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1076      +/-   ##
==========================================
+ Coverage   70.12%   70.17%   +0.04%     
==========================================
  Files         225      225              
  Lines       44356    44356              
  Branches     6571     6571              
==========================================
+ Hits        31106    31127      +21     
- Misses      12553    12563      +10     
+ Partials      697      666      -31



Impacted Files
Coverage Δ





sqliterepo/synchro.c
54.46% <0%> (-1.49%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
65.29% <0%> (-1.37%)
⬇️


rawx-lib/src/attr_handler.c
53.24% <0%> (-1.3%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-0.83%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-0.76%)
⬇️


sqliterepo/repository.c
70.17% <0%> (-0.75%)
⬇️


sqliterepo/election.c
77.46% <0%> (-0.62%)
⬇️


core/http_put.c
92.62% <0%> (-0.51%)
⬇️


rawx-apache2/src/rawx_repo_core.c
72.86% <0%> (-0.49%)
⬇️


server/transport_gridd.c
66.33% <0%> (-0.4%)
⬇️


... and 17 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6297906...207e66e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1077,2017-07-05T12:15:54Z,2017-07-06T13:41:51Z,2017-08-17T13:11:42Z,MERGED,True,39,23,2,https://github.com/kamel-rahim,"CLI: add ""--chunk-info"" option to ""openio object locate"" (fix #1066)",1,[],https://github.com/open-io/oio-sds/pull/1077,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1077,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1077,2017-07-05T12:15:54Z,2017-07-06T13:41:51Z,2017-08-17T13:11:42Z,MERGED,True,39,23,2,https://github.com/kamel-rahim,"CLI: add ""--chunk-info"" option to ""openio object locate"" (fix #1066)",1,[],https://github.com/open-io/oio-sds/pull/1077,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1077#issuecomment-313089260,,"Codecov Report

Merging #1077 into 4.x will decrease coverage by 0.56%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1077      +/-   ##
==========================================
- Coverage   70.82%   70.25%   -0.57%     
==========================================
  Files         225      225              
  Lines       44356    44342      -14     
  Branches     6571     6571              
==========================================
- Hits        31413    31153     -260     
- Misses      12453    12522      +69     
- Partials      490      667     +177



Impacted Files
Coverage Δ





oio/common/http.py
68.18% <ø> (+3.97%)
⬆️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


proxy/reply.c
73.8% <0%> (-7.15%)
⬇️


meta2v2/meta2_backend.c
69.62% <0%> (-5.29%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


sqliterepo/replication_dispatcher.c
38.41% <0%> (-3.65%)
⬇️


metautils/lib/gridd_client.c
71.27% <0%> (-3.24%)
⬇️


meta2v2/meta2_utils.c
69.77% <0%> (-3.07%)
⬇️


sqliterepo/sqlite_utils.c
83.94% <0%> (-2.92%)
⬇️


core/proxy.c
85.14% <0%> (-2.29%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b7d9823...81182a4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1078,2017-07-06T14:09:59Z,2017-07-07T12:19:34Z,2017-08-24T14:43:32Z,MERGED,True,3,0,2,https://github.com/murlock,bootstrap: increase MaxRequestsWorkers,1,[],https://github.com/open-io/oio-sds/pull/1078,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1078,"During tests of range download, Apache configuration was
too short to handle lot of small requests.
oio-bootstrap now add MaxRequestsWorkers to allow Apache to spawn
new children to support charge.
This patch also enforce test by testing HTTP return code when
downloading range.","During tests of range download, Apache configuration was
too short to handle lot of small requests.
oio-bootstrap now add MaxRequestsWorkers to allow Apache to spawn
new children to support charge.
This patch also enforce test by testing HTTP return code when
downloading range.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1078,2017-07-06T14:09:59Z,2017-07-07T12:19:34Z,2017-08-24T14:43:32Z,MERGED,True,3,0,2,https://github.com/murlock,bootstrap: increase MaxRequestsWorkers,1,[],https://github.com/open-io/oio-sds/pull/1078,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1078#issuecomment-313409928,"During tests of range download, Apache configuration was
too short to handle lot of small requests.
oio-bootstrap now add MaxRequestsWorkers to allow Apache to spawn
new children to support charge.
This patch also enforce test by testing HTTP return code when
downloading range.","Codecov Report

Merging #1078 into master will decrease coverage by 0.81%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##           master   #1078      +/-   ##
=========================================
- Coverage   70.82%     70%   -0.82%     
=========================================
  Files         225     225              
  Lines       44356   44356              
  Branches     6571    6571              
=========================================
- Hits        31413   31050     -363     
- Misses      12453   12607     +154     
- Partials      490     699     +209



Impacted Files
Coverage Δ





gridd/main/srvalert.c
0% <0%> (-45.17%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


proxy/reply.c
73.8% <0%> (-7.15%)
⬇️


metautils/lib/gridd_client_ext.c
74.62% <0%> (-6.72%)
⬇️


meta2v2/meta2_backend.c
69.4% <0%> (-5.52%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


sqliterepo/replication_dispatcher.c
38.33% <0%> (-3.73%)
⬇️


metautils/lib/gridd_client.c
71.27% <0%> (-3.24%)
⬇️


meta2v2/meta2_utils.c
69.77% <0%> (-3.07%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b7d9823...1a4352d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1079,2017-07-07T07:12:29Z,2017-07-07T12:19:45Z,2017-07-12T15:22:37Z,MERGED,True,31,20,4,https://github.com/murlock,coverage: enable it for WSGI and nosetests,1,[],https://github.com/open-io/oio-sds/pull/1079,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1079,"Command for coverage for [testenv:func] was skipped.
Also add coverage call for WSGI application but coverage stills missing for some WSGI application, at least they are now in report.
Remove the verbose mode of codecov","Command for coverage for [testenv:func] was skipped.
Also add coverage call for WSGI application but coverage stills missing for some WSGI application, at least they are now in report.
Remove the verbose mode of codecov",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1079,2017-07-07T07:12:29Z,2017-07-07T12:19:45Z,2017-07-12T15:22:37Z,MERGED,True,31,20,4,https://github.com/murlock,coverage: enable it for WSGI and nosetests,1,[],https://github.com/open-io/oio-sds/pull/1079,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1079#issuecomment-313617642,"Command for coverage for [testenv:func] was skipped.
Also add coverage call for WSGI application but coverage stills missing for some WSGI application, at least they are now in report.
Remove the verbose mode of codecov","Codecov Report

Merging #1079 into master will increase coverage by 3.81%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1079      +/-   ##
==========================================
+ Coverage   70.51%   74.32%   +3.81%     
==========================================
  Files         225      288      +63     
  Lines       44364    52543    +8179     
  Branches     6575     6575              
==========================================
+ Hits        31282    39053    +7771     
- Misses      12519    13034     +515     
+ Partials      563      456     -107



Impacted Files
Coverage Δ





proxy/reply.c
73.8% <0%> (-7.15%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


proxy/common.c
76.47% <0%> (-1.74%)
⬇️


core/proxy.c
85.14% <0%> (-1.72%)
⬇️


core/lb.c
93.79% <0%> (-0.29%)
⬇️


metautils/lib/comm_converter.c
74.54% <0%> (-0.27%)
⬇️


proxy/metacd_http.c
83.52% <0%> (-0.17%)
⬇️


proxy/m2_actions.c
76.81% <0%> (-0.09%)
⬇️


oio/account/server.py
82.65% <0%> (ø)



... and 104 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d2c2924...a6664cc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1080,2017-07-07T13:32:01Z,2017-07-10T06:48:43Z,2017-08-17T15:58:01Z,MERGED,True,5,5,2,https://github.com/kamel-rahim,"core, Python API: fix ""full_path"" header",1,[],https://github.com/open-io/oio-sds/pull/1080,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1080,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1080,2017-07-07T13:32:01Z,2017-07-10T06:48:43Z,2017-08-17T15:58:01Z,MERGED,True,5,5,2,https://github.com/kamel-rahim,"core, Python API: fix ""full_path"" header",1,[],https://github.com/open-io/oio-sds/pull/1080,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1080#issuecomment-313684447,,"Codecov Report

Merging #1080 into 4.x will decrease coverage by 0.15%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1080      +/-   ##
==========================================
- Coverage   74.21%   74.05%   -0.16%     
==========================================
  Files         288      288              
  Lines       52765    52765              
  Branches     6600     6600              
==========================================
- Hits        39158    39075      -83     
+ Misses      13155    13140      -15     
- Partials      452      550      +98



Impacted Files
Coverage Δ





oio/api/object_storage.py
74.61% <100%> (ø)
⬆️


core/sds.c
79.78% <100%> (ø)
⬆️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta2v2/meta2_backend.c
70.07% <0%> (-4.84%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta2v2/meta2_utils.c
69.77% <0%> (-3.07%)
⬇️


oio/ecd/app.py
57.05% <0%> (-2.46%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-2.23%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


meta2v2/generic.c
73.88% <0%> (-0.48%)
⬇️


... and 20 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0da5186...4e884cc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1081,2017-07-07T13:45:30Z,2017-07-19T15:04:19Z,2017-08-24T14:43:37Z,MERGED,True,55,56,1,https://github.com/murlock,Backup/Restore optimization,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1081,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1081,"Remove list of blocks to only keep its boundaries
Use object_create with a LimitedStream to avoid wasting RAM","Remove list of blocks to only keep its boundaries
Use object_create with a LimitedStream to avoid wasting RAM",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1081,2017-07-07T13:45:30Z,2017-07-19T15:04:19Z,2017-08-24T14:43:37Z,MERGED,True,55,56,1,https://github.com/murlock,Backup/Restore optimization,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1081,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1081#issuecomment-313687581,"Remove list of blocks to only keep its boundaries
Use object_create with a LimitedStream to avoid wasting RAM","Codecov Report

Merging #1081 into 4.0.x will decrease coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.0.x    #1081      +/-   ##
==========================================
- Coverage   67.88%   67.87%   -0.02%     
==========================================
  Files         226      226              
  Lines       44491    44491              
  Branches     6663     6663              
==========================================
- Hits        30203    30198       -5     
- Misses      13562    13572      +10     
+ Partials      726      721       -5



Impacted Files
Coverage Δ





proxy/reply.c
73.8% <0%> (-7.15%)
⬇️


proxy/common.c
76.47% <0%> (-1.74%)
⬇️


sqliterepo/synchro.c
57% <0%> (-1.56%)
⬇️


core/proxy.c
82.09% <0%> (-1.53%)
⬇️


proxy/cs_actions.c
72.88% <0%> (-0.89%)
⬇️


metautils/lib/utils_resolv.c
63.84% <0%> (-0.77%)
⬇️


cluster/conscience/conscience_srvtype.c
79.58% <0%> (-0.53%)
⬇️


server/slab.c
64.61% <0%> (-0.52%)
⬇️


sqlx/sqlx_service.c
81.76% <0%> (-0.45%)
⬇️


meta2v2/meta2_filters_action_content.c
81.31% <0%> (-0.33%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9b39ff8...b2ed00a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1082,2017-07-07T15:53:47Z,2019-02-01T15:20:21Z,2019-03-04T14:46:32Z,CLOSED,False,45,3,7,https://github.com/murlock,[wip] Add ASAN compiler option,1,[],https://github.com/open-io/oio-sds/pull/1082,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1082,"To enable it, run cmake with -DASAN=ON
You may have to fix path for libasan.so in oio-bootstrap.py regarding
your OS and/or your compiler.
Clang is not used as compiler as it doesn't support nested C functions but it still needed for report.
Please note that Python tests are not yet fixed to work with this
compilation mode.
Don't forget to insert in PATH your version of clang if you are using not default version on your system for human readable report:
$ export ASAN_OPTIONS=symbolize=1 
$ export PATH=$PATH:/usr/lib/llvm-4.0/bin/
$ export ASAN_SYMBOLIZER_PATH=$(which llvm-symbolizer)","To enable it, run cmake with -DASAN=ON
You may have to fix path for libasan.so in oio-bootstrap.py regarding
your OS and/or your compiler.
Clang is not used as compiler as it doesn't support nested C functions but it still needed for report.
Please note that Python tests are not yet fixed to work with this
compilation mode.
Don't forget to insert in PATH your version of clang if you are using not default version on your system for human readable report:
$ export ASAN_OPTIONS=symbolize=1 
$ export PATH=$PATH:/usr/lib/llvm-4.0/bin/
$ export ASAN_SYMBOLIZER_PATH=$(which llvm-symbolizer)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1082,2017-07-07T15:53:47Z,2019-02-01T15:20:21Z,2019-03-04T14:46:32Z,CLOSED,False,45,3,7,https://github.com/murlock,[wip] Add ASAN compiler option,1,[],https://github.com/open-io/oio-sds/pull/1082,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1082#issuecomment-313724413,"To enable it, run cmake with -DASAN=ON
You may have to fix path for libasan.so in oio-bootstrap.py regarding
your OS and/or your compiler.
Clang is not used as compiler as it doesn't support nested C functions but it still needed for report.
Please note that Python tests are not yet fixed to work with this
compilation mode.
Don't forget to insert in PATH your version of clang if you are using not default version on your system for human readable report:
$ export ASAN_OPTIONS=symbolize=1 
$ export PATH=$PATH:/usr/lib/llvm-4.0/bin/
$ export ASAN_SYMBOLIZER_PATH=$(which llvm-symbolizer)","Codecov Report

Merging #1082 into master will decrease coverage by 0.16%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1082      +/-   ##
==========================================
- Coverage   74.21%   74.04%   -0.17%     
==========================================
  Files         288      288              
  Lines       52765    52765              
  Branches     6600     6600              
==========================================
- Hits        39158    39071      -87     
- Misses      13155    13163       +8     
- Partials      452      531      +79



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
39.62% <0%> (-6.24%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta2v2/meta2_filters_action_content.c
82.95% <0%> (-1.97%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


sqliterepo/replication.c
77.16% <0%> (-0.87%)
⬇️


oio/container/client.py
67.51% <0%> (-0.85%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-0.76%)
⬇️


sqliterepo/repository.c
71.28% <0%> (-0.62%)
⬇️


metautils/lib/comm_converter.c
74.01% <0%> (-0.53%)
⬇️


sqliterepo/gridd_client_pool.c
69.66% <0%> (-0.48%)
⬇️


... and 16 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0da5186...0433f60. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1083,2017-07-12T10:16:46Z,2017-07-12T13:30:16Z,2017-07-12T15:21:50Z,MERGED,True,14,1,1,https://github.com/murlock,oio/container: Test for Redis connection error,1,[],https://github.com/open-io/oio-sds/pull/1083,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1083,"Redis connection error was not tested: when this issue was encountered,
a python backtrace was emitted in syslog with a 500 generic error code.
With this patch, service will now return a HTTP 503 error and emit
an appropriate error log.","Redis connection error was not tested: when this issue was encountered,
a python backtrace was emitted in syslog with a 500 generic error code.
With this patch, service will now return a HTTP 503 error and emit
an appropriate error log.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1083,2017-07-12T10:16:46Z,2017-07-12T13:30:16Z,2017-07-12T15:21:50Z,MERGED,True,14,1,1,https://github.com/murlock,oio/container: Test for Redis connection error,1,[],https://github.com/open-io/oio-sds/pull/1083,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1083#issuecomment-314721288,"Redis connection error was not tested: when this issue was encountered,
a python backtrace was emitted in syslog with a 500 generic error code.
With this patch, service will now return a HTTP 503 error and emit
an appropriate error log.","Codecov Report

Merging #1083 into 4.x will decrease coverage by 0.34%.
The diff coverage is 54.54%.


@@            Coverage Diff             @@
##              4.x    #1083      +/-   ##
==========================================
- Coverage   74.31%   73.97%   -0.35%     
==========================================
  Files         288      288              
  Lines       52765    52774       +9     
  Branches     6600     6600              
==========================================
- Hits        39213    39039     -174     
- Misses      13132    13190      +58     
- Partials      420      545     +125



Impacted Files
Coverage Δ





oio/container/backup.py
12.73% <54.54%> (+0.6%)
⬆️


proxy/reply.c
73.8% <0%> (-7.15%)
⬇️


sqliterepo/replication_dispatcher.c
38.73% <0%> (-6.81%)
⬇️


meta2v2/meta2_filters_action_container.c
49.64% <0%> (-5.72%)
⬇️


meta2v2/meta2_filters_action_content.c
84.59% <0%> (-4.6%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


oio/account/client.py
80.51% <0%> (-3.9%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0737c6e...b21fbd5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1084,2017-07-12T15:05:37Z,2017-07-12T16:30:12Z,2017-08-24T14:43:44Z,MERGED,True,8,3,2,https://github.com/murlock,tools: fix travis test,1,[],https://github.com/open-io/oio-sds/pull/1084,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1084,Fix a subtile issue with set -e and &&: some tests were launched with && but set -e option didn't stop the script when an intermediate compound failed.,Fix a subtile issue with set -e and &&: some tests were launched with && but set -e option didn't stop the script when an intermediate compound failed.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1084,2017-07-12T15:05:37Z,2017-07-12T16:30:12Z,2017-08-24T14:43:44Z,MERGED,True,8,3,2,https://github.com/murlock,tools: fix travis test,1,[],https://github.com/open-io/oio-sds/pull/1084,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1084#issuecomment-314802392,Fix a subtile issue with set -e and &&: some tests were launched with && but set -e option didn't stop the script when an intermediate compound failed.,"Codecov Report

Merging #1084 into 4.0.x will increase coverage by 4.45%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.0.x    #1084      +/-   ##
==========================================
+ Coverage   63.56%   68.01%   +4.45%     
==========================================
  Files         196      226      +30     
  Lines       41288    44491    +3203     
  Branches     6468     6663     +195     
==========================================
+ Hits        26243    30260    +4017     
+ Misses      14242    13562     -680     
+ Partials      803      669     -134



Impacted Files
Coverage Δ





proxy/cs_actions.c
69.77% <0%> (-0.45%)
⬇️


server/transport_gridd.c
64.34% <0%> (-0.4%)
⬇️


resolver/hc_resolver.c
81.84% <0%> (-0.29%)
⬇️


metautils/lib/comm_message.c
84.73% <0%> (-0.27%)
⬇️


tests/unit/test_logger.c
83.33% <0%> (ø)



tests/unit/test_sqliterepo_cache.c
100% <0%> (ø)



tests/unit/test_svc_policy.c
97.91% <0%> (ø)



tests/unit/test_stats_holder.c
100% <0%> (ø)



tests/common/test_cache_abstract.c
59.25% <0%> (ø)



tests/unit/test_meta2_backend.c
100% <0%> (ø)



... and 65 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7049f81...27b9eb1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1085,2017-07-13T14:40:42Z,2017-07-19T13:02:11Z,2017-07-19T13:02:14Z,MERGED,True,177,159,5,https://github.com/fvennetier,"Improve exception handling in account, ECD and container backup services",2,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1085,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1085,Requests with missing headers used to trigger 500 Internal server error (instead of 400 Bad request). The exception handling code has been factorized for services using werkzeug.,Requests with missing headers used to trigger 500 Internal server error (instead of 400 Bad request). The exception handling code has been factorized for services using werkzeug.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1085,2017-07-13T14:40:42Z,2017-07-19T13:02:11Z,2017-07-19T13:02:14Z,MERGED,True,177,159,5,https://github.com/fvennetier,"Improve exception handling in account, ECD and container backup services",2,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1085,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1085#issuecomment-315101284,Requests with missing headers used to trigger 500 Internal server error (instead of 400 Bad request). The exception handling code has been factorized for services using werkzeug.,"Codecov Report

Merging #1085 into 4.0.x will decrease coverage by <.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.0.x    #1085      +/-   ##
==========================================
- Coverage   67.89%   67.88%   -0.01%     
==========================================
  Files         226      226              
  Lines       44491    44491              
  Branches     6663     6663              
==========================================
- Hits        30205    30202       -3     
- Misses      13550    13567      +17     
+ Partials      736      722      -14



Impacted Files
Coverage Δ





gridd/main/srvalert.c
0% <0%> (-45.17%)
⬇️


metautils/lib/utils_syscall.c
50% <0%> (-1.52%)
⬇️


cluster/module/module.c
68.06% <0%> (-1%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
65.29% <0%> (-0.92%)
⬇️


server/transport_gridd.c
63.54% <0%> (-0.8%)
⬇️


meta0v2/meta0_backend.c
55.35% <0%> (-0.79%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


cluster/conscience/conscience.c
72.41% <0%> (-0.69%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
59.88% <0%> (-0.57%)
⬇️


core/log.c
67.95% <0%> (-0.56%)
⬇️


... and 12 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0040b0f...47d6c65. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1086,2017-07-18T07:13:55Z,2017-07-18T15:59:21Z,2017-07-20T12:55:07Z,MERGED,True,154,97,21,https://github.com/AymericDu,HttpApi: Remove 'requests' to use 'urllib3' directly,1,[],https://github.com/open-io/oio-sds/pull/1086,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1086,"To improve the event agent, I change HttpApi class. Because HttpApi use requests only for connections pools. To manage connections pools, requests use urllib3 with PoolManager. Now, I call PoolManager directly.
With the benchmark oio-event-benchmark, we increase the speed by more than 60%.

before:

$ ./build/tools/event-benchmark/oio-event-benchmark OPENIO CHUNK_NEW -q
Linking fake rawx address with the fake service address...
Starting the fake service...
Sending 100 fake events
100 events sent (errors: 0) in 0.105229 seconds, 950.308375 events/sec
Sending 950 fake events
950 events sent (errors: 0) in 0.641872 seconds, 1480.045866 events/sec
Sending 1480 fake events
1480 events sent (errors: 0) in 1.021468 seconds, 1448.895120 events/sec
Sending 1448 fake events
1448 events sent (errors: 0) in 1.007678 seconds, 1436.966968 events/sec
Sending 1436 fake events
1436 events sent (errors: 0) in 1.010318 seconds, 1421.334669 events/sec
Sending 1421 fake events
1421 events sent (errors: 0) in 0.981576 seconds, 1447.671907 events/sec
Sending 1447 fake events
1447 events sent (errors: 0) in 1.039129 seconds, 1392.512383 events/sec
Sending 1392 fake events
1392 events sent (errors: 0) in 0.964230 seconds, 1443.638966 events/sec
Sending 1443 fake events
^CStopping the fake service...
1443 events sent (errors: 0) in 0.991372 seconds, 1455.558559 events/sec
Cleaning...

after:

$ ./build/tools/event-benchmark/oio-event-benchmark OPENIO CHUNK_NEW -q
Linking fake rawx address with the fake service address...
Starting the fake service...
Sending 100 fake events
100 events sent (errors: 0) in 0.064317 seconds, 1554.798887 events/sec
Sending 1554 fake events
1554 events sent (errors: 0) in 0.651858 seconds, 2383.954788 events/sec
Sending 2383 fake events
2383 events sent (errors: 0) in 1.044297 seconds, 2281.917884 events/sec
Sending 2281 fake events
2281 events sent (errors: 0) in 0.946070 seconds, 2411.026668 events/sec
Sending 2411 fake events
2411 events sent (errors: 0) in 1.036022 seconds, 2327.170659 events/sec
Sending 2327 fake events
2327 events sent (errors: 0) in 0.967479 seconds, 2405.220165 events/sec
Sending 2405 fake events
2405 events sent (errors: 0) in 0.995019 seconds, 2417.039273 events/sec
Sending 2417 fake events
2417 events sent (errors: 0) in 1.018104 seconds, 2374.020729 events/sec
Sending 2374 fake events
2374 events sent (errors: 0) in 1.033525 seconds, 2296.993300 events/sec
Sending 2296 fake events
2296 events sent (errors: 0) in 0.955092 seconds, 2403.956896 events/sec
Sending 2403 fake events
^CStopping the fake service...
2403 events sent (errors: 0) in 1.044140 seconds, 2301.415519 events/sec
Cleaning...","To improve the event agent, I change HttpApi class. Because HttpApi use requests only for connections pools. To manage connections pools, requests use urllib3 with PoolManager. Now, I call PoolManager directly.
With the benchmark oio-event-benchmark, we increase the speed by more than 60%.

before:

$ ./build/tools/event-benchmark/oio-event-benchmark OPENIO CHUNK_NEW -q
Linking fake rawx address with the fake service address...
Starting the fake service...
Sending 100 fake events
100 events sent (errors: 0) in 0.105229 seconds, 950.308375 events/sec
Sending 950 fake events
950 events sent (errors: 0) in 0.641872 seconds, 1480.045866 events/sec
Sending 1480 fake events
1480 events sent (errors: 0) in 1.021468 seconds, 1448.895120 events/sec
Sending 1448 fake events
1448 events sent (errors: 0) in 1.007678 seconds, 1436.966968 events/sec
Sending 1436 fake events
1436 events sent (errors: 0) in 1.010318 seconds, 1421.334669 events/sec
Sending 1421 fake events
1421 events sent (errors: 0) in 0.981576 seconds, 1447.671907 events/sec
Sending 1447 fake events
1447 events sent (errors: 0) in 1.039129 seconds, 1392.512383 events/sec
Sending 1392 fake events
1392 events sent (errors: 0) in 0.964230 seconds, 1443.638966 events/sec
Sending 1443 fake events
^CStopping the fake service...
1443 events sent (errors: 0) in 0.991372 seconds, 1455.558559 events/sec
Cleaning...

after:

$ ./build/tools/event-benchmark/oio-event-benchmark OPENIO CHUNK_NEW -q
Linking fake rawx address with the fake service address...
Starting the fake service...
Sending 100 fake events
100 events sent (errors: 0) in 0.064317 seconds, 1554.798887 events/sec
Sending 1554 fake events
1554 events sent (errors: 0) in 0.651858 seconds, 2383.954788 events/sec
Sending 2383 fake events
2383 events sent (errors: 0) in 1.044297 seconds, 2281.917884 events/sec
Sending 2281 fake events
2281 events sent (errors: 0) in 0.946070 seconds, 2411.026668 events/sec
Sending 2411 fake events
2411 events sent (errors: 0) in 1.036022 seconds, 2327.170659 events/sec
Sending 2327 fake events
2327 events sent (errors: 0) in 0.967479 seconds, 2405.220165 events/sec
Sending 2405 fake events
2405 events sent (errors: 0) in 0.995019 seconds, 2417.039273 events/sec
Sending 2417 fake events
2417 events sent (errors: 0) in 1.018104 seconds, 2374.020729 events/sec
Sending 2374 fake events
2374 events sent (errors: 0) in 1.033525 seconds, 2296.993300 events/sec
Sending 2296 fake events
2296 events sent (errors: 0) in 0.955092 seconds, 2403.956896 events/sec
Sending 2403 fake events
^CStopping the fake service...
2403 events sent (errors: 0) in 1.044140 seconds, 2301.415519 events/sec
Cleaning...",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1086,2017-07-18T07:13:55Z,2017-07-18T15:59:21Z,2017-07-20T12:55:07Z,MERGED,True,154,97,21,https://github.com/AymericDu,HttpApi: Remove 'requests' to use 'urllib3' directly,1,[],https://github.com/open-io/oio-sds/pull/1086,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1086#issuecomment-315980705,"To improve the event agent, I change HttpApi class. Because HttpApi use requests only for connections pools. To manage connections pools, requests use urllib3 with PoolManager. Now, I call PoolManager directly.
With the benchmark oio-event-benchmark, we increase the speed by more than 60%.

before:

$ ./build/tools/event-benchmark/oio-event-benchmark OPENIO CHUNK_NEW -q
Linking fake rawx address with the fake service address...
Starting the fake service...
Sending 100 fake events
100 events sent (errors: 0) in 0.105229 seconds, 950.308375 events/sec
Sending 950 fake events
950 events sent (errors: 0) in 0.641872 seconds, 1480.045866 events/sec
Sending 1480 fake events
1480 events sent (errors: 0) in 1.021468 seconds, 1448.895120 events/sec
Sending 1448 fake events
1448 events sent (errors: 0) in 1.007678 seconds, 1436.966968 events/sec
Sending 1436 fake events
1436 events sent (errors: 0) in 1.010318 seconds, 1421.334669 events/sec
Sending 1421 fake events
1421 events sent (errors: 0) in 0.981576 seconds, 1447.671907 events/sec
Sending 1447 fake events
1447 events sent (errors: 0) in 1.039129 seconds, 1392.512383 events/sec
Sending 1392 fake events
1392 events sent (errors: 0) in 0.964230 seconds, 1443.638966 events/sec
Sending 1443 fake events
^CStopping the fake service...
1443 events sent (errors: 0) in 0.991372 seconds, 1455.558559 events/sec
Cleaning...

after:

$ ./build/tools/event-benchmark/oio-event-benchmark OPENIO CHUNK_NEW -q
Linking fake rawx address with the fake service address...
Starting the fake service...
Sending 100 fake events
100 events sent (errors: 0) in 0.064317 seconds, 1554.798887 events/sec
Sending 1554 fake events
1554 events sent (errors: 0) in 0.651858 seconds, 2383.954788 events/sec
Sending 2383 fake events
2383 events sent (errors: 0) in 1.044297 seconds, 2281.917884 events/sec
Sending 2281 fake events
2281 events sent (errors: 0) in 0.946070 seconds, 2411.026668 events/sec
Sending 2411 fake events
2411 events sent (errors: 0) in 1.036022 seconds, 2327.170659 events/sec
Sending 2327 fake events
2327 events sent (errors: 0) in 0.967479 seconds, 2405.220165 events/sec
Sending 2405 fake events
2405 events sent (errors: 0) in 0.995019 seconds, 2417.039273 events/sec
Sending 2417 fake events
2417 events sent (errors: 0) in 1.018104 seconds, 2374.020729 events/sec
Sending 2374 fake events
2374 events sent (errors: 0) in 1.033525 seconds, 2296.993300 events/sec
Sending 2296 fake events
2296 events sent (errors: 0) in 0.955092 seconds, 2403.956896 events/sec
Sending 2403 fake events
^CStopping the fake service...
2403 events sent (errors: 0) in 1.044140 seconds, 2301.415519 events/sec
Cleaning...","Codecov Report

Merging #1086 into 4.x will decrease coverage by 0.23%.
The diff coverage is 82.55%.


@@            Coverage Diff             @@
##              4.x    #1086      +/-   ##
==========================================
- Coverage   74.43%   74.19%   -0.24%     
==========================================
  Files         288      288              
  Lines       52774    52803      +29     
  Branches     6600     6600              
==========================================
- Hits        39280    39175     -105     
- Misses      13053    13195     +142     
+ Partials      441      433       -8



Impacted Files
Coverage Δ





oio/rdir/client.py
51.74% <ø> (-1.44%)
⬇️


tests/unit/api/test_directory.py
100% <100%> (ø)
⬆️


tests/unit/common/test_exceptions.py
100% <100%> (ø)
⬆️


oio/account/client.py
68.83% <100%> (-9.1%)
⬇️


oio/common/exceptions.py
98.18% <100%> (+0.05%)
⬆️


tests/unit/api/test_objectstorage.py
100% <100%> (ø)
⬆️


oio/directory/client.py
86.76% <100%> (ø)
⬆️


oio/common/client.py
100% <100%> (ø)
⬆️


tests/unit/api/__init__.py
96.61% <100%> (ø)
⬆️


oio/common/http.py
78.33% <100%> (-1%)
⬇️


... and 45 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7ed3b6f...0621cbc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1088,2017-07-18T15:27:36Z,2017-07-18T15:44:02Z,2017-07-18T15:44:06Z,MERGED,True,4,0,1,https://github.com/fvennetier,"tests: relax ""full-path"" chunk tests",1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1088,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1088,Do not enforce the order of paths in the response header.,Do not enforce the order of paths in the response header.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1088,2017-07-18T15:27:36Z,2017-07-18T15:44:02Z,2017-07-18T15:44:06Z,MERGED,True,4,0,1,https://github.com/fvennetier,"tests: relax ""full-path"" chunk tests",1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1088,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1088#issuecomment-316104860,Do not enforce the order of paths in the response header.,"Codecov Report

Merging #1088 into 4.x will decrease coverage by 0.54%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1088      +/-   ##
==========================================
- Coverage   74.43%   73.88%   -0.55%     
==========================================
  Files         288      288              
  Lines       52774    52777       +3     
  Branches     6600     6600              
==========================================
- Hits        39280    38996     -284     
- Misses      13053    13182     +129     
- Partials      441      599     +158



Impacted Files
Coverage Δ





tests/functional/blob/test_blob.py
98.29% <100%> (+0.02%)
⬆️


gridd/main/srvalert.c
0% <0%> (-45.17%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


proxy/reply.c
73.8% <0%> (-7.15%)
⬇️


sqliterepo/replication_dispatcher.c
38.81% <0%> (-6.73%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils.c
70.04% <0%> (-2.81%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
66.66% <0%> (-2.74%)
⬇️


proxy/cs_actions.c
70.22% <0%> (-2.67%)
⬇️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7ed3b6f...80794c4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1089,2017-07-19T12:44:39Z,2017-07-21T07:21:11Z,2017-08-17T15:58:28Z,MERGED,True,326,2,27,https://github.com/kamel-rahim,"Meta2, Proxy: Add action drain content",2,[],https://github.com/open-io/oio-sds/pull/1089,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1089,"The action remove all the chunks of a content but keep all the properties.
We can replace the data or the properties of the content.
But no action needing the removed chunks are accepted (A HTTP 410 Gone will be sent).","The action remove all the chunks of a content but keep all the properties.
We can replace the data or the properties of the content.
But no action needing the removed chunks are accepted (A HTTP 410 Gone will be sent).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1089,2017-07-19T12:44:39Z,2017-07-21T07:21:11Z,2017-08-17T15:58:28Z,MERGED,True,326,2,27,https://github.com/kamel-rahim,"Meta2, Proxy: Add action drain content",2,[],https://github.com/open-io/oio-sds/pull/1089,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1089#issuecomment-316388685,"The action remove all the chunks of a content but keep all the properties.
We can replace the data or the properties of the content.
But no action needing the removed chunks are accepted (A HTTP 410 Gone will be sent).","Codecov Report

Merging #1089 into 4.x will decrease coverage by 0.05%.
The diff coverage is 92.53%.


@@            Coverage Diff             @@
##              4.x    #1089      +/-   ##
==========================================
- Coverage   74.82%   74.76%   -0.06%     
==========================================
  Files         288      288              
  Lines       52319    52452     +133     
  Branches     6600     6614      +14     
==========================================
+ Hits        39146    39216      +70     
- Misses      12762    12789      +27     
- Partials      411      447      +36



Impacted Files
Coverage Δ





meta2v2/meta2_gridd_dispatcher.c
68.18% <ø> (ø)
⬆️


proxy/meta2v2_remote.c
73.1% <100%> (+1.07%)
⬆️


tests/functional/container/test_container.py
99.01% <100%> (+0.14%)
⬆️


proxy/metacd_http.c
82.74% <100%> (+0.02%)
⬆️


proxy/m2_actions.c
77.25% <100%> (+0.35%)
⬆️


meta2v2/meta2_utils.c
73.25% <100%> (+0.4%)
⬆️


core/tool_roundtrip.c
83.12% <100%> (+0.08%)
⬆️


meta2v2/meta2_backend.c
75.24% <100%> (+0.33%)
⬆️


proxy/reply.c
74.41% <100%> (+0.6%)
⬆️


oio/container/client.py
65.7% <20%> (-0.97%)
⬇️


... and 42 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0bd4e51...edc99d6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1092,2017-07-20T14:01:56Z,2017-07-20T14:25:30Z,2017-07-20T14:30:26Z,MERGED,True,2,2,2,https://github.com/jfsmig,Set the default chunk size 10MiB,2,['priority:4 :suspect:'],https://github.com/open-io/oio-sds/pull/1092,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1092,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1092,2017-07-20T14:01:56Z,2017-07-20T14:25:30Z,2017-07-20T14:30:26Z,MERGED,True,2,2,2,https://github.com/jfsmig,Set the default chunk size 10MiB,2,['priority:4 :suspect:'],https://github.com/open-io/oio-sds/pull/1092,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1092#issuecomment-316716118,,"Codecov Report

Merging #1092 into 4.0.x will decrease coverage by 0.02%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##            4.0.x   #1092      +/-   ##
=========================================
- Coverage   67.82%   67.8%   -0.03%     
=========================================
  Files         226     226              
  Lines       44491   44491              
  Branches     6663    6663              
=========================================
- Hits        30177   30168       -9     
- Misses      13586   13589       +3     
- Partials      728     734       +6



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
81.31% <0%> (-3.61%)
⬇️


metautils/lib/utils_syscall.c
50% <0%> (-1.52%)
⬇️


sqliterepo/replication.c
75.72% <0%> (-1.45%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
65.29% <0%> (-1.37%)
⬇️


rawx-apache2/src/rawx_repository.c
48.03% <0%> (-1.23%)
⬇️


meta2v2/meta2_filters_action_container.c
46.42% <0%> (-1.08%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
59.88% <0%> (-0.57%)
⬇️


metautils/lib/gridd_client.c
70.84% <0%> (-0.44%)
⬇️


server/transport_gridd.c
64.14% <0%> (-0.4%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f616a41...ee257b3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1093,2017-07-20T14:12:20Z,2017-07-21T12:11:57Z,2017-08-01T14:58:40Z,MERGED,True,130,0,3,https://github.com/jfsmig,Add a sample code for config less SDK usages,3,[],https://github.com/open-io/oio-sds/pull/1093,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1093,Illustrates a possible workaround for #1040,Illustrates a possible workaround for #1040,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1093,2017-07-20T14:12:20Z,2017-07-21T12:11:57Z,2017-08-01T14:58:40Z,MERGED,True,130,0,3,https://github.com/jfsmig,Add a sample code for config less SDK usages,3,[],https://github.com/open-io/oio-sds/pull/1093,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1093#issuecomment-316719436,Illustrates a possible workaround for #1040,"Codecov Report

Merging #1093 into 4.x will decrease coverage by 0.5%.
The diff coverage is 95.31%.


@@            Coverage Diff             @@
##              4.x    #1093      +/-   ##
==========================================
- Coverage   74.82%   74.32%   -0.51%     
==========================================
  Files         288      288              
  Lines       52319    52291      -28     
  Branches     6600     6602       +2     
==========================================
- Hits        39146    38863     -283     
- Misses      12762    12773      +11     
- Partials      411      655     +244



Impacted Files
Coverage Δ





core/tool_sdk_noconf.c
95.31% <95.31%> (ø)



tests/functional/content/test_ec.py
28.31% <0%> (-71.69%)
⬇️


oio/content/ec.py
17.85% <0%> (-41.08%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/replication_dispatcher.c
38.73% <0%> (-6.81%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-5.56%)
⬇️


tests/functional/content/test_content.py
95.36% <0%> (-4.64%)
⬇️


meta2v2/meta2_backend.c
70.69% <0%> (-4.22%)
⬇️


... and 62 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0bd4e51...6ae7532. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1094,2017-07-20T14:19:32Z,2017-07-21T09:27:50Z,2017-07-21T09:30:20Z,MERGED,True,2,1,1,https://github.com/jfsmig,Update the python requirements (eventlet versions),2,[],https://github.com/open-io/oio-sds/pull/1094,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1094,Manages a known problem with python 2.7.13 and eventlet 0.21.0,Manages a known problem with python 2.7.13 and eventlet 0.21.0,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1094,2017-07-20T14:19:32Z,2017-07-21T09:27:50Z,2017-07-21T09:30:20Z,MERGED,True,2,1,1,https://github.com/jfsmig,Update the python requirements (eventlet versions),2,[],https://github.com/open-io/oio-sds/pull/1094,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1094#issuecomment-316721888,Manages a known problem with python 2.7.13 and eventlet 0.21.0,"Codecov Report

Merging #1094 into 4.0.x will decrease coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.0.x    #1094      +/-   ##
==========================================
- Coverage   67.82%   67.81%   -0.02%     
==========================================
  Files         226      226              
  Lines       44491    44491              
  Branches     6663     6663              
==========================================
- Hits        30177    30170       -7     
+ Misses      13586    13585       -1     
- Partials      728      736       +8



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
81.31% <0%> (-3.61%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
65.29% <0%> (-1.37%)
⬇️


oio/api/replication.py
44.69% <0%> (-1.12%)
⬇️


server/transport_gridd.c
63.74% <0%> (-0.8%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


metautils/lib/gridd_client_ext.c
80.22% <0%> (-0.38%)
⬇️


meta1v2/meta1_backend_services.c
52.1% <0%> (-0.16%)
⬇️


sqlx/sqlx_service.c
81.46% <0%> (-0.15%)
⬇️


rdir/rdir.c
66.24% <0%> (-0.12%)
⬇️


sqliterepo/election.c
77.46% <0%> (+0.06%)
⬆️


... and 11 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f616a41...3c5348e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1095,2017-07-20T16:55:43Z,2017-07-21T09:26:45Z,2017-07-21T09:30:43Z,MERGED,True,52,173,7,https://github.com/jfsmig,Increase the coverage,7,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1095,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1095,"manage several meta1_digits configurations
remove dead code
turn useless paranoid checks into assertions","manage several meta1_digits configurations
remove dead code
turn useless paranoid checks into assertions",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1095,2017-07-20T16:55:43Z,2017-07-21T09:26:45Z,2017-07-21T09:30:43Z,MERGED,True,52,173,7,https://github.com/jfsmig,Increase the coverage,7,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1095,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1095#issuecomment-316769166,"manage several meta1_digits configurations
remove dead code
turn useless paranoid checks into assertions","Codecov Report

Merging #1095 into 4.x will increase coverage by 0.08%.
The diff coverage is 71.87%.


@@            Coverage Diff             @@
##              4.x    #1095      +/-   ##
==========================================
+ Coverage   74.82%   74.91%   +0.08%     
==========================================
  Files         288      288              
  Lines       52319    52263      -56     
  Branches     6600     6586      -14     
==========================================
+ Hits        39146    39151       +5     
+ Misses      12762    12653     -109     
- Partials      411      459      +48



Impacted Files
Coverage Δ





server/slab.c
79.74% <ø> (+14.61%)
⬆️


server/slab.h
100% <ø> (+18.18%)
⬆️


server/transport_gridd.h
100% <ø> (ø)
⬆️


server/network_server.c
80% <40%> (+4.64%)
⬆️


server/transport_gridd.c
68.58% <86.36%> (+1.65%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


meta2v2/meta2_filters_action_container.c
49.64% <0%> (-4.65%)
⬇️


meta2v2/meta2_filters_action_content.c
84.91% <0%> (-4.27%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0bd4e51...2d2b6dc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1096,2017-07-20T17:15:04Z,2017-10-19T16:12:34Z,2021-01-08T19:16:16Z,CLOSED,False,142,189,9,https://github.com/jfsmig,[WIP] Log with UDP,3,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1096,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1096,"Manage the UDP part of #907 in the services written in C: add a -u option to be used in conjunction with the -s that activates the syslog output.
 Manage a default port (syslog a.k.a 514) in order to just specify addresses.
 Cover that code with tests","Manage the UDP part of #907 in the services written in C: add a -u option to be used in conjunction with the -s that activates the syslog output.
 Manage a default port (syslog a.k.a 514) in order to just specify addresses.
 Cover that code with tests",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1096,2017-07-20T17:15:04Z,2017-10-19T16:12:34Z,2021-01-08T19:16:16Z,CLOSED,False,142,189,9,https://github.com/jfsmig,[WIP] Log with UDP,3,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1096,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1096#issuecomment-316974298,"Manage the UDP part of #907 in the services written in C: add a -u option to be used in conjunction with the -s that activates the syslog output.
 Manage a default port (syslog a.k.a 514) in order to just specify addresses.
 Cover that code with tests","Codecov Report

Merging #1096 into 4.x will decrease coverage by 0.24%.
The diff coverage is 24.7%.


@@            Coverage Diff             @@
##              4.x    #1096      +/-   ##
==========================================
- Coverage   75.09%   74.85%   -0.25%     
==========================================
  Files         288      287       -1     
  Lines       52396    52398       +2     
  Branches     6600     6601       +1     
==========================================
- Hits        39349    39221     -128     
- Misses      12610    12714     +104     
- Partials      437      463      +26



Impacted Files
Coverage Δ





core/tool_roundtrip.c
83.08% <ø> (-0.05%)
⬇️


tests/func/test_weird_chars.c
91.35% <ø> (-0.11%)
⬇️


metautils/lib/common_main.c
26.57% <7.69%> (-4.05%)
⬇️


core/log.c
64.59% <80%> (-3.92%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta2v2/meta2_filters_action_container.c
49.28% <0%> (-2.86%)
⬇️


proxy/cs_actions.c
70.22% <0%> (-2.67%)
⬇️


oio/account/client.py
68.83% <0%> (-2.6%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b23b9b2...9469c4a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1097,2017-07-21T08:05:34Z,2017-07-21T12:14:42Z,2017-08-07T09:26:21Z,MERGED,True,28,18,2,https://github.com/AymericDu,Improve exception handling in HttpApi and event-agent,2,[],https://github.com/open-io/oio-sds/pull/1097,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1097,"Change exceptions of HttpApi to have a better trace
OioNetworkException: HTTPConnectionPool(host=u'127.0.0.1', port=6028): Max retries exceeded with url: /v1/rdir/push?vol=127.0.0.1%3A6022&create=1 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5eda0d9850>: Failed to establish a new connection: [Errno 111] ECONNREFUSED',))","Change exceptions of HttpApi to have a better trace
OioNetworkException: HTTPConnectionPool(host=u'127.0.0.1', port=6028): Max retries exceeded with url: /v1/rdir/push?vol=127.0.0.1%3A6022&create=1 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5eda0d9850>: Failed to establish a new connection: [Errno 111] ECONNREFUSED',))",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1097,2017-07-21T08:05:34Z,2017-07-21T12:14:42Z,2017-08-07T09:26:21Z,MERGED,True,28,18,2,https://github.com/AymericDu,Improve exception handling in HttpApi and event-agent,2,[],https://github.com/open-io/oio-sds/pull/1097,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1097#issuecomment-316936376,"Change exceptions of HttpApi to have a better trace
OioNetworkException: HTTPConnectionPool(host=u'127.0.0.1', port=6028): Max retries exceeded with url: /v1/rdir/push?vol=127.0.0.1%3A6022&create=1 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5eda0d9850>: Failed to establish a new connection: [Errno 111] ECONNREFUSED',))","Codecov Report

Merging #1097 into 4.x will decrease coverage by 0.54%.
The diff coverage is 12.5%.


@@            Coverage Diff             @@
##              4.x    #1097      +/-   ##
==========================================
- Coverage   75.09%   74.55%   -0.55%     
==========================================
  Files         288      288              
  Lines       52396    52400       +4     
  Branches     6600     6600              
==========================================
- Hits        39349    39068     -281     
- Misses      12610    12670      +60     
- Partials      437      662     +225



Impacted Files
Coverage Δ





oio/api/base.py
80.76% <12.5%> (-4.37%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/replication_dispatcher.c
38.81% <0%> (-6.65%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-5.56%)
⬇️


meta2v2/meta2_backend.c
70.47% <0%> (-4.78%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_filters_action_container.c
48.21% <0%> (-3.93%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b23b9b2...019c442. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1098,2017-07-21T13:37:51Z,2017-07-27T08:01:16Z,2017-08-21T13:13:56Z,MERGED,True,155,153,19,https://github.com/AymericDu,"CLI: reorganize imports, defer them where possible",1,[],https://github.com/open-io/oio-sds/pull/1098,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1098,Improve the loading of the CLI to load useful imports.,Improve the loading of the CLI to load useful imports.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1099,2017-07-21T14:52:17Z,2017-07-28T09:35:39Z,2017-07-28T09:35:55Z,CLOSED,False,8,7,1,https://github.com/jfsmig,oio-bootstrap: Deploy httpd with a lighter footprint,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1099,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1099,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1099,2017-07-21T14:52:17Z,2017-07-28T09:35:39Z,2017-07-28T09:35:55Z,CLOSED,False,8,7,1,https://github.com/jfsmig,oio-bootstrap: Deploy httpd with a lighter footprint,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1099,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1099#issuecomment-317042677,,"Codecov Report

Merging #1099 into 4.x will decrease coverage by 8.28%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1099      +/-   ##
==========================================
- Coverage   74.28%   65.99%   -8.29%     
==========================================
  Files         288      257      -31     
  Lines       52295    48914    -3381     
  Branches     6602     6402     -200     
==========================================
- Hits        38846    32280    -6566     
- Misses      12830    16067    +3237     
+ Partials      619      567      -52



Impacted Files
Coverage Δ





sqliterepo/version.c
0% <0%> (-78.33%)
⬇️


metautils/lib/rrd.c
0% <0%> (-77.28%)
⬇️


sqliterepo/restoration.c
0% <0%> (-74.08%)
⬇️


sqliterepo/election.c
10.27% <0%> (-68.24%)
⬇️


events/oio_events_queue_zmq.c
0% <0%> (-65.99%)
⬇️


meta0v2/zk_manager.c
0% <0%> (-61.72%)
⬇️


sqliterepo/synchro.c
5.05% <0%> (-51.79%)
⬇️


sqliterepo/replication.c
33.81% <0%> (-44.22%)
⬇️


meta1v2/meta1_backend_references.c
54.08% <0%> (-35.72%)
⬇️


sqliterepo/gridd_client_pool.c
35.54% <0%> (-33.65%)
⬇️


... and 103 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5871691...5704ce1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1100,2017-07-21T14:54:51Z,2017-08-01T13:06:15Z,2017-08-01T14:58:24Z,MERGED,True,137,130,4,https://github.com/jfsmig,cli: Efficiently unlock batches of services,5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1100,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1100,"Fix #1091
Unlocks services 4096 by 4096 (instead of 1 by 1, instead of all at once).","Fix #1091
Unlocks services 4096 by 4096 (instead of 1 by 1, instead of all at once).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1100,2017-07-21T14:54:51Z,2017-08-01T13:06:15Z,2017-08-01T14:58:24Z,MERGED,True,137,130,4,https://github.com/jfsmig,cli: Efficiently unlock batches of services,5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1100,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1100#issuecomment-317053573,"Fix #1091
Unlocks services 4096 by 4096 (instead of 1 by 1, instead of all at once).","Codecov Report

Merging #1100 into 4.0.x will increase coverage by 0.39%.
The diff coverage is 79.36%.


@@           Coverage Diff            @@
##           4.0.x   #1100      +/-   ##
========================================
+ Coverage   67.8%   68.2%   +0.39%     
========================================
  Files        226     226              
  Lines      44491   44488       -3     
  Branches    6663    6668       +5     
========================================
+ Hits       30168   30342     +174     
+ Misses     13586   13526      -60     
+ Partials     737     620     -117



Impacted Files
Coverage Δ





tests/utils.py
53.59% <0%> (ø)
⬆️


proxy/cs_actions.c
76.12% <83.33%> (+4.57%)
⬆️


meta2v2/meta2_filters_action_content.c
82.95% <0%> (-1.64%)
⬇️


metautils/lib/utils_service_info.c
82.8% <0%> (-0.64%)
⬇️


sqliterepo/election.c
77.52% <0%> (-0.5%)
⬇️


core/cs.c
66.07% <0%> (-0.45%)
⬇️


core/lb.c
93.69% <0%> (-0.3%)
⬇️


metautils/lib/comm_converter.c
74.01% <0%> (-0.27%)
⬇️


sqliterepo/replication_dispatcher.c
34.11% <0%> (-0.17%)
⬇️


meta2v2/meta2_filters_action_container.c
48.21% <0%> (ø)
⬆️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0107b48...8f4e8ec. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1101,2017-07-21T16:34:24Z,2017-07-27T08:12:31Z,2017-08-07T09:25:26Z,MERGED,True,19,11,5,https://github.com/AymericDu,CLI: Replace `requests` with `urllib3`,3,[],https://github.com/open-io/oio-sds/pull/1101,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1101,"Use urllib3 to get chunks info
Add tests and fix minor bug","Use urllib3 to get chunks info
Add tests and fix minor bug",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1101,2017-07-21T16:34:24Z,2017-07-27T08:12:31Z,2017-08-07T09:25:26Z,MERGED,True,19,11,5,https://github.com/AymericDu,CLI: Replace `requests` with `urllib3`,3,[],https://github.com/open-io/oio-sds/pull/1101,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1101#issuecomment-317051211,"Use urllib3 to get chunks info
Add tests and fix minor bug","Codecov Report

Merging #1101 into 4.x will increase coverage by 0.35%.
The diff coverage is 83.33%.


@@            Coverage Diff             @@
##              4.x    #1101      +/-   ##
==========================================
+ Coverage   74.63%   74.98%   +0.35%     
==========================================
  Files         289      289              
  Lines       52467    52476       +9     
  Branches     6603     6603              
==========================================
+ Hits        39157    39350     +193     
+ Misses      12664    12624      -40     
+ Partials      646      502     -144



Impacted Files
Coverage Δ





oio/conscience/client.py
55.55% <0%> (-0.79%)
⬇️


tests/functional/cli/storage/test_account.py
100% <100%> (ø)
⬆️


oio/api/object_storage.py
74.74% <100%> (ø)
⬆️


tests/functional/cli/admin/test_cluster.py
100% <100%> (ø)
⬆️


rdir/routes.c.rl
80.76% <0%> (-3.85%)
⬇️


meta2v2/meta2_filters_action_container.c
48.21% <0%> (-1.43%)
⬇️


sqlx/sqlx_service.c
82.36% <0%> (-1.2%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


events/oio_events_queue_beanstalkd.c
80.11% <0%> (-0.57%)
⬇️


server/network_server.c
79.61% <0%> (-0.52%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1d57ac3...7f4460b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1102,2017-07-24T10:08:21Z,2017-07-24T11:01:55Z,2017-07-24T11:03:08Z,MERGED,True,14,4,2,https://github.com/jfsmig,"ci,core/tool_sdk_noconf: Manage an `ecd` in the live configuration",1,[],https://github.com/open-io/oio-sds/pull/1102,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1102,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1102,2017-07-24T10:08:21Z,2017-07-24T11:01:55Z,2017-07-24T11:03:08Z,MERGED,True,14,4,2,https://github.com/jfsmig,"ci,core/tool_sdk_noconf: Manage an `ecd` in the live configuration",1,[],https://github.com/open-io/oio-sds/pull/1102,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1102#issuecomment-317380474,,"Codecov Report

Merging #1102 into 4.x will increase coverage by 0.54%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1102      +/-   ##
==========================================
+ Coverage   74.28%   74.82%   +0.54%     
==========================================
  Files         288      289       +1     
  Lines       52295    52467     +172     
  Branches     6602     6603       +1     
==========================================
+ Hits        38846    39259     +413     
+ Misses      12830    12649     -181     
+ Partials      619      559      -60



Impacted Files
Coverage Δ





core/tool_sdk_noconf.c
95.52% <100%> (+0.2%)
⬆️


oio/crawler/storage_tierer.py
59.43% <0%> (-4.72%)
⬇️


proxy/cs_actions.c
70.22% <0%> (-1.34%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-0.83%)
⬇️


proxy/metacd_http.c
82.74% <0%> (-0.81%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-0.76%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


metautils/lib/gridd_client_ext.c
80.22% <0%> (-0.75%)
⬇️


core/lb.c
93.79% <0%> (-0.29%)
⬇️


metautils/lib/gridd_client.c
72.57% <0%> (-0.22%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5871691...1f3f2a2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1103,2017-07-26T13:54:37Z,2017-08-01T15:47:53Z,2017-08-24T14:43:32Z,CLOSED,False,4,1,3,https://github.com/murlock,small fixes,2,[],https://github.com/open-io/oio-sds/pull/1103,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1103,"oio_url_s and fullpath: field was not managed by oio_url_clean and oio_url_dup
free JSON object when retrieving properties of dir","oio_url_s and fullpath: field was not managed by oio_url_clean and oio_url_dup
free JSON object when retrieving properties of dir",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1103,2017-07-26T13:54:37Z,2017-08-01T15:47:53Z,2017-08-24T14:43:32Z,CLOSED,False,4,1,3,https://github.com/murlock,small fixes,2,[],https://github.com/open-io/oio-sds/pull/1103,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1103#issuecomment-318614393,"oio_url_s and fullpath: field was not managed by oio_url_clean and oio_url_dup
free JSON object when retrieving properties of dir","Codecov Report

Merging #1103 into master will decrease coverage by 0.14%.
The diff coverage is 66.66%.


@@            Coverage Diff             @@
##           master    #1103      +/-   ##
==========================================
- Coverage   75.16%   75.02%   -0.15%     
==========================================
  Files         288      288              
  Lines       52396    52399       +3     
  Branches     6600     6600              
==========================================
- Hits        39385    39311      -74     
- Misses      12579    12633      +54     
- Partials      432      455      +23



Impacted Files
Coverage Δ





core/tool_roundtrip.c
83.12% <ø> (ø)
⬆️


core/dir.c
59.18% <0%> (-0.41%)
⬇️


core/url.c
88.25% <100%> (+0.07%)
⬆️


meta2v2/meta2_filters_action_container.c
46.78% <0%> (-5.36%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


oio/account/client.py
68.83% <0%> (-2.6%)
⬇️


server/network_server.c
79.22% <0%> (-2.46%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


proxy/cs_actions.c
71.55% <0%> (-1.34%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b23b9b2...cf6198e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1103,2017-07-26T13:54:37Z,2017-08-01T15:47:53Z,2017-08-24T14:43:32Z,CLOSED,False,4,1,3,https://github.com/murlock,small fixes,2,[],https://github.com/open-io/oio-sds/pull/1103,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/1103#issuecomment-319411719,"oio_url_s and fullpath: field was not managed by oio_url_clean and oio_url_dup
free JSON object when retrieving properties of dir",Fixed in #1111,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1104,2017-07-27T07:48:52Z,2017-08-14T16:13:43Z,2017-08-14T16:33:09Z,MERGED,True,91,8,6,https://github.com/AymericDu,"Python API: handle ''ServiceBusy"" exceptions returned by oio-proxy",1,[],https://github.com/open-io/oio-sds/pull/1104,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1104,"Catch error 503 from proxy and retry with exponential backoff.
If the proxy is still busy, throws the ServiceBusy exception.","Catch error 503 from proxy and retry with exponential backoff.
If the proxy is still busy, throws the ServiceBusy exception.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1104,2017-07-27T07:48:52Z,2017-08-14T16:13:43Z,2017-08-14T16:33:09Z,MERGED,True,91,8,6,https://github.com/AymericDu,"Python API: handle ''ServiceBusy"" exceptions returned by oio-proxy",1,[],https://github.com/open-io/oio-sds/pull/1104,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1104#issuecomment-318288749,"Catch error 503 from proxy and retry with exponential backoff.
If the proxy is still busy, throws the ServiceBusy exception.","Codecov Report

Merging #1104 into 4.x will increase coverage by 0.6%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##              4.x    #1104     +/-   ##
=========================================
+ Coverage   74.73%   75.34%   +0.6%     
=========================================
  Files         289      290      +1     
  Lines       52513    52546     +33     
  Branches     6606     6606             
=========================================
+ Hits        39247    39591    +344     
+ Misses      12615    12607      -8     
+ Partials      651      348    -303



Impacted Files
Coverage Δ





server/network_server.c
80.77% <ø> (+1.03%)
⬆️


oio/common/client.py
100% <100%> (ø)
⬆️


oio/common/exceptions.py
98.23% <100%> (+0.04%)
⬆️


tests/functional/api/test_proxy_client.py
100% <100%> (ø)



oio/api/base.py
80.55% <100%> (+0.27%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


oio/crawler/storage_tierer.py
59.43% <0%> (-4.72%)
⬇️


oio/account/client.py
68.83% <0%> (-2.6%)
⬇️


proxy/cs_actions.c
79.72% <0%> (-1.36%)
⬇️


metautils/lib/gridd_client_ext.c
80.22% <0%> (-1.12%)
⬇️


... and 42 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d301197...3a0293f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1105,2017-07-27T13:13:04Z,2017-08-01T15:54:36Z,2017-08-07T09:24:55Z,MERGED,True,34,18,4,https://github.com/AymericDu,HttpApi : Add documentation and move code,1,[],https://github.com/open-io/oio-sds/pull/1105,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1105,"Add missing documentation
Move get_pool_manager into http.py","Add missing documentation
Move get_pool_manager into http.py",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1105,2017-07-27T13:13:04Z,2017-08-01T15:54:36Z,2017-08-07T09:24:55Z,MERGED,True,34,18,4,https://github.com/AymericDu,HttpApi : Add documentation and move code,1,[],https://github.com/open-io/oio-sds/pull/1105,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1105#issuecomment-318360496,"Add missing documentation
Move get_pool_manager into http.py","Codecov Report

Merging #1105 into 4.x will decrease coverage by 0.08%.
The diff coverage is 87.5%.


@@            Coverage Diff             @@
##              4.x    #1105      +/-   ##
==========================================
- Coverage   74.96%   74.87%   -0.09%     
==========================================
  Files         289      289              
  Lines       52476    52476              
  Branches     6603     6603              
==========================================
- Hits        39338    39293      -45     
+ Misses      12624    12619       -5     
- Partials      514      564      +50



Impacted Files
Coverage Δ





oio/api/base.py
80.28% <100%> (-0.49%)
⬇️


oio/common/http.py
78.6% <85.71%> (-0.28%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta2v2/meta2_backend.c
70.81% <0%> (-4.44%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


sqliterepo/gridd_client_pool.c
69.66% <0%> (-1.9%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


metautils/lib/gridd_client.c
73% <0%> (-1.08%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8df08ac...0ce79bc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1106,2017-07-28T08:21:15Z,2017-07-28T09:08:27Z,2017-08-24T14:42:49Z,MERGED,True,4,3,2,https://github.com/murlock,oio/api: Fix invalid ranges,2,[],https://github.com/open-io/oio-sds/pull/1106,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1106,"When computing range download to chunks, results was stored inside
a Dict. This result was used with an iterator and order of chunks was lost.
The fix replace this Dict by a OrderectDict.","When computing range download to chunks, results was stored inside
a Dict. This result was used with an iterator and order of chunks was lost.
The fix replace this Dict by a OrderectDict.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1107,2017-07-28T08:22:36Z,2017-08-01T13:29:54Z,2017-08-24T14:42:54Z,MERGED,True,26,5,1,https://github.com/murlock,4.0.x backup fix invalid range,2,[],https://github.com/open-io/oio-sds/pull/1107,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1107,"Fix issue when reading too much of data instead of real range
Fix issue with uwsgi and LimitedStream not working as expected","Fix issue when reading too much of data instead of real range
Fix issue with uwsgi and LimitedStream not working as expected",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1107,2017-07-28T08:22:36Z,2017-08-01T13:29:54Z,2017-08-24T14:42:54Z,MERGED,True,26,5,1,https://github.com/murlock,4.0.x backup fix invalid range,2,[],https://github.com/open-io/oio-sds/pull/1107,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1107#issuecomment-318594652,"Fix issue when reading too much of data instead of real range
Fix issue with uwsgi and LimitedStream not working as expected","Codecov Report

Merging #1107 into 4.0.x will increase coverage by 0.06%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##           4.0.x    #1107      +/-   ##
=========================================
+ Coverage   67.9%   67.97%   +0.06%     
=========================================
  Files        226      226              
  Lines      44491    44491              
  Branches    6663     6663              
=========================================
+ Hits       30213    30242      +29     
- Misses     13554    13571      +17     
+ Partials     724      678      -46



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_container.c
46.78% <0%> (-2.15%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-1.93%)
⬇️


sqliterepo/election.c
77.46% <0%> (-0.93%)
⬇️


metautils/lib/gridd_client_ext.c
80.59% <0%> (-0.75%)
⬇️


rawx-apache2/src/rawx_repository.c
48.52% <0%> (-0.74%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
66.21% <0%> (-0.46%)
⬇️


core/cs.c
66.07% <0%> (-0.45%)
⬇️


meta2v2/meta2_filters_action_content.c
82.95% <0%> (-0.33%)
⬇️


proxy/transport_http.c
86.61% <0%> (-0.28%)
⬇️


sqliterepo/cache.c
85.42% <0%> (-0.26%)
⬇️


... and 20 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 92e408d...876ee7d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1108,2017-07-31T07:36:25Z,2017-08-01T15:47:01Z,2017-08-17T15:56:55Z,CLOSED,False,1,1,1,https://github.com/kamel-rahim,Rdir: Fix error in conditional statement,1,[],https://github.com/open-io/oio-sds/pull/1108,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1108,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1108,2017-07-31T07:36:25Z,2017-08-01T15:47:01Z,2017-08-17T15:56:55Z,CLOSED,False,1,1,1,https://github.com/kamel-rahim,Rdir: Fix error in conditional statement,1,[],https://github.com/open-io/oio-sds/pull/1108,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1108#issuecomment-318993809,,"Codecov Report

Merging #1108 into 4.x will decrease coverage by 0.03%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1108      +/-   ##
==========================================
- Coverage   74.83%   74.79%   -0.04%     
==========================================
  Files         289      289              
  Lines       52476    52476              
  Branches     6603     6603              
==========================================
- Hits        39272    39252      -20     
- Misses      12643    12656      +13     
- Partials      561      568       +7



Impacted Files
Coverage Δ





rdir/rdir.c
66.36% <100%> (-0.12%)
⬇️


sqliterepo/replication_dispatcher.c
38.73% <0%> (-4.3%)
⬇️


meta2v2/meta2_filters_action_container.c
49.64% <0%> (-2.5%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


sqliterepo/replication.c
77.16% <0%> (-0.87%)
⬇️


sqliterepo/repository.c
70.91% <0%> (-0.87%)
⬇️


server/network_server.c
78.96% <0%> (-0.78%)
⬇️


sqliterepo/cache.c
88.74% <0%> (-0.52%)
⬇️


core/http_put.c
92.62% <0%> (-0.51%)
⬇️


oio/common/utils.py
62.72% <0%> (-0.51%)
⬇️


... and 19 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d8b0bc7...a9add2c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1108,2017-07-31T07:36:25Z,2017-08-01T15:47:01Z,2017-08-17T15:56:55Z,CLOSED,False,1,1,1,https://github.com/kamel-rahim,Rdir: Fix error in conditional statement,1,[],https://github.com/open-io/oio-sds/pull/1108,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/1108#issuecomment-319411450,,Fixed in #1112,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1111,2017-08-01T13:05:01Z,2017-08-01T13:26:16Z,2017-08-01T14:58:20Z,MERGED,True,4,1,3,https://github.com/jfsmig,Fix memory leaks,2,[],https://github.com/open-io/oio-sds/pull/1111,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1111,Closes #1103,Closes #1103,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1111,2017-08-01T13:05:01Z,2017-08-01T13:26:16Z,2017-08-01T14:58:20Z,MERGED,True,4,1,3,https://github.com/jfsmig,Fix memory leaks,2,[],https://github.com/open-io/oio-sds/pull/1111,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1111#issuecomment-319368880,Closes #1103,"Codecov Report

Merging #1111 into 4.x will decrease coverage by 0.21%.
The diff coverage is 66.66%.


@@            Coverage Diff             @@
##              4.x    #1111      +/-   ##
==========================================
- Coverage   74.83%   74.61%   -0.22%     
==========================================
  Files         289      289              
  Lines       52476    52479       +3     
  Branches     6603     6610       +7     
==========================================
- Hits        39272    39159     -113     
- Misses      12643    12657      +14     
- Partials      561      663     +102



Impacted Files
Coverage Δ





core/tool_roundtrip.c
83.12% <ø> (ø)
⬆️


core/dir.c
59.18% <0%> (-0.41%)
⬇️


core/url.c
88.25% <100%> (+0.07%)
⬆️


meta2v2/meta2_backend.c
70.47% <0%> (-4.78%)
⬇️


sqliterepo/replication_dispatcher.c
39.05% <0%> (-3.98%)
⬇️


meta2v2/meta2_filters_action_container.c
48.21% <0%> (-3.93%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


proxy/cs_actions.c
76.44% <0%> (-1.34%)
⬇️


oio/ecd/app.py
59.76% <0%> (-1.19%)
⬇️


sqlx/sqlx_service.c
81.91% <0%> (-0.9%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d8b0bc7...c21682d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1112,2017-08-01T13:46:26Z,2017-08-01T14:24:00Z,2017-08-14T09:16:09Z,MERGED,True,1,1,1,https://github.com/jfsmig,rdir: fix fetching of chunks after an incident date has been set,1,[],https://github.com/open-io/oio-sds/pull/1112,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1112,Closes #1108,Closes #1108,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1113,2017-08-01T14:33:06Z,2017-08-01T14:45:18Z,2017-08-01T14:58:14Z,MERGED,True,1,1,1,https://github.com/jfsmig,Merge 3.x in 4.0.x,2,[],https://github.com/open-io/oio-sds/pull/1113,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1113,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1113,2017-08-01T14:33:06Z,2017-08-01T14:45:18Z,2017-08-01T14:58:14Z,MERGED,True,1,1,1,https://github.com/jfsmig,Merge 3.x in 4.0.x,2,[],https://github.com/open-io/oio-sds/pull/1113,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1113#issuecomment-319392424,,"Codecov Report

Merging #1113 into 4.0.x will increase coverage by <.01%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.0.x    #1113      +/-   ##
==========================================
+ Coverage   67.71%   67.72%   +<.01%     
==========================================
  Files         226      226              
  Lines       44488    44488              
  Branches     6668     6668              
==========================================
+ Hits        30126    30128       +2     
+ Misses      13641    13620      -21     
- Partials      721      740      +19



Impacted Files
Coverage Δ





rdir/rdir.c
66.36% <100%> (ø)
⬆️


rdir/routes.c.rl
80.76% <0%> (-3.85%)
⬇️


meta2v2/meta2_filters_action_container.c
46.42% <0%> (-3.22%)
⬇️


sqliterepo/election.c
75.91% <0%> (-2.48%)
⬇️


proxy/reply.c
73.8% <0%> (-2.39%)
⬇️


proxy/cache_actions.c
17.14% <0%> (-1.15%)
⬇️


metautils/lib/gridd_client.c
69.97% <0%> (-1.08%)
⬇️


rawx-lib/src/attr_handler.c
53.24% <0%> (-0.65%)
⬇️


rawx-apache2/src/rawx_repository.c
48.77% <0%> (-0.5%)
⬇️


meta2v2/meta2_backend.c
69.4% <0%> (-0.45%)
⬇️


... and 22 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d75d10b...62bff37. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1114,2017-08-01T14:56:45Z,2017-08-01T15:08:27Z,2017-08-01T15:08:34Z,MERGED,True,164,136,6,https://github.com/jfsmig,Merge 4.0.x in 4.x,9,[],https://github.com/open-io/oio-sds/pull/1114,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1114,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1114,2017-08-01T14:56:45Z,2017-08-01T15:08:27Z,2017-08-01T15:08:34Z,MERGED,True,164,136,6,https://github.com/jfsmig,Merge 4.0.x in 4.x,9,[],https://github.com/open-io/oio-sds/pull/1114,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1114#issuecomment-319398983,,"Codecov Report

Merging #1114 into 4.x will decrease coverage by 0.01%.
The diff coverage is 72.82%.


@@            Coverage Diff             @@
##              4.x    #1114      +/-   ##
==========================================
- Coverage   74.74%   74.73%   -0.02%     
==========================================
  Files         289      289              
  Lines       52479    52487       +8     
  Branches     6603     6608       +5     
==========================================
- Hits        39228    39224       -4     
- Misses      12621    12655      +34     
+ Partials      630      608      -22



Impacted Files
Coverage Δ





tests/functional/conscience/test_conscience.py
100% <100%> (ø)
⬆️


rdir/rdir.c
66.36% <100%> (ø)
⬆️


oio/container/backup.py
12.88% <22.22%> (+0.25%)
⬆️


tests/utils.py
92.15% <66.66%> (ø)
⬆️


proxy/cs_actions.c
81.08% <83.33%> (+2.41%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


meta2v2/meta2_filters_action_container.c
48.21% <0%> (-1.43%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8ef38a9...a23126d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1115,2017-08-01T15:33:05Z,2017-08-01T15:46:16Z,2017-08-02T16:51:52Z,MERGED,True,356,168,20,https://github.com/jfsmig,Merge 4.x into master,26,[],https://github.com/open-io/oio-sds/pull/1115,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1115,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1115,2017-08-01T15:33:05Z,2017-08-01T15:46:16Z,2017-08-02T16:51:52Z,MERGED,True,356,168,20,https://github.com/jfsmig,Merge 4.x into master,26,[],https://github.com/open-io/oio-sds/pull/1115,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1115#issuecomment-319410516,,"Codecov Report

Merging #1115 into master will increase coverage by 0.02%.
The diff coverage is 79.23%.


@@            Coverage Diff             @@
##           master    #1115      +/-   ##
==========================================
+ Coverage   74.92%   74.95%   +0.02%     
==========================================
  Files         288      289       +1     
  Lines       52396    52487      +91     
  Branches     6607     6608       +1     
==========================================
+ Hits        39260    39340      +80     
- Misses      12605    12628      +23     
+ Partials      531      519      -12



Impacted Files
Coverage Δ





core/tool_roundtrip.c
83.12% <ø> (ø)
⬆️


oio/conscience/client.py
55.55% <0%> (-0.79%)
⬇️


core/dir.c
59.18% <0%> (-0.41%)
⬇️


oio/api/object_storage.py
74.74% <100%> (ø)
⬆️


tests/functional/cli/storage/test_account.py
100% <100%> (ø)
⬆️


tests/functional/conscience/test_conscience.py
100% <100%> (ø)
⬆️


core/url.c
88.25% <100%> (+0.07%)
⬆️


tests/functional/cli/admin/test_cluster.py
100% <100%> (ø)
⬆️


oio/api/ec.py
94.94% <100%> (ø)
⬆️


rdir/rdir.c
66.47% <100%> (ø)
⬆️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 88b2a16...e29af01. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1116,2017-08-02T13:30:50Z,2017-08-02T16:48:25Z,2017-08-02T16:51:53Z,MERGED,True,2552,1314,511,https://github.com/jfsmig,Enforce the right licence preamble at the right place,11,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1116,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1116,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1116,2017-08-02T13:30:50Z,2017-08-02T16:48:25Z,2017-08-02T16:51:53Z,MERGED,True,2552,1314,511,https://github.com/jfsmig,Enforce the right licence preamble at the right place,11,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1116,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1116#issuecomment-319681033,,"Codecov Report

Merging #1116 into master will increase coverage by 0.07%.
The diff coverage is 68.96%.


@@            Coverage Diff             @@
##           master    #1116      +/-   ##
==========================================
+ Coverage   74.85%   74.92%   +0.07%     
==========================================
  Files         289      287       -2     
  Lines       52487    52484       -3     
  Branches     6608     6608              
==========================================
+ Hits        39290    39326      +36     
+ Misses      12639    12608      -31     
+ Partials      558      550       -8



Impacted Files
Coverage Δ





oio/api/backblaze_http.py
22.42% <ø> (ø)
⬆️


core/str.c
87.78% <ø> (ø)
⬆️


events/oio_events_queue_buffer.c
87.5% <ø> (ø)
⬆️


gridd/main/srvalert.c
54.83% <ø> (ø)
⬆️


metautils/lib/utils_metadata.c
0% <ø> (ø)
⬆️


metautils/lib/utils_meta0_info.c
90.9% <ø> (ø)
⬆️


meta2v2/meta2_filters_extract.c
86.31% <ø> (ø)
⬆️


meta1v2/meta1_backend_internals.c
74.16% <ø> (ø)
⬆️


core/lb.c
93.79% <ø> (ø)
⬆️


oio/event/evob.py
56.81% <ø> (ø)
⬆️


... and 237 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c41a58a...d0eb7bb. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1117,2017-08-03T09:56:42Z,2017-08-14T08:35:43Z,2017-08-24T14:42:48Z,MERGED,True,40,8,2,https://github.com/murlock,Backup: accept HEAD requests on /container/restore route,4,[],https://github.com/open-io/oio-sds/pull/1117,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1117,"Will closes #1090
Also add parameter to control Redis timeout (default is still 24 hours)","Will closes #1090
Also add parameter to control Redis timeout (default is still 24 hours)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1117,2017-08-03T09:56:42Z,2017-08-14T08:35:43Z,2017-08-24T14:42:48Z,MERGED,True,40,8,2,https://github.com/murlock,Backup: accept HEAD requests on /container/restore route,4,[],https://github.com/open-io/oio-sds/pull/1117,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1117#issuecomment-320175516,"Will closes #1090
Also add parameter to control Redis timeout (default is still 24 hours)","Codecov Report

Merging #1117 into 4.0.x will decrease coverage by 0.05%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##            4.0.x   #1117      +/-   ##
=========================================
- Coverage   67.96%   67.9%   -0.06%     
=========================================
  Files         226     226              
  Lines       44488   44488              
  Branches     6668    6668              
=========================================
- Hits        30235   30211      -24     
- Misses      13529   13546      +17     
- Partials      724     731       +7



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
82.95% <0%> (-1.97%)
⬇️


metautils/lib/gridd_client.c
71.27% <0%> (-1.95%)
⬇️


sqliterepo/gridd_client_pool.c
69.19% <0%> (-1.9%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


meta2v2/meta2_filters_action_container.c
46.78% <0%> (-1.43%)
⬇️


rawx-lib/src/attr_handler.c
53.24% <0%> (-1.3%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


sqliterepo/election.c
77.39% <0%> (-0.62%)
⬇️


sqlx/sqlx_service.c
81.46% <0%> (-0.6%)
⬇️


server/slab.c
64.61% <0%> (-0.52%)
⬇️


... and 19 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 45ff867...16ad610. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1118,2017-08-03T22:21:13Z,2017-08-03T22:33:03Z,2017-08-03T22:33:03Z,MERGED,True,33,21,5,https://github.com/jfsmig,"Container sharding: step 1, required definitions",4,[],https://github.com/open-io/oio-sds/pull/1118,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1118,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1118,2017-08-03T22:21:13Z,2017-08-03T22:33:03Z,2017-08-03T22:33:03Z,MERGED,True,33,21,5,https://github.com/jfsmig,"Container sharding: step 1, required definitions",4,[],https://github.com/open-io/oio-sds/pull/1118,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1118#issuecomment-320107786,,"Codecov Report

Merging #1118 into 4.x will increase coverage by 0.03%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1118      +/-   ##
==========================================
+ Coverage   74.85%   74.88%   +0.03%     
==========================================
  Files         289      289              
  Lines       52487    52487              
  Branches     6608     6608              
==========================================
+ Hits        39288    39304      +16     
  Misses      12630    12630              
+ Partials      569      553      -16



Impacted Files
Coverage Δ





meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


oio/crawler/storage_tierer.py
59.43% <0%> (-4.72%)
⬇️


gridd/main/server.c
75.22% <0%> (-2.94%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-0.83%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-0.76%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


tests/utils.py
92.15% <0%> (-0.66%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5375d04...bef1fd4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1119,2017-08-03T22:35:20Z,2017-08-03T22:53:27Z,2017-08-03T22:53:27Z,MERGED,True,70,77,5,https://github.com/jfsmig,"container sharding: step 2, metautils helpers",2,[],https://github.com/open-io/oio-sds/pull/1119,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1119,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1119,2017-08-03T22:35:20Z,2017-08-03T22:53:27Z,2017-08-03T22:53:27Z,MERGED,True,70,77,5,https://github.com/jfsmig,"container sharding: step 2, metautils helpers",2,[],https://github.com/open-io/oio-sds/pull/1119,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1119#issuecomment-320111076,,"Codecov Report

Merging #1119 into 4.x will decrease coverage by 0.14%.
The diff coverage is 43.18%.


@@            Coverage Diff             @@
##              4.x    #1119      +/-   ##
==========================================
- Coverage   74.82%   74.68%   -0.15%     
==========================================
  Files         289      289              
  Lines       52487    52480       -7     
  Branches     6608     6607       -1     
==========================================
- Hits        39274    39193      -81     
+ Misses      12654    12640      -14     
- Partials      559      647      +88



Impacted Files
Coverage Δ





metautils/lib/metacomm.h
100% <ø> (ø)
⬆️


metautils/lib/utils_m1url.c
66.36% <0%> (-14.75%)
⬇️


meta2v2/meta2_filters_extract.c
87.91% <100%> (+1.59%)
⬆️


metautils/lib/comm_message.c
85.71% <78.26%> (+0.97%)
⬆️


meta2v2/meta2_backend.c
70.47% <0%> (-4.78%)
⬇️


sqliterepo/replication_dispatcher.c
38.73% <0%> (-4.22%)
⬇️


oio/account/client.py
68.83% <0%> (-2.6%)
⬇️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


sqliterepo/replication.c
77.16% <0%> (-0.87%)
⬇️


... and 22 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7b52584...9613a8c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1120,2017-08-04T10:24:43Z,2017-08-09T13:46:22Z,2017-08-17T15:56:21Z,MERGED,True,30,3,4,https://github.com/kamel-rahim,Account: Fix ghost container (fix#1109),2,[],https://github.com/open-io/oio-sds/pull/1120,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1120,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1120,2017-08-04T10:24:43Z,2017-08-09T13:46:22Z,2017-08-17T15:56:21Z,MERGED,True,30,3,4,https://github.com/kamel-rahim,Account: Fix ghost container (fix#1109),2,[],https://github.com/open-io/oio-sds/pull/1120,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1120#issuecomment-320216753,,"Codecov Report

Merging #1120 into 4.x will increase coverage by 0.12%.
The diff coverage is 85%.


@@            Coverage Diff             @@
##              4.x    #1120      +/-   ##
==========================================
+ Coverage   74.67%   74.79%   +0.12%     
==========================================
  Files         289      289              
  Lines       52480    52498      +18     
  Branches     6607     6607              
==========================================
+ Hits        39188    39268      +80     
+ Misses      12673    12643      -30     
+ Partials      619      587      -32



Impacted Files
Coverage Δ





oio/api/object_storage.py
74.74% <ø> (ø)
⬆️


oio/container/client.py
65.7% <0%> (ø)
⬆️


oio/account/backend.py
82.29% <100%> (+0.18%)
⬆️


tests/functional/container/test_container.py
98.81% <93.75%> (-0.2%)
⬇️


metautils/lib/comm_converter.c
74.27% <0%> (-0.53%)
⬇️


sqliterepo/gridd_client_pool.c
69.19% <0%> (-0.48%)
⬇️


metautils/lib/utils_sockets.c
48.62% <0%> (-0.4%)
⬇️


sqliterepo/election.c
78.94% <0%> (+0.12%)
⬆️


sqlx/sqlx_service.c
82.36% <0%> (+0.14%)
⬆️


oio/api/ec.py
95.12% <0%> (+0.17%)
⬆️


... and 18 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4ac8544...5577f90. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1120,2017-08-04T10:24:43Z,2017-08-09T13:46:22Z,2017-08-17T15:56:21Z,MERGED,True,30,3,4,https://github.com/kamel-rahim,Account: Fix ghost container (fix#1109),2,[],https://github.com/open-io/oio-sds/pull/1120,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/1120#issuecomment-322225422,,Fixes #1109.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1121,2017-08-04T12:53:45Z,2017-08-04T13:08:17Z,2017-08-04T13:11:41Z,MERGED,True,219,161,12,https://github.com/jfsmig,"container sharding: step3, allocate shards in meta1",2,[],https://github.com/open-io/oio-sds/pull/1121,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1121,"backend: Implement the idempotent variant of M1_LINK
backend: Simplifies the logic
backend: Drop the support of the DRYRUN flag where it is useless
remote: adapt to the backend options
proxy: adapt to the meta2 remote
test: Add a unit test for the backend
test: Alter a test to match the new meta1 API (link calls return the
whole set of services,no tthe addition)
test: More random ids, for less collisions","backend: Implement the idempotent variant of M1_LINK
backend: Simplifies the logic
backend: Drop the support of the DRYRUN flag where it is useless
remote: adapt to the backend options
proxy: adapt to the meta2 remote
test: Add a unit test for the backend
test: Alter a test to match the new meta1 API (link calls return the
whole set of services,no tthe addition)
test: More random ids, for less collisions",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1121,2017-08-04T12:53:45Z,2017-08-04T13:08:17Z,2017-08-04T13:11:41Z,MERGED,True,219,161,12,https://github.com/jfsmig,"container sharding: step3, allocate shards in meta1",2,[],https://github.com/open-io/oio-sds/pull/1121,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1121#issuecomment-320243457,"backend: Implement the idempotent variant of M1_LINK
backend: Simplifies the logic
backend: Drop the support of the DRYRUN flag where it is useless
remote: adapt to the backend options
proxy: adapt to the meta2 remote
test: Add a unit test for the backend
test: Alter a test to match the new meta1 API (link calls return the
whole set of services,no tthe addition)
test: More random ids, for less collisions","Codecov Report

Merging #1121 into 4.x will increase coverage by 0.02%.
The diff coverage is 75.39%.


@@            Coverage Diff             @@
##              4.x    #1121      +/-   ##
==========================================
+ Coverage   74.67%   74.69%   +0.02%     
==========================================
  Files         289      289              
  Lines       52480    52495      +15     
  Branches     6607     6606       -1     
==========================================
+ Hits        39188    39213      +25     
+ Misses      12673    12666       -7     
+ Partials      619      616       -3



Impacted Files
Coverage Δ





meta1v2/meta1_prefixes.c
82.63% <ø> (+2.99%)
⬆️


proxy/m2_actions.c
77.25% <ø> (ø)
⬆️


meta1v2/meta1_backend_internals.c
74.16% <0%> (ø)
⬆️


meta1v2/meta1_remote.c
72.22% <0%> (-2%)
⬇️


tests/functional/reference/test_directory.py
100% <100%> (ø)
⬆️


tests/functional/container/test_container.py
99.01% <100%> (ø)
⬆️


proxy/dir_actions.c
68.69% <100%> (-0.2%)
⬇️


tests/unit/test_meta1_backend.c
99.46% <100%> (+0.02%)
⬆️


meta1v2/meta1_backend_services.c
53.85% <63.51%> (-2.35%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
66.96% <94.73%> (+0.3%)
⬆️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4ac8544...dc81a87. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1122,2017-08-04T16:54:18Z,2017-08-14T16:32:09Z,2017-08-18T13:29:44Z,MERGED,True,124,37,13,https://github.com/jfsmig,"container sharding: step4, prepare sqlite to receive sequence numbers",9,[],https://github.com/open-io/oio-sds/pull/1122,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1122,"sqliterepo: Require a sequence number
meta2: Fix the DRAIN operation
metautils: slight code simplification
server: slight code simplification","sqliterepo: Require a sequence number
meta2: Fix the DRAIN operation
metautils: slight code simplification
server: slight code simplification",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1122,2017-08-04T16:54:18Z,2017-08-14T16:32:09Z,2017-08-18T13:29:44Z,MERGED,True,124,37,13,https://github.com/jfsmig,"container sharding: step4, prepare sqlite to receive sequence numbers",9,[],https://github.com/open-io/oio-sds/pull/1122,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1122#issuecomment-320301601,"sqliterepo: Require a sequence number
meta2: Fix the DRAIN operation
metautils: slight code simplification
server: slight code simplification","Codecov Report

Merging #1122 into 4.x will decrease coverage by 0.09%.
The diff coverage is 80.35%.


@@            Coverage Diff            @@
##              4.x    #1122     +/-   ##
=========================================
- Coverage   74.85%   74.76%   -0.1%     
=========================================
  Files         289      290      +1     
  Lines       52495    52532     +37     
  Branches     6606     6608      +2     
=========================================
- Hits        39294    39274     -20     
+ Misses      12653    12632     -21     
- Partials      548      626     +78



Impacted Files
Coverage Δ





meta2v2/meta2_gridd_dispatcher.c
75% <ø> (+6.81%)
⬆️


sqliterepo/sqlite_utils.h
100% <ø> (ø)
⬆️


sqliterepo/sqlite_utils.c
84.39% <0%> (-2.47%)
⬇️


meta2v2/meta2_filters_action_content.c
87.96% <0%> (-0.59%)
⬇️


sqliterepo/repository.c
71.69% <100%> (+0.15%)
⬆️


server/transport_gridd.c
68.86% <100%> (+0.28%)
⬆️


server/network_server.c
80.12% <100%> (+1.16%)
⬆️


tests/unit/test_asn1_message.c
100% <100%> (ø)



sqliterepo/replication_dispatcher.c
39.54% <100%> (-3.73%)
⬇️


sqlx/sqlx_service.c
82.34% <77.77%> (+0.28%)
⬆️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 12b7ede...460c0dd. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1123,2017-08-10T12:36:37Z,2017-08-16T12:06:56Z,2017-08-16T17:01:57Z,MERGED,True,684,13,14,https://github.com/AymericDu,oio-account-server: new routes to refresh or reset container statistics,2,[],https://github.com/open-io/oio-sds/pull/1123,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1123,"Some routes may be useful for daily operations:

/v1.0/account/refresh to refresh counters of an account,
/v1.0/account/flush to flush account by emptying the list of its containers,
/v1.0/account/container/reset to reset counters of a container

Also, add modules to the CLI tool to expose the account options:

openio account refresh
openio account flush
openio container refresh","Some routes may be useful for daily operations:

/v1.0/account/refresh to refresh counters of an account,
/v1.0/account/flush to flush account by emptying the list of its containers,
/v1.0/account/container/reset to reset counters of a container

Also, add modules to the CLI tool to expose the account options:

openio account refresh
openio account flush
openio container refresh",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1123,2017-08-10T12:36:37Z,2017-08-16T12:06:56Z,2017-08-16T17:01:57Z,MERGED,True,684,13,14,https://github.com/AymericDu,oio-account-server: new routes to refresh or reset container statistics,2,[],https://github.com/open-io/oio-sds/pull/1123,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1123#issuecomment-321548522,"Some routes may be useful for daily operations:

/v1.0/account/refresh to refresh counters of an account,
/v1.0/account/flush to flush account by emptying the list of its containers,
/v1.0/account/container/reset to reset counters of a container

Also, add modules to the CLI tool to expose the account options:

openio account refresh
openio account flush
openio container refresh","Codecov Report

Merging #1123 into 4.x will increase coverage by 0.23%.
The diff coverage is 92.63%.


@@            Coverage Diff             @@
##              4.x    #1123      +/-   ##
==========================================
+ Coverage   74.88%   75.11%   +0.23%     
==========================================
  Files         292      292              
  Lines       52619    52995     +376     
  Branches     6608     6608              
==========================================
+ Hits        39403    39808     +405     
+ Misses      12675    12610      -65     
- Partials      541      577      +36



Impacted Files
Coverage Δ





oio/account/server.py
88.23% <100%> (+2.52%)
⬆️


oio/account/client.py
83.72% <100%> (+12.29%)
⬆️


tests/functional/cli/storage/test_account.py
100% <100%> (ø)
⬆️


tests/unit/api/test_objectstorage.py
100% <100%> (ø)
⬆️


tests/functional/account/test_backend.py
100% <100%> (ø)
⬆️


oio/account/backend.py
79.54% <58.06%> (-2.75%)
⬇️


oio/api/object_storage.py
78.23% <76.74%> (+1.51%)
⬆️


tests/functional/cli/storage/test_container.py
96.66% <90.9%> (-3.34%)
⬇️


tests/functional/account/test_client.py
91.35% <97.29%> (+4.99%)
⬆️


tests/functional/account/test_server.py
98.97% <97.61%> (-1.03%)
⬇️


... and 51 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f8e8f2e...eadb01e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1124,2017-08-10T16:54:06Z,2017-10-19T08:44:28Z,2018-04-10T16:03:34Z,MERGED,True,695,27,25,https://github.com/kamel-rahim,Implement container snapshots,4,[],https://github.com/open-io/oio-sds/pull/1124,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1124,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1124,2017-08-10T16:54:06Z,2017-10-19T08:44:28Z,2018-04-10T16:03:34Z,MERGED,True,695,27,25,https://github.com/kamel-rahim,Implement container snapshots,4,[],https://github.com/open-io/oio-sds/pull/1124,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1124#issuecomment-321613333,,"Codecov Report

Merging #1124 into 4.x will increase coverage by 0.6%.
The diff coverage is 93.17%.


@@           Coverage Diff            @@
##              4.x   #1124     +/-   ##
========================================
+ Coverage   76.29%   76.9%   +0.6%     
========================================
  Files         305     305             
  Lines       54129   54452    +323     
  Branches     6620    6644     +24     
========================================
+ Hits        41298   41875    +577     
+ Misses      12219   12146     -73     
+ Partials      612     431    -181



Impacted Files
Coverage Δ





tests/functional/container/test_container.py
98.82% <ø> (ø)
⬆️


oio/content/content.py
92.92% <ø> (ø)
⬆️


meta2v2/meta2_filters_action_container.c
51.41% <100%> (+3.37%)
⬆️


meta2v2/meta2_backend.c
76.42% <100%> (+5.9%)
⬆️


oio/container/client.py
70.96% <100%> (+2.12%)
⬆️


oio/blob/client.py
92.53% <100%> (+0.47%)
⬆️


tests/functional/api/test_objectstorage.py
96.11% <100%> (+0.31%)
⬆️


proxy/meta2v2_remote.c
78.24% <100%> (+0.09%)
⬆️


sqliterepo/sqlx_remote.c
78.91% <100%> (+2.31%)
⬆️


proxy/metacd_http.c
90.2% <100%> (+0.81%)
⬆️


... and 53 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 65b9255...33d2d93. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1125,2017-08-11T16:08:58Z,2017-08-16T12:07:28Z,2017-08-16T17:02:01Z,MERGED,True,41,33,16,https://github.com/AymericDu,Python API: share one logger instance between all classes instances,1,[],https://github.com/open-io/oio-sds/pull/1125,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1125,Manage loggers to not recreate a logger unnecessarily and to share a logger,Manage loggers to not recreate a logger unnecessarily and to share a logger,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1125,2017-08-11T16:08:58Z,2017-08-16T12:07:28Z,2017-08-16T17:02:01Z,MERGED,True,41,33,16,https://github.com/AymericDu,Python API: share one logger instance between all classes instances,1,[],https://github.com/open-io/oio-sds/pull/1125,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1125#issuecomment-321856495,Manage loggers to not recreate a logger unnecessarily and to share a logger,"Codecov Report

Merging #1125 into 4.x will increase coverage by 0.15%.
The diff coverage is 90%.


@@            Coverage Diff             @@
##              4.x    #1125      +/-   ##
==========================================
+ Coverage   74.88%   75.04%   +0.15%     
==========================================
  Files         292      292              
  Lines       52619    52621       +2     
  Branches     6608     6608              
==========================================
+ Hits        39403    39488      +85     
+ Misses      12675    12644      -31     
+ Partials      541      489      -52



Impacted Files
Coverage Δ





oio/container/backup.py
12.77% <0%> (ø)
⬆️


oio/api/object_storage.py
77.06% <100%> (+0.34%)
⬆️


oio/blob/auditor.py
60.64% <100%> (ø)
⬆️


oio/crawler/storage_tierer.py
59.43% <100%> (ø)
⬆️


oio/rdir/client.py
51.74% <100%> (ø)
⬆️


oio/content/content.py
93.51% <100%> (ø)
⬆️


oio/content/factory.py
100% <100%> (ø)
⬆️


oio/account/client.py
68.83% <100%> (-2.6%)
⬇️


oio/blob/indexer.py
48% <100%> (ø)
⬆️


oio/common/client.py
100% <100%> (ø)
⬆️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f8e8f2e...744070f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1126,2017-08-11T16:38:14Z,2017-08-17T12:53:58Z,2017-08-17T12:54:02Z,MERGED,True,147,4,2,https://github.com/fvennetier,Python API: use regex to build container names,1,"['priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1126,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1126,The RegexContainerBuilder class allows to capture parts of an object name to build the name of the container where the object will be uploaded.,The RegexContainerBuilder class allows to capture parts of an object name to build the name of the container where the object will be uploaded.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1126,2017-08-11T16:38:14Z,2017-08-17T12:53:58Z,2017-08-17T12:54:02Z,MERGED,True,147,4,2,https://github.com/fvennetier,Python API: use regex to build container names,1,"['priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1126,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1126#issuecomment-321863535,The RegexContainerBuilder class allows to capture parts of an object name to build the name of the container where the object will be uploaded.,"Codecov Report

Merging #1126 into 4.x will increase coverage by 0.08%.
The diff coverage is 97.29%.


@@            Coverage Diff             @@
##              4.x    #1126      +/-   ##
==========================================
+ Coverage   74.73%   74.82%   +0.08%     
==========================================
  Files         289      291       +2     
  Lines       52513    52639     +126     
  Branches     6606     6606              
==========================================
+ Hits        39247    39385     +138     
- Misses      12615    12700      +85     
+ Partials      651      554      -97



Impacted Files
Coverage Δ





tests/unit/common/test_autocontainer.py
100% <100%> (ø)



oio/common/autocontainer.py
47.61% <93.75%> (ø)



gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/account/client.py
68.83% <0%> (-2.6%)
⬇️


oio/common/utils.py
60.7% <0%> (-2.52%)
⬇️


gridd/main/sock.c
61.76% <0%> (-1.48%)
⬇️


proxy/cs_actions.c
79.72% <0%> (-1.36%)
⬇️


meta2v2/meta2_filters_action_content.c
88.23% <0%> (-0.93%)
⬇️


metautils/lib/gridd_client.c
72.57% <0%> (-0.87%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d301197...92a88c2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1127,2017-08-11T20:30:07Z,2017-08-14T08:38:57Z,2017-08-18T13:25:29Z,MERGED,True,11,6,2,https://github.com/jfsmig,Adapt oio-crawler-integrity to the lastest Python API,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1127,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1127,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1127,2017-08-11T20:30:07Z,2017-08-14T08:38:57Z,2017-08-18T13:25:29Z,MERGED,True,11,6,2,https://github.com/jfsmig,Adapt oio-crawler-integrity to the lastest Python API,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1127,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1127#issuecomment-321913626,,"Codecov Report

Merging #1127 into 4.0.x will decrease coverage by 0.13%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.0.x    #1127      +/-   ##
==========================================
- Coverage   67.96%   67.83%   -0.14%     
==========================================
  Files         226      227       +1     
  Lines       44488    44492       +4     
  Branches     6668     6668              
==========================================
- Hits        30235    30179      -56     
- Misses      13529    13580      +51     
- Partials      724      733       +9



Impacted Files
Coverage Δ





meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


metautils/lib/gridd_client.c
71.05% <0%> (-2.16%)
⬇️


sqliterepo/gridd_client_pool.c
69.19% <0%> (-1.9%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


metautils/lib/utils_syscall.c
50% <0%> (-1.52%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
65.29% <0%> (-1.37%)
⬇️


proxy/cs_actions.c
74.77% <0%> (-1.36%)
⬇️


rawx-lib/src/attr_handler.c
53.24% <0%> (-1.3%)
⬇️


meta1v2/meta1_prefixes.c
78.61% <0%> (-1.26%)
⬇️


cluster/lib/gridcluster.c
37.57% <0%> (-1.22%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 45ff867...a1a8e6f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1128,2017-08-14T14:37:10Z,2017-08-14T15:15:10Z,2017-08-14T15:15:13Z,MERGED,True,99,65,4,https://github.com/fvennetier,Python API: rework get_meta_ranges function,1,"['priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1128,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1128,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1128,2017-08-14T14:37:10Z,2017-08-14T15:15:10Z,2017-08-14T15:15:13Z,MERGED,True,99,65,4,https://github.com/fvennetier,Python API: rework get_meta_ranges function,1,"['priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1128,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1128#issuecomment-322210457,,"Codecov Report

Merging #1128 into 4.0.x will decrease coverage by 0.02%.
The diff coverage is 67.5%.


@@            Coverage Diff             @@
##            4.0.x    #1128      +/-   ##
==========================================
- Coverage   67.84%   67.81%   -0.03%     
==========================================
  Files         227      227              
  Lines       44492    44492              
  Branches     6668     6668              
==========================================
- Hits        30184    30172      -12     
- Misses      13574    13583       +9     
- Partials      734      737       +3



Impacted Files
Coverage Δ





oio/api/ec.py
12.01% <ø> (-3.15%)
⬇️


oio/api/object_storage.py
38.25% <67.5%> (+2.46%)
⬆️


proxy/reply.c
73.8% <0%> (-7.15%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


core/proxy.c
81.9% <0%> (-1.91%)
⬇️


proxy/common.c
76.47% <0%> (-1.74%)
⬇️


core/str.c
87.81% <0%> (-1.53%)
⬇️


sqliterepo/replication.c
75.72% <0%> (-1.45%)
⬇️


meta1v2/meta1_prefixes.c
78.61% <0%> (-1.26%)
⬇️


cluster/lib/gridcluster.c
37.57% <0%> (-1.22%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 18488a9...b332837. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1129,2017-08-16T09:59:15Z,2017-08-16T10:17:56Z,2017-08-17T15:55:32Z,MERGED,True,1,1,1,https://github.com/kamel-rahim,CLI: Fix limit on objects full listing,1,[],https://github.com/open-io/oio-sds/pull/1129,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1129,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1129,2017-08-16T09:59:15Z,2017-08-16T10:17:56Z,2017-08-17T15:55:32Z,MERGED,True,1,1,1,https://github.com/kamel-rahim,CLI: Fix limit on objects full listing,1,[],https://github.com/open-io/oio-sds/pull/1129,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1129#issuecomment-322727805,,"Codecov Report

Merging #1129 into 4.0.x will decrease coverage by 4.47%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.0.x    #1129      +/-   ##
==========================================
- Coverage   68.09%   63.62%   -4.48%     
==========================================
  Files         227      204      -23     
  Lines       44492    40594    -3898     
  Branches     6668     6675       +7     
==========================================
- Hits        30295    25826    -4469     
+ Misses      13483    13234     -249     
- Partials      714     1534     +820



Impacted Files
Coverage Δ





sqliterepo/restoration.c
0% <0%> (-74.08%)
⬇️


meta0v2/zk_manager.c
0% <0%> (-61.72%)
⬇️


sqliterepo/version.c
25.17% <0%> (-53.15%)
⬇️


sqliterepo/synchro.c
6.85% <0%> (-51.72%)
⬇️


sqliterepo/gridd_client_pool.c
26.54% <0%> (-44.55%)
⬇️


sqliterepo/replication.c
33.52% <0%> (-43.65%)
⬇️


cluster/conscience/conscience_srv.h
60% <0%> (-40%)
⬇️


meta0v2/meta0_server.c
19.48% <0%> (-36.22%)
⬇️


metautils/lib/gridd_client_ext.c
48.5% <0%> (-32.47%)
⬇️


sqlx/sqlx_service.c
57.48% <0%> (-25.18%)
⬇️


... and 114 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update aa453fa...9be9725. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1133,2017-08-17T13:33:46Z,2017-08-17T14:37:29Z,2017-08-17T15:54:11Z,MERGED,True,15,5,2,https://github.com/AymericDu,"Python API: allow to set ""request_attempts"" for each request",1,[],https://github.com/open-io/oio-sds/pull/1133,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1133,Add number of attempts for each request in the event of ServiceBusy,Add number of attempts for each request in the event of ServiceBusy,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1133,2017-08-17T13:33:46Z,2017-08-17T14:37:29Z,2017-08-17T15:54:11Z,MERGED,True,15,5,2,https://github.com/AymericDu,"Python API: allow to set ""request_attempts"" for each request",1,[],https://github.com/open-io/oio-sds/pull/1133,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1133#issuecomment-323077867,Add number of attempts for each request in the event of ServiceBusy,"Codecov Report

Merging #1133 into 4.x will increase coverage by 0.07%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##             4.x    #1133      +/-   ##
=========================================
+ Coverage     75%   75.08%   +0.07%     
=========================================
  Files        294      294              
  Lines      53123    53129       +6     
  Branches    6608     6615       +7     
=========================================
+ Hits       39846    39890      +44     
- Misses     12688    12691       +3     
+ Partials     589      548      -41



Impacted Files
Coverage Δ





tests/functional/api/test_proxy_client.py
100% <100%> (ø)
⬆️


oio/common/client.py
100% <100%> (ø)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/crawler/storage_tierer.py
59.43% <0%> (-4.72%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


meta1v2/meta1_remote.c
72.22% <0%> (-2.39%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
66.96% <0%> (-1.81%)
⬇️


metautils/lib/gridd_client.c
73% <0%> (-1.52%)
⬇️


gridd/main/sock.c
61.76% <0%> (-1.48%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 60f8052...8ca2da0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1135,2017-08-18T09:54:03Z,2017-08-18T10:41:41Z,2017-08-18T13:25:27Z,MERGED,True,9,3,2,https://github.com/jfsmig,sqliterepo: Inhibit the test on stalled election,2,['priority:1 :goberserk:'],https://github.com/open-io/oio-sds/pull/1135,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1135,"Can be triggered back using 'sqliterepo.election.nowait.enable' (managed configuration), false by default until we discover where the transient timer (when_unstable) is not reset as expected.","Can be triggered back using 'sqliterepo.election.nowait.enable' (managed configuration), false by default until we discover where the transient timer (when_unstable) is not reset as expected.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1135,2017-08-18T09:54:03Z,2017-08-18T10:41:41Z,2017-08-18T13:25:27Z,MERGED,True,9,3,2,https://github.com/jfsmig,sqliterepo: Inhibit the test on stalled election,2,['priority:1 :goberserk:'],https://github.com/open-io/oio-sds/pull/1135,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1135#issuecomment-323314025,"Can be triggered back using 'sqliterepo.election.nowait.enable' (managed configuration), false by default until we discover where the transient timer (when_unstable) is not reset as expected.","Codecov Report

Merging #1135 into 4.0.x will decrease coverage by 0.45%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##            4.0.x    #1135      +/-   ##
==========================================
- Coverage   68.14%   67.69%   -0.46%     
==========================================
  Files         227      227              
  Lines       44492    44492              
  Branches     6668     6668              
==========================================
- Hits        30319    30118     -201     
- Misses      13521    13661     +140     
- Partials      652      713      +61



Impacted Files
Coverage Δ





sqliterepo/election.c
77.21% <0%> (-1.18%)
⬇️


sqliterepo/restoration.c
0% <0%> (-74.08%)
⬇️


sqliterepo/replication_dispatcher.c
32.98% <0%> (-4.87%)
⬇️


sqliterepo/repository.c
67.69% <0%> (-4.21%)
⬇️


sqliterepo/sqlite_utils.c
83.94% <0%> (-2.92%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


sqliterepo/replication.c
75.72% <0%> (-2.32%)
⬇️


cluster/module/module.c
67.94% <0%> (-1.49%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
65.29% <0%> (-1.37%)
⬇️


rawx-lib/src/attr_handler.c
53.24% <0%> (-1.3%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d503251...b8b2ff9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1136,2017-08-18T13:41:44Z,2017-08-22T09:58:14Z,2017-09-01T13:07:06Z,MERGED,True,79,20,12,https://github.com/kamel-rahim,Parallelize autocontainer object listing,5,[],https://github.com/open-io/oio-sds/pull/1136,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1136,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1136,2017-08-18T13:41:44Z,2017-08-22T09:58:14Z,2017-09-01T13:07:06Z,MERGED,True,79,20,12,https://github.com/kamel-rahim,Parallelize autocontainer object listing,5,[],https://github.com/open-io/oio-sds/pull/1136,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1136#issuecomment-323359489,,"Codecov Report

Merging #1136 into 4.x will decrease coverage by 0.4%.
The diff coverage is 83.33%.


@@            Coverage Diff             @@
##              4.x    #1136      +/-   ##
==========================================
- Coverage   75.17%   74.76%   -0.41%     
==========================================
  Files         291      291              
  Lines       53081    53089       +8     
  Branches     6608     6609       +1     
==========================================
- Hits        39901    39692     -209     
- Misses      12650    12736      +86     
- Partials      530      661     +131



Impacted Files
Coverage Δ





oio/api/object_storage.py
78.32% <ø> (-0.22%)
⬇️


meta2v2/meta2_filters_action_container.c
49.46% <100%> (-2.68%)
⬇️


oio/api/base.py
81.08% <100%> (+0.52%)
⬆️


oio/common/http.py
79.14% <100%> (ø)
⬆️


oio/container/client.py
67.62% <50%> (-0.56%)
⬇️


meta2v2/meta2_backend.c
70.57% <80%> (-4.68%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


oio/common/utils.py
57.17% <0%> (-4.54%)
⬇️


... and 41 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5748b1d...8af7e31. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1137,2017-08-18T13:42:40Z,2017-08-21T15:30:44Z,2017-08-21T15:50:25Z,CLOSED,False,98,6,6,https://github.com/AymericDu,4.0.x ContainerClient.content_create: Allow 3 attempts to register object metadata,3,[],https://github.com/open-io/oio-sds/pull/1137,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1137,"cherry-pick: 3ffd0c9 and 499677c
Allow 3 attempts to register object metadata","cherry-pick: 3ffd0c9 and 499677c
Allow 3 attempts to register object metadata",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1137,2017-08-18T13:42:40Z,2017-08-21T15:30:44Z,2017-08-21T15:50:25Z,CLOSED,False,98,6,6,https://github.com/AymericDu,4.0.x ContainerClient.content_create: Allow 3 attempts to register object metadata,3,[],https://github.com/open-io/oio-sds/pull/1137,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1137#issuecomment-323363804,"cherry-pick: 3ffd0c9 and 499677c
Allow 3 attempts to register object metadata","Codecov Report

Merging #1137 into 4.0.x will increase coverage by 0.02%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##           4.0.x    #1137      +/-   ##
=========================================
+ Coverage   67.8%   67.83%   +0.02%     
=========================================
  Files        227      227              
  Lines      44492    44492              
  Branches    6668     6668              
=========================================
+ Hits       30166    30179      +13     
+ Misses     13594    13585       -9     
+ Partials     732      728       -4



Impacted Files
Coverage Δ





oio/container/client.py
43.88% <ø> (ø)
⬆️


proxy/metacd_http.c
78.99% <0%> (-0.81%)
⬇️


core/http_put.c
92.62% <0%> (-0.51%)
⬇️


metautils/lib/utils_sockets.c
48.62% <0%> (-0.4%)
⬇️


metautils/lib/gridd_client_ext.c
80.22% <0%> (-0.38%)
⬇️


sqliterepo/repository.c
70.54% <0%> (-0.38%)
⬇️


sqliterepo/replication_dispatcher.c
34.19% <0%> (-0.25%)
⬇️


rdir/rdir.c
66.24% <0%> (-0.12%)
⬇️


proxy/cs_actions.c
74.77% <0%> (ø)
⬆️


metautils/lib/comm_converter.c
74.54% <0%> (ø)
⬆️


... and 12 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1213bba...a7c74cc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1137,2017-08-18T13:42:40Z,2017-08-21T15:30:44Z,2017-08-21T15:50:25Z,CLOSED,False,98,6,6,https://github.com/AymericDu,4.0.x ContainerClient.content_create: Allow 3 attempts to register object metadata,3,[],https://github.com/open-io/oio-sds/pull/1137,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/1137#issuecomment-323775840,"cherry-pick: 3ffd0c9 and 499677c
Allow 3 attempts to register object metadata",This undocumented new behavior has nothing to do in a maintenance branch.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1139,2017-08-21T15:47:58Z,2017-08-22T09:58:31Z,2017-08-23T09:31:37Z,MERGED,True,1,1,1,https://github.com/AymericDu,Python API: Allow 3 attempts to register object metadata,1,[],https://github.com/open-io/oio-sds/pull/1139,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1139,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1139,2017-08-21T15:47:58Z,2017-08-22T09:58:31Z,2017-08-23T09:31:37Z,MERGED,True,1,1,1,https://github.com/AymericDu,Python API: Allow 3 attempts to register object metadata,1,[],https://github.com/open-io/oio-sds/pull/1139,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1139#issuecomment-323784579,,"Codecov Report

Merging #1139 into master will decrease coverage by 0.41%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1139      +/-   ##
==========================================
- Coverage   75.17%   74.75%   -0.42%     
==========================================
  Files         291      291              
  Lines       53081    53081              
  Branches     6608     6608              
==========================================
- Hits        39901    39683     -218     
- Misses      12650    12737      +87     
- Partials      530      661     +131



Impacted Files
Coverage Δ





oio/container/client.py
68.18% <ø> (ø)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


oio/crawler/storage_tierer.py
59.43% <0%> (-5.67%)
⬇️


meta2v2/meta2_backend.c
70.69% <0%> (-4.56%)
⬇️


sqliterepo/replication_dispatcher.c
38.81% <0%> (-4.22%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-3.34%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


... and 34 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5748b1d...bbf25ff. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1142,2017-08-23T07:53:21Z,2017-08-24T09:43:10Z,2017-08-24T09:43:14Z,MERGED,True,160,132,8,https://github.com/fvennetier,Register and unlock services by batches,8,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1142,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1142,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1142,2017-08-23T07:53:21Z,2017-08-24T09:43:10Z,2017-08-24T09:43:14Z,MERGED,True,160,132,8,https://github.com/fvennetier,Register and unlock services by batches,8,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1142,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1142#issuecomment-324319050,,"Codecov Report

Merging #1142 into 4.x will decrease coverage by 0.17%.
The diff coverage is 94.52%.


@@            Coverage Diff             @@
##              4.x    #1142      +/-   ##
==========================================
- Coverage   75.45%   75.28%   -0.18%     
==========================================
  Files         291      291              
  Lines       53095    53088       -7     
  Branches     6604     6610       +6     
==========================================
- Hits        40062    39966      -96     
+ Misses      12622    12562      -60     
- Partials      411      560     +149



Impacted Files
Coverage Δ





metautils/lib/utils_service_info.c
86.3% <100%> (ø)
⬆️


tests/functional/conscience/test_conscience.py
100% <100%> (ø)
⬆️


tests/utils.py
89.54% <66.66%> (ø)
⬆️


proxy/cs_actions.c
91.85% <94.91%> (+13.18%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


sqliterepo/replication_client.c
21.42% <0%> (-4.29%)
⬇️


sqliterepo/replication_dispatcher.c
39.14% <0%> (-4.22%)
⬇️


meta2v2/meta2_backend.c
71.01% <0%> (-4.21%)
⬇️


sqliterepo/synchro.c
57.73% <0%> (-4.17%)
⬇️


... and 41 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update eb9806c...5f6273e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1144,2017-08-25T09:50:30Z,2017-08-25T11:59:14Z,2017-08-25T11:59:17Z,MERGED,True,2,3,1,https://github.com/fvennetier,Allow '~' in source file path,1,[],https://github.com/open-io/oio-sds/pull/1144,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1144,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1144,2017-08-25T09:50:30Z,2017-08-25T11:59:14Z,2017-08-25T11:59:17Z,MERGED,True,2,3,1,https://github.com/fvennetier,Allow '~' in source file path,1,[],https://github.com/open-io/oio-sds/pull/1144,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1144#issuecomment-324875798,,"Codecov Report

Merging #1144 into 4.x will increase coverage by 0.04%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1144      +/-   ##
==========================================
+ Coverage   75.49%   75.53%   +0.04%     
==========================================
  Files         291      291              
  Lines       53088    53088              
  Branches     6610     6610              
==========================================
+ Hits        40077    40099      +22     
- Misses      12546    12599      +53     
+ Partials      465      390      -75



Impacted Files
Coverage Δ





oio/account/client.py
81.39% <0%> (-5.82%)
⬇️


proxy/cs_actions.c
89.14% <0%> (-2.72%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


meta2v2/meta2_filters_action_container.c
52.31% <0%> (-1.78%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-1.24%)
⬇️


rawx-apache2/src/rawx_repository.c
48.15% <0%> (-1.23%)
⬇️


meta1v2/meta1_prefixes.c
82.63% <0%> (-1.2%)
⬇️


proxy/metacd_http.c
89.51% <0%> (-1.13%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b7acbb2...d932797. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1145,2017-08-25T10:42:27Z,2017-08-25T15:34:24Z,2017-08-28T07:16:29Z,MERGED,True,14,5,2,https://github.com/murlock,oio/backup: fix invalid restore,2,[],https://github.com/open-io/oio-sds/pull/1145,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1145,"A regression was introduced during f616a41 as same var size was
used to store HTTP Content-Length and object uploaded to SDS.
This commit fix that by introducing new variable name (req_size) for
HTTP Content-Length and enforce that total data consumed are now
same size as HTTP.
It also enforce test to ensure all objects put are really restored.
This PR will closes #1143","A regression was introduced during f616a41 as same var size was
used to store HTTP Content-Length and object uploaded to SDS.
This commit fix that by introducing new variable name (req_size) for
HTTP Content-Length and enforce that total data consumed are now
same size as HTTP.
It also enforce test to ensure all objects put are really restored.
This PR will closes #1143",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1145,2017-08-25T10:42:27Z,2017-08-25T15:34:24Z,2017-08-28T07:16:29Z,MERGED,True,14,5,2,https://github.com/murlock,oio/backup: fix invalid restore,2,[],https://github.com/open-io/oio-sds/pull/1145,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1145#issuecomment-324909851,"A regression was introduced during f616a41 as same var size was
used to store HTTP Content-Length and object uploaded to SDS.
This commit fix that by introducing new variable name (req_size) for
HTTP Content-Length and enforce that total data consumed are now
same size as HTTP.
It also enforce test to ensure all objects put are really restored.
This PR will closes #1143","Codecov Report

Merging #1145 into 4.0.x will decrease coverage by 0.09%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##            4.0.x    #1145     +/-   ##
=========================================
- Coverage   67.89%   67.79%   -0.1%     
=========================================
  Files         227      227             
  Lines       44495    44495             
  Branches     6663     6663             
=========================================
- Hits        30208    30165     -43     
- Misses      13561    13606     +45     
+ Partials      726      724      -2



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
81.31% <0%> (-3.61%)
⬇️


meta2v2/meta2_filters_action_container.c
46.78% <0%> (-3.22%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


metautils/lib/utils_syscall.c
50% <0%> (-1.52%)
⬇️


proxy/cs_actions.c
69.77% <0%> (-1.34%)
⬇️


meta1v2/meta1_prefixes.c
78.61% <0%> (-1.26%)
⬇️


cluster/lib/gridcluster.c
37.57% <0%> (-1.22%)
⬇️


metautils/lib/utils_sockets.c
48.23% <0%> (-1.18%)
⬇️


metautils/lib/gridd_client.c
71.27% <0%> (-1.08%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e18e30a...001bf91. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1147,2017-08-28T09:42:06Z,2017-09-21T07:20:50Z,2017-09-26T15:44:21Z,MERGED,True,1650,1273,119,https://github.com/AymericDu,Refactor Python API imports,5,[],https://github.com/open-io/oio-sds/pull/1147,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1147,"OpenIO CLI loads small client
Each command group has its client, that is:

account
container
object
reference
volume
directory
events
cluster

CLI only loads the right client according to the command.
ObjectStorageApi loads imports at the instantiation
oio/__init__.py import ObjectStorageApi to simplify its use and to access to its documentation easily. So if you want import oio.xxx, before you must load all dependencies inside to object_storage.py, even if you don't need it. Now, LazyLoader load ObjectStorageApi only when the constructor is called.
Before:
$ strace -c python
[...]
>>> import oio
>>>
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
55.07 0.000076 0 6639 5748 open

After:
$ strace -c python
[...]
>>> import oio
>>> 
% time     seconds  usecs/call     calls    errors syscall
------ ----------- ----------- --------- --------- ----------------
[...]
  0.00    0.000000           0      1266      1018 open

Split common/utils.py and common/http.py to reduce dependencies
utils.py and http.py has many imports and many functions. When you want import this module for only few functions, you must import many module useless for yours functions. Now, each independent part has its module.
Improvement
Before:
$ time openio events stats > /dev/null

real        0m0.453s
user        0m0.412s
sys        0m0.032s
$ strace -c openio events stats > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
75.00 0.000117 0 6952 5974 open
[...]
$ time openio cluster list > /dev/null

real        0m0.465s
user        0m0.428s
sys        0m0.028s
$ strace -c openio cluster list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
29.92 0.000038 0 7030 6043 open
[...]
$ time openio account list > /dev/null

real        0m0.464s
user        0m0.420s
sys        0m0.036s
$ strace -c openio account list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
86.89 0.000053 0 7094 6095 open
After:
$ time openio events stats > /dev/null

real        0m0.350s
user        0m0.340s
sys        0m0.004s
$ strace -c openio events stats > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
26.67 0.000012 0 5348 4614 open
[...]
$ time openio cluster list > /dev/null

real        0m0.416s
user        0m0.384s
sys        0m0.024s
$ strace -c openio cluster list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
54.88 0.000045 0 5971 5141 open
[...]
$ time openio account list > /dev/null

real        0m0.444s
user        0m0.384s
sys        0m0.056s
$ strace -c openio account list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
28.57 0.000006 0 6924 5935 open
[...]","OpenIO CLI loads small client
Each command group has its client, that is:

account
container
object
reference
volume
directory
events
cluster

CLI only loads the right client according to the command.
ObjectStorageApi loads imports at the instantiation
oio/__init__.py import ObjectStorageApi to simplify its use and to access to its documentation easily. So if you want import oio.xxx, before you must load all dependencies inside to object_storage.py, even if you don't need it. Now, LazyLoader load ObjectStorageApi only when the constructor is called.
Before:
$ strace -c python
[...]
>>> import oio
>>>
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
55.07 0.000076 0 6639 5748 open

After:
$ strace -c python
[...]
>>> import oio
>>> 
% time     seconds  usecs/call     calls    errors syscall
------ ----------- ----------- --------- --------- ----------------
[...]
  0.00    0.000000           0      1266      1018 open

Split common/utils.py and common/http.py to reduce dependencies
utils.py and http.py has many imports and many functions. When you want import this module for only few functions, you must import many module useless for yours functions. Now, each independent part has its module.
Improvement
Before:
$ time openio events stats > /dev/null

real        0m0.453s
user        0m0.412s
sys        0m0.032s
$ strace -c openio events stats > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
75.00 0.000117 0 6952 5974 open
[...]
$ time openio cluster list > /dev/null

real        0m0.465s
user        0m0.428s
sys        0m0.028s
$ strace -c openio cluster list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
29.92 0.000038 0 7030 6043 open
[...]
$ time openio account list > /dev/null

real        0m0.464s
user        0m0.420s
sys        0m0.036s
$ strace -c openio account list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
86.89 0.000053 0 7094 6095 open
After:
$ time openio events stats > /dev/null

real        0m0.350s
user        0m0.340s
sys        0m0.004s
$ strace -c openio events stats > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
26.67 0.000012 0 5348 4614 open
[...]
$ time openio cluster list > /dev/null

real        0m0.416s
user        0m0.384s
sys        0m0.024s
$ strace -c openio cluster list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
54.88 0.000045 0 5971 5141 open
[...]
$ time openio account list > /dev/null

real        0m0.444s
user        0m0.384s
sys        0m0.056s
$ strace -c openio account list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
28.57 0.000006 0 6924 5935 open
[...]",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1147,2017-08-28T09:42:06Z,2017-09-21T07:20:50Z,2017-09-26T15:44:21Z,MERGED,True,1650,1273,119,https://github.com/AymericDu,Refactor Python API imports,5,[],https://github.com/open-io/oio-sds/pull/1147,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1147#issuecomment-325315193,"OpenIO CLI loads small client
Each command group has its client, that is:

account
container
object
reference
volume
directory
events
cluster

CLI only loads the right client according to the command.
ObjectStorageApi loads imports at the instantiation
oio/__init__.py import ObjectStorageApi to simplify its use and to access to its documentation easily. So if you want import oio.xxx, before you must load all dependencies inside to object_storage.py, even if you don't need it. Now, LazyLoader load ObjectStorageApi only when the constructor is called.
Before:
$ strace -c python
[...]
>>> import oio
>>>
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
55.07 0.000076 0 6639 5748 open

After:
$ strace -c python
[...]
>>> import oio
>>> 
% time     seconds  usecs/call     calls    errors syscall
------ ----------- ----------- --------- --------- ----------------
[...]
  0.00    0.000000           0      1266      1018 open

Split common/utils.py and common/http.py to reduce dependencies
utils.py and http.py has many imports and many functions. When you want import this module for only few functions, you must import many module useless for yours functions. Now, each independent part has its module.
Improvement
Before:
$ time openio events stats > /dev/null

real        0m0.453s
user        0m0.412s
sys        0m0.032s
$ strace -c openio events stats > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
75.00 0.000117 0 6952 5974 open
[...]
$ time openio cluster list > /dev/null

real        0m0.465s
user        0m0.428s
sys        0m0.028s
$ strace -c openio cluster list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
29.92 0.000038 0 7030 6043 open
[...]
$ time openio account list > /dev/null

real        0m0.464s
user        0m0.420s
sys        0m0.036s
$ strace -c openio account list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
86.89 0.000053 0 7094 6095 open
After:
$ time openio events stats > /dev/null

real        0m0.350s
user        0m0.340s
sys        0m0.004s
$ strace -c openio events stats > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
26.67 0.000012 0 5348 4614 open
[...]
$ time openio cluster list > /dev/null

real        0m0.416s
user        0m0.384s
sys        0m0.024s
$ strace -c openio cluster list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
54.88 0.000045 0 5971 5141 open
[...]
$ time openio account list > /dev/null

real        0m0.444s
user        0m0.384s
sys        0m0.056s
$ strace -c openio account list > /dev/null
% time seconds usecs/call calls errors syscall
------ ----------- ----------- --------- --------- ----------------
28.57 0.000006 0 6924 5935 open
[...]","Codecov Report

Merging #1147 into 4.x will decrease coverage by 0.3%.
The diff coverage is 74.48%.


@@            Coverage Diff             @@
##              4.x    #1147      +/-   ##
==========================================
- Coverage   75.58%   75.28%   -0.31%     
==========================================
  Files         292      302      +10     
  Lines       53519    53575      +56     
  Branches     6611     6611              
==========================================
- Hits        40455    40334     -121     
- Misses      12607    12673      +66     
- Partials      457      568     +111



Impacted Files
Coverage Δ





tests/functional/cli/container/test_container.py
97.29% <ø> (ø)



tests/functional/cli/account/test_account.py
100% <ø> (ø)



tests/functional/cli/cluster/test_cluster.py
100% <ø> (ø)



tests/functional/cli/reference/test_reference.py
100% <ø> (ø)



oio/content/ec.py
58.92% <100%> (ø)
⬆️


tests/functional/api/test_objectstorage.py
95.79% <100%> (ø)
⬆️


tests/functional/rdir/test_indexer.py
98.57% <100%> (ø)
⬆️


oio/event/beanstalk.py
61.18% <100%> (ø)
⬆️


oio/blob/auditor.py
61.14% <100%> (+0.5%)
⬆️


oio/event/filters/notify.py
64% <100%> (ø)
⬆️


... and 109 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ce01c96...dfc24ad. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1148,2017-08-28T14:50:18Z,2017-08-28T16:38:15Z,2017-08-28T16:38:18Z,MERGED,True,15,15,3,https://github.com/fvennetier,Storage tierer: fix CID generation and API usage,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1148,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1148,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1148,2017-08-28T14:50:18Z,2017-08-28T16:38:15Z,2017-08-28T16:38:18Z,MERGED,True,15,15,3,https://github.com/fvennetier,Storage tierer: fix CID generation and API usage,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1148,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1148#issuecomment-325378544,,"Codecov Report

Merging #1148 into 4.0.x will decrease coverage by 0.24%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##            4.0.x    #1148      +/-   ##
==========================================
- Coverage   68.14%   67.89%   -0.25%     
==========================================
  Files         227      227              
  Lines       44495    44492       -3     
  Branches     6663     6663              
==========================================
- Hits        30320    30210     -110     
- Misses      13545    13573      +28     
- Partials      630      709      +79



Impacted Files
Coverage Δ





oio/common/utils.py
37.56% <50%> (+0.28%)
⬆️


meta1v2/meta1_backend_properties.c
67.62% <0%> (-20.15%)
⬇️


meta1v2/meta1_backend_references.c
56.12% <0%> (-15.31%)
⬇️


meta2v2/meta2_filters_action_content.c
81.31% <0%> (-3.61%)
⬇️


meta1v2/meta1_backend_services.c
52.25% <0%> (-3.61%)
⬇️


sqliterepo/sqlite_utils.c
83.94% <0%> (-2.92%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
66.66% <0%> (-2.74%)
⬇️


meta1v2/meta1_backend_internals.c
71.66% <0%> (-2.5%)
⬇️


meta1v2/compound_types.c
83.01% <0%> (-1.89%)
⬇️


meta2v2/meta2_filters_action_container.c
47.85% <0%> (-1.79%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 00ff664...1e35237. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1150,2017-08-29T07:51:03Z,2017-09-01T07:44:57Z,2017-09-13T12:42:05Z,MERGED,True,62,5,7,https://github.com/AymericDu,CLI: Make 'account/container show' human readable,1,[],https://github.com/open-io/oio-sds/pull/1150,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1150,"See #1140
$ openio account show myaccount
+------------+------------+
| Field      | Value      |
+------------+------------+
| account    | myaccount  |
| bytes      | 354.605KB  |
| containers | 7          |
| ctime      | 1503937834 |
| metadata   | {}         |
| objects    | 1          |
+------------+------------+
$ openio container show test
+----------------+--------------------------------------------------------------------+
| Field          | Value                                                              |
+----------------+--------------------------------------------------------------------+
| account        | myaccount                                                          |
| base_name      | 0A826191AEA91051840F917C5AB84187594E012BB33FD600259D271ADBA1B296.1 |
| bytes_usage    | 354.605KB                                                          |
| container      | test                                                               |
| ctime          | 1503992822                                                         |
| max_versions   | Namespace default                                                  |
| objects        | 1                                                                  |
| quota          | Namespace default                                                  |
| storage_policy | Namespace default                                                  |
+----------------+--------------------------------------------------------------------+","See #1140
$ openio account show myaccount
+------------+------------+
| Field      | Value      |
+------------+------------+
| account    | myaccount  |
| bytes      | 354.605KB  |
| containers | 7          |
| ctime      | 1503937834 |
| metadata   | {}         |
| objects    | 1          |
+------------+------------+
$ openio container show test
+----------------+--------------------------------------------------------------------+
| Field          | Value                                                              |
+----------------+--------------------------------------------------------------------+
| account        | myaccount                                                          |
| base_name      | 0A826191AEA91051840F917C5AB84187594E012BB33FD600259D271ADBA1B296.1 |
| bytes_usage    | 354.605KB                                                          |
| container      | test                                                               |
| ctime          | 1503992822                                                         |
| max_versions   | Namespace default                                                  |
| objects        | 1                                                                  |
| quota          | Namespace default                                                  |
| storage_policy | Namespace default                                                  |
+----------------+--------------------------------------------------------------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1150,2017-08-29T07:51:03Z,2017-09-01T07:44:57Z,2017-09-13T12:42:05Z,MERGED,True,62,5,7,https://github.com/AymericDu,CLI: Make 'account/container show' human readable,1,[],https://github.com/open-io/oio-sds/pull/1150,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1150#issuecomment-325596675,"See #1140
$ openio account show myaccount
+------------+------------+
| Field      | Value      |
+------------+------------+
| account    | myaccount  |
| bytes      | 354.605KB  |
| containers | 7          |
| ctime      | 1503937834 |
| metadata   | {}         |
| objects    | 1          |
+------------+------------+
$ openio container show test
+----------------+--------------------------------------------------------------------+
| Field          | Value                                                              |
+----------------+--------------------------------------------------------------------+
| account        | myaccount                                                          |
| base_name      | 0A826191AEA91051840F917C5AB84187594E012BB33FD600259D271ADBA1B296.1 |
| bytes_usage    | 354.605KB                                                          |
| container      | test                                                               |
| ctime          | 1503992822                                                         |
| max_versions   | Namespace default                                                  |
| objects        | 1                                                                  |
| quota          | Namespace default                                                  |
| storage_policy | Namespace default                                                  |
+----------------+--------------------------------------------------------------------+","Codecov Report

Merging #1150 into 4.x will increase coverage by 0.18%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1150      +/-   ##
==========================================
+ Coverage   75.63%   75.82%   +0.18%     
==========================================
  Files         291      291              
  Lines       53131    53165      +34     
  Branches     6610     6616       +6     
==========================================
+ Hits        40187    40310     +123     
- Misses      12570    12575       +5     
+ Partials      374      280      -94



Impacted Files
Coverage Δ





tests/functional/cli/storage/test_container.py
97.29% <100%> (+0.63%)
⬆️


oio/common/utils.py
62.62% <100%> (+2.21%)
⬆️


tests/unit/common/test_utils.py
100% <100%> (ø)
⬆️


tests/functional/cli/storage/test_account.py
100% <100%> (ø)
⬆️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


sqliterepo/replication_dispatcher.c
40.76% <0%> (-4.79%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-3.34%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-1.93%)
⬇️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 363f823...297265a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1154,2017-08-30T16:59:41Z,2017-08-30T17:10:26Z,2017-08-30T17:13:41Z,MERGED,True,105,37,6,https://github.com/fvennetier,Fix issues with storage-tierer and mime-type and properties,2,"['bug :scream:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1154,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1154,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1154,2017-08-30T16:59:41Z,2017-08-30T17:10:26Z,2017-08-30T17:13:41Z,MERGED,True,105,37,6,https://github.com/fvennetier,Fix issues with storage-tierer and mime-type and properties,2,"['bug :scream:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1154,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1154#issuecomment-326057089,,"Codecov Report

Merging #1154 into 4.0.x will decrease coverage by 0.28%.
The diff coverage is 54.9%.


@@            Coverage Diff             @@
##            4.0.x    #1154      +/-   ##
==========================================
- Coverage   68.18%   67.89%   -0.29%     
==========================================
  Files         227      227              
  Lines       44492    44518      +26     
  Branches     6663     6664       +1     
==========================================
- Hits        30336    30226     -110     
- Misses      13486    13575      +89     
- Partials      670      717      +47



Impacted Files
Coverage Δ





oio/content/ec.py
16.98% <0%> (+2.22%)
⬆️


oio/content/plain.py
37.5% <100%> (-7.82%)
⬇️


oio/content/factory.py
57.14% <6.66%> (-17.86%)
⬇️


oio/container/client.py
42.97% <71.42%> (-0.91%)
⬇️


oio/content/content.py
52.38% <80.76%> (+3.89%)
⬆️


gridd/main/srvalert.c
0% <0%> (-45.17%)
⬇️


meta0v2/meta0_remote.c
43.33% <0%> (-5%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


sqliterepo/replication_dispatcher.c
34.52% <0%> (-3.33%)
⬇️


meta2v2/meta2_filters_action_container.c
48.21% <0%> (-2.5%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c3cbcdc...11bfd50. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1155,2017-08-31T09:49:29Z,2017-09-01T08:03:48Z,2017-09-01T13:09:50Z,MERGED,True,30,4,5,https://github.com/kamel-rahim,Container drain:  add small fixes and tests,4,[],https://github.com/open-io/oio-sds/pull/1155,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1155,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1155,2017-08-31T09:49:29Z,2017-09-01T08:03:48Z,2017-09-01T13:09:50Z,MERGED,True,30,4,5,https://github.com/kamel-rahim,Container drain:  add small fixes and tests,4,[],https://github.com/open-io/oio-sds/pull/1155,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1155#issuecomment-326249553,,"Codecov Report

Merging #1155 into 4.x will decrease coverage by 0.33%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##              4.x   #1155      +/-   ##
=========================================
- Coverage   75.63%   75.3%   -0.34%     
=========================================
  Files         291     291              
  Lines       53131   53145      +14     
  Branches     6610    6610              
=========================================
- Hits        40187   40021     -166     
- Misses      12570   12606      +36     
- Partials      374     518     +144



Impacted Files
Coverage Δ





oio/container/client.py
68.67% <100%> (ø)
⬆️


tests/functional/container/test_container.py
98.82% <100%> (ø)
⬆️


tests/functional/cli/storage/test_obj.py
100% <100%> (ø)
⬆️


meta2v2/meta2_filters_action_content.c
89.19% <100%> (+0.65%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


sqliterepo/replication_dispatcher.c
39.62% <0%> (-5.92%)
⬇️


oio/account/client.py
81.39% <0%> (-4.66%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 363f823...0ec7e70. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1156,2017-08-31T09:52:41Z,2017-09-01T08:56:12Z,2017-09-13T12:41:59Z,MERGED,True,35,4,2,https://github.com/AymericDu,Python API: Add consistency to the endpoint,1,[],https://github.com/open-io/oio-sds/pull/1156,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1156,"See #1151
>>> from oio import ObjectStorageApi
>>> storage = ObjectStorageApi(""OPENIO"", endpoint=""127.0.0.1:6000"")
>>> storage.container_create(""myaccount"", ""test"")
True
>>> storage.object_list(""myaccount"", ""test"")
{'prefixes': [], 'objects': [], 'properties': {}, 'system': {'sys.m2.usage': '0', 'sys.peers': '127.0.0.1:6016,127.0.0.1:6015,127.0.0.1:6018', 'sys.type': 'meta2', 'sys.m2.version': '0', 'sys.name': '0A826191AEA91051840F917C5AB84187594E012BB33FD600259D271ADBA1B296.1', 'sys.m2.init': '1', 'sys.ns': 'OPENIO', 'sys.user.name': 'test', 'sys.m2.ctime': '1504172359662371', 'sys.m2.objects': '0', 'sys.account': 'myaccount'}}
>>> storage.container_list(""myaccount"")
[['06EE0', 0, 0, 0], ['ff54f3f94ea54506a4ffe81b24a8841e', 0, 0, 0], ['test', 0, 0, 0]]
>>> storage.object_create(""myaccount"", ""test"", data=""Hello World!"", obj_name=""test"")
([{'url': 'http://127.0.0.1:6024/F9C93080347FFB2486737E80974A3C6A3DF2330491B54E0484339A5E5B6DC119', 'score': 83, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6022/8FEF69B349DB847F78201DE389781DBED32D4147A30F6897C4A1BF41886A3F2E', 'score': 83, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6023/15D6010DD5A8C9ED1B230C621363DB93CD8EB9005A4AB1F17EFA26C905A7D58D', 'score': 83, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}], 12, 'ed076287532e86365e841e92bfc50d8c')
>>> 
>>> storage = ObjectStorageApi(""OPENIO"", endpoint=""http://127.0.0.1:6000"")
>>> storage.container_create(""myaccount"", ""test2"")
True
>>> storage.object_list(""myaccount"", ""test2"")
{'prefixes': [], 'objects': [], 'properties': {}, 'system': {'sys.m2.usage': '0', 'sys.peers': '127.0.0.1:6018,127.0.0.1:6015,127.0.0.1:6016', 'sys.type': 'meta2', 'sys.m2.version': '0', 'sys.name': '901C19C8D5E7B921EA392B468C5784C4B761C4E331B4FF50EB1A63C44607DD0B.1', 'sys.m2.init': '1', 'sys.ns': 'OPENIO', 'sys.user.name': 'test2', 'sys.m2.ctime': '1504172562140904', 'sys.m2.objects': '0', 'sys.account': 'myaccount'}}
>>> storage.container_list(""myaccount"")
[['06EE0', 0, 0, 0], ['ff54f3f94ea54506a4ffe81b24a8841e', 0, 0, 0], ['test', 1, 12, 0], ['test2', 0, 0, 0]]
>>> storage.object_create(""myaccount"", ""test2"", data=""Hello World!"", obj_name=""test"")
([{'url': 'http://127.0.0.1:6024/5E22E41AD5A3EEA4ED74BE12ADEA28BC9F52F692AA9647015647B13E5066FD14', 'score': 84, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6022/DEF6BB05F070360BFBAD8C7DC26D20EE3D2747597FFED8320A2FC7509ED7C17C', 'score': 84, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6023/ADBAA91F352141777E9C71E1929179DFFC2E215002C38848B8E85F62CBBD429E', 'score': 84, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}], 12, 'ed076287532e86365e841e92bfc50d8c')","See #1151
>>> from oio import ObjectStorageApi
>>> storage = ObjectStorageApi(""OPENIO"", endpoint=""127.0.0.1:6000"")
>>> storage.container_create(""myaccount"", ""test"")
True
>>> storage.object_list(""myaccount"", ""test"")
{'prefixes': [], 'objects': [], 'properties': {}, 'system': {'sys.m2.usage': '0', 'sys.peers': '127.0.0.1:6016,127.0.0.1:6015,127.0.0.1:6018', 'sys.type': 'meta2', 'sys.m2.version': '0', 'sys.name': '0A826191AEA91051840F917C5AB84187594E012BB33FD600259D271ADBA1B296.1', 'sys.m2.init': '1', 'sys.ns': 'OPENIO', 'sys.user.name': 'test', 'sys.m2.ctime': '1504172359662371', 'sys.m2.objects': '0', 'sys.account': 'myaccount'}}
>>> storage.container_list(""myaccount"")
[['06EE0', 0, 0, 0], ['ff54f3f94ea54506a4ffe81b24a8841e', 0, 0, 0], ['test', 0, 0, 0]]
>>> storage.object_create(""myaccount"", ""test"", data=""Hello World!"", obj_name=""test"")
([{'url': 'http://127.0.0.1:6024/F9C93080347FFB2486737E80974A3C6A3DF2330491B54E0484339A5E5B6DC119', 'score': 83, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6022/8FEF69B349DB847F78201DE389781DBED32D4147A30F6897C4A1BF41886A3F2E', 'score': 83, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6023/15D6010DD5A8C9ED1B230C621363DB93CD8EB9005A4AB1F17EFA26C905A7D58D', 'score': 83, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}], 12, 'ed076287532e86365e841e92bfc50d8c')
>>> 
>>> storage = ObjectStorageApi(""OPENIO"", endpoint=""http://127.0.0.1:6000"")
>>> storage.container_create(""myaccount"", ""test2"")
True
>>> storage.object_list(""myaccount"", ""test2"")
{'prefixes': [], 'objects': [], 'properties': {}, 'system': {'sys.m2.usage': '0', 'sys.peers': '127.0.0.1:6018,127.0.0.1:6015,127.0.0.1:6016', 'sys.type': 'meta2', 'sys.m2.version': '0', 'sys.name': '901C19C8D5E7B921EA392B468C5784C4B761C4E331B4FF50EB1A63C44607DD0B.1', 'sys.m2.init': '1', 'sys.ns': 'OPENIO', 'sys.user.name': 'test2', 'sys.m2.ctime': '1504172562140904', 'sys.m2.objects': '0', 'sys.account': 'myaccount'}}
>>> storage.container_list(""myaccount"")
[['06EE0', 0, 0, 0], ['ff54f3f94ea54506a4ffe81b24a8841e', 0, 0, 0], ['test', 1, 12, 0], ['test2', 0, 0, 0]]
>>> storage.object_create(""myaccount"", ""test2"", data=""Hello World!"", obj_name=""test"")
([{'url': 'http://127.0.0.1:6024/5E22E41AD5A3EEA4ED74BE12ADEA28BC9F52F692AA9647015647B13E5066FD14', 'score': 84, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6022/DEF6BB05F070360BFBAD8C7DC26D20EE3D2747597FFED8320A2FC7509ED7C17C', 'score': 84, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6023/ADBAA91F352141777E9C71E1929179DFFC2E215002C38848B8E85F62CBBD429E', 'score': 84, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}], 12, 'ed076287532e86365e841e92bfc50d8c')",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1156,2017-08-31T09:52:41Z,2017-09-01T08:56:12Z,2017-09-13T12:41:59Z,MERGED,True,35,4,2,https://github.com/AymericDu,Python API: Add consistency to the endpoint,1,[],https://github.com/open-io/oio-sds/pull/1156,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1156#issuecomment-326251748,"See #1151
>>> from oio import ObjectStorageApi
>>> storage = ObjectStorageApi(""OPENIO"", endpoint=""127.0.0.1:6000"")
>>> storage.container_create(""myaccount"", ""test"")
True
>>> storage.object_list(""myaccount"", ""test"")
{'prefixes': [], 'objects': [], 'properties': {}, 'system': {'sys.m2.usage': '0', 'sys.peers': '127.0.0.1:6016,127.0.0.1:6015,127.0.0.1:6018', 'sys.type': 'meta2', 'sys.m2.version': '0', 'sys.name': '0A826191AEA91051840F917C5AB84187594E012BB33FD600259D271ADBA1B296.1', 'sys.m2.init': '1', 'sys.ns': 'OPENIO', 'sys.user.name': 'test', 'sys.m2.ctime': '1504172359662371', 'sys.m2.objects': '0', 'sys.account': 'myaccount'}}
>>> storage.container_list(""myaccount"")
[['06EE0', 0, 0, 0], ['ff54f3f94ea54506a4ffe81b24a8841e', 0, 0, 0], ['test', 0, 0, 0]]
>>> storage.object_create(""myaccount"", ""test"", data=""Hello World!"", obj_name=""test"")
([{'url': 'http://127.0.0.1:6024/F9C93080347FFB2486737E80974A3C6A3DF2330491B54E0484339A5E5B6DC119', 'score': 83, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6022/8FEF69B349DB847F78201DE389781DBED32D4147A30F6897C4A1BF41886A3F2E', 'score': 83, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6023/15D6010DD5A8C9ED1B230C621363DB93CD8EB9005A4AB1F17EFA26C905A7D58D', 'score': 83, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}], 12, 'ed076287532e86365e841e92bfc50d8c')
>>> 
>>> storage = ObjectStorageApi(""OPENIO"", endpoint=""http://127.0.0.1:6000"")
>>> storage.container_create(""myaccount"", ""test2"")
True
>>> storage.object_list(""myaccount"", ""test2"")
{'prefixes': [], 'objects': [], 'properties': {}, 'system': {'sys.m2.usage': '0', 'sys.peers': '127.0.0.1:6018,127.0.0.1:6015,127.0.0.1:6016', 'sys.type': 'meta2', 'sys.m2.version': '0', 'sys.name': '901C19C8D5E7B921EA392B468C5784C4B761C4E331B4FF50EB1A63C44607DD0B.1', 'sys.m2.init': '1', 'sys.ns': 'OPENIO', 'sys.user.name': 'test2', 'sys.m2.ctime': '1504172562140904', 'sys.m2.objects': '0', 'sys.account': 'myaccount'}}
>>> storage.container_list(""myaccount"")
[['06EE0', 0, 0, 0], ['ff54f3f94ea54506a4ffe81b24a8841e', 0, 0, 0], ['test', 1, 12, 0], ['test2', 0, 0, 0]]
>>> storage.object_create(""myaccount"", ""test2"", data=""Hello World!"", obj_name=""test"")
([{'url': 'http://127.0.0.1:6024/5E22E41AD5A3EEA4ED74BE12ADEA28BC9F52F692AA9647015647B13E5066FD14', 'score': 84, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6022/DEF6BB05F070360BFBAD8C7DC26D20EE3D2747597FFED8320A2FC7509ED7C17C', 'score': 84, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}, {'url': 'http://127.0.0.1:6023/ADBAA91F352141777E9C71E1929179DFFC2E215002C38848B8E85F62CBBD429E', 'score': 84, 'hash': 'ed076287532e86365e841e92bfc50d8c', 'pos': '0', 'size': 12}], 12, 'ed076287532e86365e841e92bfc50d8c')","Codecov Report

Merging #1156 into 4.0.x will increase coverage by 0.05%.
The diff coverage is 66.66%.


@@            Coverage Diff             @@
##            4.0.x    #1156      +/-   ##
==========================================
+ Coverage   67.91%   67.97%   +0.05%     
==========================================
  Files         227      227              
  Lines       44518    44517       -1     
  Branches     6664     6664              
==========================================
+ Hits        30236    30260      +24     
- Misses      13566    13628      +62     
+ Partials      716      629      -87



Impacted Files
Coverage Δ





oio/common/client.py
96.77% <66.66%> (+3.02%)
⬆️


meta2v2/meta2_filters_action_container.c
46.42% <0%> (-3.93%)
⬇️


sqliterepo/election.c
75.72% <0%> (-2.54%)
⬇️


meta2v2/meta2_filters_action_content.c
82.95% <0%> (-1.64%)
⬇️


core/cs.c
65.62% <0%> (-0.9%)
⬇️


cluster/conscience/conscience.c
72.41% <0%> (-0.69%)
⬇️


meta2v2/meta2_backend.c
69.4% <0%> (-0.68%)
⬇️


rawx-lib/src/attr_handler.c
53.24% <0%> (-0.65%)
⬇️


metautils/lib/gridd_client.c
71.27% <0%> (-0.65%)
⬇️


sqlx/sqlx_service.c
81.16% <0%> (-0.6%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e585003...ff76168. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1157,2017-09-04T13:41:52Z,2017-09-06T14:22:18Z,2018-06-13T13:48:09Z,MERGED,True,494,154,5,https://github.com/murlock,Refactor backup restoration code,7,[],https://github.com/open-io/oio-sds/pull/1157,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1157,"Rework restore code (split code in several methods of a dedicated object)
Enforce Unit Test to detect 500 errors when no RAWX is available
Add lock to avoid concurrency restoration requests
In case of connectivity issues, store position to allow continue restoration at last know position (more test needed to cover all cases)
Add support of truncate for Python API
Add support to overwrite a chunk for Python API (used at this time for truncate use)","Rework restore code (split code in several methods of a dedicated object)
Enforce Unit Test to detect 500 errors when no RAWX is available
Add lock to avoid concurrency restoration requests
In case of connectivity issues, store position to allow continue restoration at last know position (more test needed to cover all cases)
Add support of truncate for Python API
Add support to overwrite a chunk for Python API (used at this time for truncate use)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1157,2017-09-04T13:41:52Z,2017-09-06T14:22:18Z,2018-06-13T13:48:09Z,MERGED,True,494,154,5,https://github.com/murlock,Refactor backup restoration code,7,[],https://github.com/open-io/oio-sds/pull/1157,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1157#issuecomment-326968700,"Rework restore code (split code in several methods of a dedicated object)
Enforce Unit Test to detect 500 errors when no RAWX is available
Add lock to avoid concurrency restoration requests
In case of connectivity issues, store position to allow continue restoration at last know position (more test needed to cover all cases)
Add support of truncate for Python API
Add support to overwrite a chunk for Python API (used at this time for truncate use)","Codecov Report

Merging #1157 into 4.0.x will increase coverage by 0.27%.
The diff coverage is 20%.


@@            Coverage Diff             @@
##            4.0.x    #1157      +/-   ##
==========================================
+ Coverage   67.68%   67.96%   +0.27%     
==========================================
  Files         227      227              
  Lines       44517    44546      +29     
  Branches     6664     6664              
==========================================
+ Hits        30131    30274     +143     
+ Misses      13648    13563      -85     
+ Partials      738      709      -29



Impacted Files
Coverage Δ





oio/api/object_storage.py
37.5% <20%> (-0.76%)
⬇️


oio/container/client.py
42.06% <20%> (-0.92%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


meta2v2/meta2_filters_action_container.c
48.21% <0%> (-0.72%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
59.88% <0%> (-0.57%)
⬇️


meta0v2/meta0_backend.c
55.61% <0%> (-0.53%)
⬇️


server/slab.c
64.61% <0%> (-0.52%)
⬇️


core/cs.c
66.07% <0%> (-0.45%)
⬇️


gridd/main/sock.c
35.81% <0%> (-0.28%)
⬇️


metautils/lib/comm_message.c
84.73% <0%> (-0.27%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ba6be85...fc0fc72. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1158,2017-09-04T15:11:05Z,2017-09-20T08:47:16Z,2017-09-20T08:52:34Z,MERGED,True,542,309,35,https://github.com/jfsmig,Prepare the sharding of containers,20,[],https://github.com/open-io/oio-sds/pull/1158,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1158,"Alter the meta1 semantics to manage atomic link/relink
Ensure the sequence number is set to a strictly positive value
Prepare some handy helpers around message parsing
Define a maximum number of contents in a container","Alter the meta1 semantics to manage atomic link/relink
Ensure the sequence number is set to a strictly positive value
Prepare some handy helpers around message parsing
Define a maximum number of contents in a container",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1158,2017-09-04T15:11:05Z,2017-09-20T08:47:16Z,2017-09-20T08:52:34Z,MERGED,True,542,309,35,https://github.com/jfsmig,Prepare the sharding of containers,20,[],https://github.com/open-io/oio-sds/pull/1158,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1158#issuecomment-326986865,"Alter the meta1 semantics to manage atomic link/relink
Ensure the sequence number is set to a strictly positive value
Prepare some handy helpers around message parsing
Define a maximum number of contents in a container","Codecov Report

Merging #1158 into master will decrease coverage by 0.22%.
The diff coverage is 82.97%.


@@            Coverage Diff             @@
##           master    #1158      +/-   ##
==========================================
- Coverage   75.81%   75.59%   -0.23%     
==========================================
  Files         292      293       +1     
  Lines       53519    53604      +85     
  Branches     6611     6607       -4     
==========================================
- Hits        40576    40522      -54     
- Misses      12547    12648     +101     
- Partials      396      434      +38



Impacted Files
Coverage Δ





sqliterepo/sqlite_utils.h
100% <ø> (ø)
⬆️


meta2v2/meta2_gridd_dispatcher.c
75% <ø> (+6.81%)
⬆️


metautils/lib/metacomm.h
100% <ø> (ø)
⬆️


proxy/m2_actions.c
81.99% <ø> (ø)
⬆️


meta1v2/meta1_prefixes.c
82.63% <ø> (ø)
⬆️


sqliterepo/sqlite_utils.c
84.39% <0%> (-2.47%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
69.68% <100%> (+0.27%)
⬆️


sqliterepo/repository.c
72.06% <100%> (-0.34%)
⬇️


meta1v2/meta1_backend.c
94.11% <100%> (+0.24%)
⬆️


server/transport_gridd.c
68.86% <100%> (-0.13%)
⬇️


... and 56 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3216c4f...3bb014e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1159,2017-09-04T16:01:21Z,2017-10-30T15:40:55Z,2017-10-30T15:40:58Z,MERGED,True,1725,66,18,https://github.com/fvennetier,Lifecycle: core elements,6,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1159,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1159,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1159,2017-09-04T16:01:21Z,2017-10-30T15:40:55Z,2017-10-30T15:40:58Z,MERGED,True,1725,66,18,https://github.com/fvennetier,Lifecycle: core elements,6,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1159,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1159#issuecomment-337822058,,"Codecov Report

Merging #1159 into 4.x will decrease coverage by 0.01%.
The diff coverage is 95.32%.


@@            Coverage Diff             @@
##              4.x    #1159      +/-   ##
==========================================
- Coverage   77.03%   77.02%   -<.01%     
==========================================
  Files         306      310       +4     
  Lines       54505    55101     +596     
  Branches     6650     6650              
==========================================
+ Hits        41983    42437     +454     
- Misses      12160    12195      +35     
- Partials      362      469     +107



Impacted Files
Coverage Δ





oio/account/client.py
78.03% <ø> (ø)
⬆️


oio/content/content.py
92.93% <ø> (ø)
⬆️


tests/functional/cli/lifecycle/test_lifecycle.py
100% <100%> (ø)



oio/content/factory.py
98.39% <100%> (ø)
⬆️


oio/api/object_storage.py
76.57% <20%> (-0.74%)
⬇️


oio/common/utils.py
65.89% <76.2%> (+1.46%)
⬆️


oio/container/lifecycle.py
93.09% <93.09%> (ø)



tests/functional/container/test_lifecycle.py
98.7% <98.7%> (ø)



tests/unit/container/test_lifecycle.py
98.76% <98.76%> (ø)



sqliterepo/restoration.c
74.08% <0%> (-14.81%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 549fbef...74d4ae1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1160,2017-09-05T15:00:35Z,2017-09-06T09:21:43Z,2017-09-06T09:21:51Z,MERGED,True,31,1,3,https://github.com/fvennetier,Update project version,2,[],https://github.com/open-io/oio-sds/pull/1160,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1160,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1160,2017-09-05T15:00:35Z,2017-09-06T09:21:43Z,2017-09-06T09:21:51Z,MERGED,True,31,1,3,https://github.com/fvennetier,Update project version,2,[],https://github.com/open-io/oio-sds/pull/1160,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1160#issuecomment-327209737,,"Codecov Report

Merging #1160 into 4.0.x will decrease coverage by 3.16%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.0.x    #1160      +/-   ##
==========================================
- Coverage   67.68%   64.51%   -3.17%     
==========================================
  Files         227      227              
  Lines       44517    44517              
  Branches     6664     6664              
==========================================
- Hits        30131    28722    -1409     
- Misses      13648    15322    +1674     
+ Partials      738      473     -265



Impacted Files
Coverage Δ





sqliterepo/restoration.c
0% <0%> (-74.08%)
⬇️


meta0v2/zk_manager.c
0% <0%> (-61.72%)
⬇️


sqliterepo/version.c
25.17% <0%> (-53.15%)
⬇️


sqliterepo/synchro.c
7.16% <0%> (-49.85%)
⬇️


sqliterepo/replication.c
33.81% <0%> (-41.91%)
⬇️


sqliterepo/gridd_client_pool.c
35.54% <0%> (-33.65%)
⬇️


meta0v2/meta0_server.c
26.58% <0%> (-29.12%)
⬇️


sqliterepo/replication_client.c
0% <0%> (-21.43%)
⬇️


sqliterepo/repository.c
51.6% <0%> (-18.94%)
⬇️


sqliterepo/election.c
57.39% <0%> (-18.46%)
⬇️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ba6be85...9e87c31. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1161,2017-09-06T07:40:41Z,2017-09-06T13:55:32Z,2018-04-10T16:03:17Z,MERGED,True,521,508,9,https://github.com/kamel-rahim,"Tests, BlobClient: replace requests by urllib3",3,[],https://github.com/open-io/oio-sds/pull/1161,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1161,"The requests module in BlobClient  is  replaced by urllib3.
It should have been replaced by the httplib used by ChunkReader but for a first step it was replaced by urllib3","The requests module in BlobClient  is  replaced by urllib3.
It should have been replaced by the httplib used by ChunkReader but for a first step it was replaced by urllib3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1161,2017-09-06T07:40:41Z,2017-09-06T13:55:32Z,2018-04-10T16:03:17Z,MERGED,True,521,508,9,https://github.com/kamel-rahim,"Tests, BlobClient: replace requests by urllib3",3,[],https://github.com/open-io/oio-sds/pull/1161,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1161#issuecomment-327404506,"The requests module in BlobClient  is  replaced by urllib3.
It should have been replaced by the httplib used by ChunkReader but for a first step it was replaced by urllib3","Codecov Report

Merging #1161 into 4.x will decrease coverage by 0.57%.
The diff coverage is 98.23%.


@@            Coverage Diff             @@
##              4.x    #1161      +/-   ##
==========================================
- Coverage   75.78%   75.21%   -0.58%     
==========================================
  Files         292      292              
  Lines       53188    53207      +19     
  Branches     6610     6616       +6     
==========================================
- Hits        40310    40019     -291     
- Misses      12507    12633     +126     
- Partials      371      555     +184



Impacted Files
Coverage Δ





oio/common/http.py
79.45% <ø> (+0.31%)
⬆️


tests/functional/container/test_container.py
98.82% <100%> (ø)
⬆️


tests/functional/rdir/test_server.py
98.18% <100%> (ø)
⬆️


tests/functional/conscience/test_conscience.py
100% <100%> (ø)
⬆️


tests/functional/reference/test_directory.py
100% <100%> (ø)
⬆️


oio/blob/client.py
92.06% <66.66%> (-1.59%)
⬇️


tests/functional/conscience/test_lb.py
94.44% <91.66%> (ø)
⬆️


tests/utils.py
90.17% <92.85%> (+0.63%)
⬆️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


... and 50 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 334a4b5...794081e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1162,2017-09-07T09:07:03Z,2017-09-07T14:18:20Z,2018-04-10T16:03:18Z,MERGED,True,3,1,2,https://github.com/kamel-rahim,Sqliterepo: fix election SLAVE state,1,[],https://github.com/open-io/oio-sds/pull/1162,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1162,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1162,2017-09-07T09:07:03Z,2017-09-07T14:18:20Z,2018-04-10T16:03:18Z,MERGED,True,3,1,2,https://github.com/kamel-rahim,Sqliterepo: fix election SLAVE state,1,[],https://github.com/open-io/oio-sds/pull/1162,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1162#issuecomment-327742669,,"Codecov Report

Merging #1162 into 4.x will decrease coverage by 0.27%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1162      +/-   ##
==========================================
- Coverage   75.71%   75.44%   -0.28%     
==========================================
  Files         292      292              
  Lines       53415    53417       +2     
  Branches     6610     6610              
==========================================
- Hits        40444    40299     -145     
- Misses      12573    12645      +72     
- Partials      398      473      +75



Impacted Files
Coverage Δ





tests/unit/test_sqliterepo_election.c
94.67% <100%> (+0.01%)
⬆️


sqliterepo/election.c
79.07% <100%> (-0.13%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/account/client.py
82.55% <0%> (-4.66%)
⬇️


meta2v2/meta2_filters_action_container.c
50.88% <0%> (-4.63%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-4.2%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


proxy/cs_actions.c
89.14% <0%> (-2.72%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update db33a0a...47c8e92. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1164,2017-09-07T13:59:07Z,2017-09-14T13:48:15Z,2017-09-18T09:12:41Z,MERGED,True,57,83,15,https://github.com/jfsmig,cmake: Get rid of the configurable prefix to CLI tools,5,[],https://github.com/open-io/oio-sds/pull/1164,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1164,"Remove the useless management of a configurable prefix to the binary tools
Fix missing copyright mentions:

Adds Vincent Vinel in cache related elements.
Adds Conrad Kleinespel in oio-bootstrap.py","Remove the useless management of a configurable prefix to the binary tools
Fix missing copyright mentions:

Adds Vincent Vinel in cache related elements.
Adds Conrad Kleinespel in oio-bootstrap.py",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1164,2017-09-07T13:59:07Z,2017-09-14T13:48:15Z,2017-09-18T09:12:41Z,MERGED,True,57,83,15,https://github.com/jfsmig,cmake: Get rid of the configurable prefix to CLI tools,5,[],https://github.com/open-io/oio-sds/pull/1164,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1164#issuecomment-328142612,"Remove the useless management of a configurable prefix to the binary tools
Fix missing copyright mentions:

Adds Vincent Vinel in cache related elements.
Adds Conrad Kleinespel in oio-bootstrap.py","Codecov Report

Merging #1164 into master will decrease coverage by 0.49%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##           master    #1164     +/-   ##
=========================================
- Coverage   75.78%   75.28%   -0.5%     
=========================================
  Files         292      292             
  Lines       53417    53417             
  Branches     6616     6616             
=========================================
- Hits        40481    40215    -266     
- Misses      12565    12652     +87     
- Partials      371      550    +179



Impacted Files
Coverage Δ





tests/common/test_cache_abstract.c
59.25% <ø> (ø)
⬆️


cache/cache_multilayer.c
68.08% <ø> (ø)
⬆️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/replication_dispatcher.c
38.81% <0%> (-6.73%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-4.2%)
⬇️


meta2v2/meta2_backend.c
71.23% <0%> (-3.99%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9c34ef8...94aaa58. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1165,2017-09-08T07:21:12Z,2017-09-08T08:26:10Z,2018-04-25T13:25:17Z,MERGED,True,1,0,1,https://github.com/murlock,Requirements: add requests,1,[],https://github.com/open-io/oio-sds/pull/1165,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1165,"The commit 4e9cb87ad3 has removed requests from all-requirements.txt but
oio/api/backblaze_http.py still use it. The test_container_backup.py
also depends on it at this time but dependency could be moved later in test-requirements.txt.
It was unseen during CI as requests is a dependency of codecov.","The commit 4e9cb87ad3 has removed requests from all-requirements.txt but
oio/api/backblaze_http.py still use it. The test_container_backup.py
also depends on it at this time but dependency could be moved later in test-requirements.txt.
It was unseen during CI as requests is a dependency of codecov.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1165,2017-09-08T07:21:12Z,2017-09-08T08:26:10Z,2018-04-25T13:25:17Z,MERGED,True,1,0,1,https://github.com/murlock,Requirements: add requests,1,[],https://github.com/open-io/oio-sds/pull/1165,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1165#issuecomment-328031245,"The commit 4e9cb87ad3 has removed requests from all-requirements.txt but
oio/api/backblaze_http.py still use it. The test_container_backup.py
also depends on it at this time but dependency could be moved later in test-requirements.txt.
It was unseen during CI as requests is a dependency of codecov.","Codecov Report

Merging #1165 into 4.x will increase coverage by 0.17%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1165      +/-   ##
==========================================
+ Coverage   75.35%   75.52%   +0.17%     
==========================================
  Files         292      292              
  Lines       53417    53417              
  Branches     6610     6610              
==========================================
+ Hits        40250    40341      +91     
+ Misses      12649    12615      -34     
+ Partials      518      461      -57



Impacted Files
Coverage Δ





oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-2.5%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


metautils/lib/comm_message.c
84.47% <0%> (-0.79%)
⬇️


meta0v2/meta0_backend.c
79.33% <0%> (-0.42%)
⬇️


metautils/lib/gridd_client.c
72.78% <0%> (-0.22%)
⬇️


rdir/rdir.c
66.81% <0%> (+0.11%)
⬆️


sqlx/sqlx_service.c
82.36% <0%> (+0.14%)
⬆️


oio/api/ec.py
94.26% <0%> (+0.18%)
⬆️


server/transport_gridd.c
68.58% <0%> (+0.2%)
⬆️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ae1fd89...2a34d11. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1166,2017-09-08T08:40:08Z,2017-09-11T16:12:22Z,2018-04-10T16:03:57Z,MERGED,True,25,1,2,https://github.com/kamel-rahim,Sqliterepo: add check of 'when_unstable' for every election state,1,[],https://github.com/open-io/oio-sds/pull/1166,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1166,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1166,2017-09-08T08:40:08Z,2017-09-11T16:12:22Z,2018-04-10T16:03:57Z,MERGED,True,25,1,2,https://github.com/kamel-rahim,Sqliterepo: add check of 'when_unstable' for every election state,1,[],https://github.com/open-io/oio-sds/pull/1166,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1166#issuecomment-328048105,,"Codecov Report

Merging #1166 into 4.x will decrease coverage by 0.36%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1166      +/-   ##
==========================================
- Coverage   75.78%   75.42%   -0.37%     
==========================================
  Files         292      292              
  Lines       53417    53439      +22     
  Branches     6616     6611       -5     
==========================================
- Hits        40481    40304     -177     
- Misses      12565    12640      +75     
- Partials      371      495     +124



Impacted Files
Coverage Δ





sqliterepo/election.c
79.37% <100%> (-0.14%)
⬇️


tests/unit/test_sqliterepo_election.c
94.73% <100%> (+0.05%)
⬆️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/replication_dispatcher.c
39.62% <0%> (-5.92%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-4.2%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


proxy/cs_actions.c
89.14% <0%> (-2.72%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9c34ef8...cfc1194. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1167,2017-09-08T16:41:50Z,2017-09-11T16:09:38Z,2017-09-11T16:09:42Z,MERGED,True,2,2,1,https://github.com/fvennetier,Fix spacing issues in meta1 error messages,1,"['Logging :scroll:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1167,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1167,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1167,2017-09-08T16:41:50Z,2017-09-11T16:09:38Z,2017-09-11T16:09:42Z,MERGED,True,2,2,1,https://github.com/fvennetier,Fix spacing issues in meta1 error messages,1,"['Logging :scroll:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1167,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1167#issuecomment-328170563,,"Codecov Report

Merging #1167 into 4.x will decrease coverage by 0.29%.
The diff coverage is 0%.


@@            Coverage Diff            @@
##              4.x    #1167     +/-   ##
=========================================
- Coverage   75.78%   75.48%   -0.3%     
=========================================
  Files         292      292             
  Lines       53417    53417             
  Branches     6616     6610      -6     
=========================================
- Hits        40481    40323    -158     
- Misses      12565    12638     +73     
- Partials      371      456     +85



Impacted Files
Coverage Δ





meta1v2/meta1_backend_services.c
56.2% <0%> (ø)
⬆️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/account/client.py
81.39% <0%> (-4.66%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-4.2%)
⬇️


meta2v2/meta2_backend.c
71.46% <0%> (-3.77%)
⬇️


meta2v2/meta2_utils.c
70.61% <0%> (-2.64%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9c34ef8...ac00b56. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1168,2017-09-11T12:36:57Z,2017-09-11T13:30:41Z,2018-04-10T16:03:57Z,MERGED,True,63,2,2,https://github.com/kamel-rahim,Python API: fix autocontainer checker,1,[],https://github.com/open-io/oio-sds/pull/1168,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1168,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1168,2017-09-11T12:36:57Z,2017-09-11T13:30:41Z,2018-04-10T16:03:57Z,MERGED,True,63,2,2,https://github.com/kamel-rahim,Python API: fix autocontainer checker,1,[],https://github.com/open-io/oio-sds/pull/1168,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1168#issuecomment-328527628,,"Codecov Report

Merging #1168 into 4.1.x will increase coverage by 0.28%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1168      +/-   ##
==========================================
+ Coverage   75.78%   76.06%   +0.28%     
==========================================
  Files         292      292              
  Lines       53417    53470      +53     
  Branches     6616     6616              
==========================================
+ Hits        40481    40671     +190     
+ Misses      12565    12553      -12     
+ Partials      371      246     -125



Impacted Files
Coverage Δ





tests/unit/common/test_autocontainer.py
100% <100%> (ø)
⬆️


oio/common/autocontainer.py
59.52% <100%> (+11.9%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_filters_action_container.c
52.31% <0%> (-3.21%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


cluster/module/module.c
70.68% <0%> (-1.4%)
⬇️


proxy/cs_actions.c
90.49% <0%> (-1.36%)
⬇️


oio/account/client.py
84.88% <0%> (-1.17%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9c34ef8...0de14b7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1169,2017-09-11T15:51:42Z,2017-09-11T16:08:20Z,2017-09-18T09:12:43Z,MERGED,True,52,1,3,https://github.com/jfsmig,Backport a fix in the generation of ID of services,3,[],https://github.com/open-io/oio-sds/pull/1169,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1169,"The ID of services was truncated, this is now fixed thanks to @fvennetier (commit cherry-picked from 4.x to 4.0.x)","The ID of services was truncated, this is now fixed thanks to @fvennetier (commit cherry-picked from 4.x to 4.0.x)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1169,2017-09-11T15:51:42Z,2017-09-11T16:08:20Z,2017-09-18T09:12:43Z,MERGED,True,52,1,3,https://github.com/jfsmig,Backport a fix in the generation of ID of services,3,[],https://github.com/open-io/oio-sds/pull/1169,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1169#issuecomment-328576091,"The ID of services was truncated, this is now fixed thanks to @fvennetier (commit cherry-picked from 4.x to 4.0.x)","Codecov Report

Merging #1169 into 4.0.x will decrease coverage by 0.2%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.0.x    #1169      +/-   ##
==========================================
- Coverage   67.98%   67.77%   -0.21%     
==========================================
  Files         227      227              
  Lines       44546    44573      +27     
  Branches     6664     6664              
==========================================
- Hits        30284    30211      -73     
- Misses      13560    13624      +64     
- Partials      702      738      +36



Impacted Files
Coverage Δ





metautils/lib/utils_service_info.c
83.43% <100%> (ø)
⬆️


tests/unit/test_addr.c
100% <100%> (ø)
⬆️


tests/unit/test_str.c
100% <100%> (ø)
⬆️


meta2v2/meta2_filters_action_container.c
46.78% <0%> (-5.36%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


core/str.c
87.56% <0%> (-2.04%)
⬇️


sqliterepo/election.c
77.27% <0%> (-1.68%)
⬇️


metautils/lib/utils_syscall.c
50% <0%> (-1.52%)
⬇️


sqliterepo/replication.c
75.72% <0%> (-1.45%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6d6cc22...132b934. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1171,2017-09-14T17:05:23Z,2017-09-15T07:10:06Z,2017-09-18T09:12:47Z,MERGED,True,18,17,4,https://github.com/jfsmig,"Fix printf formats, use portable macros",2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1171,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1171,Now buildable on arm32,Now buildable on arm32,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1171,2017-09-14T17:05:23Z,2017-09-15T07:10:06Z,2017-09-18T09:12:47Z,MERGED,True,18,17,4,https://github.com/jfsmig,"Fix printf formats, use portable macros",2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1171,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1171#issuecomment-329557643,Now buildable on arm32,"Codecov Report

Merging #1171 into 4.1.x will increase coverage by 0.2%.
The diff coverage is 50%.


@@            Coverage Diff            @@
##            4.1.x    #1171     +/-   ##
=========================================
+ Coverage   75.35%   75.55%   +0.2%     
=========================================
  Files         292      292             
  Lines       53497    53497             
  Branches     6616     6616             
=========================================
+ Hits        40314    40421    +107     
- Misses      12618    12620      +2     
+ Partials      565      456    -109



Impacted Files
Coverage Δ





metautils/lib/gridd_client.c
72.78% <0%> (-1.52%)
⬇️


core/lb.c
94.08% <100%> (ø)
⬆️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


sqliterepo/gridd_client_pool.c
69.66% <0%> (-1.43%)
⬇️


oio/account/client.py
83.72% <0%> (-1.17%)
⬇️


meta2v2/meta2_filters_action_container.c
55.51% <0%> (-1.07%)
⬇️


oio/common/utils.py
62.62% <0%> (-0.5%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update faa8846...03d1359. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1172,2017-09-18T08:09:12Z,2017-09-18T09:36:34Z,2018-04-10T16:04:00Z,MERGED,True,1,1,1,https://github.com/kamel-rahim,Rdir: fix STRDUPA macro,1,[],https://github.com/open-io/oio-sds/pull/1172,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1172,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1172,2017-09-18T08:09:12Z,2017-09-18T09:36:34Z,2018-04-10T16:04:00Z,MERGED,True,1,1,1,https://github.com/kamel-rahim,Rdir: fix STRDUPA macro,1,[],https://github.com/open-io/oio-sds/pull/1172,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1172#issuecomment-330156631,,"Codecov Report

Merging #1172 into 4.1.x will decrease coverage by 5.51%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1172      +/-   ##
==========================================
- Coverage   72.43%   66.91%   -5.52%     
==========================================
  Files         292      202      -90     
  Lines       53497    39957   -13540     
  Branches     6610        0    -6610     
==========================================
- Hits        38750    26739   -12011     
+ Misses      14428    13218    -1210     
+ Partials      319        0     -319



Impacted Files
Coverage Δ





tests/common/test_cache_abstract.c
58.33% <ø> (-0.93%)
⬇️


rdir/rdir.c
66.35% <ø> (-0.01%)
⬇️


cache/cache_multilayer.c
68.08% <ø> (ø)
⬆️


tests/unit/test_sqliterepo_election.c
94.58% <100%> (-0.1%)
⬇️


sqliterepo/election.c
57.49% <100%> (-0.16%)
⬇️


gridd/plugins/msg_fallback/msg_fallback.c
22.22% <0%> (-77.78%)
⬇️


gridd/plugins/msg_ping/msg_ping.c
22.72% <0%> (-77.28%)
⬇️


gridd/main/access_log.c
0% <0%> (-72.14%)
⬇️


metautils/lib/metacomm.h
50% <0%> (-50%)
⬇️


meta2v2/meta2_filters_action_content.c
41.79% <0%> (-46.48%)
⬇️


... and 252 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 538ea5a...7bfc686. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1173,2017-09-18T14:41:44Z,2017-09-18T16:47:41Z,2018-04-10T16:04:10Z,MERGED,True,1,1,1,https://github.com/kamel-rahim,rdir: fix volume fetch pagination,1,[],https://github.com/open-io/oio-sds/pull/1173,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1173,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1174,2017-09-19T09:04:21Z,2017-09-19T12:15:03Z,2018-04-10T16:04:12Z,MERGED,True,11,8,1,https://github.com/kamel-rahim,Blob-rebuilder: fix stat message,1,[],https://github.com/open-io/oio-sds/pull/1174,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1174,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1174,2017-09-19T09:04:21Z,2017-09-19T12:15:03Z,2018-04-10T16:04:12Z,MERGED,True,11,8,1,https://github.com/kamel-rahim,Blob-rebuilder: fix stat message,1,[],https://github.com/open-io/oio-sds/pull/1174,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1174#issuecomment-330480045,,"Codecov Report

Merging #1174 into 4.1.x will increase coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1174      +/-   ##
==========================================
+ Coverage   75.51%   75.53%   +0.01%     
==========================================
  Files         292      292              
  Lines       53497    53497              
  Branches     6610     6610              
==========================================
+ Hits        40400    40408       +8     
- Misses      12582    12621      +39     
+ Partials      515      468      -47



Impacted Files
Coverage Δ





meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


sqliterepo/replication_dispatcher.c
38.81% <0%> (-4.22%)
⬇️


rdir/routes.c.rl
80.76% <0%> (-3.85%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


sqliterepo/gridd_client_pool.c
69.66% <0%> (-1.43%)
⬇️


metautils/lib/gridd_client.c
73.21% <0%> (-1.3%)
⬇️


oio/account/client.py
83.72% <0%> (-1.17%)
⬇️


... and 34 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9dbefac...17a8690. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1175,2017-09-20T09:16:27Z,2018-11-29T17:08:05Z,2019-01-14T10:34:54Z,CLOSED,False,3267,3790,172,https://github.com/jfsmig,[WIP] Prepare the sharding of containers (step5: meta2),95,[],https://github.com/open-io/oio-sds/pull/1175,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1175,"A marker is now used, implemented with a flag in the admin table, to note that a container has ever been full. That marker cannot be removed the clean way, with meta2 requests.
The  client of a meta2 service now marks its requests with a flag: is the base known to be the last (the last base has never been full --no flag-- while the previous have the flag). If it is, the ""FULL"" marker must not be present (and vice versa). If that condition is not fulfilled, an error with code=CODE_SHARD_FULL is generated, to tell the client to refresh the list of bases it knows.
The checks have been added in the meta2 backend, at any the opening of a container.
The check is avoided when the container is opened with the ""LOCAL"" flag (admin purposes)
A notion is introduced: a ""meta2 operation target"" gathering a container URL, the sequence number and flags common to all the requests (last, master only, local).
The sequence number is now mandatory for the backend operations, and set to the default value of 1, for backward compliance purposes.
the dispatcher of requests has been substantially simplified to get rid of the confusing logic of filters.
As a remarkable side change, when generating beans/chunks, there is no check anymore on the possible presence of an alias with the same name. This is a legacy piece of logic, unused, obsolete.

TODO:

Ensure the backward compliance around the flags on meta2 requests.","A marker is now used, implemented with a flag in the admin table, to note that a container has ever been full. That marker cannot be removed the clean way, with meta2 requests.
The  client of a meta2 service now marks its requests with a flag: is the base known to be the last (the last base has never been full --no flag-- while the previous have the flag). If it is, the ""FULL"" marker must not be present (and vice versa). If that condition is not fulfilled, an error with code=CODE_SHARD_FULL is generated, to tell the client to refresh the list of bases it knows.
The checks have been added in the meta2 backend, at any the opening of a container.
The check is avoided when the container is opened with the ""LOCAL"" flag (admin purposes)
A notion is introduced: a ""meta2 operation target"" gathering a container URL, the sequence number and flags common to all the requests (last, master only, local).
The sequence number is now mandatory for the backend operations, and set to the default value of 1, for backward compliance purposes.
the dispatcher of requests has been substantially simplified to get rid of the confusing logic of filters.
As a remarkable side change, when generating beans/chunks, there is no check anymore on the possible presence of an alias with the same name. This is a legacy piece of logic, unused, obsolete.

TODO:

Ensure the backward compliance around the flags on meta2 requests.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1175,2017-09-20T09:16:27Z,2018-11-29T17:08:05Z,2019-01-14T10:34:54Z,CLOSED,False,3267,3790,172,https://github.com/jfsmig,[WIP] Prepare the sharding of containers (step5: meta2),95,[],https://github.com/open-io/oio-sds/pull/1175,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1175#issuecomment-442914483,"A marker is now used, implemented with a flag in the admin table, to note that a container has ever been full. That marker cannot be removed the clean way, with meta2 requests.
The  client of a meta2 service now marks its requests with a flag: is the base known to be the last (the last base has never been full --no flag-- while the previous have the flag). If it is, the ""FULL"" marker must not be present (and vice versa). If that condition is not fulfilled, an error with code=CODE_SHARD_FULL is generated, to tell the client to refresh the list of bases it knows.
The checks have been added in the meta2 backend, at any the opening of a container.
The check is avoided when the container is opened with the ""LOCAL"" flag (admin purposes)
A notion is introduced: a ""meta2 operation target"" gathering a container URL, the sequence number and flags common to all the requests (last, master only, local).
The sequence number is now mandatory for the backend operations, and set to the default value of 1, for backward compliance purposes.
the dispatcher of requests has been substantially simplified to get rid of the confusing logic of filters.
As a remarkable side change, when generating beans/chunks, there is no check anymore on the possible presence of an alias with the same name. This is a legacy piece of logic, unused, obsolete.

TODO:

Ensure the backward compliance around the flags on meta2 requests.","À un moment, il faut se faire une raison...",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1176,2017-09-20T13:26:42Z,2017-09-20T13:48:28Z,2018-04-10T16:04:13Z,MERGED,True,2,2,1,https://github.com/kamel-rahim,rawx: accept apr_status() APR_INCOMPLETE return value,1,[],https://github.com/open-io/oio-sds/pull/1176,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1176,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1176,2017-09-20T13:26:42Z,2017-09-20T13:48:28Z,2018-04-10T16:04:13Z,MERGED,True,2,2,1,https://github.com/kamel-rahim,rawx: accept apr_status() APR_INCOMPLETE return value,1,[],https://github.com/open-io/oio-sds/pull/1176,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1176#issuecomment-330856148,,"Codecov Report

Merging #1176 into 4.1.x will decrease coverage by 0.24%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1176      +/-   ##
==========================================
- Coverage   75.68%   75.44%   -0.25%     
==========================================
  Files         292      292              
  Lines       53497    53497              
  Branches     6610     6616       +6     
==========================================
- Hits        40490    40360     -130     
- Misses      12559    12625      +66     
- Partials      448      512      +64



Impacted Files
Coverage Δ





rawx-apache2/src/rawx_repo_core.c
75.94% <100%> (ø)
⬆️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/account/client.py
81.39% <0%> (-5.82%)
⬇️


meta2v2/meta2_backend.c
70.79% <0%> (-4.43%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-4.2%)
⬇️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-1.93%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-1.43%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 73c947e...72f60e0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1177,2017-09-20T16:50:27Z,2017-09-21T08:45:07Z,2017-09-21T08:45:08Z,MERGED,True,214,30,4,https://github.com/fvennetier,Implement low-level directory operations,2,"['enhancement :sparkles:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1177,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1177,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1177,2017-09-20T16:50:27Z,2017-09-21T08:45:07Z,2017-09-21T08:45:08Z,MERGED,True,214,30,4,https://github.com/fvennetier,Implement low-level directory operations,2,"['enhancement :sparkles:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1177,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1177#issuecomment-330913215,,This will fix #903.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1177,2017-09-20T16:50:27Z,2017-09-21T08:45:07Z,2017-09-21T08:45:08Z,MERGED,True,214,30,4,https://github.com/fvennetier,Implement low-level directory operations,2,"['enhancement :sparkles:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1177,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1177#issuecomment-331083807,,"Codecov Report

Merging #1177 into 4.x will decrease coverage by 0.09%.
The diff coverage is 32.58%.


@@            Coverage Diff            @@
##              4.x    #1177     +/-   ##
=========================================
- Coverage   75.52%   75.43%   -0.1%     
=========================================
  Files         302      303      +1     
  Lines       53575    53649     +74     
  Branches     6611     6611             
=========================================
+ Hits        40462    40468      +6     
- Misses      12653    12687     +34     
- Partials      460      494     +34



Impacted Files
Coverage Δ





oio/directory/meta0.py
68.47% <30%> (-3.62%)
⬇️


oio/directory/admin.py
30.9% <30.9%> (ø)



proxy/common.c
81.03% <75%> (-0.29%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


meta2v2/meta2_backend.c
71.46% <0%> (-3.77%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


meta1v2/meta1_remote.c
72.65% <0%> (-1.57%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f2ca630...2992554. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1178,2017-09-21T09:25:37Z,2017-09-21T14:55:15Z,2018-04-10T16:03:51Z,MERGED,True,3,3,2,https://github.com/kamel-rahim,rawx: accept APR_INCOMPLETE status for more cases,1,[],https://github.com/open-io/oio-sds/pull/1178,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1178,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1178,2017-09-21T09:25:37Z,2017-09-21T14:55:15Z,2018-04-10T16:03:51Z,MERGED,True,3,3,2,https://github.com/kamel-rahim,rawx: accept APR_INCOMPLETE status for more cases,1,[],https://github.com/open-io/oio-sds/pull/1178,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1178#issuecomment-331105251,,"Codecov Report

Merging #1178 into 4.1.x will increase coverage by 0.08%.
The diff coverage is 66.66%.


@@            Coverage Diff             @@
##            4.1.x    #1178      +/-   ##
==========================================
+ Coverage   75.51%   75.59%   +0.08%     
==========================================
  Files         292      292              
  Lines       53497    53497              
  Branches     6610     6610              
==========================================
+ Hits        40397    40441      +44     
+ Misses      12638    12601      -37     
+ Partials      462      455       -7



Impacted Files
Coverage Δ





rawx-apache2/src/mod_dav_rawx.c
70.23% <100%> (ø)
⬆️


rawx-apache2/src/rawx_repository.c
49.63% <50%> (ø)
⬆️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


oio/common/utils.py
61.88% <0%> (-0.75%)
⬇️


events/oio_events_queue_beanstalkd.c
80.11% <0%> (-0.57%)
⬇️


sqlx/sqlx_service.c
82.36% <0%> (-0.45%)
⬇️


meta2v2/meta2_filters_action_content.c
89.81% <0%> (-0.31%)
⬇️


core/lb.c
93.93% <0%> (-0.15%)
⬇️


sqliterepo/election.c
78.88% <0%> (-0.13%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (ø)
⬆️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 86bade1...8efc17d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1178,2017-09-21T09:25:37Z,2017-09-21T14:55:15Z,2018-04-10T16:03:51Z,MERGED,True,3,3,2,https://github.com/kamel-rahim,rawx: accept APR_INCOMPLETE status for more cases,1,[],https://github.com/open-io/oio-sds/pull/1178,https://github.com/racciari,3,https://github.com/open-io/oio-sds/pull/1178#issuecomment-331111569,,This patch fixes my problem on ARM ;-),True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1179,2017-09-21T12:16:59Z,2017-09-21T14:54:55Z,2017-09-21T15:56:33Z,MERGED,True,197,5,9,https://github.com/AymericDu,CLI: Add commands to debug elections,1,[],https://github.com/open-io/oio-sds/pull/1179,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1179,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1179,2017-09-21T12:16:59Z,2017-09-21T14:54:55Z,2017-09-21T15:56:33Z,MERGED,True,197,5,9,https://github.com/AymericDu,CLI: Add commands to debug elections,1,[],https://github.com/open-io/oio-sds/pull/1179,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1179#issuecomment-331179476,,"Codecov Report

Merging #1179 into 4.x will increase coverage by 0.21%.
The diff coverage is 70%.


@@            Coverage Diff            @@
##             4.x    #1179      +/-   ##
=========================================
+ Coverage   75.5%   75.72%   +0.21%     
=========================================
  Files        303      304       +1     
  Lines      53649    53665      +16     
  Branches    6611     6611              
=========================================
+ Hits       40507    40636     +129     
+ Misses     12686    12566     -120     
- Partials     456      463       +7



Impacted Files
Coverage Δ





sqliterepo/election.c
82.32% <0%> (+3%)
⬆️


oio/directory/admin.py
29.82% <0%> (-1.09%)
⬇️


tests/functional/cli/election/test_election.py
100% <100%> (ø)



meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


oio/account/client.py
81.6% <0%> (-2.3%)
⬇️


meta1v2/meta1_prefixes.c
80.83% <0%> (-1.8%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


metautils/lib/comm_converter.c
74.01% <0%> (-0.79%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b665d2a...1427f75. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1180,2017-09-22T15:29:21Z,2017-09-22T16:00:14Z,2017-09-25T08:04:37Z,MERGED,True,14,0,3,https://github.com/jfsmig,Print lighter warnings on network errors,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1180,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1180,"Avoid polluting the log when OioNetworkError exceptions are raised. All the useful information is container in the message (which peer, which protocol library)","Avoid polluting the log when OioNetworkError exceptions are raised. All the useful information is container in the message (which peer, which protocol library)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1180,2017-09-22T15:29:21Z,2017-09-22T16:00:14Z,2017-09-25T08:04:37Z,MERGED,True,14,0,3,https://github.com/jfsmig,Print lighter warnings on network errors,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1180,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1180#issuecomment-331484254,"Avoid polluting the log when OioNetworkError exceptions are raised. All the useful information is container in the message (which peer, which protocol library)","Codecov Report

Merging #1180 into 4.1.x will increase coverage by 3.09%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##            4.1.x    #1180      +/-   ##
==========================================
+ Coverage   72.51%   75.61%   +3.09%     
==========================================
  Files         292      292              
  Lines       53497    53505       +8     
  Branches     6610     6610              
==========================================
+ Hits        38796    40458    +1662     
+ Misses      14542    12626    -1916     
- Partials      159      421     +262



Impacted Files
Coverage Δ





oio/blob/indexer.py
46.83% <25%> (-1.17%)
⬇️


oio/account/client.py
82.22% <75%> (-1.5%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


core/http_put.c
92.62% <0%> (-0.51%)
⬇️


oio/common/utils.py
62.62% <0%> (-0.5%)
⬇️


oio/directory/meta0.py
72.09% <0%> (-0.39%)
⬇️


resolver/hc_resolver.c
87.6% <0%> (-0.29%)
⬇️


proxy/m2_actions.c
81.91% <0%> (+0.08%)
⬆️


proxy/metacd_http.c
90.64% <0%> (+0.16%)
⬆️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5540960...aa09127. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1181,2017-09-22T16:33:59Z,2017-09-25T06:34:05Z,2017-09-25T08:04:35Z,MERGED,True,452,158,5,https://github.com/jfsmig,rdir: Stop the rdir when its basedir is absent,11,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1181,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1181,"Also log the error that occurs in the configured output, often syslog in production deployments.
But also dump that error on stderr, for an easier diagnosis.","Also log the error that occurs in the configured output, often syslog in production deployments.
But also dump that error on stderr, for an easier diagnosis.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1181,2017-09-22T16:33:59Z,2017-09-25T06:34:05Z,2017-09-25T08:04:35Z,MERGED,True,452,158,5,https://github.com/jfsmig,rdir: Stop the rdir when its basedir is absent,11,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1181,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1181#issuecomment-331671976,"Also log the error that occurs in the configured output, often syslog in production deployments.
But also dump that error on stderr, for an easier diagnosis.","Codecov Report

Merging #1181 into 4.1.x will increase coverage by 0.04%.
The diff coverage is 91.96%.


@@            Coverage Diff             @@
##            4.1.x    #1181      +/-   ##
==========================================
+ Coverage   75.54%   75.59%   +0.04%     
==========================================
  Files         292      292              
  Lines       53505    53666     +161     
  Branches     6616     6612       -4     
==========================================
+ Hits        40422    40568     +146     
+ Misses      12621    12531      -90     
- Partials      462      567     +105



Impacted Files
Coverage Δ





rdir/routes.c
68.75% <ø> (ø)
⬆️


tests/utils.py
90.55% <100%> (+0.38%)
⬆️


rdir/rdir.c
73.51% <64%> (+6.69%)
⬆️


rdir/routes.c.rl
93.54% <92%> (+8.93%)
⬆️


tests/functional/rdir/test_server.py
96.76% <95.18%> (-1.42%)
⬇️


meta2v2/meta2_backend.c
70.57% <0%> (-4.65%)
⬇️


sqliterepo/replication_dispatcher.c
38.81% <0%> (-4.54%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


meta2v2/meta2_filters_action_container.c
49.46% <0%> (-1.43%)
⬇️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a90835b...5e4e441. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1182,2017-09-22T16:34:54Z,2017-09-26T14:02:12Z,2017-10-31T15:02:37Z,MERGED,True,49,0,5,https://github.com/AymericDu,Add possibility to bury events by default,2,[],https://github.com/open-io/oio-sds/pull/1182,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1182,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1182,2017-09-22T16:34:54Z,2017-09-26T14:02:12Z,2017-10-31T15:02:37Z,MERGED,True,49,0,5,https://github.com/AymericDu,Add possibility to bury events by default,2,[],https://github.com/open-io/oio-sds/pull/1182,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1182#issuecomment-331501721,,"Codecov Report

Merging #1182 into 4.1.x will increase coverage by 0.09%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1182      +/-   ##
==========================================
+ Coverage   75.54%   75.64%   +0.09%     
==========================================
  Files         292      292              
  Lines       53505    53507       +2     
  Branches     6616     6610       -6     
==========================================
+ Hits        40422    40475      +53     
+ Misses      12621    12616       -5     
+ Partials      462      416      -46



Impacted Files
Coverage Δ





oio/common/exceptions.py
98.26% <100%> (+0.03%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


proxy/cs_actions.c
90.49% <0%> (-1.36%)
⬇️


server/network_server.c
78.96% <0%> (-1.04%)
⬇️


cluster/conscience/conscience_srvtype.c
81.18% <0%> (-0.54%)
⬇️


sqliterepo/repository.c
71.53% <0%> (-0.5%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.5%)
⬇️


metautils/lib/utils_sockets.c
48.62% <0%> (-0.4%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a90835b...7b086e1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1183,2017-09-25T16:07:18Z,2017-10-13T15:08:27Z,2017-10-16T14:18:03Z,MERGED,True,744,269,29,https://github.com/fvennetier,"Peers cache, meta1 mover",15,"['enhancement :sparkles:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1183,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1183,"cache peers in election structure
 disable resolver cache in sqliterepo-based services
 improve meta1 mover","cache peers in election structure
 disable resolver cache in sqliterepo-based services
 improve meta1 mover",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1183,2017-09-25T16:07:18Z,2017-10-13T15:08:27Z,2017-10-16T14:18:03Z,MERGED,True,744,269,29,https://github.com/fvennetier,"Peers cache, meta1 mover",15,"['enhancement :sparkles:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1183,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1183#issuecomment-331938559,"cache peers in election structure
 disable resolver cache in sqliterepo-based services
 improve meta1 mover","Codecov Report

Merging #1183 into 4.x will increase coverage by 0.57%.
The diff coverage is 71.26%.


@@            Coverage Diff            @@
##              4.x   #1183      +/-   ##
=========================================
+ Coverage   76.02%   76.6%   +0.57%     
=========================================
  Files         305     305              
  Lines       53926   54129     +203     
  Branches     6591    6620      +29     
=========================================
+ Hits        40996   41464     +468     
+ Misses      12395   12213     -182     
+ Partials      535     452      -83



Impacted Files
Coverage Δ





proxy/common.c
81.72% <ø> (ø)
⬆️


sqliterepo/sqlite_utils.h
100% <ø> (ø)
⬆️


tests/functional/crawler/test_storage_tierer.py
96.42% <ø> (ø)
⬆️


proxy/metacd_http.c
90.51% <ø> (ø)
⬆️


proxy/reply.c
76.74% <ø> (ø)
⬆️


sqliterepo/replication_dispatcher.c
49.63% <ø> (+4.5%)
⬆️


meta2v2/meta2_utils.c
73.25% <ø> (+2.63%)
⬆️


proxy/sqlx_actions.c
56.84% <0%> (-4.43%)
⬇️


server/transport_gridd.c
69.37% <0%> (-0.21%)
⬇️


tests/functional/cli/election/test_election.py
100% <100%> (ø)
⬆️


... and 56 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 465ad59...049c156. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1184,2017-09-26T12:03:48Z,2017-09-26T14:01:51Z,2017-09-27T12:09:00Z,MERGED,True,24,18,4,https://github.com/jfsmig,Fix the management of the return of g_thread_pool_push(),3,[],https://github.com/open-io/oio-sds/pull/1184,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1184,"Despite the error returned, the pointer is queued.
Consider reading the implementation here because the documentation is error prone.","Despite the error returned, the pointer is queued.
Consider reading the implementation here because the documentation is error prone.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1184,2017-09-26T12:03:48Z,2017-09-26T14:01:51Z,2017-09-27T12:09:00Z,MERGED,True,24,18,4,https://github.com/jfsmig,Fix the management of the return of g_thread_pool_push(),3,[],https://github.com/open-io/oio-sds/pull/1184,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1184#issuecomment-332179293,"Despite the error returned, the pointer is queued.
Consider reading the implementation here because the documentation is error prone.","Codecov Report

Merging #1184 into 4.1.x will decrease coverage by 0.11%.
The diff coverage is 58.33%.


@@            Coverage Diff             @@
##            4.1.x    #1184      +/-   ##
==========================================
- Coverage   75.79%   75.67%   -0.12%     
==========================================
  Files         292      292              
  Lines       53666    53671       +5     
  Branches     6612     6613       +1     
==========================================
- Hits        40675    40615      -60     
- Misses      12497    12546      +49     
- Partials      494      510      +16



Impacted Files
Coverage Δ





sqliterepo/election.c
78.94% <ø> (-0.19%)
⬇️


server/network_server.c
80.41% <100%> (+0.67%)
⬆️


metautils/lib/utils_containers.c
33.33% <44.44%> (+0.77%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


meta2v2/meta2_filters_action_container.c
50.88% <0%> (-5.7%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7c7de72...9b92a7f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1186,2017-09-29T15:04:46Z,2017-09-29T17:03:17Z,2018-04-10T16:03:50Z,MERGED,True,76,4,2,https://github.com/kamel-rahim,Account: fix comparison between float,1,[],https://github.com/open-io/oio-sds/pull/1186,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1186,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1186,2017-09-29T15:04:46Z,2017-09-29T17:03:17Z,2018-04-10T16:03:50Z,MERGED,True,76,4,2,https://github.com/kamel-rahim,Account: fix comparison between float,1,[],https://github.com/open-io/oio-sds/pull/1186,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1186#issuecomment-333158053,,"Codecov Report

Merging #1186 into 4.1.x will increase coverage by 0.06%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1186      +/-   ##
==========================================
+ Coverage   75.81%   75.88%   +0.06%     
==========================================
  Files         292      292              
  Lines       53671    53706      +35     
  Branches     6613     6613              
==========================================
+ Hits        40692    40754      +62     
+ Misses      12507    12505       -2     
+ Partials      472      447      -25



Impacted Files
Coverage Δ





tests/functional/account/test_backend.py
100% <100%> (ø)
⬆️


oio/account/backend.py
79.63% <100%> (+0.09%)
⬆️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


sqliterepo/replication_dispatcher.c
43.35% <0%> (-2.19%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.03% <0%> (-1.37%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3a38747...3f4f510. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1187,2017-10-02T09:52:02Z,2017-10-02T15:38:10Z,2017-10-02T15:39:05Z,MERGED,True,6,6,4,https://github.com/fvennetier,"Fix container locate, object create, and documentation",3,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1187,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1187,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1187,2017-10-02T09:52:02Z,2017-10-02T15:38:10Z,2017-10-02T15:39:05Z,MERGED,True,6,6,4,https://github.com/fvennetier,"Fix container locate, object create, and documentation",3,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1187,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1187#issuecomment-333520876,,"Codecov Report

Merging #1187 into 4.x will decrease coverage by 0.14%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1187      +/-   ##
==========================================
- Coverage   76.03%   75.88%   -0.15%     
==========================================
  Files         304      304              
  Lines       53841    53841              
  Branches     6614     6614              
==========================================
- Hits        40938    40859      -79     
+ Misses      12489    12484       -5     
- Partials      414      498      +84



Impacted Files
Coverage Δ





gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


oio/account/client.py
78.02% <0%> (-4.4%)
⬇️


meta2v2/meta2_backend.c
71.23% <0%> (-3.99%)
⬇️


meta2v2/meta2_utils.c
70.61% <0%> (-2.64%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-1.24%)
⬇️


gridd/main/sock.c
61.76% <0%> (-0.99%)
⬇️


sqliterepo/synchro.c
56.84% <0%> (-0.9%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 759831b...fbbc4e8. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1188,2017-10-02T12:13:32Z,2017-10-02T15:44:35Z,2018-04-10T16:03:50Z,MERGED,True,3,3,2,https://github.com/kamel-rahim,Fix configuration reload  SEGFAULT on SIGHUP,2,[],https://github.com/open-io/oio-sds/pull/1188,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1188,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1188,2017-10-02T12:13:32Z,2017-10-02T15:44:35Z,2018-04-10T16:03:50Z,MERGED,True,3,3,2,https://github.com/kamel-rahim,Fix configuration reload  SEGFAULT on SIGHUP,2,[],https://github.com/open-io/oio-sds/pull/1188,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1188#issuecomment-333540295,,"Codecov Report

Merging #1188 into 4.1.x will increase coverage by 0.1%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.1.x    #1188     +/-   ##
=========================================
+ Coverage   75.63%   75.73%   +0.1%     
=========================================
  Files         292      292             
  Lines       53706    53709      +3     
  Branches     6619     6614      -5     
=========================================
+ Hits        40618    40678     +60     
- Misses      12559    12565      +6     
+ Partials      529      466     -63



Impacted Files
Coverage Δ





core/var.c
71.18% <100%> (+5.93%)
⬆️


tools/oio-tool.c
66.84% <100%> (+0.17%)
⬆️


oio/common/utils.py
57.92% <0%> (-4.71%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta2v2/meta2_backend.c
70.68% <0%> (-4.54%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-2.5%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2db832c...ba77186. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1189,2017-10-02T12:49:06Z,2017-10-02T13:31:11Z,2017-10-02T20:00:20Z,MERGED,True,5,2,1,https://github.com/jfsmig,resolver: Consider max==0 as the infinity,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1189,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1189,".. so that by default we keep an unlimited cache.
We already have another variable to mention we don't want to cache items.",".. so that by default we keep an unlimited cache.
We already have another variable to mention we don't want to cache items.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1189,2017-10-02T12:49:06Z,2017-10-02T13:31:11Z,2017-10-02T20:00:20Z,MERGED,True,5,2,1,https://github.com/jfsmig,resolver: Consider max==0 as the infinity,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1189,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1189#issuecomment-333532886,".. so that by default we keep an unlimited cache.
We already have another variable to mention we don't want to cache items.","Codecov Report

Merging #1189 into 4.1.x will increase coverage by 0.17%.
The diff coverage is 75%.


@@            Coverage Diff            @@
##            4.1.x   #1189      +/-   ##
=========================================
+ Coverage   75.63%   75.8%   +0.17%     
=========================================
  Files         292     292              
  Lines       53706   53708       +2     
  Branches     6619    6620       +1     
=========================================
+ Hits        40618   40713      +95     
+ Misses      12559   12490      -69     
+ Partials      529     505      -24



Impacted Files
Coverage Δ





resolver/hc_resolver.c
87.39% <75%> (-0.22%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-0.83%)
⬇️


server/transport_gridd.c
67.55% <0%> (-0.83%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-0.76%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


metautils/lib/comm_message.c
85.26% <0%> (-0.27%)
⬇️


oio/api/ec.py
93.9% <0%> (-0.19%)
⬇️


sqliterepo/repository.c
71.16% <0%> (-0.13%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2db832c...df3e998. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1190,2017-10-02T13:04:57Z,2017-10-02T13:11:18Z,2019-04-04T12:40:50Z,CLOSED,False,4513,2071,515,https://github.com/vincent-legoll,Docfix,59,[],https://github.com/open-io/oio-sds/pull/1190,https://github.com/vincent-legoll,1,https://github.com/open-io/oio-sds/pull/1190,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1191,2017-10-02T13:11:39Z,2017-10-02T14:52:45Z,2019-04-04T12:40:52Z,MERGED,True,25,25,1,https://github.com/vincent-legoll,Fix small typos & english glitches,1,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1191,https://github.com/vincent-legoll,1,https://github.com/open-io/oio-sds/pull/1191,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1191,2017-10-02T13:11:39Z,2017-10-02T14:52:45Z,2019-04-04T12:40:52Z,MERGED,True,25,25,1,https://github.com/vincent-legoll,Fix small typos & english glitches,1,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1191,https://github.com/vincent-legoll,2,https://github.com/open-io/oio-sds/pull/1191#issuecomment-333546021,,What's the matter with this Travis test failing ?,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1191,2017-10-02T13:11:39Z,2017-10-02T14:52:45Z,2019-04-04T12:40:52Z,MERGED,True,25,25,1,https://github.com/vincent-legoll,Fix small typos & english glitches,1,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1191,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/1191#issuecomment-333549244,,"The travis-ci infrasturcture is sometimes really ... slow.
Some tests depend on (decently high and fair enough) timeouts, even if this is a bad idea in general to depend on time in the context of the tests.
In this case, the python tests.functional.rdir.test_server.TestRdirServer2 starts a sandboxed rdir, and waits for its plain startup (or the listen socket appears, or the timeout is raised). Here, the rdir didn't start fast enough.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1191,2017-10-02T13:11:39Z,2017-10-02T14:52:45Z,2019-04-04T12:40:52Z,MERGED,True,25,25,1,https://github.com/vincent-legoll,Fix small typos & english glitches,1,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1191,https://github.com/codecov-io,4,https://github.com/open-io/oio-sds/pull/1191#issuecomment-333557910,,"Codecov Report

Merging #1191 into master will increase coverage by 0.11%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1191      +/-   ##
==========================================
+ Coverage   75.93%   76.04%   +0.11%     
==========================================
  Files         305      305              
  Lines       53926    53926              
  Branches     6610     6610              
==========================================
+ Hits        40948    41008      +60     
- Misses      12481    12520      +39     
+ Partials      497      398      -99



Impacted Files
Coverage Δ





gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


meta2v2/meta2_filters_action_container.c
50.88% <0%> (-4.63%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-4.2%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta1v2/meta1_remote.c
72.22% <0%> (-2.39%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


gridd/main/sock.c
61.76% <0%> (-1.48%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0dcfd24...c309683. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1196,2017-10-02T14:17:21Z,2017-10-04T13:56:09Z,2017-10-04T14:03:52Z,MERGED,True,160,233,14,https://github.com/jfsmig,Simplify the cache management,10,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1196,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1196,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1196,2017-10-02T14:17:21Z,2017-10-04T13:56:09Z,2017-10-04T14:03:52Z,MERGED,True,160,233,14,https://github.com/jfsmig,Simplify the cache management,10,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1196,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1196#issuecomment-333559460,,"Codecov Report

Merging #1196 into 4.x will increase coverage by 3.4%.
The diff coverage is 86.66%.


@@            Coverage Diff            @@
##              4.x    #1196     +/-   ##
=========================================
+ Coverage   72.69%   76.09%   +3.4%     
=========================================
  Files         305      305             
  Lines       53934    53907     -27     
  Branches     6592     6596      +4     
=========================================
+ Hits        39205    41022   +1817     
+ Misses      14386    12406   -1980     
- Partials      343      479    +136



Impacted Files
Coverage Δ





server/transport_gridd.c
69.37% <0%> (+0.62%)
⬆️


metautils/lib/common_main.c
40.1% <0%> (ø)
⬆️


proxy/metacd_http.c
89.71% <100%> (-0.41%)
⬇️


tests/unit/test_meta2_backend.c
100% <100%> (ø)
⬆️


proxy/cache_actions.c
51.4% <100%> (+5.18%)
⬆️


core/var.c
70.9% <76.92%> (-0.29%)
⬇️


resolver/hc_resolver.c
91.54% <89.53%> (+3.86%)
⬆️


proxy/cs_actions.c
89.14% <0%> (-1.36%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-0.79%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


... and 52 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 651cee5...7e91e17. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1197,2017-10-02T19:53:40Z,2017-10-03T07:51:21Z,2017-10-04T07:31:59Z,MERGED,True,112,6,6,https://github.com/jfsmig,Improve the configurability of the cache-related background tasks,6,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1197,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1197,"Make the meta* services react to the same set of (recently fixed) rules to expires the items in the cache of the resolver. The items
Also configure the expiration of the bases in the caches of unused bases in sqliterepo.","Make the meta* services react to the same set of (recently fixed) rules to expires the items in the cache of the resolver. The items
Also configure the expiration of the bases in the caches of unused bases in sqliterepo.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1197,2017-10-02T19:53:40Z,2017-10-03T07:51:21Z,2017-10-04T07:31:59Z,MERGED,True,112,6,6,https://github.com/jfsmig,Improve the configurability of the cache-related background tasks,6,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1197,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1197#issuecomment-333671969,"Make the meta* services react to the same set of (recently fixed) rules to expires the items in the cache of the resolver. The items
Also configure the expiration of the bases in the caches of unused bases in sqliterepo.","Codecov Report

Merging #1197 into 4.1.x will decrease coverage by 0.11%.
The diff coverage is 94.11%.


@@            Coverage Diff             @@
##            4.1.x    #1197      +/-   ##
==========================================
- Coverage   75.96%   75.84%   -0.12%     
==========================================
  Files         292      293       +1     
  Lines       53709    53738      +29     
  Branches     6614     6618       +4     
==========================================
- Hits        40798    40760      -38     
- Misses      12488    12506      +18     
- Partials      423      472      +49



Impacted Files
Coverage Δ





meta1v2/meta1_remote.c
74.21% <100%> (ø)
⬆️


tests/unit/test_variable_period.c
100% <100%> (ø)



sqlx/sqlx_service.c
82.29% <71.42%> (-0.37%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta2v2/meta2_backend.c
71.12% <0%> (-4.1%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


metautils/lib/gridd_client.c
72.78% <0%> (-1.73%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-1.43%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e3a5bf1...cfbf38c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1198,2017-10-02T20:47:04Z,2017-10-03T10:11:25Z,2017-10-04T07:32:10Z,MERGED,True,48,43,2,https://github.com/jfsmig,meta*: Generate a JSON output for /info,2,"['bug :scream:', 'enhancement :sparkles:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1198,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1198,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1198,2017-10-02T20:47:04Z,2017-10-03T10:11:25Z,2017-10-04T07:32:10Z,MERGED,True,48,43,2,https://github.com/jfsmig,meta*: Generate a JSON output for /info,2,"['bug :scream:', 'enhancement :sparkles:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1198,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1198#issuecomment-333664317,,"Codecov Report

Merging #1198 into 4.x will increase coverage by 0.09%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1198      +/-   ##
==========================================
+ Coverage   75.94%   76.03%   +0.09%     
==========================================
  Files         304      304              
  Lines       53879    53888       +9     
  Branches     6615     6612       -3     
==========================================
+ Hits        40916    40972      +56     
+ Misses      12489    12452      -37     
+ Partials      474      464      -10



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
44.81% <100%> (-2.2%)
⬇️


core/str.c
89.52% <100%> (+1.74%)
⬆️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


resolver/hc_resolver.c
87.39% <0%> (-0.86%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


sqliterepo/sqlx_remote.c
67.16% <0%> (-0.75%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.94% <0%> (-0.46%)
⬇️


meta0v2/meta0_backend.c
79.33% <0%> (-0.42%)
⬇️


proxy/m2_actions.c
81.91% <0%> (-0.09%)
⬇️


... and 22 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 27e366f...4b007aa. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1199,2017-10-02T20:54:14Z,2017-10-03T09:34:14Z,2017-10-04T07:32:11Z,MERGED,True,106,157,5,https://github.com/jfsmig,proxy: Make a better use of the route parser,2,[],https://github.com/open-io/oio-sds/pull/1199,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1199,Explode each of the /forward/* routes into separate routes with the proper verb (POST or GET when meaningful),Explode each of the /forward/* routes into separate routes with the proper verb (POST or GET when meaningful),True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1199,2017-10-02T20:54:14Z,2017-10-03T09:34:14Z,2017-10-04T07:32:11Z,MERGED,True,106,157,5,https://github.com/jfsmig,proxy: Make a better use of the route parser,2,[],https://github.com/open-io/oio-sds/pull/1199,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1199#issuecomment-333666454,Explode each of the /forward/* routes into separate routes with the proper verb (POST or GET when meaningful),"Codecov Report

Merging #1199 into 4.x will increase coverage by 0.18%.
The diff coverage is 41.3%.


@@            Coverage Diff             @@
##              4.x    #1199      +/-   ##
==========================================
+ Coverage   75.94%   76.12%   +0.18%     
==========================================
  Files         304      304              
  Lines       53879    53822      -57     
  Branches     6615     6597      -18     
==========================================
+ Hits        40916    40972      +56     
+ Misses      12489    12424      -65     
+ Partials      474      426      -48



Impacted Files
Coverage Δ





server/transport_gridd.c
66.45% <0%> (-2.13%)
⬇️


proxy/metacd_http.c
90.25% <100%> (+0.57%)
⬆️


proxy/cache_actions.c
36.97% <29.41%> (+4.97%)
⬆️


meta0v2/meta0_backend.c
78.51% <0%> (-1.24%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-0.76%)
⬇️


sqliterepo/sqlx_remote.c
67.16% <0%> (-0.75%)
⬇️


rawx-apache2/src/rawx_repository.c
48.89% <0%> (-0.74%)
⬇️


gridd/main/sock.c
61.76% <0%> (-0.5%)
⬇️


... and 17 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 27e366f...fdae91e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1200,2017-10-02T20:58:45Z,2017-10-03T14:47:19Z,2017-10-04T07:32:00Z,MERGED,True,204,325,17,https://github.com/jfsmig,"Drop dead code, Test the xattr-lock of a volume",7,[],https://github.com/open-io/oio-sds/pull/1200,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1200,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1200,2017-10-02T20:58:45Z,2017-10-03T14:47:19Z,2017-10-04T07:32:00Z,MERGED,True,204,325,17,https://github.com/jfsmig,"Drop dead code, Test the xattr-lock of a volume",7,[],https://github.com/open-io/oio-sds/pull/1200,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1200#issuecomment-333765707,,"Codecov Report

Merging #1200 into master will increase coverage by 0.21%.
The diff coverage is 79.16%.


@@            Coverage Diff             @@
##           master    #1200      +/-   ##
==========================================
+ Coverage   75.87%   76.09%   +0.21%     
==========================================
  Files         305      305              
  Lines       53926    53893      -33     
  Branches     6610     6599      -11     
==========================================
+ Hits        40919    41009      +90     
+ Misses      12488    12392      -96     
+ Partials      519      492      -27



Impacted Files
Coverage Δ





metautils/lib/utils_resolv.c
81.37% <ø> (+16.75%)
⬆️


metautils/lib/utils_addr_info.c
81.13% <ø> (+23.79%)
⬆️


metautils/lib/utils_gba.c
74.64% <ø> (+13.01%)
⬆️


metautils/lib/utils_errors.c
88.23% <ø> (+42.78%)
⬆️


cluster/module/module.c
70.59% <0%> (-0.09%)
⬇️


metautils/lib/utils_sockets.c
48.81% <0%> (+0.19%)
⬆️


metautils/lib/comm_converter.c
73.82% <69.76%> (-0.46%)
⬇️


tests/func/test_volume_lock.c
97.87% <97.87%> (ø)



meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta2v2/meta2_backend.c
71.34% <0%> (-3.88%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update fcc567d...1f3ee4c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1202,2017-10-03T13:53:43Z,2017-10-03T20:31:13Z,2018-04-10T16:03:49Z,MERGED,True,8,1,1,https://github.com/kamel-rahim,Rdir client: clear cache on network errors,1,[],https://github.com/open-io/oio-sds/pull/1202,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1202,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1203,2017-10-03T16:22:31Z,2017-10-03T20:12:26Z,2017-10-04T07:31:57Z,MERGED,True,85,0,2,https://github.com/jfsmig,Fix a possible loop in the FSM of the elections in sqliterepo,3,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1203,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1203,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1203,2017-10-03T16:22:31Z,2017-10-03T20:12:26Z,2017-10-04T07:31:57Z,MERGED,True,85,0,2,https://github.com/jfsmig,Fix a possible loop in the FSM of the elections in sqliterepo,3,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1203,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1203#issuecomment-333916226,,"Codecov Report

Merging #1203 into 4.1.x will increase coverage by 0.04%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1203      +/-   ##
==========================================
+ Coverage   75.98%   76.03%   +0.04%     
==========================================
  Files         293      293              
  Lines       53738    53806      +68     
  Branches     6618     6624       +6     
==========================================
+ Hits        40834    40909      +75     
+ Misses      12525    12484      -41     
- Partials      379      413      +34



Impacted Files
Coverage Δ





sqliterepo/election.c
79.14% <100%> (+0.07%)
⬆️


tests/unit/test_sqliterepo_election.c
95.13% <100%> (+0.45%)
⬆️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


oio/common/utils.py
61.88% <0%> (-0.75%)
⬇️


sqliterepo/gridd_client_pool.c
69.19% <0%> (-0.48%)
⬇️


metautils/lib/comm_converter.c
74.01% <0%> (-0.27%)
⬇️


sqliterepo/repository.c
71.9% <0%> (ø)
⬆️


sqliterepo/replication_dispatcher.c
45.54% <0%> (+0.08%)
⬆️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 25356fc...cf2bee3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1204,2017-10-03T16:43:05Z,2017-10-03T20:13:51Z,2017-10-16T07:34:42Z,MERGED,True,5,5,1,https://github.com/kamel-rahim,beanstalk client: handle OUT_OF_MEMORY,1,[],https://github.com/open-io/oio-sds/pull/1204,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1204,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1204,2017-10-03T16:43:05Z,2017-10-03T20:13:51Z,2017-10-16T07:34:42Z,MERGED,True,5,5,1,https://github.com/kamel-rahim,beanstalk client: handle OUT_OF_MEMORY,1,[],https://github.com/open-io/oio-sds/pull/1204,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1204#issuecomment-333922212,,"Codecov Report

Merging #1204 into 4.1.x will decrease coverage by 0.13%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1204      +/-   ##
==========================================
- Coverage   75.98%   75.85%   -0.14%     
==========================================
  Files         293      293              
  Lines       53738    53738              
  Branches     6618     6618              
==========================================
- Hits        40834    40763      -71     
- Misses      12525    12539      +14     
- Partials      379      436      +57



Impacted Files
Coverage Δ





oio/event/beanstalk.py
61.18% <ø> (ø)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


proxy/cs_actions.c
89.14% <0%> (-1.36%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


proxy/metacd_http.c
89.67% <0%> (-0.81%)
⬇️


metautils/lib/gridd_client_ext.c
80.59% <0%> (-0.75%)
⬇️


... and 22 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 25356fc...4394be9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1205,2017-10-03T20:39:18Z,2017-10-04T06:55:15Z,2017-10-04T07:31:56Z,MERGED,True,2,2,1,https://github.com/jfsmig,sqliterepo/election: Fix the JSON format of an election dump,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1205,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1205,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1205,2017-10-03T20:39:18Z,2017-10-04T06:55:15Z,2017-10-04T07:31:56Z,MERGED,True,2,2,1,https://github.com/jfsmig,sqliterepo/election: Fix the JSON format of an election dump,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1205,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1205#issuecomment-333977909,,"Codecov Report

Merging #1205 into 4.1.x will decrease coverage by 0.14%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##            4.1.x    #1205      +/-   ##
==========================================
- Coverage   75.98%   75.84%   -0.15%     
==========================================
  Files         293      293              
  Lines       53811    53811              
  Branches     6618     6624       +6     
==========================================
- Hits        40890    40814      -76     
+ Misses      12511    12502       -9     
- Partials      410      495      +85



Impacted Files
Coverage Δ





sqliterepo/election.c
78.83% <0%> (-0.56%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta2v2/meta2_backend.c
71.23% <0%> (-3.99%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-2.23%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.03% <0%> (-1.37%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-1.24%)
⬇️


sqliterepo/replication_dispatcher.c
42.22% <0%> (-1.14%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d4a84d9...8827f08. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1206,2017-10-04T07:31:09Z,2017-10-04T08:04:42Z,2017-10-04T14:03:55Z,MERGED,True,6,1,2,https://github.com/jfsmig,"proxy,conscience-agent: Fix the verb of the /forward/stats route",2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1206,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1206,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1206,2017-10-04T07:31:09Z,2017-10-04T08:04:42Z,2017-10-04T14:03:55Z,MERGED,True,6,1,2,https://github.com/jfsmig,"proxy,conscience-agent: Fix the verb of the /forward/stats route",2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1206,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1206#issuecomment-334075511,,"@fvennetier: The purpose of the PR is to fix a temporary ""hard to upgrade"" situation that came with
Prior to the commit 9fcc0b9, we had both GET and POST managed:
SET(""/forward/stats/#GET"", action_forward_stats);
SET(""/forward/stats/#POST"", action_forward_stats);

But the commit changed this and allowed only GET, while the conscience-agent is still using POST:
SET(""/forward/stats/#GET"", action_forward_stats);

We now restore the GET+POST, with a mention to remove the POST that makes no sense, as soon as the platform has been upgraded:
SET(""/forward/stats/#GET"", action_forward_stats);
/* TODO(jfs): remove in a further release, present for the sake of backward
 * compliance and smooth transition */
SET(""/forward/stats/#POST"", action_forward_stats);",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1207,2017-10-05T13:43:57Z,2017-10-06T07:45:08Z,2017-10-09T08:04:39Z,MERGED,True,8,3,2,https://github.com/fvennetier,sqliterepo: report number of threads waiting for a base,2,[],https://github.com/open-io/oio-sds/pull/1207,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1207,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1207,2017-10-05T13:43:57Z,2017-10-06T07:45:08Z,2017-10-09T08:04:39Z,MERGED,True,8,3,2,https://github.com/fvennetier,sqliterepo: report number of threads waiting for a base,2,[],https://github.com/open-io/oio-sds/pull/1207,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1207#issuecomment-334472236,,"Codecov Report

Merging #1207 into 4.1.x will decrease coverage by 0.11%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##            4.1.x    #1207      +/-   ##
==========================================
- Coverage   75.99%   75.88%   -0.12%     
==========================================
  Files         293      293              
  Lines       53811    53811              
  Branches     6618     6618              
==========================================
- Hits        40895    40834      -61     
- Misses      12462    12510      +48     
- Partials      454      467      +13



Impacted Files
Coverage Δ





sqliterepo/cache.c
89.25% <0%> (-0.26%)
⬇️


sqlx/sqlx_service.c
82.73% <0%> (ø)
⬆️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


sqliterepo/gridd_client_pool.c
69.19% <0%> (-2.37%)
⬇️


metautils/lib/gridd_client.c
73% <0%> (-1.52%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


meta2v2/meta2_filters_action_container.c
55.51% <0%> (-1.07%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a1ee169...77548a0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1208,2017-10-06T07:37:10Z,2017-10-11T00:50:28Z,2017-10-17T18:27:44Z,MERGED,True,39,10,4,https://github.com/jfsmig,Speed the exit process of the conscience-agent,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1208,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1208,"During the CI tests, especially when the load is high on large deployments, the tests sometimes fail because the conscience-agent is too slow to exit. It may even take several minutes to do so. It appears it remains sticked on loop-failing HTTP requests to the oio-proxy (that is down), retried periodically.
In this context, we:

Allowed the proxy to react the same way to more exit signals
Broke a main ""while True"" loop with the help of a flag, unset when an exit signal is received
Forbid urllib3 to do retries when registering services","During the CI tests, especially when the load is high on large deployments, the tests sometimes fail because the conscience-agent is too slow to exit. It may even take several minutes to do so. It appears it remains sticked on loop-failing HTTP requests to the oio-proxy (that is down), retried periodically.
In this context, we:

Allowed the proxy to react the same way to more exit signals
Broke a main ""while True"" loop with the help of a flag, unset when an exit signal is received
Forbid urllib3 to do retries when registering services",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1208,2017-10-06T07:37:10Z,2017-10-11T00:50:28Z,2017-10-17T18:27:44Z,MERGED,True,39,10,4,https://github.com/jfsmig,Speed the exit process of the conscience-agent,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1208,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1208#issuecomment-334682024,"During the CI tests, especially when the load is high on large deployments, the tests sometimes fail because the conscience-agent is too slow to exit. It may even take several minutes to do so. It appears it remains sticked on loop-failing HTTP requests to the oio-proxy (that is down), retried periodically.
In this context, we:

Allowed the proxy to react the same way to more exit signals
Broke a main ""while True"" loop with the help of a flag, unset when an exit signal is received
Forbid urllib3 to do retries when registering services",Thanks to @kamel-rahim for the diagnosis,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1208,2017-10-06T07:37:10Z,2017-10-11T00:50:28Z,2017-10-17T18:27:44Z,MERGED,True,39,10,4,https://github.com/jfsmig,Speed the exit process of the conscience-agent,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1208,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1208#issuecomment-334683859,"During the CI tests, especially when the load is high on large deployments, the tests sometimes fail because the conscience-agent is too slow to exit. It may even take several minutes to do so. It appears it remains sticked on loop-failing HTTP requests to the oio-proxy (that is down), retried periodically.
In this context, we:

Allowed the proxy to react the same way to more exit signals
Broke a main ""while True"" loop with the help of a flag, unset when an exit signal is received
Forbid urllib3 to do retries when registering services","Codecov Report

Merging #1208 into 4.x will decrease coverage by 0.2%.
The diff coverage is 11.11%.


@@            Coverage Diff             @@
##              4.x    #1208      +/-   ##
==========================================
- Coverage   76.29%   76.09%   -0.21%     
==========================================
  Files         305      305              
  Lines       53907    53920      +13     
  Branches     6590     6596       +6     
==========================================
- Hits        41128    41030      -98     
- Misses      12325    12404      +79     
- Partials      454      486      +32



Impacted Files
Coverage Δ





oio/conscience/client.py
55.55% <50%> (ø)
⬆️


oio/common/daemon.py
35.41% <6.25%> (-10.3%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/replication_dispatcher.c
41.83% <0%> (-3.3%)
⬇️


rdir/rdir.c
71% <0%> (-3.2%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


sqliterepo/gridd_client_pool.c
69.19% <0%> (-2.37%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e525b2d...230ee5a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1209,2017-10-09T14:01:10Z,2017-10-13T08:29:22Z,2017-10-17T18:27:42Z,MERGED,True,56,44,1,https://github.com/jfsmig,Meta2: fix the checks when opening a container,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1209,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1209,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1209,2017-10-09T14:01:10Z,2017-10-13T08:29:22Z,2017-10-17T18:27:42Z,MERGED,True,56,44,1,https://github.com/jfsmig,Meta2: fix the checks when opening a container,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1209,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1209#issuecomment-336078915,,"Codecov Report

Merging #1209 into 4.1.x will increase coverage by 1.86%.
The diff coverage is 87.09%.


@@            Coverage Diff             @@
##            4.1.x    #1209      +/-   ##
==========================================
+ Coverage   74.21%   76.08%   +1.86%     
==========================================
  Files         293      293              
  Lines       53683    53816     +133     
  Branches     6624     6625       +1     
==========================================
+ Hits        39842    40946    +1104     
+ Misses      12615    12468     -147     
+ Partials     1226      402     -824



Impacted Files
Coverage Δ





meta2v2/meta2_backend.c
75.24% <87.09%> (+5.33%)
⬆️


rdir/routes.c.rl
90.32% <0%> (-3.23%)
⬇️


meta0v2/zk_manager.c
61.71% <0%> (-0.98%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


metautils/lib/comm_message.c
85% <0%> (-0.53%)
⬇️


sqliterepo/repository.c
71.78% <0%> (-0.25%)
⬇️


server/network_server.c
81.71% <0%> (+0.12%)
⬆️


core/proxy.c
81.5% <0%> (+0.17%)
⬆️


server/transport_gridd.c
68.78% <0%> (+0.2%)
⬆️


... and 70 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d5cd14c...d604c76. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1210,2017-10-09T15:59:56Z,2017-10-11T07:36:02Z,2017-10-11T07:36:05Z,MERGED,True,97,19,3,https://github.com/fvennetier,Explain how to reduce election pings,2,[],https://github.com/open-io/oio-sds/pull/1210,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1210,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1210,2017-10-09T15:59:56Z,2017-10-11T07:36:02Z,2017-10-11T07:36:05Z,MERGED,True,97,19,3,https://github.com/fvennetier,Explain how to reduce election pings,2,[],https://github.com/open-io/oio-sds/pull/1210,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1210#issuecomment-335209719,,"Codecov Report

Merging #1210 into 4.x will decrease coverage by 0.16%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##              4.x    #1210      +/-   ##
==========================================
- Coverage   76.29%   76.13%   -0.17%     
==========================================
  Files         305      305              
  Lines       53907    53907              
  Branches     6590     6590              
==========================================
- Hits        41128    41040      -88     
- Misses      12325    12371      +46     
- Partials      454      496      +42



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
44.73% <0%> (-0.41%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


oio/account/client.py
78.02% <0%> (-4.4%)
⬇️


meta2v2/meta2_backend.c
71.34% <0%> (-3.88%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


oio/crawler/storage_tierer.py
59.09% <0%> (-2.73%)
⬇️


sqliterepo/gridd_client_pool.c
69.66% <0%> (-1.9%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


metautils/lib/gridd_client.c
73.65% <0%> (-1.73%)
⬇️


oio/api/base.py
80.82% <0%> (-1.37%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e525b2d...5be6647. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1211,2017-10-10T16:40:07Z,2017-10-11T07:58:24Z,2017-10-11T07:58:28Z,MERGED,True,13,6,2,https://github.com/fvennetier,CLI: add timeout option to election subcommands,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1211,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1211,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1211,2017-10-10T16:40:07Z,2017-10-11T07:58:24Z,2017-10-11T07:58:28Z,MERGED,True,13,6,2,https://github.com/fvennetier,CLI: add timeout option to election subcommands,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1211,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1211#issuecomment-335649465,,"Codecov Report

Merging #1211 into 4.x will decrease coverage by 0.06%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1211      +/-   ##
==========================================
- Coverage   76.29%   76.23%   -0.07%     
==========================================
  Files         305      305              
  Lines       53907    53907              
  Branches     6590     6596       +6     
==========================================
- Hits        41128    41094      -34     
- Misses      12325    12389      +64     
+ Partials      454      424      -30



Impacted Files
Coverage Δ





meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


oio/crawler/storage_tierer.py
59.09% <0%> (-2.73%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-2.5%)
⬇️


sqliterepo/gridd_client_pool.c
69.19% <0%> (-2.37%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


meta1v2/meta1_prefixes.c
80.83% <0%> (-1.8%)
⬇️


metautils/lib/gridd_client.c
73.86% <0%> (-1.52%)
⬇️


oio/api/base.py
80.82% <0%> (-1.37%)
⬇️


sqliterepo/repository.c
72.02% <0%> (-1.24%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e525b2d...602aa34. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1212,2017-10-12T10:04:47Z,2017-10-17T15:09:45Z,2017-10-20T08:13:37Z,MERGED,True,365,0,6,https://github.com/AymericDu,oio-check-services: Add script to check services,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1212,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1212,"Add script to make a GET/PUT/DELETE on each service (rawx and meta2)
$ oio-check-services OPENIO
RAWX 127.0.0.1:6024 OK
RAWX 127.0.0.1:6023 OK
RAWX 127.0.0.1:6022 OK
META2 127.0.0.1:6015 OK
META2 127.0.0.1:6018 OK
META2 127.0.0.1:6016 OK
META2 127.0.0.1:6017 OK
$ gridinit_cmd -S ~/.oio/sds/run/gridinit.sock -c stop OPENIO-rawx-1
DONE OPENIO-rawx-1        Success
$ oio-check-services OPENIO
RAWX 127.0.0.1:6024 OK
RAWX 127.0.0.1:6023 OK
RAWX 127.0.0.1:6022 FAIL
META2 127.0.0.1:6015 FAIL
META2 127.0.0.1:6018 FAIL
META2 127.0.0.1:6016 FAIL
META2 127.0.0.1:6017 FAIL
$ gridinit_cmd -S ~/.oio/sds/run/gridinit.sock -c stop OPENIO-meta2-1
DONE OPENIO-meta2-1        Success
$ oio-check-services OPENIO
RAWX 127.0.0.1:6024 OK
RAWX 127.0.0.1:6022 OK
RAWX 127.0.0.1:6023 OK
META2 127.0.0.1:6015 FAIL
META2 127.0.0.1:6018 OK
META2 127.0.0.1:6016 OK
META2 127.0.0.1:6017 OK","Add script to make a GET/PUT/DELETE on each service (rawx and meta2)
$ oio-check-services OPENIO
RAWX 127.0.0.1:6024 OK
RAWX 127.0.0.1:6023 OK
RAWX 127.0.0.1:6022 OK
META2 127.0.0.1:6015 OK
META2 127.0.0.1:6018 OK
META2 127.0.0.1:6016 OK
META2 127.0.0.1:6017 OK
$ gridinit_cmd -S ~/.oio/sds/run/gridinit.sock -c stop OPENIO-rawx-1
DONE OPENIO-rawx-1        Success
$ oio-check-services OPENIO
RAWX 127.0.0.1:6024 OK
RAWX 127.0.0.1:6023 OK
RAWX 127.0.0.1:6022 FAIL
META2 127.0.0.1:6015 FAIL
META2 127.0.0.1:6018 FAIL
META2 127.0.0.1:6016 FAIL
META2 127.0.0.1:6017 FAIL
$ gridinit_cmd -S ~/.oio/sds/run/gridinit.sock -c stop OPENIO-meta2-1
DONE OPENIO-meta2-1        Success
$ oio-check-services OPENIO
RAWX 127.0.0.1:6024 OK
RAWX 127.0.0.1:6022 OK
RAWX 127.0.0.1:6023 OK
META2 127.0.0.1:6015 FAIL
META2 127.0.0.1:6018 OK
META2 127.0.0.1:6016 OK
META2 127.0.0.1:6017 OK",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1212,2017-10-12T10:04:47Z,2017-10-17T15:09:45Z,2017-10-20T08:13:37Z,MERGED,True,365,0,6,https://github.com/AymericDu,oio-check-services: Add script to check services,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1212,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1212#issuecomment-336085365,"Add script to make a GET/PUT/DELETE on each service (rawx and meta2)
$ oio-check-services OPENIO
RAWX 127.0.0.1:6024 OK
RAWX 127.0.0.1:6023 OK
RAWX 127.0.0.1:6022 OK
META2 127.0.0.1:6015 OK
META2 127.0.0.1:6018 OK
META2 127.0.0.1:6016 OK
META2 127.0.0.1:6017 OK
$ gridinit_cmd -S ~/.oio/sds/run/gridinit.sock -c stop OPENIO-rawx-1
DONE OPENIO-rawx-1        Success
$ oio-check-services OPENIO
RAWX 127.0.0.1:6024 OK
RAWX 127.0.0.1:6023 OK
RAWX 127.0.0.1:6022 FAIL
META2 127.0.0.1:6015 FAIL
META2 127.0.0.1:6018 FAIL
META2 127.0.0.1:6016 FAIL
META2 127.0.0.1:6017 FAIL
$ gridinit_cmd -S ~/.oio/sds/run/gridinit.sock -c stop OPENIO-meta2-1
DONE OPENIO-meta2-1        Success
$ oio-check-services OPENIO
RAWX 127.0.0.1:6024 OK
RAWX 127.0.0.1:6022 OK
RAWX 127.0.0.1:6023 OK
META2 127.0.0.1:6015 FAIL
META2 127.0.0.1:6018 OK
META2 127.0.0.1:6016 OK
META2 127.0.0.1:6017 OK","Codecov Report

Merging #1212 into 4.x will increase coverage by 0.08%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1212      +/-   ##
==========================================
+ Coverage   76.29%   76.37%   +0.08%     
==========================================
  Files         305      305              
  Lines       54129    54129              
  Branches     6620     6620              
==========================================
+ Hits        41298    41342      +44     
+ Misses      12219    12210       -9     
+ Partials      612      577      -35



Impacted Files
Coverage Δ





metautils/lib/volume_lock.c
34.21% <0%> (-36.85%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


sqliterepo/gridd_client_pool.c
69.19% <0%> (-1.43%)
⬇️


cluster/conscience/conscience_srvtype.c
81.18% <0%> (-0.54%)
⬇️


sqliterepo/repository.c
73.37% <0%> (-0.25%)
⬇️


cluster/module/module.c
70.68% <0%> (-0.13%)
⬇️


rdir/rdir.c
73.74% <0%> (-0.12%)
⬇️


sqliterepo/election.c
84.47% <0%> (ø)
⬆️


meta2v2/meta2_utils.c
70.61% <0%> (+0.13%)
⬆️


server/transport_gridd.c
69.58% <0%> (+0.2%)
⬆️


... and 18 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 65b9255...3349827. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1213,2017-10-12T13:12:05Z,2017-10-13T08:18:56Z,2017-10-13T08:19:13Z,MERGED,True,102,97,2,https://github.com/fvennetier,Python API: improve rawx timeout handling code,2,[],https://github.com/open-io/oio-sds/pull/1213,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1213,"Extract a nested function, log timeout errors.","Extract a nested function, log timeout errors.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1213,2017-10-12T13:12:05Z,2017-10-13T08:18:56Z,2017-10-13T08:19:13Z,MERGED,True,102,97,2,https://github.com/fvennetier,Python API: improve rawx timeout handling code,2,[],https://github.com/open-io/oio-sds/pull/1213,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1213#issuecomment-336134983,"Extract a nested function, log timeout errors.","Codecov Report

Merging #1213 into 4.1.x will increase coverage by 1.63%.
The diff coverage is 79.71%.


@@            Coverage Diff             @@
##            4.1.x    #1213      +/-   ##
==========================================
+ Coverage   74.21%   75.85%   +1.63%     
==========================================
  Files         293      293              
  Lines       53683    53812     +129     
  Branches     6624     6624              
==========================================
+ Hits        39842    40820     +978     
+ Misses      12615    12522      -93     
+ Partials     1226      470     -756



Impacted Files
Coverage Δ





tests/functional/cli/storage/test_obj.py
100% <100%> (ø)
⬆️


oio/api/io.py
81.16% <79.41%> (-0.27%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-5.72%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-5.07%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


sqliterepo/replication_dispatcher.c
38.81% <0%> (-3.98%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


... and 71 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d5cd14c...6681275. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1214,2017-10-13T13:43:12Z,2017-10-13T16:12:39Z,2017-10-17T16:07:45Z,MERGED,True,424,44,3,https://github.com/jfsmig,core: Prepare a Doxygen context for the C API,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1214,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1214,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1214,2017-10-13T13:43:12Z,2017-10-13T16:12:39Z,2017-10-17T16:07:45Z,MERGED,True,424,44,3,https://github.com/jfsmig,core: Prepare a Doxygen context for the C API,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1214,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1214#issuecomment-336461132,,"Codecov Report

Merging #1214 into 4.1.x will decrease coverage by 0.31%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1214      +/-   ##
==========================================
- Coverage   75.97%   75.66%   -0.32%     
==========================================
  Files         293      293              
  Lines       53817    53817              
  Branches     6619     6619              
==========================================
- Hits        40890    40718     -172     
- Misses      12509    12544      +35     
- Partials      418      555     +137



Impacted Files
Coverage Δ





meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


sqliterepo/replication_dispatcher.c
39.14% <0%> (-4.22%)
⬇️


meta2v2/meta2_backend.c
71.39% <0%> (-3.86%)
⬇️


meta2v2/meta2_utils.c
70.61% <0%> (-2.64%)
⬇️


meta1v2/meta1_remote.c
72.65% <0%> (-1.57%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-1.43%)
⬇️


proxy/cs_actions.c
89.14% <0%> (-1.36%)
⬇️


metautils/lib/utils_gba.c
61.62% <0%> (-1.17%)
⬇️


proxy/metacd_http.c
89.35% <0%> (-1.13%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2031d67...9675d36. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1215,2017-10-16T13:24:40Z,2017-10-17T15:32:44Z,2017-10-17T15:32:48Z,MERGED,True,26,25,4,https://github.com/fvennetier,"Autoconfigure ""hard"" maximum of open files",1,[],https://github.com/open-io/oio-sds/pull/1215,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1215,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1215,2017-10-16T13:24:40Z,2017-10-17T15:32:44Z,2017-10-17T15:32:48Z,MERGED,True,26,25,4,https://github.com/fvennetier,"Autoconfigure ""hard"" maximum of open files",1,[],https://github.com/open-io/oio-sds/pull/1215,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1215#issuecomment-336898308,,"Codecov Report

Merging #1215 into 4.x will increase coverage by 0.22%.
The diff coverage is 71.42%.


@@            Coverage Diff             @@
##              4.x    #1215      +/-   ##
==========================================
+ Coverage   76.29%   76.51%   +0.22%     
==========================================
  Files         305      305              
  Lines       54129    54129              
  Branches     6620     6620              
==========================================
+ Hits        41298    41419     +121     
+ Misses      12219    12211       -8     
+ Partials      612      499     -113



Impacted Files
Coverage Δ





sqliterepo/cache.c
89.51% <100%> (+0.76%)
⬆️


sqlx/sqlx_service.c
82.16% <66.66%> (-0.15%)
⬇️


metautils/lib/volume_lock.c
34.21% <0%> (-36.85%)
⬇️


meta1v2/meta1_server.c
72.52% <0%> (-2.2%)
⬇️


meta1v2/meta1_prefixes.c
76.04% <0%> (-1.2%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


sqliterepo/gridd_client_pool.c
69.66% <0%> (-0.95%)
⬇️


sqliterepo/repository.c
73.01% <0%> (-0.61%)
⬇️


cluster/conscience/conscience_srvtype.c
81.18% <0%> (-0.54%)
⬇️


core/lb.c
93.79% <0%> (-0.29%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 65b9255...9202f23. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1216,2017-10-17T12:27:15Z,2017-10-17T15:27:52Z,2017-10-17T16:07:36Z,MERGED,True,316,88,7,https://github.com/jfsmig,"sqlx,meta*: Split the main background task of re-kicking elections",4,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1216,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1216,"Several tasks with each one:

its own critical section on the election set
its trigger period (configurable)
its threshold delay to warn for a long lock (configurable)

Now we should know when the lock is held for too long, and also split the critical section to remain fair with the other threads.
Also, the limit of elections that receive an event each turn is not limited any more. This was a sign of an ugly workaround to prevent a long-lock.","Several tasks with each one:

its own critical section on the election set
its trigger period (configurable)
its threshold delay to warn for a long lock (configurable)

Now we should know when the lock is held for too long, and also split the critical section to remain fair with the other threads.
Also, the limit of elections that receive an event each turn is not limited any more. This was a sign of an ugly workaround to prevent a long-lock.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1217,2017-10-17T15:04:22Z,2017-10-17T15:24:35Z,2017-10-17T16:07:37Z,MERGED,True,1,1,1,https://github.com/jfsmig,meta2: Fix a memory leak,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1217,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1217,"When checking a content is OK, the error message was prepared but not freed when no error is found.","When checking a content is OK, the error message was prepared but not freed when no error is found.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1217,2017-10-17T15:04:22Z,2017-10-17T15:24:35Z,2017-10-17T16:07:37Z,MERGED,True,1,1,1,https://github.com/jfsmig,meta2: Fix a memory leak,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1217,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1217#issuecomment-337267486,"When checking a content is OK, the error message was prepared but not freed when no error is found.","Codecov Report

Merging #1217 into 4.1.x will increase coverage by 0.1%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.1.x    #1217     +/-   ##
=========================================
+ Coverage   75.88%   75.98%   +0.1%     
=========================================
  Files         293      293             
  Lines       53817    53817             
  Branches     6619     6625      +6     
=========================================
+ Hits        40837    40892     +55     
+ Misses      12500    12498      -2     
+ Partials      480      427     -53



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
90.43% <100%> (+0.92%)
⬆️


sqliterepo/replication_dispatcher.c
43.03% <0%> (-2.84%)
⬇️


rdir/rdir.c
70.89% <0%> (-2.63%)
⬇️


oio/api/base.py
81.08% <0%> (-1.36%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


rawx-lib/src/attr_handler.c
57.61% <0%> (-0.96%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-0.83%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-0.76%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


rawx-apache2/src/rawx_repository.c
48.89% <0%> (-0.74%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 714d48a...d9d85e0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1220,2017-10-18T07:37:34Z,2017-10-18T10:20:21Z,2017-10-18T10:20:21Z,MERGED,True,117,0,4,https://github.com/jfsmig,Add missing fields in ns_info,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1220,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1220,"Ease the migration from 3.x to 4.1.x with thee reintroduction of obsolete fields in ASN.1 messages, as optional fields.
Attempt to fix #1218","Ease the migration from 3.x to 4.1.x with thee reintroduction of obsolete fields in ASN.1 messages, as optional fields.
Attempt to fix #1218",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1220,2017-10-18T07:37:34Z,2017-10-18T10:20:21Z,2017-10-18T10:20:21Z,MERGED,True,117,0,4,https://github.com/jfsmig,Add missing fields in ns_info,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1220,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1220#issuecomment-337490044,"Ease the migration from 3.x to 4.1.x with thee reintroduction of obsolete fields in ASN.1 messages, as optional fields.
Attempt to fix #1218","Codecov Report

Merging #1220 into 4.1.x will increase coverage by 0.03%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1220      +/-   ##
==========================================
+ Coverage   75.77%   75.81%   +0.03%     
==========================================
  Files         293      294       +1     
  Lines       53844    53891      +47     
  Branches     6628     6627       -1     
==========================================
+ Hits        40801    40858      +57     
+ Misses      12522    12519       -3     
+ Partials      521      514       -7



Impacted Files
Coverage Δ





tests/unit/test_nsinfo.c
100% <100%> (ø)



metautils/lib/comm_converter.c
76.11% <100%> (+1.57%)
⬆️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


sqliterepo/replication_dispatcher.c
38.81% <0%> (-3.33%)
⬇️


oio/common/utils.py
59.9% <0%> (-3.22%)
⬇️


meta2v2/meta2_filters_action_content.c
88.58% <0%> (-1.86%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


metautils/lib/comm_message.c
85% <0%> (-0.53%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 41e10e1...cb9865c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1221,2017-10-18T15:48:51Z,2017-10-18T20:10:36Z,2017-10-18T20:30:41Z,MERGED,True,76,0,4,https://github.com/jfsmig,Allow a proxy >4.1.4 to chat with a conscience <4.0.0,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1221,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1221,"Partial fix for #1218.
Upgrade path from 3.x to 4.x:

migrate the services and the proxy
goto 3.
migrate the conscience","Partial fix for #1218.
Upgrade path from 3.x to 4.x:

migrate the services and the proxy
goto 3.
migrate the conscience",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1221,2017-10-18T15:48:51Z,2017-10-18T20:10:36Z,2017-10-18T20:30:41Z,MERGED,True,76,0,4,https://github.com/jfsmig,Allow a proxy >4.1.4 to chat with a conscience <4.0.0,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1221,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1221#issuecomment-337712987,"Partial fix for #1218.
Upgrade path from 3.x to 4.x:

migrate the services and the proxy
goto 3.
migrate the conscience","Codecov Report

Merging #1221 into 4.1.x will increase coverage by 0.2%.
The diff coverage is 96.42%.


@@            Coverage Diff            @@
##            4.1.x    #1221     +/-   ##
=========================================
+ Coverage   75.77%   75.98%   +0.2%     
=========================================
  Files         293      294      +1     
  Lines       53844    53872     +28     
  Branches     6628     6625      -3     
=========================================
+ Hits        40801    40934    +133     
+ Misses      12522    12495     -27     
+ Partials      521      443     -78



Impacted Files
Coverage Δ





tests/unit/test_nsinfo.c
100% <100%> (ø)



metautils/lib/comm_converter.c
74.15% <50%> (-0.39%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


proxy/metacd_http.c
89.67% <0%> (-0.81%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


metautils/lib/gridd_client_ext.c
80.59% <0%> (-0.75%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


metautils/lib/comm_message.c
85% <0%> (-0.53%)
⬇️


oio/common/utils.py
62.62% <0%> (-0.5%)
⬇️


rawx-lib/src/attr_handler.c
57.61% <0%> (-0.48%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 41e10e1...7aacb35. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1222,2017-10-18T15:56:44Z,2017-10-19T07:09:24Z,2017-10-19T11:05:06Z,MERGED,True,4,0,1,https://github.com/jfsmig,ci: Display fancier colors for the codecov icon,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1222,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1222,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1222,2017-10-18T15:56:44Z,2017-10-19T07:09:24Z,2017-10-19T11:05:06Z,MERGED,True,4,0,1,https://github.com/jfsmig,ci: Display fancier colors for the codecov icon,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1222,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1222#issuecomment-337644178,,Can you submit this to 4.x branch?,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1222,2017-10-18T15:56:44Z,2017-10-19T07:09:24Z,2017-10-19T11:05:06Z,MERGED,True,4,0,1,https://github.com/jfsmig,ci: Display fancier colors for the codecov icon,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1222,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/1222#issuecomment-337711552,,"Done (target branch moved, history subsequently mangled)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1222,2017-10-18T15:56:44Z,2017-10-19T07:09:24Z,2017-10-19T11:05:06Z,MERGED,True,4,0,1,https://github.com/jfsmig,ci: Display fancier colors for the codecov icon,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1222,https://github.com/codecov-io,4,https://github.com/open-io/oio-sds/pull/1222#issuecomment-337716265,,"Codecov Report

Merging #1222 into 4.x will increase coverage by 0.12%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##             4.x    #1222      +/-   ##
=========================================
+ Coverage   76.4%   76.52%   +0.12%     
=========================================
  Files        305      305              
  Lines      54129    54129              
  Branches    6620     6620              
=========================================
+ Hits       41356    41421      +65     
- Misses     12197    12211      +14     
+ Partials     576      497      -79



Impacted Files
Coverage Δ





gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/replication_dispatcher.c
45.93% <0%> (-3.71%)
⬇️


meta1v2/meta1_prefixes.c
77.24% <0%> (-3%)
⬇️


oio/crawler/storage_tierer.py
59.09% <0%> (-2.73%)
⬇️


oio/account/client.py
78.02% <0%> (-2.2%)
⬇️


meta2v2/meta2_filters_action_container.c
51.24% <0%> (-1.43%)
⬇️


meta2v2/meta2_filters_action_content.c
88.58% <0%> (-1.24%)
⬇️


sqliterepo/replication.c
77.16% <0%> (-0.87%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7dc71b2...1f3ed75. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1224,2017-10-19T09:44:36Z,2017-10-19T09:57:16Z,2017-10-19T09:57:19Z,MERGED,True,58,64,4,https://github.com/fvennetier,Snapshots: rename meaningless variables and parameters,1,['priority:2 :rage4:'],https://github.com/open-io/oio-sds/pull/1224,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1224,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1224,2017-10-19T09:44:36Z,2017-10-19T09:57:16Z,2017-10-19T09:57:19Z,MERGED,True,58,64,4,https://github.com/fvennetier,Snapshots: rename meaningless variables and parameters,1,['priority:2 :rage4:'],https://github.com/open-io/oio-sds/pull/1224,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1224#issuecomment-337859353,,"Codecov Report

Merging #1224 into 4.x will decrease coverage by 0.07%.
The diff coverage is 92.85%.


@@            Coverage Diff             @@
##              4.x    #1224      +/-   ##
==========================================
- Coverage   73.72%   73.64%   -0.08%     
==========================================
  Files         306      306              
  Lines       54507    54505       -2     
  Branches     6650     6650              
==========================================
- Hits        40183    40141      -42     
+ Misses      14157    14136      -21     
- Partials      167      228      +61



Impacted Files
Coverage Δ





oio/container/client.py
70.96% <100%> (ø)
⬆️


tests/functional/cli/container/test_container.py
98.14% <100%> (ø)
⬆️


oio/api/object_storage.py
77.3% <85.71%> (-0.12%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta2v2/meta2_backend.c
71.49% <0%> (-4.61%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-3.34%)
⬇️


meta1v2/meta1_remote.c
72.65% <0%> (-1.57%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


rawx-lib/src/attr_handler.c
61.42% <0%> (-0.96%)
⬇️


... and 14 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b464270...1ede434. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1225,2017-10-19T17:15:48Z,2017-10-25T15:26:33Z,2017-10-25T15:38:48Z,MERGED,True,297,1480,47,https://github.com/jfsmig,Trim dead code,21,"['priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1225,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1225,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1225,2017-10-19T17:15:48Z,2017-10-25T15:26:33Z,2017-10-25T15:38:48Z,MERGED,True,297,1480,47,https://github.com/jfsmig,Trim dead code,21,"['priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1225,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1225#issuecomment-339287451,,"Codecov Report

Merging #1225 into master will increase coverage by 0.48%.
The diff coverage is 63.26%.


@@            Coverage Diff             @@
##           master    #1225      +/-   ##
==========================================
+ Coverage   76.91%   77.39%   +0.48%     
==========================================
  Files         308      307       -1     
  Lines       54624    54122     -502     
  Branches     6638     6522     -116     
==========================================
- Hits        42010    41882     -128     
+ Misses      12109    11673     -436     
- Partials      505      567      +62



Impacted Files
Coverage Δ





meta2v2/meta2_utils.c
70.49% <ø> (-0.13%)
⬇️


metautils/lib/expr.lex.l
53.85% <ø> (+13.85%)
⬆️


server/transport_gridd.h
100% <ø> (ø)
⬆️


metautils/lib/expr.yacc.y
65.22% <ø> (+7.53%)
⬆️


metautils/lib/expr.clean.c
82.61% <ø> (+3.45%)
⬆️


metautils/lib/metacomm.h
100% <ø> (ø)
⬆️


metautils/lib/utils_gba.c
91.38% <ø> (+16.74%)
⬆️


metautils/lib/utils_containers.c
88.47% <ø> (+55.13%)
⬆️


metautils/lib/expr.eval.c
34.76% <ø> (+10.5%)
⬆️


server/slab.h
100% <ø> (ø)
⬆️


... and 59 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7a67296...d5d5fd1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1228,2017-10-23T08:59:33Z,2017-10-23T10:02:36Z,2017-10-23T15:00:40Z,MERGED,True,39,10,4,https://github.com/jfsmig,Speed the exit process of the conscience-agent,4,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1228,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1228,"Backport #1208 in 4.1.x
Helps with #1223","Backport #1208 in 4.1.x
Helps with #1223",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1228,2017-10-23T08:59:33Z,2017-10-23T10:02:36Z,2017-10-23T15:00:40Z,MERGED,True,39,10,4,https://github.com/jfsmig,Speed the exit process of the conscience-agent,4,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1228,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1228#issuecomment-338597270,"Backport #1208 in 4.1.x
Helps with #1223","Codecov Report

Merging #1228 into 4.1.x will increase coverage by 0.15%.
The diff coverage is 11.11%.


@@            Coverage Diff             @@
##            4.1.x    #1228      +/-   ##
==========================================
+ Coverage   75.99%   76.15%   +0.15%     
==========================================
  Files         294      294              
  Lines       53872    53885      +13     
  Branches     6631     6625       -6     
==========================================
+ Hits        40941    41036      +95     
+ Misses      12511    12476      -35     
+ Partials      420      373      -47



Impacted Files
Coverage Δ





oio/conscience/client.py
55.55% <50%> (ø)
⬆️


oio/common/daemon.py
32.6% <6.25%> (-9.82%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta2v2/meta2_filters_action_container.c
53.73% <0%> (-1.78%)
⬇️


oio/common/utils.py
61.88% <0%> (-0.75%)
⬇️


metautils/lib/comm_converter.c
74.15% <0%> (-0.27%)
⬇️


sqliterepo/cache.c
89.25% <0%> (-0.26%)
⬇️


metautils/lib/comm_message.c
85% <0%> (ø)
⬆️


core/cs.c
81.25% <0%> (ø)
⬆️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cb6ca79...1f829f6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1229,2017-10-23T09:48:44Z,2017-10-23T11:37:17Z,2017-10-23T15:01:14Z,MERGED,True,3,0,1,https://github.com/jfsmig,oio: Consider the --oio-proxyd-url option to the CLI,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1229,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1229,Fix #1219,Fix #1219,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1229,2017-10-23T09:48:44Z,2017-10-23T11:37:17Z,2017-10-23T15:01:14Z,MERGED,True,3,0,1,https://github.com/jfsmig,oio: Consider the --oio-proxyd-url option to the CLI,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1229,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1229#issuecomment-338610927,Fix #1219,"Codecov Report

Merging #1229 into 4.1.x will increase coverage by 0.03%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1229      +/-   ##
==========================================
+ Coverage   75.99%   76.02%   +0.03%     
==========================================
  Files         294      294              
  Lines       53872    53874       +2     
  Branches     6631     6625       -6     
==========================================
+ Hits        40941    40959      +18     
+ Misses      12511    12492      -19     
- Partials      420      423       +3



Impacted Files
Coverage Δ





oio/common/client.py
100% <100%> (ø)
⬆️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-2.85%)
⬇️


sqliterepo/replication_dispatcher.c
42.94% <0%> (-2.6%)
⬇️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


events/oio_events_queue_beanstalkd.c
80.11% <0%> (-0.57%)
⬇️


gridd/main/sock.c
61.76% <0%> (-0.5%)
⬇️


proxy/cs_actions.c
88.68% <0%> (-0.46%)
⬇️


sqliterepo/repository.c
71.53% <0%> (-0.38%)
⬇️


proxy/common.c
80.96% <0%> (-0.35%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cb6ca79...0e9ab9a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1230,2017-10-23T13:53:14Z,2017-10-23T16:06:52Z,2017-10-24T12:50:19Z,MERGED,True,134,40,5,https://github.com/jfsmig,conf: Accept aliased variables,4,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1230,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1230,"Using aliases trigger a warning. They are destined to represent deprecated options, who have been renamed.","Using aliases trigger a warning. They are destined to represent deprecated options, who have been renamed.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1230,2017-10-23T13:53:14Z,2017-10-23T16:06:52Z,2017-10-24T12:50:19Z,MERGED,True,134,40,5,https://github.com/jfsmig,conf: Accept aliased variables,4,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1230,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1230#issuecomment-338709183,"Using aliases trigger a warning. They are destined to represent deprecated options, who have been renamed.","Codecov Report

Merging #1230 into 4.1.x will increase coverage by 0.02%.
The diff coverage is 80.35%.


@@            Coverage Diff             @@
##            4.1.x    #1230      +/-   ##
==========================================
+ Coverage   76.05%   76.08%   +0.02%     
==========================================
  Files         294      294              
  Lines       53887    53929      +42     
  Branches     6631     6628       -3     
==========================================
+ Hits        40985    41031      +46     
+ Misses      12538    12518      -20     
- Partials      364      380      +16



Impacted Files
Coverage Δ





core/var.c
71.94% <80.35%> (+0.75%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-2.23%)
⬇️


sqliterepo/replication.c
76.58% <0%> (-1.45%)
⬇️


cluster/module/module.c
70.68% <0%> (-1.4%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.03% <0%> (-1.37%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-1.2%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 953bf26...c28231a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1231,2017-10-23T14:14:54Z,2017-10-24T12:11:22Z,2017-10-24T12:11:25Z,MERGED,True,98,37,6,https://github.com/fvennetier,Python API: do not raise Conflict after retrying POST,1,"['enhancement :sparkles:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1231,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1231,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1231,2017-10-23T14:14:54Z,2017-10-24T12:11:22Z,2017-10-24T12:11:25Z,MERGED,True,98,37,6,https://github.com/fvennetier,Python API: do not raise Conflict after retrying POST,1,"['enhancement :sparkles:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1231,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1231#issuecomment-338953255,,"Codecov Report

Merging #1231 into 4.1.x will decrease coverage by <.01%.
The diff coverage is 93.1%.


@@            Coverage Diff             @@
##            4.1.x    #1231      +/-   ##
==========================================
- Coverage   75.99%   75.99%   -0.01%     
==========================================
  Files         294      295       +1     
  Lines       53930    53951      +21     
  Branches     6629     6629              
==========================================
+ Hits        40986    41000      +14     
+ Misses      12523    12491      -32     
- Partials      421      460      +39



Impacted Files
Coverage Δ





tests/unit/common/test_exceptions.py
100% <100%> (ø)
⬆️


tests/unit/api/__init__.py
96.61% <100%> (ø)
⬆️


tests/unit/api/test_objectstorage.py
100% <100%> (ø)
⬆️


tests/unit/api/test_directory.py
100% <100%> (ø)
⬆️


oio/common/client.py
100% <100%> (ø)
⬆️


tests/unit/api/test_container_client.py
76.47% <76.47%> (ø)



meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/replication_dispatcher.c
39.05% <0%> (-6.81%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7657164...7c0351b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1232,2017-10-23T14:32:53Z,2017-10-23T14:58:44Z,2017-10-23T15:00:39Z,MERGED,True,46,54,23,https://github.com/jfsmig,oio: Comply to the latest PEP8 rules enforced by flake8,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1232,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1232,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1232,2017-10-23T14:32:53Z,2017-10-23T14:58:44Z,2017-10-23T15:00:39Z,MERGED,True,46,54,23,https://github.com/jfsmig,oio: Comply to the latest PEP8 rules enforced by flake8,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1232,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1232#issuecomment-338686582,,"Codecov Report

Merging #1232 into 4.1.x will increase coverage by 4.75%.
The diff coverage is 45%.


@@            Coverage Diff            @@
##            4.1.x   #1232      +/-   ##
=========================================
+ Coverage   71.24%     76%   +4.75%     
=========================================
  Files         261     294      +33     
  Lines       50193   53887    +3694     
  Branches     6413    6625     +212     
=========================================
+ Hits        35762   40955    +5193     
+ Misses      13694   12515    -1179     
+ Partials      737     417     -320



Impacted Files
Coverage Δ





oio/event/loader.py
41.93% <ø> (ø)
⬆️


oio/content/content.py
92.92% <0%> (+3.03%)
⬆️


oio/container/client.py
69.88% <0%> (+0.38%)
⬆️


oio/event/beanstalk.py
61.18% <0%> (ø)
⬆️


tests/functional/container/test_container.py
98.82% <0%> (ø)
⬆️


oio/container/backup.py
13.27% <0%> (ø)
⬆️


tests/functional/conscience/test_lb.py
94.44% <0%> (+12.69%)
⬆️


...ests/functional/container/test_container_backup.py
96% <100%> (ø)
⬆️


tests/functional/content/test_ec.py
100% <100%> (+71.68%)
⬆️


tests/functional/content/test_content.py
100% <100%> (+6.43%)
⬆️


... and 114 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4452430...51e41ac. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1233,2017-10-23T16:43:11Z,2017-10-24T07:13:55Z,2017-10-24T08:53:00Z,MERGED,True,7,3,1,https://github.com/jfsmig,sqliterepo: fix crash when unpausing process,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1233,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1233,(cherry picked from commit fef82ca),(cherry picked from commit fef82ca),True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1233,2017-10-23T16:43:11Z,2017-10-24T07:13:55Z,2017-10-24T08:53:00Z,MERGED,True,7,3,1,https://github.com/jfsmig,sqliterepo: fix crash when unpausing process,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1233,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1233#issuecomment-338738297,(cherry picked from commit fef82ca),"Codecov Report

Merging #1233 into 4.1.x will decrease coverage by 0.06%.
The diff coverage is 25%.


@@            Coverage Diff             @@
##            4.1.x    #1233      +/-   ##
==========================================
- Coverage   76.09%   76.03%   -0.07%     
==========================================
  Files         294      294              
  Lines       53929    53930       +1     
  Branches     6628     6635       +7     
==========================================
- Hits        41035    41003      -32     
- Misses      12516    12524       +8     
- Partials      378      403      +25



Impacted Files
Coverage Δ





sqliterepo/election.c
79.74% <25%> (+0.31%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


tests/unit/test_sqliterepo_cache.c
96.8% <0%> (-3.2%)
⬇️


sqliterepo/replication_dispatcher.c
42.94% <0%> (-2.52%)
⬇️


oio/account/client.py
77.77% <0%> (-2.23%)
⬇️


cluster/module/module.c
70.68% <0%> (-1.4%)
⬇️


proxy/cs_actions.c
89.14% <0%> (-1.36%)
⬇️


oio/common/utils.py
61.88% <0%> (-1.24%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 077c2e2...debe789. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1234,2017-10-24T09:15:00Z,2017-10-24T12:07:01Z,2017-10-24T12:50:17Z,MERGED,True,189,95,31,https://github.com/jfsmig,Merge 4.1.x into 4.x,15,"['priority:2 :rage4:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1234,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1234,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1234,2017-10-24T09:15:00Z,2017-10-24T12:07:01Z,2017-10-24T12:50:17Z,MERGED,True,189,95,31,https://github.com/jfsmig,Merge 4.1.x into 4.x,15,"['priority:2 :rage4:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1234,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1234#issuecomment-338943535,,"Codecov Report

Merging #1234 into 4.x will increase coverage by 0.17%.
The diff coverage is 69.14%.


@@            Coverage Diff             @@
##              4.x    #1234      +/-   ##
==========================================
+ Coverage   77.03%   77.19%   +0.17%     
==========================================
  Files         306      306              
  Lines       54505    54551      +46     
  Branches     6650     6653       +3     
==========================================
+ Hits        41983    42106     +123     
+ Misses      12160    12159       -1     
+ Partials      362      286      -76



Impacted Files
Coverage Δ





oio/event/loader.py
41.94% <ø> (ø)
⬆️


oio/container/client.py
70.97% <0%> (ø)
⬆️


sqliterepo/election.c
84.55% <0%> (-0.23%)
⬇️


oio/content/content.py
92.93% <0%> (ø)
⬆️


tests/functional/container/test_container.py
98.83% <0%> (ø)
⬆️


tests/functional/conscience/test_lb.py
94.45% <0%> (ø)
⬆️


oio/container/backup.py
13.44% <0%> (ø)
⬆️


oio/event/beanstalk.py
61.19% <0%> (ø)
⬆️


oio/common/client.py
100% <100%> (ø)
⬆️


tests/unit/api/test_directory.py
100% <100%> (ø)
⬆️


... and 44 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 549fbef...e4973cf. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1235,2017-10-24T09:23:31Z,2017-10-24T09:42:09Z,2017-10-24T09:42:11Z,MERGED,True,1,1,1,https://github.com/fvennetier,sqliterepo: handle zk timeout during LISTING state,1,[],https://github.com/open-io/oio-sds/pull/1235,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1235,"If sv parameter is NULL, we handle it the same way as when it is empty
array: we go to the LEAVING_FAILING state.","If sv parameter is NULL, we handle it the same way as when it is empty
array: we go to the LEAVING_FAILING state.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1235,2017-10-24T09:23:31Z,2017-10-24T09:42:09Z,2017-10-24T09:42:11Z,MERGED,True,1,1,1,https://github.com/fvennetier,sqliterepo: handle zk timeout during LISTING state,1,[],https://github.com/open-io/oio-sds/pull/1235,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1235#issuecomment-338933828,"If sv parameter is NULL, we handle it the same way as when it is empty
array: we go to the LEAVING_FAILING state.","Codecov Report

Merging #1235 into 4.1.x will increase coverage by 0.11%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##            4.1.x    #1235      +/-   ##
==========================================
+ Coverage   75.83%   75.95%   +0.11%     
==========================================
  Files         294      294              
  Lines       53930    53930              
  Branches     6629     6629              
==========================================
+ Hits        40896    40960      +64     
+ Misses      12525    12503      -22     
+ Partials      509      467      -42



Impacted Files
Coverage Δ





sqliterepo/election.c
79.37% <0%> (-0.13%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_backend.c
71.17% <0%> (-4.08%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-1.43%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.03% <0%> (-1.37%)
⬇️


oio/common/utils.py
61.88% <0%> (-1.24%)
⬇️


resolver/hc_resolver.c
88.25% <0%> (-1.15%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b72d51d...2754d37. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1236,2017-10-25T09:42:12Z,2017-10-25T13:16:09Z,2018-04-10T16:03:34Z,MERGED,True,6,6,1,https://github.com/kamel-rahim,LOG: cast GRID_LOGLVL* values  to GLogLevelFlags,1,[],https://github.com/open-io/oio-sds/pull/1236,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1236,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1236,2017-10-25T09:42:12Z,2017-10-25T13:16:09Z,2018-04-10T16:03:34Z,MERGED,True,6,6,1,https://github.com/kamel-rahim,LOG: cast GRID_LOGLVL* values  to GLogLevelFlags,1,[],https://github.com/open-io/oio-sds/pull/1236,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1236#issuecomment-339278164,,"Codecov Report

Merging #1236 into 4.1.x will decrease coverage by 0.11%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1236      +/-   ##
==========================================
- Coverage   76.12%   76.01%   -0.12%     
==========================================
  Files         295      295              
  Lines       53951    53951              
  Branches     6629     6635       +6     
==========================================
- Hits        41070    41009      -61     
+ Misses      12527    12489      -38     
- Partials      354      453      +99



Impacted Files
Coverage Δ





meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta2v2/meta2_utils.c
70.61% <0%> (-2.64%)
⬇️


sqliterepo/replication_dispatcher.c
43.03% <0%> (-2.52%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-2.23%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


cluster/module/module.c
70.68% <0%> (-1.4%)
⬇️


proxy/cs_actions.c
90.49% <0%> (-1.36%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


sqliterepo/sqlx_remote.c
62.68% <0%> (-0.75%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9274158...4f1e8df. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1236,2017-10-25T09:42:12Z,2017-10-25T13:16:09Z,2018-04-10T16:03:34Z,MERGED,True,6,6,1,https://github.com/kamel-rahim,LOG: cast GRID_LOGLVL* values  to GLogLevelFlags,1,[],https://github.com/open-io/oio-sds/pull/1236,https://github.com/murlock,3,https://github.com/open-io/oio-sds/pull/1236#issuecomment-339307318,,LGTM,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1238,2017-10-26T15:22:44Z,2017-10-31T08:18:33Z,2017-11-09T20:06:55Z,MERGED,True,16,20,3,https://github.com/AymericDu,Replace 'httplib' with 'urllib3',1,[],https://github.com/open-io/oio-sds/pull/1238,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1238,"Replace httplib with urllib3 for :

HttpChecker
HttpStat
ContentReaperFilter
See #1087","Replace httplib with urllib3 for :

HttpChecker
HttpStat
ContentReaperFilter
See #1087",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1238,2017-10-26T15:22:44Z,2017-10-31T08:18:33Z,2017-11-09T20:06:55Z,MERGED,True,16,20,3,https://github.com/AymericDu,Replace 'httplib' with 'urllib3',1,[],https://github.com/open-io/oio-sds/pull/1238,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1238#issuecomment-339712349,"Replace httplib with urllib3 for :

HttpChecker
HttpStat
ContentReaperFilter
See #1087","Codecov Report

Merging #1238 into 4.x will increase coverage by 0.38%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1238      +/-   ##
==========================================
+ Coverage   76.77%   77.15%   +0.38%     
==========================================
  Files         311      311              
  Lines       55183    55183              
  Branches     6654     6654              
==========================================
+ Hits        42363    42571     +208     
+ Misses      12204    12173      -31     
+ Partials      616      439     -177



Impacted Files
Coverage Δ





oio/account/client.py
78.03% <0%> (-4.39%)
⬇️


meta2v2/meta2_filters_action_content.c
88.59% <0%> (-1.54%)
⬇️


metautils/lib/expr.eval.c
24.26% <0%> (-0.99%)
⬇️


core/http_put.c
92.63% <0%> (-0.5%)
⬇️


metautils/lib/utils_sockets.c
48.63% <0%> (-0.39%)
⬇️


metautils/lib/comm_converter.c
74.16% <0%> (-0.26%)
⬇️


rdir/rdir.c
73.89% <0%> (-0.22%)
⬇️


oio/api/ec.py
94.46% <0%> (-0.18%)
⬇️


sqlx/sqlx_service.c
82.74% <0%> (ø)
⬆️


core/proxy.c
81.51% <0%> (+0.18%)
⬆️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0578679...b2b628b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1240,2017-10-27T14:39:11Z,2017-10-27T16:30:17Z,2017-10-27T16:30:21Z,MERGED,True,27,0,2,https://github.com/fvennetier,Python API: allow regexcontainer to yield alternatives,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1240,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1240,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1242,2017-10-29T08:53:07Z,2017-10-31T14:00:58Z,2017-10-31T14:08:22Z,CLOSED,False,1809,6078,51,https://github.com/jfsmig,Refactor the conscience to use the common server base,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1242,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1242,"Drop the old gridd (a.k.a. oio-daemon)
Rewrite cluster/module/module.c as a standalone service named oio-daemon .. so that the migration is seemless.
Merge the conscience lib in the server
Move the expression parsing from metautils to cluster
Fix compilation warnings about deprecated symbols","Drop the old gridd (a.k.a. oio-daemon)
Rewrite cluster/module/module.c as a standalone service named oio-daemon .. so that the migration is seemless.
Merge the conscience lib in the server
Move the expression parsing from metautils to cluster
Fix compilation warnings about deprecated symbols",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1242,2017-10-29T08:53:07Z,2017-10-31T14:00:58Z,2017-10-31T14:08:22Z,CLOSED,False,1809,6078,51,https://github.com/jfsmig,Refactor the conscience to use the common server base,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1242,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1242#issuecomment-340247148,"Drop the old gridd (a.k.a. oio-daemon)
Rewrite cluster/module/module.c as a standalone service named oio-daemon .. so that the migration is seemless.
Merge the conscience lib in the server
Move the expression parsing from metautils to cluster
Fix compilation warnings about deprecated symbols","Codecov Report

Merging #1242 into master will increase coverage by 0.48%.
The diff coverage is 77.83%.


@@            Coverage Diff            @@
##           master   #1242      +/-   ##
=========================================
+ Coverage   77.53%     78%   +0.48%     
=========================================
  Files         307     292      -15     
  Lines       54122   52757    -1365     
  Branches     6522    6271     -251     
=========================================
- Hits        41958   41149     -809     
+ Misses      11644   11288     -356     
+ Partials      520     320     -200



Impacted Files
Coverage Δ





cluster/module/expr.clean.c
82.61% <ø> (ø)



cluster/lib/gridcluster.c
67.04% <ø> (ø)
⬆️


cluster/module/expr.yacc.y
65.22% <ø> (ø)



cluster/module/expr.eval.c
34.76% <ø> (ø)



proxy/cs_actions.c
89.15% <100%> (-1.35%)
⬇️


cluster/module/expr.lex.l
53.85% <53.85%> (ø)



cluster/module/server.c
78.39% <78.39%> (ø)



metautils/lib/utils_l4v.c
0% <0%> (-83.33%)
⬇️


metautils/lib/utils_strings.c
66.67% <0%> (-23.33%)
⬇️


metautils/lib/utils_errors.c
70.59% <0%> (-17.64%)
⬇️


... and 48 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 34d1981...a764880. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1243,2017-10-29T08:58:42Z,2017-10-31T09:33:19Z,2017-10-31T11:05:27Z,MERGED,True,22,3,2,https://github.com/jfsmig,Implement missing library destructors,2,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1243,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1243,It frees memory when the process exits and its libraries are unloaded. It helps fixing memory leaks with tools like valgrind.,It frees memory when the process exits and its libraries are unloaded. It helps fixing memory leaks with tools like valgrind.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1243,2017-10-29T08:58:42Z,2017-10-31T09:33:19Z,2017-10-31T11:05:27Z,MERGED,True,22,3,2,https://github.com/jfsmig,Implement missing library destructors,2,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1243,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1243#issuecomment-340248170,It frees memory when the process exits and its libraries are unloaded. It helps fixing memory leaks with tools like valgrind.,"Codecov Report

Merging #1243 into master will increase coverage by 3.55%.
The diff coverage is 83.34%.


@@            Coverage Diff             @@
##           master    #1243      +/-   ##
==========================================
+ Coverage   74.12%   77.66%   +3.55%     
==========================================
  Files         307      307              
  Lines       54122    54133      +11     
  Branches     6522     6524       +2     
==========================================
+ Hits        40113    42038    +1925     
+ Misses      13649    11650    -1999     
- Partials      360      445      +85



Impacted Files
Coverage Δ





core/var.c
75.52% <100%> (+3.64%)
⬆️


metautils/lib/gridd_client.c
78.41% <66.67%> (+7.84%)
⬆️


cluster/conscience/conscience.c
79.7% <0%> (-0.75%)
⬇️


proxy/metacd_http.c
89.73% <0%> (-0.64%)
⬇️


core/str.c
89.53% <0%> (-0.24%)
⬇️


proxy/cs_actions.c
90.5% <0%> (ø)
⬆️


server/transport_gridd.c
70.07% <0%> (ø)
⬆️


oio/account/client.py
81.32% <0%> (ø)
⬆️


proxy/m2_actions.c
82.5% <0%> (+0.08%)
⬆️


core/proxy.c
81.51% <0%> (+0.18%)
⬆️


... and 47 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 34d1981...0b2599f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1244,2017-10-30T15:22:31Z,2017-10-30T15:38:06Z,2017-10-30T15:38:23Z,MERGED,True,14,7,1,https://github.com/fvennetier,Clarify EOF errors detected by proxy,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1244,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1244,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1244,2017-10-30T15:22:31Z,2017-10-30T15:38:06Z,2017-10-30T15:38:23Z,MERGED,True,14,7,1,https://github.com/fvennetier,Clarify EOF errors detected by proxy,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1244,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1244#issuecomment-340483221,,"Codecov Report

Merging #1244 into 4.1.x will decrease coverage by 0.28%.
The diff coverage is 75%.


@@            Coverage Diff             @@
##            4.1.x    #1244      +/-   ##
==========================================
- Coverage   76.11%   75.82%   -0.29%     
==========================================
  Files         295      295              
  Lines       53951    53952       +1     
  Branches     6635     6630       -5     
==========================================
- Hits        41065    40911     -154     
- Misses      12482    12538      +56     
- Partials      404      503      +99



Impacted Files
Coverage Δ





metautils/lib/gridd_client.c
74.78% <75%> (+0.05%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta2v2/meta2_backend.c
71.17% <0%> (-4.08%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta2v2/meta2_utils.c
70.61% <0%> (-2.64%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-2.5%)
⬇️


proxy/reply.c
74.41% <0%> (-2.33%)
⬇️


proxy/cache_actions.c
32% <0%> (-2.29%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 18c9989...69ac4eb. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1245,2017-10-31T08:00:41Z,2017-10-31T10:19:59Z,2017-10-31T11:05:25Z,MERGED,True,345,15,3,https://github.com/jfsmig,sqliterepo/election: Introduce a delay before retransmitting GETVERS requests,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1245,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1245,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1245,2017-10-31T08:00:41Z,2017-10-31T10:19:59Z,2017-10-31T11:05:25Z,MERGED,True,345,15,3,https://github.com/jfsmig,sqliterepo/election: Introduce a delay before retransmitting GETVERS requests,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1245,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1245#issuecomment-340718240,,"Codecov Report

Merging #1245 into 4.x will increase coverage by 0.2%.
The diff coverage is 98.15%.


@@            Coverage Diff            @@
##              4.x    #1245     +/-   ##
=========================================
+ Coverage   76.77%   76.97%   +0.2%     
=========================================
  Files         311      311             
  Lines       55183    55394    +211     
  Branches     6654     6658      +4     
=========================================
+ Hits        42363    42634    +271     
- Misses      12204    12215     +11     
+ Partials      616      545     -71



Impacted Files
Coverage Δ





tests/unit/test_sqliterepo_election.c
95.85% <100%> (+0.66%)
⬆️


sqliterepo/election.c
84.79% <95.51%> (+0.77%)
⬆️


oio/account/client.py
78.03% <0%> (-4.39%)
⬇️


meta2v2/meta2_filters_action_content.c
88.89% <0%> (-1.23%)
⬇️


resolver/hc_resolver.c
91.24% <0%> (-1.2%)
⬇️


metautils/lib/expr.eval.c
24.26% <0%> (-0.99%)
⬇️


rdir/rdir.c
73.55% <0%> (-0.57%)
⬇️


metautils/lib/comm_converter.c
73.9% <0%> (-0.52%)
⬇️


sqliterepo/cache.c
88.5% <0%> (-0.51%)
⬇️


metautils/lib/utils_sockets.c
48.63% <0%> (-0.39%)
⬇️


... and 20 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0578679...93ea54f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1246,2017-10-31T14:00:12Z,2017-10-31T14:28:31Z,2017-10-31T14:40:06Z,MERGED,True,1809,6336,51,https://github.com/jfsmig,Add oio-conscience-server to replace gridd+msg_conscience,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1246,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1246,"Drop gridd (a.k.a. oio-daemon)
Rewrite cluster/module/module.c as a standalone service
Adapt oio-bootstrap.py to generate env based on the new conscience
Merge the conscience lib in the server
Move the expression parsing from metautils to cluster
Fix compilation warnings about deprecated symbols
Closes #1242","Drop gridd (a.k.a. oio-daemon)
Rewrite cluster/module/module.c as a standalone service
Adapt oio-bootstrap.py to generate env based on the new conscience
Merge the conscience lib in the server
Move the expression parsing from metautils to cluster
Fix compilation warnings about deprecated symbols
Closes #1242",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1246,2017-10-31T14:00:12Z,2017-10-31T14:28:31Z,2017-10-31T14:40:06Z,MERGED,True,1809,6336,51,https://github.com/jfsmig,Add oio-conscience-server to replace gridd+msg_conscience,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1246,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1246#issuecomment-340778214,"Drop gridd (a.k.a. oio-daemon)
Rewrite cluster/module/module.c as a standalone service
Adapt oio-bootstrap.py to generate env based on the new conscience
Merge the conscience lib in the server
Move the expression parsing from metautils to cluster
Fix compilation warnings about deprecated symbols
Closes #1242","Codecov Report

Merging #1246 into 4.x will increase coverage by 0.3%.
The diff coverage is 77.62%.


@@            Coverage Diff            @@
##              4.x    #1246     +/-   ##
=========================================
+ Coverage   76.95%   77.24%   +0.3%     
=========================================
  Files         311      296     -15     
  Lines       55394    53919   -1475     
  Branches     6658     6382    -276     
=========================================
- Hits        42623    41645    -978     
+ Misses      12205    11776    -429     
+ Partials      566      498     -68



Impacted Files
Coverage Δ





cluster/lib/gridcluster.c
72.29% <ø> (ø)
⬆️


cluster/module/expr.eval.c
24.26% <ø> (ø)



cluster/module/expr.clean.c
79.17% <ø> (ø)



cluster/module/expr.yacc.y
57.7% <ø> (ø)



proxy/cs_actions.c
90.5% <100%> (-1.35%)
⬇️


cluster/module/expr.lex.l
53.85% <53.85%> (ø)



cluster/module/server.c
78.17% <78.17%> (ø)



metautils/lib/utils_l4v.c
0% <0%> (-71.42%)
⬇️


metautils/lib/utils_strings.c
66.67% <0%> (-23.33%)
⬇️


metautils/lib/utils_errors.c
36.37% <0%> (-9.09%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 20f9a37...515e454. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1247,2017-10-31T15:28:38Z,2017-11-02T14:47:25Z,2017-11-09T20:06:50Z,MERGED,True,184,5,4,https://github.com/AymericDu,Change active clients limit according to timeout,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1247,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1247,"Use the same principle as TCP Congestion Control (RFC5681 Section 3.1)

Slow start : finished event doubles the limit
Congestion avoidance : finished event increases slowly the limit
Timeout : set the limit to minimum","Use the same principle as TCP Congestion Control (RFC5681 Section 3.1)

Slow start : finished event doubles the limit
Congestion avoidance : finished event increases slowly the limit
Timeout : set the limit to minimum",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1247,2017-10-31T15:28:38Z,2017-11-02T14:47:25Z,2017-11-09T20:06:50Z,MERGED,True,184,5,4,https://github.com/AymericDu,Change active clients limit according to timeout,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1247,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1247#issuecomment-340826669,"Use the same principle as TCP Congestion Control (RFC5681 Section 3.1)

Slow start : finished event doubles the limit
Congestion avoidance : finished event increases slowly the limit
Timeout : set the limit to minimum","Codecov Report

Merging #1247 into 4.x will decrease coverage by 0.22%.
The diff coverage is 98.22%.


@@            Coverage Diff             @@
##              4.x    #1247      +/-   ##
==========================================
- Coverage   77.35%   77.14%   -0.21%     
==========================================
  Files         296      297       +1     
  Lines       53919    54027     +108     
  Branches     6382     6385       +3     
==========================================
- Hits        41706    41673      -33     
+ Misses      11782    11770      -12     
- Partials      431      584     +153



Impacted Files
Coverage Δ





tests/unit/test_gridd_client_pool.c
100% <100%> (ø)



sqliterepo/gridd_client_pool.c
71.62% <93.11%> (+1.95%)
⬆️


meta2v2/meta2_utils_lb.c
79.55% <0%> (-11.36%)
⬇️


meta2v2/meta2_utils_json_out.c
93.34% <0%> (-5.55%)
⬇️


meta2v2/meta2_backend.c
71.83% <0%> (-4.6%)
⬇️


rdir/rdir.c
69.45% <0%> (-4.56%)
⬇️


oio/account/client.py
78.03% <0%> (-4.39%)
⬇️


meta2v2/meta2_utils_json_in.c
32.2% <0%> (-4.1%)
⬇️


meta2v2/meta2_utils.c
70.89% <0%> (-2.76%)
⬇️


meta2v2/meta2_bean.c
94.21% <0%> (-1.44%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 03cae28...0b9a652. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1248,2017-10-31T15:44:24Z,2017-10-31T16:03:05Z,2017-10-31T16:03:07Z,MERGED,True,1,1,1,https://github.com/fvennetier,Update project version in pkg-config file,1,[],https://github.com/open-io/oio-sds/pull/1248,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1248,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1248,2017-10-31T15:44:24Z,2017-10-31T16:03:05Z,2017-10-31T16:03:07Z,MERGED,True,1,1,1,https://github.com/fvennetier,Update project version in pkg-config file,1,[],https://github.com/open-io/oio-sds/pull/1248,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1248#issuecomment-340808696,,"Codecov Report

Merging #1248 into 4.x will increase coverage by 3.35%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1248      +/-   ##
==========================================
+ Coverage   73.81%   77.16%   +3.35%     
==========================================
  Files         296      296              
  Lines       53919    53919              
  Branches     6382     6382              
==========================================
+ Hits        39793    41599    +1806     
+ Misses      13788    11827    -1961     
- Partials      338      493     +155



Impacted Files
Coverage Δ





oio/ecd/app.py
59.77% <0%> (-6.5%)
⬇️


oio/account/client.py
78.03% <0%> (-4.39%)
⬇️


meta2v2/meta2_utils_json_out.c
93.34% <0%> (-2.22%)
⬇️


metautils/lib/utils_resolv.c
64.62% <0%> (-0.76%)
⬇️


core/http_put.c
92.63% <0%> (-0.5%)
⬇️


server/transport_gridd.c
72.5% <0%> (-0.41%)
⬇️


oio/api/object_storage.py
76.57% <0%> (-0.26%)
⬇️


tests/functional/api/test_objectstorage.py
96.12% <0%> (-0.25%)
⬇️


core/proxy.c
81.33% <0%> (-0.17%)
⬇️


metautils/lib/comm_converter.c
74.16% <0%> (ø)
⬆️


... and 47 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0f8fbfd...f62cc37. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1250,2017-11-02T10:51:52Z,2017-11-02T14:38:10Z,2017-11-02T14:38:14Z,MERGED,True,98,89,10,https://github.com/fvennetier,"Implement ""openio container purge"" command, remove unused code",3,[],https://github.com/open-io/oio-sds/pull/1250,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1250,"openio container purge can now be used to workaround #1163.
M2_LEAVE RPC was no more used and has been removed.","openio container purge can now be used to workaround #1163.
M2_LEAVE RPC was no more used and has been removed.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1250,2017-11-02T10:51:52Z,2017-11-02T14:38:10Z,2017-11-02T14:38:14Z,MERGED,True,98,89,10,https://github.com/fvennetier,"Implement ""openio container purge"" command, remove unused code",3,[],https://github.com/open-io/oio-sds/pull/1250,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1250#issuecomment-341387537,"openio container purge can now be used to workaround #1163.
M2_LEAVE RPC was no more used and has been removed.","Codecov Report

Merging #1250 into 4.x will increase coverage by 0.04%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1250      +/-   ##
==========================================
+ Coverage   77.35%   77.39%   +0.04%     
==========================================
  Files         296      296              
  Lines       53919    53939      +20     
  Branches     6382     6380       -2     
==========================================
+ Hits        41706    41741      +35     
+ Misses      11782    11656     -126     
- Partials      431      542     +111



Impacted Files
Coverage Δ





proxy/meta2v2_remote.c
79.75% <ø> (+1.51%)
⬆️


meta2v2/meta2_gridd_dispatcher.c
68.19% <ø> (ø)
⬆️


...ests/functional/content/test_content_versioning.py
100% <100%> (ø)



tests/functional/cli/container/test_container.py
98.25% <100%> (+0.1%)
⬆️


meta2v2/meta2_utils_lb.c
79.55% <0%> (-11.36%)
⬇️


oio/ecd/app.py
59.77% <0%> (-6.5%)
⬇️


meta2v2/meta2_utils_json_in.c
32.2% <0%> (-4.1%)
⬇️


sqliterepo/replication_dispatcher.c
48.05% <0%> (-3.51%)
⬇️


meta2v2/meta2_utils_json_out.c
95.56% <0%> (-3.33%)
⬇️


sqliterepo/sqlite_utils.c
84.79% <0%> (-1.44%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 03cae28...48b5c31. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1251,2017-11-02T17:56:07Z,2017-11-03T16:39:45Z,2017-11-03T16:39:56Z,MERGED,True,202,44,10,https://github.com/fvennetier,Improve Python API test coverage,4,[],https://github.com/open-io/oio-sds/pull/1251,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1251,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1251,2017-11-02T17:56:07Z,2017-11-03T16:39:45Z,2017-11-03T16:39:56Z,MERGED,True,202,44,10,https://github.com/fvennetier,Improve Python API test coverage,4,[],https://github.com/open-io/oio-sds/pull/1251,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1251#issuecomment-341510414,,"Codecov Report

Merging #1251 into 4.x will increase coverage by 0.39%.
The diff coverage is 99.16%.


@@            Coverage Diff            @@
##             4.x    #1251      +/-   ##
=========================================
+ Coverage   77.3%   77.68%   +0.39%     
=========================================
  Files        297      297              
  Lines      54047    54136      +89     
  Branches    6383     6383              
=========================================
+ Hits       41774    42052     +278     
+ Misses     11669    11628      -41     
+ Partials     604      456     -148



Impacted Files
Coverage Δ





tests/functional/audit/test_audit_storage.py
79.55% <ø> (ø)
⬆️


oio/account/client.py
82.42% <100%> (+4.4%)
⬆️


oio/container/client.py
83.16% <100%> (+10.4%)
⬆️


tests/functional/api/test_objectstorage.py
96.36% <100%> (+0.24%)
⬆️


tests/utils.py
90.61% <100%> (+0.06%)
⬆️


oio/rdir/client.py
52.52% <100%> (+0.54%)
⬆️


tests/unit/api/test_objectstorage.py
100% <100%> (ø)
⬆️


oio/api/object_storage.py
80.1% <98.37%> (+3.54%)
⬆️


meta2v2/meta2_utils_json_in.c
32.2% <0%> (-4.1%)
⬇️


oio/crawler/storage_tierer.py
59.1% <0%> (-2.72%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6598aef...3384a29. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1252,2017-11-03T11:06:48Z,2017-11-03T11:45:21Z,2017-11-03T13:07:32Z,MERGED,True,55,39,1,https://github.com/jfsmig,Fix the gridd_client logic around net errors,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1252,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1252,"Avoid variables with large scopes, and react to errors as close as possible to the function that raise them.","Avoid variables with large scopes, and react to errors as close as possible to the function that raise them.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1252,2017-11-03T11:06:48Z,2017-11-03T11:45:21Z,2017-11-03T13:07:32Z,MERGED,True,55,39,1,https://github.com/jfsmig,Fix the gridd_client logic around net errors,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1252,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1252#issuecomment-341678134,"Avoid variables with large scopes, and react to errors as close as possible to the function that raise them.","Codecov Report

Merging #1252 into 4.1.x will increase coverage by 0.04%.
The diff coverage is 81.48%.


@@            Coverage Diff             @@
##            4.1.x    #1252      +/-   ##
==========================================
+ Coverage   75.91%   75.96%   +0.04%     
==========================================
  Files         295      295              
  Lines       53952    53952              
  Branches     6636     6628       -8     
==========================================
+ Hits        40959    40982      +23     
- Misses      12528    12539      +11     
+ Partials      465      431      -34



Impacted Files
Coverage Δ





metautils/lib/gridd_client.c
75% <81.48%> (-0.22%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta2v2/meta2_filters_action_container.c
50.88% <0%> (-4.63%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


sqliterepo/replication.c
77.16% <0%> (-0.87%)
⬇️


resolver/hc_resolver.c
87.96% <0%> (-0.86%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


sqliterepo/sqlx_remote.c
62.68% <0%> (-0.75%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


sqliterepo/repository.c
71.16% <0%> (-0.62%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8beb726...b5bdce5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1253,2017-11-03T13:26:31Z,2017-11-03T14:01:10Z,2017-11-07T16:52:31Z,MERGED,True,3,3,1,https://github.com/jfsmig,Let the resolver return 503 (Retry) upon net errors,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1253,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1253,Let the caller know it should retry because no resolution was possible because of network errors.:,Let the caller know it should retry because no resolution was possible because of network errors.:,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1253,2017-11-03T13:26:31Z,2017-11-03T14:01:10Z,2017-11-07T16:52:31Z,MERGED,True,3,3,1,https://github.com/jfsmig,Let the resolver return 503 (Retry) upon net errors,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1253,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1253#issuecomment-341706135,Let the caller know it should retry because no resolution was possible because of network errors.:,"Codecov Report

Merging #1253 into 4.1.x will increase coverage by 0.03%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##            4.1.x    #1253      +/-   ##
==========================================
+ Coverage   75.69%   75.73%   +0.03%     
==========================================
  Files         295      295              
  Lines       53952    53952              
  Branches     6628     6634       +6     
==========================================
+ Hits        40841    40862      +21     
- Misses      12547    12548       +1     
+ Partials      564      542      -22



Impacted Files
Coverage Δ





resolver/hc_resolver.c
87.96% <0%> (+0.28%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


rdir/rdir.c
70.58% <0%> (-3.31%)
⬇️


oio/api/base.py
81.08% <0%> (-1.36%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


cluster/conscience/conscience_srvtype.c
81.18% <0%> (-0.54%)
⬇️


rawx-lib/src/attr_handler.c
57.61% <0%> (-0.48%)
⬇️


core/cs.c
80.8% <0%> (-0.45%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5d13ceb...ffe2765. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1254,2017-11-07T18:24:53Z,2017-11-20T10:16:03Z,2018-04-17T08:20:36Z,MERGED,True,473,188,27,https://github.com/fvennetier,Keep track of request durations,5,"['enhancement :sparkles:', 'Logging :scroll:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1254,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1254,"make the proxy keep track of resolving and request times
 make the Python API decode resolving and request times
 make the Python API keep track of rawx request times
 make the Python API keep track of time to first received content byte","make the proxy keep track of resolving and request times
 make the Python API decode resolving and request times
 make the Python API keep track of rawx request times
 make the Python API keep track of time to first received content byte",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1254,2017-11-07T18:24:53Z,2017-11-20T10:16:03Z,2018-04-17T08:20:36Z,MERGED,True,473,188,27,https://github.com/fvennetier,Keep track of request durations,5,"['enhancement :sparkles:', 'Logging :scroll:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1254,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1254#issuecomment-342782997,"make the proxy keep track of resolving and request times
 make the Python API decode resolving and request times
 make the Python API keep track of rawx request times
 make the Python API keep track of time to first received content byte","Codecov Report

Merging #1254 into 4.x will decrease coverage by 0.12%.
The diff coverage is 84.72%.


@@            Coverage Diff             @@
##              4.x    #1254      +/-   ##
==========================================
- Coverage   77.58%   77.47%   -0.11%     
==========================================
  Files         298      299       +1     
  Lines       54198    54333     +135     
  Branches     6378     6380       +2     
==========================================
+ Hits        42045    42088      +43     
- Misses      11609    11633      +24     
- Partials      544      612      +68



Impacted Files
Coverage Δ





proxy/common.h
100% <ø> (ø)
⬆️


oio/common/decorators.py
100% <100%> (ø)
⬆️


tests/functional/api/test_objectstorage.py
96.36% <100%> (+0.01%)
⬆️


oio/api/replication.py
76.54% <100%> (ø)
⬆️


oio/api/base.py
84.1% <100%> (+1.82%)
⬆️


oio/api/ec.py
93.72% <100%> (ø)
⬆️


proxy/m2_actions.c
83.26% <100%> (+0.04%)
⬆️


oio/common/http.py
79.62% <100%> (ø)
⬆️


proxy/common.c
82.04% <100%> (+0.31%)
⬆️


core/proxy.c
81.51% <100%> (ø)
⬆️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4324803...a27ae53. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1255,2017-11-07T22:05:08Z,2017-11-13T17:17:53Z,2017-11-13T17:21:52Z,MERGED,True,979,622,68,https://github.com/jfsmig,Transmit a timeout from the client to the backend,14,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1255,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1255,"Adapt each API to manage deadlines
transport the timeout deduced from the deadline in requests
when a local timeout meets a global request deadline, the most constraining is kept (the shorter)","Adapt each API to manage deadlines
transport the timeout deduced from the deadline in requests
when a local timeout meets a global request deadline, the most constraining is kept (the shorter)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1255,2017-11-07T22:05:08Z,2017-11-13T17:17:53Z,2017-11-13T17:21:52Z,MERGED,True,979,622,68,https://github.com/jfsmig,Transmit a timeout from the client to the backend,14,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1255,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1255#issuecomment-342642109,"Adapt each API to manage deadlines
transport the timeout deduced from the deadline in requests
when a local timeout meets a global request deadline, the most constraining is kept (the shorter)","Codecov Report

Merging #1255 into 4.x will increase coverage by 0.02%.
The diff coverage is 83.41%.


@@            Coverage Diff            @@
##              4.x   #1255      +/-   ##
=========================================
+ Coverage   77.49%   77.5%   +0.02%     
=========================================
  Files         297     298       +1     
  Lines       54136   54194      +58     
  Branches     6381    6378       -3     
=========================================
+ Hits        41945   41999      +54     
+ Misses      11653   11607      -46     
- Partials      538     588      +50



Impacted Files
Coverage Δ





cluster/tools/gridcluster.c
68.35% <ø> (ø)
⬆️


metautils/lib/metacomm.h
100% <ø> (ø)
⬆️


meta1v2/meta1_backend_services.c
56.36% <ø> (+0.15%)
⬆️


cluster/lib/gridcluster.c
72.29% <ø> (ø)
⬆️


server/transport_gridd.h
100% <ø> (ø)
⬆️


sqliterepo/sqlx_remote_ex.c
0% <0%> (ø)
⬆️


meta1v2/meta1_server.c
72.83% <100%> (-1.89%)
⬇️


proxy/dir_actions.c
72.7% <100%> (ø)
⬆️


oio/common/constants.py
100% <100%> (ø)
⬆️


sqliterepo/election.c
85.42% <100%> (+0.3%)
⬆️


... and 70 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6748938...98669dc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1256,2017-11-08T10:16:07Z,2017-11-08T11:17:58Z,2017-11-24T08:02:11Z,MERGED,True,1,0,1,https://github.com/murlock,CLI: fix object create error handling,1,[],https://github.com/open-io/oio-sds/pull/1256,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1256,(cherry picked from commit 60ada2a),(cherry picked from commit 60ada2a),True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1256,2017-11-08T10:16:07Z,2017-11-08T11:17:58Z,2017-11-24T08:02:11Z,MERGED,True,1,0,1,https://github.com/murlock,CLI: fix object create error handling,1,[],https://github.com/open-io/oio-sds/pull/1256,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1256#issuecomment-342780724,(cherry picked from commit 60ada2a),"Codecov Report

Merging #1256 into 4.1.x will increase coverage by 0.29%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1256      +/-   ##
==========================================
+ Coverage   75.86%   76.15%   +0.29%     
==========================================
  Files         295      295              
  Lines       53952    53952              
  Branches     6628     6628              
==========================================
+ Hits        40929    41087     +158     
+ Misses      12506    12489      -17     
+ Partials      517      376     -141



Impacted Files
Coverage Δ





gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


oio/account/client.py
82.22% <0%> (-2.23%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


sqliterepo/synchro.c
56.84% <0%> (-0.9%)
⬇️


sqliterepo/sqlx_remote.c
62.68% <0%> (-0.75%)
⬇️


server/network_server.c
80.67% <0%> (-0.65%)
⬇️


cluster/conscience/conscience_srvtype.c
81.18% <0%> (-0.54%)
⬇️


metautils/lib/utils_sockets.c
48.62% <0%> (-0.4%)
⬇️


sqliterepo/election.c
79.44% <0%> (-0.37%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 028e759...36af96f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1257,2017-11-08T14:11:28Z,2017-11-13T17:19:13Z,2017-11-13T17:21:54Z,MERGED,True,291,100,5,https://github.com/jfsmig,Monitor the beanstalkd server from its producers,9,[],https://github.com/open-io/oio-sds/pull/1257,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1257,"Closes #1194
Fix memleaks showing up when network errors occur
Fix retry conditions to avoid looping on event when an unrecoverable error happens
Enforce the expected consequences to specific replies from beanstalkd
Log any event dropped (at least its preamble).","Closes #1194
Fix memleaks showing up when network errors occur
Fix retry conditions to avoid looping on event when an unrecoverable error happens
Enforce the expected consequences to specific replies from beanstalkd
Log any event dropped (at least its preamble).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1257,2017-11-08T14:11:28Z,2017-11-13T17:19:13Z,2017-11-13T17:21:54Z,MERGED,True,291,100,5,https://github.com/jfsmig,Monitor the beanstalkd server from its producers,9,[],https://github.com/open-io/oio-sds/pull/1257,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1257#issuecomment-342831862,"Closes #1194
Fix memleaks showing up when network errors occur
Fix retry conditions to avoid looping on event when an unrecoverable error happens
Enforce the expected consequences to specific replies from beanstalkd
Log any event dropped (at least its preamble).","Codecov Report

Merging #1257 into 4.1.x will decrease coverage by 0.11%.
The diff coverage is 80.43%.


@@            Coverage Diff             @@
##            4.1.x    #1257      +/-   ##
==========================================
- Coverage   75.85%   75.73%   -0.12%     
==========================================
  Files         295      295              
  Lines       53952    54035      +83     
  Branches     6634     6649      +15     
==========================================
+ Hits        40923    40925       +2     
- Misses      12530    12558      +28     
- Partials      499      552      +53



Impacted Files
Coverage Δ





tests/unit/test_events_beanstalkd.c
97.74% <100%> (+0.42%)
⬆️


events/oio_events_queue_beanstalkd.c
78.99% <75.45%> (-1.13%)
⬇️


sqliterepo/replication_dispatcher.c
38.81% <0%> (-4.22%)
⬇️


sqliterepo/sqlite_utils.c
84.3% <0%> (-2.56%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


oio/account/client.py
80% <0%> (-2.23%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


rawx-lib/src/attr_handler.c
57.61% <0%> (-0.96%)
⬇️


sqliterepo/replication.c
77.16% <0%> (-0.87%)
⬇️


server/network_server.c
80.67% <0%> (-0.78%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b4f0a01...e25ac69. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1258,2017-11-09T10:50:42Z,2017-11-09T17:39:29Z,2017-11-09T17:39:31Z,MERGED,True,40,19,3,https://github.com/fvennetier,CLI: display status in 'container show' and 'container locate',1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1258,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1258,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1258,2017-11-09T10:50:42Z,2017-11-09T17:39:29Z,2017-11-09T17:39:31Z,MERGED,True,40,19,3,https://github.com/fvennetier,CLI: display status in 'container show' and 'container locate',1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1258,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1258#issuecomment-343129565,,"Codecov Report

Merging #1258 into 4.x will increase coverage by 0.07%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1258      +/-   ##
==========================================
+ Coverage   77.64%   77.71%   +0.07%     
==========================================
  Files         297      297              
  Lines       54136    54140       +4     
  Branches     6381     6381              
==========================================
+ Hits        42031    42068      +37     
- Misses      11621    11623       +2     
+ Partials      484      449      -35



Impacted Files
Coverage Δ





tests/functional/cli/object/test_object.py
100% <ø> (ø)
⬆️


oio/common/constants.py
100% <100%> (ø)
⬆️


meta2v2/meta2_utils_json_in.c
32.2% <0%> (-4.1%)
⬇️


meta2v2/meta2_filters_action_content.c
88.59% <0%> (-1.54%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


events/oio_events_queue_beanstalkd.c
80.12% <0%> (-0.56%)
⬇️


metautils/lib/comm_converter.c
74.16% <0%> (-0.52%)
⬇️


rawx-apache2/src/rawx_repository.c
52.38% <0%> (-0.45%)
⬇️


core/cs.c
80.81% <0%> (-0.44%)
⬇️


sqlx/sqlx_service.c
82.3% <0%> (-0.44%)
⬇️


... and 19 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6748938...7892c57. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1259,2017-11-09T16:11:28Z,2017-11-20T14:42:07Z,2017-11-23T10:14:10Z,MERGED,True,118,51,13,https://github.com/AymericDu,Add support for IPv6,1,[],https://github.com/open-io/oio-sds/pull/1259,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1259,"To test with oio-reset.sh:
$ beanstalkd -l ::1 &
$ export ZK=::1:2181
$ oio-reset.sh -f oio-sds/etc/bootstrap-preset-smallrepli.yml -I ::1","To test with oio-reset.sh:
$ beanstalkd -l ::1 &
$ export ZK=::1:2181
$ oio-reset.sh -f oio-sds/etc/bootstrap-preset-smallrepli.yml -I ::1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1259,2017-11-09T16:11:28Z,2017-11-20T14:42:07Z,2017-11-23T10:14:10Z,MERGED,True,118,51,13,https://github.com/AymericDu,Add support for IPv6,1,[],https://github.com/open-io/oio-sds/pull/1259,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1259#issuecomment-343208566,"To test with oio-reset.sh:
$ beanstalkd -l ::1 &
$ export ZK=::1:2181
$ oio-reset.sh -f oio-sds/etc/bootstrap-preset-smallrepli.yml -I ::1","Codecov Report

Merging #1259 into master will decrease coverage by 0.27%.
The diff coverage is 87.5%.


@@            Coverage Diff             @@
##           master    #1259      +/-   ##
==========================================
- Coverage   78.53%   78.26%   -0.26%     
==========================================
  Files         297      298       +1     
  Lines       53807    53827      +20     
  Branches     6277     6279       +2     
==========================================
- Hits        42252    42124     -128     
- Misses      11111    11130      +19     
- Partials      444      573     +129



Impacted Files
Coverage Δ





tests/unit/common/test_http.py
100% <100%> (ø)



cluster/module/server.c
78.57% <100%> (+0.18%)
⬆️


oio/common/http.py
80.38% <100%> (+0.77%)
⬆️


oio/event/beanstalk.py
61.19% <100%> (ø)
⬆️


oio/common/wsgi.py
42.31% <50%> (+0.75%)
⬆️


rawx-apache2/src/mod_dav_rawx.c
70.05% <66.67%> (-0.18%)
⬇️


rdir/rdir.c
74.07% <66.67%> (+0.06%)
⬆️


sqliterepo/restoration.c
74.08% <0%> (-14.81%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


sqliterepo/replication_dispatcher.c
48.16% <0%> (-8.07%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 10b8449...1a980e9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1260,2017-11-10T16:49:35Z,2017-11-20T09:24:03Z,2017-11-20T14:44:42Z,MERGED,True,22,13,3,https://github.com/jfsmig,Larger timeouts and more retries in the `openio directory` subcommands,5,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1260,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1260,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1260,2017-11-10T16:49:35Z,2017-11-20T09:24:03Z,2017-11-20T14:44:42Z,MERGED,True,22,13,3,https://github.com/jfsmig,Larger timeouts and more retries in the `openio directory` subcommands,5,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1260,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1260#issuecomment-343527160,,Closes #903,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1260,2017-11-10T16:49:35Z,2017-11-20T09:24:03Z,2017-11-20T14:44:42Z,MERGED,True,22,13,3,https://github.com/jfsmig,Larger timeouts and more retries in the `openio directory` subcommands,5,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1260,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1260#issuecomment-343529409,,"Codecov Report

Merging #1260 into 4.1.x will increase coverage by 0.08%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##            4.1.x    #1260      +/-   ##
==========================================
+ Coverage   75.85%   75.93%   +0.08%     
==========================================
  Files         295      295              
  Lines       53952    53952              
  Branches     6634     6634              
==========================================
+ Hits        40923    40969      +46     
+ Misses      12530    12501      -29     
+ Partials      499      482      -17



Impacted Files
Coverage Δ





oio/directory/meta0.py
72.09% <50%> (ø)
⬆️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


rdir/rdir.c
71.03% <0%> (-2.51%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-1.24%)
⬇️


server/network_server.c
80.41% <0%> (-1.04%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


rawx-lib/src/attr_handler.c
57.61% <0%> (-0.96%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-0.76%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b4f0a01...e35a2e6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1262,2017-11-13T17:01:49Z,2017-11-20T09:23:18Z,2017-11-20T14:44:43Z,MERGED,True,62,43,2,https://github.com/jfsmig,Manage long contents paths,3,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1262,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1262,"Fixes #1261 with a new norm for the xattr list of links.
Ensure the backward compatibility with the 4.1.x branch: allow to read old-style links but only write new links.","Fixes #1261 with a new norm for the xattr list of links.
Ensure the backward compatibility with the 4.1.x branch: allow to read old-style links but only write new links.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1262,2017-11-13T17:01:49Z,2017-11-20T09:23:18Z,2017-11-20T14:44:43Z,MERGED,True,62,43,2,https://github.com/jfsmig,Manage long contents paths,3,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1262,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1262#issuecomment-344209896,"Fixes #1261 with a new norm for the xattr list of links.
Ensure the backward compatibility with the 4.1.x branch: allow to read old-style links but only write new links.","Codecov Report

Merging #1262 into 4.1.x will decrease coverage by 0.03%.
The diff coverage is 88.88%.


@@            Coverage Diff            @@
##           4.1.x    #1262      +/-   ##
=========================================
- Coverage     76%   75.96%   -0.04%     
=========================================
  Files        295      295              
  Lines      54035    54048      +13     
  Branches    6649     6650       +1     
=========================================
- Hits       41071    41060      -11     
+ Misses     12543    12521      -22     
- Partials     421      467      +46



Impacted Files
Coverage Δ





tests/functional/api/test_objectstorage.py
96.12% <100%> (+0.32%)
⬆️


rawx-lib/src/attr_handler.c
59.36% <87.8%> (+1.74%)
⬆️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta2v2/meta2_utils.c
70.61% <0%> (-2.64%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.03% <0%> (-1.37%)
⬇️


oio/api/base.py
82.43% <0%> (-1.36%)
⬇️


sqliterepo/synchro.c
56.84% <0%> (-0.9%)
⬇️


resolver/hc_resolver.c
88.25% <0%> (-0.86%)
⬇️


core/http_put.c
92.62% <0%> (-0.51%)
⬇️


... and 22 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ed1c5a9...d95b77a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1263,2017-11-14T14:24:08Z,2017-11-20T09:24:55Z,2017-12-28T10:51:06Z,MERGED,True,9,9,2,https://github.com/jfsmig,Alter the meaning of TTL=0 on cached DB,2,"['priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1263,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1263,"A TTL set to 0 (via sqliterepo.cache.ttl.hot or sqliterepo.cache.ttl.cold) now means the base won't expire.
We lose no functionnality:

The default value is now non-zero but so small that the periodic bg task that expires the bases will nearly always expire any base it meets.
It is still possible to turn the bg-task completely down via server.periodic_decache.period = 0","A TTL set to 0 (via sqliterepo.cache.ttl.hot or sqliterepo.cache.ttl.cold) now means the base won't expire.
We lose no functionnality:

The default value is now non-zero but so small that the periodic bg task that expires the bases will nearly always expire any base it meets.
It is still possible to turn the bg-task completely down via server.periodic_decache.period = 0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1264,2017-11-14T22:12:15Z,2017-11-14T22:33:39Z,2017-11-20T14:48:19Z,MERGED,True,72,17,4,https://github.com/jfsmig,Increase the integration with oio-docs,2,"['priority:4 :suspect:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1264,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1264,"generate a .rst file for the managed variabls
also document the oio_url API","generate a .rst file for the managed variabls
also document the oio_url API",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1264,2017-11-14T22:12:15Z,2017-11-14T22:33:39Z,2017-11-20T14:48:19Z,MERGED,True,72,17,4,https://github.com/jfsmig,Increase the integration with oio-docs,2,"['priority:4 :suspect:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1264,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1264#issuecomment-344419741,"generate a .rst file for the managed variabls
also document the oio_url API","Codecov Report

Merging #1264 into 4.x will increase coverage by 0.49%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1264      +/-   ##
==========================================
+ Coverage   77.58%   78.07%   +0.49%     
==========================================
  Files         298      298              
  Lines       54198    54198              
  Branches     6378     6378              
==========================================
+ Hits        42045    42308     +263     
+ Misses      11609    11570      -39     
+ Partials      544      320     -224



Impacted Files
Coverage Δ





oio/account/client.py
82.42% <0%> (-6.59%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


oio/crawler/storage_tierer.py
59.1% <0%> (-2.72%)
⬇️


meta2v2/meta2_filters_action_content.c
88.89% <0%> (-1.23%)
⬇️


cluster/module/server.c
78.39% <0%> (-0.98%)
⬇️


rawx-apache2/src/rawx_repository.c
51.7% <0%> (-0.67%)
⬇️


metautils/lib/gridd_client_ext.c
81.08% <0%> (-0.35%)
⬇️


metautils/lib/comm_message.c
85.53% <0%> (-0.26%)
⬇️


metautils/lib/comm_converter.c
74.42% <0%> (-0.26%)
⬇️


core/proxy.c
81.33% <0%> (-0.17%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4324803...8571f27. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1266,2017-11-16T13:11:15Z,2017-11-20T10:10:37Z,2017-11-23T10:13:51Z,MERGED,True,39,0,3,https://github.com/AymericDu,oio-blob-indexer: Control format of chunk ID,2,[],https://github.com/open-io/oio-sds/pull/1266,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1266,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1266,2017-11-16T13:11:15Z,2017-11-20T10:10:37Z,2017-11-23T10:13:51Z,MERGED,True,39,0,3,https://github.com/AymericDu,oio-blob-indexer: Control format of chunk ID,2,[],https://github.com/open-io/oio-sds/pull/1266,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1266#issuecomment-344921582,,"Codecov Report

Merging #1266 into 4.1.x will decrease coverage by 0.19%.
The diff coverage is 64%.


@@           Coverage Diff            @@
##           4.1.x    #1266     +/-   ##
========================================
- Coverage     76%   75.81%   -0.2%     
========================================
  Files        295      295             
  Lines      54035    54074     +39     
  Branches    6649     6656      +7     
========================================
- Hits       41071    40997     -74     
+ Misses     12543    12533     -10     
- Partials     421      544    +123



Impacted Files
Coverage Δ





oio/common/constants.py
100% <100%> (ø)
⬆️


tests/functional/rdir/test_indexer.py
90.69% <56.25%> (-7.88%)
⬇️


oio/blob/indexer.py
75.86% <75%> (+29.02%)
⬆️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta2v2/meta2_backend.c
70.76% <0%> (-4.48%)
⬇️


sqliterepo/replication_dispatcher.c
38.81% <0%> (-4.14%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.03% <0%> (-1.37%)
⬇️


proxy/cs_actions.c
89.14% <0%> (-1.36%)
⬇️


oio/api/base.py
82.43% <0%> (-1.36%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ed1c5a9...cc2f2f9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1267,2017-11-17T09:41:43Z,2017-11-22T10:10:58Z,2018-04-25T13:25:22Z,MERGED,True,763,85,4,https://github.com/murlock,Backup/Restore: manage checksums,9,[],https://github.com/open-io/oio-sds/pull/1267,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1267,"Backup now save chunks checksums in manifest.
Restore ensure that each part match checksums.","Backup now save chunks checksums in manifest.
Restore ensure that each part match checksums.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1267,2017-11-17T09:41:43Z,2017-11-22T10:10:58Z,2018-04-25T13:25:22Z,MERGED,True,763,85,4,https://github.com/murlock,Backup/Restore: manage checksums,9,[],https://github.com/open-io/oio-sds/pull/1267,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1267#issuecomment-345959660,"Backup now save chunks checksums in manifest.
Restore ensure that each part match checksums.","Codecov Report

Merging #1267 into 4.1.x will decrease coverage by 0.51%.
The diff coverage is 27.45%.


@@            Coverage Diff            @@
##           4.1.x    #1267      +/-   ##
=========================================
- Coverage     76%   75.49%   -0.52%     
=========================================
  Files        295      296       +1     
  Lines      54035    54451     +416     
  Branches    6649     6661      +12     
=========================================
+ Hits       41071    41107      +36     
- Misses     12543    12780     +237     
- Partials     421      564     +143



Impacted Files
Coverage Δ





oio/container/md5py.py
10.83% <10.83%> (ø)



...ests/functional/container/test_container_backup.py
96.9% <100%> (+0.9%)
⬆️


oio/container/backup.py
12.9% <11.53%> (-0.37%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta2v2/meta2_backend.c
70.76% <0%> (-4.48%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


sqliterepo/replication_dispatcher.c
40.38% <0%> (-2.57%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


resolver/hc_resolver.c
87.39% <0%> (-1.72%)
⬇️


... and 42 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ed1c5a9...8d835a3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1268,2017-11-17T10:42:12Z,2017-11-17T11:48:18Z,2017-11-17T11:48:18Z,MERGED,True,3,2,1,https://github.com/kamel-rahim,Meta2: Accept empty bases in the workaround of containers check,1,[],https://github.com/open-io/oio-sds/pull/1268,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1268,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1268,2017-11-17T10:42:12Z,2017-11-17T11:48:18Z,2017-11-17T11:48:18Z,MERGED,True,3,2,1,https://github.com/kamel-rahim,Meta2: Accept empty bases in the workaround of containers check,1,[],https://github.com/open-io/oio-sds/pull/1268,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1268#issuecomment-345223245,,"Codecov Report

Merging #1268 into 4.1.x will decrease coverage by 0.27%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##           4.1.x    #1268      +/-   ##
=========================================
- Coverage     76%   75.72%   -0.28%     
=========================================
  Files        295      295              
  Lines      54035    54036       +1     
  Branches    6649     6649              
=========================================
- Hits       41071    40921     -150     
- Misses     12543    12551       +8     
- Partials     421      564     +143



Impacted Files
Coverage Δ





meta2v2/meta2_backend.c
70.76% <100%> (-4.48%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


sqliterepo/replication_dispatcher.c
39.62% <0%> (-3.33%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


oio/api/base.py
82.43% <0%> (-1.36%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


sqliterepo/synchro.c
56.84% <0%> (-0.9%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ed1c5a9...d9a011f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1269,2017-11-17T15:56:41Z,2017-12-07T13:23:27Z,2017-12-07T13:23:27Z,MERGED,True,436,258,67,https://github.com/dimtion,Python3 compatibility,14,[],https://github.com/open-io/oio-sds/pull/1269,https://github.com/dimtion,1,https://github.com/open-io/oio-sds/pull/1269,"This pull request add some Python3 compatibility to the project while maintaining python2 compat.
Most of the work was done tweaking languages incompatibilities between py2&py3, and should not introduce any regression to the Python 2 build.
However two main issues should be doubled checked:

Some str/byte/unicode errors could be made during the update process. Maybe more tests should be added to ensure that no regression was added here.
The commit bddda91 introduce some modifications to the test suite, and potentially some regressions to the interface of some functions. Not knowing well the code base, I tried to do my best.

The PR is still a WIP, as of today still 20 tests are not passing on my device, please give me feedback if you want me to continue this work, as we urge to need python3 support at least for the SDK part.
I can also open an issue if you want to discuss.","This pull request add some Python3 compatibility to the project while maintaining python2 compat.
Most of the work was done tweaking languages incompatibilities between py2&py3, and should not introduce any regression to the Python 2 build.
However two main issues should be doubled checked:

Some str/byte/unicode errors could be made during the update process. Maybe more tests should be added to ensure that no regression was added here.
The commit bddda91 introduce some modifications to the test suite, and potentially some regressions to the interface of some functions. Not knowing well the code base, I tried to do my best.

The PR is still a WIP, as of today still 20 tests are not passing on my device, please give me feedback if you want me to continue this work, as we urge to need python3 support at least for the SDK part.
I can also open an issue if you want to discuss.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1269,2017-11-17T15:56:41Z,2017-12-07T13:23:27Z,2017-12-07T13:23:27Z,MERGED,True,436,258,67,https://github.com/dimtion,Python3 compatibility,14,[],https://github.com/open-io/oio-sds/pull/1269,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1269#issuecomment-346068706,"This pull request add some Python3 compatibility to the project while maintaining python2 compat.
Most of the work was done tweaking languages incompatibilities between py2&py3, and should not introduce any regression to the Python 2 build.
However two main issues should be doubled checked:

Some str/byte/unicode errors could be made during the update process. Maybe more tests should be added to ensure that no regression was added here.
The commit bddda91 introduce some modifications to the test suite, and potentially some regressions to the interface of some functions. Not knowing well the code base, I tried to do my best.

The PR is still a WIP, as of today still 20 tests are not passing on my device, please give me feedback if you want me to continue this work, as we urge to need python3 support at least for the SDK part.
I can also open an issue if you want to discuss.","Codecov Report

Merging #1269 into master will decrease coverage by 0.37%.
The diff coverage is 87.87%.


@@            Coverage Diff            @@
##           master   #1269      +/-   ##
=========================================
- Coverage   78.46%   78.1%   -0.36%     
=========================================
  Files         299     299              
  Lines       54533   54643     +110     
  Branches     6306    6306              
=========================================
- Hits        42786   42675     -111     
- Misses      11310   11380      +70     
- Partials      437     588     +151



Impacted Files
Coverage Δ





oio/crawler/storage_tierer.py
59.1% <0%> (ø)
⬆️


tests/utils.py
91.36% <100%> (+0.75%)
⬆️


tests/functional/content/test_ec.py
100% <100%> (ø)
⬆️


oio/ecd/app.py
65.89% <100%> (-0.38%)
⬇️


oio/rdir/client.py
53.34% <100%> (-0.29%)
⬇️


tests/unit/common/test_logger.py
100% <100%> (ø)
⬆️


oio/container/client.py
84.4% <100%> (+0.17%)
⬆️


tests/functional/account/test_backend.py
100% <100%> (ø)
⬆️


oio/api/object_storage.py
78.89% <100%> (+0.18%)
⬆️


tests/functional/api/test_directory.py
100% <100%> (ø)
⬆️


... and 79 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9e68263...b612a57. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1269,2017-11-17T15:56:41Z,2017-12-07T13:23:27Z,2017-12-07T13:23:27Z,MERGED,True,436,258,67,https://github.com/dimtion,Python3 compatibility,14,[],https://github.com/open-io/oio-sds/pull/1269,https://github.com/dimtion,3,https://github.com/open-io/oio-sds/pull/1269#issuecomment-348474480,"This pull request add some Python3 compatibility to the project while maintaining python2 compat.
Most of the work was done tweaking languages incompatibilities between py2&py3, and should not introduce any regression to the Python 2 build.
However two main issues should be doubled checked:

Some str/byte/unicode errors could be made during the update process. Maybe more tests should be added to ensure that no regression was added here.
The commit bddda91 introduce some modifications to the test suite, and potentially some regressions to the interface of some functions. Not knowing well the code base, I tried to do my best.

The PR is still a WIP, as of today still 20 tests are not passing on my device, please give me feedback if you want me to continue this work, as we urge to need python3 support at least for the SDK part.
I can also open an issue if you want to discuss.","I've merged the master onto this branch, tell me if you prefer a simple rebase.
It seems that the buggy build are because of the master branch.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1269,2017-11-17T15:56:41Z,2017-12-07T13:23:27Z,2017-12-07T13:23:27Z,MERGED,True,436,258,67,https://github.com/dimtion,Python3 compatibility,14,[],https://github.com/open-io/oio-sds/pull/1269,https://github.com/fvennetier,4,https://github.com/open-io/oio-sds/pull/1269#issuecomment-348477312,"This pull request add some Python3 compatibility to the project while maintaining python2 compat.
Most of the work was done tweaking languages incompatibilities between py2&py3, and should not introduce any regression to the Python 2 build.
However two main issues should be doubled checked:

Some str/byte/unicode errors could be made during the update process. Maybe more tests should be added to ensure that no regression was added here.
The commit bddda91 introduce some modifications to the test suite, and potentially some regressions to the interface of some functions. Not knowing well the code base, I tried to do my best.

The PR is still a WIP, as of today still 20 tests are not passing on my device, please give me feedback if you want me to continue this work, as we urge to need python3 support at least for the SDK part.
I can also open an issue if you want to discuss.","Hello. Yes, the build fails because of a test of the pkg-config version. I tried to fix it this morning. I hope it is OK now.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1269,2017-11-17T15:56:41Z,2017-12-07T13:23:27Z,2017-12-07T13:23:27Z,MERGED,True,436,258,67,https://github.com/dimtion,Python3 compatibility,14,[],https://github.com/open-io/oio-sds/pull/1269,https://github.com/fvennetier,5,https://github.com/open-io/oio-sds/pull/1269#issuecomment-349260384,"This pull request add some Python3 compatibility to the project while maintaining python2 compat.
Most of the work was done tweaking languages incompatibilities between py2&py3, and should not introduce any regression to the Python 2 build.
However two main issues should be doubled checked:

Some str/byte/unicode errors could be made during the update process. Maybe more tests should be added to ensure that no regression was added here.
The commit bddda91 introduce some modifications to the test suite, and potentially some regressions to the interface of some functions. Not knowing well the code base, I tried to do my best.

The PR is still a WIP, as of today still 20 tests are not passing on my device, please give me feedback if you want me to continue this work, as we urge to need python3 support at least for the SDK part.
I can also open an issue if you want to discuss.","Hello. Thanks for your work. Indeed, we prefer a rebase, to keep the history clean. I did it here https://github.com/fvennetier/oio-sds/commits/dimtion-python3. If it's OK, you can force-push into your branch to update this pull-request.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1269,2017-11-17T15:56:41Z,2017-12-07T13:23:27Z,2017-12-07T13:23:27Z,MERGED,True,436,258,67,https://github.com/dimtion,Python3 compatibility,14,[],https://github.com/open-io/oio-sds/pull/1269,https://github.com/dimtion,6,https://github.com/open-io/oio-sds/pull/1269#issuecomment-349575997,"This pull request add some Python3 compatibility to the project while maintaining python2 compat.
Most of the work was done tweaking languages incompatibilities between py2&py3, and should not introduce any regression to the Python 2 build.
However two main issues should be doubled checked:

Some str/byte/unicode errors could be made during the update process. Maybe more tests should be added to ensure that no regression was added here.
The commit bddda91 introduce some modifications to the test suite, and potentially some regressions to the interface of some functions. Not knowing well the code base, I tried to do my best.

The PR is still a WIP, as of today still 20 tests are not passing on my device, please give me feedback if you want me to continue this work, as we urge to need python3 support at least for the SDK part.
I can also open an issue if you want to discuss.","Hello, so it seems good now. I also have this patch dimtion@786505b that I didn't included in the PR. The tests don't fully pass under python3 (that is why I didn't included it), but for end users that only want the OpenIO SDK it seems enough.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1271,2017-11-20T11:07:40Z,2017-11-20T15:24:48Z,2018-04-10T16:03:49Z,MERGED,True,22,10,1,https://github.com/kamel-rahim,Sqliterepo: Fix replication error on admin table,2,[],https://github.com/open-io/oio-sds/pull/1271,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1271,"Fix a possible desynchro. of the rowid value, in the admin table, with a potential overlap with the primary key of that table.","Fix a possible desynchro. of the rowid value, in the admin table, with a potential overlap with the primary key of that table.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1271,2017-11-20T11:07:40Z,2017-11-20T15:24:48Z,2018-04-10T16:03:49Z,MERGED,True,22,10,1,https://github.com/kamel-rahim,Sqliterepo: Fix replication error on admin table,2,[],https://github.com/open-io/oio-sds/pull/1271,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1271#issuecomment-345728277,"Fix a possible desynchro. of the rowid value, in the admin table, with a potential overlap with the primary key of that table.","Codecov Report

Merging #1271 into 4.1.x will increase coverage by 0.27%.
The diff coverage is 82.35%.


@@            Coverage Diff             @@
##            4.1.x    #1271      +/-   ##
==========================================
+ Coverage   75.89%   76.17%   +0.27%     
==========================================
  Files         295      295              
  Lines       54079    54088       +9     
  Branches     6656     6661       +5     
==========================================
+ Hits        41044    41202     +158     
+ Misses      12521    12476      -45     
+ Partials      514      410     -104



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
44.24% <82.35%> (+5.18%)
⬆️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-1.43%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.03% <0%> (-1.37%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


sqliterepo/synchro.c
56.84% <0%> (-0.9%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


rdir/rdir.c
73.54% <0%> (-0.58%)
⬇️


sqliterepo/gridd_client_pool.c
71.09% <0%> (-0.48%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5c6968b...e2ef860. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1272,2017-11-20T13:30:32Z,2017-11-20T14:40:28Z,2017-11-20T14:44:39Z,MERGED,True,25,4,2,https://github.com/jfsmig,python: Dont't retry on content_create(),2,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1272,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1272,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1275,2017-11-21T09:30:46Z,2017-11-21T09:57:03Z,2017-11-21T13:18:16Z,MERGED,True,17,3,2,https://github.com/jfsmig,Set a longer+configurable timeout for beanstalkd requests,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1275,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1275,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1275,2017-11-21T09:30:46Z,2017-11-21T09:57:03Z,2017-11-21T13:18:16Z,MERGED,True,17,3,2,https://github.com/jfsmig,Set a longer+configurable timeout for beanstalkd requests,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1275,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1275#issuecomment-345972714,,"Codecov Report

Merging #1275 into 4.1.x will increase coverage by 0.12%.
The diff coverage is 88.88%.


@@            Coverage Diff            @@
##           4.1.x    #1275      +/-   ##
=========================================
+ Coverage   75.9%   76.02%   +0.12%     
=========================================
  Files        295      295              
  Lines      54088    54094       +6     
  Branches    6661     6661              
=========================================
+ Hits       41055    41125      +70     
+ Misses     12511    12493      -18     
+ Partials     522      476      -46



Impacted Files
Coverage Δ





events/oio_events_queue_beanstalkd.c
79.5% <88.88%> (+0.51%)
⬆️


meta1v2/meta1_gridd_dispatcher.c
68.03% <0%> (-1.37%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-1.24%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-0.76%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


core/cs.c
80.8% <0%> (-0.45%)
⬇️


oio/directory/meta0.py
72.09% <0%> (-0.39%)
⬇️


oio/api/io.py
81.16% <0%> (-0.33%)
⬇️


proxy/metacd_http.c
90.16% <0%> (-0.33%)
⬇️


server/transport_gridd.c
68.17% <0%> (-0.21%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 34104ad...6f54650. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1276,2017-11-21T14:50:52Z,2017-11-21T15:24:09Z,2017-11-21T22:21:14Z,MERGED,True,469,165,16,https://github.com/jfsmig,Merge 4.1.x into 4.x,27,[],https://github.com/open-io/oio-sds/pull/1276,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1276,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1276,2017-11-21T14:50:52Z,2017-11-21T15:24:09Z,2017-11-21T22:21:14Z,MERGED,True,469,165,16,https://github.com/jfsmig,Merge 4.1.x into 4.x,27,[],https://github.com/open-io/oio-sds/pull/1276,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1276#issuecomment-346057253,,"Codecov Report

Merging #1276 into 4.x will decrease coverage by 0.05%.
The diff coverage is 84.24%.


@@            Coverage Diff             @@
##              4.x    #1276      +/-   ##
==========================================
- Coverage   77.81%   77.77%   -0.04%     
==========================================
  Files         299      299              
  Lines       54332    54474     +142     
  Branches     6380     6407      +27     
==========================================
+ Hits        42274    42362      +88     
+ Misses      11621    11607      -14     
- Partials      437      505      +68



Impacted Files
Coverage Δ





oio/container/client.py
84.95% <ø> (ø)
⬆️


meta2v2/meta2_backend.c
77.88% <100%> (+0.03%)
⬆️


tests/unit/test_events_beanstalkd.c
97.75% <100%> (+0.43%)
⬆️


tests/functional/rdir/test_indexer.py
98.84% <100%> (+0.27%)
⬆️


tests/unit/api/test_container_client.py
81.82% <100%> (+5.35%)
⬆️


tests/functional/api/test_objectstorage.py
96.4% <100%> (+0.04%)
⬆️


oio/common/constants.py
100% <100%> (ø)
⬆️


oio/blob/indexer.py
76.41% <75%> (+28.26%)
⬆️


events/oio_events_queue_beanstalkd.c
79.51% <76.28%> (-0.6%)
⬇️


sqliterepo/replication_dispatcher.c
52.99% <82.36%> (-2.24%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9ff6d16...3c3ee23. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1277,2017-11-21T23:23:26Z,2017-11-22T10:16:51Z,2017-11-28T09:00:22Z,MERGED,True,530,10,13,https://github.com/jfsmig,Document some service API calls,7,[],https://github.com/open-io/oio-sds/pull/1277,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1277,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1277,2017-11-21T23:23:26Z,2017-11-22T10:16:51Z,2017-11-28T09:00:22Z,MERGED,True,530,10,13,https://github.com/jfsmig,Document some service API calls,7,[],https://github.com/open-io/oio-sds/pull/1277,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1277#issuecomment-346303739,,"Codecov Report

Merging #1277 into 4.x will decrease coverage by 0.11%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##              4.x    #1277     +/-   ##
=========================================
- Coverage   77.77%   77.67%   -0.1%     
=========================================
  Files         299      299             
  Lines       54474    54474             
  Branches     6407     6407             
=========================================
- Hits        42362    42307     -55     
- Misses      11607    11624     +17     
- Partials      505      543     +38



Impacted Files
Coverage Δ





rawx-apache2/src/rawx_chunk_update.c
0% <ø> (ø)
⬆️


rdir/rdir.c
73.89% <ø> (ø)
⬆️


oio/directory/admin.py
29.58% <ø> (ø)
⬆️


proxy/m2_actions.c
83.26% <ø> (ø)
⬆️


rawx-apache2/src/rawx_req_info.c
77.67% <ø> (ø)
⬆️


proxy/dir_actions.c
72.7% <ø> (ø)
⬆️


rawx-apache2/src/rawx_repository.c
52.38% <ø> (+0.68%)
⬆️


oio/api/object_storage.py
78.53% <ø> (ø)
⬆️


oio/account/server.py
88.35% <ø> (ø)
⬆️


proxy/cs_actions.c
90.5% <ø> (ø)
⬆️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3c3ee23...6ffcd24. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1280,2017-11-22T14:19:13Z,2017-11-24T09:33:26Z,2018-04-10T16:03:33Z,MERGED,True,13,12,2,https://github.com/kamel-rahim,sqliterepo: trigger synchronous restore on failed DB_REPLI,1,[],https://github.com/open-io/oio-sds/pull/1280,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1280,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1280,2017-11-22T14:19:13Z,2017-11-24T09:33:26Z,2018-04-10T16:03:33Z,MERGED,True,13,12,2,https://github.com/kamel-rahim,sqliterepo: trigger synchronous restore on failed DB_REPLI,1,[],https://github.com/open-io/oio-sds/pull/1280,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1280#issuecomment-346366601,,"Codecov Report

Merging #1280 into 4.1.x will decrease coverage by 0.17%.
The diff coverage is 50%.


@@            Coverage Diff            @@
##            4.1.x   #1280      +/-   ##
=========================================
- Coverage   75.88%   75.7%   -0.18%     
=========================================
  Files         296     296              
  Lines       54439   54441       +2     
  Branches     6655    6662       +7     
=========================================
- Hits        41312   41217      -95     
- Misses      12755   12756       +1     
- Partials      372     468      +96



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
43.23% <0%> (-2.84%)
⬇️


sqliterepo/replication.c
78.55% <80%> (+0.51%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-9.1%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-3.34%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta2v2/meta2_utils.c
70.61% <0%> (-2.51%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update fb01436...30fdb8f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1281,2017-11-23T08:15:18Z,2017-11-24T13:42:09Z,2017-11-24T13:42:22Z,MERGED,True,46,23,6,https://github.com/fvennetier,Improve exception handling and error messages,4,[],https://github.com/open-io/oio-sds/pull/1281,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1281,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1281,2017-11-23T08:15:18Z,2017-11-24T13:42:09Z,2017-11-24T13:42:22Z,MERGED,True,46,23,6,https://github.com/fvennetier,Improve exception handling and error messages,4,[],https://github.com/open-io/oio-sds/pull/1281,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1281#issuecomment-346831373,,"Codecov Report

Merging #1281 into 4.1.x will decrease coverage by 0.18%.
The diff coverage is 61.53%.


@@            Coverage Diff            @@
##            4.1.x   #1281      +/-   ##
=========================================
- Coverage   75.59%   75.4%   -0.19%     
=========================================
  Files         296     296              
  Lines       54446   54458      +12     
  Branches     6658    6658              
=========================================
- Hits        41159   41066      -93     
- Misses      12787   12794       +7     
- Partials      500     598      +98



Impacted Files
Coverage Δ





oio/rdir/client.py
53.1% <0%> (-0.57%)
⬇️


rawx-apache2/src/rawx_internals.c
76.92% <100%> (+0.36%)
⬆️


oio/common/utils.py
64.3% <100%> (+5.14%)
⬆️


oio/api/base.py
82.89% <40%> (+0.46%)
⬆️


oio/common/wsgi.py
41.77% <62.5%> (+1.77%)
⬆️


rdir/rdir.c
69.55% <0%> (-4.45%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


sqliterepo/replication_dispatcher.c
38.99% <0%> (-4.17%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


sqliterepo/sqlite_utils.c
85.32% <0%> (-1.55%)
⬇️


... and 34 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b228452...08c7a51. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1282,2017-11-23T11:42:03Z,2017-11-24T10:34:06Z,2017-11-24T10:34:09Z,MERGED,True,20,8,4,https://github.com/fvennetier,Allow non-hexadecimal request IDs,1,[],https://github.com/open-io/oio-sds/pull/1282,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1282,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1282,2017-11-23T11:42:03Z,2017-11-24T10:34:06Z,2017-11-24T10:34:09Z,MERGED,True,20,8,4,https://github.com/fvennetier,Allow non-hexadecimal request IDs,1,[],https://github.com/open-io/oio-sds/pull/1282,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1282#issuecomment-346599585,,"Codecov Report

Merging #1282 into 4.1.x will increase coverage by 0.18%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##           4.1.x    #1282      +/-   ##
=========================================
+ Coverage   75.5%   75.69%   +0.18%     
=========================================
  Files        296      296              
  Lines      54441    54446       +5     
  Branches    6656     6658       +2     
=========================================
+ Hits       41108    41212     +104     
+ Misses     12778    12769       -9     
+ Partials     555      465      -90



Impacted Files
Coverage Δ





core/oiostr.h
100% <ø> (ø)
⬆️


core/str.c
87.96% <100%> (+0.18%)
⬆️


server/transport_gridd.c
68.31% <100%> (-0.07%)
⬇️


tests/functional/api/test_objectstorage.py
95.84% <100%> (ø)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


proxy/cs_actions.c
90.49% <0%> (-1.36%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-0.83%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 308c780...29e27a8. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1283,2017-11-23T12:24:54Z,2017-11-23T13:49:38Z,2017-11-28T08:59:51Z,MERGED,True,7,0,1,https://github.com/jfsmig,sqliterepo: Avoid preparing an UPDATE on nothing,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1283,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1283,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1283,2017-11-23T12:24:54Z,2017-11-23T13:49:38Z,2017-11-28T08:59:51Z,MERGED,True,7,0,1,https://github.com/jfsmig,sqliterepo: Avoid preparing an UPDATE on nothing,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1283,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1283#issuecomment-346607850,,"Codecov Report

Merging #1283 into 4.1.x will decrease coverage by 0.38%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1283      +/-   ##
==========================================
- Coverage   75.81%   75.43%   -0.39%     
==========================================
  Files         296      296              
  Lines       54451    54453       +2     
  Branches     6655     6656       +1     
==========================================
- Hits        41284    41075     -209     
- Misses      12770    12806      +36     
- Partials      397      572     +175



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
39.11% <100%> (-5.46%)
⬇️


meta2v2/meta2_utils_lb.c
79.54% <0%> (-11.37%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_backend.c
71.42% <0%> (-3.85%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-3.34%)
⬇️


rdir/rdir.c
71.03% <0%> (-2.86%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


sqliterepo/replication.c
77.16% <0%> (-2.03%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 51a543d...cde8a2b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1284,2017-11-23T13:25:31Z,2017-11-23T14:15:34Z,2017-11-28T08:59:50Z,MERGED,True,39,53,2,https://github.com/jfsmig,sqliterepo: Replicate operations on the admin table,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1284,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1284,"The entries of the admin table with a NULL value are ignored. NULL is used as a marker for deleted entries.
We have no other option than not removing the entries. Removing them has a risk to random remove other fields (because based on the rowid).
\cc @kamel-rahim @jkasarherou","The entries of the admin table with a NULL value are ignored. NULL is used as a marker for deleted entries.
We have no other option than not removing the entries. Removing them has a risk to random remove other fields (because based on the rowid).
\cc @kamel-rahim @jkasarherou",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1284,2017-11-23T13:25:31Z,2017-11-23T14:15:34Z,2017-11-28T08:59:50Z,MERGED,True,39,53,2,https://github.com/jfsmig,sqliterepo: Replicate operations on the admin table,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1284,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1284#issuecomment-346621570,"The entries of the admin table with a NULL value are ignored. NULL is used as a marker for deleted entries.
We have no other option than not removing the entries. Removing them has a risk to random remove other fields (because based on the rowid).
\cc @kamel-rahim @jkasarherou","Codecov Report

Merging #1284 into 4.1.x will increase coverage by 0.21%.
The diff coverage is 64%.


@@            Coverage Diff             @@
##            4.1.x    #1284      +/-   ##
==========================================
+ Coverage   75.46%   75.68%   +0.21%     
==========================================
  Files         296      296              
  Lines       54453    54439      -14     
  Branches     6656     6655       -1     
==========================================
+ Hits        41095    41201     +106     
+ Misses      12788    12779       -9     
+ Partials      570      459     -111



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
43.57% <14.28%> (+4.54%)
⬆️


sqliterepo/sqlite_utils.c
86.87% <83.33%> (+2.56%)
⬆️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


sqliterepo/gridd_client_pool.c
69.19% <0%> (-2.37%)
⬇️


metautils/lib/gridd_client.c
73.27% <0%> (-1.51%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


metautils/lib/comm_message.c
84.73% <0%> (-0.53%)
⬇️


core/http_put.c
92.62% <0%> (-0.51%)
⬇️


core/cs.c
80.8% <0%> (-0.45%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2454cf1...e9b9149. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1285,2017-11-23T17:02:33Z,2017-11-24T10:31:29Z,2017-11-24T10:31:33Z,MERGED,True,8,4,3,https://github.com/fvennetier,oio-crawler-integrity: fix output for blob-rebuilder,1,"['bug :scream:', 'priority:1 :goberserk:']",https://github.com/open-io/oio-sds/pull/1285,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1285,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1285,2017-11-23T17:02:33Z,2017-11-24T10:31:29Z,2017-11-24T10:31:33Z,MERGED,True,8,4,3,https://github.com/fvennetier,oio-crawler-integrity: fix output for blob-rebuilder,1,"['bug :scream:', 'priority:1 :goberserk:']",https://github.com/open-io/oio-sds/pull/1285,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1285#issuecomment-346775287,,"Codecov Report

Merging #1285 into 4.1.x will decrease coverage by 0.29%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.1.x    #1285     +/-   ##
=========================================
- Coverage   75.88%   75.58%   -0.3%     
=========================================
  Files         296      296             
  Lines       54439    54439             
  Branches     6655     6655             
=========================================
- Hits        41312    41149    -163     
- Misses      12755    12788     +33     
- Partials      372      502    +130



Impacted Files
Coverage Δ





oio/common/http.py
80.54% <100%> (ø)
⬆️


sqliterepo/replication_dispatcher.c
39.08% <0%> (-6.99%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-3.34%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.64%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


sqliterepo/sqlite_utils.c
85.32% <0%> (-1.55%)
⬇️


resolver/hc_resolver.c
87.39% <0%> (-1.44%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-1.24%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update fb01436...ce9e278. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1290,2017-11-27T13:45:55Z,2017-11-29T09:31:41Z,2017-11-29T09:31:45Z,MERGED,True,72,33,5,https://github.com/fvennetier,Improve integrity crawler,2,[],https://github.com/open-io/oio-sds/pull/1290,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1290,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1290,2017-11-27T13:45:55Z,2017-11-29T09:31:41Z,2017-11-29T09:31:45Z,MERGED,True,72,33,5,https://github.com/fvennetier,Improve integrity crawler,2,[],https://github.com/open-io/oio-sds/pull/1290,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1290#issuecomment-347192375,,"Codecov Report

Merging #1290 into 4.1.x will decrease coverage by 0.4%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.1.x   #1290      +/-   ##
=========================================
- Coverage   75.81%   75.4%   -0.41%     
=========================================
  Files         296     296              
  Lines       54458   54457       -1     
  Branches     6658    6664       +6     
=========================================
- Hits        41289   41066     -223     
- Misses      12787   12800      +13     
- Partials      382     591     +209



Impacted Files
Coverage Δ





oio/content/plain.py
71.42% <100%> (ø)
⬆️


oio/content/ec.py
58.18% <100%> (-0.75%)
⬇️


meta2v2/meta2_utils_lb.c
72.72% <0%> (-18.19%)
⬇️


sqliterepo/replication_dispatcher.c
39.07% <0%> (-6.65%)
⬇️


rdir/rdir.c
69.55% <0%> (-4.45%)
⬇️


meta2v2/meta2_backend.c
71.09% <0%> (-4.18%)
⬇️


meta2v2/meta2_utils.c
70.48% <0%> (-2.77%)
⬇️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-2.23%)
⬇️


sqliterepo/sqlite_utils.c
85.32% <0%> (-1.55%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 340045b...c65f0bc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1292,2017-11-29T15:00:50Z,2017-11-30T17:13:16Z,2017-11-30T17:13:18Z,MERGED,True,326,196,5,https://github.com/fvennetier,Fix object list pagination,3,[],https://github.com/open-io/oio-sds/pull/1292,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1292,"When using delimiters, the pagination used to return several times the same prefix, leading to infinite loops in client applications.","When using delimiters, the pagination used to return several times the same prefix, leading to infinite loops in client applications.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1293,2017-11-30T14:33:44Z,2017-12-01T10:43:34Z,2017-12-01T10:43:40Z,MERGED,True,55,47,7,https://github.com/fvennetier,Return modification time in container listings,1,[],https://github.com/open-io/oio-sds/pull/1293,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1293,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1293,2017-11-30T14:33:44Z,2017-12-01T10:43:34Z,2017-12-01T10:43:40Z,MERGED,True,55,47,7,https://github.com/fvennetier,Return modification time in container listings,1,[],https://github.com/open-io/oio-sds/pull/1293,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1293#issuecomment-348261726,,"Codecov Report

Merging #1293 into 4.x will increase coverage by 4.42%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1293      +/-   ##
==========================================
+ Coverage   73.42%   77.83%   +4.42%     
==========================================
  Files         266      298      +32     
  Lines       50905    54753    +3848     
  Branches     6195     6410     +215     
==========================================
+ Hits        37372    42614    +5242     
+ Misses      12717    11768     -949     
+ Partials      816      371     -445



Impacted Files
Coverage Δ





oio/api/object_storage.py
78.53% <ø> (+0.22%)
⬆️


oio/account/client.py
86.82% <ø> (+8.8%)
⬆️


tests/functional/account/test_server.py
98.98% <100%> (ø)
⬆️


oio/account/backend.py
79.64% <100%> (+0.1%)
⬆️


tests/functional/account/test_client.py
91.47% <100%> (+0.11%)
⬆️


tests/functional/api/test_objectstorage.py
96.43% <100%> (+0.04%)
⬆️


oio/crawler/storage_tierer.py
59.46% <100%> (-2.35%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/api/base.py
83.34% <0%> (-1.11%)
⬇️


... and 116 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 991611f...0417411. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1294,2017-12-04T11:31:23Z,2017-12-05T16:13:47Z,2017-12-05T16:13:50Z,MERGED,True,45,4,2,https://github.com/fvennetier,Refuse objects versions older than latest,1,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1294,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1294,"This is to prevent a data loss happening when a high-level retry
(from a client) is executed before a low-level retry (from the proxy).","This is to prevent a data loss happening when a high-level retry
(from a client) is executed before a low-level retry (from the proxy).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1294,2017-12-04T11:31:23Z,2017-12-05T16:13:47Z,2017-12-05T16:13:50Z,MERGED,True,45,4,2,https://github.com/fvennetier,Refuse objects versions older than latest,1,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1294,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1294#issuecomment-349045136,"This is to prevent a data loss happening when a high-level retry
(from a client) is executed before a low-level retry (from the proxy).","Codecov Report

Merging #1294 into 4.1.x will increase coverage by 0.24%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1294      +/-   ##
==========================================
+ Coverage   75.64%   75.88%   +0.24%     
==========================================
  Files         294      294              
  Lines       54465    54492      +27     
  Branches     6664     6659       -5     
==========================================
+ Hits        41198    41353     +155     
+ Misses      12745    12718      -27     
+ Partials      522      421     -101



Impacted Files
Coverage Δ





tests/unit/test_meta2_backend.c
100% <100%> (ø)
⬆️


meta2v2/meta2_utils.c
73.37% <100%> (+2.75%)
⬆️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-1.07%)
⬇️


core/http_put.c
92.62% <0%> (-0.51%)
⬇️


core/cs.c
80.8% <0%> (-0.45%)
⬇️


proxy/metacd_http.c
89.35% <0%> (-0.33%)
⬇️


resolver/hc_resolver.c
88.25% <0%> (-0.29%)
⬇️


metautils/lib/comm_message.c
84.73% <0%> (-0.27%)
⬇️


metautils/lib/gridd_client.c
74.78% <0%> (-0.22%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ee8bcb4...30c1966. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1295,2017-12-05T14:29:22Z,2017-12-05T15:34:13Z,2017-12-05T15:34:17Z,MERGED,True,11,8,2,https://github.com/fvennetier,"Fix faulty service avoidance, improve error messages",2,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1295,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1295,"Some CODE_AVOIDED errors were not properly transmitted in meta1 client, preventing it from looping over replicas.","Some CODE_AVOIDED errors were not properly transmitted in meta1 client, preventing it from looping over replicas.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1296,2017-12-05T15:42:29Z,2017-12-05T16:43:45Z,2017-12-05T16:43:45Z,MERGED,True,140,12,4,https://github.com/jfsmig,Allow gridd_client to avoid peers marked down,5,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1296,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1296,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1296,2017-12-05T15:42:29Z,2017-12-05T16:43:45Z,2017-12-05T16:43:45Z,MERGED,True,140,12,4,https://github.com/jfsmig,Allow gridd_client to avoid peers marked down,5,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1296,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1296#issuecomment-349363643,,"Codecov Report

Merging #1296 into 4.1.x will increase coverage by 4.17%.
The diff coverage is 61.64%.


@@            Coverage Diff             @@
##            4.1.x    #1296      +/-   ##
==========================================
+ Coverage   71.79%   75.97%   +4.17%     
==========================================
  Files         261      294      +33     
  Lines       50752    54558    +3806     
  Branches     6452     6677     +225     
==========================================
+ Hits        36439    41448    +5009     
+ Misses      13639    12739     -900     
+ Partials      674      371     -303



Impacted Files
Coverage Δ





metautils/lib/gridd_client.c
74.33% <53.12%> (+1.7%)
⬆️


sqlx/sqlx_service.c
82.16% <68.29%> (-0.7%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.03% <0%> (-1.37%)
⬇️


proxy/cs_actions.c
90.49% <0%> (-1.36%)
⬇️


resolver/hc_resolver.c
87.39% <0%> (-0.86%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-0.83%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-0.76%)
⬇️


oio/directory/meta0.py
72.09% <0%> (-0.39%)
⬇️


metautils/lib/comm_converter.c
74.15% <0%> (-0.27%)
⬇️


server/network_server.c
80.67% <0%> (-0.13%)
⬇️


... and 98 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3394855...bfcdfef. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1297,2017-12-05T17:37:11Z,2017-12-05T21:35:59Z,2017-12-05T21:46:58Z,MERGED,True,100,2,4,https://github.com/jfsmig,Test (and fix) the avoidance of peers,2,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1297,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1297,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1297,2017-12-05T17:37:11Z,2017-12-05T21:35:59Z,2017-12-05T21:46:58Z,MERGED,True,100,2,4,https://github.com/jfsmig,Test (and fix) the avoidance of peers,2,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1297,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1297#issuecomment-349449079,,"Codecov Report

Merging #1297 into 4.1.x will increase coverage by 3.52%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1297      +/-   ##
==========================================
+ Coverage   72.39%   75.92%   +3.52%     
==========================================
  Files         262      294      +32     
  Lines       50988    54622    +3634     
  Branches     6464     6671     +207     
==========================================
+ Hits        36915    41470    +4555     
+ Misses      13426    12735     -691     
+ Partials      647      417     -230



Impacted Files
Coverage Δ





metautils/lib/utils_sockets.c
48.62% <ø> (ø)
⬆️


tests/unit/test_gridd_client.c
100% <100%> (ø)



metautils/lib/gridd_client.c
76.18% <100%> (+2.46%)
⬆️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


resolver/hc_resolver.c
87.96% <0%> (-1.44%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


rawx-apache2/src/rawx_repository.c
49.14% <0%> (-0.5%)
⬇️


oio/common/utils.py
64.3% <0%> (-0.49%)
⬇️


sqlx/sqlx_service.c
82.16% <0%> (-0.43%)
⬇️


metautils/lib/gridd_client_ext.c
80% <0%> (-0.38%)
⬇️


... and 82 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7fe1538...2b0e89e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1298,2017-12-06T10:47:21Z,2017-12-06T13:48:30Z,2017-12-11T10:36:19Z,MERGED,True,116,69,7,https://github.com/jfsmig,Disable the avoidance of faulty peers for the forwarded RPC from the proxy,5,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1298,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1298,"Also:

Slight simplification of gridd_client
Slight code reorg between metautils and proxy (gridd_client_exec_and_concat_string() was only used in the proxy)","Also:

Slight simplification of gridd_client
Slight code reorg between metautils and proxy (gridd_client_exec_and_concat_string() was only used in the proxy)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1298,2017-12-06T10:47:21Z,2017-12-06T13:48:30Z,2017-12-11T10:36:19Z,MERGED,True,116,69,7,https://github.com/jfsmig,Disable the avoidance of faulty peers for the forwarded RPC from the proxy,5,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1298,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1298#issuecomment-349618352,"Also:

Slight simplification of gridd_client
Slight code reorg between metautils and proxy (gridd_client_exec_and_concat_string() was only used in the proxy)","Codecov Report

Merging #1298 into 4.1.x will increase coverage by 3.81%.
The diff coverage is 73.01%.


@@            Coverage Diff             @@
##            4.1.x    #1298      +/-   ##
==========================================
+ Coverage   71.82%   75.63%   +3.81%     
==========================================
  Files         261      294      +33     
  Lines       50819    54646    +3827     
  Branches     6458     6676     +218     
==========================================
+ Hits        36503    41334    +4831     
+ Misses      13630    12783     -847     
+ Partials      686      529     -157



Impacted Files
Coverage Δ





metautils/lib/gridd_client_ext.c
80.38% <0%> (-0.73%)
⬇️


proxy/cache_actions.c
32% <28.57%> (ø)
⬆️


metautils/lib/gridd_client.c
75.45% <65.38%> (+2.35%)
⬆️


proxy/common.c
82.64% <96.42%> (+1.33%)
⬆️


proxy/cs_actions.c
89.14% <0%> (-2.72%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


sqliterepo/gridd_client_pool.c
69.19% <0%> (-1.9%)
⬇️


meta2v2/meta2_filters_action_container.c
51.24% <0%> (-1.43%)
⬇️


proxy/metacd_http.c
89.35% <0%> (-1.13%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-0.79%)
⬇️


... and 96 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2d407e9...c2e2094. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1299,2017-12-06T13:16:26Z,2017-12-06T13:50:04Z,2017-12-06T13:54:42Z,MERGED,True,40,6,4,https://github.com/fvennetier,"New ""asn1"" service checker for conscience-agent",1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1299,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1299,"To be used with meta0, meta1, meta2 and sqlx.","To be used with meta0, meta1, meta2 and sqlx.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1299,2017-12-06T13:16:26Z,2017-12-06T13:50:04Z,2017-12-06T13:54:42Z,MERGED,True,40,6,4,https://github.com/fvennetier,"New ""asn1"" service checker for conscience-agent",1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1299,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1299#issuecomment-349640495,"To be used with meta0, meta1, meta2 and sqlx.","Codecov Report

Merging #1299 into 4.1.x will increase coverage by 3.84%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1299      +/-   ##
==========================================
+ Coverage   71.82%   75.67%   +3.84%     
==========================================
  Files         261      294      +33     
  Lines       50819    54622    +3803     
  Branches     6458     6677     +219     
==========================================
+ Hits        36503    41336    +4833     
+ Misses      13630    12755     -875     
+ Partials      686      531     -155



Impacted Files
Coverage Δ





meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


meta2v2/meta2_filters_action_container.c
51.24% <0%> (-1.43%)
⬇️


sqlx/sqlx_service.c
82.02% <0%> (-0.99%)
⬇️


rdir/rdir.c
73.54% <0%> (-0.35%)
⬇️


metautils/lib/comm_message.c
84.73% <0%> (-0.27%)
⬇️


core/proxy.c
81.32% <0%> (-0.18%)
⬇️


server/slab.h
100% <0%> (ø)
⬆️


resolver/hc_resolver.c
87.39% <0%> (ø)
⬆️


tests/unit/test_ext.c
100% <0%> (ø)



tests/unit/test_gridd_client.c
100% <0%> (ø)



... and 87 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2d407e9...b7f4114. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1300,2017-12-06T15:51:42Z,2017-12-07T09:24:46Z,2017-12-07T13:25:58Z,MERGED,True,20,9,1,https://github.com/fvennetier,Make the CLI more resilient to service listing errors,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1300,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1300,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1300,2017-12-06T15:51:42Z,2017-12-07T09:24:46Z,2017-12-07T13:25:58Z,MERGED,True,20,9,1,https://github.com/fvennetier,Make the CLI more resilient to service listing errors,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1300,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1300#issuecomment-349686660,,"Codecov Report

Merging #1300 into 4.1.x will decrease coverage by 0.05%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1300      +/-   ##
==========================================
- Coverage   75.97%   75.91%   -0.06%     
==========================================
  Files         294      294              
  Lines       54646    54646              
  Branches     6676     6682       +6     
==========================================
- Hits        41516    41484      -32     
- Misses      12735    12740       +5     
- Partials      395      422      +27



Impacted Files
Coverage Δ





meta2v2/meta2_utils_lb.c
72.72% <0%> (-12.5%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-4.2%)
⬇️


meta2v2/meta2_utils.c
70.61% <0%> (-2.77%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


meta2v2/meta2_bean.c
94.2% <0%> (-1.45%)
⬇️


resolver/hc_resolver.c
88.25% <0%> (-0.86%)
⬇️


server/network_server.c
80.54% <0%> (-0.78%)
⬇️


metautils/lib/comm_message.c
85% <0%> (-0.53%)
⬇️


core/http_put.c
92.62% <0%> (-0.51%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ee4754a...30bc4c2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1301,2017-12-06T16:53:12Z,2017-12-06T16:53:31Z,2017-12-06T17:10:57Z,CLOSED,False,101,60,5,https://github.com/jfsmig,uzet4.1.x retry towad cs,2,[],https://github.com/open-io/oio-sds/pull/1301,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1301,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1301,2017-12-06T16:53:12Z,2017-12-06T16:53:31Z,2017-12-06T17:10:57Z,CLOSED,False,101,60,5,https://github.com/jfsmig,uzet4.1.x retry towad cs,2,[],https://github.com/open-io/oio-sds/pull/1301,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1301#issuecomment-349708451,,"Codecov Report

Merging #1301 into 4.1.x will decrease coverage by 0.06%.
The diff coverage is 88.23%.


@@            Coverage Diff            @@
##            4.1.x   #1301      +/-   ##
=========================================
- Coverage   75.97%   75.9%   -0.07%     
=========================================
  Files         294     294              
  Lines       54646   54673      +27     
  Branches     6676    6679       +3     
=========================================
- Hits        41516   41500      -16     
+ Misses      12735   12733       -2     
- Partials      395     440      +45



Impacted Files
Coverage Δ





proxy/metacd_http.c
88.94% <0%> (-0.74%)
⬇️


proxy/common.c
84.22% <100%> (+1.57%)
⬆️


proxy/cs_actions.c
90.16% <93.44%> (+1.02%)
⬆️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


meta1v2/meta1_prefixes.c
80.83% <0%> (-3%)
⬇️


meta2v2/meta2_filters_action_container.c
51.24% <0%> (-2.85%)
⬇️


sqliterepo/replication_dispatcher.c
43.15% <0%> (-2.57%)
⬇️


meta2v2/meta2_server.c
79.06% <0%> (-2.33%)
⬇️


resolver/hc_resolver.c
87.39% <0%> (-1.72%)
⬇️


sqliterepo/sqlite_utils.c
85.32% <0%> (-1.55%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ee4754a...73feca8. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1302,2017-12-06T17:09:25Z,2017-12-07T09:22:28Z,2017-12-07T09:22:28Z,MERGED,True,101,60,5,https://github.com/jfsmig,Allow oio-proxy to retry upon network errors toward the conscience,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1302,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1302,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1302,2017-12-06T17:09:25Z,2017-12-07T09:22:28Z,2017-12-07T09:22:28Z,MERGED,True,101,60,5,https://github.com/jfsmig,Allow oio-proxy to retry upon network errors toward the conscience,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1302,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1302#issuecomment-349711585,,"Codecov Report

Merging #1302 into 4.1.x will increase coverage by 0.05%.
The diff coverage is 95.58%.


@@            Coverage Diff             @@
##            4.1.x    #1302      +/-   ##
==========================================
+ Coverage   75.97%   76.02%   +0.05%     
==========================================
  Files         294      294              
  Lines       54646    54673      +27     
  Branches     6676     6679       +3     
==========================================
+ Hits        41516    41567      +51     
+ Misses      12735    12675      -60     
- Partials      395      431      +36



Impacted Files
Coverage Δ





proxy/common.c
84.22% <100%> (+1.57%)
⬆️


proxy/metacd_http.c
90.38% <100%> (+0.7%)
⬆️


proxy/cs_actions.c
90.57% <95.08%> (+1.43%)
⬆️


sqliterepo/replication_dispatcher.c
43.47% <0%> (-2.25%)
⬇️


sqliterepo/sqlite_utils.c
85.32% <0%> (-1.55%)
⬇️


sqliterepo/replication.c
77.39% <0%> (-0.87%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


metautils/lib/comm_message.c
85.26% <0%> (-0.27%)
⬇️


sqliterepo/cache.c
89.25% <0%> (-0.26%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ee4754a...73feca8. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1303,2017-12-07T10:01:17Z,2017-12-07T13:32:46Z,2017-12-07T13:32:48Z,MERGED,True,4,2,2,https://github.com/fvennetier,Map meta2 code 424 to HTTP 409 Conflict,2,[],https://github.com/open-io/oio-sds/pull/1303,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1303,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1303,2017-12-07T10:01:17Z,2017-12-07T13:32:46Z,2017-12-07T13:32:48Z,MERGED,True,4,2,2,https://github.com/fvennetier,Map meta2 code 424 to HTTP 409 Conflict,2,[],https://github.com/open-io/oio-sds/pull/1303,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1303#issuecomment-349923839,,"Codecov Report

Merging #1303 into 4.1.x will decrease coverage by 0.22%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1303      +/-   ##
==========================================
- Coverage   75.85%   75.63%   -0.23%     
==========================================
  Files         294      294              
  Lines       54673    54673              
  Branches     6679     6679              
==========================================
- Hits        41473    41350     -123     
- Misses      12733    12764      +31     
- Partials      467      559      +92



Impacted Files
Coverage Δ





proxy/reply.c
74.41% <ø> (-6.98%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_backend.c
70.87% <0%> (-4.4%)
⬇️


sqliterepo/replication_dispatcher.c
39.87% <0%> (-3.69%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


metautils/lib/gridd_client.c
75.05% <0%> (-2.03%)
⬇️


sqliterepo/gridd_client_pool.c
69.66% <0%> (-1.9%)
⬇️


rawx-apache2/src/rawx_repository.c
48.4% <0%> (-1.23%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 41663ca...9f65acf. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1304,2017-12-08T10:37:31Z,2017-12-11T10:03:59Z,2018-05-09T13:03:46Z,MERGED,True,65,0,5,https://github.com/AymericDu,C API: implement reference deletion,1,[],https://github.com/open-io/oio-sds/pull/1304,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1304,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1304,2017-12-08T10:37:31Z,2017-12-11T10:03:59Z,2018-05-09T13:03:46Z,MERGED,True,65,0,5,https://github.com/AymericDu,C API: implement reference deletion,1,[],https://github.com/open-io/oio-sds/pull/1304,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1304#issuecomment-350238934,,"Codecov Report

Merging #1304 into 4.x will increase coverage by 0.23%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1304      +/-   ##
==========================================
+ Coverage   77.32%   77.54%   +0.23%     
==========================================
  Files         298      298              
  Lines       55066    55094      +28     
  Branches     6431     6432       +1     
==========================================
+ Hits        42575    42719     +144     
+ Misses      11877    11818      -59     
+ Partials      614      557      -57



Impacted Files
Coverage Δ





tests/func/test_dir.c
100% <100%> (ø)
⬆️


core/dir.c
68.79% <100%> (+9.61%)
⬆️


core/proxy.c
83.13% <100%> (+1.8%)
⬆️


sqliterepo/replication_client.c
53.53% <0%> (-7.04%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


meta2v2/meta2_utils.c
76.93% <0%> (-0.92%)
⬇️


meta0v2/meta0_backend.c
78.52% <0%> (-0.82%)
⬇️


sqliterepo/sqlite_utils.c
84.68% <0%> (-0.76%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.55% <0%> (-0.75%)
⬇️


rawx-apache2/src/rawx_repository.c
51.7% <0%> (-0.67%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1e6c7fd...c1455a4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1305,2017-12-08T11:09:32Z,2017-12-11T10:32:10Z,2017-12-19T10:17:14Z,MERGED,True,31,8,3,https://github.com/fvennetier,Make soft replication errors more visible,3,[],https://github.com/open-io/oio-sds/pull/1305,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1305,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1305,2017-12-08T11:09:32Z,2017-12-11T10:32:10Z,2017-12-19T10:17:14Z,MERGED,True,31,8,3,https://github.com/fvennetier,Make soft replication errors more visible,3,[],https://github.com/open-io/oio-sds/pull/1305,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1305#issuecomment-350240969,,"Codecov Report

Merging #1305 into 4.1.x will decrease coverage by 0.02%.
The diff coverage is 33.33%.


@@            Coverage Diff             @@
##            4.1.x    #1305      +/-   ##
==========================================
- Coverage   75.88%   75.85%   -0.03%     
==========================================
  Files         294      294              
  Lines       54673    54672       -1     
  Branches     6679     6685       +6     
==========================================
- Hits        41486    41470      -16     
+ Misses      12774    12748      -26     
- Partials      413      454      +41



Impacted Files
Coverage Δ





metautils/lib/gridd_client_ext.c
80.38% <ø> (ø)
⬆️


sqliterepo/replication.c
78.48% <33.33%> (+0.22%)
⬆️


meta2v2/meta2_utils_json_out.c
93.33% <0%> (-3.34%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta2v2/meta2_utils.c
70.74% <0%> (-2.63%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-1.43%)
⬇️


sqliterepo/synchro.c
56.84% <0%> (-0.9%)
⬇️


oio/common/utils.py
64.3% <0%> (-0.49%)
⬇️


sqliterepo/replication_dispatcher.c
43.15% <0%> (-0.41%)
⬇️


proxy/transport_http.c
86.06% <0%> (-0.28%)
⬇️


... and 20 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2e4dd2e...6b7c505. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1306,2017-12-08T17:58:55Z,2019-08-21T22:30:12Z,2019-10-16T08:43:15Z,CLOSED,False,110,21,9,https://github.com/fvennetier,[WIP] Add possibility to balance master elections,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1306,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1306,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1306,2017-12-08T17:58:55Z,2019-08-21T22:30:12Z,2019-10-16T08:43:15Z,CLOSED,False,110,21,9,https://github.com/fvennetier,[WIP] Add possibility to balance master elections,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1306,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1306#issuecomment-350772695,,"Codecov Report

Merging #1306 into 4.x will increase coverage by 0.15%.
The diff coverage is 16.95%.


@@            Coverage Diff             @@
##              4.x    #1306      +/-   ##
==========================================
+ Coverage   78.29%   78.43%   +0.15%     
==========================================
  Files         306      306              
  Lines       57881    57924      +43     
  Branches     6608     6613       +5     
==========================================
+ Hits        45310    45426     +116     
- Misses      12455    12463       +8     
+ Partials      116       35      -81



Impacted Files
Coverage Δ





sqliterepo/election.c
90.09% <0%> (-0.24%)
⬇️


sqliterepo/sqlx_remote.c
77.85% <0%> (-3.6%)
⬇️


sqliterepo/replication_dispatcher.c
60.98% <0%> (-0.94%)
⬇️


proxy/metacd_http.c
90.59% <100%> (+0.64%)
⬆️


oio/directory/admin.py
28.58% <28.58%> (-1%)
⬇️


proxy/cache_actions.c
72.1% <35%> (+1.02%)
⬆️


meta0v2/meta0_server.c
55.7% <0%> (-17.72%)
⬇️


meta0v2/zk_manager.c
61.25% <0%> (-12.4%)
⬇️


server/network_server.c
82.02% <0%> (-0.9%)
⬇️


sqliterepo/repository.c
75.72% <0%> (-0.34%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 972827e...b5633f3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1307,2017-12-11T12:08:42Z,2017-12-11T13:01:12Z,2017-12-11T13:10:41Z,MERGED,True,20,7,2,https://github.com/jfsmig,Fix the parsing of boolean service tags,2,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1307,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1307,"The PR allows the tag.up to be well considered by the sqlx/meta* services, to decide which service is down or not.
In addition, fix a possible segfault happening when reloading the list of down peers, that was introduced at commit 5c4ecc2. The error diddn't show up because the list was always empty due to a bad parsing of the tag.up flag in each service description.","The PR allows the tag.up to be well considered by the sqlx/meta* services, to decide which service is down or not.
In addition, fix a possible segfault happening when reloading the list of down peers, that was introduced at commit 5c4ecc2. The error diddn't show up because the list was always empty due to a bad parsing of the tag.up flag in each service description.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1307,2017-12-11T12:08:42Z,2017-12-11T13:01:12Z,2017-12-11T13:10:41Z,MERGED,True,20,7,2,https://github.com/jfsmig,Fix the parsing of boolean service tags,2,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1307,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1307#issuecomment-350714282,"The PR allows the tag.up to be well considered by the sqlx/meta* services, to decide which service is down or not.
In addition, fix a possible segfault happening when reloading the list of down peers, that was introduced at commit 5c4ecc2. The error diddn't show up because the list was always empty due to a bad parsing of the tag.up flag in each service description.","Codecov Report

Merging #1307 into 4.1.x will increase coverage by 0.15%.
The diff coverage is 42.85%.


@@            Coverage Diff            @@
##           4.1.x    #1307      +/-   ##
=========================================
+ Coverage   75.6%   75.76%   +0.15%     
=========================================
  Files        294      294              
  Lines      54672    54681       +9     
  Branches    6679     6678       -1     
=========================================
+ Hits       41334    41428      +94     
+ Misses     12767    12761       -6     
+ Partials     571      492      -79



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
82.88% <100%> (+0.86%)
⬆️


metautils/lib/utils_service_info.c
84.78% <38.46%> (-2.17%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-2.85%)
⬇️


oio/account/client.py
77.77% <0%> (-2.23%)
⬇️


proxy/metacd_http.c
89.1% <0%> (-1.13%)
⬇️


metautils/lib/gridd_client_ext.c
79.61% <0%> (-0.77%)
⬇️


proxy/cs_actions.c
90.16% <0%> (-0.41%)
⬇️


metautils/lib/comm_message.c
84.73% <0%> (-0.27%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7b0a622...b412337. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1308,2017-12-12T11:07:22Z,2017-12-12T13:05:44Z,2017-12-12T13:05:48Z,MERGED,True,1,1,1,https://github.com/fvennetier,CLI: fix object list pagination,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1308,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1308,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1308,2017-12-12T11:07:22Z,2017-12-12T13:05:44Z,2017-12-12T13:05:48Z,MERGED,True,1,1,1,https://github.com/fvennetier,CLI: fix object list pagination,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1308,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1308#issuecomment-351045167,,"Codecov Report

Merging #1308 into 4.1.x will decrease coverage by 0.17%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1308      +/-   ##
==========================================
- Coverage   76.03%   75.85%   -0.18%     
==========================================
  Files         294      294              
  Lines       54681    54681              
  Branches     6678     6678              
==========================================
- Hits        41575    41481      -94     
- Misses      12711    12742      +31     
- Partials      395      458      +63



Impacted Files
Coverage Δ





gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_utils.c
70.74% <0%> (-2.63%)
⬇️


meta2v2/meta2_utils_json_out.c
96.66% <0%> (-2.23%)
⬇️


sqliterepo/gridd_client_pool.c
69.19% <0%> (-1.9%)
⬇️


metautils/lib/gridd_client.c
75.45% <0%> (-1.63%)
⬇️


cluster/module/module.c
71.06% <0%> (-1.02%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


sqliterepo/synchro.c
56.84% <0%> (-0.9%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-0.76%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6d4627b...b3d720b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1309,2017-12-12T16:48:36Z,2017-12-18T08:58:13Z,2017-12-18T08:58:17Z,MERGED,True,115,44,4,https://github.com/fvennetier,"Delete chunks after conflict error, factorize deletion code",1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1309,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1309,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1309,2017-12-12T16:48:36Z,2017-12-18T08:58:13Z,2017-12-18T08:58:17Z,MERGED,True,115,44,4,https://github.com/fvennetier,"Delete chunks after conflict error, factorize deletion code",1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1309,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1309#issuecomment-351116462,,"Codecov Report

Merging #1309 into 4.1.x will increase coverage by 3.08%.
The diff coverage is 68.85%.


@@            Coverage Diff             @@
##            4.1.x    #1309      +/-   ##
==========================================
+ Coverage   72.73%   75.81%   +3.08%     
==========================================
  Files         294      294              
  Lines       54681    54738      +57     
  Branches     6678     6684       +6     
==========================================
+ Hits        39770    41502    +1732     
+ Misses      14698    12753    -1945     
- Partials      213      483     +270



Impacted Files
Coverage Δ





oio/api/object_storage.py
78.45% <38.88%> (-1.3%)
⬇️


tests/functional/api/test_objectstorage.py
95.9% <66.66%> (-0.78%)
⬇️


oio/blob/client.py
93.4% <87.09%> (+1.34%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


rdir/rdir.c
69.44% <0%> (-4.57%)
⬇️


proxy/m2_actions.c
78.38% <0%> (-3.85%)
⬇️


proxy/dir_actions.c
68.88% <0%> (-3.81%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


proxy/meta2v2_remote.c
73.1% <0%> (-0.85%)
⬇️


... and 60 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c643b0d...72853cb. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1310,2017-12-14T17:28:40Z,2017-12-19T10:13:56Z,2017-12-28T10:34:54Z,MERGED,True,229,21,5,https://github.com/jfsmig,C API: Implement the rollback of uploaded chunks,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1310,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1310,Multiplexed libcurl calls though the curl_multi API.,Multiplexed libcurl calls though the curl_multi API.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1310,2017-12-14T17:28:40Z,2017-12-19T10:13:56Z,2017-12-28T10:34:54Z,MERGED,True,229,21,5,https://github.com/jfsmig,C API: Implement the rollback of uploaded chunks,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1310,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1310#issuecomment-351793087,Multiplexed libcurl calls though the curl_multi API.,"Codecov Report

Merging #1310 into 4.1.x will increase coverage by 3.07%.
The diff coverage is 4.04%.


@@            Coverage Diff            @@
##            4.1.x   #1310      +/-   ##
=========================================
+ Coverage   72.73%   75.8%   +3.07%     
=========================================
  Files         294     295       +1     
  Lines       54681   54822     +141     
  Branches     6678    6692      +14     
=========================================
+ Hits        39770   41558    +1788     
+ Misses      14698   12819    -1879     
- Partials      213     445     +232



Impacted Files
Coverage Δ





core/http_del.c
0% <0%> (ø)



core/sds.c
79.21% <12.5%> (-1.06%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


proxy/m2_actions.c
78.38% <0%> (-3.85%)
⬇️


proxy/dir_actions.c
68.88% <0%> (-3.81%)
⬇️


meta1v2/meta1_remote.c
72.65% <0%> (-1.57%)
⬇️


oio/api/object_storage.py
78.45% <0%> (-1.3%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


proxy/meta2v2_remote.c
73.1% <0%> (-0.85%)
⬇️


... and 61 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c643b0d...e51e3d3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1311,2017-12-18T09:14:44Z,2018-01-08T13:00:37Z,2018-01-08T13:00:39Z,MERGED,True,57,6,6,https://github.com/fvennetier,"Fix service stats, add ""stat.event.health""",2,[],https://github.com/open-io/oio-sds/pull/1311,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1311,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1311,2017-12-18T09:14:44Z,2018-01-08T13:00:37Z,2018-01-08T13:00:39Z,MERGED,True,57,6,6,https://github.com/fvennetier,"Fix service stats, add ""stat.event.health""",2,[],https://github.com/open-io/oio-sds/pull/1311,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1311#issuecomment-352370918,,"Codecov Report

Merging #1311 into 4.1.x will increase coverage by 7.84%.
The diff coverage is 94.73%.


@@            Coverage Diff             @@
##            4.1.x    #1311      +/-   ##
==========================================
+ Coverage   58.09%   65.93%   +7.84%     
==========================================
  Files         171      203      +32     
  Lines       37070    40577    +3507     
==========================================
+ Hits        21535    26755    +5220     
+ Misses      15535    13822    -1713



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
75.31% <100%> (+0.24%)
⬆️


events/oio_events_queue_beanstalkd.c
80.08% <100%> (+20.08%)
⬆️


events/oio_events_queue.c
76.92% <75%> (+8.07%)
⬆️


gridd/main/access_log.c
0% <0%> (-85.97%)
⬇️


gridd/plugins/msg_fallback/msg_fallback.c
22.22% <0%> (-77.78%)
⬇️


gridd/plugins/msg_ping/msg_ping.c
22.72% <0%> (-77.28%)
⬇️


rdir/rdir.c
35.68% <0%> (-38.23%)
⬇️


gridd/plugins/msg_stats/msg_stats.c
12.9% <0%> (-12.91%)
⬇️


meta1v2/meta1_remote.c
64.84% <0%> (-9.38%)
⬇️


gridd/main/sock.c
58.62% <0%> (-3.95%)
⬇️


... and 81 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 05d02ad...8e10260. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1312,2017-12-18T15:50:25Z,2018-01-08T13:53:27Z,2018-01-08T16:14:42Z,MERGED,True,32,16,1,https://github.com/fvennetier,Improve meta2 content events,1,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1312,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1312,"do not send chunks in ""storage.content.new"" events
add ""part"" and ""parts"" entries in ""storage.content.deleted"" events,
representing respectively the id of the current part and the total
number of parts of the event.","do not send chunks in ""storage.content.new"" events
add ""part"" and ""parts"" entries in ""storage.content.deleted"" events,
representing respectively the id of the current part and the total
number of parts of the event.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1312,2017-12-18T15:50:25Z,2018-01-08T13:53:27Z,2018-01-08T16:14:42Z,MERGED,True,32,16,1,https://github.com/fvennetier,Improve meta2 content events,1,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1312,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1312#issuecomment-352679252,"do not send chunks in ""storage.content.new"" events
add ""part"" and ""parts"" entries in ""storage.content.deleted"" events,
representing respectively the id of the current part and the total
number of parts of the event.","Codecov Report

Merging #1312 into 4.1.x will increase coverage by 0.51%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1312      +/-   ##
==========================================
+ Coverage   75.46%   75.98%   +0.51%     
==========================================
  Files         293      294       +1     
  Lines       54569    54753     +184     
  Branches     6684     6687       +3     
==========================================
+ Hits        41182    41604     +422     
+ Misses      12924    12724     -200     
+ Partials      463      425      -38



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
90.56% <100%> (+1.98%)
⬆️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-1.43%)
⬇️


rawx-apache2/src/rawx_repository.c
48.89% <0%> (-0.74%)
⬇️


gridd/main/sock.c
62.74% <0%> (-0.5%)
⬇️


core/cs.c
80.8% <0%> (-0.45%)
⬇️


metautils/lib/utils_sockets.c
48.62% <0%> (-0.4%)
⬇️


metautils/lib/gridd_client_ext.c
80% <0%> (-0.39%)
⬇️


resolver/hc_resolver.c
87.39% <0%> (ø)
⬆️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ebdea23...f19e3a2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1312,2017-12-18T15:50:25Z,2018-01-08T13:53:27Z,2018-01-08T16:14:42Z,MERGED,True,32,16,1,https://github.com/fvennetier,Improve meta2 content events,1,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1312,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/1312#issuecomment-355014912,"do not send chunks in ""storage.content.new"" events
add ""part"" and ""parts"" entries in ""storage.content.deleted"" events,
representing respectively the id of the current part and the total
number of parts of the event.","Which job are you talking about?
I read somewhere that someone was trying to distinguish broken events from split events in which there is no alias part. This patch:

Prevents sending storage.content.new without an alias part.
Adds part numbers to storage.content.deleted so you can distinguish the first (with alias part) from the others (without alias part).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1313,2017-12-21T15:27:54Z,2018-01-02T17:05:38Z,2018-01-03T14:05:32Z,MERGED,True,4213,21,6,https://github.com/fvennetier,"Add new LB tests, fix bugs",2,"['priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1313,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1313,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1313,2017-12-21T15:27:54Z,2018-01-02T17:05:38Z,2018-01-03T14:05:32Z,MERGED,True,4213,21,6,https://github.com/fvennetier,"Add new LB tests, fix bugs",2,"['priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1313,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1313#issuecomment-353394281,,"Codecov Report

Merging #1313 into 4.1.x will increase coverage by 3.13%.
The diff coverage is 41.9%.


@@            Coverage Diff             @@
##            4.1.x    #1313      +/-   ##
==========================================
+ Coverage   72.54%   75.68%   +3.13%     
==========================================
  Files         295      295              
  Lines       54822    54910      +88     
  Branches     6692     6703      +11     
==========================================
+ Hits        39772    41557    +1785     
+ Misses      14824    12869    -1955     
- Partials      226      484     +258



Impacted Files
Coverage Δ





tests/unit/test_meta2_backend.c
100% <100%> (ø)
⬆️


tests/unit/test_meta1_backend.c
99.44% <100%> (ø)
⬆️


tests/unit/test_lb.c
87.55% <38.46%> (-11.5%)
⬇️


core/lb.c
93.57% <58.33%> (-0.23%)
⬇️


tests/functional/rdir/test_indexer.py
90.69% <0%> (-8.14%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta1v2/meta1_remote.c
72.65% <0%> (-1.57%)
⬇️


rdir/rdir.c
68.98% <0%> (-0.46%)
⬇️


server/transport_gridd.c
67.69% <0%> (-0.42%)
⬇️


... and 50 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 99c7fba...39e3be9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1314,2017-12-22T15:15:50Z,2018-01-08T15:45:12Z,2018-01-12T13:33:36Z,MERGED,True,255,75,8,https://github.com/fvennetier,Python API: add support for operation deadlines,2,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1314,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1314,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1314,2017-12-22T15:15:50Z,2018-01-08T15:45:12Z,2018-01-12T13:33:36Z,MERGED,True,255,75,8,https://github.com/fvennetier,Python API: add support for operation deadlines,2,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1314,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1314#issuecomment-353630906,,"Codecov Report

Merging #1314 into 4.x will decrease coverage by 0.11%.
The diff coverage is 79.67%.


@@            Coverage Diff            @@
##              4.x    #1314     +/-   ##
=========================================
- Coverage   77.74%   77.64%   -0.1%     
=========================================
  Files         299      299             
  Lines       55240    55291     +51     
  Branches     6445     6445             
=========================================
- Hits        42943    42927     -16     
- Misses      11859    11948     +89     
+ Partials      438      416     -22



Impacted Files
Coverage Δ





tests/unit/api/test_utils.py
100% <100%> (ø)
⬆️


oio/api/object_storage.py
77.51% <100%> (+0.21%)
⬆️


oio/common/utils.py
66.16% <100%> (+0.9%)
⬆️


oio/api/base.py
81.25% <50%> (-3.19%)
⬇️


tests/functional/api/test_objectstorage.py
95.71% <66.67%> (-0.66%)
⬇️


oio/api/io.py
81.88% <78.58%> (-0.64%)
⬇️


oio/common/exceptions.py
96.9% <81.82%> (-1.44%)
⬇️


metautils/lib/volume_lock.c
34.22% <0%> (-28.94%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.05% <0%> (-3.59%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c10d1da...b821880. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1314,2017-12-22T15:15:50Z,2018-01-08T15:45:12Z,2018-01-12T13:33:36Z,MERGED,True,255,75,8,https://github.com/fvennetier,Python API: add support for operation deadlines,2,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1314,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/1314#issuecomment-357239198,,Will help solving #903,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1315,2017-12-29T15:00:30Z,2018-01-08T08:55:08Z,2018-01-20T11:43:39Z,MERGED,True,31,8,5,https://github.com/AymericDu,Send event when a reference is created,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1315,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1315,See #1291,See #1291,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1315,2017-12-29T15:00:30Z,2018-01-08T08:55:08Z,2018-01-20T11:43:39Z,MERGED,True,31,8,5,https://github.com/AymericDu,Send event when a reference is created,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1315,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1315#issuecomment-354458256,See #1291,"Codecov Report

Merging #1315 into 4.1.x will increase coverage by 2.86%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1315      +/-   ##
==========================================
+ Coverage   72.92%   75.78%   +2.86%     
==========================================
  Files         302      295       -7     
  Lines       62539    54842    -7697     
  Branches     6692     6694       +2     
==========================================
- Hits        45604    41561    -4043     
+ Misses      16765    12845    -3920     
- Partials      170      436     +266



Impacted Files
Coverage Δ





meta1v2/meta1_backend_references.c
90.56% <100%> (+0.77%)
⬆️


tests/functional/api/test_directory.py
100% <100%> (ø)
⬆️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


core/dir.c
59.18% <0%> (-9.29%)
⬇️


meta2v2/meta2_utils.c
73.37% <0%> (-7.11%)
⬇️


rawx-apache2/src/rawx_repository.c
49.14% <0%> (-6.53%)
⬇️


tests/common/test_cache_abstract.c
59.25% <0%> (-6.46%)
⬇️


core/var.c
71.94% <0%> (-6.41%)
⬇️


tools/oio-tool.c
66.84% <0%> (-5.77%)
⬇️


rawx-lib/src/attr_handler.c
59.36% <0%> (-4.57%)
⬇️


... and 80 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 99c7fba...4ccbb41. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1316,2018-01-02T09:07:56Z,2018-05-30T09:34:37Z,2018-05-31T10:11:39Z,MERGED,True,453,93,21,https://github.com/AymericDu,Flush container,4,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1316,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1316,See #918,See #918,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1316,2018-01-02T09:07:56Z,2018-05-30T09:34:37Z,2018-05-31T10:11:39Z,MERGED,True,453,93,21,https://github.com/AymericDu,Flush container,4,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1316,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1316#issuecomment-354726879,See #918,"Codecov Report

Merging #1316 into 4.2.x will increase coverage by 0.17%.
The diff coverage is 95.28%.


@@            Coverage Diff             @@
##            4.2.x    #1316      +/-   ##
==========================================
+ Coverage   79.29%   79.46%   +0.17%     
==========================================
  Files         318      318              
  Lines       59748    59959     +211     
  Branches     6668     6675       +7     
==========================================
+ Hits        47370    47638     +268     
+ Misses      12327    12261      -66     
- Partials       51       60       +9



Impacted Files
Coverage Δ





proxy/common.h
100% <ø> (ø)
⬆️


oio/container/client.py
84% <100%> (+3.67%)
⬆️


tests/unit/test_meta2_backend.c
100% <100%> (ø)
⬆️


meta2v2/meta2_filters_action_container.c
61.59% <100%> (+2.55%)
⬆️


tests/unit/api/test_objectstorage.py
98.3% <100%> (+0.07%)
⬆️


tests/functional/cli/container/test_container.py
98.58% <100%> (+0.33%)
⬆️


oio/api/object_storage.py
85.29% <100%> (+0.19%)
⬆️


proxy/meta2v2_remote.c
82.92% <85.72%> (+1.22%)
⬆️


tests/functional/container/test_container.py
98.66% <91.67%> (-0.61%)
⬇️


meta2v2/meta2_backend.c
82.33% <92.86%> (+1.63%)
⬆️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3e41245...8284e8b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1317,2018-01-03T08:21:48Z,2018-01-08T15:45:48Z,2018-01-20T11:43:42Z,MERGED,True,40,9,5,https://github.com/AymericDu,Disallow using an unknown storage policy,1,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1317,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1317,See #1153,See #1153,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1318,2018-01-05T15:29:43Z,2018-01-05T16:38:25Z,2018-01-05T16:38:25Z,CLOSED,False,0,0,0,https://github.com/vincent-legoll,"Temporary disable new plyvel versions, they don't build properly for us",0,[],https://github.com/open-io/oio-sds/pull/1318,https://github.com/vincent-legoll,1,https://github.com/open-io/oio-sds/pull/1318,"You can reproduce by just cloning openio/oio-qa and building the docker image
The (fairly new plyvel 1.0.0 from 2 days ago) broke it, so stick with the working one until further investigated & fixed...
Error was:
plyvel/_plyvel.cpp: In function 'int __pyx_f_6plyvel_7_plyvel_parse_options(leveldb::Options*, bool, bool, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, int, PyObject*, PyObject*)':
plyvel/_plyvel.cpp:3341:22: error: 'struct leveldb::Options' has no member named 'max_file_size'
__pyx_v_options->max_file_size = __pyx_t_4;","You can reproduce by just cloning openio/oio-qa and building the docker image
The (fairly new plyvel 1.0.0 from 2 days ago) broke it, so stick with the working one until further investigated & fixed...
Error was:
plyvel/_plyvel.cpp: In function 'int __pyx_f_6plyvel_7_plyvel_parse_options(leveldb::Options*, bool, bool, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, int, PyObject*, PyObject*)':
plyvel/_plyvel.cpp:3341:22: error: 'struct leveldb::Options' has no member named 'max_file_size'
__pyx_v_options->max_file_size = __pyx_t_4;",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1319,2018-01-05T16:05:51Z,2018-01-05T16:33:07Z,2018-01-05T16:38:51Z,MERGED,True,1,1,1,https://github.com/vincent-legoll,Temporarily disable new plyvel versions which don't build,1,[],https://github.com/open-io/oio-sds/pull/1319,https://github.com/vincent-legoll,1,https://github.com/open-io/oio-sds/pull/1319,"The (fairly new, from 2 days ago) plyvel 1.0.0 broke it, so stick with
the working one until further investigated & fixed...
Error was:
plyvel/_plyvel.cpp: In function 'int __pyx_f_6plyvel_7_plyvel_parse_options(leveldb::Options*, bool, bool, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, int, PyObject*, PyObject*)':
plyvel/_plyvel.cpp:3341:22: error: 'struct leveldb::Options' has no member named 'max_file_size'
__pyx_v_options->max_file_size = __pyx_t_4;
plyvel 1.0.0 requires leveldb 1.20, and our Travis build installs
libleveldb1 1.15.0 (and there is no superior version in this
distribution), thus we are stuck with plyvel<1.0.0.
We should use plyvel>=0.9,<1.0.0 in case someone creates updates over
the 0.9 version.","The (fairly new, from 2 days ago) plyvel 1.0.0 broke it, so stick with
the working one until further investigated & fixed...
Error was:
plyvel/_plyvel.cpp: In function 'int __pyx_f_6plyvel_7_plyvel_parse_options(leveldb::Options*, bool, bool, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, PyObject*, int, PyObject*, PyObject*)':
plyvel/_plyvel.cpp:3341:22: error: 'struct leveldb::Options' has no member named 'max_file_size'
__pyx_v_options->max_file_size = __pyx_t_4;
plyvel 1.0.0 requires leveldb 1.20, and our Travis build installs
libleveldb1 1.15.0 (and there is no superior version in this
distribution), thus we are stuck with plyvel<1.0.0.
We should use plyvel>=0.9,<1.0.0 in case someone creates updates over
the 0.9 version.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1320,2018-01-10T10:19:42Z,2018-01-10T10:44:11Z,2018-01-12T13:38:31Z,MERGED,True,3,3,1,https://github.com/jfsmig,CI: Use up-to-date repositories with Travis,1,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1320,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1320,"The commit also reorders the apt-get install commands: one for custom packages, one for official packages.","The commit also reorders the apt-get install commands: one for custom packages, one for official packages.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1320,2018-01-10T10:19:42Z,2018-01-10T10:44:11Z,2018-01-12T13:38:31Z,MERGED,True,3,3,1,https://github.com/jfsmig,CI: Use up-to-date repositories with Travis,1,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1320,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1320#issuecomment-356563171,"The commit also reorders the apt-get install commands: one for custom packages, one for official packages.","Codecov Report

Merging #1320 into 4.1.x will increase coverage by 0.31%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1320      +/-   ##
==========================================
+ Coverage   75.34%   75.66%   +0.31%     
==========================================
  Files         294      295       +1     
  Lines       54808    54977     +169     
  Branches     6712     6718       +6     
==========================================
+ Hits        41296    41597     +301     
+ Misses      13036    12896     -140     
- Partials      476      484       +8



Impacted Files
Coverage Δ





gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


proxy/reply.c
74.41% <0%> (-6.98%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


proxy/cs_actions.c
89.75% <0%> (-1.23%)
⬇️


metautils/lib/gridd_client.c
76.06% <0%> (-1.22%)
⬇️


server/network_server.c
80.41% <0%> (-1.17%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


sqlx/sqlx_service.c
83.47% <0%> (-0.84%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2ebe1c9...a97d6fb. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1321,2018-01-10T12:00:38Z,2018-01-12T10:31:08Z,2018-01-12T13:38:30Z,MERGED,True,30,72,4,https://github.com/jfsmig,oio-crawler-integrity: Propose a lightweight presence check,6,[],https://github.com/open-io/oio-sds/pull/1321,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1321,"We spotted a recent raise of the interest in a simple & lightweight presence check for contents. The rawx services loaded all the xattr of each chunk, inducing an unexpectedly high load on the devices. The purpose of the current PR is to propose a backward-compliant lightweight check that just validates the presence (but not the consistency) of each content, thus avoiding to touch the xattr/payload of each chunk.","We spotted a recent raise of the interest in a simple & lightweight presence check for contents. The rawx services loaded all the xattr of each chunk, inducing an unexpectedly high load on the devices. The purpose of the current PR is to propose a backward-compliant lightweight check that just validates the presence (but not the consistency) of each content, thus avoiding to touch the xattr/payload of each chunk.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1321,2018-01-10T12:00:38Z,2018-01-12T10:31:08Z,2018-01-12T13:38:30Z,MERGED,True,30,72,4,https://github.com/jfsmig,oio-crawler-integrity: Propose a lightweight presence check,6,[],https://github.com/open-io/oio-sds/pull/1321,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1321#issuecomment-356589481,"We spotted a recent raise of the interest in a simple & lightweight presence check for contents. The rawx services loaded all the xattr of each chunk, inducing an unexpectedly high load on the devices. The purpose of the current PR is to propose a backward-compliant lightweight check that just validates the presence (but not the consistency) of each content, thus avoiding to touch the xattr/payload of each chunk.","Codecov Report

Merging #1321 into 4.1.x will decrease coverage by 0.04%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##           4.1.x    #1321      +/-   ##
=========================================
- Coverage   75.8%   75.75%   -0.05%     
=========================================
  Files        295      295              
  Lines      54977    54979       +2     
  Branches    6718     6711       -7     
=========================================
- Hits       41673    41650      -23     
- Misses     12887    12895       +8     
- Partials     417      434      +17



Impacted Files
Coverage Δ





rawx-apache2/src/rawx_repository.c
49.26% <100%> (+0.12%)
⬆️


oio/blob/client.py
93.47% <100%> (+0.07%)
⬆️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


rawx-lib/src/attr_handler.c
54.79% <0%> (-4.57%)
⬇️


rawx-apache2/src/rawx_repo_core.c
71.46% <0%> (-4.49%)
⬇️


meta2v2/meta2_filters_action_content.c
90.56% <0%> (-3.54%)
⬇️


meta2v2/meta2_filters_extract.c
87.36% <0%> (-2.11%)
⬇️


proxy/metacd_http.c
88.3% <0%> (-1.93%)
⬇️


meta1v2/meta1_prefixes.c
80.83% <0%> (-1.8%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-1.43%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update aa0afbc...cdd8f64. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1322,2018-01-10T16:58:41Z,2018-02-02T09:42:29Z,2018-06-13T13:48:19Z,CLOSED,False,92,14,12,https://github.com/murlock,[WIP] Use UUID instead of IP:PORT,8,[],https://github.com/open-io/oio-sds/pull/1322,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1322,"Include UUID to each service (need more specification for real deployment)
 expose to openio cli
 add fallback for old service (generate it from UUID)
 add migration step ? (to be discussed)
 store UUID instead of IP:PORT in directories
 add documention","Include UUID to each service (need more specification for real deployment)
 expose to openio cli
 add fallback for old service (generate it from UUID)
 add migration step ? (to be discussed)
 store UUID instead of IP:PORT in directories
 add documention",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1322,2018-01-10T16:58:41Z,2018-02-02T09:42:29Z,2018-06-13T13:48:19Z,CLOSED,False,92,14,12,https://github.com/murlock,[WIP] Use UUID instead of IP:PORT,8,[],https://github.com/open-io/oio-sds/pull/1322,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1322#issuecomment-357280785,"Include UUID to each service (need more specification for real deployment)
 expose to openio cli
 add fallback for old service (generate it from UUID)
 add migration step ? (to be discussed)
 store UUID instead of IP:PORT in directories
 add documention","Codecov Report

Merging #1322 into 4.x will decrease coverage by 0.31%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##              4.x    #1322     +/-   ##
=========================================
- Coverage   77.69%   77.39%   -0.3%     
=========================================
  Files         299      299             
  Lines       55492    55780    +288     
  Branches     6465     6536     +71     
=========================================
+ Hits        43110    43164     +54     
- Misses      11921    12130    +209     
- Partials      461      486     +25



Impacted Files
Coverage Δ





rawx-apache2/src/mod_dav_rawx.c
70.91% <100%> (+0.68%)
⬆️


cluster/module/server.c
78.49% <100%> (ø)
⬇️


oio/account/server.py
88.47% <100%> (+0.12%)
⬆️


tests/functional/rdir/test_server.py
95.88% <100%> (+0.03%)
⬆️


rawx-apache2/src/rawx_req_info.c
77.89% <100%> (+0.22%)
⬆️


rdir/rdir.c
68.44% <100%> (-1%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


tests/functional/rdir/test_indexer.py
90.7% <0%> (-8.13%)
⬇️


oio/ecd/app.py
59.77% <0%> (-6.5%)
⬇️


meta1v2/meta1_prefixes.c
76.05% <0%> (-4.19%)
⬇️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4631e8f...453784a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1322,2018-01-10T16:58:41Z,2018-02-02T09:42:29Z,2018-06-13T13:48:19Z,CLOSED,False,92,14,12,https://github.com/murlock,[WIP] Use UUID instead of IP:PORT,8,[],https://github.com/open-io/oio-sds/pull/1322,https://github.com/murlock,3,https://github.com/open-io/oio-sds/pull/1322#issuecomment-362536563,"Include UUID to each service (need more specification for real deployment)
 expose to openio cli
 add fallback for old service (generate it from UUID)
 add migration step ? (to be discussed)
 store UUID instead of IP:PORT in directories
 add documention",Superseded by #1350,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1323,2018-01-12T16:38:18Z,2018-01-16T16:33:54Z,2018-01-20T11:43:36Z,MERGED,True,91,40,6,https://github.com/AymericDu, Increment the admin table version when changing properties of a container,5,"['bug :scream:', 'enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1323,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1323,Fixes #1273,Fixes #1273,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1323,2018-01-12T16:38:18Z,2018-01-16T16:33:54Z,2018-01-20T11:43:36Z,MERGED,True,91,40,6,https://github.com/AymericDu, Increment the admin table version when changing properties of a container,5,"['bug :scream:', 'enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1323,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1323#issuecomment-357292723,Fixes #1273,"Codecov Report

Merging #1323 into 4.1.x will increase coverage by 0.05%.
The diff coverage is 91.37%.


@@            Coverage Diff             @@
##            4.1.x    #1323      +/-   ##
==========================================
+ Coverage   75.73%   75.78%   +0.05%     
==========================================
  Files         295      295              
  Lines       54981    55010      +29     
  Branches     6711     6716       +5     
==========================================
+ Hits        41639    41690      +51     
+ Misses      12921    12882      -39     
- Partials      421      438      +17



Impacted Files
Coverage Δ





sqliterepo/sqlite_utils.c
86.92% <100%> (+0.05%)
⬆️


sqliterepo/version.c
80% <100%> (+1.67%)
⬆️


tests/functional/container/test_container.py
98.92% <100%> (+0.06%)
⬆️


sqliterepo/replication.c
79.25% <100%> (+0.76%)
⬆️


sqliterepo/replication_dispatcher.c
46.01% <37.5%> (-0.19%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_filters_action_content.c
90.56% <0%> (-3.54%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e4225a0...0cc1e99. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1324,2018-01-15T15:07:55Z,2018-01-15T15:28:27Z,2018-01-17T20:44:48Z,MERGED,True,4,2,1,https://github.com/jfsmig,oio-crawler-integrity: Inhibit xattr checks when asked,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1324,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1324,"There was no cherry on top of the cake.
Now there is one.
Can you feel it?
Yeah, I guess you feel it!","There was no cherry on top of the cake.
Now there is one.
Can you feel it?
Yeah, I guess you feel it!",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1324,2018-01-15T15:07:55Z,2018-01-15T15:28:27Z,2018-01-17T20:44:48Z,MERGED,True,4,2,1,https://github.com/jfsmig,oio-crawler-integrity: Inhibit xattr checks when asked,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1324,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1324#issuecomment-357712492,"There was no cherry on top of the cake.
Now there is one.
Can you feel it?
Yeah, I guess you feel it!","Codecov Report

Merging #1324 into 4.1.x will increase coverage by 0.01%.
The diff coverage is 33.33%.


@@            Coverage Diff             @@
##            4.1.x    #1324      +/-   ##
==========================================
+ Coverage   75.63%   75.64%   +0.01%     
==========================================
  Files         295      295              
  Lines       54979    54981       +2     
  Branches     6711     6711              
==========================================
+ Hits        41581    41593      +12     
+ Misses      12923    12907      -16     
- Partials      475      481       +6



Impacted Files
Coverage Δ





oio/blob/client.py
90.42% <33.33%> (-3.06%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-2.85%)
⬇️


meta1v2/meta1_prefixes.c
80.83% <0%> (-1.8%)
⬇️


rdir/rdir.c
69.44% <0%> (-1.6%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


sqliterepo/repository.c
72.15% <0%> (-0.5%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 30750fe...294895f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1325,2018-01-16T09:09:50Z,2018-01-16T13:55:52Z,2018-03-02T15:06:46Z,CLOSED,False,1,1,1,https://github.com/vincent-legoll,"Better help message for ""openio cluster wait""",1,[],https://github.com/open-io/oio-sds/pull/1325,https://github.com/vincent-legoll,1,https://github.com/open-io/oio-sds/pull/1325,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1325,2018-01-16T09:09:50Z,2018-01-16T13:55:52Z,2018-03-02T15:06:46Z,CLOSED,False,1,1,1,https://github.com/vincent-legoll,"Better help message for ""openio cluster wait""",1,[],https://github.com/open-io/oio-sds/pull/1325,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1325#issuecomment-357899018,,Can you rebase this on the 4.1.x branch (or at least 4.x)? Notice that the file you modified was named oio-sds/oio/cli/admin/cluster.py in 4.1.x branch.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1325,2018-01-16T09:09:50Z,2018-01-16T13:55:52Z,2018-03-02T15:06:46Z,CLOSED,False,1,1,1,https://github.com/vincent-legoll,"Better help message for ""openio cluster wait""",1,[],https://github.com/open-io/oio-sds/pull/1325,https://github.com/vincent-legoll,3,https://github.com/open-io/oio-sds/pull/1325#issuecomment-357967573,,this change will be superseded by a better one,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1327,2018-01-16T15:03:21Z,2018-01-16T16:33:07Z,2018-01-17T20:44:46Z,MERGED,True,2,2,1,https://github.com/jfsmig,Fix the exception catching in oio-event-agent,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1327,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1327,Fix #1326,Fix #1326,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1327,2018-01-16T15:03:21Z,2018-01-16T16:33:07Z,2018-01-17T20:44:46Z,MERGED,True,2,2,1,https://github.com/jfsmig,Fix the exception catching in oio-event-agent,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1327,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1327#issuecomment-357995935,Fix #1326,"Codecov Report

Merging #1327 into 4.1.x will decrease coverage by 0.1%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1327      +/-   ##
==========================================
- Coverage   75.73%   75.63%   -0.11%     
==========================================
  Files         295      295              
  Lines       54981    54981              
  Branches     6711     6717       +6     
==========================================
- Hits        41639    41583      -56     
+ Misses      12921    12907      -14     
- Partials      421      491      +70



Impacted Files
Coverage Δ





rdir/rdir.c
69.44% <0%> (-4.57%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_filters_action_content.c
90.56% <0%> (-3.54%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-2.14%)
⬇️


meta2v2/meta2_filters_extract.c
87.36% <0%> (-2.11%)
⬇️


metautils/lib/comm_message.c
83.15% <0%> (-1.85%)
⬇️


meta0v2/meta0_backend.c
78.51% <0%> (-1.24%)
⬇️


metautils/lib/gridd_client.c
76.06% <0%> (-1.02%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e4225a0...16aee0f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1328,2018-01-16T15:30:31Z,2018-01-17T20:39:05Z,2018-01-17T20:44:50Z,MERGED,True,3,24,3,https://github.com/jfsmig,meta2: generate less unused code,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1328,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1328,Many generated functions were never use. For the few uses we prefer an abstract version.,Many generated functions were never use. For the few uses we prefer an abstract version.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1328,2018-01-16T15:30:31Z,2018-01-17T20:39:05Z,2018-01-17T20:44:50Z,MERGED,True,3,24,3,https://github.com/jfsmig,meta2: generate less unused code,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1328,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1328#issuecomment-358436738,Many generated functions were never use. For the few uses we prefer an abstract version.,"Codecov Report

Merging #1328 into 4.x will increase coverage by 0.08%.
The diff coverage is 33.34%.


@@            Coverage Diff            @@
##              4.x   #1328      +/-   ##
=========================================
+ Coverage   77.63%   77.7%   +0.08%     
=========================================
  Files         299     299              
  Lines       55494   55494              
  Branches     6464    6464              
=========================================
+ Hits        43075   43117      +42     
+ Misses      11985   11941      -44     
- Partials      434     436       +2



Impacted Files
Coverage Δ





meta2v2/meta2_dedup_utils.c
18.82% <0%> (ø)
⬆️


meta2v2/meta2_utils.c
80.61% <50%> (ø)
⬆️


metautils/lib/utils_errors.c
9.1% <0%> (-27.27%)
⬇️


meta2v2/meta2_utils_json_in.c
32.2% <0%> (-4.1%)
⬇️


meta2v2/meta2_utils_json_out.c
95.56% <0%> (-3.33%)
⬇️


meta2v2/meta2_filters_action_container.c
52.84% <0%> (-2.48%)
⬇️


metautils/lib/utils_m1url.c
94.45% <0%> (-1.11%)
⬇️


cluster/module/expr.eval.c
24.26% <0%> (-0.99%)
⬇️


rawx-lib/src/attr_handler.c
58.45% <0%> (-0.91%)
⬇️


server/slab.c
79.75% <0%> (-0.63%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 28fa4d5...20ee562. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1330,2018-01-17T16:53:05Z,2018-01-17T20:38:21Z,2018-01-17T20:44:43Z,MERGED,True,38,5,2,https://github.com/jfsmig,proxy: Fix the handling of URL of directory services,4,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1330,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1330,"Introduce a test to detect a possible regression
Avoid an ugly assertion to be raised
Apply the master/slave preference when contacting meta0 and meta1","Introduce a test to detect a possible regression
Avoid an ugly assertion to be raised
Apply the master/slave preference when contacting meta0 and meta1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1330,2018-01-17T16:53:05Z,2018-01-17T20:38:21Z,2018-01-17T20:44:43Z,MERGED,True,38,5,2,https://github.com/jfsmig,proxy: Fix the handling of URL of directory services,4,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1330,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1330#issuecomment-358373177,"Introduce a test to detect a possible regression
Avoid an ugly assertion to be raised
Apply the master/slave preference when contacting meta0 and meta1","Codecov Report

Merging #1330 into 4.1.x will increase coverage by 3.29%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1330      +/-   ##
==========================================
+ Coverage   72.57%   75.87%   +3.29%     
==========================================
  Files         295      296       +1     
  Lines       55010    55021      +11     
  Branches     6716     6716              
==========================================
+ Hits        39924    41746    +1822     
+ Misses      14894    12790    -2104     
- Partials      192      485     +293



Impacted Files
Coverage Δ





proxy/common.c
84.22% <100%> (+6.3%)
⬆️


tests/functional/directory/test_proxy.py
100% <100%> (ø)



rdir/rdir.c
69.44% <0%> (-4.34%)
⬇️


server/transport_gridd.c
68.31% <0%> (ø)
⬆️


metautils/lib/comm_message.c
84.73% <0%> (ø)
⬆️


proxy/m2_actions.c
78.53% <0%> (+0.07%)
⬆️


proxy/metacd_http.c
88.78% <0%> (+0.16%)
⬆️


tests/functional/api/test_objectstorage.py
96.12% <0%> (+0.21%)
⬆️


core/lb.c
93.57% <0%> (+0.28%)
⬆️


... and 46 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1238cd0...167e5cd. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1331,2018-01-17T17:51:01Z,2018-01-18T09:39:23Z,2018-01-18T09:39:23Z,CLOSED,False,339,131,18,https://github.com/vincent-legoll,"Make ""cluster wait"" capable of waiting for scores to reach above a value",23,[],https://github.com/open-io/oio-sds/pull/1331,https://github.com/vincent-legoll,1,https://github.com/open-io/oio-sds/pull/1331,"Also add a test for ""openio cluster wait"" (default disabled as it is a long one: ~1min)
Also add testing documentation","Also add a test for ""openio cluster wait"" (default disabled as it is a long one: ~1min)
Also add testing documentation",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1332,2018-01-18T09:41:41Z,2018-01-19T16:23:09Z,2018-03-02T15:06:46Z,MERGED,True,174,10,4,https://github.com/vincent-legoll,4.1.x cluster wait,6,[],https://github.com/open-io/oio-sds/pull/1332,https://github.com/vincent-legoll,1,https://github.com/open-io/oio-sds/pull/1332,Add test & doc,Add test & doc,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1332,2018-01-18T09:41:41Z,2018-01-19T16:23:09Z,2018-03-02T15:06:46Z,MERGED,True,174,10,4,https://github.com/vincent-legoll,4.1.x cluster wait,6,[],https://github.com/open-io/oio-sds/pull/1332,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1332#issuecomment-358596668,Add test & doc,"Codecov Report

Merging #1332 into 4.1.x will decrease coverage by 0.09%.
The diff coverage is 10.52%.


@@            Coverage Diff            @@
##            4.1.x    #1332     +/-   ##
=========================================
- Coverage   75.96%   75.86%   -0.1%     
=========================================
  Files         296      296             
  Lines       55021    55070     +49     
  Branches     6716     6710      -6     
=========================================
- Hits        41794    41778     -16     
- Misses      12780    12833     +53     
- Partials      447      459     +12



Impacted Files
Coverage Δ





tests/functional/cli/admin/test_cluster.py
55.84% <10.52%> (-44.16%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


proxy/reply.c
74.41% <0%> (-6.98%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-1.07%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


server/network_server.c
80.54% <0%> (-0.91%)
⬇️


cluster/conscience/conscience_srvtype.c
81.18% <0%> (-0.54%)
⬇️


metautils/lib/comm_converter.c
74.15% <0%> (-0.53%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 937b574...0de71fd. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1333,2018-01-19T14:40:40Z,2018-01-19T14:59:34Z,2018-01-19T16:28:22Z,MERGED,True,29,8,3,https://github.com/jfsmig,Ensure no replication when ... there is nothing to replicate,3,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1333,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1333,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1333,2018-01-19T14:40:40Z,2018-01-19T14:59:34Z,2018-01-19T16:28:22Z,MERGED,True,29,8,3,https://github.com/jfsmig,Ensure no replication when ... there is nothing to replicate,3,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1333,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1333#issuecomment-358987692,,"Codecov Report

Merging #1333 into 4.1.x will decrease coverage by 0.02%.
The diff coverage is 93.75%.


@@            Coverage Diff             @@
##            4.1.x    #1333      +/-   ##
==========================================
- Coverage   75.96%   75.93%   -0.03%     
==========================================
  Files         296      296              
  Lines       55021    55032      +11     
  Branches     6716     6710       -6     
==========================================
- Hits        41794    41791       -3     
+ Misses      12780    12760      -20     
- Partials      447      481      +34



Impacted Files
Coverage Δ





sqliterepo/repository.c
72.13% <100%> (+0.1%)
⬆️


sqliterepo/replication.c
79.36% <100%> (+0.11%)
⬆️


sqliterepo/sqlite_utils.c
86.84% <88.88%> (-0.09%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


rdir/rdir.c
69.32% <0%> (-4.45%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-1.07%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


sqliterepo/election.c
82.36% <0%> (-0.86%)
⬇️


metautils/lib/gridd_client.c
77.07% <0%> (-0.82%)
⬇️


metautils/lib/gridd_client_ext.c
78.84% <0%> (-0.77%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 937b574...c25f33b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1334,2018-01-19T14:44:01Z,2018-01-19T16:27:34Z,2018-01-19T16:28:20Z,MERGED,True,60,50,6,https://github.com/jfsmig,Fix the management of deadlines,5,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1334,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1334,"Prevent bad values (thaks to @fvennetier in commit 6461c95)
Ensure a deadline in RPC sent during periodic tasks executions
Fix the deadlines toward the conscience, from the proxy","Prevent bad values (thaks to @fvennetier in commit 6461c95)
Ensure a deadline in RPC sent during periodic tasks executions
Fix the deadlines toward the conscience, from the proxy",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1335,2018-01-22T15:32:44Z,2018-01-23T10:06:37Z,2018-01-23T10:06:54Z,MERGED,True,26,10,2,https://github.com/fvennetier,oio-blob-rebuilder: handle beanstalk network errors,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1335,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1335,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1335,2018-01-22T15:32:44Z,2018-01-23T10:06:37Z,2018-01-23T10:06:54Z,MERGED,True,26,10,2,https://github.com/fvennetier,oio-blob-rebuilder: handle beanstalk network errors,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1335,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1335#issuecomment-359471464,,"Codecov Report

Merging #1335 into 4.1.x will decrease coverage by 0.1%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1335      +/-   ##
==========================================
- Coverage   75.92%   75.82%   -0.11%     
==========================================
  Files         296      296              
  Lines       55070    55070              
  Branches     6710     6716       +6     
==========================================
- Hits        41813    41755      -58     
- Misses      12803    12832      +29     
- Partials      454      483      +29



Impacted Files
Coverage Δ





meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


proxy/reply.c
74.41% <0%> (-6.98%)
⬇️


rdir/rdir.c
69.09% <0%> (-4.91%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3.6%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


core/proxy.c
81.5% <0%> (-2.16%)
⬇️


meta1v2/meta1_remote.c
72.65% <0%> (-1.57%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3e5797b...2a51f66. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1338,2018-01-24T17:10:37Z,2018-01-29T16:05:25Z,2018-01-29T17:37:12Z,MERGED,True,77,18,4,https://github.com/fvennetier,Allow assignation of an rdir service to a locked rawx service,2,"['enhancement :sparkles:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1338,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1338,Fix #1337.,Fix #1337.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1338,2018-01-24T17:10:37Z,2018-01-29T16:05:25Z,2018-01-29T17:37:12Z,MERGED,True,77,18,4,https://github.com/fvennetier,Allow assignation of an rdir service to a locked rawx service,2,"['enhancement :sparkles:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1338,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1338#issuecomment-360529624,Fix #1337.,"Codecov Report

Merging #1338 into 4.1.x will decrease coverage by 0.09%.
The diff coverage is 77.08%.


@@            Coverage Diff            @@
##            4.1.x    #1338     +/-   ##
=========================================
- Coverage   75.96%   75.87%   -0.1%     
=========================================
  Files         296      296             
  Lines       55070    55107     +37     
  Branches     6716     6717      +1     
=========================================
- Hits        41835    41810     -25     
- Misses      12795    12813     +18     
- Partials      440      484     +44



Impacted Files
Coverage Δ





core/lb.c
93.58% <100%> (+0.01%)
⬆️


oio/rdir/client.py
66.85% <50%> (+13.74%)
⬆️


tests/utils.py
87.81% <66.66%> (-2.74%)
⬇️


tests/functional/api/test_directory.py
90.76% <86.95%> (-9.24%)
⬇️


meta1v2/compound_types.c
73.58% <0%> (-11.33%)
⬇️


rdir/rdir.c
69.44% <0%> (-4.79%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta1v2/meta1_backend_services.c
54.26% <0%> (-2.99%)
⬇️


proxy/metacd_http.c
88.3% <0%> (-1.93%)
⬇️


... and 20 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 462c9c9...521c9ea. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1339,2018-01-25T09:56:17Z,2018-01-29T15:53:46Z,2018-02-01T08:24:00Z,MERGED,True,286,158,8,https://github.com/AymericDu,Send events when purging a container,2,[],https://github.com/open-io/oio-sds/pull/1339,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1339,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1339,2018-01-25T09:56:17Z,2018-01-29T15:53:46Z,2018-02-01T08:24:00Z,MERGED,True,286,158,8,https://github.com/AymericDu,Send events when purging a container,2,[],https://github.com/open-io/oio-sds/pull/1339,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1339#issuecomment-360427358,,"Codecov Report

Merging #1339 into 4.x will decrease coverage by 0.04%.
The diff coverage is 92.66%.


@@            Coverage Diff             @@
##              4.x    #1339      +/-   ##
==========================================
- Coverage   77.63%   77.59%   -0.03%     
==========================================
  Files         300      300              
  Lines       55583    55661      +78     
  Branches     6463     6471       +8     
==========================================
+ Hits        43145    43185      +40     
- Misses      12044    12061      +17     
- Partials      394      415      +21



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
90.57% <ø> (-0.29%)
⬇️


meta2v2/meta2_filters_action_container.c
56.75% <100%> (+3.92%)
⬆️


tests/functional/container/test_container.py
99% <100%> (+0.07%)
⬆️


meta2v2/meta2_utils.c
80.76% <89.59%> (+0.16%)
⬆️


meta2v2/meta2_backend.c
79.24% <93.03%> (+0.05%)
⬆️


oio/account/client.py
82.42% <0%> (-7.69%)
⬇️


proxy/meta2v2_remote.c
75.11% <0%> (-4.8%)
⬇️


proxy/m2_actions.c
79.52% <0%> (-4.23%)
⬇️


proxy/sqlx_actions.c
58.3% <0%> (-4.02%)
⬇️


proxy/dir_actions.c
69.53% <0%> (-3.8%)
⬇️


... and 34 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8128404...9da5ba2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1340,2018-01-26T08:33:13Z,2018-01-26T13:10:59Z,2018-04-25T13:24:15Z,MERGED,True,42,0,2,https://github.com/murlock,Set status field during meta2 database creation,2,[],https://github.com/open-io/oio-sds/pull/1340,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1340,"When creating a container, status was left unset.
It was only updated when creating a snapshot","When creating a container, status was left unset.
It was only updated when creating a snapshot",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1340,2018-01-26T08:33:13Z,2018-01-26T13:10:59Z,2018-04-25T13:24:15Z,MERGED,True,42,0,2,https://github.com/murlock,Set status field during meta2 database creation,2,[],https://github.com/open-io/oio-sds/pull/1340,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1340#issuecomment-360726118,"When creating a container, status was left unset.
It was only updated when creating a snapshot","Codecov Report

Merging #1340 into 4.x will decrease coverage by 0.13%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##              4.x   #1340      +/-   ##
=========================================
- Coverage   77.63%   77.5%   -0.12%     
=========================================
  Files         300     300              
  Lines       55583   55609      +26     
  Branches     6463    6463              
=========================================
- Hits        43145   43094      -51     
+ Misses      12044   12012      -32     
- Partials      394     503     +109



Impacted Files
Coverage Δ





meta2v2/meta2_backend.c
79.22% <100%> (+0.03%)
⬆️


tests/functional/container/test_container.py
99.19% <100%> (+0.26%)
⬆️


meta2v2/meta2_utils_lb.c
72.73% <0%> (-12.5%)
⬇️


oio/account/client.py
78.03% <0%> (-12.08%)
⬇️


proxy/meta2v2_remote.c
75.11% <0%> (-4.8%)
⬇️


proxy/m2_actions.c
79.52% <0%> (-4.23%)
⬇️


proxy/sqlx_actions.c
58.3% <0%> (-4.02%)
⬇️


proxy/dir_actions.c
69.53% <0%> (-3.8%)
⬇️


cluster/module/expr.eval.c
24.26% <0%> (-0.99%)
⬇️


sqliterepo/repository.c
76.62% <0%> (-0.95%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8128404...9d6d1fc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1341,2018-01-26T11:21:15Z,2018-01-29T16:06:50Z,2018-02-01T08:23:13Z,MERGED,True,2,3,2,https://github.com/AymericDu,Apply all python requirements at once,1,[],https://github.com/open-io/oio-sds/pull/1341,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1341,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1341,2018-01-26T11:21:15Z,2018-01-29T16:06:50Z,2018-02-01T08:23:13Z,MERGED,True,2,3,2,https://github.com/AymericDu,Apply all python requirements at once,1,[],https://github.com/open-io/oio-sds/pull/1341,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1341#issuecomment-360763455,,"Codecov Report

Merging #1341 into 4.1.x will decrease coverage by 0.07%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1341      +/-   ##
==========================================
- Coverage   75.96%   75.88%   -0.08%     
==========================================
  Files         296      296              
  Lines       55070    55070              
  Branches     6716     6716              
==========================================
- Hits        41835    41792      -43     
- Misses      12795    12797       +2     
- Partials      440      481      +41



Impacted Files
Coverage Δ





rdir/rdir.c
68.98% <0%> (-5.25%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta1v2/meta1_remote.c
71.87% <0%> (-2.35%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-1.2%)
⬇️


metautils/lib/utils_m1url.c
94.44% <0%> (-1.12%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


rawx-apache2/src/rawx_repository.c
48.52% <0%> (-0.74%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 462c9c9...836bfe0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1342,2018-01-29T10:41:43Z,2018-01-29T15:55:15Z,2018-04-25T13:24:12Z,MERGED,True,85,1,4,https://github.com/murlock,4.1.x dump coredump,2,[],https://github.com/open-io/oio-sds/pull/1342,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1342,"If tests aborts, script oio-gdb.py will be launched to dump any coredump found.
Gdb will be used with thread apply all bt command.","If tests aborts, script oio-gdb.py will be launched to dump any coredump found.
Gdb will be used with thread apply all bt command.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1342,2018-01-29T10:41:43Z,2018-01-29T15:55:15Z,2018-04-25T13:24:12Z,MERGED,True,85,1,4,https://github.com/murlock,4.1.x dump coredump,2,[],https://github.com/open-io/oio-sds/pull/1342,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1342#issuecomment-361209993,"If tests aborts, script oio-gdb.py will be launched to dump any coredump found.
Gdb will be used with thread apply all bt command.","Codecov Report

Merging #1342 into 4.1.x will increase coverage by 0.61%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1342      +/-   ##
==========================================
+ Coverage   75.96%   76.58%   +0.61%     
==========================================
  Files         296      296              
  Lines       55070    55070              
  Branches     6716     6710       -6     
==========================================
+ Hits        41835    42175     +340     
+ Misses      12795    12767      -28     
+ Partials      440      128     -312



Impacted Files
Coverage Δ





oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


meta1v2/meta1_remote.c
72.65% <0%> (-1.57%)
⬇️


metautils/lib/utils_m1url.c
94.44% <0%> (-1.12%)
⬇️


meta2v2/meta2_filters_action_container.c
54.44% <0%> (-1.07%)
⬇️


core/cs.c
80.8% <0%> (-0.9%)
⬇️


metautils/lib/comm_message.c
84.21% <0%> (-0.79%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 462c9c9...df39728. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1343,2018-01-29T11:13:05Z,2018-01-29T15:54:48Z,2018-01-29T17:37:02Z,MERGED,True,8,6,3,https://github.com/fvennetier,"Fix compilation with recent json-c, avoid naming conflict with C++",2,['language:C'],https://github.com/open-io/oio-sds/pull/1343,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1343,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1343,2018-01-29T11:13:05Z,2018-01-29T15:54:48Z,2018-01-29T17:37:02Z,MERGED,True,8,6,3,https://github.com/fvennetier,"Fix compilation with recent json-c, avoid naming conflict with C++",2,['language:C'],https://github.com/open-io/oio-sds/pull/1343,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1343#issuecomment-361286097,,"Codecov Report

Merging #1343 into 4.x will increase coverage by 0.01%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1343      +/-   ##
==========================================
+ Coverage   77.52%   77.53%   +0.01%     
==========================================
  Files         300      300              
  Lines       55609    55609              
  Branches     6463     6463              
==========================================
+ Hits        43107    43112       +5     
- Misses      12016    12056      +40     
+ Partials      486      441      -45



Impacted Files
Coverage Δ





core/dir.c
68.79% <100%> (ø)
⬆️


core/sds.c
79.22% <100%> (ø)
⬆️


metautils/lib/volume_lock.c
34.22% <0%> (-28.94%)
⬇️


metautils/lib/utils_errors.c
9.1% <0%> (-27.27%)
⬇️


oio/ecd/app.py
59.77% <0%> (-6.5%)
⬇️


sqliterepo/replication.c
79.37% <0%> (-2%)
⬇️


metautils/lib/gridd_client_ext.c
79.78% <0%> (-1.83%)
⬇️


meta2v2/meta2_filters_action_content.c
89.09% <0%> (-1.76%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


oio/api/base.py
81.25% <0%> (-1.04%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5869a34...3703efc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1344,2018-01-29T15:22:32Z,2018-01-29T16:04:35Z,2018-01-29T16:12:45Z,MERGED,True,47,28,2,https://github.com/jfsmig,Make the proxy resistant to invalid peers addr,2,"['bug :scream:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1344,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1344,"An assertion was raised, due to a lack of a prior error check...","An assertion was raised, due to a lack of a prior error check...",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1344,2018-01-29T15:22:32Z,2018-01-29T16:04:35Z,2018-01-29T16:12:45Z,MERGED,True,47,28,2,https://github.com/jfsmig,Make the proxy resistant to invalid peers addr,2,"['bug :scream:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1344,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1344#issuecomment-361283292,"An assertion was raised, due to a lack of a prior error check...","Codecov Report

Merging #1344 into 4.1.x will increase coverage by 0.27%.
The diff coverage is 86.95%.


@@            Coverage Diff             @@
##            4.1.x    #1344      +/-   ##
==========================================
+ Coverage   75.96%   76.24%   +0.27%     
==========================================
  Files         296      296              
  Lines       55070    55080      +10     
  Branches     6716     6716              
==========================================
+ Hits        41835    41995     +160     
- Misses      12795    12817      +22     
+ Partials      440      268     -172



Impacted Files
Coverage Δ





metautils/lib/gridd_client.c
76.31% <100%> (-1.58%)
⬇️


proxy/common.c
83.74% <86.36%> (-0.49%)
⬇️


tests/functional/rdir/test_indexer.py
90.69% <0%> (-8.14%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


rdir/rdir.c
69.44% <0%> (-4.79%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


proxy/metacd_http.c
88.3% <0%> (-1.93%)
⬇️


meta1v2/meta1_remote.c
72.65% <0%> (-1.57%)
⬇️


tests/functional/content/test_plain.py
97.56% <0%> (-1.22%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 462c9c9...8230ffb. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1345,2018-01-30T13:15:44Z,2018-01-30T15:31:20Z,2018-04-25T13:24:09Z,MERGED,True,10,10,1,https://github.com/murlock,tools: fix invalid URL used by Travis script,1,[],https://github.com/open-io/oio-sds/pull/1345,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1345,Invalid URL was used just after oio-reset.sh,Invalid URL was used just after oio-reset.sh,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1345,2018-01-30T13:15:44Z,2018-01-30T15:31:20Z,2018-04-25T13:24:09Z,MERGED,True,10,10,1,https://github.com/murlock,tools: fix invalid URL used by Travis script,1,[],https://github.com/open-io/oio-sds/pull/1345,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1345#issuecomment-361593773,Invalid URL was used just after oio-reset.sh,"Codecov Report

Merging #1345 into 4.1.x will increase coverage by 3.42%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##           4.1.x    #1345      +/-   ##
=========================================
+ Coverage   72.8%   76.22%   +3.42%     
=========================================
  Files        296      296              
  Lines      55117    55117              
  Branches    6717     6717              
=========================================
+ Hits       40128    42013    +1885     
+ Misses     14868    12716    -2152     
- Partials     121      388     +267



Impacted Files
Coverage Δ





meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


events/oio_events_queue_beanstalkd.c
80% <0%> (-0.41%)
⬇️


metautils/lib/utils_m1url.c
94.44% <0%> (ø)
⬆️


proxy/m2_actions.c
82.44% <0%> (+0.07%)
⬆️


rdir/rdir.c
74% <0%> (+0.11%)
⬆️


oio/api/ec.py
94.26% <0%> (+0.18%)
⬆️


core/str.c
87.92% <0%> (+0.24%)
⬆️


sqliterepo/cache.c
89.51% <0%> (+0.25%)
⬆️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f4f4879...0aa2261. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1347,2018-01-30T15:45:50Z,2018-02-02T13:19:55Z,2018-02-02T13:19:59Z,MERGED,True,35,26,3,https://github.com/fvennetier,Various improvements in sqliterepo elections,10,[],https://github.com/open-io/oio-sds/pull/1347,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1347,"Add timestamps in debug logs (milliseconds since Unix epoch).
Add missing call to member_unref().","Add timestamps in debug logs (milliseconds since Unix epoch).
Add missing call to member_unref().",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1347,2018-01-30T15:45:50Z,2018-02-02T13:19:55Z,2018-02-02T13:19:59Z,MERGED,True,35,26,3,https://github.com/fvennetier,Various improvements in sqliterepo elections,10,[],https://github.com/open-io/oio-sds/pull/1347,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1347#issuecomment-361645011,"Add timestamps in debug logs (milliseconds since Unix epoch).
Add missing call to member_unref().","Codecov Report

Merging #1347 into 4.1.x will increase coverage by 0.15%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1347      +/-   ##
==========================================
+ Coverage   76.46%   76.62%   +0.15%     
==========================================
  Files         296      296              
  Lines       55117    55120       +3     
  Branches     6723     6717       -6     
==========================================
+ Hits        42145    42235      +90     
+ Misses      12702    12651      -51     
+ Partials      270      234      -36



Impacted Files
Coverage Δ





sqliterepo/election.c
87% <100%> (+3.73%)
⬆️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


proxy/sqlx_actions.c
56.64% <0%> (-6.94%)
⬇️


rdir/rdir.c
69.44% <0%> (-4.45%)
⬇️


proxy/m2_actions.c
82.44% <0%> (-4.31%)
⬇️


proxy/dir_actions.c
72.69% <0%> (-4.13%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-2.5%)
⬇️


meta1v2/meta1_remote.c
72.65% <0%> (-1.57%)
⬇️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f01850e...2c4a369. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1348,2018-01-31T13:27:23Z,2018-02-02T16:24:36Z,2018-02-02T16:24:36Z,MERGED,True,68,3,3,https://github.com/tlefebvr,C API: add an option force chunk size,1,[],https://github.com/open-io/oio-sds/pull/1348,https://github.com/tlefebvr,1,https://github.com/open-io/oio-sds/pull/1348,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1348,2018-01-31T13:27:23Z,2018-02-02T16:24:36Z,2018-02-02T16:24:36Z,MERGED,True,68,3,3,https://github.com/tlefebvr,C API: add an option force chunk size,1,[],https://github.com/open-io/oio-sds/pull/1348,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1348#issuecomment-362213961,,"Codecov Report

Merging #1348 into 4.x will decrease coverage by 0.46%.
The diff coverage is 95.56%.


@@            Coverage Diff             @@
##              4.x    #1348      +/-   ##
==========================================
- Coverage   78.37%   77.91%   -0.45%     
==========================================
  Files         300      300              
  Lines       55734    55779      +45     
  Branches     6478     6479       +1     
==========================================
- Hits        43675    43456     -219     
- Misses      11968    12079     +111     
- Partials       91      244     +153



Impacted Files
Coverage Δ





core/sds.c
79.24% <100%> (+0.02%)
⬆️


core/tool_roundtrip.c
84.36% <95.46%> (+1.24%)
⬆️


metautils/lib/volume_lock.c
34.22% <0%> (-28.94%)
⬇️


meta0v2/meta0_server.c
55.7% <0%> (-17.72%)
⬇️


meta0v2/zk_manager.c
61.72% <0%> (-12.5%)
⬇️


sqliterepo/synchro.c
65.11% <0%> (-9.97%)
⬇️


sqliterepo/gridd_client_pool.c
71.62% <0%> (-9.74%)
⬇️


sqliterepo/replication.c
79.37% <0%> (-7.44%)
⬇️


oio/ecd/app.py
59.77% <0%> (-6.5%)
⬇️


meta1v2/meta1_server.c
72.83% <0%> (-5.43%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b586e75...e8ee47d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1348,2018-01-31T13:27:23Z,2018-02-02T16:24:36Z,2018-02-02T16:24:36Z,MERGED,True,68,3,3,https://github.com/tlefebvr,C API: add an option force chunk size,1,[],https://github.com/open-io/oio-sds/pull/1348,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/1348#issuecomment-362296119,,"Since OIO_SDS_VERSION has changed, this cannot be included to the 4.1.x branch, it would break compatibility.
However, you can add a field to struct oio_sds_s, which is not directly allocated by the client application, and make that field configurable with oio_sds_configure(). This change would not modify ABI, and thus do not require to modify OIO_SDS_VERSION.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1350,2018-02-02T09:41:05Z,2018-04-27T08:17:24Z,2018-06-13T13:48:38Z,MERGED,True,703,135,57,https://github.com/murlock,ServiceID for RawX,36,[],https://github.com/open-io/oio-sds/pull/1350,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1350,"This PR introduce Service ID for RAWX:
it allows them to update their IP with few command (a Chunk ID will use Service Id instead addr)
To support this, changes were made on:
proxy:

NS/conscience/resolve/#GET: retrieve addr:ip from an uuid (used by oio/blob)
/cache/show/#GET : retrieve current cache of proxy
content/prepare: as url field contains ID of chunks, not id, it adds a field real_url with resolved Service Id
core/lb:
struct is enriched with addr field and try to use Service Id instead addr
new function to iterate over items in lb_world_s
oio.blob:
add cache system as event contains Service Id, each entry can be used 60 seconds.
oio:
use new url if set
cli
to reflect changes, openio cluster (localt) list will show Addr and ServiceId instead of ambiguous Id","This PR introduce Service ID for RAWX:
it allows them to update their IP with few command (a Chunk ID will use Service Id instead addr)
To support this, changes were made on:
proxy:

NS/conscience/resolve/#GET: retrieve addr:ip from an uuid (used by oio/blob)
/cache/show/#GET : retrieve current cache of proxy
content/prepare: as url field contains ID of chunks, not id, it adds a field real_url with resolved Service Id
core/lb:
struct is enriched with addr field and try to use Service Id instead addr
new function to iterate over items in lb_world_s
oio.blob:
add cache system as event contains Service Id, each entry can be used 60 seconds.
oio:
use new url if set
cli
to reflect changes, openio cluster (localt) list will show Addr and ServiceId instead of ambiguous Id",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1350,2018-02-02T09:41:05Z,2018-04-27T08:17:24Z,2018-06-13T13:48:38Z,MERGED,True,703,135,57,https://github.com/murlock,ServiceID for RawX,36,[],https://github.com/open-io/oio-sds/pull/1350,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1350#issuecomment-362539478,"This PR introduce Service ID for RAWX:
it allows them to update their IP with few command (a Chunk ID will use Service Id instead addr)
To support this, changes were made on:
proxy:

NS/conscience/resolve/#GET: retrieve addr:ip from an uuid (used by oio/blob)
/cache/show/#GET : retrieve current cache of proxy
content/prepare: as url field contains ID of chunks, not id, it adds a field real_url with resolved Service Id
core/lb:
struct is enriched with addr field and try to use Service Id instead addr
new function to iterate over items in lb_world_s
oio.blob:
add cache system as event contains Service Id, each entry can be used 60 seconds.
oio:
use new url if set
cli
to reflect changes, openio cluster (localt) list will show Addr and ServiceId instead of ambiguous Id","Codecov Report

Merging #1350 into 4.x will decrease coverage by 0.04%.
The diff coverage is 92.27%.


@@            Coverage Diff             @@
##              4.x    #1350      +/-   ##
==========================================
- Coverage   78.29%   78.26%   -0.03%     
==========================================
  Files         304      306       +2     
  Lines       57622    57881     +259     
  Branches     6593     6608      +15     
==========================================
+ Hits        45111    45295     +184     
- Misses      12423    12460      +37     
- Partials       88      126      +38



Impacted Files
Coverage Δ





tests/functional/container/test_container.py
99.28% <ø> (ø)
⬆️


oio/api/object_storage.py
82.14% <ø> (-0.17%)
⬇️


proxy/common.h
100% <ø> (ø)
⬆️


tests/functional/audit/test_audit_storage.py
100% <100%> (ø)
⬆️


tests/utils.py
89.11% <100%> (ø)
⬆️


rawx-apache2/src/mod_dav_rawx.c
71.82% <100%> (+0.66%)
⬆️


metautils/lib/utils_service_info.c
85.76% <100%> (+0.67%)
⬆️


rawx-apache2/src/rawx_internals.c
77.28% <100%> (+0.35%)
⬆️


tests/functional/content/test_content.py
95.55% <100%> (ø)
⬆️


oio/blob/client.py
91.2% <100%> (-0.39%)
⬇️


... and 61 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5132e05...f0ddc7c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1351,2018-02-02T10:45:24Z,2018-02-02T13:03:59Z,2018-02-02T13:05:40Z,MERGED,True,80,0,3,https://github.com/tlefebvr,C API: configure chunk size of clients ,1,[],https://github.com/open-io/oio-sds/pull/1351,https://github.com/tlefebvr,1,https://github.com/open-io/oio-sds/pull/1351,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1351,2018-02-02T10:45:24Z,2018-02-02T13:03:59Z,2018-02-02T13:05:40Z,MERGED,True,80,0,3,https://github.com/tlefebvr,C API: configure chunk size of clients ,1,[],https://github.com/open-io/oio-sds/pull/1351,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1351#issuecomment-362565997,,"Codecov Report

Merging #1351 into 4.1.x will increase coverage by 0.2%.
The diff coverage is 94.23%.


@@            Coverage Diff            @@
##            4.1.x    #1351     +/-   ##
=========================================
+ Coverage   76.46%   76.66%   +0.2%     
=========================================
  Files         296      296             
  Lines       55117    55169     +52     
  Branches     6723     6719      -4     
=========================================
+ Hits        42145    42297    +152     
+ Misses      12702    12695      -7     
+ Partials      270      177     -93



Impacted Files
Coverage Δ





core/sds.c
79.46% <83.33%> (+0.24%)
⬆️


core/tool_roundtrip.c
84.42% <95.65%> (+1.3%)
⬆️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


proxy/sqlx_actions.c
56.64% <0%> (-6.94%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


proxy/m2_actions.c
82.44% <0%> (-4.31%)
⬇️


proxy/dir_actions.c
72.69% <0%> (-4.13%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-3.92%)
⬇️


proxy/metacd_http.c
88.78% <0%> (-2.25%)
⬇️


metautils/lib/gridd_client.c
76.31% <0%> (-1.42%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f01850e...0eeba9b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1352,2018-02-02T14:10:16Z,2018-02-05T14:25:01Z,2018-02-09T07:16:48Z,MERGED,True,315,144,11,https://github.com/AymericDu,Delete exceeding versions when adding a new alias,1,[],https://github.com/open-io/oio-sds/pull/1352,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1352,See #1163,See #1163,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1352,2018-02-02T14:10:16Z,2018-02-05T14:25:01Z,2018-02-09T07:16:48Z,MERGED,True,315,144,11,https://github.com/AymericDu,Delete exceeding versions when adding a new alias,1,[],https://github.com/open-io/oio-sds/pull/1352,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1352#issuecomment-362599424,See #1163,"Codecov Report

Merging #1352 into 4.x will increase coverage by 0.76%.
The diff coverage is 85.07%.


@@            Coverage Diff            @@
##              4.x   #1352      +/-   ##
=========================================
+ Coverage   77.85%   78.6%   +0.76%     
=========================================
  Files         300     300              
  Lines       55797   55857      +60     
  Branches     6480    6485       +5     
=========================================
+ Hits        43435   43901     +466     
+ Misses      12014   11950      -64     
+ Partials      348       6     -342



Impacted Files
Coverage Δ





...ests/functional/content/test_content_versioning.py
100% <100%> (ø)
⬆️


tests/unit/test_meta2_backend.c
100% <100%> (ø)
⬆️


oio/common/easy_value.py
67.5% <18.19%> (-18.7%)
⬇️


meta2v2/meta2_backend.c
79.26% <40%> (ø)
⬆️


meta2v2/meta2_filters_action_content.c
93.88% <83.34%> (+3.32%)
⬆️


meta2v2/meta2_utils.c
80.68% <88.75%> (-0.08%)
⬇️


core/http_put.c
92.63% <0%> (-0.5%)
⬇️


metautils/lib/utils_sockets.c
41.18% <0%> (-0.39%)
⬇️


cluster/module/server.c
79.37% <0%> (-0.1%)
⬇️


core/lb.c
93.74% <0%> (+0.15%)
⬆️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8196f72...f336907. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1353,2018-02-05T17:48:33Z,2018-02-06T14:53:53Z,2018-02-06T14:55:54Z,MERGED,True,35,8,4,https://github.com/fvennetier,C API: allow configuration of rawx timeouts,2,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1353,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1353,"Allow configuration of connection and overall request timeouts to rawx
services, from sds.conf configuration file.","Allow configuration of connection and overall request timeouts to rawx
services, from sds.conf configuration file.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1353,2018-02-05T17:48:33Z,2018-02-06T14:53:53Z,2018-02-06T14:55:54Z,MERGED,True,35,8,4,https://github.com/fvennetier,C API: allow configuration of rawx timeouts,2,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1353,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1353#issuecomment-363345086,"Allow configuration of connection and overall request timeouts to rawx
services, from sds.conf configuration file.","Codecov Report

Merging #1353 into 4.1.x will increase coverage by 0.4%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.1.x    #1353     +/-   ##
=========================================
+ Coverage   76.28%   76.69%   +0.4%     
=========================================
  Files         296      296             
  Lines       55168    55168             
  Branches     6718     6718             
=========================================
+ Hits        42086    42310    +224     
+ Misses      12705    12659     -46     
+ Partials      377      199    -178



Impacted Files
Coverage Δ





core/http_put.c
93.12% <100%> (ø)
⬆️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


rdir/rdir.c
69.44% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


proxy/metacd_http.c
88.78% <0%> (-1.45%)
⬇️


resolver/hc_resolver.c
87.96% <0%> (-1.15%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


meta0v2/zk_manager.c
61.24% <0%> (-0.78%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update fd91cdc...5c2c926. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1354,2018-02-08T14:33:17Z,2018-02-08T14:59:30Z,2018-02-08T15:05:46Z,MERGED,True,0,1,1,https://github.com/jfsmig,election: Remove an unwanted assertion,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1354,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1354,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1354,2018-02-08T14:33:17Z,2018-02-08T14:59:30Z,2018-02-08T15:05:46Z,MERGED,True,0,1,1,https://github.com/jfsmig,election: Remove an unwanted assertion,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1354,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1354#issuecomment-364134272,,"Codecov Report

Merging #1354 into 4.1.x will decrease coverage by 0.14%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1354      +/-   ##
==========================================
- Coverage   76.92%   76.77%   -0.15%     
==========================================
  Files         296      296              
  Lines       55168    55167       -1     
  Branches     6718     6718              
==========================================
- Hits        42437    42354      -83     
+ Misses      12683    12681       -2     
- Partials       48      132      +84



Impacted Files
Coverage Δ





sqliterepo/election.c
86.83% <ø> (-0.38%)
⬇️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


proxy/sqlx_actions.c
56.64% <0%> (-6.94%)
⬇️


proxy/m2_actions.c
82.44% <0%> (-4.31%)
⬇️


proxy/dir_actions.c
72.69% <0%> (-4.13%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-3%)
⬇️


proxy/metacd_http.c
88.78% <0%> (-2.09%)
⬇️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 056459d...c51a0c6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1355,2018-02-08T14:34:15Z,2018-02-08T15:05:04Z,2018-02-08T15:05:46Z,MERGED,True,14,6,1,https://github.com/jfsmig,sqliterepo/zk: Prevent accesses to a null pointer,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1355,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1355,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1355,2018-02-08T14:34:15Z,2018-02-08T15:05:04Z,2018-02-08T15:05:46Z,MERGED,True,14,6,1,https://github.com/jfsmig,sqliterepo/zk: Prevent accesses to a null pointer,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1355,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1355#issuecomment-364139246,,"Codecov Report

❗ No coverage uploaded for pull request base (4.1.x@6b23e73). Click here to learn what that means.
The diff coverage is 88.88%.


@@           Coverage Diff            @@
##             4.1.x    #1355   +/-   ##
========================================
  Coverage         ?   76.21%           
========================================
  Files            ?      296           
  Lines            ?    55171           
  Branches         ?     6725           
========================================
  Hits             ?    42047           
  Misses           ?    12705           
  Partials         ?      419



Impacted Files
Coverage Δ





sqliterepo/synchro.c
56.93% <88.88%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6b23e73...f70e0d4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1356,2018-02-09T12:11:27Z,2018-02-09T14:32:47Z,2018-04-25T13:24:07Z,MERGED,True,77,1,6,https://github.com/murlock,Document rawx configuration,2,[],https://github.com/open-io/oio-sds/pull/1356,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1356,"Add rawx configurations items in Variables.md.inc
Add test to ensure that Variables.md is up-to-date","Add rawx configurations items in Variables.md.inc
Add test to ensure that Variables.md is up-to-date",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1356,2018-02-09T12:11:27Z,2018-02-09T14:32:47Z,2018-04-25T13:24:07Z,MERGED,True,77,1,6,https://github.com/murlock,Document rawx configuration,2,[],https://github.com/open-io/oio-sds/pull/1356,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1356#issuecomment-364420509,"Add rawx configurations items in Variables.md.inc
Add test to ensure that Variables.md is up-to-date","Codecov Report

Merging #1356 into 4.1.x will decrease coverage by <.01%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1356      +/-   ##
==========================================
- Coverage   76.72%   76.72%   -0.01%     
==========================================
  Files         296      297       +1     
  Lines       55170    55180      +10     
  Branches     6719     6719              
==========================================
+ Hits        42329    42335       +6     
+ Misses      12688    12661      -27     
- Partials      153      184      +31



Impacted Files
Coverage Δ





tests/func/test_variables.py
100% <100%> (ø)



meta1v2/meta1_server.c
70.32% <0%> (-4.4%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_filters_action_content.c
90.56% <0%> (-3.54%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-2.14%)
⬇️


meta2v2/meta2_filters_extract.c
87.36% <0%> (-2.11%)
⬇️


meta1v2/meta1_backend_internals.c
74.16% <0%> (-0.84%)
⬇️


metautils/lib/gridd_client_ext.c
79.61% <0%> (-0.77%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 47f176b...c7707eb. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1357,2018-02-12T12:24:04Z,2018-02-12T14:00:00Z,2018-04-25T13:24:05Z,MERGED,True,7,1,2,https://github.com/murlock,Allow use of valgrind/callgrind from oio-reset,1,[],https://github.com/open-io/oio-sds/pull/1357,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1357,,,True,"{'HOORAY': ['https://github.com/kamel-rahim'], 'HEART': ['https://github.com/kamel-rahim']}"
open-io/oio-sds,https://github.com/open-io/oio-sds,1357,2018-02-12T12:24:04Z,2018-02-12T14:00:00Z,2018-04-25T13:24:05Z,MERGED,True,7,1,2,https://github.com/murlock,Allow use of valgrind/callgrind from oio-reset,1,[],https://github.com/open-io/oio-sds/pull/1357,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1357#issuecomment-364912262,,"Codecov Report

Merging #1357 into 4.1.x will increase coverage by 0.11%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1357      +/-   ##
==========================================
+ Coverage   76.75%   76.86%   +0.11%     
==========================================
  Files         297      297              
  Lines       55180    55180              
  Branches     6725     6725              
==========================================
+ Hits        42354    42416      +62     
+ Misses      12675    12645      -30     
+ Partials      151      119      -32



Impacted Files
Coverage Δ





tests/functional/rdir/test_indexer.py
90.69% <0%> (-8.14%)
⬇️


meta2v2/meta2_filters_action_container.c
54.44% <0%> (-1.78%)
⬇️


meta2v2/meta2_filters_action_content.c
92.62% <0%> (-1.48%)
⬇️


meta2v2/meta2_filters_extract.c
88.42% <0%> (-1.06%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


core/http_put.c
92.62% <0%> (-0.51%)
⬇️


oio/common/utils.py
64.3% <0%> (-0.49%)
⬇️


oio/directory/meta0.py
72.09% <0%> (-0.39%)
⬇️


resolver/hc_resolver.c
87.96% <0%> (-0.29%)
⬇️


proxy/transport_http.c
86.06% <0%> (-0.28%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b5eb1e5...a04d87a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1358,2018-02-12T17:03:38Z,2018-02-13T08:30:56Z,2018-04-25T13:24:19Z,MERGED,True,10,4,3,https://github.com/murlock,Python API: expose backoff_factor option,1,[],https://github.com/open-io/oio-sds/pull/1358,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1358,"By default, urllib3 doesn't use backoff when retries are
enabled. This commit introduce parameter to update it.
Following urllib3 documentation, backoff is used after second
try and will sleep by using formula:
{backoff factor} * (2 ^ ({number of total retries} - 1))","By default, urllib3 doesn't use backoff when retries are
enabled. This commit introduce parameter to update it.
Following urllib3 documentation, backoff is used after second
try and will sleep by using formula:
{backoff factor} * (2 ^ ({number of total retries} - 1))",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1358,2018-02-12T17:03:38Z,2018-02-13T08:30:56Z,2018-04-25T13:24:19Z,MERGED,True,10,4,3,https://github.com/murlock,Python API: expose backoff_factor option,1,[],https://github.com/open-io/oio-sds/pull/1358,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1358#issuecomment-365036786,"By default, urllib3 doesn't use backoff when retries are
enabled. This commit introduce parameter to update it.
Following urllib3 documentation, backoff is used after second
try and will sleep by using formula:
{backoff factor} * (2 ^ ({number of total retries} - 1))","Codecov Report

Merging #1358 into 4.1.x will increase coverage by 3.65%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##           4.1.x    #1358      +/-   ##
=========================================
+ Coverage   72.6%   76.25%   +3.65%     
=========================================
  Files        296      297       +1     
  Lines      55011    55181     +170     
  Branches    6719     6719              
=========================================
+ Hits       39941    42081    +2140     
+ Misses     14924    12674    -2250     
- Partials     146      426     +280



Impacted Files
Coverage Δ





oio/api/base.py
81.57% <ø> (ø)
⬆️


tests/functional/rdir/test_server.py
96.76% <100%> (ø)
⬆️


oio/common/http.py
79.56% <100%> (+0.11%)
⬆️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


rdir/rdir.c
68.98% <0%> (-4.45%)
⬇️


oio/common/utils.py
63.56% <0%> (-0.74%)
⬇️


server/transport_gridd.c
77.77% <0%> (-0.42%)
⬇️


metautils/lib/utils_sockets.c
48.62% <0%> (-0.4%)
⬇️


proxy/transport_http.c
86.06% <0%> (-0.28%)
⬇️


metautils/lib/utils_m1url.c
94.44% <0%> (ø)
⬆️


... and 65 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update fc0aadd...21bc52b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1359,2018-02-14T09:59:36Z,2018-02-14T16:50:53Z,2018-02-14T16:50:55Z,MERGED,True,15,6,2,https://github.com/fvennetier,Python API: create NoMatchFound exception for RegexContainerBuilder,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1359,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1359,"In oio-swift's regexcontainer middleware, we will need to catch an exception coming from the RegexContainerBuilder class. Before this patch, the exception was of the generic type ValueError.","In oio-swift's regexcontainer middleware, we will need to catch an exception coming from the RegexContainerBuilder class. Before this patch, the exception was of the generic type ValueError.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1359,2018-02-14T09:59:36Z,2018-02-14T16:50:53Z,2018-02-14T16:50:55Z,MERGED,True,15,6,2,https://github.com/fvennetier,Python API: create NoMatchFound exception for RegexContainerBuilder,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1359,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1359#issuecomment-365560341,"In oio-swift's regexcontainer middleware, we will need to catch an exception coming from the RegexContainerBuilder class. Before this patch, the exception was of the generic type ValueError.","Codecov Report

Merging #1359 into 4.1.x will increase coverage by 0.15%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1359      +/-   ##
==========================================
+ Coverage   76.36%   76.52%   +0.15%     
==========================================
  Files         297      297              
  Lines       55181    55183       +2     
  Branches     6725     6719       -6     
==========================================
+ Hits        42141    42228      +87     
- Misses      12682    12703      +21     
+ Partials      358      252     -106



Impacted Files
Coverage Δ





tests/unit/common/test_autocontainer.py
100% <100%> (ø)
⬆️


oio/common/autocontainer.py
60.46% <100%> (+0.94%)
⬆️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


proxy/reply.c
74.41% <0%> (-6.98%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


core/proxy.c
81.5% <0%> (-2.16%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-1.23%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-1.2%)
⬇️


resolver/hc_resolver.c
88.25% <0%> (-0.86%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c1ac79e...477e9cb. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1360,2018-02-14T13:34:31Z,2018-02-14T14:12:11Z,2018-04-25T13:24:20Z,MERGED,True,1,1,1,https://github.com/murlock,CLI: fix invalid help for touch arguments,1,[],https://github.com/open-io/oio-sds/pull/1360,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1360,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1360,2018-02-14T13:34:31Z,2018-02-14T14:12:11Z,2018-04-25T13:24:20Z,MERGED,True,1,1,1,https://github.com/murlock,CLI: fix invalid help for touch arguments,1,[],https://github.com/open-io/oio-sds/pull/1360,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1360#issuecomment-365618384,,"Codecov Report

Merging #1360 into 4.1.x will increase coverage by 0.38%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1360      +/-   ##
==========================================
+ Coverage   76.36%   76.75%   +0.38%     
==========================================
  Files         297      297              
  Lines       55181    55181              
  Branches     6725     6719       -6     
==========================================
+ Hits        42141    42356     +215     
+ Misses      12682    12664      -18     
+ Partials      358      161     -197



Impacted Files
Coverage Δ





meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


meta2v2/meta2_filters_action_container.c
54.44% <0%> (-1.78%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-1.2%)
⬇️


meta2v2/meta2_filters_action_content.c
92.92% <0%> (-1.18%)
⬇️


resolver/hc_resolver.c
87.96% <0%> (-1.15%)
⬇️


meta2v2/meta2_filters_extract.c
88.42% <0%> (-1.06%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


oio/common/utils.py
64.05% <0%> (-0.74%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c1ac79e...78a971a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1361,2018-02-14T16:59:14Z,2018-02-22T13:33:32Z,2018-02-23T14:26:04Z,MERGED,True,468,50,16,https://github.com/jfsmig,Manage multiple beanstalkd,13,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1361,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1361,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1361,2018-02-14T16:59:14Z,2018-02-22T13:33:32Z,2018-02-23T14:26:04Z,MERGED,True,468,50,16,https://github.com/jfsmig,Manage multiple beanstalkd,13,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1361,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1361#issuecomment-366048899,,"Codecov Report

Merging #1361 into 4.1.x will increase coverage by 0.63%.
The diff coverage is 88.38%.


@@            Coverage Diff            @@
##            4.1.x   #1361      +/-   ##
=========================================
+ Coverage   76.27%   76.9%   +0.63%     
=========================================
  Files         297     298       +1     
  Lines       55189   55330     +141     
  Branches     6726    6745      +19     
=========================================
+ Hits        42093   42552     +459     
+ Misses      12714   12666      -48     
+ Partials      382     112     -270



Impacted Files
Coverage Δ





events/oio_events_queue_beanstalkd.c
80.8% <ø> (+0.79%)
⬆️


oio/event/filters/notify.py
64% <100%> (ø)
⬆️


tests/functional/event/filters/test_filters.py
98.52% <100%> (+0.01%)
⬆️


oio/event/beanstalk.py
60.83% <60%> (-0.36%)
⬇️


events/oio_events_queue.c
80% <83.87%> (+2.72%)
⬆️


events/oio_events_queue_fanout.c
91.66% <91.66%> (ø)



core/proxy.c
81.5% <0%> (-2.16%)
⬇️


core/cs.c
80.8% <0%> (-0.9%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-0.82%)
⬇️


metautils/lib/utils_service_info.c
85.09% <0%> (-0.32%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 22bbfc7...2a24ef5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1362,2018-02-14T17:18:36Z,2018-02-14T17:38:53Z,2018-02-19T09:48:28Z,MERGED,True,10,1,1,https://github.com/jfsmig,sqliterepo: Avoid a possible starvation under concurrency conditions,1,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1362,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1362,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1362,2018-02-14T17:18:36Z,2018-02-14T17:38:53Z,2018-02-19T09:48:28Z,MERGED,True,10,1,1,https://github.com/jfsmig,sqliterepo: Avoid a possible starvation under concurrency conditions,1,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1362,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1362#issuecomment-365684582,,"Codecov Report

Merging #1362 into 4.1.x will decrease coverage by 0.6%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1362      +/-   ##
==========================================
- Coverage   76.78%   76.18%   -0.61%     
==========================================
  Files         297      297              
  Lines       55183    55187       +4     
  Branches     6719     6726       +7     
==========================================
- Hits        42374    42044     -330     
- Misses      12649    12733      +84     
- Partials      160      410     +250



Impacted Files
Coverage Δ





sqliterepo/gridd_client_pool.c
72.09% <100%> (-8.95%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


sqliterepo/synchro.c
56.93% <0%> (-8.85%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


proxy/reply.c
74.41% <0%> (-6.98%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-6.6%)
⬇️


sqliterepo/replication.c
79.36% <0%> (-6.02%)
⬇️


meta1v2/meta1_prefixes.c
79.64% <0%> (-4.8%)
⬇️


sqliterepo/election.c
82.75% <0%> (-4.27%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 724d36d...c3aa6de. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1363,2018-02-15T14:41:26Z,2018-03-06T12:15:24Z,2018-03-08T08:33:17Z,MERGED,True,843,305,28,https://github.com/AymericDu,"CLI, lifecycle: delete exceeding object versions",9,[],https://github.com/open-io/oio-sds/pull/1363,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1363,See #1163,See #1163,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1363,2018-02-15T14:41:26Z,2018-03-06T12:15:24Z,2018-03-08T08:33:17Z,MERGED,True,843,305,28,https://github.com/AymericDu,"CLI, lifecycle: delete exceeding object versions",9,[],https://github.com/open-io/oio-sds/pull/1363,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1363#issuecomment-365956563,See #1163,"Codecov Report

Merging #1363 into 4.x will increase coverage by 0.28%.
The diff coverage is 94.54%.


@@            Coverage Diff             @@
##              4.x    #1363      +/-   ##
==========================================
+ Coverage   78.15%   78.42%   +0.28%     
==========================================
  Files         300      300              
  Lines       55859    56098     +239     
  Branches     6486     6488       +2     
==========================================
+ Hits        43650    43992     +342     
+ Misses      11975    11966       -9     
+ Partials      234      140      -94



Impacted Files
Coverage Δ





meta2v2/meta2_gridd_dispatcher.c
68.19% <ø> (ø)
⬆️


tests/unit/container/test_lifecycle.py
98.71% <100%> (-0.04%)
⬇️


meta2v2/meta2_filters_action_container.c
54.61% <100%> (-2.13%)
⬇️


proxy/metacd_http.c
89.12% <100%> (-2.03%)
⬇️


meta2v2/meta2_filters_extract.c
87.88% <100%> (-1.59%)
⬇️


tests/functional/api/test_objectstorage.py
96.14% <100%> (+0.47%)
⬆️


oio/container/client.py
83.28% <100%> (+0.48%)
⬆️


tests/functional/container/test_container.py
99.28% <100%> (+0.04%)
⬆️


proxy/meta2v2_remote.c
80.43% <100%> (-0.79%)
⬇️


...ests/functional/content/test_content_versioning.py
100% <100%> (ø)
⬆️


... and 60 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6280e64...86dcbcf. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1364,2018-02-15T16:31:19Z,2018-04-17T08:11:31Z,2018-04-25T10:10:33Z,MERGED,True,1269,201,16,https://github.com/jfsmig,election: Avoid holding the main lock for too long,23,"['priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1364,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1364,"The resolution of the peers is now deferred in tasks managed by a GThreadPool, out of any critical section. The decaching upon error is also postponed to the next resolution on that election.","The resolution of the peers is now deferred in tasks managed by a GThreadPool, out of any critical section. The decaching upon error is also postponed to the next resolution on that election.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1364,2018-02-15T16:31:19Z,2018-04-17T08:11:31Z,2018-04-25T10:10:33Z,MERGED,True,1269,201,16,https://github.com/jfsmig,election: Avoid holding the main lock for too long,23,"['priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1364,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1364#issuecomment-366109075,"The resolution of the peers is now deferred in tasks managed by a GThreadPool, out of any critical section. The decaching upon error is also postponed to the next resolution on that election.","Codecov Report

Merging #1364 into 4.1.x will increase coverage by 0.28%.
The diff coverage is 94.52%.


@@            Coverage Diff            @@
##           4.1.x    #1364      +/-   ##
=========================================
+ Coverage   76.7%   76.99%   +0.28%     
=========================================
  Files        301      301              
  Lines      56287    56938     +651     
  Branches    6805     6831      +26     
=========================================
+ Hits       43176    43837     +661     
+ Misses     12953    12948       -5     
+ Partials     158      153       -5



Impacted Files
Coverage Δ





core/oiostr.h
100% <ø> (ø)
⬆️


core/ext.c
96.61% <ø> (ø)
⬆️


sqlx/sqlx_service.c
84.3% <ø> (-0.54%)
⬇️


core/str.c
88.09% <100%> (+0.17%)
⬆️


tests/unit/test_sqliterepo_election.c
96.82% <100%> (+1.56%)
⬆️


sqliterepo/replication_dispatcher.c
51.81% <50%> (-0.36%)
⬇️


sqliterepo/repository.c
74.05% <50%> (-1.86%)
⬇️


sqliterepo/synchro.c
65.19% <66.66%> (-0.21%)
⬇️


sqliterepo/election.c
88.73% <94.22%> (+1.53%)
⬆️


oio/account/client.py
78.88% <0%> (-5.56%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 780f9dc...db2cf7c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1365,2018-02-15T18:10:58Z,2018-02-19T09:44:46Z,2018-02-19T09:48:25Z,MERGED,True,78,73,3,https://github.com/jfsmig,Review the conf.json with values at the best practices from the field,16,"['priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1365,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1365,"Longer timeouts, larger caches, etc. Let oio-sds be more tolerant!","Longer timeouts, larger caches, etc. Let oio-sds be more tolerant!",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1365,2018-02-15T18:10:58Z,2018-02-19T09:44:46Z,2018-02-19T09:48:25Z,MERGED,True,78,73,3,https://github.com/jfsmig,Review the conf.json with values at the best practices from the field,16,"['priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1365,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1365#issuecomment-366114108,"Longer timeouts, larger caches, etc. Let oio-sds be more tolerant!","Codecov Report

Merging #1365 into 4.1.x will increase coverage by 0.52%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1365      +/-   ##
==========================================
+ Coverage   75.86%   76.38%   +0.52%     
==========================================
  Files         295      297       +2     
  Lines       54957    55187     +230     
  Branches     6726     6726              
==========================================
+ Hits        41691    42155     +464     
+ Misses      12900    12675     -225     
+ Partials      366      357       -9



Impacted Files
Coverage Δ





gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


proxy/metacd_http.c
89.1% <0%> (-1.32%)
⬇️


sqlx/sqlx_service.c
83.19% <0%> (-0.98%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


cluster/conscience/conscience_srvtype.c
81.18% <0%> (-0.54%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.5%)
⬇️


proxy/cs_actions.c
90.16% <0%> (-0.41%)
⬇️


proxy/common.c
84.04% <0%> (-0.28%)
⬇️


metautils/lib/comm_message.c
84.73% <0%> (-0.27%)
⬇️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3086d9b...5324ec2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1366,2018-02-16T09:52:33Z,2018-02-19T09:45:27Z,2018-02-19T09:48:23Z,MERGED,True,11,11,1,https://github.com/jfsmig,oio-bootstrap: Avoid restarting failed services during the tests,1,['priority:4 :suspect:'],https://github.com/open-io/oio-sds/pull/1366,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1366,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1366,2018-02-16T09:52:33Z,2018-02-19T09:45:27Z,2018-02-19T09:48:23Z,MERGED,True,11,11,1,https://github.com/jfsmig,oio-bootstrap: Avoid restarting failed services during the tests,1,['priority:4 :suspect:'],https://github.com/open-io/oio-sds/pull/1366,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1366#issuecomment-366198103,,"Codecov Report

Merging #1366 into 4.1.x will increase coverage by 0.82%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1366      +/-   ##
==========================================
+ Coverage   75.86%   76.68%   +0.82%     
==========================================
  Files         295      297       +2     
  Lines       54957    55187     +230     
  Branches     6726     6720       -6     
==========================================
+ Hits        41691    42319     +628     
+ Misses      12900    12664     -236     
+ Partials      366      204     -162



Impacted Files
Coverage Δ





rdir/rdir.c
69.44% <0%> (-4.11%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta1v2/meta1_backend_properties.c
85.61% <0%> (-2.16%)
⬇️


meta2v2/meta2_filters_action_container.c
53.38% <0%> (-1.78%)
⬇️


proxy/metacd_http.c
88.78% <0%> (-1.64%)
⬇️


meta2v2/meta2_filters_action_content.c
92.62% <0%> (-1.18%)
⬇️


meta2v2/meta2_filters_extract.c
88.42% <0%> (-1.06%)
⬇️


meta1v2/meta1_backend_references.c
89% <0%> (-1%)
⬇️


proxy/cs_actions.c
90.16% <0%> (-0.41%)
⬇️


events/oio_events_queue_beanstalkd.c
80% <0%> (-0.41%)
⬇️


... and 49 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3086d9b...16981ae. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1367,2018-02-19T10:01:34Z,2018-02-19T16:52:58Z,2018-04-25T13:24:22Z,MERGED,True,2,0,1,https://github.com/murlock,sqliterepo: fix small memory leak,1,[],https://github.com/open-io/oio-sds/pull/1367,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1367,"During election, if connection on peer fails, error message is not freed.","During election, if connection on peer fails, error message is not freed.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1367,2018-02-19T10:01:34Z,2018-02-19T16:52:58Z,2018-04-25T13:24:22Z,MERGED,True,2,0,1,https://github.com/murlock,sqliterepo: fix small memory leak,1,[],https://github.com/open-io/oio-sds/pull/1367,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1367#issuecomment-366650522,"During election, if connection on peer fails, error message is not freed.","Codecov Report

Merging #1367 into 4.1.x will decrease coverage by 0.29%.
The diff coverage is 0%.


@@            Coverage Diff            @@
##            4.1.x    #1367     +/-   ##
=========================================
- Coverage   76.67%   76.37%   -0.3%     
=========================================
  Files         297      297             
  Lines       55187    55189      +2     
  Branches     6720     6726      +6     
=========================================
- Hits        42317    42153    -164     
+ Misses      12717    12673     -44     
- Partials      153      363    +210



Impacted Files
Coverage Δ





sqliterepo/synchro.c
56.89% <0%> (-8.9%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


sqliterepo/gridd_client_pool.c
72.55% <0%> (-8.38%)
⬇️


sqliterepo/replication.c
79.36% <0%> (-6.02%)
⬇️


sqliterepo/replication_dispatcher.c
47.12% <0%> (-4.15%)
⬇️


sqliterepo/repository.c
72.13% <0%> (-4.07%)
⬇️


sqliterepo/version.c
80% <0%> (-3.71%)
⬇️


sqliterepo/election.c
83.12% <0%> (-3.54%)
⬇️


sqliterepo/sqlite_utils.c
86.84% <0%> (-2.64%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c77e6b9...8407ffa. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1368,2018-02-21T10:08:43Z,2018-03-06T16:26:18Z,2018-03-06T16:26:21Z,MERGED,True,23,9,1,https://github.com/fvennetier,Python API: display request ID in more warning messages,1,"['Logging :scroll:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1368,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1368,Relates to #1346,Relates to #1346,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1368,2018-02-21T10:08:43Z,2018-03-06T16:26:18Z,2018-03-06T16:26:21Z,MERGED,True,23,9,1,https://github.com/fvennetier,Python API: display request ID in more warning messages,1,"['Logging :scroll:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1368,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1368#issuecomment-367337466,Relates to #1346,"Codecov Report

Merging #1368 into 4.1.x will increase coverage by 0.43%.
The diff coverage is 75%.


@@            Coverage Diff            @@
##            4.1.x   #1368      +/-   ##
=========================================
+ Coverage   76.27%   76.7%   +0.43%     
=========================================
  Files         297     297              
  Lines       55189   55193       +4     
  Branches     6726    6720       -6     
=========================================
+ Hits        42093   42334     +241     
+ Misses      12714   12687      -27     
+ Partials      382     172     -210



Impacted Files
Coverage Δ





oio/api/io.py
81.41% <75%> (+0.24%)
⬆️


proxy/reply.c
74.41% <0%> (-6.98%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-2.2%)
⬇️


core/proxy.c
81.5% <0%> (-2.16%)
⬇️


meta1v2/meta1_remote.c
72.65% <0%> (-1.57%)
⬇️


proxy/cs_actions.c
90.16% <0%> (-1.23%)
⬇️


metautils/lib/utils_m1url.c
94.44% <0%> (-1.12%)
⬇️


core/cs.c
80.8% <0%> (-0.9%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 22bbfc7...76474bf. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1372,2018-02-26T10:41:57Z,2018-03-07T09:09:51Z,2018-03-07T09:09:56Z,MERGED,True,38,21,3,https://github.com/fvennetier,"Fix sqliterepo empty property listing, document CLI operations on references",2,[],https://github.com/open-io/oio-sds/pull/1372,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1372,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1372,2018-02-26T10:41:57Z,2018-03-07T09:09:51Z,2018-03-07T09:09:56Z,MERGED,True,38,21,3,https://github.com/fvennetier,"Fix sqliterepo empty property listing, document CLI operations on references",2,[],https://github.com/open-io/oio-sds/pull/1372,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1372#issuecomment-368543131,,"Codecov Report

Merging #1372 into 4.1.x will decrease coverage by 0.11%.
The diff coverage is 83.33%.


@@            Coverage Diff             @@
##            4.1.x    #1372      +/-   ##
==========================================
- Coverage   76.86%   76.74%   -0.12%     
==========================================
  Files         298      298              
  Lines       55330    55330              
  Branches     6745     6745              
==========================================
- Hits        42527    42462      -65     
- Misses      12668    12716      +48     
- Partials      135      152      +17



Impacted Files
Coverage Δ





oio/directory/client.py
86.76% <ø> (ø)
⬆️


sqliterepo/sqlite_utils.c
89.47% <83.33%> (ø)
⬆️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


proxy/reply.c
74.41% <0%> (-6.98%)
⬇️


core/proxy.c
81.32% <0%> (-2.52%)
⬇️


sqliterepo/gridd_client_pool.c
79.53% <0%> (-2.33%)
⬇️


proxy/cache_actions.c
60% <0%> (-2.29%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-1.23%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


server/network_server.c
82.23% <0%> (-0.91%)
⬇️


... and 16 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e169ca8...e8437ad. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1373,2018-02-26T17:17:46Z,2018-03-05T21:38:07Z,2018-03-05T21:38:10Z,MERGED,True,25,18,2,https://github.com/fvennetier,Fix logic error in 'openio directory bootstrap',1,"['bug :scream:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1373,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1373,"fix logic error in openio directory bootstrap command
improve documentation
split usage of openio directory bootstrap from oio-reset.sh","fix logic error in openio directory bootstrap command
improve documentation
split usage of openio directory bootstrap from oio-reset.sh",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1373,2018-02-26T17:17:46Z,2018-03-05T21:38:07Z,2018-03-05T21:38:10Z,MERGED,True,25,18,2,https://github.com/fvennetier,Fix logic error in 'openio directory bootstrap',1,"['bug :scream:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1373,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1373#issuecomment-368584039,"fix logic error in openio directory bootstrap command
improve documentation
split usage of openio directory bootstrap from oio-reset.sh","Codecov Report

Merging #1373 into 4.1.x will decrease coverage by 0.52%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1373      +/-   ##
==========================================
- Coverage   76.86%   76.33%   -0.53%     
==========================================
  Files         298      298              
  Lines       55330    55330              
  Branches     6745     6745              
==========================================
- Hits        42527    42238     -289     
- Misses      12668    12710      +42     
- Partials      135      382     +247



Impacted Files
Coverage Δ





sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


sqliterepo/gridd_client_pool.c
73.02% <0%> (-8.84%)
⬇️


sqliterepo/synchro.c
56.89% <0%> (-8.51%)
⬇️


proxy/reply.c
74.41% <0%> (-6.98%)
⬇️


sqliterepo/replication.c
79.36% <0%> (-6.02%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta1v2/meta1_server.c
68.13% <0%> (-4.4%)
⬇️


sqliterepo/replication_dispatcher.c
47.12% <0%> (-4.15%)
⬇️


sqliterepo/election.c
82.87% <0%> (-3.97%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e169ca8...0fdcacd. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1374,2018-02-28T16:55:26Z,2018-04-25T13:24:29Z,2018-06-13T13:48:20Z,CLOSED,False,987,131,68,https://github.com/murlock,4.x service id meta2,33,[],https://github.com/open-io/oio-sds/pull/1374,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1374,This PR include also #1350 and adds only two commits to expose Service Id for meta2.,This PR include also #1350 and adds only two commits to expose Service Id for meta2.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1375,2018-03-02T14:58:53Z,2018-03-05T16:02:46Z,2018-03-05T16:02:49Z,MERGED,True,118,30,14,https://github.com/fvennetier,Improve WORM mode,6,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1375,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1375,WORM mode used to prevent DELETE operations. Now it also prevents PUT operations that could overwrite existing objects.,WORM mode used to prevent DELETE operations. Now it also prevents PUT operations that could overwrite existing objects.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1375,2018-03-02T14:58:53Z,2018-03-05T16:02:46Z,2018-03-05T16:02:49Z,MERGED,True,118,30,14,https://github.com/fvennetier,Improve WORM mode,6,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1375,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1375#issuecomment-369994930,WORM mode used to prevent DELETE operations. Now it also prevents PUT operations that could overwrite existing objects.,"Codecov Report

Merging #1375 into 4.1.x will increase coverage by <.01%.
The diff coverage is 88.88%.


@@            Coverage Diff             @@
##            4.1.x    #1375      +/-   ##
==========================================
+ Coverage   76.34%   76.34%   +<.01%     
==========================================
  Files         298      298              
  Lines       55330    55359      +29     
  Branches     6751     6747       -4     
==========================================
+ Hits        42240    42266      +26     
- Misses      12712    12715       +3     
  Partials      378      378



Impacted Files
Coverage Δ





oio/content/factory.py
98.36% <ø> (ø)
⬆️


proxy/metacd_http.c
90.22% <0%> (ø)
⬆️


meta2v2/meta2_filters_extract.c
87.62% <100%> (+0.26%)
⬆️


meta2v2/meta2_filters_check.c
65.57% <100%> (-0.56%)
⬇️


oio/common/exceptions.py
98.31% <100%> (+0.08%)
⬆️


oio/api/base.py
81.57% <100%> (ø)
⬆️


tests/functional/m2_filters/test_filters.py
94.82% <100%> (+0.59%)
⬆️


meta2v2/meta2_gridd_dispatcher.c
70.83% <100%> (+2.65%)
⬆️


meta2v2/meta2_utils.c
73.34% <50%> (-0.04%)
⬇️


meta2v2/meta2_backend.c
77.4% <75%> (+0.69%)
⬆️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a253d58...22ee674. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1376,2018-03-02T15:59:33Z,2018-03-02T16:28:31Z,2018-04-27T13:49:14Z,MERGED,True,1,1,1,https://github.com/vincent-legoll,"Fix 32 bits build, for example armhf",1,[],https://github.com/open-io/oio-sds/pull/1376,https://github.com/vincent-legoll,1,https://github.com/open-io/oio-sds/pull/1376,"[ 50%] Building C object sqliterepo/CMakeFiles/sqliterepo.dir/election.c.o
cd /build/openio-sds-4.1.13/obj-arm-linux-gnueabihf/sqliterepo && /usr/bin/arm-linux-gnueabihf-gcc  -DG_LOG_DOMAIN=""oio.sqlite"" -DHAVE_ACCEPT4 -DHAVE_SOCKET3 -DHAVE_SOCKLEN_T -DOIOSDS_PROJECT_VERSION=""master/4.1"" -DTHREADED -D_FILE_OFFSET_BITS=64 -D_GNU_SOURCE -D_LARGEFILE64_SOURCE -D_LARGEFILE_SOURCE -D_LARGE_FILES -D_REENTRANT -Dsqliterepo_EXPORTS -I/build/openio-sds-4.1.13/obj-arm-linux-gnueabihf/sqliterepo -I/build/openio-sds-4.1.13/obj-arm-linux-gnueabihf/metautils/lib -I/build/openio-sds-4.1.13/obj-arm-linux-gnueabihf/metautils/asn1c -I/build/openio-sds-4.1.13/obj-arm-linux-gnueabihf -I/build/openio-sds-4.1.13 -I/build/openio-sds-4.1.13/sqliterepo -I/usr/include/glib-2.0 -I/usr/lib/arm-linux-gnueabihf/glib-2.0/include -I/usr/include/zookeeper  -g -fPIC -pipe -Wall -Wextra -std=gnu99 -Wno-missing-field-initializers -Wunused -Wno-variadic-macros -Wsequence-point -Wredundant-decls -Wshadow -Wcomment -Wmain -Wparentheses -Wfloat-equal -Wunsafe-loop-optimizations -Wunused-but-set-parameter -Wunused-but-set-variable -Wmissing-prototypes -Werror -O2 -fPIC   -o CMakeFiles/sqliterepo.dir/election.c.o   -c /build/openio-sds-4.1.13/sqliterepo/election.c
/build/openio-sds-4.1.13/sqliterepo/election.c: In function 'member_log_event':
/build/openio-sds-4.1.13/sqliterepo/election.c:975:69: error: left shift count >= width of type [-Werror=shift-count-overflow]
plog->time = (oio_ext_real_time() / G_TIME_SPAN_MILLISECOND) % (1L << 48);
^
/build/openio-sds-4.1.13/sqliterepo/election.c:975:63: error: division by zero [-Werror=div-by-zero]
plog->time = (oio_ext_real_time() / G_TIME_SPAN_MILLISECOND) % (1L << 48);
Fixes: b175047","[ 50%] Building C object sqliterepo/CMakeFiles/sqliterepo.dir/election.c.o
cd /build/openio-sds-4.1.13/obj-arm-linux-gnueabihf/sqliterepo && /usr/bin/arm-linux-gnueabihf-gcc  -DG_LOG_DOMAIN=""oio.sqlite"" -DHAVE_ACCEPT4 -DHAVE_SOCKET3 -DHAVE_SOCKLEN_T -DOIOSDS_PROJECT_VERSION=""master/4.1"" -DTHREADED -D_FILE_OFFSET_BITS=64 -D_GNU_SOURCE -D_LARGEFILE64_SOURCE -D_LARGEFILE_SOURCE -D_LARGE_FILES -D_REENTRANT -Dsqliterepo_EXPORTS -I/build/openio-sds-4.1.13/obj-arm-linux-gnueabihf/sqliterepo -I/build/openio-sds-4.1.13/obj-arm-linux-gnueabihf/metautils/lib -I/build/openio-sds-4.1.13/obj-arm-linux-gnueabihf/metautils/asn1c -I/build/openio-sds-4.1.13/obj-arm-linux-gnueabihf -I/build/openio-sds-4.1.13 -I/build/openio-sds-4.1.13/sqliterepo -I/usr/include/glib-2.0 -I/usr/lib/arm-linux-gnueabihf/glib-2.0/include -I/usr/include/zookeeper  -g -fPIC -pipe -Wall -Wextra -std=gnu99 -Wno-missing-field-initializers -Wunused -Wno-variadic-macros -Wsequence-point -Wredundant-decls -Wshadow -Wcomment -Wmain -Wparentheses -Wfloat-equal -Wunsafe-loop-optimizations -Wunused-but-set-parameter -Wunused-but-set-variable -Wmissing-prototypes -Werror -O2 -fPIC   -o CMakeFiles/sqliterepo.dir/election.c.o   -c /build/openio-sds-4.1.13/sqliterepo/election.c
/build/openio-sds-4.1.13/sqliterepo/election.c: In function 'member_log_event':
/build/openio-sds-4.1.13/sqliterepo/election.c:975:69: error: left shift count >= width of type [-Werror=shift-count-overflow]
plog->time = (oio_ext_real_time() / G_TIME_SPAN_MILLISECOND) % (1L << 48);
^
/build/openio-sds-4.1.13/sqliterepo/election.c:975:63: error: division by zero [-Werror=div-by-zero]
plog->time = (oio_ext_real_time() / G_TIME_SPAN_MILLISECOND) % (1L << 48);
Fixes: b175047",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1377,2018-03-05T10:59:49Z,2018-03-06T15:47:57Z,2018-03-06T15:48:00Z,MERGED,True,16,4,3,https://github.com/fvennetier,"Tolerate base name as cid, fix and document 'volume admin show'",2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1377,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1377,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1377,2018-03-05T10:59:49Z,2018-03-06T15:47:57Z,2018-03-06T15:48:00Z,MERGED,True,16,4,3,https://github.com/fvennetier,"Tolerate base name as cid, fix and document 'volume admin show'",2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1377,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1377#issuecomment-370388542,,"Codecov Report

Merging #1377 into 4.1.x will increase coverage by 0.41%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##            4.1.x    #1377      +/-   ##
==========================================
+ Coverage   76.34%   76.75%   +0.41%     
==========================================
  Files         298      298              
  Lines       55330    55333       +3     
  Branches     6751     6746       -5     
==========================================
+ Hits        42240    42473     +233     
+ Misses      12712    12675      -37     
+ Partials      378      185     -193



Impacted Files
Coverage Δ





rdir/rdir.c
71.15% <0%> (-2.4%)
⬇️


proxy/metacd_http.c
89.95% <60%> (-0.28%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


proxy/reply.c
74.41% <0%> (-6.98%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


meta2v2/meta2_filters_action_container.c
55.16% <0%> (-1.43%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-1.23%)
⬇️


... and 34 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a253d58...558746d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1378,2018-03-06T15:38:25Z,2018-03-06T16:23:59Z,2018-03-06T16:24:02Z,MERGED,True,11,7,2,https://github.com/fvennetier,Fix WORM mode when versioning is enabled,1,[],https://github.com/open-io/oio-sds/pull/1378,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1378,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1378,2018-03-06T15:38:25Z,2018-03-06T16:23:59Z,2018-03-06T16:24:02Z,MERGED,True,11,7,2,https://github.com/fvennetier,Fix WORM mode when versioning is enabled,1,[],https://github.com/open-io/oio-sds/pull/1378,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1378#issuecomment-370838719,,"Codecov Report

Merging #1378 into 4.1.x will decrease coverage by 0.54%.
The diff coverage is 87.5%.


@@            Coverage Diff             @@
##            4.1.x    #1378      +/-   ##
==========================================
- Coverage   76.81%   76.27%   -0.55%     
==========================================
  Files         298      298              
  Lines       55362    55762     +400     
  Branches     6748     6896     +148     
==========================================
+ Hits        42528    42532       +4     
- Misses      12669    12770     +101     
- Partials      165      460     +295



Impacted Files
Coverage Δ





meta2v2/meta2_backend.c
77.47% <100%> (-0.04%)
⬇️


meta2v2/meta2_utils.c
73.19% <50%> (ø)
⬆️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


sqliterepo/synchro.c
56.89% <0%> (-8.51%)
⬇️


sqliterepo/gridd_client_pool.c
72.55% <0%> (-8.38%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


sqliterepo/replication.c
79.36% <0%> (-6.02%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


sqliterepo/repository.c
72.37% <0%> (-3.95%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 20c26fe...2724048. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1379,2018-03-07T16:11:49Z,2018-05-02T08:50:16Z,2018-05-02T09:46:44Z,MERGED,True,763,150,18,https://github.com/AymericDu,Implement meta2-mover,4,[],https://github.com/open-io/oio-sds/pull/1379,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1379,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1379,2018-03-07T16:11:49Z,2018-05-02T08:50:16Z,2018-05-02T09:46:44Z,MERGED,True,763,150,18,https://github.com/AymericDu,Implement meta2-mover,4,[],https://github.com/open-io/oio-sds/pull/1379,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1379#issuecomment-371195920,,"Codecov Report

Merging #1379 into 4.x will increase coverage by 0.09%.
The diff coverage is 92.42%.


@@            Coverage Diff             @@
##              4.x    #1379      +/-   ##
==========================================
+ Coverage   79.08%   79.16%   +0.09%     
==========================================
  Files         312      317       +5     
  Lines       58900    59299     +399     
  Branches     6604     6617      +13     
==========================================
+ Hits        46576    46939     +363     
+ Misses      12310    12234      -76     
- Partials       14      126     +112



Impacted Files
Coverage Δ





proxy/common.h
100% <ø> (ø)
⬆️


tests/functional/directory/test_refmapping.py
100% <100%> (ø)



proxy/sqlx_actions.c
74.4% <100%> (+9.38%)
⬆️


tests/functional/directory/test_admin.py
100% <100%> (ø)



proxy/dir_actions.c
73.59% <100%> (-3.55%)
⬇️


tests/unit/test_prefixmapping.py
100% <100%> (ø)
⬆️


oio/directory/admin.py
68.92% <100%> (+39.35%)
⬆️


oio/directory/client.py
88.58% <100%> (+1.81%)
⬆️


proxy/m2_actions.c
83.4% <100%> (-4.04%)
⬇️


oio/directory/meta.py
82.86% <82.86%> (ø)



... and 45 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ef87f32...242075d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1380,2018-03-12T22:58:42Z,2018-03-13T08:20:05Z,2018-03-14T10:32:10Z,MERGED,True,1,1,1,https://github.com/jfsmig,python: Force the location to be instances of 'str',1,"['bug :scream:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1380,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1380,"... instead of the type inferred from a JSON message.
Without this, a pure integer service location would raise an exception.","... instead of the type inferred from a JSON message.
Without this, a pure integer service location would raise an exception.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1381,2018-03-12T23:14:39Z,2018-03-13T08:41:51Z,2018-03-14T10:32:11Z,MERGED,True,12,5,2,https://github.com/jfsmig,The the startup of meta1 services,4,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1381,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1381,"Avoid failing miserably on the assertion mentioned in the subsequent backtrace. But it doesn't explain why the meta1 starts serving requests before having a full set of prefixes from a meta0 service.
Thread 1 (Thread 0x7fec9ab9a700 (LWP 15285)):
#0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51
#1  0x00007feca48eaf5d in __GI_abort () at abort.c:90
#2  0x00007feca53a681d in g_assertion_message () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#3  0x00007feca53a68aa in g_assertion_message_expr () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#4  0x00007feca446ca23 in meta0_utils_array_get_urlv (byprefix=0x0, b=0x7fec9ab99636 <incomplete sequence \355>) at /home/jfs/public_git/github.com/jfsmig/oio-sds/meta0v2/meta0_utils.c:133
#5  0x00007feca5862124 in meta1_prefixes_get_peers (m1ps=0x55d1abe15420, bytes=0x7fec9ab99636 <incomplete sequence \355>) at /home/jfs/public_git/github.com/jfsmig/oio-sds/meta1v2/meta1_prefixes.c:318
#6  0x000055d1a9dd8002 in _get_peers (ss=0x7feca5854700 <SRV>, n=0x7fec9ab99860, nocache=0, result=0x7fec9ab99678) at /home/jfs/public_git/github.com/jfsmig/oio-sds/meta1v2/meta1_server.c:145
#7  0x00007feca564edf3 in _get_peers_wrapper (ss=0x7feca5854700 <SRV>, name=0x7fec9ab99860, nocache=0, result=0x7fec9ab996c8) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqlx/sqlx_service.c:550
#8  0x00007feca4684fd6 in _election_get_peers (manager=0x55d1abe44f50, n=0x7fec9ab99860, nocache=0, result=0x7fec9ab99758) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:678
#9  0x00007feca468490b in election_get_peers (m=0x55d1abe44f50, n=0x7fec9ab99860, nocache=0, peers=0x7fec9ab99758) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:612
#10 0x00007feca46847b8 in election_has_peers (m=0x55d1abe44f50, n=0x7fec9ab99860, nocache=0, result=0x7fec9ab997a4) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:589
#11 0x00007feca468ab9c in _election_make (m=0x55d1abe44f50, n=0x7fec9ab99860, op=ELOP_START) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:1724
#12 0x00007feca468ae3f in _election_start (manager=0x55d1abe44f50, n=0x7fec9ab99860) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:1777
---Type <return> to continue, or q <return> to quit---
#13 0x00007feca469f142 in sqlx_repository_use_base (repo=0x55d1abe453d0, n=0x7fec9ab99860) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/repository.c:1187
#14 0x00007feca4696feb in _handler_USE (reply=0x7fec9ab99a20, repo=0x55d1abe453d0, ignored=0x0) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/replication_dispatcher.c:1580
#15 0x00007feca512ddef in _client_call_handler () at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/transport_gridd.c:664
#16 0x00007feca512e949 in _client_manage_l4v (client=0x7fec74001310, gba=0x7fec6c002210) at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/transport_gridd.c:752
#17 0x00007feca512d445 in transport_gridd_notify_input (clt=0x7fec74001310) at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/transport_gridd.c:469
#18 0x00007feca51296cb in _manage_udp_task (clt=0x7fec74001310, srv=0x55d1abe351a0) at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/network_server.c:701
#19 0x00007feca53a8010 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#20 0x00007feca53a7645 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#21 0x00007feca30b17fc in start_thread (arg=0x7fec9ab9a700) at pthread_create.c:465
#22 0x00007feca49c6b5f in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:95","Avoid failing miserably on the assertion mentioned in the subsequent backtrace. But it doesn't explain why the meta1 starts serving requests before having a full set of prefixes from a meta0 service.
Thread 1 (Thread 0x7fec9ab9a700 (LWP 15285)):
#0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51
#1  0x00007feca48eaf5d in __GI_abort () at abort.c:90
#2  0x00007feca53a681d in g_assertion_message () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#3  0x00007feca53a68aa in g_assertion_message_expr () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#4  0x00007feca446ca23 in meta0_utils_array_get_urlv (byprefix=0x0, b=0x7fec9ab99636 <incomplete sequence \355>) at /home/jfs/public_git/github.com/jfsmig/oio-sds/meta0v2/meta0_utils.c:133
#5  0x00007feca5862124 in meta1_prefixes_get_peers (m1ps=0x55d1abe15420, bytes=0x7fec9ab99636 <incomplete sequence \355>) at /home/jfs/public_git/github.com/jfsmig/oio-sds/meta1v2/meta1_prefixes.c:318
#6  0x000055d1a9dd8002 in _get_peers (ss=0x7feca5854700 <SRV>, n=0x7fec9ab99860, nocache=0, result=0x7fec9ab99678) at /home/jfs/public_git/github.com/jfsmig/oio-sds/meta1v2/meta1_server.c:145
#7  0x00007feca564edf3 in _get_peers_wrapper (ss=0x7feca5854700 <SRV>, name=0x7fec9ab99860, nocache=0, result=0x7fec9ab996c8) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqlx/sqlx_service.c:550
#8  0x00007feca4684fd6 in _election_get_peers (manager=0x55d1abe44f50, n=0x7fec9ab99860, nocache=0, result=0x7fec9ab99758) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:678
#9  0x00007feca468490b in election_get_peers (m=0x55d1abe44f50, n=0x7fec9ab99860, nocache=0, peers=0x7fec9ab99758) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:612
#10 0x00007feca46847b8 in election_has_peers (m=0x55d1abe44f50, n=0x7fec9ab99860, nocache=0, result=0x7fec9ab997a4) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:589
#11 0x00007feca468ab9c in _election_make (m=0x55d1abe44f50, n=0x7fec9ab99860, op=ELOP_START) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:1724
#12 0x00007feca468ae3f in _election_start (manager=0x55d1abe44f50, n=0x7fec9ab99860) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:1777
---Type <return> to continue, or q <return> to quit---
#13 0x00007feca469f142 in sqlx_repository_use_base (repo=0x55d1abe453d0, n=0x7fec9ab99860) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/repository.c:1187
#14 0x00007feca4696feb in _handler_USE (reply=0x7fec9ab99a20, repo=0x55d1abe453d0, ignored=0x0) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/replication_dispatcher.c:1580
#15 0x00007feca512ddef in _client_call_handler () at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/transport_gridd.c:664
#16 0x00007feca512e949 in _client_manage_l4v (client=0x7fec74001310, gba=0x7fec6c002210) at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/transport_gridd.c:752
#17 0x00007feca512d445 in transport_gridd_notify_input (clt=0x7fec74001310) at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/transport_gridd.c:469
#18 0x00007feca51296cb in _manage_udp_task (clt=0x7fec74001310, srv=0x55d1abe351a0) at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/network_server.c:701
#19 0x00007feca53a8010 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#20 0x00007feca53a7645 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#21 0x00007feca30b17fc in start_thread (arg=0x7fec9ab9a700) at pthread_create.c:465
#22 0x00007feca49c6b5f in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:95",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1381,2018-03-12T23:14:39Z,2018-03-13T08:41:51Z,2018-03-14T10:32:11Z,MERGED,True,12,5,2,https://github.com/jfsmig,The the startup of meta1 services,4,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1381,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1381#issuecomment-372586317,"Avoid failing miserably on the assertion mentioned in the subsequent backtrace. But it doesn't explain why the meta1 starts serving requests before having a full set of prefixes from a meta0 service.
Thread 1 (Thread 0x7fec9ab9a700 (LWP 15285)):
#0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51
#1  0x00007feca48eaf5d in __GI_abort () at abort.c:90
#2  0x00007feca53a681d in g_assertion_message () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#3  0x00007feca53a68aa in g_assertion_message_expr () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#4  0x00007feca446ca23 in meta0_utils_array_get_urlv (byprefix=0x0, b=0x7fec9ab99636 <incomplete sequence \355>) at /home/jfs/public_git/github.com/jfsmig/oio-sds/meta0v2/meta0_utils.c:133
#5  0x00007feca5862124 in meta1_prefixes_get_peers (m1ps=0x55d1abe15420, bytes=0x7fec9ab99636 <incomplete sequence \355>) at /home/jfs/public_git/github.com/jfsmig/oio-sds/meta1v2/meta1_prefixes.c:318
#6  0x000055d1a9dd8002 in _get_peers (ss=0x7feca5854700 <SRV>, n=0x7fec9ab99860, nocache=0, result=0x7fec9ab99678) at /home/jfs/public_git/github.com/jfsmig/oio-sds/meta1v2/meta1_server.c:145
#7  0x00007feca564edf3 in _get_peers_wrapper (ss=0x7feca5854700 <SRV>, name=0x7fec9ab99860, nocache=0, result=0x7fec9ab996c8) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqlx/sqlx_service.c:550
#8  0x00007feca4684fd6 in _election_get_peers (manager=0x55d1abe44f50, n=0x7fec9ab99860, nocache=0, result=0x7fec9ab99758) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:678
#9  0x00007feca468490b in election_get_peers (m=0x55d1abe44f50, n=0x7fec9ab99860, nocache=0, peers=0x7fec9ab99758) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:612
#10 0x00007feca46847b8 in election_has_peers (m=0x55d1abe44f50, n=0x7fec9ab99860, nocache=0, result=0x7fec9ab997a4) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:589
#11 0x00007feca468ab9c in _election_make (m=0x55d1abe44f50, n=0x7fec9ab99860, op=ELOP_START) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:1724
#12 0x00007feca468ae3f in _election_start (manager=0x55d1abe44f50, n=0x7fec9ab99860) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/election.c:1777
---Type <return> to continue, or q <return> to quit---
#13 0x00007feca469f142 in sqlx_repository_use_base (repo=0x55d1abe453d0, n=0x7fec9ab99860) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/repository.c:1187
#14 0x00007feca4696feb in _handler_USE (reply=0x7fec9ab99a20, repo=0x55d1abe453d0, ignored=0x0) at /home/jfs/public_git/github.com/jfsmig/oio-sds/sqliterepo/replication_dispatcher.c:1580
#15 0x00007feca512ddef in _client_call_handler () at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/transport_gridd.c:664
#16 0x00007feca512e949 in _client_manage_l4v (client=0x7fec74001310, gba=0x7fec6c002210) at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/transport_gridd.c:752
#17 0x00007feca512d445 in transport_gridd_notify_input (clt=0x7fec74001310) at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/transport_gridd.c:469
#18 0x00007feca51296cb in _manage_udp_task (clt=0x7fec74001310, srv=0x55d1abe351a0) at /home/jfs/public_git/github.com/jfsmig/oio-sds/server/network_server.c:701
#19 0x00007feca53a8010 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#20 0x00007feca53a7645 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#21 0x00007feca30b17fc in start_thread (arg=0x7fec9ab9a700) at pthread_create.c:465
#22 0x00007feca49c6b5f in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:95","Codecov Report

Merging #1381 into 4.1.x will increase coverage by 3.08%.
The diff coverage is 55.55%.


@@            Coverage Diff             @@
##            4.1.x    #1381      +/-   ##
==========================================
+ Coverage   73.23%   76.32%   +3.08%     
==========================================
  Files         298      298              
  Lines       55372    55376       +4     
  Branches     6749     6752       +3     
==========================================
+ Hits        40553    42267    +1714     
+ Misses      14707    12699    -2008     
- Partials      112      410     +298



Impacted Files
Coverage Δ





meta1v2/meta1_prefixes.c
81.65% <0%> (+5.6%)
⬆️


meta0v2/meta0_backend.c
78.68% <71.42%> (+0.17%)
⬆️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


rdir/rdir.c
71.26% <0%> (-2.63%)
⬇️


meta2v2/meta2_filters_action_content.c
90.56% <0%> (-2.36%)
⬇️


meta2v2/meta2_filters_extract.c
87.62% <0%> (-2.07%)
⬇️


proxy/metacd_http.c
88.83% <0%> (-0.96%)
⬇️


rawx-apache2/src/rawx_repository.c
48.52% <0%> (-0.74%)
⬇️


... and 51 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 737a8de...d092718. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1382,2018-03-13T16:31:46Z,2018-03-14T10:25:19Z,2018-03-14T10:32:13Z,MERGED,True,54,38,7,https://github.com/jfsmig,Increase the timeouts involved in 'openio volume bootstrap',8,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1382,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1382,We now accept to lose 30s while connecting and 90s to the overall result.,We now accept to lose 30s while connecting and 90s to the overall result.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1382,2018-03-13T16:31:46Z,2018-03-14T10:25:19Z,2018-03-14T10:32:13Z,MERGED,True,54,38,7,https://github.com/jfsmig,Increase the timeouts involved in 'openio volume bootstrap',8,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1382,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1382#issuecomment-372969987,We now accept to lose 30s while connecting and 90s to the overall result.,"Codecov Report

Merging #1382 into 4.1.x will decrease coverage by 0.36%.
The diff coverage is 62.5%.


@@            Coverage Diff             @@
##            4.1.x    #1382      +/-   ##
==========================================
- Coverage   77.23%   76.86%   -0.37%     
==========================================
  Files         298      298              
  Lines       55376    55382       +6     
  Branches     6752     6752              
==========================================
- Hits        42771    42571     -200     
- Misses      12591    12657      +66     
- Partials       14      154     +140



Impacted Files
Coverage Δ





oio/common/http.py
79.56% <100%> (ø)
⬆️


oio/conscience/client.py
65.27% <100%> (ø)
⬆️


oio/api/io.py
81.41% <100%> (-0.33%)
⬇️


tests/functional/rdir/test_server.py
95.87% <11.11%> (-0.9%)
⬇️


oio/rdir/client.py
66.85% <73.33%> (-3.43%)
⬇️


meta0v2/meta0_server.c
55.69% <0%> (-17.73%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/zk_manager.c
61.24% <0%> (-12.41%)
⬇️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


tests/functional/rdir/test_indexer.py
90.69% <0%> (-8.14%)
⬇️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 93a1def...10cf658. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1383,2018-03-13T16:32:12Z,2018-03-15T16:00:55Z,2018-03-20T09:58:05Z,MERGED,True,4,1,1,https://github.com/AymericDu,Continue to assign all rawx if rdir is already linked,1,[],https://github.com/open-io/oio-sds/pull/1383,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1383,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1383,2018-03-13T16:32:12Z,2018-03-15T16:00:55Z,2018-03-20T09:58:05Z,MERGED,True,4,1,1,https://github.com/AymericDu,Continue to assign all rawx if rdir is already linked,1,[],https://github.com/open-io/oio-sds/pull/1383,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1383#issuecomment-372740857,,"Codecov Report

Merging #1383 into 4.1.x will increase coverage by 2.88%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1383      +/-   ##
==========================================
+ Coverage   73.45%   76.34%   +2.88%     
==========================================
  Files         298      298              
  Lines       55401    55401              
  Branches     6759     6753       -6     
==========================================
+ Hits        40695    42296    +1601     
+ Misses      14704    12723    -1981     
- Partials        2      382     +380



Impacted Files
Coverage Δ





oio/rdir/client.py
65.26% <100%> (ø)
⬆️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


proxy/sqlx_actions.c
56.64% <0%> (-6.94%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


proxy/m2_actions.c
82.52% <0%> (-4.23%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


proxy/dir_actions.c
73.33% <0%> (-3.5%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta2v2/meta2_filters_action_content.c
90.56% <0%> (-2.36%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


... and 49 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update dd83aec...981749a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1384,2018-03-15T00:08:31Z,2018-03-15T09:24:06Z,2018-03-26T08:29:48Z,MERGED,True,42,4,2,https://github.com/jfsmig,CLI: Retry upon bootstrap error,2,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1384,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1384,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1384,2018-03-15T00:08:31Z,2018-03-15T09:24:06Z,2018-03-26T08:29:48Z,MERGED,True,42,4,2,https://github.com/jfsmig,CLI: Retry upon bootstrap error,2,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1384,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1384#issuecomment-373300325,,"Codecov Report

Merging #1384 into 4.1.x will decrease coverage by 0.56%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##            4.1.x    #1384      +/-   ##
==========================================
- Coverage   76.79%   76.23%   -0.57%     
==========================================
  Files         298      298              
  Lines       55382    55397      +15     
  Branches     6752     6752              
==========================================
- Hits        42533    42231     -302     
- Misses      12678    12741      +63     
- Partials      171      425     +254



Impacted Files
Coverage Δ





oio/rdir/client.py
65.26% <50%> (-1.6%)
⬇️


sqliterepo/gridd_client_pool.c
70.69% <0%> (-12.56%)
⬇️


sqliterepo/synchro.c
56.89% <0%> (-8.51%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


sqliterepo/replication.c
80.22% <0%> (-5.16%)
⬇️


rdir/rdir.c
69.89% <0%> (-4.34%)
⬇️


sqliterepo/election.c
82.69% <0%> (-3.84%)
⬇️


sqliterepo/version.c
80% <0%> (-3.71%)
⬇️


meta2v2/meta2_filters_action_content.c
90.56% <0%> (-3.54%)
⬇️


sqliterepo/replication_dispatcher.c
47.44% <0%> (-3.27%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f756242...92033de. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1385,2018-03-15T11:37:23Z,2018-03-15T16:00:19Z,2018-03-19T13:16:42Z,MERGED,True,79,28,3,https://github.com/jfsmig,meta1: Avoid losing the cache of managed prefixes,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1385,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1385,Add checks around the refreshes of a meta0 cache in the meta1 services.,Add checks around the refreshes of a meta0 cache in the meta1 services.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1385,2018-03-15T11:37:23Z,2018-03-15T16:00:19Z,2018-03-19T13:16:42Z,MERGED,True,79,28,3,https://github.com/jfsmig,meta1: Avoid losing the cache of managed prefixes,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1385,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1385#issuecomment-373371149,Add checks around the refreshes of a meta0 cache in the meta1 services.,"Codecov Report

Merging #1385 into 4.1.x will increase coverage by 3.59%.
The diff coverage is 90.19%.


@@            Coverage Diff             @@
##            4.1.x    #1385      +/-   ##
==========================================
+ Coverage   73.45%   77.04%   +3.59%     
==========================================
  Files         298      298              
  Lines       55401    55428      +27     
  Branches     6759     6763       +4     
==========================================
+ Hits        40695    42705    +2010     
+ Misses      14704    12666    -2038     
- Partials        2       57      +55



Impacted Files
Coverage Δ





meta0v2/meta0_utils.c
86.5% <ø> (-0.11%)
⬇️


meta1v2/meta1_server.c
75% <100%> (+16.05%)
⬆️


meta1v2/meta1_prefixes.c
80.1% <90%> (+4.95%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


core/proxy.c
81.5% <0%> (-2.16%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-0.82%)
⬇️


rawx-apache2/src/rawx_repository.c
48.52% <0%> (-0.74%)
⬇️


... and 49 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update dd83aec...c6eae4d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1386,2018-03-15T11:57:21Z,2018-03-15T13:37:25Z,2018-03-19T13:16:41Z,MERGED,True,9,2,1,https://github.com/jfsmig,meta1: Avoid contacting M0 upon a reload of the cache,1,[],https://github.com/open-io/oio-sds/pull/1386,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1386,"Instead, defer this to the next iteration of the task, we force it to execute within the current second, in a BG thread.","Instead, defer this to the next iteration of the task, we force it to execute within the current second, in a BG thread.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1386,2018-03-15T11:57:21Z,2018-03-15T13:37:25Z,2018-03-19T13:16:41Z,MERGED,True,9,2,1,https://github.com/jfsmig,meta1: Avoid contacting M0 upon a reload of the cache,1,[],https://github.com/open-io/oio-sds/pull/1386,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1386#issuecomment-373355942,"Instead, defer this to the next iteration of the task, we force it to execute within the current second, in a BG thread.","Codecov Report

Merging #1386 into 4.1.x will increase coverage by 3.45%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1386      +/-   ##
==========================================
+ Coverage   73.02%   76.48%   +3.45%     
==========================================
  Files         298      298              
  Lines       55397    55401       +4     
  Branches     6752     6753       +1     
==========================================
+ Hits        40453    42372    +1919     
+ Misses      14844    12672    -2172     
- Partials      100      357     +257



Impacted Files
Coverage Δ





meta1v2/meta1_server.c
69.47% <100%> (+9.03%)
⬆️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


core/cs.c
80.8% <0%> (-0.9%)
⬇️


core/lb.c
93.3% <0%> (-0.43%)
⬇️


proxy/m2_actions.c
82.52% <0%> (+0.07%)
⬆️


rdir/rdir.c
74.45% <0%> (+0.11%)
⬆️


proxy/metacd_http.c
90.27% <0%> (+0.15%)
⬆️


core/str.c
88.16% <0%> (+0.24%)
⬆️


metautils/lib/utils_sockets.c
49.01% <0%> (+0.39%)
⬆️


events/oio_events_queue_beanstalkd.c
80.8% <0%> (+0.39%)
⬆️


... and 46 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8c47ef9...739de68. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1387,2018-03-15T15:00:00Z,2018-03-15T15:44:01Z,2018-04-10T16:03:05Z,MERGED,True,149,2,2,https://github.com/kamel-rahim,Add rawx fast copy,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1387,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1387,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1387,2018-03-15T15:00:00Z,2018-03-15T15:44:01Z,2018-04-10T16:03:05Z,MERGED,True,149,2,2,https://github.com/kamel-rahim,Add rawx fast copy,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1387,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1387#issuecomment-373416273,,"Codecov Report

Merging #1387 into 4.1.x will increase coverage by 3.76%.
The diff coverage is 86.51%.


@@            Coverage Diff             @@
##            4.1.x    #1387      +/-   ##
==========================================
+ Coverage   73.45%   77.21%   +3.76%     
==========================================
  Files         298      298              
  Lines       55401    55490      +89     
  Branches     6759     6766       +7     
==========================================
+ Hits        40695    42848    +2153     
+ Misses      14704    12624    -2080     
- Partials        2       18      +16



Impacted Files
Coverage Δ





tests/functional/blob/test_blob.py
98.68% <100%> (+0.39%)
⬆️


rawx-apache2/src/rawx_repository.c
52.92% <66.66%> (+3.66%)
⬆️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-0.82%)
⬇️


rdir/rdir.c
74.34% <0%> (-0.12%)
⬇️


proxy/m2_actions.c
86.83% <0%> (+0.07%)
⬆️


server/transport_gridd.c
78.6% <0%> (+0.2%)
⬆️


sqliterepo/cache.c
89.51% <0%> (+0.25%)
⬆️


metautils/lib/comm_converter.c
74.41% <0%> (+0.26%)
⬆️


... and 52 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update dd83aec...f3ea583. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1388,2018-03-15T17:39:13Z,2018-03-16T13:56:27Z,2018-04-10T16:03:32Z,MERGED,True,117,1,4,https://github.com/kamel-rahim,Add fastcopy on Python API,1,[],https://github.com/open-io/oio-sds/pull/1388,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1388,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1388,2018-03-15T17:39:13Z,2018-03-16T13:56:27Z,2018-04-10T16:03:32Z,MERGED,True,117,1,4,https://github.com/kamel-rahim,Add fastcopy on Python API,1,[],https://github.com/open-io/oio-sds/pull/1388,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1388#issuecomment-373719542,,"Codecov Report

Merging #1388 into 4.1.x will increase coverage by 0.91%.
The diff coverage is 88.6%.


@@            Coverage Diff            @@
##            4.1.x   #1388      +/-   ##
=========================================
+ Coverage   76.09%     77%   +0.91%     
=========================================
  Files         297     298       +1     
  Lines       55348   55595     +247     
  Branches     6770    6770              
=========================================
+ Hits        42116   42813     +697     
+ Misses      12876   12638     -238     
+ Partials      356     144     -212



Impacted Files
Coverage Δ





oio/blob/client.py
89.79% <100%> (+0.43%)
⬆️


meta2v2/meta2_utils.c
73.13% <100%> (-0.07%)
⬇️


tests/functional/api/test_objectstorage.py
96.61% <100%> (+0.7%)
⬆️


oio/api/object_storage.py
78.41% <75%> (+1.93%)
⬆️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-3.21%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


meta2v2/meta2_filters_action_content.c
90.56% <0%> (-2.95%)
⬇️


oio/account/client.py
82.22% <0%> (-2.23%)
⬇️


meta2v2/meta2_filters_extract.c
87.62% <0%> (-2.07%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-0.77%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 52888c1...6abe013. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1390,2018-03-20T01:03:42Z,2018-05-02T12:56:35Z,2018-05-07T09:43:48Z,MERGED,True,644,178,9,https://github.com/jfsmig,"Introduce oio-check-directory.py, factorize Zookeeper code into oio/zk/admin.py",2,"['priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1390,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1390,"Duplicated code moved moved from tools/zk-{reset,bootstrap}.py to oio/zk/admin.py
tools/oio-directory-check.py initial release","Duplicated code moved moved from tools/zk-{reset,bootstrap}.py to oio/zk/admin.py
tools/oio-directory-check.py initial release",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1390,2018-03-20T01:03:42Z,2018-05-02T12:56:35Z,2018-05-07T09:43:48Z,MERGED,True,644,178,9,https://github.com/jfsmig,"Introduce oio-check-directory.py, factorize Zookeeper code into oio/zk/admin.py",2,"['priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1390,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1390#issuecomment-379897103,"Duplicated code moved moved from tools/zk-{reset,bootstrap}.py to oio/zk/admin.py
tools/oio-directory-check.py initial release","Codecov Report

Merging #1390 into 4.x will increase coverage by 2.27%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1390      +/-   ##
==========================================
+ Coverage   75.66%   77.93%   +2.27%     
==========================================
  Files         317      304      -13     
  Lines       59299    57082    -2217     
  Branches     6617     6571      -46     
==========================================
- Hits        44865    44480     -385     
+ Misses      14434    12438    -1996     
- Partials        0      164     +164



Impacted Files
Coverage Δ





oio/container/md5py.py
10.84% <0%> (-84.23%)
⬇️


oio/container/backup.py
13.04% <0%> (-64.41%)
⬇️


oio/directory/admin.py
29.58% <0%> (-27.17%)
⬇️


oio/common/configuration.py
37.5% <0%> (-13.88%)
⬇️


metautils/lib/common_main.c
40.11% <0%> (-8.4%)
⬇️


proxy/cache_actions.c
68.23% <0%> (-7.8%)
⬇️


oio/account/client.py
84.62% <0%> (-6.59%)
⬇️


oio/rdir/client.py
63.64% <0%> (-6.14%)
⬇️


oio/common/utils.py
66.16% <0%> (-5.12%)
⬇️


oio/conscience/client.py
65.28% <0%> (-4.85%)
⬇️


... and 114 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 00580b7...e2bfbe7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1391,2018-03-20T10:56:33Z,2018-03-22T10:04:04Z,2018-03-29T07:50:01Z,MERGED,True,165,0,4,https://github.com/AymericDu,"Python API, CLI: Purge container",1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1391,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1391,Purge exceeding object versions,Purge exceeding object versions,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1391,2018-03-20T10:56:33Z,2018-03-22T10:04:04Z,2018-03-29T07:50:01Z,MERGED,True,165,0,4,https://github.com/AymericDu,"Python API, CLI: Purge container",1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1391,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1391#issuecomment-374560939,Purge exceeding object versions,"Codecov Report

Merging #1391 into 4.1.x will increase coverage by 3.43%.
The diff coverage is 87.65%.


@@            Coverage Diff             @@
##            4.1.x    #1391      +/-   ##
==========================================
+ Coverage   73.18%   76.62%   +3.43%     
==========================================
  Files         266      299      +33     
  Lines       51936    55732    +3796     
  Branches     6554     6776     +222     
==========================================
+ Hits        38010    42703    +4693     
+ Misses      13327    12673     -654     
+ Partials      599      356     -243



Impacted Files
Coverage Δ





...ests/functional/content/test_content_versioning.py
100% <100%> (ø)



oio/api/object_storage.py
78.15% <77.27%> (-0.08%)
⬇️


proxy/metacd_http.c
88.67% <0%> (-1.6%)
⬇️


metautils/lib/comm_message.c
84.73% <0%> (-0.79%)
⬇️


proxy/cs_actions.c
90.16% <0%> (-0.41%)
⬇️


metautils/lib/gridd_client_ext.c
80% <0%> (-0.39%)
⬇️


server/network_server.c
80.85% <0%> (-0.26%)
⬇️


server/transport_gridd.c
77.97% <0%> (-0.2%)
⬇️


server/slab.h
100% <0%> (ø)
⬆️


tests/unit/test_meta2_backend.c
100% <0%> (ø)



... and 87 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 521cf01...f61d20a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1392,2018-03-20T11:02:34Z,2018-03-20T13:26:43Z,2018-03-21T12:02:02Z,MERGED,True,4,4,2,https://github.com/jfsmig,conf: Turn down the default periodic decache behavior.,2,"['enhancement :sparkles:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1392,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1392,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1392,2018-03-20T11:02:34Z,2018-03-20T13:26:43Z,2018-03-21T12:02:02Z,MERGED,True,4,4,2,https://github.com/jfsmig,conf: Turn down the default periodic decache behavior.,2,"['enhancement :sparkles:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1392,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1392#issuecomment-374589923,,"Codecov Report

Merging #1392 into 4.1.x will decrease coverage by 0.07%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1392      +/-   ##
==========================================
- Coverage   76.61%   76.54%   -0.08%     
==========================================
  Files         298      298              
  Lines       55595    55595              
  Branches     6770     6770              
==========================================
- Hits        42595    42553      -42     
- Misses      12651    12680      +29     
- Partials      349      362      +13



Impacted Files
Coverage Δ





gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-1.23%)
⬇️


server/network_server.c
81.97% <0%> (-1.17%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


sqlx/sqlx_service.c
82.63% <0%> (-0.98%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


meta2v2/meta2_filters_action_container.c
56.22% <0%> (-0.72%)
⬇️


... and 18 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a5cc468...448a640. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1393,2018-03-20T12:34:58Z,2018-03-20T13:26:29Z,2018-03-21T12:02:01Z,MERGED,True,13,4,1,https://github.com/jfsmig,Fix the asssignation of RDIR services,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1393,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1393,"More error cases managed
More informational logs for ignored errors","More error cases managed
More informational logs for ignored errors",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1393,2018-03-20T12:34:58Z,2018-03-20T13:26:29Z,2018-03-21T12:02:01Z,MERGED,True,13,4,1,https://github.com/jfsmig,Fix the asssignation of RDIR services,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1393,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1393#issuecomment-374586219,"More error cases managed
More informational logs for ignored errors","Codecov Report

Merging #1393 into 4.1.x will increase coverage by 0.23%.
The diff coverage is 28.57%.


@@            Coverage Diff             @@
##            4.1.x    #1393      +/-   ##
==========================================
+ Coverage   76.61%   76.85%   +0.23%     
==========================================
  Files         298      298              
  Lines       55595    55601       +6     
  Branches     6770     6770              
==========================================
+ Hits        42595    42733     +138     
- Misses      12651    12668      +17     
+ Partials      349      200     -149



Impacted Files
Coverage Δ





oio/rdir/client.py
63.26% <28.57%> (-2%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


rdir/rdir.c
71.49% <0%> (-2.51%)
⬇️


meta2v2/meta2_filters_action_container.c
54.44% <0%> (-2.5%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a5cc468...b49f39e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1394,2018-03-20T14:01:16Z,2018-03-21T08:10:13Z,2018-03-21T08:10:16Z,MERGED,True,22,19,3,https://github.com/fvennetier,Fix and document the automatic connection limits,1,"['priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1394,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1394,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1394,2018-03-20T14:01:16Z,2018-03-21T08:10:13Z,2018-03-21T08:10:16Z,MERGED,True,22,19,3,https://github.com/fvennetier,Fix and document the automatic connection limits,1,"['priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1394,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1394#issuecomment-374775790,,"Codecov Report

Merging #1394 into 4.1.x will decrease coverage by 0.3%.
The diff coverage is 60%.


@@            Coverage Diff             @@
##            4.1.x    #1394      +/-   ##
==========================================
- Coverage   76.72%   76.41%   -0.31%     
==========================================
  Files         298      298              
  Lines       55601    55602       +1     
  Branches     6770     6770              
==========================================
- Hits        42658    42487     -171     
- Misses      12689    12732      +43     
- Partials      254      383     +129



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
82.8% <60%> (-0.12%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


proxy/sqlx_actions.c
56.64% <0%> (-6.94%)
⬇️


meta2v2/meta2_filters_action_container.c
52.31% <0%> (-4.99%)
⬇️


proxy/m2_actions.c
82.92% <0%> (-4.47%)
⬇️


proxy/dir_actions.c
73.33% <0%> (-3.5%)
⬇️


meta2v2/meta2_filters_action_content.c
90.85% <0%> (-3.25%)
⬇️


sqliterepo/gridd_client_pool.c
68.37% <0%> (-2.33%)
⬇️


meta2v2/meta2_filters_extract.c
87.62% <0%> (-2.07%)
⬇️


... and 36 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 442494d...754e83e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1395,2018-03-20T21:58:32Z,2018-03-21T11:37:04Z,2018-03-21T12:02:03Z,MERGED,True,153,62,9,https://github.com/jfsmig,meta*: Deny requests upon I/O errors,4,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1395,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1395,"oio-conscience-agent: Consider errors from /stat requests a enough to mark the service down
server/transpport_gridd.c: Keep track of IO errors/success timestamps, if the last activity is an error or if the timestamp of the last success is not recent (stalled), consider the volume is faulty.
server/transpport_gridd.c: Deny alll but specific local requests with a code 503 that won't fail the general call, and allow the caller to retry on peers.
sqlx/sqlx_service.c: Implement a probe in a background thread that periodically checks for directory and file creations.

known limitation: the support of the REQ_PING is really limited in the conscience-agent, the return code is not even checked. We could save the REQ_STAT request if we immediately consider the service is down. then we could even allow the REQ_STAT to return complete information.","oio-conscience-agent: Consider errors from /stat requests a enough to mark the service down
server/transpport_gridd.c: Keep track of IO errors/success timestamps, if the last activity is an error or if the timestamp of the last success is not recent (stalled), consider the volume is faulty.
server/transpport_gridd.c: Deny alll but specific local requests with a code 503 that won't fail the general call, and allow the caller to retry on peers.
sqlx/sqlx_service.c: Implement a probe in a background thread that periodically checks for directory and file creations.

known limitation: the support of the REQ_PING is really limited in the conscience-agent, the return code is not even checked. We could save the REQ_STAT request if we immediately consider the service is down. then we could even allow the REQ_STAT to return complete information.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1395,2018-03-20T21:58:32Z,2018-03-21T11:37:04Z,2018-03-21T12:02:03Z,MERGED,True,153,62,9,https://github.com/jfsmig,meta*: Deny requests upon I/O errors,4,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1395,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1395#issuecomment-374776280,"oio-conscience-agent: Consider errors from /stat requests a enough to mark the service down
server/transpport_gridd.c: Keep track of IO errors/success timestamps, if the last activity is an error or if the timestamp of the last success is not recent (stalled), consider the volume is faulty.
server/transpport_gridd.c: Deny alll but specific local requests with a code 503 that won't fail the general call, and allow the caller to retry on peers.
sqlx/sqlx_service.c: Implement a probe in a background thread that periodically checks for directory and file creations.

known limitation: the support of the REQ_PING is really limited in the conscience-agent, the return code is not even checked. We could save the REQ_STAT request if we immediately consider the service is down. then we could even allow the REQ_STAT to return complete information.","Codecov Report

Merging #1395 into 4.1.x will decrease coverage by 0.15%.
The diff coverage is 76%.


@@            Coverage Diff             @@
##            4.1.x    #1395      +/-   ##
==========================================
- Coverage   76.72%   76.57%   -0.16%     
==========================================
  Files         298      298              
  Lines       55601    55651      +50     
  Branches     6770     6776       +6     
==========================================
- Hits        42658    42612      -46     
+ Misses      12689    12685       -4     
- Partials      254      354     +100



Impacted Files
Coverage Δ





sqliterepo/repository.c
72.5% <ø> (-0.25%)
⬇️


server/transport_gridd.h
100% <ø> (ø)
⬆️


server/network_server.c
81.24% <100%> (+0.04%)
⬆️


server/transport_gridd.c
78.17% <75%> (-0.02%)
⬇️


sqlx/sqlx_service.c
82.4% <75%> (-0.52%)
⬇️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


proxy/sqlx_actions.c
56.64% <0%> (-6.94%)
⬇️


proxy/m2_actions.c
82.92% <0%> (-4.47%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


proxy/dir_actions.c
73.33% <0%> (-3.5%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 442494d...1f43ce7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1396,2018-03-21T13:59:46Z,2018-03-21T17:51:14Z,2018-03-22T08:19:53Z,MERGED,True,115,70,2,https://github.com/AymericDu,Parallelize the rebuilding of the chunks,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1396,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1396,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1396,2018-03-21T13:59:46Z,2018-03-21T17:51:14Z,2018-03-22T08:19:53Z,MERGED,True,115,70,2,https://github.com/AymericDu,Parallelize the rebuilding of the chunks,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1396,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1396#issuecomment-374955840,,"Codecov Report

Merging #1396 into 4.1.x will increase coverage by 3.7%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##            4.1.x    #1396     +/-   ##
=========================================
+ Coverage   73.18%   76.89%   +3.7%     
=========================================
  Files         266      298     +32     
  Lines       51936    55651   +3715     
  Branches     6554     6776    +222     
=========================================
+ Hits        38010    42791   +4781     
+ Misses      13327    12622    -705     
+ Partials      599      238    -361



Impacted Files
Coverage Δ





metautils/lib/comm_message.c
85.26% <0%> (-0.27%)
⬇️


server/slab.h
100% <0%> (ø)
⬆️


tests/unit/test_sqliterepo_cache.c
100% <0%> (ø)



tests/unit/test_url.c
97.08% <0%> (ø)



tests/unit/test_gridd_client.c
100% <0%> (ø)



tests/unit/test_events_queue.c
100% <0%> (ø)



tests/unit/test_sqliterepo_repo.c
100% <0%> (ø)



tests/unit/test_variable_period.c
100% <0%> (ø)



tests/unit/test_core_sysstat.c
100% <0%> (ø)



cache/cache_noop.c
86.66% <0%> (ø)



... and 100 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 521cf01...6112416. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1397,2018-03-21T18:26:02Z,2018-03-22T09:26:21Z,2018-03-22T09:26:25Z,MERGED,True,8,12,1,https://github.com/fvennetier,Python API: improve pyeclib errors,1,"['enhancement :sparkles:', 'Logging :scroll:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1397,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1397,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1397,2018-03-21T18:26:02Z,2018-03-22T09:26:21Z,2018-03-22T09:26:25Z,MERGED,True,8,12,1,https://github.com/fvennetier,Python API: improve pyeclib errors,1,"['enhancement :sparkles:', 'Logging :scroll:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1397,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1397#issuecomment-375054231,,"Codecov Report

Merging #1397 into 4.1.x will increase coverage by 3.73%.
The diff coverage is 50%.


@@            Coverage Diff            @@
##           4.1.x    #1397      +/-   ##
=========================================
+ Coverage     73%   76.74%   +3.73%     
=========================================
  Files        297      298       +1     
  Lines      55482    55654     +172     
  Branches    6776     6776              
=========================================
+ Hits       40506    42710    +2204     
+ Misses     14875    12694    -2181     
- Partials     101      250     +149



Impacted Files
Coverage Δ





oio/common/storage_method.py
77.77% <50%> (-1.9%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-1.23%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


core/cs.c
80.8% <0%> (-0.45%)
⬇️


metautils/lib/comm_converter.c
74.15% <0%> (-0.27%)
⬇️


core/http_put.c
92.62% <0%> (-0.26%)
⬇️


oio/ecd/app.py
66.27% <0%> (ø)



rdir/rdir.c
74.34% <0%> (+0.34%)
⬆️


... and 56 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1a9b471...47b776d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1398,2018-03-21T23:20:03Z,2018-03-22T10:05:32Z,2018-03-24T13:57:21Z,MERGED,True,22,12,5,https://github.com/jfsmig,tests/functional: Skip 3 test cases on public CI,1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1398,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1398,Buggy or too long ...,Buggy or too long ...,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1398,2018-03-21T23:20:03Z,2018-03-22T10:05:32Z,2018-03-24T13:57:21Z,MERGED,True,22,12,5,https://github.com/jfsmig,tests/functional: Skip 3 test cases on public CI,1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1398,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1398#issuecomment-375241748,Buggy or too long ...,"Codecov Report

Merging #1398 into 4.1.x will increase coverage by 3.84%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##           4.1.x    #1398      +/-   ##
=========================================
+ Coverage     73%   76.84%   +3.84%     
=========================================
  Files        297      298       +1     
  Lines      55482    55704     +222     
  Branches    6776     6776              
=========================================
+ Hits       40506    42808    +2302     
+ Misses     14875    12722    -2153     
- Partials     101      174      +73



Impacted Files
Coverage Δ





...ests/functional/container/test_container_backup.py
79.64% <100%> (-17.26%)
⬇️


tests/utils.py
88.55% <100%> (+0.73%)
⬆️


tests/functional/cli/admin/test_cluster.py
55.84% <100%> (ø)
⬆️


rawx-apache2/src/rawx_repo_core.c
69.33% <0%> (-2.36%)
⬇️


core/proxy.c
81.5% <0%> (-2.16%)
⬇️


meta2v2/meta2_filters_action_content.c
90.56% <0%> (-2.07%)
⬇️


meta2v2/meta2_filters_extract.c
87.62% <0%> (-2.07%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-1.23%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


... and 64 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1a9b471...730e5d1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1399,2018-03-22T15:33:30Z,2018-03-23T22:17:07Z,2018-03-24T13:57:19Z,MERGED,True,36,23,2,https://github.com/jfsmig,oio-proxy: Fix the parsing of CID (full or prefixes),4,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1399,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1399,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1399,2018-03-22T15:33:30Z,2018-03-23T22:17:07Z,2018-03-24T13:57:19Z,MERGED,True,36,23,2,https://github.com/jfsmig,oio-proxy: Fix the parsing of CID (full or prefixes),4,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1399,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1399#issuecomment-375356148,,"Codecov Report

Merging #1399 into 4.1.x will decrease coverage by 0.18%.
The diff coverage is 82.14%.


@@            Coverage Diff            @@
##           4.1.x    #1399      +/-   ##
=========================================
- Coverage     77%   76.81%   -0.19%     
=========================================
  Files        299      299              
  Lines      55743    55755      +12     
  Branches    6776     6779       +3     
=========================================
- Hits       42923    42830      -93     
- Misses     12700    12746      +46     
- Partials     120      179      +59



Impacted Files
Coverage Δ





sqliterepo/sqlx_remote.c
68.11% <100%> (+0.95%)
⬆️


proxy/metacd_http.c
89.6% <77.27%> (-0.99%)
⬇️


meta0v2/meta0_server.c
55.69% <0%> (-17.73%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/zk_manager.c
61.24% <0%> (-12.41%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta1v2/meta1_server.c
75% <0%> (-4.17%)
⬇️


meta2v2/meta2_filters_action_content.c
90.56% <0%> (-3.54%)
⬇️


meta2v2/meta2_filters_action_container.c
55.16% <0%> (-2.85%)
⬇️


meta2v2/meta2_filters_extract.c
87.62% <0%> (-2.07%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 45449b8...3ddf746. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1401,2018-03-23T11:32:24Z,2018-03-24T14:42:47Z,2018-03-24T14:42:47Z,MERGED,True,5,5,1,https://github.com/vdombrovski,CLI: Process score argument when no service type specified for 'cluster wait',2,[],https://github.com/open-io/oio-sds/pull/1401,https://github.com/vdombrovski,1,https://github.com/open-io/oio-sds/pull/1401,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1401,2018-03-23T11:32:24Z,2018-03-24T14:42:47Z,2018-03-24T14:42:47Z,MERGED,True,5,5,1,https://github.com/vdombrovski,CLI: Process score argument when no service type specified for 'cluster wait',2,[],https://github.com/open-io/oio-sds/pull/1401,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1401#issuecomment-375634572,,"Codecov Report

Merging #1401 into 4.1.x will decrease coverage by 0.13%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##           4.1.x    #1401      +/-   ##
=========================================
- Coverage     77%   76.86%   -0.14%     
=========================================
  Files        299      299              
  Lines      55743    55818      +75     
  Branches    6776     6779       +3     
=========================================
- Hits       42923    42906      -17     
- Misses     12700    12748      +48     
- Partials     120      164      +44



Impacted Files
Coverage Δ





meta0v2/meta0_server.c
55.69% <0%> (-17.73%)
⬇️


meta0v2/zk_manager.c
61.24% <0%> (-12.41%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta1v2/meta1_server.c
75% <0%> (-4.17%)
⬇️


meta2v2/meta2_filters_action_container.c
54.8% <0%> (-3.21%)
⬇️


meta1v2/meta1_prefixes.c
80.1% <0%> (-3.07%)
⬇️


meta2v2/meta2_filters_action_content.c
92.03% <0%> (-2.07%)
⬇️


sqliterepo/gridd_client_pool.c
80.93% <0%> (-1.4%)
⬇️


meta2v2/meta2_filters_extract.c
88.65% <0%> (-1.04%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 45449b8...aeaac4f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1402,2018-03-23T17:57:54Z,2018-03-27T08:25:23Z,2018-03-29T07:48:55Z,MERGED,True,864,324,21,https://github.com/AymericDu,Rebuild the meta1 and meta2 bases,3,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1402,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1402,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1402,2018-03-23T17:57:54Z,2018-03-27T08:25:23Z,2018-03-29T07:48:55Z,MERGED,True,864,324,21,https://github.com/AymericDu,Rebuild the meta1 and meta2 bases,3,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1402,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1402#issuecomment-375760191,,"Codecov Report

Merging #1402 into 4.1.x will decrease coverage by 0.51%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##           4.1.x    #1402      +/-   ##
=========================================
- Coverage     77%   76.48%   -0.52%     
=========================================
  Files        299      299              
  Lines      55818    55818              
  Branches    6785     6779       -6     
=========================================
- Hits       42982    42692     -290     
- Misses     12674    12768      +94     
- Partials     162      358     +196



Impacted Files
Coverage Δ





bin/oio-crawler-integrity
100% <ø> (ø)
⬆️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


sqliterepo/gridd_client_pool.c
73.02% <0%> (-10.24%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/synchro.c
56.89% <0%> (-8.51%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


sqliterepo/replication.c
80.22% <0%> (-5.74%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


sqliterepo/repository.c
72.25% <0%> (-3.95%)
⬇️


sqliterepo/replication_dispatcher.c
47.68% <0%> (-3.75%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1ffab07...65c34ee. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1403,2018-03-23T18:52:12Z,2018-03-24T13:54:17Z,2018-03-24T13:54:17Z,MERGED,True,100,6,3,https://github.com/fvennetier,Python API: change exceptions originating from rawx,1,[],https://github.com/open-io/oio-sds/pull/1403,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1403,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1403,2018-03-23T18:52:12Z,2018-03-24T13:54:17Z,2018-03-24T13:54:17Z,MERGED,True,100,6,3,https://github.com/fvennetier,Python API: change exceptions originating from rawx,1,[],https://github.com/open-io/oio-sds/pull/1403,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1403#issuecomment-375769959,,"Codecov Report

Merging #1403 into 4.1.x will increase coverage by 0.1%.
The diff coverage is 100%.


@@           Coverage Diff           @@
##           4.1.x   #1403     +/-   ##
=======================================
+ Coverage     77%   77.1%   +0.1%     
=======================================
  Files        299     299             
  Lines      55743   55804     +61     
  Branches    6776    6776             
=======================================
+ Hits       42923   43028    +105     
- Misses     12700   12726     +26     
+ Partials     120      50     -70



Impacted Files
Coverage Δ





oio/common/utils.py
64.05% <ø> (ø)
⬆️


tests/unit/api/test_io.py
100% <100%> (ø)
⬆️


oio/api/io.py
81.87% <100%> (+0.14%)
⬆️


meta0v2/meta0_server.c
55.69% <0%> (-17.73%)
⬇️


meta0v2/zk_manager.c
61.24% <0%> (-12.41%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


meta1v2/meta1_server.c
75% <0%> (-4.17%)
⬇️


meta1v2/meta1_prefixes.c
80.1% <0%> (-3.07%)
⬇️


meta2v2/meta2_filters_action_container.c
56.22% <0%> (-1.78%)
⬇️


cluster/conscience/conscience_srv.c
78.84% <0%> (-0.97%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 45449b8...7b6ca54. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1404,2018-03-23T20:18:07Z,2018-03-24T13:48:57Z,2018-03-24T13:57:23Z,MERGED,True,4,2,2,https://github.com/jfsmig,meta*: Fix the max number of bases,2,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1404,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1404,Re-apply the configuration to the existing structures.,Re-apply the configuration to the existing structures.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1404,2018-03-23T20:18:07Z,2018-03-24T13:48:57Z,2018-03-24T13:57:23Z,MERGED,True,4,2,2,https://github.com/jfsmig,meta*: Fix the max number of bases,2,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1404,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1404#issuecomment-375817452,Re-apply the configuration to the existing structures.,"Codecov Report

Merging #1404 into 4.1.x will decrease coverage by <.01%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##           4.1.x    #1404      +/-   ##
=========================================
- Coverage     77%   76.99%   -0.01%     
=========================================
  Files        299      299              
  Lines      55743    55991     +248     
  Branches    6776     6868      +92     
=========================================
+ Hits       42923    43111     +188     
- Misses     12700    12777      +77     
+ Partials     120      103      -17



Impacted Files
Coverage Δ





sqliterepo/cache.c
90.02% <100%> (ø)
⬆️


sqlx/sqlx_service.c
84.57% <100%> (+0.84%)
⬆️


meta0v2/meta0_server.c
55.69% <0%> (-17.73%)
⬇️


meta0v2/zk_manager.c
61.24% <0%> (-12.41%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


rdir/rdir.c
69.89% <0%> (-4.45%)
⬇️


meta1v2/meta1_server.c
75% <0%> (-4.17%)
⬇️


proxy/metacd_http.c
86.96% <0%> (-3.63%)
⬇️


meta1v2/meta1_prefixes.c
80.1% <0%> (-3.07%)
⬇️


meta2v2/meta2_filters_action_container.c
55.16% <0%> (-2.85%)
⬇️


... and 34 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 45449b8...c025ece. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1405,2018-03-25T20:44:32Z,2018-03-27T08:25:03Z,2018-03-27T08:41:32Z,MERGED,True,115,3,3,https://github.com/jfsmig,openio: Implement 'directory warmup',4,[],https://github.com/open-io/oio-sds/pull/1405,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1405,Ask the Meta1 services to prepare the elections about all the prefixes DB.,Ask the Meta1 services to prepare the elections about all the prefixes DB.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1405,2018-03-25T20:44:32Z,2018-03-27T08:25:03Z,2018-03-27T08:41:32Z,MERGED,True,115,3,3,https://github.com/jfsmig,openio: Implement 'directory warmup',4,[],https://github.com/open-io/oio-sds/pull/1405,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1405#issuecomment-376229258,Ask the Meta1 services to prepare the elections about all the prefixes DB.,"Codecov Report

Merging #1405 into 4.1.x will decrease coverage by 0.49%.
The diff coverage is 21.42%.


@@           Coverage Diff           @@
##           4.1.x   #1405     +/-   ##
=======================================
- Coverage     77%   76.5%   -0.5%     
=======================================
  Files        299     299             
  Lines      55818   55832     +14     
  Branches    6785    6779      -6     
=======================================
- Hits       42982   42717    -265     
- Misses     12674   12765     +91     
- Partials     162     350    +188



Impacted Files
Coverage Δ





oio/directory/meta0.py
69.85% <21.42%> (-2.63%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


sqliterepo/gridd_client_pool.c
70.69% <0%> (-12.56%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/synchro.c
56.89% <0%> (-8.51%)
⬇️


sqliterepo/replication.c
80.22% <0%> (-5.74%)
⬇️


sqliterepo/replication_dispatcher.c
47.36% <0%> (-4.07%)
⬇️


sqliterepo/election.c
83.18% <0%> (-3.78%)
⬇️


sqliterepo/version.c
80% <0%> (-3.71%)
⬇️


sqliterepo/repository.c
72.74% <0%> (-3.46%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1ffab07...7a3e97d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1406,2018-03-26T15:57:38Z,2018-03-27T08:25:42Z,2018-03-27T08:41:30Z,MERGED,True,42,8,3,https://github.com/jfsmig,sqliterepo: Ensure a DB exists before kicking the election FSM off,2,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1406,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1406,"Avoids spamming DB_GETVERS requests when an election happens on a fresh DB.
Only impacts freshly deployed platforms.","Avoids spamming DB_GETVERS requests when an election happens on a fresh DB.
Only impacts freshly deployed platforms.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1406,2018-03-26T15:57:38Z,2018-03-27T08:25:42Z,2018-03-27T08:41:30Z,MERGED,True,42,8,3,https://github.com/jfsmig,sqliterepo: Ensure a DB exists before kicking the election FSM off,2,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1406,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1406#issuecomment-376222850,"Avoids spamming DB_GETVERS requests when an election happens on a fresh DB.
Only impacts freshly deployed platforms.","Codecov Report

Merging #1406 into 4.1.x will decrease coverage by 0.53%.
The diff coverage is 52.63%.


@@            Coverage Diff            @@
##           4.1.x    #1406      +/-   ##
=========================================
- Coverage     77%   76.46%   -0.54%     
=========================================
  Files        299      299              
  Lines      55818    55834      +16     
  Branches    6785     6784       -1     
=========================================
- Hits       42982    42693     -289     
- Misses     12674    12780     +106     
- Partials     162      361     +199



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
47.28% <100%> (-4.15%)
⬇️


sqliterepo/election.c
82.77% <100%> (-4.19%)
⬇️


sqliterepo/repository.c
71.63% <40%> (-4.57%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


sqliterepo/gridd_client_pool.c
72.55% <0%> (-10.7%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/synchro.c
56.89% <0%> (-8.51%)
⬇️


oio/account/client.py
77.77% <0%> (-5.56%)
⬇️


sqliterepo/replication.c
80.51% <0%> (-5.45%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1ffab07...3c1553c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1408,2018-03-27T14:58:20Z,2018-03-27T16:12:47Z,2018-03-27T16:12:50Z,MERGED,True,137,14,3,https://github.com/fvennetier,Python API: allow sourcing object data from iterable,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1408,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1408,"Before this commit, only files, buffers or bare generators were allowed.","Before this commit, only files, buffers or bare generators were allowed.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1408,2018-03-27T14:58:20Z,2018-03-27T16:12:47Z,2018-03-27T16:12:50Z,MERGED,True,137,14,3,https://github.com/fvennetier,Python API: allow sourcing object data from iterable,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1408,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1408#issuecomment-376577200,"Before this commit, only files, buffers or bare generators were allowed.","Codecov Report

Merging #1408 into 4.1.x will decrease coverage by 0.02%.
The diff coverage is 95.57%.


@@            Coverage Diff             @@
##            4.1.x    #1408      +/-   ##
==========================================
- Coverage   76.49%   76.47%   -0.03%     
==========================================
  Files         299      299              
  Lines       55848    55949     +101     
  Branches     6784     6784              
==========================================
+ Hits        42721    42786      +65     
- Misses      12755    12781      +26     
- Partials      372      382      +10



Impacted Files
Coverage Δ





oio/api/object_storage.py
79.18% <100%> (+1.02%)
⬆️


tests/unit/content/test_content.py
100% <100%> (ø)
⬆️


tests/unit/api/test_objectstorage.py
98.07% <91.07%> (-1.93%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


core/proxy.c
81.5% <0%> (-2.34%)
⬇️


meta1v2/meta1_server.c
75% <0%> (-2.09%)
⬇️


meta1v2/meta1_remote.c
72.65% <0%> (-1.57%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-1.43%)
⬇️


cluster/module/module.c
70.68% <0%> (-1.4%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-1.23%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 97f3a4f...95f05a9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1409,2018-03-27T16:47:28Z,2018-03-27T20:58:56Z,2018-03-28T07:10:39Z,MERGED,True,13,19,1,https://github.com/AymericDu,sqliterepo: Write only on the master,2,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1409,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1409,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1409,2018-03-27T16:47:28Z,2018-03-27T20:58:56Z,2018-03-28T07:10:39Z,MERGED,True,13,19,1,https://github.com/AymericDu,sqliterepo: Write only on the master,2,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1409,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1409#issuecomment-376649104,,"Codecov Report

Merging #1409 into 4.1.x will increase coverage by 0.16%.
The diff coverage is 57.14%.


@@            Coverage Diff             @@
##            4.1.x    #1409      +/-   ##
==========================================
+ Coverage   76.38%   76.55%   +0.16%     
==========================================
  Files         299      299              
  Lines       55949    55943       -6     
  Branches     6784     6790       +6     
==========================================
+ Hits        42739    42825      +86     
+ Misses      12824    12767      -57     
+ Partials      386      351      -35



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
48.07% <57.14%> (+0.46%)
⬆️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


sqliterepo/synchro.c
56.89% <0%> (-0.88%)
⬇️


sqliterepo/election.c
82.16% <0%> (-0.74%)
⬇️


metautils/lib/utils_sockets.c
48.62% <0%> (-0.4%)
⬇️


sqliterepo/repository.c
72.12% <0%> (-0.37%)
⬇️


resolver/hc_resolver.c
88.53% <0%> (-0.29%)
⬇️


metautils/lib/comm_message.c
85% <0%> (ø)
⬆️


core/cs.c
81.25% <0%> (ø)
⬆️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b405ce5...6c0ebf4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1410,2018-03-27T16:55:20Z,2018-03-27T21:05:41Z,2018-03-27T21:46:06Z,MERGED,True,11,21,1,https://github.com/jfsmig,oio-event-agent: Do not retry failed push/delete to a rdir,1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1410,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1410,"These failures will be recovered during the next pass of the oio-blob-indexer on that volume.
But we want to avoid retrying delayed events for these failures.","These failures will be recovered during the next pass of the oio-blob-indexer on that volume.
But we want to avoid retrying delayed events for these failures.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1410,2018-03-27T16:55:20Z,2018-03-27T21:05:41Z,2018-03-27T21:46:06Z,MERGED,True,11,21,1,https://github.com/jfsmig,oio-event-agent: Do not retry failed push/delete to a rdir,1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1410,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1410#issuecomment-376609230,"These failures will be recovered during the next pass of the oio-blob-indexer on that volume.
But we want to avoid retrying delayed events for these failures.","Codecov Report

Merging #1410 into 4.1.x will increase coverage by 0.79%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1410      +/-   ##
==========================================
+ Coverage   76.38%   77.17%   +0.79%     
==========================================
  Files         299      299              
  Lines       55949    55949              
  Branches     6784     6784              
==========================================
+ Hits        42739    43181     +442     
+ Misses      12824    12745      -79     
+ Partials      386       23     -363



Impacted Files
Coverage Δ





tests/functional/rdir/test_indexer.py
90.69% <0%> (-8.14%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


resolver/hc_resolver.c
88.53% <0%> (-0.29%)
⬇️


metautils/lib/comm_converter.c
73.89% <0%> (-0.27%)
⬇️


core/lb.c
93.44% <0%> (-0.15%)
⬇️


core/cs.c
81.25% <0%> (ø)
⬆️


metautils/lib/utils_sockets.c
49.01% <0%> (ø)
⬆️


meta2v2/meta2_backend.c
77.58% <0%> (+0.1%)
⬆️


rdir/rdir.c
74.45% <0%> (+0.11%)
⬆️


... and 42 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b405ce5...7847022. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1411,2018-03-27T16:58:33Z,2018-03-28T12:37:13Z,2018-03-31T13:59:24Z,MERGED,True,18,0,1,https://github.com/jfsmig,oio-account-server: Minimal access log for read-only requests,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1411,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1411,"Ugly as hell, but we need that quickly.","Ugly as hell, but we need that quickly.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1411,2018-03-27T16:58:33Z,2018-03-28T12:37:13Z,2018-03-31T13:59:24Z,MERGED,True,18,0,1,https://github.com/jfsmig,oio-account-server: Minimal access log for read-only requests,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1411,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1411#issuecomment-376612669,"Ugly as hell, but we need that quickly.","Codecov Report

Merging #1411 into 4.1.x will increase coverage by 0.31%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.1.x   #1411      +/-   ##
=========================================
+ Coverage   76.38%   76.7%   +0.31%     
=========================================
  Files         299     299              
  Lines       55949   55953       +4     
  Branches     6784    6784              
=========================================
+ Hits        42739   42919     +180     
+ Misses      12824   12784      -40     
+ Partials      386     250     -136



Impacted Files
Coverage Δ





oio/account/server.py
89.28% <100%> (+1.05%)
⬆️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


metautils/lib/utils_sockets.c
48.62% <0%> (-0.4%)
⬇️


sqliterepo/repository.c
72.12% <0%> (-0.37%)
⬇️


rdir/rdir.c
74% <0%> (-0.35%)
⬇️


sqliterepo/election.c
82.59% <0%> (-0.31%)
⬇️


metautils/lib/gridd_client.c
77.73% <0%> (-0.21%)
⬇️


server/network_server.c
81.88% <0%> (-0.13%)
⬇️


core/cs.c
81.25% <0%> (ø)
⬆️


metautils/lib/comm_message.c
85% <0%> (ø)
⬆️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b405ce5...2284796. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1412,2018-03-28T09:13:02Z,2018-03-28T14:30:07Z,2018-03-31T13:59:20Z,MERGED,True,129,94,9,https://github.com/jfsmig,sqliterepo: Force an election leave before recreating,4,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1412,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1412,"Ensure we are not MASTER, to avoid resyncing an empty DB.","Ensure we are not MASTER, to avoid resyncing an empty DB.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1412,2018-03-28T09:13:02Z,2018-03-28T14:30:07Z,2018-03-31T13:59:20Z,MERGED,True,129,94,9,https://github.com/jfsmig,sqliterepo: Force an election leave before recreating,4,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1412,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1412#issuecomment-376898728,"Ensure we are not MASTER, to avoid resyncing an empty DB.","Codecov Report

Merging #1412 into 4.1.x will decrease coverage by <.01%.
The diff coverage is 65.3%.


@@            Coverage Diff             @@
##            4.1.x    #1412      +/-   ##
==========================================
- Coverage   76.52%   76.51%   -0.01%     
==========================================
  Files         299      299              
  Lines       55943    55961      +18     
  Branches     6784     6788       +4     
==========================================
+ Hits        42811    42820       +9     
- Misses      12784    12794      +10     
+ Partials      348      347       -1



Impacted Files
Coverage Δ





tests/unit/test_sqliterepo_election.c
95.26% <100%> (ø)
⬆️


sqliterepo/repository.c
72.07% <44%> (+0.43%)
⬆️


sqliterepo/replication_dispatcher.c
47.67% <75%> (ø)
⬆️


sqliterepo/election.c
83.45% <89.47%> (+1.04%)
⬆️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


metautils/lib/utils_resolv.c
63.84% <0%> (-2.31%)
⬇️


cluster/module/module.c
70.68% <0%> (-1.4%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-1.23%)
⬇️


server/network_server.c
82.27% <0%> (-0.91%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b4b9a6d...4e7fc51. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1413,2018-03-28T09:52:21Z,2018-03-29T16:21:54Z,2018-04-25T13:24:40Z,MERGED,True,14,9,1,https://github.com/murlock,oio/event: check value of safe_decode before using it,3,[],https://github.com/open-io/oio-sds/pull/1413,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1413,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1413,2018-03-28T09:52:21Z,2018-03-29T16:21:54Z,2018-04-25T13:24:40Z,MERGED,True,14,9,1,https://github.com/murlock,oio/event: check value of safe_decode before using it,3,[],https://github.com/open-io/oio-sds/pull/1413,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1413#issuecomment-376837675,,"Codecov Report

Merging #1413 into 4.1.x will increase coverage by 0.41%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1413      +/-   ##
==========================================
+ Coverage   76.52%   76.94%   +0.41%     
==========================================
  Files         299      299              
  Lines       55943    55965      +22     
  Branches     6784     6790       +6     
==========================================
+ Hits        42811    43062     +251     
+ Misses      12784    12745      -39     
+ Partials      348      158     -190



Impacted Files
Coverage Δ





gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


proxy/cs_actions.c
90.16% <0%> (-1.64%)
⬇️


metautils/lib/utils_resolv.c
64.61% <0%> (-1.54%)
⬇️


gridd/main/sock.c
61.76% <0%> (-1.48%)
⬇️


proxy/metacd_http.c
88.34% <0%> (-1.42%)
⬇️


cluster/module/module.c
70.81% <0%> (-1.27%)
⬇️


server/network_server.c
82.27% <0%> (-0.91%)
⬇️


meta0v2/meta0_backend.c
77.86% <0%> (-0.82%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b4b9a6d...12927b7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1414,2018-03-28T16:49:58Z,2018-03-28T17:08:27Z,2018-03-29T07:49:56Z,MERGED,True,6,1,1,https://github.com/AymericDu,meta-rebuilder: Leave election when the base doesn't exist,1,[],https://github.com/open-io/oio-sds/pull/1414,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1414,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1414,2018-03-28T16:49:58Z,2018-03-28T17:08:27Z,2018-03-29T07:49:56Z,MERGED,True,6,1,1,https://github.com/AymericDu,meta-rebuilder: Leave election when the base doesn't exist,1,[],https://github.com/open-io/oio-sds/pull/1414,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1414#issuecomment-376962767,,"Codecov Report

Merging #1414 into 4.1.x will decrease coverage by 0.55%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1414      +/-   ##
==========================================
- Coverage   77.05%   76.49%   -0.56%     
==========================================
  Files         299      299              
  Lines       55961    55961              
  Branches     6788     6788              
==========================================
- Hits        43120    42808     -312     
- Misses      12677    12775      +98     
- Partials      164      378     +214



Impacted Files
Coverage Δ





sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


sqliterepo/gridd_client_pool.c
73.02% <0%> (-9.31%)
⬇️


sqliterepo/synchro.c
56.89% <0%> (-8.51%)
⬇️


tests/functional/rdir/test_indexer.py
90.69% <0%> (-8.14%)
⬇️


sqliterepo/replication.c
80.22% <0%> (-7.17%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


sqliterepo/replication_dispatcher.c
47.91% <0%> (-4.01%)
⬇️


sqliterepo/election.c
83.45% <0%> (-3.87%)
⬇️


sqliterepo/version.c
80% <0%> (-3.71%)
⬇️


meta2v2/meta2_filters_action_content.c
90.56% <0%> (-3.54%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 27fb29c...e5510b0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1416,2018-03-29T11:39:47Z,2018-03-29T12:58:28Z,2018-03-31T13:59:16Z,MERGED,True,8,4,1,https://github.com/jfsmig,oio-proxy: Fix the retry behavior on container delete,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1416,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1416,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1416,2018-03-29T11:39:47Z,2018-03-29T12:58:28Z,2018-03-31T13:59:16Z,MERGED,True,8,4,1,https://github.com/jfsmig,oio-proxy: Fix the retry behavior on container delete,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1416,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1416#issuecomment-377212230,,"Codecov Report

Merging #1416 into 4.1.x will increase coverage by 0.25%.
The diff coverage is 62.5%.


@@            Coverage Diff             @@
##            4.1.x    #1416      +/-   ##
==========================================
+ Coverage   76.61%   76.86%   +0.25%     
==========================================
  Files         299      299              
  Lines       55961    55965       +4     
  Branches     6788     6790       +2     
==========================================
+ Hits        42873    43017     +144     
- Misses      12736    12765      +29     
+ Partials      352      183     -169



Impacted Files
Coverage Δ





proxy/m2_actions.c
82.81% <62.5%> (-0.19%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


rdir/rdir.c
71.37% <0%> (-3.08%)
⬇️


meta0v2/meta0_backend.c
77.86% <0%> (-2.87%)
⬇️


meta1v2/meta1_prefixes.c
81.12% <0%> (-2.56%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
79.54% <0%> (-2.28%)
⬇️


meta2v2/meta2_filters_action_container.c
56.22% <0%> (-1.07%)
⬇️


gridd/main/sock.c
61.76% <0%> (-0.99%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 34a10de...0e60d8b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1417,2018-03-29T13:52:22Z,2018-03-29T16:22:08Z,2018-03-29T16:22:13Z,MERGED,True,48,32,7,https://github.com/fvennetier,Python API: improve exception handling,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1417,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1417,"Improve exception messages.
Never return 'green' timeouts to client applications.","Improve exception messages.
Never return 'green' timeouts to client applications.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1417,2018-03-29T13:52:22Z,2018-03-29T16:22:08Z,2018-03-29T16:22:13Z,MERGED,True,48,32,7,https://github.com/fvennetier,Python API: improve exception handling,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1417,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1417#issuecomment-377251534,"Improve exception messages.
Never return 'green' timeouts to client applications.","Codecov Report

Merging #1417 into 4.1.x will decrease coverage by 0.2%.
The diff coverage is 78.26%.


@@            Coverage Diff             @@
##            4.1.x    #1417      +/-   ##
==========================================
- Coverage   76.74%   76.53%   -0.21%     
==========================================
  Files         299      299              
  Lines       55965    55968       +3     
  Branches     6790     6790              
==========================================
- Hits        42950    42836     -114     
+ Misses      12778    12763      -15     
- Partials      237      369     +132



Impacted Files
Coverage Δ





oio/api/io.py
82.29% <100%> (+0.42%)
⬆️


oio/common/exceptions.py
98.34% <100%> (+0.02%)
⬆️


tests/unit/api/test_ec.py
85.86% <100%> (+0.42%)
⬆️


tests/unit/api/test_io.py
100% <100%> (ø)
⬆️


oio/common/green.py
95% <100%> (+0.12%)
⬆️


oio/api/replication.py
78.77% <25%> (ø)
⬆️


oio/api/ec.py
94.06% <66.66%> (+0.16%)
⬆️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


proxy/sqlx_actions.c
56.64% <0%> (-6.94%)
⬇️


proxy/m2_actions.c
82.81% <0%> (-4.46%)
⬇️


... and 36 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 64f1add...c28451b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1418,2018-03-29T22:48:14Z,2018-03-31T13:42:20Z,2018-03-31T13:42:20Z,MERGED,True,96,0,2,https://github.com/cdelgehier,Add templates for Issue and PR,1,[],https://github.com/open-io/oio-sds/pull/1418,https://github.com/cdelgehier,1,https://github.com/open-io/oio-sds/pull/1418,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1418,2018-03-29T22:48:14Z,2018-03-31T13:42:20Z,2018-03-31T13:42:20Z,MERGED,True,96,0,2,https://github.com/cdelgehier,Add templates for Issue and PR,1,[],https://github.com/open-io/oio-sds/pull/1418,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1418#issuecomment-377398520,,"Codecov Report

Merging #1418 into master will decrease coverage by 0.33%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1418      +/-   ##
==========================================
- Coverage   79.47%   79.14%   -0.32%     
==========================================
  Files         301      301              
  Lines       55601    55601              
  Branches     6376     6376              
==========================================
- Hits        44184    44001     -183     
- Misses      11412    11486      +74     
- Partials        5      114     +109



Impacted Files
Coverage Δ





metautils/lib/utils_errors.c
17.65% <0%> (-52.94%)
⬇️


meta0v2/meta0_server.c
55.7% <0%> (-17.72%)
⬇️


meta0v2/zk_manager.c
61.25% <0%> (-12.4%)
⬇️


oio/account/client.py
78.27% <0%> (-10.86%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.05% <0%> (-4.79%)
⬇️


proxy/cache_actions.c
64.49% <0%> (-4.67%)
⬇️


proxy/m2_actions.c
83.91% <0%> (-3.93%)
⬇️


proxy/dir_actions.c
73.17% <0%> (-3.83%)
⬇️


oio/crawler/storage_tierer.py
59.46% <0%> (-2.7%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ffc468f...8df76e0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1419,2018-03-30T09:17:57Z,2018-04-03T14:07:22Z,2018-04-03T14:07:22Z,CLOSED,False,2,2,1,https://github.com/newtoncorp,Several modifications in wsgi.py,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1419,https://github.com/newtoncorp,1,https://github.com/open-io/oio-sds/pull/1419,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1419,2018-03-30T09:17:57Z,2018-04-03T14:07:22Z,2018-04-03T14:07:22Z,CLOSED,False,2,2,1,https://github.com/newtoncorp,Several modifications in wsgi.py,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1419,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1419#issuecomment-377492527,,"Codecov Report

Merging #1419 into master will decrease coverage by 0.22%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##           master    #1419      +/-   ##
==========================================
- Coverage   79.47%   79.25%   -0.21%     
==========================================
  Files         301      301              
  Lines       55601    55601              
  Branches     6376     6376              
==========================================
- Hits        44184    44063     -121     
- Misses      11412    11490      +78     
- Partials        5       48      +43



Impacted Files
Coverage Δ





oio/common/wsgi.py
43.91% <0%> (ø)
⬆️


metautils/lib/utils_errors.c
17.65% <0%> (-52.94%)
⬇️


meta0v2/meta0_server.c
55.7% <0%> (-17.72%)
⬇️


meta0v2/zk_manager.c
61.25% <0%> (-12.4%)
⬇️


oio/account/client.py
78.27% <0%> (-10.86%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.05% <0%> (-4.79%)
⬇️


oio/crawler/storage_tierer.py
59.46% <0%> (-2.7%)
⬇️


metautils/lib/utils_resolv.c
81.38% <0%> (-1.96%)
⬇️


proxy/metacd_http.c
89.74% <0%> (-1.42%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ffc468f...78c8608. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1419,2018-03-30T09:17:57Z,2018-04-03T14:07:22Z,2018-04-03T14:07:22Z,CLOSED,False,2,2,1,https://github.com/newtoncorp,Several modifications in wsgi.py,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1419,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/1419#issuecomment-378262477,,Rebased and fixed in #1423,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1420,2018-03-30T14:08:19Z,2018-03-30T16:50:58Z,2018-03-31T13:59:14Z,MERGED,True,20,6,4,https://github.com/jfsmig,Fix malformed events upon repairable contents,5,[],https://github.com/open-io/oio-sds/pull/1420,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1420,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1420,2018-03-30T14:08:19Z,2018-03-30T16:50:58Z,2018-03-31T13:59:14Z,MERGED,True,20,6,4,https://github.com/jfsmig,Fix malformed events upon repairable contents,5,[],https://github.com/open-io/oio-sds/pull/1420,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1420#issuecomment-377566980,,"Codecov Report

Merging #1420 into 4.1.x will decrease coverage by 0.11%.
The diff coverage is 61.53%.


@@            Coverage Diff             @@
##            4.1.x    #1420      +/-   ##
==========================================
- Coverage   76.58%   76.46%   -0.12%     
==========================================
  Files         299      299              
  Lines       55968    55978      +10     
  Branches     6790     6799       +9     
==========================================
- Hits        42861    42805      -56     
- Misses      12752    12788      +36     
- Partials      355      385      +30



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
90.32% <0%> (-3.78%)
⬇️


meta2v2/meta2_utils.c
74.67% <100%> (+0.09%)
⬆️


oio/event/filters/notify.py
62.96% <66.66%> (-1.04%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-5.34%)
⬇️


oio/common/utils.py
59.65% <0%> (-4.65%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


core/proxy.c
81.5% <0%> (-2.16%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d8b2fcb...8f0fdb8. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1421,2018-03-30T15:39:20Z,2018-04-03T09:50:47Z,2018-04-03T09:50:51Z,MERGED,True,38,19,6,https://github.com/fvennetier,sqliterepo: prevent deadlock during database deletion,3,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1421,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1421,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1421,2018-03-30T15:39:20Z,2018-04-03T09:50:47Z,2018-04-03T09:50:51Z,MERGED,True,38,19,6,https://github.com/fvennetier,sqliterepo: prevent deadlock during database deletion,3,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1421,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1421#issuecomment-377557792,,"Codecov Report

Merging #1421 into 4.1.x will increase coverage by 2.33%.
The diff coverage is 90.9%.


@@            Coverage Diff             @@
##            4.1.x    #1421      +/-   ##
==========================================
+ Coverage   74.13%   76.46%   +2.33%     
==========================================
  Files         267      299      +32     
  Lines       52263    55983    +3720     
  Branches     6571     6794     +223     
==========================================
+ Hits        38743    42806    +4063     
+ Misses      13317    12771     -546     
- Partials      203      406     +203



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
82.71% <100%> (-2.4%)
⬇️


tests/unit/test_sqliterepo_cache.c
100% <100%> (ø)



sqliterepo/repository.c
72.14% <85.71%> (-1.52%)
⬇️


sqliterepo/cache.c
89.59% <90%> (+6.98%)
⬆️


meta0v2/meta0_server.c
55.69% <0%> (-17.73%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/zk_manager.c
61.24% <0%> (-12.41%)
⬇️


sqliterepo/gridd_client_pool.c
70.69% <0%> (-12.1%)
⬇️


sqliterepo/synchro.c
56.89% <0%> (-7.92%)
⬇️


... and 92 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 10df8e9...6f5177c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1422,2018-04-03T12:52:53Z,2018-04-03T13:13:06Z,2018-04-03T13:13:09Z,MERGED,True,20,8,1,https://github.com/fvennetier,Decache M2_PREP data when freezing a container,1,"['priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1422,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1422,"SUMMARY
Decache prepare data when freezing a container.
ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME
meta2
SDS VERSION
openio 4.1.21.dev8

ADDITIONAL INFORMATION
If we do not decache this data, meta2 will accept M2_PREP operations
even if the container is no more managed locally.
Decaching this data will force the next M2_PREP operation to re-cache
it, and this will fail because the container is frozen.","SUMMARY
Decache prepare data when freezing a container.
ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME
meta2
SDS VERSION
openio 4.1.21.dev8

ADDITIONAL INFORMATION
If we do not decache this data, meta2 will accept M2_PREP operations
even if the container is no more managed locally.
Decaching this data will force the next M2_PREP operation to re-cache
it, and this will fail because the container is frozen.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1422,2018-04-03T12:52:53Z,2018-04-03T13:13:06Z,2018-04-03T13:13:09Z,MERGED,True,20,8,1,https://github.com/fvennetier,Decache M2_PREP data when freezing a container,1,"['priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1422,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1422#issuecomment-378244509,"SUMMARY
Decache prepare data when freezing a container.
ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME
meta2
SDS VERSION
openio 4.1.21.dev8

ADDITIONAL INFORMATION
If we do not decache this data, meta2 will accept M2_PREP operations
even if the container is no more managed locally.
Decaching this data will force the next M2_PREP operation to re-cache
it, and this will fail because the container is frozen.","Codecov Report

Merging #1422 into 4.1.x will decrease coverage by 0.71%.
The diff coverage is 85.71%.


@@            Coverage Diff             @@
##            4.1.x    #1422      +/-   ##
==========================================
- Coverage   77.14%   76.42%   -0.72%     
==========================================
  Files         299      299              
  Lines       55983    55987       +4     
  Branches     6794     6795       +1     
==========================================
- Hits        43188    42790     -398     
- Misses      12745    12777      +32     
- Partials       50      420     +370



Impacted Files
Coverage Δ





meta2v2/meta2_backend.c
77.57% <85.71%> (-0.02%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


sqliterepo/gridd_client_pool.c
68.37% <0%> (-13.49%)
⬇️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


sqliterepo/synchro.c
56.89% <0%> (-9.1%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


proxy/sqlx_actions.c
56.64% <0%> (-6.94%)
⬇️


sqliterepo/replication.c
80.22% <0%> (-5.74%)
⬇️


rdir/rdir.c
69.89% <0%> (-4.57%)
⬇️


proxy/m2_actions.c
82.81% <0%> (-4.46%)
⬇️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d3af68f...53e8234. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1423,2018-04-03T13:44:20Z,2018-04-03T14:06:46Z,2018-04-05T13:25:49Z,MERGED,True,2,2,1,https://github.com/jfsmig,Rebase and merge #1419,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1423,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1423,"SUMMARY
Rebases #1419 on top of branch 4.1.x.
Closes #1419
ISSUE TYPE
Enhancement
COMPONENT NAME
Any WSGI-based service
SDS VERSION
openio 4.1.21.dev3","SUMMARY
Rebases #1419 on top of branch 4.1.x.
Closes #1419
ISSUE TYPE
Enhancement
COMPONENT NAME
Any WSGI-based service
SDS VERSION
openio 4.1.21.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1423,2018-04-03T13:44:20Z,2018-04-03T14:06:46Z,2018-04-05T13:25:49Z,MERGED,True,2,2,1,https://github.com/jfsmig,Rebase and merge #1419,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1423,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1423#issuecomment-378261070,"SUMMARY
Rebases #1419 on top of branch 4.1.x.
Closes #1419
ISSUE TYPE
Enhancement
COMPONENT NAME
Any WSGI-based service
SDS VERSION
openio 4.1.21.dev3","Codecov Report

Merging #1423 into 4.1.x will increase coverage by 0.09%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##            4.1.x    #1423      +/-   ##
==========================================
+ Coverage   76.37%   76.46%   +0.09%     
==========================================
  Files         299      299              
  Lines       55987    55987              
  Branches     6801     6795       -6     
==========================================
+ Hits        42760    42812      +52     
+ Misses      12815    12791      -24     
+ Partials      412      384      -28



Impacted Files
Coverage Δ





oio/common/wsgi.py
41.77% <0%> (ø)
⬆️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta1v2/meta1_server.c
75% <0%> (-2.09%)
⬇️


proxy/metacd_http.c
88.66% <0%> (-1.42%)
⬇️


tests/functional/api/test_objectstorage.py
96.21% <0%> (-0.6%)
⬇️


core/http_put.c
92.62% <0%> (-0.51%)
⬇️


core/cs.c
81.25% <0%> (-0.45%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a678dff...0009d7b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1424,2018-04-03T14:27:19Z,2018-04-03T14:52:09Z,2018-04-05T13:25:41Z,MERGED,True,9,6,2,https://github.com/jfsmig,meta0: Display a better error message when the service is not ready.,3,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1424,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1424,"SUMMARY
Display a better error message when a META0 (a.k.a. ""meta-0"") service is not ready.
Fixes #1400
ISSUE TYPE
Enhancement.
COMPONENT NAME
Change in oio-meta0-server with an impact in any meta0 client (i.e. any client of oio-sds).
SDS VERSION
4.1.21","SUMMARY
Display a better error message when a META0 (a.k.a. ""meta-0"") service is not ready.
Fixes #1400
ISSUE TYPE
Enhancement.
COMPONENT NAME
Change in oio-meta0-server with an impact in any meta0 client (i.e. any client of oio-sds).
SDS VERSION
4.1.21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1424,2018-04-03T14:27:19Z,2018-04-03T14:52:09Z,2018-04-05T13:25:41Z,MERGED,True,9,6,2,https://github.com/jfsmig,meta0: Display a better error message when the service is not ready.,3,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1424,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1424#issuecomment-378275545,"SUMMARY
Display a better error message when a META0 (a.k.a. ""meta-0"") service is not ready.
Fixes #1400
ISSUE TYPE
Enhancement.
COMPONENT NAME
Change in oio-meta0-server with an impact in any meta0 client (i.e. any client of oio-sds).
SDS VERSION
4.1.21","Codecov Report

Merging #1424 into 4.1.x will increase coverage by 0.06%.
The diff coverage is 40%.


@@            Coverage Diff            @@
##           4.1.x    #1424      +/-   ##
=========================================
+ Coverage   76.4%   76.47%   +0.06%     
=========================================
  Files        299      299              
  Lines      55987    55987              
  Branches    6801     6796       -5     
=========================================
+ Hits       42777    42816      +39     
+ Misses     12809    12793      -16     
+ Partials     401      378      -23



Impacted Files
Coverage Δ





meta0v2/meta0_gridd_dispatcher.c
81.39% <0%> (+1.09%)
⬆️


meta0v2/meta0_backend.c
77.32% <50%> (-1.37%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


oio/account/client.py
77.77% <0%> (-4.45%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_filters_action_content.c
90.02% <0%> (-3.52%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-2.85%)
⬇️


sqliterepo/gridd_client_pool.c
68.37% <0%> (-2.33%)
⬇️


meta2v2/meta2_filters_extract.c
87.62% <0%> (-2.07%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 34cbe09...16a072a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1425,2018-04-03T22:12:40Z,2018-04-05T12:31:20Z,2018-04-05T13:25:36Z,MERGED,True,47,18,4,https://github.com/jfsmig,rdir: Allow configuring the max fd per DB,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1425,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1425,"SUMMARY
Allow an operator to configure the maximum number of files per LevelDB database in a rdir service.
Use a combination of the following managed variables:

rdir.fd_per_base
rdir.fd_reserve
server.fd_max_passive

Fixes #1371
ISSUE TYPE
Enhancement
COMPONENT NAME
rdir
SDS VERSION
4.1.21","SUMMARY
Allow an operator to configure the maximum number of files per LevelDB database in a rdir service.
Use a combination of the following managed variables:

rdir.fd_per_base
rdir.fd_reserve
server.fd_max_passive

Fixes #1371
ISSUE TYPE
Enhancement
COMPONENT NAME
rdir
SDS VERSION
4.1.21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1425,2018-04-03T22:12:40Z,2018-04-05T12:31:20Z,2018-04-05T13:25:36Z,MERGED,True,47,18,4,https://github.com/jfsmig,rdir: Allow configuring the max fd per DB,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1425,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1425#issuecomment-378528105,"SUMMARY
Allow an operator to configure the maximum number of files per LevelDB database in a rdir service.
Use a combination of the following managed variables:

rdir.fd_per_base
rdir.fd_reserve
server.fd_max_passive

Fixes #1371
ISSUE TYPE
Enhancement
COMPONENT NAME
rdir
SDS VERSION
4.1.21","Codecov Report

Merging #1425 into 4.1.x will increase coverage by 2.86%.
The diff coverage is 73.33%.


@@            Coverage Diff             @@
##            4.1.x    #1425      +/-   ##
==========================================
+ Coverage   73.79%   76.65%   +2.86%     
==========================================
  Files         267      299      +32     
  Lines       52272    56008    +3736     
  Branches     6574     6802     +228     
==========================================
+ Hits        38573    42935    +4362     
+ Misses      13344    12810     -534     
+ Partials      355      263      -92



Impacted Files
Coverage Δ





rdir/rdir.c
74.46% <73.33%> (+4.56%)
⬆️


meta0v2/meta0_server.c
55.69% <0%> (-17.73%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


meta0v2/zk_manager.c
61.24% <0%> (-12.41%)
⬇️


sqliterepo/gridd_client_pool.c
68.83% <0%> (-11.63%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/synchro.c
57.77% <0%> (-7.63%)
⬇️


sqliterepo/replication.c
80.22% <0%> (-5.74%)
⬇️


sqliterepo/replication_dispatcher.c
47.75% <0%> (-4.01%)
⬇️


sqliterepo/repository.c
71.89% <0%> (-2.44%)
⬇️


... and 105 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 75e23cc...e3115c5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1426,2018-04-04T08:05:27Z,2018-04-04T11:53:58Z,2018-04-04T11:54:01Z,MERGED,True,80,20,8,https://github.com/fvennetier,Python API: fix property listing,3,"['bug :scream:', 'priority:3 :rage1:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1426,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1426,"SUMMARY
Fix a bug preventing the decoding of the request when there are too many object properties.
Fixes #1369
ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME

Python API
proxy

SDS VERSION
openio 4.1.21.dev9

ADDITIONAL INFORMATION","SUMMARY
Fix a bug preventing the decoding of the request when there are too many object properties.
Fixes #1369
ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME

Python API
proxy

SDS VERSION
openio 4.1.21.dev9

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1426,2018-04-04T08:05:27Z,2018-04-04T11:53:58Z,2018-04-04T11:54:01Z,MERGED,True,80,20,8,https://github.com/fvennetier,Python API: fix property listing,3,"['bug :scream:', 'priority:3 :rage1:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1426,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1426#issuecomment-378538207,"SUMMARY
Fix a bug preventing the decoding of the request when there are too many object properties.
Fixes #1369
ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME

Python API
proxy

SDS VERSION
openio 4.1.21.dev9

ADDITIONAL INFORMATION","Codecov Report

Merging #1426 into 4.1.x will increase coverage by 3.21%.
The diff coverage is 61.11%.


@@            Coverage Diff            @@
##            4.1.x   #1426      +/-   ##
=========================================
+ Coverage   73.79%     77%   +3.21%     
=========================================
  Files         267     299      +32     
  Lines       52272   55999    +3727     
  Branches     6574    6797     +223     
=========================================
+ Hits        38573   43123    +4550     
+ Misses      13344   12760     -584     
+ Partials      355     116     -239



Impacted Files
Coverage Δ





oio/api/object_storage.py
79.18% <ø> (ø)
⬆️


oio/container/backup.py
12.9% <0%> (ø)
⬆️


proxy/m2_actions.c
82.87% <100%> (+0.05%)
⬆️


oio/blob/auditor.py
60.64% <100%> (ø)
⬆️


oio/container/client.py
70.03% <50%> (-1.01%)
⬇️


meta0v2/meta0_backend.c
78.13% <0%> (-2.43%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
82.17% <0%> (-1.56%)
⬇️


metautils/lib/gridd_client.c
76.11% <0%> (-0.61%)
⬇️


tests/functional/api/test_objectstorage.py
96.21% <0%> (-0.6%)
⬇️


resolver/hc_resolver.c
88.25% <0%> (-0.29%)
⬇️


... and 95 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 75e23cc...ff96b23. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1427,2018-04-04T08:55:31Z,2018-04-04T15:24:01Z,2018-04-25T13:24:38Z,MERGED,True,54,15,1,https://github.com/murlock,oio-crawler-integrity: prevent listing all objects when one is specified,6,[],https://github.com/open-io/oio-sds/pull/1427,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1427,"SUMMARY
Fixes #1370: when an object is set on command line, use it as prefix to avoid full listing
Also make account parameter mandatory.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-crawler-integrity
SDS VERSION
openio 4.1.21.dev5

ADDITIONAL INFORMATION
Regarding account parameter:
before:
$ oio-crawler-integrity OPENIO 

Report
Accounts checked  : 0

Containers checked: 0

Objects checked   : 0

Chunks checked    : 0

$ oio-crawler-integrity OPENIO  murlock
Checking account ""account=murlock""
Checking container ""account=murlock, container=integrity""
Checking object ""account=murlock, container=integrity, obj=Torchlight-2013-05-21.sh""
Checking object ""account=murlock, container=integrity, obj=CBoE-x86_64.zip""

Report
Accounts checked  : 1

Containers checked: 1

Objects checked   : 2

Chunks checked    : 684

Now:
$ oio-crawler-integrity OPENIO 
usage: oio-crawler-integrity [-h] [-o OUTPUT]
                             [--output-for-blob-rebuilder OUTPUT_FOR_BLOB_REBUILDER]
                             [-p] [-v]
                             namespace T [T ...]
oio-crawler-integrity: error: too few arguments","SUMMARY
Fixes #1370: when an object is set on command line, use it as prefix to avoid full listing
Also make account parameter mandatory.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-crawler-integrity
SDS VERSION
openio 4.1.21.dev5

ADDITIONAL INFORMATION
Regarding account parameter:
before:
$ oio-crawler-integrity OPENIO 

Report
Accounts checked  : 0

Containers checked: 0

Objects checked   : 0

Chunks checked    : 0

$ oio-crawler-integrity OPENIO  murlock
Checking account ""account=murlock""
Checking container ""account=murlock, container=integrity""
Checking object ""account=murlock, container=integrity, obj=Torchlight-2013-05-21.sh""
Checking object ""account=murlock, container=integrity, obj=CBoE-x86_64.zip""

Report
Accounts checked  : 1

Containers checked: 1

Objects checked   : 2

Chunks checked    : 684

Now:
$ oio-crawler-integrity OPENIO 
usage: oio-crawler-integrity [-h] [-o OUTPUT]
                             [--output-for-blob-rebuilder OUTPUT_FOR_BLOB_REBUILDER]
                             [-p] [-v]
                             namespace T [T ...]
oio-crawler-integrity: error: too few arguments",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1427,2018-04-04T08:55:31Z,2018-04-04T15:24:01Z,2018-04-25T13:24:38Z,MERGED,True,54,15,1,https://github.com/murlock,oio-crawler-integrity: prevent listing all objects when one is specified,6,[],https://github.com/open-io/oio-sds/pull/1427,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1427#issuecomment-378534157,"SUMMARY
Fixes #1370: when an object is set on command line, use it as prefix to avoid full listing
Also make account parameter mandatory.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-crawler-integrity
SDS VERSION
openio 4.1.21.dev5

ADDITIONAL INFORMATION
Regarding account parameter:
before:
$ oio-crawler-integrity OPENIO 

Report
Accounts checked  : 0

Containers checked: 0

Objects checked   : 0

Chunks checked    : 0

$ oio-crawler-integrity OPENIO  murlock
Checking account ""account=murlock""
Checking container ""account=murlock, container=integrity""
Checking object ""account=murlock, container=integrity, obj=Torchlight-2013-05-21.sh""
Checking object ""account=murlock, container=integrity, obj=CBoE-x86_64.zip""

Report
Accounts checked  : 1

Containers checked: 1

Objects checked   : 2

Chunks checked    : 684

Now:
$ oio-crawler-integrity OPENIO 
usage: oio-crawler-integrity [-h] [-o OUTPUT]
                             [--output-for-blob-rebuilder OUTPUT_FOR_BLOB_REBUILDER]
                             [-p] [-v]
                             namespace T [T ...]
oio-crawler-integrity: error: too few arguments","Codecov Report

Merging #1427 into 4.1.x will increase coverage by 0.08%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1427      +/-   ##
==========================================
+ Coverage   76.93%   77.02%   +0.08%     
==========================================
  Files         299      299              
  Lines       55999    55999              
  Branches     6797     6797              
==========================================
+ Hits        43082    43131      +49     
- Misses      12735    12738       +3     
+ Partials      182      130      -52



Impacted Files
Coverage Δ





gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


oio/ecd/app.py
59.76% <0%> (-6.51%)
⬇️


meta0v2/meta0_backend.c
78.54% <0%> (-2.03%)
⬇️


sqliterepo/replication.c
85.95% <0%> (-1.72%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
82.17% <0%> (-1.56%)
⬇️


cluster/module/module.c
70.68% <0%> (-1.4%)
⬇️


metautils/lib/gridd_client.c
76.51% <0%> (-1.22%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


gridd/main/sock.c
62.25% <0%> (-0.99%)
⬇️


proxy/common.c
84.04% <0%> (-0.93%)
⬇️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update adb0c49...792093e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1428,2018-04-04T16:19:35Z,2018-04-05T09:31:10Z,2018-04-05T13:25:38Z,MERGED,True,24,10,9,https://github.com/jfsmig,events: Make configurable the buffering delay,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1428,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1428,"SUMMARY
Take into account the events.common.pending.delay configuration directive that allows to tune the buffering delay for the events. The configuration value is only considered at the startup of the services.
Prior to this patch, the configuration directive existed but was ignored. Its default value has been changed to match the default behaviour, for a seamless upgrade.
ISSUE TYPE
Enhancement
COMPONENT NAME
oio_events_queue that is indirectly used by oio-meta1-server, oio-meta2-server, rawx
SDS VERSION
4.1.21","SUMMARY
Take into account the events.common.pending.delay configuration directive that allows to tune the buffering delay for the events. The configuration value is only considered at the startup of the services.
Prior to this patch, the configuration directive existed but was ignored. Its default value has been changed to match the default behaviour, for a seamless upgrade.
ISSUE TYPE
Enhancement
COMPONENT NAME
oio_events_queue that is indirectly used by oio-meta1-server, oio-meta2-server, rawx
SDS VERSION
4.1.21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1428,2018-04-04T16:19:35Z,2018-04-05T09:31:10Z,2018-04-05T13:25:38Z,MERGED,True,24,10,9,https://github.com/jfsmig,events: Make configurable the buffering delay,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1428,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1428#issuecomment-378673888,"SUMMARY
Take into account the events.common.pending.delay configuration directive that allows to tune the buffering delay for the events. The configuration value is only considered at the startup of the services.
Prior to this patch, the configuration directive existed but was ignored. Its default value has been changed to match the default behaviour, for a seamless upgrade.
ISSUE TYPE
Enhancement
COMPONENT NAME
oio_events_queue that is indirectly used by oio-meta1-server, oio-meta2-server, rawx
SDS VERSION
4.1.21","Codecov Report

Merging #1428 into 4.1.x will increase coverage by 0.67%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1428      +/-   ##
==========================================
+ Coverage   76.58%   77.26%   +0.67%     
==========================================
  Files         299      299              
  Lines       55999    56004       +5     
  Branches     6797     6798       +1     
==========================================
+ Hits        42886    43269     +383     
+ Misses      12763    12730      -33     
+ Partials      350        5     -345



Impacted Files
Coverage Δ





events/oio_events_queue_buffer.c
100% <100%> (+12.5%)
⬆️


events/oio_events_queue_zmq.c
65.98% <100%> (ø)
⬆️


events/oio_events_queue_fanout.c
91.89% <100%> (+0.22%)
⬆️


events/oio_events_queue_beanstalkd.c
82.8% <100%> (+2.39%)
⬆️


events/oio_events_queue.c
80.43% <100%> (+0.43%)
⬆️


metautils/lib/volume_lock.c
71.05% <0%> (-5.27%)
⬇️


metautils/lib/gridd_client.c
76.51% <0%> (-1.62%)
⬇️


resolver/hc_resolver.c
88.53% <0%> (-0.58%)
⬇️


rdir/rdir.c
74% <0%> (-0.46%)
⬇️


core/cs.c
80.8% <0%> (-0.45%)
⬇️


... and 46 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5d313a3...e380af3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1429,2018-04-04T17:15:18Z,2018-04-05T13:08:54Z,2018-04-06T07:12:25Z,MERGED,True,49,29,5,https://github.com/fvennetier,"Fix blob rebuilder, emit event on broken EC content",2,"['bug :scream:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1429,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1429,"SUMMARY
Do not register faulty chunks on upload.
meta2 will check that the set of chunks satisfies the policy and emit an
event if it does not.
Fix various things in oio-blob-rebuilder.
Fix #1239.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
oio-blob-rebuilder

SDS VERSION
openio 4.1.22.dev14

ADDITIONAL INFORMATION","SUMMARY
Do not register faulty chunks on upload.
meta2 will check that the set of chunks satisfies the policy and emit an
event if it does not.
Fix various things in oio-blob-rebuilder.
Fix #1239.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
oio-blob-rebuilder

SDS VERSION
openio 4.1.22.dev14

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1429,2018-04-04T17:15:18Z,2018-04-05T13:08:54Z,2018-04-06T07:12:25Z,MERGED,True,49,29,5,https://github.com/fvennetier,"Fix blob rebuilder, emit event on broken EC content",2,"['bug :scream:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1429,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1429#issuecomment-378876238,"SUMMARY
Do not register faulty chunks on upload.
meta2 will check that the set of chunks satisfies the policy and emit an
event if it does not.
Fix various things in oio-blob-rebuilder.
Fix #1239.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
oio-blob-rebuilder

SDS VERSION
openio 4.1.22.dev14

ADDITIONAL INFORMATION","Codecov Report

Merging #1429 into 4.1.x will increase coverage by 0.04%.
The diff coverage is 41.66%.


@@            Coverage Diff             @@
##            4.1.x    #1429      +/-   ##
==========================================
+ Coverage   76.58%   76.62%   +0.04%     
==========================================
  Files         299      301       +2     
  Lines       55999    56223     +224     
  Branches     6797     6797              
==========================================
+ Hits        42886    43082     +196     
- Misses      12763    12927     +164     
+ Partials      350      214     -136



Impacted Files
Coverage Δ





tests/functional/event/filters/test_filters.py
98.5% <100%> (-0.03%)
⬇️


oio/api/ec.py
94.07% <100%> (+0.19%)
⬆️


oio/rebuilder/blob_rebuilder.py
20.91% <12.5%> (ø)



metautils/lib/volume_lock.c
71.05% <0%> (-5.27%)
⬇️


rdir/rdir.c
69.44% <0%> (-5.02%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-3.56%)
⬇️


meta2v2/meta2_utils_json_out.c
95.55% <0%> (-3.34%)
⬇️


meta2v2/meta2_filters_action_content.c
90.32% <0%> (-3.23%)
⬇️


meta2v2/meta2_filters_extract.c
87.62% <0%> (-2.07%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5d313a3...7847088. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1430,2018-04-04T21:25:27Z,2018-04-05T09:30:28Z,2018-04-05T13:25:37Z,MERGED,True,28,32,7,https://github.com/jfsmig,proxy: Mangle the DB name for /admin/* when type=meta1,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1430,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1430,"SUMMARY
Applies the meta1_digits configuration in the handling of /admin/* requests, in the oio-proxy.

the meta1_digits variable has been centralized, renamed in ns.meta1_digits for the sake of uniformity, but the old name is still available for the ease of upgrading.
the oio-meta1-server has been adapted to consider the managed variable instead of reading it by itself
the oio-proxy has been adapt to apply the approriated mangling when meta1_digits != 4 and the concerned service type is meta1

ISSUE TYPE
Bug fix
COMPONENT NAME
oio-meta1-server, oio-proxy
SDS VERSION
4.1.21
ADDITIONAL INFORMATION
This PR message is now longer than the patch itself.","SUMMARY
Applies the meta1_digits configuration in the handling of /admin/* requests, in the oio-proxy.

the meta1_digits variable has been centralized, renamed in ns.meta1_digits for the sake of uniformity, but the old name is still available for the ease of upgrading.
the oio-meta1-server has been adapted to consider the managed variable instead of reading it by itself
the oio-proxy has been adapt to apply the approriated mangling when meta1_digits != 4 and the concerned service type is meta1

ISSUE TYPE
Bug fix
COMPONENT NAME
oio-meta1-server, oio-proxy
SDS VERSION
4.1.21
ADDITIONAL INFORMATION
This PR message is now longer than the patch itself.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1431,2018-04-05T10:44:58Z,2018-04-05T13:20:32Z,2018-04-25T13:25:05Z,MERGED,True,32,1,2,https://github.com/murlock,account: fix container listing with a delimiter,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1431,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1431,"SUMMARY
Invalid stats were provided when listing containers with a delimiter.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
account
SDS VERSION
openio 4.1.21.dev5

ADDITIONAL INFORMATION
Without fix
(oio) murlock@asus:~/openio/oio-sds/oio/account (4.1.x)*$ openio container list --oio-account AUTH_demo --delimiter % | grep ' t'
| titi | 0 | 0 |
| toto | 0 | 0 |
| tztz | 3164 | 1 |
(oio) murlock@asus:~/openio/oio-sds/oio/account (4.1.x)*$ openio container list --oio-account AUTH_demo --delimiter % --prefix t| grep ' t'
| titi | 0 | 0 |
| toto | 3164 | 1 |
| tztz | 0 | 0 |

With fix
(oio) murlock@asus:~/openio/oio-sds/oio/account (4.1.x)*$ openio container list --oio-account AUTH_demo --delimiter % | grep ' t'
| titi | 0 | 0 |
| toto | 3164 | 1 |
| tztz | 0 | 0 |
(oio) murlock@asus:~/openio/oio-sds/oio/account (4.1.x)*$ openio container list --oio-account AUTH_demo --delimiter % --prefix t| grep ' t'
| titi | 0 | 0 |
| toto | 3164 | 1 |
| tztz | 0 | 0 |","SUMMARY
Invalid stats were provided when listing containers with a delimiter.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
account
SDS VERSION
openio 4.1.21.dev5

ADDITIONAL INFORMATION
Without fix
(oio) murlock@asus:~/openio/oio-sds/oio/account (4.1.x)*$ openio container list --oio-account AUTH_demo --delimiter % | grep ' t'
| titi | 0 | 0 |
| toto | 0 | 0 |
| tztz | 3164 | 1 |
(oio) murlock@asus:~/openio/oio-sds/oio/account (4.1.x)*$ openio container list --oio-account AUTH_demo --delimiter % --prefix t| grep ' t'
| titi | 0 | 0 |
| toto | 3164 | 1 |
| tztz | 0 | 0 |

With fix
(oio) murlock@asus:~/openio/oio-sds/oio/account (4.1.x)*$ openio container list --oio-account AUTH_demo --delimiter % | grep ' t'
| titi | 0 | 0 |
| toto | 3164 | 1 |
| tztz | 0 | 0 |
(oio) murlock@asus:~/openio/oio-sds/oio/account (4.1.x)*$ openio container list --oio-account AUTH_demo --delimiter % --prefix t| grep ' t'
| titi | 0 | 0 |
| toto | 3164 | 1 |
| tztz | 0 | 0 |",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1432,2018-04-05T12:33:25Z,2018-04-05T19:41:10Z,2018-04-06T08:14:08Z,MERGED,True,78,28,9,https://github.com/AymericDu,oio-meta*-rebuilder: Accept an input file,3,[],https://github.com/open-io/oio-sds/pull/1432,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1432,"SUMMARY

In the proxy, shuffle services if no preferred service
Accept an input file for oio-meta1-rebuilder and oio-meta2-rebuilder
For all rebuilder, reset the number of passes between each report

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

oio-meta1-rebuilder
oio-meta2-rebuilder
oio-blob-rebuilder
proxy

SDS VERSION
openio 4.1.22.dev19","SUMMARY

In the proxy, shuffle services if no preferred service
Accept an input file for oio-meta1-rebuilder and oio-meta2-rebuilder
For all rebuilder, reset the number of passes between each report

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

oio-meta1-rebuilder
oio-meta2-rebuilder
oio-blob-rebuilder
proxy

SDS VERSION
openio 4.1.22.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1432,2018-04-05T12:33:25Z,2018-04-05T19:41:10Z,2018-04-06T08:14:08Z,MERGED,True,78,28,9,https://github.com/AymericDu,oio-meta*-rebuilder: Accept an input file,3,[],https://github.com/open-io/oio-sds/pull/1432,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1432#issuecomment-378934508,"SUMMARY

In the proxy, shuffle services if no preferred service
Accept an input file for oio-meta1-rebuilder and oio-meta2-rebuilder
For all rebuilder, reset the number of passes between each report

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

oio-meta1-rebuilder
oio-meta2-rebuilder
oio-blob-rebuilder
proxy

SDS VERSION
openio 4.1.22.dev19","Codecov Report

Merging #1432 into 4.1.x will increase coverage by 0.32%.
The diff coverage is 85.71%.


@@            Coverage Diff             @@
##            4.1.x    #1432      +/-   ##
==========================================
+ Coverage   75.85%   76.18%   +0.32%     
==========================================
  Files         300      301       +1     
  Lines       56076    56256     +180     
  Branches     6802     6804       +2     
==========================================
+ Hits        42537    42859     +322     
+ Misses      13333    12977     -356     
- Partials      206      420     +214



Impacted Files
Coverage Δ





oio/rebuilder/blob_rebuilder.py
21.05% <ø> (+0.13%)
⬆️


core/ext.c
96.61% <100%> (+0.04%)
⬆️


oio/rebuilder/rebuilder.py
21.05% <33.33%> (-0.57%)
⬇️


proxy/common.c
84.63% <77.77%> (-0.34%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


sqliterepo/gridd_client_pool.c
70.23% <0%> (-8.38%)
⬇️


sqliterepo/synchro.c
57.18% <0%> (-8.22%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


sqliterepo/replication.c
80.22% <0%> (-5.74%)
⬇️


... and 59 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9a0f14d...2798d91. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1433,2018-04-05T14:13:19Z,2018-04-05T19:42:08Z,2018-04-06T07:12:14Z,MERGED,True,65,37,6,https://github.com/fvennetier,CLI: fix object locate,2,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1433,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1433,"SUMMARY
Fix behavior of openio object locate --chunk-info when it's not possible to connect to some rawx services. Also ensure there is a request ID.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.1.22.dev21","SUMMARY
Fix behavior of openio object locate --chunk-info when it's not possible to connect to some rawx services. Also ensure there is a request ID.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.1.22.dev21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1433,2018-04-05T14:13:19Z,2018-04-05T19:42:08Z,2018-04-06T07:12:14Z,MERGED,True,65,37,6,https://github.com/fvennetier,CLI: fix object locate,2,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1433,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1433#issuecomment-379047984,"SUMMARY
Fix behavior of openio object locate --chunk-info when it's not possible to connect to some rawx services. Also ensure there is a request ID.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.1.22.dev21","Codecov Report

Merging #1433 into 4.1.x will increase coverage by 0.25%.
The diff coverage is 70%.


@@            Coverage Diff             @@
##            4.1.x    #1433      +/-   ##
==========================================
+ Coverage   75.85%   76.11%   +0.25%     
==========================================
  Files         300      301       +1     
  Lines       56076    56257     +181     
  Branches     6802     6802              
==========================================
+ Hits        42537    42818     +281     
+ Misses      13333    13084     -249     
- Partials      206      355     +149



Impacted Files
Coverage Δ





oio/common/exceptions.py
98.34% <ø> (ø)
⬆️


oio/api/base.py
93.93% <100%> (+12.36%)
⬆️


oio/common/utils.py
75.3% <100%> (+11.73%)
⬆️


oio/common/http.py
77.22% <56.25%> (-2.35%)
⬇️


oio/blob/client.py
89.42% <77.77%> (+2.68%)
⬆️


...ests/functional/content/test_content_versioning.py
64.86% <0%> (-35.14%)
⬇️


tests/functional/m2_filters/test_filters.py
68.96% <0%> (-25.87%)
⬇️


tests/functional/event/filters/test_filters.py
58% <0%> (-19.5%)
⬇️


tests/functional/rdir/test_indexer.py
83.72% <0%> (-15.12%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


... and 72 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9a0f14d...71a83c7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1434,2018-04-06T12:05:05Z,2018-04-09T12:34:51Z,2018-04-09T13:42:38Z,MERGED,True,2,0,2,https://github.com/AymericDu,CLI: Don't retry upon bootstrap success,1,[],https://github.com/open-io/oio-sds/pull/1434,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1434,"SUMMARY
Don't retry upon bootstrap if it's successful.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.1.22.dev29","SUMMARY
Don't retry upon bootstrap if it's successful.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.1.22.dev29",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1434,2018-04-06T12:05:05Z,2018-04-09T12:34:51Z,2018-04-09T13:42:38Z,MERGED,True,2,0,2,https://github.com/AymericDu,CLI: Don't retry upon bootstrap success,1,[],https://github.com/open-io/oio-sds/pull/1434,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1434#issuecomment-379236626,"SUMMARY
Don't retry upon bootstrap if it's successful.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.1.22.dev29","Codecov Report

Merging #1434 into 4.1.x will increase coverage by 0.22%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1434      +/-   ##
==========================================
+ Coverage   76.54%   76.77%   +0.22%     
==========================================
  Files         301      301              
  Lines       56268    56269       +1     
  Branches     6804     6804              
==========================================
+ Hits        43072    43199     +127     
- Misses      13050    13052       +2     
+ Partials      146       18     -128



Impacted Files
Coverage Δ





oio/rdir/client.py
61.42% <100%> (-1.85%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


meta1v2/meta1_server.c
75% <0%> (-3.13%)
⬇️


meta1v2/meta1_prefixes.c
80.61% <0%> (-3.07%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


sqliterepo/gridd_client_pool.c
80.46% <0%> (-1.4%)
⬇️


server/network_server.c
82.14% <0%> (-0.91%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-0.82%)
⬇️


... and 36 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 465a743...965cad5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1435,2018-04-06T12:27:10Z,2018-04-09T12:51:37Z,2018-04-09T13:42:33Z,MERGED,True,94,56,7,https://github.com/AymericDu,rebuilder: Add more logs,4,[],https://github.com/open-io/oio-sds/pull/1435,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1435,"SUMMARY

rebuilder: Add more logs.
Retry to fetch chunks in the event of network error.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Rebuilder
SDS VERSION
openio 4.1.22.dev29","SUMMARY

rebuilder: Add more logs.
Retry to fetch chunks in the event of network error.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Rebuilder
SDS VERSION
openio 4.1.22.dev29",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1435,2018-04-06T12:27:10Z,2018-04-09T12:51:37Z,2018-04-09T13:42:33Z,MERGED,True,94,56,7,https://github.com/AymericDu,rebuilder: Add more logs,4,[],https://github.com/open-io/oio-sds/pull/1435,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1435#issuecomment-379242307,"SUMMARY

rebuilder: Add more logs.
Retry to fetch chunks in the event of network error.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Rebuilder
SDS VERSION
openio 4.1.22.dev29","Codecov Report

Merging #1435 into 4.1.x will decrease coverage by 0.05%.
The diff coverage is 38.7%.


@@            Coverage Diff             @@
##            4.1.x    #1435      +/-   ##
==========================================
- Coverage   76.54%   76.49%   -0.06%     
==========================================
  Files         301      301              
  Lines       56268    56447     +179     
  Branches     6804     6872      +68     
==========================================
+ Hits        43072    43177     +105     
- Misses      13050    13056       +6     
- Partials      146      214      +68



Impacted Files
Coverage Δ





oio/content/content.py
90.9% <100%> (ø)
⬆️


oio/content/factory.py
98.36% <100%> (ø)
⬆️


oio/rebuilder/rebuilder.py
19.75% <6.66%> (-1.3%)
⬇️


oio/rdir/client.py
62.92% <60%> (-0.34%)
⬇️


oio/rebuilder/blob_rebuilder.py
21.05% <66.66%> (ø)
⬆️


meta0v2/meta0_server.c
55.69% <0%> (-17.73%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/zk_manager.c
61.24% <0%> (-12.41%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


core/proxy.c
81.5% <0%> (-2.16%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 465a743...688524d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1436,2018-04-06T13:46:30Z,2018-04-09T07:58:32Z,2018-04-25T13:23:38Z,MERGED,True,5,3,2,https://github.com/murlock,oio: fix end-marker option,2,[],https://github.com/open-io/oio-sds/pull/1436,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1436,"Python API use end_marker but proxy await marker_end
SUMMARY
Using --end-marker or end_marker from API was ignored by proxy await marker_end
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.22.dev26

ADDITIONAL INFORMATION
 openio object list test 
+------+------+----------------------------------+------------------+
| Name | Size | Hash                             |          Version |
+------+------+----------------------------------+------------------+
| a1   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022180939844 |
| a2   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022184754894 |
| a3   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022188525013 |
+------+------+----------------------------------+------------------+

Before fix
openio object list test --end-marker a2
+------+------+----------------------------------+------------------+
| Name | Size | Hash                             |          Version |
+------+------+----------------------------------+------------------+
| a1   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022180939844 |
| a2   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022184754894 |
| a3   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022188525013 |
+------+------+----------------------------------+------------------+

After fix
$ openio object list test --end-marker a2
+------+------+----------------------------------+------------------+
| Name | Size | Hash                             |          Version |
+------+------+----------------------------------+------------------+
| a1   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022180939844 |
+------+------+----------------------------------+------------------+","Python API use end_marker but proxy await marker_end
SUMMARY
Using --end-marker or end_marker from API was ignored by proxy await marker_end
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.22.dev26

ADDITIONAL INFORMATION
 openio object list test 
+------+------+----------------------------------+------------------+
| Name | Size | Hash                             |          Version |
+------+------+----------------------------------+------------------+
| a1   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022180939844 |
| a2   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022184754894 |
| a3   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022188525013 |
+------+------+----------------------------------+------------------+

Before fix
openio object list test --end-marker a2
+------+------+----------------------------------+------------------+
| Name | Size | Hash                             |          Version |
+------+------+----------------------------------+------------------+
| a1   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022180939844 |
| a2   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022184754894 |
| a3   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022188525013 |
+------+------+----------------------------------+------------------+

After fix
$ openio object list test --end-marker a2
+------+------+----------------------------------+------------------+
| Name | Size | Hash                             |          Version |
+------+------+----------------------------------+------------------+
| a1   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022180939844 |
+------+------+----------------------------------+------------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1436,2018-04-06T13:46:30Z,2018-04-09T07:58:32Z,2018-04-25T13:23:38Z,MERGED,True,5,3,2,https://github.com/murlock,oio: fix end-marker option,2,[],https://github.com/open-io/oio-sds/pull/1436,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1436#issuecomment-379269437,"Python API use end_marker but proxy await marker_end
SUMMARY
Using --end-marker or end_marker from API was ignored by proxy await marker_end
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.22.dev26

ADDITIONAL INFORMATION
 openio object list test 
+------+------+----------------------------------+------------------+
| Name | Size | Hash                             |          Version |
+------+------+----------------------------------+------------------+
| a1   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022180939844 |
| a2   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022184754894 |
| a3   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022188525013 |
+------+------+----------------------------------+------------------+

Before fix
openio object list test --end-marker a2
+------+------+----------------------------------+------------------+
| Name | Size | Hash                             |          Version |
+------+------+----------------------------------+------------------+
| a1   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022180939844 |
| a2   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022184754894 |
| a3   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022188525013 |
+------+------+----------------------------------+------------------+

After fix
$ openio object list test --end-marker a2
+------+------+----------------------------------+------------------+
| Name | Size | Hash                             |          Version |
+------+------+----------------------------------+------------------+
| a1   | 3164 | 79A021D833A697B3158D1BC89E78E3BD | 1523022180939844 |
+------+------+----------------------------------+------------------+","Codecov Report

Merging #1436 into 4.1.x will decrease coverage by 0.29%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.1.x    #1436     +/-   ##
=========================================
- Coverage   76.54%   76.25%   -0.3%     
=========================================
  Files         301      301             
  Lines       56268    56270      +2     
  Branches     6804     6805      +1     
=========================================
- Hits        43072    42908    -164     
- Misses      13050    13099     +49     
- Partials      146      263    +117



Impacted Files
Coverage Δ





tests/functional/container/test_container.py
98.92% <100%> (ø)
⬆️


proxy/m2_actions.c
87.33% <100%> (+4.46%)
⬆️


meta0v2/meta0_server.c
55.69% <0%> (-17.73%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta0v2/zk_manager.c
61.24% <0%> (-12.41%)
⬇️


sqliterepo/gridd_client_pool.c
71.16% <0%> (-10.7%)
⬇️


sqliterepo/synchro.c
56.89% <0%> (-8.51%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


sqliterepo/replication.c
80.22% <0%> (-5.74%)
⬇️


... and 44 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 465a743...2f6d9e3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1437,2018-04-09T14:30:12Z,2018-04-10T15:52:16Z,2018-04-10T16:01:42Z,MERGED,True,18,19,5,https://github.com/AymericDu,Use only 'urllib3' imported with 'eventlet',1,[],https://github.com/open-io/oio-sds/pull/1437,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1437,"SUMMARY
Use only 'urllib3' imported with 'eventlet', otherwise the I/O of 'urllib3' is blocking.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.22.dev33","SUMMARY
Use only 'urllib3' imported with 'eventlet', otherwise the I/O of 'urllib3' is blocking.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.22.dev33",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1437,2018-04-09T14:30:12Z,2018-04-10T15:52:16Z,2018-04-10T16:01:42Z,MERGED,True,18,19,5,https://github.com/AymericDu,Use only 'urllib3' imported with 'eventlet',1,[],https://github.com/open-io/oio-sds/pull/1437,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1437#issuecomment-379780875,"SUMMARY
Use only 'urllib3' imported with 'eventlet', otherwise the I/O of 'urllib3' is blocking.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.22.dev33","Codecov Report

Merging #1437 into 4.1.x will increase coverage by 0.78%.
The diff coverage is 63.63%.


@@            Coverage Diff             @@
##            4.1.x    #1437      +/-   ##
==========================================
+ Coverage   75.62%   76.41%   +0.78%     
==========================================
  Files         300      301       +1     
  Lines       56116    56281     +165     
  Branches     6805     6811       +6     
==========================================
+ Hits        42439    43006     +567     
+ Misses      13291    12984     -307     
+ Partials      386      291      -95



Impacted Files
Coverage Δ





oio/api/base.py
90.76% <0%> (-3.18%)
⬇️


tests/functional/api/test_proxy_client.py
100% <100%> (ø)
⬆️


oio/common/http.py
77.11% <60%> (-0.12%)
⬇️


oio/blob/client.py
88.23% <75%> (-1.19%)
⬇️


tests/functional/audit/test_audit_storage.py
79.23% <0%> (-20.77%)
⬇️


oio/content/plain.py
71.42% <0%> (-17.86%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


oio/common/utils.py
64.54% <0%> (-10.76%)
⬇️


oio/account/client.py
77.77% <0%> (-6.67%)
⬇️


oio/api/replication.py
78.21% <0%> (-6.15%)
⬇️


... and 60 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ad27ba3...f4a7260. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1438,2018-04-10T12:48:13Z,2018-04-10T15:56:31Z,2018-04-10T16:01:35Z,MERGED,True,9,5,2,https://github.com/AymericDu,Use the same blob client for the content factory,1,[],https://github.com/open-io/oio-sds/pull/1438,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1438,"SUMMARY
Use the same blob client, so the same connection pool, for the content factory.
ISSUE TYPE

Improvement Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.22.dev34","SUMMARY
Use the same blob client, so the same connection pool, for the content factory.
ISSUE TYPE

Improvement Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.22.dev34",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1438,2018-04-10T12:48:13Z,2018-04-10T15:56:31Z,2018-04-10T16:01:35Z,MERGED,True,9,5,2,https://github.com/AymericDu,Use the same blob client for the content factory,1,[],https://github.com/open-io/oio-sds/pull/1438,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1438#issuecomment-380109134,"SUMMARY
Use the same blob client, so the same connection pool, for the content factory.
ISSUE TYPE

Improvement Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.22.dev34","Codecov Report

Merging #1438 into 4.1.x will increase coverage by 1.17%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.1.x   #1438      +/-   ##
=========================================
+ Coverage   75.62%   76.8%   +1.17%     
=========================================
  Files         300     301       +1     
  Lines       56116   56287     +171     
  Branches     6805    6805              
=========================================
+ Hits        42439   43229     +790     
+ Misses      13291   13031     -260     
+ Partials      386      27     -359



Impacted Files
Coverage Δ





oio/content/factory.py
98.41% <100%> (+0.05%)
⬆️


oio/content/content.py
90.9% <100%> (ø)
⬆️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <0%> (-0.41%)
⬇️


metautils/lib/utils_service_info.c
84.78% <0%> (-0.32%)
⬇️


core/lb.c
93.3% <0%> (-0.29%)
⬇️


metautils/lib/comm_message.c
85.26% <0%> (-0.27%)
⬇️


metautils/lib/gridd_client.c
77.73% <0%> (ø)
⬆️


oio/ecd/app.py
66.27% <0%> (ø)



meta2v2/meta2_utils.c
74.67% <0%> (+0.06%)
⬆️


... and 51 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ad27ba3...3a35a4b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1439,2018-04-10T14:12:51Z,2018-04-10T16:35:52Z,2018-04-16T07:23:42Z,MERGED,True,2,2,2,https://github.com/AymericDu,rebuilder: Fix the import of 'get_logger',1,[],https://github.com/open-io/oio-sds/pull/1439,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1439,"SUMMARY
Fix the import of 'get_logger'.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-meta1-rebuilder
oio-meta2-rebuilder

SDS VERSION
openio 4.1.22.dev32","SUMMARY
Fix the import of 'get_logger'.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-meta1-rebuilder
oio-meta2-rebuilder

SDS VERSION
openio 4.1.22.dev32",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1439,2018-04-10T14:12:51Z,2018-04-10T16:35:52Z,2018-04-16T07:23:42Z,MERGED,True,2,2,2,https://github.com/AymericDu,rebuilder: Fix the import of 'get_logger',1,[],https://github.com/open-io/oio-sds/pull/1439,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1439#issuecomment-380120867,"SUMMARY
Fix the import of 'get_logger'.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-meta1-rebuilder
oio-meta2-rebuilder

SDS VERSION
openio 4.1.22.dev32","Codecov Report

Merging #1439 into 4.x will not change coverage.
The diff coverage is n/a.


@@           Coverage Diff           @@
##              4.x    #1439   +/-   ##
=======================================
  Coverage   78.16%   78.16%           
=======================================
  Files         304      304           
  Lines       57082    57082           
  Branches     6571     6571           
=======================================
  Hits        44613    44613           
+ Misses      12428    12426    -2     
- Partials       41       43    +2



Impacted Files
Coverage Δ





cluster/module/server.c
78.28% <0%> (-0.98%)
⬇️


meta0v2/meta0_backend.c
77.33% <0%> (-0.8%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
81.4% <0%> (-0.77%)
⬇️


metautils/lib/gridd_client_ext.c
80.15% <0%> (-0.36%)
⬇️


sqliterepo/replication.c
87.68% <0%> (-0.28%)
⬇️


metautils/lib/comm_converter.c
73.9% <0%> (-0.26%)
⬇️


sqliterepo/replication_dispatcher.c
61.67% <0%> (-0.23%)
⬇️


server/transport_gridd.c
77.87% <0%> (-0.19%)
⬇️


sqliterepo/election.c
88.97% <0%> (-0.16%)
⬇️


meta1v2/meta1_backend_services.c
54.41% <0%> (-0.14%)
⬇️


... and 8 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8e26018...9c7c453. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1440,2018-04-10T14:27:44Z,2018-04-10T15:57:05Z,2018-04-10T15:57:08Z,MERGED,True,61,32,7,https://github.com/fvennetier,Integrity and rebuilder improvements,3,[],https://github.com/open-io/oio-sds/pull/1440,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1440,Various improvements in oio-crawler-integrity and oio-blob-rebuilder.,Various improvements in oio-crawler-integrity and oio-blob-rebuilder.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1440,2018-04-10T14:27:44Z,2018-04-10T15:57:05Z,2018-04-10T15:57:08Z,MERGED,True,61,32,7,https://github.com/fvennetier,Integrity and rebuilder improvements,3,[],https://github.com/open-io/oio-sds/pull/1440,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1440#issuecomment-380137100,Various improvements in oio-crawler-integrity and oio-blob-rebuilder.,"Codecov Report

Merging #1440 into 4.1.x will increase coverage by 0.94%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##            4.1.x    #1440      +/-   ##
==========================================
+ Coverage   75.62%   76.57%   +0.94%     
==========================================
  Files         300      301       +1     
  Lines       56116    56289     +173     
  Branches     6805     6805              
==========================================
+ Hits        42439    43102     +663     
+ Misses      13291    13059     -232     
+ Partials      386      128     -258



Impacted Files
Coverage Δ





oio/rebuilder/blob_rebuilder.py
21.05% <ø> (ø)
⬆️


oio/content/ec.py
56.66% <0%> (+38.48%)
⬆️


oio/content/plain.py
92.98% <100%> (+3.69%)
⬆️


oio/api/base.py
96.82% <100%> (+2.88%)
⬆️


tests/unit/__init__.py
96.9% <100%> (+0.03%)
⬆️


oio/api/ec.py
93.7% <100%> (+1.11%)
⬆️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


rdir/rdir.c
74.01% <0%> (-0.46%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <0%> (-0.41%)
⬇️


meta2v2/meta2_filters_action_container.c
55.16% <0%> (-0.36%)
⬇️


... and 49 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ad27ba3...b44652d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1442,2018-04-11T13:27:06Z,2018-05-02T13:00:58Z,2018-05-14T15:10:11Z,MERGED,True,148,24,8,https://github.com/AymericDu,Send the content ID to create an object,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1442,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1442,"SUMMARY
Pass the content ID from content/prepare to content/create.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.22.dev31","SUMMARY
Pass the content ID from content/prepare to content/create.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.22.dev31",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1442,2018-04-11T13:27:06Z,2018-05-02T13:00:58Z,2018-05-14T15:10:11Z,MERGED,True,148,24,8,https://github.com/AymericDu,Send the content ID to create an object,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1442,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1442#issuecomment-380457248,"SUMMARY
Pass the content ID from content/prepare to content/create.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.22.dev31","Codecov Report

Merging #1442 into 4.x will increase coverage by 3.67%.
The diff coverage is 51.22%.


@@            Coverage Diff             @@
##              4.x    #1442      +/-   ##
==========================================
+ Coverage   75.66%   79.33%   +3.67%     
==========================================
  Files         317      317              
  Lines       59299    59368      +69     
  Branches     6617     6627      +10     
==========================================
+ Hits        44865    47093    +2228     
+ Misses      14434    12224    -2210     
- Partials        0       51      +51



Impacted Files
Coverage Δ





oio/container/client.py
80.34% <100%> (ø)
⬆️


meta2v2/meta2_utils.c
82.54% <100%> (+0.07%)
⬆️


oio/api/object_storage.py
83.51% <100%> (+0.69%)
⬆️


core/url.c
83.09% <24.14%> (-5.66%)
⬇️


tests/functional/m2_filters/test_filters.py
63.64% <31.82%> (-5.32%)
⬇️


tests/functional/api/test_objectstorage.py
90.83% <80%> (-0.16%)
⬇️


meta2v2/meta2_backend.c
80.71% <90.91%> (+0.62%)
⬆️


proxy/m2_actions.c
87.44% <0%> (+0.08%)
⬆️


proxy/metacd_http.c
90.27% <0%> (+0.16%)
⬆️


... and 61 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 00580b7...520f0ac. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1443,2018-04-12T16:53:05Z,2018-04-17T08:11:48Z,2018-04-17T08:11:50Z,MERGED,True,195,72,8,https://github.com/fvennetier,Python API: allow disabling client-side chunk checksums,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1443,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1443,"SUMMARY
Allow disabling client-side chunk checksums, to reduce CPU usage during upload.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python API
SDS VERSION

openio 4.1.22.dev39

ADDITIONAL INFORMATION
This modifications prepares a future evolution where the checksum algorithm will be selectable. Only 'md5' (default) and None (disable client-side checksums) are supported at the moment.","SUMMARY
Allow disabling client-side chunk checksums, to reduce CPU usage during upload.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python API
SDS VERSION

openio 4.1.22.dev39

ADDITIONAL INFORMATION
This modifications prepares a future evolution where the checksum algorithm will be selectable. Only 'md5' (default) and None (disable client-side checksums) are supported at the moment.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1443,2018-04-12T16:53:05Z,2018-04-17T08:11:48Z,2018-04-17T08:11:50Z,MERGED,True,195,72,8,https://github.com/fvennetier,Python API: allow disabling client-side chunk checksums,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1443,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1443#issuecomment-380878783,"SUMMARY
Allow disabling client-side chunk checksums, to reduce CPU usage during upload.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python API
SDS VERSION

openio 4.1.22.dev39

ADDITIONAL INFORMATION
This modifications prepares a future evolution where the checksum algorithm will be selectable. Only 'md5' (default) and None (disable client-side checksums) are supported at the moment.","Codecov Report

Merging #1443 into 4.1.x will decrease coverage by 0.39%.
The diff coverage is 95.68%.


@@           Coverage Diff            @@
##           4.1.x    #1443     +/-   ##
========================================
- Coverage   76.7%   76.31%   -0.4%     
========================================
  Files        301      301             
  Lines      56287    56359     +72     
  Branches    6805     6805             
========================================
- Hits       43176    43011    -165     
- Misses     12953    12967     +14     
- Partials     158      381    +223



Impacted Files
Coverage Δ





tests/unit/api/test_ec.py
86.42% <100%> (+0.56%)
⬆️


tests/unit/api/test_replication.py
94.67% <100%> (+2.07%)
⬆️


oio/api/io.py
82.71% <100%> (+0.41%)
⬆️


oio/common/constants.py
100% <100%> (ø)
⬆️


oio/api/ec.py
93.58% <100%> (-0.3%)
⬇️


tests/unit/api/__init__.py
96.66% <100%> (+0.05%)
⬆️


oio/api/object_storage.py
79.72% <78.94%> (+0.54%)
⬆️


oio/api/replication.py
77.9% <90%> (-0.32%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


sqliterepo/gridd_client_pool.c
68.83% <0%> (-12.1%)
⬇️


... and 50 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 780f9dc...483f864. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1444,2018-04-16T08:35:51Z,2018-04-17T08:14:40Z,2018-04-17T09:44:21Z,MERGED,True,5,1,1,https://github.com/AymericDu,oio-blob-indexer: Fix the value of the rate,1,[],https://github.com/open-io/oio-sds/pull/1444,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1444,"SUMMARY
Fix the value of the rate.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-indexer

SDS VERSION
openio 4.1.22.dev39","SUMMARY
Fix the value of the rate.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-indexer

SDS VERSION
openio 4.1.22.dev39",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1444,2018-04-16T08:35:51Z,2018-04-17T08:14:40Z,2018-04-17T09:44:21Z,MERGED,True,5,1,1,https://github.com/AymericDu,oio-blob-indexer: Fix the value of the rate,1,[],https://github.com/open-io/oio-sds/pull/1444,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1444#issuecomment-381526906,"SUMMARY
Fix the value of the rate.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-indexer

SDS VERSION
openio 4.1.22.dev39","Codecov Report

Merging #1444 into 4.1.x will decrease coverage by <.01%.
The diff coverage is 100%.


@@           Coverage Diff            @@
##           4.1.x   #1444      +/-   ##
========================================
- Coverage   76.7%   76.7%   -0.01%     
========================================
  Files        301     301              
  Lines      56287   56290       +3     
  Branches    6805    6805              
========================================
- Hits       43176   43175       -1     
+ Misses     12953   12945       -8     
- Partials     158     170      +12



Impacted Files
Coverage Δ





oio/blob/indexer.py
76.66% <100%> (+0.8%)
⬆️


meta1v2/meta1_server.c
71.87% <0%> (-6.25%)
⬇️


oio/account/client.py
78.88% <0%> (-5.56%)
⬇️


oio/api/base.py
93.54% <0%> (-1.62%)
⬇️


meta2v2/meta2_filters_action_content.c
92.08% <0%> (-1.47%)
⬇️


metautils/lib/utils_gba.c
61.62% <0%> (-1.17%)
⬇️


meta2v2/meta2_filters_extract.c
88.65% <0%> (-1.04%)
⬇️


meta1v2/meta1_backend_internals.c
75.83% <0%> (-0.84%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


tests/functional/api/test_objectstorage.py
96.21% <0%> (-0.6%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 780f9dc...1d6f95c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1445,2018-04-17T09:29:40Z,2018-04-18T09:55:22Z,2018-04-18T10:08:38Z,MERGED,True,43,3,2,https://github.com/AymericDu,Rollback if the destruction of the container failed,1,[],https://github.com/open-io/oio-sds/pull/1445,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1445,"SUMMARY
Rollback if the destruction of the container failed so as not to lose the location of the container.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 4.1.22.dev38","SUMMARY
Rollback if the destruction of the container failed so as not to lose the location of the container.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 4.1.22.dev38",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1445,2018-04-17T09:29:40Z,2018-04-18T09:55:22Z,2018-04-18T10:08:38Z,MERGED,True,43,3,2,https://github.com/AymericDu,Rollback if the destruction of the container failed,1,[],https://github.com/open-io/oio-sds/pull/1445,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1445#issuecomment-382296476,"SUMMARY
Rollback if the destruction of the container failed so as not to lose the location of the container.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 4.1.22.dev38","Codecov Report

Merging #1445 into 4.1.x will increase coverage by 0.08%.
The diff coverage is 19.04%.


@@            Coverage Diff             @@
##            4.1.x    #1445      +/-   ##
==========================================
+ Coverage   76.94%   77.02%   +0.08%     
==========================================
  Files         301      301              
  Lines       57013    57031      +18     
  Branches     6831     6833       +2     
==========================================
+ Hits        43867    43928      +61     
+ Misses      12969    12927      -42     
+ Partials      177      176       -1



Impacted Files
Coverage Δ





meta2v2/meta2_backend.c
77.68% <ø> (ø)
⬆️


proxy/m2_actions.c
81.81% <19.04%> (-1.09%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


meta2v2/meta2_filters_action_content.c
92.08% <0%> (-1.47%)
⬇️


meta2v2/meta2_filters_extract.c
88.65% <0%> (-1.04%)
⬇️


sqliterepo/repository.c
73.34% <0%> (-0.36%)
⬇️


sqliterepo/replication_dispatcher.c
51.49% <0%> (-0.33%)
⬇️


proxy/metacd_http.c
89.76% <0%> (-0.32%)
⬇️


metautils/lib/comm_converter.c
74.41% <0%> (-0.27%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update da9130a...aeceae1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1446,2018-04-19T09:00:15Z,2018-04-19T09:35:07Z,2018-04-25T13:23:29Z,MERGED,True,1,1,1,https://github.com/murlock,tests: run coverage on more files,1,[],https://github.com/open-io/oio-sds/pull/1446,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1446,"Travis was using coverage on installed files and was ignored by codecov,
our python module will be used with python setup.py develop to fix that.
SUMMARY
Coverage was not done
ISSUE TYPE

Test Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.22.dev38","Travis was using coverage on installed files and was ignored by codecov,
our python module will be used with python setup.py develop to fix that.
SUMMARY
Coverage was not done
ISSUE TYPE

Test Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.22.dev38",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1446,2018-04-19T09:00:15Z,2018-04-19T09:35:07Z,2018-04-25T13:23:29Z,MERGED,True,1,1,1,https://github.com/murlock,tests: run coverage on more files,1,[],https://github.com/open-io/oio-sds/pull/1446,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1446#issuecomment-382667471,"Travis was using coverage on installed files and was ignored by codecov,
our python module will be used with python setup.py develop to fix that.
SUMMARY
Coverage was not done
ISSUE TYPE

Test Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.22.dev38","Codecov Report

Merging #1446 into 4.1.x will decrease coverage by 0.14%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.1.x    #1446      +/-   ##
==========================================
- Coverage   77.17%   77.03%   -0.15%     
==========================================
  Files         301      309       +8     
  Lines       57031    58081    +1050     
  Branches     6833     6833              
==========================================
+ Hits        44015    44742     +727     
+ Misses      12963    12956       -7     
- Partials       53      383     +330



Impacted Files
Coverage Δ





sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


sqliterepo/gridd_client_pool.c
71.16% <0%> (-9.31%)
⬇️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


sqliterepo/synchro.c
56.63% <0%> (-8.56%)
⬇️


proxy/sqlx_actions.c
56.49% <0%> (-7.35%)
⬇️


sqliterepo/replication.c
81.08% <0%> (-5.74%)
⬇️


proxy/dir_actions.c
72.69% <0%> (-4.45%)
⬇️


proxy/m2_actions.c
81.81% <0%> (-4.38%)
⬇️


... and 54 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0b3c2cf...289dd97. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1448,2018-04-19T16:35:16Z,2018-04-23T06:54:25Z,2018-04-23T06:54:28Z,MERGED,True,3,3,2,https://github.com/fvennetier,"rawx, sqliterepo: replace strncpy by g_strlcpy",1,['language:C'],https://github.com/open-io/oio-sds/pull/1448,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1448,"SUMMARY
Replace strncpy by g_strlcpy to avoid warnings with recent versions of GCC.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx
sqliterepo

SDS VERSION

openio 4.1.22.dev65

ADDITIONAL INFORMATION
Errors were like
/home/fvennetier/src/public_git/oio-sds/sqliterepo/election.c:1066:3: error: ‘strncpy’ specified bound 65 equals destination size [-Werror=stringop-truncation]
   strncpy(member->key, key, sizeof(member->key));
   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~","SUMMARY
Replace strncpy by g_strlcpy to avoid warnings with recent versions of GCC.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx
sqliterepo

SDS VERSION

openio 4.1.22.dev65

ADDITIONAL INFORMATION
Errors were like
/home/fvennetier/src/public_git/oio-sds/sqliterepo/election.c:1066:3: error: ‘strncpy’ specified bound 65 equals destination size [-Werror=stringop-truncation]
   strncpy(member->key, key, sizeof(member->key));
   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1448,2018-04-19T16:35:16Z,2018-04-23T06:54:25Z,2018-04-23T06:54:28Z,MERGED,True,3,3,2,https://github.com/fvennetier,"rawx, sqliterepo: replace strncpy by g_strlcpy",1,['language:C'],https://github.com/open-io/oio-sds/pull/1448,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1448#issuecomment-382806343,"SUMMARY
Replace strncpy by g_strlcpy to avoid warnings with recent versions of GCC.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx
sqliterepo

SDS VERSION

openio 4.1.22.dev65

ADDITIONAL INFORMATION
Errors were like
/home/fvennetier/src/public_git/oio-sds/sqliterepo/election.c:1066:3: error: ‘strncpy’ specified bound 65 equals destination size [-Werror=stringop-truncation]
   strncpy(member->key, key, sizeof(member->key));
   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~","Codecov Report

Merging #1448 into 4.1.x will increase coverage by 0.57%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##           4.1.x    #1448      +/-   ##
=========================================
+ Coverage   76.9%   77.48%   +0.57%     
=========================================
  Files        308      309       +1     
  Lines      57912    58081     +169     
  Branches    6833     6839       +6     
=========================================
+ Hits       44540    45002     +462     
+ Misses     13130    12910     -220     
+ Partials     242      169      -73



Impacted Files
Coverage Δ





sqliterepo/election.c
88.83% <100%> (+3.31%)
⬆️


rawx-apache2/src/mod_dav_rawx.c
71.16% <100%> (ø)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


proxy/sqlx_actions.c
56.49% <0%> (-7.35%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


proxy/m2_actions.c
81.81% <0%> (-4.38%)
⬇️


proxy/dir_actions.c
73.01% <0%> (-4.13%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


... and 56 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4f70ec8...ef6373d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1449,2018-04-20T14:30:51Z,2018-04-27T08:19:24Z,2018-04-27T08:19:27Z,MERGED,True,134,28,6,https://github.com/fvennetier,Python API: tolerate meta1 errors during 'volume admin bootstrap',1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1449,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1449,"SUMMARY
Before this commit, a single meta1 failure was preventing the operation
to continue. Also, 'volume assignation' command did not return any
result.
Fix #1447
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.1.22.dev66

ADDITIONAL INFORMATION","SUMMARY
Before this commit, a single meta1 failure was preventing the operation
to continue. Also, 'volume assignation' command did not return any
result.
Fix #1447
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.1.22.dev66

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1449,2018-04-20T14:30:51Z,2018-04-27T08:19:24Z,2018-04-27T08:19:27Z,MERGED,True,134,28,6,https://github.com/fvennetier,Python API: tolerate meta1 errors during 'volume admin bootstrap',1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1449,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1449#issuecomment-383478054,"SUMMARY
Before this commit, a single meta1 failure was preventing the operation
to continue. Also, 'volume assignation' command did not return any
result.
Fix #1447
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.1.22.dev66

ADDITIONAL INFORMATION","Codecov Report

Merging #1449 into 4.1.x will increase coverage by 0.81%.
The diff coverage is 90.76%.


@@            Coverage Diff             @@
##            4.1.x    #1449      +/-   ##
==========================================
+ Coverage   77.01%   77.83%   +0.81%     
==========================================
  Files         308      309       +1     
  Lines       57919    58137     +218     
  Branches     6833     6833              
==========================================
+ Hits        44605    45249     +644     
+ Misses      13148    12869     -279     
+ Partials      166       19     -147



Impacted Files
Coverage Δ





tests/utils.py
90.95% <100%> (+2.89%)
⬆️


oio/common/exceptions.py
98.36% <100%> (+0.01%)
⬆️


tests/functional/api/test_objectstorage.py
96.23% <100%> (+0.02%)
⬆️


oio/rdir/client.py
67.87% <77.27%> (+5.73%)
⬆️


tests/functional/api/test_directory.py
92.12% <97.22%> (+1.36%)
⬆️


oio/account/client.py
84.44% <0%> (-5.56%)
⬇️


rawx-lib/src/attr_handler.c
58.44% <0%> (-0.46%)
⬇️


rdir/rdir.c
74.01% <0%> (-0.46%)
⬇️


core/cs.c
80.8% <0%> (-0.45%)
⬇️


sqliterepo/replication.c
86.81% <0%> (-0.29%)
⬇️


... and 59 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f330c8a...8f41449. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1450,2018-04-24T17:02:15Z,2018-06-07T10:11:25Z,2018-08-22T12:26:28Z,MERGED,True,130,2,1,https://github.com/acornard,Persist conscience services status,9,[],https://github.com/open-io/oio-sds/pull/1450,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1450,"SUMMARY
Write periodically services status on file.
This file is read when conscience restart for update services.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Conscience

SDS VERSION
openio 4.1.22.dev70","SUMMARY
Write periodically services status on file.
This file is read when conscience restart for update services.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Conscience

SDS VERSION
openio 4.1.22.dev70",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1450,2018-04-24T17:02:15Z,2018-06-07T10:11:25Z,2018-08-22T12:26:28Z,MERGED,True,130,2,1,https://github.com/acornard,Persist conscience services status,9,[],https://github.com/open-io/oio-sds/pull/1450,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1450#issuecomment-384279981,"SUMMARY
Write periodically services status on file.
This file is read when conscience restart for update services.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Conscience

SDS VERSION
openio 4.1.22.dev70","Codecov Report

Merging #1450 into 4.x will decrease coverage by 0.24%.
The diff coverage is 26.39%.


@@            Coverage Diff            @@
##              4.x   #1450      +/-   ##
=========================================
- Coverage   79.44%   79.2%   -0.23%     
=========================================
  Files         317     317              
  Lines       59417   59479      +62     
  Branches     6620    6631      +11     
=========================================
- Hits        47196   47104      -92     
- Misses      12177   12321     +144     
- Partials       44      54      +10



Impacted Files
Coverage Δ





cluster/module/server.c
74.57% <26.39%> (-4.89%)
⬇️


oio/account/client.py
84.62% <0%> (-6.59%)
⬇️


oio/conscience/client.py
66.24% <0%> (-3.89%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


oio/rdir/client.py
68% <0%> (-3.55%)
⬇️


oio/crawler/integrity.py
69.43% <0%> (-2.28%)
⬇️


sqliterepo/replication.c
85.39% <0%> (-2%)
⬇️


oio/container/backup.py
77.92% <0%> (-1.99%)
⬇️


tests/functional/content/test_service_id.py
95.5% <0%> (-1.8%)
⬇️


proxy/metacd_http.c
89.19% <0%> (-1.39%)
⬇️


... and 19 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0823a70...f42795d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1451,2018-04-25T11:19:56Z,2018-04-27T06:59:09Z,2018-05-07T09:43:58Z,MERGED,True,24,5,1,https://github.com/jfsmig,sqliterepo/synchro: Dump the duration of the calls to ZK,1,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1451,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1451,"SUMMARY
Dump the duration of the calls to the zookeeper client API.
ISSUE TYPE
Enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
1487a81864d35d17ad8ceee17eb3bfaf3a60719f (current head of 4.1.x, to appear in the next 4.1.22)
ADDITIONAL INFORMATION
Requires a build in CMAKE_BUILD_TYPE=Debug and the live option server.log_outgoing=true to be set.","SUMMARY
Dump the duration of the calls to the zookeeper client API.
ISSUE TYPE
Enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
1487a81864d35d17ad8ceee17eb3bfaf3a60719f (current head of 4.1.x, to appear in the next 4.1.22)
ADDITIONAL INFORMATION
Requires a build in CMAKE_BUILD_TYPE=Debug and the live option server.log_outgoing=true to be set.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1452,2018-04-25T11:36:05Z,2018-04-27T09:03:11Z,2018-05-07T09:45:00Z,MERGED,True,14,3,2,https://github.com/jfsmig,oio-reset: Allow a specific data directory for the services,2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1452,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1452,"SUMMARY
Add an option oio-reset.sh and also to oio-bootstrap.py that configure a specific directory for the data of the services, instead of ~/.oio/sds/data.
ISSUE TYPE
Enhancement
COMPONENT NAME

oio-reset
oio-bootstrap

SDS VERSION
4.1.21","SUMMARY
Add an option oio-reset.sh and also to oio-bootstrap.py that configure a specific directory for the data of the services, instead of ~/.oio/sds/data.
ISSUE TYPE
Enhancement
COMPONENT NAME

oio-reset
oio-bootstrap

SDS VERSION
4.1.21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1452,2018-04-25T11:36:05Z,2018-04-27T09:03:11Z,2018-05-07T09:45:00Z,MERGED,True,14,3,2,https://github.com/jfsmig,oio-reset: Allow a specific data directory for the services,2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1452,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1452#issuecomment-384910953,"SUMMARY
Add an option oio-reset.sh and also to oio-bootstrap.py that configure a specific directory for the data of the services, instead of ~/.oio/sds/data.
ISSUE TYPE
Enhancement
COMPONENT NAME

oio-reset
oio-bootstrap

SDS VERSION
4.1.21","Codecov Report

Merging #1452 into 4.1.x will increase coverage by 0.44%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##            4.1.x   #1452      +/-   ##
=========================================
+ Coverage   77.05%   77.5%   +0.44%     
=========================================
  Files         309     309              
  Lines       58145   58145              
  Branches     6833    6839       +6     
=========================================
+ Hits        44805   45065     +260     
+ Misses      12974   12924      -50     
+ Partials      366     156     -210



Impacted Files
Coverage Δ





oio/container/backup.py
74.8% <0%> (-1.39%)
⬇️


rawx-apache2/src/rawx_repo_core.c
68.16% <0%> (-1.18%)
⬇️


server/slab.c
79.74% <0%> (-0.64%)
⬇️


rawx-apache2/src/rawx_repository.c
51.57% <0%> (-0.46%)
⬇️


metautils/lib/comm_message.c
85.26% <0%> (ø)
⬆️


rawx-apache2/src/mod_dav_rawx.c
71.16% <0%> (ø)
⬆️


meta2v2/meta2_backend.c
77.68% <0%> (+0.1%)
⬆️


tests/functional/api/test_objectstorage.py
96.43% <0%> (+0.19%)
⬆️


server/transport_gridd.c
78.57% <0%> (+0.19%)
⬆️


metautils/lib/gridd_client.c
77.73% <0%> (+0.2%)
⬆️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 40f0f81...378758f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1453,2018-04-25T16:47:18Z,2018-04-26T17:36:14Z,2018-05-07T09:43:25Z,MERGED,True,66,84,5,https://github.com/jfsmig,oio-reset: Simplify without `oio-wait-scored.sh`,7,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1453,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1453,"SUMMARY
Simplify oio-reset.sh to make a better use of openio.
Prior to this PR, oio-reset.sh used an archaic version of openio cluster wait. The rewrite required to adapt cluster wait but it now helps debugging the Travis CI with less (but unified) tools that propose a decent verbosity.
Rewrite oio-wait-scored.sh on top of the cluster wait subcommand of openio, for the sake of the backward compliance.
ISSUE TYPE
Enhancement
COMPONENT NAME
oio-reset
SDS VERSION
4.1.21","SUMMARY
Simplify oio-reset.sh to make a better use of openio.
Prior to this PR, oio-reset.sh used an archaic version of openio cluster wait. The rewrite required to adapt cluster wait but it now helps debugging the Travis CI with less (but unified) tools that propose a decent verbosity.
Rewrite oio-wait-scored.sh on top of the cluster wait subcommand of openio, for the sake of the backward compliance.
ISSUE TYPE
Enhancement
COMPONENT NAME
oio-reset
SDS VERSION
4.1.21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1453,2018-04-25T16:47:18Z,2018-04-26T17:36:14Z,2018-05-07T09:43:25Z,MERGED,True,66,84,5,https://github.com/jfsmig,oio-reset: Simplify without `oio-wait-scored.sh`,7,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1453,https://github.com/vincent-legoll,2,https://github.com/open-io/oio-sds/pull/1453#issuecomment-384633843,"SUMMARY
Simplify oio-reset.sh to make a better use of openio.
Prior to this PR, oio-reset.sh used an archaic version of openio cluster wait. The rewrite required to adapt cluster wait but it now helps debugging the Travis CI with less (but unified) tools that propose a decent verbosity.
Rewrite oio-wait-scored.sh on top of the cluster wait subcommand of openio, for the sake of the backward compliance.
ISSUE TYPE
Enhancement
COMPONENT NAME
oio-reset
SDS VERSION
4.1.21",LGTM,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1453,2018-04-25T16:47:18Z,2018-04-26T17:36:14Z,2018-05-07T09:43:25Z,MERGED,True,66,84,5,https://github.com/jfsmig,oio-reset: Simplify without `oio-wait-scored.sh`,7,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1453,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1453#issuecomment-384709541,"SUMMARY
Simplify oio-reset.sh to make a better use of openio.
Prior to this PR, oio-reset.sh used an archaic version of openio cluster wait. The rewrite required to adapt cluster wait but it now helps debugging the Travis CI with less (but unified) tools that propose a decent verbosity.
Rewrite oio-wait-scored.sh on top of the cluster wait subcommand of openio, for the sake of the backward compliance.
ISSUE TYPE
Enhancement
COMPONENT NAME
oio-reset
SDS VERSION
4.1.21","Codecov Report

Merging #1453 into 4.1.x will decrease coverage by 9.89%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##            4.1.x    #1453     +/-   ##
=========================================
- Coverage   77.53%   67.63%   -9.9%     
=========================================
  Files         309      275     -34     
  Lines       58081    53740   -4341     
  Branches     6833     6612    -221     
=========================================
- Hits        45035    36349   -8686     
- Misses      12890    17106   +4216     
- Partials      156      285    +129



Impacted Files
Coverage Δ





events/oio_events_queue_fanout.c
0% <0%> (-91.9%)
⬇️


sqliterepo/restoration.c
0% <0%> (-88.89%)
⬇️


sqliterepo/version.c
0% <0%> (-83.71%)
⬇️


sqliterepo/election.c
11.21% <0%> (-77.73%)
⬇️


metautils/lib/rrd.c
0% <0%> (-77.28%)
⬇️


tests/functional/content/test_ec.py
28.31% <0%> (-71.69%)
⬇️


events/oio_events_queue_zmq.c
0% <0%> (-65.99%)
⬇️


meta0v2/zk_manager.c
0% <0%> (-62.02%)
⬇️


sqliterepo/synchro.c
6.48% <0%> (-58.71%)
⬇️


gridd/main/srvalert.c
0% <0%> (-54.84%)
⬇️


... and 135 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1487a81...c73e07e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1454,2018-04-26T10:25:18Z,2018-04-27T08:04:39Z,2018-04-27T08:04:44Z,MERGED,True,32,7,3,https://github.com/fvennetier,Python API: fix kwargs hack,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1454,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1454,"SUMMARY
Fix kwargs hack in ObjectStorageApi preventing usage of
chunk_checksum_algo keyword.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.23.dev2","SUMMARY
Fix kwargs hack in ObjectStorageApi preventing usage of
chunk_checksum_algo keyword.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.23.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1454,2018-04-26T10:25:18Z,2018-04-27T08:04:39Z,2018-04-27T08:04:44Z,MERGED,True,32,7,3,https://github.com/fvennetier,Python API: fix kwargs hack,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1454,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1454#issuecomment-384705540,"SUMMARY
Fix kwargs hack in ObjectStorageApi preventing usage of
chunk_checksum_algo keyword.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.23.dev2","Codecov Report

Merging #1454 into 4.1.x will decrease coverage by 0.03%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.1.x   #1454      +/-   ##
=========================================
- Coverage   77.53%   77.5%   -0.04%     
=========================================
  Files         309     309              
  Lines       58081   58089       +8     
  Branches     6833    6833              
=========================================
- Hits        45035   45019      -16     
+ Misses      12890   12879      -11     
- Partials      156     191      +35



Impacted Files
Coverage Δ





oio/api/object_storage.py
81.08% <100%> (+0.5%)
⬆️


tests/unit/api/test_objectstorage.py
98.13% <100%> (+0.05%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


meta2v2/meta2_filters_action_container.c
52.31% <0%> (-4.99%)
⬇️


rdir/rdir.c
71.07% <0%> (-2.94%)
⬇️


gridd/main/sock.c
61.76% <0%> (-1.48%)
⬇️


metautils/lib/utils_m1url.c
94.44% <0%> (-1.12%)
⬇️


meta2v2/meta2_filters_extract.c
88.65% <0%> (-1.04%)
⬇️


meta0v2/zk_manager.c
61.24% <0%> (-0.78%)
⬇️


cluster/conscience/conscience_srvtype.c
81.18% <0%> (-0.54%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1487a81...c482557. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1455,2018-04-27T09:15:11Z,2018-05-04T08:03:17Z,2018-05-07T09:43:20Z,MERGED,True,107,136,6,https://github.com/jfsmig,sqliterepo: Finer alerting upon long locks,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1455,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1455,"SUMMARY
Print a warning when background administration tasks hold the lock for too long.
ISSUE TYPE
Enhancement
COMPONENT NAME
sqlx_service, sqliterepo
SDS VERSION
4.1.22","SUMMARY
Print a warning when background administration tasks hold the lock for too long.
ISSUE TYPE
Enhancement
COMPONENT NAME
sqlx_service, sqliterepo
SDS VERSION
4.1.22",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1455,2018-04-27T09:15:11Z,2018-05-04T08:03:17Z,2018-05-07T09:43:20Z,MERGED,True,107,136,6,https://github.com/jfsmig,sqliterepo: Finer alerting upon long locks,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1455,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1455#issuecomment-385457307,"SUMMARY
Print a warning when background administration tasks hold the lock for too long.
ISSUE TYPE
Enhancement
COMPONENT NAME
sqlx_service, sqliterepo
SDS VERSION
4.1.22","Codecov Report

Merging #1455 into 4.1.x will increase coverage by 2.62%.
The diff coverage is 88.46%.


@@            Coverage Diff             @@
##            4.1.x    #1455      +/-   ##
==========================================
+ Coverage   74.56%   77.19%   +2.62%     
==========================================
  Files         277      309      +32     
  Lines       54048    58149    +4101     
  Branches     6606     6828     +222     
==========================================
+ Hits        40303    44886    +4583     
+ Misses      13589    12894     -695     
- Partials      156      369     +213



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
83.26% <100%> (-0.51%)
⬇️


sqliterepo/election.c
85.62% <86.95%> (+8.63%)
⬆️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


sqliterepo/gridd_client_pool.c
71.16% <0%> (-10.24%)
⬇️


sqliterepo/synchro.c
57.22% <0%> (-7.81%)
⬇️


sqliterepo/replication.c
81.08% <0%> (-6.02%)
⬇️


meta2v2/meta2_filters_action_container.c
52.66% <0%> (-4.63%)
⬇️


meta2v2/meta2_utils_json_in.c
32.19% <0%> (-4.11%)
⬇️


oio/common/wsgi.py
41.77% <0%> (-3.8%)
⬇️


sqliterepo/replication_dispatcher.c
48.18% <0%> (-3.63%)
⬇️


... and 92 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 729341f...04527e0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1456,2018-04-27T13:19:30Z,2018-04-27T14:47:43Z,2018-04-27T14:47:46Z,MERGED,True,5,1,1,https://github.com/fvennetier,Python API: fix chunk full_path conversion,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1456,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1456,"SUMMARY
When full_path was a string (instead of a list or tuple), it was split
and re-assembled with commas between letters, triggering the creation of
many extended attributes on each chunk.
Thanks to @AymericDu 🦁
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.23.dev13","SUMMARY
When full_path was a string (instead of a list or tuple), it was split
and re-assembled with commas between letters, triggering the creation of
many extended attributes on each chunk.
Thanks to @AymericDu 🦁
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.23.dev13",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1456,2018-04-27T13:19:30Z,2018-04-27T14:47:43Z,2018-04-27T14:47:46Z,MERGED,True,5,1,1,https://github.com/fvennetier,Python API: fix chunk full_path conversion,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1456,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1456#issuecomment-384974407,"SUMMARY
When full_path was a string (instead of a list or tuple), it was split
and re-assembled with commas between letters, triggering the creation of
many extended attributes on each chunk.
Thanks to @AymericDu 🦁
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.23.dev13","Codecov Report

Merging #1456 into 4.1.x will increase coverage by 0.14%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1456      +/-   ##
==========================================
+ Coverage   77.28%   77.42%   +0.14%     
==========================================
  Files         309      309              
  Lines       58145    58148       +3     
  Branches     6833     6833              
==========================================
+ Hits        44938    45022      +84     
  Misses      12947    12947              
+ Partials      260      179      -81



Impacted Files
Coverage Δ





oio/common/http.py
78.43% <100%> (+0.32%)
⬆️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


proxy/sqlx_actions.c
56.49% <0%> (-7.35%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


proxy/m2_actions.c
81.81% <0%> (-4.38%)
⬇️


proxy/dir_actions.c
72.69% <0%> (-4.13%)
⬇️


oio/common/utils.py
67.48% <0%> (-3.18%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


oio/crawler/integrity.py
55.71% <0%> (-2%)
⬇️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 349d7b4...8f8908f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1459,2018-05-03T16:59:45Z,2018-05-04T08:01:32Z,2018-05-04T08:01:35Z,MERGED,True,16,16,3,https://github.com/fvennetier,"proxy, Python API: fix missing object error codes",2,"['bug :scream:', 'priority:2 :rage4:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1459,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1459,"SUMMARY
Before that commit, the proxy used to return a 403 error code indifferently when a container or an object was missing. It is now returning a 404 error code, and the body of the response is telling if the container is missing (extended code 406) or the object is missing (extended code 420).
This applies to the following oio-proxy routes:

content/touch
content/link
content/set_properties
content/del_properties
content/copy

The other routes were already responding as expected.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-proxy
Python API

SDS VERSION

openio 4.1.23.dev14","SUMMARY
Before that commit, the proxy used to return a 403 error code indifferently when a container or an object was missing. It is now returning a 404 error code, and the body of the response is telling if the container is missing (extended code 406) or the object is missing (extended code 420).
This applies to the following oio-proxy routes:

content/touch
content/link
content/set_properties
content/del_properties
content/copy

The other routes were already responding as expected.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-proxy
Python API

SDS VERSION

openio 4.1.23.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1459,2018-05-03T16:59:45Z,2018-05-04T08:01:32Z,2018-05-04T08:01:35Z,MERGED,True,16,16,3,https://github.com/fvennetier,"proxy, Python API: fix missing object error codes",2,"['bug :scream:', 'priority:2 :rage4:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1459,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1459#issuecomment-386526525,"SUMMARY
Before that commit, the proxy used to return a 403 error code indifferently when a container or an object was missing. It is now returning a 404 error code, and the body of the response is telling if the container is missing (extended code 406) or the object is missing (extended code 420).
This applies to the following oio-proxy routes:

content/touch
content/link
content/set_properties
content/del_properties
content/copy

The other routes were already responding as expected.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-proxy
Python API

SDS VERSION

openio 4.1.23.dev14","Codecov Report

Merging #1459 into 4.1.x will increase coverage by 0.24%.
The diff coverage is 77.77%.


@@            Coverage Diff             @@
##            4.1.x    #1459      +/-   ##
==========================================
+ Coverage   77.48%   77.73%   +0.24%     
==========================================
  Files         309      309              
  Lines       58148    58141       -7     
  Branches     6833     6834       +1     
==========================================
+ Hits        45054    45193     +139     
+ Misses      12939    12907      -32     
+ Partials      155       41     -114



Impacted Files
Coverage Δ





proxy/m2_actions.c
86.3% <ø> (+4.49%)
⬆️


tests/functional/container/test_container.py
98.92% <100%> (ø)
⬆️


oio/api/object_storage.py
80.5% <66.66%> (-0.58%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


oio/account/client.py
85.55% <0%> (-3.34%)
⬇️


sqliterepo/gridd_client_pool.c
78.6% <0%> (-2.8%)
⬇️


meta1v2/meta1_server.c
71.87% <0%> (-2.09%)
⬇️


meta2v2/meta2_filters_action_container.c
56.22% <0%> (-1.07%)
⬇️


sqliterepo/repository.c
72.99% <0%> (-1.07%)
⬇️


meta1v2/meta1_prefixes.c
80.1% <0%> (-1.03%)
⬇️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 729341f...41a8f54. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1460,2018-05-04T08:30:21Z,2018-05-07T09:39:08Z,2018-05-07T09:43:21Z,MERGED,True,114,54,5,https://github.com/jfsmig,sqliterepo/election: Log long locks around the elections,2,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1460,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1460,"SUMMARY
Dump the execution trace when the lock was held for too long (threshold configurable).
ISSUE TYPE
Enhancement.
COMPONENT NAME
sqliterepo
SDS VERSION
4.1.22
ADDITIONAL INFORMATION
Only effective in debug mode.","SUMMARY
Dump the execution trace when the lock was held for too long (threshold configurable).
ISSUE TYPE
Enhancement.
COMPONENT NAME
sqliterepo
SDS VERSION
4.1.22
ADDITIONAL INFORMATION
Only effective in debug mode.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1460,2018-05-04T08:30:21Z,2018-05-07T09:39:08Z,2018-05-07T09:43:21Z,MERGED,True,114,54,5,https://github.com/jfsmig,sqliterepo/election: Log long locks around the elections,2,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1460,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1460#issuecomment-386539827,"SUMMARY
Dump the execution trace when the lock was held for too long (threshold configurable).
ISSUE TYPE
Enhancement.
COMPONENT NAME
sqliterepo
SDS VERSION
4.1.22
ADDITIONAL INFORMATION
Only effective in debug mode.","Codecov Report

Merging #1460 into 4.1.x will decrease coverage by 0.15%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1460      +/-   ##
==========================================
- Coverage   77.46%   77.31%   -0.16%     
==========================================
  Files         309      309              
  Lines       58142    58173      +31     
  Branches     6823     6826       +3     
==========================================
- Hits        45040    44974      -66     
+ Misses      12955    12943      -12     
- Partials      147      256     +109



Impacted Files
Coverage Δ





sqliterepo/synchro.c
56.36% <ø> (-9.25%)
⬇️


sqliterepo/election.c
86.07% <100%> (-2.71%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


sqliterepo/gridd_client_pool.c
69.76% <0%> (-8.84%)
⬇️


sqliterepo/replication.c
81.08% <0%> (-6.02%)
⬇️


sqliterepo/version.c
80% <0%> (-3.71%)
⬇️


sqliterepo/replication_dispatcher.c
48.18% <0%> (-3.47%)
⬇️


sqliterepo/repository.c
70.4% <0%> (-3.31%)
⬇️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b42ca5c...b88ce54. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1461,2018-05-04T16:14:23Z,2018-06-21T20:05:53Z,2018-06-22T08:04:02Z,MERGED,True,1965,1397,64,https://github.com/AymericDu,Require content ID when creating an object,26,[],https://github.com/open-io/oio-sds/pull/1461,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1461,"SUMMARY

meta2: Require content ID when creating an object
rawx and oio-blob-indexer: Send the right container ID and chunk ID to rdir
rawx: Use chunk ID as the key for the fullpath
oio-blob-mover: Move a chunk and its linked chunks at the same time
Change fullpath

before: ACCOUNT/CONTAINER/PATH/VERSION
after: ACCOUNT/CONTAINER/PATH/VERSION/CONTENTID


proxy: Remove content/link and content/copy
rawx:  Remove some xattr

user.grid.chunk.id
user.grid.content.container
user.grid.content.id
user.grid.content.path
user.grid.content.version


rawx: Remove the fullpath when deleting chunk
oio-blob-{rebuilder,mover}: Accept old chunk to recreate new chunk

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API
meta2
rawx
oio_blob-mover

SDS VERSION
openio 4.2.0.0b4.dev25

ADDITIONAL INFORMATION
Now, it's possible to rebuild the linked chunk, but the links aren't rebuilt.","SUMMARY

meta2: Require content ID when creating an object
rawx and oio-blob-indexer: Send the right container ID and chunk ID to rdir
rawx: Use chunk ID as the key for the fullpath
oio-blob-mover: Move a chunk and its linked chunks at the same time
Change fullpath

before: ACCOUNT/CONTAINER/PATH/VERSION
after: ACCOUNT/CONTAINER/PATH/VERSION/CONTENTID


proxy: Remove content/link and content/copy
rawx:  Remove some xattr

user.grid.chunk.id
user.grid.content.container
user.grid.content.id
user.grid.content.path
user.grid.content.version


rawx: Remove the fullpath when deleting chunk
oio-blob-{rebuilder,mover}: Accept old chunk to recreate new chunk

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API
meta2
rawx
oio_blob-mover

SDS VERSION
openio 4.2.0.0b4.dev25

ADDITIONAL INFORMATION
Now, it's possible to rebuild the linked chunk, but the links aren't rebuilt.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1461,2018-05-04T16:14:23Z,2018-06-21T20:05:53Z,2018-06-22T08:04:02Z,MERGED,True,1965,1397,64,https://github.com/AymericDu,Require content ID when creating an object,26,[],https://github.com/open-io/oio-sds/pull/1461,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1461#issuecomment-386655904,"SUMMARY

meta2: Require content ID when creating an object
rawx and oio-blob-indexer: Send the right container ID and chunk ID to rdir
rawx: Use chunk ID as the key for the fullpath
oio-blob-mover: Move a chunk and its linked chunks at the same time
Change fullpath

before: ACCOUNT/CONTAINER/PATH/VERSION
after: ACCOUNT/CONTAINER/PATH/VERSION/CONTENTID


proxy: Remove content/link and content/copy
rawx:  Remove some xattr

user.grid.chunk.id
user.grid.content.container
user.grid.content.id
user.grid.content.path
user.grid.content.version


rawx: Remove the fullpath when deleting chunk
oio-blob-{rebuilder,mover}: Accept old chunk to recreate new chunk

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API
meta2
rawx
oio_blob-mover

SDS VERSION
openio 4.2.0.0b4.dev25

ADDITIONAL INFORMATION
Now, it's possible to rebuild the linked chunk, but the links aren't rebuilt.","Codecov Report

Merging #1461 into 4.2.x will decrease coverage by 0.03%.
The diff coverage is 83.63%.


@@            Coverage Diff            @@
##           4.2.x    #1461      +/-   ##
=========================================
- Coverage   79.6%   79.58%   -0.02%     
=========================================
  Files        330      335       +5     
  Lines      60443    60955     +512     
  Branches    6720     6682      -38     
=========================================
+ Hits       48107    48502     +395     
- Misses     12317    12432     +115     
- Partials      19       21       +2



Impacted Files
Coverage Δ





meta2v2/meta2_filters_extract.c
89.48% <ø> (-0.62%)
⬇️


core/oiostr.h
100% <ø> (ø)
⬆️


proxy/meta2v2_remote.c
82.48% <ø> (-0.43%)
⬇️


core/tool_roundtrip.c
84.47% <ø> (-0.26%)
⬇️


meta2v2/meta2_gridd_dispatcher.c
70.84% <ø> (ø)
⬆️


proxy/m2_actions.c
88.37% <ø> (-0.15%)
⬇️


meta2v2/meta2_filters_action_container.c
59.22% <ø> (-3.36%)
⬇️


meta2v2/meta2_backend.c
81.77% <ø> (-0.55%)
⬇️


tests/functional/crawler/test_storage_tierer.py
96.43% <ø> (ø)
⬆️


core/proxy.c
83.07% <ø> (-0.24%)
⬇️


... and 85 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2c5272a...d065cc1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1462,2018-05-06T16:01:18Z,2018-05-09T09:42:11Z,2018-06-13T13:48:51Z,MERGED,True,62,7,5,https://github.com/murlock,Python API: disable autocreate feature on demand,5,[],https://github.com/open-io/oio-sds/pull/1462,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1462,"SUMMARY
The autocreate feature on API Python was hardcoded
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.23.dev20

ADDITIONAL INFORMATION
Default value of autocreate option is still True to avoid breaking backward compat","SUMMARY
The autocreate feature on API Python was hardcoded
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.23.dev20

ADDITIONAL INFORMATION
Default value of autocreate option is still True to avoid breaking backward compat",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1462,2018-05-06T16:01:18Z,2018-05-09T09:42:11Z,2018-06-13T13:48:51Z,MERGED,True,62,7,5,https://github.com/murlock,Python API: disable autocreate feature on demand,5,[],https://github.com/open-io/oio-sds/pull/1462,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1462#issuecomment-386890756,"SUMMARY
The autocreate feature on API Python was hardcoded
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.23.dev20

ADDITIONAL INFORMATION
Default value of autocreate option is still True to avoid breaking backward compat","Codecov Report

Merging #1462 into 4.1.x will decrease coverage by 0.27%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1462      +/-   ##
==========================================
- Coverage   77.46%   77.18%   -0.28%     
==========================================
  Files         309      309              
  Lines       58142    58167      +25     
  Branches     6823     6823              
==========================================
- Hits        45040    44898     -142     
+ Misses      12955    12910      -45     
- Partials      147      359     +212



Impacted Files
Coverage Δ





oio/container/client.py
69.28% <ø> (ø)
⬆️


tests/functional/cli/storage/test_obj.py
100% <100%> (ø)
⬆️


oio/cli/storage/obj.py
24.17% <100%> (+0.64%)
⬆️


tests/functional/api/test_objectstorage.py
96.53% <100%> (+0.09%)
⬆️


oio/api/object_storage.py
80.6% <100%> (+0.09%)
⬆️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


sqliterepo/synchro.c
57.22% <0%> (-8.39%)
⬇️


sqliterepo/gridd_client_pool.c
71.16% <0%> (-7.45%)
⬇️


sqliterepo/replication.c
81.08% <0%> (-6.02%)
⬇️


sqliterepo/replication_dispatcher.c
47.86% <0%> (-3.79%)
⬇️


... and 44 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b42ca5c...c05daac. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1463,2018-05-14T09:47:43Z,2018-05-16T07:41:42Z,2018-05-16T07:42:41Z,MERGED,True,517,576,15,https://github.com/jfsmig,"metautils,sqliterepo: cheeseparing around wasted CPU cycles",18,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1463,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1463,"SUMMARY
Scratch even more CPU cycle involved in non-necessary code during critical sections:

use shorter buffers for sockets
useless pseudo-objects that made the code more complex
useless debug code based on VTable, now only called in Debug builds
defer syscalls involved in USE/GETVERS out of the critical sections

ISSUE TYPE
enhancement
COMPONENT NAME
metautils, sqliterepo
SDS VERSION
4.1.22
ADDITIONAL INFORMATION
With such a pach","SUMMARY
Scratch even more CPU cycle involved in non-necessary code during critical sections:

use shorter buffers for sockets
useless pseudo-objects that made the code more complex
useless debug code based on VTable, now only called in Debug builds
defer syscalls involved in USE/GETVERS out of the critical sections

ISSUE TYPE
enhancement
COMPONENT NAME
metautils, sqliterepo
SDS VERSION
4.1.22
ADDITIONAL INFORMATION
With such a pach",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1463,2018-05-14T09:47:43Z,2018-05-16T07:41:42Z,2018-05-16T07:42:41Z,MERGED,True,517,576,15,https://github.com/jfsmig,"metautils,sqliterepo: cheeseparing around wasted CPU cycles",18,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1463,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1463#issuecomment-388770561,"SUMMARY
Scratch even more CPU cycle involved in non-necessary code during critical sections:

use shorter buffers for sockets
useless pseudo-objects that made the code more complex
useless debug code based on VTable, now only called in Debug builds
defer syscalls involved in USE/GETVERS out of the critical sections

ISSUE TYPE
enhancement
COMPONENT NAME
metautils, sqliterepo
SDS VERSION
4.1.22
ADDITIONAL INFORMATION
With such a pach","Codecov Report

Merging #1463 into 4.1.x will decrease coverage by 0.23%.
The diff coverage is 78.43%.


@@            Coverage Diff             @@
##            4.1.x    #1463      +/-   ##
==========================================
- Coverage   77.83%   77.59%   -0.24%     
==========================================
  Files         309      309              
  Lines       58198    58182      -16     
  Branches     6826     6827       +1     
==========================================
- Hits        45298    45149     -149     
- Misses      12890    12900      +10     
- Partials       10      133     +123



Impacted Files
Coverage Δ





metautils/lib/utils_syscall.c
51.51% <ø> (ø)
⬆️


metautils/lib/utils_sockets.c
50.38% <100%> (+1.75%)
⬆️


core/http_put.c
93.14% <100%> (+0.52%)
⬆️


sqlx/sqlx_service.c
83.95% <100%> (+0.02%)
⬆️


sqliterepo/election.c
88.36% <62.5%> (-0.59%)
⬇️


sqliterepo/synchro.c
66.3% <73.77%> (+1.15%)
⬆️


tests/unit/test_sqliterepo_election.c
96.59% <75%> (-0.24%)
⬇️


sqliterepo/gridd_client_pool.c
78.3% <90.9%> (-3.1%)
⬇️


metautils/lib/gridd_client.c
76.12% <92.85%> (-1.61%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 04d8e7d...93e2c2e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1464,2018-05-15T16:04:13Z,2018-05-28T09:13:38Z,2018-06-13T13:48:54Z,MERGED,True,359,95,17,https://github.com/murlock,Support services IDs for meta2 services,7,[],https://github.com/open-io/oio-sds/pull/1464,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1464,"SUMMARY
Meta2 can now be identified with service_id
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.0.0b3.dev2","SUMMARY
Meta2 can now be identified with service_id
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.0.0b3.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1464,2018-05-15T16:04:13Z,2018-05-28T09:13:38Z,2018-06-13T13:48:54Z,MERGED,True,359,95,17,https://github.com/murlock,Support services IDs for meta2 services,7,[],https://github.com/open-io/oio-sds/pull/1464,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1464#issuecomment-392009720,"SUMMARY
Meta2 can now be identified with service_id
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.0.0b3.dev2","Codecov Report

Merging #1464 into 4.2.x will increase coverage by 3.69%.
The diff coverage is 88.89%.


@@            Coverage Diff             @@
##            4.2.x    #1464      +/-   ##
==========================================
+ Coverage   75.66%   79.34%   +3.69%     
==========================================
  Files         317      318       +1     
  Lines       59429    59748     +319     
  Branches     6624     6668      +44     
==========================================
+ Hits        44962    47403    +2441     
+ Misses      14467    12321    -2146     
- Partials        0       24      +24



Impacted Files
Coverage Δ





proxy/common.c
88.73% <ø> (+6.94%)
⬆️


sqliterepo/synchro.c
74.74% <0%> (+63.29%)
⬆️


metautils/lib/gridd_client_ext.c
80.89% <0%> (+32.36%)
⬆️


sqlx/sqlx_service.c
84.33% <100%> (+8.37%)
⬆️


metautils/lib/utils_resolv.c
65.16% <100%> (-0.23%)
⬇️


meta2v2/meta2_server.c
81.4% <100%> (ø)
⬆️


core/lb.c
93.23% <87.04%> (-0.46%)
⬇️


tests/functional/content/test_service_id.py
88.96% <90.6%> (-8.34%)
⬇️


proxy/m2_actions.c
87.6% <92.31%> (+0.1%)
⬆️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


... and 66 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4de4750...222d82e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1465,2018-05-16T07:50:12Z,2018-05-18T13:47:03Z,2018-05-18T14:14:55Z,MERGED,True,34,30,9,https://github.com/jfsmig,Ensure trailing '\0' when copying strings,9,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1465,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1465,"SUMMARY
Avoid the strcpy and strncpy that do not ensure a trailing NUL character, and rather use g_strlcpy or even memcpy when the size is known.
ISSUE TYPE
enhancement
COMPONENT NAME
All of them
SDS VERSION
4.2.0","SUMMARY
Avoid the strcpy and strncpy that do not ensure a trailing NUL character, and rather use g_strlcpy or even memcpy when the size is known.
ISSUE TYPE
enhancement
COMPONENT NAME
All of them
SDS VERSION
4.2.0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1465,2018-05-16T07:50:12Z,2018-05-18T13:47:03Z,2018-05-18T14:14:55Z,MERGED,True,34,30,9,https://github.com/jfsmig,Ensure trailing '\0' when copying strings,9,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1465,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1465#issuecomment-390163014,"SUMMARY
Avoid the strcpy and strncpy that do not ensure a trailing NUL character, and rather use g_strlcpy or even memcpy when the size is known.
ISSUE TYPE
enhancement
COMPONENT NAME
All of them
SDS VERSION
4.2.0","Codecov Report

Merging #1465 into 4.2.x will decrease coverage by 0.04%.
The diff coverage is 96.88%.


@@            Coverage Diff            @@
##            4.2.x   #1465      +/-   ##
=========================================
- Coverage   79.44%   79.4%   -0.03%     
=========================================
  Files         317     317              
  Lines       59417   59422       +5     
  Branches     6620    6620              
=========================================
- Hits        47196   47178      -18     
- Misses      12177   12198      +21     
- Partials       44      46       +2



Impacted Files
Coverage Δ





core/sds.c
79.52% <100%> (+0.02%)
⬆️


metautils/lib/lb.c
94.51% <100%> (ø)
⬆️


core/var.c
77.78% <100%> (ø)
⬆️


sqliterepo/hash.c
100% <100%> (ø)
⬆️


core/ext.c
96.7% <100%> (+0.01%)
⬆️


metautils/lib/utils_m1url.c
95.61% <100%> (+0.05%)
⬆️


core/lb.c
93.7% <100%> (-0.13%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <100%> (ø)
⬆️


meta1v2/meta1_backend_services.c
54.63% <83.34%> (+0.07%)
⬆️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0823a70...b7ef778. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1466,2018-05-16T08:05:34Z,2018-05-24T09:48:06Z,2018-05-24T19:29:15Z,MERGED,True,21,5,1,https://github.com/jfsmig,oio-reset: Cleanup the datadir when explicitly configured,2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1466,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1466,"SUMMARY
Do not forget to clean the files in the data directory.
Prior to this patch, ~/.oio/sds/data when cleaned even if the data directory was set to a different value.
ISSUE TYPE
enchancement
COMPONENT NAME
oio-reset
SDS VERSION
4.2.0","SUMMARY
Do not forget to clean the files in the data directory.
Prior to this patch, ~/.oio/sds/data when cleaned even if the data directory was set to a different value.
ISSUE TYPE
enchancement
COMPONENT NAME
oio-reset
SDS VERSION
4.2.0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1466,2018-05-16T08:05:34Z,2018-05-24T09:48:06Z,2018-05-24T19:29:15Z,MERGED,True,21,5,1,https://github.com/jfsmig,oio-reset: Cleanup the datadir when explicitly configured,2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1466,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1466#issuecomment-390165966,"SUMMARY
Do not forget to clean the files in the data directory.
Prior to this patch, ~/.oio/sds/data when cleaned even if the data directory was set to a different value.
ISSUE TYPE
enchancement
COMPONENT NAME
oio-reset
SDS VERSION
4.2.0","Codecov Report

Merging #1466 into 4.2.x will increase coverage by 3.32%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1466      +/-   ##
==========================================
+ Coverage   75.32%   78.64%   +3.32%     
==========================================
  Files         317      317              
  Lines       59422    61308    +1886     
  Branches     6615     7139     +524     
==========================================
+ Hits        44754    48209    +3455     
+ Misses      14586    13073    -1513     
+ Partials       82       26      -56



Impacted Files
Coverage Δ





core/http_put.c
92.68% <0%> (-0.45%)
⬇️


rawx-apache2/src/rawx_repository.c
52.26% <0%> (-0.45%)
⬇️


metautils/lib/comm_converter.c
73.63% <0%> (-0.26%)
⬇️


proxy/metacd_http.c
90.27% <0%> (+0.16%)
⬆️


core/proxy.c
83.13% <0%> (+0.18%)
⬆️


server/transport_gridd.c
78.07% <0%> (+0.2%)
⬆️


core/str.c
90% <0%> (+0.24%)
⬆️


metautils/lib/comm_message.c
86.06% <0%> (+0.27%)
⬆️


core/lb.c
93.7% <0%> (+0.29%)
⬆️


meta1v2/meta1_backend_services.c
54.63% <0%> (+0.3%)
⬆️


... and 62 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 10a1d9b...92c52cf. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1467,2018-05-17T21:45:50Z,2018-05-18T11:33:37Z,2018-05-18T14:12:48Z,MERGED,True,84,11,6,https://github.com/jfsmig,Make recent behaviors optional to ease upgrades,4,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1467,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1467,"SUMMARY
Make configurable and disabled by default several behaviors introduced since the 4.1.22

sendto() of DB_USE over UDP that can be deferred to a thread pool
socket buffer sizes to/from the meta* services
socket buffer sizes to/from the proxy.

ISSUE TYPE
enhancement
COMPONENT NAME
core, metautils, sqliterepo
SDS VERSION
4.1.23","SUMMARY
Make configurable and disabled by default several behaviors introduced since the 4.1.22

sendto() of DB_USE over UDP that can be deferred to a thread pool
socket buffer sizes to/from the meta* services
socket buffer sizes to/from the proxy.

ISSUE TYPE
enhancement
COMPONENT NAME
core, metautils, sqliterepo
SDS VERSION
4.1.23",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1467,2018-05-17T21:45:50Z,2018-05-18T11:33:37Z,2018-05-18T14:12:48Z,MERGED,True,84,11,6,https://github.com/jfsmig,Make recent behaviors optional to ease upgrades,4,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1467,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1467#issuecomment-390027465,"SUMMARY
Make configurable and disabled by default several behaviors introduced since the 4.1.22

sendto() of DB_USE over UDP that can be deferred to a thread pool
socket buffer sizes to/from the meta* services
socket buffer sizes to/from the proxy.

ISSUE TYPE
enhancement
COMPONENT NAME
core, metautils, sqliterepo
SDS VERSION
4.1.23","Codecov Report

Merging #1467 into 4.1.x will decrease coverage by 0.53%.
The diff coverage is 28.57%.


@@            Coverage Diff             @@
##            4.1.x    #1467      +/-   ##
==========================================
- Coverage   77.59%   77.05%   -0.54%     
==========================================
  Files         309      309              
  Lines       58182    58189       +7     
  Branches     6827     6831       +4     
==========================================
- Hits        45145    44837     -308     
- Misses      12878    12960      +82     
- Partials      159      392     +233



Impacted Files
Coverage Δ





sqliterepo/synchro.c
58.02% <20%> (-8.29%)
⬇️


core/http_put.c
92.67% <33.33%> (-0.48%)
⬇️


metautils/lib/utils_sockets.c
49.62% <33.33%> (-0.77%)
⬇️


sqliterepo/restoration.c
74.07% <0%> (-14.82%)
⬇️


sqliterepo/gridd_client_pool.c
70.28% <0%> (-8.02%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


sqliterepo/replication.c
81.08% <0%> (-6.02%)
⬇️


metautils/lib/volume_lock.c
71.05% <0%> (-5.27%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


... and 42 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 53acc88...88392a8. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1468,2018-05-18T09:38:53Z,2018-05-18T14:56:06Z,2018-05-18T14:56:22Z,MERGED,True,3,2,2,https://github.com/jfsmig,Conscience: Remove abusive assertions,2,"['bug :scream:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1468,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1468,"SUMMARY
Remove abusive assertions in the conscience (they validated input from the network 😢 )
Avoid sending the empty requests (despite being valid) from the proxy.
ISSUE TYPE
bugfix
COMPONENT NAME
conscience, oio-proxy
SDS VERSION
4.2.0","SUMMARY
Remove abusive assertions in the conscience (they validated input from the network 😢 )
Avoid sending the empty requests (despite being valid) from the proxy.
ISSUE TYPE
bugfix
COMPONENT NAME
conscience, oio-proxy
SDS VERSION
4.2.0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1468,2018-05-18T09:38:53Z,2018-05-18T14:56:06Z,2018-05-18T14:56:22Z,MERGED,True,3,2,2,https://github.com/jfsmig,Conscience: Remove abusive assertions,2,"['bug :scream:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1468,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1468#issuecomment-390231749,"SUMMARY
Remove abusive assertions in the conscience (they validated input from the network 😢 )
Avoid sending the empty requests (despite being valid) from the proxy.
ISSUE TYPE
bugfix
COMPONENT NAME
conscience, oio-proxy
SDS VERSION
4.2.0","Codecov Report

Merging #1468 into 4.2.x will increase coverage by 3.79%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##            4.2.x    #1468      +/-   ##
==========================================
+ Coverage   75.67%   79.46%   +3.79%     
==========================================
  Files         317      317              
  Lines       59422    59422              
  Branches     6614     6621       +7     
==========================================
+ Hits        44964    47216    +2252     
+ Misses      14457    12203    -2254     
- Partials        1        3       +2



Impacted Files
Coverage Δ





cluster/module/server.c
79.53% <ø> (+4.39%)
⬆️


proxy/cs_actions.c
90.26% <50%> (-0.29%)
⬇️


core/http_put.c
92.63% <0%> (-0.5%)
⬇️


proxy/m2_actions.c
87.57% <0%> (+0.08%)
⬆️


rdir/rdir.c
74.39% <0%> (+0.12%)
⬆️


core/str.c
90% <0%> (+0.24%)
⬆️


metautils/lib/comm_converter.c
73.9% <0%> (+0.27%)
⬆️


metautils/lib/comm_message.c
86.58% <0%> (+0.27%)
⬆️


core/lb.c
93.7% <0%> (+0.29%)
⬆️


meta1v2/meta1_backend_services.c
54.63% <0%> (+0.3%)
⬆️


... and 57 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f61783d...0baae11. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1469,2018-05-21T17:05:25Z,2018-05-23T12:36:59Z,2018-06-13T13:49:26Z,MERGED,True,5,0,1,https://github.com/murlock,Check cluster state after bootstrap,1,[],https://github.com/open-io/oio-sds/pull/1469,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1469,"SUMMARY
Call check tools after bootstrap
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Travis tests / Check tools
SDS VERSION
4.2.x

ADDITIONAL INFORMATION
Sometime the oio-reset.sh fails to bootstrap correctly, calling check tools will force us to fix bootstrap !","SUMMARY
Call check tools after bootstrap
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Travis tests / Check tools
SDS VERSION
4.2.x

ADDITIONAL INFORMATION
Sometime the oio-reset.sh fails to bootstrap correctly, calling check tools will force us to fix bootstrap !",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1470,2018-05-23T10:09:38Z,2018-05-23T12:31:54Z,2018-06-13T13:49:03Z,MERGED,True,6,1,1,https://github.com/murlock,tools: fix oio-reset.sh with invalid bootstrap,1,[],https://github.com/open-io/oio-sds/pull/1470,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1470,"SUMMARY
Fix bootstrap of sds:
Restart of meta1 before rdir assignation was not checked before openio volume boostrap
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
tools/oio-reset.sh
SDS VERSION
4.2.x","SUMMARY
Fix bootstrap of sds:
Restart of meta1 before rdir assignation was not checked before openio volume boostrap
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
tools/oio-reset.sh
SDS VERSION
4.2.x",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1472,2018-05-24T13:59:06Z,2018-05-24T19:23:41Z,2018-05-24T19:28:33Z,MERGED,True,2,2,1,https://github.com/jfsmig,openio directory: Fix broken imports,1,"['bug :scream:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1472,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1472,"SUMMARY
Fir broken imports in the directory warmup subcommand of the openio CLI tool.
ISSUE TYPE
bugfix
COMPONENT NAME
openio
SDS VERSION
openio 4.2.0.0b3.dev38","SUMMARY
Fir broken imports in the directory warmup subcommand of the openio CLI tool.
ISSUE TYPE
bugfix
COMPONENT NAME
openio
SDS VERSION
openio 4.2.0.0b3.dev38",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1473,2018-05-24T14:46:17Z,2018-05-24T15:19:09Z,2018-05-24T19:28:30Z,MERGED,True,9,2,1,https://github.com/jfsmig,sqliterepo: fix a memory leak,1,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1473,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1473,"SUMMARY
Fix a memory leak introduced at commit 0404fa1, when deferring UDP requests.
ISSUE TYPE
bugfix
COMPONENT NAME
sqlitrepo
SDS VERSION
openio 4.1.23.dev50","SUMMARY
Fix a memory leak introduced at commit 0404fa1, when deferring UDP requests.
ISSUE TYPE
bugfix
COMPONENT NAME
sqlitrepo
SDS VERSION
openio 4.1.23.dev50",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1473,2018-05-24T14:46:17Z,2018-05-24T15:19:09Z,2018-05-24T19:28:30Z,MERGED,True,9,2,1,https://github.com/jfsmig,sqliterepo: fix a memory leak,1,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1473,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1473#issuecomment-391748728,"SUMMARY
Fix a memory leak introduced at commit 0404fa1, when deferring UDP requests.
ISSUE TYPE
bugfix
COMPONENT NAME
sqlitrepo
SDS VERSION
openio 4.1.23.dev50","Codecov Report

Merging #1473 into 4.1.x will increase coverage by 0.65%.
The diff coverage is 83.33%.


@@            Coverage Diff            @@
##           4.1.x    #1473      +/-   ##
=========================================
+ Coverage   77.1%   77.75%   +0.65%     
=========================================
  Files        309      309              
  Lines      58189    58193       +4     
  Branches    6837     6831       -6     
=========================================
+ Hits       44866    45249     +383     
+ Misses     12965    12907      -58     
+ Partials     358       37     -321



Impacted Files
Coverage Δ





sqliterepo/synchro.c
66.4% <83.33%> (+8.38%)
⬆️


gridd/main/srvalert.c
0% <0%> (-45.17%)
⬇️


oio/common/wsgi.py
41.77% <0%> (-7.6%)
⬇️


meta2v2/meta2_filters_action_container.c
54.09% <0%> (-1.07%)
⬇️


cluster/module/module.c
69.54% <0%> (-1.02%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.49% <0%> (-0.92%)
⬇️


meta0v2/meta0_backend.c
77.32% <0%> (-0.81%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
81.39% <0%> (-0.78%)
⬇️


events/oio_events_queue_beanstalkd.c
83.2% <0%> (-0.4%)
⬇️


oio/common/utils.py
67.48% <0%> (-0.25%)
⬇️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 64c4318...a9e4ff7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1474,2018-05-24T15:00:05Z,2018-05-28T09:49:40Z,2018-05-28T12:16:14Z,MERGED,True,426,21,9,https://github.com/AymericDu,"Test oio-{blob,meta1,meta2}-rebuilder",1,[],https://github.com/open-io/oio-sds/pull/1474,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1474,"SUMMARY
Test all rebuilders
ISSUE TYPE

Tests Pull Request

COMPONENT NAME

oio-blob-rebuilder
oio-meta1-rebuilder
oio-meta2-rebuilder

SDS VERSION
openio 4.1.23.dev50","SUMMARY
Test all rebuilders
ISSUE TYPE

Tests Pull Request

COMPONENT NAME

oio-blob-rebuilder
oio-meta1-rebuilder
oio-meta2-rebuilder

SDS VERSION
openio 4.1.23.dev50",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1474,2018-05-24T15:00:05Z,2018-05-28T09:49:40Z,2018-05-28T12:16:14Z,MERGED,True,426,21,9,https://github.com/AymericDu,"Test oio-{blob,meta1,meta2}-rebuilder",1,[],https://github.com/open-io/oio-sds/pull/1474,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1474#issuecomment-391755744,"SUMMARY
Test all rebuilders
ISSUE TYPE

Tests Pull Request

COMPONENT NAME

oio-blob-rebuilder
oio-meta1-rebuilder
oio-meta2-rebuilder

SDS VERSION
openio 4.1.23.dev50","Codecov Report

Merging #1474 into 4.1.x will increase coverage by 0.2%.
The diff coverage is 23.52%.


@@           Coverage Diff            @@
##           4.1.x    #1474     +/-   ##
========================================
+ Coverage   77.6%   77.81%   +0.2%     
========================================
  Files        309      309             
  Lines      58193    58207     +14     
  Branches    6831     6831             
========================================
+ Hits       45161    45291    +130     
+ Misses     12894    12723    -171     
- Partials     138      193     +55



Impacted Files
Coverage Δ





oio/rebuilder/rebuilder.py
19.51% <0%> (-0.25%)
⬇️


oio/rebuilder/blob_rebuilder.py
20.77% <0%> (-0.28%)
⬇️


oio/crawler/integrity.py
56.23% <30.76%> (-2.06%)
⬇️


gridd/main/srvalert.c
0% <0%> (-54.84%)
⬇️


oio/account/client.py
78.88% <0%> (-8.89%)
⬇️


sqliterepo/restoration.c
85.18% <0%> (-3.71%)
⬇️


oio/api/base.py
95.16% <0%> (-1.62%)
⬇️


rdir/rdir.c
72.76% <0%> (-1.59%)
⬇️


metautils/lib/expr.eval.c
24.25% <0%> (-1%)
⬇️


... and 44 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9b258f3...abb0c9f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1475,2018-05-25T08:13:33Z,2018-05-25T08:46:32Z,2018-05-25T08:47:45Z,MERGED,True,24,3,1,https://github.com/jfsmig,sqliterepo: Lazily create $repo/tmp when missing,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1475,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1475,"SUMMARY
When the ./tmp sub-directory of a sqliterepo basedir has been removed after the startup of the service, the service is now able to recreate it.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.0.0b3.dev41","SUMMARY
When the ./tmp sub-directory of a sqliterepo basedir has been removed after the startup of the service, the service is now able to recreate it.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.0.0b3.dev41",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1476,2018-05-25T19:22:07Z,2018-05-30T09:35:08Z,2018-05-30T09:38:36Z,MERGED,True,4,0,1,https://github.com/jfsmig,sqliterepo/election: Ensure a deadline in background threads,2,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1476,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1476,"SUMMARY
Ensure a deadline during some operations deferred to a pool of threads.
Sadly, the deadline is transmitted via a thread-local placeholder, the threads are not exclusive to the pool, the deadline was not explicitly set by the hook, thus a wrong deadline (in the past...) was sometimes considered.
ISSUE TYPE
bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.0.0b3.dev42","SUMMARY
Ensure a deadline during some operations deferred to a pool of threads.
Sadly, the deadline is transmitted via a thread-local placeholder, the threads are not exclusive to the pool, the deadline was not explicitly set by the hook, thus a wrong deadline (in the past...) was sometimes considered.
ISSUE TYPE
bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.0.0b3.dev42",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1476,2018-05-25T19:22:07Z,2018-05-30T09:35:08Z,2018-05-30T09:38:36Z,MERGED,True,4,0,1,https://github.com/jfsmig,sqliterepo/election: Ensure a deadline in background threads,2,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1476,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1476#issuecomment-392159955,"SUMMARY
Ensure a deadline during some operations deferred to a pool of threads.
Sadly, the deadline is transmitted via a thread-local placeholder, the threads are not exclusive to the pool, the deadline was not explicitly set by the hook, thus a wrong deadline (in the past...) was sometimes considered.
ISSUE TYPE
bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.0.0b3.dev42","Codecov Report

Merging #1476 into 4.2.x will increase coverage by 3.66%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1476      +/-   ##
==========================================
+ Coverage   75.66%   79.32%   +3.66%     
==========================================
  Files         317      318       +1     
  Lines       59429    59618     +189     
  Branches     6624     6659      +35     
==========================================
+ Hits        44962    47286    +2324     
+ Misses      14467    12331    -2136     
- Partials        0        1       +1



Impacted Files
Coverage Δ





sqliterepo/election.c
90.49% <100%> (+26.06%)
⬆️


oio/container/backup.py
71.94% <0%> (-7.97%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


metautils/lib/utils_resolv.c
64.62% <0%> (-0.76%)
⬇️


server/transport_gridd.c
77.87% <0%> (-0.19%)
⬇️


meta0v2/meta0_client.c
44.92% <0%> (ø)



proxy/m2_actions.c
87.57% <0%> (+0.08%)
⬆️


proxy/metacd_http.c
90.58% <0%> (+0.16%)
⬆️


meta2v2/meta2_backend.c
80.71% <0%> (+0.31%)
⬆️


... and 52 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4de4750...c3fc149. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1477,2018-05-25T19:32:28Z,2018-05-30T09:35:28Z,2018-05-30T09:38:36Z,MERGED,True,2,1,1,https://github.com/jfsmig,sqliterepo/election: Resolve the peers from the reference,1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1477,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1477,"SUMMARY
No need to complicate the logic with a ""maybe-cached lookup"" of the election peers, when we load the cache. So let's locate them from the reference.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.0.0b3.dev42","SUMMARY
No need to complicate the logic with a ""maybe-cached lookup"" of the election peers, when we load the cache. So let's locate them from the reference.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.0.0b3.dev42",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1477,2018-05-25T19:32:28Z,2018-05-30T09:35:28Z,2018-05-30T09:38:36Z,MERGED,True,2,1,1,https://github.com/jfsmig,sqliterepo/election: Resolve the peers from the reference,1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1477,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1477#issuecomment-392698729,"SUMMARY
No need to complicate the logic with a ""maybe-cached lookup"" of the election peers, when we load the cache. So let's locate them from the reference.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.0.0b3.dev42","Codecov Report

Merging #1477 into 4.2.x will increase coverage by 3.8%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.2.x    #1477     +/-   ##
=========================================
+ Coverage   75.66%   79.45%   +3.8%     
=========================================
  Files         317      318      +1     
  Lines       59429    61043   +1614     
  Branches     6624     7160    +536     
=========================================
+ Hits        44962    48497   +3535     
+ Misses      14467    12443   -2024     
- Partials        0      103    +103



Impacted Files
Coverage Δ





sqliterepo/election.c
90.34% <100%> (+25.9%)
⬆️


tests/functional/content/test_service_id.py
64% <0%> (-33.29%)
⬇️


proxy/cache_actions.c
76.04% <0%> (-3.3%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


metautils/lib/utils_resolv.c
63.13% <0%> (-2.25%)
⬇️


proxy/cs_actions.c
89.17% <0%> (-1.08%)
⬇️


core/lb.c
92.73% <0%> (-0.97%)
⬇️


oio/container/backup.py
78.99% <0%> (-0.92%)
⬇️


rdir/rdir.c
73.94% <0%> (-0.44%)
⬇️


server/transport_gridd.c
77.87% <0%> (-0.19%)
⬇️


... and 59 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4de4750...0e04f8a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1478,2018-05-25T19:36:02Z,2018-05-30T09:35:46Z,2018-05-30T09:38:36Z,MERGED,True,1,31,1,https://github.com/jfsmig,sqliterepo/dispatcher: Remove useless calls,1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1478,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1478,"SUMMARY
No need to burden the treatment of replication-related requests with useless calls. Initially imagined to speed-up the starting of elections, they are just useful to take the lock more often.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.0.0b3.dev42","SUMMARY
No need to burden the treatment of replication-related requests with useless calls. Initially imagined to speed-up the starting of elections, they are just useful to take the lock more often.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.0.0b3.dev42",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1478,2018-05-25T19:36:02Z,2018-05-30T09:35:46Z,2018-05-30T09:38:36Z,MERGED,True,1,31,1,https://github.com/jfsmig,sqliterepo/dispatcher: Remove useless calls,1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1478,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1478#issuecomment-392699639,"SUMMARY
No need to burden the treatment of replication-related requests with useless calls. Initially imagined to speed-up the starting of elections, they are just useful to take the lock more often.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.0.0b3.dev42","Codecov Report

Merging #1478 into 4.2.x will increase coverage by 3.79%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1478      +/-   ##
==========================================
+ Coverage   75.66%   79.45%   +3.79%     
==========================================
  Files         317      318       +1     
  Lines       59429    61025    +1596     
  Branches     6624     7151     +527     
==========================================
+ Hits        44962    48479    +3517     
+ Misses      14467    12451    -2016     
- Partials        0       95      +95



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
62.33% <ø> (+20.76%)
⬆️


tests/functional/content/test_service_id.py
64% <0%> (-33.29%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


metautils/lib/utils_resolv.c
63.13% <0%> (-2.25%)
⬇️


oio/container/backup.py
77.92% <0%> (-1.99%)
⬇️


core/lb.c
92.73% <0%> (-0.97%)
⬇️


core/http_put.c
92.18% <0%> (-0.5%)
⬇️


proxy/transport_http.c
86.07% <0%> (-0.27%)
⬇️


server/transport_gridd.c
77.87% <0%> (-0.19%)
⬇️


... and 58 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4de4750...7a761ff. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1479,2018-05-28T17:03:13Z,2018-06-14T12:33:21Z,2018-06-19T16:12:31Z,MERGED,True,586,38,15,https://github.com/AymericDu,Test oio-meta2-mover,4,[],https://github.com/open-io/oio-sds/pull/1479,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1479,"SUMMARY
Automatize tests of oio-met2-mover
ISSUE TYPE

Test Pull Request

COMPONENT NAME

oio-meta2-mover

SDS VERSION
openio 4.2.0.0b3.dev50","SUMMARY
Automatize tests of oio-met2-mover
ISSUE TYPE

Test Pull Request

COMPONENT NAME

oio-meta2-mover

SDS VERSION
openio 4.2.0.0b3.dev50",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1479,2018-05-28T17:03:13Z,2018-06-14T12:33:21Z,2018-06-19T16:12:31Z,MERGED,True,586,38,15,https://github.com/AymericDu,Test oio-meta2-mover,4,[],https://github.com/open-io/oio-sds/pull/1479,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1479#issuecomment-392697020,"SUMMARY
Automatize tests of oio-met2-mover
ISSUE TYPE

Test Pull Request

COMPONENT NAME

oio-meta2-mover

SDS VERSION
openio 4.2.0.0b3.dev50","Codecov Report

Merging #1479 into 4.2.x will increase coverage by 0.07%.
The diff coverage is 78.44%.


@@            Coverage Diff             @@
##            4.2.x    #1479      +/-   ##
==========================================
+ Coverage   79.47%   79.53%   +0.07%     
==========================================
  Files         330      330              
  Lines       60396    60434      +38     
  Branches     6717     6718       +1     
==========================================
+ Hits        47991    48061      +70     
- Misses      12344    12354      +10     
+ Partials       61       19      -42



Impacted Files
Coverage Δ





sqliterepo/sqlx_remote.c
82.17% <100%> (+0.35%)
⬆️


oio/directory/meta.py
83.34% <100%> (+0.48%)
⬆️


tests/functional/directory/test_admin.py
100% <100%> (ø)
⬆️


proxy/common.c
89.02% <100%> (+0.58%)
⬆️


proxy/metacd_http.c
90.61% <100%> (+0.33%)
⬆️


oio/directory/admin.py
69.24% <66.67%> (-0.89%)
⬇️


proxy/sqlx_actions.c
76.39% <71.43%> (-0.27%)
⬇️


sqliterepo/replication_dispatcher.c
64.35% <73.34%> (-0.28%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/blob/utils.py
85.19% <0%> (-5.72%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c3fbd79...eb620db. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1480,2018-05-31T12:49:55Z,2018-06-01T14:01:03Z,2019-05-15T12:17:11Z,MERGED,True,63,24,13,https://github.com/kamel-rahim,Permit ECD to work with stream,4,[],https://github.com/open-io/oio-sds/pull/1480,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1480,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1480,2018-05-31T12:49:55Z,2018-06-01T14:01:03Z,2019-05-15T12:17:11Z,MERGED,True,63,24,13,https://github.com/kamel-rahim,Permit ECD to work with stream,4,[],https://github.com/open-io/oio-sds/pull/1480,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1480#issuecomment-393539774,,"Codecov Report

Merging #1480 into 4.1.x will increase coverage by 0.46%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1480      +/-   ##
==========================================
+ Coverage   77.59%   78.05%   +0.46%     
==========================================
  Files         309      310       +1     
  Lines       58207    58296      +89     
  Branches     6831     6839       +8     
==========================================
+ Hits        45164    45503     +339     
+ Misses      12775    12667     -108     
+ Partials      268      126     -142



Impacted Files
Coverage Δ





oio/ecd/app.py
65.86% <ø> (+6.1%)
⬆️


oio/api/ec.py
93.88% <100%> (+0.29%)
⬆️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


proxy/sqlx_actions.c
59.32% <0%> (-7.35%)
⬇️


oio/account/client.py
78.88% <0%> (-4.45%)
⬇️


proxy/dir_actions.c
73.01% <0%> (-3.81%)
⬇️


oio/common/wsgi.py
41.77% <0%> (-3.8%)
⬇️


proxy/m2_actions.c
82.61% <0%> (-3.78%)
⬇️


meta2v2/meta2_filters_check.c
65.57% <0%> (-3.28%)
⬇️


... and 50 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7b0bd61...d602841. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1481,2018-05-31T15:50:35Z,2018-06-06T19:40:48Z,2018-06-08T07:34:44Z,MERGED,True,132,28,11,https://github.com/AymericDu,rebuilder: Trigger database replication only for missing bases,6,[],https://github.com/open-io/oio-sds/pull/1481,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1481,"SUMMARY
Trigger database replication only for missing bases  for the oio-meta1-rebuilder and oio-meta2-rebuilder.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-meta1-rebuilder
oio-meta2-rebuilder
proxy

SDS VERSION
openio 4.2.0.0b3.dev61","SUMMARY
Trigger database replication only for missing bases  for the oio-meta1-rebuilder and oio-meta2-rebuilder.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-meta1-rebuilder
oio-meta2-rebuilder
proxy

SDS VERSION
openio 4.2.0.0b3.dev61",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1481,2018-05-31T15:50:35Z,2018-06-06T19:40:48Z,2018-06-08T07:34:44Z,MERGED,True,132,28,11,https://github.com/AymericDu,rebuilder: Trigger database replication only for missing bases,6,[],https://github.com/open-io/oio-sds/pull/1481,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1481#issuecomment-393589773,"SUMMARY
Trigger database replication only for missing bases  for the oio-meta1-rebuilder and oio-meta2-rebuilder.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-meta1-rebuilder
oio-meta2-rebuilder
proxy

SDS VERSION
openio 4.2.0.0b3.dev61","Codecov Report

Merging #1481 into 4.2.x will increase coverage by 0.06%.
The diff coverage is 88.24%.


@@            Coverage Diff             @@
##            4.2.x    #1481      +/-   ##
==========================================
+ Coverage   79.41%   79.47%   +0.06%     
==========================================
  Files         318      318              
  Lines       59945    60005      +60     
  Branches     6672     6678       +6     
==========================================
+ Hits        47601    47683      +82     
+ Misses      12295    12274      -21     
+ Partials       49       48       -1



Impacted Files
Coverage Δ





oio/directory/admin.py
70.13% <100%> (+1.22%)
⬆️


proxy/sqlx_actions.c
76.67% <100%> (+0.34%)
⬆️


sqliterepo/sqlx_remote.c
81.82% <100%> (+0.37%)
⬆️


proxy/metacd_http.c
90.28% <100%> (+0.02%)
⬆️


tests/functional/directory/test_admin.py
100% <100%> (ø)
⬆️


sqliterepo/repository.c
77.41% <76.93%> (+1.47%)
⬆️


sqliterepo/replication_dispatcher.c
63.31% <77.78%> (+1.14%)
⬆️


oio/ecd/app.py
59.77% <0%> (-6.5%)
⬇️


proxy/cache_actions.c
76.04% <0%> (-3.3%)
⬇️


meta1v2/meta1_server.c
72.9% <0%> (-1.86%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 11d9727...22cfc5e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1482,2018-06-01T15:08:16Z,2018-06-04T14:55:39Z,2018-06-06T13:20:12Z,MERGED,True,119,39,13,https://github.com/jfsmig,Adapt the metachunk size in the C SDK,11,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1482,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1482,"SUMMARY
Ensure the notion of ""chunksize"" applies to final chunks instead of metachunks (pre-EC), when uploading contents with the C client library.
ISSUE TYPE
bugfix
COMPONENT NAME
oiosds
SDS VERSION
openio 4.1.24.dev3","SUMMARY
Ensure the notion of ""chunksize"" applies to final chunks instead of metachunks (pre-EC), when uploading contents with the C client library.
ISSUE TYPE
bugfix
COMPONENT NAME
oiosds
SDS VERSION
openio 4.1.24.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1482,2018-06-01T15:08:16Z,2018-06-04T14:55:39Z,2018-06-06T13:20:12Z,MERGED,True,119,39,13,https://github.com/jfsmig,Adapt the metachunk size in the C SDK,11,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1482,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1482#issuecomment-394332583,"SUMMARY
Ensure the notion of ""chunksize"" applies to final chunks instead of metachunks (pre-EC), when uploading contents with the C client library.
ISSUE TYPE
bugfix
COMPONENT NAME
oiosds
SDS VERSION
openio 4.1.24.dev3","Codecov Report

Merging #1482 into 4.1.x will decrease coverage by 0.02%.
The diff coverage is 86.79%.


@@            Coverage Diff            @@
##           4.1.x    #1482      +/-   ##
=========================================
- Coverage   74.3%   74.27%   -0.03%     
=========================================
  Files        310      311       +1     
  Lines      58296    58337      +41     
  Branches    6839     6849      +10     
=========================================
+ Hits       43314    43328      +14     
- Misses     14978    15006      +28     
+ Partials       4        3       -1



Impacted Files
Coverage Δ





tools/oio-tool.c
67.02% <100%> (+0.17%)
⬆️


metautils/lib/storage_policy.h
100% <100%> (ø)



core/http_put.c
92.23% <33.33%> (-0.45%)
⬇️


core/tool_sdk.c
69.04% <33.33%> (-1.33%)
⬇️


core/tool_roundtrip.c
84.36% <87.5%> (-0.07%)
⬇️


core/sds.c
79.6% <93.75%> (+0.06%)
⬆️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


proxy/cs_actions.c
90.57% <0%> (-1.23%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f23ce58...e783039. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1483,2018-06-04T15:47:07Z,2018-06-07T09:09:53Z,2018-06-13T13:49:54Z,MERGED,True,34,1,2,https://github.com/murlock,Set properties when linking objects,1,[],https://github.com/open-io/oio-sds/pull/1483,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1483,"SUMMARY
Metadata was copied from original source without possibilities to change them
It is first part that fix modifying ACL of existing object on Swift / S3.
Like S3/Swift, we allow to copy or replace metadata through a dedicated parameter.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
4.1.x

ADDITIONAL INFORMATION
Behavior to adopt is not clear as API must allow to specify metadata or not (https://developer.openstack.org/api-ref/object-store/index.html#copy-object with X-Fresh-Metadata or https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectCOPY.html with x-amz-metadata-directive)
And it should not break container snapshot of 4.2","SUMMARY
Metadata was copied from original source without possibilities to change them
It is first part that fix modifying ACL of existing object on Swift / S3.
Like S3/Swift, we allow to copy or replace metadata through a dedicated parameter.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
4.1.x

ADDITIONAL INFORMATION
Behavior to adopt is not clear as API must allow to specify metadata or not (https://developer.openstack.org/api-ref/object-store/index.html#copy-object with X-Fresh-Metadata or https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectCOPY.html with x-amz-metadata-directive)
And it should not break container snapshot of 4.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1483,2018-06-04T15:47:07Z,2018-06-07T09:09:53Z,2018-06-13T13:49:54Z,MERGED,True,34,1,2,https://github.com/murlock,Set properties when linking objects,1,[],https://github.com/open-io/oio-sds/pull/1483,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1483#issuecomment-395348727,"SUMMARY
Metadata was copied from original source without possibilities to change them
It is first part that fix modifying ACL of existing object on Swift / S3.
Like S3/Swift, we allow to copy or replace metadata through a dedicated parameter.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
4.1.x

ADDITIONAL INFORMATION
Behavior to adopt is not clear as API must allow to specify metadata or not (https://developer.openstack.org/api-ref/object-store/index.html#copy-object with X-Fresh-Metadata or https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectCOPY.html with x-amz-metadata-directive)
And it should not break container snapshot of 4.2","Codecov Report

Merging #1483 into 4.1.x will increase coverage by 3.35%.
The diff coverage is 83.33%.


@@            Coverage Diff             @@
##            4.1.x    #1483      +/-   ##
==========================================
+ Coverage   74.26%   77.61%   +3.35%     
==========================================
  Files         311      311              
  Lines       58341    58359      +18     
  Branches     6857     6857              
==========================================
+ Hits        43327    45298    +1971     
+ Misses      15011    12797    -2214     
- Partials        3      264     +261



Impacted Files
Coverage Δ





tests/functional/api/test_objectstorage.py
96.61% <100%> (+0.07%)
⬆️


oio/api/object_storage.py
80.29% <50%> (-0.31%)
⬇️


oio/common/wsgi.py
41.77% <0%> (-3.8%)
⬇️


oio/container/backup.py
74.8% <0%> (-1.54%)
⬇️


core/http_put.c
91.47% <0%> (-0.51%)
⬇️


events/oio_events_queue_beanstalkd.c
82.4% <0%> (-0.4%)
⬇️


oio/api/ec.py
93.7% <0%> (-0.18%)
⬇️


proxy/metacd_http.c
89.6% <0%> (-0.16%)
⬇️


proxy/m2_actions.c
86.3% <0%> (+0.07%)
⬆️


meta1v2/meta1_backend_services.c
56.05% <0%> (+0.14%)
⬆️


... and 51 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e0388bb...584e56e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1484,2018-06-06T11:42:40Z,2018-06-06T13:07:20Z,2018-06-06T13:20:08Z,MERGED,True,35,26,2,https://github.com/jfsmig,Improve the throughput of the C client when uploading,4,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1484,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1484,"SUMMARY

Reduce the number of memory copies
Work with larger buffers
Only reload data when necessary
Fix the management of timeouts, previously polled too often

ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
openio 4.1.24","SUMMARY

Reduce the number of memory copies
Work with larger buffers
Only reload data when necessary
Fix the management of timeouts, previously polled too often

ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
openio 4.1.24",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1484,2018-06-06T11:42:40Z,2018-06-06T13:07:20Z,2018-06-06T13:20:08Z,MERGED,True,35,26,2,https://github.com/jfsmig,Improve the throughput of the C client when uploading,4,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1484,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1484#issuecomment-395057952,"SUMMARY

Reduce the number of memory copies
Work with larger buffers
Only reload data when necessary
Fix the management of timeouts, previously polled too often

ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
openio 4.1.24","Codecov Report

Merging #1484 into 4.1.x will decrease coverage by 0.42%.
The diff coverage is 81.48%.


@@            Coverage Diff            @@
##            4.1.x   #1484      +/-   ##
=========================================
- Coverage   78.03%   77.6%   -0.43%     
=========================================
  Files         311     311              
  Lines       58337   58341       +4     
  Branches     6856    6857       +1     
=========================================
- Hits        45521   45276     -245     
- Misses      12753   12809      +56     
- Partials       63     256     +193



Impacted Files
Coverage Δ





core/http_put.c
91.97% <75%> (+0.25%)
⬆️


core/sds.c
79.59% <86.66%> (-0.02%)
⬇️


sqliterepo/restoration.c
85.18% <0%> (-11.12%)
⬇️


sqliterepo/gridd_client_pool.c
71.22% <0%> (-9.44%)
⬇️


sqliterepo/synchro.c
65.34% <0%> (-8.21%)
⬇️


sqliterepo/replication.c
81.66% <0%> (-7.74%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


oio/common/utils.py
67.48% <0%> (-3.92%)
⬇️


sqliterepo/version.c
80% <0%> (-3.71%)
⬇️


sqliterepo/repository.c
71.93% <0%> (-3.54%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e0a0537...c271aac. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1485,2018-06-06T15:09:03Z,2018-06-06T19:37:38Z,2018-06-06T19:46:19Z,MERGED,True,1,0,1,https://github.com/jfsmig,server: Ease the integration with prometheus exporters,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1485,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1485,"SUMMARY
Adds a payload to replies on PING calls. With a marker in it, so that a simple TCP handler can look for that marker: ""OK\r\n""
ISSUE TYPE
enhancement ... though I am not sure what it enhances, the entropy or the features.
COMPONENT NAME
server
SDS VERSION
openio 4.1.24","SUMMARY
Adds a payload to replies on PING calls. With a marker in it, so that a simple TCP handler can look for that marker: ""OK\r\n""
ISSUE TYPE
enhancement ... though I am not sure what it enhances, the entropy or the features.
COMPONENT NAME
server
SDS VERSION
openio 4.1.24",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1485,2018-06-06T15:09:03Z,2018-06-06T19:37:38Z,2018-06-06T19:46:19Z,MERGED,True,1,0,1,https://github.com/jfsmig,server: Ease the integration with prometheus exporters,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1485,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1485#issuecomment-395135714,"SUMMARY
Adds a payload to replies on PING calls. With a marker in it, so that a simple TCP handler can look for that marker: ""OK\r\n""
ISSUE TYPE
enhancement ... though I am not sure what it enhances, the entropy or the features.
COMPONENT NAME
server
SDS VERSION
openio 4.1.24","Codecov Report

Merging #1485 into 4.2.x will increase coverage by 0.06%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1485      +/-   ##
==========================================
+ Coverage   79.41%   79.47%   +0.06%     
==========================================
  Files         318      318              
  Lines       59945    59946       +1     
  Branches     6672     6672              
==========================================
+ Hits        47601    47634      +33     
+ Misses      12295    12291       -4     
+ Partials       49       21      -28



Impacted Files
Coverage Δ





server/transport_gridd.c
78.11% <100%> (+0.25%)
⬆️


meta1v2/meta1_server.c
72.9% <0%> (-1.86%)
⬇️


meta2v2/meta2_filters_action_content.c
91.74% <0%> (-1.1%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-1.02%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.5% <0%> (-0.91%)
⬇️


metautils/lib/utils_resolv.c
65.91% <0%> (-0.75%)
⬇️


rawx-apache2/src/rawx_repository.c
52.03% <0%> (-0.67%)
⬇️


server/slab.c
82.92% <0%> (-0.63%)
⬇️


proxy/transport_http.c
86.07% <0%> (-0.27%)
⬇️


core/proxy.c
82.95% <0%> (-0.17%)
⬇️


... and 14 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 11d9727...7ca068f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1486,2018-06-06T16:11:55Z,2018-06-07T10:04:21Z,2018-06-12T16:11:24Z,MERGED,True,84,94,26,https://github.com/jfsmig,Allocate more memory through slabs,13,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1486,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1486,"SUMMARY
Cleanup of macros as old as obsolete, and slab allocations of small structures inside of sqliterepo.
ISSUE TYPE
enhancement
COMPONENT NAME
All of them
SDS VERSION
openio 4.2.0","SUMMARY
Cleanup of macros as old as obsolete, and slab allocations of small structures inside of sqliterepo.
ISSUE TYPE
enhancement
COMPONENT NAME
All of them
SDS VERSION
openio 4.2.0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1486,2018-06-06T16:11:55Z,2018-06-07T10:04:21Z,2018-06-12T16:11:24Z,MERGED,True,84,94,26,https://github.com/jfsmig,Allocate more memory through slabs,13,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1486,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1486#issuecomment-395197796,"SUMMARY
Cleanup of macros as old as obsolete, and slab allocations of small structures inside of sqliterepo.
ISSUE TYPE
enhancement
COMPONENT NAME
All of them
SDS VERSION
openio 4.2.0","Codecov Report

❗ No coverage uploaded for pull request base (4.2.x@ba1437e). Click here to learn what that means.
The diff coverage is 92.43%.


@@           Coverage Diff            @@
##             4.2.x    #1486   +/-   ##
========================================
  Coverage         ?   79.44%           
========================================
  Files            ?      318           
  Lines            ?    60009           
  Branches         ?     6678           
========================================
  Hits             ?    47671           
  Misses           ?    12276           
  Partials         ?       62



Impacted Files
Coverage Δ





cache/cache_noop.c
86.67% <100%> (ø)



meta2v2/meta2_filters_misc.c
88.38% <100%> (ø)



server/slab.c
82.92% <100%> (ø)



sqliterepo/repository.c
76.97% <100%> (ø)



metautils/lib/gridd_client.c
75.54% <100%> (ø)



core/cs.c
81.7% <100%> (ø)



sqliterepo/gridd_client_pool.c
82.28% <100%> (ø)



sqlx/sqlx_client_direct.c
75.8% <100%> (ø)



sqliterepo/replication.c
86.82% <100%> (ø)



cache/cache_lru.c
90.48% <100%> (ø)



... and 10 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ba1437e...3e4feb4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1487,2018-06-07T15:51:58Z,2018-06-08T08:31:54Z,2018-06-08T08:31:57Z,MERGED,True,13,4,3,https://github.com/fvennetier,Python API: include netloc in urllib3 errors messages,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1487,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1487,"SUMMARY
Include network location in messages generated after urllib3 errors.
Exemple:
WARNING chunk delete failed: ('reqid=9BEC2A0DFCDC2D809092FA49FE2EC374, host=127.0.0.1:6023', '<urllib3.connection.HTTPConnection object at 0x7fcb35639d50>: Failed to establish a new connection: [Errno 111] ECONNREFUSED')

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION

openio 4.1.25.dev6","SUMMARY
Include network location in messages generated after urllib3 errors.
Exemple:
WARNING chunk delete failed: ('reqid=9BEC2A0DFCDC2D809092FA49FE2EC374, host=127.0.0.1:6023', '<urllib3.connection.HTTPConnection object at 0x7fcb35639d50>: Failed to establish a new connection: [Errno 111] ECONNREFUSED')

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION

openio 4.1.25.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1487,2018-06-07T15:51:58Z,2018-06-08T08:31:54Z,2018-06-08T08:31:57Z,MERGED,True,13,4,3,https://github.com/fvennetier,Python API: include netloc in urllib3 errors messages,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1487,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1487#issuecomment-395670801,"SUMMARY
Include network location in messages generated after urllib3 errors.
Exemple:
WARNING chunk delete failed: ('reqid=9BEC2A0DFCDC2D809092FA49FE2EC374, host=127.0.0.1:6023', '<urllib3.connection.HTTPConnection object at 0x7fcb35639d50>: Failed to establish a new connection: [Errno 111] ECONNREFUSED')

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION

openio 4.1.25.dev6","Codecov Report

Merging #1487 into 4.1.x will increase coverage by 4.04%.
The diff coverage is 70%.


@@            Coverage Diff             @@
##            4.1.x    #1487      +/-   ##
==========================================
+ Coverage   73.92%   77.96%   +4.04%     
==========================================
  Files         311      311              
  Lines       58359    58365       +6     
  Branches     6857     6851       -6     
==========================================
+ Hits        43142    45506    +2364     
+ Misses      15213    12805    -2408     
- Partials        4       54      +50



Impacted Files
Coverage Δ





oio/blob/client.py
88.23% <0%> (ø)
⬆️


oio/api/base.py
95.16% <0%> (ø)
⬆️


oio/common/http.py
78.57% <87.5%> (+0.14%)
⬆️


meta2v2/meta2_filters_check.c
65.57% <0%> (-3.28%)
⬇️


rawx-lib/src/attr_handler.c
58.44% <0%> (-0.46%)
⬇️


oio/api/replication.py
77.9% <0%> (ø)
⬆️


oio/container/client.py
69.28% <0%> (ø)
⬆️


oio/crawler/integrity.py
55.12% <0%> (ø)
⬆️


proxy/m2_actions.c
86.3% <0%> (+0.07%)
⬆️


rdir/rdir.c
78.53% <0%> (+0.11%)
⬆️


... and 62 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update fb83648...a4d3289. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1488,2018-06-07T15:57:47Z,2018-06-11T13:48:36Z,2018-06-11T13:48:39Z,MERGED,True,78,40,10,https://github.com/fvennetier,Transfer request ID in chunk events,1,[],https://github.com/open-io/oio-sds/pull/1488,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1488,"Transfer request ID in chunk events.

Rawx forwards incoming request ID to outgoing events
Event-agent uses this request ID when indexing chunks in rdir
oio-blob-indexer identifies itself with a custom request ID header

Relates to #1346
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-event-agent
oio-blob-indexer
rawx

SDS VERSION
openio 4.1.25.dev6

ADDITIONAL INFORMATION
Before:
Jun 07 17:32:00.893062 linux-cgzg OIO,NS,event-agent,1[39916]: 39916 7FCB35CBA370 log WARNING chunk delete failed: '<urllib3.connection.HTTPConnection object at 0x7fcb35639d50>: Failed to establish a new connection: [Errno 111] ECONNREFUSED'

After:
Jun 07 17:32:00.893062 linux-cgzg OIO,NS,event-agent,1[39916]: 39916 7FCB35CBA370 log WARNING chunk delete failed: ('reqid=9BEC2A0DFCDC2D809092FA49FE2EC374, host=127.0.0.1:6023', '<urllib3.connection.HTTPConnection object at 0x7fcb35639d50>: Failed to establish a new connection: [Errno 111] ECONNREFUSED')","Transfer request ID in chunk events.

Rawx forwards incoming request ID to outgoing events
Event-agent uses this request ID when indexing chunks in rdir
oio-blob-indexer identifies itself with a custom request ID header

Relates to #1346
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-event-agent
oio-blob-indexer
rawx

SDS VERSION
openio 4.1.25.dev6

ADDITIONAL INFORMATION
Before:
Jun 07 17:32:00.893062 linux-cgzg OIO,NS,event-agent,1[39916]: 39916 7FCB35CBA370 log WARNING chunk delete failed: '<urllib3.connection.HTTPConnection object at 0x7fcb35639d50>: Failed to establish a new connection: [Errno 111] ECONNREFUSED'

After:
Jun 07 17:32:00.893062 linux-cgzg OIO,NS,event-agent,1[39916]: 39916 7FCB35CBA370 log WARNING chunk delete failed: ('reqid=9BEC2A0DFCDC2D809092FA49FE2EC374, host=127.0.0.1:6023', '<urllib3.connection.HTTPConnection object at 0x7fcb35639d50>: Failed to establish a new connection: [Errno 111] ECONNREFUSED')",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1488,2018-06-07T15:57:47Z,2018-06-11T13:48:36Z,2018-06-11T13:48:39Z,MERGED,True,78,40,10,https://github.com/fvennetier,Transfer request ID in chunk events,1,[],https://github.com/open-io/oio-sds/pull/1488,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1488#issuecomment-395676452,"Transfer request ID in chunk events.

Rawx forwards incoming request ID to outgoing events
Event-agent uses this request ID when indexing chunks in rdir
oio-blob-indexer identifies itself with a custom request ID header

Relates to #1346
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-event-agent
oio-blob-indexer
rawx

SDS VERSION
openio 4.1.25.dev6

ADDITIONAL INFORMATION
Before:
Jun 07 17:32:00.893062 linux-cgzg OIO,NS,event-agent,1[39916]: 39916 7FCB35CBA370 log WARNING chunk delete failed: '<urllib3.connection.HTTPConnection object at 0x7fcb35639d50>: Failed to establish a new connection: [Errno 111] ECONNREFUSED'

After:
Jun 07 17:32:00.893062 linux-cgzg OIO,NS,event-agent,1[39916]: 39916 7FCB35CBA370 log WARNING chunk delete failed: ('reqid=9BEC2A0DFCDC2D809092FA49FE2EC374, host=127.0.0.1:6023', '<urllib3.connection.HTTPConnection object at 0x7fcb35639d50>: Failed to establish a new connection: [Errno 111] ECONNREFUSED')","Codecov Report

Merging #1488 into 4.1.x will increase coverage by 3.93%.
The diff coverage is 71.42%.


@@            Coverage Diff             @@
##            4.1.x    #1488      +/-   ##
==========================================
+ Coverage   73.92%   77.85%   +3.93%     
==========================================
  Files         311      311              
  Lines       58359    58372      +13     
  Branches     6857     6852       -5     
==========================================
+ Hits        43142    45448    +2306     
+ Misses      15213    12708    -2505     
- Partials        4      216     +212



Impacted Files
Coverage Δ





rawx-apache2/src/rawx_internals.c
77.61% <100%> (+0.68%)
⬆️


rawx-apache2/src/rawx_event.c
57.77% <100%> (+4.44%)
⬆️


events/oio_events_queue.c
81.44% <100%> (+23.83%)
⬆️


oio/blob/indexer.py
76.92% <100%> (+0.25%)
⬆️


proxy/transport_http.c
86.33% <100%> (ø)
⬆️


oio/event/evob.py
57.77% <50%> (+0.95%)
⬆️


oio/rdir/client.py
68.44% <57.69%> (+0.57%)
⬆️


proxy/cache_actions.c
60% <0%> (-9.15%)
⬇️


proxy/dir_actions.c
68.88% <0%> (-7.94%)
⬇️


proxy/m2_actions.c
78.75% <0%> (-7.48%)
⬇️


... and 67 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update fb83648...536e500. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1489,2018-06-09T17:05:14Z,2018-06-11T08:50:01Z,2019-05-15T12:19:07Z,MERGED,True,19,3,3,https://github.com/kamel-rahim,C API: Make optional EC metachunk size patch,2,[],https://github.com/open-io/oio-sds/pull/1489,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1489,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1489,2018-06-09T17:05:14Z,2018-06-11T08:50:01Z,2019-05-15T12:19:07Z,MERGED,True,19,3,3,https://github.com/kamel-rahim,C API: Make optional EC metachunk size patch,2,[],https://github.com/open-io/oio-sds/pull/1489,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1489#issuecomment-396167242,,"Codecov Report

Merging #1489 into 4.1.x will increase coverage by 0.32%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1489      +/-   ##
==========================================
+ Coverage   77.63%   77.96%   +0.32%     
==========================================
  Files         310      311       +1     
  Lines       58197    58366     +169     
  Branches     6848     6852       +4     
==========================================
+ Hits        45182    45503     +321     
+ Misses      12961    12804     -157     
- Partials       54       59       +5



Impacted Files
Coverage Δ





core/sds.c
79.6% <100%> (+0.01%)
⬆️


gridd/main/srvalert.c
0% <0%> (-54.84%)
⬇️


oio/common/wsgi.py
41.77% <0%> (-3.8%)
⬇️


cluster/module/module.c
69.54% <0%> (-1.27%)
⬇️


sqliterepo/synchro.c
73.54% <0%> (-1.06%)
⬇️


core/tool_sdk.c
69.04% <0%> (-0.84%)
⬇️


rawx-apache2/src/rawx_repository.c
52.02% <0%> (-0.68%)
⬇️


sqliterepo/replication_dispatcher.c
53.98% <0%> (-0.57%)
⬇️


metautils/lib/gridd_client_ext.c
80% <0%> (-0.39%)
⬇️


sqliterepo/repository.c
75.47% <0%> (-0.36%)
⬇️


... and 36 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 15cd465...892615a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1490,2018-06-11T10:17:58Z,2018-06-11T11:55:59Z,2018-06-11T11:56:03Z,MERGED,True,3,2,1,https://github.com/fvennetier,Python API: fix account client encoding,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1490,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1490,"SUMMARY
Do not early quote account name, the low-level HTTP client will encode the
whole query string.
Jira: OS-68
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.1.25.dev8

ADDITIONAL INFORMATION
Before:
> openio account create ?
+------+---------+
| Name | Created |
+------+---------+
| ?    | True    |
+------+---------+
> openio account show ?
+------------+------------+
| Field      | Value      |
+------------+------------+
| account    | %3F        |
| bytes      | 0B         |
| containers | 0          |
| ctime      | 1528709312 |
| metadata   | {}         |
| objects    | 0          |
+------------+------------+

After:
> openio account create ?
+------+---------+
| Name | Created |
+------+---------+
| ?    | True    |
+------+---------+
> openio account show ?
+------------+------------+
| Field      | Value      |
+------------+------------+
| account    | ?          |
| bytes      | 0B         |
| containers | 0          |
| ctime      | 1528712190 |
| metadata   | {}         |
| objects    | 0          |
+------------+------------+","SUMMARY
Do not early quote account name, the low-level HTTP client will encode the
whole query string.
Jira: OS-68
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.1.25.dev8

ADDITIONAL INFORMATION
Before:
> openio account create ?
+------+---------+
| Name | Created |
+------+---------+
| ?    | True    |
+------+---------+
> openio account show ?
+------------+------------+
| Field      | Value      |
+------------+------------+
| account    | %3F        |
| bytes      | 0B         |
| containers | 0          |
| ctime      | 1528709312 |
| metadata   | {}         |
| objects    | 0          |
+------------+------------+

After:
> openio account create ?
+------+---------+
| Name | Created |
+------+---------+
| ?    | True    |
+------+---------+
> openio account show ?
+------------+------------+
| Field      | Value      |
+------------+------------+
| account    | ?          |
| bytes      | 0B         |
| containers | 0          |
| ctime      | 1528712190 |
| metadata   | {}         |
| objects    | 0          |
+------------+------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1490,2018-06-11T10:17:58Z,2018-06-11T11:55:59Z,2018-06-11T11:56:03Z,MERGED,True,3,2,1,https://github.com/fvennetier,Python API: fix account client encoding,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1490,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1490#issuecomment-396214752,"SUMMARY
Do not early quote account name, the low-level HTTP client will encode the
whole query string.
Jira: OS-68
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.1.25.dev8

ADDITIONAL INFORMATION
Before:
> openio account create ?
+------+---------+
| Name | Created |
+------+---------+
| ?    | True    |
+------+---------+
> openio account show ?
+------------+------------+
| Field      | Value      |
+------------+------------+
| account    | %3F        |
| bytes      | 0B         |
| containers | 0          |
| ctime      | 1528709312 |
| metadata   | {}         |
| objects    | 0          |
+------------+------------+

After:
> openio account create ?
+------+---------+
| Name | Created |
+------+---------+
| ?    | True    |
+------+---------+
> openio account show ?
+------------+------------+
| Field      | Value      |
+------------+------------+
| account    | ?          |
| bytes      | 0B         |
| containers | 0          |
| ctime      | 1528712190 |
| metadata   | {}         |
| objects    | 0          |
+------------+------------+","Codecov Report

Merging #1490 into 4.1.x will decrease coverage by 0.36%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1490      +/-   ##
==========================================
- Coverage   78.14%   77.77%   -0.37%     
==========================================
  Files         311      311              
  Lines       58366    58366              
  Branches     6858     6858              
==========================================
- Hits        45608    45397     -211     
+ Misses      12708    12700       -8     
- Partials       50      269     +219



Impacted Files
Coverage Δ





oio/account/client.py
83.33% <100%> (ø)
⬆️


sqliterepo/restoration.c
85.18% <0%> (-11.12%)
⬇️


sqliterepo/synchro.c
66.4% <0%> (-8.21%)
⬇️


sqliterepo/gridd_client_pool.c
70.28% <0%> (-7.55%)
⬇️


oio/common/wsgi.py
41.77% <0%> (-3.8%)
⬇️


sqliterepo/replication_dispatcher.c
54.31% <0%> (-3.71%)
⬇️


sqliterepo/replication.c
84.24% <0%> (-3.16%)
⬇️


sqliterepo/election.c
87.18% <0%> (-3.13%)
⬇️


sqliterepo/version.c
80.74% <0%> (-2.97%)
⬇️


sqliterepo/repository.c
74.05% <0%> (-2.84%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7163b3c...3f5253f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1491,2018-06-11T14:53:09Z,2018-06-12T16:04:53Z,2018-06-12T16:04:53Z,MERGED,True,1,1,1,https://github.com/dargor,Clean documentation about build dependencies,1,[],https://github.com/open-io/oio-sds/pull/1491,https://github.com/dargor,1,https://github.com/open-io/oio-sds/pull/1491,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1492,2018-06-12T07:29:35Z,2018-06-13T08:43:27Z,2018-06-13T08:43:32Z,MERGED,True,123,62,6,https://github.com/fvennetier,Fix chunk size and blob rebuilder tests,5,[],https://github.com/open-io/oio-sds/pull/1492,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1492,"SUMMARY
Recent modifications in the C API made some chunk size related tests fail. This pull requests tries to fix them. Besides, the blob rebuilder tests were not using service IDs (mandatory for rdir related operations).
Also implement openio cluster resolve  command, necessary for blob rebuilder tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

C API
CLI
tests

SDS VERSION
openio 4.1.25.dev43","SUMMARY
Recent modifications in the C API made some chunk size related tests fail. This pull requests tries to fix them. Besides, the blob rebuilder tests were not using service IDs (mandatory for rdir related operations).
Also implement openio cluster resolve  command, necessary for blob rebuilder tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

C API
CLI
tests

SDS VERSION
openio 4.1.25.dev43",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1492,2018-06-12T07:29:35Z,2018-06-13T08:43:27Z,2018-06-13T08:43:32Z,MERGED,True,123,62,6,https://github.com/fvennetier,Fix chunk size and blob rebuilder tests,5,[],https://github.com/open-io/oio-sds/pull/1492,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1492#issuecomment-396844423,"SUMMARY
Recent modifications in the C API made some chunk size related tests fail. This pull requests tries to fix them. Besides, the blob rebuilder tests were not using service IDs (mandatory for rdir related operations).
Also implement openio cluster resolve  command, necessary for blob rebuilder tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

C API
CLI
tests

SDS VERSION
openio 4.1.25.dev43","Codecov Report

Merging #1492 into 4.2.x will increase coverage by 0.63%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1492      +/-   ##
==========================================
+ Coverage   78.81%   79.44%   +0.63%     
==========================================
  Files         328      330       +2     
  Lines       60144    60396     +252     
  Branches     6708     6717       +9     
==========================================
+ Hits        47394    47973     +579     
+ Misses      12718    12368     -350     
- Partials       32       55      +23



Impacted Files
Coverage Δ





core/tool_roundtrip.c
84.74% <100%> (+0.25%)
⬆️


tests/functional/cli/cluster/test_cluster.py
55.85% <100%> (ø)
⬆️


meta0v2/meta0_server.c
55.7% <0%> (-17.72%)
⬇️


meta0v2/zk_manager.c
61.25% <0%> (-12.4%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


server/network_server.c
83.83% <0%> (-1.03%)
⬇️


meta0v2/meta0_backend.c
77.33% <0%> (-0.8%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
81.4% <0%> (-0.77%)
⬇️


metautils/lib/utils_sockets.c
42.05% <0%> (-0.37%)
⬇️


... and 48 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 124523c...b731439. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1493,2018-06-12T15:24:32Z,2018-06-12T15:55:25Z,2018-06-12T16:06:20Z,MERGED,True,15,3,1,https://github.com/jfsmig,sqliterepo/election: Fix the detection of Rogue nodes,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1493,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1493,"SUMMARY
Fix the detection of Rogue Nodes in the FSM of the elections in sqliterepo.
Prior to the patch, a rogue node caused the election member to never reach the MASTER state, without removing the rogue node.
ISSUE TYPE
bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.1.25.dev9","SUMMARY
Fix the detection of Rogue Nodes in the FSM of the elections in sqliterepo.
Prior to the patch, a rogue node caused the election member to never reach the MASTER state, without removing the rogue node.
ISSUE TYPE
bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.1.25.dev9",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1493,2018-06-12T15:24:32Z,2018-06-12T15:55:25Z,2018-06-12T16:06:20Z,MERGED,True,15,3,1,https://github.com/jfsmig,sqliterepo/election: Fix the detection of Rogue nodes,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1493,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1493#issuecomment-396632074,"SUMMARY
Fix the detection of Rogue Nodes in the FSM of the elections in sqliterepo.
Prior to the patch, a rogue node caused the election member to never reach the MASTER state, without removing the rogue node.
ISSUE TYPE
bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.1.25.dev9",Introduced at commit ecc0999,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1493,2018-06-12T15:24:32Z,2018-06-12T15:55:25Z,2018-06-12T16:06:20Z,MERGED,True,15,3,1,https://github.com/jfsmig,sqliterepo/election: Fix the detection of Rogue nodes,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1493,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/1493#issuecomment-396632501,"SUMMARY
Fix the detection of Rogue Nodes in the FSM of the elections in sqliterepo.
Prior to the patch, a rogue node caused the election member to never reach the MASTER state, without removing the rogue node.
ISSUE TYPE
bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.1.25.dev9",/cc @sebastienlapierre,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1493,2018-06-12T15:24:32Z,2018-06-12T15:55:25Z,2018-06-12T16:06:20Z,MERGED,True,15,3,1,https://github.com/jfsmig,sqliterepo/election: Fix the detection of Rogue nodes,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1493,https://github.com/codecov-io,4,https://github.com/open-io/oio-sds/pull/1493#issuecomment-396638670,"SUMMARY
Fix the detection of Rogue Nodes in the FSM of the elections in sqliterepo.
Prior to the patch, a rogue node caused the election member to never reach the MASTER state, without removing the rogue node.
ISSUE TYPE
bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.1.25.dev9","Codecov Report

Merging #1493 into 4.1.x will increase coverage by 0.31%.
The diff coverage is 27.27%.


@@            Coverage Diff             @@
##            4.1.x    #1493      +/-   ##
==========================================
+ Coverage   77.62%   77.93%   +0.31%     
==========================================
  Files         311      311              
  Lines       58379    58388       +9     
  Branches     6859     6861       +2     
==========================================
+ Hits        45315    45503     +188     
- Misses      12780    12831      +51     
+ Partials      284       54     -230



Impacted Files
Coverage Δ





sqliterepo/election.c
90.1% <27.27%> (+3.01%)
⬆️


sqliterepo/replication_client.c
25.71% <0%> (-31.43%)
⬇️


metautils/lib/volume_lock.c
71.05% <0%> (-5.27%)
⬇️


oio/common/wsgi.py
41.77% <0%> (-3.8%)
⬇️


oio/common/utils.py
67.72% <0%> (-3.18%)
⬇️


sqliterepo/sqlx_remote.c
73.18% <0%> (-2.9%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.49% <0%> (-0.92%)
⬇️


meta0v2/meta0_backend.c
77.32% <0%> (-0.81%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
81.39% <0%> (-0.78%)
⬇️


metautils/lib/utils_resolv.c
65.38% <0%> (-0.77%)
⬇️


... and 36 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9701cbc...0718076. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1494,2018-06-12T20:50:58Z,2018-09-11T13:42:06Z,2018-10-30T10:41:32Z,MERGED,True,9,5,3,https://github.com/jfsmig,"meta*, sqlx: Restore the cache of the resolver",3,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1494,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1494,"SUMMARY
In terms of performance, bring the 4.2.x in the row of the 4.1.x
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo, resolver
SDS VERSION
openio 4.1.25.dev45","SUMMARY
In terms of performance, bring the 4.2.x in the row of the 4.1.x
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo, resolver
SDS VERSION
openio 4.1.25.dev45",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1494,2018-06-12T20:50:58Z,2018-09-11T13:42:06Z,2018-10-30T10:41:32Z,MERGED,True,9,5,3,https://github.com/jfsmig,"meta*, sqlx: Restore the cache of the resolver",3,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1494,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1494#issuecomment-399402096,"SUMMARY
In terms of performance, bring the 4.2.x in the row of the 4.1.x
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo, resolver
SDS VERSION
openio 4.1.25.dev45","Codecov Report

Merging #1494 into 4.2.x will increase coverage by 3.22%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1494      +/-   ##
==========================================
+ Coverage   76.77%   79.98%   +3.22%     
==========================================
  Files         295      340      +45     
  Lines       57871    62338    +4467     
  Branches     6466     6698     +232     
==========================================
+ Hits        44424    49855    +5431     
+ Misses      13444    12462     -982     
- Partials        3       21      +18



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
84.07% <ø> (-0.02%)
⬇️


proxy/sqlx_actions.c
76.39% <0%> (-4.16%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


proxy/meta2v2_remote.c
82.48% <0%> (-1.7%)
⬇️


meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


oio/ecd/app.py
58.93% <0%> (-0.59%)
⬇️


core/http_put.c
91.48% <0%> (-0.5%)
⬇️


rawx-lib/src/attr_handler.c
68.5% <0%> (-0.5%)
⬇️


core/cs.c
80.81% <0%> (-0.44%)
⬇️


core/var.c
77.44% <0%> (-0.34%)
⬇️


... and 101 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5abbdc6...9852568. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1495,2018-06-12T21:07:29Z,2018-06-13T12:13:22Z,2018-10-30T10:47:27Z,MERGED,True,176,156,6,https://github.com/jfsmig,sqliterepo: Keep pointer on election to avoid lookups,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1495,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1495,"SUMMARY
During async operations deferred out of the critical section around FSM locks, instead of keeping the key to the election (and then requiring a lookup during the completion hook), we keep the direct pointer to the election member.
This leads to smaller structures (the pointer is smaller than the name components), less CPU consumed, and requires refcounts to be handled well.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.1.25.dev45","SUMMARY
During async operations deferred out of the critical section around FSM locks, instead of keeping the key to the election (and then requiring a lookup during the completion hook), we keep the direct pointer to the election member.
This leads to smaller structures (the pointer is smaller than the name components), less CPU consumed, and requires refcounts to be handled well.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.1.25.dev45",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1495,2018-06-12T21:07:29Z,2018-06-13T12:13:22Z,2018-10-30T10:47:27Z,MERGED,True,176,156,6,https://github.com/jfsmig,sqliterepo: Keep pointer on election to avoid lookups,2,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1495,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1495#issuecomment-396894668,"SUMMARY
During async operations deferred out of the critical section around FSM locks, instead of keeping the key to the election (and then requiring a lookup during the completion hook), we keep the direct pointer to the election member.
This leads to smaller structures (the pointer is smaller than the name components), less CPU consumed, and requires refcounts to be handled well.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.1.25.dev45","Codecov Report

Merging #1495 into 4.2.x will decrease coverage by 0.02%.
The diff coverage is 98%.


@@            Coverage Diff             @@
##            4.2.x    #1495      +/-   ##
==========================================
- Coverage   79.47%   79.45%   -0.01%     
==========================================
  Files         330      330              
  Lines       60396    60387       -9     
  Branches     6717     6715       -2     
==========================================
- Hits        47991    47976      -15     
- Misses      12344    12352       +8     
+ Partials       61       59       -2



Impacted Files
Coverage Δ





tests/unit/test_sqliterepo_election.c
96.64% <100%> (+0.02%)
⬆️


sqliterepo/synchro.c
74.55% <100%> (-0.13%)
⬇️


sqliterepo/election.c
90.49% <96.43%> (+0.25%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


oio/container/backup.py
77.92% <0%> (-1.84%)
⬇️


sqlx/sqlx_service.c
83.54% <0%> (-0.79%)
⬇️


core/http_put.c
91.48% <0%> (-0.5%)
⬇️


core/cs.c
80.81% <0%> (-0.44%)
⬇️


sqliterepo/replication_dispatcher.c
64.24% <0%> (-0.38%)
⬇️


... and 14 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c3fbd79...a3d5fa6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1496,2018-06-13T13:21:26Z,2018-06-13T15:24:24Z,2018-06-13T15:24:27Z,MERGED,True,20,4,1,https://github.com/fvennetier,Python API: document and improve check_volume function,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1496,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1496,"SUMMARY
CI tests often fail on this function which used to return a very
imprecise error message. The function is now documented and returns
helpful error messages.
ISSUE TYPE

Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.26.dev11","SUMMARY
CI tests often fail on this function which used to return a very
imprecise error message. The function is now documented and returns
helpful error messages.
ISSUE TYPE

Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.26.dev11",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1496,2018-06-13T13:21:26Z,2018-06-13T15:24:24Z,2018-06-13T15:24:27Z,MERGED,True,20,4,1,https://github.com/fvennetier,Python API: document and improve check_volume function,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1496,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1496#issuecomment-396959381,"SUMMARY
CI tests often fail on this function which used to return a very
imprecise error message. The function is now documented and returns
helpful error messages.
ISSUE TYPE

Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.1.26.dev11","Codecov Report

Merging #1496 into 4.2.x will decrease coverage by 0.03%.
The diff coverage is 50%.


@@            Coverage Diff            @@
##            4.2.x   #1496      +/-   ##
=========================================
- Coverage   79.53%   79.5%   -0.02%     
=========================================
  Files         330     330              
  Lines       60387   60392       +5     
  Branches     6715    6715              
=========================================
- Hits        48021   48007      -14     
- Misses      12335   12351      +16     
- Partials       31      34       +3



Impacted Files
Coverage Δ





oio/blob/utils.py
85.19% <50%> (-5.72%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


metautils/lib/gridd_client_ext.c
79.78% <0%> (-1.1%)
⬇️


server/network_server.c
83.96% <0%> (-0.9%)
⬇️


meta0v2/meta0_backend.c
77.33% <0%> (-0.8%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
81.4% <0%> (-0.77%)
⬇️


server/slab.c
82.92% <0%> (-0.63%)
⬇️


core/http_put.c
91.48% <0%> (-0.5%)
⬇️


core/cs.c
80.81% <0%> (-0.44%)
⬇️


... and 14 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e7e8c40...7ff24ed. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1498,2018-06-21T08:58:13Z,2018-06-22T16:25:35Z,2018-06-22T16:25:38Z,MERGED,True,131,46,5,https://github.com/fvennetier,CLI: tolerate partial object entries and listing errors,6,"['bug :scream:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1498,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1498,"SUMMARY

In case of corrupt databases, some object entries were returned incomplete, and that made the CLI crash.
In case of election errors, the first one made the CLI crash. Now the CLI will continue listing objects from the next container.

ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME
CLI
SDS VERSION
openio 4.1.26.dev3","SUMMARY

In case of corrupt databases, some object entries were returned incomplete, and that made the CLI crash.
In case of election errors, the first one made the CLI crash. Now the CLI will continue listing objects from the next container.

ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME
CLI
SDS VERSION
openio 4.1.26.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1498,2018-06-21T08:58:13Z,2018-06-22T16:25:35Z,2018-06-22T16:25:38Z,MERGED,True,131,46,5,https://github.com/fvennetier,CLI: tolerate partial object entries and listing errors,6,"['bug :scream:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1498,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1498#issuecomment-399034798,"SUMMARY

In case of corrupt databases, some object entries were returned incomplete, and that made the CLI crash.
In case of election errors, the first one made the CLI crash. Now the CLI will continue listing objects from the next container.

ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME
CLI
SDS VERSION
openio 4.1.26.dev3","Codecov Report

Merging #1498 into 4.1.x will decrease coverage by 0.65%.
The diff coverage is 51.28%.


@@            Coverage Diff             @@
##            4.1.x    #1498      +/-   ##
==========================================
- Coverage   78.24%   77.59%   -0.66%     
==========================================
  Files         311      311              
  Lines       58388    58442      +54     
  Branches     6861     6861              
==========================================
- Hits        45687    45349     -338     
- Misses      12636    12831     +195     
- Partials       65      262     +197



Impacted Files
Coverage Δ





oio/cli/storage/obj.py
23.9% <0%> (-1.29%)
⬇️


proxy/m2_actions.c
86.3% <100%> (ø)
⬆️


tests/functional/cli/__init__.py
95.34% <100%> (+0.34%)
⬆️


tests/functional/cli/storage/test_obj.py
100% <100%> (ø)
⬆️


oio/blob/utils.py
85.18% <50%> (-5.73%)
⬇️


gridd/main/srvalert.c
0% <0%> (-54.84%)
⬇️


sqliterepo/replication_client.c
25.71% <0%> (-38.58%)
⬇️


sqliterepo/restoration.c
85.18% <0%> (-11.12%)
⬇️


sqliterepo/gridd_client_pool.c
71.22% <0%> (-9.44%)
⬇️


sqliterepo/synchro.c
65.34% <0%> (-9.26%)
⬇️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 171ed2a...665ceb3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1499,2018-06-22T15:34:26Z,2018-06-22T16:25:50Z,2018-06-22T16:25:53Z,MERGED,True,5,8,1,https://github.com/fvennetier,Do not swallow account exceptions,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1499,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1499,"SUMMARY
Before this commit, for any kind of error, the Python API was responding ""No Account service found"". Now it will at least log the initial error.
ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME
Python API
SDS VERSION
openio 4.1.27.dev6","SUMMARY
Before this commit, for any kind of error, the Python API was responding ""No Account service found"". Now it will at least log the initial error.
ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME
Python API
SDS VERSION
openio 4.1.27.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1499,2018-06-22T15:34:26Z,2018-06-22T16:25:50Z,2018-06-22T16:25:53Z,MERGED,True,5,8,1,https://github.com/fvennetier,Do not swallow account exceptions,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1499,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1499#issuecomment-399499992,"SUMMARY
Before this commit, for any kind of error, the Python API was responding ""No Account service found"". Now it will at least log the initial error.
ISSUE TYPE
Bugfix Pull Request
COMPONENT NAME
Python API
SDS VERSION
openio 4.1.27.dev6","Codecov Report

Merging #1499 into 4.1.x will decrease coverage by 0.25%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1499      +/-   ##
==========================================
- Coverage   78.24%   77.99%   -0.26%     
==========================================
  Files         311      311              
  Lines       58388    58385       -3     
  Branches     6861     6861              
==========================================
- Hits        45687    45537     -150     
- Misses      12636    12826     +190     
+ Partials       65       22      -43



Impacted Files
Coverage Δ





oio/account/client.py
85.05% <100%> (+1.72%)
⬆️


gridd/main/srvalert.c
0% <0%> (-54.84%)
⬇️


sqliterepo/replication_client.c
25.71% <0%> (-38.58%)
⬇️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


sqliterepo/replication_dispatcher.c
54.63% <0%> (-3.47%)
⬇️


sqliterepo/sqlx_remote.c
73.18% <0%> (-2.9%)
⬇️


sqliterepo/gridd_client_pool.c
78.3% <0%> (-2.36%)
⬇️


meta1v2/meta1_prefixes.c
80.61% <0%> (-2.05%)
⬇️


meta0v2/meta0_backend.c
78.13% <0%> (-2.03%)
⬇️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 171ed2a...94e899f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1501,2018-06-25T13:45:50Z,2018-07-02T07:20:04Z,2018-07-02T07:22:46Z,CLOSED,False,8,6,1,https://github.com/fvennetier,tests: wait longer for events to be processed (temporary fix),1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1501,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1501,"SUMMARY
We have seen an increase in event processing time. Until we find the problem, increase the wait time in tests using events.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Tests","SUMMARY
We have seen an increase in event processing time. Until we find the problem, increase the wait time in tests using events.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Tests",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1501,2018-06-25T13:45:50Z,2018-07-02T07:20:04Z,2018-07-02T07:22:46Z,CLOSED,False,8,6,1,https://github.com/fvennetier,tests: wait longer for events to be processed (temporary fix),1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1501,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/1501#issuecomment-401694271,"SUMMARY
We have seen an increase in event processing time. Until we find the problem, increase the wait time in tests using events.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Tests",Replaced by #1506,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1502,2018-06-25T16:04:43Z,2018-06-26T14:18:17Z,2018-06-26T14:18:20Z,MERGED,True,1,1,1,https://github.com/fvennetier,proxy: use appropriate configuration for bulk delete,1,[],https://github.com/open-io/oio-sds/pull/1502,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1502,"SUMMARY
Before this commit, the maximum number of items deleted in one request was set by proxy.bulk.max.create_many instead of proxy.bulk.max.delete_many.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Proxy

SDS VERSION
openio 4.1.27.dev7","SUMMARY
Before this commit, the maximum number of items deleted in one request was set by proxy.bulk.max.create_many instead of proxy.bulk.max.delete_many.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Proxy

SDS VERSION
openio 4.1.27.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1502,2018-06-25T16:04:43Z,2018-06-26T14:18:17Z,2018-06-26T14:18:20Z,MERGED,True,1,1,1,https://github.com/fvennetier,proxy: use appropriate configuration for bulk delete,1,[],https://github.com/open-io/oio-sds/pull/1502,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1502#issuecomment-400022012,"SUMMARY
Before this commit, the maximum number of items deleted in one request was set by proxy.bulk.max.create_many instead of proxy.bulk.max.delete_many.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Proxy

SDS VERSION
openio 4.1.27.dev7","Codecov Report

Merging #1502 into 4.1.x will increase coverage by 3.7%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##            4.1.x    #1502     +/-   ##
=========================================
+ Coverage   74.29%   77.99%   +3.7%     
=========================================
  Files         311      311             
  Lines       58439    58439             
  Branches     6861     6861             
=========================================
+ Hits        43416    45581   +2165     
+ Misses      15019    12804   -2215     
- Partials        4       54     +50



Impacted Files
Coverage Δ





proxy/m2_actions.c
86.3% <100%> (+0.07%)
⬆️


metautils/lib/utils_gba.c
61.62% <0%> (-1.17%)
⬇️


oio/crawler/integrity.py
54.84% <0%> (-1.11%)
⬇️


cluster/conscience/conscience_srv.c
79.8% <0%> (-0.97%)
⬇️


oio/directory/meta0.py
69.48% <0%> (-0.37%)
⬇️


metautils/lib/utils_service_info.c
85.09% <0%> (-0.32%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <0%> (ø)
⬆️


metautils/lib/comm_converter.c
74.15% <0%> (ø)
⬆️


core/lb.c
93.73% <0%> (+0.14%)
⬆️


... and 50 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7a10d01...45067b0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1503,2018-06-26T13:45:11Z,2018-06-26T15:10:03Z,2018-06-26T15:10:07Z,MERGED,True,29,13,5,https://github.com/fvennetier,event: review event-agent configuration options,1,[],https://github.com/open-io/oio-sds/pull/1503,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1503,"SUMMARY

Update sample configuration file.
Print a link to the configuration sample when no argument is passed.
Print a warning when a deprecated option is used.

ISSUE TYPE

Docs Pull Request

COMPONENT NAME

oio-event-agent

SDS VERSION
openio 4.1.27.dev7","SUMMARY

Update sample configuration file.
Print a link to the configuration sample when no argument is passed.
Print a warning when a deprecated option is used.

ISSUE TYPE

Docs Pull Request

COMPONENT NAME

oio-event-agent

SDS VERSION
openio 4.1.27.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1504,2018-06-27T03:26:32Z,2018-10-10T12:45:58Z,2018-11-03T00:49:56Z,CLOSED,False,1682,2101,161,https://github.com/jkasarherou,Allow 99 max line length in python code,101,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1504,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/1504,"SUMMARY

Allow 99 max line length in python code (previously set to 79).","SUMMARY

Allow 99 max line length in python code (previously set to 79).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1504,2018-06-27T03:26:32Z,2018-10-10T12:45:58Z,2018-11-03T00:49:56Z,CLOSED,False,1682,2101,161,https://github.com/jkasarherou,Allow 99 max line length in python code,101,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1504,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1504#issuecomment-406530665,"SUMMARY

Allow 99 max line length in python code (previously set to 79).",I'm not very fond of long lines.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1504,2018-06-27T03:26:32Z,2018-10-10T12:45:58Z,2018-11-03T00:49:56Z,CLOSED,False,1682,2101,161,https://github.com/jkasarherou,Allow 99 max line length in python code,101,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1504,https://github.com/jkasarherou,3,https://github.com/open-io/oio-sds/pull/1504#issuecomment-406598743,"SUMMARY

Allow 99 max line length in python code (previously set to 79).","""long""",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1505,2018-06-28T11:10:00Z,2018-07-26T12:27:36Z,2018-07-26T12:27:36Z,MERGED,True,30,6,5,https://github.com/acornard,Deny the role of MASTER in elections,2,[],https://github.com/open-io/oio-sds/pull/1505,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1505,"SUMMARY
Create an option to force a service to deny the role of MASTER in any election it carries.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
sqliterepo/election
SDS VERSION
openio 4.2.0.0b4.dev34","SUMMARY
Create an option to force a service to deny the role of MASTER in any election it carries.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
sqliterepo/election
SDS VERSION
openio 4.2.0.0b4.dev34",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1505,2018-06-28T11:10:00Z,2018-07-26T12:27:36Z,2018-07-26T12:27:36Z,MERGED,True,30,6,5,https://github.com/acornard,Deny the role of MASTER in elections,2,[],https://github.com/open-io/oio-sds/pull/1505,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1505#issuecomment-402439547,"SUMMARY
Create an option to force a service to deny the role of MASTER in any election it carries.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
sqliterepo/election
SDS VERSION
openio 4.2.0.0b4.dev34","Codecov Report

Merging #1505 into 4.2.x will decrease coverage by 0.04%.
The diff coverage is 58.34%.


@@            Coverage Diff             @@
##            4.2.x    #1505      +/-   ##
==========================================
- Coverage   79.78%   79.74%   -0.03%     
==========================================
  Files         338      338              
  Lines       61428    61435       +7     
  Branches     6685     6687       +2     
==========================================
- Hits        49005    48987      -18     
- Misses      12404    12427      +23     
- Partials       19       21       +2



Impacted Files
Coverage Δ





tests/unit/test_sqliterepo_election.c
96.4% <57.15%> (-0.24%)
⬇️


sqliterepo/election.c
90.15% <60%> (-0.03%)
⬇️


metautils/lib/volume_lock.c
71.06% <0%> (-5.26%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


rawx-lib/src/attr_handler.c
68.5% <0%> (-1%)
⬇️


oio/container/backup.py
77.92% <0%> (-0.92%)
⬇️


rawx-apache2/src/rawx_repository.c
54.01% <0%> (-0.63%)
⬇️


... and 17 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0d0a649...984a9dd. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1505,2018-06-28T11:10:00Z,2018-07-26T12:27:36Z,2018-07-26T12:27:36Z,MERGED,True,30,6,5,https://github.com/acornard,Deny the role of MASTER in elections,2,[],https://github.com/open-io/oio-sds/pull/1505,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/1505#issuecomment-402772066,"SUMMARY
Create an option to force a service to deny the role of MASTER in any election it carries.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
sqliterepo/election
SDS VERSION
openio 4.2.0.0b4.dev34",Jira: OB-128,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1506,2018-06-28T14:55:16Z,2018-07-02T07:16:51Z,2018-11-06T19:49:37Z,MERGED,True,49,3,5,https://github.com/murlock,tests: fix broken tests against account service,3,[],https://github.com/open-io/oio-sds/pull/1506,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1506,"SUMMARY
Tests using account service and event-agent were broken due to short timeout or trying to launch
test with while low score on account service
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
tests
SDS VERSION
4.2.x

ADDITIONAL INFORMATION
A new tool has been added to dump buried events on failure.","SUMMARY
Tests using account service and event-agent were broken due to short timeout or trying to launch
test with while low score on account service
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
tests
SDS VERSION
4.2.x

ADDITIONAL INFORMATION
A new tool has been added to dump buried events on failure.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1506,2018-06-28T14:55:16Z,2018-07-02T07:16:51Z,2018-11-06T19:49:37Z,MERGED,True,49,3,5,https://github.com/murlock,tests: fix broken tests against account service,3,[],https://github.com/open-io/oio-sds/pull/1506,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1506#issuecomment-401085740,"SUMMARY
Tests using account service and event-agent were broken due to short timeout or trying to launch
test with while low score on account service
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
tests
SDS VERSION
4.2.x

ADDITIONAL INFORMATION
A new tool has been added to dump buried events on failure.","Codecov Report

Merging #1506 into 4.2.x will increase coverage by 11.9%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1506      +/-   ##
==========================================
+ Coverage   67.69%   79.58%   +11.9%     
==========================================
  Files         266      335      +69     
  Lines       50191    60997   +10806     
  Branches     6499     6682     +183     
==========================================
+ Hits        33972    48541   +14569     
+ Misses      16219    12435    -3784     
- Partials        0       21      +21



Impacted Files
Coverage Δ





tests/functional/api/test_objectstorage.py
92.45% <100%> (ø)



proxy/cache_actions.c
77.69% <0%> (-1.65%)
⬇️


resolver/hc_resolver.c
92.45% <0%> (-0.9%)
⬇️


proxy/metacd_http.c
90.27% <0%> (-0.46%)
⬇️


sqliterepo/synchro.c
74.55% <0%> (-0.25%)
⬇️


oio/blob/utils.py
89.8% <0%> (ø)



tests/func/testlib_sds.c
92.94% <0%> (ø)



tests/functional/rdir/test_server.py
95.32% <0%> (ø)



tests/functional/account/test_client.py
94.74% <0%> (ø)



tests/func/test_dir.c
100% <0%> (ø)



... and 173 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d4c51f4...32c9113. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1507,2018-06-29T11:10:16Z,2018-06-29T11:11:40Z,2018-06-29T11:11:46Z,MERGED,True,1,0,1,https://github.com/murlock,rawx: close FD after removing fullpath xattr,1,[],https://github.com/open-io/oio-sds/pull/1507,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1507,"SUMMARY
When removing fullpath from rawx, the FD was not closed
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
4.2.0c0","SUMMARY
When removing fullpath from rawx, the FD was not closed
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
4.2.0c0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1508,2018-06-29T16:56:44Z,2018-07-02T12:52:09Z,2018-07-04T13:50:24Z,MERGED,True,207,76,3,https://github.com/AymericDu,Improve the tests for all rebuilders,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1508,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1508,"SUMMARY
Improve the tests for all rebuilders:

Remove 1 meta1, 1 meta2 and 1 rawx
Restart the services
Rebuild the meta1, the meta2 and the rawx

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
oio-meta1-rebuilder
oio-meta2-rebuilder

SDS VERSION
openio 4.2.0.0b4.dev38","SUMMARY
Improve the tests for all rebuilders:

Remove 1 meta1, 1 meta2 and 1 rawx
Restart the services
Rebuild the meta1, the meta2 and the rawx

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
oio-meta1-rebuilder
oio-meta2-rebuilder

SDS VERSION
openio 4.2.0.0b4.dev38",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1508,2018-06-29T16:56:44Z,2018-07-02T12:52:09Z,2018-07-04T13:50:24Z,MERGED,True,207,76,3,https://github.com/AymericDu,Improve the tests for all rebuilders,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1508,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1508#issuecomment-401772677,"SUMMARY
Improve the tests for all rebuilders:

Remove 1 meta1, 1 meta2 and 1 rawx
Restart the services
Rebuild the meta1, the meta2 and the rawx

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
oio-meta1-rebuilder
oio-meta2-rebuilder

SDS VERSION
openio 4.2.0.0b4.dev38","Codecov Report

Merging #1508 into 4.2.x will decrease coverage by 0.04%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##            4.2.x   #1508      +/-   ##
=========================================
- Coverage   79.64%   79.6%   -0.03%     
=========================================
  Files         336     336              
  Lines       61038   61033       -5     
  Branches     6684    6682       -2     
=========================================
- Hits        48607   48582      -25     
- Misses      12411   12442      +31     
+ Partials       20       9      -11



Impacted Files
Coverage Δ





sqliterepo/repository.c
77.84% <ø> (-0.23%)
⬇️


sqliterepo/restoration.c
88.89% <0%> (-7.4%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


oio/container/backup.py
77.92% <0%> (-1.99%)
⬇️


meta1v2/meta1_server.c
72.9% <0%> (-1.86%)
⬇️


rawx-lib/src/attr_handler.c
68% <0%> (-1.5%)
⬇️


meta1v2/meta1_prefixes.c
79.6% <0%> (-1.02%)
⬇️


resolver/hc_resolver.c
93.06% <0%> (-0.9%)
⬇️


sqlx/sqlx_service.c
84.2% <0%> (-0.79%)
⬇️


core/http_put.c
91.48% <0%> (-0.5%)
⬇️


... and 17 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 03084b0...4328154. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1509,2018-06-29T17:22:17Z,2018-07-02T08:31:30Z,2018-07-02T08:31:35Z,MERGED,True,111,3,3,https://github.com/fvennetier,Check bind address,2,['language:C'],https://github.com/open-io/oio-sds/pull/1509,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1509,"SUMMARY
We have seen the bind_addr of rdir server be set to ""127.0.0.1"" (with quotes) instead of 127.0.0.1. In that case, the server is listening on 0.0.0.0 (thus all available network interfaces).
This PR fixes this behavior: an error is now returned.
Jira: OS-76
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
server
SDS VERSION
openio 4.2.1.dev2","SUMMARY
We have seen the bind_addr of rdir server be set to ""127.0.0.1"" (with quotes) instead of 127.0.0.1. In that case, the server is listening on 0.0.0.0 (thus all available network interfaces).
This PR fixes this behavior: an error is now returned.
Jira: OS-76
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
server
SDS VERSION
openio 4.2.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1509,2018-06-29T17:22:17Z,2018-07-02T08:31:30Z,2018-07-02T08:31:35Z,MERGED,True,111,3,3,https://github.com/fvennetier,Check bind address,2,['language:C'],https://github.com/open-io/oio-sds/pull/1509,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1509#issuecomment-401709053,"SUMMARY
We have seen the bind_addr of rdir server be set to ""127.0.0.1"" (with quotes) instead of 127.0.0.1. In that case, the server is listening on 0.0.0.0 (thus all available network interfaces).
This PR fixes this behavior: an error is now returned.
Jira: OS-76
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
server
SDS VERSION
openio 4.2.1.dev2","Codecov Report

Merging #1509 into 4.2.x will increase coverage by 0.05%.
The diff coverage is 92.86%.


@@            Coverage Diff             @@
##            4.2.x    #1509      +/-   ##
==========================================
+ Coverage   79.57%   79.61%   +0.05%     
==========================================
  Files         335      336       +1     
  Lines       60998    61038      +40     
  Branches     6682     6684       +2     
==========================================
+ Hits        48531    48592      +61     
+ Misses      12440    12421      -19     
+ Partials       27       25       -2



Impacted Files
Coverage Δ





server/network_server.c
85.81% <90.91%> (+0.95%)
⬆️


tests/unit/test_network_server.c
93.55% <93.55%> (ø)



meta2v2/meta2_filters_action_container.c
58.87% <0%> (-1.06%)
⬇️


oio/container/backup.py
78.84% <0%> (-0.61%)
⬇️


sqliterepo/replication.c
87.11% <0%> (-0.28%)
⬇️


oio/api/io.py
86.15% <0%> (-0.27%)
⬇️


metautils/lib/comm_converter.c
74.16% <0%> (-0.26%)
⬇️


server/transport_gridd.c
78.11% <0%> (-0.19%)
⬇️


sqliterepo/replication_dispatcher.c
64.73% <0%> (ø)
⬆️


... and 17 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d338119...5595892. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1510,2018-07-02T09:23:17Z,2018-07-30T09:42:14Z,2018-07-30T09:42:14Z,MERGED,True,102,0,3,https://github.com/jkasarherou,events: add webhook filter,4,[],https://github.com/open-io/oio-sds/pull/1510,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/1510,"SUMMARY
Add a webhook filter to event-agent.
ISSUE TYPE


Feature Pull Request

COMPONENT NAME

oio-event-agent
ADDITIONAL INFORMATION
Sends HTTP POST to configured endpoint in filter.
Sample
{
  ""eventId"": ""17"",
  ""eventType"": ""storage.content.new"",
  ""timestamp"": 1530510293897297,
  ""data"": {
    ""id"": ""025DE780FB6F050045A4AAFE741AAA9D"",
    ""account"": ""myaccount"",
    ""container"": ""1"",
    ""name"": ""magic"",
    ""md5Hash"": ""4561FADE4C4FC48E526E72871C470EEC"",
    ""contentType"": ""application/octet-stream"",
    ""policy"": ""SINGLE"",
    ""chunkMethod"": ""plain/nb_copy=1"",
    ""size"": 24301,
    ""creationTime"": 1530510293,
    ""modificationTime"": 1530510293,
    ""version"": 1530510293866760,
    ""metadata"": {
      ""foo"": ""bar""
    }
  }
}","SUMMARY
Add a webhook filter to event-agent.
ISSUE TYPE


Feature Pull Request

COMPONENT NAME

oio-event-agent
ADDITIONAL INFORMATION
Sends HTTP POST to configured endpoint in filter.
Sample
{
  ""eventId"": ""17"",
  ""eventType"": ""storage.content.new"",
  ""timestamp"": 1530510293897297,
  ""data"": {
    ""id"": ""025DE780FB6F050045A4AAFE741AAA9D"",
    ""account"": ""myaccount"",
    ""container"": ""1"",
    ""name"": ""magic"",
    ""md5Hash"": ""4561FADE4C4FC48E526E72871C470EEC"",
    ""contentType"": ""application/octet-stream"",
    ""policy"": ""SINGLE"",
    ""chunkMethod"": ""plain/nb_copy=1"",
    ""size"": 24301,
    ""creationTime"": 1530510293,
    ""modificationTime"": 1530510293,
    ""version"": 1530510293866760,
    ""metadata"": {
      ""foo"": ""bar""
    }
  }
}",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1510,2018-07-02T09:23:17Z,2018-07-30T09:42:14Z,2018-07-30T09:42:14Z,MERGED,True,102,0,3,https://github.com/jkasarherou,events: add webhook filter,4,[],https://github.com/open-io/oio-sds/pull/1510,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1510#issuecomment-401744979,"SUMMARY
Add a webhook filter to event-agent.
ISSUE TYPE


Feature Pull Request

COMPONENT NAME

oio-event-agent
ADDITIONAL INFORMATION
Sends HTTP POST to configured endpoint in filter.
Sample
{
  ""eventId"": ""17"",
  ""eventType"": ""storage.content.new"",
  ""timestamp"": 1530510293897297,
  ""data"": {
    ""id"": ""025DE780FB6F050045A4AAFE741AAA9D"",
    ""account"": ""myaccount"",
    ""container"": ""1"",
    ""name"": ""magic"",
    ""md5Hash"": ""4561FADE4C4FC48E526E72871C470EEC"",
    ""contentType"": ""application/octet-stream"",
    ""policy"": ""SINGLE"",
    ""chunkMethod"": ""plain/nb_copy=1"",
    ""size"": 24301,
    ""creationTime"": 1530510293,
    ""modificationTime"": 1530510293,
    ""version"": 1530510293866760,
    ""metadata"": {
      ""foo"": ""bar""
    }
  }
}","Codecov Report

Merging #1510 into 4.x will decrease coverage by 0.08%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1510      +/-   ##
==========================================
- Coverage   79.81%   79.74%   -0.07%     
==========================================
  Files         338      338              
  Lines       61435    61435              
  Branches     6687     6687              
==========================================
- Hits        49028    48984      -44     
- Misses      12385    12431      +46     
+ Partials       22       20       -2



Impacted Files
Coverage Δ





oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


core/proxy.c
82.89% <0%> (-2.16%)
⬇️


oio/container/backup.py
77.92% <0%> (-1.99%)
⬇️


proxy/cs_actions.c
90.26% <0%> (-1.44%)
⬇️


sqlx/sqlx_service.c
83.56% <0%> (-1.06%)
⬇️


server/slab.c
82.92% <0%> (-0.63%)
⬇️


oio/ecd/app.py
58.93% <0%> (-0.59%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <0%> (-0.4%)
⬇️


... and 11 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b8a85d7...b7eee59. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1511,2018-07-02T12:02:34Z,2018-07-02T12:58:23Z,2018-07-02T12:58:27Z,MERGED,True,15,4,3,https://github.com/fvennetier,Improve load-balancer tests and warning messages,2,[],https://github.com/open-io/oio-sds/pull/1511,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1511,"SUMMARY
Improve load-balancer tests and warning messages.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME
Core
SDS VERSION
openio 4.1.27.dev9","SUMMARY
Improve load-balancer tests and warning messages.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME
Core
SDS VERSION
openio 4.1.27.dev9",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1511,2018-07-02T12:02:34Z,2018-07-02T12:58:23Z,2018-07-02T12:58:27Z,MERGED,True,15,4,3,https://github.com/fvennetier,Improve load-balancer tests and warning messages,2,[],https://github.com/open-io/oio-sds/pull/1511,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1511#issuecomment-401787000,"SUMMARY
Improve load-balancer tests and warning messages.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME
Core
SDS VERSION
openio 4.1.27.dev9","Codecov Report

Merging #1511 into 4.1.x will increase coverage by 5.45%.
The diff coverage is 50%.


@@            Coverage Diff            @@
##            4.1.x   #1511      +/-   ##
=========================================
+ Coverage   72.55%     78%   +5.45%     
=========================================
  Files         309     311       +2     
  Lines       58188   58441     +253     
  Branches     6852    6861       +9     
=========================================
+ Hits        42218   45589    +3371     
+ Misses      15572   12804    -2768     
+ Partials      398      48     -350



Impacted Files
Coverage Δ





tests/unit/test_lb.c
97.18% <100%> (+9.63%)
⬆️


core/lb.c
93.6% <40%> (+0.3%)
⬆️


gridd/main/srvalert.c
0% <0%> (-54.84%)
⬇️


cluster/conscience/conscience.c
79.69% <0%> (-0.76%)
⬇️


core/cs.c
80.8% <0%> (-0.45%)
⬇️


oio/directory/meta0.py
69.48% <0%> (-0.37%)
⬇️


proxy/metacd_http.c
88.66% <0%> (-0.32%)
⬇️


metautils/lib/utils_service_info.c
85.09% <0%> (-0.32%)
⬇️


metautils/lib/utils_sockets.c
49.24% <0%> (ø)
⬆️


core/tool_sdk.c
69.04% <0%> (ø)



... and 96 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2cb5749...b74c95c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1513,2018-07-03T15:50:27Z,2018-07-05T07:50:30Z,2018-07-05T07:50:33Z,MERGED,True,146,9,10,https://github.com/fvennetier,Improve load balancer,4,['language:C'],https://github.com/open-io/oio-sds/pull/1513,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1513,"SUMMARY
When errors occur while reloading the LB, we do not trim the previous generations of services, and thus do not recompute the internal state. With this patch, the internal state will be recomputed in such cases.
Also warn if the writer lock is held for too long, with a configurable delay.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

core
meta2
proxy

SDS VERSION
openio 4.2.1.dev11

ADDITIONAL INFORMATION","SUMMARY
When errors occur while reloading the LB, we do not trim the previous generations of services, and thus do not recompute the internal state. With this patch, the internal state will be recomputed in such cases.
Also warn if the writer lock is held for too long, with a configurable delay.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

core
meta2
proxy

SDS VERSION
openio 4.2.1.dev11

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1513,2018-07-03T15:50:27Z,2018-07-05T07:50:30Z,2018-07-05T07:50:33Z,MERGED,True,146,9,10,https://github.com/fvennetier,Improve load balancer,4,['language:C'],https://github.com/open-io/oio-sds/pull/1513,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1513#issuecomment-402430222,"SUMMARY
When errors occur while reloading the LB, we do not trim the previous generations of services, and thus do not recompute the internal state. With this patch, the internal state will be recomputed in such cases.
Also warn if the writer lock is held for too long, with a configurable delay.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

core
meta2
proxy

SDS VERSION
openio 4.2.1.dev11

ADDITIONAL INFORMATION","Codecov Report

Merging #1513 into 4.2.x will decrease coverage by 0.05%.
The diff coverage is 93.62%.


@@            Coverage Diff             @@
##            4.2.x    #1513      +/-   ##
==========================================
- Coverage   79.71%   79.67%   -0.04%     
==========================================
  Files         336      336              
  Lines       61035    61077      +42     
  Branches     6682     6684       +2     
==========================================
+ Hits        48651    48658       +7     
- Misses      12384    12391       +7     
- Partials        0       28      +28



Impacted Files
Coverage Δ





metautils/lib/lb.c
94.51% <ø> (ø)
⬆️


tests/unit/test_lb.c
97.34% <100%> (+0.15%)
⬆️


proxy/metacd_http.c
89.82% <100%> (-0.75%)
⬇️


sqlx/sqlx_service.c
83.96% <50%> (-0.37%)
⬇️


core/lb.c
93.23% <86.67%> (-0.15%)
⬇️


proxy/sqlx_actions.c
76.39% <0%> (-4.16%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


meta1v2/meta1_server.c
72.9% <0%> (-1.86%)
⬇️


proxy/meta2v2_remote.c
82.48% <0%> (-1.7%)
⬇️


proxy/cache_actions.c
77.69% <0%> (-1.65%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ccb7ce4...97cb5e5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1514,2018-07-04T13:01:43Z,2018-07-05T07:38:19Z,2018-07-05T08:44:21Z,MERGED,True,549,237,13,https://github.com/AymericDu,"Test oio-blob-{indexer,auditor}",7,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1514,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1514,"SUMMARY

test oio-blob-indexer and oio-blob-auditor
oio-blob-auditor: compare metachunk size and hash between meta2 and rawx
rawx: fix the sender of events with multiple beanstalk

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-auditor
rawx

SDS VERSION
openio 4.2.1.dev18","SUMMARY

test oio-blob-indexer and oio-blob-auditor
oio-blob-auditor: compare metachunk size and hash between meta2 and rawx
rawx: fix the sender of events with multiple beanstalk

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-auditor
rawx

SDS VERSION
openio 4.2.1.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1514,2018-07-04T13:01:43Z,2018-07-05T07:38:19Z,2018-07-05T08:44:21Z,MERGED,True,549,237,13,https://github.com/AymericDu,"Test oio-blob-{indexer,auditor}",7,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1514,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1514#issuecomment-402487916,"SUMMARY

test oio-blob-indexer and oio-blob-auditor
oio-blob-auditor: compare metachunk size and hash between meta2 and rawx
rawx: fix the sender of events with multiple beanstalk

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-auditor
rawx

SDS VERSION
openio 4.2.1.dev18","Codecov Report

Merging #1514 into 4.2.x will increase coverage by 0.02%.
The diff coverage is 93.86%.


@@            Coverage Diff             @@
##            4.2.x    #1514      +/-   ##
==========================================
+ Coverage   79.71%   79.73%   +0.02%     
==========================================
  Files         336      338       +2     
  Lines       61035    61245     +210     
  Branches     6682     6668      -14     
==========================================
+ Hits        48651    48827     +176     
- Misses      12384    12389       +5     
- Partials        0       29      +29



Impacted Files
Coverage Δ





events/oio_events_queue.c
91.14% <ø> (+9.7%)
⬆️


tests/functional/blob/test_mover.py
60.5% <ø> (+3.18%)
⬆️


tests/functional/blob/test_rebuilder.py
58.83% <0%> (+1.69%)
⬆️


tests/functional/blob/test_blob.py
99.2% <100%> (-0.01%)
⬇️


tests/functional/audit/test_audit_storage.py
100% <100%> (ø)
⬆️


rawx-apache2/src/rawx_event.c
53.66% <100%> (-4.11%)
⬇️


events/oio_events_queue_fanout.c
91.75% <100%> (-0.14%)
⬇️


oio/blob/auditor.py
59.77% <100%> (+0.49%)
⬆️


tests/functional/blob/test_auditor.py
100% <100%> (ø)



tests/functional/blob/__init__.py
100% <100%> (ø)
⬆️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ccb7ce4...c93e75e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1515,2018-07-04T14:18:18Z,2018-07-04T15:11:14Z,2018-07-04T15:11:21Z,MERGED,True,17,3,2,https://github.com/fvennetier,oio-blob-indexer: sleep when no rdir assigned to local volume,1,[],https://github.com/open-io/oio-sds/pull/1515,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1515,"SUMMARY
Log an error, then sleep when no rdir assigned to local volume.
Fix #1512
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-blob-indexer
SDS VERSION
openio 4.1.27","SUMMARY
Log an error, then sleep when no rdir assigned to local volume.
Fix #1512
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-blob-indexer
SDS VERSION
openio 4.1.27",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1515,2018-07-04T14:18:18Z,2018-07-04T15:11:14Z,2018-07-04T15:11:21Z,MERGED,True,17,3,2,https://github.com/fvennetier,oio-blob-indexer: sleep when no rdir assigned to local volume,1,[],https://github.com/open-io/oio-sds/pull/1515,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1515#issuecomment-402501844,"SUMMARY
Log an error, then sleep when no rdir assigned to local volume.
Fix #1512
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-blob-indexer
SDS VERSION
openio 4.1.27","Codecov Report

Merging #1515 into 4.1.x will increase coverage by 0.09%.
The diff coverage is 11.11%.


@@            Coverage Diff             @@
##            4.1.x    #1515      +/-   ##
==========================================
+ Coverage   77.98%   78.08%   +0.09%     
==========================================
  Files         311      311              
  Lines       58441    58447       +6     
  Branches     6861     6861              
==========================================
+ Hits        45576    45636      +60     
+ Misses      12836    12778      -58     
- Partials       29       33       +4



Impacted Files
Coverage Δ





oio/common/exceptions.py
98.36% <ø> (ø)
⬆️


oio/blob/indexer.py
74.22% <11.11%> (-2.7%)
⬇️


proxy/reply.c
79.34% <0%> (-6.53%)
⬇️


oio/account/client.py
79.31% <0%> (-5.75%)
⬇️


oio/crawler/storage_tierer.py
58.33% <0%> (-4.63%)
⬇️


rdir/routes.c
68.75% <0%> (-3.13%)
⬇️


core/proxy.c
81.32% <0%> (-2.34%)
⬇️


sqliterepo/replication.c
87.39% <0%> (-2.01%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


server/network_server.c
82.14% <0%> (-0.91%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d6453c8...662ef72. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1516,2018-07-05T13:20:45Z,2018-07-06T08:51:03Z,2018-07-06T09:16:40Z,MERGED,True,42,3,1,https://github.com/AymericDu,Send an event with the correct URL,1,[],https://github.com/open-io/oio-sds/pull/1516,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1516,"SUMMARY
Fetch the alias to send an event with the correct URL
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.1.dev24","SUMMARY
Fetch the alias to send an event with the correct URL
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.1.dev24",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1516,2018-07-05T13:20:45Z,2018-07-06T08:51:03Z,2018-07-06T09:16:40Z,MERGED,True,42,3,1,https://github.com/AymericDu,Send an event with the correct URL,1,[],https://github.com/open-io/oio-sds/pull/1516,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1516#issuecomment-402744590,"SUMMARY
Fetch the alias to send an event with the correct URL
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.1.dev24","Codecov Report

Merging #1516 into 4.2.x will decrease coverage by 0.12%.
The diff coverage is 93.94%.


@@            Coverage Diff             @@
##            4.2.x    #1516      +/-   ##
==========================================
- Coverage   79.83%   79.71%   -0.11%     
==========================================
  Files         338      338              
  Lines       61293    61323      +30     
  Branches     6675     6680       +5     
==========================================
- Hits        48926    48878      -48     
- Misses      12365    12419      +54     
- Partials        2       26      +24



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
91.17% <93.94%> (-1.3%)
⬇️


proxy/sqlx_actions.c
76.39% <0%> (-4.16%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


oio/container/backup.py
77.92% <0%> (-2.91%)
⬇️


server/slab.c
82.92% <0%> (-1.89%)
⬇️


meta1v2/meta1_server.c
72.9% <0%> (-1.86%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


proxy/meta2v2_remote.c
82.48% <0%> (-1.7%)
⬇️


proxy/cache_actions.c
77.69% <0%> (-1.65%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 799b7d4...9b7ddef. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1517,2018-07-09T16:28:26Z,2018-07-10T12:13:51Z,2018-07-10T12:13:55Z,MERGED,True,20,10,2,https://github.com/fvennetier,Python API: do not print stack on chunk timeout,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1517,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1517,"SUMMARY
Do not print the whole stack trace on chunk timeout, just print the type and duration of the timeout.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.2.1.dev25","SUMMARY
Do not print the whole stack trace on chunk timeout, just print the type and duration of the timeout.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.2.1.dev25",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1517,2018-07-09T16:28:26Z,2018-07-10T12:13:51Z,2018-07-10T12:13:55Z,MERGED,True,20,10,2,https://github.com/fvennetier,Python API: do not print stack on chunk timeout,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1517,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1517#issuecomment-403555986,"SUMMARY
Do not print the whole stack trace on chunk timeout, just print the type and duration of the timeout.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.2.1.dev25","Codecov Report

Merging #1517 into 4.2.x will increase coverage by 0.07%.
The diff coverage is 52.64%.


@@            Coverage Diff            @@
##            4.2.x   #1517      +/-   ##
=========================================
+ Coverage   79.74%   79.8%   +0.07%     
=========================================
  Files         338     338              
  Lines       61323   61333      +10     
  Branches     6680    6680              
=========================================
+ Hits        48895   48942      +47     
+ Misses      12402   12364      -38     
- Partials       26      27       +1



Impacted Files
Coverage Δ





oio/api/ec.py
93.59% <12.5%> (-0.67%)
⬇️


oio/api/replication.py
85.57% <81.82%> (+2.69%)
⬆️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.5% <0%> (-0.91%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


metautils/lib/comm_converter.c
73.9% <0%> (-0.26%)
⬇️


core/str.c
89.93% <0%> (-0.23%)
⬇️


sqlx/sqlx_service.c
84.09% <0%> (-0.13%)
⬇️


sqliterepo/replication_dispatcher.c
64.19% <0%> (+0.16%)
⬆️


core/proxy.c
85.23% <0%> (+0.19%)
⬆️


... and 17 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cfdfdff...38f4578. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1518,2018-07-10T09:00:49Z,2018-07-10T12:30:04Z,2018-07-10T12:30:08Z,MERGED,True,80,7,3,https://github.com/fvennetier,Improve the load balancer,2,['language:C'],https://github.com/open-io/oio-sds/pull/1518,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1518,"SUMMARY
Improve the load balancer. Be smart when choosing the ""jump"" (number used to shuffle the search). This is to avoid situations where some services where chosen far more often than others.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Load balancer
SDS VERSION
openio 4.2.1.dev25","SUMMARY
Improve the load balancer. Be smart when choosing the ""jump"" (number used to shuffle the search). This is to avoid situations where some services where chosen far more often than others.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Load balancer
SDS VERSION
openio 4.2.1.dev25",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1518,2018-07-10T09:00:49Z,2018-07-10T12:30:04Z,2018-07-10T12:30:08Z,MERGED,True,80,7,3,https://github.com/fvennetier,Improve the load balancer,2,['language:C'],https://github.com/open-io/oio-sds/pull/1518,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1518#issuecomment-403777771,"SUMMARY
Improve the load balancer. Be smart when choosing the ""jump"" (number used to shuffle the search). This is to avoid situations where some services where chosen far more often than others.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Load balancer
SDS VERSION
openio 4.2.1.dev25","Codecov Report

Merging #1518 into 4.2.x will decrease coverage by 0.01%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1518      +/-   ##
==========================================
- Coverage   79.74%   79.73%   -<.01%     
==========================================
  Files         338      338              
  Lines       61323    61344      +21     
  Branches     6680     6685       +5     
==========================================
+ Hits        48895    48909      +14     
- Misses      12402    12408       +6     
- Partials       26       27       +1



Impacted Files
Coverage Δ





tests/unit/test_lb.c
97.39% <100%> (+0.05%)
⬆️


core/lb.c
93.2% <100%> (-0.03%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


core/proxy.c
82.89% <0%> (-2.16%)
⬇️


proxy/cs_actions.c
90.26% <0%> (-1.44%)
⬇️


server/slab.c
82.92% <0%> (-0.63%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


metautils/lib/utils_hashstr.c
81.49% <0%> (ø)
⬆️


... and 11 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cfdfdff...64e6e1f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1519,2018-07-10T10:07:24Z,2018-07-10T12:14:10Z,2018-07-10T12:14:13Z,MERGED,True,7,2,1,https://github.com/fvennetier,tests: lower score threshold,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1519,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1519,"SUMMARY
Lower score threshold for tests, and avoid infinite wait loop.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Tests
SDS VERSION
openio 4.2.1.dev27","SUMMARY
Lower score threshold for tests, and avoid infinite wait loop.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Tests
SDS VERSION
openio 4.2.1.dev27",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1519,2018-07-10T10:07:24Z,2018-07-10T12:14:10Z,2018-07-10T12:14:13Z,MERGED,True,7,2,1,https://github.com/fvennetier,tests: lower score threshold,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1519,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1519#issuecomment-403785514,"SUMMARY
Lower score threshold for tests, and avoid infinite wait loop.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Tests
SDS VERSION
openio 4.2.1.dev27","Codecov Report

Merging #1519 into 4.2.x will decrease coverage by 0.05%.
The diff coverage is 66.67%.


@@            Coverage Diff            @@
##            4.2.x   #1519      +/-   ##
=========================================
- Coverage   79.74%   79.7%   -0.04%     
=========================================
  Files         338     338              
  Lines       61323   61324       +1     
  Branches     6680    6680              
=========================================
- Hits        48895   48870      -25     
- Misses      12402   12427      +25     
- Partials       26      27       +1



Impacted Files
Coverage Δ





tests/functional/container/test_container.py
98.43% <66.67%> (-0.17%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


core/proxy.c
82.71% <0%> (-2.34%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


proxy/cs_actions.c
90.26% <0%> (-1.44%)
⬇️


oio/container/backup.py
77.46% <0%> (-1.38%)
⬇️


sqlx/sqlx_service.c
83.69% <0%> (-0.53%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


proxy/transport_http.c
86.07% <0%> (-0.27%)
⬇️


metautils/lib/comm_converter.c
73.9% <0%> (-0.26%)
⬇️


... and 11 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cfdfdff...9e853ef. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1520,2018-07-10T15:43:52Z,2018-07-16T06:53:23Z,2018-08-22T12:26:24Z,MERGED,True,90,0,3,https://github.com/acornard, CLI: implement 'object link' subcommand,2,[],https://github.com/open-io/oio-sds/pull/1520,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1520,"SUMMARY
Fix OB-147
Allow copying an object quickly
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev24","SUMMARY
Fix OB-147
Allow copying an object quickly
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev24",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1520,2018-07-10T15:43:52Z,2018-07-16T06:53:23Z,2018-08-22T12:26:24Z,MERGED,True,90,0,3,https://github.com/acornard, CLI: implement 'object link' subcommand,2,[],https://github.com/open-io/oio-sds/pull/1520,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1520#issuecomment-404256773,"SUMMARY
Fix OB-147
Allow copying an object quickly
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev24","Codecov Report

Merging #1520 into 4.2.x will decrease coverage by 0.06%.
The diff coverage is 15.39%.


@@            Coverage Diff             @@
##            4.2.x    #1520      +/-   ##
==========================================
- Coverage   79.74%   79.68%   -0.05%     
==========================================
  Files         338      338              
  Lines       61355    61381      +26     
  Branches     6685     6685              
==========================================
- Hits        48920    48908      -12     
- Misses      12408    12447      +39     
+ Partials       27       26       -1



Impacted Files
Coverage Δ





oio/cli/object/object.py
25.84% <15.39%> (-0.74%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


oio/container/backup.py
77.92% <0%> (-1.99%)
⬇️


meta2v2/meta2_filters_action_container.c
58.87% <0%> (-1.06%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


sqlx/sqlx_service.c
83.56% <0%> (-0.66%)
⬇️


server/slab.c
82.92% <0%> (-0.63%)
⬇️


sqliterepo/cache.c
89.6% <0%> (-0.5%)
⬇️


metautils/lib/comm_message.c
85.53% <0%> (-0.26%)
⬇️


sqliterepo/repository.c
77.62% <0%> (-0.22%)
⬇️


... and 9 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7b87fec...c075039. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1521,2018-07-10T16:25:41Z,2018-07-12T13:11:45Z,2018-08-22T12:26:27Z,MERGED,True,26,1,3,https://github.com/acornard, CLI: Add --quickly option to container flush,2,[],https://github.com/open-io/oio-sds/pull/1521,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1521,"SUMMARY
Fix OB-145
Add option to flush container quickly
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev24","SUMMARY
Fix OB-145
Add option to flush container quickly
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev24",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1521,2018-07-10T16:25:41Z,2018-07-12T13:11:45Z,2018-08-22T12:26:27Z,MERGED,True,26,1,3,https://github.com/acornard, CLI: Add --quickly option to container flush,2,[],https://github.com/open-io/oio-sds/pull/1521,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1521#issuecomment-404426590,"SUMMARY
Fix OB-145
Add option to flush container quickly
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev24","Codecov Report

Merging #1521 into 4.2.x will decrease coverage by 0.03%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1521      +/-   ##
==========================================
- Coverage   79.74%   79.71%   -0.02%     
==========================================
  Files         338      338              
  Lines       61355    61367      +12     
  Branches     6685     6685              
==========================================
- Hits        48920    48914       -6     
- Misses      12408    12426      +18     
  Partials       27       27



Impacted Files
Coverage Δ





oio/api/object_storage.py
85.57% <ø> (+0.18%)
⬆️


tests/functional/cli/container/test_container.py
98.79% <100%> (+0.21%)
⬆️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


proxy/metacd_http.c
88.43% <0%> (-1.38%)
⬇️


oio/container/backup.py
78.84% <0%> (-1.07%)
⬇️


meta2v2/meta2_filters_action_container.c
58.87% <0%> (-1.06%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


sqlx/sqlx_service.c
83.69% <0%> (-0.53%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


proxy/cs_actions.c
90.26% <0%> (-0.36%)
⬇️


... and 12 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7b87fec...92928bd. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1522,2018-07-12T09:35:49Z,2018-07-13T07:21:18Z,2018-08-22T12:26:26Z,MERGED,True,31,2,2,https://github.com/acornard,CLI: Add --status option to container set,1,[],https://github.com/open-io/oio-sds/pull/1522,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1522,"SUMMARY
Fix OB-146
Create option to set container status using openio container set
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev25","SUMMARY
Fix OB-146
Create option to set container status using openio container set
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev25",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1522,2018-07-12T09:35:49Z,2018-07-13T07:21:18Z,2018-08-22T12:26:26Z,MERGED,True,31,2,2,https://github.com/acornard,CLI: Add --status option to container set,1,[],https://github.com/open-io/oio-sds/pull/1522,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1522#issuecomment-404466132,"SUMMARY
Fix OB-146
Create option to set container status using openio container set
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev25","Codecov Report

Merging #1522 into 4.2.x will not change coverage.
The diff coverage is n/a.


@@           Coverage Diff           @@
##            4.2.x    #1522   +/-   ##
=======================================
  Coverage   79.74%   79.74%           
=======================================
  Files         338      338           
  Lines       61355    61355           
  Branches     6685     6685           
=======================================
  Hits        48920    48920           
- Misses      12408    12412    +4     
+ Partials       27       23    -4



Impacted Files
Coverage Δ





oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


oio/container/backup.py
77.92% <0%> (-1.99%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


sqliterepo/repository.c
77.51% <0%> (-0.33%)
⬇️


proxy/transport_http.c
86.07% <0%> (-0.27%)
⬇️


sqlx/sqlx_service.c
84.09% <0%> (-0.13%)
⬇️


cluster/module/server.c
74.62% <0%> (-0.1%)
⬇️


sqliterepo/replication_dispatcher.c
64.04% <0%> (ø)
⬆️


core/proxy.c
82.89% <0%> (ø)
⬆️


... and 12 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7b87fec...71bc44c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1523,2018-07-13T10:31:36Z,2018-07-13T10:32:05Z,2018-07-13T10:32:09Z,MERGED,True,6,4,2,https://github.com/murlock,Fix flake8 warnings,1,[],https://github.com/open-io/oio-sds/pull/1523,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1523,"SUMMARY
Fix flake8 errors
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API and tests functionnal
SDS VERSION
4.2.x","SUMMARY
Fix flake8 errors
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API and tests functionnal
SDS VERSION
4.2.x",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1524,2018-07-16T16:41:37Z,2018-07-17T10:19:49Z,2018-11-06T19:49:33Z,MERGED,True,1,1,1,https://github.com/murlock,Update ABI version,1,[],https://github.com/open-io/oio-sds/pull/1524,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1524,"SUMMARY
Update ABI
Some functions was renamed and ABI version was not updated.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

core

SDS VERSION

4.2.x","SUMMARY
Update ABI
Some functions was renamed and ABI version was not updated.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

core

SDS VERSION

4.2.x",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1524,2018-07-16T16:41:37Z,2018-07-17T10:19:49Z,2018-11-06T19:49:33Z,MERGED,True,1,1,1,https://github.com/murlock,Update ABI version,1,[],https://github.com/open-io/oio-sds/pull/1524,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1524#issuecomment-405324533,"SUMMARY
Update ABI
Some functions was renamed and ABI version was not updated.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

core

SDS VERSION

4.2.x","Codecov Report

Merging #1524 into 4.2.x will increase coverage by 0.04%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1524      +/-   ##
==========================================
+ Coverage   79.72%   79.76%   +0.04%     
==========================================
  Files         338      338              
  Lines       61428    61428              
  Branches     6685     6685              
==========================================
+ Hits        48970    48991      +21     
+ Misses      12433    12412      -21     
  Partials       25       25



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <0%> (-0.4%)
⬇️


sqliterepo/repository.c
77.51% <0%> (-0.33%)
⬇️


oio/api/io.py
86.15% <0%> (-0.27%)
⬇️


sqlx/sqlx_service.c
83.96% <0%> (-0.26%)
⬇️


sqliterepo/replication_dispatcher.c
64.12% <0%> (ø)
⬆️


sqliterepo/election.c
90.13% <0%> (ø)
⬆️


server/transport_gridd.c
78.11% <0%> (ø)
⬆️


core/proxy.c
82.89% <0%> (+0.19%)
⬆️


core/str.c
90.4% <0%> (+0.24%)
⬆️


... and 8 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 69e70b4...611ee0d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1525,2018-07-17T13:54:40Z,2018-07-30T13:49:10Z,2018-08-01T08:44:11Z,MERGED,True,1224,59,20,https://github.com/AymericDu,Convert old xattr to new xattr,12,[],https://github.com/open-io/oio-sds/pull/1525,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1525,"SUMMARY

Create new tool oio-blob-converter to convert old xattr to new xattr
Integrate the converter in the oio-blob-indexer

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-converter
oio-blob-indexer

SDS VERSION
openio 4.2.2.dev18","SUMMARY

Create new tool oio-blob-converter to convert old xattr to new xattr
Integrate the converter in the oio-blob-indexer

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-converter
oio-blob-indexer

SDS VERSION
openio 4.2.2.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1525,2018-07-17T13:54:40Z,2018-07-30T13:49:10Z,2018-08-01T08:44:11Z,MERGED,True,1224,59,20,https://github.com/AymericDu,Convert old xattr to new xattr,12,[],https://github.com/open-io/oio-sds/pull/1525,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1525#issuecomment-405606419,"SUMMARY

Create new tool oio-blob-converter to convert old xattr to new xattr
Integrate the converter in the oio-blob-indexer

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-converter
oio-blob-indexer

SDS VERSION
openio 4.2.2.dev18","Codecov Report

Merging #1525 into 4.2.x will increase coverage by 0.09%.
The diff coverage is 89.1%.


@@            Coverage Diff             @@
##            4.2.x    #1525      +/-   ##
==========================================
+ Coverage   79.77%   79.85%   +0.09%     
==========================================
  Files         338      340       +2     
  Lines       61428    62031     +603     
  Branches     6685     6685              
==========================================
+ Hits        48995    49530     +535     
- Misses      12407    12472      +65     
- Partials       26       29       +3



Impacted Files
Coverage Δ





tests/functional/blob/test_auditor.py
100% <ø> (ø)
⬆️


tests/functional/blob/test_mover.py
60.5% <ø> (ø)
⬆️


tests/functional/blob/test_rebuilder.py
58.83% <ø> (ø)
⬆️


tests/functional/blob/test_indexer.py
100% <100%> (+12.86%)
⬆️


oio/blob/auditor.py
59.77% <100%> (ø)
⬆️


tests/functional/blob/test_blob.py
99.2% <100%> (ø)
⬆️


oio/content/factory.py
98.62% <100%> (+0.18%)
⬆️


oio/blob/mover.py
45.46% <100%> (+0.42%)
⬆️


tests/functional/blob/__init__.py
100% <100%> (ø)
⬆️


oio/common/easy_value.py
78.73% <71.43%> (-1.27%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0d0a649...9cd7fed. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1526,2018-07-18T16:07:45Z,2018-07-30T14:03:01Z,2018-07-30T14:03:01Z,MERGED,True,412,166,5,https://github.com/acornard,CLI: Allow CID for object and container commands,4,[],https://github.com/open-io/oio-sds/pull/1526,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1526,"SUMMARY
Allow use CID instead of container name to openio object and container command
Fix OB-143
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev25","SUMMARY
Allow use CID instead of container name to openio object and container command
Fix OB-143
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev25",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1526,2018-07-18T16:07:45Z,2018-07-30T14:03:01Z,2018-07-30T14:03:01Z,MERGED,True,412,166,5,https://github.com/acornard,CLI: Allow CID for object and container commands,4,[],https://github.com/open-io/oio-sds/pull/1526,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1526#issuecomment-407452934,"SUMMARY
Allow use CID instead of container name to openio object and container command
Fix OB-143
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.1.dev25","Codecov Report

Merging #1526 into 4.2.x will increase coverage by 0.25%.
The diff coverage is 83.91%.


@@            Coverage Diff             @@
##            4.2.x    #1526      +/-   ##
==========================================
+ Coverage   79.61%   79.86%   +0.25%     
==========================================
  Files         338      338              
  Lines       61526    61681     +155     
  Branches     6690     6690              
==========================================
+ Hits        48977    49253     +276     
+ Misses      12517    12409     -108     
+ Partials       32       19      -13



Impacted Files
Coverage Δ





tests/functional/cli/container/test_container.py
99.43% <100%> (+0.46%)
⬆️


tests/functional/cli/object/test_object.py
100% <100%> (ø)
⬆️


oio/cli/object/object.py
24.89% <14.71%> (-0.75%)
⬇️


oio/api/object_storage.py
84.97% <63.64%> (-0.6%)
⬇️


rawx-lib/src/attr_handler.c
68.5% <0%> (-1.5%)
⬇️


core/proxy.c
82.89% <0%> (-1.44%)
⬇️


proxy/cs_actions.c
90.62% <0%> (-1.08%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.5% <0%> (-0.91%)
⬇️


server/slab.c
82.92% <0%> (-0.63%)
⬇️


oio/ecd/app.py
58.93% <0%> (-0.59%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6eb70d7...0511a50. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1527,2018-07-20T12:24:33Z,2018-08-23T16:19:35Z,2018-09-03T12:26:54Z,MERGED,True,2777,786,31,https://github.com/jfsmig,Draft a pure Go rawx,54,"['enhancement :sparkles:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1527,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1527,"SUMMARY
Add an initial (and partial) implementation of a Golang version of the rawx service.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
4.3.0
ADDITIONAL INFORMATION
Hopefully:

PUT/GET/DELETE should be nearly functional

Sadly:

The current rawx is not subject to the CI functional tests
We do not check go is available, during the build process
No configuration file is read at strartup
The log format doesn't follow the standard
No signal is managed as it is done in other services
The central configuration is not considered","SUMMARY
Add an initial (and partial) implementation of a Golang version of the rawx service.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
4.3.0
ADDITIONAL INFORMATION
Hopefully:

PUT/GET/DELETE should be nearly functional

Sadly:

The current rawx is not subject to the CI functional tests
We do not check go is available, during the build process
No configuration file is read at strartup
The log format doesn't follow the standard
No signal is managed as it is done in other services
The central configuration is not considered",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1527,2018-07-20T12:24:33Z,2018-08-23T16:19:35Z,2018-09-03T12:26:54Z,MERGED,True,2777,786,31,https://github.com/jfsmig,Draft a pure Go rawx,54,"['enhancement :sparkles:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1527,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1527#issuecomment-406654655,"SUMMARY
Add an initial (and partial) implementation of a Golang version of the rawx service.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
4.3.0
ADDITIONAL INFORMATION
Hopefully:

PUT/GET/DELETE should be nearly functional

Sadly:

The current rawx is not subject to the CI functional tests
We do not check go is available, during the build process
No configuration file is read at strartup
The log format doesn't follow the standard
No signal is managed as it is done in other services
The central configuration is not considered","Codecov Report

Merging #1527 into 4.x will increase coverage by 1.06%.
The diff coverage is 85.9%.


@@            Coverage Diff            @@
##              4.x   #1527      +/-   ##
=========================================
+ Coverage   80.14%   81.2%   +1.06%     
=========================================
  Files         340     326      -14     
  Lines       62320   59203    -3117     
  Branches     6693    6278     -415     
=========================================
- Hits        49943   48068    -1875     
+ Misses      12376   11109    -1267     
- Partials        1      26      +25



Impacted Files
Coverage Δ





tests/functional/blob/test_converter.py
97.44% <ø> (-2.17%)
⬇️


tests/functional/api/test_objectstorage.py
92.75% <ø> (-0.04%)
⬇️


tests/functional/blob/test_rebuilder.py
21.63% <ø> (-37.2%)
⬇️


tests/functional/blob/__init__.py
100% <ø> (ø)
⬆️


tests/functional/blob/test_auditor.py
100% <100%> (ø)
⬆️


tests/functional/rdir/test_server.py
99.42% <100%> (+3.35%)
⬆️


tests/functional/blob/test_indexer.py
98.32% <100%> (-1.68%)
⬇️


oio/blob/client.py
91.55% <100%> (ø)
⬆️


tests/proc.py
77.15% <77.15%> (ø)



tests/functional/blob/test_blob.py
98.27% <89.66%> (-0.92%)
⬇️


... and 71 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 199f8e6...8e8e912. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1528,2018-07-23T16:31:00Z,2018-07-27T12:24:12Z,2018-08-01T08:44:05Z,MERGED,True,303,81,6,https://github.com/AymericDu,rdir: Remove rtime,4,[],https://github.com/open-io/oio-sds/pull/1528,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1528,"SUMMARY

rdir: remove rtime
CLI: add options to clean a rdir

--all: clear all chunks entries
--before-incident: clear all chunks entries before incident date
--repair: repair all chunks entries



ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rdir
CLI

SDS VERSION
openio 4.2.2.dev10","SUMMARY

rdir: remove rtime
CLI: add options to clean a rdir

--all: clear all chunks entries
--before-incident: clear all chunks entries before incident date
--repair: repair all chunks entries



ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rdir
CLI

SDS VERSION
openio 4.2.2.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1528,2018-07-23T16:31:00Z,2018-07-27T12:24:12Z,2018-08-01T08:44:05Z,MERGED,True,303,81,6,https://github.com/AymericDu,rdir: Remove rtime,4,[],https://github.com/open-io/oio-sds/pull/1528,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1528#issuecomment-407318441,"SUMMARY

rdir: remove rtime
CLI: add options to clean a rdir

--all: clear all chunks entries
--before-incident: clear all chunks entries before incident date
--repair: repair all chunks entries



ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rdir
CLI

SDS VERSION
openio 4.2.2.dev10","Codecov Report

Merging #1528 into 4.2.x will increase coverage by 0.15%.
The diff coverage is 92.67%.


@@            Coverage Diff             @@
##            4.2.x    #1528      +/-   ##
==========================================
+ Coverage   79.78%   79.93%   +0.15%     
==========================================
  Files         338      338              
  Lines       61428    61519      +91     
  Branches     6685     6688       +3     
==========================================
+ Hits        49005    49167     +162     
+ Misses      12404    12332      -72     
- Partials       19       20       +1



Impacted Files
Coverage Δ





tests/functional/rdir/test_server.py
96.08% <100%> (+0.77%)
⬆️


oio/rdir/client.py
71.56% <100%> (+0.25%)
⬆️


oio/cli/volume/client.py
34.15% <33.34%> (ø)
⬆️


rdir/rdir.c
84.96% <88%> (+6.3%)
⬆️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


meta2v2/meta2_filters_action_container.c
59.93% <0%> (-1.06%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


proxy/transport_http.c
86.07% <0%> (-0.27%)
⬇️


metautils/lib/comm_message.c
85.79% <0%> (-0.26%)
⬇️


... and 13 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0d0a649...eccd354. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1529,2018-07-24T13:25:12Z,2018-08-09T08:34:28Z,2018-08-09T08:34:28Z,MERGED,True,123,16,3,https://github.com/acornard,Add options to blob-mover,5,[],https://github.com/open-io/oio-sds/pull/1529,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1529,"SUMMARY
Add options to oio-blob-mover.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-mover

SDS VERSION
openio 4.2.2.dev4

ADDITIONAL INFORMATION
The mover can be used as a command line.
To run mover as daemon, you can specify --daemon option with the interval.
You can also move only some chunk with --limit option.
You can specify disk usage target with  --usage-target option.
--generate-config can be used to edit configuration file or create a new one with the values of other options.","SUMMARY
Add options to oio-blob-mover.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-mover

SDS VERSION
openio 4.2.2.dev4

ADDITIONAL INFORMATION
The mover can be used as a command line.
To run mover as daemon, you can specify --daemon option with the interval.
You can also move only some chunk with --limit option.
You can specify disk usage target with  --usage-target option.
--generate-config can be used to edit configuration file or create a new one with the values of other options.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1529,2018-07-24T13:25:12Z,2018-08-09T08:34:28Z,2018-08-09T08:34:28Z,MERGED,True,123,16,3,https://github.com/acornard,Add options to blob-mover,5,[],https://github.com/open-io/oio-sds/pull/1529,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1529#issuecomment-407439940,"SUMMARY
Add options to oio-blob-mover.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-mover

SDS VERSION
openio 4.2.2.dev4

ADDITIONAL INFORMATION
The mover can be used as a command line.
To run mover as daemon, you can specify --daemon option with the interval.
You can also move only some chunk with --limit option.
You can specify disk usage target with  --usage-target option.
--generate-config can be used to edit configuration file or create a new one with the values of other options.","Codecov Report

Merging #1529 into 4.2.x will increase coverage by 0.09%.
The diff coverage is 42.31%.


@@            Coverage Diff             @@
##            4.2.x    #1529      +/-   ##
==========================================
+ Coverage   79.96%   80.05%   +0.09%     
==========================================
  Files         340      340              
  Lines       62303    62318      +15     
  Branches     6693     6693              
==========================================
+ Hits        49817    49885      +68     
+ Misses      12461    12433      -28     
+ Partials       25        0      -25



Impacted Files
Coverage Δ





oio/blob/mover.py
43.89% <20%> (-1.56%)
⬇️


oio/common/utils.py
70.94% <72.73%> (-1.37%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


core/http_put.c
91.48% <0%> (-0.5%)
⬇️


sqliterepo/replication.c
87.11% <0%> (-0.28%)
⬇️


core/str.c
89.93% <0%> (-0.23%)
⬇️


metautils/lib/comm_message.c
85.79% <0%> (ø)
⬆️


core/proxy.c
82.89% <0%> (ø)
⬆️


oio/api/replication.py
85.57% <0%> (ø)
⬆️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a50c421...5620d37. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1530,2018-07-24T16:23:18Z,2018-07-26T12:40:56Z,2018-08-01T08:43:57Z,MERGED,True,37,22,1,https://github.com/AymericDu,rawx: Specify the mandatory headers,1,[],https://github.com/open-io/oio-sds/pull/1530,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1530,"SUMMARY
Specify the mandatory headers
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev8","SUMMARY
Specify the mandatory headers
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1530,2018-07-24T16:23:18Z,2018-07-26T12:40:56Z,2018-08-01T08:43:57Z,MERGED,True,37,22,1,https://github.com/AymericDu,rawx: Specify the mandatory headers,1,[],https://github.com/open-io/oio-sds/pull/1530,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1530#issuecomment-407690644,"SUMMARY
Specify the mandatory headers
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev8","Codecov Report

Merging #1530 into 4.2.x will decrease coverage by 0.06%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1530      +/-   ##
==========================================
- Coverage   79.78%   79.73%   -0.05%     
==========================================
  Files         338      338              
  Lines       61428    61428              
  Branches     6685     6685              
==========================================
- Hits        49005    48974      -31     
- Misses      12404    12435      +31     
  Partials       19       19



Impacted Files
Coverage Δ





rawx-apache2/src/rawx_repository.c
54.65% <ø> (ø)
⬆️


metautils/lib/volume_lock.c
71.06% <0%> (-5.26%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


rawx-lib/src/attr_handler.c
68% <0%> (-1.5%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


oio/container/backup.py
77.92% <0%> (-0.92%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


sqliterepo/repository.c
77.51% <0%> (-0.44%)
⬇️


... and 11 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0d0a649...7f02a08. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1531,2018-07-31T15:18:23Z,2018-08-07T16:21:22Z,2018-08-07T16:21:25Z,MERGED,True,112,37,6,https://github.com/fvennetier,Implement 'openio directory restore',3,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1531,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1531,"SUMMARY
Implement openio directory restore, improve some other commands.
This new subcommand is able to restore the meta0 content from a backup
previously generated with 'openio directory dump'.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.2.dev31","SUMMARY
Implement openio directory restore, improve some other commands.
This new subcommand is able to restore the meta0 content from a backup
previously generated with 'openio directory dump'.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.2.dev31",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1531,2018-07-31T15:18:23Z,2018-08-07T16:21:22Z,2018-08-07T16:21:25Z,MERGED,True,112,37,6,https://github.com/fvennetier,Implement 'openio directory restore',3,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1531,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1531#issuecomment-409293579,"SUMMARY
Implement openio directory restore, improve some other commands.
This new subcommand is able to restore the meta0 content from a backup
previously generated with 'openio directory dump'.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.2.dev31","Codecov Report

Merging #1531 into 4.x will increase coverage by 0.5%.
The diff coverage is 66.67%.


@@            Coverage Diff            @@
##              4.x    #1531     +/-   ##
=========================================
+ Coverage   79.52%   80.02%   +0.5%     
=========================================
  Files         339      340      +1     
  Lines       62098    62287    +189     
  Branches     6655     6690     +35     
=========================================
+ Hits        49379    49837    +458     
+ Misses      12712    12430    -282     
- Partials        7       20     +13



Impacted Files
Coverage Δ





proxy/m2_actions.c
88.37% <0%> (+0.08%)
⬆️


proxy/dir_actions.c
77.5% <100%> (+0.15%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


metautils/lib/comm_converter.c
73.9% <0%> (-0.26%)
⬇️


meta0v2/meta0_client.c
44.92% <0%> (ø)



server/transport_gridd.c
78.11% <0%> (+0.2%)
⬆️


cluster/module/server.c
74.62% <0%> (+0.21%)
⬆️


... and 41 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c39b319...35721f7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1532,2018-08-01T10:02:03Z,2018-08-22T12:23:02Z,2018-08-22T12:24:57Z,MERGED,True,1894,40,5,https://github.com/acornard,Update SDK documentation,5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1532,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1532,"SUMMARY
Add SDK guides
ISSUE TYPE

Docs Pull Request

COMPONENT NAME
rdir, account, content, container, directory, conscience
SDS VERSION
openio 4.2.2.dev6","SUMMARY
Add SDK guides
ISSUE TYPE

Docs Pull Request

COMPONENT NAME
rdir, account, content, container, directory, conscience
SDS VERSION
openio 4.2.2.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1532,2018-08-01T10:02:03Z,2018-08-22T12:23:02Z,2018-08-22T12:24:57Z,MERGED,True,1894,40,5,https://github.com/acornard,Update SDK documentation,5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1532,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1532#issuecomment-409565311,"SUMMARY
Add SDK guides
ISSUE TYPE

Docs Pull Request

COMPONENT NAME
rdir, account, content, container, directory, conscience
SDS VERSION
openio 4.2.2.dev6","Codecov Report

Merging #1532 into 4.2.x will decrease coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1532      +/-   ##
==========================================
- Coverage   79.99%   79.99%   -<.01%     
==========================================
  Files         340      340              
  Lines       62318    62318              
  Branches     6693     6693              
==========================================
- Hits        49847    49845       -2     
+ Misses      12451    12446       -5     
- Partials       20       27       +7



Impacted Files
Coverage Δ





oio/account/server.py
89.39% <ø> (ø)
⬆️


proxy/m2_actions.c
88.37% <ø> (ø)
⬆️


rdir/rdir.c
84.85% <ø> (ø)
⬆️


proxy/dir_actions.c
77.36% <ø> (ø)
⬆️


proxy/cs_actions.c
91.34% <ø> (+0.73%)
⬆️


proxy/cache_actions.c
77.69% <0%> (-1.65%)
⬇️


rawx-lib/src/attr_handler.c
68.5% <0%> (-1.5%)
⬇️


resolver/hc_resolver.c
92.75% <0%> (-1.2%)
⬇️


rawx-apache2/src/rawx_repository.c
54.01% <0%> (-0.63%)
⬇️


oio/ecd/app.py
58.93% <0%> (-0.59%)
⬇️


... and 20 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 27107c4...c200c65. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1533,2018-08-01T13:41:06Z,2018-08-07T16:21:48Z,2018-11-22T14:29:42Z,MERGED,True,90,32,7,https://github.com/fvennetier,Check container and object names are valid UTF-8,1,[],https://github.com/open-io/oio-sds/pull/1533,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1533,"SUMMARY
Check container and object names are valid UTF-8, and refuse the operation if they are not.
This is to avoid troubles with intermediate serialization formats like JSON, which only accept Unicode values.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta1
meta2
proxy

SDS VERSION
openio 4.2.2.dev32

ADDITIONAL INFORMATION
The drawback is that malformed containers and objects created before the patch may not be readable.","SUMMARY
Check container and object names are valid UTF-8, and refuse the operation if they are not.
This is to avoid troubles with intermediate serialization formats like JSON, which only accept Unicode values.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta1
meta2
proxy

SDS VERSION
openio 4.2.2.dev32

ADDITIONAL INFORMATION
The drawback is that malformed containers and objects created before the patch may not be readable.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1533,2018-08-01T13:41:06Z,2018-08-07T16:21:48Z,2018-11-22T14:29:42Z,MERGED,True,90,32,7,https://github.com/fvennetier,Check container and object names are valid UTF-8,1,[],https://github.com/open-io/oio-sds/pull/1533,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1533#issuecomment-409983189,"SUMMARY
Check container and object names are valid UTF-8, and refuse the operation if they are not.
This is to avoid troubles with intermediate serialization formats like JSON, which only accept Unicode values.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta1
meta2
proxy

SDS VERSION
openio 4.2.2.dev32

ADDITIONAL INFORMATION
The drawback is that malformed containers and objects created before the patch may not be readable.","Codecov Report

Merging #1533 into 4.2.x will decrease coverage by 0.05%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1533      +/-   ##
==========================================
- Coverage   80.02%   79.98%   -0.04%     
==========================================
  Files         340      340              
  Lines       62285    62303      +18     
  Branches     6690     6693       +3     
==========================================
- Hits        49839    49824      -15     
- Misses      12426    12454      +28     
- Partials       20       25       +5



Impacted Files
Coverage Δ





meta2v2/meta2_filters_extract.c
89.48% <100%> (ø)
⬆️


core/url.c
78.48% <100%> (+0.3%)
⬆️


tests/functional/api/test_objectstorage.py
92.8% <100%> (+0.36%)
⬆️


tests/unit/test_url.c
97.2% <100%> (+0.11%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


proxy/cache_actions.c
77.69% <0%> (-1.65%)
⬇️


meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


oio/container/backup.py
78.84% <0%> (-1.07%)
⬇️


... and 18 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 56cf729...2d4b032. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1534,2018-08-07T08:59:32Z,2018-08-23T16:25:27Z,2018-08-23T16:25:27Z,MERGED,True,102,0,1,https://github.com/acornard,Rebalance rawx,3,[],https://github.com/open-io/oio-sds/pull/1534,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1534,"SUMMARY
Add script used to rebalance rawx
ISSUE TYPE

Feature Pull Request

SDS VERSION
openio 4.2.2.dev8","SUMMARY
Add script used to rebalance rawx
ISSUE TYPE

Feature Pull Request

SDS VERSION
openio 4.2.2.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1534,2018-08-07T08:59:32Z,2018-08-23T16:25:27Z,2018-08-23T16:25:27Z,MERGED,True,102,0,1,https://github.com/acornard,Rebalance rawx,3,[],https://github.com/open-io/oio-sds/pull/1534,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1534#issuecomment-411395388,"SUMMARY
Add script used to rebalance rawx
ISSUE TYPE

Feature Pull Request

SDS VERSION
openio 4.2.2.dev8","Codecov Report

Merging #1534 into 4.2.x will increase coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1534      +/-   ##
==========================================
+ Coverage   80.02%   80.02%   +0.01%     
==========================================
  Files         340      340              
  Lines       62285    62403     +118     
  Branches     6690     6693       +3     
==========================================
+ Hits        49839    49934      +95     
- Misses      12426    12459      +33     
+ Partials       20       10      -10



Impacted Files
Coverage Δ





oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


oio/container/backup.py
77.92% <0%> (-1.99%)
⬇️


proxy/cache_actions.c
77.69% <0%> (-1.65%)
⬇️


oio/blob/mover.py
43.91% <0%> (-1.55%)
⬇️


resolver/hc_resolver.c
92.75% <0%> (-1.2%)
⬇️


meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


proxy/metacd_http.c
90.28% <0%> (-0.61%)
⬇️


meta0v2/meta0_backend.c
78.14% <0%> (-0.4%)
⬇️


proxy/common.c
88.73% <0%> (-0.28%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 56cf729...8849e8b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1535,2018-08-07T14:44:19Z,2018-08-09T07:14:09Z,2018-08-09T07:14:12Z,MERGED,True,78,0,2,https://github.com/fvennetier,Define the coding style for C and Python.,1,['priority:4 :suspect:'],https://github.com/open-io/oio-sds/pull/1535,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1535,"SUMMARY
Define the coding style for C and Python. Should help newcomers and trainees.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

Whole project

SDS VERSION
openio 4.2.2.dev36

ADDITIONAL INFORMATION
Do not blindly apply indent on all C source files, it will modify more than expected.","SUMMARY
Define the coding style for C and Python. Should help newcomers and trainees.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

Whole project

SDS VERSION
openio 4.2.2.dev36

ADDITIONAL INFORMATION
Do not blindly apply indent on all C source files, it will modify more than expected.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1535,2018-08-07T14:44:19Z,2018-08-09T07:14:09Z,2018-08-09T07:14:12Z,MERGED,True,78,0,2,https://github.com/fvennetier,Define the coding style for C and Python.,1,['priority:4 :suspect:'],https://github.com/open-io/oio-sds/pull/1535,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1535#issuecomment-411310291,"SUMMARY
Define the coding style for C and Python. Should help newcomers and trainees.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

Whole project

SDS VERSION
openio 4.2.2.dev36

ADDITIONAL INFORMATION
Do not blindly apply indent on all C source files, it will modify more than expected.","Codecov Report

Merging #1535 into 4.x will increase coverage by 0.25%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1535      +/-   ##
==========================================
+ Coverage   79.77%   80.01%   +0.25%     
==========================================
  Files         340      340              
  Lines       62287    62287              
  Branches     6690     6690              
==========================================
+ Hits        49682    49833     +151     
+ Misses      12585    12434     -151     
  Partials       20       20



Impacted Files
Coverage Δ





server/slab.c
83.55% <0%> (-1.26%)
⬇️


meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


sqlx/sqlx_service.c
83.56% <0%> (-0.79%)
⬇️


sqliterepo/cache.c
89.6% <0%> (-0.5%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


sqliterepo/replication_dispatcher.c
64.04% <0%> (-0.3%)
⬇️


metautils/lib/comm_converter.c
73.9% <0%> (-0.26%)
⬇️


sqliterepo/repository.c
77.62% <0%> (-0.22%)
⬇️


server/transport_gridd.c
78.11% <0%> (-0.19%)
⬇️


rdir/rdir.c
84.85% <0%> (+0.11%)
⬆️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a4e4706...4dd61ea. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1536,2018-08-08T23:34:09Z,2019-03-12T14:17:38Z,2019-03-12T14:17:39Z,CLOSED,False,1757,122,10,https://github.com/aneutron,[WIP] OpenIO C API ECD bypass,2,[],https://github.com/open-io/oio-sds/pull/1536,https://github.com/aneutron,1,https://github.com/open-io/oio-sds/pull/1536,"SUMMARY
The C API at the time of writing uses the ECD to download and upload content from EC-enabled containers.
The objective is then to do the encoding/decoding within the C client using liberasurecode.
COMPONENT NAME
C API
SDS VERSION
openio 4.3.2.dev8
ADDITIONAL INFORMATION
The download part of the pull request can be applied independently of the upload part.
The upload part requires CURLOPT_TRAILERFUNC and CURLOPT_TRAILERDATA options introduced in this curl commit, and should be available in the 7.64.0 release.","SUMMARY
The C API at the time of writing uses the ECD to download and upload content from EC-enabled containers.
The objective is then to do the encoding/decoding within the C client using liberasurecode.
COMPONENT NAME
C API
SDS VERSION
openio 4.3.2.dev8
ADDITIONAL INFORMATION
The download part of the pull request can be applied independently of the upload part.
The upload part requires CURLOPT_TRAILERFUNC and CURLOPT_TRAILERDATA options introduced in this curl commit, and should be available in the 7.64.0 release.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1536,2018-08-08T23:34:09Z,2019-03-12T14:17:38Z,2019-03-12T14:17:39Z,CLOSED,False,1757,122,10,https://github.com/aneutron,[WIP] OpenIO C API ECD bypass,2,[],https://github.com/open-io/oio-sds/pull/1536,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1536#issuecomment-412593916,"SUMMARY
The C API at the time of writing uses the ECD to download and upload content from EC-enabled containers.
The objective is then to do the encoding/decoding within the C client using liberasurecode.
COMPONENT NAME
C API
SDS VERSION
openio 4.3.2.dev8
ADDITIONAL INFORMATION
The download part of the pull request can be applied independently of the upload part.
The upload part requires CURLOPT_TRAILERFUNC and CURLOPT_TRAILERDATA options introduced in this curl commit, and should be available in the 7.64.0 release.","Codecov Report

Merging #1536 into master will increase coverage by 0.07%.
The diff coverage is 91.04%.


@@            Coverage Diff             @@
##           master    #1536      +/-   ##
==========================================
+ Coverage   79.92%   79.98%   +0.07%     
==========================================
  Files         365      365              
  Lines       67718    68102     +384     
  Branches     6839     6928      +89     
==========================================
+ Hits        54115    54466     +351     
- Misses      13497    13516      +19     
- Partials      106      120      +14



Impacted Files
Coverage Δ





core/sds.c
80.49% <83.92%> (-0.69%)
⬇️


core/http_put.c
91.29% <90.38%> (-0.69%)
⬇️


core/http_get.c
94.78% <94.78%> (ø)



oio/account/client.py
81.61% <0%> (-5.74%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


oio/common/http_eventlet.py
86.96% <0%> (-2.89%)
⬇️


proxy/meta2v2_remote.c
82.85% <0%> (-2.09%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


meta2v2/meta2_filters_check.c
73.78% <0%> (-1.63%)
⬇️


server/slab.c
83.55% <0%> (-1.26%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d9ad9a5...1a7ec72. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1536,2018-08-08T23:34:09Z,2019-03-12T14:17:38Z,2019-03-12T14:17:39Z,CLOSED,False,1757,122,10,https://github.com/aneutron,[WIP] OpenIO C API ECD bypass,2,[],https://github.com/open-io/oio-sds/pull/1536,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/1536#issuecomment-471985158,"SUMMARY
The C API at the time of writing uses the ECD to download and upload content from EC-enabled containers.
The objective is then to do the encoding/decoding within the C client using liberasurecode.
COMPONENT NAME
C API
SDS VERSION
openio 4.3.2.dev8
ADDITIONAL INFORMATION
The download part of the pull request can be applied independently of the upload part.
The upload part requires CURLOPT_TRAILERFUNC and CURLOPT_TRAILERDATA options introduced in this curl commit, and should be available in the 7.64.0 release.",OB-87,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1536,2018-08-08T23:34:09Z,2019-03-12T14:17:38Z,2019-03-12T14:17:39Z,CLOSED,False,1757,122,10,https://github.com/aneutron,[WIP] OpenIO C API ECD bypass,2,[],https://github.com/open-io/oio-sds/pull/1536,https://github.com/jfsmig,4,https://github.com/open-io/oio-sds/pull/1536#issuecomment-472019469,"SUMMARY
The C API at the time of writing uses the ECD to download and upload content from EC-enabled containers.
The objective is then to do the encoding/decoding within the C client using liberasurecode.
COMPONENT NAME
C API
SDS VERSION
openio 4.3.2.dev8
ADDITIONAL INFORMATION
The download part of the pull request can be applied independently of the upload part.
The upload part requires CURLOPT_TRAILERFUNC and CURLOPT_TRAILERDATA options introduced in this curl commit, and should be available in the 7.64.0 release.",PR rebased on master and moved as a feature branch named ecd-bypass,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1537,2018-08-09T07:29:49Z,2018-10-10T08:31:20Z,2018-10-10T08:31:24Z,MERGED,True,1614,567,52,https://github.com/fvennetier,Save perfectible chunk placement information,16,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1537,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1537,"SUMMARY
The load balancer has a fallback mechanism for service slots, and can degrade the distance requirement between services to increase the chance of uploading data. When it does so, it returns metadata telling the placement could be improved. This metadata must be saved for later improvements.
Jira: R1810-27
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

LB
meta1
meta2
proxy

SDS VERSION
openio 4.2.2.dev39","SUMMARY
The load balancer has a fallback mechanism for service slots, and can degrade the distance requirement between services to increase the chance of uploading data. When it does so, it returns metadata telling the placement could be improved. This metadata must be saved for later improvements.
Jira: R1810-27
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

LB
meta1
meta2
proxy

SDS VERSION
openio 4.2.2.dev39",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1537,2018-08-09T07:29:49Z,2018-10-10T08:31:20Z,2018-10-10T08:31:24Z,MERGED,True,1614,567,52,https://github.com/fvennetier,Save perfectible chunk placement information,16,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1537,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1537#issuecomment-411735498,"SUMMARY
The load balancer has a fallback mechanism for service slots, and can degrade the distance requirement between services to increase the chance of uploading data. When it does so, it returns metadata telling the placement could be improved. This metadata must be saved for later improvements.
Jira: R1810-27
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

LB
meta1
meta2
proxy

SDS VERSION
openio 4.2.2.dev39","Codecov Report

Merging #1537 into 4.x will increase coverage by 2.76%.
The diff coverage is 93.08%.


@@            Coverage Diff             @@
##              4.x    #1537      +/-   ##
==========================================
+ Coverage   78.16%   80.92%   +2.76%     
==========================================
  Files         281      327      +46     
  Lines       54997    59951    +4954     
  Branches     6056     6296     +240     
==========================================
+ Hits        42984    48508    +5524     
+ Misses      11983    11436     -547     
+ Partials       30        7      -23



Impacted Files
Coverage Δ





metautils/lib/storage_policy.h
100% <ø> (ø)
⬆️


meta2v2/meta2_gridd_dispatcher.c
70.84% <ø> (ø)
⬆️


oio/content/plain.py
94.74% <ø> (ø)
⬆️


proxy/cs_actions.c
90.26% <ø> (-0.36%)
⬇️


tests/unit/test_meta2_backend.c
100% <100%> (ø)



proxy/lb_actions.c
80.77% <100%> (ø)
⬆️


oio/event/client.py
73.69% <100%> (ø)



core/tool_roundtrip.c
84.47% <100%> (ø)
⬆️


oio/conscience/client.py
70.13% <100%> (+3.9%)
⬆️


meta2v2/meta2_backend.c
82.39% <100%> (+4.46%)
⬆️


... and 146 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f9c831c...c0ae389. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1538,2018-08-16T12:28:04Z,2018-08-29T08:26:48Z,2018-08-29T08:26:48Z,MERGED,True,86,7,2,https://github.com/acornard,Update blob-auditor usage,1,[],https://github.com/open-io/oio-sds/pull/1538,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1538,"SUMMARY
Change blob-auditor usage
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
oio-blob-auditor
SDS VERSION
openio 4.2.2.dev37

ADDITIONAL INFORMATION
The auditor can be used as a command line.
To run auditor as daemon, you can specify --daemon option .
--generate-config can be used to edit configuration file or create a new one with the values of other options.","SUMMARY
Change blob-auditor usage
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
oio-blob-auditor
SDS VERSION
openio 4.2.2.dev37

ADDITIONAL INFORMATION
The auditor can be used as a command line.
To run auditor as daemon, you can specify --daemon option .
--generate-config can be used to edit configuration file or create a new one with the values of other options.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1538,2018-08-16T12:28:04Z,2018-08-29T08:26:48Z,2018-08-29T08:26:48Z,MERGED,True,86,7,2,https://github.com/acornard,Update blob-auditor usage,1,[],https://github.com/open-io/oio-sds/pull/1538,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1538#issuecomment-413594732,"SUMMARY
Change blob-auditor usage
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
oio-blob-auditor
SDS VERSION
openio 4.2.2.dev37

ADDITIONAL INFORMATION
The auditor can be used as a command line.
To run auditor as daemon, you can specify --daemon option .
--generate-config can be used to edit configuration file or create a new one with the values of other options.","Codecov Report

Merging #1538 into 4.2.x will decrease coverage by 0.02%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##            4.2.x    #1538      +/-   ##
==========================================
- Coverage   79.99%   79.98%   -0.01%     
==========================================
  Files         340      340              
  Lines       62318    62322       +4     
  Branches     6693     6693              
==========================================
- Hits        49847    49841       -6     
- Misses      12451    12454       +3     
- Partials       20       27       +7



Impacted Files
Coverage Δ





oio/blob/auditor.py
58.39% <0%> (-1.38%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


proxy/cache_actions.c
77.69% <0%> (-1.65%)
⬇️


meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


rawx-lib/src/attr_handler.c
69% <0%> (-1%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


metautils/lib/gridd_client_ext.c
80.15% <0%> (-0.73%)
⬇️


oio/ecd/app.py
58.93% <0%> (-0.59%)
⬇️


proxy/metacd_http.c
90.44% <0%> (-0.3%)
⬇️


... and 12 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 27107c4...8e51e1d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1539,2018-08-20T13:36:02Z,2018-08-29T08:27:07Z,2018-08-29T08:27:07Z,MERGED,True,44,19,6,https://github.com/acornard,"Implement ""servicing"" mode for directory services",3,[],https://github.com/open-io/oio-sds/pull/1539,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1539,"SUMMARY
Fixes OB-176
ISSUE TYPE

Feature Pull Request

SDS VERSION

openio-4.2.2","SUMMARY
Fixes OB-176
ISSUE TYPE

Feature Pull Request

SDS VERSION

openio-4.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1539,2018-08-20T13:36:02Z,2018-08-29T08:27:07Z,2018-08-29T08:27:07Z,MERGED,True,44,19,6,https://github.com/acornard,"Implement ""servicing"" mode for directory services",3,[],https://github.com/open-io/oio-sds/pull/1539,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1539#issuecomment-414347329,"SUMMARY
Fixes OB-176
ISSUE TYPE

Feature Pull Request

SDS VERSION

openio-4.2.2","Codecov Report

Merging #1539 into 4.2.x will decrease coverage by 0.01%.
The diff coverage is 86.67%.


@@            Coverage Diff             @@
##            4.2.x    #1539      +/-   ##
==========================================
- Coverage   80.01%   80.01%   -<.01%     
==========================================
  Files         340      340              
  Lines       62318    62320       +2     
  Branches     6693     6695       +2     
==========================================
- Hits        49859    49857       -2     
- Misses      12440    12443       +3     
- Partials       19       20       +1



Impacted Files
Coverage Δ





rawx-apache2/src/mod_dav_rawx.c
70.91% <100%> (ø)
⬆️


rdir/rdir.c
84.96% <100%> (+0.11%)
⬆️


sqlx/sqlx_service.c
84.22% <50%> (+0.54%)
⬆️


metautils/lib/volume_lock.c
75% <90.91%> (+3.95%)
⬆️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


oio/ecd/app.py
58.93% <0%> (-0.59%)
⬇️


sqliterepo/synchro.c
74.81% <0%> (-0.51%)
⬇️


core/http_put.c
91.48% <0%> (-0.5%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <0%> (-0.4%)
⬇️


... and 12 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 19b8675...d12629c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1540,2018-08-21T14:21:16Z,2018-08-24T07:15:34Z,2018-08-24T07:15:34Z,MERGED,True,5,2,1,https://github.com/acornard,Specify expected IP on log when service xattr differ,1,[],https://github.com/open-io/oio-sds/pull/1540,https://github.com/acornard,1,https://github.com/open-io/oio-sds/pull/1540,"SUMMARY
Fixes OS-83
ISSUE TYPE

Bugfix Pull Request

SDS VERSION

openio 4.2.2.dev37","SUMMARY
Fixes OS-83
ISSUE TYPE

Bugfix Pull Request

SDS VERSION

openio 4.2.2.dev37",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1540,2018-08-21T14:21:16Z,2018-08-24T07:15:34Z,2018-08-24T07:15:34Z,MERGED,True,5,2,1,https://github.com/acornard,Specify expected IP on log when service xattr differ,1,[],https://github.com/open-io/oio-sds/pull/1540,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1540#issuecomment-414722543,"SUMMARY
Fixes OS-83
ISSUE TYPE

Bugfix Pull Request

SDS VERSION

openio 4.2.2.dev37","Codecov Report

Merging #1540 into 4.2.x will increase coverage by 0.05%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##            4.2.x    #1540      +/-   ##
==========================================
+ Coverage   79.99%   80.03%   +0.05%     
==========================================
  Files         340      340              
  Lines       62318    62318              
  Branches     6693     6693              
==========================================
+ Hits        49847    49873      +26     
+ Misses      12451    12444       -7     
+ Partials       20        1      -19



Impacted Files
Coverage Δ





metautils/lib/volume_lock.c
71.06% <0%> (ø)
⬆️


meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


rawx-lib/src/attr_handler.c
69% <0%> (-1%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.5% <0%> (-0.91%)
⬇️


oio/ecd/app.py
58.93% <0%> (-0.59%)
⬇️


server/transport_gridd.c
77.91% <0%> (-0.39%)
⬇️


proxy/cs_actions.c
90.26% <0%> (-0.36%)
⬇️


proxy/common.c
88.73% <0%> (-0.28%)
⬇️


sqliterepo/election.c
89.85% <0%> (-0.24%)
⬇️


core/str.c
89.93% <0%> (-0.23%)
⬇️


... and 18 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 27107c4...9ca632d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1541,2018-08-24T16:28:32Z,2018-08-29T08:27:23Z,2018-09-05T16:07:30Z,MERGED,True,2,1,1,https://github.com/AymericDu,conscience-agent: log URL of broken HTTP services,1,[],https://github.com/open-io/oio-sds/pull/1541,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1541,"SUMMARY
Indicate the URL in the log.
ISSUE TYPE

Log Pull Request

COMPONENT NAME

conscience

SDS VERSION
openio 4.2.2.dev46","SUMMARY
Indicate the URL in the log.
ISSUE TYPE

Log Pull Request

COMPONENT NAME

conscience

SDS VERSION
openio 4.2.2.dev46",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1541,2018-08-24T16:28:32Z,2018-08-29T08:27:23Z,2018-09-05T16:07:30Z,MERGED,True,2,1,1,https://github.com/AymericDu,conscience-agent: log URL of broken HTTP services,1,[],https://github.com/open-io/oio-sds/pull/1541,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1541#issuecomment-416692434,"SUMMARY
Indicate the URL in the log.
ISSUE TYPE

Log Pull Request

COMPONENT NAME

conscience

SDS VERSION
openio 4.2.2.dev46","Codecov Report

Merging #1541 into 4.2.x will increase coverage by 0.07%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1541      +/-   ##
==========================================
+ Coverage   80.01%   80.08%   +0.07%     
==========================================
  Files         340      340              
  Lines       62318    62318              
  Branches     6693     6693              
==========================================
+ Hits        49859    49900      +41     
+ Misses      12440    12418      -22     
+ Partials       19        0      -19



Impacted Files
Coverage Δ





meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


sqliterepo/synchro.c
74.81% <0%> (-0.51%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <0%> (-0.4%)
⬇️


sqliterepo/repository.c
77.51% <0%> (-0.33%)
⬇️


proxy/metacd_http.c
90.75% <0%> (-0.3%)
⬇️


sqliterepo/replication.c
87.11% <0%> (-0.28%)
⬇️


metautils/lib/comm_converter.c
74.16% <0%> (-0.26%)
⬇️


rawx-apache2/src/rawx_repo_core.c
72.45% <0%> (-0.2%)
⬇️


... and 13 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 19b8675...9b607ba. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1542,2018-08-27T10:14:48Z,2018-08-29T08:28:10Z,2018-09-05T16:07:24Z,MERGED,True,15,7,3,https://github.com/AymericDu,Python API: reduce verbosity of socket errors,1,[],https://github.com/open-io/oio-sds/pull/1542,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1542,"SUMMARY
Reduce log message for socket error.
ISSUE TYPE

Log Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.2.dev46","SUMMARY
Reduce log message for socket error.
ISSUE TYPE

Log Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.2.dev46",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1542,2018-08-27T10:14:48Z,2018-08-29T08:28:10Z,2018-09-05T16:07:24Z,MERGED,True,15,7,3,https://github.com/AymericDu,Python API: reduce verbosity of socket errors,1,[],https://github.com/open-io/oio-sds/pull/1542,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1542#issuecomment-416538769,"SUMMARY
Reduce log message for socket error.
ISSUE TYPE

Log Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.2.dev46","Codecov Report

Merging #1542 into 4.2.x will increase coverage by 0.01%.
The diff coverage is 42.86%.


@@            Coverage Diff             @@
##            4.2.x    #1542      +/-   ##
==========================================
+ Coverage   80.01%   80.02%   +0.01%     
==========================================
  Files         340      340              
  Lines       62318    62325       +7     
  Branches     6693     6693              
==========================================
+ Hits        49859    49867       +8     
- Misses      12440    12451      +11     
+ Partials       19        7      -12



Impacted Files
Coverage Δ





oio/api/replication.py
84.58% <100%> (-0.98%)
⬇️


oio/api/io.py
85.53% <14.29%> (-0.61%)
⬇️


oio/api/ec.py
94.49% <33.34%> (+0.91%)
⬆️


oio/common/utils.py
67% <0%> (-3.94%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


proxy/cache_actions.c
77.69% <0%> (-1.65%)
⬇️


meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


meta2v2/meta2_filters_action_container.c
58.87% <0%> (-1.06%)
⬇️


resolver/hc_resolver.c
93.06% <0%> (-0.9%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 19b8675...99885b0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1543,2018-08-27T13:43:20Z,2018-08-29T08:35:20Z,2018-09-03T12:23:30Z,MERGED,True,45,15,6,https://github.com/jfsmig,"Decache stale entries and retry upon ""base not managed"" errors",3,"['bug :scream:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1543,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1543,"SUMMARY
Properly reacts to ""code=431"" errors that indicate stale entries in the local cache of the resolver of the oio-proxy.
In addition, lowers the verbosity level of 2 traces.
ISSUE TYPE
fix
COMPONENT NAME
oio-proxy, server
SDS VERSION
openio 4.2.2.dev47","SUMMARY
Properly reacts to ""code=431"" errors that indicate stale entries in the local cache of the resolver of the oio-proxy.
In addition, lowers the verbosity level of 2 traces.
ISSUE TYPE
fix
COMPONENT NAME
oio-proxy, server
SDS VERSION
openio 4.2.2.dev47",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1543,2018-08-27T13:43:20Z,2018-08-29T08:35:20Z,2018-09-03T12:23:30Z,MERGED,True,45,15,6,https://github.com/jfsmig,"Decache stale entries and retry upon ""base not managed"" errors",3,"['bug :scream:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1543,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1543#issuecomment-416232506,"SUMMARY
Properly reacts to ""code=431"" errors that indicate stale entries in the local cache of the resolver of the oio-proxy.
In addition, lowers the verbosity level of 2 traces.
ISSUE TYPE
fix
COMPONENT NAME
oio-proxy, server
SDS VERSION
openio 4.2.2.dev47",OS-115,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1544,2018-08-27T14:22:23Z,2018-08-29T08:35:53Z,2018-09-03T12:23:31Z,MERGED,True,2,2,1,https://github.com/jfsmig,4.2.x access logs,2,[],https://github.com/open-io/oio-sds/pull/1544,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1544,"SUMMARY
Allows an operator to inspect access logs of (previously hidden) traces, under DEBUG verbosity.
ISSUE TYPE
enhancement
COMPONENT NAME
server
SDS VERSION
openio 4.2.2.dev47","SUMMARY
Allows an operator to inspect access logs of (previously hidden) traces, under DEBUG verbosity.
ISSUE TYPE
enhancement
COMPONENT NAME
server
SDS VERSION
openio 4.2.2.dev47",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1544,2018-08-27T14:22:23Z,2018-08-29T08:35:53Z,2018-09-03T12:23:31Z,MERGED,True,2,2,1,https://github.com/jfsmig,4.2.x access logs,2,[],https://github.com/open-io/oio-sds/pull/1544,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1544#issuecomment-416659067,"SUMMARY
Allows an operator to inspect access logs of (previously hidden) traces, under DEBUG verbosity.
ISSUE TYPE
enhancement
COMPONENT NAME
server
SDS VERSION
openio 4.2.2.dev47","Codecov Report

Merging #1544 into 4.2.x will not change coverage.
The diff coverage is 100%.


@@           Coverage Diff           @@
##            4.2.x    #1544   +/-   ##
=======================================
  Coverage   80.01%   80.01%           
=======================================
  Files         340      340           
  Lines       62318    62318           
  Branches     6693     6693           
=======================================
  Hits        49859    49859           
+ Misses      12440    12433    -7     
- Partials       19       26    +7



Impacted Files
Coverage Δ





server/transport_gridd.c
78.11% <100%> (-0.19%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


proxy/cache_actions.c
77.69% <0%> (-1.65%)
⬇️


resolver/hc_resolver.c
92.75% <0%> (-1.2%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


sqliterepo/synchro.c
74.55% <0%> (-0.77%)
⬇️


proxy/metacd_http.c
90.28% <0%> (-0.77%)
⬇️


server/slab.c
82.92% <0%> (-0.63%)
⬇️


oio/ecd/app.py
58.93% <0%> (-0.59%)
⬇️


metautils/lib/comm_converter.c
73.9% <0%> (-0.52%)
⬇️


... and 11 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 19b8675...7d45fff. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1545,2018-08-28T12:35:01Z,2018-09-07T09:00:06Z,2018-09-07T09:00:11Z,MERGED,True,34,25,8,https://github.com/fvennetier,"Improve some error messages, fix configuration documentation",4,"['enhancement :sparkles:', 'Logging :scroll:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1545,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1545,"SUMMARY
Improve various error messages, to ease debugging.
Fix global configuration documentation.
ISSUE TYPE

Bugfix Pull Request
Documentation Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.2.dev47","SUMMARY
Improve various error messages, to ease debugging.
Fix global configuration documentation.
ISSUE TYPE

Bugfix Pull Request
Documentation Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.2.dev47",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1545,2018-08-28T12:35:01Z,2018-09-07T09:00:06Z,2018-09-07T09:00:11Z,MERGED,True,34,25,8,https://github.com/fvennetier,"Improve some error messages, fix configuration documentation",4,"['enhancement :sparkles:', 'Logging :scroll:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1545,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1545#issuecomment-416567315,"SUMMARY
Improve various error messages, to ease debugging.
Fix global configuration documentation.
ISSUE TYPE

Bugfix Pull Request
Documentation Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.2.dev47","I put this in low priority. If you see any other unclear error message, please tell me.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1545,2018-08-28T12:35:01Z,2018-09-07T09:00:06Z,2018-09-07T09:00:11Z,MERGED,True,34,25,8,https://github.com/fvennetier,"Improve some error messages, fix configuration documentation",4,"['enhancement :sparkles:', 'Logging :scroll:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1545,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1545#issuecomment-416584412,"SUMMARY
Improve various error messages, to ease debugging.
Fix global configuration documentation.
ISSUE TYPE

Bugfix Pull Request
Documentation Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.2.dev47","Codecov Report

Merging #1545 into 4.2.x will increase coverage by 0.04%.
The diff coverage is 37.5%.


@@            Coverage Diff            @@
##           4.2.x    #1545      +/-   ##
=========================================
+ Coverage     80%   80.03%   +0.04%     
=========================================
  Files        340      340              
  Lines      62347    62347              
  Branches    6698     6698              
=========================================
+ Hits       49875    49896      +21     
+ Misses     12471    12443      -28     
- Partials       1        8       +7



Impacted Files
Coverage Δ





sqliterepo/cache.c
89.6% <ø> (ø)
⬆️


sqliterepo/synchro.c
74.55% <ø> (ø)
⬆️


meta2v2/meta2_backend.c
81.77% <ø> (ø)
⬆️


sqliterepo/replication_dispatcher.c
64.19% <0%> (+0.16%)
⬆️


sqliterepo/election.c
89.95% <25%> (+0.05%)
⬆️


sqliterepo/replication.c
87.4% <66.67%> (+0.29%)
⬆️


proxy/cache_actions.c
77.69% <0%> (-1.65%)
⬇️


resolver/hc_resolver.c
92.75% <0%> (-1.2%)
⬇️


rawx-lib/src/attr_handler.c
68% <0%> (-1%)
⬇️


proxy/metacd_http.c
90.28% <0%> (-0.77%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d103d17...0dd0c03. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1546,2018-08-28T16:11:54Z,2018-09-11T13:40:47Z,2018-09-12T15:26:20Z,MERGED,True,64,29,7,https://github.com/AymericDu,rawx: Configure coverage,1,[],https://github.com/open-io/oio-sds/pull/1546,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1546,"SUMMARY
Configure coverage
ISSUE TYPE

Coverage Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev132","SUMMARY
Configure coverage
ISSUE TYPE

Coverage Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev132",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1546,2018-08-28T16:11:54Z,2018-09-11T13:40:47Z,2018-09-12T15:26:20Z,MERGED,True,64,29,7,https://github.com/AymericDu,rawx: Configure coverage,1,[],https://github.com/open-io/oio-sds/pull/1546,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1546#issuecomment-416702974,"SUMMARY
Configure coverage
ISSUE TYPE

Coverage Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev132","Codecov Report

Merging #1546 into 4.x will decrease coverage by 3.37%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##             4.x    #1546      +/-   ##
=========================================
- Coverage   81.2%   77.83%   -3.36%     
=========================================
  Files        326      290      -36     
  Lines      59224    54706    -4518     
  Branches    6283     6016     -267     
=========================================
- Hits       48084    42575    -5509     
- Misses     11122    12122    +1000     
+ Partials      18        9       -9



Impacted Files
Coverage Δ





events/oio_events_queue_zmq.c
0% <0%> (-65.98%)
⬇️


tests/functional/directory/test_refmapping.py
60.44% <0%> (-39.56%)
⬇️


oio/directory/meta1.py
57.65% <0%> (-31.76%)
⬇️


proxy/admin_actions.c
68.86% <0%> (-24.59%)
⬇️


metautils/lib/rrd.c
56.82% <0%> (-20.45%)
⬇️


events/oio_events_queue_beanstalkd.c
63.6% <0%> (-19.19%)
⬇️


meta2v2/meta2_dedup_utils.c
0% <0%> (-18.81%)
⬇️


oio/directory/admin.py
51.65% <0%> (-17.58%)
⬇️


meta1v2/meta1_backend_references.c
73% <0%> (-17%)
⬇️


metautils/lib/utils_resolv.c
48.49% <0%> (-16.66%)
⬇️


... and 94 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8ce79d1...3333037. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1547,2018-09-05T13:40:43Z,2018-09-06T12:43:33Z,2018-09-06T12:43:39Z,MERGED,True,17,31,4,https://github.com/fvennetier,Python API: close chunk connection after 404 error,3,"['bug :scream:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1547,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1547,"SUMMARY
We suspect an abnormal number of connections in CLOSE_WAIT state due to the fact that we do not immediately close the chunk connection after getting a 404 error (missing chunk). This pull request aims at fixing this problem.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.27.dev12","SUMMARY
We suspect an abnormal number of connections in CLOSE_WAIT state due to the fact that we do not immediately close the chunk connection after getting a 404 error (missing chunk). This pull request aims at fixing this problem.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.27.dev12",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1547,2018-09-05T13:40:43Z,2018-09-06T12:43:33Z,2018-09-06T12:43:39Z,MERGED,True,17,31,4,https://github.com/fvennetier,Python API: close chunk connection after 404 error,3,"['bug :scream:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1547,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1547#issuecomment-419043491,"SUMMARY
We suspect an abnormal number of connections in CLOSE_WAIT state due to the fact that we do not immediately close the chunk connection after getting a 404 error (missing chunk). This pull request aims at fixing this problem.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.27.dev12","Codecov Report

Merging #1547 into 4.1.x will increase coverage by 0.24%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.1.x    #1547      +/-   ##
==========================================
+ Coverage   77.98%   78.23%   +0.24%     
==========================================
  Files         310      311       +1     
  Lines       58205    58439     +234     
  Branches     6634     6861     +227     
==========================================
+ Hits        45394    45722     +328     
+ Misses      12798    12671     -127     
- Partials       13       46      +33



Impacted Files
Coverage Δ





oio/api/io.py
84.92% <100%> (-0.27%)
⬇️


oio/common/http.py
84.07% <100%> (+5.5%)
⬆️


gridd/main/access_log.c
72.13% <0%> (-14.76%)
⬇️


metautils/lib/utils_hashstr.c
79.62% <0%> (-1.86%)
⬇️


cluster/module/module.c
69.67% <0%> (-1.27%)
⬇️


oio/container/backup.py
76.34% <0%> (-1.08%)
⬇️


gridd/main/sock.c
61.76% <0%> (-0.99%)
⬇️


sqliterepo/synchro.c
73.8% <0%> (-0.8%)
⬇️


meta2v2/meta2_filters_action_content.c
93.25% <0%> (-0.59%)
⬇️


oio/api/replication.py
77.34% <0%> (-0.56%)
⬇️


... and 56 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cbb8328...5ce2fd5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1548,2018-09-05T15:27:33Z,2018-09-11T13:41:21Z,2018-09-12T15:26:17Z,MERGED,True,2,2,2,https://github.com/AymericDu,Return the total size in the Content-Range header,2,"['bug :scream:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1548,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1548,"SUMMARY
Return the total size of the chunk in the Content-Range header.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev133","SUMMARY
Return the total size of the chunk in the Content-Range header.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev133",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1548,2018-09-05T15:27:33Z,2018-09-11T13:41:21Z,2018-09-12T15:26:17Z,MERGED,True,2,2,2,https://github.com/AymericDu,Return the total size in the Content-Range header,2,"['bug :scream:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1548,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1548#issuecomment-418793551,"SUMMARY
Return the total size of the chunk in the Content-Range header.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev133","Codecov Report

Merging #1548 into 4.x will increase coverage by 0.03%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1548      +/-   ##
==========================================
+ Coverage   81.14%   81.16%   +0.03%     
==========================================
  Files         326      326              
  Lines       59203    59203              
  Branches     6278     6278              
==========================================
+ Hits        48035    48047      +12     
+ Misses      11139    11131       -8     
+ Partials       29       25       -4



Impacted Files
Coverage Δ





server/slab.c
82.92% <0%> (-0.63%)
⬇️


core/http_put.c
91.48% <0%> (-0.5%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <0%> (-0.4%)
⬇️


proxy/cs_actions.c
90.26% <0%> (-0.36%)
⬇️


sqliterepo/repository.c
77.51% <0%> (-0.33%)
⬇️


oio/api/io.py
86.15% <0%> (-0.27%)
⬇️


server/transport_gridd.c
78.11% <0%> (-0.19%)
⬇️


meta2v2/generic.c
74.37% <0%> (-0.15%)
⬇️


sqlx/sqlx_service.c
83.43% <0%> (-0.13%)
⬇️


rdir/rdir.c
84.74% <0%> (-0.1%)
⬇️


... and 13 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1ec9552...bdea85f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1549,2018-09-06T14:28:00Z,2018-09-07T08:35:12Z,2018-09-07T08:35:15Z,MERGED,True,5,4,3,https://github.com/fvennetier,Adapt to recent libattr,1,"['priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1549,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1549,"SUMMARY
libattr 2.4.48 removed attr/xattr.h, which contained roughly the same
things as sys/xattr.h.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx
metautils

SDS VERSION
openio 4.2.2.dev57","SUMMARY
libattr 2.4.48 removed attr/xattr.h, which contained roughly the same
things as sys/xattr.h.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx
metautils

SDS VERSION
openio 4.2.2.dev57",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1550,2018-09-10T09:46:00Z,2018-09-10T12:40:50Z,2018-09-10T12:40:52Z,MERGED,True,21,12,3,https://github.com/fvennetier,conscience-agent: close connection to avoid keepalive issues,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1550,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1550,"SUMMARY
Close connections to avoid keepalive issues.
When conscience-agent's check_interval is set to the same value as rawx' KeepAliveTimeout (5s by default), we can see a lot of errors like the following.
Sep 10 10:45:31.456685 linux-cgzg OIO,NS,conscience-agent,1[13679]: 13679 7FA97BF9F050 log WARNING ERROR performing http check (127.0.0.1:6031//info): ('Connection aborted.', BadStatusLine(""''"",))
Sep 10 10:45:31.456777 linux-cgzg OIO,NS,conscience-agent,1[13679]: 13679 7FA97BF9F050 log WARNING rawx|http|127.0.0.1|6031|/info check failed

This is due to a bad detection of remotely timed out connections. Now we explicitely close the connections.
Jira: OS-131
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 4.2.2.dev66","SUMMARY
Close connections to avoid keepalive issues.
When conscience-agent's check_interval is set to the same value as rawx' KeepAliveTimeout (5s by default), we can see a lot of errors like the following.
Sep 10 10:45:31.456685 linux-cgzg OIO,NS,conscience-agent,1[13679]: 13679 7FA97BF9F050 log WARNING ERROR performing http check (127.0.0.1:6031//info): ('Connection aborted.', BadStatusLine(""''"",))
Sep 10 10:45:31.456777 linux-cgzg OIO,NS,conscience-agent,1[13679]: 13679 7FA97BF9F050 log WARNING rawx|http|127.0.0.1|6031|/info check failed

This is due to a bad detection of remotely timed out connections. Now we explicitely close the connections.
Jira: OS-131
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 4.2.2.dev66",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1550,2018-09-10T09:46:00Z,2018-09-10T12:40:50Z,2018-09-10T12:40:52Z,MERGED,True,21,12,3,https://github.com/fvennetier,conscience-agent: close connection to avoid keepalive issues,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1550,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1550#issuecomment-419866975,"SUMMARY
Close connections to avoid keepalive issues.
When conscience-agent's check_interval is set to the same value as rawx' KeepAliveTimeout (5s by default), we can see a lot of errors like the following.
Sep 10 10:45:31.456685 linux-cgzg OIO,NS,conscience-agent,1[13679]: 13679 7FA97BF9F050 log WARNING ERROR performing http check (127.0.0.1:6031//info): ('Connection aborted.', BadStatusLine(""''"",))
Sep 10 10:45:31.456777 linux-cgzg OIO,NS,conscience-agent,1[13679]: 13679 7FA97BF9F050 log WARNING rawx|http|127.0.0.1|6031|/info check failed

This is due to a bad detection of remotely timed out connections. Now we explicitely close the connections.
Jira: OS-131
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 4.2.2.dev66","Codecov Report

Merging #1550 into 4.2.x will decrease coverage by 0.01%.
The diff coverage is 66.67%.


@@           Coverage Diff            @@
##           4.2.x   #1550      +/-   ##
========================================
- Coverage     80%     80%   -<.01%     
========================================
  Files        340     340              
  Lines      62339   62339              
  Branches    6698    6698              
========================================
- Hits       49867   49865       -2     
- Misses     12443   12454      +11     
+ Partials      29      20       -9



Impacted Files
Coverage Δ





oio/common/http_urllib3.py
74.2% <66.67%> (ø)
⬆️


meta1v2/meta1_server.c
72.9% <0%> (-1.86%)
⬇️


meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


sqlx/sqlx_service.c
83.43% <0%> (-1.06%)
⬇️


rawx-lib/src/attr_handler.c
68.5% <0%> (-1%)
⬇️


metautils/lib/utils_sockets.c
42.05% <0%> (-0.75%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


rawx-apache2/src/rawx_repository.c
54.01% <0%> (-0.63%)
⬇️


oio/api/io.py
85.57% <0%> (-0.53%)
⬇️


sqliterepo/cache.c
89.6% <0%> (-0.5%)
⬇️


... and 18 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6d2b4aa...687c341. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1551,2018-09-10T17:06:39Z,2018-09-11T07:06:35Z,2020-01-09T07:33:51Z,MERGED,True,30,17,6,https://github.com/murlock,4.2.1.2: hotfix,4,[],https://github.com/open-io/oio-sds/pull/1551,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1551,"SUMMARY
Hotfix 2

conscience-agent: close connection to avoid keepalive issues
meta*, sqlx: Restore the cache of the resolver

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

conscience-agent
meta*, sqlx

SDS VERSION
4.2.1.1","SUMMARY
Hotfix 2

conscience-agent: close connection to avoid keepalive issues
meta*, sqlx: Restore the cache of the resolver

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

conscience-agent
meta*, sqlx

SDS VERSION
4.2.1.1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1551,2018-09-10T17:06:39Z,2018-09-11T07:06:35Z,2020-01-09T07:33:51Z,MERGED,True,30,17,6,https://github.com/murlock,4.2.1.2: hotfix,4,[],https://github.com/open-io/oio-sds/pull/1551,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1551#issuecomment-420169992,"SUMMARY
Hotfix 2

conscience-agent: close connection to avoid keepalive issues
meta*, sqlx: Restore the cache of the resolver

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

conscience-agent
meta*, sqlx

SDS VERSION
4.2.1.1","Codecov Report

Merging #1551 into 4.2.1.x will increase coverage by 0.01%.
The diff coverage is 66.67%.


@@             Coverage Diff             @@
##           4.2.1.x    #1551      +/-   ##
===========================================
+ Coverage     79.8%   79.81%   +0.01%     
===========================================
  Files          338      338              
  Lines        61363    61362       -1     
  Branches      6688     6688              
===========================================
+ Hits         48964    48968       +4     
+ Misses       12380    12378       -2     
+ Partials        19       16       -3



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
84.2% <ø> (-0.02%)
⬇️


oio/common/http_urllib3.py
74.2% <66.67%> (ø)
⬆️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


meta0v2/meta0_backend.c
77.33% <0%> (-1.21%)
⬇️


rawx-lib/src/attr_handler.c
68.5% <0%> (-1%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
81.4% <0%> (-0.77%)
⬇️


core/var.c
77.44% <0%> (-0.69%)
⬇️


metautils/lib/comm_converter.c
73.9% <0%> (-0.52%)
⬇️


sqliterepo/cache.c
89.6% <0%> (-0.5%)
⬇️


proxy/cs_actions.c
90.26% <0%> (-0.36%)
⬇️


... and 17 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 628de5a...ddf99e0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1552,2018-09-12T10:46:19Z,2018-09-12T12:31:55Z,2018-09-12T12:31:59Z,MERGED,True,29,25,5,https://github.com/fvennetier,Close chunk upload connections,2,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1552,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1552,"SUMMARY
Close chunk upload connections. There was still a case where chunk upload connections were not explicitly closed.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.27.dev17","SUMMARY
Close chunk upload connections. There was still a case where chunk upload connections were not explicitly closed.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.27.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1552,2018-09-12T10:46:19Z,2018-09-12T12:31:55Z,2018-09-12T12:31:59Z,MERGED,True,29,25,5,https://github.com/fvennetier,Close chunk upload connections,2,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1552,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1552#issuecomment-420619362,"SUMMARY
Close chunk upload connections. There was still a case where chunk upload connections were not explicitly closed.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.1.27.dev17","Codecov Report

Merging #1552 into 4.1.x will increase coverage by 0.45%.
The diff coverage is 73.33%.


@@            Coverage Diff             @@
##            4.1.x    #1552      +/-   ##
==========================================
+ Coverage   77.68%   78.13%   +0.45%     
==========================================
  Files         311      311              
  Lines       58439    58440       +1     
  Branches     6861     6861              
==========================================
+ Hits        45398    45664     +266     
+ Misses      12790    12748      -42     
+ Partials      251       28     -223



Impacted Files
Coverage Δ





metautils/lib/volume_lock.c
71.05% <ø> (ø)
⬆️


oio/api/io.py
84.61% <ø> (-0.31%)
⬇️


rawx-lib/src/attr_handler.c
58.44% <0%> (ø)
⬆️


oio/api/ec.py
93.71% <78.57%> (+0.19%)
⬆️


meta0v2/meta0_remote.c
74.28% <0%> (-8.58%)
⬇️


oio/common/wsgi.py
41.77% <0%> (-3.8%)
⬇️


meta1v2/meta1_prefixes.c
80.61% <0%> (-2.05%)
⬇️


oio/container/backup.py
75.88% <0%> (-1.54%)
⬇️


meta2v2/meta2_filters_extract.c
89.69% <0%> (-1.04%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.49% <0%> (-0.92%)
⬇️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c4be3ad...2f7337c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1553,2018-09-12T15:25:01Z,2018-09-20T13:46:03Z,2018-09-21T10:26:44Z,MERGED,True,315,36,4,https://github.com/AymericDu,rawx: Implement beanstalkd client,1,['language:Golang'],https://github.com/open-io/oio-sds/pull/1553,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1553,"SUMMARY

Implement beanstalkd client
Remove the dependency to kr/beanstalk

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev135","SUMMARY

Implement beanstalkd client
Remove the dependency to kr/beanstalk

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev135",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1554,2018-09-14T15:04:31Z,2018-09-20T13:46:53Z,2018-09-21T10:26:40Z,MERGED,True,634,400,10,https://github.com/AymericDu,Distribute the broken chunks,3,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1554,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1554,"SUMMARY

Improve log messages of all rebuilders to better track progress
oio-blob-rebuilder: Distribute broken chunks to several beanstalk

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-meta1-rebuilder
oio-meta2-rebuilder
oio-blob-rebuilder

SDS VERSION
openio 4.2.2.dev145","SUMMARY

Improve log messages of all rebuilders to better track progress
oio-blob-rebuilder: Distribute broken chunks to several beanstalk

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-meta1-rebuilder
oio-meta2-rebuilder
oio-blob-rebuilder

SDS VERSION
openio 4.2.2.dev145",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1555,2018-09-17T13:30:56Z,2018-09-20T15:12:18Z,2018-10-30T10:40:58Z,MERGED,True,51,53,3,https://github.com/jfsmig,Reduce the log volume of well-known spammer services,3,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1555,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1555,"SUMMARY
Reduce the access log volume for sqliterepo-based services and the proxy.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo, oio-proxy
SDS VERSION
openio 4.2.2.dev70","SUMMARY
Reduce the access log volume for sqliterepo-based services and the proxy.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo, oio-proxy
SDS VERSION
openio 4.2.2.dev70",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1556,2018-09-17T16:40:01Z,2018-09-20T13:46:24Z,2018-09-21T10:26:35Z,MERGED,True,41,5,2,https://github.com/AymericDu,Notify the deleted chunks ,2,['language:Golang'],https://github.com/open-io/oio-sds/pull/1556,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1556,"SUMMARY
Send event when deleting chunk
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev144","SUMMARY
Send event when deleting chunk
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.2.dev144",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1557,2018-09-18T10:27:31Z,2018-09-18T12:26:37Z,2018-09-18T12:26:41Z,MERGED,True,8,9,2,https://github.com/fvennetier,Python API: close chunks download connection,1,"['bug :scream:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1557,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1557,"SUMMARY
In the case when the reader does not read data until the end, some connections where never closed.
Fortunately, this happened only when downloading EC objets.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.2.2.dev73","SUMMARY
In the case when the reader does not read data until the end, some connections where never closed.
Fortunately, this happened only when downloading EC objets.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.2.2.dev73",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1558,2018-09-18T14:02:03Z,2018-09-18T15:37:26Z,2018-09-18T15:37:29Z,MERGED,True,4,2,1,https://github.com/fvennetier,Python API: do not crash RegexContainerBuilder on empty capture groups,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1558,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1558,"SUMMARY
Do not crash RegexContainerBuilder on empty capture groups.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.2.2.dev74","SUMMARY
Do not crash RegexContainerBuilder on empty capture groups.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.2.2.dev74",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1559,2018-09-20T15:16:20Z,2018-09-21T08:25:02Z,2018-09-21T08:25:06Z,MERGED,True,7,2,2,https://github.com/fvennetier,Python API: fix EC data stream leak,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1559,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1559,"SUMMARY
There was an object reference loop preventing the garbage collector from
releasing some stream object, in the case these streams were not read
until the end.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.2.2.dev75","SUMMARY
There was an object reference loop preventing the garbage collector from
releasing some stream object, in the case these streams were not read
until the end.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.2.2.dev75",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1560,2018-09-20T16:52:06Z,2018-09-25T08:10:32Z,2018-09-25T08:56:54Z,MERGED,True,50,10,1,https://github.com/AymericDu,event: Select the alias correctly,2,"['bug :scream:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1560,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1560,"SUMMARY

Select the alias correctly to load the URL with this alias
Fix the number of parts

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.2.dev79","SUMMARY

Select the alias correctly to load the URL with this alias
Fix the number of parts

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.2.dev79",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1560,2018-09-20T16:52:06Z,2018-09-25T08:10:32Z,2018-09-25T08:56:54Z,MERGED,True,50,10,1,https://github.com/AymericDu,event: Select the alias correctly,2,"['bug :scream:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1560,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1560#issuecomment-423476739,"SUMMARY

Select the alias correctly to load the URL with this alias
Fix the number of parts

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.2.dev79","Codecov Report

Merging #1560 into 4.2.x will increase coverage by 0.02%.
The diff coverage is 69.24%.


@@            Coverage Diff             @@
##            4.2.x    #1560      +/-   ##
==========================================
+ Coverage   80.04%   80.06%   +0.02%     
==========================================
  Files         340      340              
  Lines       62352    62369      +17     
  Branches     6698     6703       +5     
==========================================
+ Hits        49903    49928      +25     
+ Misses      12448    12440       -8     
  Partials        1        1



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_content.c
91.03% <69.24%> (-1.23%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


oio/api/io.py
85.18% <0%> (-0.53%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


metautils/lib/comm_converter.c
73.9% <0%> (-0.26%)
⬇️


oio/container/backup.py
79.76% <0%> (-0.15%)
⬇️


sqliterepo/election.c
90.15% <0%> (+0.15%)
⬆️


core/proxy.c
82.89% <0%> (+0.19%)
⬆️


server/transport_gridd.c
78.31% <0%> (+0.2%)
⬆️


sqliterepo/replication.c
87.4% <0%> (+0.29%)
⬆️


... and 8 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8d4d5a8...f69d346. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1561,2018-09-21T15:21:17Z,2018-09-26T07:53:42Z,2018-09-27T14:17:23Z,MERGED,True,138,94,22,https://github.com/AymericDu,Include object metadata in events for indexing,7,[],https://github.com/open-io/oio-sds/pull/1561,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1561,"SUMMARY
Include object metadata in events for indexing:

content.new: Use the properties in events
content.update: Load the properties with the webhook filter (event-agent)

It's a new event type
It is sent when changing the properties



ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
event-agent

SDS VERSION
openio 4.2.2.dev151","SUMMARY
Include object metadata in events for indexing:

content.new: Use the properties in events
content.update: Load the properties with the webhook filter (event-agent)

It's a new event type
It is sent when changing the properties



ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
event-agent

SDS VERSION
openio 4.2.2.dev151",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1561,2018-09-21T15:21:17Z,2018-09-26T07:53:42Z,2018-09-27T14:17:23Z,MERGED,True,138,94,22,https://github.com/AymericDu,Include object metadata in events for indexing,7,[],https://github.com/open-io/oio-sds/pull/1561,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1561#issuecomment-423591007,"SUMMARY
Include object metadata in events for indexing:

content.new: Use the properties in events
content.update: Load the properties with the webhook filter (event-agent)

It's a new event type
It is sent when changing the properties



ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
event-agent

SDS VERSION
openio 4.2.2.dev151","Codecov Report

Merging #1561 into 4.x will increase coverage by 0.48%.
The diff coverage is 86.12%.


@@            Coverage Diff             @@
##              4.x    #1561      +/-   ##
==========================================
+ Coverage   80.29%   80.77%   +0.48%     
==========================================
  Files         325      326       +1     
  Lines       59231    59439     +208     
  Branches     6239     6288      +49     
==========================================
+ Hits        47556    48007     +451     
+ Misses      11668    11419     -249     
- Partials        7       13       +6



Impacted Files
Coverage Δ





oio/event/filters/notify.py
59.26% <ø> (ø)
⬆️


oio/event/filters/base.py
78.58% <ø> (ø)
⬆️


meta2v2/meta2_gridd_dispatcher.c
70.84% <ø> (ø)
⬆️


oio/blob/converter.py
39.14% <0%> (ø)
⬆️


oio/api/object_storage.py
85.48% <100%> (+0.68%)
⬆️


oio/container/client.py
83.9% <100%> (-0.1%)
⬇️


tests/functional/content/test_content.py
95.5% <100%> (+4.5%)
⬆️


meta2v2/meta2_backend.c
81.77% <100%> (ø)
⬆️


tests/unit/test_meta2_backend.c
100% <100%> (ø)
⬆️


proxy/m2_actions.c
88.38% <100%> (+0.24%)
⬆️


... and 55 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 689cf72...1659ef0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1562,2018-09-21T19:58:05Z,2018-09-24T12:21:06Z,2018-09-25T08:56:50Z,MERGED,True,28,1,2,https://github.com/AymericDu, sqlx: fix bug when overwriting a deleted property with the same value,2,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1562,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1562,"SUMMARY
Check if cache entry is deleted to set a new entry.
Before:
$ openio container create toto --property test=1
+------+---------+
| Name | Created |
+------+---------+
| toto | True    |
+------+---------+
$ openio container unset toto --property test
$ openio container set toto --property test=1
$ openio container show toto
+----------------+--------------------------------------------------------------------+
| Field          | Value                                                              |
+----------------+--------------------------------------------------------------------+
| account        | myaccount                                                          |
| base_name      | 8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1 |
| bytes_usage    | 0B                                                                 |
| container      | toto                                                               |
| ctime          | 1537559520                                                         |
| max_versions   | Namespace default                                                  |
| objects        | 0                                                                  |
| quota          | Namespace default                                                  |
| status         | Enabled                                                            |
| storage_policy | Namespace default                                                  |
+----------------+--------------------------------------------------------------------+

After:
$ openio container create toto --property test=1
+------+---------+
| Name | Created |
+------+---------+
| toto | True    |
+------+---------+
$ openio container unset toto --property test
$ openio container set toto --property test=1
$ openio container show toto
+----------------+--------------------------------------------------------------------+
| Field          | Value                                                              |
+----------------+--------------------------------------------------------------------+
| account        | myaccount                                                          |
| base_name      | 8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1 |
| bytes_usage    | 0B                                                                 |
| container      | toto                                                               |
| ctime          | 1537559632                                                         |
| max_versions   | Namespace default                                                  |
| meta.test      | 1                                                                  |
| objects        | 0                                                                  |
| quota          | Namespace default                                                  |
| status         | Enabled                                                            |
| storage_policy | Namespace default                                                  |
+----------------+--------------------------------------------------------------------+

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.2.dev79

ADDITIONAL INFORMATION
Jira: OS-143","SUMMARY
Check if cache entry is deleted to set a new entry.
Before:
$ openio container create toto --property test=1
+------+---------+
| Name | Created |
+------+---------+
| toto | True    |
+------+---------+
$ openio container unset toto --property test
$ openio container set toto --property test=1
$ openio container show toto
+----------------+--------------------------------------------------------------------+
| Field          | Value                                                              |
+----------------+--------------------------------------------------------------------+
| account        | myaccount                                                          |
| base_name      | 8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1 |
| bytes_usage    | 0B                                                                 |
| container      | toto                                                               |
| ctime          | 1537559520                                                         |
| max_versions   | Namespace default                                                  |
| objects        | 0                                                                  |
| quota          | Namespace default                                                  |
| status         | Enabled                                                            |
| storage_policy | Namespace default                                                  |
+----------------+--------------------------------------------------------------------+

After:
$ openio container create toto --property test=1
+------+---------+
| Name | Created |
+------+---------+
| toto | True    |
+------+---------+
$ openio container unset toto --property test
$ openio container set toto --property test=1
$ openio container show toto
+----------------+--------------------------------------------------------------------+
| Field          | Value                                                              |
+----------------+--------------------------------------------------------------------+
| account        | myaccount                                                          |
| base_name      | 8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1 |
| bytes_usage    | 0B                                                                 |
| container      | toto                                                               |
| ctime          | 1537559632                                                         |
| max_versions   | Namespace default                                                  |
| meta.test      | 1                                                                  |
| objects        | 0                                                                  |
| quota          | Namespace default                                                  |
| status         | Enabled                                                            |
| storage_policy | Namespace default                                                  |
+----------------+--------------------------------------------------------------------+

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.2.dev79

ADDITIONAL INFORMATION
Jira: OS-143",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1562,2018-09-21T19:58:05Z,2018-09-24T12:21:06Z,2018-09-25T08:56:50Z,MERGED,True,28,1,2,https://github.com/AymericDu, sqlx: fix bug when overwriting a deleted property with the same value,2,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1562,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1562#issuecomment-423898083,"SUMMARY
Check if cache entry is deleted to set a new entry.
Before:
$ openio container create toto --property test=1
+------+---------+
| Name | Created |
+------+---------+
| toto | True    |
+------+---------+
$ openio container unset toto --property test
$ openio container set toto --property test=1
$ openio container show toto
+----------------+--------------------------------------------------------------------+
| Field          | Value                                                              |
+----------------+--------------------------------------------------------------------+
| account        | myaccount                                                          |
| base_name      | 8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1 |
| bytes_usage    | 0B                                                                 |
| container      | toto                                                               |
| ctime          | 1537559520                                                         |
| max_versions   | Namespace default                                                  |
| objects        | 0                                                                  |
| quota          | Namespace default                                                  |
| status         | Enabled                                                            |
| storage_policy | Namespace default                                                  |
+----------------+--------------------------------------------------------------------+

After:
$ openio container create toto --property test=1
+------+---------+
| Name | Created |
+------+---------+
| toto | True    |
+------+---------+
$ openio container unset toto --property test
$ openio container set toto --property test=1
$ openio container show toto
+----------------+--------------------------------------------------------------------+
| Field          | Value                                                              |
+----------------+--------------------------------------------------------------------+
| account        | myaccount                                                          |
| base_name      | 8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1 |
| bytes_usage    | 0B                                                                 |
| container      | toto                                                               |
| ctime          | 1537559632                                                         |
| max_versions   | Namespace default                                                  |
| meta.test      | 1                                                                  |
| objects        | 0                                                                  |
| quota          | Namespace default                                                  |
| status         | Enabled                                                            |
| storage_policy | Namespace default                                                  |
+----------------+--------------------------------------------------------------------+

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.2.dev79

ADDITIONAL INFORMATION
Jira: OS-143","Codecov Report

Merging #1562 into 4.2.x will decrease coverage by 0.03%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1562      +/-   ##
==========================================
- Coverage   80.04%   80.02%   -0.02%     
==========================================
  Files         340      340              
  Lines       62352    62367      +15     
  Branches     6698     6698              
==========================================
- Hits        49903    49901       -2     
+ Misses      12448    12447       -1     
- Partials        1       19      +18



Impacted Files
Coverage Δ





tests/functional/api/test_objectstorage.py
92.93% <100%> (+0.13%)
⬆️


sqliterepo/sqlite_utils.c
88.85% <100%> (+0.05%)
⬆️


proxy/sqlx_actions.c
76.39% <0%> (-4.16%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


proxy/meta2v2_remote.c
82.48% <0%> (-1.7%)
⬇️


server/slab.c
83.55% <0%> (-1.26%)
⬇️


meta2v2/meta2_filters_action_content.c
91.17% <0%> (-1.1%)
⬇️


oio/api/object_storage.py
84.8% <0%> (-0.67%)
⬇️


resolver/hc_resolver.c
93.96% <0%> (-0.6%)
⬇️


oio/ecd/app.py
58.93% <0%> (-0.59%)
⬇️


... and 20 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8d4d5a8...271e411. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1563,2018-09-27T11:29:25Z,2018-09-27T16:21:40Z,2018-09-27T16:21:43Z,MERGED,True,28,7,2,https://github.com/fvennetier,CLI: fix 'directory decommission',1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1563,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1563,"SUMMARY

Accept 'long' base names when meta1_digits < 4.
Check the number of replicas.
Make it more verbose by default.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.2.3.dev2","SUMMARY

Accept 'long' base names when meta1_digits < 4.
Check the number of replicas.
Make it more verbose by default.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.2.3.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1563,2018-09-27T11:29:25Z,2018-09-27T16:21:40Z,2018-09-27T16:21:43Z,MERGED,True,28,7,2,https://github.com/fvennetier,CLI: fix 'directory decommission',1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1563,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1563#issuecomment-425074894,"SUMMARY

Accept 'long' base names when meta1_digits < 4.
Check the number of replicas.
Make it more verbose by default.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.2.3.dev2","Codecov Report

Merging #1563 into 4.2.x will increase coverage by 0.09%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1563      +/-   ##
==========================================
+ Coverage   79.96%   80.04%   +0.09%     
==========================================
  Files         340      340              
  Lines       62384    62385       +1     
  Branches     6703     6703              
==========================================
+ Hits        49879    49931      +52     
+ Misses      12504    12434      -70     
- Partials        1       20      +19



Impacted Files
Coverage Δ





oio/directory/meta0.py
80.37% <100%> (+0.08%)
⬆️


proxy/sqlx_actions.c
76.39% <0%> (-4.16%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


proxy/meta2v2_remote.c
82.48% <0%> (-1.7%)
⬇️


server/slab.c
83.55% <0%> (-1.26%)
⬇️


sqliterepo/cache.c
89.6% <0%> (-0.5%)
⬇️


meta0v2/meta0_backend.c
78.14% <0%> (-0.4%)
⬇️


sqliterepo/replication.c
87.4% <0%> (-0.28%)
⬇️


sqliterepo/repository.c
77.29% <0%> (-0.22%)
⬇️


sqliterepo/replication_dispatcher.c
64.31% <0%> (-0.07%)
⬇️


... and 17 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b546f0f...0c3e7c1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1564,2018-09-27T13:58:12Z,2018-09-28T12:53:42Z,2018-09-28T12:58:09Z,MERGED,True,12,1,1,https://github.com/AymericDu,oio-blob-rebuilder: display progress percentage,1,[],https://github.com/open-io/oio-sds/pull/1564,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1564,"SUMMARY
Give progress of rebuilt chunks when rebuilding a volume
25661 7FCEB9EC7EB0 log INFO START volume=127.0.0.1:6025 last_report=2018-09-27T12:17:46 0.00s chunks=0 0.00/s bytes=0 0.00B/s errors=0 0.00% start_time=2018-09-27T12:17:46 0.00s total_chunks=0 0.00/s total_bytes=0 0.00B/s total_errors=0 0.00% progress=0/1490 0.00%
25661 7FCEB90F22D0 log INFO RUN volume=127.0.0.1:6025 last_report=2018-09-27T12:17:46 10.09s chunks=275 27.25/s bytes=184766464 18307632.15B/s errors=0 0.00% start_time=2018-09-27T12:17:46 10.09s total_chunks=275 27.25/s total_bytes=184766464 18307628.26B/s total_errors=0 0.00% progress=275/1490 18.46%
[...]
25661 7FCEB90F20F0 log INFO RUN volume=127.0.0.1:6025 last_report=2018-09-27T12:18:27 10.29s chunks=271 26.34/s bytes=189318144 18402483.44B/s errors=0 0.00% start_time=2018-09-27T12:17:46 51.25s total_chunks=1374 26.81/s total_bytes=956872704 18671525.55B/s total_errors=0 0.00% progress=1374/1490 92.21%
25661 7FCEB9EC7EB0 log INFO DONE volume=127.0.0.1:6025 last_report=2018-09-27T12:18:38 4.11s chunks=116 28.20/s bytes=79408128 19306981.87B/s errors=0 0.00% start_time=2018-09-27T12:17:46 55.36s total_chunks=1490 26.91/s total_bytes=1036280832 18718735.70B/s total_errors=0 0.00% progress=1490/1490 100.00%

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.2.3.dev11","SUMMARY
Give progress of rebuilt chunks when rebuilding a volume
25661 7FCEB9EC7EB0 log INFO START volume=127.0.0.1:6025 last_report=2018-09-27T12:17:46 0.00s chunks=0 0.00/s bytes=0 0.00B/s errors=0 0.00% start_time=2018-09-27T12:17:46 0.00s total_chunks=0 0.00/s total_bytes=0 0.00B/s total_errors=0 0.00% progress=0/1490 0.00%
25661 7FCEB90F22D0 log INFO RUN volume=127.0.0.1:6025 last_report=2018-09-27T12:17:46 10.09s chunks=275 27.25/s bytes=184766464 18307632.15B/s errors=0 0.00% start_time=2018-09-27T12:17:46 10.09s total_chunks=275 27.25/s total_bytes=184766464 18307628.26B/s total_errors=0 0.00% progress=275/1490 18.46%
[...]
25661 7FCEB90F20F0 log INFO RUN volume=127.0.0.1:6025 last_report=2018-09-27T12:18:27 10.29s chunks=271 26.34/s bytes=189318144 18402483.44B/s errors=0 0.00% start_time=2018-09-27T12:17:46 51.25s total_chunks=1374 26.81/s total_bytes=956872704 18671525.55B/s total_errors=0 0.00% progress=1374/1490 92.21%
25661 7FCEB9EC7EB0 log INFO DONE volume=127.0.0.1:6025 last_report=2018-09-27T12:18:38 4.11s chunks=116 28.20/s bytes=79408128 19306981.87B/s errors=0 0.00% start_time=2018-09-27T12:17:46 55.36s total_chunks=1490 26.91/s total_bytes=1036280832 18718735.70B/s total_errors=0 0.00% progress=1490/1490 100.00%

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.2.3.dev11",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1565,2018-09-28T08:36:48Z,2018-10-12T14:19:00Z,2018-10-16T07:40:34Z,MERGED,True,2054,550,23,https://github.com/aneutron,Index meta2 databases in rdir,16,[],https://github.com/open-io/oio-sds/pull/1565,https://github.com/aneutron,1,https://github.com/open-io/oio-sds/pull/1565,"SUMMARY

We needed to index META2 database locations in RDIR servers, which could be useful in disaster recovery situation.
Using the events storage.container.new and strorage.container.deleted, we can achieve that, pending modifications on the following parts:

 META2 server: Both of the events have an empty body that is ignored in the processing of said events, so we modify the META2 server to include the list of the META2 peers that should have a copy of the META2 database.
 Events agent: Add a new filter to intercept the events and issue API calls to the RDIR server to add the META2 databases to the index.
 RDIR server: Add a whole new set of API endpoints to create, delete, retrieve META2 database records (with support for prefixes and paging).
 Bootstrapping process: Assign RDIR servers to META2 servers using the same process that assigns RDIR servers to META2 server. Two new commands have been added:

openio rdir bootstrap rawx that is strictly equivalent to openio volume admin bootstrap.
openio rdir bootstrap meta2 that assigns an RDIR service to each META2 server.



ISSUE TYPE

Feature Pull Reques

COMPONENT NAME
oio-meta2-server, oio-rdir-server, oio-event-agent, CLI
SDS VERSION

4.x

ADDITIONAL INFORMATION
None","SUMMARY

We needed to index META2 database locations in RDIR servers, which could be useful in disaster recovery situation.
Using the events storage.container.new and strorage.container.deleted, we can achieve that, pending modifications on the following parts:

 META2 server: Both of the events have an empty body that is ignored in the processing of said events, so we modify the META2 server to include the list of the META2 peers that should have a copy of the META2 database.
 Events agent: Add a new filter to intercept the events and issue API calls to the RDIR server to add the META2 databases to the index.
 RDIR server: Add a whole new set of API endpoints to create, delete, retrieve META2 database records (with support for prefixes and paging).
 Bootstrapping process: Assign RDIR servers to META2 servers using the same process that assigns RDIR servers to META2 server. Two new commands have been added:

openio rdir bootstrap rawx that is strictly equivalent to openio volume admin bootstrap.
openio rdir bootstrap meta2 that assigns an RDIR service to each META2 server.



ISSUE TYPE

Feature Pull Reques

COMPONENT NAME
oio-meta2-server, oio-rdir-server, oio-event-agent, CLI
SDS VERSION

4.x

ADDITIONAL INFORMATION
None",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1566,2018-10-01T15:02:57Z,2018-10-02T12:04:08Z,2018-10-02T12:04:11Z,MERGED,True,20,6,2,https://github.com/fvennetier,"Python API, CLI: document container snapshots",1,['documentation :book:'],https://github.com/open-io/oio-sds/pull/1566,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1566,"SUMMARY
Improve documentation about container snapshots.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.2.3.dev13","SUMMARY
Improve documentation about container snapshots.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.2.3.dev13",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1566,2018-10-01T15:02:57Z,2018-10-02T12:04:08Z,2018-10-02T12:04:11Z,MERGED,True,20,6,2,https://github.com/fvennetier,"Python API, CLI: document container snapshots",1,['documentation :book:'],https://github.com/open-io/oio-sds/pull/1566,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1566#issuecomment-425958887,"SUMMARY
Improve documentation about container snapshots.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.2.3.dev13","Codecov Report

Merging #1566 into 4.2.x will decrease coverage by 0.02%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##           4.2.x    #1566      +/-   ##
=========================================
- Coverage     80%   79.99%   -0.01%     
=========================================
  Files        340      340              
  Lines      62385    62385              
  Branches    6703     6703              
=========================================
- Hits       49906    49898       -8     
- Misses     12451    12468      +17     
+ Partials      28       19       -9



Impacted Files
Coverage Δ





oio/api/object_storage.py
84.97% <ø> (+0.17%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


meta1v2/meta1_prefixes.c
77.56% <0%> (-2.04%)
⬇️


core/proxy.c
83.07% <0%> (-1.98%)
⬇️


sqlx/sqlx_service.c
83.54% <0%> (-1.32%)
⬇️


rawx-lib/src/attr_handler.c
68.5% <0%> (-1%)
⬇️


proxy/cs_actions.c
90.62% <0%> (-0.72%)
⬇️


oio/ecd/app.py
58.93% <0%> (-0.59%)
⬇️


metautils/lib/comm_converter.c
73.63% <0%> (-0.52%)
⬇️


... and 22 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d3269ac...5094f64. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1567,2018-10-02T09:34:21Z,2018-10-02T09:34:36Z,2018-10-02T09:34:40Z,MERGED,True,1,1,1,https://github.com/murlock,rawx: Fix invalid RST,1,[],https://github.com/open-io/oio-sds/pull/1567,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1567,"SUMMARY
Fix invalid RST format
ISSUE TYPE

Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
RAWX
SDS VERSION
4.2.2","SUMMARY
Fix invalid RST format
ISSUE TYPE

Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
RAWX
SDS VERSION
4.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1568,2018-10-09T08:54:55Z,2018-10-10T08:41:31Z,2018-10-10T08:41:37Z,MERGED,True,10,7,2,https://github.com/murlock,meta2: allow older versions,2,[],https://github.com/open-io/oio-sds/pull/1568,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1568,"SUMMARY
If versioning is enabled, allow older versions than current version of object to support parallel
writs on same object for S3
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
openio --version
4.2.2dev13

ADDITIONAL INFORMATION
Please note that current version has drawback if max_version is 1: latest object written
always be kept even if oldest.","SUMMARY
If versioning is enabled, allow older versions than current version of object to support parallel
writs on same object for S3
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
openio --version
4.2.2dev13

ADDITIONAL INFORMATION
Please note that current version has drawback if max_version is 1: latest object written
always be kept even if oldest.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1569,2018-10-10T17:09:48Z,2018-10-12T14:03:49Z,2018-10-15T07:56:36Z,MERGED,True,539,245,7,https://github.com/AymericDu,Fix broken content events,5,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1569,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1569,"SUMMARY

Create the correct list of missing chunks when creating an object

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.3.dev39","SUMMARY

Create the correct list of missing chunks when creating an object

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.3.dev39",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1570,2018-10-11T13:00:20Z,2018-10-11T14:53:30Z,2018-10-11T15:47:36Z,MERGED,True,4,0,1,https://github.com/AymericDu,rawx: send events to the appropriate tube,1,"['bug :scream:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1570,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1570,"SUMMARY

Send events to the appropriate tube

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.3.dev35","SUMMARY

Send events to the appropriate tube

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.3.dev35",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1571,2018-10-11T19:39:12Z,2018-10-12T14:03:10Z,2018-10-15T07:56:28Z,MERGED,True,44,20,1,https://github.com/AymericDu,oio-blob-rebuilder: Minor fixes,4,[],https://github.com/open-io/oio-sds/pull/1571,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1571,"SUMMARY

Accept the 'beanstalk://' prefix for the beanstalk IP
Stop if there is no response
Check the beanstalk connection
Reuse the beanstalk connection

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.2.3.dev40","SUMMARY

Accept the 'beanstalk://' prefix for the beanstalk IP
Stop if there is no response
Check the beanstalk connection
Reuse the beanstalk connection

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.2.3.dev40",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1572,2018-10-15T15:54:19Z,2018-10-16T08:09:15Z,2018-10-16T08:09:18Z,MERGED,True,8,1,2,https://github.com/fvennetier,CLI: fix 'openio object list --auto --no-paging',1,"['bug :scream:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1572,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1572,"SUMMARY
Autocontainer object listings were truncated to the objects from the first 1000 containers. This pull request fixes the problem.
Jira: OS-164
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.2.3.dev7","SUMMARY
Autocontainer object listings were truncated to the objects from the first 1000 containers. This pull request fixes the problem.
Jira: OS-164
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.2.3.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1573,2018-10-16T16:20:14Z,2018-10-17T14:35:55Z,2018-10-18T10:52:12Z,MERGED,True,110,38,4,https://github.com/AymericDu, rawx: Reply the chunk hash and size when putting a chunk,3,"['bug :scream:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1573,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1573,"SUMMARY
Reply the chunk hash and size when putting a chunk
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.3.dev62","SUMMARY
Reply the chunk hash and size when putting a chunk
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.3.dev62",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1573,2018-10-16T16:20:14Z,2018-10-17T14:35:55Z,2018-10-18T10:52:12Z,MERGED,True,110,38,4,https://github.com/AymericDu, rawx: Reply the chunk hash and size when putting a chunk,3,"['bug :scream:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1573,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1573#issuecomment-430318266,"SUMMARY
Reply the chunk hash and size when putting a chunk
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.3.dev62","Codecov Report

Merging #1573 into master will increase coverage by 0.14%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##           master    #1573      +/-   ##
==========================================
+ Coverage   81.03%   81.16%   +0.14%     
==========================================
  Files         317      327      +10     
  Lines       60273    60453     +180     
  Branches     6380     6380              
==========================================
+ Hits        48835    49063     +228     
+ Misses      11380    11379       -1     
+ Partials       58       11      -47



Impacted Files
Coverage Δ





tests/functional/blob/test_blob.py
99.11% <100%> (+0.85%)
⬆️


meta2v2/meta2_filters_action_content.c
91.78% <0%> (-0.79%)
⬇️


oio/ecd/app.py
66.08% <0%> (-0.59%)
⬇️


oio/container/backup.py
77.46% <0%> (-0.46%)
⬇️


sqlx/sqlx_service.c
83.4% <0%> (-0.39%)
⬇️


metautils/lib/gridd_client_ext.c
79.78% <0%> (-0.36%)
⬇️


metautils/lib/comm_converter.c
73.9% <0%> (-0.26%)
⬇️


oio/common/utils.py
67.65% <0%> (ø)
⬆️


oio/cli/account/client.py
71.43% <0%> (ø)



oio/cli/volume/client.py
34.15% <0%> (ø)



... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0d3a14e...6894b97. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1574,2018-10-18T12:01:19Z,2018-10-19T08:05:34Z,2018-10-19T08:33:31Z,MERGED,True,77,31,6,https://github.com/AymericDu,Purge exceeding aliases except deleted aliases,5,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1574,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1574,"SUMMARY

meta2: Purge exceeding aliases except deleted aliases
proxy: List orphan aliases with all keys

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
proxy

SDS VERSION
openio 4.2.4.dev4","SUMMARY

meta2: Purge exceeding aliases except deleted aliases
proxy: List orphan aliases with all keys

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
proxy

SDS VERSION
openio 4.2.4.dev4",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1574,2018-10-18T12:01:19Z,2018-10-19T08:05:34Z,2018-10-19T08:33:31Z,MERGED,True,77,31,6,https://github.com/AymericDu,Purge exceeding aliases except deleted aliases,5,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1574,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1574#issuecomment-431014945,"SUMMARY

meta2: Purge exceeding aliases except deleted aliases
proxy: List orphan aliases with all keys

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
proxy

SDS VERSION
openio 4.2.4.dev4","Codecov Report

Merging #1574 into 4.2.x will increase coverage by 0.49%.
The diff coverage is 97.83%.


@@            Coverage Diff             @@
##            4.2.x    #1574      +/-   ##
==========================================
+ Coverage   79.54%   80.02%   +0.49%     
==========================================
  Files         339      340       +1     
  Lines       62200    62412     +212     
  Branches     6669     6702      +33     
==========================================
+ Hits        49468    49939     +471     
+ Misses      12732    12468     -264     
- Partials        0        5       +5



Impacted Files
Coverage Δ





meta2v2/meta2_utils.c
82.57% <ø> (ø)
⬆️


core/oiostr.h
100% <ø> (ø)
⬆️


oio/cli/object/object.py
24.89% <0%> (ø)
⬆️


proxy/m2_actions.c
88.54% <100%> (+0.25%)
⬆️


...ests/functional/content/test_content_versioning.py
90.09% <100%> (+2.33%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


proxy/cache_actions.c
78.23% <0%> (-1.61%)
⬇️


rawx-lib/src/attr_handler.c
68.5% <0%> (-1%)
⬇️


proxy/metacd_http.c
90.3% <0%> (-0.77%)
⬇️


... and 47 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b08ccb3...9e4767d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1575,2018-10-18T13:13:54Z,2018-10-18T14:33:51Z,2018-10-19T07:50:33Z,MERGED,True,1,1,1,https://github.com/AymericDu,rawx: Fix the path for the coverage,1,[],https://github.com/open-io/oio-sds/pull/1575,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1575,"SUMMARY
Fix the path for the coverage
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.3.dev65","SUMMARY
Fix the path for the coverage
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.3.dev65",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1575,2018-10-18T13:13:54Z,2018-10-18T14:33:51Z,2018-10-19T07:50:33Z,MERGED,True,1,1,1,https://github.com/AymericDu,rawx: Fix the path for the coverage,1,[],https://github.com/open-io/oio-sds/pull/1575,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1575#issuecomment-431029275,"SUMMARY
Fix the path for the coverage
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.3.dev65","Codecov Report

Merging #1575 into master will decrease coverage by 0.11%.
The diff coverage is n/a.


@@           Coverage Diff            @@
##           master   #1575     +/-   ##
========================================
- Coverage      81%   80.9%   -0.1%     
========================================
  Files         327     342     +15     
  Lines       60453   61859   +1406     
  Branches     6380    6380             
========================================
+ Hits        48965   50041   +1076     
- Misses      11390   11696    +306     
- Partials       98     122     +24



Impacted Files
Coverage Δ





oio/ecd/app.py
60.12% <0%> (-5.95%)
⬇️


meta2v2/meta2_filters_extract.c
89.48% <0%> (-2.1%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


resolver/hc_resolver.c
92.75% <0%> (-1.51%)
⬇️


cluster/module/expr.eval.c
24.26% <0%> (-0.99%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.5% <0%> (-0.91%)
⬇️


meta2v2/meta2_filters_action_content.c
91.78% <0%> (-0.79%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


oio/blob/client.py
91.55% <0%> (-0.7%)
⬇️


meta0v2/meta0_backend.c
78.14% <0%> (-0.4%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f3d8391...c560814. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1576,2018-10-18T15:28:16Z,2018-10-19T09:49:29Z,2018-10-19T09:49:32Z,MERGED,True,12,7,1,https://github.com/fvennetier,CLI: tolerate errors while listing objects from autocontainers,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1576,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1576,"SUMMARY
If an error was raised while listing one of the containers, the whole loop on containers was interrupted. Now the listing will continue on the next container, and a message will state that the listing may be incomplete.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.2.3.dev8","SUMMARY
If an error was raised while listing one of the containers, the whole loop on containers was interrupted. Now the listing will continue on the next container, and a message will state that the listing may be incomplete.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.2.3.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1576,2018-10-18T15:28:16Z,2018-10-19T09:49:29Z,2018-10-19T09:49:32Z,MERGED,True,12,7,1,https://github.com/fvennetier,CLI: tolerate errors while listing objects from autocontainers,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1576,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1576#issuecomment-431307618,"SUMMARY
If an error was raised while listing one of the containers, the whole loop on containers was interrupted. Now the listing will continue on the next container, and a message will state that the listing may be incomplete.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.2.3.dev8","Codecov Report

Merging #1576 into 4.2.x will increase coverage by 0.01%.
The diff coverage is 16.67%.


@@            Coverage Diff            @@
##           4.2.x    #1576      +/-   ##
=========================================
+ Coverage     80%   80.01%   +0.01%     
=========================================
  Files        340      340              
  Lines      62412    62416       +4     
  Branches    6702     6702              
=========================================
+ Hits       49929    49937       +8     
+ Misses     12483    12451      -32     
- Partials       0       28      +28



Impacted Files
Coverage Δ





oio/cli/object/object.py
24.89% <16.67%> (+0.01%)
⬆️


proxy/sqlx_actions.c
76.39% <0%> (-4.16%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


resolver/hc_resolver.c
92.15% <0%> (-2.41%)
⬇️


proxy/meta2v2_remote.c
82.48% <0%> (-1.7%)
⬇️


proxy/cache_actions.c
78.23% <0%> (-1.61%)
⬇️


server/slab.c
83.55% <0%> (-1.26%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


proxy/metacd_http.c
90.3% <0%> (-0.77%)
⬇️


metautils/lib/utils_sockets.c
41.67% <0%> (-0.75%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6e88b67...3ec2511. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1577,2018-10-18T16:49:54Z,2018-10-22T12:59:55Z,2018-10-23T08:27:39Z,MERGED,True,32,18,1,https://github.com/AymericDu,oio-blob-rebuilder: Use rebuilder ID to identify the rebuilt chunks,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1577,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1577,"SUMMARY
Use rebuilder ID to identify the rebuilt chunks when using the distributed mode
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.2.3.dev64","SUMMARY
Use rebuilder ID to identify the rebuilt chunks when using the distributed mode
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.2.3.dev64",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1577,2018-10-18T16:49:54Z,2018-10-22T12:59:55Z,2018-10-23T08:27:39Z,MERGED,True,32,18,1,https://github.com/AymericDu,oio-blob-rebuilder: Use rebuilder ID to identify the rebuilt chunks,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1577,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1577#issuecomment-431289606,"SUMMARY
Use rebuilder ID to identify the rebuilt chunks when using the distributed mode
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.2.3.dev64","Codecov Report

Merging #1577 into master will decrease coverage by 0.05%.
The diff coverage is 8.34%.


@@            Coverage Diff             @@
##           master    #1577      +/-   ##
==========================================
- Coverage   80.88%   80.84%   -0.04%     
==========================================
  Files         342      342              
  Lines       61859    61869      +10     
  Branches     6380     6380              
==========================================
- Hits        50028    50009      -19     
- Misses      11716    11741      +25     
- Partials      115      119       +4



Impacted Files
Coverage Δ





oio/rebuilder/blob_rebuilder.py
15.46% <8.34%> (-0.16%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


resolver/hc_resolver.c
92.75% <0%> (-1.81%)
⬇️


oio/container/backup.py
77.92% <0%> (-1.53%)
⬇️


meta2v2/meta2_filters_action_container.c
58.87% <0%> (-1.06%)
⬇️


sqlx/sqlx_service.c
83.67% <0%> (-0.53%)
⬇️


server/transport_gridd.c
77.91% <0%> (-0.39%)
⬇️


proxy/metacd_http.c
90.77% <0%> (-0.3%)
⬇️


sqliterepo/replication.c
87.11% <0%> (-0.28%)
⬇️


core/str.c
88.53% <0%> (-0.23%)
⬇️


... and 11 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 33b7907...f573439. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1578,2018-10-19T08:24:33Z,2018-10-19T10:17:44Z,2018-10-23T08:27:34Z,MERGED,True,1,1,1,https://github.com/AymericDu,"Revert ""Prevent urllib3 1.24""",1,[],https://github.com/open-io/oio-sds/pull/1578,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1578,"SUMMARY
Requests now supports urllib3 v1.24: https://github.com/requests/requests/blob/master/HISTORY.md#2200-2018-10-18
ISSUE TYPE

Bugfix Pull Request

SDS VERSION
openio 4.2.4.dev6","SUMMARY
Requests now supports urllib3 v1.24: https://github.com/requests/requests/blob/master/HISTORY.md#2200-2018-10-18
ISSUE TYPE

Bugfix Pull Request

SDS VERSION
openio 4.2.4.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1579,2018-10-22T09:58:16Z,2018-10-26T12:42:24Z,2018-10-26T14:23:16Z,MERGED,True,247,38,5,https://github.com/AymericDu,lifecycle: Check the S3 tags instead of checking the properties ,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1579,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1579,"SUMMARY
Check the S3 tags instead of checking the properties when applying Lifecycle
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

lifecycle
CLI

SDS VERSION
openio 4.2.4.dev12","SUMMARY
Check the S3 tags instead of checking the properties when applying Lifecycle
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

lifecycle
CLI

SDS VERSION
openio 4.2.4.dev12",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1579,2018-10-22T09:58:16Z,2018-10-26T12:42:24Z,2018-10-26T14:23:16Z,MERGED,True,247,38,5,https://github.com/AymericDu,lifecycle: Check the S3 tags instead of checking the properties ,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1579,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1579#issuecomment-431963119,"SUMMARY
Check the S3 tags instead of checking the properties when applying Lifecycle
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

lifecycle
CLI

SDS VERSION
openio 4.2.4.dev12","Codecov Report

Merging #1579 into master will increase coverage by 0.04%.
The diff coverage is 72.42%.


@@            Coverage Diff             @@
##           master    #1579      +/-   ##
==========================================
+ Coverage   80.83%   80.86%   +0.04%     
==========================================
  Files         342      342              
  Lines       61904    61961      +57     
  Branches     6379     6379              
==========================================
+ Hits        50031    50101      +70     
+ Misses      11753    11734      -19     
- Partials      120      126       +6



Impacted Files
Coverage Δ





tests/functional/container/test_lifecycle.py
95% <100%> (ø)
⬆️


tests/functional/cli/container/test_container.py
99.43% <100%> (ø)
⬆️


tests/functional/cli/lifecycle/test_lifecycle.py
100% <100%> (ø)
⬆️


tests/functional/cli/account/test_account.py
100% <100%> (ø)
⬆️


tests/unit/container/test_lifecycle.py
98.76% <100%> (+0.05%)
⬆️


oio/cli/object/object.py
23.95% <4.55%> (-0.93%)
⬇️


oio/container/lifecycle.py
93.03% <93.19%> (-0.31%)
⬇️


rawx/chunkrepo.go
48.72% <0%> (-2.56%)
⬇️


rawx/filerepo.go
56.44% <0%> (-1.48%)
⬇️


rawx/handler_chunk.go
76.35% <0%> (-1.24%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update db2be02...a361d71. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1580,2018-10-22T10:08:15Z,2018-10-23T11:40:47Z,2018-11-06T19:48:41Z,MERGED,True,3,1,1,https://github.com/murlock,meta2: fix memory leak,1,[],https://github.com/open-io/oio-sds/pull/1580,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1580,"SUMMARY
Fix a meta2 memory leak
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
4.2.3

ADDITIONAL INFORMATION
Previous error was overwritten by next function call
(Please note that it seems that seems always triggered so fixing this may show other errors)","SUMMARY
Fix a meta2 memory leak
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
4.2.3

ADDITIONAL INFORMATION
Previous error was overwritten by next function call
(Please note that it seems that seems always triggered so fixing this may show other errors)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1581,2018-10-23T09:26:44Z,2018-10-23T13:55:35Z,2018-10-23T13:55:39Z,MERGED,True,14,2,3,https://github.com/murlock,meta2: fix memory leak,1,[],https://github.com/open-io/oio-sds/pull/1581,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1581,"SUMMARY
Fix memory leak
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
master","SUMMARY
Fix memory leak
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
master",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1581,2018-10-23T09:26:44Z,2018-10-23T13:55:35Z,2018-10-23T13:55:39Z,MERGED,True,14,2,3,https://github.com/murlock,meta2: fix memory leak,1,[],https://github.com/open-io/oio-sds/pull/1581,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1581#issuecomment-432253417,"SUMMARY
Fix memory leak
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
master","Codecov Report

Merging #1581 into master will increase coverage by 0.04%.
The diff coverage is 83.34%.


@@            Coverage Diff             @@
##           master    #1581      +/-   ##
==========================================
+ Coverage   80.88%   80.91%   +0.04%     
==========================================
  Files         342      342              
  Lines       61898    61903       +5     
  Branches     6378     6372       -6     
==========================================
+ Hits        50062    50085      +23     
+ Misses      11706    11701       -5     
+ Partials      130      117      -13



Impacted Files
Coverage Δ





meta2v2/meta2_utils.c
84.06% <0%> (ø)
⬆️


core/lb.c
93.54% <100%> (+0.04%)
⬆️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


rawx/chunkrepo.go
48.72% <0%> (-2.56%)
⬇️


core/proxy.c
81.84% <0%> (-2.11%)
⬇️


rawx/filerepo.go
56.44% <0%> (-1.48%)
⬇️


rawx/handler_chunk.go
76.35% <0%> (-1.24%)
⬇️


server/network_server.c
85.81% <0%> (-0.63%)
⬇️


metautils/lib/comm_converter.c
73.9% <0%> (-0.26%)
⬇️


oio/container/backup.py
79.91% <0%> (-0.15%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3fc858d...c2c6b86. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1582,2018-10-25T09:34:45Z,2018-10-26T07:34:38Z,2018-10-26T14:23:12Z,MERGED,True,2,2,2,https://github.com/AymericDu,tests: Fix flake8 warnings,1,[],https://github.com/open-io/oio-sds/pull/1582,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1582,"SUMMARY
Fix flake8 warnings
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.4.dev9","SUMMARY
Fix flake8 warnings
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.4.dev9",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1583,2018-10-25T13:47:32Z,2018-10-26T12:42:44Z,2018-10-26T14:23:09Z,MERGED,True,34,23,3,https://github.com/AymericDu,proxy: Improve consistency of responses,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1583,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1583,"SUMMARY
Improve consistency of responses
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
Python API

SDS VERSION
openio 4.2.4.dev18

ADDITIONAL INFORMATION
Before:
>>> from oio import ObjectStorageApi
>>> api = ObjectStorageApi(""OPENIO"")
>>> api.object_show(""myaccount"", ""toto"", ""magic"")
{'hash': '272913026300E7AE9B5E2D51F138E674', 'ctime': '1540472065', 'deleted': 'False', 'id': 'CD0F431A0D79050022C4C1B2D37C6731', 'length': '111', 'hash_method': 'md5', 'chunk_method': 'plain/nb_copy=1', 'version': '1540472065691611', 'mtime': '1540472065', 'policy': 'SINGLE', 'properties': {}, 'mime_type': 'application/octet-stream', 'name': 'magic'}
>>> api.object_list(""myaccount"", ""toto"")
{'prefixes': [], 'objects': [{'hash': '272913026300E7AE9B5E2D51F138E674', 'name': 'magic', 'deleted': False, 'content': 'CD0F431A0D79050022C4C1B2D37C6731', 'version': 1540472065691611, 'mtime': 1540472065, 'policy': 'SINGLE', 'size': 111, 'mime_type': 'application/octet-stream', 'ctime': 1540472065}], 'truncated': False, 'properties': {}, 'system': {'sys.m2.usage': '111', 'sys.type': 'meta2', 'sys.m2.version': '1', 'sys.name': '8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1', 'sys.m2.init': '1', 'sys.ns': 'OPENIO', 'sys.user.name': 'toto', 'sys.status': '0', 'sys.m2.ctime': '1540472065688077', 'sys.m2.objects': '1', 'sys.account': 'myaccount'}}

After:
>>> from oio import ObjectStorageApi
>>> api = ObjectStorageApi(""OPENIO"")
>>> api.object_show(""myaccount"", ""toto"", ""magic"")
{'hash': '272913026300E7AE9B5E2D51F138E674', 'ctime': '1540471898', 'deleted': 'False', 'id': '666B47100D79050071E28A9B507810F4', 'length': '111', 'hash_method': 'md5', 'chunk_method': 'plain/nb_copy=1', 'version': '1540471898205048', 'mtime': '1540471898', 'policy': 'SINGLE', 'size': '111', 'properties': {}, 'mime_type': 'application/octet-stream', 'name': 'magic'}
>>> api.object_list(""myaccount"", ""toto"")
{'prefixes': [], 'objects': [{'hash': '272913026300E7AE9B5E2D51F138E674', 'name': 'magic', 'deleted': False, 'content': '666B47100D79050071E28A9B507810F4', 'version': 1540471898205048, 'mtime': 1540471898, 'policy': 'SINGLE', 'size': 111, 'id': '666B47100D79050071E28A9B507810F4', 'mime_type': 'application/octet-stream', 'ctime': 1540471898}], 'truncated': False, 'properties': {}, 'system': {'sys.m2.usage': '111', 'sys.type': 'meta2', 'sys.m2.version': '1', 'sys.name': '8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1', 'sys.m2.init': '1', 'sys.ns': 'OPENIO', 'sys.user.name': 'toto', 'sys.status': '0', 'sys.m2.ctime': '1540471898199999', 'sys.m2.objects': '1', 'sys.account': 'myaccount'}}","SUMMARY
Improve consistency of responses
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
Python API

SDS VERSION
openio 4.2.4.dev18

ADDITIONAL INFORMATION
Before:
>>> from oio import ObjectStorageApi
>>> api = ObjectStorageApi(""OPENIO"")
>>> api.object_show(""myaccount"", ""toto"", ""magic"")
{'hash': '272913026300E7AE9B5E2D51F138E674', 'ctime': '1540472065', 'deleted': 'False', 'id': 'CD0F431A0D79050022C4C1B2D37C6731', 'length': '111', 'hash_method': 'md5', 'chunk_method': 'plain/nb_copy=1', 'version': '1540472065691611', 'mtime': '1540472065', 'policy': 'SINGLE', 'properties': {}, 'mime_type': 'application/octet-stream', 'name': 'magic'}
>>> api.object_list(""myaccount"", ""toto"")
{'prefixes': [], 'objects': [{'hash': '272913026300E7AE9B5E2D51F138E674', 'name': 'magic', 'deleted': False, 'content': 'CD0F431A0D79050022C4C1B2D37C6731', 'version': 1540472065691611, 'mtime': 1540472065, 'policy': 'SINGLE', 'size': 111, 'mime_type': 'application/octet-stream', 'ctime': 1540472065}], 'truncated': False, 'properties': {}, 'system': {'sys.m2.usage': '111', 'sys.type': 'meta2', 'sys.m2.version': '1', 'sys.name': '8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1', 'sys.m2.init': '1', 'sys.ns': 'OPENIO', 'sys.user.name': 'toto', 'sys.status': '0', 'sys.m2.ctime': '1540472065688077', 'sys.m2.objects': '1', 'sys.account': 'myaccount'}}

After:
>>> from oio import ObjectStorageApi
>>> api = ObjectStorageApi(""OPENIO"")
>>> api.object_show(""myaccount"", ""toto"", ""magic"")
{'hash': '272913026300E7AE9B5E2D51F138E674', 'ctime': '1540471898', 'deleted': 'False', 'id': '666B47100D79050071E28A9B507810F4', 'length': '111', 'hash_method': 'md5', 'chunk_method': 'plain/nb_copy=1', 'version': '1540471898205048', 'mtime': '1540471898', 'policy': 'SINGLE', 'size': '111', 'properties': {}, 'mime_type': 'application/octet-stream', 'name': 'magic'}
>>> api.object_list(""myaccount"", ""toto"")
{'prefixes': [], 'objects': [{'hash': '272913026300E7AE9B5E2D51F138E674', 'name': 'magic', 'deleted': False, 'content': '666B47100D79050071E28A9B507810F4', 'version': 1540471898205048, 'mtime': 1540471898, 'policy': 'SINGLE', 'size': 111, 'id': '666B47100D79050071E28A9B507810F4', 'mime_type': 'application/octet-stream', 'ctime': 1540471898}], 'truncated': False, 'properties': {}, 'system': {'sys.m2.usage': '111', 'sys.type': 'meta2', 'sys.m2.version': '1', 'sys.name': '8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1', 'sys.m2.init': '1', 'sys.ns': 'OPENIO', 'sys.user.name': 'toto', 'sys.status': '0', 'sys.m2.ctime': '1540471898199999', 'sys.m2.objects': '1', 'sys.account': 'myaccount'}}",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1584,2018-10-25T15:17:01Z,2018-11-07T16:38:04Z,2018-11-07T16:39:11Z,MERGED,True,430,23,4,https://github.com/aneutron,Add tests for the meta2 databases indexing on rdir,10,[],https://github.com/open-io/oio-sds/pull/1584,https://github.com/aneutron,1,https://github.com/open-io/oio-sds/pull/1584,"SUMMARY

Add tests for the meta2 databases indexing on rdir

ISSUE TYPE


Feature Pull Request

COMPONENT NAME

SDS VERSION

openio 4.2.3.dev61

ADDITIONAL INFORMATION
None","SUMMARY

Add tests for the meta2 databases indexing on rdir

ISSUE TYPE


Feature Pull Request

COMPONENT NAME

SDS VERSION

openio 4.2.3.dev61

ADDITIONAL INFORMATION
None",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1584,2018-10-25T15:17:01Z,2018-11-07T16:38:04Z,2018-11-07T16:39:11Z,MERGED,True,430,23,4,https://github.com/aneutron,Add tests for the meta2 databases indexing on rdir,10,[],https://github.com/open-io/oio-sds/pull/1584,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1584#issuecomment-435452973,"SUMMARY

Add tests for the meta2 databases indexing on rdir

ISSUE TYPE


Feature Pull Request

COMPONENT NAME

SDS VERSION

openio 4.2.3.dev61

ADDITIONAL INFORMATION
None","Codecov Report

Merging #1584 into master will decrease coverage by 0.25%.
The diff coverage is 99.48%.


@@            Coverage Diff             @@
##           master    #1584      +/-   ##
==========================================
- Coverage   80.98%   80.73%   -0.24%     
==========================================
  Files         342      345       +3     
  Lines       62124    62700     +576     
  Branches     6379     6379              
==========================================
+ Hits        50302    50612     +310     
- Misses      11714    11968     +254     
- Partials      108      120      +12



Impacted Files
Coverage Δ





tests/functional/rdir/test_server.py
99.52% <100%> (+0.1%)
⬆️


tests/unit/api/test_rdir.py
100% <100%> (ø)



tests/functional/event/test_events_emission.py
100% <100%> (ø)



oio/rdir/client.py
71.93% <85.72%> (+5.77%)
⬆️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


oio/common/utils.py
65.69% <0%> (-2.94%)
⬇️


rawx/chunkrepo.go
48.72% <0%> (-2.56%)
⬇️


meta2v2/meta2_filters_action_container.c
58.87% <0%> (-2.12%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update aa46fc4...b612b14. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1585,2018-10-25T16:40:44Z,2018-10-26T14:06:10Z,2018-10-26T14:06:13Z,MERGED,True,115,147,9,https://github.com/fvennetier,Review container indexing,5,[],https://github.com/open-io/oio-sds/pull/1585,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1585,"SUMMARY
Review the way we index containers (a.k.a. meta2 databases) in rdir services.

Use account.services events to fill the index (was storage.container.new).
Continue to use container.deleted to remove from index. But now, each peer sends the event with only its own address.
Use account.services events to know when we must remove a container from its account.

Known bug: when a base is moved, the old peer is not deindexed from rdir.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent
meta1
meta2

SDS VERSION
openio 4.2.4.dev21","SUMMARY
Review the way we index containers (a.k.a. meta2 databases) in rdir services.

Use account.services events to fill the index (was storage.container.new).
Continue to use container.deleted to remove from index. But now, each peer sends the event with only its own address.
Use account.services events to know when we must remove a container from its account.

Known bug: when a base is moved, the old peer is not deindexed from rdir.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent
meta1
meta2

SDS VERSION
openio 4.2.4.dev21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1586,2018-10-26T09:08:44Z,2020-01-09T08:26:34Z,2020-09-09T09:55:09Z,CLOSED,False,232,0,1,https://github.com/murlock,[WIP] tools: add a garbage collector for MPU,2,[],https://github.com/open-io/oio-sds/pull/1586,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1586,"SUMMARY
Parse all container+segments and check incomplete MPU and orphan MPU.
WIP: The script is currently standalone but should be integrated as part of CLI
Fixes OS-181
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
tools
SDS VERSION
master
ADDITIONAL INFORMATION
Please note that it doesn't support versioning and
various midleware if enabled on gateway.","SUMMARY
Parse all container+segments and check incomplete MPU and orphan MPU.
WIP: The script is currently standalone but should be integrated as part of CLI
Fixes OS-181
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
tools
SDS VERSION
master
ADDITIONAL INFORMATION
Please note that it doesn't support versioning and
various midleware if enabled on gateway.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1586,2018-10-26T09:08:44Z,2020-01-09T08:26:34Z,2020-09-09T09:55:09Z,CLOSED,False,232,0,1,https://github.com/murlock,[WIP] tools: add a garbage collector for MPU,2,[],https://github.com/open-io/oio-sds/pull/1586,https://github.com/vdombrovski,2,https://github.com/open-io/oio-sds/pull/1586#issuecomment-434241843,"SUMMARY
Parse all container+segments and check incomplete MPU and orphan MPU.
WIP: The script is currently standalone but should be integrated as part of CLI
Fixes OS-181
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
tools
SDS VERSION
master
ADDITIONAL INFORMATION
Please note that it doesn't support versioning and
various midleware if enabled on gateway.",It would be nice to add retries to 503 errors.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1586,2018-10-26T09:08:44Z,2020-01-09T08:26:34Z,2020-09-09T09:55:09Z,CLOSED,False,232,0,1,https://github.com/murlock,[WIP] tools: add a garbage collector for MPU,2,[],https://github.com/open-io/oio-sds/pull/1586,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1586#issuecomment-452050568,"SUMMARY
Parse all container+segments and check incomplete MPU and orphan MPU.
WIP: The script is currently standalone but should be integrated as part of CLI
Fixes OS-181
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
tools
SDS VERSION
master
ADDITIONAL INFORMATION
Please note that it doesn't support versioning and
various midleware if enabled on gateway.","Codecov Report

Merging #1586 into master will decrease coverage by 1%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1586      +/-   ##
==========================================
- Coverage   80.75%   79.75%   -0.99%     
==========================================
  Files         367      365       -2     
  Lines       70016    67853    -2163     
  Branches     6405     6851     +446     
==========================================
- Hits        56534    54112    -2422     
- Misses      13268    13618     +350     
+ Partials      214      123      -91



Impacted Files
Coverage Δ





oio/cli/rdir/client.py
43.75% <0%> (-56.25%)
⬇️


oio/cli/election/client.py
62.5% <0%> (-37.5%)
⬇️


sqliterepo/sqlx_remote_ex.c
0% <0%> (-35.89%)
⬇️


rawx/chunkrepo.go
48.72% <0%> (-26.28%)
⬇️


rawx/notifier.go
58.77% <0%> (-26.12%)
⬇️


cluster/lib/gridcluster.c
72.29% <0%> (-23.36%)
⬇️


rawx/filerepo.go
54.46% <0%> (-21.99%)
⬇️


tests/unit/api/test_container_client.py
81.82% <0%> (-18.18%)
⬇️


oio/event/filters/notify.py
62.97% <0%> (-16.34%)
⬇️


oio/common/configuration.py
51.39% <0%> (-15.57%)
⬇️


... and 334 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 45cac3c...bf3a9c6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1586,2018-10-26T09:08:44Z,2020-01-09T08:26:34Z,2020-09-09T09:55:09Z,CLOSED,False,232,0,1,https://github.com/murlock,[WIP] tools: add a garbage collector for MPU,2,[],https://github.com/open-io/oio-sds/pull/1586,https://github.com/murlock,4,https://github.com/open-io/oio-sds/pull/1586#issuecomment-572447754,"SUMMARY
Parse all container+segments and check incomplete MPU and orphan MPU.
WIP: The script is currently standalone but should be integrated as part of CLI
Fixes OS-181
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
tools
SDS VERSION
master
ADDITIONAL INFORMATION
Please note that it doesn't support versioning and
various midleware if enabled on gateway.",Deprecated,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1587,2018-10-26T15:21:23Z,2018-10-29T16:42:18Z,2018-10-29T16:42:23Z,MERGED,True,5,8,1,https://github.com/fvennetier,Update event-agent configuration sample,1,[],https://github.com/open-io/oio-sds/pull/1587,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1587,"SUMMARY
meta2_index filter disappears and is replaced by volume_index.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

event-agent","SUMMARY
meta2_index filter disappears and is replaced by volume_index.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

event-agent",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1587,2018-10-26T15:21:23Z,2018-10-29T16:42:18Z,2018-10-29T16:42:23Z,MERGED,True,5,8,1,https://github.com/fvennetier,Update event-agent configuration sample,1,[],https://github.com/open-io/oio-sds/pull/1587,https://github.com/cdelgehier,2,https://github.com/open-io/oio-sds/pull/1587#issuecomment-433714387,"SUMMARY
meta2_index filter disappears and is replaced by volume_index.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

event-agent",open-io/ansible-role-openio-oio-event-agent#1,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1588,2018-10-26T15:37:19Z,2018-10-31T08:44:26Z,2018-11-05T08:22:05Z,MERGED,True,484,124,2,https://github.com/AymericDu,lifecycle: Improve tests,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1588,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1588,"SUMMARY

Allow to disable a rule
Apply actions only to existing objects

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

lifecycle

SDS VERSION
openio 4.2.4.dev32","SUMMARY

Allow to disable a rule
Apply actions only to existing objects

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

lifecycle

SDS VERSION
openio 4.2.4.dev32",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1588,2018-10-26T15:37:19Z,2018-10-31T08:44:26Z,2018-11-05T08:22:05Z,MERGED,True,484,124,2,https://github.com/AymericDu,lifecycle: Improve tests,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1588,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1588#issuecomment-434295730,"SUMMARY

Allow to disable a rule
Apply actions only to existing objects

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

lifecycle

SDS VERSION
openio 4.2.4.dev32","Codecov Report

Merging #1588 into master will decrease coverage by 0.07%.
The diff coverage is 98.17%.


@@            Coverage Diff             @@
##           master    #1588      +/-   ##
==========================================
- Coverage   80.93%   80.86%   -0.06%     
==========================================
  Files         342      342              
  Lines       61972    62124     +152     
  Branches     6379     6379              
==========================================
+ Hits        50148    50232      +84     
- Misses      11720    11770      +50     
- Partials      104      122      +18



Impacted Files
Coverage Δ





oio/container/lifecycle.py
92.86% <85.72%> (-0.16%)
⬇️


tests/functional/container/test_lifecycle.py
96.02% <98.58%> (+1.02%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/common/wsgi.py
44.45% <0%> (-3.7%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


oio/container/backup.py
77.92% <0%> (-3.22%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


resolver/hc_resolver.c
92.45% <0%> (-2.11%)
⬇️


server/slab.c
82.92% <0%> (-1.89%)
⬇️


proxy/meta2v2_remote.c
82.48% <0%> (-1.7%)
⬇️


... and 20 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b559379...b9a8071. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1589,2018-10-29T15:06:57Z,2018-10-29T16:48:32Z,2018-10-29T16:48:36Z,MERGED,True,30,21,1,https://github.com/fvennetier,CLI: document 'object link' command,1,['documentation :book:'],https://github.com/open-io/oio-sds/pull/1589,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1589,"SUMMARY
Fix the CLI parameters and documentation that were ambiguous.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.3.0.0b1.dev2","SUMMARY
Fix the CLI parameters and documentation that were ambiguous.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.3.0.0b1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1590,2018-10-31T11:46:19Z,2018-11-08T07:53:13Z,2018-11-08T07:53:17Z,MERGED,True,260,140,22,https://github.com/fvennetier,"Clean Python API, improve oio-blob-indexer and some tests",9,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1590,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1590,"SUMMARY

Remove an unused class in root package of Python API.
Explicitly set Connection: keep-alive header in requests toward rdir, account and proxy. This should drastically reduce the number of connections made by some tools like oio-blob-indexer.
Share a connection pool between several objects in oio-blob-indexer.
Display each test's duration.
Improve some tests using events: make them faster and more reliable.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-blob-indexer
CI

SDS VERSION
openio 4.3.1.dev6","SUMMARY

Remove an unused class in root package of Python API.
Explicitly set Connection: keep-alive header in requests toward rdir, account and proxy. This should drastically reduce the number of connections made by some tools like oio-blob-indexer.
Share a connection pool between several objects in oio-blob-indexer.
Display each test's duration.
Improve some tests using events: make them faster and more reliable.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-blob-indexer
CI

SDS VERSION
openio 4.3.1.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1590,2018-10-31T11:46:19Z,2018-11-08T07:53:13Z,2018-11-08T07:53:17Z,MERGED,True,260,140,22,https://github.com/fvennetier,"Clean Python API, improve oio-blob-indexer and some tests",9,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1590,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1590#issuecomment-435445591,"SUMMARY

Remove an unused class in root package of Python API.
Explicitly set Connection: keep-alive header in requests toward rdir, account and proxy. This should drastically reduce the number of connections made by some tools like oio-blob-indexer.
Share a connection pool between several objects in oio-blob-indexer.
Display each test's duration.
Improve some tests using events: make them faster and more reliable.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-blob-indexer
CI

SDS VERSION
openio 4.3.1.dev6","Codecov Report

❗ No coverage uploaded for pull request base (master@418e770). Click here to learn what that means.
The diff coverage is 96.43%.


@@            Coverage Diff            @@
##             master    #1590   +/-   ##
=========================================
  Coverage          ?   80.62%           
=========================================
  Files             ?      345           
  Lines             ?    63405           
  Branches          ?     6379           
=========================================
  Hits              ?    51114           
  Misses            ?    12170           
  Partials          ?      121



Impacted Files
Coverage Δ





oio/rebuilder/blob_rebuilder.py
15.25% <ø> (ø)



oio/account/server.py
89.39% <ø> (ø)



tests/functional/blob/test_auditor.py
100% <ø> (ø)



oio/account/client.py
82.76% <ø> (ø)



tests/functional/blob/test_indexer.py
96.22% <ø> (ø)



tests/functional/directory/test_refmapping.py
97.09% <ø> (ø)



tests/functional/blob/test_converter.py
95.66% <ø> (ø)



oio/__init__.py
78.27% <100%> (ø)



oio/common/green.py
95.56% <100%> (ø)



oio/api/object_storage.py
79.3% <100%> (ø)



... and 7 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 418e770...65f92bf. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1591,2018-11-01T16:01:17Z,2018-11-07T16:36:40Z,2018-11-12T08:39:38Z,MERGED,True,2234,695,6,https://github.com/AymericDu,lifecycle: Prevent some configurations,11,"['bug :scream:', 'enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1591,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1591,"SUMMARY

Prevent some configurations

Date and Days must not be mixed in the same Rule
Date in the Expiration action must be later than Date in the Transition action
Days in the Expiration action must be greater than Days in the Transition action
NoncurrentDays and NoncurrentCount must not be mixed  in the same Rule
NoncurrentDays in the NoncurrentVersionExpiration action must be greater than NoncurrentDays in the NoncurrentVersionTransition action
NoncurrentCount in the NoncurrentVersionExpiration action must be greater than NoncurrentCount in the NoncurrentVersionTransition action


Allow multiple Transition and NoncurrentVersionTransition actions
Apply Expiration and Transition actions only on the current version
Format the Lifecycle configuration
Add deleted flag when applying Expiration action with versioning
Apply the rules in the same order as the configuration

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Lifecycle

SDS VERSION
openio 4.3.1.dev9","SUMMARY

Prevent some configurations

Date and Days must not be mixed in the same Rule
Date in the Expiration action must be later than Date in the Transition action
Days in the Expiration action must be greater than Days in the Transition action
NoncurrentDays and NoncurrentCount must not be mixed  in the same Rule
NoncurrentDays in the NoncurrentVersionExpiration action must be greater than NoncurrentDays in the NoncurrentVersionTransition action
NoncurrentCount in the NoncurrentVersionExpiration action must be greater than NoncurrentCount in the NoncurrentVersionTransition action


Allow multiple Transition and NoncurrentVersionTransition actions
Apply Expiration and Transition actions only on the current version
Format the Lifecycle configuration
Add deleted flag when applying Expiration action with versioning
Apply the rules in the same order as the configuration

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Lifecycle

SDS VERSION
openio 4.3.1.dev9",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1591,2018-11-01T16:01:17Z,2018-11-07T16:36:40Z,2018-11-12T08:39:38Z,MERGED,True,2234,695,6,https://github.com/AymericDu,lifecycle: Prevent some configurations,11,"['bug :scream:', 'enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1591,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1591#issuecomment-435107278,"SUMMARY

Prevent some configurations

Date and Days must not be mixed in the same Rule
Date in the Expiration action must be later than Date in the Transition action
Days in the Expiration action must be greater than Days in the Transition action
NoncurrentDays and NoncurrentCount must not be mixed  in the same Rule
NoncurrentDays in the NoncurrentVersionExpiration action must be greater than NoncurrentDays in the NoncurrentVersionTransition action
NoncurrentCount in the NoncurrentVersionExpiration action must be greater than NoncurrentCount in the NoncurrentVersionTransition action


Allow multiple Transition and NoncurrentVersionTransition actions
Apply Expiration and Transition actions only on the current version
Format the Lifecycle configuration
Add deleted flag when applying Expiration action with versioning
Apply the rules in the same order as the configuration

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Lifecycle

SDS VERSION
openio 4.3.1.dev9","Codecov Report

Merging #1591 into 4.3.x will increase coverage by 0.1%.
The diff coverage is 98.49%.


@@            Coverage Diff            @@
##            4.3.x    #1591     +/-   ##
=========================================
+ Coverage   80.96%   81.06%   +0.1%     
=========================================
  Files         342      342             
  Lines       62124    62815    +691     
  Branches     6379     6379             
=========================================
+ Hits        50295    50914    +619     
- Misses      11722    11779     +57     
- Partials      107      122     +15



Impacted Files
Coverage Δ





tests/functional/container/test_lifecycle.py
97.41% <100%> (+1.4%)
⬆️


oio/common/exceptions.py
97.85% <100%> (+0.04%)
⬆️


tests/functional/cli/lifecycle/test_lifecycle.py
100% <100%> (ø)
⬆️


tests/unit/container/test_lifecycle.py
99.57% <100%> (+0.81%)
⬆️


oio/container/lifecycle.py
94.48% <96.11%> (+1.62%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


rawx/chunkrepo.go
48.72% <0%> (-2.56%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update aa46fc4...e23583d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1592,2018-11-06T13:55:36Z,2018-11-30T15:26:18Z,2018-12-07T14:13:22Z,MERGED,True,38,26,9,https://github.com/fvennetier,Improve behavior with big sqliterepo databases,2,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1592,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1592,"SUMMARY
Various improvements to handle big sqliterepo databases.

Increase DB_PIPEFROM maximum timeout (sqliterepo.outgoing.timeout.req.resync).
Allow to configure DB_DUMP chunk size (sqliterepo.dump.chunk_size).

Also reduce the duration of some annoyingly long tests.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.3.1.dev6","SUMMARY
Various improvements to handle big sqliterepo databases.

Increase DB_PIPEFROM maximum timeout (sqliterepo.outgoing.timeout.req.resync).
Allow to configure DB_DUMP chunk size (sqliterepo.dump.chunk_size).

Also reduce the duration of some annoyingly long tests.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.3.1.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1592,2018-11-06T13:55:36Z,2018-11-30T15:26:18Z,2018-12-07T14:13:22Z,MERGED,True,38,26,9,https://github.com/fvennetier,Improve behavior with big sqliterepo databases,2,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1592,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1592#issuecomment-443161166,"SUMMARY
Various improvements to handle big sqliterepo databases.

Increase DB_PIPEFROM maximum timeout (sqliterepo.outgoing.timeout.req.resync).
Allow to configure DB_DUMP chunk size (sqliterepo.dump.chunk_size).

Also reduce the duration of some annoyingly long tests.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.3.1.dev6","Codecov Report

Merging #1592 into master will decrease coverage by 0.04%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##           master    #1592      +/-   ##
==========================================
- Coverage   80.72%   80.68%   -0.03%     
==========================================
  Files         347      347              
  Lines       64008    64006       -2     
  Branches     6393     6393              
==========================================
- Hits        51664    51639      -25     
- Misses      12229    12250      +21     
- Partials      115      117       +2



Impacted Files
Coverage Δ





sqliterepo/repository.c
77.31% <ø> (-0.38%)
⬇️


tests/functional/api/test_objectstorage.py
96.28% <100%> (ø)
⬆️


tests/functional/container/test_container.py
98.45% <100%> (ø)
⬆️


sqliterepo/replication_dispatcher.c
64.21% <100%> (-0.22%)
⬇️


oio/blob/indexer.py
82.15% <0%> (-3.57%)
⬇️


oio/container/client.py
80.99% <0%> (-3.27%)
⬇️


rawx/chunkrepo.go
48.72% <0%> (-2.56%)
⬇️


oio/directory/indexer.py
70.84% <0%> (-2.5%)
⬇️


proxy/reply.c
88.05% <0%> (-2.17%)
⬇️


oio/event/beanstalk.py
77.21% <0%> (-2.07%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e63cd08...577277f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1593,2018-11-06T22:00:29Z,2018-11-07T16:38:47Z,2019-03-04T14:46:19Z,CLOSED,False,6,0,2,https://github.com/murlock,Fix concurrency on object list with flatns,2,[],https://github.com/open-io/oio-sds/pull/1593,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1593,"SUMMARY
Fixes issues with concurrency not used while listing objects with flatns enabled
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
SDS VERSION
4.2.3
ADDITIONAL INFORMATION
While investigating issue with openio -v object list --auto --debug, all HTTP requests were serialized (GET,  reponse, ...)
Once issue fixed, HTTP requests are now interlaced.","SUMMARY
Fixes issues with concurrency not used while listing objects with flatns enabled
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
SDS VERSION
4.2.3
ADDITIONAL INFORMATION
While investigating issue with openio -v object list --auto --debug, all HTTP requests were serialized (GET,  reponse, ...)
Once issue fixed, HTTP requests are now interlaced.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1593,2018-11-06T22:00:29Z,2018-11-07T16:38:47Z,2019-03-04T14:46:19Z,CLOSED,False,6,0,2,https://github.com/murlock,Fix concurrency on object list with flatns,2,[],https://github.com/open-io/oio-sds/pull/1593,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/1593#issuecomment-436481780,"SUMMARY
Fixes issues with concurrency not used while listing objects with flatns enabled
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
SDS VERSION
4.2.3
ADDITIONAL INFORMATION
While investigating issue with openio -v object list --auto --debug, all HTTP requests were serialized (GET,  reponse, ...)
Once issue fixed, HTTP requests are now interlaced.",Monkey patching should be done globally for the CLI no?,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1593,2018-11-06T22:00:29Z,2018-11-07T16:38:47Z,2019-03-04T14:46:19Z,CLOSED,False,6,0,2,https://github.com/murlock,Fix concurrency on object list with flatns,2,[],https://github.com/open-io/oio-sds/pull/1593,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/1593#issuecomment-436689685,"SUMMARY
Fixes issues with concurrency not used while listing objects with flatns enabled
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
SDS VERSION
4.2.3
ADDITIONAL INFORMATION
While investigating issue with openio -v object list --auto --debug, all HTTP requests were serialized (GET,  reponse, ...)
Once issue fixed, HTTP requests are now interlaced.",Superseded by #1594,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1594,2018-11-07T09:04:40Z,2018-11-07T15:02:04Z,2018-11-12T08:39:29Z,MERGED,True,99,55,32,https://github.com/AymericDu,Fix Python API concurrency,3,"['bug :scream:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1594,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1594,"SUMMARY
Apply monkey_patch every time we use eventlet.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.4.dev11

ADDITIONAL INFORMATION
See #1593
Before:
$ time openio object list --auto -f value --full | wc -l
10001

real	0m49,446s
user	0m8,302s
sys	0m0,900s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m53,206s
user	0m8,492s
sys	0m0,938s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m53,347s
user	0m8,511s
sys	0m1,064s

After:
$ time openio object list --auto -f value --full | wc -l
10001

real	0m13,778s
user	0m8,987s
sys	0m0,613s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m15,618s
user	0m9,876s
sys	0m0,766s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m15,246s
user	0m10,517s
sys	0m1,002s","SUMMARY
Apply monkey_patch every time we use eventlet.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.4.dev11

ADDITIONAL INFORMATION
See #1593
Before:
$ time openio object list --auto -f value --full | wc -l
10001

real	0m49,446s
user	0m8,302s
sys	0m0,900s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m53,206s
user	0m8,492s
sys	0m0,938s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m53,347s
user	0m8,511s
sys	0m1,064s

After:
$ time openio object list --auto -f value --full | wc -l
10001

real	0m13,778s
user	0m8,987s
sys	0m0,613s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m15,618s
user	0m9,876s
sys	0m0,766s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m15,246s
user	0m10,517s
sys	0m1,002s",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1594,2018-11-07T09:04:40Z,2018-11-07T15:02:04Z,2018-11-12T08:39:29Z,MERGED,True,99,55,32,https://github.com/AymericDu,Fix Python API concurrency,3,"['bug :scream:', 'priority:2 :rage4:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1594,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1594#issuecomment-436574342,"SUMMARY
Apply monkey_patch every time we use eventlet.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.4.dev11

ADDITIONAL INFORMATION
See #1593
Before:
$ time openio object list --auto -f value --full | wc -l
10001

real	0m49,446s
user	0m8,302s
sys	0m0,900s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m53,206s
user	0m8,492s
sys	0m0,938s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m53,347s
user	0m8,511s
sys	0m1,064s

After:
$ time openio object list --auto -f value --full | wc -l
10001

real	0m13,778s
user	0m8,987s
sys	0m0,613s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m15,618s
user	0m9,876s
sys	0m0,766s
$ time openio object list --auto -f value --full | wc -l
10001

real	0m15,246s
user	0m10,517s
sys	0m1,002s","Codecov Report

Merging #1594 into 4.2.x will increase coverage by 0.05%.
The diff coverage is 96.88%.


@@            Coverage Diff             @@
##            4.2.x    #1594      +/-   ##
==========================================
+ Coverage   79.78%   79.82%   +0.05%     
==========================================
  Files         340      340              
  Lines       62417    62417              
  Branches     6703     6703              
==========================================
+ Hits        49791    49816      +25     
+ Misses      12619    12582      -37     
- Partials        7       19      +12



Impacted Files
Coverage Δ





oio/rebuilder/rebuilder.py
33.74% <100%> (ø)
⬆️


tests/unit/api/test_replication.py
94.68% <100%> (ø)
⬆️


oio/blob/auditor.py
58.96% <100%> (+0.58%)
⬆️


oio/event/beanstalk.py
60.73% <100%> (+0.73%)
⬆️


tests/unit/__init__.py
96.91% <100%> (ø)
⬆️


oio/api/backblaze.py
14.58% <100%> (ø)
⬆️


oio/common/http_urllib3.py
74.2% <100%> (ø)
⬆️


oio/api/io.py
84.64% <100%> (-1.07%)
⬇️


oio/common/green.py
95.56% <100%> (+0.56%)
⬆️


oio/crawler/integrity.py
74.17% <100%> (+3.26%)
⬆️


... and 99 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a01fea6...24c23d4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1595,2018-11-09T10:04:23Z,2018-11-09T17:43:42Z,2018-11-12T08:39:19Z,MERGED,True,15,11,3,https://github.com/AymericDu,Don't link a deleted alias to a content,2,[],https://github.com/open-io/oio-sds/pull/1595,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1595,"SUMMARY
Don't link a deleted alias to a content.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.4.dev13

ADDITIONAL INFORMATION
If the deleted alias is linked to a content, when we delete the object permanently the chunks are not deleted. You must also delete the deleted alias.","SUMMARY
Don't link a deleted alias to a content.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.4.dev13

ADDITIONAL INFORMATION
If the deleted alias is linked to a content, when we delete the object permanently the chunks are not deleted. You must also delete the deleted alias.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1595,2018-11-09T10:04:23Z,2018-11-09T17:43:42Z,2018-11-12T08:39:19Z,MERGED,True,15,11,3,https://github.com/AymericDu,Don't link a deleted alias to a content,2,[],https://github.com/open-io/oio-sds/pull/1595,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1595#issuecomment-437324805,"SUMMARY
Don't link a deleted alias to a content.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.4.dev13

ADDITIONAL INFORMATION
If the deleted alias is linked to a content, when we delete the object permanently the chunks are not deleted. You must also delete the deleted alias.","Codecov Report

Merging #1595 into 4.2.x will decrease coverage by 0.01%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1595      +/-   ##
==========================================
- Coverage   79.83%   79.83%   -<.01%     
==========================================
  Files         340      340              
  Lines       62417    62421       +4     
  Branches     6703     6703              
==========================================
+ Hits        49827    49828       +1     
- Misses      12569    12573       +4     
+ Partials       21       20       -1



Impacted Files
Coverage Δ





tests/unit/test_meta2_backend.c
100% <100%> (ø)
⬆️


meta2v2/meta2_utils.c
82.49% <100%> (+0.05%)
⬆️


meta2v2/meta2_filters_action_content.c
89.98% <0%> (-1.05%)
⬇️


meta2v2/meta2_filters_extract.c
89.48% <0%> (-1.05%)
⬇️


meta2v2/meta2_filter_context.c
87.88% <0%> (-1.01%)
⬇️


server/slab.c
82.92% <0%> (-0.63%)
⬇️


sqliterepo/replication.c
87.11% <0%> (-0.57%)
⬇️


oio/api/io.py
84.1% <0%> (-0.53%)
⬇️


metautils/lib/comm_converter.c
74.16% <0%> (-0.52%)
⬇️


rawx-lib/src/attr_handler.c
69% <0%> (-0.5%)
⬇️


... and 13 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7e0b9e9...3d81d12. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1596,2018-11-09T10:05:44Z,2018-11-09T17:51:15Z,2018-11-09T17:51:18Z,MERGED,True,9,1,1,https://github.com/fvennetier,proxy: handle deadline during long listing requests,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1596,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1596,"SUMMARY
Instead of propagating the deadline error, tell the caller the listing
has been truncated, and let him continue on the next page of results.
Jira: OS-194
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy","SUMMARY
Instead of propagating the deadline error, tell the caller the listing
has been truncated, and let him continue on the next page of results.
Jira: OS-194
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1596,2018-11-09T10:05:44Z,2018-11-09T17:51:15Z,2018-11-09T17:51:18Z,MERGED,True,9,1,1,https://github.com/fvennetier,proxy: handle deadline during long listing requests,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1596,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1596#issuecomment-437371803,"SUMMARY
Instead of propagating the deadline error, tell the caller the listing
has been truncated, and let him continue on the next page of results.
Jira: OS-194
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy","Codecov Report

Merging #1596 into 4.3.x will increase coverage by 0.14%.
The diff coverage is 40%.


@@            Coverage Diff             @@
##            4.3.x    #1596      +/-   ##
==========================================
+ Coverage   80.68%   80.81%   +0.14%     
==========================================
  Files         342      332      -10     
  Lines       62812    62681     -131     
  Branches     6379     6380       +1     
==========================================
- Hits        50674    50652      -22     
+ Misses      12020    11920     -100     
+ Partials      118      109       -9



Impacted Files
Coverage Δ





proxy/m2_actions.c
89.01% <40%> (-0.18%)
⬇️


oio/cli/common/shell.py
68.89% <0%> (-8.88%)
⬇️


resolver/hc_resolver.c
92.45% <0%> (-1.51%)
⬇️


oio/blob/client.py
91.55% <0%> (-1.4%)
⬇️


meta2v2/meta2_filters_extract.c
89.48% <0%> (-1.05%)
⬇️


oio/cli/object/object.py
23.63% <0%> (-0.88%)
⬇️


sqlx/sqlx_service.c
83.54% <0%> (-0.39%)
⬇️


sqliterepo/repository.c
77.51% <0%> (-0.33%)
⬇️


proxy/metacd_http.c
90.77% <0%> (-0.3%)
⬇️


sqliterepo/replication.c
87.11% <0%> (-0.28%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c87400d...79b9fb4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1597,2018-11-12T11:35:05Z,2018-11-13T10:24:44Z,2018-11-15T15:07:32Z,MERGED,True,41,2,2,https://github.com/AymericDu,Fix the purge of objects with a delete marker,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1597,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1597,"SUMMARY
Fix the purge of objects with a delete marker (the last version)
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.4.dev14","SUMMARY
Fix the purge of objects with a delete marker (the last version)
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.4.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1597,2018-11-12T11:35:05Z,2018-11-13T10:24:44Z,2018-11-15T15:07:32Z,MERGED,True,41,2,2,https://github.com/AymericDu,Fix the purge of objects with a delete marker,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1597,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1597#issuecomment-437897950,"SUMMARY
Fix the purge of objects with a delete marker (the last version)
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.4.dev14","Codecov Report

Merging #1597 into 4.2.x will increase coverage by 0.5%.
The diff coverage is 95.84%.


@@            Coverage Diff            @@
##            4.2.x    #1597     +/-   ##
=========================================
+ Coverage   79.35%   79.85%   +0.5%     
=========================================
  Files         339      340      +1     
  Lines       62231    62440    +209     
  Branches     6668     6704     +36     
=========================================
+ Hits        49378    49856    +478     
+ Misses      12852    12557    -295     
- Partials        1       27     +26



Impacted Files
Coverage Δ





meta2v2/meta2_utils.c
82.84% <100%> (+0.36%)
⬆️


...ests/functional/content/test_content_versioning.py
99.3% <95.24%> (-0.7%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/account/client.py
80.46% <0%> (-4.59%)
⬇️


meta1v2/meta1_server.c
72.9% <0%> (-1.86%)
⬇️


proxy/cache_actions.c
78.23% <0%> (-1.61%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-1.02%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


core/http_put.c
91.48% <0%> (-0.5%)
⬇️


rawx-lib/src/attr_handler.c
69.5% <0%> (-0.5%)
⬇️


... and 56 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e82193a...a409091. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1598,2018-11-12T13:04:08Z,2018-11-15T08:34:26Z,2018-11-15T14:47:58Z,MERGED,True,115,11,5,https://github.com/aneutron,Resolve CID on reference show and return account and container names,3,[],https://github.com/open-io/oio-sds/pull/1598,https://github.com/aneutron,1,https://github.com/open-io/oio-sds/pull/1598,"SUMMARY

The endpoint /v3.0/reference/show now returns the account and container names associated with the resolved reference, which would enable resolving the account / container associated with a certain CID.
The changes made are as follows:

oio-meta1-server: The SRV_LIST reply now includes two additional prefixed strings that contain the container and account name.
meta1_remote: The meta1v2_remote_list_reference_services functions intercepts the reply, extracts the account and container and fills the oio_url_s object accordingly, while returning the usual service list.
oio-proxy: Returns two new fields account and name representing respectively the account name and the container name.

Before:
{
    ""cid"": ""D7D9B4A795FBFE86481F432B50BB04E4F9F826D0296A35E30062115651CF5D41"",
    ""dir"": [
       ...
    ],
    ""srv"": [
       ...
    ]
}

After:
{
    ""cid"": ""D7D9B4A795FBFE86481F432B50BB04E4F9F826D0296A35E30062115651CF5D41"",
    ""account"": ""testacc"",
     ""dir"": [
       ...
    ],
    ""name"": ""testcontainer"",
    ""srv"": [
        ...
    ]
}

ISSUE TYPE


Feature Pull Request

COMPONENT NAME
oio-meta1-server, meta1remote, oio-proxy
SDS VERSION
openio 4.3.0.0b2.dev4

ADDITIONAL INFORMATION


None","SUMMARY

The endpoint /v3.0/reference/show now returns the account and container names associated with the resolved reference, which would enable resolving the account / container associated with a certain CID.
The changes made are as follows:

oio-meta1-server: The SRV_LIST reply now includes two additional prefixed strings that contain the container and account name.
meta1_remote: The meta1v2_remote_list_reference_services functions intercepts the reply, extracts the account and container and fills the oio_url_s object accordingly, while returning the usual service list.
oio-proxy: Returns two new fields account and name representing respectively the account name and the container name.

Before:
{
    ""cid"": ""D7D9B4A795FBFE86481F432B50BB04E4F9F826D0296A35E30062115651CF5D41"",
    ""dir"": [
       ...
    ],
    ""srv"": [
       ...
    ]
}

After:
{
    ""cid"": ""D7D9B4A795FBFE86481F432B50BB04E4F9F826D0296A35E30062115651CF5D41"",
    ""account"": ""testacc"",
     ""dir"": [
       ...
    ],
    ""name"": ""testcontainer"",
    ""srv"": [
        ...
    ]
}

ISSUE TYPE


Feature Pull Request

COMPONENT NAME
oio-meta1-server, meta1remote, oio-proxy
SDS VERSION
openio 4.3.0.0b2.dev4

ADDITIONAL INFORMATION


None",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1598,2018-11-12T13:04:08Z,2018-11-15T08:34:26Z,2018-11-15T14:47:58Z,MERGED,True,115,11,5,https://github.com/aneutron,Resolve CID on reference show and return account and container names,3,[],https://github.com/open-io/oio-sds/pull/1598,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1598#issuecomment-438705300,"SUMMARY

The endpoint /v3.0/reference/show now returns the account and container names associated with the resolved reference, which would enable resolving the account / container associated with a certain CID.
The changes made are as follows:

oio-meta1-server: The SRV_LIST reply now includes two additional prefixed strings that contain the container and account name.
meta1_remote: The meta1v2_remote_list_reference_services functions intercepts the reply, extracts the account and container and fills the oio_url_s object accordingly, while returning the usual service list.
oio-proxy: Returns two new fields account and name representing respectively the account name and the container name.

Before:
{
    ""cid"": ""D7D9B4A795FBFE86481F432B50BB04E4F9F826D0296A35E30062115651CF5D41"",
    ""dir"": [
       ...
    ],
    ""srv"": [
       ...
    ]
}

After:
{
    ""cid"": ""D7D9B4A795FBFE86481F432B50BB04E4F9F826D0296A35E30062115651CF5D41"",
    ""account"": ""testacc"",
     ""dir"": [
       ...
    ],
    ""name"": ""testcontainer"",
    ""srv"": [
        ...
    ]
}

ISSUE TYPE


Feature Pull Request

COMPONENT NAME
oio-meta1-server, meta1remote, oio-proxy
SDS VERSION
openio 4.3.0.0b2.dev4

ADDITIONAL INFORMATION


None","Codecov Report

Merging #1598 into master will decrease coverage by 0.04%.
The diff coverage is 88.58%.


@@            Coverage Diff             @@
##           master    #1598      +/-   ##
==========================================
- Coverage   80.67%   80.64%   -0.03%     
==========================================
  Files         335      345      +10     
  Lines       63300    63496     +196     
  Branches     6381     6390       +9     
==========================================
+ Hits        51063    51197     +134     
- Misses      12123    12178      +55     
- Partials      114      121       +7



Impacted Files
Coverage Δ





proxy/dir_actions.c
77.78% <100%> (+0.28%)
⬆️


tests/unit/test_meta1_backend.c
99.45% <100%> (ø)
⬆️


tests/functional/api/test_directory.py
92.25% <100%> (+0.5%)
⬆️


meta1v2/meta1_backend_services.c
55.61% <80.77%> (+0.7%)
⬆️


meta1v2/meta1_remote.c
77.86% <88%> (+3.64%)
⬆️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


proxy/metacd_http.c
88.93% <0%> (-2.15%)
⬇️


proxy/meta2v2_remote.c
82.48% <0%> (-1.7%)
⬇️


rawx/filerepo.go
56.44% <0%> (-1.48%)
⬇️


server/slab.c
83.55% <0%> (-1.26%)
⬇️


... and 42 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5c1feed...2a58f0e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1599,2018-11-13T13:27:02Z,2018-11-13T16:48:56Z,2018-11-15T15:07:29Z,MERGED,True,10,8,2,https://github.com/AymericDu,lifecycle: Check the current object with the versions,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1599,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1599,"SUMMARY
Check the current object with the versions
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

lifecycle

SDS VERSION
openio 4.3.1.dev20","SUMMARY
Check the current object with the versions
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

lifecycle

SDS VERSION
openio 4.3.1.dev20",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1599,2018-11-13T13:27:02Z,2018-11-13T16:48:56Z,2018-11-15T15:07:29Z,MERGED,True,10,8,2,https://github.com/AymericDu,lifecycle: Check the current object with the versions,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1599,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1599#issuecomment-438298177,"SUMMARY
Check the current object with the versions
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

lifecycle

SDS VERSION
openio 4.3.1.dev20","Codecov Report

Merging #1599 into 4.3.x will increase coverage by 11.25%.
The diff coverage is 87.5%.


@@             Coverage Diff             @@
##            4.3.x    #1599       +/-   ##
===========================================
+ Coverage   69.41%   80.65%   +11.25%     
===========================================
  Files         269      342       +73     
  Lines       50894    62820    +11926     
  Branches     6197     6380      +183     
===========================================
+ Hits        35321    50659    +15338     
+ Misses      15428    11993     -3435     
- Partials      145      168       +23



Impacted Files
Coverage Δ





tests/functional/container/test_lifecycle.py
99.21% <100%> (ø)



oio/container/lifecycle.py
94.32% <83.34%> (+16.09%)
⬆️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


sqliterepo/version.c
83.71% <0%> (-0.74%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.42%)
⬇️


metautils/lib/gridd_client_ext.c
79.78% <0%> (ø)
⬆️


proxy/metacd_http.c
91.08% <0%> (ø)
⬆️


oio/crawler/storage_tierer.py
59.46% <0%> (ø)



tests/functional/blob/__init__.py
100% <0%> (ø)



... and 189 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3d59405...c5cd99b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1600,2018-11-14T09:31:47Z,2018-11-16T17:09:19Z,2018-11-16T17:12:53Z,MERGED,True,3,1,1,https://github.com/fvennetier,Improve spare chunk requests,1,[],https://github.com/open-io/oio-sds/pull/1600,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1600,"SUMMARY
Improve meta2 spare chunk requests (used by oio-blob-rebuilder).

Improve error messages.
...

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
oio-blob-rebuilder

SDS VERSION
openio 4.3.1.dev43","SUMMARY
Improve meta2 spare chunk requests (used by oio-blob-rebuilder).

Improve error messages.
...

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
oio-blob-rebuilder

SDS VERSION
openio 4.3.1.dev43",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1600,2018-11-14T09:31:47Z,2018-11-16T17:09:19Z,2018-11-16T17:12:53Z,MERGED,True,3,1,1,https://github.com/fvennetier,Improve spare chunk requests,1,[],https://github.com/open-io/oio-sds/pull/1600,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1600#issuecomment-439437341,"SUMMARY
Improve meta2 spare chunk requests (used by oio-blob-rebuilder).

Improve error messages.
...

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
oio-blob-rebuilder

SDS VERSION
openio 4.3.1.dev43","Codecov Report

Merging #1600 into 4.3.x will decrease coverage by 0.02%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.3.x    #1600      +/-   ##
==========================================
- Coverage   80.76%   80.75%   -0.01%     
==========================================
  Files         342      342              
  Lines       62843    62843              
  Branches     6381     6381              
==========================================
- Hits        50750    50743       -7     
- Misses      11974    11983       +9     
+ Partials      119      117       -2



Impacted Files
Coverage Δ





meta2v2/meta2_utils_lb.c
85.23% <ø> (ø)
⬆️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


rawx/chunkrepo.go
48.72% <0%> (-2.56%)
⬇️


oio/blob/client.py
91.55% <0%> (-1.4%)
⬇️


rawx/handler_chunk.go
76.35% <0%> (-1.24%)
⬇️


oio/crawler/integrity.py
71.39% <0%> (-1.11%)
⬇️


proxy/metacd_http.c
89.7% <0%> (-1.07%)
⬇️


meta2v2/meta2_filters_extract.c
89.48% <0%> (-1.05%)
⬇️


meta2v2/meta2_bean_utils.c
62% <0%> (-1%)
⬇️


metautils/lib/gridd_client_ext.c
79.78% <0%> (-0.73%)
⬇️


... and 16 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e9edb13...edfccfb. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1601,2018-11-14T15:28:42Z,2018-11-14T20:33:05Z,2018-11-15T15:07:26Z,MERGED,True,34,31,1,https://github.com/AymericDu,oio-blob-rebuilder: Minor fixes,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1601,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1601,"SUMMARY

Log during distributed rebuilding.
Accept the 'beanstalk://' prefix to the beanstalk URL.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.3.1.dev24","SUMMARY

Log during distributed rebuilding.
Accept the 'beanstalk://' prefix to the beanstalk URL.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.3.1.dev24",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1602,2018-11-15T15:36:15Z,2018-11-16T09:44:54Z,2018-11-16T10:50:45Z,MERGED,True,2,2,1,https://github.com/aneutron,Cast boolean value to string representation before passing it on to redis,1,[],https://github.com/open-io/oio-sds/pull/1602,https://github.com/aneutron,1,https://github.com/open-io/oio-sds/pull/1602,"SUMMARY
Version 3.0.0 or the redis python sdk breaks code that depends on it.
ISSUE TYPE
Version 3.0.0 introduces breaking changes, namely anything passed to a command must be an integer, a bytes or a string.
Previously, the API coerced True and False values into 'True' and 'False', and None into 'None'.
More changes may be required : breaking changes list
COMPONENT NAME
sdk, more specifically, oio/account/backend.py:AccountBackend
SDS VERSION
openio 4.3.1.dev47

ADDITIONAL INFORMATION
None","SUMMARY
Version 3.0.0 or the redis python sdk breaks code that depends on it.
ISSUE TYPE
Version 3.0.0 introduces breaking changes, namely anything passed to a command must be an integer, a bytes or a string.
Previously, the API coerced True and False values into 'True' and 'False', and None into 'None'.
More changes may be required : breaking changes list
COMPONENT NAME
sdk, more specifically, oio/account/backend.py:AccountBackend
SDS VERSION
openio 4.3.1.dev47

ADDITIONAL INFORMATION
None",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1602,2018-11-15T15:36:15Z,2018-11-16T09:44:54Z,2018-11-16T10:50:45Z,MERGED,True,2,2,1,https://github.com/aneutron,Cast boolean value to string representation before passing it on to redis,1,[],https://github.com/open-io/oio-sds/pull/1602,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1602#issuecomment-439103911,"SUMMARY
Version 3.0.0 or the redis python sdk breaks code that depends on it.
ISSUE TYPE
Version 3.0.0 introduces breaking changes, namely anything passed to a command must be an integer, a bytes or a string.
Previously, the API coerced True and False values into 'True' and 'False', and None into 'None'.
More changes may be required : breaking changes list
COMPONENT NAME
sdk, more specifically, oio/account/backend.py:AccountBackend
SDS VERSION
openio 4.3.1.dev47

ADDITIONAL INFORMATION
None","Codecov Report

Merging #1602 into 4.2.x will decrease coverage by 0.02%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1602      +/-   ##
==========================================
- Coverage   79.86%   79.84%   -0.01%     
==========================================
  Files         340      340              
  Lines       62440    62440              
  Branches     6704     6704              
==========================================
- Hits        49861    49849      -12     
+ Misses      12568    12562       -6     
- Partials       11       29      +18



Impacted Files
Coverage Δ





oio/account/backend.py
79.64% <ø> (ø)
⬆️


oio/container/backup.py
66.88% <0%> (-5.82%)
⬇️


proxy/sqlx_actions.c
76.39% <0%> (-4.16%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


oio/crawler/storage_tierer.py
59.46% <0%> (-2.7%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


proxy/meta2v2_remote.c
82.48% <0%> (-1.7%)
⬇️


oio/blob/client.py
91.55% <0%> (-1.4%)
⬇️


server/slab.c
83.55% <0%> (-1.26%)
⬇️


oio/account/client.py
85.06% <0%> (-1.14%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 21a312c...9648bd9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1603,2018-11-16T10:59:52Z,2018-11-21T08:59:06Z,2018-11-21T15:36:06Z,MERGED,True,597,30,11,https://github.com/aneutron,Add a utility to index already existing meta2 databases on disk,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1603,https://github.com/aneutron,1,https://github.com/open-io/oio-sds/pull/1603,"SUMMARY

Add a new wrapper to list all meta2 records indexed for a volume.
Add new meta2 indexing tool, sample conf and tests.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python API, oio-meta2-indexer
SDS VERSION
openio 4.3.1.dev47

ADDITIONAL INFORMATION

A single process for multiple volumes
A Meta2IndexingWorker is spawned for each volume in a green thread pool.
Continuous progress logs are emitted in a similar fashion to the oio-blob-indexer","SUMMARY

Add a new wrapper to list all meta2 records indexed for a volume.
Add new meta2 indexing tool, sample conf and tests.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python API, oio-meta2-indexer
SDS VERSION
openio 4.3.1.dev47

ADDITIONAL INFORMATION

A single process for multiple volumes
A Meta2IndexingWorker is spawned for each volume in a green thread pool.
Continuous progress logs are emitted in a similar fashion to the oio-blob-indexer",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1603,2018-11-16T10:59:52Z,2018-11-21T08:59:06Z,2018-11-21T15:36:06Z,MERGED,True,597,30,11,https://github.com/aneutron,Add a utility to index already existing meta2 databases on disk,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1603,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1603#issuecomment-439389172,"SUMMARY

Add a new wrapper to list all meta2 records indexed for a volume.
Add new meta2 indexing tool, sample conf and tests.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python API, oio-meta2-indexer
SDS VERSION
openio 4.3.1.dev47

ADDITIONAL INFORMATION

A single process for multiple volumes
A Meta2IndexingWorker is spawned for each volume in a green thread pool.
Continuous progress logs are emitted in a similar fashion to the oio-blob-indexer","Codecov Report

Merging #1603 into master will decrease coverage by 0.08%.
The diff coverage is 82.66%.


@@            Coverage Diff             @@
##           master    #1603      +/-   ##
==========================================
- Coverage   80.73%   80.65%   -0.07%     
==========================================
  Files         345      347       +2     
  Lines       63497    63675     +178     
  Branches     6390     6390              
==========================================
+ Hits        51255    51353      +98     
- Misses      12116    12205      +89     
+ Partials      126      117       -9



Impacted Files
Coverage Δ





tests/functional/content/test_service_id.py
79.29% <ø> (-10.82%)
⬇️


tests/functional/directory/test_indexer.py
100% <100%> (ø)



oio/common/constants.py
100% <100%> (ø)
⬆️


tests/functional/event/test_events_emission.py
94.29% <100%> (-4.39%)
⬇️


oio/rdir/client.py
76.05% <100%> (+2.2%)
⬆️


oio/directory/indexer.py
73.34% <73.34%> (ø)



oio/blob/utils.py
90.57% <75%> (+0.37%)
⬆️


tests/utils.py
94.28% <91.67%> (+2.08%)
⬆️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ca116e2...511b1ce. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1603,2018-11-16T10:59:52Z,2018-11-21T08:59:06Z,2018-11-21T15:36:06Z,MERGED,True,597,30,11,https://github.com/aneutron,Add a utility to index already existing meta2 databases on disk,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1603,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/1603#issuecomment-439461696,"SUMMARY

Add a new wrapper to list all meta2 records indexed for a volume.
Add new meta2 indexing tool, sample conf and tests.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python API, oio-meta2-indexer
SDS VERSION
openio 4.3.1.dev47

ADDITIONAL INFORMATION

A single process for multiple volumes
A Meta2IndexingWorker is spawned for each volume in a green thread pool.
Continuous progress logs are emitted in a similar fashion to the oio-blob-indexer","I forgot to mention that oio-meta2-indexer is missing from setup.cfg.
Also, as oio-blob-mover and oio-blob-auditor, it may be nice to support command-line parameters, at least one to generate a basic configuration file (-h does not help).",True,{'THUMBS_UP': ['https://github.com/aneutron']}
open-io/oio-sds,https://github.com/open-io/oio-sds,1603,2018-11-16T10:59:52Z,2018-11-21T08:59:06Z,2018-11-21T15:36:06Z,MERGED,True,597,30,11,https://github.com/aneutron,Add a utility to index already existing meta2 databases on disk,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1603,https://github.com/fvennetier,4,https://github.com/open-io/oio-sds/pull/1603#issuecomment-439968805,"SUMMARY

Add a new wrapper to list all meta2 records indexed for a volume.
Add new meta2 indexing tool, sample conf and tests.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python API, oio-meta2-indexer
SDS VERSION
openio 4.3.1.dev47

ADDITIONAL INFORMATION

A single process for multiple volumes
A Meta2IndexingWorker is spawned for each volume in a green thread pool.
Continuous progress logs are emitted in a similar fashion to the oio-blob-indexer","Also, oio-meta2-indexer is still missing from setup.cfg.",True,{'THUMBS_UP': ['https://github.com/aneutron']}
open-io/oio-sds,https://github.com/open-io/oio-sds,1604,2018-11-19T15:18:31Z,2018-11-19T16:34:17Z,2018-11-19T16:34:20Z,MERGED,True,5,5,1,https://github.com/fvennetier,Python API: fix bootstrap of meta2 rdir databases,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1604,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1604,"SUMMARY
When bootstrapping rdir databases for meta2 services, we used to actually create a rawx-oriented rdir database (by using the wrong URL). This is now fixed.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.3.1.dev27","SUMMARY
When bootstrapping rdir databases for meta2 services, we used to actually create a rawx-oriented rdir database (by using the wrong URL). This is now fixed.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.3.1.dev27",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1604,2018-11-19T15:18:31Z,2018-11-19T16:34:17Z,2018-11-19T16:34:20Z,MERGED,True,5,5,1,https://github.com/fvennetier,Python API: fix bootstrap of meta2 rdir databases,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1604,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1604#issuecomment-439947015,"SUMMARY
When bootstrapping rdir databases for meta2 services, we used to actually create a rawx-oriented rdir database (by using the wrong URL). This is now fixed.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.3.1.dev27","Codecov Report

Merging #1604 into 4.3.x will increase coverage by 0.05%.
The diff coverage is 75%.


@@            Coverage Diff             @@
##            4.3.x    #1604      +/-   ##
==========================================
+ Coverage   80.76%   80.81%   +0.05%     
==========================================
  Files         342      342              
  Lines       62843    62843              
  Branches     6381     6381              
==========================================
+ Hits        50750    50778      +28     
+ Misses      11974    11941      -33     
- Partials      119      124       +5



Impacted Files
Coverage Δ





oio/rdir/client.py
66.54% <75%> (ø)
⬆️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/blob/client.py
91.55% <0%> (-1.4%)
⬇️


oio/crawler/integrity.py
71.39% <0%> (-1.11%)
⬇️


meta2v2/meta2_filters_action_container.c
58.87% <0%> (-1.06%)
⬇️


meta2v2/meta2_bean_utils.c
62% <0%> (-1%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.5% <0%> (-0.91%)
⬇️


server/slab.c
82.92% <0%> (-0.63%)
⬇️


proxy/metacd_http.c
90.31% <0%> (-0.46%)
⬇️


core/cs.c
81.7% <0%> (-0.44%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e9edb13...e80ab8b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1605,2018-11-19T17:01:48Z,2018-11-20T16:14:49Z,2019-03-04T14:46:16Z,MERGED,True,44,13,4,https://github.com/murlock,CLI: allow to override autocontainer parameters,1,[],https://github.com/open-io/oio-sds/pull/1605,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1605,"SUMMARY
A namespace can now be used with several flatns configurations on separate account.
This commit allow CLI to interact with account that doesn't use default configuration.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
4.2.4dev15

ADDITIONAL INFORMATION
$ openio object create --auto --flat-bitlength 8 /etc/hosts
+-------+------+----------------------------------+--------+
| Name  | Size | Hash                             | Status |
+-------+------+----------------------------------+--------+
| hosts |  719 | 8408B8BFE97F012FB75067551367AACB | Ok     |
+-------+------+----------------------------------+--------+
$ openio object list --auto --flat-bitlength 8
+------------+------+----------------------------------+------------------+
| Name       | Size | Hash                             |          Version |
+------------+------+----------------------------------+------------------+
| hosts      |  719 | 8408B8BFE97F012FB75067551367AACB | 1542646758582101 |
+------------+------+----------------------------------+------------------+
$ openio container list
+------+-------+-------+
| Name | Bytes | Count |
+------+-------+-------+
| 4F   |   719 |     1 |
+------+-------+-------+","SUMMARY
A namespace can now be used with several flatns configurations on separate account.
This commit allow CLI to interact with account that doesn't use default configuration.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
4.2.4dev15

ADDITIONAL INFORMATION
$ openio object create --auto --flat-bitlength 8 /etc/hosts
+-------+------+----------------------------------+--------+
| Name  | Size | Hash                             | Status |
+-------+------+----------------------------------+--------+
| hosts |  719 | 8408B8BFE97F012FB75067551367AACB | Ok     |
+-------+------+----------------------------------+--------+
$ openio object list --auto --flat-bitlength 8
+------------+------+----------------------------------+------------------+
| Name       | Size | Hash                             |          Version |
+------------+------+----------------------------------+------------------+
| hosts      |  719 | 8408B8BFE97F012FB75067551367AACB | 1542646758582101 |
+------------+------+----------------------------------+------------------+
$ openio container list
+------+-------+-------+
| Name | Bytes | Count |
+------+-------+-------+
| 4F   |   719 |     1 |
+------+-------+-------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1605,2018-11-19T17:01:48Z,2018-11-20T16:14:49Z,2019-03-04T14:46:16Z,MERGED,True,44,13,4,https://github.com/murlock,CLI: allow to override autocontainer parameters,1,[],https://github.com/open-io/oio-sds/pull/1605,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1605#issuecomment-440277354,"SUMMARY
A namespace can now be used with several flatns configurations on separate account.
This commit allow CLI to interact with account that doesn't use default configuration.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
4.2.4dev15

ADDITIONAL INFORMATION
$ openio object create --auto --flat-bitlength 8 /etc/hosts
+-------+------+----------------------------------+--------+
| Name  | Size | Hash                             | Status |
+-------+------+----------------------------------+--------+
| hosts |  719 | 8408B8BFE97F012FB75067551367AACB | Ok     |
+-------+------+----------------------------------+--------+
$ openio object list --auto --flat-bitlength 8
+------------+------+----------------------------------+------------------+
| Name       | Size | Hash                             |          Version |
+------------+------+----------------------------------+------------------+
| hosts      |  719 | 8408B8BFE97F012FB75067551367AACB | 1542646758582101 |
+------------+------+----------------------------------+------------------+
$ openio container list
+------+-------+-------+
| Name | Bytes | Count |
+------+-------+-------+
| 4F   |   719 |     1 |
+------+-------+-------+","Codecov Report

Merging #1605 into 4.2.x will decrease coverage by 0.02%.
The diff coverage is 89.29%.


@@            Coverage Diff             @@
##            4.2.x    #1605      +/-   ##
==========================================
- Coverage   79.87%   79.85%   -0.01%     
==========================================
  Files         340      340              
  Lines       62440    62461      +21     
  Branches     6704     6704              
==========================================
+ Hits        49866    49875       +9     
- Misses      12554    12560       +6     
- Partials       20       26       +6



Impacted Files
Coverage Δ





tests/functional/cli/object/test_object.py
58.49% <100%> (+1.74%)
⬆️


tests/functional/cli/__init__.py
100% <100%> (ø)
⬆️


oio/cli/common/clientmanager.py
62.86% <50%> (+0.12%)
⬆️


oio/cli/object/object.py
25.41% <66.67%> (+0.29%)
⬆️


meta1v2/meta1_server.c
72.9% <0%> (-1.86%)
⬇️


proxy/cache_actions.c
78.23% <0%> (-1.61%)
⬇️


resolver/hc_resolver.c
92.75% <0%> (-1.51%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-1.02%)
⬇️


oio/crawler/integrity.py
73.89% <0%> (-0.83%)
⬇️


oio/api/io.py
84.1% <0%> (-0.8%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c812645...27558c6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1606,2018-11-19T19:42:47Z,2018-11-22T13:28:19Z,2018-11-26T12:46:10Z,MERGED,True,503,62,4,https://github.com/AymericDu,meta2: Fix listing with versioning,2,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1606,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1606,"SUMMARY
Fix listing with versioning
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.4.dev18","SUMMARY
Fix listing with versioning
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.4.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1607,2018-11-20T13:58:59Z,2018-12-05T10:53:33Z,2018-12-05T10:53:36Z,MERGED,True,321,15,4,https://github.com/fvennetier,"Implement tests for account, reference, container and object properties",4,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1607,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1607,"SUMMARY
To be able to answer questions about the size of properties one can set on the different items, implement the following tests:

 ensure we can store at least 1MiB bytes in a single account property.
 ensure we can store at least 1MiB bytes in a single reference property.
 ensure we can store at least 1MiB in a single container property.
 ensure we can store at least 1MiB in a single object property.
 ensure we can store at least 1000 account properties.
 ensure we can store at least 1000 reference properties.
 ensure we can store at least 1000 container properties.
 ensure we can store at least 1000 object properties.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.3.1.dev51","SUMMARY
To be able to answer questions about the size of properties one can set on the different items, implement the following tests:

 ensure we can store at least 1MiB bytes in a single account property.
 ensure we can store at least 1MiB bytes in a single reference property.
 ensure we can store at least 1MiB in a single container property.
 ensure we can store at least 1MiB in a single object property.
 ensure we can store at least 1000 account properties.
 ensure we can store at least 1000 reference properties.
 ensure we can store at least 1000 container properties.
 ensure we can store at least 1000 object properties.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.3.1.dev51",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1607,2018-11-20T13:58:59Z,2018-12-05T10:53:33Z,2018-12-05T10:53:36Z,MERGED,True,321,15,4,https://github.com/fvennetier,"Implement tests for account, reference, container and object properties",4,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1607,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1607#issuecomment-441303693,"SUMMARY
To be able to answer questions about the size of properties one can set on the different items, implement the following tests:

 ensure we can store at least 1MiB bytes in a single account property.
 ensure we can store at least 1MiB bytes in a single reference property.
 ensure we can store at least 1MiB in a single container property.
 ensure we can store at least 1MiB in a single object property.
 ensure we can store at least 1000 account properties.
 ensure we can store at least 1000 reference properties.
 ensure we can store at least 1000 container properties.
 ensure we can store at least 1000 object properties.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.3.1.dev51","Codecov Report

Merging #1607 into master will increase coverage by 0.01%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##           master    #1607      +/-   ##
==========================================
+ Coverage   80.77%   80.77%   +0.01%     
==========================================
  Files         348      349       +1     
  Lines       64061    64244     +183     
  Branches     6396     6396              
==========================================
+ Hits        51741    51889     +148     
- Misses      12203    12241      +38     
+ Partials      117      114       -3



Impacted Files
Coverage Δ





oio/api/object_storage.py
80.41% <100%> (+0.78%)
⬆️


oio/common/decorators.py
100% <100%> (ø)
⬆️


...ts/functional/api/test_objectstorage_properties.py
100% <100%> (ø)



oio/container/client.py
82.3% <100%> (+1.64%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/ecd/app.py
60.12% <0%> (-5.95%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


oio/blob/indexer.py
82.15% <0%> (-2.67%)
⬇️


oio/conscience/client.py
71.43% <0%> (-2.59%)
⬇️


proxy/metacd_http.c
89.39% <0%> (-1.69%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7191411...189c17b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1608,2018-11-20T17:43:37Z,2018-11-21T10:31:19Z,2018-11-21T10:31:22Z,MERGED,True,45,17,6,https://github.com/fvennetier,Better error messages,2,"['Logging :scroll:', 'language:C']",https://github.com/open-io/oio-sds/pull/1608,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1608,"SUMMARY
Improve some error messages, and display which configuration variable sets the threshold that
triggered the warning or error message.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

sqliterepo
server

SDS VERSION
openio 4.2.4.dev17","SUMMARY
Improve some error messages, and display which configuration variable sets the threshold that
triggered the warning or error message.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

sqliterepo
server

SDS VERSION
openio 4.2.4.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1608,2018-11-20T17:43:37Z,2018-11-21T10:31:19Z,2018-11-21T10:31:22Z,MERGED,True,45,17,6,https://github.com/fvennetier,Better error messages,2,"['Logging :scroll:', 'language:C']",https://github.com/open-io/oio-sds/pull/1608,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1608#issuecomment-440413386,"SUMMARY
Improve some error messages, and display which configuration variable sets the threshold that
triggered the warning or error message.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

sqliterepo
server

SDS VERSION
openio 4.2.4.dev17","Codecov Report

Merging #1608 into 4.2.x will increase coverage by 0.06%.
The diff coverage is 57.15%.


@@            Coverage Diff             @@
##            4.2.x    #1608      +/-   ##
==========================================
+ Coverage   79.87%   79.92%   +0.06%     
==========================================
  Files         340      340              
  Lines       62461    62461              
  Branches     6704     6704              
==========================================
+ Hits        49885    49918      +33     
+ Misses      12567    12533      -34     
- Partials        9       10       +1



Impacted Files
Coverage Δ





server/network_server.c
86.07% <0%> (ø)
⬆️


sqliterepo/repository.c
77.84% <100%> (+0.23%)
⬆️


sqliterepo/gridd_client_pool.c
83.13% <75%> (-0.84%)
⬇️


oio/crawler/storage_tierer.py
59.46% <0%> (-2.7%)
⬇️


meta2v2/meta2_filters_check.c
73.78% <0%> (-1.63%)
⬇️


oio/account/client.py
85.06% <0%> (-1.14%)
⬇️


sqlx/sqlx_service.c
84.07% <0%> (-0.66%)
⬇️


tests/unit/test_prefixmapping.py
99.35% <0%> (-0.65%)
⬇️


oio/api/io.py
84.1% <0%> (-0.53%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8d2e881...186bc21. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1609,2018-11-21T11:40:10Z,2018-11-26T14:11:26Z,2018-11-26T14:14:41Z,MERGED,True,76,7,4,https://github.com/aneutron,Remove index entry when moving a meta2 database with oio-meta2-mover,2,[],https://github.com/open-io/oio-sds/pull/1609,https://github.com/aneutron,1,https://github.com/open-io/oio-sds/pull/1609,"SUMMARY
When moving a meta2 database using the oio-meta2-mover, we have to remove the database from the previous meta2 peer's index.
ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME
oio-meta2-mover
SDS VERSION

openio 4.3.1.dev54

ADDITIONAL INFORMATION
Nil.","SUMMARY
When moving a meta2 database using the oio-meta2-mover, we have to remove the database from the previous meta2 peer's index.
ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME
oio-meta2-mover
SDS VERSION

openio 4.3.1.dev54

ADDITIONAL INFORMATION
Nil.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1609,2018-11-21T11:40:10Z,2018-11-26T14:11:26Z,2018-11-26T14:14:41Z,MERGED,True,76,7,4,https://github.com/aneutron,Remove index entry when moving a meta2 database with oio-meta2-mover,2,[],https://github.com/open-io/oio-sds/pull/1609,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1609#issuecomment-441066200,"SUMMARY
When moving a meta2 database using the oio-meta2-mover, we have to remove the database from the previous meta2 peer's index.
ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME
oio-meta2-mover
SDS VERSION

openio 4.3.1.dev54

ADDITIONAL INFORMATION
Nil.","Codecov Report

Merging #1609 into master will increase coverage by 2.73%.
The diff coverage is 52.39%.


@@            Coverage Diff            @@
##           master   #1609      +/-   ##
=========================================
+ Coverage   77.17%   79.9%   +2.73%     
=========================================
  Files         336     347      +11     
  Lines       63353   65222    +1869     
  Branches     6355    6891     +536     
=========================================
+ Hits        48889   52110    +3221     
+ Misses      14354   13000    -1354     
- Partials      110     112       +2



Impacted Files
Coverage Δ





oio/directory/meta1.py
88.51% <50%> (+30.86%)
⬆️


oio/directory/meta.py
81.58% <50%> (+3.81%)
⬆️


oio/rdir/client.py
74.46% <53.85%> (-0.83%)
⬇️


meta2v2/meta2_utils.c
73.1% <0%> (-11.2%)
⬇️


proxy/m2_actions.c
79.11% <0%> (-9.81%)
⬇️


tests/functional/rdir/test_indexer.py
90.91% <0%> (-7.95%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


meta2v2/meta2_filters_action_container.c
53.85% <0%> (-2.89%)
⬇️


tests/functional/content/test_service_id.py
79.29% <0%> (-1.77%)
⬇️


oio/crawler/integrity.py
71.67% <0%> (-1.38%)
⬇️


... and 87 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4cdd1b8...f5c557b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1610,2018-11-22T16:36:32Z,2018-11-26T14:11:42Z,2018-11-26T14:15:05Z,MERGED,True,78,27,2,https://github.com/aneutron,Add oio-meta2-indexer to the bootstrap process,1,[],https://github.com/open-io/oio-sds/pull/1610,https://github.com/aneutron,1,https://github.com/open-io/oio-sds/pull/1610,"SUMMARY
Add oio-meta2-indexer to the bootstrap process.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-bootstrap.py
SDS VERSION
openio 4.3.1.dev52

ADDITIONAL INFORMATION
Generate oio-meta2-indexer configuration and the corresponding gridinit service configuration for the current deployment.
Nil.","SUMMARY
Add oio-meta2-indexer to the bootstrap process.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-bootstrap.py
SDS VERSION
openio 4.3.1.dev52

ADDITIONAL INFORMATION
Generate oio-meta2-indexer configuration and the corresponding gridinit service configuration for the current deployment.
Nil.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1610,2018-11-22T16:36:32Z,2018-11-26T14:11:42Z,2018-11-26T14:15:05Z,MERGED,True,78,27,2,https://github.com/aneutron,Add oio-meta2-indexer to the bootstrap process,1,[],https://github.com/open-io/oio-sds/pull/1610,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1610#issuecomment-441298940,"SUMMARY
Add oio-meta2-indexer to the bootstrap process.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-bootstrap.py
SDS VERSION
openio 4.3.1.dev52

ADDITIONAL INFORMATION
Generate oio-meta2-indexer configuration and the corresponding gridinit service configuration for the current deployment.
Nil.","Codecov Report

Merging #1610 into master will decrease coverage by 0.04%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1610      +/-   ##
==========================================
- Coverage   80.77%   80.74%   -0.03%     
==========================================
  Files         347      347              
  Lines       63974    63974              
  Branches     6391     6391              
==========================================
- Hits        51670    51648      -22     
- Misses      12181    12210      +29     
+ Partials      123      116       -7



Impacted Files
Coverage Δ





meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


oio/crawler/storage_tierer.py
59.46% <0%> (-2.7%)
⬇️


core/proxy.c
81.84% <0%> (-2.29%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


proxy/cs_actions.c
88.81% <0%> (-1.44%)
⬇️


sqlx/sqlx_service.c
83.54% <0%> (-1.19%)
⬇️


oio/api/base.py
95.35% <0%> (-1.16%)
⬇️


proxy/metacd_http.c
89.7% <0%> (-1.07%)
⬇️


meta2v2/meta2_filters_action_container.c
59.02% <0%> (-1.06%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 19025c2...acfcd1c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1611,2018-11-22T17:47:35Z,2018-11-23T09:31:22Z,2018-11-23T09:31:25Z,MERGED,True,15,8,5,https://github.com/fvennetier,Strengthen 'directory decommission' operations,2,"['bug :scream:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1611,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1611,"SUMMARY
Fix loading of meta1_digits parameter and strengthen the MetaMapping code. Try to prevent dubious cases seen when running ""directory decommission"" operations, when the ""old"" peer set did not contain any of the previous peers, and thus the ""new"" peer set was empty.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.2.5.dev7","SUMMARY
Fix loading of meta1_digits parameter and strengthen the MetaMapping code. Try to prevent dubious cases seen when running ""directory decommission"" operations, when the ""old"" peer set did not contain any of the previous peers, and thus the ""new"" peer set was empty.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.2.5.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1611,2018-11-22T17:47:35Z,2018-11-23T09:31:22Z,2018-11-23T09:31:25Z,MERGED,True,15,8,5,https://github.com/fvennetier,Strengthen 'directory decommission' operations,2,"['bug :scream:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1611,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1611#issuecomment-441180678,"SUMMARY
Fix loading of meta1_digits parameter and strengthen the MetaMapping code. Try to prevent dubious cases seen when running ""directory decommission"" operations, when the ""old"" peer set did not contain any of the previous peers, and thus the ""new"" peer set was empty.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.2.5.dev7","Codecov Report

Merging #1611 into 4.2.x will increase coverage by 0.45%.
The diff coverage is 72.73%.


@@            Coverage Diff             @@
##            4.2.x    #1611      +/-   ##
==========================================
+ Coverage   79.46%   79.91%   +0.45%     
==========================================
  Files         339      340       +1     
  Lines       62553    62744     +191     
  Branches     6670     6705      +35     
==========================================
+ Hits        49703    50137     +434     
+ Misses      12844    12585     -259     
- Partials        6       22      +16



Impacted Files
Coverage Δ





oio/cli/common/clientmanager.py
62.86% <0%> (ø)
⬆️


oio/directory/admin.py
69.24% <100%> (+17.59%)
⬆️


oio/directory/meta.py
83.49% <100%> (+5.71%)
⬆️


oio/directory/meta0.py
80.22% <71.43%> (-0.14%)
⬇️


core/var.c
75.35% <0%> (-2.08%)
⬇️


core/log.c
70.17% <0%> (-1.1%)
⬇️


meta2v2/meta2_bean_utils.c
62% <0%> (-1%)
⬇️


oio/crawler/storage_tierer.py
59.46% <0%> (-0.9%)
⬇️


meta0v2/meta0_backend.c
78.14% <0%> (-0.4%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <0%> (-0.4%)
⬇️


... and 48 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 03218fe...461ca23. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1612,2018-11-26T11:07:17Z,2018-11-27T09:10:21Z,2018-11-27T10:44:15Z,MERGED,True,185,64,18,https://github.com/jfsmig,Make an election member emit a DB_USE when becoming MASTER,8,[],https://github.com/open-io/oio-sds/pull/1612,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1612,"SUMMARY
Make an election member emit a DB_USE when becoming MASTER. It helps the whole election detect and recover double MASTER conditions: the first/old MASTER that was elected on the basis of a wrong list of members may decide to quit.
ISSUE TYPE
enhancement, workaround
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.5.dev8
ADDITIONAL INFORMATION
It works by adding a new optional field in an existing message. It breaks nothing.","SUMMARY
Make an election member emit a DB_USE when becoming MASTER. It helps the whole election detect and recover double MASTER conditions: the first/old MASTER that was elected on the basis of a wrong list of members may decide to quit.
ISSUE TYPE
enhancement, workaround
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.5.dev8
ADDITIONAL INFORMATION
It works by adding a new optional field in an existing message. It breaks nothing.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1613,2018-11-26T16:01:57Z,2018-12-05T10:53:51Z,2018-12-05T15:52:22Z,MERGED,True,622,263,24,https://github.com/AymericDu,Allow to change the policy of an object,7,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1613,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1613,"SUMMARY
Allow to change the policy of an object:

must have the same hash and the same size
keep the same version
keep the same ctime and mtime

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
proxy
Python API
CLI
lifecycle

SDS VERSION
openio 4.3.1.dev30","SUMMARY
Allow to change the policy of an object:

must have the same hash and the same size
keep the same version
keep the same ctime and mtime

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
proxy
Python API
CLI
lifecycle

SDS VERSION
openio 4.3.1.dev30",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1613,2018-11-26T16:01:57Z,2018-12-05T10:53:51Z,2018-12-05T15:52:22Z,MERGED,True,622,263,24,https://github.com/AymericDu,Allow to change the policy of an object,7,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1613,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1613#issuecomment-441729435,"SUMMARY
Allow to change the policy of an object:

must have the same hash and the same size
keep the same version
keep the same ctime and mtime

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
proxy
Python API
CLI
lifecycle

SDS VERSION
openio 4.3.1.dev30","Codecov Report

Merging #1613 into master will increase coverage by 0.06%.
The diff coverage is 92.65%.


@@            Coverage Diff             @@
##           master    #1613      +/-   ##
==========================================
+ Coverage   80.72%   80.77%   +0.06%     
==========================================
  Files         348      348              
  Lines       64061    64258     +197     
  Branches     6396     6421      +25     
==========================================
+ Hits        51708    51901     +193     
- Misses      12235    12250      +15     
+ Partials      118      107      -11



Impacted Files
Coverage Δ





tests/functional/container/test_lifecycle.py
99.21% <ø> (ø)
⬆️


tests/functional/container/test_container.py
98.45% <ø> (ø)
⬆️


oio/content/factory.py
73.02% <ø> (-18.65%)
⬇️


tests/functional/cli/object/test_object.py
58.49% <ø> (ø)
⬆️


oio/cli/object/object.py
24.79% <ø> (ø)
⬆️


tests/functional/audit/test_audit_storage.py
80.49% <100%> (+0.16%)
⬆️


proxy/meta2v2_remote.c
84.52% <100%> (+2.05%)
⬆️


tests/functional/content/test_content.py
98.69% <100%> (-1.31%)
⬇️


oio/api/object_storage.py
80.04% <100%> (+0.41%)
⬆️


oio/container/client.py
80.79% <100%> (+0.13%)
⬆️


... and 47 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7191411...0df7a31. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1614,2018-11-26T16:02:33Z,2018-11-27T09:37:23Z,2018-11-29T17:08:20Z,MERGED,True,14,4,1,https://github.com/AymericDu,Improve error messages when quorum is not reached,1,"['Logging :scroll:', 'language:C']",https://github.com/open-io/oio-sds/pull/1614,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1614,"SUMMARY
Improve error messages when quorum is not reached
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.5.dev11","SUMMARY
Improve error messages when quorum is not reached
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.5.dev11",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1614,2018-11-26T16:02:33Z,2018-11-27T09:37:23Z,2018-11-29T17:08:20Z,MERGED,True,14,4,1,https://github.com/AymericDu,Improve error messages when quorum is not reached,1,"['Logging :scroll:', 'language:C']",https://github.com/open-io/oio-sds/pull/1614,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1614#issuecomment-441723272,"SUMMARY
Improve error messages when quorum is not reached
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.5.dev11","Codecov Report

Merging #1614 into 4.2.x will decrease coverage by 0.04%.
The diff coverage is 16.67%.


@@            Coverage Diff             @@
##            4.2.x    #1614      +/-   ##
==========================================
- Coverage   79.98%   79.95%   -0.03%     
==========================================
  Files         340      340              
  Lines       62744    62746       +2     
  Branches     6705     6705              
==========================================
- Hits        50182    50161      -21     
- Misses      12562    12566       +4     
- Partials        0       19      +19



Impacted Files
Coverage Δ





sqliterepo/replication.c
86.61% <16.67%> (-1.06%)
⬇️


proxy/sqlx_actions.c
76.39% <0%> (-4.16%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


proxy/meta2v2_remote.c
82.48% <0%> (-1.7%)
⬇️


oio/container/backup.py
72.7% <0%> (-1.38%)
⬇️


metautils/lib/gridd_client_ext.c
80.89% <0%> (-1.1%)
⬇️


proxy/metacd_http.c
89.68% <0%> (-1.07%)
⬇️


meta2v2/meta2_filters_extract.c
89.48% <0%> (-1.05%)
⬇️


oio/api/io.py
84.64% <0%> (-0.8%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5ea6d76...82dc367. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1615,2018-11-27T13:42:16Z,2018-11-28T15:37:39Z,2018-11-28T15:37:39Z,MERGED,True,3,3,1,https://github.com/aneutron,Fix deprecation warning to give correct alternative command,1,[],https://github.com/open-io/oio-sds/pull/1615,https://github.com/aneutron,1,https://github.com/open-io/oio-sds/pull/1615,"SUMMARY
We suggested the wrong alternative command to the deprecated one (typo).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.3.1.dev52

ADDITIONAL INFORMATION
None.","SUMMARY
We suggested the wrong alternative command to the deprecated one (typo).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.3.1.dev52

ADDITIONAL INFORMATION
None.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1615,2018-11-27T13:42:16Z,2018-11-28T15:37:39Z,2018-11-28T15:37:39Z,MERGED,True,3,3,1,https://github.com/aneutron,Fix deprecation warning to give correct alternative command,1,[],https://github.com/open-io/oio-sds/pull/1615,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1615#issuecomment-442063599,"SUMMARY
We suggested the wrong alternative command to the deprecated one (typo).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.3.1.dev52

ADDITIONAL INFORMATION
None.",Can you rebase and set the target branch to 4.3.x?,True,{'THUMBS_UP': ['https://github.com/aneutron']}
open-io/oio-sds,https://github.com/open-io/oio-sds,1615,2018-11-27T13:42:16Z,2018-11-28T15:37:39Z,2018-11-28T15:37:39Z,MERGED,True,3,3,1,https://github.com/aneutron,Fix deprecation warning to give correct alternative command,1,[],https://github.com/open-io/oio-sds/pull/1615,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1615#issuecomment-442472879,"SUMMARY
We suggested the wrong alternative command to the deprecated one (typo).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.3.1.dev52

ADDITIONAL INFORMATION
None.","Codecov Report

Merging #1615 into 4.3.x will increase coverage by 0.53%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.3.x    #1615      +/-   ##
==========================================
+ Coverage   80.39%   80.91%   +0.53%     
==========================================
  Files         341      342       +1     
  Lines       62971    63158     +187     
  Branches     6349     6379      +30     
==========================================
+ Hits        50617    51100     +483     
+ Misses      12239    11942     -297     
- Partials      115      116       +1



Impacted Files
Coverage Δ





metautils/lib/utils_errors.c
9.1% <0%> (-21.21%)
⬇️


oio/blob/client.py
91.55% <0%> (-1.4%)
⬇️


meta2v2/meta2_bean_utils.c
62% <0%> (-1%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <0%> (-0.79%)
⬇️


core/http_put.c
91.48% <0%> (-0.5%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.42%)
⬇️


metautils/lib/comm_converter.c
74.16% <0%> (-0.26%)
⬇️


proxy/common.c
88.96% <0%> (ø)
⬆️


meta0v2/meta0_client.c
44.92% <0%> (ø)



core/lb.c
93.54% <0%> (+0.12%)
⬆️


... and 47 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update fbd90d1...76da52e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1616,2018-11-27T17:12:18Z,2019-01-17T09:53:08Z,2019-01-18T10:11:44Z,MERGED,True,1568,533,41,https://github.com/fvennetier,Redistribute degraded chunks in an optimized way,11,"['enhancement :sparkles:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1616,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1616,"SUMMARY

 Modify meta2's get_conditioned_spare_chunks() function to also return the quality of generated chunk addresses.
 Modify Python API's Content._get_spare_chunk() method to compare this quality to the expected one, and retry the request a limited number of times in case of failure.
 Move the ""perfectible"" chunk to its new place.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
oio-proxy
Python API
oio-blob-rebuilder

SDS VERSION
openio 4.3.1.dev80

ADDITIONAL INFORMATION
Jira: R1810-28","SUMMARY

 Modify meta2's get_conditioned_spare_chunks() function to also return the quality of generated chunk addresses.
 Modify Python API's Content._get_spare_chunk() method to compare this quality to the expected one, and retry the request a limited number of times in case of failure.
 Move the ""perfectible"" chunk to its new place.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
oio-proxy
Python API
oio-blob-rebuilder

SDS VERSION
openio 4.3.1.dev80

ADDITIONAL INFORMATION
Jira: R1810-28",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1616,2018-11-27T17:12:18Z,2019-01-17T09:53:08Z,2019-01-18T10:11:44Z,MERGED,True,1568,533,41,https://github.com/fvennetier,Redistribute degraded chunks in an optimized way,11,"['enhancement :sparkles:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1616,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1616#issuecomment-442858908,"SUMMARY

 Modify meta2's get_conditioned_spare_chunks() function to also return the quality of generated chunk addresses.
 Modify Python API's Content._get_spare_chunk() method to compare this quality to the expected one, and retry the request a limited number of times in case of failure.
 Move the ""perfectible"" chunk to its new place.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
oio-proxy
Python API
oio-blob-rebuilder

SDS VERSION
openio 4.3.1.dev80

ADDITIONAL INFORMATION
Jira: R1810-28","Codecov Report

Merging #1616 into master will decrease coverage by 0.15%.
The diff coverage is 59.98%.


@@            Coverage Diff             @@
##           master    #1616      +/-   ##
==========================================
- Coverage   79.88%   79.74%   -0.14%     
==========================================
  Files         365      368       +3     
  Lines       67718    68129     +411     
  Branches     6839     6844       +5     
==========================================
+ Hits        54092    54321     +229     
- Misses      13510    13690     +180     
- Partials      116      118       +2



Impacted Files
Coverage Δ





oio/content/factory.py
80.96% <ø> (ø)
⬆️


proxy/m2_actions.c
89.73% <ø> (+0.08%)
⬆️


oio/rebuilder/blob_rebuilder.py
30.9% <10.53%> (+5.46%)
⬆️


core/url.c
78.71% <100%> (+0.24%)
⬆️


oio/event/consumer.py
27.64% <100%> (-0.36%)
⬇️


oio/common/http_urllib3.py
86.12% <100%> (+2.25%)
⬆️


tests/unit/content/test_content_functions.py
100% <100%> (ø)



core/lb.c
93.8% <100%> (+0.26%)
⬆️


oio/common/exceptions.py
97.13% <100%> (ø)
⬆️


oio/container/client.py
85.08% <100%> (+3.21%)
⬆️


... and 65 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d9ad9a5...482a0e1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1617,2018-11-28T07:27:06Z,2019-01-17T17:47:10Z,2019-03-04T14:46:07Z,MERGED,True,254,6,10,https://github.com/murlock,Fix webhook and add tests,5,[],https://github.com/open-io/oio-sds/pull/1617,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1617,"SUMMARY
Webhook was too aggressive on few events, with this PR, webhook will skip retrieving properties on storage.content.deleted event.
It also skip storage.content.append event due to invalid content received and no version available in event data, it is not possible to retrieve properties nor size.
Fixes OS-235
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-handler

SDS VERSION
4.3.x

ADDITIONAL INFORMATION","SUMMARY
Webhook was too aggressive on few events, with this PR, webhook will skip retrieving properties on storage.content.deleted event.
It also skip storage.content.append event due to invalid content received and no version available in event data, it is not possible to retrieve properties nor size.
Fixes OS-235
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-handler

SDS VERSION
4.3.x

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1617,2018-11-28T07:27:06Z,2019-01-17T17:47:10Z,2019-03-04T14:46:07Z,MERGED,True,254,6,10,https://github.com/murlock,Fix webhook and add tests,5,[],https://github.com/open-io/oio-sds/pull/1617,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1617#issuecomment-442359334,"SUMMARY
Webhook was too aggressive on few events, with this PR, webhook will skip retrieving properties on storage.content.deleted event.
It also skip storage.content.append event due to invalid content received and no version available in event data, it is not possible to retrieve properties nor size.
Fixes OS-235
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-handler

SDS VERSION
4.3.x

ADDITIONAL INFORMATION","Codecov Report

Merging #1617 into 4.3.x will decrease coverage by 0.01%.
The diff coverage is 98.56%.


@@            Coverage Diff             @@
##            4.3.x    #1617      +/-   ##
==========================================
- Coverage   79.79%   79.78%   -<.01%     
==========================================
  Files         358      359       +1     
  Lines       66565    66634      +69     
  Branches     6814     6814              
==========================================
+ Hits        53108    53159      +51     
- Misses      13340    13351      +11     
- Partials      117      124       +7



Impacted Files
Coverage Δ





tests/functional/event/test_webhook.py
98.56% <98.56%> (ø)



oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


resolver/hc_resolver.c
92.45% <0%> (-1.81%)
⬇️


oio/container/backup.py
72.7% <0%> (-1.53%)
⬇️


oio/api/io.py
83.69% <0%> (-0.8%)
⬇️


sqlx/sqlx_service.c
83.12% <0%> (-0.52%)
⬇️


rawx-lib/src/attr_handler.c
69% <0%> (-0.5%)
⬇️


meta0v2/meta0_backend.c
78.14% <0%> (-0.4%)
⬇️


sqliterepo/replication_dispatcher.c
64.21% <0%> (-0.38%)
⬇️


proxy/cs_actions.c
90.26% <0%> (-0.36%)
⬇️


... and 17 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 37c720b...fb4b54d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1618,2018-11-28T11:15:02Z,2018-11-30T15:24:56Z,2018-12-03T17:04:55Z,MERGED,True,160,0,3,https://github.com/aneutron,Add a simple CLI to upload/download using the C API,1,[],https://github.com/open-io/oio-sds/pull/1618,https://github.com/aneutron,1,https://github.com/open-io/oio-sds/pull/1618,"SUMMARY
Add a simple CLI to upload/download using the C API
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
oio-file-tool
SDS VERSION

openio 4.3.1.dev52

ADDITIONAL INFORMATION
None.","SUMMARY
Add a simple CLI to upload/download using the C API
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
oio-file-tool
SDS VERSION

openio 4.3.1.dev52

ADDITIONAL INFORMATION
None.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1618,2018-11-28T11:15:02Z,2018-11-30T15:24:56Z,2018-12-03T17:04:55Z,MERGED,True,160,0,3,https://github.com/aneutron,Add a simple CLI to upload/download using the C API,1,[],https://github.com/open-io/oio-sds/pull/1618,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1618#issuecomment-442434601,"SUMMARY
Add a simple CLI to upload/download using the C API
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
oio-file-tool
SDS VERSION

openio 4.3.1.dev52

ADDITIONAL INFORMATION
None.","Codecov Report

Merging #1618 into master will increase coverage by 0.03%.
The diff coverage is 90.7%.


@@            Coverage Diff             @@
##           master    #1618      +/-   ##
==========================================
+ Coverage   80.72%   80.74%   +0.03%     
==========================================
  Files         347      348       +1     
  Lines       64008    64051      +43     
  Branches     6393     6396       +3     
==========================================
+ Hits        51664    51712      +48     
- Misses      12229    12233       +4     
+ Partials      115      106       -9



Impacted Files
Coverage Δ





tools/oio-file.c
90.7% <90.7%> (ø)



oio/blob/indexer.py
82.15% <0%> (-3.57%)
⬇️


rawx/chunkrepo.go
48.72% <0%> (-2.56%)
⬇️


rawx/filerepo.go
56.44% <0%> (-1.48%)
⬇️


oio/conscience/client.py
72.73% <0%> (-1.29%)
⬇️


rawx/handler_chunk.go
76.35% <0%> (-1.24%)
⬇️


oio/api/io.py
83.69% <0%> (-1.06%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


sqlx/sqlx_service.c
83.4% <0%> (-0.79%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e63cd08...35446db. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1619,2018-11-28T13:27:35Z,2018-11-30T16:07:09Z,2018-11-30T16:07:14Z,MERGED,True,35,12,3,https://github.com/murlock,Python API: new method to create an object and retrieve version,1,[],https://github.com/open-io/oio-sds/pull/1619,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1619,"SUMMARY
A new method will now return obj_metadata after creation of new object, including version.
The current method object_create was renamed as object_create_ext and return a forth value that represents metadata retrieved through prepare method.
A object_create has been introduced to kept API compatibility.
Required for OS-239
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
API
SDS VERSION
4.2.x","SUMMARY
A new method will now return obj_metadata after creation of new object, including version.
The current method object_create was renamed as object_create_ext and return a forth value that represents metadata retrieved through prepare method.
A object_create has been introduced to kept API compatibility.
Required for OS-239
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
API
SDS VERSION
4.2.x",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1620,2018-11-29T14:14:37Z,2018-11-29T16:22:12Z,2018-11-29T17:08:16Z,MERGED,True,2,2,2,https://github.com/AymericDu,Send 200 on rawx HEAD request,2,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1620,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1620,"SUMMARY
Send 200 on rawx HEAD request
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx
Python API

SDS VERSION
openio 4.3.1.dev","SUMMARY
Send 200 on rawx HEAD request
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx
Python API

SDS VERSION
openio 4.3.1.dev",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1620,2018-11-29T14:14:37Z,2018-11-29T16:22:12Z,2018-11-29T17:08:16Z,MERGED,True,2,2,2,https://github.com/AymericDu,Send 200 on rawx HEAD request,2,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1620,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1620#issuecomment-442874528,"SUMMARY
Send 200 on rawx HEAD request
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx
Python API

SDS VERSION
openio 4.3.1.dev","Codecov Report

Merging #1620 into 4.3.x will increase coverage by 0.02%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.3.x    #1620      +/-   ##
==========================================
+ Coverage   80.87%   80.89%   +0.02%     
==========================================
  Files         342      342              
  Lines       63158    63158              
  Branches     6384     6384              
==========================================
+ Hits        51075    51085      +10     
  Misses      11958    11958              
+ Partials      125      115      -10



Impacted Files
Coverage Δ





oio/blob/client.py
91.55% <100%> (ø)
⬆️


rawx/handler_chunk.go
77.6% <100%> (+1.25%)
⬆️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/account/client.py
80.46% <0%> (-4.59%)
⬇️


oio/conscience/client.py
75.33% <0%> (-3.89%)
⬇️


core/proxy.c
81.66% <0%> (-2.46%)
⬇️


oio/crawler/integrity.py
70% <0%> (-1.38%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


proxy/cs_actions.c
90.62% <0%> (-0.72%)
⬇️


metautils/lib/utils_sockets.c
42.05% <0%> (-0.37%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e1ebe70...169c9cc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1621,2018-11-29T17:29:59Z,2018-11-30T15:10:50Z,2018-11-30T17:10:02Z,MERGED,True,740,19,13,https://github.com/AymericDu,rawx: Test both Apache and Go implementations,2,[],https://github.com/open-io/oio-sds/pull/1621,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1621,"SUMMARY
Test both Apache and Go implementation
ISSUE TYPE

Test Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.3.1.dev","SUMMARY
Test both Apache and Go implementation
ISSUE TYPE

Test Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.3.1.dev",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1621,2018-11-29T17:29:59Z,2018-11-30T15:10:50Z,2018-11-30T17:10:02Z,MERGED,True,740,19,13,https://github.com/AymericDu,rawx: Test both Apache and Go implementations,2,[],https://github.com/open-io/oio-sds/pull/1621,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1621#issuecomment-443203811,"SUMMARY
Test both Apache and Go implementation
ISSUE TYPE

Test Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.3.1.dev","Codecov Report

Merging #1621 into 4.3.x will decrease coverage by 0.84%.
The diff coverage is 99.56%.


@@            Coverage Diff             @@
##            4.3.x    #1621      +/-   ##
==========================================
- Coverage   80.83%   79.99%   -0.83%     
==========================================
  Files         342      357      +15     
  Lines       63158    66286    +3128     
  Branches     6384     6799     +415     
==========================================
+ Hits        51046    53021    +1975     
- Misses      11952    13140    +1188     
+ Partials      160      125      -35



Impacted Files
Coverage Δ





rawx-apache2/src/rawx_repo_core.c
74.9% <ø> (ø)



tests/functional/blob/__init__.py
100% <100%> (ø)
⬆️


tests/functional/blob/test_indexer.py
98.07% <100%> (+1.8%)
⬆️


tests/functional/blob/test_rebuilder.py
100% <100%> (+78.38%)
⬆️


tests/functional/blob/test_blob.py
99.28% <100%> (+0.18%)
⬆️


tests/functional/blob/test_mover.py
100% <100%> (ø)



tests/functional/blob/test_auditor.py
100% <100%> (ø)
⬆️


tests/utils.py
91.59% <100%> (+0.09%)
⬆️


tests/functional/blob/test_converter.py
97.26% <98.56%> (+1.53%)
⬆️


rawx/notifier.go
58.77% <0%> (-19.58%)
⬇️


... and 68 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c177357...ffd8c1a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1622,2018-11-30T14:58:21Z,2018-11-30T16:17:32Z,2018-11-30T16:17:39Z,MERGED,True,40,46,1,https://github.com/fvennetier,Python API: do not try to balance meta1 services when zero-scored,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1622,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1622,"SUMMARY

Do not try to balance meta1 services when most of them are zero-scored. This will make openio directory bootstrap more reliable.
Get rid of redundant tests about the presence of a logger.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.6.dev18","SUMMARY

Do not try to balance meta1 services when most of them are zero-scored. This will make openio directory bootstrap more reliable.
Get rid of redundant tests about the presence of a logger.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.6.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1622,2018-11-30T14:58:21Z,2018-11-30T16:17:32Z,2018-11-30T16:17:39Z,MERGED,True,40,46,1,https://github.com/fvennetier,Python API: do not try to balance meta1 services when zero-scored,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1622,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1622#issuecomment-443254736,"SUMMARY

Do not try to balance meta1 services when most of them are zero-scored. This will make openio directory bootstrap more reliable.
Get rid of redundant tests about the presence of a logger.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.6.dev18","Codecov Report

Merging #1622 into 4.2.x will increase coverage by 0.74%.
The diff coverage is 64%.


@@            Coverage Diff             @@
##            4.2.x    #1622      +/-   ##
==========================================
+ Coverage   79.21%   79.94%   +0.74%     
==========================================
  Files         339      340       +1     
  Lines       62568    62751     +183     
  Branches     6672     6707      +35     
==========================================
+ Hits        49554    50163     +609     
+ Misses      13007    12560     -447     
- Partials        7       28      +21



Impacted Files
Coverage Δ





oio/directory/meta0.py
80.3% <64%> (+0.08%)
⬆️


oio/api/base.py
92.78% <0%> (-2.4%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


tests/unit/test_prefixmapping.py
99.35% <0%> (-0.65%)
⬇️


resolver/hc_resolver.c
92.15% <0%> (-0.6%)
⬇️


core/http_put.c
91.48% <0%> (-0.5%)
⬇️


proxy/metacd_http.c
90.3% <0%> (-0.46%)
⬇️


meta0v2/meta0_client.c
44.92% <0%> (ø)



proxy/m2_actions.c
88.81% <0%> (+0.08%)
⬆️


meta2v2/meta2_backend.c
81.88% <0%> (+0.11%)
⬆️


... and 49 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update af403cc...55bc899. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1623,2018-12-03T14:18:15Z,2018-12-07T10:28:40Z,2018-12-07T13:51:45Z,MERGED,True,140,27,4,https://github.com/AymericDu,Allow to flush properties of an object,1,[],https://github.com/open-io/oio-sds/pull/1623,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1623,"SUMMARY
Allow to flush properties of an object
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.3.1.dev","SUMMARY
Allow to flush properties of an object
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.3.1.dev",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1623,2018-12-03T14:18:15Z,2018-12-07T10:28:40Z,2018-12-07T13:51:45Z,MERGED,True,140,27,4,https://github.com/AymericDu,Allow to flush properties of an object,1,[],https://github.com/open-io/oio-sds/pull/1623,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1623#issuecomment-444407317,"SUMMARY
Allow to flush properties of an object
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.3.1.dev","Codecov Report

Merging #1623 into 4.3.x will decrease coverage by 0.02%.
The diff coverage is 29.3%.


@@            Coverage Diff            @@
##            4.3.x   #1623      +/-   ##
=========================================
- Coverage   79.91%   79.9%   -0.01%     
=========================================
  Files         357     357              
  Lines       66282   66362      +80     
  Branches     6799    6799              
=========================================
+ Hits        52964   53021      +57     
- Misses      13202   13222      +20     
- Partials      116     119       +3



Impacted Files
Coverage Δ





tests/functional/cli/object/test_object.py
52.06% <23.73%> (-6.42%)
⬇️


tests/functional/cli/container/test_container.py
64.77% <34.29%> (-6.09%)
⬇️


oio/container/client.py
85.02% <50%> (-0.22%)
⬇️


oio/api/object_storage.py
78.69% <66.67%> (-0.16%)
⬇️


oio/ecd/app.py
59.53% <0%> (-6.54%)
⬇️


meta2v2/meta2_filters_extract.c
89.48% <0%> (-2.1%)
⬇️


oio/api/base.py
91.57% <0%> (-1.2%)
⬇️


rawx/chunk_info.go
78.02% <0%> (-0.86%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4638986...d59115f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1624,2018-12-04T15:40:13Z,2018-12-05T10:54:21Z,2018-12-05T15:51:08Z,MERGED,True,71,40,12,https://github.com/AymericDu,Include object metadata in events for indexing,4,[],https://github.com/open-io/oio-sds/pull/1624,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1624,"SUMMARY
See #1561
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
event-agent

SDS VERSION
openio 4.2.6.dev14","SUMMARY
See #1561
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
event-agent

SDS VERSION
openio 4.2.6.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1624,2018-12-04T15:40:13Z,2018-12-05T10:54:21Z,2018-12-05T15:51:08Z,MERGED,True,71,40,12,https://github.com/AymericDu,Include object metadata in events for indexing,4,[],https://github.com/open-io/oio-sds/pull/1624,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1624#issuecomment-444407229,"SUMMARY
See #1561
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
event-agent

SDS VERSION
openio 4.2.6.dev14","Codecov Report

Merging #1624 into 4.2.x will increase coverage by 0.35%.
The diff coverage is 97.62%.


@@            Coverage Diff            @@
##           4.2.x    #1624      +/-   ##
=========================================
+ Coverage   79.6%   79.95%   +0.35%     
=========================================
  Files        340      340              
  Lines      62742    62766      +24     
  Branches    6672     6707      +35     
=========================================
+ Hits       49939    50177     +238     
+ Misses     12795    12562     -233     
- Partials       8       27      +19



Impacted Files
Coverage Δ





meta2v2/meta2_gridd_dispatcher.c
70.84% <ø> (ø)
⬆️


oio/container/client.py
85.34% <100%> (ø)
⬆️


meta2v2/meta2_backend.c
81.77% <100%> (ø)
⬆️


proxy/m2_actions.c
88.82% <100%> (+0.09%)
⬆️


meta2v2/meta2_filters_action_content.c
91.08% <100%> (+1.11%)
⬆️


meta2v2/meta2_utils_json_out.c
98.91% <100%> (+0.02%)
⬆️


tests/unit/test_meta2_backend.c
100% <100%> (ø)
⬆️


meta2v2/meta2_utils.c
83.06% <93.75%> (+0.06%)
⬆️


oio/conscience/client.py
71.43% <0%> (-1.29%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update de4e4ad...63cde13. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1625,2018-12-05T15:42:49Z,2018-12-06T08:53:42Z,2018-12-07T13:51:18Z,MERGED,True,5,3,1,https://github.com/AymericDu,Notify properties when creating a container,1,[],https://github.com/open-io/oio-sds/pull/1625,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1625,"SUMMARY
Notify properties when creating a container
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.6.dev11","SUMMARY
Notify properties when creating a container
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.2.6.dev11",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1626,2018-12-05T15:46:03Z,2018-12-06T13:10:37Z,2018-12-06T13:10:54Z,MERGED,True,80,2,10,https://github.com/AymericDu,Add User-Agent to the events,1,[],https://github.com/open-io/oio-sds/pull/1626,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1626,"SUMMARY
Add User-Agent in the events
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 4.2.6.dev11","SUMMARY
Add User-Agent in the events
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 4.2.6.dev11",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1627,2018-12-06T11:05:33Z,2018-12-07T10:27:08Z,2018-12-07T13:51:12Z,MERGED,True,30,2,2,https://github.com/AymericDu,Update the sample of the event handler configuration,1,[],https://github.com/open-io/oio-sds/pull/1627,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1627,"SUMMARY
Update the sample of the event handler configuration
ISSUE TYPE

Docs Pull Request

SDS VERSION
openio 4.2.6.dev16","SUMMARY
Update the sample of the event handler configuration
ISSUE TYPE

Docs Pull Request

SDS VERSION
openio 4.2.6.dev16",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1628,2018-12-06T16:43:44Z,2018-12-07T10:27:42Z,2018-12-07T10:27:44Z,MERGED,True,40,31,6,https://github.com/fvennetier,Several minor fixes,4,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1628,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1628,"SUMMARY

fix end condition of container_flush loop
set ""Connection: close"" when deleting chunks from event-agent
improve some tests

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API
event-agent
tests

SDS VERSION
openio 4.2.6.dev45","SUMMARY

fix end condition of container_flush loop
set ""Connection: close"" when deleting chunks from event-agent
improve some tests

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API
event-agent
tests

SDS VERSION
openio 4.2.6.dev45",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1628,2018-12-06T16:43:44Z,2018-12-07T10:27:42Z,2018-12-07T10:27:44Z,MERGED,True,40,31,6,https://github.com/fvennetier,Several minor fixes,4,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1628,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1628#issuecomment-445178129,"SUMMARY

fix end condition of container_flush loop
set ""Connection: close"" when deleting chunks from event-agent
improve some tests

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API
event-agent
tests

SDS VERSION
openio 4.2.6.dev45","Codecov Report

Merging #1628 into master will decrease coverage by 2.58%.
The diff coverage is 80%.


@@            Coverage Diff             @@
##           master    #1628      +/-   ##
==========================================
- Coverage   79.88%   77.31%   -2.57%     
==========================================
  Files         365      330      -35     
  Lines       67602    63132    -4470     
  Branches     6836     6603     -233     
==========================================
- Hits        53997    48803    -5194     
- Misses      13493    14210     +717     
- Partials      112      119       +7



Impacted Files
Coverage Δ





tests/functional/blob/test_rebuilder.py
100% <100%> (ø)
⬆️


tests/utils.py
93.94% <100%> (-1.25%)
⬇️


tests/functional/blob/test_blob.py
99.28% <100%> (ø)
⬆️


tests/functional/api/test_objectstorage.py
96.53% <66.67%> (+0.01%)
⬆️


oio/api/object_storage.py
80.43% <76.93%> (-0.03%)
⬇️


events/oio_events_queue_zmq.c
0% <0%> (-65.98%)
⬇️


meta2v2/meta2_dedup_utils.c
0% <0%> (-18.81%)
⬇️


meta1v2/meta1_backend_references.c
73% <0%> (-17%)
⬇️


metautils/lib/utils_resolv.c
48.49% <0%> (-16.66%)
⬇️


metautils/lib/utils_svc_policy.c
71.07% <0%> (-15.31%)
⬇️


... and 90 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c4351f6...63c8351. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1629,2018-12-07T09:22:17Z,2018-12-07T10:26:43Z,2018-12-07T10:26:46Z,MERGED,True,96,27,4,https://github.com/fvennetier,Python API: backport fixes from master branch,3,[],https://github.com/open-io/oio-sds/pull/1629,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1629,"SUMMARY
Backport some fixes for bugs detected when integrating 4.3.x branch into master.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
tests

SDS VERSION
openio 4.2.6.dev19","SUMMARY
Backport some fixes for bugs detected when integrating 4.3.x branch into master.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
tests

SDS VERSION
openio 4.2.6.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1629,2018-12-07T09:22:17Z,2018-12-07T10:26:43Z,2018-12-07T10:26:46Z,MERGED,True,96,27,4,https://github.com/fvennetier,Python API: backport fixes from master branch,3,[],https://github.com/open-io/oio-sds/pull/1629,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1629#issuecomment-445187434,"SUMMARY
Backport some fixes for bugs detected when integrating 4.3.x branch into master.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
tests

SDS VERSION
openio 4.2.6.dev19","Codecov Report

Merging #1629 into 4.2.x will increase coverage by 0.05%.
The diff coverage is 86.89%.


@@            Coverage Diff             @@
##            4.2.x    #1629      +/-   ##
==========================================
+ Coverage   79.93%   79.97%   +0.05%     
==========================================
  Files         330      341      +11     
  Lines       62656    62835     +179     
  Branches     6710     6710              
==========================================
+ Hits        50076    50247     +171     
+ Misses      12576    12568       -8     
- Partials        4       20      +16



Impacted Files
Coverage Δ





oio/api/ec.py
93.86% <100%> (+0.04%)
⬆️


tests/functional/api/test_objectstorage.py
94.86% <70%> (+0.01%)
⬆️


...s/functional/api/test_objectstorage_performance.py
88.24% <88.24%> (ø)



oio/api/object_storage.py
79.09% <92.31%> (-0.02%)
⬇️


proxy/sqlx_actions.c
76.39% <0%> (-4.16%)
⬇️


proxy/admin_actions.c
93.45% <0%> (-3.27%)
⬇️


proxy/meta2v2_remote.c
82.48% <0%> (-1.7%)
⬇️


server/slab.c
83.55% <0%> (-1.26%)
⬇️


rawx-lib/src/attr_handler.c
68.5% <0%> (-1%)
⬇️


events/oio_events_queue_beanstalkd.c
82.8% <0%> (-0.4%)
⬇️


... and 46 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6e3e4a1...9d2f1e5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1630,2018-12-12T09:25:34Z,2018-12-31T10:53:36Z,2019-01-07T08:57:24Z,MERGED,True,4,0,1,https://github.com/AymericDu,Check if the meta1 are present when bootstrapping,1,[],https://github.com/open-io/oio-sds/pull/1630,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1630,"SUMMARY
Check if the meta1 are present when bootstrapping
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.6.dev20","SUMMARY
Check if the meta1 are present when bootstrapping
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.6.dev20",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1630,2018-12-12T09:25:34Z,2018-12-31T10:53:36Z,2019-01-07T08:57:24Z,MERGED,True,4,0,1,https://github.com/AymericDu,Check if the meta1 are present when bootstrapping,1,[],https://github.com/open-io/oio-sds/pull/1630,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1630#issuecomment-446595130,"SUMMARY
Check if the meta1 are present when bootstrapping
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.6.dev20","Codecov Report

Merging #1630 into 4.2.x will decrease coverage by 0.01%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##            4.2.x    #1630      +/-   ##
==========================================
- Coverage   79.94%   79.93%   -<.01%     
==========================================
  Files         341      341              
  Lines       62835    62838       +3     
  Branches     6710     6711       +1     
==========================================
- Hits        50226    50223       -3     
- Misses      12579    12587       +8     
+ Partials       30       28       -2



Impacted Files
Coverage Δ





oio/directory/meta0.py
80.08% <50%> (-0.21%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


oio/conscience/client.py
71.43% <0%> (-1.29%)
⬇️


oio/api/base.py
93.98% <0%> (-1.2%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


sqliterepo/version.c
83.71% <0%> (-0.74%)
⬇️


oio/api/io.py
84.1% <0%> (-0.53%)
⬇️


proxy/metacd_http.c
90.33% <0%> (-0.46%)
⬇️


events/oio_events_queue_beanstalkd.c
82.4% <0%> (-0.39%)
⬇️


... and 22 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 07c350d...66b009c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1631,2018-12-12T10:41:07Z,2018-12-12T10:56:28Z,2018-12-12T10:56:33Z,MERGED,True,1,1,1,https://github.com/murlock,meta2: fix order of events,1,[],https://github.com/open-io/oio-sds/pull/1631,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1631,"SUMMARY
Fix invalid events order when replacing an object
Thanks to contributors that exhibit this issue !
Fixes OS-253
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
4.2.x","SUMMARY
Fix invalid events order when replacing an object
Thanks to contributors that exhibit this issue !
Fixes OS-253
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
4.2.x",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1632,2018-12-13T09:10:55Z,2019-05-06T14:20:22Z,2019-05-06T14:20:22Z,MERGED,True,298,3,2,https://github.com/aneutron,Python API: Add hour-based rate limiting policies utilities,2,[],https://github.com/open-io/oio-sds/pull/1632,https://github.com/aneutron,1,https://github.com/open-io/oio-sds/pull/1632,"SUMMARY
Functions to parse hour-based policies for rate limiting, and wrapper around the existing rate limiting method to apply these policies.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python API
SDS VERSION

openio 4.2.6.dev59

ADDITIONAL INFORMATION


Nil.","SUMMARY
Functions to parse hour-based policies for rate limiting, and wrapper around the existing rate limiting method to apply these policies.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python API
SDS VERSION

openio 4.2.6.dev59

ADDITIONAL INFORMATION


Nil.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1632,2018-12-13T09:10:55Z,2019-05-06T14:20:22Z,2019-05-06T14:20:22Z,MERGED,True,298,3,2,https://github.com/aneutron,Python API: Add hour-based rate limiting policies utilities,2,[],https://github.com/open-io/oio-sds/pull/1632,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1632#issuecomment-487973767,"SUMMARY
Functions to parse hour-based policies for rate limiting, and wrapper around the existing rate limiting method to apply these policies.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python API
SDS VERSION

openio 4.2.6.dev59

ADDITIONAL INFORMATION


Nil.","Codecov Report

Merging #1632 into master will increase coverage by 0.03%.
The diff coverage is 88.89%.


@@            Coverage Diff            @@
##           master   #1632      +/-   ##
=========================================
+ Coverage   79.27%   79.3%   +0.03%     
=========================================
  Files         379     380       +1     
  Lines       69968   70074     +106     
  Branches     6917    6917              
=========================================
+ Hits        55461   55564     +103     
- Misses      14305   14309       +4     
+ Partials      202     201       -1



Impacted Files
Coverage Δ





tests/unit/common/test_ratelimiter.py
100% <100%> (ø)



oio/common/green.py
87.04% <81.54%> (-8.51%)
⬇️


tests/functional/event/test_events_emission.py
91.55% <0%> (-2.81%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/conscience/client.py
83.14% <0%> (-2.4%)
⬇️


oio/blob/client.py
91.84% <0%> (-2.04%)
⬇️


oio/account/backend.py
79.92% <0%> (-1.78%)
⬇️


metautils/lib/gridd_client.c
75.5% <0%> (-0.99%)
⬇️


meta2v2/meta2_filters_extract.c
90.66% <0%> (-0.93%)
⬇️


metautils/lib/utils_sockets.c
42.31% <0%> (-0.76%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 43a7e56...892d771. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1633,2018-12-19T17:05:10Z,2018-12-26T16:35:30Z,2019-03-04T14:46:13Z,MERGED,True,9,1,1,https://github.com/murlock,proxy: handle deadline during long listing requests,1,[],https://github.com/open-io/oio-sds/pull/1633,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1633,"SUMMARY
Instead of propagating the deadline error, tell the caller the listing
has been truncated, and let him continue on the next page of results.
Jira: OS-194
ISSUE TYPE
Bugfix Pull Request

COMPONENT NAME
proxy","SUMMARY
Instead of propagating the deadline error, tell the caller the listing
has been truncated, and let him continue on the next page of results.
Jira: OS-194
ISSUE TYPE
Bugfix Pull Request

COMPONENT NAME
proxy",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1633,2018-12-19T17:05:10Z,2018-12-26T16:35:30Z,2019-03-04T14:46:13Z,MERGED,True,9,1,1,https://github.com/murlock,proxy: handle deadline during long listing requests,1,[],https://github.com/open-io/oio-sds/pull/1633,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1633#issuecomment-449990555,"SUMMARY
Instead of propagating the deadline error, tell the caller the listing
has been truncated, and let him continue on the next page of results.
Jira: OS-194
ISSUE TYPE
Bugfix Pull Request

COMPONENT NAME
proxy","Codecov Report

Merging #1633 into 4.2.x will increase coverage by 0.02%.
The diff coverage is 40%.


@@            Coverage Diff            @@
##           4.2.x    #1633      +/-   ##
=========================================
+ Coverage     80%   80.01%   +0.02%     
=========================================
  Files        341      341              
  Lines      62835    62908      +73     
  Branches    6710     6726      +16     
=========================================
+ Hits       50263    50330      +67     
- Misses     12552    12556       +4     
- Partials      20       22       +2



Impacted Files
Coverage Δ





proxy/m2_actions.c
88.63% <40%> (-0.26%)
⬇️


sqliterepo/repository.c
75.78% <0%> (-1.58%)
⬇️


oio/account/client.py
86.21% <0%> (-1.14%)
⬇️


meta2v2/meta2_filter_context.c
87.88% <0%> (-1.01%)
⬇️


meta2v2/meta2_bean_utils.c
62% <0%> (-1%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


core/cs.c
81.25% <0%> (-0.44%)
⬇️


metautils/lib/utils_sockets.c
42.43% <0%> (-0.37%)
⬇️


metautils/lib/gridd_client_ext.c
80.15% <0%> (-0.36%)
⬇️


... and 19 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 985b202...00848d6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1634,2018-12-19T17:34:24Z,2018-12-31T15:19:54Z,2019-01-07T08:56:25Z,MERGED,True,115,43,2,https://github.com/AymericDu,Detect irreparable objects,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1634,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1634,"SUMMARY
Detect the irreparable objects and add a note about that in the tool's output.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-crawler-integrity

SDS VERSION
openio 4.2.7.dev1","SUMMARY
Detect the irreparable objects and add a note about that in the tool's output.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-crawler-integrity

SDS VERSION
openio 4.2.7.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1634,2018-12-19T17:34:24Z,2018-12-31T15:19:54Z,2019-01-07T08:56:25Z,MERGED,True,115,43,2,https://github.com/AymericDu,Detect irreparable objects,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1634,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1634#issuecomment-450326167,"SUMMARY
Detect the irreparable objects and add a note about that in the tool's output.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-crawler-integrity

SDS VERSION
openio 4.2.7.dev1","Codecov Report

Merging #1634 into 4.2.x will decrease coverage by 0.13%.
The diff coverage is 53.34%.


@@            Coverage Diff            @@
##           4.2.x    #1634      +/-   ##
=========================================
- Coverage     80%   79.87%   -0.12%     
=========================================
  Files        341      341              
  Lines      62835    62884      +49     
  Branches    6710     6711       +1     
=========================================
- Hits       50263    50221      -42     
- Misses     12552    12644      +92     
+ Partials      20       19       -1



Impacted Files
Coverage Δ





oio/crawler/integrity.py
69.11% <50%> (-5.05%)
⬇️


oio/common/storage_method.py
74.33% <60%> (-3.45%)
⬇️


oio/account/client.py
79.32% <0%> (-8.04%)
⬇️


oio/container/backup.py
67.64% <0%> (-6.44%)
⬇️


oio/crawler/storage_tierer.py
59.46% <0%> (-2.7%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


meta2v2/meta2_filter_context.c
87.88% <0%> (-1.01%)
⬇️


meta2v2/meta2_bean_utils.c
62% <0%> (-1%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 985b202...4c194de. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1635,2018-12-21T10:47:44Z,2018-12-21T15:49:20Z,2019-01-08T15:04:46Z,MERGED,True,6,17,2,https://github.com/jfsmig,sqliterepo: Fix a file descriptor leak,3,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1635,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1635,"SUMMARY
Prior to this fix, when a dump fails in the repository and there is a retry in /tmp, the FDof the attempt file in the repository is not closed, thus keeping the file present on the filesystem until the process is stopped.
In addition, an unused function has been removed.
ISSUE TYPE
Bugfix!
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.7.dev1","SUMMARY
Prior to this fix, when a dump fails in the repository and there is a retry in /tmp, the FDof the attempt file in the repository is not closed, thus keeping the file present on the filesystem until the process is stopped.
In addition, an unused function has been removed.
ISSUE TYPE
Bugfix!
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.7.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1635,2018-12-21T10:47:44Z,2018-12-21T15:49:20Z,2019-01-08T15:04:46Z,MERGED,True,6,17,2,https://github.com/jfsmig,sqliterepo: Fix a file descriptor leak,3,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1635,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1635#issuecomment-449365831,"SUMMARY
Prior to this fix, when a dump fails in the repository and there is a retry in /tmp, the FDof the attempt file in the repository is not closed, thus keeping the file present on the filesystem until the process is stopped.
In addition, an unused function has been removed.
ISSUE TYPE
Bugfix!
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.7.dev1","Codecov Report

Merging #1635 into 4.2.x will decrease coverage by 0.05%.
The diff coverage is 50%.


@@            Coverage Diff            @@
##           4.2.x    #1635      +/-   ##
=========================================
- Coverage     80%   79.95%   -0.04%     
=========================================
  Files        341      341              
  Lines      62835    62834       -1     
  Branches    6710     6710              
=========================================
- Hits       50263    50232      -31     
- Misses     12552    12581      +29     
- Partials      20       21       +1



Impacted Files
Coverage Δ





sqliterepo/repository.c
77.45% <50%> (+0.09%)
⬆️


oio/account/client.py
79.32% <0%> (-8.04%)
⬇️


oio/crawler/storage_tierer.py
59.46% <0%> (-2.7%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


meta2v2/meta2_filter_context.c
87.88% <0%> (-1.01%)
⬇️


rawx-lib/src/attr_handler.c
68.5% <0%> (-1%)
⬇️


meta2v2/meta2_bean_utils.c
62% <0%> (-1%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


meta2v2/meta2_filters_action_content.c
90.29% <0%> (-0.78%)
⬇️


rawx-apache2/src/rawx_repository.c
54.01% <0%> (-0.63%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 985b202...37c13a3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1636,2018-12-21T15:47:38Z,2018-12-31T14:55:23Z,2019-01-08T15:04:37Z,MERGED,True,57,1,3,https://github.com/jfsmig,sqliterepo: Clean stale DB dumps,2,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1636,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1636,"SUMMARY
Clean stale DB dumps at the startup of any sqliterepo-based service, when it owns the lock on the base directory.
ISSUE TYPE
Bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.6","SUMMARY
Clean stale DB dumps at the startup of any sqliterepo-based service, when it owns the lock on the base directory.
ISSUE TYPE
Bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1636,2018-12-21T15:47:38Z,2018-12-31T14:55:23Z,2019-01-08T15:04:37Z,MERGED,True,57,1,3,https://github.com/jfsmig,sqliterepo: Clean stale DB dumps,2,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1636,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1636#issuecomment-450654532,"SUMMARY
Clean stale DB dumps at the startup of any sqliterepo-based service, when it owns the lock on the base directory.
ISSUE TYPE
Bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.6","Codecov Report

Merging #1636 into 4.2.x will increase coverage by 0.06%.
The diff coverage is 64%.


@@            Coverage Diff             @@
##            4.2.x    #1636      +/-   ##
==========================================
+ Coverage   79.97%   80.02%   +0.06%     
==========================================
  Files         341      341              
  Lines       62834    63095     +261     
  Branches     6710     6776      +66     
==========================================
+ Hits        50244    50488     +244     
- Misses      12574    12588      +14     
- Partials       16       19       +3



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
84.22% <100%> (-0.11%)
⬇️


sqliterepo/repository.c
77.39% <62.5%> (-0.61%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


server/slab.c
83.55% <0%> (-1.26%)
⬇️


meta2v2/meta2_filters_action_container.c
59.02% <0%> (-1.06%)
⬇️


meta2v2/meta2_filters_extract.c
90.1% <0%> (-0.99%)
⬇️


meta2v2/meta2_filters_action_content.c
90.29% <0%> (-0.78%)
⬇️


oio/crawler/integrity.py
73.06% <0%> (-0.55%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update dfd4928...a9f83ba. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1637,2018-12-21T17:25:31Z,2019-01-02T08:12:30Z,2019-01-02T08:12:33Z,MERGED,True,135,16,8,https://github.com/fvennetier,Improve replication of big databases,4,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1637,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1637,"SUMMARY

Increase DB_PIPEFROM maximum timeout.
Allow to configure DB_DUMP chunk size.
Set a maximum size for DB_RESTORE requests.
Do not do a local copy of a database before sending it.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.7.dev5","SUMMARY

Increase DB_PIPEFROM maximum timeout.
Allow to configure DB_DUMP chunk size.
Set a maximum size for DB_RESTORE requests.
Do not do a local copy of a database before sending it.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.7.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1637,2018-12-21T17:25:31Z,2019-01-02T08:12:30Z,2019-01-02T08:12:33Z,MERGED,True,135,16,8,https://github.com/fvennetier,Improve replication of big databases,4,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1637,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1637#issuecomment-449725727,"SUMMARY

Increase DB_PIPEFROM maximum timeout.
Allow to configure DB_DUMP chunk size.
Set a maximum size for DB_RESTORE requests.
Do not do a local copy of a database before sending it.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.7.dev5","Codecov Report

Merging #1637 into 4.2.x will decrease coverage by 0.07%.
The diff coverage is 63.64%.


@@            Coverage Diff            @@
##            4.2.x   #1637      +/-   ##
=========================================
- Coverage   79.97%   79.9%   -0.06%     
=========================================
  Files         341     341              
  Lines       62834   62871      +37     
  Branches     6710    6715       +5     
=========================================
- Hits        50244   50233      -11     
- Misses      12574   12612      +38     
- Partials       16      26      +10



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
64.59% <100%> (+0.31%)
⬆️


sqlx/sqlx_service.c
83.75% <40%> (-0.58%)
⬇️


sqliterepo/repository.c
75.19% <69.7%> (-2.81%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


rdir/routes.c
68.75% <0%> (-3.12%)
⬇️


meta1v2/meta1_prefixes.c
76.54% <0%> (-3.06%)
⬇️


oio/crawler/integrity.py
71.67% <0%> (-1.94%)
⬇️


resolver/hc_resolver.c
92.75% <0%> (-1.81%)
⬇️


proxy/cache_actions.c
78.23% <0%> (-1.61%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update dfd4928...b117945. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1638,2018-12-21T17:31:00Z,2019-01-03T09:15:59Z,2019-01-08T15:04:36Z,MERGED,True,77,9,5,https://github.com/jfsmig,sqliterepo: Throttle the concurrency of DB dumps,3,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1638,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1638,"SUMMARY
Allow a maximum number of concurrent DB dumps (configurable) and let exceeding threads waiting to run a dump wait for an available slot. The waiting time is also configurable.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.7.dev6","SUMMARY
Allow a maximum number of concurrent DB dumps (configurable) and let exceeding threads waiting to run a dump wait for an available slot. The waiting time is also configurable.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.7.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1638,2018-12-21T17:31:00Z,2019-01-03T09:15:59Z,2019-01-08T15:04:36Z,MERGED,True,77,9,5,https://github.com/jfsmig,sqliterepo: Throttle the concurrency of DB dumps,3,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1638,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1638#issuecomment-450862628,"SUMMARY
Allow a maximum number of concurrent DB dumps (configurable) and let exceeding threads waiting to run a dump wait for an available slot. The waiting time is also configurable.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.2.7.dev6","Codecov Report

Merging #1638 into 4.2.x will decrease coverage by 0.01%.
The diff coverage is 5%.


@@            Coverage Diff             @@
##            4.2.x    #1638      +/-   ##
==========================================
- Coverage   79.87%   79.86%   -<.01%     
==========================================
  Files         341      341              
  Lines       62950    62967      +17     
  Branches     6719     6723       +4     
==========================================
+ Hits        50272    50280       +8     
- Misses      12649    12661      +12     
+ Partials       29       26       -3



Impacted Files
Coverage Δ





sqliterepo/repository.c
73.11% <0%> (-1.76%)
⬇️


sqliterepo/restoration.c
88% <100%> (-0.88%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


oio/conscience/client.py
70.13% <0%> (-1.29%)
⬇️


rawx-lib/src/attr_handler.c
69% <0%> (-1%)
⬇️


sqlx/sqlx_service.c
83.12% <0%> (-0.65%)
⬇️


sqliterepo/replication.c
86.61% <0%> (-0.28%)
⬇️


sqliterepo/synchro.c
74.62% <0%> (-0.25%)
⬇️


... and 18 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update bded66a...3f8778a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1639,2019-01-02T15:40:42Z,2019-01-03T17:24:19Z,2019-03-04T14:46:10Z,MERGED,True,8,0,2,https://github.com/murlock,blob-rebuilder: use random delays to avoid request bursts,1,[],https://github.com/open-io/oio-sds/pull/1639,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1639,"SUMMARY
Default ratelimit tries to consume all events at start of
every second: when launching a lot of threads/instance, it
creates burst effects on cluster.
This commit introduce an option to add random wait after each chunk
rebuild, that take an argument to perform a [0, arg[ ms wait.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
oio-blob-rebuilder
SDS VERSION
4.2.x","SUMMARY
Default ratelimit tries to consume all events at start of
every second: when launching a lot of threads/instance, it
creates burst effects on cluster.
This commit introduce an option to add random wait after each chunk
rebuild, that take an argument to perform a [0, arg[ ms wait.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
oio-blob-rebuilder
SDS VERSION
4.2.x",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1639,2019-01-02T15:40:42Z,2019-01-03T17:24:19Z,2019-03-04T14:46:10Z,MERGED,True,8,0,2,https://github.com/murlock,blob-rebuilder: use random delays to avoid request bursts,1,[],https://github.com/open-io/oio-sds/pull/1639,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1639#issuecomment-451152984,"SUMMARY
Default ratelimit tries to consume all events at start of
every second: when launching a lot of threads/instance, it
creates burst effects on cluster.
This commit introduce an option to add random wait after each chunk
rebuild, that take an argument to perform a [0, arg[ ms wait.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
oio-blob-rebuilder
SDS VERSION
4.2.x","Codecov Report

Merging #1639 into 4.2.x will increase coverage by 0.39%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##            4.2.x    #1639      +/-   ##
==========================================
+ Coverage   79.43%   79.82%   +0.39%     
==========================================
  Files         340      341       +1     
  Lines       62780    62971     +191     
  Branches     6688     6723      +35     
==========================================
+ Hits        49866    50259     +393     
+ Misses      12914    12686     -228     
- Partials        0       26      +26



Impacted Files
Coverage Δ





oio/rebuilder/rebuilder.py
34.49% <50%> (+0.75%)
⬆️


oio/crawler/storage_tierer.py
59.46% <0%> (-2.7%)
⬇️


resolver/hc_resolver.c
92.45% <0%> (-2.11%)
⬇️


meta2v2/meta2_filters_check.c
73.78% <0%> (-1.63%)
⬇️


proxy/cache_actions.c
78.23% <0%> (-1.61%)
⬇️


oio/blob/client.py
91.55% <0%> (-1.4%)
⬇️


oio/container/backup.py
72.7% <0%> (-1.38%)
⬇️


oio/api/base.py
91.57% <0%> (-1.2%)
⬇️


oio/account/client.py
79.32% <0%> (-1.14%)
⬇️


sqliterepo/version.c
83.71% <0%> (-0.74%)
⬇️


... and 46 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 56d41b6...86ed150. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1640,2019-01-02T17:54:41Z,2019-01-03T14:05:12Z,2019-01-03T15:56:02Z,MERGED,True,8,2,3,https://github.com/fvennetier,Python API: document and use ServiceUnavailable exception,1,"['bug :scream:', 'enhancement :sparkles:', 'language:python :snake:', 'documentation :book:']",https://github.com/open-io/oio-sds/pull/1640,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1640,"SUMMARY
When appropriate, raise ServiceUnavailable exceptions instead of the more generic OioException. This will help client programs trap these exceptions and display appropriate error messages.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.7.dev16","SUMMARY
When appropriate, raise ServiceUnavailable exceptions instead of the more generic OioException. This will help client programs trap these exceptions and display appropriate error messages.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.7.dev16",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1640,2019-01-02T17:54:41Z,2019-01-03T14:05:12Z,2019-01-03T15:56:02Z,MERGED,True,8,2,3,https://github.com/fvennetier,Python API: document and use ServiceUnavailable exception,1,"['bug :scream:', 'enhancement :sparkles:', 'language:python :snake:', 'documentation :book:']",https://github.com/open-io/oio-sds/pull/1640,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1640#issuecomment-451084213,"SUMMARY
When appropriate, raise ServiceUnavailable exceptions instead of the more generic OioException. This will help client programs trap these exceptions and display appropriate error messages.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.7.dev16","Codecov Report

Merging #1640 into 4.2.x will increase coverage by 0.01%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##            4.2.x    #1640      +/-   ##
==========================================
+ Coverage   79.87%   79.87%   +0.01%     
==========================================
  Files         341      341              
  Lines       62950    62950              
  Branches     6719     6719              
==========================================
+ Hits        50272    50273       +1     
- Misses      12649    12650       +1     
+ Partials       29       27       -2



Impacted Files
Coverage Δ





oio/common/exceptions.py
97.82% <ø> (ø)
⬆️


oio/api/ec.py
93.86% <0%> (ø)
⬆️


oio/common/storage_functions.py
92.86% <100%> (ø)
⬆️


oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


oio/crawler/storage_tierer.py
59.46% <0%> (-2.7%)
⬇️


oio/conscience/client.py
70.13% <0%> (-1.29%)
⬇️


oio/account/client.py
85.06% <0%> (-1.14%)
⬇️


meta2v2/meta2_filters_action_content.c
90.29% <0%> (-0.78%)
⬇️


sqlx/sqlx_service.c
83.12% <0%> (-0.65%)
⬇️


rawx-lib/src/attr_handler.c
69.5% <0%> (-0.5%)
⬇️


... and 19 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update bded66a...313b841. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1641,2019-01-04T18:12:00Z,2019-02-04T16:42:40Z,2019-02-04T16:44:23Z,MERGED,True,426,175,30,https://github.com/fvennetier,Test sqliterepo replication,9,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1641,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1641,"SUMMARY

Test the two mechanisms of database restoration: the synchronous one (DB_RESTORE) and the asynchronous one (DB_DUMP/DB_PIPEFROM).
Include soft_max configuration value in the cache statistics (the hard_max was displayed as max).
Support 'client specified' peers in some more proxy routes. This allows tests to target a request to a specified peer, and compare the results from different peers.
Slightly modify oio-reset.sh deployment to use comprehensible service IDs.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo
proxy

SDS VERSION
openio 4.2.7.dev27","SUMMARY

Test the two mechanisms of database restoration: the synchronous one (DB_RESTORE) and the asynchronous one (DB_DUMP/DB_PIPEFROM).
Include soft_max configuration value in the cache statistics (the hard_max was displayed as max).
Support 'client specified' peers in some more proxy routes. This allows tests to target a request to a specified peer, and compare the results from different peers.
Slightly modify oio-reset.sh deployment to use comprehensible service IDs.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo
proxy

SDS VERSION
openio 4.2.7.dev27",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1641,2019-01-04T18:12:00Z,2019-02-04T16:42:40Z,2019-02-04T16:44:23Z,MERGED,True,426,175,30,https://github.com/fvennetier,Test sqliterepo replication,9,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1641,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1641#issuecomment-452653379,"SUMMARY

Test the two mechanisms of database restoration: the synchronous one (DB_RESTORE) and the asynchronous one (DB_DUMP/DB_PIPEFROM).
Include soft_max configuration value in the cache statistics (the hard_max was displayed as max).
Support 'client specified' peers in some more proxy routes. This allows tests to target a request to a specified peer, and compare the results from different peers.
Slightly modify oio-reset.sh deployment to use comprehensible service IDs.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo
proxy

SDS VERSION
openio 4.2.7.dev27","Codecov Report

Merging #1641 into master will decrease coverage by 0.05%.
The diff coverage is 88.98%.


@@            Coverage Diff             @@
##           master    #1641      +/-   ##
==========================================
- Coverage   79.78%   79.74%   -0.04%     
==========================================
  Files         365      366       +1     
  Lines       67853    67929      +76     
  Branches     6851     6852       +1     
==========================================
+ Hits        54133    54165      +32     
- Misses      13601    13650      +49     
+ Partials      119      114       -5



Impacted Files
Coverage Δ





...sts/functional/content/test_content_perfectible.py
86.8% <ø> (-5.64%)
⬇️


core/oiostr.h
100% <ø> (ø)
⬆️


tests/functional/blob/test_mover.py
100% <ø> (ø)
⬆️


tests/functional/blob/test_auditor.py
100% <ø> (ø)
⬆️


oio/api/io.py
84.76% <ø> (-0.53%)
⬇️


tests/functional/blob/test_rebuilder.py
100% <ø> (ø)
⬆️


sqliterepo/sqlite_utils.h
100% <ø> (ø)
⬆️


meta2v2/meta2_utils.c
84.69% <ø> (ø)
⬆️


meta2v2/meta2_backend.c
82.8% <ø> (-0.01%)
⬇️


tests/functional/blob/test_converter.py
97.24% <ø> (ø)
⬆️


... and 57 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 45d310f...602fd15. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1642,2019-01-08T18:15:48Z,2019-01-18T08:43:05Z,2019-01-18T08:43:11Z,MERGED,True,107,45,9,https://github.com/fvennetier,Lock the load balancer while reloading a service slot,6,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1642,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1642,"SUMMARY

Fix small memory leak in meta2.
Rework the way we feed the load balancer with lists of services. Prevent nasty messages like LB reload not followed by rehash.

Jira: OS-294
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
meta2
metautils

SDS VERSION
openio 4.2.7.dev18","SUMMARY

Fix small memory leak in meta2.
Rework the way we feed the load balancer with lists of services. Prevent nasty messages like LB reload not followed by rehash.

Jira: OS-294
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
meta2
metautils

SDS VERSION
openio 4.2.7.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1643,2019-01-09T10:48:09Z,2019-01-09T11:04:40Z,2019-01-14T09:25:23Z,MERGED,True,38,7,2,https://github.com/jfsmig,core/lb: Avoid spamming with warnings,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1643,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1643,"SUMMARY
A bug might still happen in the core/lb logic, when a polling request is executed between the refresh and rehash steps of the update. When we detect it, we send a WARN trace in the journal.
What we fix here is sending that WARN trace just once per minute.
There is no need to spam the log file.
ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
openio 4.2.7.dev20","SUMMARY
A bug might still happen in the core/lb logic, when a polling request is executed between the refresh and rehash steps of the update. When we detect it, we send a WARN trace in the journal.
What we fix here is sending that WARN trace just once per minute.
There is no need to spam the log file.
ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
openio 4.2.7.dev20",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1644,2019-01-09T18:17:51Z,2019-01-18T08:43:33Z,2019-01-18T08:43:36Z,MERGED,True,530,235,20,https://github.com/fvennetier,Regenerate missing chunk attributes,8,[],https://github.com/open-io/oio-sds/pull/1644,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1644,"SUMMARY
A flaw in the xfs_repair tool can remove some chunk extended attributes. This PR aims at updating our various tools to tolerate missing attributes, and regenerate them, especially the famous ""fullpath"".
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-crawler-integrity
oio-blob-auditor

SDS VERSION
openio 4.2.7.dev24","SUMMARY
A flaw in the xfs_repair tool can remove some chunk extended attributes. This PR aims at updating our various tools to tolerate missing attributes, and regenerate them, especially the famous ""fullpath"".
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-crawler-integrity
oio-blob-auditor

SDS VERSION
openio 4.2.7.dev24",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1644,2019-01-09T18:17:51Z,2019-01-18T08:43:33Z,2019-01-18T08:43:36Z,MERGED,True,530,235,20,https://github.com/fvennetier,Regenerate missing chunk attributes,8,[],https://github.com/open-io/oio-sds/pull/1644,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1644#issuecomment-453031599,"SUMMARY
A flaw in the xfs_repair tool can remove some chunk extended attributes. This PR aims at updating our various tools to tolerate missing attributes, and regenerate them, especially the famous ""fullpath"".
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-crawler-integrity
oio-blob-auditor

SDS VERSION
openio 4.2.7.dev24","Codecov Report

Merging #1644 into 4.2.x will decrease coverage by 0.05%.
The diff coverage is 79.68%.


@@            Coverage Diff             @@
##            4.2.x    #1644      +/-   ##
==========================================
- Coverage   79.87%   79.83%   -0.04%     
==========================================
  Files         341      341              
  Lines       62987    63130     +143     
  Branches     6727     6727              
==========================================
+ Hits        50306    50393      +87     
- Misses      12658    12710      +52     
- Partials       23       27       +4



Impacted Files
Coverage Δ





oio/container/client.py
85.34% <ø> (ø)
⬆️


oio/directory/client.py
88.58% <ø> (ø)
⬆️


oio/crawler/integrity.py
69.95% <0%> (+0.84%)
⬆️


oio/blob/utils.py
91.53% <100%> (+1.33%)
⬆️


rawx-apache2/src/rawx_repo_core.c
72.45% <100%> (ø)
⬆️


tests/functional/rdir/test_indexer.py
92.48% <100%> (-6.39%)
⬇️


oio/common/utils.py
68.97% <100%> (+2.47%)
⬆️


oio/common/xattr.py
69.24% <45.46%> (+0.81%)
⬆️


oio/blob/indexer.py
70.74% <48.28%> (-8.35%)
⬇️


oio/common/exceptions.py
95.08% <50%> (-2.73%)
⬇️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 991ab10...fa6fd06. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1645,2019-01-10T10:33:05Z,2019-01-30T15:47:28Z,2019-02-05T17:28:33Z,MERGED,True,870,292,27,https://github.com/AymericDu,Save the number of missing chunks,12,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1645,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1645,"SUMMARY

Save the number of missing chunks in the meta2 database
Use the event (container.state) to update the account
Increase the counter to each chunk not uploaded
Decrease the counter to each deleted object with missing chunks
Decrease the counter to each rebuilt chunk (chunk not uploaded)
Recompute the counter of missing chunks

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
account
proxy
meta2

SDS VERSION
openio 4.3.1.dev32","SUMMARY

Save the number of missing chunks in the meta2 database
Use the event (container.state) to update the account
Increase the counter to each chunk not uploaded
Decrease the counter to each deleted object with missing chunks
Decrease the counter to each rebuilt chunk (chunk not uploaded)
Recompute the counter of missing chunks

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
account
proxy
meta2

SDS VERSION
openio 4.3.1.dev32",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1645,2019-01-10T10:33:05Z,2019-01-30T15:47:28Z,2019-02-05T17:28:33Z,MERGED,True,870,292,27,https://github.com/AymericDu,Save the number of missing chunks,12,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1645,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1645#issuecomment-455188155,"SUMMARY

Save the number of missing chunks in the meta2 database
Use the event (container.state) to update the account
Increase the counter to each chunk not uploaded
Decrease the counter to each deleted object with missing chunks
Decrease the counter to each rebuilt chunk (chunk not uploaded)
Recompute the counter of missing chunks

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
account
proxy
meta2

SDS VERSION
openio 4.3.1.dev32","Codecov Report

Merging #1645 into master will increase coverage by 0.12%.
The diff coverage is 95.29%.


@@            Coverage Diff             @@
##           master    #1645      +/-   ##
==========================================
+ Coverage   79.62%   79.74%   +0.12%     
==========================================
  Files         368      368              
  Lines       68269    68591     +322     
  Branches     6857     6886      +29     
==========================================
+ Hits        54355    54691     +336     
+ Misses      13791    13789       -2     
+ Partials      123      111      -12



Impacted Files
Coverage Δ





tests/functional/cli/object/test_object.py
52.06% <ø> (ø)
⬆️


tests/functional/cli/account/test_account.py
25% <0%> (-1.76%)
⬇️


proxy/meta2v2_remote.c
84.84% <100%> (+2%)
⬆️


tests/unit/test_meta2_backend.c
99.71% <100%> (+0.02%)
⬆️


oio/account/server.py
89.57% <100%> (+0.19%)
⬆️


tests/functional/account/test_backend.py
100% <100%> (ø)
⬆️


tests/functional/container/test_container.py
98.34% <100%> (+0.12%)
⬆️


oio/account/client.py
87.36% <100%> (+5.75%)
⬆️


oio/container/client.py
85.27% <100%> (+0.19%)
⬆️


meta2v2/meta2_filters_action_container.c
59.59% <100%> (-0.48%)
⬇️


... and 44 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2bebbaf...0e29bb7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1646,2019-01-10T12:11:36Z,2019-01-17T13:34:08Z,2019-01-18T09:24:04Z,MERGED,True,22,5,1,https://github.com/AymericDu,Update the sample of oio-blob-indexer configuration,1,[],https://github.com/open-io/oio-sds/pull/1646,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1646,"SUMMARY
Update the sample of oio-blob-indexer configuration
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

oio-blob-indexer

SDS VERSION
openio 4.2.7.dev19","SUMMARY
Update the sample of oio-blob-indexer configuration
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

oio-blob-indexer

SDS VERSION
openio 4.2.7.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1646,2019-01-10T12:11:36Z,2019-01-17T13:34:08Z,2019-01-18T09:24:04Z,MERGED,True,22,5,1,https://github.com/AymericDu,Update the sample of oio-blob-indexer configuration,1,[],https://github.com/open-io/oio-sds/pull/1646,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1646#issuecomment-453098096,"SUMMARY
Update the sample of oio-blob-indexer configuration
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

oio-blob-indexer

SDS VERSION
openio 4.2.7.dev19","Codecov Report

Merging #1646 into 4.2.x will increase coverage by 0.03%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##            4.2.x   #1646      +/-   ##
=========================================
+ Coverage   79.87%   79.9%   +0.03%     
=========================================
  Files         341     341              
  Lines       62987   62987              
  Branches     6727    6727              
=========================================
+ Hits        50306   50323      +17     
- Misses      12658   12661       +3     
+ Partials       23       3      -20



Impacted Files
Coverage Δ





rawx-lib/src/attr_handler.c
68% <0%> (-2%)
⬇️


meta2v2/meta2_filters_extract.c
90.1% <0%> (-1.98%)
⬇️


oio/api/io.py
84.1% <0%> (-1.34%)
⬇️


sqliterepo/gridd_client_pool.c
83.13% <0%> (-0.84%)
⬇️


rawx-apache2/src/rawx_repository.c
54.01% <0%> (-0.84%)
⬇️


sqliterepo/cache.c
89.6% <0%> (-0.5%)
⬇️


sqliterepo/replication_dispatcher.c
64.29% <0%> (-0.3%)
⬇️


sqliterepo/repository.c
73.21% <0%> (-0.2%)
⬇️


sqliterepo/election.c
90.1% <0%> (-0.19%)
⬇️


core/lb.c
93.21% <0%> (-0.12%)
⬇️


... and 19 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 991ab10...40511ce. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1647,2019-01-14T22:14:33Z,2019-01-15T13:51:10Z,2019-01-15T13:54:37Z,MERGED,True,82,70,3,https://github.com/jfsmig,core: Inline small fields of the oio_url_s ,2,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1647,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1647,"SUMMARY
4 small fields are now inlined, to avoid 4 memory alloc/free each time an oio_url_s is used (i.e. all the time in any service).
ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
master (openio 4.2.7.dev24?)","SUMMARY
4 small fields are now inlined, to avoid 4 memory alloc/free each time an oio_url_s is used (i.e. all the time in any service).
ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
master (openio 4.2.7.dev24?)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1648,2019-01-15T10:20:55Z,2019-01-18T07:13:11Z,2019-01-18T09:24:00Z,MERGED,True,47,12,2,https://github.com/AymericDu, travis: Update the distribution to Ubuntu Xenial,2,[],https://github.com/open-io/oio-sds/pull/1648,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1648,"SUMMARY
travis: Update the distribution to Ubuntu Xenial
ISSUE TYPE

Update Pull Request

COMPONENT NAME

Travis

SDS VERSION
openio 4.2.8.dev2","SUMMARY
travis: Update the distribution to Ubuntu Xenial
ISSUE TYPE

Update Pull Request

COMPONENT NAME

Travis

SDS VERSION
openio 4.2.8.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1648,2019-01-15T10:20:55Z,2019-01-18T07:13:11Z,2019-01-18T09:24:00Z,MERGED,True,47,12,2,https://github.com/AymericDu, travis: Update the distribution to Ubuntu Xenial,2,[],https://github.com/open-io/oio-sds/pull/1648,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1648#issuecomment-454365944,"SUMMARY
travis: Update the distribution to Ubuntu Xenial
ISSUE TYPE

Update Pull Request

COMPONENT NAME

Travis

SDS VERSION
openio 4.2.8.dev2","Codecov Report

Merging #1648 into 4.2.x will decrease coverage by 0.36%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1648      +/-   ##
==========================================
- Coverage   79.87%   79.52%   -0.35%     
==========================================
  Files         341      341              
  Lines       62987    61998     -989     
  Branches     6727     6727              
==========================================
- Hits        50306    49296    -1010     
- Misses      12658    12702      +44     
+ Partials       23        0      -23



Impacted Files
Coverage Δ





metautils/lib/utils_meta0_info.c
80% <0%> (-10.9%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta2v2/meta2_filter_context.c
79.6% <0%> (-8.28%)
⬇️


cache/cache_lru.c
85.72% <0%> (-4.76%)
⬇️


sqliterepo/restoration.c
84% <0%> (-4%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.81%)
⬇️


metautils/lib/lb.c
91.02% <0%> (-3.49%)
⬇️


metautils/lib/utils_kv.c
66.67% <0%> (-3.1%)
⬇️


meta2v2/meta2_bean_utils.c
59% <0%> (-3%)
⬇️


meta1v2/compound_types.c
70.59% <0%> (-2.99%)
⬇️


... and 165 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 991ab10...dbf6dc7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1649,2019-01-15T12:38:21Z,2019-02-12T16:51:36Z,2019-04-03T09:10:53Z,MERGED,True,213,212,10,https://github.com/jfsmig,core: Allow to send syslog via UDP port 514,7,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1649,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1649,"SUMMARY
Allows a UDP/IP address (IP:PORT) on the CLI of the services written in C
ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
openio 4.2.7.dev26
ADDITIONAL INFORMATION
In order to log to syslog through UDP, add the new -u parameter to the command line of the service, along with the IP address and port to send logs to.
This parameter is recognized by:

oio-daemon
oio-meta0-server
oio-meta1-server
oio-meta2-server
oio-proxy
oio-rdir-server
oio-sqlx-server","SUMMARY
Allows a UDP/IP address (IP:PORT) on the CLI of the services written in C
ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
openio 4.2.7.dev26
ADDITIONAL INFORMATION
In order to log to syslog through UDP, add the new -u parameter to the command line of the service, along with the IP address and port to send logs to.
This parameter is recognized by:

oio-daemon
oio-meta0-server
oio-meta1-server
oio-meta2-server
oio-proxy
oio-rdir-server
oio-sqlx-server",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1649,2019-01-15T12:38:21Z,2019-02-12T16:51:36Z,2019-04-03T09:10:53Z,MERGED,True,213,212,10,https://github.com/jfsmig,core: Allow to send syslog via UDP port 514,7,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1649,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1649#issuecomment-459357066,"SUMMARY
Allows a UDP/IP address (IP:PORT) on the CLI of the services written in C
ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
openio 4.2.7.dev26
ADDITIONAL INFORMATION
In order to log to syslog through UDP, add the new -u parameter to the command line of the service, along with the IP address and port to send logs to.
This parameter is recognized by:

oio-daemon
oio-meta0-server
oio-meta1-server
oio-meta2-server
oio-proxy
oio-rdir-server
oio-sqlx-server","Codecov Report

Merging #1649 into master will decrease coverage by 0.13%.
The diff coverage is 32.18%.


@@            Coverage Diff             @@
##           master    #1649      +/-   ##
==========================================
- Coverage   79.44%   79.32%   -0.12%     
==========================================
  Files         358      368      +10     
  Lines       67588    67765     +177     
  Branches     6879     6883       +4     
==========================================
+ Hits        53687    53745      +58     
- Misses      13795    13914     +119     
  Partials      106      106



Impacted Files
Coverage Δ





core/tool_sdk.c
69.52% <ø> (-0.36%)
⬇️


core/tool_roundtrip.c
84.5% <ø> (-0.03%)
⬇️


tests/func/test_weird_chars.c
90.79% <ø> (-0.11%)
⬇️


metautils/lib/utils_resolv.c
65.93% <100%> (+0.02%)
⬆️


metautils/lib/common_main.c
39.44% <7.5%> (-7.85%)
⬇️


core/log.c
66.23% <85.19%> (-3.54%)
⬇️


oio/ecd/app.py
59.53% <0%> (-5.95%)
⬇️


oio/blob/client.py
88.82% <0%> (-1.39%)
⬇️


meta2v2/meta2_filters_action_container.c
60.36% <0%> (-1.05%)
⬇️


rawx-lib/src/attr_handler.c
67.67% <0%> (-0.99%)
⬇️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6d4340b...9f48091. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1650,2019-01-15T14:01:15Z,2019-02-12T16:52:23Z,2019-02-16T21:26:29Z,MERGED,True,366,761,21,https://github.com/jfsmig,tools: Deduplicate code from bootstrap scripts,4,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1650,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1650,"SUMMARY
Deduplicate code from tools related to the ZK administration. It reuse code in the ""oio.zookeeper"" module (renamed oio.zk) and now provides a set of openio sub commands.
# openio zk -h  
Command ""zk"" matches:
  zk armageddon -> the old zk-reset.py, used by oio-reset.sh
  zk bootstrap -> the old zk-bootstrap.py
  zk reset -> the old oio-election-reset.py
  zk smudge -> the old oio-election-smudge.py
  zk stat -> a mix of oio-election-stat.py and oio-election-dump.py

ISSUE TYPE
enhancement
COMPONENT NAME
tools
SDS VERSION
openio 4.2.7.dev25","SUMMARY
Deduplicate code from tools related to the ZK administration. It reuse code in the ""oio.zookeeper"" module (renamed oio.zk) and now provides a set of openio sub commands.
# openio zk -h  
Command ""zk"" matches:
  zk armageddon -> the old zk-reset.py, used by oio-reset.sh
  zk bootstrap -> the old zk-bootstrap.py
  zk reset -> the old oio-election-reset.py
  zk smudge -> the old oio-election-smudge.py
  zk stat -> a mix of oio-election-stat.py and oio-election-dump.py

ISSUE TYPE
enhancement
COMPONENT NAME
tools
SDS VERSION
openio 4.2.7.dev25",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1650,2019-01-15T14:01:15Z,2019-02-12T16:52:23Z,2019-02-16T21:26:29Z,MERGED,True,366,761,21,https://github.com/jfsmig,tools: Deduplicate code from bootstrap scripts,4,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1650,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1650#issuecomment-454557150,"SUMMARY
Deduplicate code from tools related to the ZK administration. It reuse code in the ""oio.zookeeper"" module (renamed oio.zk) and now provides a set of openio sub commands.
# openio zk -h  
Command ""zk"" matches:
  zk armageddon -> the old zk-reset.py, used by oio-reset.sh
  zk bootstrap -> the old zk-bootstrap.py
  zk reset -> the old oio-election-reset.py
  zk smudge -> the old oio-election-smudge.py
  zk stat -> a mix of oio-election-stat.py and oio-election-dump.py

ISSUE TYPE
enhancement
COMPONENT NAME
tools
SDS VERSION
openio 4.2.7.dev25","Codecov Report

Merging #1650 into master will increase coverage by 0.03%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##           master   #1650      +/-   ##
=========================================
+ Coverage   79.68%   79.7%   +0.03%     
=========================================
  Files         355     365      +10     
  Lines       67718   67853     +135     
  Branches     6852    6852              
=========================================
+ Hits        53953   54077     +124     
- Misses      13638   13655      +17     
+ Partials      127     121       -6



Impacted Files
Coverage Δ





oio/blob/indexer.py
82.15% <0%> (-2.67%)
⬇️


resolver/hc_resolver.c
92.45% <0%> (-1.81%)
⬇️


meta2v2/meta2_filters_action_content.c
91.85% <0%> (-0.78%)
⬇️


metautils/lib/comm_message.c
85.38% <0%> (-0.52%)
⬇️


metautils/lib/gridd_client_ext.c
79.78% <0%> (-0.36%)
⬇️


server/transport_gridd.c
78.11% <0%> (-0.19%)
⬇️


sqlx/sqlx_service.c
83.64% <0%> (-0.13%)
⬇️


metautils/lib/comm_converter.c
74.94% <0%> (ø)
⬆️


oio/event/beanstalk.py
78.5% <0%> (ø)
⬆️


proxy/common.c
88.96% <0%> (ø)
⬆️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 172b752...50cb4ff. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1651,2019-01-16T11:23:25Z,2019-01-29T22:23:04Z,2019-01-29T22:59:14Z,MERGED,True,94,219,24,https://github.com/jfsmig,core: Forget the service subtype,2,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1651,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1651,"SUMMARY
The current PR removes that service subtype from objects URL.
The oio_url_s represents the official composite path to a logical entity (either an account, a container or an object). Prior to this PR, is contained a token called ""type"" that acted as a subtype of the actual service type.
The use case was to allow an end user to have a single reference (meta1) but several containers (meta2). The problem is that a container (a.k.a. a base on a meta2 service) is identified with the ID ... of the reference (plus a service type and a sequence number). With a subtype we could multiply the number of containers with an action of one element of the identifier tuple.
All the containers of a given reference could be listed easily. But now the notion of account exist and is listable, playing the same role. The ""url type"" feature has been forgotten, became useless then obsolete. Now it bloats the code but serves no purpose.
ISSUE TYPE
enhancement
COMPONENT NAME
core, metautils, sqliterepo, meta1, meta2, rawx
SDS VERSION
openio 4.2.7.dev28","SUMMARY
The current PR removes that service subtype from objects URL.
The oio_url_s represents the official composite path to a logical entity (either an account, a container or an object). Prior to this PR, is contained a token called ""type"" that acted as a subtype of the actual service type.
The use case was to allow an end user to have a single reference (meta1) but several containers (meta2). The problem is that a container (a.k.a. a base on a meta2 service) is identified with the ID ... of the reference (plus a service type and a sequence number). With a subtype we could multiply the number of containers with an action of one element of the identifier tuple.
All the containers of a given reference could be listed easily. But now the notion of account exist and is listable, playing the same role. The ""url type"" feature has been forgotten, became useless then obsolete. Now it bloats the code but serves no purpose.
ISSUE TYPE
enhancement
COMPONENT NAME
core, metautils, sqliterepo, meta1, meta2, rawx
SDS VERSION
openio 4.2.7.dev28",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1651,2019-01-16T11:23:25Z,2019-01-29T22:23:04Z,2019-01-29T22:59:14Z,MERGED,True,94,219,24,https://github.com/jfsmig,core: Forget the service subtype,2,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1651,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1651#issuecomment-454765188,"SUMMARY
The current PR removes that service subtype from objects URL.
The oio_url_s represents the official composite path to a logical entity (either an account, a container or an object). Prior to this PR, is contained a token called ""type"" that acted as a subtype of the actual service type.
The use case was to allow an end user to have a single reference (meta1) but several containers (meta2). The problem is that a container (a.k.a. a base on a meta2 service) is identified with the ID ... of the reference (plus a service type and a sequence number). With a subtype we could multiply the number of containers with an action of one element of the identifier tuple.
All the containers of a given reference could be listed easily. But now the notion of account exist and is listable, playing the same role. The ""url type"" feature has been forgotten, became useless then obsolete. Now it bloats the code but serves no purpose.
ISSUE TYPE
enhancement
COMPONENT NAME
core, metautils, sqliterepo, meta1, meta2, rawx
SDS VERSION
openio 4.2.7.dev28","Codecov Report

Merging #1651 into master will decrease coverage by 0.01%.
The diff coverage is 80.4%.


@@            Coverage Diff             @@
##           master    #1651      +/-   ##
==========================================
- Coverage   79.68%   79.68%   -<.01%     
==========================================
  Files         355      365      +10     
  Lines       67718    67769      +51     
  Branches     6852     6838      -14     
==========================================
+ Hits        53953    53993      +40     
- Misses      13638    13659      +21     
+ Partials      127      117      -10



Impacted Files
Coverage Δ





tests/unit/test_url.c
97.09% <ø> (-0.1%)
⬇️


sqliterepo/sqlite_utils.c
92.37% <ø> (-0.57%)
⬇️


meta2v2/meta2_utils.c
84.69% <ø> (ø)
⬆️


meta2v2/meta2_backend.c
82.93% <ø> (+0.12%)
⬆️


proxy/metacd_http.c
90.77% <ø> (+1.05%)
⬆️


tests/functional/event/test_events_emission.py
94.29% <ø> (ø)
⬆️


rawx-apache2/src/rawx_event.c
53.66% <ø> (ø)
⬆️


core/proxy.c
81.97% <ø> (+0.31%)
⬆️


core/tool_roundtrip.c
84.62% <0%> (+0.16%)
⬆️


meta1v2/meta1_server.c
73.84% <100%> (+0.94%)
⬆️


... and 57 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 172b752...0230bf1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1652,2019-01-18T14:19:39Z,2019-01-30T11:35:03Z,2019-01-30T12:45:34Z,MERGED,True,75,105,7,https://github.com/jfsmig,"rawx: Upon a DELETE, just read the necessary xattr",6,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1652,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1652,"SUMMARY
Perform half less syscall when deleting a chunk.
Prior to this PR, all the XATTR were read from the chunk, and the chunk was opened twice. Now the reawx just read the xattr holding the full (logical) path of the object the chunk belongs to, and do everything with the same file descriptor.
ISSUE TYPE
enhancement
COMPONENT NAME
core, rawx
SDS VERSION
openio 4.2.7.dev26
ADDITIONAL INFORMATION
Let's see if a bot on Twitter will relay this post from OpenIO @open-io, because we talk about #OpenSource #ObjectStorage, and sometimes used bad words like ""fuck"".","SUMMARY
Perform half less syscall when deleting a chunk.
Prior to this PR, all the XATTR were read from the chunk, and the chunk was opened twice. Now the reawx just read the xattr holding the full (logical) path of the object the chunk belongs to, and do everything with the same file descriptor.
ISSUE TYPE
enhancement
COMPONENT NAME
core, rawx
SDS VERSION
openio 4.2.7.dev26
ADDITIONAL INFORMATION
Let's see if a bot on Twitter will relay this post from OpenIO @open-io, because we talk about #OpenSource #ObjectStorage, and sometimes used bad words like ""fuck"".",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1652,2019-01-18T14:19:39Z,2019-01-30T11:35:03Z,2019-01-30T12:45:34Z,MERGED,True,75,105,7,https://github.com/jfsmig,"rawx: Upon a DELETE, just read the necessary xattr",6,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1652,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1652#issuecomment-458726032,"SUMMARY
Perform half less syscall when deleting a chunk.
Prior to this PR, all the XATTR were read from the chunk, and the chunk was opened twice. Now the reawx just read the xattr holding the full (logical) path of the object the chunk belongs to, and do everything with the same file descriptor.
ISSUE TYPE
enhancement
COMPONENT NAME
core, rawx
SDS VERSION
openio 4.2.7.dev26
ADDITIONAL INFORMATION
Let's see if a bot on Twitter will relay this post from OpenIO @open-io, because we talk about #OpenSource #ObjectStorage, and sometimes used bad words like ""fuck"".","Codecov Report

Merging #1652 into 4.2.x will increase coverage by 0.09%.
The diff coverage is 87.81%.


@@            Coverage Diff            @@
##            4.2.x   #1652      +/-   ##
=========================================
+ Coverage   79.52%   79.6%   +0.09%     
=========================================
  Files         341     341              
  Lines       62173   62165       -8     
  Branches     6730    6725       -5     
=========================================
+ Hits        49436   49482      +46     
+ Misses      12737   12683      -54



Impacted Files
Coverage Δ





rawx-lib/src/attr_handler.c
65.97% <ø> (-2.19%)
⬇️


rawx-apache2/src/rawx_repo_core.c
75.99% <ø> (+3.97%)
⬆️


core/url.c
83.61% <87.5%> (+5.71%)
⬆️


rawx-apache2/src/rawx_repository.c
56.34% <87.88%> (+1.57%)
⬆️


metautils/lib/utils_errors.c
37.5% <0%> (-12.5%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


oio/crawler/storage_tierer.py
60.37% <0%> (-1.8%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 81f07f7...7d2c319. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1653,2019-01-18T17:53:31Z,2019-03-06T10:06:47Z,2019-03-06T10:06:50Z,MERGED,True,49,12,8,https://github.com/fvennetier,Limit length of request ID,4,[],https://github.com/open-io/oio-sds/pull/1653,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1653,"SUMMARY
Bring coherency to the management of request IDs by limiting their length to 63 characters.
Some services were accepting 63 characters, other 64, and other did not limit the length at all.

 Python API
 TCP server
 rawx

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-proxy
rawx
event-agent

SDS VERSION
openio 4.4.0.0b1.dev71","SUMMARY
Bring coherency to the management of request IDs by limiting their length to 63 characters.
Some services were accepting 63 characters, other 64, and other did not limit the length at all.

 Python API
 TCP server
 rawx

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-proxy
rawx
event-agent

SDS VERSION
openio 4.4.0.0b1.dev71",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1653,2019-01-18T17:53:31Z,2019-03-06T10:06:47Z,2019-03-06T10:06:50Z,MERGED,True,49,12,8,https://github.com/fvennetier,Limit length of request ID,4,[],https://github.com/open-io/oio-sds/pull/1653,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1653#issuecomment-455806031,"SUMMARY
Bring coherency to the management of request IDs by limiting their length to 63 characters.
Some services were accepting 63 characters, other 64, and other did not limit the length at all.

 Python API
 TCP server
 rawx

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-proxy
rawx
event-agent

SDS VERSION
openio 4.4.0.0b1.dev71","Codecov Report

Merging #1653 into master will increase coverage by 0.01%.
The diff coverage is 61.91%.


@@            Coverage Diff             @@
##           master    #1653      +/-   ##
==========================================
+ Coverage   79.56%   79.56%   +0.01%     
==========================================
  Files         369      369              
  Lines       67940    67956      +16     
  Branches     6845     6846       +1     
==========================================
+ Hits        54049    54062      +13     
- Misses      13785    13788       +3     
  Partials      106      106



Impacted Files
Coverage Δ





server/transport_gridd.c
77.92% <100%> (-0.2%)
⬇️


oio/common/constants.py
100% <100%> (ø)
⬆️


oio/account/server.py
89.75% <100%> (+0.18%)
⬆️


oio/api/base.py
88.43% <25%> (-4.68%)
⬇️


rawx-apache2/src/rawx_internals.c
76.39% <71.43%> (-1.22%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/content/plain.py
72.42% <0%> (-5.17%)
⬇️


oio/account/client.py
81.61% <0%> (-4.59%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.09%)
⬇️


meta1v2/meta1_server.c
73.34% <0%> (-1.9%)
⬇️


... and 34 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 07f652d...c99ac8e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1654,2019-01-29T14:13:13Z,2019-01-31T11:25:55Z,2019-02-04T16:43:56Z,MERGED,True,53,22,2,https://github.com/fvennetier,Fix Lifecycle XML parsing when a namespace is provided,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1654,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1654,"SUMMARY
When the Lifecycle configuration is set through swift3, an namespace is set on the XML document. Some adaptations had to be made for the tags to be matched to the expected ones.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION

openio 4.3.2.dev1","SUMMARY
When the Lifecycle configuration is set through swift3, an namespace is set on the XML document. Some adaptations had to be made for the tags to be matched to the expected ones.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION

openio 4.3.2.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1654,2019-01-29T14:13:13Z,2019-01-31T11:25:55Z,2019-02-04T16:43:56Z,MERGED,True,53,22,2,https://github.com/fvennetier,Fix Lifecycle XML parsing when a namespace is provided,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1654,https://github.com/cdelgehier,2,https://github.com/open-io/oio-sds/pull/1654#issuecomment-458679439,"SUMMARY
When the Lifecycle configuration is set through swift3, an namespace is set on the XML document. Some adaptations had to be made for the tags to be matched to the expected ones.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION

openio 4.3.2.dev1","E: Failed to fetch http://mirror.openio.io/pub/repo/openio/sds/18.04/ubuntu/xenial/libzookeeper-java_3.4.13-1oio_all.deb  Could not connect to mirror.openio.io:80 (37.59.36.166), connection timed out

true story :s",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1655,2019-01-29T18:34:14Z,2019-02-01T15:07:55Z,2019-02-04T16:43:26Z,MERGED,True,61,18,5,https://github.com/fvennetier,Tolerate weird LB pool configurations,2,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1655,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1655,"SUMMARY
Tolerate weird service pool configurations, with empty targets or trailing separators.
Jira: OS-314
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

LB

SDS VERSION
openio 4.2.8.dev18","SUMMARY
Tolerate weird service pool configurations, with empty targets or trailing separators.
Jira: OS-314
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

LB

SDS VERSION
openio 4.2.8.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1655,2019-01-29T18:34:14Z,2019-02-01T15:07:55Z,2019-02-04T16:43:26Z,MERGED,True,61,18,5,https://github.com/fvennetier,Tolerate weird LB pool configurations,2,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1655,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1655#issuecomment-458947908,"SUMMARY
Tolerate weird service pool configurations, with empty targets or trailing separators.
Jira: OS-314
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

LB

SDS VERSION
openio 4.2.8.dev18","Codecov Report

Merging #1655 into 4.2.x will increase coverage by 0.04%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1655      +/-   ##
==========================================
+ Coverage   79.52%   79.56%   +0.04%     
==========================================
  Files         341      341              
  Lines       62173    62856     +683     
  Branches     6730     6934     +204     
==========================================
+ Hits        49436    50002     +566     
- Misses      12737    12854     +117



Impacted Files
Coverage Δ





tests/unit/api/test_replication.py
94.98% <100%> (ø)
⬆️


tests/unit/test_lb.c
97.16% <100%> (+0.07%)
⬆️


tests/functional/directory/test_refmapping.py
97.13% <100%> (ø)
⬆️


core/lb.c
91.04% <100%> (+0.1%)
⬆️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


oio/container/backup.py
72.7% <0%> (-1.53%)
⬇️


oio/conscience/client.py
71.43% <0%> (-1.29%)
⬇️


meta2v2/meta2_filters_action_content.c
90% <0%> (-0.78%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 81f07f7...bbdc321. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1656,2019-01-30T00:14:10Z,2019-02-14T21:20:31Z,2019-02-16T21:27:24Z,MERGED,True,42,229,9,https://github.com/jfsmig,Remove the `user_is_a_service` verruca,7,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1656,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1656,"SUMMARY
Remove useless code managing the user_is_a_service oddity.
ISSUE TYPE
enhancement
COMPONENT NAME
meta1, metautils
SDS VERSION
openio 4.3.2.dev6","SUMMARY
Remove useless code managing the user_is_a_service oddity.
ISSUE TYPE
enhancement
COMPONENT NAME
meta1, metautils
SDS VERSION
openio 4.3.2.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1656,2019-01-30T00:14:10Z,2019-02-14T21:20:31Z,2019-02-16T21:27:24Z,MERGED,True,42,229,9,https://github.com/jfsmig,Remove the `user_is_a_service` verruca,7,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1656,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1656#issuecomment-458936286,"SUMMARY
Remove useless code managing the user_is_a_service oddity.
ISSUE TYPE
enhancement
COMPONENT NAME
meta1, metautils
SDS VERSION
openio 4.3.2.dev6","Codecov Report

Merging #1656 into master will increase coverage by 0.11%.
The diff coverage is 66.67%.


@@            Coverage Diff             @@
##           master    #1656      +/-   ##
==========================================
+ Coverage   79.21%   79.32%   +0.11%     
==========================================
  Files         353      369      +16     
  Lines       65838    67408    +1570     
  Branches     6815     6844      +29     
==========================================
+ Hits        52150    53467    +1317     
- Misses      13688    13835     +147     
- Partials        0      106     +106



Impacted Files
Coverage Δ





metautils/lib/lb.c
92.08% <100%> (-0.37%)
⬇️


meta1v2/meta1_backend_services.c
55.98% <100%> (+0.31%)
⬆️


meta1v2/compound_types.c
63.64% <50%> (-0.64%)
⬇️


metautils/lib/utils_svc_policy.c
81.28% <0%> (-3.82%)
⬇️


meta2v2/meta2_bean_utils.c
59% <0%> (-1%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


metautils/lib/gridd_client_ext.c
79.86% <0%> (-0.37%)
⬇️


metautils/lib/comm_message.c
84.17% <0%> (-0.26%)
⬇️


oio/container/backup.py
66.88% <0%> (-0.15%)
⬇️


rawx/rawx.go
84.49% <0%> (ø)



... and 59 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 276c2b6...30df25f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1657,2019-01-30T10:39:23Z,2019-01-30T15:44:40Z,2019-02-12T17:11:24Z,MERGED,True,44,9,4,https://github.com/fvennetier,CI: improve copyright check script,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1657,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1657,"SUMMARY
In addition to the presence of a copyright header, check that files that have just been modified have the current year in it.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CI

SDS VERSION
openio 4.3.2.dev4","SUMMARY
In addition to the presence of a copyright header, check that files that have just been modified have the current year in it.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CI

SDS VERSION
openio 4.3.2.dev4",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1657,2019-01-30T10:39:23Z,2019-01-30T15:44:40Z,2019-02-12T17:11:24Z,MERGED,True,44,9,4,https://github.com/fvennetier,CI: improve copyright check script,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1657,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1657#issuecomment-458988878,"SUMMARY
In addition to the presence of a copyright header, check that files that have just been modified have the current year in it.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CI

SDS VERSION
openio 4.3.2.dev4","Codecov Report

Merging #1657 into master will increase coverage by 0.14%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##           master    #1657      +/-   ##
==========================================
+ Coverage   79.21%   79.35%   +0.14%     
==========================================
  Files         353      369      +16     
  Lines       65838    67422    +1584     
  Branches     6815     6850      +35     
==========================================
+ Hits        52150    53497    +1347     
- Misses      13688    13819     +131     
- Partials        0      106     +106



Impacted Files
Coverage Δ





rawx/conf_reader.go
74% <ø> (ø)



tests/unit/api/test_replication.py
94.68% <100%> (-0.29%)
⬇️


tests/functional/directory/test_refmapping.py
97.09% <100%> (+37.96%)
⬆️


meta2v2/meta2_bean_utils.c
59% <0%> (-1%)
⬇️


proxy/metacd_http.c
89.55% <0%> (-0.31%)
⬇️


rawx/rawx.go
84.49% <0%> (ø)



rawx/handler_stat.go
83.34% <0%> (ø)



rawx/notifier.go
58.77% <0%> (ø)



rawx/configuration.go
56.1% <0%> (ø)



... and 65 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 276c2b6...4dc7b88. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1658,2019-01-31T14:43:49Z,2019-01-31T17:46:47Z,2019-01-31T18:05:11Z,MERGED,True,10,8,1,https://github.com/jfsmig,tools: Improve the check of copyright mentions,2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1658,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1658,"SUMMARY
False negatives happened on empty and removed files. The current PR fixes that. Also produces a lighter debug output.
ISSUE TYPE
Between enhancement and fix
COMPONENT NAME
ci
SDS VERSION
openio 4.3.2.dev20","SUMMARY
False negatives happened on empty and removed files. The current PR fixes that. Also produces a lighter debug output.
ISSUE TYPE
Between enhancement and fix
COMPONENT NAME
ci
SDS VERSION
openio 4.3.2.dev20",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1658,2019-01-31T14:43:49Z,2019-01-31T17:46:47Z,2019-01-31T18:05:11Z,MERGED,True,10,8,1,https://github.com/jfsmig,tools: Improve the check of copyright mentions,2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1658,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1658#issuecomment-459393323,"SUMMARY
False negatives happened on empty and removed files. The current PR fixes that. Also produces a lighter debug output.
ISSUE TYPE
Between enhancement and fix
COMPONENT NAME
ci
SDS VERSION
openio 4.3.2.dev20",Let's do this!,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1658,2019-01-31T14:43:49Z,2019-01-31T17:46:47Z,2019-01-31T18:05:11Z,MERGED,True,10,8,1,https://github.com/jfsmig,tools: Improve the check of copyright mentions,2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1658,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1658#issuecomment-459436784,"SUMMARY
False negatives happened on empty and removed files. The current PR fixes that. Also produces a lighter debug output.
ISSUE TYPE
Between enhancement and fix
COMPONENT NAME
ci
SDS VERSION
openio 4.3.2.dev20","Codecov Report

Merging #1658 into master will increase coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1658      +/-   ##
==========================================
+ Coverage   79.44%   79.45%   +0.01%     
==========================================
  Files         358      369      +11     
  Lines       67588    67742     +154     
  Branches     6879     6879              
==========================================
+ Hits        53687    53816     +129     
- Misses      13795    13820      +25     
  Partials      106      106



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_container.c
59.3% <0%> (-2.1%)
⬇️


rawx-lib/src/attr_handler.c
67.67% <0%> (-0.99%)
⬇️


rawx-apache2/src/rawx_repository.c
55.21% <0%> (-0.63%)
⬇️


sqlx/sqlx_service.c
84% <0%> (-0.39%)
⬇️


metautils/lib/utils_service_info.c
83.34% <0%> (-0.31%)
⬇️


oio/container/backup.py
66.88% <0%> (-0.15%)
⬇️


core/proxy.c
81.73% <0%> (ø)
⬆️


oio/event/beanstalk.py
63.99% <0%> (ø)
⬆️


oio/cli/account/client.py
71.43% <0%> (ø)



oio/event/client.py
42.11% <0%> (ø)



... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6d4340b...c44c19c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1659,2019-02-04T16:04:12Z,2019-02-12T20:39:14Z,2019-02-16T21:26:49Z,MERGED,True,909,1020,40,https://github.com/jfsmig,Multi-Tube: Specialize the queues of events per event kind,10,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1659,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1659,"SUMMARY
Let's affect one specific beanstalkd tube per queue, and have as many queues as there are events kinds. The name of each tube is now configurable.
ISSUE TYPE
enhancement
COMPONENT NAME
events, meta*
SDS VERSION
openio 4.3.2.dev34","SUMMARY
Let's affect one specific beanstalkd tube per queue, and have as many queues as there are events kinds. The name of each tube is now configurable.
ISSUE TYPE
enhancement
COMPONENT NAME
events, meta*
SDS VERSION
openio 4.3.2.dev34",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1660,2019-02-04T16:07:02Z,2019-02-04T16:21:35Z,2019-02-04T16:46:06Z,MERGED,True,2,1,1,https://github.com/jfsmig,CI: Split a long job,1,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1660,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1660,"SUMMARY
Let's parallelize the CI a bit more, when on Travis.
ISSUE TYPE
enhancement
COMPONENT NAME
ci
SDS VERSION
openio 4.3.2.dev34","SUMMARY
Let's parallelize the CI a bit more, when on Travis.
ISSUE TYPE
enhancement
COMPONENT NAME
ci
SDS VERSION
openio 4.3.2.dev34",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1661,2019-02-04T16:12:32Z,2019-02-12T20:38:30Z,2019-02-16T21:27:32Z,MERGED,True,18,12,3,https://github.com/jfsmig,sqliterepo: Faster exit of services,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1661,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1661,"SUMMARY
We do not exit elections but we hard-reset them instead. No need to wait for them.
ISSUE TYPE
Enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.3.2.dev22","SUMMARY
We do not exit elections but we hard-reset them instead. No need to wait for them.
ISSUE TYPE
Enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.3.2.dev22",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1662,2019-02-07T09:50:52Z,2019-02-07T15:44:34Z,2019-02-12T10:22:33Z,MERGED,True,0,4,1,https://github.com/jfsmig,cli: Remove the `--no-rdir` from `directory bootstrap`,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1662,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1662,"SUMMARY
The --no-rdir option still existed in the 4.3.x but triggered a warning.
Now it is not recognized anymore, it is an error to use it, and it should happen in the future 4.4.x
ISSUE TYPE
cleanup
COMPONENT NAME
cli
SDS VERSION
openio 4.3.2.dev32","SUMMARY
The --no-rdir option still existed in the 4.3.x but triggered a warning.
Now it is not recognized anymore, it is an error to use it, and it should happen in the future 4.4.x
ISSUE TYPE
cleanup
COMPONENT NAME
cli
SDS VERSION
openio 4.3.2.dev32",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1663,2019-02-07T22:48:26Z,2019-02-11T12:51:54Z,2019-02-11T16:51:28Z,CLOSED,False,263,102,3,https://github.com/jfsmig,Improve the `directory bootstrap` fairness on multi-DC,3,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1663,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1663,"SUMMARY

 a fair distribution of the meta1 prefixes over the multiple sites
 at most one replica of any prefix is on a single site
 Requirement that locations have max 4 tokens, with the site coming first.
 Ensure by tests that the non-replicated and single-site configurations work

ISSUE TYPE
enhancement
COMPONENT NAME
cli
SDS VERSION
openio 4.3.2.dev3","SUMMARY

 a fair distribution of the meta1 prefixes over the multiple sites
 at most one replica of any prefix is on a single site
 Requirement that locations have max 4 tokens, with the site coming first.
 Ensure by tests that the non-replicated and single-site configurations work

ISSUE TYPE
enhancement
COMPONENT NAME
cli
SDS VERSION
openio 4.3.2.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1663,2019-02-07T22:48:26Z,2019-02-11T12:51:54Z,2019-02-11T16:51:28Z,CLOSED,False,263,102,3,https://github.com/jfsmig,Improve the `directory bootstrap` fairness on multi-DC,3,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1663,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1663#issuecomment-462316725,"SUMMARY

 a fair distribution of the meta1 prefixes over the multiple sites
 at most one replica of any prefix is on a single site
 Requirement that locations have max 4 tokens, with the site coming first.
 Ensure by tests that the non-replicated and single-site configurations work

ISSUE TYPE
enhancement
COMPONENT NAME
cli
SDS VERSION
openio 4.3.2.dev3",Rebased on top of 4.4.x,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1664,2019-02-08T08:09:28Z,2019-02-16T14:37:53Z,2019-02-16T20:47:11Z,MERGED,True,322,7,7,https://github.com/jfsmig,C client: Avoid odd config from the app.,7,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1664,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1664,"SUMMARY
Avoid odd values from the application, when a chunk_size has been forced. The PR Adds 2 config variable to trigger the check:

core.chunk_size.minimum with a default at 10MB (set to 0 to disable)
core.chunk_size.maximum with a default of 0 (disabled)

ISSUE TYPE
bug
COMPONENT NAME
core, c sdk
SDS VERSION
openio 4.2.8.dev26","SUMMARY
Avoid odd values from the application, when a chunk_size has been forced. The PR Adds 2 config variable to trigger the check:

core.chunk_size.minimum with a default at 10MB (set to 0 to disable)
core.chunk_size.maximum with a default of 0 (disabled)

ISSUE TYPE
bug
COMPONENT NAME
core, c sdk
SDS VERSION
openio 4.2.8.dev26",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1664,2019-02-08T08:09:28Z,2019-02-16T14:37:53Z,2019-02-16T20:47:11Z,MERGED,True,322,7,7,https://github.com/jfsmig,C client: Avoid odd config from the app.,7,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1664,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1664#issuecomment-464351578,"SUMMARY
Avoid odd values from the application, when a chunk_size has been forced. The PR Adds 2 config variable to trigger the check:

core.chunk_size.minimum with a default at 10MB (set to 0 to disable)
core.chunk_size.maximum with a default of 0 (disabled)

ISSUE TYPE
bug
COMPONENT NAME
core, c sdk
SDS VERSION
openio 4.2.8.dev26","Codecov Report

Merging #1664 into 4.2.x will increase coverage by 0.49%.
The diff coverage is 90.48%.


@@            Coverage Diff             @@
##            4.2.x    #1664      +/-   ##
==========================================
+ Coverage   79.08%   79.56%   +0.49%     
==========================================
  Files         340      341       +1     
  Lines       62007    62202     +195     
  Branches     6691     6733      +42     
==========================================
+ Hits        49030    49486     +456     
+ Misses      12977    12716     -261



Impacted Files
Coverage Δ





core/tool_roundtrip.c
84.44% <100%> (+0.08%)
⬆️


core/sds.c
80.6% <89.48%> (+0.08%)
⬆️


proxy/cache_actions.c
76.43% <0%> (-3.25%)
⬇️


oio/api/io.py
84.1% <0%> (-0.53%)
⬇️


metautils/lib/utils_sockets.c
41.93% <0%> (-0.38%)
⬇️


proxy/metacd_http.c
89.56% <0%> (-0.31%)
⬇️


metautils/lib/comm_message.c
84.17% <0%> (-0.26%)
⬇️


core/str.c
89.19% <0%> (ø)
⬆️


meta0v2/meta0_client.c
43.83% <0%> (ø)



cluster/module/server.c
74.14% <0%> (+0.11%)
⬆️


... and 42 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 80e1e54...c05f297. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1665,2019-02-11T12:21:37Z,2019-02-12T16:10:46Z,2019-03-04T14:45:47Z,MERGED,True,4,0,2,https://github.com/murlock,tests: disable meta2 repli test,1,[],https://github.com/open-io/oio-sds/pull/1665,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1665,"SUMMARY
Disable replication test on Travis
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
tests
SDS VERSION
master","SUMMARY
Disable replication test on Travis
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
tests
SDS VERSION
master",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1666,2019-02-11T12:51:33Z,2019-02-19T10:35:21Z,2019-02-25T21:05:44Z,MERGED,True,366,118,4,https://github.com/jfsmig,Improve the `directory bootstrap` fairness on multi-DC,10,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1666,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1666,"SUMMARY

Brings a fair distribution of the meta1 prefixes over the multiple sites
At most one replica of any prefix is on a single site
Requirement that locations have max 4 tokens, with the site coming first.

ISSUE TYPE
enhancement
COMPONENT NAME
cli
SDS VERSION
openio 4.3.2.dev3","SUMMARY

Brings a fair distribution of the meta1 prefixes over the multiple sites
At most one replica of any prefix is on a single site
Requirement that locations have max 4 tokens, with the site coming first.

ISSUE TYPE
enhancement
COMPONENT NAME
cli
SDS VERSION
openio 4.3.2.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1668,2019-02-11T16:08:07Z,2019-02-11T21:57:51Z,2019-02-12T10:22:13Z,MERGED,True,9,4,4,https://github.com/jfsmig,Fix the maximum length of user names,5,"['bug :scream:', 'enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1668,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1668,"SUMMARY
Prior to this PR, the macro used as a limit for the user name was LIMIT_LENGTH_BASENAME set to 256. Now there is a specific macro named LIMIT_LENGTH_USER with a value set to 1024.
First, this was a semantic error: the purpose of the former macro was destined to the sqlx level.
But it also arbitrarily set the limit to 256 characters, that was enough in most cases but that can be too restrictive when using specific sharding middlewares.
ISSUE TYPE
Both enhancement and bugfix
COMPONENT NAME
core, metautils, rawx
SDS VERSION
openio 4.3.2.dev13","SUMMARY
Prior to this PR, the macro used as a limit for the user name was LIMIT_LENGTH_BASENAME set to 256. Now there is a specific macro named LIMIT_LENGTH_USER with a value set to 1024.
First, this was a semantic error: the purpose of the former macro was destined to the sqlx level.
But it also arbitrarily set the limit to 256 characters, that was enough in most cases but that can be too restrictive when using specific sharding middlewares.
ISSUE TYPE
Both enhancement and bugfix
COMPONENT NAME
core, metautils, rawx
SDS VERSION
openio 4.3.2.dev13",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1668,2019-02-11T16:08:07Z,2019-02-11T21:57:51Z,2019-02-12T10:22:13Z,MERGED,True,9,4,4,https://github.com/jfsmig,Fix the maximum length of user names,5,"['bug :scream:', 'enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1668,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1668#issuecomment-462441612,"SUMMARY
Prior to this PR, the macro used as a limit for the user name was LIMIT_LENGTH_BASENAME set to 256. Now there is a specific macro named LIMIT_LENGTH_USER with a value set to 1024.
First, this was a semantic error: the purpose of the former macro was destined to the sqlx level.
But it also arbitrarily set the limit to 256 characters, that was enough in most cases but that can be too restrictive when using specific sharding middlewares.
ISSUE TYPE
Both enhancement and bugfix
COMPONENT NAME
core, metautils, rawx
SDS VERSION
openio 4.3.2.dev13","Codecov Report

Merging #1668 into 4.3.x will decrease coverage by 0.03%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.3.x    #1668      +/-   ##
==========================================
- Coverage   79.52%   79.49%   -0.02%     
==========================================
  Files         359      359              
  Lines       65828    65828              
  Branches     6817     6817              
==========================================
- Hits        52341    52325      -16     
- Misses      13381    13398      +17     
+ Partials      106      105       -1



Impacted Files
Coverage Δ





metautils/lib/comm_message.c
84.44% <ø> (-0.26%)
⬇️


rawx-apache2/src/rawx_repository.c
57.35% <ø> (ø)
⬆️


tests/functional/container/test_container.py
98.28% <100%> (-0.17%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


oio/conscience/client.py
72.73% <0%> (-2.59%)
⬇️


oio/container/backup.py
74.08% <0%> (-2.45%)
⬇️


server/slab.c
83.77% <0%> (-0.64%)
⬇️


oio/api/io.py
83.69% <0%> (-0.53%)
⬇️


core/http_put.c
91.57% <0%> (-0.51%)
⬇️


... and 20 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update af4f2ec...aec8e0b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1669,2019-02-11T21:19:51Z,2019-02-12T16:10:07Z,2019-03-04T14:45:30Z,MERGED,True,1,0,1,https://github.com/murlock,meta2: fix memleak,1,[],https://github.com/open-io/oio-sds/pull/1669,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1669,"SUMMARY
Fix a memory leak
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
pre-4.4.0","SUMMARY
Fix a memory leak
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
pre-4.4.0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1669,2019-02-11T21:19:51Z,2019-02-12T16:10:07Z,2019-03-04T14:45:30Z,MERGED,True,1,0,1,https://github.com/murlock,meta2: fix memleak,1,[],https://github.com/open-io/oio-sds/pull/1669,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/1669#issuecomment-462507753,"SUMMARY
Fix a memory leak
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
pre-4.4.0","The issue was introcuced by e4b6760 after 4.3.x when splitting _gen_chunk in small functions, so it is really in 4.4.x ;)",True,{'THUMBS_UP': ['https://github.com/AymericDu']}
open-io/oio-sds,https://github.com/open-io/oio-sds,1670,2019-02-12T13:39:06Z,2019-02-12T13:54:59Z,2019-05-15T12:16:26Z,MERGED,True,2,2,2,https://github.com/kamel-rahim,"Revert ""core: Set default minimum chunk_size to 0 (check disabled)""",1,[],https://github.com/open-io/oio-sds/pull/1670,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1670,"SUMMARY

Set  core.chunk_size.minimum with a default at 10MB (set to 0 to disable)

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

core, c sdk
SDS VERSION

`openio 4.2.8.dev3`

ADDITIONAL INFORMATION


This reverts commit fc0229b7ea3f2910ffb6080626909761821f1601.","SUMMARY

Set  core.chunk_size.minimum with a default at 10MB (set to 0 to disable)

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

core, c sdk
SDS VERSION

`openio 4.2.8.dev3`

ADDITIONAL INFORMATION


This reverts commit fc0229b7ea3f2910ffb6080626909761821f1601.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1671,2019-02-13T10:06:22Z,2019-02-18T11:02:12Z,2019-02-18T11:02:15Z,MERGED,True,12,9,1,https://github.com/fvennetier,blob-improver: do not crash when fullpath is not encodable,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1671,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1671,"SUMMARY
Do not spit an ugly traceback when trying to pretty print an item that fails to be handled.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-improver

SDS VERSION
openio 4.3.2.dev44","SUMMARY
Do not spit an ugly traceback when trying to pretty print an item that fails to be handled.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-improver

SDS VERSION
openio 4.3.2.dev44",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1671,2019-02-13T10:06:22Z,2019-02-18T11:02:12Z,2019-02-18T11:02:15Z,MERGED,True,12,9,1,https://github.com/fvennetier,blob-improver: do not crash when fullpath is not encodable,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1671,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1671#issuecomment-463196169,"SUMMARY
Do not spit an ugly traceback when trying to pretty print an item that fails to be handled.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-improver

SDS VERSION
openio 4.3.2.dev44","Codecov Report

Merging #1671 into 4.4.x will decrease coverage by 0.01%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##            4.4.x    #1671      +/-   ##
==========================================
- Coverage   79.52%   79.51%   -<.01%     
==========================================
  Files         369      370       +1     
  Lines       67905    67918      +13     
  Branches     6644     6876     +232     
==========================================
+ Hits        53994    53998       +4     
- Misses      13805    13814       +9     
  Partials      106      106



Impacted Files
Coverage Δ





oio/rebuilder/blob_improver.py
23.01% <0%> (-0.62%)
⬇️


oio/account/client.py
81.61% <0%> (-12.64%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.09%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


meta2v2/meta2_filters_action_container.c
59.3% <0%> (-1.05%)
⬇️


meta2v2/meta2_filters_action_content.c
92.33% <0%> (-0.76%)
⬇️


events/oio_events_queue_beanstalkd.c
82.93% <0%> (-0.4%)
⬇️


metautils/lib/utils_sockets.c
41.93% <0%> (-0.38%)
⬇️


... and 20 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8fd012b...9080938. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1672,2019-02-14T13:41:15Z,2019-02-18T15:19:48Z,2019-02-18T15:19:51Z,MERGED,True,47,21,5,https://github.com/fvennetier,Workaround and fix flaky tests,3,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1672,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1672,"SUMMARY
Use nosetests' ""flaky"" module to rerun flaky tests.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 4.3.2.dev54","SUMMARY
Use nosetests' ""flaky"" module to rerun flaky tests.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 4.3.2.dev54",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1672,2019-02-14T13:41:15Z,2019-02-18T15:19:48Z,2019-02-18T15:19:51Z,MERGED,True,47,21,5,https://github.com/fvennetier,Workaround and fix flaky tests,3,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1672,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1672#issuecomment-464161980,"SUMMARY
Use nosetests' ""flaky"" module to rerun flaky tests.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 4.3.2.dev54","Codecov Report

Merging #1672 into master will increase coverage by 0.01%.
The diff coverage is 92.31%.


@@            Coverage Diff             @@
##           master    #1672      +/-   ##
==========================================
+ Coverage   79.46%   79.46%   +0.01%     
==========================================
  Files         369      369              
  Lines       67759    67769      +10     
  Branches     6835     6835              
==========================================
+ Hits        53835    53844       +9     
+ Misses      13818    13816       -2     
- Partials      106      109       +3



Impacted Files
Coverage Δ





tests/functional/container/test_container.py
98.5% <100%> (+0.32%)
⬆️


tests/functional/container/test_replication.py
81.4% <75%> (-1.53%)
⬇️


oio/conscience/client.py
74.03% <0%> (-9.09%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


oio/ecd/app.py
60.12% <0%> (-5.95%)
⬇️


meta2v2/meta2_filters_check.c
77.28% <0%> (-3.03%)
⬇️


oio/directory/indexer.py
70.84% <0%> (-2.5%)
⬇️


oio/event/beanstalk.py
63.99% <0%> (-1.6%)
⬇️


oio/blob/indexer.py
69.6% <0%> (-1.6%)
⬇️


oio/directory/meta1.py
88.51% <0%> (-1.14%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9952014...366c24d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1672,2019-02-14T13:41:15Z,2019-02-18T15:19:48Z,2019-02-18T15:19:51Z,MERGED,True,47,21,5,https://github.com/fvennetier,Workaround and fix flaky tests,3,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1672,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/1672#issuecomment-464325232,"SUMMARY
Use nosetests' ""flaky"" module to rerun flaky tests.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 4.3.2.dev54","Is there a possibility to tune flaky to make it ""retry but not too often""?

By default, it will retry just once.
But it is possible to make it run the test several times, and accept the result after several successes. See https://github.com/box/flaky#marking-tests-flaky for configuration possibilities.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1673,2019-02-14T19:00:49Z,2019-02-19T09:07:22Z,2019-02-19T09:07:25Z,MERGED,True,546,85,14,https://github.com/fvennetier,core/lb: allow disabling distance check optimization,2,"['bug :scream:', 'enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1673,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1673,"SUMMARY
Introduce core.lb.allow_distance_bypass variable that disables some load balancing optimizations that may lead to unbalanced situations. Also add new tests.
ISSUE TYPE

Bugfix Pull Request
Feature Pull Request

COMPONENT NAME

LB

SDS VERSION","SUMMARY
Introduce core.lb.allow_distance_bypass variable that disables some load balancing optimizations that may lead to unbalanced situations. Also add new tests.
ISSUE TYPE

Bugfix Pull Request
Feature Pull Request

COMPONENT NAME

LB

SDS VERSION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1674,2019-02-15T14:30:21Z,2019-02-18T11:03:59Z,2019-02-26T09:22:05Z,MERGED,True,3,3,2,https://github.com/AymericDu,oio-blob-indexer: Disable the backup when converting chunks,1,[],https://github.com/open-io/oio-sds/pull/1674,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1674,"SUMMARY
Disable the automatic backup when converting chunks with the oio-blob-indexer. It was too confusing and mostly unneeded.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-indexer

SDS VERSION
openio 4.2.8.dev26","SUMMARY
Disable the automatic backup when converting chunks with the oio-blob-indexer. It was too confusing and mostly unneeded.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-indexer

SDS VERSION
openio 4.2.8.dev26",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1675,2019-02-15T16:50:59Z,2019-02-16T08:24:10Z,2019-02-16T20:47:09Z,MERGED,True,17,6,2,https://github.com/jfsmig,sqliterepo: React quickly to a MASTER disappearing while ASKING,2,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1675,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1675,"SUMMARY
Ensure we do not go into the FAILED state of the FSM when the MASTER left the election between the moment we got the list of members and the moment where we asked for the URL of the MASTER.
Instead of going to the LEAVING_FAILING state, and because we are still running the election with a valid node, we list again the group members to check for the new MASTER.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.3.3.dev1","SUMMARY
Ensure we do not go into the FAILED state of the FSM when the MASTER left the election between the moment we got the list of members and the moment where we asked for the URL of the MASTER.
Instead of going to the LEAVING_FAILING state, and because we are still running the election with a valid node, we list again the group members to check for the new MASTER.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.3.3.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1675,2019-02-15T16:50:59Z,2019-02-16T08:24:10Z,2019-02-16T20:47:09Z,MERGED,True,17,6,2,https://github.com/jfsmig,sqliterepo: React quickly to a MASTER disappearing while ASKING,2,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1675,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1675#issuecomment-464264843,"SUMMARY
Ensure we do not go into the FAILED state of the FSM when the MASTER left the election between the moment we got the list of members and the moment where we asked for the URL of the MASTER.
Instead of going to the LEAVING_FAILING state, and because we are still running the election with a valid node, we list again the group members to check for the new MASTER.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.3.3.dev1","Codecov Report

Merging #1675 into 4.3.x will decrease coverage by 0.14%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.3.x    #1675      +/-   ##
==========================================
- Coverage   79.59%   79.45%   -0.13%     
==========================================
  Files         359      359              
  Lines       65828    65834       +6     
  Branches     6817     6820       +3     
==========================================
- Hits        52389    52305      -84     
- Misses      13333    13424      +91     
+ Partials      106      105       -1



Impacted Files
Coverage Δ





sqliterepo/election.c
89.63% <100%> (-0.62%)
⬇️


tests/unit/test_sqliterepo_election.c
96.37% <100%> (ø)
⬆️


tests/unit/api/test_container_client.py
81.82% <0%> (-18.18%)
⬇️


oio/account/client.py
79.32% <0%> (-6.89%)
⬇️


oio/ecd/app.py
60.12% <0%> (-5.95%)
⬇️


oio/crawler/storage_tierer.py
59.46% <0%> (-3.6%)
⬇️


core/proxy.c
81.6% <0%> (-2.47%)
⬇️


meta2v2/meta2_filters_extract.c
90% <0%> (-2%)
⬇️


meta1v2/meta1_server.c
72.65% <0%> (-1.88%)
⬇️


oio/container/backup.py
72.7% <0%> (-1.84%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d0b550b...93d3634. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1676,2019-02-19T14:30:01Z,2019-02-26T15:16:18Z,2019-02-26T17:00:03Z,MERGED,True,16,17,2,https://github.com/AymericDu,Update the python requirements,1,[],https://github.com/open-io/oio-sds/pull/1676,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1676,"SUMMARY
Update the python requirements and prevent major updates.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python requirements

SDS VERSION
openio 4.2.8.dev34","SUMMARY
Update the python requirements and prevent major updates.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python requirements

SDS VERSION
openio 4.2.8.dev34",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1676,2019-02-19T14:30:01Z,2019-02-26T15:16:18Z,2019-02-26T17:00:03Z,MERGED,True,16,17,2,https://github.com/AymericDu,Update the python requirements,1,[],https://github.com/open-io/oio-sds/pull/1676,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1676#issuecomment-465641870,"SUMMARY
Update the python requirements and prevent major updates.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python requirements

SDS VERSION
openio 4.2.8.dev34","Codecov Report

❗ No coverage uploaded for pull request base (4.2.x@644e732). Click here to learn what that means.
The diff coverage is 50%.


@@           Coverage Diff           @@
##             4.2.x   #1676   +/-   ##
=======================================
  Coverage         ?   79.7%           
=======================================
  Files            ?     341           
  Lines            ?   62654           
  Branches         ?    6737           
=======================================
  Hits             ?   49932           
  Misses           ?   12722           
  Partials         ?       0



Impacted Files
Coverage Δ





tests/functional/cli/reference/test_reference.py
61.54% <50%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 644e732...26808a0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1677,2019-02-21T13:13:41Z,2019-02-28T16:06:04Z,2019-02-28T16:06:08Z,MERGED,True,65,6,12,https://github.com/murlock,Allow listing to always occur on master,1,[],https://github.com/open-io/oio-sds/pull/1677,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1677,"SUMMARY
On several cases, a listing is done juster after a delete to check if container is empty but
listing may be done on a non-synchronized slave
Fixes OS-331
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
proxy
meta2
Python API
SDS VERSION
4.2.8dev

ADDITIONAL INFORMATION
$ openio election status meta2 --cid 30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6016 |    200 | OK             |
| 127.0.0.1:6017 |    303 | 127.0.0.1:6016 |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6016 |
+----------------+--------+----------------+

$ cat <<EOF | python
from oio.api.object_storage import ObjectStorageApi
cnx = ObjectStorageApi(""OPENIO"")
print(cnx.object_list(account=""murlock"", container=""toto"", force_master=True))
EOF
...

$ journalctl | grep M2_LST
Feb 21 14:12:10 asus OIO,OPENIO,meta2,2[21349]: 21349 11D3 access INF 127.0.0.1:6017 127.0.0.1:36518 M2_LST 303 145 79 30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E 5C70FE7A6ED0B2D32D9E63E1DE333758 t=105 OPENIO/murlock/toto/|30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E e=(303) redirect to 127.0.0.1:6016
Feb 21 14:12:10 asus OIO,OPENIO,meta2,1[21277]: 21277 ADD8 access INF 127.0.0.1:6016 127.0.0.1:50324 M2_LST 200 495 654 30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E 5C70FE7A6ED0B2D32D9E63E1DE333758 t=455 OPENIO/murlock/toto/|30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E","SUMMARY
On several cases, a listing is done juster after a delete to check if container is empty but
listing may be done on a non-synchronized slave
Fixes OS-331
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
proxy
meta2
Python API
SDS VERSION
4.2.8dev

ADDITIONAL INFORMATION
$ openio election status meta2 --cid 30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6016 |    200 | OK             |
| 127.0.0.1:6017 |    303 | 127.0.0.1:6016 |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6016 |
+----------------+--------+----------------+

$ cat <<EOF | python
from oio.api.object_storage import ObjectStorageApi
cnx = ObjectStorageApi(""OPENIO"")
print(cnx.object_list(account=""murlock"", container=""toto"", force_master=True))
EOF
...

$ journalctl | grep M2_LST
Feb 21 14:12:10 asus OIO,OPENIO,meta2,2[21349]: 21349 11D3 access INF 127.0.0.1:6017 127.0.0.1:36518 M2_LST 303 145 79 30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E 5C70FE7A6ED0B2D32D9E63E1DE333758 t=105 OPENIO/murlock/toto/|30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E e=(303) redirect to 127.0.0.1:6016
Feb 21 14:12:10 asus OIO,OPENIO,meta2,1[21277]: 21277 ADD8 access INF 127.0.0.1:6016 127.0.0.1:50324 M2_LST 200 495 654 30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E 5C70FE7A6ED0B2D32D9E63E1DE333758 t=455 OPENIO/murlock/toto/|30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1677,2019-02-21T13:13:41Z,2019-02-28T16:06:04Z,2019-02-28T16:06:08Z,MERGED,True,65,6,12,https://github.com/murlock,Allow listing to always occur on master,1,[],https://github.com/open-io/oio-sds/pull/1677,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1677#issuecomment-466332844,"SUMMARY
On several cases, a listing is done juster after a delete to check if container is empty but
listing may be done on a non-synchronized slave
Fixes OS-331
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
proxy
meta2
Python API
SDS VERSION
4.2.8dev

ADDITIONAL INFORMATION
$ openio election status meta2 --cid 30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6016 |    200 | OK             |
| 127.0.0.1:6017 |    303 | 127.0.0.1:6016 |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6016 |
+----------------+--------+----------------+

$ cat <<EOF | python
from oio.api.object_storage import ObjectStorageApi
cnx = ObjectStorageApi(""OPENIO"")
print(cnx.object_list(account=""murlock"", container=""toto"", force_master=True))
EOF
...

$ journalctl | grep M2_LST
Feb 21 14:12:10 asus OIO,OPENIO,meta2,2[21349]: 21349 11D3 access INF 127.0.0.1:6017 127.0.0.1:36518 M2_LST 303 145 79 30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E 5C70FE7A6ED0B2D32D9E63E1DE333758 t=105 OPENIO/murlock/toto/|30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E e=(303) redirect to 127.0.0.1:6016
Feb 21 14:12:10 asus OIO,OPENIO,meta2,1[21277]: 21277 ADD8 access INF 127.0.0.1:6016 127.0.0.1:50324 M2_LST 200 495 654 30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E 5C70FE7A6ED0B2D32D9E63E1DE333758 t=455 OPENIO/murlock/toto/|30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E","I'm not fond of this solution. The problem isn't only related to listing requests, it affects all read requests.
I suggest we do differently:

when calling the proxy, use a header instead of the query string (as with the ""admin"" flag);
inside the proxy, use a thread-local boolean (as with the ""admin"" flag).

Thus we could apply the ""force master"" feature on all requests to replicated services.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1678,2019-02-21T13:35:28Z,2019-02-22T13:35:42Z,2019-02-25T21:05:41Z,MERGED,True,90,42,3,https://github.com/jfsmig,proxy: Decache stale service locations more often,1,"['bug :scream:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1678,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1678,"SUMMARY
Also decache invalid location entries if clues are present in ""group"" requests, such the election debug / ping / leave. The PR also fixes a minor memory leak (GError upon a decache) in the proxy.
ISSUE TYPE
bugfix
COMPONENT NAME
proxy
SDS VERSION
openio 4.2.8.dev33","SUMMARY
Also decache invalid location entries if clues are present in ""group"" requests, such the election debug / ping / leave. The PR also fixes a minor memory leak (GError upon a decache) in the proxy.
ISSUE TYPE
bugfix
COMPONENT NAME
proxy
SDS VERSION
openio 4.2.8.dev33",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1679,2019-02-21T15:13:55Z,2019-03-06T16:55:33Z,2019-03-06T16:55:37Z,MERGED,True,256,129,12,https://github.com/fvennetier,Start implementing the new 'openio-admin' command line tool,3,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1679,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1679,"SUMMARY
Start implementing the new openio-admin command line tool.
Only election commands have been implemented at the moment.
Jira: OB-339
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API

SDS VERSION
openio 4.4.0.0b1.dev25","SUMMARY
Start implementing the new openio-admin command line tool.
Only election commands have been implemented at the moment.
Jira: OB-339
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API

SDS VERSION
openio 4.4.0.0b1.dev25",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1679,2019-02-21T15:13:55Z,2019-03-06T16:55:33Z,2019-03-06T16:55:37Z,MERGED,True,256,129,12,https://github.com/fvennetier,Start implementing the new 'openio-admin' command line tool,3,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1679,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1679#issuecomment-466078706,"SUMMARY
Start implementing the new openio-admin command line tool.
Only election commands have been implemented at the moment.
Jira: OB-339
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API

SDS VERSION
openio 4.4.0.0b1.dev25","Codecov Report

Merging #1679 into master will decrease coverage by 0.06%.
The diff coverage is 54.66%.


@@            Coverage Diff             @@
##           master    #1679      +/-   ##
==========================================
- Coverage   79.63%   79.57%   -0.05%     
==========================================
  Files         369      369              
  Lines       67940    67962      +22     
  Branches     6845     6845              
==========================================
- Hits        54098    54077      -21     
- Misses      13737    13779      +42     
- Partials      105      106       +1



Impacted Files
Coverage Δ





oio/common/client.py
100% <ø> (ø)
⬆️


oio/cli/__init__.py
41.38% <100%> (+18.66%)
⬆️


oio/cli/common/shell.py
77.02% <100%> (-0.76%)
⬇️


oio/cli/rdir/client.py
100% <100%> (+56.25%)
⬆️


oio/cli/election/client.py
100% <100%> (+37.5%)
⬆️


oio/cli/common/clientmanager.py
50.74% <33.34%> (-12.12%)
⬇️


oio/common/configuration.py
62.5% <73.92%> (+5.2%)
⬆️


oio/rdir/client.py
79.59% <75%> (-0.55%)
⬇️


oio/conscience/client.py
77.93% <0%> (-7.79%)
⬇️


oio/content/plain.py
72.42% <0%> (-5.17%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 07f652d...84b472a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1680,2019-02-21T16:17:46Z,2019-02-22T16:34:56Z,2019-02-25T21:05:13Z,MERGED,True,45,34,3,https://github.com/jfsmig,"cmake,ci: Restore the SDK_ONLY option",2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1680,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1680,"SUMMARY
There are reports of users expecting the SDK_ONLY option of cmake to be functional.
This is now fixed.
ISSUE TYPE
enhancement
COMPONENT NAME
cmake, ci
SDS VERSION
openio 4.3.3.dev11","SUMMARY
There are reports of users expecting the SDK_ONLY option of cmake to be functional.
This is now fixed.
ISSUE TYPE
enhancement
COMPONENT NAME
cmake, ci
SDS VERSION
openio 4.3.3.dev11",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1680,2019-02-21T16:17:46Z,2019-02-22T16:34:56Z,2019-02-25T21:05:13Z,MERGED,True,45,34,3,https://github.com/jfsmig,"cmake,ci: Restore the SDK_ONLY option",2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1680,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1680#issuecomment-466408445,"SUMMARY
There are reports of users expecting the SDK_ONLY option of cmake to be functional.
This is now fixed.
ISSUE TYPE
enhancement
COMPONENT NAME
cmake, ci
SDS VERSION
openio 4.3.3.dev11","Codecov Report

Merging #1680 into 4.3.x will decrease coverage by 0.05%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.3.x    #1680      +/-   ##
==========================================
- Coverage   79.54%   79.49%   -0.04%     
==========================================
  Files         359      359              
  Lines       65851    65851              
  Branches     6827     6827              
==========================================
- Hits        52375    52343      -32     
- Misses      13371    13402      +31     
- Partials      105      106       +1



Impacted Files
Coverage Δ





metautils/lib/utils_errors.c
9.38% <0%> (-28.12%)
⬇️


tests/functional/m2_filters/test_filters.py
84.85% <0%> (-12.12%)
⬇️


oio/account/client.py
82.76% <0%> (-3.44%)
⬇️


metautils/lib/utils_sockets.c
41.54% <0%> (-1.92%)
⬇️


oio/container/backup.py
72.7% <0%> (-1.38%)
⬇️


oio/blob/client.py
91.73% <0%> (-1.37%)
⬇️


proxy/metacd_http.c
89.89% <0%> (-1.1%)
⬇️


rawx/chunk_info.go
78.02% <0%> (-0.86%)
⬇️


events/oio_events_queue_beanstalkd.c
85.37% <0%> (-0.81%)
⬇️


sqlx/sqlx_service.c
83.87% <0%> (-0.52%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 257545a...e03c790. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1681,2019-02-21T18:20:48Z,2019-02-25T09:18:30Z,2019-02-25T09:18:33Z,MERGED,True,105,59,7,https://github.com/fvennetier,CLI: add '--min-dist' option to 'rdir bootstrap',1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1681,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1681,"SUMMARY
Implement --min-dist option for openio rdir bootstrap.
Jira: OS-281
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API

SDS VERSION
openio 4.4.0.0b1.dev26","SUMMARY
Implement --min-dist option for openio rdir bootstrap.
Jira: OS-281
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API

SDS VERSION
openio 4.4.0.0b1.dev26",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1682,2019-02-22T12:29:02Z,2019-02-28T16:06:18Z,2019-05-15T12:17:41Z,MERGED,True,109,12,6,https://github.com/kamel-rahim,Permit to only list buckets,1,[],https://github.com/open-io/oio-sds/pull/1682,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1682,"SUMMARY

Add a parameter to the container listing to get only buckets

ISSUE TYPE


Feature Pull Request

COMPONENT NAME


CLI
Python API

SDS VERSION

openio 4.4.0.0b1.dev15","SUMMARY

Add a parameter to the container listing to get only buckets

ISSUE TYPE


Feature Pull Request

COMPONENT NAME


CLI
Python API

SDS VERSION

openio 4.4.0.0b1.dev15",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1682,2019-02-22T12:29:02Z,2019-02-28T16:06:18Z,2019-05-15T12:17:41Z,MERGED,True,109,12,6,https://github.com/kamel-rahim,Permit to only list buckets,1,[],https://github.com/open-io/oio-sds/pull/1682,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1682#issuecomment-468273360,"SUMMARY

Add a parameter to the container listing to get only buckets

ISSUE TYPE


Feature Pull Request

COMPONENT NAME


CLI
Python API

SDS VERSION

openio 4.4.0.0b1.dev15","Codecov Report

Merging #1682 into 4.4.x will increase coverage by 0.03%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.4.x    #1682      +/-   ##
==========================================
+ Coverage   79.59%   79.62%   +0.03%     
==========================================
  Files         370      370              
  Lines       68115    68176      +61     
  Branches     6896     6896              
==========================================
+ Hits        54212    54275      +63     
+ Misses      13797    13796       -1     
+ Partials      106      105       -1



Impacted Files
Coverage Δ





oio/api/object_storage.py
80.77% <ø> (ø)
⬆️


tests/unit/api/test_objectstorage.py
98.3% <ø> (ø)
⬆️


oio/account/client.py
87.36% <ø> (+5.75%)
⬆️


oio/account/backend.py
82.46% <100%> (-1.84%)
⬇️


oio/account/server.py
89.75% <100%> (+0.18%)
⬆️


tests/functional/api/test_objectstorage.py
97.29% <100%> (+0.16%)
⬆️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-2.46%)
⬇️


oio/event/beanstalk.py
63.79% <0%> (-2.41%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2febaa2...38fb41e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1683,2019-02-22T13:35:02Z,2019-02-22T17:21:16Z,2019-02-25T21:05:14Z,MERGED,True,38,47,17,https://github.com/jfsmig,cmake: Explicit the ABI version of each shared library,1,[],https://github.com/open-io/oio-sds/pull/1683,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1683,"SUMMARY
Prior to this PR, the 0.0.0 ABI version is appended by default to the shared object (.so) files we generate, and the main ABI_VERSION variable was useless.
Now each library might evolve independently, and the starting point is the same 0.0.0 for the sake of backward compliance.
ISSUE TYPE
enhancement
COMPONENT NAME
*
SDS VERSION
openio 4.4.0.0b1.dev26","SUMMARY
Prior to this PR, the 0.0.0 ABI version is appended by default to the shared object (.so) files we generate, and the main ABI_VERSION variable was useless.
Now each library might evolve independently, and the starting point is the same 0.0.0 for the sake of backward compliance.
ISSUE TYPE
enhancement
COMPONENT NAME
*
SDS VERSION
openio 4.4.0.0b1.dev26",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1683,2019-02-22T13:35:02Z,2019-02-22T17:21:16Z,2019-02-25T21:05:14Z,MERGED,True,38,47,17,https://github.com/jfsmig,cmake: Explicit the ABI version of each shared library,1,[],https://github.com/open-io/oio-sds/pull/1683,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1683#issuecomment-466473960,"SUMMARY
Prior to this PR, the 0.0.0 ABI version is appended by default to the shared object (.so) files we generate, and the main ABI_VERSION variable was useless.
Now each library might evolve independently, and the starting point is the same 0.0.0 for the sake of backward compliance.
ISSUE TYPE
enhancement
COMPONENT NAME
*
SDS VERSION
openio 4.4.0.0b1.dev26","Codecov Report

Merging #1683 into 4.4.x will decrease coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.4.x    #1683      +/-   ##
==========================================
- Coverage   79.52%   79.51%   -<.01%     
==========================================
  Files         370      370              
  Lines       68092    68092              
  Branches     6892     6892              
==========================================
- Hits        54141    54137       -4     
- Misses      13845    13849       +4     
  Partials      106      106



Impacted Files
Coverage Δ





meta2v2/meta2_filters_check.c
70.5% <0%> (-3.27%)
⬇️


meta2v2/meta2_filters_action_container.c
59.3% <0%> (-3.15%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-2.46%)
⬇️


proxy/metacd_http.c
89.55% <0%> (-1.74%)
⬇️


oio/api/io.py
85.03% <0%> (-1.33%)
⬇️


oio/account/client.py
81.61% <0%> (-1.14%)
⬇️


sqliterepo/gridd_client_pool.c
81.58% <0%> (-0.87%)
⬇️


server/transport_gridd.c
77.92% <0%> (-0.4%)
⬇️


events/oio_events_queue_beanstalkd.c
82.93% <0%> (-0.4%)
⬇️


metautils/lib/utils_sockets.c
41.93% <0%> (-0.38%)
⬇️


... and 19 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 57bb904...8b13f04. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1684,2019-02-22T16:03:25Z,2019-02-28T16:07:27Z,2019-03-05T09:57:09Z,MERGED,True,443,136,23,https://github.com/AymericDu,Save the number of damaged objects,13,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1684,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1684,"SUMMARY

Save the number of damaged objects in the meta2 database
Use the event (container.state) to update the account
Increase the counter for each chunk not uploaded
Decrease the counter for each deleted object with missing chunks
Decrease the counter for each rebuilt chunk (chunk not uploaded)
Recompute the counter of damaged objects

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
account
proxy
meta2

SDS VERSION
openio 4.4.0.0b1.dev36","SUMMARY

Save the number of damaged objects in the meta2 database
Use the event (container.state) to update the account
Increase the counter for each chunk not uploaded
Decrease the counter for each deleted object with missing chunks
Decrease the counter for each rebuilt chunk (chunk not uploaded)
Recompute the counter of damaged objects

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
account
proxy
meta2

SDS VERSION
openio 4.4.0.0b1.dev36",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1684,2019-02-22T16:03:25Z,2019-02-28T16:07:27Z,2019-03-05T09:57:09Z,MERGED,True,443,136,23,https://github.com/AymericDu,Save the number of damaged objects,13,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1684,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1684#issuecomment-467437532,"SUMMARY

Save the number of damaged objects in the meta2 database
Use the event (container.state) to update the account
Increase the counter for each chunk not uploaded
Decrease the counter for each deleted object with missing chunks
Decrease the counter for each rebuilt chunk (chunk not uploaded)
Recompute the counter of damaged objects

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
account
proxy
meta2

SDS VERSION
openio 4.4.0.0b1.dev36","Codecov Report

Merging #1684 into 4.4.x will decrease coverage by 0.01%.
The diff coverage is 90.17%.


@@            Coverage Diff             @@
##            4.4.x    #1684      +/-   ##
==========================================
- Coverage   79.59%   79.59%   -<.01%     
==========================================
  Files         370      370              
  Lines       68115    68293     +178     
  Branches     6896     6913      +17     
==========================================
+ Hits        54212    54353     +141     
- Misses      13797    13834      +37     
  Partials      106      106



Impacted Files
Coverage Δ





tests/functional/cli/object/test_object.py
52.06% <ø> (ø)
⬆️


tests/functional/cli/account/test_account.py
23.46% <0%> (-1.54%)
⬇️


proxy/meta2v2_remote.c
84.78% <100%> (+0.07%)
⬆️


oio/account/server.py
89.75% <100%> (+0.18%)
⬆️


tests/functional/account/test_backend.py
100% <100%> (ø)
⬆️


tests/functional/container/test_container.py
98.6% <100%> (+0.11%)
⬆️


meta2v2/meta2_utils.c
85.69% <100%> (ø)
⬇️


oio/container/client.py
83.24% <100%> (+0.1%)
⬆️


meta2v2/meta2_filters_action_container.c
60.63% <100%> (-0.77%)
⬇️


oio/account/backend.py
80% <100%> (-4.3%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2febaa2...6c357cf. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1685,2019-02-25T15:50:21Z,2019-02-26T14:47:21Z,2019-02-28T16:41:09Z,MERGED,True,91,35,5,https://github.com/fvennetier,"Python API: forward timeouts, compute a deadline",1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1685,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1685,"SUMMARY
The patch_kwargs functionality was used only on a few ObjectStorageApi methods, resulting in the read_timeout not being applied on all requeststo oio-proxy. This is now fixed.
Also, if a timeout is provided, a deadline is now computed for internal usage, and a timeout is computed accordingly for each subrequest.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.8.dev34

ADDITIONAL INFORMATION
This PR should fix an issue with oioswift, where sds_read_timeout was not applied on all requests.","SUMMARY
The patch_kwargs functionality was used only on a few ObjectStorageApi methods, resulting in the read_timeout not being applied on all requeststo oio-proxy. This is now fixed.
Also, if a timeout is provided, a deadline is now computed for internal usage, and a timeout is computed accordingly for each subrequest.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.8.dev34

ADDITIONAL INFORMATION
This PR should fix an issue with oioswift, where sds_read_timeout was not applied on all requests.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1685,2019-02-25T15:50:21Z,2019-02-26T14:47:21Z,2019-02-28T16:41:09Z,MERGED,True,91,35,5,https://github.com/fvennetier,"Python API: forward timeouts, compute a deadline",1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1685,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1685#issuecomment-467087604,"SUMMARY
The patch_kwargs functionality was used only on a few ObjectStorageApi methods, resulting in the read_timeout not being applied on all requeststo oio-proxy. This is now fixed.
Also, if a timeout is provided, a deadline is now computed for internal usage, and a timeout is computed accordingly for each subrequest.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.8.dev34

ADDITIONAL INFORMATION
This PR should fix an issue with oioswift, where sds_read_timeout was not applied on all requests.","Codecov Report

Merging #1685 into 4.2.x will increase coverage by 2.95%.
The diff coverage is 93.34%.


@@            Coverage Diff             @@
##            4.2.x    #1685      +/-   ##
==========================================
+ Coverage   76.64%   79.59%   +2.95%     
==========================================
  Files         296      341      +45     
  Lines       57977    62265    +4288     
  Branches     6504     6737     +233     
==========================================
+ Hits        44431    49551    +5120     
+ Misses      13545    12714     -831     
+ Partials        1        0       -1



Impacted Files
Coverage Δ





tests/unit/api/test_objectstorage.py
98.3% <ø> (ø)
⬆️


oio/conscience/client.py
73.42% <100%> (+0.7%)
⬆️


oio/common/utils.py
68.6% <50%> (-0.36%)
⬇️


oio/account/client.py
87.36% <87.5%> (+2.3%)
⬆️


oio/api/object_storage.py
80.35% <97.44%> (+1.26%)
⬆️


proxy/cache_actions.c
76.43% <0%> (-3.25%)
⬇️


oio/blob/client.py
91.04% <0%> (-2.06%)
⬇️


meta1v2/meta1_server.c
72.65% <0%> (-1.88%)
⬇️


meta2v2/meta2_filters_action_content.c
90% <0%> (-0.78%)
⬇️


oio/container/backup.py
72.4% <0%> (-0.3%)
⬇️


... and 100 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cdc7b0e...83c5b70. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1686,2019-02-25T16:32:38Z,2019-02-25T20:39:02Z,2019-02-25T21:05:15Z,MERGED,True,26,26,5,https://github.com/jfsmig,core: Explicit the value of public enums,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1686,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1686,"SUMMARY
Ensure each publicly exported enum field has an explicit value. It helps avoiding ABI breaks.
ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
4.2.8.dev35
ADDITIONAL INFORMATION
TODO(jfsmig): We should add a test that forbid the usage of enums without a value.","SUMMARY
Ensure each publicly exported enum field has an explicit value. It helps avoiding ABI breaks.
ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
4.2.8.dev35
ADDITIONAL INFORMATION
TODO(jfsmig): We should add a test that forbid the usage of enums without a value.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1686,2019-02-25T16:32:38Z,2019-02-25T20:39:02Z,2019-02-25T21:05:15Z,MERGED,True,26,26,5,https://github.com/jfsmig,core: Explicit the value of public enums,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1686,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1686#issuecomment-467112646,"SUMMARY
Ensure each publicly exported enum field has an explicit value. It helps avoiding ABI breaks.
ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
4.2.8.dev35
ADDITIONAL INFORMATION
TODO(jfsmig): We should add a test that forbid the usage of enums without a value.","Codecov Report

Merging #1686 into 4.2.x will increase coverage by 2.91%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1686      +/-   ##
==========================================
+ Coverage   76.64%   79.54%   +2.91%     
==========================================
  Files         296      341      +45     
  Lines       57977    62221    +4244     
  Branches     6504     6737     +233     
==========================================
+ Hits        44431    49490    +5059     
+ Misses      13545    12731     -814     
+ Partials        1        0       -1



Impacted Files
Coverage Δ





oio/blob/client.py
90.35% <0%> (-2.75%)
⬇️


meta1v2/meta1_server.c
72.65% <0%> (-1.88%)
⬇️


oio/conscience/client.py
71.43% <0%> (-1.29%)
⬇️


meta2v2/meta2_filters_action_content.c
90% <0%> (-0.78%)
⬇️


oio/container/backup.py
72.09% <0%> (-0.61%)
⬇️


sqlx/sqlx_service.c
83.21% <0%> (-0.52%)
⬇️


metautils/lib/comm_message.c
84.17% <0%> (-0.26%)
⬇️


cluster/module/server.c
74.04% <0%> (-0.2%)
⬇️


core/proxy.c
82.83% <0%> (-0.18%)
⬇️


server/slab.h
100% <0%> (ø)
⬆️


... and 94 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cdc7b0e...b12286a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1687,2019-02-25T17:55:55Z,2019-02-25T20:53:20Z,2019-02-25T21:05:17Z,MERGED,True,1,1,1,https://github.com/jfsmig,resolver: Fix the library name,1,"['bug :scream:', 'priority:1 :goberserk:']",https://github.com/open-io/oio-sds/pull/1687,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1687,"SUMMARY
Fix an error introduced at 76c8e17
ISSUE TYPE
fix
COMPONENT NAME
packaging
SDS VERSION
openio 4.4.0.0b1.dev28","SUMMARY
Fix an error introduced at 76c8e17
ISSUE TYPE
fix
COMPONENT NAME
packaging
SDS VERSION
openio 4.4.0.0b1.dev28",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1688,2019-02-26T11:19:58Z,2019-02-28T08:01:26Z,2019-05-15T12:17:23Z,MERGED,True,44,2,3,https://github.com/kamel-rahim,oio-blob-converter: restore fullpath if grid.content.path or  oio:HASH are missing,1,[],https://github.com/open-io/oio-sds/pull/1688,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1688,"SUMMARY

Recreate fullpath  when xattrs 'grid.contant.path' and 'oio:$HASH' are also missing

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME
oio-blob-converter
SDS VERSION

openio 4.2.8.dev36","SUMMARY

Recreate fullpath  when xattrs 'grid.contant.path' and 'oio:$HASH' are also missing

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME
oio-blob-converter
SDS VERSION

openio 4.2.8.dev36",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1688,2019-02-26T11:19:58Z,2019-02-28T08:01:26Z,2019-05-15T12:17:23Z,MERGED,True,44,2,3,https://github.com/kamel-rahim,oio-blob-converter: restore fullpath if grid.content.path or  oio:HASH are missing,1,[],https://github.com/open-io/oio-sds/pull/1688,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1688#issuecomment-468145388,"SUMMARY

Recreate fullpath  when xattrs 'grid.contant.path' and 'oio:$HASH' are also missing

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME
oio-blob-converter
SDS VERSION

openio 4.2.8.dev36","Codecov Report

Merging #1688 into 4.2.x will increase coverage by 0.04%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.2.x    #1688      +/-   ##
==========================================
+ Coverage   79.61%   79.65%   +0.04%     
==========================================
  Files         341      341              
  Lines       62264    62289      +25     
  Branches     6737     6737              
==========================================
+ Hits        49568    49607      +39     
+ Misses      12696    12682      -14



Impacted Files
Coverage Δ





oio/blob/converter.py
81.02% <ø> (ø)
⬆️


tests/functional/blob/__init__.py
96.37% <100%> (+0.45%)
⬆️


tests/functional/blob/test_converter.py
97.55% <100%> (+0.16%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.09%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


proxy/metacd_http.c
89.88% <0%> (-1.42%)
⬇️


sqliterepo/gridd_client_pool.c
81.58% <0%> (-0.87%)
⬇️


metautils/lib/gridd_client_ext.c
79.86% <0%> (-0.37%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c58ecc0...d900530. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1689,2019-02-26T18:03:09Z,2019-02-28T09:15:35Z,2019-02-28T09:15:39Z,MERGED,True,73,13,2,https://github.com/fvennetier,Optimize object listings using a delimiter,2,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1689,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1689,"SUMMARY
Object listings using a delimiter are renowned to be slow. This change will help a little.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-proxy
meta2

SDS VERSION
openio 4.2.8.dev39","SUMMARY
Object listings using a delimiter are renowned to be slow. This change will help a little.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-proxy
meta2

SDS VERSION
openio 4.2.8.dev39",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1689,2019-02-26T18:03:09Z,2019-02-28T09:15:35Z,2019-02-28T09:15:39Z,MERGED,True,73,13,2,https://github.com/fvennetier,Optimize object listings using a delimiter,2,"['enhancement :sparkles:', 'language:C']",https://github.com/open-io/oio-sds/pull/1689,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1689#issuecomment-467749723,"SUMMARY
Object listings using a delimiter are renowned to be slow. This change will help a little.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-proxy
meta2

SDS VERSION
openio 4.2.8.dev39","Codecov Report

Merging #1689 into 4.2.x will decrease coverage by 0.03%.
The diff coverage is 79.42%.


@@            Coverage Diff            @@
##           4.2.x    #1689      +/-   ##
=========================================
- Coverage   79.6%   79.57%   -0.02%     
=========================================
  Files        341      341              
  Lines      62264    62287      +23     
  Branches    6737     6741       +4     
=========================================
  Hits       49561    49561              
- Misses     12703    12726      +23



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_container.c
59.93% <50%> (+0.15%)
⬆️


proxy/m2_actions.c
88.41% <85.72%> (-0.03%)
⬇️


proxy/cache_actions.c
76.43% <0%> (-3.25%)
⬇️


proxy/metacd_http.c
89.56% <0%> (-1.74%)
⬇️


oio/api/base.py
92.78% <0%> (-1.2%)
⬇️


sqliterepo/gridd_client_pool.c
81.58% <0%> (-0.87%)
⬇️


rawx-apache2/src/rawx_repository.c
55.74% <0%> (-0.6%)
⬇️


metautils/lib/utils_sockets.c
41.93% <0%> (-0.38%)
⬇️


metautils/lib/gridd_client_ext.c
79.86% <0%> (-0.37%)
⬇️


proxy/cs_actions.c
90.26% <0%> (-0.36%)
⬇️


... and 11 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c58ecc0...cc2cca8. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1690,2019-02-27T15:58:40Z,2019-03-06T13:12:45Z,2019-03-19T10:13:32Z,MERGED,True,24,20,1,https://github.com/murlock,sqliterepo: minor fixes,2,"['bug :scream:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1690,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1690,"SUMMARY
completion_LISTING did not check validity of argument before using it.
Also fix a codepath with strrchr could be called on NULL
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
4.4.0.0b1.dev35","SUMMARY
completion_LISTING did not check validity of argument before using it.
Also fix a codepath with strrchr could be called on NULL
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
4.4.0.0b1.dev35",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1690,2019-02-27T15:58:40Z,2019-03-06T13:12:45Z,2019-03-19T10:13:32Z,MERGED,True,24,20,1,https://github.com/murlock,sqliterepo: minor fixes,2,"['bug :scream:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1690,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1690#issuecomment-468348271,"SUMMARY
completion_LISTING did not check validity of argument before using it.
Also fix a codepath with strrchr could be called on NULL
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
4.4.0.0b1.dev35","Codecov Report

Merging #1690 into 4.4.x will decrease coverage by 1.02%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.4.x    #1690      +/-   ##
==========================================
- Coverage   79.59%   78.58%   -1.01%     
==========================================
  Files         370      370              
  Lines       68115    70570    +2455     
  Branches     6896     7648     +752     
==========================================
+ Hits        54212    55452    +1240     
- Misses      13797    15012    +1215     
  Partials      106      106



Impacted Files
Coverage Δ





sqliterepo/election.c
89.59% <100%> (+0.17%)
⬆️


meta2v2/meta2_backend.c
69.91% <0%> (-15.76%)
⬇️


meta2v2/meta2_utils.c
74.12% <0%> (-11.57%)
⬇️


oio/api/object_storage.py
70.06% <0%> (-10.71%)
⬇️


oio/api/base.py
82.79% <0%> (-10.31%)
⬇️


proxy/m2_actions.c
79.57% <0%> (-9.91%)
⬇️


oio/container/client.py
75.07% <0%> (-8.07%)
⬇️


oio/conscience/client.py
77.93% <0%> (-7.79%)
⬇️


tests/functional/rdir/test_indexer.py
84.95% <0%> (-7.52%)
⬇️


oio/account/client.py
75% <0%> (-6.6%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2febaa2...b880325. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1691,2019-03-04T09:19:14Z,2019-03-19T15:01:41Z,2020-01-09T07:35:04Z,MERGED,True,110,0,4,https://github.com/murlock,Register proxy and beanstalkd into conscience,3,[],https://github.com/open-io/oio-sds/pull/1691,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1691,"SUMMARY
Register proxy and beanstalkd into conscience, it will allow us to launch commands on all cluster.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
conscience-agent
SDS VERSION
master","SUMMARY
Register proxy and beanstalkd into conscience, it will allow us to launch commands on all cluster.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
conscience-agent
SDS VERSION
master",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1692,2019-03-04T18:10:13Z,2019-03-06T10:42:10Z,2019-03-06T10:42:13Z,MERGED,True,24,12,3,https://github.com/fvennetier,blob-indexer: do not warn on pending or just deleted chunks,1,[],https://github.com/open-io/oio-sds/pull/1692,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1692,"SUMMARY

Do not pollute oio-blob-indexer logs with dirty messages like:

ERROR while updating /mnt/sdi/OPENIO/rawx-7/3A1/3A1810D5BA7EBB77D146E6258923694AEE060DCD0E6CAD9517744139D37D1E15#012Traceback (most recent call last):#012  File ""/usr/lib/python2.7/site-packages/oio/blob/indexer.py"", line 73, in safe_update_index#012    self.update_index(path, chunk_id)#012  File ""/usr/lib/python2.7/site-packages/oio/blob/indexer.py"", line 137, in update_index#012    with open(path) as f:#012IOError: [Errno 2] No such file or directory: '/mnt/sdi/OPENIO/rawx-7/3A1/3A1810D5BA7EBB77D146E6258923694AEE060DCD0E6CAD9517744139D37D1E15'

They were due to files seen by the crawler but deleted just before the worker could handle them.

Do not pollute logs with messages like:

WARN Not a chunk /mnt/sdi/OPENIO/rawx-7/CCC/CCCF8C85934932F15F0AF3DBE026AF87A0DBA01B672A57E47CE8F0D51B13CEFA.pending

Pending chunks are valid (mostly).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-indexer

SDS VERSION
openio 4.2.8

ADDITIONAL INFORMATION","SUMMARY

Do not pollute oio-blob-indexer logs with dirty messages like:

ERROR while updating /mnt/sdi/OPENIO/rawx-7/3A1/3A1810D5BA7EBB77D146E6258923694AEE060DCD0E6CAD9517744139D37D1E15#012Traceback (most recent call last):#012  File ""/usr/lib/python2.7/site-packages/oio/blob/indexer.py"", line 73, in safe_update_index#012    self.update_index(path, chunk_id)#012  File ""/usr/lib/python2.7/site-packages/oio/blob/indexer.py"", line 137, in update_index#012    with open(path) as f:#012IOError: [Errno 2] No such file or directory: '/mnt/sdi/OPENIO/rawx-7/3A1/3A1810D5BA7EBB77D146E6258923694AEE060DCD0E6CAD9517744139D37D1E15'

They were due to files seen by the crawler but deleted just before the worker could handle them.

Do not pollute logs with messages like:

WARN Not a chunk /mnt/sdi/OPENIO/rawx-7/CCC/CCCF8C85934932F15F0AF3DBE026AF87A0DBA01B672A57E47CE8F0D51B13CEFA.pending

Pending chunks are valid (mostly).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-indexer

SDS VERSION
openio 4.2.8

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1692,2019-03-04T18:10:13Z,2019-03-06T10:42:10Z,2019-03-06T10:42:13Z,MERGED,True,24,12,3,https://github.com/fvennetier,blob-indexer: do not warn on pending or just deleted chunks,1,[],https://github.com/open-io/oio-sds/pull/1692,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1692#issuecomment-470058889,"SUMMARY

Do not pollute oio-blob-indexer logs with dirty messages like:

ERROR while updating /mnt/sdi/OPENIO/rawx-7/3A1/3A1810D5BA7EBB77D146E6258923694AEE060DCD0E6CAD9517744139D37D1E15#012Traceback (most recent call last):#012  File ""/usr/lib/python2.7/site-packages/oio/blob/indexer.py"", line 73, in safe_update_index#012    self.update_index(path, chunk_id)#012  File ""/usr/lib/python2.7/site-packages/oio/blob/indexer.py"", line 137, in update_index#012    with open(path) as f:#012IOError: [Errno 2] No such file or directory: '/mnt/sdi/OPENIO/rawx-7/3A1/3A1810D5BA7EBB77D146E6258923694AEE060DCD0E6CAD9517744139D37D1E15'

They were due to files seen by the crawler but deleted just before the worker could handle them.

Do not pollute logs with messages like:

WARN Not a chunk /mnt/sdi/OPENIO/rawx-7/CCC/CCCF8C85934932F15F0AF3DBE026AF87A0DBA01B672A57E47CE8F0D51B13CEFA.pending

Pending chunks are valid (mostly).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-indexer

SDS VERSION
openio 4.2.8

ADDITIONAL INFORMATION","Codecov Report

Merging #1692 into 4.2.x will increase coverage by 0.04%.
The diff coverage is 57.15%.


@@            Coverage Diff             @@
##            4.2.x    #1692      +/-   ##
==========================================
+ Coverage   79.61%   79.64%   +0.04%     
==========================================
  Files         341      341              
  Lines       62312    62316       +4     
  Branches     6741     6741              
==========================================
+ Hits        49606    49628      +22     
+ Misses      12706    12688      -18



Impacted Files
Coverage Δ





oio/common/constants.py
100% <100%> (ø)
⬆️


tests/functional/blob/test_indexer.py
97.83% <100%> (-0.03%)
⬇️


oio/blob/indexer.py
66.93% <40%> (-1.87%)
⬇️


meta2v2/meta2_filters_action_container.c
59.93% <0%> (-1.06%)
⬇️


sqlx/sqlx_service.c
83.21% <0%> (-1.05%)
⬇️


meta2v2/meta2_filters_extract.c
90% <0%> (-1%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


sqliterepo/repository.c
72.52% <0%> (-0.31%)
⬇️


metautils/lib/comm_converter.c
73.04% <0%> (-0.26%)
⬇️


... and 22 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ce51134...38130e9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1693,2019-03-05T16:46:15Z,2019-03-06T17:20:46Z,2019-03-06T21:30:52Z,MERGED,True,124,198,7,https://github.com/jfsmig,sqliterepo/election: Set the retry-on-FAIL delay at 250ms,3,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1693,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1693,"SUMMARY
Set the retry-on-FAIL delay at 250ms instead of 2s. The previous precision was at 1s with a huge bias (~1s) and we could not honor sub-second timers. Now we can honor timers with a precision in milliseconds.
Faster retries will help the user requests with a drastic reduction of the timeouts because of election failed.
Also, unused variables have been removed.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b1.dev50","SUMMARY
Set the retry-on-FAIL delay at 250ms instead of 2s. The previous precision was at 1s with a huge bias (~1s) and we could not honor sub-second timers. Now we can honor timers with a precision in milliseconds.
Faster retries will help the user requests with a drastic reduction of the timeouts because of election failed.
Also, unused variables have been removed.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b1.dev50",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1693,2019-03-05T16:46:15Z,2019-03-06T17:20:46Z,2019-03-06T21:30:52Z,MERGED,True,124,198,7,https://github.com/jfsmig,sqliterepo/election: Set the retry-on-FAIL delay at 250ms,3,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1693,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1693#issuecomment-470115600,"SUMMARY
Set the retry-on-FAIL delay at 250ms instead of 2s. The previous precision was at 1s with a huge bias (~1s) and we could not honor sub-second timers. Now we can honor timers with a precision in milliseconds.
Faster retries will help the user requests with a drastic reduction of the timeouts because of election failed.
Also, unused variables have been removed.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b1.dev50","Codecov Report

Merging #1693 into 4.4.x will increase coverage by 0.03%.
The diff coverage is 90.28%.


@@            Coverage Diff             @@
##            4.4.x    #1693      +/-   ##
==========================================
+ Coverage   79.61%   79.64%   +0.03%     
==========================================
  Files         370      370              
  Lines       68376    68929     +553     
  Branches     6914     7039     +125     
==========================================
+ Hits        54434    54890     +456     
- Misses      13836    13933      +97     
  Partials      106      106



Impacted Files
Coverage Δ





sqliterepo/election.c
87.16% <89.37%> (-2.42%)
⬇️


sqlx/sqlx_service.c
84.05% <92%> (-0.47%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


events/oio_events_queue_beanstalkd.c
82.93% <0%> (-2.84%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


rawx-apache2/src/rawx_repository.c
56.75% <0%> (-0.8%)
⬇️


metautils/lib/comm_message.c
84.26% <0%> (-0.52%)
⬇️


metautils/lib/gridd_client.c
75.5% <0%> (-0.49%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1320296...9dd6322. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1694,2019-03-06T10:43:30Z,2019-03-06T17:21:49Z,2019-03-06T21:28:16Z,MERGED,True,1,1,1,https://github.com/jfsmig,sqliterepo/election: Fix an ugly but harmless memory management,1,"['bug :scream:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1694,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1694,"SUMMARY
The size of the buffer was wrong but hopefully, we did not write out of the id integer variable because the source hexadecimal string ends early enough.
ISSUE TYPE
bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b1.dev75","SUMMARY
The size of the buffer was wrong but hopefully, we did not write out of the id integer variable because the source hexadecimal string ends early enough.
ISSUE TYPE
bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b1.dev75",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1694,2019-03-06T10:43:30Z,2019-03-06T17:21:49Z,2019-03-06T21:28:16Z,MERGED,True,1,1,1,https://github.com/jfsmig,sqliterepo/election: Fix an ugly but harmless memory management,1,"['bug :scream:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1694,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1694#issuecomment-470108426,"SUMMARY
The size of the buffer was wrong but hopefully, we did not write out of the id integer variable because the source hexadecimal string ends early enough.
ISSUE TYPE
bugfix
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b1.dev75","Codecov Report

Merging #1694 into master will decrease coverage by 0.05%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##           master    #1694      +/-   ##
==========================================
- Coverage   79.58%   79.53%   -0.04%     
==========================================
  Files         369      369              
  Lines       67956    67956              
  Branches     6846     6846              
==========================================
- Hits        54073    54045      -28     
- Misses      13777    13805      +28     
  Partials      106      106



Impacted Files
Coverage Δ





sqliterepo/election.c
89.19% <0%> (ø)
⬆️


server/slab.c
81.17% <0%> (-4.54%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


meta2v2/meta2_server.c
79.07% <0%> (-2.32%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


server/network_server.c
84.42% <0%> (-1.84%)
⬇️


metautils/lib/utils_sockets.c
42.31% <0%> (-1.53%)
⬇️


metautils/lib/gridd_client_ext.c
80.98% <0%> (-1.49%)
⬇️


oio/api/base.py
87.37% <0%> (-1.05%)
⬇️


core/cs.c
81.09% <0%> (-0.9%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4477c5d...8a69c74. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1695,2019-03-06T13:48:11Z,2019-03-06T17:43:45Z,2019-03-06T21:27:06Z,MERGED,True,3,3,1,https://github.com/jfsmig,oio-reset: Stop calling zk-reset.py,1,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1695,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1695,"SUMMARY
Resetting ZK takes a while and is useless.
ISSUE TYPE
enhancement
COMPONENT NAME
sandbox
SDS VERSION
openio 4.4.0.0b1.dev75","SUMMARY
Resetting ZK takes a while and is useless.
ISSUE TYPE
enhancement
COMPONENT NAME
sandbox
SDS VERSION
openio 4.4.0.0b1.dev75",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1696,2019-03-06T21:47:26Z,2019-03-11T13:12:15Z,2019-03-12T10:30:17Z,MERGED,True,52,10,2,https://github.com/jfsmig,sqliterepo/election: Be more consistent with sharded/multiplied ZK,3,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1696,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1696,"SUMMARY
Allow to change the value of the value of the managed variable sqliterepo.zk.mux_factor on a running platform. Only works for platforms that never used a positive value prior to this PR, because it was not possible to modify that value without breaking the election FSM.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b1.dev80","SUMMARY
Allow to change the value of the value of the managed variable sqliterepo.zk.mux_factor on a running platform. Only works for platforms that never used a positive value prior to this PR, because it was not possible to modify that value without breaking the election FSM.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b1.dev80",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1696,2019-03-06T21:47:26Z,2019-03-11T13:12:15Z,2019-03-12T10:30:17Z,MERGED,True,52,10,2,https://github.com/jfsmig,sqliterepo/election: Be more consistent with sharded/multiplied ZK,3,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1696,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1696#issuecomment-471495171,"SUMMARY
Allow to change the value of the value of the managed variable sqliterepo.zk.mux_factor on a running platform. Only works for platforms that never used a positive value prior to this PR, because it was not possible to modify that value without breaking the election FSM.
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b1.dev80","Codecov Report

Merging #1696 into master will increase coverage by 0.12%.
The diff coverage is 39.14%.


@@            Coverage Diff             @@
##           master    #1696      +/-   ##
==========================================
+ Coverage   79.53%   79.65%   +0.12%     
==========================================
  Files         369      369              
  Lines       67978    68351     +373     
  Branches     6846     6880      +34     
==========================================
+ Hits        54061    54436     +375     
+ Misses      13811    13809       -2     
  Partials      106      106



Impacted Files
Coverage Δ





sqliterepo/election.c
88.74% <39.14%> (-0.5%)
⬇️


oio/conscience/client.py
79.75% <0%> (-5.96%)
⬇️


oio/account/client.py
81.61% <0%> (-5.74%)
⬇️


tests/functional/cli/account/test_account.py
23.46% <0%> (-1.54%)
⬇️


oio/common/utils.py
66.99% <0%> (-1.3%)
⬇️


oio/blob/indexer.py
70.46% <0%> (-1.19%)
⬇️


oio/directory/meta1.py
88.51% <0%> (-1.14%)
⬇️


oio/common/storage_functions.py
91.43% <0%> (-0.71%)
⬇️


oio/ecd/app.py
65.48% <0%> (-0.59%)
⬇️


sqlx/sqlx_service.c
84.43% <0%> (-0.51%)
⬇️


... and 47 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2d5c42b...6540bee. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1697,2019-03-08T08:37:00Z,2019-03-19T08:58:03Z,2019-03-19T08:58:16Z,MERGED,True,797,274,29,https://github.com/fvennetier,CLI: implement 'openio-admin <item_type> check' commands,8,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1697,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1697,"SUMMARY
Start implementation of new openio-admin commands.
See open-io/oio-product-docs#32.

 chunk check (output format to be fixed)
 object check
 container check
 account check
 log to files
 fix the legacy oio-crawler-integrity

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API

SDS VERSION
openio 4.2.9.dev33

ADDITIONAL INFORMATION
oio-crawler-integrity internals are being refactored in order to be callable by openio-admin commands.","SUMMARY
Start implementation of new openio-admin commands.
See open-io/oio-product-docs#32.

 chunk check (output format to be fixed)
 object check
 container check
 account check
 log to files
 fix the legacy oio-crawler-integrity

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API

SDS VERSION
openio 4.2.9.dev33

ADDITIONAL INFORMATION
oio-crawler-integrity internals are being refactored in order to be callable by openio-admin commands.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1697,2019-03-08T08:37:00Z,2019-03-19T08:58:03Z,2019-03-19T08:58:16Z,MERGED,True,797,274,29,https://github.com/fvennetier,CLI: implement 'openio-admin <item_type> check' commands,8,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1697,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1697#issuecomment-472325656,"SUMMARY
Start implementation of new openio-admin commands.
See open-io/oio-product-docs#32.

 chunk check (output format to be fixed)
 object check
 container check
 account check
 log to files
 fix the legacy oio-crawler-integrity

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API

SDS VERSION
openio 4.2.9.dev33

ADDITIONAL INFORMATION
oio-crawler-integrity internals are being refactored in order to be callable by openio-admin commands.","Codecov Report

Merging #1697 into master will increase coverage by 0.01%.
The diff coverage is 67.62%.


@@            Coverage Diff             @@
##           master    #1697      +/-   ##
==========================================
+ Coverage   79.56%   79.56%   +0.01%     
==========================================
  Files         370      370              
  Lines       68344    68438      +94     
  Branches     6880     6880              
==========================================
+ Hits        54374    54449      +75     
- Misses      13864    13883      +19     
  Partials      106      106



Impacted Files
Coverage Δ





oio/common/http_urllib3.py
86.12% <ø> (ø)
⬆️


tests/unit/api/test_rdir.py
100% <ø> (ø)
⬆️


oio/rdir/client.py
79.94% <ø> (ø)
⬆️


oio/cli/common/clientmanager.py
50.74% <0%> (ø)
⬆️


oio/common/exceptions.py
94.64% <100%> (+0.12%)
⬆️


tests/functional/blob/test_converter.py
98.47% <100%> (+0.94%)
⬆️


oio/common/constants.py
100% <100%> (ø)
⬆️


oio/blob/client.py
90.21% <50%> (-1.39%)
⬇️


oio/common/decorators.py
97.83% <66.67%> (-2.17%)
⬇️


oio/crawler/integrity.py
67.95% <66.67%> (-2.26%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 80b678b...0000b79. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1698,2019-03-08T11:46:22Z,2019-03-12T10:29:31Z,2019-03-12T10:29:56Z,MERGED,True,188,154,13,https://github.com/jfsmig,Simplify the management of metrics,2,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1698,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1698,"SUMMARY
The PR moves the stats ownership from the server instance to a global singleton in metautils. It prepares the background for a code instrumentation about shared structures that had no access to the server.
We don't need a complicated solution with a background thread. We here reduce the number of allocations, the number of locks, the number of threads. We expect less CPU (user & sys) to be used.
ISSUE TYPE
enhancement
COMPONENT NAME
*
SDS VERSION
openio 4.2.9.dev23 (but please note that the computation of the version is broken).","SUMMARY
The PR moves the stats ownership from the server instance to a global singleton in metautils. It prepares the background for a code instrumentation about shared structures that had no access to the server.
We don't need a complicated solution with a background thread. We here reduce the number of allocations, the number of locks, the number of threads. We expect less CPU (user & sys) to be used.
ISSUE TYPE
enhancement
COMPONENT NAME
*
SDS VERSION
openio 4.2.9.dev23 (but please note that the computation of the version is broken).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1698,2019-03-08T11:46:22Z,2019-03-12T10:29:31Z,2019-03-12T10:29:56Z,MERGED,True,188,154,13,https://github.com/jfsmig,Simplify the management of metrics,2,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1698,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1698#issuecomment-470930956,"SUMMARY
The PR moves the stats ownership from the server instance to a global singleton in metautils. It prepares the background for a code instrumentation about shared structures that had no access to the server.
We don't need a complicated solution with a background thread. We here reduce the number of allocations, the number of locks, the number of threads. We expect less CPU (user & sys) to be used.
ISSUE TYPE
enhancement
COMPONENT NAME
*
SDS VERSION
openio 4.2.9.dev23 (but please note that the computation of the version is broken).","Codecov Report

Merging #1698 into master will decrease coverage by 0.03%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##           master    #1698      +/-   ##
==========================================
- Coverage   79.61%   79.59%   -0.02%     
==========================================
  Files         369      370       +1     
  Lines       68337    68330       -7     
  Branches     6875     6875              
==========================================
- Hits        54401    54381      -20     
- Misses      13830    13843      +13     
  Partials      106      106



Impacted Files
Coverage Δ





server/transport_gridd.h
100% <ø> (ø)
⬆️


server/transport_gridd.c
77.96% <100%> (-0.15%)
⬇️


metautils/lib/stats.c
100% <100%> (ø)



server/network_server.c
85.27% <100%> (-0.99%)
⬇️


proxy/metacd_http.c
89.91% <100%> (-1.08%)
⬇️


oio/conscience/client.py
79.75% <0%> (-7.59%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/container/client.py
85% <0%> (-1.76%)
⬇️


oio/directory/meta1.py
88.51% <0%> (-1.14%)
⬇️


oio/blob/auditor.py
58.29% <0%> (-1.14%)
⬇️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 55177e6...bd25ac2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1699,2019-03-13T11:12:47Z,2019-03-15T15:57:16Z,2019-04-11T14:12:45Z,MERGED,True,85,7,7,https://github.com/jfsmig,sqliterepo: Bound the memory usage,9,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1699,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1699,"SUMMARY
First optimistic memory usage limitation.
When a base is closed and returns to the cache, if the memory limit has been reached the oldest base in cache is expired. The sqlite3 pages are returned to the sqlite3 memory pool and neither to the glibc nor to the kernel). Thus they become available for existing or new bases but you won't observe the RSS usage to shrink.
Adds a new central variable sqliterepo.rss.max that is set to 0 by default, and 0 means the maximum is deduced for getrlimit(RLIMIT_DATA).
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b0.dev67","SUMMARY
First optimistic memory usage limitation.
When a base is closed and returns to the cache, if the memory limit has been reached the oldest base in cache is expired. The sqlite3 pages are returned to the sqlite3 memory pool and neither to the glibc nor to the kernel). Thus they become available for existing or new bases but you won't observe the RSS usage to shrink.
Adds a new central variable sqliterepo.rss.max that is set to 0 by default, and 0 means the maximum is deduced for getrlimit(RLIMIT_DATA).
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b0.dev67",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1699,2019-03-13T11:12:47Z,2019-03-15T15:57:16Z,2019-04-11T14:12:45Z,MERGED,True,85,7,7,https://github.com/jfsmig,sqliterepo: Bound the memory usage,9,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1699,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1699#issuecomment-472414851,"SUMMARY
First optimistic memory usage limitation.
When a base is closed and returns to the cache, if the memory limit has been reached the oldest base in cache is expired. The sqlite3 pages are returned to the sqlite3 memory pool and neither to the glibc nor to the kernel). Thus they become available for existing or new bases but you won't observe the RSS usage to shrink.
Adds a new central variable sqliterepo.rss.max that is set to 0 by default, and 0 means the maximum is deduced for getrlimit(RLIMIT_DATA).
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b0.dev67","Codecov Report

Merging #1699 into 4.4.x will decrease coverage by 0.11%.
The diff coverage is 92.6%.


@@            Coverage Diff            @@
##            4.4.x    #1699     +/-   ##
=========================================
- Coverage   79.78%   79.68%   -0.1%     
=========================================
  Files         370      370             
  Lines       68474    68500     +26     
  Branches     6925     6932      +7     
=========================================
- Hits        54626    54574     -52     
- Misses      13743    13820     +77     
- Partials      105      106      +1



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
84.19% <100%> (-0.38%)
⬇️


sqliterepo/cache.c
86.72% <85.72%> (-0.07%)
⬇️


oio/conscience/client.py
78.49% <0%> (-7.59%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/directory/meta1.py
88.51% <0%> (-4.59%)
⬇️


events/oio_events_queue_beanstalkd.c
82.93% <0%> (-2.84%)
⬇️


oio/container/client.py
83.83% <0%> (-2.64%)
⬇️


meta2v2/meta2_filters_action_container.c
59.73% <0%> (-2.08%)
⬇️


oio/event/beanstalk.py
63.99% <0%> (-2.01%)
⬇️


tests/functional/audit/test_audit_storage.py
80.49% <0%> (-1.62%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 00c7481...46c1e64. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1699,2019-03-13T11:12:47Z,2019-03-15T15:57:16Z,2019-04-11T14:12:45Z,MERGED,True,85,7,7,https://github.com/jfsmig,sqliterepo: Bound the memory usage,9,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1699,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/1699#issuecomment-473231425,"SUMMARY
First optimistic memory usage limitation.
When a base is closed and returns to the cache, if the memory limit has been reached the oldest base in cache is expired. The sqlite3 pages are returned to the sqlite3 memory pool and neither to the glibc nor to the kernel). Thus they become available for existing or new bases but you won't observe the RSS usage to shrink.
Adds a new central variable sqliterepo.rss.max that is set to 0 by default, and 0 means the maximum is deduced for getrlimit(RLIMIT_DATA).
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.4.0.0b0.dev67","Thought of the day
Prior to this PR we detected the memory leaks with a RSS size growing monotonically.
If we bound the RSS usage with an action on sqliterepo, it will become more difficult to detect memory leaks.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1700,2019-03-14T22:45:02Z,2019-03-15T15:57:31Z,2019-04-11T14:12:47Z,MERGED,True,277,60,17,https://github.com/jfsmig,proxy: Prefer local services,4,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1700,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1700,"SUMMARY

Give a location to any proxy on the host (central variable)
Mangle the scores of RAWX to give precedence to services that are closer
Allow to enable/disable that behavior.

ISSUE TYPE
enhancement
COMPONENT NAME
oio-proxy
SDS VERSION
openio 4.2.9.dev23","SUMMARY

Give a location to any proxy on the host (central variable)
Mangle the scores of RAWX to give precedence to services that are closer
Allow to enable/disable that behavior.

ISSUE TYPE
enhancement
COMPONENT NAME
oio-proxy
SDS VERSION
openio 4.2.9.dev23",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1700,2019-03-14T22:45:02Z,2019-03-15T15:57:31Z,2019-04-11T14:12:47Z,MERGED,True,277,60,17,https://github.com/jfsmig,proxy: Prefer local services,4,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1700,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1700#issuecomment-473094754,"SUMMARY

Give a location to any proxy on the host (central variable)
Mangle the scores of RAWX to give precedence to services that are closer
Allow to enable/disable that behavior.

ISSUE TYPE
enhancement
COMPONENT NAME
oio-proxy
SDS VERSION
openio 4.2.9.dev23","It's on its way, @fatpat !",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1700,2019-03-14T22:45:02Z,2019-03-15T15:57:31Z,2019-04-11T14:12:47Z,MERGED,True,277,60,17,https://github.com/jfsmig,proxy: Prefer local services,4,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1700,https://github.com/fatpat,3,https://github.com/open-io/oio-sds/pull/1700#issuecomment-473342493,"SUMMARY

Give a location to any proxy on the host (central variable)
Mangle the scores of RAWX to give precedence to services that are closer
Allow to enable/disable that behavior.

ISSUE TYPE
enhancement
COMPONENT NAME
oio-proxy
SDS VERSION
openio 4.2.9.dev23",👍 💯 🥇,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1701,2019-03-15T17:06:47Z,2019-03-19T15:04:07Z,2019-03-21T09:39:04Z,MERGED,True,35,32,8,https://github.com/fvennetier,Various improvements on oio-event-agent,2,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1701,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1701,"SUMMARY
Try to lower the number of from event-agent to account and rdir services. Improve the default configuration.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-event-agent

SDS VERSION
openio 4.4.0.0b2.dev14","SUMMARY
Try to lower the number of from event-agent to account and rdir services. Improve the default configuration.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-event-agent

SDS VERSION
openio 4.4.0.0b2.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1701,2019-03-15T17:06:47Z,2019-03-19T15:04:07Z,2019-03-21T09:39:04Z,MERGED,True,35,32,8,https://github.com/fvennetier,Various improvements on oio-event-agent,2,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1701,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1701#issuecomment-473875560,"SUMMARY
Try to lower the number of from event-agent to account and rdir services. Improve the default configuration.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-event-agent

SDS VERSION
openio 4.4.0.0b2.dev14","Codecov Report

❗ No coverage uploaded for pull request base (4.4.x@0959f2c). Click here to learn what that means.
The diff coverage is 27.28%.


@@           Coverage Diff            @@
##             4.4.x    #1701   +/-   ##
========================================
  Coverage         ?   79.69%           
========================================
  Files            ?      371           
  Lines            ?    68515           
  Branches         ?     6935           
========================================
  Hits             ?    54595           
  Misses           ?    13814           
  Partials         ?      106



Impacted Files
Coverage Δ





oio/api/object_storage.py
81.77% <ø> (ø)



oio/blob/client.py
90.21% <100%> (ø)



oio/event/consumer.py
23.89% <20%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0959f2c...794f5be. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1702,2019-03-18T14:01:16Z,2019-03-19T13:57:43Z,2019-03-19T13:57:47Z,MERGED,True,26,9,2,https://github.com/fvennetier,"Fix error messages, document proxy API",2,[],https://github.com/open-io/oio-sds/pull/1702,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1702,"SUMMARY

Fix oio-proxy API documentation.
Fix the variable used in a warning message from TCP server base.

ISSUE TYPE

Docs Pull Request

COMPONENT NAME

oio-proxy
TCP server base

SDS VERSION
openio 4.4.0.0b2.dev15","SUMMARY

Fix oio-proxy API documentation.
Fix the variable used in a warning message from TCP server base.

ISSUE TYPE

Docs Pull Request

COMPONENT NAME

oio-proxy
TCP server base

SDS VERSION
openio 4.4.0.0b2.dev15",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1703,2019-03-19T09:42:51Z,2019-03-19T15:04:24Z,2019-03-20T10:57:32Z,MERGED,True,10,0,1,https://github.com/AymericDu,Detect corrupt databases at the end of transactions,1,[],https://github.com/open-io/oio-sds/pull/1703,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1703,"SUMMARY
Detect corrupted databases at the end of the transaction.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.4.0.0b2.dev13","SUMMARY
Detect corrupted databases at the end of the transaction.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.4.0.0b2.dev13",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1704,2019-03-19T15:27:13Z,2019-03-28T13:05:13Z,2019-03-28T13:27:08Z,MERGED,True,559,48,9,https://github.com/fvennetier,CLI: implement 'openio-admin <item_type> locate' commands,5,[],https://github.com/open-io/oio-sds/pull/1704,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1704,"SUMMARY

Create mixin classes for container and object commands.
Implement 'openio-admin <item_type> locate' commands.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.4.0.0b2.dev14","SUMMARY

Create mixin classes for container and object commands.
Implement 'openio-admin <item_type> locate' commands.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.4.0.0b2.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1704,2019-03-19T15:27:13Z,2019-03-28T13:05:13Z,2019-03-28T13:27:08Z,MERGED,True,559,48,9,https://github.com/fvennetier,CLI: implement 'openio-admin <item_type> locate' commands,5,[],https://github.com/open-io/oio-sds/pull/1704,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1704#issuecomment-474470129,"SUMMARY

Create mixin classes for container and object commands.
Implement 'openio-admin <item_type> locate' commands.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.4.0.0b2.dev14","Codecov Report

❗ No coverage uploaded for pull request base (master@04729ec). Click here to learn what that means.
The diff coverage is n/a.


@@            Coverage Diff            @@
##             master    #1704   +/-   ##
=========================================
  Coverage          ?   79.58%           
=========================================
  Files             ?      370           
  Lines             ?    68486           
  Branches          ?     6880           
=========================================
  Hits              ?    54500           
  Misses            ?    13880           
  Partials          ?      106

Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 04729ec...10a4cd5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1705,2019-03-19T23:59:47Z,2019-03-20T16:09:37Z,2019-03-20T16:16:44Z,MERGED,True,131,68,8,https://github.com/AymericDu,Load old xattr when deleting chunk,4,"['bug :scream:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1705,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1705,"SUMMARY
Load old xattr when deleting chunk.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.9.dev2","SUMMARY
Load old xattr when deleting chunk.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.9.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1705,2019-03-19T23:59:47Z,2019-03-20T16:09:37Z,2019-03-20T16:16:44Z,MERGED,True,131,68,8,https://github.com/AymericDu,Load old xattr when deleting chunk,4,"['bug :scream:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1705,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1705#issuecomment-474889531,"SUMMARY
Load old xattr when deleting chunk.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.2.9.dev2","Codecov Report

Merging #1705 into 4.2.x will decrease coverage by 0.05%.
The diff coverage is 78.27%.


@@            Coverage Diff             @@
##            4.2.x    #1705      +/-   ##
==========================================
- Coverage   79.67%   79.63%   -0.04%     
==========================================
  Files         341      341              
  Lines       62316    62347      +31     
  Branches     6741     6742       +1     
==========================================
- Hits        49644    49643       -1     
- Misses      12672    12704      +32



Impacted Files
Coverage Δ





tests/functional/blob/test_indexer.py
98.14% <100%> (+0.32%)
⬆️


rawx-apache2/src/rawx_repo_core.c
76.63% <100%> (+0.65%)
⬆️


rawx-lib/src/attr_handler.c
68.58% <56.25%> (+2.61%)
⬆️


rawx-apache2/src/rawx_repository.c
54.98% <85.72%> (-1.35%)
⬇️


core/url.c
77.05% <0%> (-6.55%)
⬇️


tests/functional/rdir/test_indexer.py
92.48% <0%> (-6.45%)
⬇️


meta1v2/meta1_server.c
72.65% <0%> (-1.88%)
⬇️


oio/account/backend.py
81.91% <0%> (-1.8%)
⬇️


meta2v2/meta2_filters_check.c
73.78% <0%> (-1.63%)
⬇️


sqliterepo/replication_client.c
63.39% <0%> (-1.4%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e0c3cd7...91bf031. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1706,2019-03-20T07:51:04Z,2019-03-20T10:23:34Z,2020-01-09T07:39:09Z,CLOSED,False,2,1,1,https://github.com/murlock,CLI: fix invalid service type in bootstrap message,1,"['bug :scream:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1706,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1706,"SUMMARY
If anything go wrong in openio rdir bootstrap rawx,
the behavior is to display current assignments but
invalid refactoring has left meta2 instead of current
services.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
4.4.0.0b2.dev19","SUMMARY
If anything go wrong in openio rdir bootstrap rawx,
the behavior is to display current assignments but
invalid refactoring has left meta2 instead of current
services.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
4.4.0.0b2.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1706,2019-03-20T07:51:04Z,2019-03-20T10:23:34Z,2020-01-09T07:39:09Z,CLOSED,False,2,1,1,https://github.com/murlock,CLI: fix invalid service type in bootstrap message,1,"['bug :scream:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1706,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/1706#issuecomment-474770985,"SUMMARY
If anything go wrong in openio rdir bootstrap rawx,
the behavior is to display current assignments but
invalid refactoring has left meta2 instead of current
services.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
4.4.0.0b2.dev19",Fix is now included in #1707,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1707,2019-03-20T08:51:22Z,2019-03-22T16:38:46Z,2019-05-15T12:16:34Z,MERGED,True,8,2,1,https://github.com/kamel-rahim,CLI: return 1 when rdir bootstrap fails,2,[],https://github.com/open-io/oio-sds/pull/1707,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1707,"SUMMARY

Rdir bootstrap returned 0 when there was a partial success.
Deployment needs to be able to check if everything was ok.
So now even on partial success we return 1 but still printing the partial success.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

CLI
SDS VERSION

openio 4.4.0.0b2.dev13","SUMMARY

Rdir bootstrap returned 0 when there was a partial success.
Deployment needs to be able to check if everything was ok.
So now even on partial success we return 1 but still printing the partial success.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

CLI
SDS VERSION

openio 4.4.0.0b2.dev13",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1708,2019-03-20T10:11:18Z,2019-03-20T15:14:18Z,2019-03-20T15:14:21Z,MERGED,True,34,15,6,https://github.com/fvennetier,Python API: use reqid instead of req_id,1,[],https://github.com/open-io/oio-sds/pull/1708,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1708,"SUMMARY
Try to be consistent when using abbreviations. We choose reqid over req_id since it was more common in the existing code base, especially in log messages.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.0.0b2.dev18","SUMMARY
Try to be consistent when using abbreviations. We choose reqid over req_id since it was more common in the existing code base, especially in log messages.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.0.0b2.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1709,2019-03-20T22:43:07Z,2019-03-28T10:47:03Z,2019-03-28T20:07:22Z,MERGED,True,41,20,3,https://github.com/AymericDu,Go rawx: Allow to read old chunks,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1709,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1709,"SUMMARY
Allow to read old chunk with Go rawx
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Go rawx

SDS VERSION
openio 4.4.0.0b2.dev20","SUMMARY
Allow to read old chunk with Go rawx
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Go rawx

SDS VERSION
openio 4.4.0.0b2.dev20",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1709,2019-03-20T22:43:07Z,2019-03-28T10:47:03Z,2019-03-28T20:07:22Z,MERGED,True,41,20,3,https://github.com/AymericDu,Go rawx: Allow to read old chunks,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1709,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1709#issuecomment-475561315,"SUMMARY
Allow to read old chunk with Go rawx
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Go rawx

SDS VERSION
openio 4.4.0.0b2.dev20","Codecov Report

❗ No coverage uploaded for pull request base (4.4.x@d11165a). Click here to learn what that means.
The diff coverage is 92.6%.


@@           Coverage Diff           @@
##             4.4.x   #1709   +/-   ##
=======================================
  Coverage         ?   79.6%           
=======================================
  Files            ?     371           
  Lines            ?   68976           
  Branches         ?    7064           
=======================================
  Hits             ?   54903           
  Misses           ?   13967           
  Partials         ?     106



Impacted Files
Coverage Δ





tests/functional/blob/test_rebuilder.py
100% <ø> (ø)



tests/functional/blob/test_blob.py
99.28% <ø> (ø)



rawx/chunk_info.go
78.46% <92.6%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d11165a...4e68d3b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1710,2019-03-22T14:58:43Z,2019-03-28T08:47:08Z,2019-03-28T20:07:18Z,MERGED,True,18,1,1,https://github.com/AymericDu,No dump if database is corrupt,1,"['bug :scream:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1710,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1710,"SUMMARY
Refuse database dumps (used by synchronous and asynchronous replication mechanisms) is we detect a database corruption. This is to avoid copying a corrupt database over a correct one (which could happen if the correct one had a lower version number).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta1
meta2

SDS VERSION
openio 4.2.9.dev6

ADDITIONAL INFORMATION
Before:
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6017 |    200 | OK             |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6017 |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6017 |
+----------------+--------+----------------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-2/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ openio election sync meta2 toto
+----------------+--------+-----------+------+
| Id             | Status | Message   | Body |
+----------------+--------+-----------+------+
| 127.0.0.1:6017 |    301 | not SLAVE |      |
| 127.0.0.1:6018 |    200 | OK        |      |
| 127.0.0.1:6019 |    200 | OK        |      |
+----------------+--------+-----------+------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-2/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6017 |    200 | OK             |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6017 |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6017 |
+----------------+--------+----------------+

After:
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6016 |    200 | OK             |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6016 |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6016 |
+----------------+--------+----------------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-1/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 10: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Page 9: btreeInitPage() returns error code 11
Fragmentation of 4080 bytes reported as 0 on page 8
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ openio election sync meta2 toto
+----------------+--------+---------+------+
| Id             | Status | Message | Body |
+----------------+--------+---------+------+
| 127.0.0.1:6016 |    200 | OK      |      |
| 127.0.0.1:6018 |    200 | OK      |      |
| 127.0.0.1:6019 |    200 | OK      |      |
+----------------+--------+---------+------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-1/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6016 |    303 | 127.0.0.1:6018 |
| 127.0.0.1:6018 |    200 | OK             |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6018 |
+----------------+--------+----------------+","SUMMARY
Refuse database dumps (used by synchronous and asynchronous replication mechanisms) is we detect a database corruption. This is to avoid copying a corrupt database over a correct one (which could happen if the correct one had a lower version number).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta1
meta2

SDS VERSION
openio 4.2.9.dev6

ADDITIONAL INFORMATION
Before:
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6017 |    200 | OK             |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6017 |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6017 |
+----------------+--------+----------------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-2/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ openio election sync meta2 toto
+----------------+--------+-----------+------+
| Id             | Status | Message   | Body |
+----------------+--------+-----------+------+
| 127.0.0.1:6017 |    301 | not SLAVE |      |
| 127.0.0.1:6018 |    200 | OK        |      |
| 127.0.0.1:6019 |    200 | OK        |      |
+----------------+--------+-----------+------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-2/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6017 |    200 | OK             |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6017 |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6017 |
+----------------+--------+----------------+

After:
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6016 |    200 | OK             |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6016 |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6016 |
+----------------+--------+----------------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-1/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 10: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Page 9: btreeInitPage() returns error code 11
Fragmentation of 4080 bytes reported as 0 on page 8
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ openio election sync meta2 toto
+----------------+--------+---------+------+
| Id             | Status | Message | Body |
+----------------+--------+---------+------+
| 127.0.0.1:6016 |    200 | OK      |      |
| 127.0.0.1:6018 |    200 | OK      |      |
| 127.0.0.1:6019 |    200 | OK      |      |
+----------------+--------+---------+------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-1/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6016 |    303 | 127.0.0.1:6018 |
| 127.0.0.1:6018 |    200 | OK             |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6018 |
+----------------+--------+----------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1710,2019-03-22T14:58:43Z,2019-03-28T08:47:08Z,2019-03-28T20:07:18Z,MERGED,True,18,1,1,https://github.com/AymericDu,No dump if database is corrupt,1,"['bug :scream:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1710,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1710#issuecomment-476591050,"SUMMARY
Refuse database dumps (used by synchronous and asynchronous replication mechanisms) is we detect a database corruption. This is to avoid copying a corrupt database over a correct one (which could happen if the correct one had a lower version number).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta1
meta2

SDS VERSION
openio 4.2.9.dev6

ADDITIONAL INFORMATION
Before:
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6017 |    200 | OK             |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6017 |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6017 |
+----------------+--------+----------------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-2/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ openio election sync meta2 toto
+----------------+--------+-----------+------+
| Id             | Status | Message   | Body |
+----------------+--------+-----------+------+
| 127.0.0.1:6017 |    301 | not SLAVE |      |
| 127.0.0.1:6018 |    200 | OK        |      |
| 127.0.0.1:6019 |    200 | OK        |      |
+----------------+--------+-----------+------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-2/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Error: database disk image is malformed
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6017 |    200 | OK             |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6017 |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6017 |
+----------------+--------+----------------+

After:
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6016 |    200 | OK             |
| 127.0.0.1:6018 |    303 | 127.0.0.1:6016 |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6016 |
+----------------+--------+----------------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-1/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
*** in database main ***
Page 14: btreeInitPage() returns error code 11
Page 16: btreeInitPage() returns error code 11
Page 15: btreeInitPage() returns error code 11
Page 10: btreeInitPage() returns error code 11
Page 13: btreeInitPage() returns error code 11
Page 12: btreeInitPage() returns error code 11
Page 11: btreeInitPage() returns error code 11
Page 9: btreeInitPage() returns error code 11
Fragmentation of 4080 bytes reported as 0 on page 8
Error: database disk image is malformed
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ openio election sync meta2 toto
+----------------+--------+---------+------+
| Id             | Status | Message | Body |
+----------------+--------+---------+------+
| 127.0.0.1:6016 |    200 | OK      |      |
| 127.0.0.1:6018 |    200 | OK      |      |
| 127.0.0.1:6019 |    200 | OK      |      |
+----------------+--------+---------+------+
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-1/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-3/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ sqlite3 /home/USER/.oio/sds/data/OPENIO-meta2-4/8B7/8B78B3245B74710F3ACC1BEF4978E621F5E764E01FFB5621D23C4EECA2B7BB3D.1.meta2 ""pragma integrity_check""
ok
$ openio election status meta2 toto
+----------------+--------+----------------+
| Id             | Status | Message        |
+----------------+--------+----------------+
| 127.0.0.1:6016 |    303 | 127.0.0.1:6018 |
| 127.0.0.1:6018 |    200 | OK             |
| 127.0.0.1:6019 |    303 | 127.0.0.1:6018 |
+----------------+--------+----------------+","Codecov Report

❗ No coverage uploaded for pull request base (4.2.x@bc27771). Click here to learn what that means.
The diff coverage is 28.58%.


@@           Coverage Diff            @@
##             4.2.x    #1710   +/-   ##
========================================
  Coverage         ?   79.59%           
========================================
  Files            ?      341           
  Lines            ?    62354           
  Branches         ?     6744           
========================================
  Hits             ?    49622           
  Misses           ?    12732           
  Partials         ?        0



Impacted Files
Coverage Δ





sqliterepo/repository.c
72.52% <28.58%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update bc27771...2844b89. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1711,2019-03-25T15:09:26Z,2019-03-26T09:29:15Z,2019-03-26T09:29:19Z,MERGED,True,57,62,3,https://github.com/fvennetier,account: fix filtering when more than 1000 containers,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1711,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1711,"SUMMARY
Refactor the container filtering method so it is more readable
and less error-prone.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 4.4.0

ADDITIONAL INFORMATION
Bug has been discovered when trying to integrate open-io/oio-swift#162","SUMMARY
Refactor the container filtering method so it is more readable
and less error-prone.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 4.4.0

ADDITIONAL INFORMATION
Bug has been discovered when trying to integrate open-io/oio-swift#162",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1712,2019-03-25T17:34:36Z,2019-03-29T15:55:00Z,2019-04-10T10:04:40Z,MERGED,True,936,392,10,https://github.com/AymericDu,CLI: implement 'openio-admin container move' command,9,[],https://github.com/open-io/oio-sds/pull/1712,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1712,"SUMMARY
Implement 'openio-admin container move' command.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 4.4.0.0b2.dev19","SUMMARY
Implement 'openio-admin container move' command.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 4.4.0.0b2.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1712,2019-03-25T17:34:36Z,2019-03-29T15:55:00Z,2019-04-10T10:04:40Z,MERGED,True,936,392,10,https://github.com/AymericDu,CLI: implement 'openio-admin container move' command,9,[],https://github.com/open-io/oio-sds/pull/1712,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1712#issuecomment-477817431,"SUMMARY
Implement 'openio-admin container move' command.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 4.4.0.0b2.dev19","Codecov Report

❗ No coverage uploaded for pull request base (master@c1a1685). Click here to learn what that means.
The diff coverage is 77.52%.


@@            Coverage Diff            @@
##             master    #1712   +/-   ##
=========================================
  Coverage          ?   79.43%           
=========================================
  Files             ?      372           
  Lines             ?    68868           
  Branches          ?     6896           
=========================================
  Hits              ?    54699           
  Misses            ?    14063           
  Partials          ?      106



Impacted Files
Coverage Δ





tests/functional/cli/__init__.py
100% <100%> (ø)



tests/functional/cli/admin/test_item_move.py
29.35% <29.35%> (ø)



oio/directory/meta2.py
79.23% <79.23%> (ø)



tests/functional/directory/test_meta2.py
99.44% <99.44%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c1a1685...b5c3a7a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1712,2019-03-25T17:34:36Z,2019-03-29T15:55:00Z,2019-04-10T10:04:40Z,MERGED,True,936,392,10,https://github.com/AymericDu,CLI: implement 'openio-admin container move' command,9,[],https://github.com/open-io/oio-sds/pull/1712,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/1712#issuecomment-477959365,"SUMMARY
Implement 'openio-admin container move' command.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 4.4.0.0b2.dev19","I did some changes, but some parts are still unclear.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1713,2019-03-26T18:10:27Z,2019-04-01T14:40:26Z,2019-04-01T14:40:30Z,MERGED,True,200,92,14,https://github.com/fvennetier,Improve storage.content.update events,5,['language:C'],https://github.com/open-io/oio-sds/pull/1713,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1713,"SUMMARY
Improve storage.content.update events, in regards to object properties.

Send keys and values of properties that have just been set.
Send keys of properties that have been deleted (with a null value).

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.4.2.dev1","SUMMARY
Improve storage.content.update events, in regards to object properties.

Send keys and values of properties that have just been set.
Send keys of properties that have been deleted (with a null value).

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.4.2.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1713,2019-03-26T18:10:27Z,2019-04-01T14:40:26Z,2019-04-01T14:40:30Z,MERGED,True,200,92,14,https://github.com/fvennetier,Improve storage.content.update events,5,['language:C'],https://github.com/open-io/oio-sds/pull/1713,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1713#issuecomment-477120971,"SUMMARY
Improve storage.content.update events, in regards to object properties.

Send keys and values of properties that have just been set.
Send keys of properties that have been deleted (with a null value).

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.4.2.dev1",cc' @marcvef,True,{'THUMBS_UP': ['https://github.com/marcvef']}
open-io/oio-sds,https://github.com/open-io/oio-sds,1715,2019-03-27T12:48:33Z,2019-03-28T08:40:55Z,2019-03-28T20:07:13Z,MERGED,True,14,2,1,https://github.com/AymericDu,Make sure that meta1 are started before assigning rdir services,1,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1715,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1715,"SUMMARY
Make sure that meta1 are started before assigning rdir services
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-reset.sh

SDS VERSION
openio 4.2.9.dev6","SUMMARY
Make sure that meta1 are started before assigning rdir services
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-reset.sh

SDS VERSION
openio 4.2.9.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1715,2019-03-27T12:48:33Z,2019-03-28T08:40:55Z,2019-03-28T20:07:13Z,MERGED,True,14,2,1,https://github.com/AymericDu,Make sure that meta1 are started before assigning rdir services,1,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1715,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1715#issuecomment-477197234,"SUMMARY
Make sure that meta1 are started before assigning rdir services
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-reset.sh

SDS VERSION
openio 4.2.9.dev6","Codecov Report

❗ No coverage uploaded for pull request base (4.2.x@bc27771). Click here to learn what that means.
The diff coverage is n/a.


@@           Coverage Diff            @@
##             4.2.x    #1715   +/-   ##
========================================
  Coverage         ?   79.63%           
========================================
  Files            ?      341           
  Lines            ?    62347           
  Branches         ?     6742           
========================================
  Hits             ?    49641           
  Misses           ?    12706           
  Partials         ?        0

Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update bc27771...6c98631. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1716,2019-03-28T15:29:08Z,2019-04-01T11:30:22Z,2020-01-09T07:34:46Z,MERGED,True,71,0,2,https://github.com/murlock,CLI: implement 'openio-admin container touch' command,1,[],https://github.com/open-io/oio-sds/pull/1716,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1716,"SUMMARY
Implement container touch in admin CLI
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Admin CLI
SDS VERSION
openio 4.4.2.dev12

ADDITIONAL INFORMATION
Output has been added and will consume all containers instead of stopping at first error
$ openio container touch d1 d2
Directory error: no such user (HTTP 403) (STATUS 406)

$ openio-admin container touch d1 d2
+-----------+-------------------------------------------------------+
| Container | Status                                                |
+-----------+-------------------------------------------------------+
| d1        | ok                                                    |
| d2        | Directory error: no such user (HTTP 403) (STATUS 406) |
+-----------+-------------------------------------------------------+","SUMMARY
Implement container touch in admin CLI
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Admin CLI
SDS VERSION
openio 4.4.2.dev12

ADDITIONAL INFORMATION
Output has been added and will consume all containers instead of stopping at first error
$ openio container touch d1 d2
Directory error: no such user (HTTP 403) (STATUS 406)

$ openio-admin container touch d1 d2
+-----------+-------------------------------------------------------+
| Container | Status                                                |
+-----------+-------------------------------------------------------+
| d1        | ok                                                    |
| d2        | Directory error: no such user (HTTP 403) (STATUS 406) |
+-----------+-------------------------------------------------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1716,2019-03-28T15:29:08Z,2019-04-01T11:30:22Z,2020-01-09T07:34:46Z,MERGED,True,71,0,2,https://github.com/murlock,CLI: implement 'openio-admin container touch' command,1,[],https://github.com/open-io/oio-sds/pull/1716,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1716#issuecomment-478484317,"SUMMARY
Implement container touch in admin CLI
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Admin CLI
SDS VERSION
openio 4.4.2.dev12

ADDITIONAL INFORMATION
Output has been added and will consume all containers instead of stopping at first error
$ openio container touch d1 d2
Directory error: no such user (HTTP 403) (STATUS 406)

$ openio-admin container touch d1 d2
+-----------+-------------------------------------------------------+
| Container | Status                                                |
+-----------+-------------------------------------------------------+
| d1        | ok                                                    |
| d2        | Directory error: no such user (HTTP 403) (STATUS 406) |
+-----------+-------------------------------------------------------+","Codecov Report

❗ No coverage uploaded for pull request base (master@04e5f5e). Click here to learn what that means.
The diff coverage is n/a.


@@            Coverage Diff            @@
##             master    #1716   +/-   ##
=========================================
  Coverage          ?   79.47%           
=========================================
  Files             ?      372           
  Lines             ?    68866           
  Branches          ?     6896           
=========================================
  Hits              ?    54726           
  Misses            ?    14034           
  Partials          ?      106

Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 04e5f5e...287d5b6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1717,2019-03-28T17:51:27Z,2019-04-01T11:28:37Z,2019-04-08T12:42:04Z,MERGED,True,326,23,9,https://github.com/fvennetier,CLI: implement 'openio-admin <service_type> decache' commands,4,"['language:python :snake:', 'documentation :book:']",https://github.com/open-io/oio-sds/pull/1717,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1717,"SUMMARY
Implement the following commands:

openio-admin proxy decache
openio-admin meta1 decache
openio-admin meta2 decache

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API
proxy

SDS VERSION
openio 4.4.2.dev14

ADDITIONAL INFORMATION
Some utility code was taken from #1712, and will probably conflict when merging.","SUMMARY
Implement the following commands:

openio-admin proxy decache
openio-admin meta1 decache
openio-admin meta2 decache

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API
proxy

SDS VERSION
openio 4.4.2.dev14

ADDITIONAL INFORMATION
Some utility code was taken from #1712, and will probably conflict when merging.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1717,2019-03-28T17:51:27Z,2019-04-01T11:28:37Z,2019-04-08T12:42:04Z,MERGED,True,326,23,9,https://github.com/fvennetier,CLI: implement 'openio-admin <service_type> decache' commands,4,"['language:python :snake:', 'documentation :book:']",https://github.com/open-io/oio-sds/pull/1717,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1717#issuecomment-478081266,"SUMMARY
Implement the following commands:

openio-admin proxy decache
openio-admin meta1 decache
openio-admin meta2 decache

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API
proxy

SDS VERSION
openio 4.4.2.dev14

ADDITIONAL INFORMATION
Some utility code was taken from #1712, and will probably conflict when merging.","Codecov Report

❗ No coverage uploaded for pull request base (master@04e5f5e). Click here to learn what that means.
The diff coverage is 79.78%.


@@            Coverage Diff            @@
##             master    #1717   +/-   ##
=========================================
  Coverage          ?   79.47%           
=========================================
  Files             ?      373           
  Lines             ?    68949           
  Branches          ?     6896           
=========================================
  Hits              ?    54788           
  Misses            ?    14054           
  Partials          ?      107



Impacted Files
Coverage Δ





proxy/metacd_http.c
91.04% <ø> (ø)



oio/conscience/client.py
83.14% <ø> (ø)



tests/utils.py
93.67% <100%> (ø)



tests/functional/cli/__init__.py
100% <100%> (ø)



tests/functional/cli/object/test_object.py
53.16% <66.67%> (ø)



oio/directory/admin.py
71.91% <71.43%> (ø)



tests/functional/cli/admin/test_service_decache.py
81.25% <81.25%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 04e5f5e...cf27eb6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1718,2019-04-01T14:55:46Z,2021-01-21T08:58:29Z,2021-01-21T09:17:34Z,MERGED,True,93,62,12,https://github.com/AymericDu,Decode JSON only if the content type is 'application/json',3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1718,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1718,"SUMMARY
Decode JSON only if the content type is application/json.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
account
proxy

SDS VERSION
openio 4.4.2.dev30","SUMMARY
Decode JSON only if the content type is application/json.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
account
proxy

SDS VERSION
openio 4.4.2.dev30",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1718,2019-04-01T14:55:46Z,2021-01-21T08:58:29Z,2021-01-21T09:17:34Z,MERGED,True,93,62,12,https://github.com/AymericDu,Decode JSON only if the content type is 'application/json',3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1718,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1718#issuecomment-487224214,"SUMMARY
Decode JSON only if the content type is application/json.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
account
proxy

SDS VERSION
openio 4.4.2.dev30","Codecov Report

Merging #1718 into master will increase coverage by 0.03%.
The diff coverage is 73.92%.


@@            Coverage Diff             @@
##           master    #1718      +/-   ##
==========================================
+ Coverage   78.36%   78.39%   +0.03%     
==========================================
  Files         375      375              
  Lines       72379    72385       +6     
  Branches     6541     6544       +3     
==========================================
+ Hits        56714    56737      +23     
+ Misses      15455    15436      -19     
- Partials      210      212       +2



Impacted Files
Coverage Δ





proxy/common.h
100% <ø> (ø)
⬆️


tools/event-benchmark/fake_service.c
0% <0%> (ø)
⬆️


proxy/transport_http.c
85.36% <100%> (-0.28%)
⬇️


proxy/cs_actions.c
87.79% <100%> (-0.28%)
⬇️


proxy/cache_actions.c
73.19% <100%> (ø)
⬆️


proxy/metacd_http.c
90% <100%> (-1.38%)
⬇️


oio/common/constants.py
100% <100%> (ø)
⬆️


oio/api/base.py
92.24% <50%> (+3.02%)
⬆️


oio/account/server.py
77.49% <75%> (ø)
⬆️


rdir/rdir.c
84.69% <83.34%> (-0.05%)
⬇️


... and 46 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 43796d2...412101a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1718,2019-04-01T14:55:46Z,2021-01-21T08:58:29Z,2021-01-21T09:17:34Z,MERGED,True,93,62,12,https://github.com/AymericDu,Decode JSON only if the content type is 'application/json',3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1718,https://github.com/codecov-commenter,3,https://github.com/open-io/oio-sds/pull/1718#issuecomment-701276180,"SUMMARY
Decode JSON only if the content type is application/json.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
account
proxy

SDS VERSION
openio 4.4.2.dev30","Codecov Report

Merging #1718 into 7.x will increase coverage by 2.13%.
The diff coverage is 82.71%.


@@            Coverage Diff             @@
##              7.x    #1718      +/-   ##
==========================================
+ Coverage   77.71%   79.83%   +2.13%     
==========================================
  Files         376      367       -9     
  Lines       73206    71820    -1386     
  Branches     6572     6417     -155     
==========================================
+ Hits        56885    57333     +448     
+ Misses      16113    14287    -1826     
+ Partials      208      200       -8     



Impacted Files
Coverage Δ





cluster/module/expr.eval.c
28.70% <ø> (ø)



core/cfg.c
65.60% <ø> (ø)



core/cs.c
65.77% <ø> (ø)



core/ext.c
95.96% <ø> (+0.51%)
⬆️


core/lb.c
86.80% <ø> (ø)



core/loc.c
68.75% <ø> (ø)



core/log.c
60.31% <ø> (ø)



core/lrutree.c
95.24% <0.00%> (ø)



core/str.c
87.79% <ø> (+0.23%)
⬆️


core/url.c
72.94% <ø> (-3.20%)
⬇️


... and 229 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d614e82...d11f387. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1719,2019-04-02T10:50:50Z,2019-04-03T06:49:23Z,2019-04-15T09:58:44Z,MERGED,True,1,1,1,https://github.com/AymericDu,oio-reset.sh: Fix openio command,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1719,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1719,"SUMMARY
Fix openio command
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-reset.sh

SDS VERSION
openio 4.2.9.dev8","SUMMARY
Fix openio command
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-reset.sh

SDS VERSION
openio 4.2.9.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1719,2019-04-02T10:50:50Z,2019-04-03T06:49:23Z,2019-04-15T09:58:44Z,MERGED,True,1,1,1,https://github.com/AymericDu,oio-reset.sh: Fix openio command,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1719,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1719#issuecomment-478968197,"SUMMARY
Fix openio command
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-reset.sh

SDS VERSION
openio 4.2.9.dev8","Codecov Report

❗ No coverage uploaded for pull request base (4.2.x@e42a92f). Click here to learn what that means.
The diff coverage is n/a.


@@           Coverage Diff            @@
##             4.2.x    #1719   +/-   ##
========================================
  Coverage         ?   79.57%           
========================================
  Files            ?      341           
  Lines            ?    62354           
  Branches         ?     6744           
========================================
  Hits             ?    49613           
  Misses           ?    12741           
  Partials         ?        0

Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e42a92f...1fcfa2f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1720,2019-04-02T12:49:39Z,2019-04-04T08:34:12Z,2019-04-04T08:34:16Z,MERGED,True,202,101,16,https://github.com/fvennetier,conscience-agent: collect beanstalkd stats,2,"['language:python :snake:', 'documentation :book:']",https://github.com/open-io/oio-sds/pull/1720,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1720,"SUMMARY

Collect some statistics about beanstalkd jobs. They could help refining the score of beanstalkd services.
Improve the configuration sample.
Rename proxy service type to oioproxy.

ISSUE TYPE

Feature Pull Request
Docs Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 4.4.2.dev32","SUMMARY

Collect some statistics about beanstalkd jobs. They could help refining the score of beanstalkd services.
Improve the configuration sample.
Rename proxy service type to oioproxy.

ISSUE TYPE

Feature Pull Request
Docs Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 4.4.2.dev32",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1720,2019-04-02T12:49:39Z,2019-04-04T08:34:12Z,2019-04-04T08:34:16Z,MERGED,True,202,101,16,https://github.com/fvennetier,conscience-agent: collect beanstalkd stats,2,"['language:python :snake:', 'documentation :book:']",https://github.com/open-io/oio-sds/pull/1720,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1720#issuecomment-479042535,"SUMMARY

Collect some statistics about beanstalkd jobs. They could help refining the score of beanstalkd services.
Improve the configuration sample.
Rename proxy service type to oioproxy.

ISSUE TYPE

Feature Pull Request
Docs Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 4.4.2.dev32","Codecov Report

Merging #1720 into master will increase coverage by 0.33%.
The diff coverage is 92.31%.


@@            Coverage Diff            @@
##           master   #1720      +/-   ##
=========================================
+ Coverage   79.18%   79.5%   +0.33%     
=========================================
  Files         357     373      +16     
  Lines       67390   68988    +1598     
  Branches     6871    6906      +35     
=========================================
+ Hits        53355   54843    +1488     
- Misses      14035   14039       +4     
- Partials        0     106     +106



Impacted Files
Coverage Δ





oio/event/beanstalk.py
65.47% <0%> (+2%)
⬆️


tests/functional/content/test_service_id.py
79.29% <100%> (ø)
⬆️


tests/utils.py
93.67% <100%> (+5.34%)
⬆️


proxy/metacd_http.c
91.36% <100%> (ø)
⬆️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/blob/indexer.py
68.43% <0%> (-1.5%)
⬇️


oio/blob/client.py
89.66% <0%> (-1.37%)
⬇️


metautils/lib/utils_sockets.c
43.08% <0%> (-1.15%)
⬇️


oio/ecd/app.py
65.48% <0%> (-0.59%)
⬇️


core/str.c
89.24% <0%> (-0.47%)
⬇️


... and 66 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1d03c68...75aa207. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1721,2019-04-03T11:50:11Z,2019-04-05T12:24:04Z,2020-01-09T07:34:34Z,MERGED,True,97,27,7,https://github.com/murlock,Fix container snapshot feature,4,[],https://github.com/open-io/oio-sds/pull/1721,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1721,"SUMMARY
The snapshot operation did not show the created container in account service:

the sys.user.name and sys.account was not updated
a manual openio container touch was not possible due to these erroneous values

Fixes OS-350
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.9.dev10","SUMMARY
The snapshot operation did not show the created container in account service:

the sys.user.name and sys.account was not updated
a manual openio container touch was not possible due to these erroneous values

Fixes OS-350
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.9.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1721,2019-04-03T11:50:11Z,2019-04-05T12:24:04Z,2020-01-09T07:34:34Z,MERGED,True,97,27,7,https://github.com/murlock,Fix container snapshot feature,4,[],https://github.com/open-io/oio-sds/pull/1721,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1721#issuecomment-480176208,"SUMMARY
The snapshot operation did not show the created container in account service:

the sys.user.name and sys.account was not updated
a manual openio container touch was not possible due to these erroneous values

Fixes OS-350
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio 4.2.9.dev10","Codecov Report

❗ No coverage uploaded for pull request base (4.2.x@cd8bef1). Click here to learn what that means.
The diff coverage is 100%.


@@           Coverage Diff            @@
##             4.2.x    #1721   +/-   ##
========================================
  Coverage         ?   79.56%           
========================================
  Files            ?      341           
  Lines            ?    62362           
  Branches         ?     6744           
========================================
  Hits             ?    49614           
  Misses           ?    12748           
  Partials         ?        0



Impacted Files
Coverage Δ





oio/api/object_storage.py
80.23% <100%> (ø)



proxy/m2_actions.c
88.52% <100%> (ø)



meta1v2/meta1_backend_services.c
54.28% <100%> (ø)



tests/functional/api/test_objectstorage.py
94.92% <100%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cd8bef1...23c3fd9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1722,2019-04-05T14:47:07Z,2019-04-16T12:14:47Z,2019-04-16T12:14:50Z,MERGED,True,84,26,7,https://github.com/fvennetier,Replicate container snapshots,2,[],https://github.com/open-io/oio-sds/pull/1722,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1722,"SUMMARY
Container snapshots are now real containers, frozen by default. They can be unfrozen with openio container set --status enabled.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-proxy
sqliterepo

SDS VERSION
openio 5.0.0.0a1.dev8","SUMMARY
Container snapshots are now real containers, frozen by default. They can be unfrozen with openio container set --status enabled.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-proxy
sqliterepo

SDS VERSION
openio 5.0.0.0a1.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1722,2019-04-05T14:47:07Z,2019-04-16T12:14:47Z,2019-04-16T12:14:50Z,MERGED,True,84,26,7,https://github.com/fvennetier,Replicate container snapshots,2,[],https://github.com/open-io/oio-sds/pull/1722,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1722#issuecomment-480342924,"SUMMARY
Container snapshots are now real containers, frozen by default. They can be unfrozen with openio container set --status enabled.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-proxy
sqliterepo

SDS VERSION
openio 5.0.0.0a1.dev8","Codecov Report

❗ No coverage uploaded for pull request base (master@5cdd559). Click here to learn what that means.
The diff coverage is 84.62%.


@@            Coverage Diff            @@
##             master    #1722   +/-   ##
=========================================
  Coverage          ?   79.55%           
=========================================
  Files             ?      373           
  Lines             ?    69011           
  Branches          ?     6910           
=========================================
  Hits              ?    54898           
  Misses            ?    14006           
  Partials          ?      107



Impacted Files
Coverage Δ





proxy/m2_actions.c
89.22% <ø> (ø)



sqliterepo/sqlite_utils.h
100% <ø> (ø)



oio/api/object_storage.py
81.62% <100%> (ø)



sqliterepo/repository.c
72.75% <100%> (ø)



sqliterepo/sqlite_utils.c
91.12% <62.5%> (ø)



sqliterepo/replication_dispatcher.c
63.51% <93.34%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5cdd559...0072ec6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1723,2019-04-08T14:28:41Z,2019-04-10T08:26:54Z,2019-04-10T08:26:58Z,MERGED,True,104,35,7,https://github.com/fvennetier,Persist service locks after conscience restart,3,['priority:2 :rage4:'],https://github.com/open-io/oio-sds/pull/1723,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1723,"SUMMARY
Create a new tag.lock tag telling is the service has been locked by an administrator. This tag is saved (with all other tags) in the conscience persistence file. After a restart, this file is loaded, and the services are locked (or unlocked) again.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

conscience
CLI

SDS VERSION
openio 4.4.2.dev19","SUMMARY
Create a new tag.lock tag telling is the service has been locked by an administrator. This tag is saved (with all other tags) in the conscience persistence file. After a restart, this file is loaded, and the services are locked (or unlocked) again.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

conscience
CLI

SDS VERSION
openio 4.4.2.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1723,2019-04-08T14:28:41Z,2019-04-10T08:26:54Z,2019-04-10T08:26:58Z,MERGED,True,104,35,7,https://github.com/fvennetier,Persist service locks after conscience restart,3,['priority:2 :rage4:'],https://github.com/open-io/oio-sds/pull/1723,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1723#issuecomment-481152657,"SUMMARY
Create a new tag.lock tag telling is the service has been locked by an administrator. This tag is saved (with all other tags) in the conscience persistence file. After a restart, this file is loaded, and the services are locked (or unlocked) again.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

conscience
CLI

SDS VERSION
openio 4.4.2.dev19","Codecov Report

❗ No coverage uploaded for pull request base (4.4.x@4fadc14). Click here to learn what that means.
The diff coverage is 88.71%.


@@           Coverage Diff            @@
##             4.4.x    #1723   +/-   ##
========================================
  Coverage         ?   79.79%           
========================================
  Files            ?      371           
  Lines            ?    68652           
  Branches         ?     6953           
========================================
  Hits             ?    54774           
  Misses           ?    13771           
  Partials         ?      107



Impacted Files
Coverage Δ





metautils/lib/utils_service_info.c
83.44% <100%> (ø)



cluster/module/server.c
79.84% <84%> (ø)



tests/functional/conscience/test_conscience.py
98.38% <90.63%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4fadc14...9ce0dce. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1724,2019-04-08T15:08:12Z,2019-04-15T09:22:39Z,2019-04-15T09:36:29Z,MERGED,True,275,39,17,https://github.com/murlock,Check chunk hash on HEAD method,10,[],https://github.com/open-io/oio-sds/pull/1724,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1724,"SUMMARY
This PR will add possibility to verify checksum through a HEAD request.
This operation will be done only if x-oio-check-hash header is set.
By default, it will compare computed checksum against value stored in xattr,
it is possible to override it through x-oio-chunk-meta-chunk-hash
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
httpd
rawx
SDS VERSION
5.0.0.a0dev1

ADDITIONAL INFORMATION
$ curl -H ""X-oio-check-hash: true""  -I http://127.0.0.1:6017/5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
HTTP/1.1 200 OK
Accept-Ranges: bytes
Content-Length: 100
X-Oio-Chunk-Meta-Chunk-Hash: 0DB7CF2CB62411536381862234A58AAF
X-Oio-Chunk-Meta-Chunk-Id: 5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
X-Oio-Chunk-Meta-Chunk-Pos: 0.1
X-Oio-Chunk-Meta-Chunk-Size: 100
X-Oio-Chunk-Meta-Container-Id: ABDA21734D74F2D5D6DB4162105497854148BBE703B3F25EB1D0FFCD462FB10A
X-Oio-Chunk-Meta-Content-Chunk-Method: ec/algo=liberasurecode_rs_vand,k=6,m=3
X-Oio-Chunk-Meta-Content-Id: AE0F64FA0586050042A17F4C7C7472EE
X-Oio-Chunk-Meta-Content-Path: magic
X-Oio-Chunk-Meta-Content-Storage-Policy: EC
X-Oio-Chunk-Meta-Content-Version: 1554735117373377
X-Oio-Chunk-Meta-Full-Path: murlock/demo/magic/1554735117373377/AE0F64FA0586050042A17F4C7C7472EE
X-Oio-Chunk-Meta-Metachunk-Hash: 272913026300E7AE9B5E2D51F138E674
X-Oio-Chunk-Meta-Metachunk-Size: 111
X-Oio-Chunk-Meta-Oio-Version: 4.2
Date: Mon, 08 Apr 2019 15:05:07 GMT

$ echo ""corrupted chunk"" > /home/murlock/.oio/sds/data/OPENIO-rawx-8/5F7/5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
$ curl -H ""X-oio-check-hash: true"" -I http://127.0.0.1:6017/5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
HTTP/1.1 412 Precondition Failed
Date: Mon, 08 Apr 2019 15:06:14 GMT","SUMMARY
This PR will add possibility to verify checksum through a HEAD request.
This operation will be done only if x-oio-check-hash header is set.
By default, it will compare computed checksum against value stored in xattr,
it is possible to override it through x-oio-chunk-meta-chunk-hash
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
httpd
rawx
SDS VERSION
5.0.0.a0dev1

ADDITIONAL INFORMATION
$ curl -H ""X-oio-check-hash: true""  -I http://127.0.0.1:6017/5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
HTTP/1.1 200 OK
Accept-Ranges: bytes
Content-Length: 100
X-Oio-Chunk-Meta-Chunk-Hash: 0DB7CF2CB62411536381862234A58AAF
X-Oio-Chunk-Meta-Chunk-Id: 5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
X-Oio-Chunk-Meta-Chunk-Pos: 0.1
X-Oio-Chunk-Meta-Chunk-Size: 100
X-Oio-Chunk-Meta-Container-Id: ABDA21734D74F2D5D6DB4162105497854148BBE703B3F25EB1D0FFCD462FB10A
X-Oio-Chunk-Meta-Content-Chunk-Method: ec/algo=liberasurecode_rs_vand,k=6,m=3
X-Oio-Chunk-Meta-Content-Id: AE0F64FA0586050042A17F4C7C7472EE
X-Oio-Chunk-Meta-Content-Path: magic
X-Oio-Chunk-Meta-Content-Storage-Policy: EC
X-Oio-Chunk-Meta-Content-Version: 1554735117373377
X-Oio-Chunk-Meta-Full-Path: murlock/demo/magic/1554735117373377/AE0F64FA0586050042A17F4C7C7472EE
X-Oio-Chunk-Meta-Metachunk-Hash: 272913026300E7AE9B5E2D51F138E674
X-Oio-Chunk-Meta-Metachunk-Size: 111
X-Oio-Chunk-Meta-Oio-Version: 4.2
Date: Mon, 08 Apr 2019 15:05:07 GMT

$ echo ""corrupted chunk"" > /home/murlock/.oio/sds/data/OPENIO-rawx-8/5F7/5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
$ curl -H ""X-oio-check-hash: true"" -I http://127.0.0.1:6017/5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
HTTP/1.1 412 Precondition Failed
Date: Mon, 08 Apr 2019 15:06:14 GMT",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1724,2019-04-08T15:08:12Z,2019-04-15T09:22:39Z,2019-04-15T09:36:29Z,MERGED,True,275,39,17,https://github.com/murlock,Check chunk hash on HEAD method,10,[],https://github.com/open-io/oio-sds/pull/1724,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1724#issuecomment-481218657,"SUMMARY
This PR will add possibility to verify checksum through a HEAD request.
This operation will be done only if x-oio-check-hash header is set.
By default, it will compare computed checksum against value stored in xattr,
it is possible to override it through x-oio-chunk-meta-chunk-hash
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
httpd
rawx
SDS VERSION
5.0.0.a0dev1

ADDITIONAL INFORMATION
$ curl -H ""X-oio-check-hash: true""  -I http://127.0.0.1:6017/5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
HTTP/1.1 200 OK
Accept-Ranges: bytes
Content-Length: 100
X-Oio-Chunk-Meta-Chunk-Hash: 0DB7CF2CB62411536381862234A58AAF
X-Oio-Chunk-Meta-Chunk-Id: 5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
X-Oio-Chunk-Meta-Chunk-Pos: 0.1
X-Oio-Chunk-Meta-Chunk-Size: 100
X-Oio-Chunk-Meta-Container-Id: ABDA21734D74F2D5D6DB4162105497854148BBE703B3F25EB1D0FFCD462FB10A
X-Oio-Chunk-Meta-Content-Chunk-Method: ec/algo=liberasurecode_rs_vand,k=6,m=3
X-Oio-Chunk-Meta-Content-Id: AE0F64FA0586050042A17F4C7C7472EE
X-Oio-Chunk-Meta-Content-Path: magic
X-Oio-Chunk-Meta-Content-Storage-Policy: EC
X-Oio-Chunk-Meta-Content-Version: 1554735117373377
X-Oio-Chunk-Meta-Full-Path: murlock/demo/magic/1554735117373377/AE0F64FA0586050042A17F4C7C7472EE
X-Oio-Chunk-Meta-Metachunk-Hash: 272913026300E7AE9B5E2D51F138E674
X-Oio-Chunk-Meta-Metachunk-Size: 111
X-Oio-Chunk-Meta-Oio-Version: 4.2
Date: Mon, 08 Apr 2019 15:05:07 GMT

$ echo ""corrupted chunk"" > /home/murlock/.oio/sds/data/OPENIO-rawx-8/5F7/5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
$ curl -H ""X-oio-check-hash: true"" -I http://127.0.0.1:6017/5F75E183F1731F162C6B5548DB340F5CDE6C9772E9976193AE2AF3102BD46C45
HTTP/1.1 412 Precondition Failed
Date: Mon, 08 Apr 2019 15:06:14 GMT","Codecov Report

❗ No coverage uploaded for pull request base (master@5cdd559). Click here to learn what that means.
The diff coverage is 88.78%.


@@            Coverage Diff            @@
##             master    #1724   +/-   ##
=========================================
  Coverage          ?   79.52%           
=========================================
  Files             ?      373           
  Lines             ?    69081           
  Branches          ?     6913           
=========================================
  Hits              ?    54928           
  Misses            ?    14045           
  Partials          ?      108



Impacted Files
Coverage Δ





rawx/chunk_info.go
77.65% <100%> (ø)



rawx/conf_reader.go
82.36% <100%> (ø)



tests/functional/blob/test_blob.py
99.32% <100%> (ø)



oio/common/constants.py
100% <100%> (ø)



rawx-apache2/src/rawx_repository.c
57.44% <100%> (ø)



oio/crawler/integrity.py
68.93% <100%> (ø)



oio/blob/client.py
93.2% <50%> (ø)



rawx/filerepo.go
56.04% <60%> (ø)



rawx/handler_chunk.go
75% <66.67%> (ø)



rawx/rawx.go
84.49% <75%> (ø)



... and 1 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5cdd559...04425a0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1725,2019-04-08T16:49:39Z,2019-04-16T12:15:30Z,2019-04-16T12:15:35Z,MERGED,True,23,11,5,https://github.com/fvennetier,CLI: display nicer KeyError messages,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1725,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1725,"SUMMARY
When some parameters are missing from configuration files, and are requested by the CLI, a nice message will be displayed, telling in which file the parameter is supposed to be.
> openio zk stat meta2
'zookeeper' not found in configuration files:
/etc/oio/sds.conf.d/NS
/home/fvennetier/.oio/sds.conf

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.0.0.0a1.dev8","SUMMARY
When some parameters are missing from configuration files, and are requested by the CLI, a nice message will be displayed, telling in which file the parameter is supposed to be.
> openio zk stat meta2
'zookeeper' not found in configuration files:
/etc/oio/sds.conf.d/NS
/home/fvennetier/.oio/sds.conf

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.0.0.0a1.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1726,2019-04-09T16:30:57Z,2019-04-12T08:19:51Z,2019-04-12T08:19:54Z,MERGED,True,34,7,2,https://github.com/fvennetier,event-agent: configure timeouts to the account service,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1726,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1726,"SUMMARY
Allow to configure timeouts from the event-agent to the account service.
Also review how we handle errors occurring while removing a container from the account service: the event was dropped, it is now replayed later.
Jira: OS-355
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.4.2.dev19","SUMMARY
Allow to configure timeouts from the event-agent to the account service.
Also review how we handle errors occurring while removing a container from the account service: the event was dropped, it is now replayed later.
Jira: OS-355
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.4.2.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1726,2019-04-09T16:30:57Z,2019-04-12T08:19:51Z,2019-04-12T08:19:54Z,MERGED,True,34,7,2,https://github.com/fvennetier,event-agent: configure timeouts to the account service,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1726,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1726#issuecomment-481571715,"SUMMARY
Allow to configure timeouts from the event-agent to the account service.
Also review how we handle errors occurring while removing a container from the account service: the event was dropped, it is now replayed later.
Jira: OS-355
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.4.2.dev19","Codecov Report

❗ No coverage uploaded for pull request base (4.4.x@4fadc14). Click here to learn what that means.
The diff coverage is n/a.


@@           Coverage Diff            @@
##             4.4.x    #1726   +/-   ##
========================================
  Coverage         ?   79.68%           
========================================
  Files            ?      371           
  Lines            ?    68610           
  Branches         ?     6951           
========================================
  Hits             ?    54664           
  Misses           ?    13840           
  Partials         ?      106

Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4fadc14...82ca1a0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1727,2019-04-10T06:22:29Z,2019-04-11T09:36:37Z,2019-04-11T09:36:41Z,MERGED,True,1,1,1,https://github.com/murlock,rawx: fix mispelled req-id header,1,[],https://github.com/open-io/oio-sds/pull/1727,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1727,"SUMMARY
The header X-oio-req-id was mispelled X-oio-reqid and it was not possible to trace a full request on rawx level.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
go-rawx
SDS VERSION
openio 5.0.0.0a1.dev11","SUMMARY
The header X-oio-req-id was mispelled X-oio-reqid and it was not possible to trace a full request on rawx level.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
go-rawx
SDS VERSION
openio 5.0.0.0a1.dev11",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1728,2019-04-10T08:32:39Z,2019-04-11T09:19:09Z,2019-04-11T14:12:49Z,MERGED,True,948,587,19,https://github.com/jfsmig,Rawx: speedup of the golang version,18,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1728,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1728,"SUMMARY
The PR gathers miscellaneous fixes and improvements of the golang RAWX.
The main optimisation came from the emission of ""post-reply notifications"", a real asynchronous behavior thanks to a buffered channel and well sized buffers upon download and upload.
In addition, it does less computations, it tries to use memory on the stack instead of the heap, to ease the job of the Garbage Collector.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.4.2.dev26
ADDITIONAL INFORMATION
A CLI tool to stress a RAWX service, named oio-rawx-harass, has been added in the tools/ directory.","SUMMARY
The PR gathers miscellaneous fixes and improvements of the golang RAWX.
The main optimisation came from the emission of ""post-reply notifications"", a real asynchronous behavior thanks to a buffered channel and well sized buffers upon download and upload.
In addition, it does less computations, it tries to use memory on the stack instead of the heap, to ease the job of the Garbage Collector.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.4.2.dev26
ADDITIONAL INFORMATION
A CLI tool to stress a RAWX service, named oio-rawx-harass, has been added in the tools/ directory.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1729,2019-04-10T09:29:39Z,2019-04-17T12:41:35Z,2019-05-15T12:18:45Z,MERGED,True,180,0,2,https://github.com/kamel-rahim,CLI: list containers from rawx and meta2,2,[],https://github.com/open-io/oio-sds/pull/1729,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1729,"SUMMARY
Build a list of containers:

hosted by a meta2 service,
which have chunks stored on a specific rawx service.

Jira: R1904-21
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.0.0.0a1.dev52","SUMMARY
Build a list of containers:

hosted by a meta2 service,
which have chunks stored on a specific rawx service.

Jira: R1904-21
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.0.0.0a1.dev52",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1730,2019-04-11T08:04:53Z,2019-04-11T09:17:49Z,2019-04-11T09:17:53Z,MERGED,True,2,1,1,https://github.com/murlock,Python API: do not use the legacy 'meta1_digits' parameter,1,[],https://github.com/open-io/oio-sds/pull/1730,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1730,"SUMMARY
The variable meta1_digits was renamed ns.meta1_digits in 4.1.22.
If new variable is missing, we try to load old value
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-meta1-rebuilder
SDS VERSION
openio 4.4.2.dev27

ADDITIONAL INFORMATION","SUMMARY
The variable meta1_digits was renamed ns.meta1_digits in 4.1.22.
If new variable is missing, we try to load old value
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-meta1-rebuilder
SDS VERSION
openio 4.4.2.dev27

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1731,2019-04-11T14:20:47Z,2019-04-12T10:28:43Z,2019-04-12T10:28:46Z,MERGED,True,29,5,4,https://github.com/fvennetier,Fix memory leaks in meta2 and meta2 tests,2,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1731,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1731,"SUMMARY
Fix small memory leaks in meta2 service and related tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.4.2.dev44","SUMMARY
Fix small memory leaks in meta2 service and related tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.4.2.dev44",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1731,2019-04-11T14:20:47Z,2019-04-12T10:28:43Z,2019-04-12T10:28:46Z,MERGED,True,29,5,4,https://github.com/fvennetier,Fix memory leaks in meta2 and meta2 tests,2,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1731,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1731#issuecomment-482523210,"SUMMARY
Fix small memory leaks in meta2 service and related tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.4.2.dev44","Codecov Report

Merging #1731 into 4.4.x will increase coverage by 8.65%.
The diff coverage is 71.43%.


@@            Coverage Diff             @@
##            4.4.x    #1731      +/-   ##
==========================================
+ Coverage   71.18%   79.82%   +8.65%     
==========================================
  Files         309      371      +62     
  Lines       62613    68675    +6062     
  Branches     6681     6954     +273     
==========================================
+ Hits        44562    54813   +10251     
+ Misses      18050    13759    -4291     
- Partials        1      103     +102



Impacted Files
Coverage Δ





tests/functional/conscience/test_conscience.py
98.38% <0%> (+0.55%)
⬆️


tests/functional/container/test_replication.py
81.71% <100%> (+56.1%)
⬆️


meta2v2/meta2_backend.c
85.61% <100%> (+7.32%)
⬆️


tests/unit/test_meta2_backend.c
99.16% <68.75%> (ø)



oio/common/http_urllib3.py
86.12% <0%> (-2.77%)
⬇️


rawx-lib/src/attr_handler.c
68.58% <0%> (-0.47%)
⬇️


metautils/lib/comm_converter.c
72.78% <0%> (ø)
⬆️


oio/cli/account/client.py
71.43% <0%> (ø)



tests/unit/test_lb.c
97.63% <0%> (ø)



tests/unit/test_gridd_client_pool.c
100% <0%> (ø)



... and 191 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 56653d3...d673e92. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1732,2019-04-11T15:14:02Z,2019-04-19T14:19:58Z,2019-04-19T14:25:18Z,CLOSED,False,285,211,5,https://github.com/jfsmig,"rawx: More FD-based syscalls, Less buffer copies",1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1732,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1732,"SUMMARY

Fixes a bug in the logic of the PUT operation: the check on the final chun must happen after the atomic creation of the temporary .pending file
Rewrites the logic of the COPY operation: only 3 atomic syscalls and no risk lose a content
Optimizes the DELETE of chunks: less attributes are read, just the necessary syscalls are done
Makes a better use of syscalls when it is possible with the Golang standard library
Tries to reduce the number of memory copies and allocations

ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.4.2.dev42
COMMENTS

PUT and DELETE now seem faster than the httpd equivalents
GET still appears slower, seemingly due to a sequence of getattr always interrupted by the golang scheduler between each call and operating of paths instead of file descriptors.","SUMMARY

Fixes a bug in the logic of the PUT operation: the check on the final chun must happen after the atomic creation of the temporary .pending file
Rewrites the logic of the COPY operation: only 3 atomic syscalls and no risk lose a content
Optimizes the DELETE of chunks: less attributes are read, just the necessary syscalls are done
Makes a better use of syscalls when it is possible with the Golang standard library
Tries to reduce the number of memory copies and allocations

ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.4.2.dev42
COMMENTS

PUT and DELETE now seem faster than the httpd equivalents
GET still appears slower, seemingly due to a sequence of getattr always interrupted by the golang scheduler between each call and operating of paths instead of file descriptors.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1732,2019-04-11T15:14:02Z,2019-04-19T14:19:58Z,2019-04-19T14:25:18Z,CLOSED,False,285,211,5,https://github.com/jfsmig,"rawx: More FD-based syscalls, Less buffer copies",1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1732,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1732#issuecomment-484909842,"SUMMARY

Fixes a bug in the logic of the PUT operation: the check on the final chun must happen after the atomic creation of the temporary .pending file
Rewrites the logic of the COPY operation: only 3 atomic syscalls and no risk lose a content
Optimizes the DELETE of chunks: less attributes are read, just the necessary syscalls are done
Makes a better use of syscalls when it is possible with the Golang standard library
Tries to reduce the number of memory copies and allocations

ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.4.2.dev42
COMMENTS

PUT and DELETE now seem faster than the httpd equivalents
GET still appears slower, seemingly due to a sequence of getattr always interrupted by the golang scheduler between each call and operating of paths instead of file descriptors.",oio-rawx desserves a deeper exploration of zero-copy possibilities offered by Golang. The current implementation cannot be faster that the httpd-based service.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1733,2019-04-12T08:27:46Z,2019-04-12T13:18:26Z,2019-04-12T13:18:34Z,MERGED,True,14,17,2,https://github.com/murlock,rawx: fix log format,1,[],https://github.com/open-io/oio-sds/pull/1733,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1733,"SUMMARY
The log emitted by the rawx was not compliant with our documentation:
The ContainerID was missing in emitted log.
The LogOIncoming was not correct, it is now used by PUT operation.

Fixes OS-356
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
openio 4.4.2.dev27

ADDITIONAL INFORMATION
Please note that an update is still required on monitoring stack.","SUMMARY
The log emitted by the rawx was not compliant with our documentation:
The ContainerID was missing in emitted log.
The LogOIncoming was not correct, it is now used by PUT operation.

Fixes OS-356
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
openio 4.4.2.dev27

ADDITIONAL INFORMATION
Please note that an update is still required on monitoring stack.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1734,2019-04-12T15:34:43Z,2019-04-15T10:37:48Z,2019-04-15T10:37:51Z,MERGED,True,111,81,9,https://github.com/fvennetier,"Track read-after-close operations, improve request ID usage",3,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1734,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1734,"SUMMARY
Track read-after-close operations seen in production, but still not reproduced. Also display request ID in more warning messages to help debugging such operations.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.2.dev47","SUMMARY
Track read-after-close operations seen in production, but still not reproduced. Also display request ID in more warning messages to help debugging such operations.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.2.dev47",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1734,2019-04-12T15:34:43Z,2019-04-15T10:37:48Z,2019-04-15T10:37:51Z,MERGED,True,111,81,9,https://github.com/fvennetier,"Track read-after-close operations, improve request ID usage",3,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1734,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1734#issuecomment-483187803,"SUMMARY
Track read-after-close operations seen in production, but still not reproduced. Also display request ID in more warning messages to help debugging such operations.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.2.dev47","Codecov Report

Merging #1734 into 4.4.x will decrease coverage by 0.08%.
The diff coverage is 70.59%.


@@            Coverage Diff             @@
##            4.4.x    #1734      +/-   ##
==========================================
- Coverage   79.82%   79.75%   -0.07%     
==========================================
  Files         371      371              
  Lines       68676    68690      +14     
  Branches     6954     6954              
==========================================
- Hits        54812    54774      -38     
- Misses      13760    13813      +53     
+ Partials      104      103       -1



Impacted Files
Coverage Δ





oio/common/decorators.py
100% <100%> (ø)
⬆️


tests/utils.py
92% <100%> (+0.03%)
⬆️


tests/unit/api/test_objectstorage.py
98.31% <100%> (+0.02%)
⬆️


tests/functional/conscience/test_conscience.py
98.38% <100%> (ø)
⬆️


oio/api/replication.py
78.08% <45.46%> (-0.53%)
⬇️


oio/common/http_eventlet.py
85.14% <50%> (-4.71%)
⬇️


tests/functional/container/test_replication.py
81.93% <50%> (-0.99%)
⬇️


oio/api/io.py
85.87% <66.67%> (+0.04%)
⬆️


oio/api/ec.py
93.89% <82.36%> (+0.38%)
⬆️


proxy/cache_actions.c
76.43% <0%> (-3.25%)
⬇️


... and 44 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 041a864...4c25815. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1735,2019-04-15T14:53:42Z,2019-04-19T14:33:02Z,2019-04-19T14:34:17Z,CLOSED,False,88,0,2,https://github.com/murlock,CLI: implement meta1 and meta2 rebuild operations,1,[],https://github.com/open-io/oio-sds/pull/1735,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1735,"SUMMARY
Wrap oio-meta1-rebuilder and oio-meta2-rebuilder within openio-admin
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI Admin
SDS VERSION
openio-admin 5.0.0.0a1.dev48

ADDITIONAL INFORMATION","SUMMARY
Wrap oio-meta1-rebuilder and oio-meta2-rebuilder within openio-admin
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI Admin
SDS VERSION
openio-admin 5.0.0.0a1.dev48

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1735,2019-04-15T14:53:42Z,2019-04-19T14:33:02Z,2019-04-19T14:34:17Z,CLOSED,False,88,0,2,https://github.com/murlock,CLI: implement meta1 and meta2 rebuild operations,1,[],https://github.com/open-io/oio-sds/pull/1735,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1735#issuecomment-483806619,"SUMMARY
Wrap oio-meta1-rebuilder and oio-meta2-rebuilder within openio-admin
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI Admin
SDS VERSION
openio-admin 5.0.0.0a1.dev48

ADDITIONAL INFORMATION","Codecov Report

Merging #1735 into master will decrease coverage by 0.21%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##           master    #1735     +/-   ##
=========================================
- Coverage   79.47%   79.26%   -0.2%     
=========================================
  Files         373      373             
  Lines       69168    69168             
  Branches     6920     6920             
=========================================
- Hits        54962    54821    -141     
- Misses      14101    14242    +141     
  Partials      105      105



Impacted Files
Coverage Δ





tests/functional/container/test_replication.py
27.91% <0%> (-54.65%)
⬇️


rawx/handler_stat.go
82.98% <0%> (ø)
⬆️


rawx/limited_reader.go
75% <0%> (ø)
⬆️


oio/directory/meta2.py
39.31% <0%> (-39.73%)
⬇️


tests/functional/directory/test_meta2.py
60.68% <0%> (-38.76%)
⬇️


rawx/filerepo.go
66.67% <0%> (ø)
⬆️


rawx/hexa.go
100% <0%> (ø)
⬆️


rawx/handler_info.go
86.37% <0%> (ø)
⬆️


rawx/rawx.go
86.21% <0%> (ø)
⬆️


tests/functional/directory/test_admin.py
87.24% <0%> (-12.76%)
⬇️


... and 60 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 12d4d2a...3ea2672. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1735,2019-04-15T14:53:42Z,2019-04-19T14:33:02Z,2019-04-19T14:34:17Z,CLOSED,False,88,0,2,https://github.com/murlock,CLI: implement meta1 and meta2 rebuild operations,1,[],https://github.com/open-io/oio-sds/pull/1735,https://github.com/AymericDu,3,https://github.com/open-io/oio-sds/pull/1735#issuecomment-484914166,"SUMMARY
Wrap oio-meta1-rebuilder and oio-meta2-rebuilder within openio-admin
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI Admin
SDS VERSION
openio-admin 5.0.0.0a1.dev48

ADDITIONAL INFORMATION",Replaced with PR #1740.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1736,2019-04-15T16:05:03Z,2019-04-19T07:57:23Z,2019-04-26T08:12:27Z,MERGED,True,965,542,11,https://github.com/AymericDu,Allow to dispatch tasks locally and across the platform,10,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1736,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1736,"SUMMARY
Allow to dispatch locally and across the platform.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-blob-rebuilder

SDS VERSION
openio 5.0.0.0a1.dev51","SUMMARY
Allow to dispatch locally and across the platform.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-blob-rebuilder

SDS VERSION
openio 5.0.0.0a1.dev51",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1736,2019-04-15T16:05:03Z,2019-04-19T07:57:23Z,2019-04-26T08:12:27Z,MERGED,True,965,542,11,https://github.com/AymericDu,Allow to dispatch tasks locally and across the platform,10,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1736,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1736#issuecomment-483597103,"SUMMARY
Allow to dispatch locally and across the platform.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-blob-rebuilder

SDS VERSION
openio 5.0.0.0a1.dev51","Codecov Report

Merging #1736 into master will decrease coverage by 0.18%.
The diff coverage is 34.42%.


@@            Coverage Diff             @@
##           master    #1736      +/-   ##
==========================================
- Coverage   79.71%   79.53%   -0.17%     
==========================================
  Files         373      374       +1     
  Lines       69168    69375     +207     
  Branches     6920     6920              
==========================================
+ Hits        55130    55172      +42     
- Misses      13933    14099     +166     
+ Partials      105      104       -1



Impacted Files
Coverage Δ





oio/content/plain.py
72.42% <100%> (ø)
⬆️


tests/functional/event/filters/test_filters.py
98.14% <100%> (ø)
⬆️


tests/functional/blob/test_rebuilder.py
100% <100%> (ø)
⬆️


oio/content/ec.py
55% <100%> (ø)
⬆️


oio/event/evob.py
71.19% <100%> (+0.5%)
⬆️


oio/common/tool.py
25.09% <25.09%> (ø)



oio/blob/rebuilder.py
49% <49%> (ø)



oio/rebuilder/rebuilder.py
20.87% <0%> (-20%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


oio/account/client.py
87.36% <0%> (-6.89%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 16c4b45...25a1642. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1737,2019-04-16T09:02:47Z,2019-04-23T11:39:09Z,2020-01-09T07:34:31Z,MERGED,True,281,230,7,https://github.com/murlock,CLI: implement directory services checks,5,[],https://github.com/open-io/oio-sds/pull/1737,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1737,"SUMMARY
Implement meta0, meta1, dir and rdir checks in the administration CLI.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio-admin 5.0.0.0a1.dev49","SUMMARY
Implement meta0, meta1, dir and rdir checks in the administration CLI.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio-admin 5.0.0.0a1.dev49",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1737,2019-04-16T09:02:47Z,2019-04-23T11:39:09Z,2020-01-09T07:34:31Z,MERGED,True,281,230,7,https://github.com/murlock,CLI: implement directory services checks,5,[],https://github.com/open-io/oio-sds/pull/1737,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1737#issuecomment-483601710,"SUMMARY
Implement meta0, meta1, dir and rdir checks in the administration CLI.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
openio-admin 5.0.0.0a1.dev49","Codecov Report

Merging #1737 into master will decrease coverage by 0.09%.
The diff coverage is 81.25%.


@@            Coverage Diff             @@
##           master    #1737      +/-   ##
==========================================
- Coverage   79.52%   79.44%   -0.08%     
==========================================
  Files         375      378       +3     
  Lines       69444    69847     +403     
  Branches     6920     6920              
==========================================
+ Hits        55221    55484     +263     
- Misses      14118    14258     +140     
  Partials      105      105



Impacted Files
Coverage Δ





oio/cli/admin/service_check.py
81.25% <81.25%> (ø)



oio/directory/meta2.py
65.04% <0%> (-13.13%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/account/client.py
82.76% <0%> (-4.59%)
⬇️


sqliterepo/replication.c
84.29% <0%> (-1.14%)
⬇️


meta2v2/meta2_bean_utils.c
59% <0%> (-1%)
⬇️


meta2v2/meta2_filters_action_content.c
92.58% <0%> (-0.74%)
⬇️


rawx-apache2/src/rawx_repository.c
56.83% <0%> (-0.61%)
⬇️


metautils/lib/utils_sockets.c
42.31% <0%> (-0.38%)
⬇️


resolver/hc_resolver.c
92.55% <0%> (-0.31%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3b03c96...f4f89a5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1738,2019-04-16T13:11:20Z,2019-04-17T08:50:43Z,2019-04-17T08:50:46Z,MERGED,True,12,7,1,https://github.com/fvennetier,"m2, events: emit a warning before retrying to send an event",1,[],https://github.com/open-io/oio-sds/pull/1738,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1738,"SUMMARY
Emit a warning before retrying to send an event.
Also review some log messages so it's easier to grep them.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

beanstalkd library
meta2

SDS VERSION
openio 4.4.2.dev51","SUMMARY
Emit a warning before retrying to send an event.
Also review some log messages so it's easier to grep them.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

beanstalkd library
meta2

SDS VERSION
openio 4.4.2.dev51",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1739,2019-04-17T16:43:40Z,2019-04-19T14:08:37Z,2019-04-19T14:21:43Z,MERGED,True,454,90,8,https://github.com/AymericDu,Implement 'openio-admin object repair' command,3,[],https://github.com/open-io/oio-sds/pull/1739,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1739,"SUMMARY
Implement 'openio-admin object repair' command
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a1.dev51

ADDITIONAL INFORMATION
$ openio-admin object repair toto magic passwd
START last_report=2019-04-18T15:48:11 0.00s objects=0 0.00/s errors=0 0.00% start_time=2019-04-18T15:48:11 0.00s total_objects=0 0.00/s total_errors=0 0.00% progress=0/2 0.00%
DONE last_report=2019-04-18T15:48:11 0.06s objects=2 31.50/s errors=1 50.00% start_time=2019-04-18T15:48:11 0.06s total_objects=2 31.50/s total_errors=1 50.00% progress=2/2 100.00%
+-----------------------------------+-----------------------------------------+
| Object                            | Status                                  |
+-----------------------------------+-----------------------------------------+
| OPENIO|myaccount|toto|magic|None  | OK                                      |
| OPENIO|myaccount|toto|passwd|None | Alias not found (HTTP 404) (STATUS 420) |
+-----------------------------------+-----------------------------------------+","SUMMARY
Implement 'openio-admin object repair' command
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a1.dev51

ADDITIONAL INFORMATION
$ openio-admin object repair toto magic passwd
START last_report=2019-04-18T15:48:11 0.00s objects=0 0.00/s errors=0 0.00% start_time=2019-04-18T15:48:11 0.00s total_objects=0 0.00/s total_errors=0 0.00% progress=0/2 0.00%
DONE last_report=2019-04-18T15:48:11 0.06s objects=2 31.50/s errors=1 50.00% start_time=2019-04-18T15:48:11 0.06s total_objects=2 31.50/s total_errors=1 50.00% progress=2/2 100.00%
+-----------------------------------+-----------------------------------------+
| Object                            | Status                                  |
+-----------------------------------+-----------------------------------------+
| OPENIO|myaccount|toto|magic|None  | OK                                      |
| OPENIO|myaccount|toto|passwd|None | Alias not found (HTTP 404) (STATUS 420) |
+-----------------------------------+-----------------------------------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1739,2019-04-17T16:43:40Z,2019-04-19T14:08:37Z,2019-04-19T14:21:43Z,MERGED,True,454,90,8,https://github.com/AymericDu,Implement 'openio-admin object repair' command,3,[],https://github.com/open-io/oio-sds/pull/1739,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1739#issuecomment-484885121,"SUMMARY
Implement 'openio-admin object repair' command
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a1.dev51

ADDITIONAL INFORMATION
$ openio-admin object repair toto magic passwd
START last_report=2019-04-18T15:48:11 0.00s objects=0 0.00/s errors=0 0.00% start_time=2019-04-18T15:48:11 0.00s total_objects=0 0.00/s total_errors=0 0.00% progress=0/2 0.00%
DONE last_report=2019-04-18T15:48:11 0.06s objects=2 31.50/s errors=1 50.00% start_time=2019-04-18T15:48:11 0.06s total_objects=2 31.50/s total_errors=1 50.00% progress=2/2 100.00%
+-----------------------------------+-----------------------------------------+
| Object                            | Status                                  |
+-----------------------------------+-----------------------------------------+
| OPENIO|myaccount|toto|magic|None  | OK                                      |
| OPENIO|myaccount|toto|passwd|None | Alias not found (HTTP 404) (STATUS 420) |
+-----------------------------------+-----------------------------------------+","Codecov Report

Merging #1739 into master will increase coverage by 0.63%.
The diff coverage is 67.35%.


@@            Coverage Diff             @@
##           master    #1739      +/-   ##
==========================================
+ Coverage   78.88%   79.51%   +0.63%     
==========================================
  Files         358      375      +17     
  Lines       67749    69388    +1639     
  Branches     6885     6920      +35     
==========================================
+ Hits        53439    55166    +1727     
+ Misses      14310    14117     -193     
- Partials        0      105     +105



Impacted Files
Coverage Δ





oio/blob/rebuilder.py
46.56% <100%> (-2.44%)
⬇️


oio/api/object_storage.py
81.46% <60%> (-0.01%)
⬇️


oio/blob/operator.py
65.86% <65.86%> (ø)



metautils/lib/utils_sockets.c
42.31% <0%> (-1.53%)
⬇️


oio/account/backend.py
80.36% <0%> (-1.33%)
⬇️


oio/conscience/client.py
80.73% <0%> (-1.2%)
⬇️


oio/api/io.py
85.6% <0%> (-0.53%)
⬇️


rawx-lib/src/attr_handler.c
68.58% <0%> (-0.47%)
⬇️


rawx-apache2/src/rawx_repository.c
57.44% <0%> (-0.2%)
⬇️


meta2v2/generic.c
73.6% <0%> (-0.16%)
⬇️


... and 72 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d09aa08...a9a4695. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1740,2019-04-17T16:43:44Z,2019-04-19T14:08:09Z,2019-04-19T14:21:41Z,MERGED,True,245,21,4,https://github.com/AymericDu,Implement 'openio-admin <service-type> rebuild' commands,2,[],https://github.com/open-io/oio-sds/pull/1740,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1740,"SUMMARY
Implement 'openio-admin  rebuild' commands
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0a1.dev51

ADDITIONAL INFORMATION
$ openio-admin meta1 rebuild --workers 10
START volume=None last_report=2019-04-17T16:15:15 0.00s prefixes=0 0.00/s errors=0 0.00% start_time=2019-04-17T16:15:15 0.00s total_prefixes=0 0.00/s total_errors=0 0.00%
DONE volume=None last_report=2019-04-17T16:15:15 1.65s prefixes=16 9.72/s errors=0 0.00% start_time=2019-04-17T16:15:15 1.65s total_prefixes=16 9.72/s total_errors=0 0.00%

$ openio-admin meta2 rebuild --workers 10
START volume=None last_report=2019-04-17T16:15:59 0.00s references=0 0.00/s errors=0 0.00% start_time=2019-04-17T16:15:59 0.00s total_references=0 0.00/s total_errors=0 0.00%
DONE volume=None last_report=2019-04-17T16:15:59 5.90s references=100 16.95/s errors=0 0.00% start_time=2019-04-17T16:15:59 5.90s total_references=100 16.95/s total_errors=0 0.00%

$ openio-admin rawx rebuild 127.0.0.1:6024 --workers 10
START last_report=2019-04-17T15:40:25 0.00s chunks=0 0.00/s bytes=0 0.00B/s errors=0 0.00% start_time=2019-04-17T15:40:25 0.00s total_chunks=0 0.00/s total_bytes=0 0.00B/s total_errors=0 0.00% progress=0/143 0.00%
OPENIO|00523EC71AD59141940D8B875630D5553D0F81B727AF8DF2C350EC3AB4B9C4DD|FEB2FAD7B98605008902C562C24A88DD|606D77B1E97A46FB4C791D936BC1C5DFA22525B94ADCD40569558AE1E3A82611 OK
OPENIO|00B80ECDA4E9E27CB60A7F088A817E0AD1C9F9D76685C5F2332CEB9C5F1670B9|282C62D8B9860500A123E32DD04AB273|6CCD071F5B1CBFC96BE86257D66EF926E72AF477FC0C3EA0377BD2AB0272A6C9 OK
[...]
OPENIO|F936BB5564C50D4A9387A67CDF8C5CE33CA0A1FD9E1CFED1D8B0D23E3400645F|B33E11D9B986050095670062C44ABE43|1E9F276F359669358D72EF0A74BE22D1B93E18AD3F93D0AC93D8E0C574103710 OK
OPENIO|F1630704998E0372A44A76ABF2B50C73997B748F0B26F29ACD4FBF0753D522BF|68ED80D9B986050029A9DF18C34A2CE2|5FE8F711976284B8106D81D11408B682D6B6F37AF31473B894541A90F8CC37F4 OK
DONE last_report=2019-04-17T15:40:25 7.27s chunks=143 19.67/s bytes=92175360 12680872.75B/s errors=0 0.00% start_time=2019-04-17T15:40:25 7.27s total_chunks=143 19.67/s total_bytes=92175360 12680851.54B/s total_errors=0 0.00% progress=143/143 100.00%

$ openio-admin rawx distrebuild 127.0.0.1:6025
Beanstalkd 127.0.0.1:6010 using tube oio-rebuild is selected as a worker
Beanstalkd 127.0.0.1:6011 using tube oio-rebuild is selected as a worker
Beanstalkd 127.0.0.1:6009 using tube oio-rebuild is selected as a worker
Beanstalkd 127.0.0.1:6009 using tube oio-rebuild.reply.1555518923.62 is selected for the replies
START last_report=2019-04-17T18:35:23 0.00s chunks=0 0.00/s bytes=0 0.00B/s errors=0 0.00% start_time=2019-04-17T18:35:23 0.00s total_chunks=0 0.00/s total_bytes=0 0.00B/s total_errors=0 0.00% progress=0/152 0.00%
OPENIO|01BC778E5636B21A4F78118B9F7C560F0D024819F14D3B88D18B7CEEF8AEC2E8|80FD7376BC8605004E600D867F2C27C7|39AFABEA5D3DD9B2E4A3E59007D5AE353E0B23F1221539160D8F410717A05F02 OK
OPENIO|04A925CE6A5F79DE4E5B81E83BC713D7A8D300BBEE4F169D74B5F1C181DBDEBB|97BC0077BC8605000116089A7E2C2C4C|6138D6B0C5703136D366809A153819ECD2EFB5FA5EEBEE76357936A6ED9D5D87 OK
[...]
OPENIO|FAF68B84E100B42B4D45ECB4CA7F3BD5DBFC6BEC2FA12AB982A2EAEF391814FD|8A963776BC860500FD81B2897F2C77C7|AD8E73BAC570E47594C35342170367F38F99C534F491062D6776F0C5BE52AD06 OK
OPENIO|DF68C496B92210D1F251D226785715FD9D5D583DEB4F65AF5C7440DF7CA4AF48|58EAAC76BC860500355C1F4E7D2CB09F|7FA1D7B79FA7258B383613D2B79FA787BDD01B38C9C32520B1E6A7EBE56DA5ED OK
DONE last_report=2019-04-17T18:35:23 4.89s chunks=152 31.09/s bytes=102489088 20962587.56B/s errors=0 0.00% start_time=2019-04-17T18:35:23 4.89s total_chunks=152 31.09/s total_bytes=102489088 20962548.71B/s total_errors=0 0.00% progress=152/152 100.00%","SUMMARY
Implement 'openio-admin  rebuild' commands
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0a1.dev51

ADDITIONAL INFORMATION
$ openio-admin meta1 rebuild --workers 10
START volume=None last_report=2019-04-17T16:15:15 0.00s prefixes=0 0.00/s errors=0 0.00% start_time=2019-04-17T16:15:15 0.00s total_prefixes=0 0.00/s total_errors=0 0.00%
DONE volume=None last_report=2019-04-17T16:15:15 1.65s prefixes=16 9.72/s errors=0 0.00% start_time=2019-04-17T16:15:15 1.65s total_prefixes=16 9.72/s total_errors=0 0.00%

$ openio-admin meta2 rebuild --workers 10
START volume=None last_report=2019-04-17T16:15:59 0.00s references=0 0.00/s errors=0 0.00% start_time=2019-04-17T16:15:59 0.00s total_references=0 0.00/s total_errors=0 0.00%
DONE volume=None last_report=2019-04-17T16:15:59 5.90s references=100 16.95/s errors=0 0.00% start_time=2019-04-17T16:15:59 5.90s total_references=100 16.95/s total_errors=0 0.00%

$ openio-admin rawx rebuild 127.0.0.1:6024 --workers 10
START last_report=2019-04-17T15:40:25 0.00s chunks=0 0.00/s bytes=0 0.00B/s errors=0 0.00% start_time=2019-04-17T15:40:25 0.00s total_chunks=0 0.00/s total_bytes=0 0.00B/s total_errors=0 0.00% progress=0/143 0.00%
OPENIO|00523EC71AD59141940D8B875630D5553D0F81B727AF8DF2C350EC3AB4B9C4DD|FEB2FAD7B98605008902C562C24A88DD|606D77B1E97A46FB4C791D936BC1C5DFA22525B94ADCD40569558AE1E3A82611 OK
OPENIO|00B80ECDA4E9E27CB60A7F088A817E0AD1C9F9D76685C5F2332CEB9C5F1670B9|282C62D8B9860500A123E32DD04AB273|6CCD071F5B1CBFC96BE86257D66EF926E72AF477FC0C3EA0377BD2AB0272A6C9 OK
[...]
OPENIO|F936BB5564C50D4A9387A67CDF8C5CE33CA0A1FD9E1CFED1D8B0D23E3400645F|B33E11D9B986050095670062C44ABE43|1E9F276F359669358D72EF0A74BE22D1B93E18AD3F93D0AC93D8E0C574103710 OK
OPENIO|F1630704998E0372A44A76ABF2B50C73997B748F0B26F29ACD4FBF0753D522BF|68ED80D9B986050029A9DF18C34A2CE2|5FE8F711976284B8106D81D11408B682D6B6F37AF31473B894541A90F8CC37F4 OK
DONE last_report=2019-04-17T15:40:25 7.27s chunks=143 19.67/s bytes=92175360 12680872.75B/s errors=0 0.00% start_time=2019-04-17T15:40:25 7.27s total_chunks=143 19.67/s total_bytes=92175360 12680851.54B/s total_errors=0 0.00% progress=143/143 100.00%

$ openio-admin rawx distrebuild 127.0.0.1:6025
Beanstalkd 127.0.0.1:6010 using tube oio-rebuild is selected as a worker
Beanstalkd 127.0.0.1:6011 using tube oio-rebuild is selected as a worker
Beanstalkd 127.0.0.1:6009 using tube oio-rebuild is selected as a worker
Beanstalkd 127.0.0.1:6009 using tube oio-rebuild.reply.1555518923.62 is selected for the replies
START last_report=2019-04-17T18:35:23 0.00s chunks=0 0.00/s bytes=0 0.00B/s errors=0 0.00% start_time=2019-04-17T18:35:23 0.00s total_chunks=0 0.00/s total_bytes=0 0.00B/s total_errors=0 0.00% progress=0/152 0.00%
OPENIO|01BC778E5636B21A4F78118B9F7C560F0D024819F14D3B88D18B7CEEF8AEC2E8|80FD7376BC8605004E600D867F2C27C7|39AFABEA5D3DD9B2E4A3E59007D5AE353E0B23F1221539160D8F410717A05F02 OK
OPENIO|04A925CE6A5F79DE4E5B81E83BC713D7A8D300BBEE4F169D74B5F1C181DBDEBB|97BC0077BC8605000116089A7E2C2C4C|6138D6B0C5703136D366809A153819ECD2EFB5FA5EEBEE76357936A6ED9D5D87 OK
[...]
OPENIO|FAF68B84E100B42B4D45ECB4CA7F3BD5DBFC6BEC2FA12AB982A2EAEF391814FD|8A963776BC860500FD81B2897F2C77C7|AD8E73BAC570E47594C35342170367F38F99C534F491062D6776F0C5BE52AD06 OK
OPENIO|DF68C496B92210D1F251D226785715FD9D5D583DEB4F65AF5C7440DF7CA4AF48|58EAAC76BC860500355C1F4E7D2CB09F|7FA1D7B79FA7258B383613D2B79FA787BDD01B38C9C32520B1E6A7EBE56DA5ED OK
DONE last_report=2019-04-17T18:35:23 4.89s chunks=152 31.09/s bytes=102489088 20962587.56B/s errors=0 0.00% start_time=2019-04-17T18:35:23 4.89s total_chunks=152 31.09/s total_bytes=102489088 20962548.71B/s total_errors=0 0.00% progress=152/152 100.00%",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1740,2019-04-17T16:43:44Z,2019-04-19T14:08:09Z,2019-04-19T14:21:41Z,MERGED,True,245,21,4,https://github.com/AymericDu,Implement 'openio-admin <service-type> rebuild' commands,2,[],https://github.com/open-io/oio-sds/pull/1740,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1740#issuecomment-484776588,"SUMMARY
Implement 'openio-admin  rebuild' commands
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0a1.dev51

ADDITIONAL INFORMATION
$ openio-admin meta1 rebuild --workers 10
START volume=None last_report=2019-04-17T16:15:15 0.00s prefixes=0 0.00/s errors=0 0.00% start_time=2019-04-17T16:15:15 0.00s total_prefixes=0 0.00/s total_errors=0 0.00%
DONE volume=None last_report=2019-04-17T16:15:15 1.65s prefixes=16 9.72/s errors=0 0.00% start_time=2019-04-17T16:15:15 1.65s total_prefixes=16 9.72/s total_errors=0 0.00%

$ openio-admin meta2 rebuild --workers 10
START volume=None last_report=2019-04-17T16:15:59 0.00s references=0 0.00/s errors=0 0.00% start_time=2019-04-17T16:15:59 0.00s total_references=0 0.00/s total_errors=0 0.00%
DONE volume=None last_report=2019-04-17T16:15:59 5.90s references=100 16.95/s errors=0 0.00% start_time=2019-04-17T16:15:59 5.90s total_references=100 16.95/s total_errors=0 0.00%

$ openio-admin rawx rebuild 127.0.0.1:6024 --workers 10
START last_report=2019-04-17T15:40:25 0.00s chunks=0 0.00/s bytes=0 0.00B/s errors=0 0.00% start_time=2019-04-17T15:40:25 0.00s total_chunks=0 0.00/s total_bytes=0 0.00B/s total_errors=0 0.00% progress=0/143 0.00%
OPENIO|00523EC71AD59141940D8B875630D5553D0F81B727AF8DF2C350EC3AB4B9C4DD|FEB2FAD7B98605008902C562C24A88DD|606D77B1E97A46FB4C791D936BC1C5DFA22525B94ADCD40569558AE1E3A82611 OK
OPENIO|00B80ECDA4E9E27CB60A7F088A817E0AD1C9F9D76685C5F2332CEB9C5F1670B9|282C62D8B9860500A123E32DD04AB273|6CCD071F5B1CBFC96BE86257D66EF926E72AF477FC0C3EA0377BD2AB0272A6C9 OK
[...]
OPENIO|F936BB5564C50D4A9387A67CDF8C5CE33CA0A1FD9E1CFED1D8B0D23E3400645F|B33E11D9B986050095670062C44ABE43|1E9F276F359669358D72EF0A74BE22D1B93E18AD3F93D0AC93D8E0C574103710 OK
OPENIO|F1630704998E0372A44A76ABF2B50C73997B748F0B26F29ACD4FBF0753D522BF|68ED80D9B986050029A9DF18C34A2CE2|5FE8F711976284B8106D81D11408B682D6B6F37AF31473B894541A90F8CC37F4 OK
DONE last_report=2019-04-17T15:40:25 7.27s chunks=143 19.67/s bytes=92175360 12680872.75B/s errors=0 0.00% start_time=2019-04-17T15:40:25 7.27s total_chunks=143 19.67/s total_bytes=92175360 12680851.54B/s total_errors=0 0.00% progress=143/143 100.00%

$ openio-admin rawx distrebuild 127.0.0.1:6025
Beanstalkd 127.0.0.1:6010 using tube oio-rebuild is selected as a worker
Beanstalkd 127.0.0.1:6011 using tube oio-rebuild is selected as a worker
Beanstalkd 127.0.0.1:6009 using tube oio-rebuild is selected as a worker
Beanstalkd 127.0.0.1:6009 using tube oio-rebuild.reply.1555518923.62 is selected for the replies
START last_report=2019-04-17T18:35:23 0.00s chunks=0 0.00/s bytes=0 0.00B/s errors=0 0.00% start_time=2019-04-17T18:35:23 0.00s total_chunks=0 0.00/s total_bytes=0 0.00B/s total_errors=0 0.00% progress=0/152 0.00%
OPENIO|01BC778E5636B21A4F78118B9F7C560F0D024819F14D3B88D18B7CEEF8AEC2E8|80FD7376BC8605004E600D867F2C27C7|39AFABEA5D3DD9B2E4A3E59007D5AE353E0B23F1221539160D8F410717A05F02 OK
OPENIO|04A925CE6A5F79DE4E5B81E83BC713D7A8D300BBEE4F169D74B5F1C181DBDEBB|97BC0077BC8605000116089A7E2C2C4C|6138D6B0C5703136D366809A153819ECD2EFB5FA5EEBEE76357936A6ED9D5D87 OK
[...]
OPENIO|FAF68B84E100B42B4D45ECB4CA7F3BD5DBFC6BEC2FA12AB982A2EAEF391814FD|8A963776BC860500FD81B2897F2C77C7|AD8E73BAC570E47594C35342170367F38F99C534F491062D6776F0C5BE52AD06 OK
OPENIO|DF68C496B92210D1F251D226785715FD9D5D583DEB4F65AF5C7440DF7CA4AF48|58EAAC76BC860500355C1F4E7D2CB09F|7FA1D7B79FA7258B383613D2B79FA787BDD01B38C9C32520B1E6A7EBE56DA5ED OK
DONE last_report=2019-04-17T18:35:23 4.89s chunks=152 31.09/s bytes=102489088 20962587.56B/s errors=0 0.00% start_time=2019-04-17T18:35:23 4.89s total_chunks=152 31.09/s total_bytes=102489088 20962548.71B/s total_errors=0 0.00% progress=152/152 100.00%","Codecov Report

Merging #1740 into master will increase coverage by 0.57%.
The diff coverage is 60%.


@@            Coverage Diff             @@
##           master    #1740      +/-   ##
==========================================
+ Coverage   78.88%   79.45%   +0.57%     
==========================================
  Files         358      374      +16     
  Lines       67749    69378    +1629     
  Branches     6885     6920      +35     
==========================================
+ Hits        53439    55119    +1680     
+ Misses      14310    14156     -154     
- Partials        0      103     +103



Impacted Files
Coverage Δ





oio/rebuilder/rebuilder.py
22.89% <60%> (+2.02%)
⬆️


oio/account/backend.py
79.92% <0%> (-1.78%)
⬇️


server/slab.c
79.88% <0%> (-1.29%)
⬇️


oio/conscience/client.py
80.73% <0%> (-1.2%)
⬇️


rawx-apache2/src/rawx_repository.c
56.83% <0%> (-0.81%)
⬇️


oio/crawler/integrity.py
67.93% <0%> (-0.79%)
⬇️


oio/api/io.py
85.6% <0%> (-0.53%)
⬇️


rawx-lib/src/attr_handler.c
68.58% <0%> (-0.47%)
⬇️


server/network_server.c
82.87% <0%> (-0.42%)
⬇️


proxy/transport_http.c
85.39% <0%> (-0.28%)
⬇️


... and 70 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d09aa08...09ac1c5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1741,2019-04-17T17:07:47Z,2019-04-19T12:41:00Z,2019-04-19T12:41:02Z,MERGED,True,164,97,7,https://github.com/fvennetier,tests: implement a facility to wait for a specific event,2,[],https://github.com/open-io/oio-sds/pull/1741,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1741,"SUMMARY
Implement a facility to wait for a specific event. The event can be specified by type and/or request ID. The purpose of this feature is to speedup tests which previously used time.sleep() to ensure an event had been handled.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 4.4.3.dev1","SUMMARY
Implement a facility to wait for a specific event. The event can be specified by type and/or request ID. The purpose of this feature is to speedup tests which previously used time.sleep() to ensure an event had been handled.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 4.4.3.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1741,2019-04-17T17:07:47Z,2019-04-19T12:41:00Z,2019-04-19T12:41:02Z,MERGED,True,164,97,7,https://github.com/fvennetier,tests: implement a facility to wait for a specific event,2,[],https://github.com/open-io/oio-sds/pull/1741,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1741#issuecomment-484408447,"SUMMARY
Implement a facility to wait for a specific event. The event can be specified by type and/or request ID. The purpose of this feature is to speedup tests which previously used time.sleep() to ensure an event had been handled.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 4.4.3.dev1","Codecov Report

Merging #1741 into 4.4.x will increase coverage by 0.44%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.4.x    #1741      +/-   ##
==========================================
+ Coverage   79.36%   79.79%   +0.44%     
==========================================
  Files         355      371      +16     
  Lines       67086    68728    +1642     
  Branches     6919     6954      +35     
==========================================
+ Hits        53233    54837    +1604     
+ Misses      13853    13787      -66     
- Partials        0      104     +104



Impacted Files
Coverage Δ





...sts/functional/content/test_content_perfectible.py
82.49% <100%> (ø)
⬆️


tests/functional/blob/test_blob.py
99.29% <100%> (+0.19%)
⬆️


tests/utils.py
92.03% <100%> (+4.36%)
⬆️


tests/functional/api/test_objectstorage.py
97.22% <100%> (-0.08%)
⬇️


oio/ecd/app.py
60.12% <0%> (-6.54%)
⬇️


oio/account/client.py
81.61% <0%> (-5.74%)
⬇️


meta2v2/meta2_bean_utils.c
59% <0%> (-1%)
⬇️


oio/api/io.py
85.87% <0%> (-0.53%)
⬇️


oio/rdir/client.py
80.49% <0%> (-0.34%)
⬇️


metautils/lib/comm_converter.c
72.78% <0%> (-0.26%)
⬇️


... and 78 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 81b44d2...3821c82. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1742,2019-04-18T15:09:52Z,2019-04-19T14:20:13Z,2019-04-19T14:25:20Z,CLOSED,False,56,33,1,https://github.com/jfsmig,[WIP] rawx: Use a faster JSON generation for events,1,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1742,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1742,"SUMMARY
Pass to a raw JSON generation is much lighter than the reflection-based implementation.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.4.2.dev42","SUMMARY
Pass to a raw JSON generation is much lighter than the reflection-based implementation.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.4.2.dev42",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1743,2019-04-18T16:18:08Z,2019-04-19T16:16:11Z,2019-04-19T16:16:19Z,MERGED,True,304,86,6,https://github.com/AymericDu,Implement 'openio-admin container repair' command ,4,[],https://github.com/open-io/oio-sds/pull/1743,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1743,"SUMMARY

Allow to rebuild meta2 databases when the quorum isn't reached
Implement 'openio-admin container repair' command

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Admin CLI
Python API

SDS VERSION
openio 5.0.0.0a1.dev51

ADDITIONAL INFORMATION
$ openio-admin container repair toto titi
START last_report=2019-04-18T17:49:44 0.00s containers=0 0.00/s errors=0 0.00% start_time=2019-04-18T17:49:44 0.00s total_containers=0 0.00/s total_errors=0 0.00% progress=0/2 0.00%
DONE last_report=2019-04-18T17:49:44 0.19s containers=2 10.28/s errors=0 0.00% start_time=2019-04-18T17:49:44 0.19s total_containers=2 10.28/s total_errors=0 0.00% progress=2/2 100.00%
+-----------------------+--------+
| Object                | Status |
+-----------------------+--------+
| OPENIO|myaccount|toto | OK     |
| OPENIO|myaccount|titi | OK     |
+-----------------------+--------+","SUMMARY

Allow to rebuild meta2 databases when the quorum isn't reached
Implement 'openio-admin container repair' command

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Admin CLI
Python API

SDS VERSION
openio 5.0.0.0a1.dev51

ADDITIONAL INFORMATION
$ openio-admin container repair toto titi
START last_report=2019-04-18T17:49:44 0.00s containers=0 0.00/s errors=0 0.00% start_time=2019-04-18T17:49:44 0.00s total_containers=0 0.00/s total_errors=0 0.00% progress=0/2 0.00%
DONE last_report=2019-04-18T17:49:44 0.19s containers=2 10.28/s errors=0 0.00% start_time=2019-04-18T17:49:44 0.19s total_containers=2 10.28/s total_errors=0 0.00% progress=2/2 100.00%
+-----------------------+--------+
| Object                | Status |
+-----------------------+--------+
| OPENIO|myaccount|toto | OK     |
| OPENIO|myaccount|titi | OK     |
+-----------------------+--------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1743,2019-04-18T16:18:08Z,2019-04-19T16:16:11Z,2019-04-19T16:16:19Z,MERGED,True,304,86,6,https://github.com/AymericDu,Implement 'openio-admin container repair' command ,4,[],https://github.com/open-io/oio-sds/pull/1743,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1743#issuecomment-484882095,"SUMMARY

Allow to rebuild meta2 databases when the quorum isn't reached
Implement 'openio-admin container repair' command

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Admin CLI
Python API

SDS VERSION
openio 5.0.0.0a1.dev51

ADDITIONAL INFORMATION
$ openio-admin container repair toto titi
START last_report=2019-04-18T17:49:44 0.00s containers=0 0.00/s errors=0 0.00% start_time=2019-04-18T17:49:44 0.00s total_containers=0 0.00/s total_errors=0 0.00% progress=0/2 0.00%
DONE last_report=2019-04-18T17:49:44 0.19s containers=2 10.28/s errors=0 0.00% start_time=2019-04-18T17:49:44 0.19s total_containers=2 10.28/s total_errors=0 0.00% progress=2/2 100.00%
+-----------------------+--------+
| Object                | Status |
+-----------------------+--------+
| OPENIO|myaccount|toto | OK     |
| OPENIO|myaccount|titi | OK     |
+-----------------------+--------+","Codecov Report

Merging #1743 into master will decrease coverage by 0.04%.
The diff coverage is 46.43%.


@@            Coverage Diff             @@
##           master    #1743      +/-   ##
==========================================
- Coverage   79.52%   79.49%   -0.03%     
==========================================
  Files         375      375              
  Lines       69444    69471      +27     
  Branches     6920     6920              
==========================================
- Hits        55221    55219       -2     
- Misses      14118    14147      +29     
  Partials      105      105



Impacted Files
Coverage Δ





oio/directory/meta2.py
69.54% <46.43%> (-8.63%)
⬇️


oio/ecd/app.py
60.12% <0%> (-5.95%)
⬇️


oio/account/client.py
81.61% <0%> (-5.74%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/conscience/client.py
80.73% <0%> (-2.4%)
⬇️


sqliterepo/replication.c
84.29% <0%> (-1.14%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-1.03%)
⬇️


meta2v2/meta2_bean_utils.c
59% <0%> (-1%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.35% <0%> (-0.91%)
⬇️


resolver/hc_resolver.c
92.55% <0%> (-0.31%)
⬇️


... and 18 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3b03c96...2eb604a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1744,2019-04-19T17:07:17Z,2019-04-23T13:47:10Z,2019-04-23T13:47:14Z,MERGED,True,182,7,5,https://github.com/fvennetier,CLI: implement get-config and set-config commands,1,[],https://github.com/open-io/oio-sds/pull/1744,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1744,"SUMMARY
These commands allow get/set ephemeral configuration parameters on the
service.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API

SDS VERSION
openio 4.4.3.dev25","SUMMARY
These commands allow get/set ephemeral configuration parameters on the
service.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API

SDS VERSION
openio 4.4.3.dev25",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1744,2019-04-19T17:07:17Z,2019-04-23T13:47:10Z,2019-04-23T13:47:14Z,MERGED,True,182,7,5,https://github.com/fvennetier,CLI: implement get-config and set-config commands,1,[],https://github.com/open-io/oio-sds/pull/1744,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1744#issuecomment-485686917,"SUMMARY
These commands allow get/set ephemeral configuration parameters on the
service.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI
Python API

SDS VERSION
openio 4.4.3.dev25","The service type isn't checked.

I chose to keep the service type in the command line to mimic other commands, but indeed it doesn't matter (except for proxy which uses a different mechanism).",True,"{'THUMBS_UP': ['https://github.com/AymericDu', 'https://github.com/kamel-rahim']}"
open-io/oio-sds,https://github.com/open-io/oio-sds,1745,2019-04-19T17:15:06Z,2019-04-24T09:59:40Z,2019-04-24T12:46:47Z,MERGED,True,274,31,7,https://github.com/AymericDu,Implement 'openio-admin account-service rebuild' command,5,[],https://github.com/open-io/oio-sds/pull/1745,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1745,"SUMMARY

Implement 'openio-admin account-service rebuild' command
Implement 'openio-admin account repair' command

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a1.dev51

ADDITIONAL INFORMATION
$ openio-admin account-service rebuild
START last_report=2019-04-23T12:51:16 0.00s entries=0 0.00/s errors=0 0.00% start_time=2019-04-23T12:51:16 0.00s total_entries=0 0.00/s total_errors=0 0.00%
OPENIO|myaccount OK
OPENIO|test OK
OPENIO|myaccount|toto OK
DONE last_report=2019-04-23T12:51:16 0.09s entries=3 32.56/s errors=0 0.00% start_time=2019-04-23T12:51:16 0.09s total_entries=3 32.56/s total_errors=0 0.00%

$ openio-admin account repair myaccount
START last_report=2019-04-23T12:56:25 0.00s entries=0 0.00/s errors=0 0.00% start_time=2019-04-23T12:56:25 0.00s total_entries=0 0.00/s total_errors=0 0.00% progress=0/1 0.00%
DONE last_report=2019-04-23T12:56:25 0.03s entries=2 77.27/s errors=0 0.00% start_time=2019-04-23T12:56:25 0.03s total_entries=2 77.25/s total_errors=0 0.00% progress=2/1 200.00%
+-----------------------+--------+
| Entry                 | Status |
+-----------------------+--------+
| OPENIO|myaccount      | OK     |
| OPENIO|myaccount|toto | OK     |
+-----------------------+--------+","SUMMARY

Implement 'openio-admin account-service rebuild' command
Implement 'openio-admin account repair' command

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a1.dev51

ADDITIONAL INFORMATION
$ openio-admin account-service rebuild
START last_report=2019-04-23T12:51:16 0.00s entries=0 0.00/s errors=0 0.00% start_time=2019-04-23T12:51:16 0.00s total_entries=0 0.00/s total_errors=0 0.00%
OPENIO|myaccount OK
OPENIO|test OK
OPENIO|myaccount|toto OK
DONE last_report=2019-04-23T12:51:16 0.09s entries=3 32.56/s errors=0 0.00% start_time=2019-04-23T12:51:16 0.09s total_entries=3 32.56/s total_errors=0 0.00%

$ openio-admin account repair myaccount
START last_report=2019-04-23T12:56:25 0.00s entries=0 0.00/s errors=0 0.00% start_time=2019-04-23T12:56:25 0.00s total_entries=0 0.00/s total_errors=0 0.00% progress=0/1 0.00%
DONE last_report=2019-04-23T12:56:25 0.03s entries=2 77.27/s errors=0 0.00% start_time=2019-04-23T12:56:25 0.03s total_entries=2 77.25/s total_errors=0 0.00% progress=2/1 200.00%
+-----------------------+--------+
| Entry                 | Status |
+-----------------------+--------+
| OPENIO|myaccount      | OK     |
| OPENIO|myaccount|toto | OK     |
+-----------------------+--------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1746,2019-04-21T19:56:26Z,2019-04-24T10:01:38Z,2019-04-25T08:54:20Z,MERGED,True,410,381,13,https://github.com/jfsmig,rawx: Performance improvements ,17,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1746,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1746,"SUMMARY
TL;DR: the golang rawx is now  much faster but requires a new dependency on golang.org/x/sys/unix

GET now manages to use the sendfile() function
Larger buffers at upload
file-descriptor oriented xattr operations
syscalls parsimony
post-reply asynchronous notifications with a buffered channel

Known TODO: make the golang rawx multi-tube.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.4.3.dev6","SUMMARY
TL;DR: the golang rawx is now  much faster but requires a new dependency on golang.org/x/sys/unix

GET now manages to use the sendfile() function
Larger buffers at upload
file-descriptor oriented xattr operations
syscalls parsimony
post-reply asynchronous notifications with a buffered channel

Known TODO: make the golang rawx multi-tube.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.4.3.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1746,2019-04-21T19:56:26Z,2019-04-24T10:01:38Z,2019-04-25T08:54:20Z,MERGED,True,410,381,13,https://github.com/jfsmig,rawx: Performance improvements ,17,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1746,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1746#issuecomment-485810505,"SUMMARY
TL;DR: the golang rawx is now  much faster but requires a new dependency on golang.org/x/sys/unix

GET now manages to use the sendfile() function
Larger buffers at upload
file-descriptor oriented xattr operations
syscalls parsimony
post-reply asynchronous notifications with a buffered channel

Known TODO: make the golang rawx multi-tube.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.4.3.dev6",This should be rebased on the master branch since it is a rather big change and requires a new dependency.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1746,2019-04-21T19:56:26Z,2019-04-24T10:01:38Z,2019-04-25T08:54:20Z,MERGED,True,410,381,13,https://github.com/jfsmig,rawx: Performance improvements ,17,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1746,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1746#issuecomment-486002637,"SUMMARY
TL;DR: the golang rawx is now  much faster but requires a new dependency on golang.org/x/sys/unix

GET now manages to use the sendfile() function
Larger buffers at upload
file-descriptor oriented xattr operations
syscalls parsimony
post-reply asynchronous notifications with a buffered channel

Known TODO: make the golang rawx multi-tube.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.4.3.dev6","Codecov Report

Merging #1746 into master will increase coverage by 0.39%.
The diff coverage is 81.46%.


@@            Coverage Diff            @@
##           master   #1746      +/-   ##
=========================================
+ Coverage   79.12%   79.5%   +0.39%     
=========================================
  Files         361     377      +16     
  Lines       68034   69815    +1781     
  Branches     6885    6920      +35     
=========================================
+ Hits        53822   55501    +1679     
  Misses      14212   14212              
- Partials        0     102     +102



Impacted Files
Coverage Δ





rawx/rawx.go
85.19% <100%> (ø)



rawx/chunk_info.go
80.82% <100%> (ø)



rawx/logger.go
73.12% <100%> (ø)



rawx/chunkrepo.go
70.84% <100%> (ø)



rawx/handler_chunk.go
77.63% <67.57%> (ø)



rawx/filerepo.go
75% <76.11%> (ø)



rawx/notifier.go
70.59% <98.04%> (ø)



meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/account/client.py
81.61% <0%> (-5.74%)
⬇️


tests/functional/cli/admin/test_service_decache.py
81.25% <0%> (-4.16%)
⬇️


... and 72 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a34b824...2d2d058. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1747,2019-04-23T16:49:40Z,2019-04-30T12:25:51Z,2019-05-15T12:18:30Z,MERGED,True,87,13,3,https://github.com/kamel-rahim,CLI: implement 'openio-admin check rawx' command,2,[],https://github.com/open-io/oio-sds/pull/1747,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1747,"SUMMARY


Checks all rawx chunks with the same tests used in openio-admin chunk check.


ISSUE TYPE


Feature Pull Request

COMPONENT NAME


Admin CLI

SDS VERSION

openio 5.0.0.0a1.dev51","SUMMARY


Checks all rawx chunks with the same tests used in openio-admin chunk check.


ISSUE TYPE


Feature Pull Request

COMPONENT NAME


Admin CLI

SDS VERSION

openio 5.0.0.0a1.dev51",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1747,2019-04-23T16:49:40Z,2019-04-30T12:25:51Z,2019-05-15T12:18:30Z,MERGED,True,87,13,3,https://github.com/kamel-rahim,CLI: implement 'openio-admin check rawx' command,2,[],https://github.com/open-io/oio-sds/pull/1747,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1747#issuecomment-485996914,"SUMMARY


Checks all rawx chunks with the same tests used in openio-admin chunk check.


ISSUE TYPE


Feature Pull Request

COMPONENT NAME


Admin CLI

SDS VERSION

openio 5.0.0.0a1.dev51","Codecov Report

Merging #1747 into master will increase coverage by 0.28%.
The diff coverage is 35.72%.


@@            Coverage Diff             @@
##           master    #1747      +/-   ##
==========================================
+ Coverage   79.12%   79.39%   +0.28%     
==========================================
  Files         361      380      +19     
  Lines       68034    69915    +1881     
  Branches     6885     6920      +35     
==========================================
+ Hits        53822    55500    +1678     
- Misses      14212    14310      +98     
- Partials        0      105     +105



Impacted Files
Coverage Δ





oio/cli/admin/service_check.py
73.84% <35.72%> (+33.56%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


tests/functional/cli/admin/test_service_decache.py
81.25% <0%> (-4.16%)
⬇️


meta1v2/meta1_prefixes.c
76.81% <0%> (-3.09%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


oio/account/backend.py
79.47% <0%> (-1.33%)
⬇️


oio/blob/auditor.py
58.29% <0%> (-1.14%)
⬇️


oio/api/io.py
85.64% <0%> (-0.53%)
⬇️


core/proxy.c
83.88% <0%> (-0.17%)
⬇️


oio/api/object_storage.py
83.39% <0%> (-0.14%)
⬇️


... and 70 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a34b824...4370a4c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1747,2019-04-23T16:49:40Z,2019-04-30T12:25:51Z,2019-05-15T12:18:30Z,MERGED,True,87,13,3,https://github.com/kamel-rahim,CLI: implement 'openio-admin check rawx' command,2,[],https://github.com/open-io/oio-sds/pull/1747,https://github.com/AymericDu,3,https://github.com/open-io/oio-sds/pull/1747#issuecomment-486974257,"SUMMARY


Checks all rawx chunks with the same tests used in openio-admin chunk check.


ISSUE TYPE


Feature Pull Request

COMPONENT NAME


Admin CLI

SDS VERSION

openio 5.0.0.0a1.dev51","--output-for-blob-rebuilder doesn't work. I'll see why tomorrow.

We have the same problem with openio-admin chunk check. All other check commands are ok.
$ openio-admin chunk check --output-for-blob-rebuilder toto http://127.0.0.1:6023/127F5CFA1034451D72E5BF02BB320E3FA8422DF8F2E525FA8A84FCCB2D70D98B; echo $?
('myaccount', None)
1

To reproduce this problem, the chunk must be indexed in rdir, but not in rawx.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1748,2019-04-24T15:27:53Z,2019-04-26T12:05:11Z,2019-04-26T14:29:39Z,MERGED,True,314,199,9,https://github.com/AymericDu,Improve 'openio-admin meta2 rebuild',3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1748,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1748,"SUMMARY
openio-admin meta2 rebuild rebuilds a specified volume.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a2.dev3","SUMMARY
openio-admin meta2 rebuild rebuilds a specified volume.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a2.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1749,2019-04-24T15:34:42Z,2019-04-26T12:05:24Z,2019-04-26T12:05:27Z,MERGED,True,26,24,4,https://github.com/fvennetier,CI: make curl silent when there is no error,2,"['enhancement :sparkles:', 'Logging :scroll:']",https://github.com/open-io/oio-sds/pull/1749,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1749,"SUMMARY
We often reach the limit of 10000 log lines in our CI tool, and a lot of them are curl progress bars. We don't need them.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CI

SDS VERSION
openio 5.0.0.0a2.dev1

ADDITIONAL INFORMATION
None.","SUMMARY
We often reach the limit of 10000 log lines in our CI tool, and a lot of them are curl progress bars. We don't need them.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CI

SDS VERSION
openio 5.0.0.0a2.dev1

ADDITIONAL INFORMATION
None.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1750,2019-04-25T09:01:30Z,2019-04-29T08:19:04Z,2019-04-29T16:09:37Z,MERGED,True,352,113,12,https://github.com/jfsmig,ci: Use a travis pipeline,3,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1750,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1750,"SUMMARY

Fail fast on gotchas, then proceed with the long tests.
Attempt to split the logic of the tests (in tools/oio-test-*) and the Travis environment specifics (in tools/oio-travis-*), so that the logic should be easy to run on a dev sandbox.

ISSUE TYPE
enhancement
COMPONENT NAME
ci
SDS VERSION
openio 5.0.0.0a2.dev1","SUMMARY

Fail fast on gotchas, then proceed with the long tests.
Attempt to split the logic of the tests (in tools/oio-test-*) and the Travis environment specifics (in tools/oio-travis-*), so that the logic should be easy to run on a dev sandbox.

ISSUE TYPE
enhancement
COMPONENT NAME
ci
SDS VERSION
openio 5.0.0.0a2.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1751,2019-04-25T18:24:58Z,2019-04-26T12:07:25Z,2019-04-26T14:29:36Z,MERGED,True,49,55,1,https://github.com/AymericDu,Drop old event when updating account,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1751,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1751,"SUMMARY
Drop old event when updating account
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.4.3.dev4","SUMMARY
Drop old event when updating account
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.4.3.dev4",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1751,2019-04-25T18:24:58Z,2019-04-26T12:07:25Z,2019-04-26T14:29:36Z,MERGED,True,49,55,1,https://github.com/AymericDu,Drop old event when updating account,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1751,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1751#issuecomment-486804294,"SUMMARY
Drop old event when updating account
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.4.3.dev4","Codecov Report

Merging #1751 into 4.4.x will decrease coverage by 0.04%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.4.x    #1751      +/-   ##
==========================================
- Coverage   79.86%   79.83%   -0.03%     
==========================================
  Files         371      371              
  Lines       68728    68728              
  Branches     6954     6954              
==========================================
- Hits        54882    54861      -21     
- Misses      13742    13763      +21     
  Partials      104      104



Impacted Files
Coverage Δ





oio/account/client.py
81.61% <0%> (-5.74%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/container/client.py
83.83% <0%> (-2.64%)
⬇️


oio/blob/auditor.py
58.29% <0%> (-1.14%)
⬇️


rawx-lib/src/attr_handler.c
68.58% <0%> (-0.95%)
⬇️


meta2v2/meta2_filters_extract.c
91.59% <0%> (-0.93%)
⬇️


sqliterepo/gridd_client_pool.c
81.58% <0%> (-0.87%)
⬇️


sqliterepo/replication.c
84.58% <0%> (-0.85%)
⬇️


oio/account/backend.py
79.47% <0%> (-0.44%)
⬇️


core/proxy.c
83.7% <0%> (-0.35%)
⬇️


... and 23 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7933f1a...e0518e6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1752,2019-04-26T09:22:54Z,2019-04-29T15:13:09Z,2019-04-29T15:13:11Z,MERGED,True,117,73,7,https://github.com/fvennetier,tests: accelerate some shell scripts,3,[],https://github.com/open-io/oio-sds/pull/1752,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1752,"SUMMARY
Try to find why the rebuilder tests are so slow, and fix what is fixable.

Use a bash associative array to cache results of openio cluster resolve (which is rather slow).
Use variables for commands we use often.
Call command -v instead of which.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 5.0.0.0a1","SUMMARY
Try to find why the rebuilder tests are so slow, and fix what is fixable.

Use a bash associative array to cache results of openio cluster resolve (which is rather slow).
Use variables for commands we use often.
Call command -v instead of which.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 5.0.0.0a1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1752,2019-04-26T09:22:54Z,2019-04-29T15:13:09Z,2019-04-29T15:13:11Z,MERGED,True,117,73,7,https://github.com/fvennetier,tests: accelerate some shell scripts,3,[],https://github.com/open-io/oio-sds/pull/1752,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1752#issuecomment-487042771,"SUMMARY
Try to find why the rebuilder tests are so slow, and fix what is fixable.

Use a bash associative array to cache results of openio cluster resolve (which is rather slow).
Use variables for commands we use often.
Call command -v instead of which.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 5.0.0.0a1","Codecov Report

Merging #1752 into master will decrease coverage by 0.11%.
The diff coverage is 26.32%.


@@           Coverage Diff            @@
##           master   #1752     +/-   ##
========================================
- Coverage   79.51%   79.4%   -0.1%     
========================================
  Files         377     377             
  Lines       69817   69809      -8     
  Branches     6920    6917      -3     
========================================
- Hits        55506   55427     -79     
+ Misses      14209   14180     -29     
- Partials      102     202    +100



Impacted Files
Coverage Δ





oio/api/object_storage.py
83.44% <0%> (-0.09%)
⬇️


oio/api/backblaze_http.py
21.86% <22.23%> (-0.57%)
⬇️


oio/ecd/app.py
66.08% <75%> (ø)
⬆️


sqlx/sqlx_client_local.c
70.23% <0%> (-12.97%)
⬇️


cache/cache_multilayer.c
57.45% <0%> (-8.51%)
⬇️


rawx/filerepo.go
68.75% <0%> (-6.25%)
⬇️


tests/unit/test_url.c
91.76% <0%> (-5.15%)
⬇️


tests/unit/test_events_beanstalkd.c
92.86% <0%> (-4.76%)
⬇️


cache/cache_lru.c
80.96% <0%> (-4.76%)
⬇️


tests/common/test_cache_abstract.c
54.17% <0%> (-4.16%)
⬇️


... and 63 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f864f76...dec82cd. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1753,2019-04-26T15:50:10Z,2019-05-02T08:04:11Z,2019-05-03T09:56:43Z,MERGED,True,105,2,4,https://github.com/AymericDu,Implement 'openio-admin <service-type> info',3,[],https://github.com/open-io/oio-sds/pull/1753,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1753,"SUMMARY
Implement openio-admin <service-type> info.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a2.dev7

ADDITIONAL INFORMATION
$ openio-admin meta2 info 127.0.0.1:6016
+----------------------------+----------------------------+
| Field                      | Value                      |
+----------------------------+----------------------------+
| cache.cold                 | 0                          |
| cache.hot                  | 0                          |
| cache.max                  | 251642                     |
| cache.soft_max             | 251642                     |
| cache.used                 | 0                          |
| elections.failed           | 0                          |
| elections.master           | 0                          |
| elections.none             | 0                          |
| elections.pending          | 0                          |
| elections.slave            | 0                          |
| elections.total            | 0                          |
| replication                | QUORUM                     |
| server.connections.clients | 1                          |
| server.threads.active      | 1                          |
| sqlite                     | COMPILER=gcc-8.3.0         |
|                            | ENABLE_COLUMN_METADATA     |
|                            | ENABLE_DBSTAT_VTAB         |
|                            | ENABLE_FTS3                |
|                            | ENABLE_FTS3_PARENTHESIS    |
|                            | ENABLE_FTS3_TOKENIZER      |
|                            | ENABLE_FTS4                |
|                            | ENABLE_FTS5                |
|                            | ENABLE_JSON1               |
|                            | ENABLE_LOAD_EXTENSION      |
|                            | ENABLE_PREUPDATE_HOOK      |
|                            | ENABLE_RTREE               |
|                            | ENABLE_SESSION             |
|                            | ENABLE_STMTVTAB            |
|                            | ENABLE_UNLOCK_NOTIFY       |
|                            | ENABLE_UPDATE_DELETE_LIMIT |
|                            | HAVE_ISNAN                 |
|                            | LIKE_DOESNT_MATCH_BLOBS    |
|                            | MAX_SCHEMA_RETRY=25        |
|                            | MAX_VARIABLE_NUMBER=250000 |
|                            | OMIT_LOOKASIDE             |
|                            | SECURE_DELETE              |
|                            | SOUNDEX                    |
|                            | TEMP_STORE=1               |
|                            | THREADSAFE=1               |
|                            | USE_URI                    |
| sqliterepo.delete          | True                       |
| sqliterepo.depth           | 1                          |
| sqliterepo.vacuum          | False                      |
| sqliterepo.width           | 3                          |
| version                    | master/5.0                 |
+----------------------------+----------------------------+","SUMMARY
Implement openio-admin <service-type> info.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a2.dev7

ADDITIONAL INFORMATION
$ openio-admin meta2 info 127.0.0.1:6016
+----------------------------+----------------------------+
| Field                      | Value                      |
+----------------------------+----------------------------+
| cache.cold                 | 0                          |
| cache.hot                  | 0                          |
| cache.max                  | 251642                     |
| cache.soft_max             | 251642                     |
| cache.used                 | 0                          |
| elections.failed           | 0                          |
| elections.master           | 0                          |
| elections.none             | 0                          |
| elections.pending          | 0                          |
| elections.slave            | 0                          |
| elections.total            | 0                          |
| replication                | QUORUM                     |
| server.connections.clients | 1                          |
| server.threads.active      | 1                          |
| sqlite                     | COMPILER=gcc-8.3.0         |
|                            | ENABLE_COLUMN_METADATA     |
|                            | ENABLE_DBSTAT_VTAB         |
|                            | ENABLE_FTS3                |
|                            | ENABLE_FTS3_PARENTHESIS    |
|                            | ENABLE_FTS3_TOKENIZER      |
|                            | ENABLE_FTS4                |
|                            | ENABLE_FTS5                |
|                            | ENABLE_JSON1               |
|                            | ENABLE_LOAD_EXTENSION      |
|                            | ENABLE_PREUPDATE_HOOK      |
|                            | ENABLE_RTREE               |
|                            | ENABLE_SESSION             |
|                            | ENABLE_STMTVTAB            |
|                            | ENABLE_UNLOCK_NOTIFY       |
|                            | ENABLE_UPDATE_DELETE_LIMIT |
|                            | HAVE_ISNAN                 |
|                            | LIKE_DOESNT_MATCH_BLOBS    |
|                            | MAX_SCHEMA_RETRY=25        |
|                            | MAX_VARIABLE_NUMBER=250000 |
|                            | OMIT_LOOKASIDE             |
|                            | SECURE_DELETE              |
|                            | SOUNDEX                    |
|                            | TEMP_STORE=1               |
|                            | THREADSAFE=1               |
|                            | USE_URI                    |
| sqliterepo.delete          | True                       |
| sqliterepo.depth           | 1                          |
| sqliterepo.vacuum          | False                      |
| sqliterepo.width           | 3                          |
| version                    | master/5.0                 |
+----------------------------+----------------------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1753,2019-04-26T15:50:10Z,2019-05-02T08:04:11Z,2019-05-03T09:56:43Z,MERGED,True,105,2,4,https://github.com/AymericDu,Implement 'openio-admin <service-type> info',3,[],https://github.com/open-io/oio-sds/pull/1753,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1753#issuecomment-487229447,"SUMMARY
Implement openio-admin <service-type> info.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a2.dev7

ADDITIONAL INFORMATION
$ openio-admin meta2 info 127.0.0.1:6016
+----------------------------+----------------------------+
| Field                      | Value                      |
+----------------------------+----------------------------+
| cache.cold                 | 0                          |
| cache.hot                  | 0                          |
| cache.max                  | 251642                     |
| cache.soft_max             | 251642                     |
| cache.used                 | 0                          |
| elections.failed           | 0                          |
| elections.master           | 0                          |
| elections.none             | 0                          |
| elections.pending          | 0                          |
| elections.slave            | 0                          |
| elections.total            | 0                          |
| replication                | QUORUM                     |
| server.connections.clients | 1                          |
| server.threads.active      | 1                          |
| sqlite                     | COMPILER=gcc-8.3.0         |
|                            | ENABLE_COLUMN_METADATA     |
|                            | ENABLE_DBSTAT_VTAB         |
|                            | ENABLE_FTS3                |
|                            | ENABLE_FTS3_PARENTHESIS    |
|                            | ENABLE_FTS3_TOKENIZER      |
|                            | ENABLE_FTS4                |
|                            | ENABLE_FTS5                |
|                            | ENABLE_JSON1               |
|                            | ENABLE_LOAD_EXTENSION      |
|                            | ENABLE_PREUPDATE_HOOK      |
|                            | ENABLE_RTREE               |
|                            | ENABLE_SESSION             |
|                            | ENABLE_STMTVTAB            |
|                            | ENABLE_UNLOCK_NOTIFY       |
|                            | ENABLE_UPDATE_DELETE_LIMIT |
|                            | HAVE_ISNAN                 |
|                            | LIKE_DOESNT_MATCH_BLOBS    |
|                            | MAX_SCHEMA_RETRY=25        |
|                            | MAX_VARIABLE_NUMBER=250000 |
|                            | OMIT_LOOKASIDE             |
|                            | SECURE_DELETE              |
|                            | SOUNDEX                    |
|                            | TEMP_STORE=1               |
|                            | THREADSAFE=1               |
|                            | USE_URI                    |
| sqliterepo.delete          | True                       |
| sqliterepo.depth           | 1                          |
| sqliterepo.vacuum          | False                      |
| sqliterepo.width           | 3                          |
| version                    | master/5.0                 |
+----------------------------+----------------------------+","Codecov Report

Merging #1753 into master will decrease coverage by 0.06%.
The diff coverage is 92.86%.


@@            Coverage Diff             @@
##           master    #1753      +/-   ##
==========================================
- Coverage   79.32%   79.27%   -0.05%     
==========================================
  Files         377      379       +2     
  Lines       69815    70012     +197     
  Branches     6917     6917              
==========================================
+ Hits        55376    55494     +118     
- Misses      14238    14316      +78     
- Partials      201      202       +1



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
65.19% <100%> (+0.55%)
⬆️


oio/directory/admin.py
66.67% <50%> (-0.24%)
⬇️


oio/cli/admin/service_check.py
65.81% <0%> (-15.44%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


oio/ecd/app.py
59.53% <0%> (-6.54%)
⬇️


tests/functional/cli/admin/test_service_decache.py
81.25% <0%> (-4.16%)
⬇️


metautils/lib/rrd.c
74.36% <0%> (-2.56%)
⬇️


oio/directory/indexer.py
70.84% <0%> (-2.5%)
⬇️


metautils/lib/gridd_client.c
75.5% <0%> (-0.99%)
⬇️


sqlx/sqlx_service.c
84.3% <0%> (-0.67%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6ce3ac6...a981e2b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1754,2019-04-29T09:47:39Z,2019-04-30T15:19:58Z,2019-04-30T15:20:06Z,CLOSED,False,171,51,10,https://github.com/murlock,[WIP] CI: trigger tests on Jenkins,7,[],https://github.com/open-io/oio-sds/pull/1754,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1754,"SUMMARY
It will add JenkinsFile to allow tests on Jenkins
To achieve it, the dependencies install and build was moved in dedicated script: it will avoid duplicate dependencies and help to run external repository using oio-sds.
Fixes #QA-15
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CI","SUMMARY
It will add JenkinsFile to allow tests on Jenkins
To achieve it, the dependencies install and build was moved in dedicated script: it will avoid duplicate dependencies and help to run external repository using oio-sds.
Fixes #QA-15
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CI",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1754,2019-04-29T09:47:39Z,2019-04-30T15:19:58Z,2019-04-30T15:20:06Z,CLOSED,False,171,51,10,https://github.com/murlock,[WIP] CI: trigger tests on Jenkins,7,[],https://github.com/open-io/oio-sds/pull/1754,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/1754#issuecomment-487995107,"SUMMARY
It will add JenkinsFile to allow tests on Jenkins
To achieve it, the dependencies install and build was moved in dedicated script: it will avoid duplicate dependencies and help to run external repository using oio-sds.
Fixes #QA-15
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
CI","Closed, a new PR will be added because:

Jenkins tries to build branch and PR at same time
We should try to factorize build for parallel jobs",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1755,2019-04-30T17:15:46Z,2019-05-07T12:37:53Z,2019-05-07T12:41:16Z,MERGED,True,669,481,18,https://github.com/AymericDu,Improve Admin CLI,10,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1755,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1755,"SUMMARY

Limit speed of distributed dispatcher
Use the same column Errors to display the errors
Fail the command if there is at least one error
Set the default verbose level to INFO
Use common mixin

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a2.dev20","SUMMARY

Limit speed of distributed dispatcher
Use the same column Errors to display the errors
Fail the command if there is at least one error
Set the default verbose level to INFO
Use common mixin

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a2.dev20",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1755,2019-04-30T17:15:46Z,2019-05-07T12:37:53Z,2019-05-07T12:41:16Z,MERGED,True,669,481,18,https://github.com/AymericDu,Improve Admin CLI,10,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1755,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1755#issuecomment-489648676,"SUMMARY

Limit speed of distributed dispatcher
Use the same column Errors to display the errors
Fail the command if there is at least one error
Set the default verbose level to INFO
Use common mixin

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a2.dev20","Codecov Report

Merging #1755 into master will decrease coverage by 0.07%.
The diff coverage is 39.52%.


@@            Coverage Diff             @@
##           master    #1755      +/-   ##
==========================================
- Coverage   79.21%   79.15%   -0.06%     
==========================================
  Files         379      379              
  Lines       69886    69981      +95     
  Branches     6876     6876              
==========================================
+ Hits        55355    55387      +32     
- Misses      14330    14393      +63     
  Partials      201      201



Impacted Files
Coverage Δ





oio/crawler/integrity.py
69.81% <ø> (+1.23%)
⬆️


tests/functional/cli/admin/test_service_decache.py
85.42% <0%> (+4.17%)
⬆️


oio/common/tool.py
24.3% <0%> (-1.19%)
⬇️


oio/cli/common/shell.py
80.44% <100%> (+3.43%)
⬆️


oio/cli/admin/__init__.py
84.22% <100%> (-5.78%)
⬇️


oio/cli/admin/item_check.py
33.34% <28%> (+3.08%)
⬆️


oio/cli/admin/common.py
28.58% <31.65%> (+1.65%)
⬆️


tests/functional/cli/admin/test_item_move.py
29.68% <33.34%> (+0.33%)
⬆️


oio/cli/admin/service_check.py
70.95% <65.63%> (-1.11%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-4.93%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 26e08f6...8619a5b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1756,2019-05-02T14:35:58Z,2019-05-03T09:22:19Z,2020-01-09T07:34:27Z,MERGED,True,32,21,4,https://github.com/murlock,CI: enhance wait_for_event,2,[],https://github.com/open-io/oio-sds/pull/1756,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1756,"SUMMARY
During test on Travis, some tests were waiting specific events but previous events were used.
We can now add more filter to wait the wanted event.
The single and webhook testsuite was merged
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
tests
SDS VERSION
5.0.0.0a2.dev17","SUMMARY
During test on Travis, some tests were waiting specific events but previous events were used.
We can now add more filter to wait the wanted event.
The single and webhook testsuite was merged
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
tests
SDS VERSION
5.0.0.0a2.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1756,2019-05-02T14:35:58Z,2019-05-03T09:22:19Z,2020-01-09T07:34:27Z,MERGED,True,32,21,4,https://github.com/murlock,CI: enhance wait_for_event,2,[],https://github.com/open-io/oio-sds/pull/1756,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1756#issuecomment-489017151,"SUMMARY
During test on Travis, some tests were waiting specific events but previous events were used.
We can now add more filter to wait the wanted event.
The single and webhook testsuite was merged
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
tests
SDS VERSION
5.0.0.0a2.dev17","Codecov Report

Merging #1756 into master will increase coverage by 0.09%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##           master    #1756      +/-   ##
==========================================
+ Coverage    79.2%   79.29%   +0.09%     
==========================================
  Files         379      379              
  Lines       69960    69968       +8     
  Branches     6917     6917              
==========================================
+ Hits        55405    55471      +66     
+ Misses      14353    14296      -57     
+ Partials      202      201       -1



Impacted Files
Coverage Δ





tests/functional/api/test_objectstorage.py
97.23% <100%> (ø)
⬆️


tests/utils.py
94.93% <100%> (+1.05%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


tests/functional/cli/admin/test_service_decache.py
81.25% <0%> (-4.16%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.09%)
⬇️


oio/account/backend.py
81.25% <0%> (-2.67%)
⬇️


oio/blob/indexer.py
68.43% <0%> (-1.5%)
⬇️


sqliterepo/gridd_client_pool.c
80.71% <0%> (-1.31%)
⬇️


server/slab.c
83.77% <0%> (-1.29%)
⬇️


oio/conscience/client.py
85.55% <0%> (-1.2%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c8080a8...cd75cf6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1757,2019-05-03T08:27:56Z,2019-05-06T12:52:00Z,2019-05-06T12:52:00Z,CLOSED,False,251,101,19,https://github.com/jfsmig,ci: Introduce Docker-based tests,4,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1757,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1757,"SUMMARY

Provide a CircleCI configuration, currently only running the fail-fast and unit tests.
Currently builds on a Ubuntu 18.04 Bionic
Move the CI scripts into the ci/ subdirectory.

TODO: rely on a custom image instead of a base ubuntu
ISSUE TYPE
enhancement
COMPONENT NAME
ci
SDS VERSION
openio 5.0.0.0a2.dev20","SUMMARY

Provide a CircleCI configuration, currently only running the fail-fast and unit tests.
Currently builds on a Ubuntu 18.04 Bionic
Move the CI scripts into the ci/ subdirectory.

TODO: rely on a custom image instead of a base ubuntu
ISSUE TYPE
enhancement
COMPONENT NAME
ci
SDS VERSION
openio 5.0.0.0a2.dev20",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1758,2019-05-03T08:41:43Z,2019-05-17T08:48:50Z,2019-05-17T08:49:01Z,MERGED,True,18,17,5,https://github.com/murlock,Rename all-requirements.txt to requirements.txt,1,[],https://github.com/open-io/oio-sds/pull/1758,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1758,"SUMMARY
The rename is necessary for command pip install git+git://...
to install dependencies.
A symbolic link has been added to avoid to break tools or CI that
compile SDS.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
test
SDS VERSION
openio 5.0.0.0a2.dev17","SUMMARY
The rename is necessary for command pip install git+git://...
to install dependencies.
A symbolic link has been added to avoid to break tools or CI that
compile SDS.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
test
SDS VERSION
openio 5.0.0.0a2.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1759,2019-05-03T09:25:26Z,2019-05-06T08:52:19Z,2019-05-06T08:53:05Z,MERGED,True,3,487,8,https://github.com/jfsmig,Remove obsolete legacy tools | BREAKING CHANGE,4,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1759,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1759,"*** BREAKING CHANGE ***
SUMMARY

Remove oio-cluster, oio-unlock-all
Stop installing oio-gdb.py, only used by the ci/
Adapt the tests

ISSUE TYPE
enhancement
COMPONENT NAME
cluster, ci
SDS VERSION
openio 5.0.0.0a2.dev22","*** BREAKING CHANGE ***
SUMMARY

Remove oio-cluster, oio-unlock-all
Stop installing oio-gdb.py, only used by the ci/
Adapt the tests

ISSUE TYPE
enhancement
COMPONENT NAME
cluster, ci
SDS VERSION
openio 5.0.0.0a2.dev22",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1760,2019-05-03T10:26:14Z,2019-05-06T11:50:17Z,2019-05-06T14:36:54Z,MERGED,True,55,89,4,https://github.com/AymericDu,Remove 'openio-admin container touch',3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1760,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1760,"SUMMARY

Allow to reduce the repairs of a container
Remove 'openio-admin container touch'

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a2.dev23","SUMMARY

Allow to reduce the repairs of a container
Remove 'openio-admin container touch'

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a2.dev23",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1760,2019-05-03T10:26:14Z,2019-05-06T11:50:17Z,2019-05-06T14:36:54Z,MERGED,True,55,89,4,https://github.com/AymericDu,Remove 'openio-admin container touch',3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1760,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1760#issuecomment-489534372,"SUMMARY

Allow to reduce the repairs of a container
Remove 'openio-admin container touch'

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.0a2.dev23","Codecov Report

Merging #1760 into master will increase coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1760      +/-   ##
==========================================
+ Coverage   79.27%   79.27%   +0.01%     
==========================================
  Files         379      379              
  Lines       69968    69968              
  Branches     6917     6917              
==========================================
+ Hits        55461    55463       +2     
+ Misses      14305    14304       -1     
+ Partials      202      201       -1



Impacted Files
Coverage Δ





oio/account/client.py
81.61% <0%> (-5.74%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-4.93%)
⬇️


oio/account/backend.py
79.92% <0%> (-1.78%)
⬇️


oio/conscience/client.py
84.34% <0%> (-1.2%)
⬇️


tests/functional/container/test_replication.py
80.46% <0%> (-1.14%)
⬇️


proxy/metacd_http.c
89.94% <0%> (-1.1%)
⬇️


meta2v2/meta2_filters_extract.c
90.66% <0%> (-0.93%)
⬇️


metautils/lib/utils_sockets.c
42.31% <0%> (-0.76%)
⬇️


metautils/lib/utils_resolv.c
64.45% <0%> (-0.74%)
⬇️


oio/blob/client.py
93.2% <0%> (-0.68%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 43a7e56...66622fa. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1761,2019-05-03T13:46:47Z,2019-05-06T14:19:26Z,2019-05-13T08:07:45Z,MERGED,True,143,83,6,https://github.com/fvennetier,Integrity crawler improvements,5,[],https://github.com/open-io/oio-sds/pull/1761,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1761,"SUMMARY
Bring various improvements to oio-crawler-integrity, required to make it a daemon later.

Allow it to check all accounts.
Fix concurrency issues.
Load LbClient from ConscienceClient only when necessary.
Refactor Tool class a little.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI
oio-crawler-integrity

SDS VERSION
openio 5.0.0.0a2.dev24","SUMMARY
Bring various improvements to oio-crawler-integrity, required to make it a daemon later.

Allow it to check all accounts.
Fix concurrency issues.
Load LbClient from ConscienceClient only when necessary.
Refactor Tool class a little.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI
oio-crawler-integrity

SDS VERSION
openio 5.0.0.0a2.dev24",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1762,2019-05-03T17:09:36Z,2019-05-17T16:01:18Z,2019-05-17T16:01:22Z,MERGED,True,580,159,9,https://github.com/fvennetier,Investigate load-balancing issues,5,[],https://github.com/open-io/oio-sds/pull/1762,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1762,"SUMMARY
Investigate load-balancing issues.
Implement a new tool to test pool configurations without a deployed platform.
Jira: OS-369
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

LB

SDS VERSION
openio 5.0.0.0a2.dev21","SUMMARY
Investigate load-balancing issues.
Implement a new tool to test pool configurations without a deployed platform.
Jira: OS-369
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

LB

SDS VERSION
openio 5.0.0.0a2.dev21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1762,2019-05-03T17:09:36Z,2019-05-17T16:01:18Z,2019-05-17T16:01:22Z,MERGED,True,580,159,9,https://github.com/fvennetier,Investigate load-balancing issues,5,[],https://github.com/open-io/oio-sds/pull/1762,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1762#issuecomment-489347969,"SUMMARY
Investigate load-balancing issues.
Implement a new tool to test pool configurations without a deployed platform.
Jira: OS-369
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

LB

SDS VERSION
openio 5.0.0.0a2.dev21","Codecov Report

Merging #1762 into 4.4.x will increase coverage by 0.02%.
The diff coverage is 91.72%.


@@            Coverage Diff             @@
##            4.4.x    #1762      +/-   ##
==========================================
+ Coverage   79.83%   79.85%   +0.02%     
==========================================
  Files         371      372       +1     
  Lines       68750    68806      +56     
  Branches     6954     6957       +3     
==========================================
+ Hits        54880    54936      +56     
- Misses      13766    13767       +1     
+ Partials      104      103       -1



Impacted Files
Coverage Δ





tests/unit/test_lb.c
98.69% <100%> (+1.07%)
⬆️


metautils/lib/lrutree.c
96.51% <100%> (ø)
⬆️


core/lb.c
89.5% <100%> (ø)
⬆️


tools/oio-lb-benchmark.c
84.1% <84.1%> (ø)



metautils/lib/lb.c
93.24% <94.06%> (+0.79%)
⬆️


oio/conscience/client.py
78.49% <0%> (-8.86%)
⬇️


oio/common/http_urllib3.py
86.12% <0%> (-2.77%)
⬇️


oio/account/backend.py
79.47% <0%> (-2.23%)
⬇️


oio/directory/meta1.py
88.51% <0%> (-1.14%)
⬇️


oio/api/object_storage.py
81.47% <0%> (-1.04%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 611f532...78680d6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1762,2019-05-03T17:09:36Z,2019-05-17T16:01:18Z,2019-05-17T16:01:22Z,MERGED,True,580,159,9,https://github.com/fvennetier,Investigate load-balancing issues,5,[],https://github.com/open-io/oio-sds/pull/1762,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/1762#issuecomment-493361547,"SUMMARY
Investigate load-balancing issues.
Implement a new tool to test pool configurations without a deployed platform.
Jira: OS-369
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

LB

SDS VERSION
openio 5.0.0.0a2.dev21","Could you add your new tool in CI?

A basic test is now run with the unit tests. The tool should be visible in coverage report.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1763,2019-05-06T09:16:07Z,2019-05-06T14:19:08Z,2019-05-15T12:17:33Z,MERGED,True,1,1,1,https://github.com/kamel-rahim,Meta2: Set `container_new` to the right tube,1,[],https://github.com/open-io/oio-sds/pull/1763,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1763,"SUMMARY

Set container_new to oio_meta2_tube_container_new

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

SDS VERSION

openio 5.0.0.0a2.dev18","SUMMARY

Set container_new to oio_meta2_tube_container_new

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

SDS VERSION

openio 5.0.0.0a2.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1763,2019-05-06T09:16:07Z,2019-05-06T14:19:08Z,2019-05-15T12:17:33Z,MERGED,True,1,1,1,https://github.com/kamel-rahim,Meta2: Set `container_new` to the right tube,1,[],https://github.com/open-io/oio-sds/pull/1763,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1763#issuecomment-489597520,"SUMMARY

Set container_new to oio_meta2_tube_container_new

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

SDS VERSION

openio 5.0.0.0a2.dev18","Codecov Report

❗ No coverage uploaded for pull request base (master@708d836). Click here to learn what that means.
The diff coverage is 100%.


@@            Coverage Diff            @@
##             master    #1763   +/-   ##
=========================================
  Coverage          ?   79.21%           
=========================================
  Files             ?      378           
  Lines             ?    69753           
  Branches          ?     6876           
=========================================
  Hits              ?    55249           
  Misses            ?    14302           
  Partials          ?      202



Impacted Files
Coverage Δ





meta2v2/meta2_backend.c
85.32% <100%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 708d836...879f5d8. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1764,2019-05-06T15:37:04Z,2019-05-07T09:36:19Z,2019-05-07T09:49:14Z,MERGED,True,1,1,1,https://github.com/AymericDu,Prevent installation of urllib3 1.25,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1764,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1764,"SUMMARY
Prevent urllib3 1.25 because some test environments are slower with this version.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.9.dev14","SUMMARY
Prevent urllib3 1.25 because some test environments are slower with this version.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.9.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1764,2019-05-06T15:37:04Z,2019-05-07T09:36:19Z,2019-05-07T09:49:14Z,MERGED,True,1,1,1,https://github.com/AymericDu,Prevent installation of urllib3 1.25,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1764,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1764#issuecomment-490003520,"SUMMARY
Prevent urllib3 1.25 because some test environments are slower with this version.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.9.dev14","Codecov Report

Merging #1764 into 4.2.x will increase coverage by 0.71%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            4.2.x    #1764      +/-   ##
==========================================
+ Coverage   78.89%   79.59%   +0.71%     
==========================================
  Files         340      341       +1     
  Lines       62184    62362     +178     
  Branches     6709     6744      +35     
==========================================
+ Hits        49054    49631     +577     
+ Misses      13130    12731     -399



Impacted Files
Coverage Δ





meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/account/backend.py
80.1% <0%> (-2.71%)
⬇️


meta1v2/meta1_prefixes.c
76.81% <0%> (-2.06%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


sqliterepo/synchro.c
74.21% <0%> (-0.26%)
⬇️


server/transport_gridd.c
78.12% <0%> (ø)
⬆️


core/cs.c
81.09% <0%> (ø)
⬆️


meta0v2/meta0_client.c
43.83% <0%> (ø)



meta2v2/generic.c
74.6% <0%> (+0.17%)
⬆️


cluster/module/server.c
74.14% <0%> (+0.21%)
⬆️


... and 50 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4ca8ed3...d78a54f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1765,2019-05-07T12:25:10Z,2019-05-13T14:33:00Z,2019-05-13T14:40:36Z,MERGED,True,47,18,4,https://github.com/AymericDu,Add some more tests to check chunk hash,2,[],https://github.com/open-io/oio-sds/pull/1765,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1765,"SUMMARY
Add some more tests to check chunk hash
ISSUE TYPE

Test Pull Request

COMPONENT NAME

Go rawx

SDS VERSION
openio 5.0.0.0a2.dev38","SUMMARY
Add some more tests to check chunk hash
ISSUE TYPE

Test Pull Request

COMPONENT NAME

Go rawx

SDS VERSION
openio 5.0.0.0a2.dev38",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1766,2019-05-07T14:35:34Z,2019-05-13T14:33:26Z,2019-05-15T12:18:37Z,MERGED,True,4,0,1,https://github.com/kamel-rahim,Rdir: Free error on missing options,1,[],https://github.com/open-io/oio-sds/pull/1766,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1766,"SUMMARY

Since they are not mandatory we should just free the error.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME


rdir

SDS VERSION

openio 5.0.0.0a2.dev18","SUMMARY

Since they are not mandatory we should just free the error.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME


rdir

SDS VERSION

openio 5.0.0.0a2.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1766,2019-05-07T14:35:34Z,2019-05-13T14:33:26Z,2019-05-15T12:18:37Z,MERGED,True,4,0,1,https://github.com/kamel-rahim,Rdir: Free error on missing options,1,[],https://github.com/open-io/oio-sds/pull/1766,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1766#issuecomment-490207798,"SUMMARY

Since they are not mandatory we should just free the error.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME


rdir

SDS VERSION

openio 5.0.0.0a2.dev18","Codecov Report

Merging #1766 into master will decrease coverage by 0.07%.
The diff coverage is 75%.


@@            Coverage Diff             @@
##           master    #1766      +/-   ##
==========================================
- Coverage   79.21%   79.15%   -0.06%     
==========================================
  Files         379      379              
  Lines       69981    69985       +4     
  Branches     6876     6878       +2     
==========================================
- Hits        55431    55391      -40     
- Misses      14349    14393      +44     
  Partials      201      201



Impacted Files
Coverage Δ





rdir/rdir.c
84.64% <75%> (-0.21%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-4.93%)
⬇️


rawx-apache2/src/rawx_event.c
80.77% <0%> (-3.84%)
⬇️


meta2v2/meta2_filters_action_container.c
59.73% <0%> (-2.77%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/blob/client.py
91.16% <0%> (-2.04%)
⬇️


oio/common/green.py
85.19% <0%> (-1.85%)
⬇️


server/slab.c
84.42% <0%> (-1.29%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 482e114...9a5e72f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1767,2019-05-09T10:01:42Z,2019-05-13T14:33:52Z,2020-01-09T07:34:18Z,MERGED,True,6,2,2,https://github.com/murlock,Few fixes around x-oio-req-id,2,[],https://github.com/open-io/oio-sds/pull/1767,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1767,"SUMMARY
Our Python API was duplicating x-oio-req-id header when sending a request
The GO Rawx was not limited length of req-id to 63 chars and response was replying with deprecated x-trans-id
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
rawx
SDS VERSION
5.0.0.0a2.dev36","SUMMARY
Our Python API was duplicating x-oio-req-id header when sending a request
The GO Rawx was not limited length of req-id to 63 chars and response was replying with deprecated x-trans-id
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
rawx
SDS VERSION
5.0.0.0a2.dev36",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1767,2019-05-09T10:01:42Z,2019-05-13T14:33:52Z,2020-01-09T07:34:18Z,MERGED,True,6,2,2,https://github.com/murlock,Few fixes around x-oio-req-id,2,[],https://github.com/open-io/oio-sds/pull/1767,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1767#issuecomment-491228574,"SUMMARY
Our Python API was duplicating x-oio-req-id header when sending a request
The GO Rawx was not limited length of req-id to 63 chars and response was replying with deprecated x-trans-id
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
rawx
SDS VERSION
5.0.0.0a2.dev36","Codecov Report

Merging #1767 into master will decrease coverage by 0.07%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##           master    #1767      +/-   ##
==========================================
- Coverage   79.21%   79.15%   -0.06%     
==========================================
  Files         379      379              
  Lines       69981    69983       +2     
  Branches     6876     6877       +1     
==========================================
- Hits        55431    55390      -41     
- Misses      14349    14389      +40     
- Partials      201      204       +3



Impacted Files
Coverage Δ





oio/api/base.py
87.76% <100%> (-2.04%)
⬇️


rawx/rawx.go
82.15% <33.34%> (-3.04%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


oio/ecd/app.py
60.12% <0%> (-6.54%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


tests/functional/cli/admin/test_service_decache.py
81.25% <0%> (-4.16%)
⬇️


rawx-apache2/src/rawx_event.c
80.77% <0%> (-3.84%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


metautils/lib/rrd.c
74.36% <0%> (-2.56%)
⬇️


oio/blob/client.py
91.16% <0%> (-2.04%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 482e114...6b7a920. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1768,2019-05-09T13:42:48Z,2019-05-13T14:34:45Z,2020-01-09T07:34:16Z,MERGED,True,15,7,2,https://github.com/murlock,crawler: provide informations from rdir to integrity crawler,1,[],https://github.com/open-io/oio-sds/pull/1768,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1768,"SUMMARY
When openio-admin rawx check finds a chunk indexed in rdir but missing from the rawx service, the process stops.
This commit enriches the output with information retrieved from rdir.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
openio 5.0.0.0b0","SUMMARY
When openio-admin rawx check finds a chunk indexed in rdir but missing from the rawx service, the process stops.
This commit enriches the output with information retrieved from rdir.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
openio 5.0.0.0b0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1768,2019-05-09T13:42:48Z,2019-05-13T14:34:45Z,2020-01-09T07:34:16Z,MERGED,True,15,7,2,https://github.com/murlock,crawler: provide informations from rdir to integrity crawler,1,[],https://github.com/open-io/oio-sds/pull/1768,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/1768#issuecomment-490945781,"SUMMARY
When openio-admin rawx check finds a chunk indexed in rdir but missing from the rawx service, the process stops.
This commit enriches the output with information retrieved from rdir.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
openio 5.0.0.0b0","Please note that openio-admin chunk check is not fixed with this PR:
we should add a step to search on rdir the cid and contentid`",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1768,2019-05-09T13:42:48Z,2019-05-13T14:34:45Z,2020-01-09T07:34:16Z,MERGED,True,15,7,2,https://github.com/murlock,crawler: provide informations from rdir to integrity crawler,1,[],https://github.com/open-io/oio-sds/pull/1768,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1768#issuecomment-491225602,"SUMMARY
When openio-admin rawx check finds a chunk indexed in rdir but missing from the rawx service, the process stops.
This commit enriches the output with information retrieved from rdir.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
openio 5.0.0.0b0","Codecov Report

Merging #1768 into master will decrease coverage by 0.09%.
The diff coverage is 20%.


@@            Coverage Diff             @@
##           master    #1768      +/-   ##
==========================================
- Coverage   79.21%   79.13%   -0.08%     
==========================================
  Files         379      379              
  Lines       69981    69986       +5     
  Branches     6876     6876              
==========================================
- Hits        55431    55376      -55     
- Misses      14349    14408      +59     
- Partials      201      202       +1



Impacted Files
Coverage Δ





oio/cli/admin/service_check.py
71.51% <ø> (ø)
⬆️


oio/crawler/integrity.py
68.2% <20%> (-1.8%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-4.93%)
⬇️


rawx-apache2/src/rawx_event.c
80.77% <0%> (-3.84%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.09%)
⬇️


meta2v2/meta2_filters_action_container.c
59.73% <0%> (-2.77%)
⬇️


metautils/lib/rrd.c
74.36% <0%> (-2.56%)
⬇️


oio/blob/client.py
91.16% <0%> (-2.04%)
⬇️


server/slab.c
83.77% <0%> (-1.94%)
⬇️


... and 31 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 482e114...3ebd6a3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1769,2019-05-09T15:00:46Z,2019-05-31T12:28:53Z,2019-05-31T12:28:53Z,MERGED,True,136,9,2,https://github.com/kamel-rahim,Add some tests for `openio-admin <item> locate` ,3,[],https://github.com/open-io/oio-sds/pull/1769,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1769,"SUMMARY

Add some tests for openio-admin <item> locate.

ISSUE TYPE


Feature Pull Request

COMPONENT NAME


CLI

SDS VERSION

openio 5.0.0.0b1.dev2","SUMMARY

Add some tests for openio-admin <item> locate.

ISSUE TYPE


Feature Pull Request

COMPONENT NAME


CLI

SDS VERSION

openio 5.0.0.0b1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1769,2019-05-09T15:00:46Z,2019-05-31T12:28:53Z,2019-05-31T12:28:53Z,MERGED,True,136,9,2,https://github.com/kamel-rahim,Add some tests for `openio-admin <item> locate` ,3,[],https://github.com/open-io/oio-sds/pull/1769,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1769#issuecomment-491854299,"SUMMARY

Add some tests for openio-admin <item> locate.

ISSUE TYPE


Feature Pull Request

COMPONENT NAME


CLI

SDS VERSION

openio 5.0.0.0b1.dev2","Codecov Report

Merging #1769 into master will increase coverage by 0.05%.
The diff coverage is 67.09%.


@@            Coverage Diff             @@
##           master    #1769      +/-   ##
==========================================
+ Coverage   79.16%   79.21%   +0.05%     
==========================================
  Files         380      381       +1     
  Lines       70707    70787      +80     
  Branches     6887     6887              
==========================================
+ Hits        55971    56068      +97     
+ Misses      14541    14524      -17     
  Partials      195      195



Impacted Files
Coverage Δ





tests/functional/cli/admin/test_item_locate.py
67.09% <67.09%> (ø)



meta2v2/meta2_server.c
79.07% <0%> (-2.32%)
⬇️


oio/account/client.py
81.61% <0%> (-1.14%)
⬇️


meta2v2/meta2_filters_action_container.c
60.77% <0%> (-1.04%)
⬇️


metautils/lib/utils_resolv.c
64.45% <0%> (-0.74%)
⬇️


oio/blob/client.py
90% <0%> (-0.66%)
⬇️


oio/crawler/integrity.py
66.49% <0%> (-0.54%)
⬇️


oio/api/replication.py
78.08% <0%> (-0.53%)
⬇️


metautils/lib/gridd_client.c
75.5% <0%> (-0.49%)
⬇️


oio/directory/meta2.py
68.36% <0%> (-0.39%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 49268e4...a7f049d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1771,2019-05-13T17:18:06Z,2019-05-15T15:32:27Z,2019-05-15T15:32:30Z,MERGED,True,76,22,5,https://github.com/fvennetier,Python API: recompute deadline after data upload success,2,[],https://github.com/open-io/oio-sds/pull/1771,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1771,"SUMMARY
At some point in the upload process, we know that the metadata server is fine (it provided us with chunk addresses) and the client is still listening (he just uploaded all data). It seems a good idea to postpone the deadline (because it is computed from the client-provided timeout).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.0.0.0b1.dev7

ADDITIONAL INFORMATION
This modification will allow slow uploads to take longer than read_timeout, provided the client is still sending data from time to time.","SUMMARY
At some point in the upload process, we know that the metadata server is fine (it provided us with chunk addresses) and the client is still listening (he just uploaded all data). It seems a good idea to postpone the deadline (because it is computed from the client-provided timeout).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.0.0.0b1.dev7

ADDITIONAL INFORMATION
This modification will allow slow uploads to take longer than read_timeout, provided the client is still sending data from time to time.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1771,2019-05-13T17:18:06Z,2019-05-15T15:32:27Z,2019-05-15T15:32:30Z,MERGED,True,76,22,5,https://github.com/fvennetier,Python API: recompute deadline after data upload success,2,[],https://github.com/open-io/oio-sds/pull/1771,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1771#issuecomment-492329768,"SUMMARY
At some point in the upload process, we know that the metadata server is fine (it provided us with chunk addresses) and the client is still listening (he just uploaded all data). It seems a good idea to postpone the deadline (because it is computed from the client-provided timeout).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.0.0.0b1.dev7

ADDITIONAL INFORMATION
This modification will allow slow uploads to take longer than read_timeout, provided the client is still sending data from time to time.","Codecov Report

Merging #1771 into master will decrease coverage by 0.01%.
The diff coverage is 86.85%.


@@            Coverage Diff             @@
##           master    #1771      +/-   ##
==========================================
- Coverage   79.19%   79.19%   -<.01%     
==========================================
  Files         379      379              
  Lines       70001    70023      +22     
  Branches     6878     6879       +1     
==========================================
+ Hits        55428    55445      +17     
- Misses      14370    14376       +6     
+ Partials      203      202       -1



Impacted Files
Coverage Δ





oio/common/utils.py
70.43% <100%> (+2.48%)
⬆️


tests/unit/api/test_utils.py
100% <100%> (ø)
⬆️


oio/api/object_storage.py
83.11% <50%> (+0.13%)
⬆️


oio/api/io.py
85.98% <71.43%> (-0.19%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


oio/ecd/app.py
60.12% <0%> (-5.95%)
⬇️


oio/conscience/client.py
83.91% <0%> (-4.59%)
⬇️


server/slab.c
83.77% <0%> (-1.29%)
⬇️


metautils/lib/utils_sockets.c
42.31% <0%> (-1.15%)
⬇️


meta2v2/meta2_filters_action_container.c
59.73% <0%> (-1.04%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e83bfe2...44f44e8. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1772,2019-05-14T09:08:19Z,2019-05-17T09:20:10Z,2019-05-17T09:20:10Z,MERGED,True,33,7,5,https://github.com/kamel-rahim,CLI: Repair corrupted chunk,4,[],https://github.com/open-io/oio-sds/pull/1772,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1772,"SUMMARY

Repair corrupted chunk

ISSUE TYPE


Feature Pull Request

COMPONENT NAME


CLI

SDS VERSION

openio 5.0.0.0b1.dev3","SUMMARY

Repair corrupted chunk

ISSUE TYPE


Feature Pull Request

COMPONENT NAME


CLI

SDS VERSION

openio 5.0.0.0b1.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1772,2019-05-14T09:08:19Z,2019-05-17T09:20:10Z,2019-05-17T09:20:10Z,MERGED,True,33,7,5,https://github.com/kamel-rahim,CLI: Repair corrupted chunk,4,[],https://github.com/open-io/oio-sds/pull/1772,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1772#issuecomment-492970438,"SUMMARY

Repair corrupted chunk

ISSUE TYPE


Feature Pull Request

COMPONENT NAME


CLI

SDS VERSION

openio 5.0.0.0b1.dev3","Codecov Report

Merging #1772 into master will increase coverage by 0.01%.
The diff coverage is 93.34%.


@@            Coverage Diff             @@
##           master    #1772      +/-   ##
==========================================
+ Coverage   79.19%   79.19%   +0.01%     
==========================================
  Files         379      379              
  Lines       70001    70015      +14     
  Branches     6878     6883       +5     
==========================================
+ Hits        55428    55441      +13     
- Misses      14370    14374       +4     
+ Partials      203      200       -3



Impacted Files
Coverage Δ





rawx-apache2/src/rawx_repository.c
57.09% <100%> (-0.55%)
⬇️


rawx-apache2/src/rawx_repo_core.c
80.99% <100%> (+0.08%)
⬆️


tests/functional/blob/test_blob.py
99.34% <100%> (+0.01%)
⬆️


oio/common/exceptions.py
94.08% <66.67%> (-0.55%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/account/backend.py
79.47% <0%> (-5.8%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-4.12%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/crawler/integrity.py
68.2% <0%> (-1.71%)
⬇️


meta2v2/meta2_filters_action_content.c
92.58% <0%> (-1.23%)
⬇️


... and 46 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e83bfe2...700b248. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1773,2019-05-14T09:14:25Z,2019-05-14T13:59:56Z,2019-05-14T14:00:15Z,MERGED,True,3,5,1,https://github.com/AymericDu,Do not lock/unlock meta1 scores before bootstrap,1,[],https://github.com/open-io/oio-sds/pull/1773,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1773,"SUMMARY
Do not lock/unlock meta1 scores before bootstrap
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-reset.sh

SDS VERSION
openio 4.2.9.dev15","SUMMARY
Do not lock/unlock meta1 scores before bootstrap
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-reset.sh

SDS VERSION
openio 4.2.9.dev15",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1773,2019-05-14T09:14:25Z,2019-05-14T13:59:56Z,2019-05-14T14:00:15Z,MERGED,True,3,5,1,https://github.com/AymericDu,Do not lock/unlock meta1 scores before bootstrap,1,[],https://github.com/open-io/oio-sds/pull/1773,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1773#issuecomment-492191391,"SUMMARY
Do not lock/unlock meta1 scores before bootstrap
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-reset.sh

SDS VERSION
openio 4.2.9.dev15","Codecov Report

Merging #1773 into 4.2.x will increase coverage by 0.09%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##            4.2.x   #1773      +/-   ##
=========================================
+ Coverage   79.52%   79.6%   +0.09%     
=========================================
  Files         341     341              
  Lines       62362   62362              
  Branches     6744    6744              
=========================================
+ Hits        49588   49638      +50     
+ Misses      12774   12724      -50



Impacted Files
Coverage Δ





metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


oio/blob/client.py
91.04% <0%> (-1.37%)
⬇️


meta2v2/meta2_filters_action_container.c
58.87% <0%> (-1.06%)
⬇️


sqliterepo/election.c
89.55% <0%> (-0.65%)
⬇️


oio/ecd/app.py
58.93% <0%> (-0.59%)
⬇️


rawx-lib/src/attr_handler.c
69.05% <0%> (-0.47%)
⬇️


core/cs.c
81.09% <0%> (-0.45%)
⬇️


metautils/lib/gridd_client_ext.c
79.86% <0%> (-0.37%)
⬇️


sqliterepo/repository.c
72.2% <0%> (-0.31%)
⬇️


sqliterepo/synchro.c
74.21% <0%> (-0.26%)
⬇️


... and 19 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 587e077...d5e34b2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1774,2019-05-14T18:03:12Z,2019-05-17T09:23:53Z,2019-05-17T10:22:29Z,MERGED,True,1413,18,7,https://github.com/AymericDu,Test 'openio-admin <item> check',6,[],https://github.com/open-io/oio-sds/pull/1774,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1774,"SUMMARY

Test 'openio-admin account check'
Test 'openio-admin container check'
Test 'openio-admin object check'
Test 'openio-admin chunk check'
Allow to recover object meta when checking a missing chunk

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev13","SUMMARY

Test 'openio-admin account check'
Test 'openio-admin container check'
Test 'openio-admin object check'
Test 'openio-admin chunk check'
Allow to recover object meta when checking a missing chunk

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev13",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1774,2019-05-14T18:03:12Z,2019-05-17T09:23:53Z,2019-05-17T10:22:29Z,MERGED,True,1413,18,7,https://github.com/AymericDu,Test 'openio-admin <item> check',6,[],https://github.com/open-io/oio-sds/pull/1774,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1774#issuecomment-492699011,"SUMMARY

Test 'openio-admin account check'
Test 'openio-admin container check'
Test 'openio-admin object check'
Test 'openio-admin chunk check'
Allow to recover object meta when checking a missing chunk

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev13","Codecov Report

Merging #1774 into master will decrease coverage by 0.3%.
The diff coverage is 68.95%.


@@            Coverage Diff             @@
##           master    #1774      +/-   ##
==========================================
- Coverage   79.19%   78.89%   -0.29%     
==========================================
  Files         379      380       +1     
  Lines       70001    70585     +584     
  Branches     6878     6878              
==========================================
+ Hits        55428    55679     +251     
- Misses      14370    14704     +334     
+ Partials      203      202       -1



Impacted Files
Coverage Δ





oio/cli/admin/common.py
28.29% <0%> (-0.28%)
⬇️


oio/blob/converter.py
81.33% <0%> (ø)
⬆️


tests/functional/cli/__init__.py
100% <100%> (ø)
⬆️


tests/functional/cli/admin/test_item_move.py
29.35% <33.34%> (-0.32%)
⬇️


oio/crawler/integrity.py
67.04% <47.83%> (-2.87%)
⬇️


tests/functional/cli/admin/test_item_check.py
69.92% <69.92%> (ø)



tests/functional/content/test_service_id.py
25.45% <0%> (-54.43%)
⬇️


oio/blob/cache.py
67.86% <0%> (-25%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


... and 34 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e83bfe2...e06afc0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1775,2019-05-16T11:56:46Z,2019-06-03T13:21:21Z,2019-06-03T13:24:01Z,MERGED,True,142,29,6,https://github.com/AymericDu,"Add some tests for 'openio-admin <service> {g,s}et-config' ",4,[],https://github.com/open-io/oio-sds/pull/1775,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1775,"SUMMARY

Specify the result for each key when setting config
Add some tests for openio-admin <service> {g,s}et-config

ISSUE TYPE

Test Pull Request

COMPONENT NAME

proxy
metaX
Python API
Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev15","SUMMARY

Specify the result for each key when setting config
Add some tests for openio-admin <service> {g,s}et-config

ISSUE TYPE

Test Pull Request

COMPONENT NAME

proxy
metaX
Python API
Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev15",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1775,2019-05-16T11:56:46Z,2019-06-03T13:21:21Z,2019-06-03T13:24:01Z,MERGED,True,142,29,6,https://github.com/AymericDu,"Add some tests for 'openio-admin <service> {g,s}et-config' ",4,[],https://github.com/open-io/oio-sds/pull/1775,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1775#issuecomment-493058954,"SUMMARY

Specify the result for each key when setting config
Add some tests for openio-admin <service> {g,s}et-config

ISSUE TYPE

Test Pull Request

COMPONENT NAME

proxy
metaX
Python API
Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev15","Codecov Report

Merging #1775 into master will increase coverage by 1.9%.
The diff coverage is 60.57%.


@@            Coverage Diff            @@
##           master    #1775     +/-   ##
=========================================
+ Coverage   77.27%   79.16%   +1.9%     
=========================================
  Files         363      383     +20     
  Lines       68551    70882   +2331     
  Branches     6843     6889     +46     
=========================================
+ Hits        52966    56110   +3144     
+ Misses      15487    14577    -910     
- Partials       98      195     +97



Impacted Files
Coverage Δ





oio/directory/admin.py
66.67% <100%> (+16.67%)
⬆️


server/transport_gridd.c
77.98% <100%> (+0.23%)
⬆️


tests/functional/cli/admin/test_service_config.py
65% <65%> (ø)



proxy/cache_actions.c
76.75% <75%> (+0.33%)
⬆️


tests/functional/cli/admin/test_item_move.py
27.18% <8.34%> (-2.17%)
⬇️


oio/account/backend.py
79.92% <0%> (ø)
⬆️


core/tool_sdk.c
69.52% <0%> (ø)



rawx/chunk_info.go
81.55% <0%> (ø)



rawx/handler_stat.go
85.11% <0%> (ø)



rawx/notifier.go
70.59% <0%> (ø)



... and 120 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7278c10...b34c1cc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1776,2019-05-16T12:03:05Z,2019-05-21T13:52:58Z,2019-05-23T14:49:10Z,MERGED,True,59,68,3,https://github.com/AymericDu,Improve the service resolver,1,[],https://github.com/open-io/oio-sds/pull/1776,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1776,"SUMMARY
Share and improve the class to resolve the service IDs.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.3.dev11","SUMMARY
Share and improve the class to resolve the service IDs.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.3.dev11",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1776,2019-05-16T12:03:05Z,2019-05-21T13:52:58Z,2019-05-23T14:49:10Z,MERGED,True,59,68,3,https://github.com/AymericDu,Improve the service resolver,1,[],https://github.com/open-io/oio-sds/pull/1776,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1776#issuecomment-493462564,"SUMMARY
Share and improve the class to resolve the service IDs.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.3.dev11","Codecov Report

Merging #1776 into 4.4.x will decrease coverage by 0.02%.
The diff coverage is 91.18%.


@@            Coverage Diff             @@
##            4.4.x    #1776      +/-   ##
==========================================
- Coverage   79.83%   79.82%   -0.01%     
==========================================
  Files         371      370       -1     
  Lines       68750    68750              
  Branches     6954     6954              
==========================================
- Hits        54880    54870      -10     
- Misses      13766    13776      +10     
  Partials      104      104



Impacted Files
Coverage Δ





oio/blob/client.py
90.42% <100%> (+0.21%)
⬆️


oio/conscience/client.py
82.7% <88.47%> (-4.64%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


server/slab.c
79.88% <0%> (-4.54%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.09%)
⬇️


oio/common/http_urllib3.py
86.12% <0%> (-2.77%)
⬇️


server/network_server.c
84.02% <0%> (-2.64%)
⬇️


oio/account/backend.py
80.36% <0%> (-1.33%)
⬇️


oio/directory/meta1.py
88.51% <0%> (-1.14%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 611f532...302d656. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1777,2019-05-16T15:44:16Z,2019-05-31T12:06:06Z,2019-05-31T12:06:06Z,MERGED,True,73,0,1,https://github.com/kamel-rahim,Add tests to container repair,1,[],https://github.com/open-io/oio-sds/pull/1777,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1777,"SUMMARY

Add tests to container repair

ISSUE TYPE


Tests Pull Request

COMPONENT NAME

SDS VERSION

openio 5.0.0.0b1.dev10","SUMMARY

Add tests to container repair

ISSUE TYPE


Tests Pull Request

COMPONENT NAME

SDS VERSION

openio 5.0.0.0b1.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1777,2019-05-16T15:44:16Z,2019-05-31T12:06:06Z,2019-05-31T12:06:06Z,MERGED,True,73,0,1,https://github.com/kamel-rahim,Add tests to container repair,1,[],https://github.com/open-io/oio-sds/pull/1777,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1777#issuecomment-493454629,"SUMMARY

Add tests to container repair

ISSUE TYPE


Tests Pull Request

COMPONENT NAME

SDS VERSION

openio 5.0.0.0b1.dev10","Codecov Report

Merging #1777 into master will increase coverage by 0.06%.
The diff coverage is 81.82%.


@@            Coverage Diff             @@
##           master    #1777      +/-   ##
==========================================
+ Coverage   79.16%   79.22%   +0.06%     
==========================================
  Files         380      381       +1     
  Lines       70707    70751      +44     
  Branches     6887     6887              
==========================================
+ Hits        55971    56048      +77     
+ Misses      14541    14511      -30     
+ Partials      195      192       -3



Impacted Files
Coverage Δ





tests/functional/cli/admin/test_item_repair.py
81.82% <81.82%> (ø)



tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


meta2v2/meta2_server.c
79.07% <0%> (-2.32%)
⬇️


oio/cli/admin/service_check.py
69.28% <0%> (-2.23%)
⬇️


meta2v2/meta2_filters_action_container.c
60.77% <0%> (-1.04%)
⬇️


meta2v2/meta2_filters_action_content.c
92.58% <0%> (-0.74%)
⬇️


metautils/lib/utils_resolv.c
64.45% <0%> (-0.74%)
⬇️


oio/api/replication.py
78.08% <0%> (-0.53%)
⬇️


metautils/lib/comm_converter.c
72.78% <0%> (-0.52%)
⬇️


... and 34 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 49268e4...5356bdf. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1778,2019-05-16T16:11:15Z,2019-05-23T12:05:15Z,2019-05-23T12:05:20Z,MERGED,True,17,20,5,https://github.com/fvennetier,Do not read conscience persistence file if a hub is running,2,[],https://github.com/open-io/oio-sds/pull/1778,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1778,"SUMMARY
If a hub is running, reinjecting the old conscience state can have nasty effects, like respawning service entries that have been explicitly flushed when the local conscience service was down.
Also remove an sqliterepo parameter that is no more used.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Consicence
sqliterepo

SDS VERSION
openio 4.4.3.dev14","SUMMARY
If a hub is running, reinjecting the old conscience state can have nasty effects, like respawning service entries that have been explicitly flushed when the local conscience service was down.
Also remove an sqliterepo parameter that is no more used.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Consicence
sqliterepo

SDS VERSION
openio 4.4.3.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1778,2019-05-16T16:11:15Z,2019-05-23T12:05:15Z,2019-05-23T12:05:20Z,MERGED,True,17,20,5,https://github.com/fvennetier,Do not read conscience persistence file if a hub is running,2,[],https://github.com/open-io/oio-sds/pull/1778,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1778#issuecomment-494388147,"SUMMARY
If a hub is running, reinjecting the old conscience state can have nasty effects, like respawning service entries that have been explicitly flushed when the local conscience service was down.
Also remove an sqliterepo parameter that is no more used.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Consicence
sqliterepo

SDS VERSION
openio 4.4.3.dev14","This needs a little more work to either:

adapt the failing test to retry a few seconds later;
make the conscience refuse to serve requests until it has fetched a list of services from the other conscience instances.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1778,2019-05-16T16:11:15Z,2019-05-23T12:05:15Z,2019-05-23T12:05:20Z,MERGED,True,17,20,5,https://github.com/fvennetier,Do not read conscience persistence file if a hub is running,2,[],https://github.com/open-io/oio-sds/pull/1778,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1778#issuecomment-495140602,"SUMMARY
If a hub is running, reinjecting the old conscience state can have nasty effects, like respawning service entries that have been explicitly flushed when the local conscience service was down.
Also remove an sqliterepo parameter that is no more used.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Consicence
sqliterepo

SDS VERSION
openio 4.4.3.dev14","Codecov Report

Merging #1778 into 4.4.x will increase coverage by 0.04%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##           4.4.x    #1778      +/-   ##
=========================================
+ Coverage   79.9%   79.94%   +0.04%     
=========================================
  Files        371      371              
  Lines      68836    68842       +6     
  Branches    6961     6963       +2     
=========================================
+ Hits       54996    55026      +30     
+ Misses     13736    13712      -24     
  Partials     104      104



Impacted Files
Coverage Δ





sqliterepo/election.c
89.97% <ø> (ø)
⬇️


cluster/module/server.c
79.98% <100%> (+0.25%)
⬆️


oio/blob/indexer.py
67.43% <0%> (-1.51%)
⬇️


proxy/metacd_http.c
89.93% <0%> (-1.1%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.35% <0%> (-0.91%)
⬇️


sqliterepo/gridd_client_pool.c
81.58% <0%> (-0.87%)
⬇️


metautils/lib/gridd_client.c
75.5% <0%> (-0.49%)
⬇️


proxy/cs_actions.c
89.38% <0%> (-0.36%)
⬇️


server/transport_gridd.c
77.92% <0%> (-0.2%)
⬇️


sqliterepo/replication_dispatcher.c
64.2% <0%> (-0.15%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3efd4c2...5ade0c2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1779,2019-05-16T16:54:15Z,2019-06-03T13:21:45Z,2019-06-03T13:23:09Z,MERGED,True,679,407,17,https://github.com/AymericDu,Implement 'openio-admin chunk [distributed-]rebuild',5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1779,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1779,"SUMMARY

Use mixin for all dispatchers
Implement 'openio-admin chunk [ditributed-]rebuild'

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev12","SUMMARY

Use mixin for all dispatchers
Implement 'openio-admin chunk [ditributed-]rebuild'

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev12",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1779,2019-05-16T16:54:15Z,2019-06-03T13:21:45Z,2019-06-03T13:23:09Z,MERGED,True,679,407,17,https://github.com/AymericDu,Implement 'openio-admin chunk [distributed-]rebuild',5,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1779,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1779#issuecomment-493372182,"SUMMARY

Use mixin for all dispatchers
Implement 'openio-admin chunk [ditributed-]rebuild'

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev12","Codecov Report

Merging #1779 into master will increase coverage by 1.96%.
The diff coverage is 47.2%.


@@            Coverage Diff             @@
##           master    #1779      +/-   ##
==========================================
+ Coverage   77.27%   79.22%   +1.96%     
==========================================
  Files         363      383      +20     
  Lines       68551    70900    +2349     
  Branches     6843     6887      +44     
==========================================
+ Hits        52966    56164    +3198     
+ Misses      15487    14541     -946     
- Partials       98      195      +97



Impacted Files
Coverage Δ





oio/cli/admin/service_check.py
72.78% <0%> (+32.23%)
⬆️


oio/cli/admin/item_check.py
33.34% <0%> (ø)
⬆️


oio/crawler/integrity.py
68.5% <100%> (+3.3%)
⬆️


tests/functional/cli/__init__.py
100% <100%> (ø)
⬆️


tests/functional/cli/admin/test_item_check.py
70.97% <30.84%> (+2.47%)
⬆️


oio/cli/admin/common.py
29.06% <33.34%> (+0.78%)
⬆️


tests/functional/cli/admin/test_item_rebuild.py
87.31% <87.31%> (ø)



core/tool_sdk.c
69.52% <0%> (ø)



rawx/chunk_info.go
81.55% <0%> (ø)



rawx/handler_stat.go
85.11% <0%> (ø)



... and 126 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7278c10...46faeaf. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1781,2019-05-17T13:09:19Z,2019-06-05T08:48:27Z,2019-06-05T08:48:27Z,MERGED,True,67,1,2,https://github.com/kamel-rahim,CLI: test 'meta2 list containers' and 'rawx list containers',1,[],https://github.com/open-io/oio-sds/pull/1781,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1781,"SUMMARY

Test meta2|rawx list containers

ISSUE TYPE


Tests Pull Request

COMPONENT NAME

CLI
SDS VERSION

openio 5.0.0.0b1.dev11","SUMMARY

Test meta2|rawx list containers

ISSUE TYPE


Tests Pull Request

COMPONENT NAME

CLI
SDS VERSION

openio 5.0.0.0b1.dev11",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1781,2019-05-17T13:09:19Z,2019-06-05T08:48:27Z,2019-06-05T08:48:27Z,MERGED,True,67,1,2,https://github.com/kamel-rahim,CLI: test 'meta2 list containers' and 'rawx list containers',1,[],https://github.com/open-io/oio-sds/pull/1781,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1781#issuecomment-493919754,"SUMMARY

Test meta2|rawx list containers

ISSUE TYPE


Tests Pull Request

COMPONENT NAME

CLI
SDS VERSION

openio 5.0.0.0b1.dev11","Codecov Report

Merging #1781 into master will decrease coverage by 0.04%.
The diff coverage is 82.86%.


@@            Coverage Diff             @@
##           master    #1781      +/-   ##
==========================================
- Coverage   79.16%   79.13%   -0.03%     
==========================================
  Files         380      383       +3     
  Lines       70707    70896     +189     
  Branches     6887     6887              
==========================================
+ Hits        55971    56094     +123     
- Misses      14541    14607      +66     
  Partials      195      195



Impacted Files
Coverage Δ





tests/functional/cli/admin/test_service_list.py
82.86% <82.86%> (ø)



tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


meta2v2/meta2_server.c
79.07% <0%> (-2.32%)
⬇️


oio/cli/admin/service_check.py
69.53% <0%> (-1.98%)
⬇️


oio/account/client.py
81.61% <0%> (-1.14%)
⬇️


meta2v2/meta2_filters_action_container.c
60.77% <0%> (-1.04%)
⬇️


meta2v2/meta2_filters_extract.c
90.66% <0%> (-0.93%)
⬇️


oio/blob/client.py
90% <0%> (-0.66%)
⬇️


oio/crawler/integrity.py
66.49% <0%> (-0.54%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 49268e4...59861f5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1782,2019-05-17T17:03:19Z,2019-05-21T13:18:31Z,2019-05-21T13:18:34Z,MERGED,True,106,12,6,https://github.com/fvennetier,sqliterepo: reset MASTER elections on ZOO_SESSION_EVENT,3,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1782,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1782,"SUMMARY
A long time ago, we used to reset all elections on such Zookeeper event. We stopped doing this when we started to use several connections to Zookeeper, because it seemed a bad idea to reset everything on a single connection failure. Unfortunately, this leads to elections staying forever in the same state
while their Zookeeper node has vanished.
Now, after getting an unbound (no path is provided) ZOO_SESSION_EVENT, we will reset all elections in the master state, to avoid any infamous ""double master"" situations.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo
core

SDS VERSION
openio 4.4.4.dev5","SUMMARY
A long time ago, we used to reset all elections on such Zookeeper event. We stopped doing this when we started to use several connections to Zookeeper, because it seemed a bad idea to reset everything on a single connection failure. Unfortunately, this leads to elections staying forever in the same state
while their Zookeeper node has vanished.
Now, after getting an unbound (no path is provided) ZOO_SESSION_EVENT, we will reset all elections in the master state, to avoid any infamous ""double master"" situations.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo
core

SDS VERSION
openio 4.4.4.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1782,2019-05-17T17:03:19Z,2019-05-21T13:18:31Z,2019-05-21T13:18:34Z,MERGED,True,106,12,6,https://github.com/fvennetier,sqliterepo: reset MASTER elections on ZOO_SESSION_EVENT,3,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1782,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1782#issuecomment-493780817,"SUMMARY
A long time ago, we used to reset all elections on such Zookeeper event. We stopped doing this when we started to use several connections to Zookeeper, because it seemed a bad idea to reset everything on a single connection failure. Unfortunately, this leads to elections staying forever in the same state
while their Zookeeper node has vanished.
Now, after getting an unbound (no path is provided) ZOO_SESSION_EVENT, we will reset all elections in the master state, to avoid any infamous ""double master"" situations.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo
core

SDS VERSION
openio 4.4.4.dev5","Codecov Report

Merging #1782 into 4.4.x will increase coverage by 0.27%.
The diff coverage is 97.37%.


@@            Coverage Diff             @@
##            4.4.x    #1782      +/-   ##
==========================================
+ Coverage   79.66%   79.92%   +0.27%     
==========================================
  Files         356      372      +16     
  Lines       67201    68836    +1635     
  Branches     6922     6961      +39     
==========================================
+ Hits        53527    55013    +1486     
- Misses      13674    13719      +45     
- Partials        0      104     +104



Impacted Files
Coverage Δ





sqliterepo/synchro.c
80.43% <100%> (+5.96%)
⬆️


core/ext.c
96.52% <100%> (+0.07%)
⬆️


sqliterepo/election.c
90.08% <96.3%> (+3.07%)
⬆️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


oio/container/client.py
83.83% <0%> (-2.64%)
⬇️


events/oio_events_queue_beanstalkd.c
82.6% <0%> (-1.61%)
⬇️


oio/blob/indexer.py
67.43% <0%> (-1.51%)
⬇️


oio/blob/auditor.py
58.29% <0%> (-1.14%)
⬇️


meta2v2/meta2_bean_utils.c
59% <0%> (-1%)
⬇️


meta2v2/meta2_filters_extract.c
90.66% <0%> (-0.93%)
⬇️


... and 71 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f0938d3...c4ac1d4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1783,2019-05-20T08:45:50Z,2019-05-23T12:05:48Z,2019-05-23T14:45:30Z,MERGED,True,81,46,1,https://github.com/AymericDu,Wait for events when testing the account service,1,[],https://github.com/open-io/oio-sds/pull/1783,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1783,"SUMMARY
Wait for events when testing the account service.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

test

SDS VERSION
openio 4.4.4.dev1","SUMMARY
Wait for events when testing the account service.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

test

SDS VERSION
openio 4.4.4.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1784,2019-05-20T12:04:41Z,2019-06-03T13:22:13Z,2019-06-03T13:24:11Z,MERGED,True,100,8,2,https://github.com/AymericDu,Add some tests for 'openio-admin account-service rebuild',2,[],https://github.com/open-io/oio-sds/pull/1784,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1784,"SUMMARY

Update the docstrings for 'openio-admin  rebuild'
Add some tests for 'openio-admin account-service rebuild'

ISSUE TYPE

Test Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev23","SUMMARY

Update the docstrings for 'openio-admin  rebuild'
Add some tests for 'openio-admin account-service rebuild'

ISSUE TYPE

Test Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev23",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1784,2019-05-20T12:04:41Z,2019-06-03T13:22:13Z,2019-06-03T13:24:11Z,MERGED,True,100,8,2,https://github.com/AymericDu,Add some tests for 'openio-admin account-service rebuild',2,[],https://github.com/open-io/oio-sds/pull/1784,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1784#issuecomment-494044408,"SUMMARY

Update the docstrings for 'openio-admin  rebuild'
Add some tests for 'openio-admin account-service rebuild'

ISSUE TYPE

Test Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b1.dev23","Codecov Report

Merging #1784 into master will increase coverage by 0.4%.
The diff coverage is 91.84%.


@@            Coverage Diff            @@
##           master    #1784     +/-   ##
=========================================
+ Coverage   78.69%   79.08%   +0.4%     
=========================================
  Files         364      381     +17     
  Lines       68816    70648   +1832     
  Branches     6845     6880     +35     
=========================================
+ Hits        54148    55867   +1719     
- Misses      14566    14580     +14     
- Partials      102      201     +99



Impacted Files
Coverage Δ





tests/functional/cli/admin/test_service_rebuild.py
91.84% <91.84%> (ø)



meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-4.93%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.09%)
⬇️


oio/api/object_storage.py
80.9% <0%> (-1.79%)
⬇️


sqliterepo/replication_client.c
63.39% <0%> (-1.4%)
⬇️


meta2v2/meta2_filters_extract.c
90.66% <0%> (-0.93%)
⬇️


sqliterepo/synchro.c
74.21% <0%> (-0.26%)
⬇️


meta2v2/generic.c
73.12% <0%> (-0.15%)
⬇️


server/transport_gridd.c
77.96% <0%> (ø)
⬆️


... and 60 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5646cbb...8914bec. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1785,2019-05-22T08:34:38Z,2019-05-23T12:06:08Z,2019-05-23T12:06:11Z,MERGED,True,73,5,5,https://github.com/fvennetier,"Python API: enable TCP_CORK, avoid buffer copies",2,[],https://github.com/open-io/oio-sds/pull/1785,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1785,"SUMMARY

Enable TCP_CORK on sockets towards rawx services.
Avoid CPU-consuming buffer copies during chunk upload.
Implement profiling facilities in openio CLI.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev10","SUMMARY

Enable TCP_CORK on sockets towards rawx services.
Avoid CPU-consuming buffer copies during chunk upload.
Implement profiling facilities in openio CLI.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1785,2019-05-22T08:34:38Z,2019-05-23T12:06:08Z,2019-05-23T12:06:11Z,MERGED,True,73,5,5,https://github.com/fvennetier,"Python API: enable TCP_CORK, avoid buffer copies",2,[],https://github.com/open-io/oio-sds/pull/1785,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1785#issuecomment-494808038,"SUMMARY

Enable TCP_CORK on sockets towards rawx services.
Avoid CPU-consuming buffer copies during chunk upload.
Implement profiling facilities in openio CLI.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev10","Codecov Report

Merging #1785 into 4.4.x will increase coverage by 0.03%.
The diff coverage is 54%.


@@            Coverage Diff            @@
##           4.4.x    #1785      +/-   ##
=========================================
+ Coverage   79.9%   79.93%   +0.03%     
=========================================
  Files        371      371              
  Lines      68836    68882      +46     
  Branches    6961     6961              
=========================================
+ Hits       54996    55053      +57     
+ Misses     13736    13726      -10     
+ Partials     104      103       -1



Impacted Files
Coverage Δ





oio/common/http_eventlet.py
85.53% <100%> (+0.4%)
⬆️


oio/api/ec.py
93.92% <100%> (+0.04%)
⬆️


oio/api/replication.py
78.65% <100%> (+0.58%)
⬆️


oio/cli/common/shell.py
65.58% <31.25%> (-12.2%)
⬇️


tests/unit/__init__.py
96.04% <75%> (-0.86%)
⬇️


meta2v2/meta2_filters_check.c
70.5% <0%> (-3.27%)
⬇️


sqliterepo/gridd_client_pool.c
81.58% <0%> (-0.87%)
⬇️


core/cs.c
81.09% <0%> (-0.45%)
⬇️


metautils/lib/gridd_client.c
75.75% <0%> (-0.24%)
⬇️


sqliterepo/replication_dispatcher.c
64.2% <0%> (-0.15%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3efd4c2...1e7006b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1786,2019-05-22T15:43:41Z,2019-05-23T12:25:58Z,2019-05-23T12:26:01Z,MERGED,True,21,14,6,https://github.com/fvennetier,meta1: resolve account and cname only when asked,1,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1786,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1786,"SUMMARY
This is to avoid problems during migrations from pre 4.4.0 versions.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oioproxy
meta1

SDS VERSION
openio 4.4.4.dev10","SUMMARY
This is to avoid problems during migrations from pre 4.4.0 versions.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oioproxy
meta1

SDS VERSION
openio 4.4.4.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1786,2019-05-22T15:43:41Z,2019-05-23T12:25:58Z,2019-05-23T12:26:01Z,MERGED,True,21,14,6,https://github.com/fvennetier,meta1: resolve account and cname only when asked,1,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1786,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1786#issuecomment-495196529,"SUMMARY
This is to avoid problems during migrations from pre 4.4.0 versions.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oioproxy
meta1

SDS VERSION
openio 4.4.4.dev10","Codecov Report

Merging #1786 into 4.4.x will decrease coverage by 0.55%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##           4.4.x    #1786      +/-   ##
=========================================
- Coverage   79.9%   79.36%   -0.54%     
=========================================
  Files        371      371              
  Lines      68836    70483    +1647     
  Branches    6961     7287     +326     
=========================================
+ Hits       54996    55930     +934     
- Misses     13736    14449     +713     
  Partials     104      104



Impacted Files
Coverage Δ





meta1v2/meta1_gridd_dispatcher.c
69.69% <100%> (+0.42%)
⬆️


meta1v2/meta1_remote.c
78.67% <100%> (+0.15%)
⬆️


tests/unit/test_meta1_backend.c
99.43% <100%> (ø)
⬆️


meta1v2/meta1_backend_services.c
56.02% <100%> (+0.07%)
⬆️


sqliterepo/election.c
69.09% <0%> (-20.88%)
⬇️


oio/cli/common/shell.py
74.68% <0%> (-3.1%)
⬇️


oio/blob/indexer.py
67.43% <0%> (-1.51%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-1.23%)
⬇️


oio/api/object_storage.py
81.32% <0%> (-1.19%)
⬇️


sqliterepo/gridd_client_pool.c
81.58% <0%> (-0.87%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3efd4c2...bc8ca2e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1787,2019-05-22T16:17:01Z,2019-05-23T16:28:32Z,2019-06-06T09:16:44Z,MERGED,True,6,0,2,https://github.com/jfsmig,Python API: better eventlet coordination,1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1787,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1787,"SUMMARY
Tell eventlet/greenlet to yield at specific moments to ease the computation interleaving.
It helps preventing accumulating huge amount of data in input greenlets, with a better chance of the output greenlets to become active meanwhile.
ISSUE TYPE
enhancement
COMPONENT NAME
oio
SDS VERSION
openio 4.4.4.dev11","SUMMARY
Tell eventlet/greenlet to yield at specific moments to ease the computation interleaving.
It helps preventing accumulating huge amount of data in input greenlets, with a better chance of the output greenlets to become active meanwhile.
ISSUE TYPE
enhancement
COMPONENT NAME
oio
SDS VERSION
openio 4.4.4.dev11",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1787,2019-05-22T16:17:01Z,2019-05-23T16:28:32Z,2019-06-06T09:16:44Z,MERGED,True,6,0,2,https://github.com/jfsmig,Python API: better eventlet coordination,1,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1787,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1787#issuecomment-495237842,"SUMMARY
Tell eventlet/greenlet to yield at specific moments to ease the computation interleaving.
It helps preventing accumulating huge amount of data in input greenlets, with a better chance of the output greenlets to become active meanwhile.
ISSUE TYPE
enhancement
COMPONENT NAME
oio
SDS VERSION
openio 4.4.4.dev11","Codecov Report

Merging #1787 into 4.4.x will increase coverage by 0.36%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.4.x    #1787      +/-   ##
==========================================
+ Coverage   79.57%   79.93%   +0.36%     
==========================================
  Files         355      371      +16     
  Lines       67292    68842    +1550     
  Branches     6929     6961      +32     
==========================================
+ Hits        53539    55019    +1480     
+ Misses      13753    13719      -34     
- Partials        0      104     +104



Impacted Files
Coverage Δ





oio/api/ec.py
94.1% <100%> (+0.19%)
⬆️


oio/api/replication.py
77.78% <100%> (-0.86%)
⬇️


oio/ecd/app.py
60.12% <0%> (-6.54%)
⬇️


oio/account/backend.py
79.47% <0%> (-3.57%)
⬇️


oio/blob/indexer.py
67.43% <0%> (-1.51%)
⬇️


oio/common/storage_functions.py
90% <0%> (-1.42%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


rawx-lib/src/attr_handler.c
68.58% <0%> (-0.95%)
⬇️


rawx-apache2/src/rawx_repository.c
56.02% <0%> (-0.82%)
⬇️


core/cs.c
81.09% <0%> (-0.45%)
⬇️


... and 81 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update bd7d402...9c56468. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1788,2019-05-23T10:28:17Z,2019-08-23T15:59:15Z,2019-08-28T08:17:07Z,CLOSED,False,531,7,7,https://github.com/jfsmig,[WIP] oio: Allow to defer the EC computation to a thread pool,4,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1788,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1788,"SUMMARY
Avoid mixing the I/O intensive workloads of the greenlet-based main thread of python, with the CPU intensive tasks of the EC computation. A GLib-2.0 GThreadPool is used and (linux specific) eventfd synchronization used between them.
This is useful when more than one upload operation happens in the main python thread, that is why the feature has to be explicitly turned on (set oio.api.storage_method.EC_SYNC to False).
TODO: removed the explicit coroutine switching that will happen in #1787 that becomes superfluous (if not counter-productive).
TODO: manage errors with adequate exceptions
ISSUE TYPE
enhancement
COMPONENT NAME
oio, ecp
SDS VERSION
openio 4.4.4.dev14","SUMMARY
Avoid mixing the I/O intensive workloads of the greenlet-based main thread of python, with the CPU intensive tasks of the EC computation. A GLib-2.0 GThreadPool is used and (linux specific) eventfd synchronization used between them.
This is useful when more than one upload operation happens in the main python thread, that is why the feature has to be explicitly turned on (set oio.api.storage_method.EC_SYNC to False).
TODO: removed the explicit coroutine switching that will happen in #1787 that becomes superfluous (if not counter-productive).
TODO: manage errors with adequate exceptions
ISSUE TYPE
enhancement
COMPONENT NAME
oio, ecp
SDS VERSION
openio 4.4.4.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1788,2019-05-23T10:28:17Z,2019-08-23T15:59:15Z,2019-08-28T08:17:07Z,CLOSED,False,531,7,7,https://github.com/jfsmig,[WIP] oio: Allow to defer the EC computation to a thread pool,4,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1788,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1788#issuecomment-524369407,"SUMMARY
Avoid mixing the I/O intensive workloads of the greenlet-based main thread of python, with the CPU intensive tasks of the EC computation. A GLib-2.0 GThreadPool is used and (linux specific) eventfd synchronization used between them.
This is useful when more than one upload operation happens in the main python thread, that is why the feature has to be explicitly turned on (set oio.api.storage_method.EC_SYNC to False).
TODO: removed the explicit coroutine switching that will happen in #1787 that becomes superfluous (if not counter-productive).
TODO: manage errors with adequate exceptions
ISSUE TYPE
enhancement
COMPONENT NAME
oio, ecp
SDS VERSION
openio 4.4.4.dev14",To be rebased on 5.x,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1789,2019-05-23T14:00:41Z,2019-05-31T10:10:12Z,2019-06-03T08:03:46Z,MERGED,True,3,1,1,https://github.com/AymericDu,Do not use the stdout within the commands,1,[],https://github.com/open-io/oio-sds/pull/1789,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1789,"SUMMARY
Do not use the stdout within the commands
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b1","SUMMARY
Do not use the stdout within the commands
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1790,2019-05-23T14:30:43Z,2019-06-03T13:26:24Z,2019-06-03T13:28:34Z,MERGED,True,205,71,12,https://github.com/AymericDu,Enrich performance data display,4,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1790,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1790,"SUMMARY
Enrich perfdata when:

requesting a service
reading and writing an object

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.4.4.dev19

ADDITIONAL INFORMATION
$ openio object create toto /etc/magic --dump-perfdata
+-------+------+----------------------------------+--------+
| Name  | Size | Hash                             | Status |
+-------+------+----------------------------------+--------+
| magic |  111 | 272913026300E7AE9B5E2D51F138E674 | Ok     |
+-------+------+----------------------------------+--------+
Performance data: {
    ""proxy"": {
        ""meta2"": 0.007457,
        ""resolve"": 0.007463,
        ""total"": 0.049264
    },
    ""rawx"": {
        ""ec"": 0.000075,
        ""http://127.0.0.1:6010/DE0E43B2C423D9FF1335B155A818F5E8A18FDAAEDAEBD71366906C148866526B"": 0.008854,
        ""http://127.0.0.1:6011/FE4C3DEBE825832BE78F3B8700DE5511A4BE4610FC88D9FC5B59A68B3641A994"": 0.008322,
        ""http://127.0.0.1:6012/0D5F2575F999695EC3C48E49057CF9E90C323DC46CDDF9C33713DD66AD7365B1"": 0.008967,
        ""http://127.0.0.1:6013/C59503C2A9664011018E8326E69C6E116CA657B333BE3B3A26AF58C22ECFB608"": 0.006861,
        ""http://127.0.0.1:6015/9A800AE389D9DC720C8A37FA5CAAA899B70ED883587DFB52BCA07FAA16255A23"": 0.010464,
        ""http://127.0.0.1:6018/5FA2C42BB211E528241786037A4391C9C5E8FC55825C009D265C2735BF211BE8"": 0.006750,
        ""http://127.0.0.1:6019/6BECBCA594319B5247CAE199F348946E6F7F0B5725D2836DDE68C03A00EEC3B3"": 0.007201,
        ""http://127.0.0.1:6020/A9D5B1B5344CA8350A98DE6CFD28A4800280DACA4AF6896DED669E6E7829DB13"": 0.008090,
        ""http://127.0.0.1:6021/DCE37B6A05CE586FE462B0C511BFE4FCD77442575A943E6DF657F895F4986B3E"": 0.011369,
        ""total"": 0.017745
    }
}
$ openio object save toto magic --dump-perfdata
Performance data: {
    ""proxy"": {
        ""meta2"": 0.000607,
        ""resolve"": 0.001472,
        ""total"": 0.003384
    },
    ""rawx"": {
        ""ec"": 0.000002,
        ""http://127.0.0.1:6010/DE0E43B2C423D9FF1335B155A818F5E8A18FDAAEDAEBD71366906C148866526B"": 0.000234,
        ""http://127.0.0.1:6011/FE4C3DEBE825832BE78F3B8700DE5511A4BE4610FC88D9FC5B59A68B3641A994"": 0.001408,
        ""http://127.0.0.1:6012/0D5F2575F999695EC3C48E49057CF9E90C323DC46CDDF9C33713DD66AD7365B1"": 0.000677,
        ""http://127.0.0.1:6018/5FA2C42BB211E528241786037A4391C9C5E8FC55825C009D265C2735BF211BE8"": 0.001244,
        ""http://127.0.0.1:6019/6BECBCA594319B5247CAE199F348946E6F7F0B5725D2836DDE68C03A00EEC3B3"": 0.001747,
        ""http://127.0.0.1:6020/A9D5B1B5344CA8350A98DE6CFD28A4800280DACA4AF6896DED669E6E7829DB13"": 0.001055,
        ""total"": 0.004671
    },
    ""ttfb"": 0.008856,
    ""ttlb"": 0.009006
}
$ openio object delete toto magic --dump-perfdata
+-------+---------+
| Name  | Deleted |
+-------+---------+
| magic | True    |
+-------+---------+
Performance data: {
    ""proxy"": {
        ""meta2"": 0.003108,
        ""resolve"": 0.001374,
        ""total"": 0.005626
    }
}","SUMMARY
Enrich perfdata when:

requesting a service
reading and writing an object

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.4.4.dev19

ADDITIONAL INFORMATION
$ openio object create toto /etc/magic --dump-perfdata
+-------+------+----------------------------------+--------+
| Name  | Size | Hash                             | Status |
+-------+------+----------------------------------+--------+
| magic |  111 | 272913026300E7AE9B5E2D51F138E674 | Ok     |
+-------+------+----------------------------------+--------+
Performance data: {
    ""proxy"": {
        ""meta2"": 0.007457,
        ""resolve"": 0.007463,
        ""total"": 0.049264
    },
    ""rawx"": {
        ""ec"": 0.000075,
        ""http://127.0.0.1:6010/DE0E43B2C423D9FF1335B155A818F5E8A18FDAAEDAEBD71366906C148866526B"": 0.008854,
        ""http://127.0.0.1:6011/FE4C3DEBE825832BE78F3B8700DE5511A4BE4610FC88D9FC5B59A68B3641A994"": 0.008322,
        ""http://127.0.0.1:6012/0D5F2575F999695EC3C48E49057CF9E90C323DC46CDDF9C33713DD66AD7365B1"": 0.008967,
        ""http://127.0.0.1:6013/C59503C2A9664011018E8326E69C6E116CA657B333BE3B3A26AF58C22ECFB608"": 0.006861,
        ""http://127.0.0.1:6015/9A800AE389D9DC720C8A37FA5CAAA899B70ED883587DFB52BCA07FAA16255A23"": 0.010464,
        ""http://127.0.0.1:6018/5FA2C42BB211E528241786037A4391C9C5E8FC55825C009D265C2735BF211BE8"": 0.006750,
        ""http://127.0.0.1:6019/6BECBCA594319B5247CAE199F348946E6F7F0B5725D2836DDE68C03A00EEC3B3"": 0.007201,
        ""http://127.0.0.1:6020/A9D5B1B5344CA8350A98DE6CFD28A4800280DACA4AF6896DED669E6E7829DB13"": 0.008090,
        ""http://127.0.0.1:6021/DCE37B6A05CE586FE462B0C511BFE4FCD77442575A943E6DF657F895F4986B3E"": 0.011369,
        ""total"": 0.017745
    }
}
$ openio object save toto magic --dump-perfdata
Performance data: {
    ""proxy"": {
        ""meta2"": 0.000607,
        ""resolve"": 0.001472,
        ""total"": 0.003384
    },
    ""rawx"": {
        ""ec"": 0.000002,
        ""http://127.0.0.1:6010/DE0E43B2C423D9FF1335B155A818F5E8A18FDAAEDAEBD71366906C148866526B"": 0.000234,
        ""http://127.0.0.1:6011/FE4C3DEBE825832BE78F3B8700DE5511A4BE4610FC88D9FC5B59A68B3641A994"": 0.001408,
        ""http://127.0.0.1:6012/0D5F2575F999695EC3C48E49057CF9E90C323DC46CDDF9C33713DD66AD7365B1"": 0.000677,
        ""http://127.0.0.1:6018/5FA2C42BB211E528241786037A4391C9C5E8FC55825C009D265C2735BF211BE8"": 0.001244,
        ""http://127.0.0.1:6019/6BECBCA594319B5247CAE199F348946E6F7F0B5725D2836DDE68C03A00EEC3B3"": 0.001747,
        ""http://127.0.0.1:6020/A9D5B1B5344CA8350A98DE6CFD28A4800280DACA4AF6896DED669E6E7829DB13"": 0.001055,
        ""total"": 0.004671
    },
    ""ttfb"": 0.008856,
    ""ttlb"": 0.009006
}
$ openio object delete toto magic --dump-perfdata
+-------+---------+
| Name  | Deleted |
+-------+---------+
| magic | True    |
+-------+---------+
Performance data: {
    ""proxy"": {
        ""meta2"": 0.003108,
        ""resolve"": 0.001374,
        ""total"": 0.005626
    }
}",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1790,2019-05-23T14:30:43Z,2019-06-03T13:26:24Z,2019-06-03T13:28:34Z,MERGED,True,205,71,12,https://github.com/AymericDu,Enrich performance data display,4,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1790,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1790#issuecomment-495277310,"SUMMARY
Enrich perfdata when:

requesting a service
reading and writing an object

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.4.4.dev19

ADDITIONAL INFORMATION
$ openio object create toto /etc/magic --dump-perfdata
+-------+------+----------------------------------+--------+
| Name  | Size | Hash                             | Status |
+-------+------+----------------------------------+--------+
| magic |  111 | 272913026300E7AE9B5E2D51F138E674 | Ok     |
+-------+------+----------------------------------+--------+
Performance data: {
    ""proxy"": {
        ""meta2"": 0.007457,
        ""resolve"": 0.007463,
        ""total"": 0.049264
    },
    ""rawx"": {
        ""ec"": 0.000075,
        ""http://127.0.0.1:6010/DE0E43B2C423D9FF1335B155A818F5E8A18FDAAEDAEBD71366906C148866526B"": 0.008854,
        ""http://127.0.0.1:6011/FE4C3DEBE825832BE78F3B8700DE5511A4BE4610FC88D9FC5B59A68B3641A994"": 0.008322,
        ""http://127.0.0.1:6012/0D5F2575F999695EC3C48E49057CF9E90C323DC46CDDF9C33713DD66AD7365B1"": 0.008967,
        ""http://127.0.0.1:6013/C59503C2A9664011018E8326E69C6E116CA657B333BE3B3A26AF58C22ECFB608"": 0.006861,
        ""http://127.0.0.1:6015/9A800AE389D9DC720C8A37FA5CAAA899B70ED883587DFB52BCA07FAA16255A23"": 0.010464,
        ""http://127.0.0.1:6018/5FA2C42BB211E528241786037A4391C9C5E8FC55825C009D265C2735BF211BE8"": 0.006750,
        ""http://127.0.0.1:6019/6BECBCA594319B5247CAE199F348946E6F7F0B5725D2836DDE68C03A00EEC3B3"": 0.007201,
        ""http://127.0.0.1:6020/A9D5B1B5344CA8350A98DE6CFD28A4800280DACA4AF6896DED669E6E7829DB13"": 0.008090,
        ""http://127.0.0.1:6021/DCE37B6A05CE586FE462B0C511BFE4FCD77442575A943E6DF657F895F4986B3E"": 0.011369,
        ""total"": 0.017745
    }
}
$ openio object save toto magic --dump-perfdata
Performance data: {
    ""proxy"": {
        ""meta2"": 0.000607,
        ""resolve"": 0.001472,
        ""total"": 0.003384
    },
    ""rawx"": {
        ""ec"": 0.000002,
        ""http://127.0.0.1:6010/DE0E43B2C423D9FF1335B155A818F5E8A18FDAAEDAEBD71366906C148866526B"": 0.000234,
        ""http://127.0.0.1:6011/FE4C3DEBE825832BE78F3B8700DE5511A4BE4610FC88D9FC5B59A68B3641A994"": 0.001408,
        ""http://127.0.0.1:6012/0D5F2575F999695EC3C48E49057CF9E90C323DC46CDDF9C33713DD66AD7365B1"": 0.000677,
        ""http://127.0.0.1:6018/5FA2C42BB211E528241786037A4391C9C5E8FC55825C009D265C2735BF211BE8"": 0.001244,
        ""http://127.0.0.1:6019/6BECBCA594319B5247CAE199F348946E6F7F0B5725D2836DDE68C03A00EEC3B3"": 0.001747,
        ""http://127.0.0.1:6020/A9D5B1B5344CA8350A98DE6CFD28A4800280DACA4AF6896DED669E6E7829DB13"": 0.001055,
        ""total"": 0.004671
    },
    ""ttfb"": 0.008856,
    ""ttlb"": 0.009006
}
$ openio object delete toto magic --dump-perfdata
+-------+---------+
| Name  | Deleted |
+-------+---------+
| magic | True    |
+-------+---------+
Performance data: {
    ""proxy"": {
        ""meta2"": 0.003108,
        ""resolve"": 0.001374,
        ""total"": 0.005626
    }
}","Codecov Report

Merging #1790 into 4.4.x will increase coverage by 0.05%.
The diff coverage is 91.51%.


@@            Coverage Diff             @@
##            4.4.x    #1790      +/-   ##
==========================================
+ Coverage   79.89%   79.94%   +0.05%     
==========================================
  Files         371      371              
  Lines       68903    69004     +101     
  Branches     6964     6964              
==========================================
+ Hits        55043    55158     +115     
+ Misses      13756    13743      -13     
+ Partials      104      103       -1



Impacted Files
Coverage Δ





oio/blob/client.py
91.16% <0%> (+0.75%)
⬆️


oio/common/client.py
100% <100%> (ø)
⬆️


oio/api/io.py
86.81% <100%> (+0.07%)
⬆️


oio/rdir/client.py
80.49% <100%> (-0.34%)
⬇️


oio/api/base.py
94.74% <100%> (+1.41%)
⬆️


oio/account/client.py
81.61% <100%> (-5.74%)
⬇️


oio/cli/common/shell.py
66.13% <40%> (+0.56%)
⬆️


oio/api/object_storage.py
81.51% <80%> (+0.05%)
⬆️


oio/api/replication.py
81.25% <90.48%> (+2.39%)
⬆️


tests/functional/api/test_perfdata.py
92.43% <96.88%> (+2.43%)
⬆️


... and 45 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b847b12...5c9174f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1791,2019-05-24T15:49:24Z,2019-05-27T16:34:59Z,2019-05-29T14:09:58Z,MERGED,True,53,12,4,https://github.com/fvennetier,Python API: ramp up upload buffer size,1,[],https://github.com/open-io/oio-sds/pull/1791,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1791,"SUMMARY
Start small to minimize initial dead time and parallelize early,
then grow to avoid too much context switches.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev16

ADDITIONAL INFORMATION
Minimum and maximum of the ramp are configurable with chunk_buffer_min and chunk_buffer_max.","SUMMARY
Start small to minimize initial dead time and parallelize early,
then grow to avoid too much context switches.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev16

ADDITIONAL INFORMATION
Minimum and maximum of the ramp are configurable with chunk_buffer_min and chunk_buffer_max.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1791,2019-05-24T15:49:24Z,2019-05-27T16:34:59Z,2019-05-29T14:09:58Z,MERGED,True,53,12,4,https://github.com/fvennetier,Python API: ramp up upload buffer size,1,[],https://github.com/open-io/oio-sds/pull/1791,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1791#issuecomment-495732056,"SUMMARY
Start small to minimize initial dead time and parallelize early,
then grow to avoid too much context switches.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev16

ADDITIONAL INFORMATION
Minimum and maximum of the ramp are configurable with chunk_buffer_min and chunk_buffer_max.","Codecov Report

Merging #1791 into 4.4.x will increase coverage by 0.03%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            4.4.x    #1791      +/-   ##
==========================================
+ Coverage   79.89%   79.91%   +0.03%     
==========================================
  Files         371      371              
  Lines       68903    68916      +13     
  Branches     6964     6964              
==========================================
+ Hits        55043    55070      +27     
+ Misses      13756    13743      -13     
+ Partials      104      103       -1



Impacted Files
Coverage Δ





oio/api/object_storage.py
81.32% <100%> (-0.14%)
⬇️


oio/api/ec.py
94.5% <100%> (+0.37%)
⬆️


oio/api/replication.py
78.58% <100%> (-0.29%)
⬇️


oio/api/io.py
87.31% <100%> (+0.57%)
⬆️


oio/ecd/app.py
60.12% <0%> (-5.95%)
⬇️


oio/account/client.py
81.61% <0%> (-5.74%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/common/utils.py
68.08% <0%> (-2.34%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


tests/functional/container/test_replication.py
80.73% <0%> (-1.2%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b847b12...200f6d0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1792,2019-05-24T16:43:01Z,2019-06-03T09:29:32Z,2019-06-03T12:38:54Z,MERGED,True,10,16,3,https://github.com/AymericDu,Python API: Replace Queue with LightQueue when sending data,1,[],https://github.com/open-io/oio-sds/pull/1792,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1792,"SUMMARY
Replace eventlet.Queue with eventlet.queue.LightQueue when sending data
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev17","SUMMARY
Replace eventlet.Queue with eventlet.queue.LightQueue when sending data
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1792,2019-05-24T16:43:01Z,2019-06-03T09:29:32Z,2019-06-03T12:38:54Z,MERGED,True,10,16,3,https://github.com/AymericDu,Python API: Replace Queue with LightQueue when sending data,1,[],https://github.com/open-io/oio-sds/pull/1792,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1792#issuecomment-496132441,"SUMMARY
Replace eventlet.Queue with eventlet.queue.LightQueue when sending data
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev17","Codecov Report

Merging #1792 into 4.x will increase coverage by 8.64%.
The diff coverage is 90%.


@@            Coverage Diff             @@
##              4.x    #1792      +/-   ##
==========================================
+ Coverage   71.26%   79.89%   +8.64%     
==========================================
  Files         306      371      +65     
  Lines       62661    68898    +6237     
  Branches     6699     6964     +265     
==========================================
+ Hits        44650    55042   +10392     
+ Misses      18010    13752    -4258     
- Partials        1      104     +103



Impacted Files
Coverage Δ





oio/api/replication.py
79.69% <100%> (+1.63%)
⬆️


oio/common/green.py
95.56% <100%> (ø)
⬆️


oio/api/ec.py
93.23% <80%> (+0.64%)
⬆️


oio/common/http_urllib3.py
86.12% <0%> (-5.99%)
⬇️


oio/conscience/client.py
82.7% <0%> (-5.76%)
⬇️


...s/functional/api/test_objectstorage_performance.py
88.24% <0%> (-2.87%)
⬇️


metautils/lib/utils_sockets.c
41.93% <0%> (-0.76%)
⬇️


core/cs.c
81.09% <0%> (ø)
⬆️


oio/cli/account/client.py
71.43% <0%> (ø)



tests/unit/test_lb.c
98.69% <0%> (ø)



... and 197 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d316c91...544dafc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1793,2019-05-28T16:47:14Z,2019-05-31T13:08:08Z,2019-05-31T13:08:11Z,MERGED,True,60,41,12,https://github.com/fvennetier,Set appropriate TCP flags (and other small improvements),7,[],https://github.com/open-io/oio-sds/pull/1793,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1793,"SUMMARY

 Enable TCP_CORK in proxy, when we know we will soon send another batch of data. This prevents sending a small packet, then another one, in cases where all data would fit in one bigger packet. We must though disable TCP_CORK immediatly after to tell the kernel we are finished (or it will keep waiting a few milliseconds for extra data).
 Fix logging format in conscience.
 Set better profiling parameters for the CLI.
 Allow more PoolManager parameters in Python API.
 Enable TCP_NODELAY and other useful flags in proxy.

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Proxy
Conscience
Python API
tests

SDS VERSION
openio 4.5.0.0b1.dev3","SUMMARY

 Enable TCP_CORK in proxy, when we know we will soon send another batch of data. This prevents sending a small packet, then another one, in cases where all data would fit in one bigger packet. We must though disable TCP_CORK immediatly after to tell the kernel we are finished (or it will keep waiting a few milliseconds for extra data).
 Fix logging format in conscience.
 Set better profiling parameters for the CLI.
 Allow more PoolManager parameters in Python API.
 Enable TCP_NODELAY and other useful flags in proxy.

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Proxy
Conscience
Python API
tests

SDS VERSION
openio 4.5.0.0b1.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1793,2019-05-28T16:47:14Z,2019-05-31T13:08:08Z,2019-05-31T13:08:11Z,MERGED,True,60,41,12,https://github.com/fvennetier,Set appropriate TCP flags (and other small improvements),7,[],https://github.com/open-io/oio-sds/pull/1793,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1793#issuecomment-496949535,"SUMMARY

 Enable TCP_CORK in proxy, when we know we will soon send another batch of data. This prevents sending a small packet, then another one, in cases where all data would fit in one bigger packet. We must though disable TCP_CORK immediatly after to tell the kernel we are finished (or it will keep waiting a few milliseconds for extra data).
 Fix logging format in conscience.
 Set better profiling parameters for the CLI.
 Allow more PoolManager parameters in Python API.
 Enable TCP_NODELAY and other useful flags in proxy.

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Proxy
Conscience
Python API
tests

SDS VERSION
openio 4.5.0.0b1.dev3","Codecov Report

Merging #1793 into 4.x will increase coverage by 3.27%.
The diff coverage is 91.18%.


@@            Coverage Diff             @@
##              4.x    #1793      +/-   ##
==========================================
+ Coverage   76.72%   79.99%   +3.27%     
==========================================
  Files         324      371      +47     
  Lines       64506    68928    +4422     
  Branches     6743     6965     +222     
==========================================
+ Hits        49484    55129    +5645     
+ Misses      14917    13695    -1222     
+ Partials      105      104       -1



Impacted Files
Coverage Δ





cluster/module/server.c
79.88% <ø> (-0.1%)
⬇️


oio/cli/common/shell.py
65.05% <0%> (+6.03%)
⬆️


oio/common/http_urllib3.py
89.48% <100%> (+3.37%)
⬆️


proxy/transport_http.c
85.8% <100%> (+0.13%)
⬆️


server/transport_gridd.c
78.12% <100%> (ø)
⬆️


tests/functional/api/test_objectstorage.py
97.24% <100%> (+0.01%)
⬆️


...s/functional/api/test_objectstorage_performance.py
91.12% <100%> (+2.88%)
⬆️


oio/api/base.py
93.19% <100%> (-1.26%)
⬇️


server/network_server.c
86.27% <66.67%> (+1.33%)
⬆️


tests/functional/directory/test_admin.py
93.62% <0%> (-6.38%)
⬇️


... and 137 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cf4e182...9ec112f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1794,2019-05-31T16:17:54Z,2019-06-03T07:54:38Z,2019-06-03T08:57:00Z,MERGED,True,33,5,2,https://github.com/fvennetier,Fix get_pool_manager parameters,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1794,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1794,"SUMMARY
When using oioswift, some configuration parameters come as strings instead of integers. Unfortunately, the magic cast has disappeared during a refactoring. This PR restores it.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.0.0b1.dev7","SUMMARY
When using oioswift, some configuration parameters come as strings instead of integers. Unfortunately, the magic cast has disappeared during a refactoring. This PR restores it.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.0.0b1.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1795,2019-06-03T09:14:17Z,2019-06-03T13:30:58Z,2019-06-03T13:31:04Z,MERGED,True,17,18,5,https://github.com/murlock,"Revert ""Rename all-requirements.txt to requirements.txt""",1,[],https://github.com/open-io/oio-sds/pull/1795,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1795,"SUMMARY
This reverts commit 7355aaa.
The rename has impact on packaging due to python-pbr and installation of requirements.txt
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
python
SDS VERSION
openio 4.4.4.dev9","SUMMARY
This reverts commit 7355aaa.
The rename has impact on packaging due to python-pbr and installation of requirements.txt
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
python
SDS VERSION
openio 4.4.4.dev9",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1795,2019-06-03T09:14:17Z,2019-06-03T13:30:58Z,2019-06-03T13:31:04Z,MERGED,True,17,18,5,https://github.com/murlock,"Revert ""Rename all-requirements.txt to requirements.txt""",1,[],https://github.com/open-io/oio-sds/pull/1795,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1795#issuecomment-498210639,"SUMMARY
This reverts commit 7355aaa.
The rename has impact on packaging due to python-pbr and installation of requirements.txt
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
python
SDS VERSION
openio 4.4.4.dev9","Codecov Report

Merging #1795 into master will increase coverage by 1.93%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #1795      +/-   ##
==========================================
+ Coverage   77.27%   79.19%   +1.93%     
==========================================
  Files         363      382      +19     
  Lines       68551    70831    +2280     
  Branches     6843     6887      +44     
==========================================
+ Hits        52966    56091    +3125     
+ Misses      15487    14545     -942     
- Partials       98      195      +97



Impacted Files
Coverage Δ





tests/functional/cli/admin/test_item_check.py
67.26% <0%> (-1.23%)
⬇️


proxy/cs_actions.c
89.75% <0%> (-0.36%)
⬇️


metautils/lib/comm_message.c
83.99% <0%> (ø)
⬆️


core/tool_sdk.c
69.52% <0%> (ø)



rawx/chunk_info.go
81.55% <0%> (ø)



rawx/handler_stat.go
85.11% <0%> (ø)



rawx/notifier.go
70.59% <0%> (ø)



rawx/rawx.go
85.72% <0%> (ø)



rawx/beanstalk.go
37.09% <0%> (ø)



rawx/handler_info.go
86.37% <0%> (ø)



... and 114 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7278c10...6c47137. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1796,2019-06-03T16:51:30Z,2019-06-05T14:42:11Z,2019-06-05T16:19:25Z,MERGED,True,20,4,1,https://github.com/AymericDu,C API: Use the same retry policy as the Python API,2,"['priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1796,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1796,"SUMMARY
Use the same retry policy as the Python API:

Don't retry when requesting the oio-proxy
Don't return 421 (content exists) after retrying POST

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

C API

SDS VERSION
openio 4.2.9.dev17","SUMMARY
Use the same retry policy as the Python API:

Don't retry when requesting the oio-proxy
Don't return 421 (content exists) after retrying POST

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

C API

SDS VERSION
openio 4.2.9.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1796,2019-06-03T16:51:30Z,2019-06-05T14:42:11Z,2019-06-05T16:19:25Z,MERGED,True,20,4,1,https://github.com/AymericDu,C API: Use the same retry policy as the Python API,2,"['priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1796,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1796#issuecomment-498571235,"SUMMARY
Use the same retry policy as the Python API:

Don't retry when requesting the oio-proxy
Don't return 421 (content exists) after retrying POST

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

C API

SDS VERSION
openio 4.2.9.dev17","Codecov Report

Merging #1796 into 4.2.x will increase coverage by 0.06%.
The diff coverage is 75%.


@@            Coverage Diff            @@
##            4.2.x   #1796      +/-   ##
=========================================
+ Coverage   79.54%   79.6%   +0.06%     
=========================================
  Files         341     341              
  Lines       62362   62367       +5     
  Branches     6744    6745       +1     
=========================================
+ Hits        49597   49638      +41     
+ Misses      12765   12729      -36



Impacted Files
Coverage Δ





core/proxy.c
82.62% <75%> (-0.2%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-1.23%)
⬇️


oio/api/replication.py
77.55% <0%> (-1.06%)
⬇️


rawx-lib/src/attr_handler.c
69.05% <0%> (-0.47%)
⬇️


core/cs.c
81.09% <0%> (-0.45%)
⬇️


oio/api/io.py
84.91% <0%> (-0.26%)
⬇️


oio/api/ec.py
93.34% <0%> (-0.17%)
⬇️


sqliterepo/replication_dispatcher.c
64.14% <0%> (-0.15%)
⬇️


sqliterepo/election.c
89.75% <0%> (-0.15%)
⬇️


... and 21 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update bd404f1...7890879. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1797,2019-06-03T16:55:03Z,2019-06-05T08:23:47Z,2019-06-05T11:53:34Z,MERGED,True,6,3,1,https://github.com/AymericDu,Python API: fix exception reraise function,1,[],https://github.com/open-io/oio-sds/pull/1797,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1797,"SUMMARY
This problem was already fixed on the master branch.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev17","SUMMARY
This problem was already fixed on the master branch.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1797,2019-06-03T16:55:03Z,2019-06-05T08:23:47Z,2019-06-05T11:53:34Z,MERGED,True,6,3,1,https://github.com/AymericDu,Python API: fix exception reraise function,1,[],https://github.com/open-io/oio-sds/pull/1797,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1797#issuecomment-498578536,"SUMMARY
This problem was already fixed on the master branch.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.4.4.dev17","Codecov Report

Merging #1797 into 4.4.x will decrease coverage by 0.12%.
The diff coverage is 100%.


@@            Coverage Diff            @@
##           4.4.x    #1797      +/-   ##
=========================================
- Coverage     80%   79.88%   -0.11%     
=========================================
  Files        371      371              
  Lines      68903    68906       +3     
  Branches    6964     6964              
=========================================
- Hits       55119    55042      -77     
- Misses     13680    13760      +80     
  Partials     104      104



Impacted Files
Coverage Δ





oio/common/exceptions.py
94.64% <100%> (+0.12%)
⬆️


oio/account/backend.py
79.92% <0%> (-7.14%)
⬇️


oio/ecd/app.py
60.12% <0%> (-6.54%)
⬇️


oio/account/client.py
81.61% <0%> (-5.74%)
⬇️


oio/conscience/client.py
80.77% <0%> (-4.8%)
⬇️


meta0v2/zk_manager.c
72.45% <0%> (-4.72%)
⬇️


oio/directory/meta1.py
88.51% <0%> (-4.59%)
⬇️


oio/container/client.py
83.83% <0%> (-2.35%)
⬇️


meta1v2/meta1_server.c
73.59% <0%> (-1.88%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b847b12...d1125ed. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1798,2019-06-04T15:44:06Z,2019-06-05T12:30:23Z,2019-06-05T14:23:12Z,MERGED,True,3,2,2,https://github.com/AymericDu,Python API: fix import of eventlet.Semaphore,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1798,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1798,"SUMMARY
eventlet.Semaphore exists since version 0.20.1: eventlet/eventlet@79292bd#diff-e8a149cf9a6b76be0526ba05331438c5R42.
But Centos 7 uses version 0.18.4.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 5.0.0.0b2.dev1","SUMMARY
eventlet.Semaphore exists since version 0.20.1: eventlet/eventlet@79292bd#diff-e8a149cf9a6b76be0526ba05331438c5R42.
But Centos 7 uses version 0.18.4.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 5.0.0.0b2.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1798,2019-06-04T15:44:06Z,2019-06-05T12:30:23Z,2019-06-05T14:23:12Z,MERGED,True,3,2,2,https://github.com/AymericDu,Python API: fix import of eventlet.Semaphore,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1798,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1798#issuecomment-499061067,"SUMMARY
eventlet.Semaphore exists since version 0.20.1: eventlet/eventlet@79292bd#diff-e8a149cf9a6b76be0526ba05331438c5R42.
But Centos 7 uses version 0.18.4.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 5.0.0.0b2.dev1","Codecov Report

Merging #1798 into master will increase coverage by 0.09%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##           master    #1798      +/-   ##
==========================================
+ Coverage   79.25%   79.33%   +0.09%     
==========================================
  Files         385      386       +1     
  Lines       71209    71252      +43     
  Branches     6893     6893              
==========================================
+ Hits        56432    56524      +92     
+ Misses      14582    14533      -49     
  Partials      195      195



Impacted Files
Coverage Δ





oio/common/green.py
89% <100%> (+0.11%)
⬆️


oio/crawler/integrity.py
66.85% <100%> (+0.37%)
⬆️


oio/account/client.py
81.61% <0%> (-4.59%)
⬇️


oio/cli/admin/__init__.py
80.77% <0%> (-3.44%)
⬇️


oio/crawler/storage_tierer.py
59.64% <0%> (-1.83%)
⬇️


oio/account/backend.py
79.92% <0%> (-1.78%)
⬇️


oio/common/utils.py
67.61% <0%> (-0.93%)
⬇️


meta1v2/meta1_backend_internals.c
75.23% <0%> (-0.88%)
⬇️


sqliterepo/gridd_client_pool.c
80.71% <0%> (-0.87%)
⬇️


oio/directory/meta2.py
68.75% <0%> (-0.78%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f7f04af...5cfa417. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1799,2019-06-04T16:38:14Z,2019-06-05T09:45:54Z,2019-06-05T11:53:30Z,MERGED,True,0,2,1,https://github.com/AymericDu,"Revert ""Admin CLI: Set the default verbose level to INFO""",1,[],https://github.com/open-io/oio-sds/pull/1799,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1799,"SUMMARY
Revert commit a896feb because the openio-admin commands are too verbose.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b2.dev1","SUMMARY
Revert commit a896feb because the openio-admin commands are too verbose.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.0b2.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1800,2019-06-05T08:38:59Z,2019-06-05T09:47:31Z,2019-06-05T11:53:27Z,MERGED,True,2,0,1,https://github.com/AymericDu,event-agent: Always spawn workers,1,[],https://github.com/open-io/oio-sds/pull/1800,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1800,"SUMMARY
Spawn CPU_COUNT worker when the number of worker is negative (or equals to 0).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.2.9.dev16","SUMMARY
Spawn CPU_COUNT worker when the number of worker is negative (or equals to 0).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.2.9.dev16",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1801,2019-06-05T10:27:21Z,2019-06-05T14:42:26Z,2019-06-05T14:42:30Z,MERGED,True,105,9,4,https://github.com/fvennetier,"Take precautions to prevent ""double master"" situations",3,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1801,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1801,"SUMMARY
This is a backport of #1782, with improvements.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.9.dev17","SUMMARY
This is a backport of #1782, with improvements.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.9.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1801,2019-06-05T10:27:21Z,2019-06-05T14:42:26Z,2019-06-05T14:42:30Z,MERGED,True,105,9,4,https://github.com/fvennetier,"Take precautions to prevent ""double master"" situations",3,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1801,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1801#issuecomment-499073212,"SUMMARY
This is a backport of #1782, with improvements.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.9.dev17","Codecov Report

Merging #1801 into 4.2.x will increase coverage by 0.16%.
The diff coverage is 87.88%.


@@            Coverage Diff             @@
##            4.2.x    #1801      +/-   ##
==========================================
+ Coverage   79.54%   79.69%   +0.16%     
==========================================
  Files         341      341              
  Lines       62362    62390      +28     
  Branches     6744     6748       +4     
==========================================
+ Hits        49597    49718     +121     
+ Misses      12765    12672      -93



Impacted Files
Coverage Δ





sqliterepo/synchro.c
80.43% <100%> (+6.23%)
⬆️


sqliterepo/election.c
90.64% <87.1%> (+0.74%)
⬆️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


oio/api/replication.py
77.55% <0%> (-1.06%)
⬇️


oio/common/utils.py
68.12% <0%> (-0.96%)
⬇️


rawx-lib/src/attr_handler.c
68.58% <0%> (-0.95%)
⬇️


oio/account/backend.py
79.64% <0%> (-0.9%)
⬇️


core/cs.c
81.09% <0%> (-0.45%)
⬇️


sqliterepo/repository.c
72.2% <0%> (-0.31%)
⬇️


resolver/hc_resolver.c
92.55% <0%> (-0.31%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update bd404f1...aca6c77. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1802,2019-06-05T16:45:23Z,2019-06-06T07:44:12Z,2019-06-06T07:54:25Z,MERGED,True,21,13,5,https://github.com/fvennetier,Minor improvements,5,['priority:4 :suspect:'],https://github.com/open-io/oio-sds/pull/1802,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1802,"SUMMARY

Minor upload speed improvement in Python API.
Allow several slots in LB benchmark files.
Increase reliability of some tests.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
tests

SDS VERSION
openio 5.0.0.0rc1.dev4","SUMMARY

Minor upload speed improvement in Python API.
Allow several slots in LB benchmark files.
Increase reliability of some tests.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
tests

SDS VERSION
openio 5.0.0.0rc1.dev4",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1803,2019-06-06T16:10:23Z,2019-07-01T16:49:47Z,2019-07-05T09:17:42Z,MERGED,True,111,31,7,https://github.com/fvennetier,Integrity crawler improvements,4,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1803,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1803,"SUMMARY

 Allow integrity crawler to log to syslog.
 Allow integrity crawler to be run as a daemon
 Allow integrity crawler to be rate limited.
 Allow integrity crawler to automatically trigger object rebuilds (will be implemented later).

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-crawler-integrity

SDS VERSION
openio 4.5.0.0b2.dev6

ADDITIONAL INFORMATION","SUMMARY

 Allow integrity crawler to log to syslog.
 Allow integrity crawler to be run as a daemon
 Allow integrity crawler to be rate limited.
 Allow integrity crawler to automatically trigger object rebuilds (will be implemented later).

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-crawler-integrity

SDS VERSION
openio 4.5.0.0b2.dev6

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1804,2019-06-07T11:20:31Z,2019-06-13T13:14:14Z,2019-06-28T15:57:17Z,MERGED,True,101,4,13,https://github.com/murlock,Set container versioning mode with an object operation,4,[],https://github.com/open-io/oio-sds/pull/1804,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1804,"SUMMARY
This commit introduce possibility to update max_versions when creating
object:
this is useful for container created through autocreate functionality:
for Container Hierarchy, enabling versioning is set on root container,
it is not possible to parse all container to update value and
for performance, a dedicated request to update container is skipped
(as a lot of upload may occurs at same time)
If header 'x-oio-force-versioning is received, the max_versions is updated before completing
object (to keep mechanism to delete prior object if needed)
Fixes OS-373
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
meta2
SDS VERSION
openio 4.5.0.0b1.dev8","SUMMARY
This commit introduce possibility to update max_versions when creating
object:
this is useful for container created through autocreate functionality:
for Container Hierarchy, enabling versioning is set on root container,
it is not possible to parse all container to update value and
for performance, a dedicated request to update container is skipped
(as a lot of upload may occurs at same time)
If header 'x-oio-force-versioning is received, the max_versions is updated before completing
object (to keep mechanism to delete prior object if needed)
Fixes OS-373
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
meta2
SDS VERSION
openio 4.5.0.0b1.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1805,2019-06-10T12:47:16Z,2019-06-10T12:58:49Z,2019-07-03T11:03:08Z,MERGED,True,1,1,1,https://github.com/jfsmig,proxy: Fix the location comparison,1,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1805,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1805,"SUMMARY
Only perform the location comparison when both the proxy and the service have a location.
ISSUE TYPE
bugfix
COMPONENT NAME
oio-proxy
SDS VERSION
openio 4.5.1.dev1","SUMMARY
Only perform the location comparison when both the proxy and the service have a location.
ISSUE TYPE
bugfix
COMPONENT NAME
oio-proxy
SDS VERSION
openio 4.5.1.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1806,2019-06-10T16:40:55Z,2019-06-11T13:34:42Z,2019-07-03T11:03:09Z,MERGED,True,305,107,13,https://github.com/jfsmig,rawx: Fix the program exit and the enforcement of timeouts,7,"['bug :scream:', 'priority:2 :rage4:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1806,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1806,"SUMMARY
Miscellaneous fixes in the golang RAWX, for a better management of the program exit, of client timeouts and incomplete requests (when a body was not expected but sent).
TODO: factorisation, configuration
ISSUE TYPE
bugfix
COMPONENT NAME
rawx
SDS VERSION
openio 4.5.1.dev2","SUMMARY
Miscellaneous fixes in the golang RAWX, for a better management of the program exit, of client timeouts and incomplete requests (when a body was not expected but sent).
TODO: factorisation, configuration
ISSUE TYPE
bugfix
COMPONENT NAME
rawx
SDS VERSION
openio 4.5.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1807,2019-06-10T17:19:02Z,2019-06-11T09:42:34Z,2019-06-11T09:42:38Z,MERGED,True,27,11,2,https://github.com/fvennetier,"Python API: close all EC writers, whatever happens",2,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1807,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1807,"SUMMARY
EC writers used to leak open connections after SourceReadError or SourceReadTimeout exceptions (when the client unexpectedly closes the connection).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.1.dev1","SUMMARY
EC writers used to leak open connections after SourceReadError or SourceReadTimeout exceptions (when the client unexpectedly closes the connection).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.1.dev1",True,{'ROCKET': ['https://github.com/racciari']}
open-io/oio-sds,https://github.com/open-io/oio-sds,1807,2019-06-10T17:19:02Z,2019-06-11T09:42:34Z,2019-06-11T09:42:38Z,MERGED,True,27,11,2,https://github.com/fvennetier,"Python API: close all EC writers, whatever happens",2,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1807,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1807#issuecomment-500767378,"SUMMARY
EC writers used to leak open connections after SourceReadError or SourceReadTimeout exceptions (when the client unexpectedly closes the connection).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.1.dev1","Codecov Report

Merging #1807 into 4.x will increase coverage by 0.08%.
The diff coverage is 87.5%.


@@            Coverage Diff             @@
##              4.x    #1807      +/-   ##
==========================================
+ Coverage   79.89%   79.97%   +0.08%     
==========================================
  Files         371      371              
  Lines       69053    69061       +8     
  Branches     6967     6967              
==========================================
+ Hits        55165    55226      +61     
+ Misses      13782    13731      -51     
+ Partials      106      104       -2



Impacted Files
Coverage Δ





oio/common/green.py
95.75% <100%> (+0.19%)
⬆️


oio/api/ec.py
93.49% <85.72%> (-0.1%)
⬇️


oio/account/client.py
81.61% <0%> (-4.59%)
⬇️


rawx/chunkrepo.go
60% <0%> (-4%)
⬇️


oio/api/replication.py
78.85% <0%> (-2.88%)
⬇️


oio/common/http_urllib3.py
87.5% <0%> (-2.5%)
⬇️


rawx/handler_chunk.go
76.37% <0%> (-1.36%)
⬇️


tests/functional/container/test_replication.py
79.52% <0%> (-1.2%)
⬇️


metautils/lib/utils_resolv.c
65.16% <0%> (-0.75%)
⬇️


server/slab.c
83.77% <0%> (-0.64%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2388ba2...eacfa4b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1808,2019-06-11T16:35:21Z,2019-06-28T12:58:49Z,2019-07-01T13:18:01Z,MERGED,True,12,6,1,https://github.com/AymericDu,Don't raise an exception when chunk rebuild has worked,1,[],https://github.com/open-io/oio-sds/pull/1808,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1808,"SUMMARY
Don't raise an exception when chunk rebuild has worked
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.dev1

ADDITIONAL INFORMATION
Jira: OS-386","SUMMARY
Don't raise an exception when chunk rebuild has worked
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.dev1

ADDITIONAL INFORMATION
Jira: OS-386",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1808,2019-06-11T16:35:21Z,2019-06-28T12:58:49Z,2019-07-01T13:18:01Z,MERGED,True,12,6,1,https://github.com/AymericDu,Don't raise an exception when chunk rebuild has worked,1,[],https://github.com/open-io/oio-sds/pull/1808,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1808#issuecomment-501403205,"SUMMARY
Don't raise an exception when chunk rebuild has worked
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI

SDS VERSION
openio 5.0.0.dev1

ADDITIONAL INFORMATION
Jira: OS-386","Codecov Report

Merging #1808 into 5.0.x will increase coverage by 0.12%.
The diff coverage is 37.5%.


@@            Coverage Diff            @@
##            5.0.x   #1808      +/-   ##
=========================================
+ Coverage   79.38%   79.5%   +0.12%     
=========================================
  Files         386     372      -14     
  Lines       71256   69786    -1470     
  Branches     6896    6893       -3     
=========================================
- Hits        56563   55474    -1089     
+ Misses      14498   14216     -282     
+ Partials      195      96      -99



Impacted Files
Coverage Δ





oio/blob/operator.py
63.64% <37.5%> (-2.21%)
⬇️


tests/functional/cli/admin/test_service_decache.py
66.67% <0%> (-18.75%)
⬇️


oio/directory/admin.py
60.15% <0%> (-6.52%)
⬇️


oio/account/backend.py
80.36% <0%> (-5.35%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-4.93%)
⬇️


oio/blob/indexer.py
66.17% <0%> (-3.75%)
⬇️


meta1v2/meta1_server.c
73.34% <0%> (-1.9%)
⬇️


proxy/metacd_http.c
90.26% <0%> (-1.41%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


server/slab.c
84.42% <0%> (-1.29%)
⬇️


... and 50 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c4660e0...708309b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1809,2019-06-12T14:11:39Z,2019-06-13T14:17:11Z,2019-06-13T14:17:15Z,MERGED,True,53,51,6,https://github.com/fvennetier,Fix annoying or ambiguous logs,3,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1809,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1809,"SUMMARY
Fix various annoying or ambiguous logs we have seen when debugging a customer's platform.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.2.dev1","SUMMARY
Fix various annoying or ambiguous logs we have seen when debugging a customer's platform.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.2.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1810,2019-06-13T13:42:15Z,2019-06-27T13:54:19Z,2019-06-27T13:54:23Z,MERGED,True,29,5,5,https://github.com/fvennetier,Configure event-agent connection pool,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1810,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1810,"SUMMARY
Allow to configure the connection pool of the content_cleaner filter. This will help reducing the number of persistent connections to one service, while keeping at least one persistent connection to each service. If you see too many persistent connections, set:

pool_connections: high value (ideally one per rawx service);
pool_maxsize: low value (one per coroutine, concurrency in the main configuration file).

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.5.2.dev6","SUMMARY
Allow to configure the connection pool of the content_cleaner filter. This will help reducing the number of persistent connections to one service, while keeping at least one persistent connection to each service. If you see too many persistent connections, set:

pool_connections: high value (ideally one per rawx service);
pool_maxsize: low value (one per coroutine, concurrency in the main configuration file).

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.5.2.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1810,2019-06-13T13:42:15Z,2019-06-27T13:54:19Z,2019-06-27T13:54:23Z,MERGED,True,29,5,5,https://github.com/fvennetier,Configure event-agent connection pool,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1810,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1810#issuecomment-506354975,"SUMMARY
Allow to configure the connection pool of the content_cleaner filter. This will help reducing the number of persistent connections to one service, while keeping at least one persistent connection to each service. If you see too many persistent connections, set:

pool_connections: high value (ideally one per rawx service);
pool_maxsize: low value (one per coroutine, concurrency in the main configuration file).

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.5.2.dev6","Codecov Report

Merging #1810 into 4.x will increase coverage by 0.41%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1810      +/-   ##
==========================================
+ Coverage   79.56%   79.96%   +0.41%     
==========================================
  Files         355      371      +16     
  Lines       67518    69741    +2223     
  Branches     6937     7107     +170     
==========================================
+ Hits        53711    55764    +2053     
- Misses      13807    13855      +48     
- Partials        0      122     +122



Impacted Files
Coverage Δ





oio/common/http_urllib3.py
90% <ø> (+2.5%)
⬆️


oio/blob/client.py
89.12% <100%> (ø)
⬆️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/account/backend.py
79.47% <0%> (-1.33%)
⬇️


core/log.c
70.35% <0%> (-1.16%)
⬇️


meta2v2/meta2_backend.c
84.57% <0%> (-1.07%)
⬇️


meta2v2/meta2_filters_extract.c
91.16% <0%> (-0.88%)
⬇️


oio/api/object_storage.py
82.06% <0%> (-0.88%)
⬇️


oio/blob/converter.py
81.02% <0%> (-0.31%)
⬇️


meta2v2/generic.c
73.6% <0%> (-0.16%)
⬇️


... and 73 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0e23dbf...7052018. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1811,2019-06-14T10:31:39Z,2019-06-18T14:04:44Z,2019-07-01T13:17:58Z,MERGED,True,6,4,2,https://github.com/AymericDu,Allow not to have a zookeeper to check meta0,1,[],https://github.com/open-io/oio-sds/pull/1811,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1811,"SUMMARY
Allow not to have a zookeeper to check meta0
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.dev1","SUMMARY
Allow not to have a zookeeper to check meta0
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Admin CLI

SDS VERSION
openio 5.0.0.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1812,2019-06-14T10:34:01Z,2019-06-19T10:30:18Z,2019-07-01T13:17:56Z,MERGED,True,14,11,2,https://github.com/AymericDu,Allow to configure event-agent for asynchronous object replication,1,[],https://github.com/open-io/oio-sds/pull/1812,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1812,"SUMMARY
Allow to deploy event-agent with replication
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-bootstrap

SDS VERSION
openio 4.5.2.dev9","SUMMARY
Allow to deploy event-agent with replication
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-bootstrap

SDS VERSION
openio 4.5.2.dev9",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1812,2019-06-14T10:34:01Z,2019-06-19T10:30:18Z,2019-07-01T13:17:56Z,MERGED,True,14,11,2,https://github.com/AymericDu,Allow to configure event-agent for asynchronous object replication,1,[],https://github.com/open-io/oio-sds/pull/1812,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1812#issuecomment-503219947,"SUMMARY
Allow to deploy event-agent with replication
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-bootstrap

SDS VERSION
openio 4.5.2.dev9","Codecov Report

Merging #1812 into 4.x will increase coverage by 0.23%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1812      +/-   ##
==========================================
+ Coverage   79.66%   79.89%   +0.23%     
==========================================
  Files         355      371      +16     
  Lines       67502    69166    +1664     
  Branches     6934     6972      +38     
==========================================
+ Hits        53769    55251    +1482     
- Misses      13731    13746      +15     
- Partials        2      169     +167



Impacted Files
Coverage Δ





tools/oio-lb-benchmark.c
77.28% <0%> (-6.81%)
⬇️


meta1v2/meta1_server.c
73.59% <0%> (-1.88%)
⬇️


oio/blob/indexer.py
65.91% <0%> (-1.51%)
⬇️


resolver/hc_resolver.c
91.62% <0%> (-1.24%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-1.03%)
⬇️


metautils/lib/common_main.c
49.01% <0%> (-0.56%)
⬇️


core/cs.c
80.64% <0%> (-0.45%)
⬇️


core/proxy.c
82.07% <0%> (-0.35%)
⬇️


core/str.c
89.48% <0%> (-0.23%)
⬇️


meta2v2/meta2_backend.c
85.56% <0%> (-0.08%)
⬇️


... and 73 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 044475c...238cbfc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1813,2019-06-14T13:29:41Z,2019-06-24T14:01:45Z,2020-01-09T07:34:13Z,MERGED,True,120,7,6,https://github.com/murlock,Update max_versions of container from header (part 2),2,[],https://github.com/open-io/oio-sds/pull/1813,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1813,"SUMMARY
This commit bring same mecanism to update sys.m2.policy.versions
from header to content/delete operation: we want to control
if current version of object must be deleted or add a delete marker.
Fixes #OS-373
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
proxy and meta2
SDS VERSION
openio 4.5.2dev4
`","SUMMARY
This commit bring same mecanism to update sys.m2.policy.versions
from header to content/delete operation: we want to control
if current version of object must be deleted or add a delete marker.
Fixes #OS-373
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
proxy and meta2
SDS VERSION
openio 4.5.2dev4
`",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1814,2019-06-17T09:50:12Z,2019-06-20T15:27:45Z,2019-06-20T15:27:49Z,MERGED,True,76,61,1,https://github.com/fvennetier,Python API: rework EC upload code,4,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1814,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1814,"SUMMARY
The previous code may have considered as successes some uploads that had failed (removing elements from the list we are iterating on is a bad thing). Now we build a list with only the chunks which do not see any error yet.
Also, parallelize the upload of the trailers, so a slow chunk upload does not block the termination of the other chunk uploads.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.2.dev4","SUMMARY
The previous code may have considered as successes some uploads that had failed (removing elements from the list we are iterating on is a bad thing). Now we build a list with only the chunks which do not see any error yet.
Also, parallelize the upload of the trailers, so a slow chunk upload does not block the termination of the other chunk uploads.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.2.dev4",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1814,2019-06-17T09:50:12Z,2019-06-20T15:27:45Z,2019-06-20T15:27:49Z,MERGED,True,76,61,1,https://github.com/fvennetier,Python API: rework EC upload code,4,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1814,https://github.com/racciari,2,https://github.com/open-io/oio-sds/pull/1814#issuecomment-504000590,"SUMMARY
The previous code may have considered as successes some uploads that had failed (removing elements from the list we are iterating on is a bad thing). Now we build a list with only the chunks which do not see any error yet.
Also, parallelize the upload of the trailers, so a slow chunk upload does not block the termination of the other chunk uploads.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.2.dev4",LGTM,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1815,2019-06-21T11:46:08Z,2019-06-21T13:57:09Z,2020-01-09T07:34:11Z,MERGED,True,12,12,4,https://github.com/murlock,Python API: fix logger initialization,1,[],https://github.com/open-io/oio-sds/pull/1815,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1815,"SUMMARY
Few parts of Python API were using unset logger
Any logging operation in these parts were ignored
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.5.2.dev4","SUMMARY
Few parts of Python API were using unset logger
Any logging operation in these parts were ignored
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python API
SDS VERSION
openio 4.5.2.dev4",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1816,2019-06-21T12:20:40Z,2019-06-21T14:24:33Z,2019-06-21T14:24:36Z,MERGED,True,56,34,1,https://github.com/fvennetier,Python API: report EC chunks errors only once,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1816,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1816,"SUMMARY
Because of a recent modification, some errors were reported twice (or more!), and the Python API attempted to commit the same chunk several times. This was fortunately blocked by the meta2 (Content broken and irreparable (HTTP 500) (STATUS 425)), and the whole object upload was considered a failure, even though the chunks quorum was reached. This is now fixed.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.2","SUMMARY
Because of a recent modification, some errors were reported twice (or more!), and the Python API attempted to commit the same chunk several times. This was fortunately blocked by the meta2 (Content broken and irreparable (HTTP 500) (STATUS 425)), and the whole object upload was considered a failure, even though the chunks quorum was reached. This is now fixed.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.5.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1817,2019-06-21T16:45:51Z,2019-07-01T16:44:59Z,2019-07-04T10:17:02Z,MERGED,True,391,88,18,https://github.com/AymericDu,Send event when changing container properties,8,['priority:4 :suspect:'],https://github.com/open-io/oio-sds/pull/1817,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1817,"SUMMARY
Create a new event storage.container.update. This event is sent when changing container properties.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo
meta2
proxy
event-agent

SDS VERSION
openio 4.5.3.dev10","SUMMARY
Create a new event storage.container.update. This event is sent when changing container properties.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo
meta2
proxy
event-agent

SDS VERSION
openio 4.5.3.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1818,2019-06-24T06:00:48Z,2019-06-24T11:38:40Z,2019-06-24T11:38:45Z,MERGED,True,99,75,4,https://github.com/murlock,Python API: propagate logger instance,1,[],https://github.com/open-io/oio-sds/pull/1818,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1818,"SUMMARY
This PR allows to use logger from object_create / object_fetch in low level API
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
SDS VERSION
openio 4.5.3","SUMMARY
This PR allows to use logger from object_create / object_fetch in low level API
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
SDS VERSION
openio 4.5.3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1819,2019-06-24T17:11:41Z,2019-06-28T08:20:32Z,2019-06-28T08:20:35Z,MERGED,True,154,61,9,https://github.com/fvennetier,sqliterepo: prevent unneeded loop at election start,5,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1819,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1819,"SUMMARY
External DB_VERS requests used to create the database, but internal ones did not. This resulted in a meta2 service never being elected master during M2_CREATE requests. Now that the internal requests also create the database, a simple benchmark shows a 3x performance increase (3x more meta2 databases created per second).
Jira: OS-411
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.10.dev2","SUMMARY
External DB_VERS requests used to create the database, but internal ones did not. This resulted in a meta2 service never being elected master during M2_CREATE requests. Now that the internal requests also create the database, a simple benchmark shows a 3x performance increase (3x more meta2 databases created per second).
Jira: OS-411
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.10.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1819,2019-06-24T17:11:41Z,2019-06-28T08:20:32Z,2019-06-28T08:20:35Z,MERGED,True,154,61,9,https://github.com/fvennetier,sqliterepo: prevent unneeded loop at election start,5,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1819,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1819#issuecomment-505923637,"SUMMARY
External DB_VERS requests used to create the database, but internal ones did not. This resulted in a meta2 service never being elected master during M2_CREATE requests. Now that the internal requests also create the database, a simple benchmark shows a 3x performance increase (3x more meta2 databases created per second).
Jira: OS-411
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.2.10.dev2",The original patch did not work as expected. Meta2 rebuilders showed too many errors. I had to rework the pull request completely.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1820,2019-06-25T14:29:05Z,2019-06-28T07:48:32Z,2019-07-01T13:17:53Z,MERGED,True,79,0,2,https://github.com/AymericDu,Allow to encode fullpath with UTF-8 args,2,[],https://github.com/open-io/oio-sds/pull/1820,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1820,"SUMMARY
Allow to encode fullpath with UTF-8 args
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.10.dev2","SUMMARY
Allow to encode fullpath with UTF-8 args
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.2.10.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1821,2019-06-26T16:07:58Z,2019-06-27T13:57:54Z,2019-07-03T11:03:14Z,MERGED,True,29,1,3,https://github.com/jfsmig,conf: Manage well the modifiers on second-wide (epoch) time variables,1,"['bug :scream:', 'priority:3 :rage1:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1821,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1821,"SUMMARY
Manage well values in /etc/oio/sds.conf files for variables declared as time since EPOCH, in seconds.
Prior to the fix, they were erroneously considered as millisecond values and they received the same modifier as the ""monotonic"" variables.
ISSUE TYPE
bugfix
COMPONENT NAME
core, conf
SDS VERSION
openio 4.5.4.dev4","SUMMARY
Manage well values in /etc/oio/sds.conf files for variables declared as time since EPOCH, in seconds.
Prior to the fix, they were erroneously considered as millisecond values and they received the same modifier as the ""monotonic"" variables.
ISSUE TYPE
bugfix
COMPONENT NAME
core, conf
SDS VERSION
openio 4.5.4.dev4",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1821,2019-06-26T16:07:58Z,2019-06-27T13:57:54Z,2019-07-03T11:03:14Z,MERGED,True,29,1,3,https://github.com/jfsmig,conf: Manage well the modifiers on second-wide (epoch) time variables,1,"['bug :scream:', 'priority:3 :rage1:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1821,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1821#issuecomment-505941651,"SUMMARY
Manage well values in /etc/oio/sds.conf files for variables declared as time since EPOCH, in seconds.
Prior to the fix, they were erroneously considered as millisecond values and they received the same modifier as the ""monotonic"" variables.
ISSUE TYPE
bugfix
COMPONENT NAME
core, conf
SDS VERSION
openio 4.5.4.dev4",/cc @ybussy,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1821,2019-06-26T16:07:58Z,2019-06-27T13:57:54Z,2019-07-03T11:03:14Z,MERGED,True,29,1,3,https://github.com/jfsmig,conf: Manage well the modifiers on second-wide (epoch) time variables,1,"['bug :scream:', 'priority:3 :rage1:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1821,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1821#issuecomment-506244849,"SUMMARY
Manage well values in /etc/oio/sds.conf files for variables declared as time since EPOCH, in seconds.
Prior to the fix, they were erroneously considered as millisecond values and they received the same modifier as the ""monotonic"" variables.
ISSUE TYPE
bugfix
COMPONENT NAME
core, conf
SDS VERSION
openio 4.5.4.dev4","Codecov Report

❗ No coverage uploaded for pull request base (4.x@443b5bc). Click here to learn what that means.
The diff coverage is 0%.


@@          Coverage Diff           @@
##             4.x    #1821   +/-   ##
======================================
  Coverage       ?   79.89%           
======================================
  Files          ?      371           
  Lines          ?    69254           
  Branches       ?     6977           
======================================
  Hits           ?    55325           
  Misses         ?    13769           
  Partials       ?      160



Impacted Files
Coverage Δ





core/var.c
71.93% <0%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 443b5bc...8d79112. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1822,2019-06-27T17:41:04Z,2019-06-28T09:31:11Z,2019-06-28T09:31:15Z,MERGED,True,27,13,3,https://github.com/fvennetier,oio-blob-mover: implement concurrency,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1822,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1822,"SUMMARY
The chunk mover will now use 10 coroutines to move chunks in parallel. This can be changed with the concurrency parameter in the configuration file. The rate limiting is global (not per each coroutine).
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-mover

SDS VERSION
openio 4.5.4.dev5","SUMMARY
The chunk mover will now use 10 coroutines to move chunks in parallel. This can be changed with the concurrency parameter in the configuration file. The rate limiting is global (not per each coroutine).
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-mover

SDS VERSION
openio 4.5.4.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1822,2019-06-27T17:41:04Z,2019-06-28T09:31:11Z,2019-06-28T09:31:15Z,MERGED,True,27,13,3,https://github.com/fvennetier,oio-blob-mover: implement concurrency,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1822,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1822#issuecomment-506664582,"SUMMARY
The chunk mover will now use 10 coroutines to move chunks in parallel. This can be changed with the concurrency parameter in the configuration file. The rate limiting is global (not per each coroutine).
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-mover

SDS VERSION
openio 4.5.4.dev5","Codecov Report

Merging #1822 into 4.x will increase coverage by 0.02%.
The diff coverage is 60%.


@@            Coverage Diff             @@
##              4.x    #1822      +/-   ##
==========================================
+ Coverage   79.96%   79.98%   +0.02%     
==========================================
  Files         371      371              
  Lines       69254    69256       +2     
  Branches     6977     6977              
==========================================
+ Hits        55374    55386      +12     
+ Misses      13760    13748      -12     
- Partials      120      122       +2



Impacted Files
Coverage Δ





oio/blob/mover.py
46.05% <60%> (+0.06%)
⬆️


tests/functional/m2_filters/test_filters.py
63.64% <0%> (-33.33%)
⬇️


oio/ecd/app.py
59.53% <0%> (-5.95%)
⬇️


meta2v2/meta2_filters_check.c
70.5% <0%> (-3.27%)
⬇️


meta1v2/meta1_server.c
73.59% <0%> (-1.88%)
⬇️


rawx/handler_chunk.go
71.8% <0%> (-1.7%)
⬇️


tests/functional/container/test_replication.py
80.73% <0%> (-1.2%)
⬇️


oio/directory/meta1.py
88.51% <0%> (-1.14%)
⬇️


oio/directory/admin.py
72.35% <0%> (-1.06%)
⬇️


oio/conscience/client.py
88.47% <0%> (-0.96%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 10f3978...0c14aa7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1823,2019-06-28T09:12:09Z,2019-07-08T13:52:17Z,2019-07-09T08:20:27Z,MERGED,True,51,50,10,https://github.com/AymericDu,Rename '--workers' to '--concurrency',1,[],https://github.com/open-io/oio-sds/pull/1823,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1823,"SUMMARY
Rename '--workers' to '--concurrency' to avoid confusion:

workers -> processes
concurrency -> coroutines

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Admin CLI
oio-blob-improver
oio-blob-rebuilder
oio-meta1-rebuilder
oio-meta2-rebuilder
openio directory warmup

SDS VERSION
openio 5.0.1.dev1","SUMMARY
Rename '--workers' to '--concurrency' to avoid confusion:

workers -> processes
concurrency -> coroutines

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Admin CLI
oio-blob-improver
oio-blob-rebuilder
oio-meta1-rebuilder
oio-meta2-rebuilder
openio directory warmup

SDS VERSION
openio 5.0.1.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1824,2019-06-28T13:26:10Z,2019-07-01T11:56:16Z,2019-07-01T13:17:51Z,MERGED,True,53,11,3,https://github.com/AymericDu,"Retry failed rebuild jobs, with a delay",1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1824,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1824,"SUMMARY
Retry failed rebuild jobs, with a delay.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.6.0.dev1","SUMMARY
Retry failed rebuild jobs, with a delay.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.6.0.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1824,2019-06-28T13:26:10Z,2019-07-01T11:56:16Z,2019-07-01T13:17:51Z,MERGED,True,53,11,3,https://github.com/AymericDu,"Retry failed rebuild jobs, with a delay",1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1824,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1824#issuecomment-507150809,"SUMMARY
Retry failed rebuild jobs, with a delay.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.6.0.dev1","Codecov Report

Merging #1824 into 4.x will increase coverage by 0.01%.
The diff coverage is 21.43%.


@@            Coverage Diff             @@
##              4.x    #1824      +/-   ##
==========================================
+ Coverage   79.93%   79.93%   +0.01%     
==========================================
  Files         371      372       +1     
  Lines       69290    69323      +33     
  Branches     6758     6976     +218     
==========================================
+ Hits        55379    55407      +28     
- Misses      13789    13794       +5     
  Partials      122      122



Impacted Files
Coverage Δ





oio/rebuilder/rebuilder.py
40.87% <0%> (ø)
⬆️


oio/rebuilder/blob_rebuilder.py
29.74% <22.23%> (-1.15%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/directory/admin.py
71.28% <0%> (-2.12%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


proxy/metacd_http.c
89.61% <0%> (-1.41%)
⬇️


server/slab.c
83.77% <0%> (-1.29%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-1.23%)
⬇️


oio/api/base.py
93.55% <0%> (-1.07%)
⬇️


rawx-apache2/src/rawx_repository.c
56.02% <0%> (-0.82%)
⬇️


... and 29 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a3696c5...f1affeb. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1825,2019-07-03T18:25:17Z,2019-07-16T08:38:37Z,2020-01-09T08:23:09Z,MERGED,True,215,97,4,https://github.com/murlock,Allow lifecycle to work with sharded buckets,1,[],https://github.com/open-io/oio-sds/pull/1825,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1825,"SUMMARY
This PR will allow LifeCycle to be applied on bucket with Container Hierarcht=y
This behavior is triggered by flag on command line.
If set, a container listing will be triggered with container%2F as prefix.
The object listing will enrich metadata of objects to contains
original name in current container, computed name (with path)
and current container.
All tests against filter are unchanged, but API calls will use
org_name and container's object
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python LifeCycle
SDS VERSION
4.6.1dev3","SUMMARY
This PR will allow LifeCycle to be applied on bucket with Container Hierarcht=y
This behavior is triggered by flag on command line.
If set, a container listing will be triggered with container%2F as prefix.
The object listing will enrich metadata of objects to contains
original name in current container, computed name (with path)
and current container.
All tests against filter are unchanged, but API calls will use
org_name and container's object
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
Python LifeCycle
SDS VERSION
4.6.1dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1826,2019-07-04T08:47:17Z,2019-07-04T10:13:26Z,2019-07-04T10:14:57Z,MERGED,True,16,2,3,https://github.com/AymericDu,Allow to delete all container properties,2,[],https://github.com/open-io/oio-sds/pull/1826,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1826,"SUMMARY
Allow to delete all container properties.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo
CLI

SDS VERSION
openio 4.6.1.dev2","SUMMARY
Allow to delete all container properties.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo
CLI

SDS VERSION
openio 4.6.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1827,2019-07-05T11:39:51Z,2019-07-08T09:05:03Z,2019-07-08T09:05:06Z,MERGED,True,16,8,4,https://github.com/fvennetier,blob-rebuilder: implement --rdir-timeout parameter,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1827,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1827,"SUMMARY
This new parameter allows to set the timeout for rdir operations. The
default value is 60.0s (was 30s before this commit).
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.2.11.dev12","SUMMARY
This new parameter allows to set the timeout for rdir operations. The
default value is 60.0s (was 30s before this commit).
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.2.11.dev12",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1828,2019-07-05T14:03:44Z,2019-07-08T09:04:10Z,2019-07-08T09:04:14Z,MERGED,True,138,98,12,https://github.com/fvennetier,Prevent slow ZK callbacks from creating empty databases,5,[],https://github.com/open-io/oio-sds/pull/1828,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1828,"SUMMARY
We recently allowed internal calls get_version to create dummy database files, in order to make meta2 database creation faster. But in the case of slow Zookeeper callbacks (few milliseconds vs. few microseconds), coming after actual database removal, this resulted in dummy database staying there forever. Now we check if an election leave order has not been received before calling get_version.
Also, a few tools have been developed to help debugging this issue.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.6.1.dev2","SUMMARY
We recently allowed internal calls get_version to create dummy database files, in order to make meta2 database creation faster. But in the case of slow Zookeeper callbacks (few milliseconds vs. few microseconds), coming after actual database removal, this resulted in dummy database staying there forever. Now we check if an election leave order has not been received before calling get_version.
Also, a few tools have been developed to help debugging this issue.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.6.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1828,2019-07-05T14:03:44Z,2019-07-08T09:04:10Z,2019-07-08T09:04:14Z,MERGED,True,138,98,12,https://github.com/fvennetier,Prevent slow ZK callbacks from creating empty databases,5,[],https://github.com/open-io/oio-sds/pull/1828,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1828#issuecomment-508794192,"SUMMARY
We recently allowed internal calls get_version to create dummy database files, in order to make meta2 database creation faster. But in the case of slow Zookeeper callbacks (few milliseconds vs. few microseconds), coming after actual database removal, this resulted in dummy database staying there forever. Now we check if an election leave order has not been received before calling get_version.
Also, a few tools have been developed to help debugging this issue.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.6.1.dev2","Codecov Report

Merging #1828 into 4.x will increase coverage by 0.29%.
The diff coverage is 86.37%.


@@            Coverage Diff            @@
##              4.x   #1828      +/-   ##
=========================================
+ Coverage   79.72%     80%   +0.29%     
=========================================
  Files         356     372      +16     
  Lines       67812   69492    +1680     
  Branches     6957    6995      +38     
=========================================
+ Hits        54055   55591    +1536     
- Misses      13757   13779      +22     
- Partials        0     122     +122



Impacted Files
Coverage Δ





tests/unit/test_sqliterepo_election.c
96.37% <ø> (ø)
⬆️


sqliterepo/synchro.c
80.27% <100%> (+6.46%)
⬆️


tests/functional/api/test_objectstorage.py
97.4% <100%> (ø)
⬆️


core/ext.c
96.09% <100%> (+0.02%)
⬆️


oio/directory/admin.py
72.53% <72.73%> (+20.4%)
⬆️


tests/utils.py
91.62% <81.82%> (+3.58%)
⬆️


sqliterepo/election.c
89.86% <88.89%> (+3.83%)
⬆️


oio/container/client.py
84.42% <0%> (-2.64%)
⬇️


proxy/metacd_http.c
89.93% <0%> (-1.41%)
⬇️


oio/blob/auditor.py
58.29% <0%> (-1.14%)
⬇️


... and 80 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 75c98f3...57f0986. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1829,2019-07-08T16:23:43Z,2019-07-17T15:37:33Z,2019-07-17T15:37:36Z,MERGED,True,68,38,4,https://github.com/fvennetier,Better request IDs,2,"['priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1829,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1829,"SUMMARY
Implement a new decorator allowing to generate prefixed request IDs. Use this decorator in meta2 mover and rebuilder.
Also fix a bunch of typos.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.6.1.dev13","SUMMARY
Implement a new decorator allowing to generate prefixed request IDs. Use this decorator in meta2 mover and rebuilder.
Also fix a bunch of typos.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.6.1.dev13",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1829,2019-07-08T16:23:43Z,2019-07-17T15:37:33Z,2019-07-17T15:37:36Z,MERGED,True,68,38,4,https://github.com/fvennetier,Better request IDs,2,"['priority:4 :suspect:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1829,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1829#issuecomment-509296560,"SUMMARY
Implement a new decorator allowing to generate prefixed request IDs. Use this decorator in meta2 mover and rebuilder.
Also fix a bunch of typos.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.6.1.dev13","Codecov Report

Merging #1829 into master will decrease coverage by 16.31%.
The diff coverage is 28.58%.


@@            Coverage Diff             @@
##           master    #1829      +/-   ##
==========================================
- Coverage   79.34%   63.03%   -16.3%     
==========================================
  Files         387      263     -124     
  Lines       71765    53527   -18238     
  Branches     6924     6744     -180     
==========================================
- Hits        56938    33738   -23200     
- Misses      14615    19521    +4906     
- Partials      212      268      +56



Impacted Files
Coverage Δ





proxy/m2_actions.c
64.22% <ø> (-24.8%)
⬇️


oio/common/decorators.py
73.44% <28.58%> (-24.56%)
⬇️


metautils/lib/storage_policy.h
0% <0%> (-100%)
⬇️


core/http_put.c
8.44% <0%> (-83.63%)
⬇️


events/oio_events_queue_fanout.c
0% <0%> (-82.05%)
⬇️


core/sds.c
0.23% <0%> (-79.7%)
⬇️


meta2v2/meta2_utils_lb.c
0% <0%> (-78.2%)
⬇️


meta0v2/zk_manager.c
0% <0%> (-77.16%)
⬇️


sqliterepo/synchro.c
11.32% <0%> (-68.94%)
⬇️


core/dir.c
0% <0%> (-68.58%)
⬇️


... and 258 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1fffc4d...f7b8cdf. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1830,2019-07-09T13:51:25Z,2019-07-16T13:05:56Z,2019-07-16T13:06:01Z,MERGED,True,273,216,7,https://github.com/fvennetier,oio-crawler-integrity: report missing chunk positions,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1830,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1830,"SUMMARY
Actually report missing chunk positions. These were reported on the standard log, but not in output files. This is now fixed.
Also, check the number of chunks against the quorum before reporting errors, such that missing chunks are potentially reported as irreparable (and not uselessly sent to the blob-rebuilder).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-crawler-integrity

SDS VERSION
openio 4.6.1.dev12","SUMMARY
Actually report missing chunk positions. These were reported on the standard log, but not in output files. This is now fixed.
Also, check the number of chunks against the quorum before reporting errors, such that missing chunks are potentially reported as irreparable (and not uselessly sent to the blob-rebuilder).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-crawler-integrity

SDS VERSION
openio 4.6.1.dev12",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1831,2019-07-10T12:00:44Z,2019-07-15T07:29:22Z,2019-07-15T07:29:22Z,MERGED,True,8,2,2,https://github.com/kamel-rahim,Event: Do not create _RDIR account on reference operations,1,[],https://github.com/open-io/oio-sds/pull/1831,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1831,"SUMMARY

_RDIR is a hidden account and should not be present in the account database.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

events
SDS VERSION

openio 4.6.1.dev12

ADDITIONAL INFORMATION


Jira: OS-246","SUMMARY

_RDIR is a hidden account and should not be present in the account database.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

events
SDS VERSION

openio 4.6.1.dev12

ADDITIONAL INFORMATION


Jira: OS-246",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1831,2019-07-10T12:00:44Z,2019-07-15T07:29:22Z,2019-07-15T07:29:22Z,MERGED,True,8,2,2,https://github.com/kamel-rahim,Event: Do not create _RDIR account on reference operations,1,[],https://github.com/open-io/oio-sds/pull/1831,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1831#issuecomment-510960937,"SUMMARY

_RDIR is a hidden account and should not be present in the account database.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

events
SDS VERSION

openio 4.6.1.dev12

ADDITIONAL INFORMATION


Jira: OS-246","Codecov Report

Merging #1831 into 5.0.x will increase coverage by 0.56%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##            5.0.x    #1831      +/-   ##
==========================================
+ Coverage   78.72%   79.28%   +0.56%     
==========================================
  Files         387      387              
  Lines       71714    71715       +1     
  Branches     6925     6924       -1     
==========================================
+ Hits        56450    56849     +399     
+ Misses      15052    14654     -398     
  Partials      212      212



Impacted Files
Coverage Δ





oio/common/constants.py
100% <100%> (ø)
⬆️


oio/content/plain.py
72.42% <0%> (-3.44%)
⬇️


oio/common/green.py
87.39% <0%> (-2.7%)
⬇️


meta0v2/meta0_backend.c
76.64% <0%> (-1.22%)
⬇️


oio/container/backup.py
72.7% <0%> (-1.22%)
⬇️


oio/api/replication.py
81.34% <0%> (-0.95%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
80.32% <0%> (-0.78%)
⬇️


oio/common/storage_functions.py
87.86% <0%> (-0.71%)
⬇️


meta2v2/meta2_filters_action_content.c
93.32% <0%> (-0.49%)
⬇️


oio/api/ec.py
91.9% <0%> (-0.47%)
⬇️


... and 48 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3642934...aed0a58. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1832,2019-07-11T16:37:55Z,2019-07-16T09:34:49Z,2019-07-16T09:34:49Z,MERGED,True,103,10,2,https://github.com/kamel-rahim,Integrity crawler: fix rebuilder input,3,[],https://github.com/open-io/oio-sds/pull/1832,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1832,"SUMMARY

Fix error when --output-for-blob-rebuilder is used with only object checking.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

oio-crawler-integrity
SDS VERSION

openio 4.6.0

ADDITIONAL INFORMATION

Jira: OS-423","SUMMARY

Fix error when --output-for-blob-rebuilder is used with only object checking.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

oio-crawler-integrity
SDS VERSION

openio 4.6.0

ADDITIONAL INFORMATION

Jira: OS-423",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1833,2019-07-12T13:27:09Z,2019-07-15T19:56:36Z,2019-07-15T22:40:39Z,MERGED,True,9,7749,33,https://github.com/jfsmig,Get rid of the httpd-based rawx,4,"['duplicate', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1833,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1833,"SUMMARY
Stop building the rawx based on httpd, and rely only on the golang implementation.
ISSUE TYPE
cleanup
COMPONENT NAME
rawx
SDS VERSION
openio 4.6.1.dev14","SUMMARY
Stop building the rawx based on httpd, and rely only on the golang implementation.
ISSUE TYPE
cleanup
COMPONENT NAME
rawx
SDS VERSION
openio 4.6.1.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1834,2019-07-12T15:20:09Z,2019-07-15T21:15:49Z,2019-07-15T22:40:37Z,MERGED,True,318,49,16,https://github.com/jfsmig,Depend on the mainstream asn1c,5,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1834,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1834,"SUMMARY
Depend on the mainstream ASN.1 compiler, asn1c,  instead of our modified version. The result works with both the modified and the mainstream versions.
We integrated the changes directly in our metautils library.
ISSUE TYPE
Packaging simplification
COMPONENT NAME
metautils, meta2, sqlx
SDS VERSION
openio 4.6.1.dev14","SUMMARY
Depend on the mainstream ASN.1 compiler, asn1c,  instead of our modified version. The result works with both the modified and the mainstream versions.
We integrated the changes directly in our metautils library.
ISSUE TYPE
Packaging simplification
COMPONENT NAME
metautils, meta2, sqlx
SDS VERSION
openio 4.6.1.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1835,2019-07-12T15:57:33Z,2019-08-26T14:25:24Z,2019-08-26T14:25:27Z,MERGED,True,342,89,5,https://github.com/fvennetier,Better integrity crawler,3,[],https://github.com/open-io/oio-sds/pull/1835,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1835,"SUMMARY

Implement new parameters to control when the tool reports problems:

after a specified number of confirmations,
after a specified delay.


Allow the tool to wait between passes.
Send broken object events to a user-selected queue, for example the input queue of oio-blob-rebuilder. It is advised to also specify a delay before sending events, otherwise temporary failures may trigger unwanted chunk rebuilds.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-crawler-integrity

SDS VERSION
openio 4.6.1.dev15","SUMMARY

Implement new parameters to control when the tool reports problems:

after a specified number of confirmations,
after a specified delay.


Allow the tool to wait between passes.
Send broken object events to a user-selected queue, for example the input queue of oio-blob-rebuilder. It is advised to also specify a delay before sending events, otherwise temporary failures may trigger unwanted chunk rebuilds.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-crawler-integrity

SDS VERSION
openio 4.6.1.dev15",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1835,2019-07-12T15:57:33Z,2019-08-26T14:25:24Z,2019-08-26T14:25:27Z,MERGED,True,342,89,5,https://github.com/fvennetier,Better integrity crawler,3,[],https://github.com/open-io/oio-sds/pull/1835,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1835#issuecomment-516942121,"SUMMARY

Implement new parameters to control when the tool reports problems:

after a specified number of confirmations,
after a specified delay.


Allow the tool to wait between passes.
Send broken object events to a user-selected queue, for example the input queue of oio-blob-rebuilder. It is advised to also specify a delay before sending events, otherwise temporary failures may trigger unwanted chunk rebuilds.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-crawler-integrity

SDS VERSION
openio 4.6.1.dev15","When we use delayed_targets without daemon mode, the broken items are not written to output.

Yes, hence the warning in the documentation.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1836,2019-07-12T16:29:15Z,2019-07-15T22:39:36Z,2019-07-15T22:40:35Z,MERGED,True,82,2958,37,https://github.com/jfsmig,Drop the sqlx service,6,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1836,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1836,"SUMMARY
Remove the code of the service and some indirect code.
ISSUE TYPE
cleanup
COMPONENT NAME
sqlx, sqliterepo
SDS VERSION
openio 4.6.1.dev13","SUMMARY
Remove the code of the service and some indirect code.
ISSUE TYPE
cleanup
COMPONENT NAME
sqlx, sqliterepo
SDS VERSION
openio 4.6.1.dev13",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1837,2019-07-16T10:38:51Z,2019-07-24T15:24:03Z,2019-07-31T14:14:57Z,MERGED,True,1346,2096,49,https://github.com/jfsmig,Cleanup of libraries and dependencies,10,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1837,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1837,"SUMMARY

Instead of building .so shared objects for private libraries, and managing a version number for each, we build .a archives statically linked with the binary tools. We only keep the oiosds (C client SDK) and  oiocore (dynamically loaded from the python SDK. It reduces the number of installed items by a factor 2.
oio-proxy does not require anymore sqliterepo and sqlite3.
oio-proxy does not require libcurl, it was spotted that it occasionally requested the local proxy (itself) for information it had already locally in cache.
Unused code has been removed.

ISSUE TYPE
enhancement
COMPONENT NAME
*
SDS VERSION
openio 4.6.1.dev17","SUMMARY

Instead of building .so shared objects for private libraries, and managing a version number for each, we build .a archives statically linked with the binary tools. We only keep the oiosds (C client SDK) and  oiocore (dynamically loaded from the python SDK. It reduces the number of installed items by a factor 2.
oio-proxy does not require anymore sqliterepo and sqlite3.
oio-proxy does not require libcurl, it was spotted that it occasionally requested the local proxy (itself) for information it had already locally in cache.
Unused code has been removed.

ISSUE TYPE
enhancement
COMPONENT NAME
*
SDS VERSION
openio 4.6.1.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1838,2019-07-16T11:38:11Z,2019-07-16T13:56:38Z,2019-07-16T18:00:30Z,MERGED,True,41,4,4,https://github.com/AymericDu,blob-mover: Allow to exclude some rawx,1,"['enhancement :sparkles:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1838,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1838,"SUMMARY
Allow to exclude some rawx
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-mover

SDS VERSION
openio 4.6.1.dev10","SUMMARY
Allow to exclude some rawx
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-mover

SDS VERSION
openio 4.6.1.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1838,2019-07-16T11:38:11Z,2019-07-16T13:56:38Z,2019-07-16T18:00:30Z,MERGED,True,41,4,4,https://github.com/AymericDu,blob-mover: Allow to exclude some rawx,1,"['enhancement :sparkles:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1838,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1838#issuecomment-511922732,"SUMMARY
Allow to exclude some rawx
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-mover

SDS VERSION
openio 4.6.1.dev10","Codecov Report

Merging #1838 into 4.x will increase coverage by 0.02%.
The diff coverage is 46.43%.


@@            Coverage Diff             @@
##              4.x    #1838      +/-   ##
==========================================
+ Coverage   80.05%   80.06%   +0.02%     
==========================================
  Files         373      373              
  Lines       69592    69619      +27     
  Branches     6995     6995              
==========================================
+ Hits        55706    55736      +30     
+ Misses      13764    13761       -3     
  Partials      122      122



Impacted Files
Coverage Δ





oio/content/content.py
80% <33.34%> (-1.57%)
⬇️


oio/blob/mover.py
46.5% <52.64%> (+0.46%)
⬆️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


meta2v2/meta2_filters_check.c
70.5% <0%> (-3.27%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/blob/indexer.py
67.43% <0%> (-2.27%)
⬇️


metautils/lib/gridd_client_ext.c
81.35% <0%> (-1.49%)
⬇️


proxy/metacd_http.c
89.93% <0%> (-1.41%)
⬇️


tests/functional/container/test_replication.py
80.73% <0%> (-1.2%)
⬇️


oio/directory/admin.py
72.53% <0%> (-1.09%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 543965a...58a5507. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1839,2019-07-17T15:52:46Z,2019-08-09T12:18:17Z,2019-08-09T12:18:29Z,MERGED,True,226,8,14,https://github.com/fvennetier,Defragment meta2 databases on demand,2,[],https://github.com/open-io/oio-sds/pull/1839,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1839,"SUMMARY
Defragment (call vacuum) the database on the master service, then resynchronize it on the slaves. This works for meta0, meta1 and meta2 services, but the CLI only implements it for meta2 services (openio-admin container vacuum).
Jira: OS-299
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo
CLI

SDS VERSION
openio 4.6.1.dev25","SUMMARY
Defragment (call vacuum) the database on the master service, then resynchronize it on the slaves. This works for meta0, meta1 and meta2 services, but the CLI only implements it for meta2 services (openio-admin container vacuum).
Jira: OS-299
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo
CLI

SDS VERSION
openio 4.6.1.dev25",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1840,2019-07-18T12:22:44Z,2019-07-22T16:26:30Z,2019-07-22T16:26:40Z,MERGED,True,255,31,16,https://github.com/AymericDu,Allow to simulate versioning when creating and deleting an object,3,[],https://github.com/open-io/oio-sds/pull/1840,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1840,"SUMMARY
Allow to simulate versioning when creating and deleting an object
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 4.6.1.dev16","SUMMARY
Allow to simulate versioning when creating and deleting an object
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 4.6.1.dev16",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1840,2019-07-18T12:22:44Z,2019-07-22T16:26:30Z,2019-07-22T16:26:40Z,MERGED,True,255,31,16,https://github.com/AymericDu,Allow to simulate versioning when creating and deleting an object,3,[],https://github.com/open-io/oio-sds/pull/1840,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/1840#issuecomment-513274989,"SUMMARY
Allow to simulate versioning when creating and deleting an object
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 4.6.1.dev16",We should add a note to avoid using force_versioning and simulate_versioning at same time IMO,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1840,2019-07-18T12:22:44Z,2019-07-22T16:26:30Z,2019-07-22T16:26:40Z,MERGED,True,255,31,16,https://github.com/AymericDu,Allow to simulate versioning when creating and deleting an object,3,[],https://github.com/open-io/oio-sds/pull/1840,https://github.com/AymericDu,3,https://github.com/open-io/oio-sds/pull/1840#issuecomment-513288508,"SUMMARY
Allow to simulate versioning when creating and deleting an object
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 4.6.1.dev16","We should add a note to avoid using force_versioning and simulate_versioning at same time IMO

We can use force_versioning and simulate_versioning at same time. It will simulate the versioning and change its actual value.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1841,2019-07-18T15:22:37Z,2019-07-24T13:07:22Z,2019-07-24T21:30:03Z,MERGED,True,255,92,14,https://github.com/AymericDu,Allow to add delete marker to a specific version,6,[],https://github.com/open-io/oio-sds/pull/1841,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1841,"SUMMARY
Allow to add delete marker to a specific version
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 4.6.1.dev19","SUMMARY
Allow to add delete marker to a specific version
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 4.6.1.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1841,2019-07-18T15:22:37Z,2019-07-24T13:07:22Z,2019-07-24T21:30:03Z,MERGED,True,255,92,14,https://github.com/AymericDu,Allow to add delete marker to a specific version,6,[],https://github.com/open-io/oio-sds/pull/1841,https://github.com/AymericDu,2,https://github.com/open-io/oio-sds/pull/1841#issuecomment-513855022,"SUMMARY
Allow to add delete marker to a specific version
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 4.6.1.dev19","On purpose itself of the current PR, are we allowed to choose whether or not a Deletion marker is opportune? Isn't it mandatory by the (s3) norm?

Indeed, the norm does not allow to create a delete marker on a specific version. We can only create one on the latest version.
But oio-replicator has no guarantee on the order of events, we must have a way to create a delete marker on a specific version.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1841,2019-07-18T15:22:37Z,2019-07-24T13:07:22Z,2019-07-24T21:30:03Z,MERGED,True,255,92,14,https://github.com/AymericDu,Allow to add delete marker to a specific version,6,[],https://github.com/open-io/oio-sds/pull/1841,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/1841#issuecomment-514807295,"SUMMARY
Allow to add delete marker to a specific version
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 4.6.1.dev19","Codecov Report

Merging #1841 into 4.x will increase coverage by 0.34%.
The diff coverage is 97.95%.


@@            Coverage Diff             @@
##              4.x    #1841      +/-   ##
==========================================
+ Coverage   79.79%   80.13%   +0.34%     
==========================================
  Files         373      373              
  Lines       69746    69831      +85     
  Branches     6962     7007      +45     
==========================================
+ Hits        55648    55950     +302     
+ Misses      13976    13759     -217     
  Partials      122      122



Impacted Files
Coverage Δ





meta2v2/meta2_gridd_dispatcher.c
78.13% <ø> (ø)
⬆️


proxy/meta2v2_remote.c
85.32% <100%> (+0.12%)
⬆️


meta2v2/meta2_backend.c
85.72% <100%> (-0.1%)
⬇️


tests/unit/test_meta2_backend.c
99.16% <100%> (ø)
⬆️


meta2v2/meta2_filters_extract.c
91.87% <100%> (-0.56%)
⬇️


proxy/m2_actions.c
89.08% <100%> (+0.09%)
⬆️


meta2v2/meta2_filters_action_content.c
93.72% <100%> (+0.58%)
⬆️


tests/functional/container/test_container.py
98.92% <100%> (+0.17%)
⬆️


meta2v2/meta2_utils.c
86.52% <96.21%> (+0.36%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


... and 50 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ee927c1...46f7ae1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1842,2019-07-22T10:28:50Z,2019-08-09T12:37:02Z,2019-08-21T22:35:49Z,CLOSED,False,505,472,23,https://github.com/jfsmig,Prepare contents in the proxy,16,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1842,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1842,"SUMMARY
Perform the chunks polling in oio-proxy instead of oio-meta2-server.

One RPC less in the PUT roundtrip: reduced latency but no preliminary check of the existence of the content.
The storage policy is now required in the content/prepare request, then known by the client.

ISSUE TYPE
enhancement
COMPONENT NAME
proxy, meta2
SDS VERSION
openio 4.6.1.dev19","SUMMARY
Perform the chunks polling in oio-proxy instead of oio-meta2-server.

One RPC less in the PUT roundtrip: reduced latency but no preliminary check of the existence of the content.
The storage policy is now required in the content/prepare request, then known by the client.

ISSUE TYPE
enhancement
COMPONENT NAME
proxy, meta2
SDS VERSION
openio 4.6.1.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1842,2019-07-22T10:28:50Z,2019-08-09T12:37:02Z,2019-08-21T22:35:49Z,CLOSED,False,505,472,23,https://github.com/jfsmig,Prepare contents in the proxy,16,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/1842,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1842#issuecomment-519902234,"SUMMARY
Perform the chunks polling in oio-proxy instead of oio-meta2-server.

One RPC less in the PUT roundtrip: reduced latency but no preliminary check of the existence of the content.
The storage policy is now required in the content/prepare request, then known by the client.

ISSUE TYPE
enhancement
COMPONENT NAME
proxy, meta2
SDS VERSION
openio 4.6.1.dev19",Superseded by #1855,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1843,2019-07-23T13:59:09Z,2019-07-24T10:20:35Z,2020-01-09T07:41:40Z,MERGED,True,1,0,1,https://github.com/murlock,Avoid pyparsing 2.4.1,1,[],https://github.com/open-io/oio-sds/pull/1843,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1843,"SUMMARY
The new pyparsing release is not compatible with cmd2 package.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python
SDS VERSION
4.6.0dev1","SUMMARY
The new pyparsing release is not compatible with cmd2 package.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python
SDS VERSION
4.6.0dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1843,2019-07-23T13:59:09Z,2019-07-24T10:20:35Z,2020-01-09T07:41:40Z,MERGED,True,1,0,1,https://github.com/murlock,Avoid pyparsing 2.4.1,1,[],https://github.com/open-io/oio-sds/pull/1843,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1843#issuecomment-514572946,"SUMMARY
The new pyparsing release is not compatible with cmd2 package.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python
SDS VERSION
4.6.0dev1","Codecov Report

Merging #1843 into 4.x will increase coverage by 22.02%.
The diff coverage is n/a.


@@             Coverage Diff             @@
##              4.x    #1843       +/-   ##
===========================================
+ Coverage   57.72%   79.73%   +22.02%     
===========================================
  Files         246      373      +127     
  Lines       51989    69746    +17757     
  Branches     6810     6962      +152     
===========================================
+ Hits        30004    55608    +25604     
+ Misses      21985    14016     -7969     
- Partials        0      122      +122



Impacted Files
Coverage Δ





oio/cli/account/client.py
71.43% <0%> (ø)



tests/functional/audit/test_audit_storage.py
80.49% <0%> (ø)



tests/functional/container/test_replication.py
25.31% <0%> (ø)



tests/functional/account/test_client.py
51.58% <0%> (ø)



tests/functional/blob/test_rebuilder.py
100% <0%> (ø)



tests/functional/crawler/test_storage_tierer.py
95.07% <0%> (ø)



meta0v2/meta0_client.c
43.83% <0%> (ø)



oio/crawler/integrity.py
77.1% <0%> (ø)



oio/event/client.py
42.11% <0%> (ø)



core/tool_roundtrip.c
84.6% <0%> (ø)



... and 262 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f7261aa...a1fb78e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1844,2019-07-25T10:08:17Z,2019-07-25T12:48:39Z,2019-07-25T12:48:51Z,MERGED,True,1,1,1,https://github.com/AymericDu,Avoid pyparsing 2.4.1.1,1,[],https://github.com/open-io/oio-sds/pull/1844,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1844,"SUMMARY
The new pyparsing release is not compatible with cmd2 package.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
4.6.0dev1","SUMMARY
The new pyparsing release is not compatible with cmd2 package.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
4.6.0dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1844,2019-07-25T10:08:17Z,2019-07-25T12:48:39Z,2019-07-25T12:48:51Z,MERGED,True,1,1,1,https://github.com/AymericDu,Avoid pyparsing 2.4.1.1,1,[],https://github.com/open-io/oio-sds/pull/1844,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1844#issuecomment-515027302,"SUMMARY
The new pyparsing release is not compatible with cmd2 package.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
4.6.0dev1","Codecov Report

Merging #1844 into master will increase coverage by 22.46%.
The diff coverage is n/a.


@@             Coverage Diff             @@
##           master    #1844       +/-   ##
===========================================
+ Coverage   58.63%   81.09%   +22.46%     
===========================================
  Files         236      363      +127     
  Lines       49655    68318    +18663     
  Branches     6179     6325      +146     
===========================================
+ Hits        29109    55393    +26284     
+ Misses      20070    12736     -7334     
+ Partials      476      189      -287



Impacted Files
Coverage Δ





oio/cli/account/client.py
71.43% <0%> (ø)



tests/functional/audit/test_audit_storage.py
80.49% <0%> (ø)



oio/directory/meta2.py
69.77% <0%> (ø)



tests/functional/container/test_replication.py
81.61% <0%> (ø)



tests/functional/account/test_client.py
51.58% <0%> (ø)



tests/functional/content/test_ec.py
100% <0%> (ø)



oio/blob/rebuilder.py
46.78% <0%> (ø)



tests/functional/crawler/test_storage_tierer.py
95.07% <0%> (ø)



meta0v2/meta0_client.c
43.83% <0%> (ø)



oio/crawler/integrity.py
68.28% <0%> (ø)



... and 264 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 40738e9...ccae0d3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1845,2019-07-25T16:34:47Z,2019-07-26T10:03:19Z,2019-07-31T14:15:10Z,MERGED,True,19,0,2,https://github.com/jfsmig,mover: Allow to move only chunk whose size is in a range,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1845,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1845,"SUMMARY
Allow to move chunks  only if their size is within a configured range.
Also wait for pending movers to complete before exiting a moving round.
ISSUE TYPE
enhancement
COMPONENT NAME
oio-blob-mover
SDS VERSION
openio 4.6.1.dev24","SUMMARY
Allow to move chunks  only if their size is within a configured range.
Also wait for pending movers to complete before exiting a moving round.
ISSUE TYPE
enhancement
COMPONENT NAME
oio-blob-mover
SDS VERSION
openio 4.6.1.dev24",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1845,2019-07-25T16:34:47Z,2019-07-26T10:03:19Z,2019-07-31T14:15:10Z,MERGED,True,19,0,2,https://github.com/jfsmig,mover: Allow to move only chunk whose size is in a range,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1845,https://github.com/jfsmig,2,https://github.com/open-io/oio-sds/pull/1845#issuecomment-515364123,"SUMMARY
Allow to move chunks  only if their size is within a configured range.
Also wait for pending movers to complete before exiting a moving round.
ISSUE TYPE
enhancement
COMPONENT NAME
oio-blob-mover
SDS VERSION
openio 4.6.1.dev24","With the ratelimit (https://github.com/open-io/oio-sds/pull/1845/files#diff-2e33b6b9274ea3f6539476d37c5a6135L117), we will wait without doing anything when the size of the chunk will not be in between.

If we check the size before rate-limiting, the risk is that an oio-blob-mover that runs on a rawx full of small chunks to crazy-loop on the filesystem and generate a huge load for nothing. the rate-limiting is also here to protect the local volume.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1846,2019-07-26T10:20:05Z,2019-07-29T07:18:16Z,2019-07-31T14:14:39Z,MERGED,True,2,2,2,https://github.com/jfsmig,"Set to ""on"" the default of ""proxy.prefer.slave_for_read""",1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1846,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1846,"SUMMARY
The default usage is now to focus the read() operations on SLAVE databases.
ISSUE TYPE
enhancement
COMPONENT NAME
oio-proxy
SDS VERSION
openio 4.6.1.dev26","SUMMARY
The default usage is now to focus the read() operations on SLAVE databases.
ISSUE TYPE
enhancement
COMPONENT NAME
oio-proxy
SDS VERSION
openio 4.6.1.dev26",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1847,2019-07-30T08:50:37Z,2019-08-07T09:58:33Z,2019-08-07T09:58:33Z,MERGED,True,25,4,2,https://github.com/kamel-rahim,Account: Fix account refresh on missing values,1,[],https://github.com/open-io/oio-sds/pull/1847,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1847,"SUMMARY

There was an error when damaged_objects or missing_chunks were missing.
This happened when a container is created before oio-sds 18.10 and no object
is created after an update > 18.10.
The fix set the value to 0 but if some object had missing chunks before it will not
be printed and therefore the value would be erroneous.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

account
SDS VERSION

openio 4.4.4.dev17","SUMMARY

There was an error when damaged_objects or missing_chunks were missing.
This happened when a container is created before oio-sds 18.10 and no object
is created after an update > 18.10.
The fix set the value to 0 but if some object had missing chunks before it will not
be printed and therefore the value would be erroneous.

ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

account
SDS VERSION

openio 4.4.4.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1848,2019-07-30T14:29:49Z,2019-08-08T09:51:20Z,2019-08-21T22:35:44Z,MERGED,True,141,189,20,https://github.com/jfsmig,Fixes and improvements to reduce the latency of DB operations,22,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1848,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1848,"SUMMARY
The current PR targets decaching order that were issued too often (and for wrong reasons).
ISSUE TYPE
enhancement
COMPONENT NAME
proxy
SDS VERSION
openio 4.6.1.dev27","SUMMARY
The current PR targets decaching order that were issued too often (and for wrong reasons).
ISSUE TYPE
enhancement
COMPONENT NAME
proxy
SDS VERSION
openio 4.6.1.dev27",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1849,2019-07-31T07:57:12Z,2019-08-09T14:56:53Z,2020-01-09T07:40:56Z,MERGED,True,31,9,7,https://github.com/murlock,Set an operation-dependent prefix on request ids,1,[],https://github.com/open-io/oio-sds/pull/1849,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1849,"SUMMARY
Add more prefix for request-id to identify operation
Some debugs logs will be emitted with EXTRA_DEBUG when proxy receives request without reqid or reqid is generated without prefix
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
sds
SDS VERSION
5.0.1dev4

ADDITIONAL INFORMATION
We have still investigate why DB_USE from autocreate operation doesn't reuse reqid from original request.","SUMMARY
Add more prefix for request-id to identify operation
Some debugs logs will be emitted with EXTRA_DEBUG when proxy receives request without reqid or reqid is generated without prefix
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
sds
SDS VERSION
5.0.1dev4

ADDITIONAL INFORMATION
We have still investigate why DB_USE from autocreate operation doesn't reuse reqid from original request.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1850,2019-07-31T14:13:26Z,2019-08-01T15:12:45Z,2019-08-21T22:35:37Z,MERGED,True,1,1,1,https://github.com/jfsmig,Fix the error message indicating the need for a zk bootstrap,1,"['bug :scream:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1850,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1850,"SUMMARY
The mentioned tool has been replaced.
ISSUE TYPE
bugfix
COMPONENT NAME
meta0
SDS VERSION
openio 4.6.1.dev40","SUMMARY
The mentioned tool has been replaced.
ISSUE TYPE
bugfix
COMPONENT NAME
meta0
SDS VERSION
openio 4.6.1.dev40",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1850,2019-07-31T14:13:26Z,2019-08-01T15:12:45Z,2019-08-21T22:35:37Z,MERGED,True,1,1,1,https://github.com/jfsmig,Fix the error message indicating the need for a zk bootstrap,1,"['bug :scream:', 'priority:4 :suspect:', 'language:C']",https://github.com/open-io/oio-sds/pull/1850,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1850#issuecomment-516905348,"SUMMARY
The mentioned tool has been replaced.
ISSUE TYPE
bugfix
COMPONENT NAME
meta0
SDS VERSION
openio 4.6.1.dev40","Codecov Report

Merging #1850 into 5.0.x will increase coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            5.0.x    #1850      +/-   ##
==========================================
+ Coverage   79.37%   79.38%   +0.01%     
==========================================
  Files         388      388              
  Lines       72100    72100              
  Branches     6936     6936              
==========================================
+ Hits        57222    57227       +5     
- Misses      14644    14661      +17     
+ Partials      234      212      -22



Impacted Files
Coverage Δ





meta0v2/zk_manager.c
77.17% <ø> (+1.58%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


rawx/chunkrepo.go
70.84% <0%> (-4.16%)
⬇️


oio/content/plain.py
72.42% <0%> (-3.44%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.09%)
⬇️


oio/account/backend.py
79.02% <0%> (-2.23%)
⬇️


meta2v2/meta2_filters_check.c
79.11% <0%> (-1.49%)
⬇️


oio/api/base.py
89.11% <0%> (-0.99%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.78% <0%> (-0.9%)
⬇️


rawx/handler_chunk.go
74.36% <0%> (-0.85%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3cd08e5...f1d147b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1851,2019-08-01T14:41:52Z,2019-08-21T07:32:40Z,2019-08-21T07:32:40Z,MERGED,True,128,55,8,https://github.com/kamel-rahim,event-agent: Permit to not replicate some accounts and containers,4,[],https://github.com/open-io/oio-sds/pull/1851,https://github.com/kamel-rahim,1,https://github.com/open-io/oio-sds/pull/1851,"SUMMARY

Permit to exclude account and containers from replication events.
For testing purpose and check tools we do not want to replicate some accounts and containers
to the other namespace.

ISSUE TYPE


Feature Pull Request

COMPONENT NAME

event-agent
SDS VERSION

openio 4.6.1.dev26

ADDITIONAL INFORMATION
Jira: OS-433","SUMMARY

Permit to exclude account and containers from replication events.
For testing purpose and check tools we do not want to replicate some accounts and containers
to the other namespace.

ISSUE TYPE


Feature Pull Request

COMPONENT NAME

event-agent
SDS VERSION

openio 4.6.1.dev26

ADDITIONAL INFORMATION
Jira: OS-433",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1852,2019-08-07T05:57:26Z,2019-08-08T09:46:34Z,2019-08-08T09:46:34Z,MERGED,True,14,7,1,https://github.com/jkasarherou,add support for logging to udp with syslog,1,[],https://github.com/open-io/oio-sds/pull/1852,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/1852,"SUMMARY
Add support for logging to udp with syslog.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
All python based daemons.
SDS VERSION
openio 4.6.1.dev57

ADDITIONAL INFORMATION
For example, in config file:
# log_address = /dev/log
log_udp_host = 127.0.0.1
log_udp_port = 514 # default","SUMMARY
Add support for logging to udp with syslog.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
All python based daemons.
SDS VERSION
openio 4.6.1.dev57

ADDITIONAL INFORMATION
For example, in config file:
# log_address = /dev/log
log_udp_host = 127.0.0.1
log_udp_port = 514 # default",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1853,2019-08-07T15:18:53Z,2019-08-08T09:47:07Z,2019-09-04T07:12:07Z,MERGED,True,21,9,5,https://github.com/fvennetier,Raise ServiceBusy when chunk quorum is not reached,2,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1853,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1853,"SUMMARY
Raise a ServiceBusy error when writing an object and the quorum of the
chunks is not reached, and this cannot be attributed to a timeout.
Jira: OS-434
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.6.1.dev26","SUMMARY
Raise a ServiceBusy error when writing an object and the quorum of the
chunks is not reached, and this cannot be attributed to a timeout.
Jira: OS-434
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.6.1.dev26",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1854,2019-08-08T13:46:00Z,2019-08-09T13:48:13Z,2019-08-09T13:48:20Z,MERGED,True,99,26,6,https://github.com/fvennetier,Forward timeout parameters to AccountClient,2,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1854,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1854,"SUMMARY
As for ObjectStorageApi, apply timeouts passed to the AccountClient constructor to all method calls.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.6.1.dev53","SUMMARY
As for ObjectStorageApi, apply timeouts passed to the AccountClient constructor to all method calls.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.6.1.dev53",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1855,2019-08-09T12:35:51Z,2019-08-21T22:29:38Z,2019-08-21T22:35:05Z,MERGED,True,653,604,29,https://github.com/jfsmig,Prepare chunk locations in the proxy instead of the meta2,22,"['enhancement :sparkles:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1855,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1855,"SUMMARY
Avoid hitting meta2 when asking for chunks locations.
ISSUE TYPE
enhancement
COMPONENT NAME
*
SDS VERSION
openio 5.0.2.dev45","SUMMARY
Avoid hitting meta2 when asking for chunks locations.
ISSUE TYPE
enhancement
COMPONENT NAME
*
SDS VERSION
openio 5.0.2.dev45",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1856,2019-08-09T14:13:05Z,2019-08-23T15:52:52Z,2019-08-23T15:54:54Z,MERGED,True,82,38,5,https://github.com/jfsmig,rawx: Set the upload buffer size to 8MiB,1,[],https://github.com/open-io/oio-sds/pull/1856,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1856,"SUMMARY
Set the upload buffer size to 8MiB
ISSUE TYPE
Improvement
COMPONENT NAME
rawx-httpd
SDS VERSION
openio 5.0.2.dev45","SUMMARY
Set the upload buffer size to 8MiB
ISSUE TYPE
Improvement
COMPONENT NAME
rawx-httpd
SDS VERSION
openio 5.0.2.dev45",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1858,2019-08-14T14:50:29Z,2019-08-21T21:55:24Z,2019-08-21T22:35:09Z,MERGED,True,210,34,11,https://github.com/jfsmig,Allow to balance masters among services of the same type.,5,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/1858,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1858,"SUMMARY
Provides CLI tools and oio-proxy routes to balances master elections among services.
Closes #1306
ISSUE TYPE
Feature
COMPONENT NAME
proxy, sqliterepo, cli
SDS VERSION
openio 5.0.2.dev34","SUMMARY
Provides CLI tools and oio-proxy routes to balances master elections among services.
Closes #1306
ISSUE TYPE
Feature
COMPONENT NAME
proxy, sqliterepo, cli
SDS VERSION
openio 5.0.2.dev34",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1859,2019-08-21T22:40:42Z,2019-08-22T06:49:51Z,2019-08-23T11:09:10Z,MERGED,True,331,56,14,https://github.com/jfsmig,Allow to place some chunks locally to the proxy,1,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1859,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1859,"SUMMARY
Since the oio-proxy does the placement itself and because it is mostly accessed my local client applications, we provide a way to place 0, 1 or many chunks on rawx located on the same host. this will help save network bandwidth.
This is controlled by a new variable named proxy.srv_local.prepare, it is set to 0 by default to keep a backward compliant behavior. It requires a proxy location (variable proxy.location) to be effective.
ISSUE TYPE
enhancement
COMPONENT NAME
proxy
SDS VERSION
openio 5.1.1.dev28","SUMMARY
Since the oio-proxy does the placement itself and because it is mostly accessed my local client applications, we provide a way to place 0, 1 or many chunks on rawx located on the same host. this will help save network bandwidth.
This is controlled by a new variable named proxy.srv_local.prepare, it is set to 0 by default to keep a backward compliant behavior. It requires a proxy location (variable proxy.location) to be effective.
ISSUE TYPE
enhancement
COMPONENT NAME
proxy
SDS VERSION
openio 5.1.1.dev28",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1860,2019-08-22T12:03:13Z,2019-08-22T12:36:04Z,2019-08-22T12:43:07Z,MERGED,True,93,39,6,https://github.com/jfsmig,Fix the allocation of local rawx in the proxy,2,"['bug :scream:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1860,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1860,"SUMMARY
Apply a mask to detect well the beginning of the section with the local services, in a LB slot.
The bug possibly led to no local service found, then simply applying the local policy.
ISSUE TYPE
bugfix
COMPONENT NAME
core, proxy
SDS VERSION
openio 5.1.1.dev28","SUMMARY
Apply a mask to detect well the beginning of the section with the local services, in a LB slot.
The bug possibly led to no local service found, then simply applying the local policy.
ISSUE TYPE
bugfix
COMPONENT NAME
core, proxy
SDS VERSION
openio 5.1.1.dev28",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1862,2019-08-22T14:14:08Z,2019-08-23T11:08:51Z,2019-08-23T11:09:10Z,MERGED,True,71,41,8,https://github.com/jfsmig,core: Fix the LB on local services,5,"['bug :scream:', 'enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/1862,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1862,"SUMMARY

Also allow local placement of SPARE chunks (not managed yet!)
Fix the binary search logic to work on slices of locations more than exact locations
Add debug messages in TRACE

ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
openio 5.1.1.dev40","SUMMARY

Also allow local placement of SPARE chunks (not managed yet!)
Fix the binary search logic to work on slices of locations more than exact locations
Add debug messages in TRACE

ISSUE TYPE
enhancement
COMPONENT NAME
core
SDS VERSION
openio 5.1.1.dev40",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1863,2019-08-26T15:41:36Z,2019-08-27T08:08:40Z,2019-08-27T08:27:47Z,MERGED,True,19,18,1,https://github.com/jfsmig,oio-reset: Fix the startup detection for gridinit,2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1863,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1863,"SUMMARY
Detect the active socket of gridinit from the kernel instead of the presence of the file (unreliable).
ISSUE TYPE
enhancement
COMPONENT NAME
oio-reset
SDS VERSION
openio 5.1.1.dev38","SUMMARY
Detect the active socket of gridinit from the kernel instead of the presence of the file (unreliable).
ISSUE TYPE
enhancement
COMPONENT NAME
oio-reset
SDS VERSION
openio 5.1.1.dev38",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1863,2019-08-26T15:41:36Z,2019-08-27T08:08:40Z,2019-08-27T08:27:47Z,MERGED,True,19,18,1,https://github.com/jfsmig,oio-reset: Fix the startup detection for gridinit,2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1863,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1863#issuecomment-525189953,"SUMMARY
Detect the active socket of gridinit from the kernel instead of the presence of the file (unreliable).
ISSUE TYPE
enhancement
COMPONENT NAME
oio-reset
SDS VERSION
openio 5.1.1.dev38","Codecov Report

Merging #1863 into 5.x will increase coverage by 0.1%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##              5.x    #1863     +/-   ##
=========================================
+ Coverage   78.83%   78.93%   +0.1%     
=========================================
  Files         389      389             
  Lines       72642    72642             
  Branches     6974     6977      +3     
=========================================
+ Hits        57260    57332     +72     
+ Misses      15157    15086     -71     
+ Partials      225      224      -1



Impacted Files
Coverage Δ





oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


oio/common/http_urllib3.py
87.5% <0%> (-2.5%)
⬇️


meta1v2/meta1_server.c
73.34% <0%> (-1.9%)
⬇️


oio/container/backup.py
72.7% <0%> (-1.84%)
⬇️


meta2v2/meta2_filters_check.c
79.11% <0%> (-1.49%)
⬇️


server/slab.c
84.42% <0%> (-1.29%)
⬇️


oio/ecd/app.py
65.48% <0%> (-0.59%)
⬇️


oio/api/object_storage.py
82.62% <0%> (-0.44%)
⬇️


proxy/m2_actions.c
88.33% <0%> (-0.06%)
⬇️


oio/directory/admin.py
62.42% <0%> (ø)
⬆️


... and 34 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e133710...654cb36. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1864,2019-08-26T16:53:19Z,2019-08-28T08:11:28Z,2019-09-04T19:26:20Z,MERGED,True,142,86,10,https://github.com/AymericDu,Wait for proxy and conscience when waiting for services,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1864,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1864,"SUMMARY
Wait for services even if the proxy and conscience are not ready yet.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
CLI

SDS VERSION
openio 4.7.0.0rc1.dev7","SUMMARY
Wait for services even if the proxy and conscience are not ready yet.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
CLI

SDS VERSION
openio 4.7.0.0rc1.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1865,2019-08-27T13:26:19Z,2019-08-28T15:43:16Z,2019-10-07T12:08:45Z,MERGED,True,63,28,11,https://github.com/jfsmig,Add a central control for the lazy locking of volumes,7,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1865,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1865,"SUMMARY

Add new central variable, volume.lazy_lock, set to a value matching the old behavior
Drop the old / ugly / explicit Servicing option, replaces it by its volume.lazy_lock equivalent. No alias is used to keep the option, it was never used.
Adapt the services so that they respect the flag.
Add a tool (oio-tool init) to explicitly set the flag.

ISSUE TYPE
enhancement
COMPONENT NAME
All the services are touched.
SDS VERSION
openio 5.1.1.dev38","SUMMARY

Add new central variable, volume.lazy_lock, set to a value matching the old behavior
Drop the old / ugly / explicit Servicing option, replaces it by its volume.lazy_lock equivalent. No alias is used to keep the option, it was never used.
Adapt the services so that they respect the flag.
Add a tool (oio-tool init) to explicitly set the flag.

ISSUE TYPE
enhancement
COMPONENT NAME
All the services are touched.
SDS VERSION
openio 5.1.1.dev38",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1866,2019-08-27T13:33:25Z,2019-09-09T15:56:03Z,2019-10-07T12:00:24Z,MERGED,True,62,50,6,https://github.com/jfsmig,rawx: Update the log format,2,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1866,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1866,"SUMMARY

Only one format and semantics for any access log entry
Display both bytes_in and bytes_out for an easier integration
Stop displaying the container id.

ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
``","SUMMARY

Only one format and semantics for any access log entry
Display both bytes_in and bytes_out for an easier integration
Stop displaying the container id.

ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
``",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1867,2019-08-27T15:05:29Z,2019-08-28T08:13:00Z,2019-09-04T19:26:15Z,MERGED,True,11,10,4,https://github.com/AymericDu,Increase max request run time for sqliterepo-based services,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1867,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1867,"SUMMARY
The default value was too low and reduced some timeouts
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo-based services

SDS VERSION
openio 4.7.0.0rc1.dev5","SUMMARY
The default value was too low and reduced some timeouts
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo-based services

SDS VERSION
openio 4.7.0.0rc1.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1867,2019-08-27T15:05:29Z,2019-08-28T08:13:00Z,2019-09-04T19:26:15Z,MERGED,True,11,10,4,https://github.com/AymericDu,Increase max request run time for sqliterepo-based services,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1867,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1867#issuecomment-525632395,"SUMMARY
The default value was too low and reduced some timeouts
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo-based services

SDS VERSION
openio 4.7.0.0rc1.dev5","Codecov Report

Merging #1867 into 4.x will increase coverage by 0.65%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1867      +/-   ##
==========================================
+ Coverage   79.47%   80.12%   +0.65%     
==========================================
  Files         372      373       +1     
  Lines       69669    69910     +241     
  Branches     6997     6788     -209     
==========================================
+ Hits        55362    56005     +643     
+ Misses      14185    13783     -402     
  Partials      122      122



Impacted Files
Coverage Δ





server/transport_gridd.c
77.12% <100%> (ø)
⬆️


tests/functional/m2_filters/test_filters.py
63.64% <0%> (-21.21%)
⬇️


oio/directory/meta1.py
88.51% <0%> (-1.14%)
⬇️


meta2v2/meta2_filters_action_container.c
61.81% <0%> (-1.04%)
⬇️


oio/common/exceptions.py
93.96% <0%> (-0.67%)
⬇️


metautils/lib/comm_converter.c
72.78% <0%> (-0.26%)
⬇️


meta2v2/meta2_filters_action_content.c
93.97% <0%> (-0.25%)
⬇️


core/str.c
88.6% <0%> (-0.23%)
⬇️


sqlx/sqlx_service.c
85.3% <0%> (-0.12%)
⬇️


sqliterepo/election.c
90.48% <0%> (-0.09%)
⬇️


... and 59 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1b54b14...77f1198. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1868,2019-08-27T15:40:21Z,2019-08-27T16:04:42Z,2019-08-28T08:14:34Z,MERGED,True,38,11,4,https://github.com/jfsmig,Allow the rawx to deny serving chunks from /,2,"['enhancement :sparkles:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1868,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1868,"SUMMARY
Add and consider a configuration variable to let the rawx denying the service of chunks hosted in /
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 5.1.1.dev38","SUMMARY
Add and consider a configuration variable to let the rawx denying the service of chunks hosted in /
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 5.1.1.dev38",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1869,2019-08-27T15:46:23Z,2019-08-27T16:05:47Z,2019-08-28T08:14:35Z,MERGED,True,0,8,2,https://github.com/jfsmig,rawx-httpd: Remove unwanted traces,1,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/1869,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1869,"SUMMARY
Oops.
ISSUE TYPE
fix
COMPONENT NAME
rawx-http
SDS VERSION
openio 5.1.1.dev38","SUMMARY
Oops.
ISSUE TYPE
fix
COMPONENT NAME
rawx-http
SDS VERSION
openio 5.1.1.dev38",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1870,2019-08-29T09:35:06Z,2019-09-04T07:14:45Z,2019-09-04T19:26:08Z,MERGED,True,17,5,3,https://github.com/AymericDu,Fail when we can not check the existence of chunk,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1870,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1870,"SUMMARY
Fail when we can not check the existence of chunk
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.7.0.0rc1.dev9","SUMMARY
Fail when we can not check the existence of chunk
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 4.7.0.0rc1.dev9",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1871,2019-08-29T16:35:19Z,2019-09-04T07:14:51Z,2019-09-04T19:26:05Z,MERGED,True,18,8,3,https://github.com/AymericDu,blob-rebuilder: Shuffle chunks after fetching them from rdir,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1871,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1871,"SUMMARY
Shuffle chunks after fetching them from rdir
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.7.0.0rc1.dev9","SUMMARY
Shuffle chunks after fetching them from rdir
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.7.0.0rc1.dev9",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1872,2019-08-30T15:35:35Z,2019-10-08T10:09:36Z,2019-11-05T09:57:26Z,MERGED,True,87,31,10,https://github.com/jfsmig,cmake: Only install prod-related tools in other build types than Debug,2,['priority:4 :suspect:'],https://github.com/open-io/oio-sds/pull/1872,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1872,"SUMMARY
The tools related to development tasks is only installed if the suite is built with CMAKE_BUILD_TYPE=Debug. It will avoid deploying oio-reset.sh (and its friends) with any package.
ISSUE TYPE
simplification
COMPONENT NAME
cmake
SDS VERSION
openio 5.1.1.dev58","SUMMARY
The tools related to development tasks is only installed if the suite is built with CMAKE_BUILD_TYPE=Debug. It will avoid deploying oio-reset.sh (and its friends) with any package.
ISSUE TYPE
simplification
COMPONENT NAME
cmake
SDS VERSION
openio 5.1.1.dev58",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1872,2019-08-30T15:35:35Z,2019-10-08T10:09:36Z,2019-11-05T09:57:26Z,MERGED,True,87,31,10,https://github.com/jfsmig,cmake: Only install prod-related tools in other build types than Debug,2,['priority:4 :suspect:'],https://github.com/open-io/oio-sds/pull/1872,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1872#issuecomment-539391891,"SUMMARY
The tools related to development tasks is only installed if the suite is built with CMAKE_BUILD_TYPE=Debug. It will avoid deploying oio-reset.sh (and its friends) with any package.
ISSUE TYPE
simplification
COMPONENT NAME
cmake
SDS VERSION
openio 5.1.1.dev58","Codecov Report

Merging #1872 into 5.x will increase coverage by 0.54%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              5.x    #1872      +/-   ##
==========================================
+ Coverage   78.89%   79.43%   +0.54%     
==========================================
  Files         389      389              
  Lines       72672    73290     +618     
  Branches     6984     7010      +26     
==========================================
+ Hits        57325    58207     +882     
+ Misses      15121    14857     -264     
  Partials      226      226



Impacted Files
Coverage Δ





metautils/lib/metacomm.h
50% <0%> (-50%)
⬇️


rawx/handler_info.go
52.64% <0%> (-11.88%)
⬇️


oio/common/redis_conn.py
68.68% <0%> (-11.32%)
⬇️


oio/cli/__init__.py
80% <0%> (-7.5%)
⬇️


rawx/handler_stat.go
73.64% <0%> (-5%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/common/exceptions.py
91.83% <0%> (-2.25%)
⬇️


meta2v2/meta2_server.c
77.42% <0%> (-2.12%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


oio/container/backup.py
73.53% <0%> (-1.78%)
⬇️


... and 98 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9339aa5...ed50938. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1873,2019-08-30T15:38:01Z,2019-09-10T08:06:53Z,2019-10-07T12:00:18Z,MERGED,True,48,20,3,https://github.com/jfsmig,Avoid overriding NS config from the system with local files,2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1873,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1873,"SUMMARY
If system-wide files have been loaded, avoid using the local files in the C and Python code.
ISSUE TYPE
bugfix
COMPONENT NAME
core, python SDK
SDS VERSION
openio 5.1.1.dev58","SUMMARY
If system-wide files have been loaded, avoid using the local files in the C and Python code.
ISSUE TYPE
bugfix
COMPONENT NAME
core, python SDK
SDS VERSION
openio 5.1.1.dev58",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1873,2019-08-30T15:38:01Z,2019-09-10T08:06:53Z,2019-10-07T12:00:18Z,MERGED,True,48,20,3,https://github.com/jfsmig,Avoid overriding NS config from the system with local files,2,"['enhancement :sparkles:', 'priority:4 :suspect:']",https://github.com/open-io/oio-sds/pull/1873,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1873#issuecomment-527071307,"SUMMARY
If system-wide files have been loaded, avoid using the local files in the C and Python code.
ISSUE TYPE
bugfix
COMPONENT NAME
core, python SDK
SDS VERSION
openio 5.1.1.dev58","Codecov Report

Merging #1873 into 5.x will decrease coverage by 0.03%.
The diff coverage is 78.79%.


@@            Coverage Diff             @@
##              5.x    #1873      +/-   ##
==========================================
- Coverage   78.89%   78.86%   -0.02%     
==========================================
  Files         389      389              
  Lines       72672    72687      +15     
  Branches     6984     6985       +1     
==========================================
- Hits        57325    57320       -5     
- Misses      15121    15141      +20     
  Partials      226      226



Impacted Files
Coverage Δ





core/cfg.c
65.6% <60%> (-0.15%)
⬇️


oio/common/configuration.py
66.97% <94.45%> (+3.24%)
⬆️


tests/functional/directory/test_admin.py
94.34% <0%> (-5.66%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/container/backup.py
72.86% <0%> (-2.45%)
⬇️


metautils/lib/utils_sockets.c
43.85% <0%> (-2.3%)
⬇️


tests/functional/cli/admin/test_service_decache.py
81.25% <0%> (-2.08%)
⬇️


proxy/metacd_http.c
89.97% <0%> (-1.69%)
⬇️


oio/directory/meta2.py
68.61% <0%> (-1.16%)
⬇️


oio/rdir/client.py
83.11% <0%> (-1.03%)
⬇️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9339aa5...2e0e6e4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1874,2019-09-02T08:51:29Z,2020-03-05T17:51:10Z,2020-03-05T17:51:15Z,MERGED,True,265,32,16,https://github.com/fvennetier,Track meta2 cache contention,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1874,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1874,"SUMMARY

Implement a simple benchmark creating contention on a single meta2 database.
Track (and display) average time spent by meta2 worker threads waiting for a database handle. The purpose of this modification is to provide better warning messages when the load on a meta2 database is increasing.

Jira: OB-457
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 5.1.1.dev46","SUMMARY

Implement a simple benchmark creating contention on a single meta2 database.
Track (and display) average time spent by meta2 worker threads waiting for a database handle. The purpose of this modification is to provide better warning messages when the load on a meta2 database is increasing.

Jira: OB-457
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 5.1.1.dev46",True,{'THUMBS_UP': ['https://github.com/vdombrovski']}
open-io/oio-sds,https://github.com/open-io/oio-sds,1874,2019-09-02T08:51:29Z,2020-03-05T17:51:10Z,2020-03-05T17:51:15Z,MERGED,True,265,32,16,https://github.com/fvennetier,Track meta2 cache contention,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1874,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1874#issuecomment-544411932,"SUMMARY

Implement a simple benchmark creating contention on a single meta2 database.
Track (and display) average time spent by meta2 worker threads waiting for a database handle. The purpose of this modification is to provide better warning messages when the load on a meta2 database is increasing.

Jira: OB-457
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 5.1.1.dev46","Codecov Report

Merging #1874 into 5.x will increase coverage by 0.03%.
The diff coverage is 86.42%.


@@            Coverage Diff             @@
##              5.x    #1874      +/-   ##
==========================================
+ Coverage   79.25%   79.27%   +0.03%     
==========================================
  Files         391      391              
  Lines       74119    74191      +72     
  Branches     7029     7040      +11     
==========================================
+ Hits        58732    58809      +77     
+ Misses      15151    15143       -8     
- Partials      236      239       +3



Impacted Files
Coverage Δ





sqliterepo/replication.c
84.42% <100%> (-0.15%)
⬇️


metautils/lib/comm_message.c
85.28% <100%> (+0.59%)
⬆️


proxy/m2_actions.c
88.58% <100%> (-0.03%)
⬇️


sqliterepo/repository.c
75.16% <100%> (+0.16%)
⬆️


sqliterepo/cache.c
84.77% <69.57%> (-0.7%)
⬇️


core/ext.c
95.9% <90%> (-0.31%)
⬇️


server/transport_gridd.c
77.17% <90.91%> (+0.74%)
⬆️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/content/plain.py
72.42% <0%> (-3.44%)
⬇️


... and 41 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9367455...0c6e97c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1875,2019-09-02T14:01:12Z,2019-09-04T07:14:57Z,2019-09-04T19:26:02Z,MERGED,True,225,59,7,https://github.com/AymericDu,Check for a quorum when linking objects,2,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1875,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1875,"SUMMARY
Use a quorum to link an object
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
proxy

SDS VERSION
openio 4.7.0.0rc1.dev10","SUMMARY
Use a quorum to link an object
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
proxy

SDS VERSION
openio 4.7.0.0rc1.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1876,2019-09-04T14:28:50Z,2019-09-16T09:07:52Z,2020-11-25T09:06:32Z,MERGED,True,353,108,30,https://github.com/fvennetier,Reduce the number of requests from meta2 to meta1,2,['language:C'],https://github.com/open-io/oio-sds/pull/1876,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1876,"SUMMARY
Some operations like M2_CREATE, DB_USE and DB_VERS now send the list of peers in the request. In the case where the called service does not have the database already, it is no more forced to call meta1 to get the list.
Jira: OS-374
COMPONENT NAME

oioproxy
sqliterepo
meta2

SDS VERSION
openio 5.1.1.dev47

ADDITIONAL INFORMATION
When benchmarking this, we should see a decrease of the number of M1_LIST calls.","SUMMARY
Some operations like M2_CREATE, DB_USE and DB_VERS now send the list of peers in the request. In the case where the called service does not have the database already, it is no more forced to call meta1 to get the list.
Jira: OS-374
COMPONENT NAME

oioproxy
sqliterepo
meta2

SDS VERSION
openio 5.1.1.dev47

ADDITIONAL INFORMATION
When benchmarking this, we should see a decrease of the number of M1_LIST calls.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1876,2019-09-04T14:28:50Z,2019-09-16T09:07:52Z,2020-11-25T09:06:32Z,MERGED,True,353,108,30,https://github.com/fvennetier,Reduce the number of requests from meta2 to meta1,2,['language:C'],https://github.com/open-io/oio-sds/pull/1876,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1876#issuecomment-528338674,"SUMMARY
Some operations like M2_CREATE, DB_USE and DB_VERS now send the list of peers in the request. In the case where the called service does not have the database already, it is no more forced to call meta1 to get the list.
Jira: OS-374
COMPONENT NAME

oioproxy
sqliterepo
meta2

SDS VERSION
openio 5.1.1.dev47

ADDITIONAL INFORMATION
When benchmarking this, we should see a decrease of the number of M1_LIST calls.","Codecov Report

Merging #1876 into 5.x will increase coverage by 0.03%.
The diff coverage is 95.84%.


@@            Coverage Diff             @@
##              5.x    #1876      +/-   ##
==========================================
+ Coverage   78.89%   78.92%   +0.03%     
==========================================
  Files         389      389              
  Lines       72672    72775     +103     
  Branches     6984     6994      +10     
==========================================
+ Hits        57325    57428     +103     
  Misses      15121    15121              
  Partials      226      226



Impacted Files
Coverage Δ





proxy/common.h
100% <ø> (ø)
⬆️


meta2v2/meta2_gridd_dispatcher.c
78.13% <ø> (ø)
⬆️


sqlx/sqlx_service.c
85.33% <ø> (-0.13%)
⬇️


meta2v2/meta2_server.c
79.55% <ø> (ø)
⬆️


metautils/lib/metacomm.h
100% <ø> (ø)
⬆️


proxy/meta2v2_remote.c
84.89% <100%> (+0.21%)
⬆️


sqliterepo/sqlx_remote.c
83.14% <100%> (+0.32%)
⬆️


proxy/common.c
93.43% <100%> (+0.07%)
⬆️


meta2v2/meta2_filters_action_container.c
59.87% <100%> (-1.94%)
⬇️


meta2v2/meta2_backend.c
79.48% <100%> (+0.11%)
⬆️


... and 63 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9339aa5...164c5b0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1877,2019-09-04T14:30:51Z,2019-09-09T16:24:41Z,2019-09-12T16:36:37Z,MERGED,True,46,33,4,https://github.com/AymericDu,Improve the log when the check of a service has failed,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1877,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1877,"SUMMARY
Improve the log when the check of a service has failed
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 5.2.0.dev1","SUMMARY
Improve the log when the check of a service has failed
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 5.2.0.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1878,2019-09-04T16:49:43Z,2020-09-08T08:05:01Z,2020-09-08T08:05:01Z,CLOSED,False,1734,1,13,https://github.com/vdombrovski,Implement oio-admin-agent,5,[],https://github.com/open-io/oio-sds/pull/1878,https://github.com/vdombrovski,1,https://github.com/open-io/oio-sds/pull/1878,"SUMMARY
This agent provides an HTTP API for running various long-term admin tasks from each node. It can only run jobs locally for local services (defined at launch via --host, and by parsing location).
Quick API Summary:
POST /api/v1/jobs - create a new job
DELETE /api/v1/jobs/[job_id] - terminate a running job
GET /api/v1/jobs - list jobs

Job structure:
{""action"": ""rebuild|move"", ""type"": ""rawx|meta2"", ""src"": ""IP:PORT"", opts**}


Additional runtime options are tied to each job type.
Blob mover supports:

bps (bytes per sec)
cps (chunks per sec)
concurrency
target
minsize
maxsize
exclude (list of IP:PORT or re:{!}{expr} (see tests for example)

Meta2 mover supports:

concurrency (by the agent itself, not the Meta2Mover)
minsize (minimal size of bases to move)
maxsize (max size of bases to move)

Blob Rebuilder doesn't support any additional options currently

Available jobs:

blob_mover
blob_rebuilder (distributed)
meta2_mover

This also provides a temporary binary, oio-mover-client, that can interact with the admin-agent.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-admin-agent

SDS VERSION
openio 5.0.2.dev2

ADDITIONAL INFORMATION
Tests can be launched with:
nosetests tests/unit/admin/test_admin_agent.py
nosetests tests/functional/admin/test_admin_agent.py","SUMMARY
This agent provides an HTTP API for running various long-term admin tasks from each node. It can only run jobs locally for local services (defined at launch via --host, and by parsing location).
Quick API Summary:
POST /api/v1/jobs - create a new job
DELETE /api/v1/jobs/[job_id] - terminate a running job
GET /api/v1/jobs - list jobs

Job structure:
{""action"": ""rebuild|move"", ""type"": ""rawx|meta2"", ""src"": ""IP:PORT"", opts**}


Additional runtime options are tied to each job type.
Blob mover supports:

bps (bytes per sec)
cps (chunks per sec)
concurrency
target
minsize
maxsize
exclude (list of IP:PORT or re:{!}{expr} (see tests for example)

Meta2 mover supports:

concurrency (by the agent itself, not the Meta2Mover)
minsize (minimal size of bases to move)
maxsize (max size of bases to move)

Blob Rebuilder doesn't support any additional options currently

Available jobs:

blob_mover
blob_rebuilder (distributed)
meta2_mover

This also provides a temporary binary, oio-mover-client, that can interact with the admin-agent.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-admin-agent

SDS VERSION
openio 5.0.2.dev2

ADDITIONAL INFORMATION
Tests can be launched with:
nosetests tests/unit/admin/test_admin_agent.py
nosetests tests/functional/admin/test_admin_agent.py",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1878,2019-09-04T16:49:43Z,2020-09-08T08:05:01Z,2020-09-08T08:05:01Z,CLOSED,False,1734,1,13,https://github.com/vdombrovski,Implement oio-admin-agent,5,[],https://github.com/open-io/oio-sds/pull/1878,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/1878#issuecomment-637524441,"SUMMARY
This agent provides an HTTP API for running various long-term admin tasks from each node. It can only run jobs locally for local services (defined at launch via --host, and by parsing location).
Quick API Summary:
POST /api/v1/jobs - create a new job
DELETE /api/v1/jobs/[job_id] - terminate a running job
GET /api/v1/jobs - list jobs

Job structure:
{""action"": ""rebuild|move"", ""type"": ""rawx|meta2"", ""src"": ""IP:PORT"", opts**}


Additional runtime options are tied to each job type.
Blob mover supports:

bps (bytes per sec)
cps (chunks per sec)
concurrency
target
minsize
maxsize
exclude (list of IP:PORT or re:{!}{expr} (see tests for example)

Meta2 mover supports:

concurrency (by the agent itself, not the Meta2Mover)
minsize (minimal size of bases to move)
maxsize (max size of bases to move)

Blob Rebuilder doesn't support any additional options currently

Available jobs:

blob_mover
blob_rebuilder (distributed)
meta2_mover

This also provides a temporary binary, oio-mover-client, that can interact with the admin-agent.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-admin-agent

SDS VERSION
openio 5.0.2.dev2

ADDITIONAL INFORMATION
Tests can be launched with:
nosetests tests/unit/admin/test_admin_agent.py
nosetests tests/functional/admin/test_admin_agent.py",Hi. I think this has been superseded by xcute. Can we close the pull-request?,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1879,2019-09-04T17:00:15Z,2019-09-09T08:46:15Z,2019-09-09T08:58:31Z,MERGED,True,27,24,1,https://github.com/AymericDu,rdir: Fix counters when getting status,1,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1879,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1879,"SUMMARY
Fix counters when getting status
Before, the 'mtime' was switched with the 'rtime'.
Now, we have to look at both to find the right value.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rdir

SDS VERSION
openio 4.7.1.dev5

ADDITIONAL INFORMATION
$ cat status.163.172.5.215\:6203.old.rdir | jq .chunk
{
  ""total"": 81816568,
  ""to_rebuild"": 51255766
}
$ cat status.163.172.5.215\:6203.rdir | jq .chunk
{
  ""total"": 81816568,
  ""to_rebuild"": 81816568
}
$ cat status.62.210.157.223\:6202.old.rdir | jq .chunk
{
  ""total"": 74245135,
  ""to_rebuild"": 43529291
}
$ cat status.62.210.157.223\:6202.rdir | jq .chunk
{
  ""total"": 74245135,
  ""to_rebuild"": 74245135
}","SUMMARY
Fix counters when getting status
Before, the 'mtime' was switched with the 'rtime'.
Now, we have to look at both to find the right value.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rdir

SDS VERSION
openio 4.7.1.dev5

ADDITIONAL INFORMATION
$ cat status.163.172.5.215\:6203.old.rdir | jq .chunk
{
  ""total"": 81816568,
  ""to_rebuild"": 51255766
}
$ cat status.163.172.5.215\:6203.rdir | jq .chunk
{
  ""total"": 81816568,
  ""to_rebuild"": 81816568
}
$ cat status.62.210.157.223\:6202.old.rdir | jq .chunk
{
  ""total"": 74245135,
  ""to_rebuild"": 43529291
}
$ cat status.62.210.157.223\:6202.rdir | jq .chunk
{
  ""total"": 74245135,
  ""to_rebuild"": 74245135
}",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1880,2019-09-04T17:29:22Z,2019-09-09T11:39:58Z,2019-09-12T16:27:38Z,MERGED,True,80,25,13,https://github.com/AymericDu,Allow to rebuild chunk in frozen containers,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1880,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1880,"SUMMARY
Allow to rebuild chunk in frozen container
ISSUE TYPE

Bug Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.7.1.dev7","SUMMARY
Allow to rebuild chunk in frozen container
ISSUE TYPE

Bug Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.7.1.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1880,2019-09-04T17:29:22Z,2019-09-09T11:39:58Z,2019-09-12T16:27:38Z,MERGED,True,80,25,13,https://github.com/AymericDu,Allow to rebuild chunk in frozen containers,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1880,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1880#issuecomment-529369920,"SUMMARY
Allow to rebuild chunk in frozen container
ISSUE TYPE

Bug Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.7.1.dev7","Codecov Report

Merging #1880 into 4.x will increase coverage by 0.61%.
The diff coverage is 84.1%.


@@            Coverage Diff             @@
##              4.x    #1880      +/-   ##
==========================================
+ Coverage   79.49%   80.09%   +0.61%     
==========================================
  Files         356      374      +18     
  Lines       68121    70062    +1941     
  Branches     6966     7011      +45     
==========================================
+ Hits        54145    56109    +1964     
+ Misses      13976    13830     -146     
- Partials        0      123     +123



Impacted Files
Coverage Δ





oio/container/client.py
83.92% <0%> (-0.49%)
⬇️


meta2v2/meta2_filters_action_container.c
60.9% <100%> (+2.22%)
⬆️


proxy/meta2v2_remote.c
85.38% <100%> (+5.62%)
⬆️


oio/content/content.py
80% <100%> (ø)
⬆️


proxy/m2_actions.c
89.19% <100%> (+0.22%)
⬆️


oio/rebuilder/blob_rebuilder.py
30.52% <100%> (+0.26%)
⬆️


tests/functional/content/test_plain.py
98.89% <100%> (+0.12%)
⬆️


oio/content/plain.py
72.42% <33.34%> (ø)
⬆️


oio/content/ec.py
55% <33.34%> (+38.34%)
⬆️


meta2v2/meta2_backend.c
85.59% <75%> (+0.21%)
⬆️


... and 94 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 680689b...4cee0be. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1881,2019-09-05T13:16:40Z,2020-08-05T08:16:05Z,2020-08-05T08:16:05Z,CLOSED,False,575,165,24,https://github.com/jfsmig,[WIP] ci: Introduce a CircleCI configuration,5,[],https://github.com/open-io/oio-sds/pull/1881,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1881,"SUMMARY
Execute the CI on CircleCI
ISSUE TYPE
?
COMPONENT NAME
ci
SDS VERSION
openio 5.1.1.dev57","SUMMARY
Execute the CI on CircleCI
ISSUE TYPE
?
COMPONENT NAME
ci
SDS VERSION
openio 5.1.1.dev57",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1881,2019-09-05T13:16:40Z,2020-08-05T08:16:05Z,2020-08-05T08:16:05Z,CLOSED,False,575,165,24,https://github.com/jfsmig,[WIP] ci: Introduce a CircleCI configuration,5,[],https://github.com/open-io/oio-sds/pull/1881,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/1881#issuecomment-528778693,"SUMMARY
Execute the CI on CircleCI
ISSUE TYPE
?
COMPONENT NAME
ci
SDS VERSION
openio 5.1.1.dev57",Please squash this PR to avoid all these wip ;),True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1882,2019-09-05T20:18:14Z,2019-09-09T08:49:55Z,2019-09-09T08:58:36Z,MERGED,True,46,9,6,https://github.com/AymericDu,Retry listing when service is busy,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1882,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1882,"SUMMARY
Retry listing when service is busy
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
Python API

SDS VERSION
openio 4.7.1.dev6","SUMMARY
Retry listing when service is busy
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
Python API

SDS VERSION
openio 4.7.1.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1882,2019-09-05T20:18:14Z,2019-09-09T08:49:55Z,2019-09-09T08:58:36Z,MERGED,True,46,9,6,https://github.com/AymericDu,Retry listing when service is busy,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1882,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1882#issuecomment-528747286,"SUMMARY
Retry listing when service is busy
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
Python API

SDS VERSION
openio 4.7.1.dev6","Codecov Report

Merging #1882 into 4.x will increase coverage by 0.63%.
The diff coverage is 78.13%.


@@            Coverage Diff             @@
##              4.x    #1882      +/-   ##
==========================================
+ Coverage   79.49%   80.11%   +0.63%     
==========================================
  Files         356      374      +18     
  Lines       68121    70062    +1941     
  Branches     6966     7010      +44     
==========================================
+ Hits        54145    56126    +1981     
+ Misses      13976    13815     -161     
- Partials        0      121     +121



Impacted Files
Coverage Δ





oio/common/http_urllib3.py
90% <ø> (ø)
⬆️


metautils/lib/gridd_client.c
75.5% <ø> (+0.5%)
⬆️


oio/api/object_storage.py
80.6% <100%> (+1.32%)
⬆️


proxy/m2_actions.c
89.04% <100%> (+0.07%)
⬆️


oio/common/utils.py
71.12% <60%> (-0.25%)
⬇️


tests/functional/api/test_objectstorage.py
97.34% <93.34%> (-0.05%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


meta2v2/meta2_filters_check.c
73.78% <0%> (-1.63%)
⬇️


oio/blob/indexer.py
65.91% <0%> (-1.51%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


... and 89 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 680689b...d6528b8. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1883,2019-09-05T20:20:35Z,2019-09-09T09:28:21Z,2019-09-12T16:27:24Z,MERGED,True,14,5,1,https://github.com/AymericDu,oio-blob-rebuilder: do not block while counting the number of chunks to rebuild,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1883,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1883,"SUMMARY
Fetch total chunks to rebuild during rebuilding chunks
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.7.1.dev6","SUMMARY
Fetch total chunks to rebuild during rebuilding chunks
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.7.1.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1883,2019-09-05T20:20:35Z,2019-09-09T09:28:21Z,2019-09-12T16:27:24Z,MERGED,True,14,5,1,https://github.com/AymericDu,oio-blob-rebuilder: do not block while counting the number of chunks to rebuild,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1883,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1883#issuecomment-529376280,"SUMMARY
Fetch total chunks to rebuild during rebuilding chunks
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.7.1.dev6","Codecov Report

Merging #1883 into 4.x will increase coverage by 0.51%.
The diff coverage is 22.23%.


@@            Coverage Diff            @@
##              4.x   #1883      +/-   ##
=========================================
+ Coverage   79.49%     80%   +0.51%     
=========================================
  Files         356     374      +18     
  Lines       68121   70632    +2511     
  Branches     6966    7184     +218     
=========================================
+ Hits        54145   56501    +2356     
- Misses      13976   14011      +35     
- Partials        0     120     +120



Impacted Files
Coverage Δ





oio/rebuilder/blob_rebuilder.py
29.97% <22.23%> (-0.29%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


tests/functional/crawler/test_integrity_crawler.py
78.44% <0%> (-3.92%)
⬇️


meta2v2/meta2_filters_check.c
73.78% <0%> (-1.63%)
⬇️


oio/rdir/client.py
80.56% <0%> (-1.04%)
⬇️


oio/conscience/client.py
88.89% <0%> (-0.92%)
⬇️


meta2v2/meta2_filters_extract.c
91.87% <0%> (-0.81%)
⬇️


metautils/lib/comm_converter.c
72.52% <0%> (-0.52%)
⬇️


core/cs.c
80.64% <0%> (-0.45%)
⬇️


events/oio_events_queue_beanstalkd.c
83% <0%> (-0.4%)
⬇️


... and 78 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 680689b...6605f0b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1884,2019-09-06T16:38:12Z,2019-09-09T11:47:10Z,2019-09-12T16:27:20Z,MERGED,True,374,227,4,https://github.com/AymericDu,Improve oio-blob-registrator,6,"['bug :scream:', 'enhancement :sparkles:', 'priority:1 :goberserk:']",https://github.com/open-io/oio-sds/pull/1884,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1884,"SUMMARY

Insert alias and content in the containers
Allow to specify containers

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-registrator

SDS VERSION
openio 4.7.1.dev8","SUMMARY

Insert alias and content in the containers
Allow to specify containers

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-registrator

SDS VERSION
openio 4.7.1.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1885,2019-09-11T08:38:30Z,2019-09-11T14:49:28Z,2019-09-11T14:49:30Z,MERGED,True,72,45,8,https://github.com/fvennetier,CI: produce less annoying logs,6,[],https://github.com/open-io/oio-sds/pull/1885,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1885,"SUMMARY

make curl silent when there is no error
make ""test_weird_chars"" more reliable
run oio-reset.sh in quiet mode, produce less logs
Clean buried events after running tests known for producing a lot

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CI

SDS VERSION
openio 4.7.2.dev10","SUMMARY

make curl silent when there is no error
make ""test_weird_chars"" more reliable
run oio-reset.sh in quiet mode, produce less logs
Clean buried events after running tests known for producing a lot

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CI

SDS VERSION
openio 4.7.2.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1885,2019-09-11T08:38:30Z,2019-09-11T14:49:28Z,2019-09-11T14:49:30Z,MERGED,True,72,45,8,https://github.com/fvennetier,CI: produce less annoying logs,6,[],https://github.com/open-io/oio-sds/pull/1885,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1885#issuecomment-530367186,"SUMMARY

make curl silent when there is no error
make ""test_weird_chars"" more reliable
run oio-reset.sh in quiet mode, produce less logs
Clean buried events after running tests known for producing a lot

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CI

SDS VERSION
openio 4.7.2.dev10","Codecov Report

Merging #1885 into 4.x will increase coverage by 0.51%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1885      +/-   ##
==========================================
+ Coverage   79.65%   80.16%   +0.51%     
==========================================
  Files         358      374      +16     
  Lines       68440    70118    +1678     
  Branches     6981     7016      +35     
==========================================
+ Hits        54510    56200    +1690     
+ Misses      13928    13796     -132     
- Partials        2      122     +120



Impacted Files
Coverage Δ





tests/unit/test_prefixmapping.py
100% <100%> (ø)
⬆️


tests/func/test_weird_chars.c
91.14% <100%> (+0.24%)
⬆️


tests/functional/api/test_objectstorage.py
97.35% <100%> (+0.1%)
⬆️


oio/event/beanstalk.py
64.57% <100%> (+0.99%)
⬆️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


oio/account/client.py
82.61% <0%> (-1.08%)
⬇️


oio/api/io.py
89.01% <0%> (-0.21%)
⬇️


meta2v2/generic.c
73.6% <0%> (-0.16%)
⬇️


oio/api/ec.py
91.75% <0%> (-0.15%)
⬇️


server/transport_gridd.c
77.12% <0%> (ø)
⬆️


... and 86 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ab39972...e32a64d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1886,2019-09-11T09:22:22Z,2019-09-11T14:49:37Z,2019-09-12T16:27:09Z,MERGED,True,5,1,1,https://github.com/AymericDu,ECD: Allow to read metachunk with missing chunks,1,"['bug :scream:', 'priority:1 :goberserk:']",https://github.com/open-io/oio-sds/pull/1886,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1886,"SUMMARY
Allow to read metachunk with missing chunks
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

ECD

SDS VERSION
openio 4.7.2.dev7","SUMMARY
Allow to read metachunk with missing chunks
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

ECD

SDS VERSION
openio 4.7.2.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1886,2019-09-11T09:22:22Z,2019-09-11T14:49:37Z,2019-09-12T16:27:09Z,MERGED,True,5,1,1,https://github.com/AymericDu,ECD: Allow to read metachunk with missing chunks,1,"['bug :scream:', 'priority:1 :goberserk:']",https://github.com/open-io/oio-sds/pull/1886,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1886#issuecomment-530387295,"SUMMARY
Allow to read metachunk with missing chunks
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

ECD

SDS VERSION
openio 4.7.2.dev7","Codecov Report

Merging #1886 into 4.x will increase coverage by 0.45%.
The diff coverage is 50%.


@@            Coverage Diff            @@
##              4.x   #1886      +/-   ##
=========================================
+ Coverage   79.65%   80.1%   +0.45%     
=========================================
  Files         358     374      +16     
  Lines       68440   70107    +1667     
  Branches     6981    7012      +31     
=========================================
+ Hits        54510   56153    +1643     
+ Misses      13928   13832      -96     
- Partials        2     122     +120



Impacted Files
Coverage Δ





oio/ecd/app.py
59.65% <50%> (-5.82%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


proxy/metacd_http.c
89.47% <0%> (-0.31%)
⬇️


core/str.c
88.6% <0%> (-0.23%)
⬇️


oio/api/io.py
89.01% <0%> (-0.21%)
⬇️


meta2v2/generic.c
73.6% <0%> (-0.16%)
⬇️


server/transport_gridd.c
77.12% <0%> (ø)
⬆️


rawx/rawx.go
77.42% <0%> (ø)



rawx/handler_stat.go
76.7% <0%> (ø)



... and 79 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ab39972...22a5b23. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1887,2019-09-12T12:01:13Z,2019-09-16T08:46:14Z,2019-09-17T12:14:03Z,MERGED,True,224,94,8,https://github.com/AymericDu,Deregister specific services,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1887,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1887,"SUMMARY
Deregister specific services
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

proxy
Python API
CLI

SDS VERSION
openio 4.7.2.dev13

ADDITIONAL INFORMATION
$ openio cluster list rawx -c Type -c Addr
+------+----------------+
| Type | Addr           |
+------+----------------+
| rawx | 127.0.0.1:6012 |
| rawx | 127.0.0.1:6011 |
| rawx | 127.0.0.1:6010 |
+------+----------------+
$ openio cluster deregister rawx 127.0.0.1:6011
$ openio cluster list rawx -c Type -c Addr
+------+----------------+
| Type | Addr           |
+------+----------------+
| rawx | 127.0.0.1:6012 |
| rawx | 127.0.0.1:6010 |
+------+----------------+","SUMMARY
Deregister specific services
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

proxy
Python API
CLI

SDS VERSION
openio 4.7.2.dev13

ADDITIONAL INFORMATION
$ openio cluster list rawx -c Type -c Addr
+------+----------------+
| Type | Addr           |
+------+----------------+
| rawx | 127.0.0.1:6012 |
| rawx | 127.0.0.1:6011 |
| rawx | 127.0.0.1:6010 |
+------+----------------+
$ openio cluster deregister rawx 127.0.0.1:6011
$ openio cluster list rawx -c Type -c Addr
+------+----------------+
| Type | Addr           |
+------+----------------+
| rawx | 127.0.0.1:6012 |
| rawx | 127.0.0.1:6010 |
+------+----------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1888,2019-09-18T11:23:55Z,2019-09-30T08:50:12Z,2019-09-30T09:03:05Z,MERGED,True,767,158,5,https://github.com/AymericDu,Allow to paginate the status of the rdir,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1888,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1888,"SUMMARY
Allow to paginate the status of the rdir
When there are a lot of chunks in a rdir, the request rdir/status was very long because we would scan them all at once.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

rdir
Python API

SDS VERSION
openio 4.7.2.dev21","SUMMARY
Allow to paginate the status of the rdir
When there are a lot of chunks in a rdir, the request rdir/status was very long because we would scan them all at once.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

rdir
Python API

SDS VERSION
openio 4.7.2.dev21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1888,2019-09-18T11:23:55Z,2019-09-30T08:50:12Z,2019-09-30T09:03:05Z,MERGED,True,767,158,5,https://github.com/AymericDu,Allow to paginate the status of the rdir,4,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1888,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1888#issuecomment-534433630,"SUMMARY
Allow to paginate the status of the rdir
When there are a lot of chunks in a rdir, the request rdir/status was very long because we would scan them all at once.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

rdir
Python API

SDS VERSION
openio 4.7.2.dev21","Codecov Report

Merging #1888 into 4.x will increase coverage by 0.5%.
The diff coverage is 95.25%.


@@            Coverage Diff            @@
##              4.x    #1888     +/-   ##
=========================================
+ Coverage   80.08%   80.58%   +0.5%     
=========================================
  Files         374      360     -14     
  Lines       70179    69058   -1121     
  Branches     7017     7022      +5     
=========================================
- Hits        56197    55644    -553     
+ Misses      13862    13414    -448     
+ Partials      120        0    -120



Impacted Files
Coverage Δ





meta2v2/meta2_filters_action_container.c
63.24% <100%> (+1.17%)
⬆️


tests/unit/api/test_rdir.py
100% <100%> (ø)
⬆️


oio/rdir/client.py
83.55% <85.37%> (+2.99%)
⬆️


rdir/rdir.c
85.56% <94.21%> (+0.93%)
⬆️


tests/functional/api/test_rdir.py
97.13% <97.13%> (ø)



meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


oio/common/http_urllib3.py
87.5% <0%> (-2.5%)
⬇️


meta1v2/meta1_prefixes.c
76.81% <0%> (-2.06%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


... and 55 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 70addc5...eeec1fa. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1889,2019-09-18T11:26:51Z,2019-09-24T16:29:15Z,2019-09-27T10:12:04Z,MERGED,True,88,28,7,https://github.com/AymericDu,Exit gracefully the rebuilders,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1889,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1889,"SUMMARY
Exit gracefully the rebuilders
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder
oio-meta1-rebuilder
oio-meta2-rebuilder
oio-improver

SDS VERSION
openio 4.7.2.dev21","SUMMARY
Exit gracefully the rebuilders
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder
oio-meta1-rebuilder
oio-meta2-rebuilder
oio-improver

SDS VERSION
openio 4.7.2.dev21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1889,2019-09-18T11:26:51Z,2019-09-24T16:29:15Z,2019-09-27T10:12:04Z,MERGED,True,88,28,7,https://github.com/AymericDu,Exit gracefully the rebuilders,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1889,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1889#issuecomment-534448071,"SUMMARY
Exit gracefully the rebuilders
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder
oio-meta1-rebuilder
oio-meta2-rebuilder
oio-improver

SDS VERSION
openio 4.7.2.dev21","Codecov Report

Merging #1889 into 4.x will increase coverage by 0.11%.
The diff coverage is 16.13%.


@@            Coverage Diff             @@
##              4.x    #1889      +/-   ##
==========================================
+ Coverage   80.08%   80.19%   +0.11%     
==========================================
  Files         374      374              
  Lines       70179    70216      +37     
  Branches     7017     7017              
==========================================
+ Hits        56197    56303     +106     
+ Misses      13862    13781      -81     
- Partials      120      132      +12



Impacted Files
Coverage Δ





oio/rebuilder/blob_improver.py
22.89% <16.67%> (-0.12%)
⬇️


oio/rebuilder/rebuilder.py
41.09% <37.5%> (+0.22%)
⬆️


oio/rebuilder/blob_rebuilder.py
29.42% <6.25%> (-0.8%)
⬇️


oio/event/beanstalk.py
63.89% <8.34%> (-0.48%)
⬇️


tools/oio-lb-benchmark.c
77.28% <0%> (-6.81%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


tests/functional/container/test_replication.py
78.32% <0%> (-3.61%)
⬇️


oio/common/http_urllib3.py
87.5% <0%> (-2.5%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


oio/conscience/client.py
81% <0%> (-1.65%)
⬇️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 70addc5...2914312. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1890,2019-09-18T13:52:00Z,2019-12-04T08:51:42Z,2019-12-04T08:51:46Z,MERGED,True,1593,1109,142,https://github.com/fvennetier,Support Python 3,22,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1890,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1890,"SUMMARY
This pull request makes the code compatible with Python 3.6+. The recommended interpreter is still Python 2.7, as we did not run extensive performance tests with Python 3.
Closes: #1857
Jira: R1910-1
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

all

SDS VERSION
openio 6.0.0.0a1.dev13

ADDITIONAL INFORMATION","SUMMARY
This pull request makes the code compatible with Python 3.6+. The recommended interpreter is still Python 2.7, as we did not run extensive performance tests with Python 3.
Closes: #1857
Jira: R1910-1
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

all

SDS VERSION
openio 6.0.0.0a1.dev13

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1890,2019-09-18T13:52:00Z,2019-12-04T08:51:42Z,2019-12-04T08:51:46Z,MERGED,True,1593,1109,142,https://github.com/fvennetier,Support Python 3,22,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1890,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1890#issuecomment-561315761,"SUMMARY
This pull request makes the code compatible with Python 3.6+. The recommended interpreter is still Python 2.7, as we did not run extensive performance tests with Python 3.
Closes: #1857
Jira: R1910-1
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

all

SDS VERSION
openio 6.0.0.0a1.dev13

ADDITIONAL INFORMATION","Codecov Report

Merging #1890 into master will decrease coverage by 2.36%.
The diff coverage is 75.03%.


@@            Coverage Diff             @@
##           master    #1890      +/-   ##
==========================================
- Coverage   80.77%   78.42%   -2.35%     
==========================================
  Files         367      375       +8     
  Lines       70040    72055    +2015     
  Branches     6406     6533     +127     
==========================================
- Hits        56571    56500      -71     
- Misses      13255    15343    +2088     
+ Partials      214      212       -2



Impacted Files
Coverage Δ





...ts/functional/api/test_objectstorage_properties.py
100% <ø> (ø)
⬆️


oio/content/plain.py
75.87% <ø> (ø)
⬆️


tests/functional/directory/test_prefixmapping.py
100% <ø> (ø)
⬆️


oio/crawler/storage_tierer.py
57.8% <0%> (ø)
⬆️


oio/common/tool.py
23.61% <0%> (ø)
⬆️


tests/functional/cli/admin/test_item_check.py
71.46% <0%> (+0.86%)
⬆️


oio/cli/common/shell.py
64.57% <0%> (ø)
⬆️


oio/cli/common/commandmanager.py
63.64% <0%> (ø)
⬆️


oio/api/backblaze.py
14.58% <100%> (ø)
⬆️


oio/crawler/integrity.py
70.08% <100%> (-0.95%)
⬇️


... and 214 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8d48551...c30c613. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1891,2019-09-19T16:08:24Z,2019-09-27T13:54:18Z,2019-09-30T09:03:11Z,MERGED,True,175,3,3,https://github.com/AymericDu,Test the download with ECD,1,[],https://github.com/open-io/oio-sds/pull/1891,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1891,"SUMMARY
Test the download with ECD
ISSUE TYPE

Test Pull Request

COMPONENT NAME

ECD

SDS VERSION
openio 4.7.2.dev18","SUMMARY
Test the download with ECD
ISSUE TYPE

Test Pull Request

COMPONENT NAME

ECD

SDS VERSION
openio 4.7.2.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1891,2019-09-19T16:08:24Z,2019-09-27T13:54:18Z,2019-09-30T09:03:11Z,MERGED,True,175,3,3,https://github.com/AymericDu,Test the download with ECD,1,[],https://github.com/open-io/oio-sds/pull/1891,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1891#issuecomment-533996354,"SUMMARY
Test the download with ECD
ISSUE TYPE

Test Pull Request

COMPONENT NAME

ECD

SDS VERSION
openio 4.7.2.dev18","Codecov Report

Merging #1891 into 4.x will increase coverage by 0.23%.
The diff coverage is 98.38%.


@@            Coverage Diff            @@
##              4.x   #1891      +/-   ##
=========================================
+ Coverage   80.08%   80.3%   +0.23%     
=========================================
  Files         374     375       +1     
  Lines       70179   70299     +120     
  Branches     7017    7017              
=========================================
+ Hits        56197   56449     +252     
+ Misses      13862   13728     -134     
- Partials      120     122       +2



Impacted Files
Coverage Δ





oio/common/constants.py
100% <100%> (ø)
⬆️


tests/functional/ecd/test_ecd.py
98.34% <98.34%> (ø)



oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/common/http_urllib3.py
87.5% <0%> (-2.5%)
⬇️


rawx/handler_chunk.go
71.8% <0%> (-1.7%)
⬇️


metautils/lib/gridd_client_ext.c
81.35% <0%> (-1.49%)
⬇️


oio/container/backup.py
72.7% <0%> (-1.38%)
⬇️


oio/directory/meta1.py
88.51% <0%> (-1.14%)
⬇️


meta1v2/meta1_gridd_dispatcher.c
68.78% <0%> (-0.9%)
⬇️


... and 58 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 70addc5...332a061. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1892,2019-09-19T16:08:30Z,2019-09-30T08:50:31Z,2019-09-30T09:03:11Z,MERGED,True,262,188,14,https://github.com/AymericDu,Improve some cluster commands to accept multiple services,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1892,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1892,"SUMMARY
Improve some cluster commands to accept multiple services
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.7.2.dev18","SUMMARY
Improve some cluster commands to accept multiple services
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.7.2.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1892,2019-09-19T16:08:30Z,2019-09-30T08:50:31Z,2019-09-30T09:03:11Z,MERGED,True,262,188,14,https://github.com/AymericDu,Improve some cluster commands to accept multiple services,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1892,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1892#issuecomment-533996099,"SUMMARY
Improve some cluster commands to accept multiple services
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.7.2.dev18","Codecov Report

Merging #1892 into 4.x will decrease coverage by 0.59%.
The diff coverage is 78.58%.


@@            Coverage Diff             @@
##              4.x    #1892      +/-   ##
==========================================
- Coverage   80.45%   79.86%   -0.58%     
==========================================
  Files         359      374      +15     
  Lines       68693    70196    +1503     
  Branches     7017     6982      -35     
==========================================
+ Hits        55258    56057     +799     
- Misses      13435    14017     +582     
- Partials        0      122     +122



Impacted Files
Coverage Δ





tests/functional/cli/cluster/test_cluster.py
31.17% <100%> (ø)
⬆️


tests/functional/cli/__init__.py
100% <100%> (ø)
⬆️


oio/cli/__init__.py
42.5% <66.67%> (+19.78%)
⬆️


oio/cli/object/object.py
24.19% <81.25%> (-0.59%)
⬇️


tests/functional/container/test_replication.py
25.31% <0%> (-49.39%)
⬇️


tests/functional/directory/test_refmapping.py
59.13% <0%> (-37.95%)
⬇️


oio/directory/meta1.py
56.33% <0%> (-32.18%)
⬇️


oio/directory/admin.py
56.05% <0%> (-18.68%)
⬇️


oio/common/configuration.py
42.7% <0%> (-14.6%)
⬇️


tests/functional/directory/test_admin.py
87.24% <0%> (-12.76%)
⬇️


... and 56 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update fb5d1e1...d4a4aff. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1893,2019-09-19T16:08:39Z,2019-09-23T14:49:44Z,2019-09-23T14:55:09Z,MERGED,True,1,2,1,https://github.com/AymericDu,CLI: Remove useless argument,1,[],https://github.com/open-io/oio-sds/pull/1893,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1893,"SUMMARY
Remove useless argument for openio lifecycle apply --recursive
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.7.2.dev18","SUMMARY
Remove useless argument for openio lifecycle apply --recursive
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.7.2.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1893,2019-09-19T16:08:39Z,2019-09-23T14:49:44Z,2019-09-23T14:55:09Z,MERGED,True,1,2,1,https://github.com/AymericDu,CLI: Remove useless argument,1,[],https://github.com/open-io/oio-sds/pull/1893,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1893#issuecomment-533998154,"SUMMARY
Remove useless argument for openio lifecycle apply --recursive
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.7.2.dev18","Codecov Report

Merging #1893 into 4.x will decrease coverage by 0.26%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1893      +/-   ##
==========================================
- Coverage   80.45%   80.19%   -0.25%     
==========================================
  Files         359      374      +15     
  Lines       68693    70179    +1486     
  Branches     7017     7017              
==========================================
+ Hits        55258    56273    +1015     
- Misses      13435    13785     +350     
- Partials        0      121     +121



Impacted Files
Coverage Δ





tests/functional/m2_filters/test_filters.py
63.64% <0%> (-33.33%)
⬇️


tests/functional/crawler/test_integrity_crawler.py
78.44% <0%> (-3.92%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/directory/admin.py
72.53% <0%> (-2.19%)
⬇️


server/slab.c
83.77% <0%> (-1.29%)
⬇️


sqliterepo/cache.c
85.72% <0%> (-1%)
⬇️


oio/common/exceptions.py
91.67% <0%> (-0.64%)
⬇️


oio/event/beanstalk.py
64.38% <0%> (-0.59%)
⬇️


core/http_put.c
91.57% <0%> (-0.51%)
⬇️


meta2v2/meta2_filters_action_content.c
93.22% <0%> (-0.5%)
⬇️


... and 48 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update fb5d1e1...f3e4ba4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1894,2019-09-20T16:37:00Z,2019-09-24T16:37:04Z,2019-09-24T16:37:08Z,MERGED,True,61,34,5,https://github.com/fvennetier,Fix content perfectible tests,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1894,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1894,"SUMMARY
Some tests of perfectible content improvement were systematically skipped (🤦‍♂️), and failed when re-enabled. The tests have been fixed, and will now run in some of the tests environments. And then the tested code has been fixed.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

lb

SDS VERSION
openio 4.7.2.dev29","SUMMARY
Some tests of perfectible content improvement were systematically skipped (🤦‍♂️), and failed when re-enabled. The tests have been fixed, and will now run in some of the tests environments. And then the tested code has been fixed.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

lb

SDS VERSION
openio 4.7.2.dev29",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1895,2019-09-23T14:19:05Z,2019-09-30T08:50:59Z,2019-09-30T09:03:14Z,MERGED,True,378,260,5,https://github.com/AymericDu,Allow to set various Redis parameters,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1895,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1895,"SUMMARY
Allow to set various Redis parameters
Jira: OB-461
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 4.7.2.dev19","SUMMARY
Allow to set various Redis parameters
Jira: OB-461
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 4.7.2.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1895,2019-09-23T14:19:05Z,2019-09-30T08:50:59Z,2019-09-30T09:03:14Z,MERGED,True,378,260,5,https://github.com/AymericDu,Allow to set various Redis parameters,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1895,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1895#issuecomment-536465357,"SUMMARY
Allow to set various Redis parameters
Jira: OB-461
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 4.7.2.dev19","Codecov Report

Merging #1895 into 4.x will increase coverage by 2.26%.
The diff coverage is 91.91%.


@@            Coverage Diff             @@
##              4.x    #1895      +/-   ##
==========================================
+ Coverage   77.87%   80.12%   +2.26%     
==========================================
  Files         340      375      +35     
  Lines       66132    70378    +4246     
  Branches     6799     7017     +218     
==========================================
+ Hits        51491    56385    +4894     
+ Misses      14518    13871     -647     
+ Partials      123      122       -1



Impacted Files
Coverage Δ





tests/functional/account/test_backend.py
100% <100%> (ø)
⬆️


oio/account/backend.py
79.83% <100%> (+0.82%)
⬆️


oio/container/backup.py
67.48% <100%> (+0.61%)
⬆️


oio/common/redis_conn.py
68.68% <62.23%> (-11.32%)
⬇️


tests/functional/directory/test_refmapping.py
88.33% <0%> (-8.75%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


...sts/functional/content/test_content_perfectible.py
82.49% <0%> (-2.18%)
⬇️


oio/conscience/client.py
81.82% <0%> (-1.65%)
⬇️


proxy/metacd_http.c
89.47% <0%> (-1.41%)
⬇️


tests/functional/container/test_replication.py
80.73% <0%> (-1.2%)
⬇️


... and 94 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7de7a17...6e340e7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1896,2019-09-24T12:32:17Z,2019-09-24T16:28:00Z,2019-09-27T13:42:58Z,MERGED,True,43,21,4,https://github.com/fvennetier,"Improve event-agent error handling, fix bug in notifier",2,"['bug :scream:', 'Logging :scroll:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1896,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1896,"SUMMARY
Some errors were too verbose, especially the ones triggered when stopping the process. Their verbosity has been lowered.
Also fix a bug in the notifier plugin, which prevented chunk events to be forwarded.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.7.2.dev17","SUMMARY
Some errors were too verbose, especially the ones triggered when stopping the process. Their verbosity has been lowered.
Also fix a bug in the notifier plugin, which prevented chunk events to be forwarded.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.7.2.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1897,2019-09-25T08:31:38Z,2019-09-30T15:34:13Z,2019-09-30T15:35:11Z,MERGED,True,60,31,2,https://github.com/AymericDu,Exit gracefully the tools,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1897,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1897,"SUMMARY
Exit gracefully the tools
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder
Admin CLI

SDS VERSION
openio 5.2.2.dev12","SUMMARY
Exit gracefully the tools
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder
Admin CLI

SDS VERSION
openio 5.2.2.dev12",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1898,2019-09-25T16:11:36Z,2019-09-30T08:51:26Z,2019-09-30T09:03:17Z,MERGED,True,180,108,8,https://github.com/AymericDu,Return 404 when the container created but not initiated,2,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1898,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1898,"SUMMARY
Return 404 when the container created but not initiated
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.7.2.dev23","SUMMARY
Return 404 when the container created but not initiated
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.7.2.dev23",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1898,2019-09-25T16:11:36Z,2019-09-30T08:51:26Z,2019-09-30T09:03:17Z,MERGED,True,180,108,8,https://github.com/AymericDu,Return 404 when the container created but not initiated,2,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1898,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1898#issuecomment-535861240,"SUMMARY
Return 404 when the container created but not initiated
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.7.2.dev23","Codecov Report

Merging #1898 into 4.x will increase coverage by 0.07%.
The diff coverage is 90.15%.


@@            Coverage Diff             @@
##              4.x    #1898      +/-   ##
==========================================
+ Coverage   80.08%   80.14%   +0.07%     
==========================================
  Files         374      374              
  Lines       70226    70257      +31     
  Branches     7017     7013       -4     
==========================================
+ Hits        56230    56302      +72     
+ Misses      13874    13833      -41     
  Partials      122      122



Impacted Files
Coverage Δ





meta2v2/meta2_backend.c
86% <100%> (+0.25%)
⬆️


meta2v2/meta2_server.c
80.44% <100%> (+0.44%)
⬆️


proxy/sqlx_actions.c
79.56% <63.64%> (-0.81%)
⬇️


sqliterepo/replication_dispatcher.c
65.44% <86.67%> (+0.37%)
⬆️


sqliterepo/repository.c
74.49% <96.88%> (+1.81%)
⬆️


tests/functional/directory/test_refmapping.py
88.33% <0%> (-8.75%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


tests/functional/directory/test_admin.py
93.62% <0%> (-6.38%)
⬇️


tests/functional/crawler/test_integrity_crawler.py
78.44% <0%> (-3.92%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.09%)
⬇️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e18e149...12e35ee. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1899,2019-09-27T09:24:05Z,2019-09-30T11:59:41Z,2019-09-30T12:00:05Z,MERGED,True,229,214,16,https://github.com/AymericDu,Send event for each deleted meta2 database,6,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1899,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1899,"SUMMARY
Send event for each deleted meta2 database

1 storage.meta2.deleted for each deleted meta2 database
1 storage.container.deleted for each deleted container

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo
meta2
proxy
event-agent

SDS VERSION
openio 4.7.2.dev28","SUMMARY
Send event for each deleted meta2 database

1 storage.meta2.deleted for each deleted meta2 database
1 storage.container.deleted for each deleted container

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo
meta2
proxy
event-agent

SDS VERSION
openio 4.7.2.dev28",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1900,2019-09-27T15:43:39Z,2019-10-08T10:10:00Z,2019-10-08T10:12:33Z,MERGED,True,132,76,18,https://github.com/fvennetier,Fix distance computation for chunks selected close to the proxy,6,[],https://github.com/open-io/oio-sds/pull/1900,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1900,"SUMMARY
Fix distance computation for chunks selected close to the proxy. It was 0 all the time, triggering an unwanted storage.content.perfectible event.
Also bring minor improvements to the CLI.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

LB
CLI
sqliterepo

SDS VERSION
openio 5.2.2.dev10","SUMMARY
Fix distance computation for chunks selected close to the proxy. It was 0 all the time, triggering an unwanted storage.content.perfectible event.
Also bring minor improvements to the CLI.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

LB
CLI
sqliterepo

SDS VERSION
openio 5.2.2.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1900,2019-09-27T15:43:39Z,2019-10-08T10:10:00Z,2019-10-08T10:12:33Z,MERGED,True,132,76,18,https://github.com/fvennetier,Fix distance computation for chunks selected close to the proxy,6,[],https://github.com/open-io/oio-sds/pull/1900,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1900#issuecomment-538480662,"SUMMARY
Fix distance computation for chunks selected close to the proxy. It was 0 all the time, triggering an unwanted storage.content.perfectible event.
Also bring minor improvements to the CLI.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

LB
CLI
sqliterepo

SDS VERSION
openio 5.2.2.dev10","Codecov Report

Merging #1900 into 5.x will decrease coverage by 0.19%.
The diff coverage is 46.27%.


@@            Coverage Diff             @@
##              5.x    #1900      +/-   ##
==========================================
- Coverage   79.52%   79.33%   -0.18%     
==========================================
  Files         389      390       +1     
  Lines       73290    73657     +367     
  Branches     7010     7011       +1     
==========================================
+ Hits        58276    58428     +152     
- Misses      14788    15003     +215     
  Partials      226      226



Impacted Files
Coverage Δ





core/loc.c
73.08% <ø> (+11.54%)
⬆️


proxy/metacd_http.c
91.36% <ø> (-0.3%)
⬇️


core/lb.c
86.57% <0%> (+5.99%)
⬆️


tests/functional/event/filters/test_filters.py
98.32% <100%> (-0.01%)
⬇️


oio/event/beanstalk.py
65.38% <100%> (+0.39%)
⬆️


tests/functional/conscience/test_conscience.py
98.06% <100%> (-0.47%)
⬇️


tests/utils.py
96.02% <100%> (-0.25%)
⬇️


...ests/functional/content/test_content_versioning.py
99.76% <100%> (ø)
⬇️


tests/functional/crawler/test_integrity_crawler.py
57.32% <20%> (-1.65%)
⬇️


...sts/functional/content/test_content_perfectible.py
84% <84.22%> (+14.72%)
⬆️


... and 65 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 893dcf4...ba58e24. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1901,2019-10-01T08:09:33Z,2019-10-02T07:01:26Z,2019-10-03T13:58:24Z,MERGED,True,77,28,5,https://github.com/AymericDu,Decache meta1 directory services after database deletion,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1901,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1901,"SUMMARY
Decache when deleting meta1 database or when the base is not managed.
Jira: OS-437
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta1
proxy

SDS VERSION
openio 4.7.2.dev41","SUMMARY
Decache when deleting meta1 database or when the base is not managed.
Jira: OS-437
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta1
proxy

SDS VERSION
openio 4.7.2.dev41",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1901,2019-10-01T08:09:33Z,2019-10-02T07:01:26Z,2019-10-03T13:58:24Z,MERGED,True,77,28,5,https://github.com/AymericDu,Decache meta1 directory services after database deletion,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1901,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1901#issuecomment-537042827,"SUMMARY
Decache when deleting meta1 database or when the base is not managed.
Jira: OS-437
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta1
proxy

SDS VERSION
openio 4.7.2.dev41","Codecov Report

Merging #1901 into 4.x will increase coverage by 0.6%.
The diff coverage is 71.12%.


@@            Coverage Diff            @@
##              4.x    #1901     +/-   ##
=========================================
+ Coverage   80.35%   80.94%   +0.6%     
=========================================
  Files         374      359     -15     
  Lines       70405    68945   -1460     
  Branches     6986     7023     +37     
=========================================
- Hits        56567    55802    -765     
+ Misses      13716    13143    -573     
+ Partials      122        0    -122



Impacted Files
Coverage Δ





tests/unit/test_meta1_backend.c
99.43% <100%> (+0.01%)
⬆️


meta1v2/meta1_backend.c
93.03% <100%> (+0.35%)
⬆️


meta1v2/meta1_server.c
69.92% <45%> (-3.66%)
⬇️


proxy/common.c
93.18% <81.82%> (-0.17%)
⬇️


tests/functional/crawler/test_integrity_crawler.py
78.85% <0%> (-3.84%)
⬇️


tests/functional/audit/test_audit_storage.py
82.12% <0%> (-2.43%)
⬇️


oio/blob/indexer.py
67.43% <0%> (-2.27%)
⬇️


meta2v2/meta2_filters_action_container.c
62.2% <0%> (-1.03%)
⬇️


server/slab.c
83.77% <0%> (-0.64%)
⬇️


rawx-lib/src/attr_handler.c
68.58% <0%> (-0.47%)
⬇️


... and 50 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e5ff0f0...f85c803. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1902,2019-10-02T12:08:52Z,2019-10-03T13:56:59Z,2019-10-07T12:00:06Z,MERGED,True,55,6,3,https://github.com/AymericDu,Fix meta0 database JSON dump,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1902,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1902,"SUMMARY
Fix prefixes of meta0 list
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
Python API

SDS VERSION
openio 4.7.2.dev42","SUMMARY
Fix prefixes of meta0 list
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
Python API

SDS VERSION
openio 4.7.2.dev42",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1903,2019-10-03T15:03:44Z,2019-10-08T09:41:40Z,2019-10-16T20:35:26Z,MERGED,True,8,2,1,https://github.com/AymericDu,blob-rebuilder: Fix reuse of beanstalkd connections,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1903,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1903,"SUMMARY
Fix reuse of beanstalkd connections
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.7.2.dev41","SUMMARY
Fix reuse of beanstalkd connections
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.7.2.dev41",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1903,2019-10-03T15:03:44Z,2019-10-08T09:41:40Z,2019-10-16T20:35:26Z,MERGED,True,8,2,1,https://github.com/AymericDu,blob-rebuilder: Fix reuse of beanstalkd connections,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1903,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1903#issuecomment-538023478,"SUMMARY
Fix reuse of beanstalkd connections
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.7.2.dev41","Codecov Report

Merging #1903 into 4.x will decrease coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1903      +/-   ##
==========================================
- Coverage   79.28%   79.27%   -<.01%     
==========================================
  Files         213      213              
  Lines       45200    45200              
==========================================
- Hits        35831    35830       -1     
- Misses       9247     9248       +1     
  Partials      122      122



Impacted Files
Coverage Δ





meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


meta2v2/meta2_filters_check.c
65.58% <0%> (-3.27%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.09%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


sqliterepo/gridd_client_pool.c
81.58% <0%> (-0.87%)
⬇️


rawx-apache2/src/rawx_repository.c
55.88% <0%> (-0.82%)
⬇️


meta2v2/meta2_filters_extract.c
91.87% <0%> (-0.81%)
⬇️


meta2v2/meta2_filters_action_content.c
93.72% <0%> (-0.5%)
⬇️


metautils/lib/gridd_client.c
75.5% <0%> (-0.49%)
⬇️


... and 19 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 382c9b5...6ee147f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1904,2019-10-04T15:33:50Z,2019-11-21T17:00:41Z,2019-11-21T17:00:45Z,MERGED,True,91,5,3,https://github.com/fvennetier,Remove ZooKeeper watches before deleting nodes,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1904,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1904,"SUMMARY
Removing watches before deleting ZooKeeper nodes prevents these watches to trigger callbacks after the election is gone (this happens when ZooKeeper is under heavy load).
This modification requires ZooKeeper 3.5. Behavior with older versions is unchanged.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 5.2.3.dev8","SUMMARY
Removing watches before deleting ZooKeeper nodes prevents these watches to trigger callbacks after the election is gone (this happens when ZooKeeper is under heavy load).
This modification requires ZooKeeper 3.5. Behavior with older versions is unchanged.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 5.2.3.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1904,2019-10-04T15:33:50Z,2019-11-21T17:00:41Z,2019-11-21T17:00:45Z,MERGED,True,91,5,3,https://github.com/fvennetier,Remove ZooKeeper watches before deleting nodes,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1904,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1904#issuecomment-539481437,"SUMMARY
Removing watches before deleting ZooKeeper nodes prevents these watches to trigger callbacks after the election is gone (this happens when ZooKeeper is under heavy load).
This modification requires ZooKeeper 3.5. Behavior with older versions is unchanged.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 5.2.3.dev8","Codecov Report

Merging #1904 into 5.x will increase coverage by 0.03%.
The diff coverage is 62.5%.


@@            Coverage Diff             @@
##              5.x    #1904      +/-   ##
==========================================
+ Coverage   79.33%   79.36%   +0.03%     
==========================================
  Files         391      391              
  Lines       73717    73739      +22     
  Branches     7016     7018       +2     
==========================================
+ Hits        58473    58512      +39     
+ Misses      15014    15001      -13     
+ Partials      230      226       -4



Impacted Files
Coverage Δ





sqliterepo/election.c
90% <100%> (+0.03%)
⬆️


sqliterepo/synchro.c
79.02% <43.75%> (-1.45%)
⬇️


tests/functional/cli/admin/test_service_decache.py
79.17% <0%> (-6.25%)
⬇️


oio/conscience/client.py
84.8% <0%> (-1.6%)
⬇️


oio/event/beanstalk.py
65% <0%> (-1.35%)
⬇️


metautils/lib/gridd_client_ext.c
81.35% <0%> (-1.11%)
⬇️


oio/blob/converter.py
80.93% <0%> (-0.98%)
⬇️


tests/functional/audit/test_audit_storage.py
82.12% <0%> (-0.81%)
⬇️


server/slab.c
83.77% <0%> (-0.64%)
⬇️


sqliterepo/gridd_client_pool.c
80.71% <0%> (-0.43%)
⬇️


... and 32 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c437eff...0af2823. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1905,2019-10-08T08:03:26Z,2019-10-08T14:31:52Z,2019-10-08T14:31:52Z,MERGED,True,65,3,2,https://github.com/jfsmig,rawx: perform less (but bigger) IO operations,3,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1905,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1905,"SUMMARY
Perform less (but bigger) IO ops.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 5.2.3.dev3","SUMMARY
Perform less (but bigger) IO ops.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 5.2.3.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1905,2019-10-08T08:03:26Z,2019-10-08T14:31:52Z,2019-10-08T14:31:52Z,MERGED,True,65,3,2,https://github.com/jfsmig,rawx: perform less (but bigger) IO operations,3,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1905,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1905#issuecomment-539503180,"SUMMARY
Perform less (but bigger) IO ops.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 5.2.3.dev3","Codecov Report

Merging #1905 into 5.x will decrease coverage by 0.13%.
The diff coverage is 70.28%.


@@            Coverage Diff            @@
##              5.x   #1905      +/-   ##
=========================================
- Coverage   79.52%   79.4%   -0.12%     
=========================================
  Files         389     391       +2     
  Lines       73290   74784    +1494     
  Branches     7010    7163     +153     
=========================================
+ Hits        58276   59374    +1098     
- Misses      14788   15180     +392     
- Partials      226     230       +4



Impacted Files
Coverage Δ





rawx/filerepo.go
69.72% <100%> (ø)
⬆️


rawx/handler_chunk.go
73.81% <69.45%> (-0.77%)
⬇️


tests/functional/event/filters/test_filters.py
85.55% <0%> (-12.78%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/common/http_urllib3.py
87.5% <0%> (-2.5%)
⬇️


tests/functional/audit/test_audit_storage.py
82.93% <0%> (-2.43%)
⬇️


oio/blob/indexer.py
69.18% <0%> (-2.25%)
⬇️


oio/conscience/client.py
84% <0%> (-1.59%)
⬇️


oio/content/factory.py
80.96% <0%> (-1.58%)
⬇️


proxy/common.c
91.84% <0%> (-1.58%)
⬇️


... and 62 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 893dcf4...b4a8410. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1906,2019-10-08T16:01:04Z,2019-10-18T09:21:13Z,2019-11-05T09:58:28Z,MERGED,True,375,169,10,https://github.com/jfsmig,"rawx: Add hints and optimizations (fallocate(), fsync(), fadvise())",9,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1906,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1906,"SUMMARY

Perform still less but bigger I/O ops
Minor code reorg (most const have been gathered)
Allow a call to fallocate() before writing
Disable fsync() by default (similar to rawx-apache2)
Propose fadvise after uploading of before downloading

ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.8.1.dev16","SUMMARY

Perform still less but bigger I/O ops
Minor code reorg (most const have been gathered)
Allow a call to fallocate() before writing
Disable fsync() by default (similar to rawx-apache2)
Propose fadvise after uploading of before downloading

ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.8.1.dev16",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1906,2019-10-08T16:01:04Z,2019-10-18T09:21:13Z,2019-11-05T09:58:28Z,MERGED,True,375,169,10,https://github.com/jfsmig,"rawx: Add hints and optimizations (fallocate(), fsync(), fadvise())",9,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1906,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1906#issuecomment-541065879,"SUMMARY

Perform still less but bigger I/O ops
Minor code reorg (most const have been gathered)
Allow a call to fallocate() before writing
Disable fsync() by default (similar to rawx-apache2)
Propose fadvise after uploading of before downloading

ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 4.8.1.dev16","Codecov Report

Merging #1906 into 5.x will increase coverage by 0.03%.
The diff coverage is 55.86%.


@@            Coverage Diff             @@
##              5.x    #1906      +/-   ##
==========================================
+ Coverage   79.32%   79.35%   +0.03%     
==========================================
  Files         391      380      -11     
  Lines       73752    73688      -64     
  Branches     7016     7016              
==========================================
- Hits        58497    58466      -31     
+ Misses      15025    14985      -40     
- Partials      230      237       +7



Impacted Files
Coverage Δ





rawx/rawx.go
71.88% <ø> (ø)
⬆️


rawx/configuration.go
56.1% <ø> (ø)
⬆️


rawx/chunk_info.go
81.55% <ø> (ø)
⬆️


rawx/conf_reader.go
81.58% <ø> (-0.92%)
⬇️


rawx/main.go
50% <30.77%> (-11.06%)
⬇️


rawx/handler_chunk.go
73.56% <69.24%> (-0.25%)
⬇️


rawx/filerepo.go
69.43% <69.5%> (-0.29%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


tests/functional/cli/admin/test_service_decache.py
81.25% <0%> (-4.16%)
⬇️


... and 55 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cad7db9...cce57f7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1907,2019-10-14T15:51:43Z,2019-10-16T08:41:40Z,2019-10-16T08:43:08Z,MERGED,True,28,12,4,https://github.com/fvennetier,"rawx: log bad requests, enhance log format",1,"['enhancement :sparkles:', 'Logging :scroll:', 'language:C']",https://github.com/open-io/oio-sds/pull/1907,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1907,"SUMMARY
When an error occurs after the rawx has already sent the first response, only this error response appears in the access log. To help debugging these cases, display the first error in the main log file.
Instead of logging the time the request started, be consistent with all other OpenIO SDS services, and log the time the request ended. Also, to help matching log lines that do not carry a request ID, display the time with microseconds.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

rawx

SDS VERSION
5.2.2

ADDITIONAL INFORMATION","SUMMARY
When an error occurs after the rawx has already sent the first response, only this error response appears in the access log. To help debugging these cases, display the first error in the main log file.
Instead of logging the time the request started, be consistent with all other OpenIO SDS services, and log the time the request ended. Also, to help matching log lines that do not carry a request ID, display the time with microseconds.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

rawx

SDS VERSION
5.2.2

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1907,2019-10-14T15:51:43Z,2019-10-16T08:41:40Z,2019-10-16T08:43:08Z,MERGED,True,28,12,4,https://github.com/fvennetier,"rawx: log bad requests, enhance log format",1,"['enhancement :sparkles:', 'Logging :scroll:', 'language:C']",https://github.com/open-io/oio-sds/pull/1907,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1907#issuecomment-542591946,"SUMMARY
When an error occurs after the rawx has already sent the first response, only this error response appears in the access log. To help debugging these cases, display the first error in the main log file.
Instead of logging the time the request started, be consistent with all other OpenIO SDS services, and log the time the request ended. Also, to help matching log lines that do not carry a request ID, display the time with microseconds.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

rawx

SDS VERSION
5.2.2

ADDITIONAL INFORMATION","Codecov Report

Merging #1907 into 4.x will decrease coverage by 1.85%.
The diff coverage is 59.23%.


@@            Coverage Diff             @@
##              4.x    #1907      +/-   ##
==========================================
- Coverage   80.61%   78.76%   -1.84%     
==========================================
  Files         375      366       -9     
  Lines       70467    72047    +1580     
  Branches     7020     7016       -4     
==========================================
- Hits        56801    56742      -59     
- Misses      13544    15197    +1653     
+ Partials      122      108      -14



Impacted Files
Coverage Δ





sqliterepo/synchro.c
74.3% <ø> (-5.97%)
⬇️


tests/functional/cli/admin/test_item_check.py
70.95% <ø> (ø)



tests/unit/common/test_ratelimiter.py
100% <ø> (ø)



tests/functional/container/test_container.py
98.81% <ø> (-0.1%)
⬇️


meta2v2/meta2_gridd_dispatcher.c
78.13% <ø> (ø)
⬆️


rdir/rdir.c
85.52% <ø> (+0.05%)
⬆️


core/tool_roundtrip.c
84.57% <ø> (-0.03%)
⬇️


tests/functional/m2_filters/test_filters.py
96.97% <ø> (ø)
⬆️


meta1v2/meta1_backend_internals.c
75.23% <ø> (-0.4%)
⬇️


tests/functional/blob/test_rebuilder.py
100% <ø> (ø)
⬆️


... and 320 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2c81a31...1f1e74f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1908,2019-10-14T20:14:45Z,2019-10-16T07:20:53Z,2019-10-16T20:35:23Z,MERGED,True,17,15,3,https://github.com/AymericDu,Send position to rebuild in a string,2,"['bug :scream:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1908,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1908,"SUMMARY
Send position to rebuild in a string
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.8.1.dev3","SUMMARY
Send position to rebuild in a string
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.8.1.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1908,2019-10-14T20:14:45Z,2019-10-16T07:20:53Z,2019-10-16T20:35:23Z,MERGED,True,17,15,3,https://github.com/AymericDu,Send position to rebuild in a string,2,"['bug :scream:', 'priority:3 :rage1:']",https://github.com/open-io/oio-sds/pull/1908,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1908#issuecomment-542123773,"SUMMARY
Send position to rebuild in a string
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 4.8.1.dev3","Codecov Report

❗ No coverage uploaded for pull request base (4.x@bf12461). Click here to learn what that means.
The diff coverage is 100%.


@@          Coverage Diff           @@
##             4.x    #1908   +/-   ##
======================================
  Coverage       ?   80.61%           
======================================
  Files          ?      375           
  Lines          ?    70467           
  Branches       ?     7023           
======================================
  Hits           ?    56797           
  Misses         ?    13548           
  Partials       ?      122



Impacted Files
Coverage Δ





tests/unit/test_meta2_backend.c
99.16% <100%> (ø)



meta2v2/meta2_utils.c
86.54% <100%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update bf12461...982fdb4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1909,2019-10-17T17:22:50Z,2019-10-18T12:17:02Z,2019-10-22T16:53:16Z,MERGED,True,47,17,5,https://github.com/AymericDu,Allow to read object with duplicated position,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1909,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1909,"SUMMARY
Allow to read object with duplicated position
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.1.dev5","SUMMARY
Allow to read object with duplicated position
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.1.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1909,2019-10-17T17:22:50Z,2019-10-18T12:17:02Z,2019-10-22T16:53:16Z,MERGED,True,47,17,5,https://github.com/AymericDu,Allow to read object with duplicated position,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1909,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1909#issuecomment-543360345,"SUMMARY
Allow to read object with duplicated position
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.1.dev5","Codecov Report

Merging #1909 into 4.x will decrease coverage by 0.05%.
The diff coverage is 92.31%.


@@            Coverage Diff             @@
##              4.x    #1909      +/-   ##
==========================================
- Coverage   80.68%   80.64%   -0.04%     
==========================================
  Files         375      375              
  Lines       70477    70487      +10     
  Branches     7023     7023              
==========================================
- Hits        56858    56834      -24     
- Misses      13497    13531      +34     
  Partials      122      122



Impacted Files
Coverage Δ





oio/api/object_storage.py
79.18% <100%> (-0.28%)
⬇️


tests/unit/api/test_objectstorage.py
98.33% <100%> (+0.03%)
⬆️


oio/content/plain.py
72.42% <100%> (ø)
⬆️


oio/content/ec.py
55% <100%> (ø)
⬆️


oio/common/storage_functions.py
92.47% <81.82%> (+4.61%)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


tests/functional/audit/test_audit_storage.py
84.56% <0%> (-4.06%)
⬇️


tests/functional/crawler/test_integrity_crawler.py
78.85% <0%> (-3.84%)
⬇️


oio/directory/meta1.py
89.66% <0%> (-3.44%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3f43380...799482a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1910,2019-10-18T09:05:43Z,2019-10-18T12:18:51Z,2019-12-05T08:44:19Z,MERGED,True,8,2,2,https://github.com/fvennetier,Make some tests more reliable,1,[],https://github.com/open-io/oio-sds/pull/1910,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1910,"SUMMARY
Fix the behavior of the wait_for_score method when no service has registered yet. Call this method in some tests to make them more reliable.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 4.8.1.dev17","SUMMARY
Fix the behavior of the wait_for_score method when no service has registered yet. Call this method in some tests to make them more reliable.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 4.8.1.dev17",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1911,2019-10-21T13:04:49Z,2019-10-22T14:07:15Z,2019-10-22T14:07:19Z,MERGED,True,11,4,3,https://github.com/fvennetier,Python API: improve error message aggregation on failed EC download,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1911,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1911,"SUMMARY
Improve error message aggregation on failed EC downloads. Do not display only the latest error message, but all of them.
Jira: OB-214
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.2.dev14","SUMMARY
Improve error message aggregation on failed EC downloads. Do not display only the latest error message, but all of them.
Jira: OB-214
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.2.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1911,2019-10-21T13:04:49Z,2019-10-22T14:07:15Z,2019-10-22T14:07:19Z,MERGED,True,11,4,3,https://github.com/fvennetier,Python API: improve error message aggregation on failed EC download,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1911,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1911#issuecomment-544538518,"SUMMARY
Improve error message aggregation on failed EC downloads. Do not display only the latest error message, but all of them.
Jira: OB-214
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.2.dev14","Codecov Report

Merging #1911 into 5.x will increase coverage by 0.05%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              5.x    #1911      +/-   ##
==========================================
+ Coverage   79.21%   79.25%   +0.05%     
==========================================
  Files         391      391              
  Lines       73844    73848       +4     
  Branches     7016     7016              
==========================================
+ Hits        58485    58523      +38     
+ Misses      15120    15081      -39     
- Partials      239      244       +5



Impacted Files
Coverage Δ





oio/api/object_storage.py
81.34% <100%> (+0.03%)
⬆️


oio/api/ec.py
92.07% <100%> (-0.14%)
⬇️


oio/api/io.py
88.63% <100%> (-0.16%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


oio/content/factory.py
80.96% <0%> (-6.34%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-3.6%)
⬇️


oio/common/green.py
85.72% <0%> (-2.52%)
⬇️


oio/directory/indexer.py
70.84% <0%> (-2.5%)
⬇️


oio/blob/indexer.py
66.92% <0%> (-4.51%)
⬇️


... and 50 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b5b8d0a...91808b3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1912,2019-10-21T16:31:17Z,2019-10-22T15:29:31Z,2019-10-22T16:52:58Z,MERGED,True,8,3,1,https://github.com/AymericDu,ECD: Close the stream after reading a metachunk,1,"['bug :scream:', 'priority:2 :rage4:']",https://github.com/open-io/oio-sds/pull/1912,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1912,"SUMMARY
Close the stream after reading a metachunk
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

ECD

SDS VERSION
openio 4.8.2.dev2","SUMMARY
Close the stream after reading a metachunk
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

ECD

SDS VERSION
openio 4.8.2.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1913,2019-10-22T10:01:05Z,2019-10-22T14:54:21Z,2019-10-22T14:54:24Z,MERGED,True,40,18,4,https://github.com/fvennetier,CLI: fix container list with non-ASCII characters,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1913,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1913,"SUMMARY
Fix an issue with container list and non-ASCII characters.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.8.2.dev12

ADDITIONAL INFORMATION
The bug manifested itself with something like:
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/cliff/app.py"", line 401, in run_subcommand
    result = cmd.run(parsed_args)
  File ""/home/fvennetier/src/public_git/oio-sds/oio/cli/__init__.py"", line 126, in run
    super(Lister, self).run(parsed_args)
  File ""/usr/lib/python2.7/site-packages/cliff/display.py"", line 119, in run
    self.produce_output(parsed_args, column_names, data)
  File ""/usr/lib/python2.7/site-packages/cliff/lister.py"", line 82, in produce_output
    parsed_args,
  File ""/usr/lib/python2.7/site-packages/cliff/formatters/table.py"", line 101, in emit_list
    self.add_rows(x, column_names, data)
  File ""/usr/lib/python2.7/site-packages/cliff/formatters/table.py"", line 80, in add_rows
    first_row = next(data_iter)
  File ""/home/fvennetier/src/public_git/oio-sds/oio/cli/container/container.py"", line 463, in <genexpr>
    for v in listing)
  File ""/home/fvennetier/src/public_git/oio-sds/oio/common/utils.py"", line 177, in cid_from_name
    hash_.update(v)
UnicodeEncodeError: 'ascii' codec can't encode character u'\xe9' in position 3: ordinal not in range(128)","SUMMARY
Fix an issue with container list and non-ASCII characters.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.8.2.dev12

ADDITIONAL INFORMATION
The bug manifested itself with something like:
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/cliff/app.py"", line 401, in run_subcommand
    result = cmd.run(parsed_args)
  File ""/home/fvennetier/src/public_git/oio-sds/oio/cli/__init__.py"", line 126, in run
    super(Lister, self).run(parsed_args)
  File ""/usr/lib/python2.7/site-packages/cliff/display.py"", line 119, in run
    self.produce_output(parsed_args, column_names, data)
  File ""/usr/lib/python2.7/site-packages/cliff/lister.py"", line 82, in produce_output
    parsed_args,
  File ""/usr/lib/python2.7/site-packages/cliff/formatters/table.py"", line 101, in emit_list
    self.add_rows(x, column_names, data)
  File ""/usr/lib/python2.7/site-packages/cliff/formatters/table.py"", line 80, in add_rows
    first_row = next(data_iter)
  File ""/home/fvennetier/src/public_git/oio-sds/oio/cli/container/container.py"", line 463, in <genexpr>
    for v in listing)
  File ""/home/fvennetier/src/public_git/oio-sds/oio/common/utils.py"", line 177, in cid_from_name
    hash_.update(v)
UnicodeEncodeError: 'ascii' codec can't encode character u'\xe9' in position 3: ordinal not in range(128)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1913,2019-10-22T10:01:05Z,2019-10-22T14:54:21Z,2019-10-22T14:54:24Z,MERGED,True,40,18,4,https://github.com/fvennetier,CLI: fix container list with non-ASCII characters,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1913,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1913#issuecomment-545000834,"SUMMARY
Fix an issue with container list and non-ASCII characters.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 4.8.2.dev12

ADDITIONAL INFORMATION
The bug manifested itself with something like:
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/cliff/app.py"", line 401, in run_subcommand
    result = cmd.run(parsed_args)
  File ""/home/fvennetier/src/public_git/oio-sds/oio/cli/__init__.py"", line 126, in run
    super(Lister, self).run(parsed_args)
  File ""/usr/lib/python2.7/site-packages/cliff/display.py"", line 119, in run
    self.produce_output(parsed_args, column_names, data)
  File ""/usr/lib/python2.7/site-packages/cliff/lister.py"", line 82, in produce_output
    parsed_args,
  File ""/usr/lib/python2.7/site-packages/cliff/formatters/table.py"", line 101, in emit_list
    self.add_rows(x, column_names, data)
  File ""/usr/lib/python2.7/site-packages/cliff/formatters/table.py"", line 80, in add_rows
    first_row = next(data_iter)
  File ""/home/fvennetier/src/public_git/oio-sds/oio/cli/container/container.py"", line 463, in <genexpr>
    for v in listing)
  File ""/home/fvennetier/src/public_git/oio-sds/oio/common/utils.py"", line 177, in cid_from_name
    hash_.update(v)
UnicodeEncodeError: 'ascii' codec can't encode character u'\xe9' in position 3: ordinal not in range(128)","Codecov Report

Merging #1913 into 5.x will decrease coverage by 1.6%.
The diff coverage is 90.33%.


@@            Coverage Diff             @@
##              5.x    #1913      +/-   ##
==========================================
- Coverage   79.21%   77.61%   -1.59%     
==========================================
  Files         391      358      -33     
  Lines       73844    70126    -3718     
  Branches     7016     6797     -219     
==========================================
- Hits        58485    54424    -4061     
- Misses      15120    15570     +450     
+ Partials      239      132     -107



Impacted Files
Coverage Δ





tests/utils.py
95.2% <ø> (-0.56%)
⬇️


oio/common/utils.py
72.27% <100%> (+1.51%)
⬆️


oio/directory/indexer.py
73.39% <75%> (+0.06%)
⬆️


tests/functional/cli/container/test_container.py
65.76% <92%> (+0.83%)
⬆️


metautils/lib/utils_svc_policy.c
56.6% <0%> (-22.12%)
⬇️


meta2v2/meta2_dedup_utils.c
0% <0%> (-18.55%)
⬇️


metautils/lib/utils_resolv.c
49.63% <0%> (-14.81%)
⬇️


meta1v2/meta1_backend_references.c
73% <0%> (-14%)
⬇️


sqliterepo/election.c
80.01% <0%> (-9.8%)
⬇️


metautils/lib/utils_addr_info.c
49.34% <0%> (-9.33%)
⬇️


... and 102 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b5b8d0a...8df1521. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1914,2019-10-30T16:16:21Z,2019-11-13T13:12:22Z,2019-11-13T13:12:26Z,MERGED,True,52,40,16,https://github.com/fvennetier,Python API: fix request ID header name,2,"['bug :scream:', 'Logging :scroll:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1914,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1914,"SUMMARY
The request ID header name was sometimes written with an upper case 'X', sometimes with a lower case one, until the introduction a constant. Unfortunately, this constant was not used everywhere...
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
account

SDS VERSION
openio 4.8.2.dev3","SUMMARY
The request ID header name was sometimes written with an upper case 'X', sometimes with a lower case one, until the introduction a constant. Unfortunately, this constant was not used everywhere...
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
account

SDS VERSION
openio 4.8.2.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1914,2019-10-30T16:16:21Z,2019-11-13T13:12:22Z,2019-11-13T13:12:26Z,MERGED,True,52,40,16,https://github.com/fvennetier,Python API: fix request ID header name,2,"['bug :scream:', 'Logging :scroll:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1914,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1914#issuecomment-548284555,"SUMMARY
The request ID header name was sometimes written with an upper case 'X', sometimes with a lower case one, until the introduction a constant. Unfortunately, this constant was not used everywhere...
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
account

SDS VERSION
openio 4.8.2.dev3","Codecov Report

Merging #1914 into 4.x will increase coverage by 1.42%.
The diff coverage is 95.84%.


@@            Coverage Diff             @@
##              4.x    #1914      +/-   ##
==========================================
+ Coverage   79.47%   80.89%   +1.42%     
==========================================
  Files         340      348       +8     
  Lines       66277    68808    +2531     
  Branches     6802     7020     +218     
==========================================
+ Hits        52670    55656    +2986     
+ Misses      13485    13152     -333     
+ Partials      122        0     -122



Impacted Files
Coverage Δ





oio/common/wsgi.py
43.21% <ø> (ø)
⬆️


oio/blob/client.py
89.8% <0%> (ø)
⬆️


oio/account/server.py
90.09% <100%> (ø)
⬆️


...sts/functional/content/test_content_perfectible.py
83.21% <100%> (+0.13%)
⬆️


oio/common/decorators.py
100% <100%> (ø)
⬆️


oio/blob/indexer.py
66.67% <100%> (-0.75%)
⬇️


tests/utils.py
95.39% <100%> (+0.6%)
⬆️


tests/functional/api/test_objectstorage.py
97.35% <100%> (+0.01%)
⬆️


oio/api/ec.py
92.37% <100%> (+0.63%)
⬆️


tests/unit/api/test_objectstorage.py
98.33% <100%> (ø)
⬆️


... and 110 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 22d304a...8f1e52a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1915,2019-11-08T09:07:16Z,2019-11-08T09:17:15Z,2019-11-08T09:17:15Z,MERGED,True,1878,111,26,https://github.com/loamhoof,Xcute,19,[],https://github.com/open-io/oio-sds/pull/1915,https://github.com/loamhoof,1,https://github.com/open-io/oio-sds/pull/1915,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1915,2019-11-08T09:07:16Z,2019-11-08T09:17:15Z,2019-11-08T09:17:15Z,MERGED,True,1878,111,26,https://github.com/loamhoof,Xcute,19,[],https://github.com/open-io/oio-sds/pull/1915,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/1915#issuecomment-551447544,,"Let's work on the main repo for this feature, but on a dedicated feature branch.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1916,2019-11-08T18:01:42Z,2019-11-11T05:24:41Z,2019-11-21T14:17:45Z,MERGED,True,652,142,15,https://github.com/AymericDu,xcute: blob mover,6,[],https://github.com/open-io/oio-sds/pull/1916,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1916,"SUMMARY
Implement blob mover with xcute
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute
CLI

SDS VERSION
openio 5.2.2

ADDITIONAL INFORMATION","SUMMARY
Implement blob mover with xcute
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute
CLI

SDS VERSION
openio 5.2.2

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1917,2019-11-11T09:25:35Z,2019-11-12T09:53:04Z,2019-11-12T09:53:04Z,MERGED,True,246,132,5,https://github.com/loamhoof,Xcute,16,[],https://github.com/open-io/oio-sds/pull/1917,https://github.com/loamhoof,1,https://github.com/open-io/oio-sds/pull/1917,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1918,2019-11-12T07:42:39Z,2019-11-14T09:17:37Z,2019-11-14T09:17:37Z,MERGED,True,3,2,1,https://github.com/jkasarherou,oio/crawler: fix endless listing loop,1,[],https://github.com/open-io/oio-sds/pull/1918,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/1918,"SUMMARY
Fixes an endless listing loop in the integrity crawler.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
crawler","SUMMARY
Fixes an endless listing loop in the integrity crawler.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
crawler",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1919,2019-11-12T23:00:41Z,2019-11-13T18:01:39Z,2019-11-21T14:17:41Z,CLOSED,False,466,386,9,https://github.com/AymericDu,Xcute backend,4,[],https://github.com/open-io/oio-sds/pull/1919,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1919,"SUMMARY

Improve backend (resume, pause, ...)
Batch tasks

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION","SUMMARY

Improve backend (resume, pause, ...)
Batch tasks

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1920,2019-11-13T07:48:19Z,2019-11-13T10:32:10Z,2019-11-13T10:32:10Z,MERGED,True,72,33,1,https://github.com/loamhoof,Xcute batch mover tasks,3,[],https://github.com/open-io/oio-sds/pull/1920,https://github.com/loamhoof,1,https://github.com/open-io/oio-sds/pull/1920,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1921,2019-11-13T18:03:52Z,2019-11-14T10:23:26Z,2019-11-14T10:24:07Z,MERGED,True,472,340,9,https://github.com/AymericDu,xcute: Allow to pause and resume job,11,[],https://github.com/open-io/oio-sds/pull/1921,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1921,"SUMMARY
Allow to pause and resume job
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Allow to pause and resume job
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1922,2019-11-14T08:48:52Z,2019-11-15T09:42:13Z,2019-11-15T09:42:16Z,MERGED,True,60,5,4,https://github.com/fvennetier,Prettier election debug,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1922,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1922,"SUMMARY
When calling openio-admin election debug, the JSON object will now show the full path to the ZooKeeper node, and the server address. And if the --human option is specified, full dates will be printed instead of timestamps.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.8.2.dev16","SUMMARY
When calling openio-admin election debug, the JSON object will now show the full path to the ZooKeeper node, and the server address. And if the --human option is specified, full dates will be printed instead of timestamps.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 4.8.2.dev16",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1923,2019-11-15T08:40:20Z,2019-11-22T13:11:27Z,2019-11-22T13:11:27Z,MERGED,True,243,86,7,https://github.com/loamhoof,xcute: add total_tasks interface,11,[],https://github.com/open-io/oio-sds/pull/1923,https://github.com/loamhoof,1,https://github.com/open-io/oio-sds/pull/1923,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1924,2019-11-15T20:49:39Z,2019-11-21T16:11:11Z,2019-11-26T14:34:07Z,MERGED,True,1,1,1,https://github.com/AymericDu,Python API: Fix ratelimit,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1924,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1924,"SUMMARY
Fix ratelimit
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.2.dev6

ADDITIONAL INFORMATION
Before:
loop 1:    run_time = now
loop 1:
loop 1:    run_time' = run_time + time_per_request
loop 1: -> run_time' = now + time_per_request

loop 2:    now' >= now
loop 2:
loop 2: To verify
loop 2:    run_time' - now' > time_per_request
loop 2: -> now + time_per_request - now' > time_per_request
loop 2: -> now - now' > 0
loop 2: -> now > now'
loop 2: => impossible: now' >= now
loop 2: => never sleep
loop 2:
loop 2:    run_time'' = run_time' + time_per_request
loop 2: -> run_time'' = now + time_per_request + time_per_request
loop 2: -> run_time'' = now + (2 * time_per_request)

loop 3:    now'' >= now'
loop 3: -> now'' >= now' >= now
loop 3:
loop 3: To verify
loop 3:    run_time'' - now'' > time_per_request
loop 3: -> now + (2 * time_per_request) - now'' > time_per_request
loop 3: -> now + time_per_request - now'' > 0
loop 3: -> now + time_per_request > now''
loop 3: => possible: now'' >= now' >= now
loop 3: => maybe sleep
loop 3:
loop 3:    run_time''' = run_time'' + time_per_request
loop 3: -> run_time''' = now + (2 * time_per_request) + time_per_request
loop 3: -> run_time''' = now + (3 * time_per_request)

loop 4:    now''' >= now'' + (run_time'' - now'')  # now'' + ""sleep time""
loop 4: -> now''' >= run_time''
loop 4:
loop 4: To verify
loop 4:    run_time''' - now''' > time_per_request
loop 4: -> run_time'' + time_per_request - now''' > time_per_request
loop 4: -> run_time'' - now''' > 0 (hors now''' >= run_time'')
loop 4: -> run_time'' > now'''
loop 4: => impossible: now''' >= run_time''
loop 4: => never sleep
loop 4:
loop 4:    run_time'''' = run_time''' + time_per_request

etc.

>>> from oio.common.green import ratelimit, time
>>> items_run_time = 0
>>> while True:
...    items_run_time = ratelimit(items_run_time, 1)
...    print(time.time())
...
1573838622.18
1573838622.18
1573838624.18
1573838624.18
1573838626.18
1573838626.18
1573838628.18
1573838628.18

After:
loop 1:    run_time = now
loop 1:
loop 1:    run_time' = run_time + time_per_request
loop 1: -> run_time' = now + time_per_request

loop 2:    now' >= now
loop 2:
loop 2: To verify
loop 2:    run_time' - now' > 0
loop 2: -> now + time_per_request - now' > 0
loop 2: -> now + time_per_request > now'
loop 2: => possible: now' >= now
loop 2: => maybe sleep
loop 2:
loop 2:    run_time'' = run_time' + time_per_request
loop 2: -> run_time'' = now + time_per_request + time_per_request
loop 2: -> run_time'' = now + (2 * time_per_request)

loop 3:    now'' >= now' + (run_time' - now')  # now' + ""sleep time""
loop 3: -> now'' >= run_time'
loop 3: -> now'' >= now + time_per_request
loop 3:
loop 3: To verify
loop 3:    run_time'' - now'' > 0
loop 3: -> now + (2 * time_per_request) > now''
loop 3: => possible: now'' >= now + time_per_request
loop 3: => maybe sleep
loop 3:
loop 3:    run_time''' = run_time'' + time_per_request
loop 3: -> run_time''' = now + (2 * time_per_request) + time_per_request
loop 3: -> run_time''' = now + (3 * time_per_request)

loop 4:    now''' >= now'' + (run_time'' - now'')  # now'' + ""sleep time""
loop 4: -> now''' >= run_time''
loop 4: -> now''' >= now + (2 * time_per_request)
loop 4:
loop 4: To verify
loop 4:    run_time''' - now''' > 0
loop 4: -> now + (3 * time_per_request) > now'''
loop 4: => possible: now''' >= now + (2 * time_per_request)
loop 4: => maybe sleep
loop 4:
loop 4:    run_time'''' = run_time''' + time_per_request

etc.

>>> from oio.common.green import ratelimit, time
>>> items_run_time = 0
>>> while True:
...    items_run_time = ratelimit(items_run_time, 1)
...    print(time.time())
...
1573838486.79
1573838487.8
1573838488.8
1573838489.8
1573838490.8
1573838491.8
1573838492.8
1573838493.8","SUMMARY
Fix ratelimit
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.2.dev6

ADDITIONAL INFORMATION
Before:
loop 1:    run_time = now
loop 1:
loop 1:    run_time' = run_time + time_per_request
loop 1: -> run_time' = now + time_per_request

loop 2:    now' >= now
loop 2:
loop 2: To verify
loop 2:    run_time' - now' > time_per_request
loop 2: -> now + time_per_request - now' > time_per_request
loop 2: -> now - now' > 0
loop 2: -> now > now'
loop 2: => impossible: now' >= now
loop 2: => never sleep
loop 2:
loop 2:    run_time'' = run_time' + time_per_request
loop 2: -> run_time'' = now + time_per_request + time_per_request
loop 2: -> run_time'' = now + (2 * time_per_request)

loop 3:    now'' >= now'
loop 3: -> now'' >= now' >= now
loop 3:
loop 3: To verify
loop 3:    run_time'' - now'' > time_per_request
loop 3: -> now + (2 * time_per_request) - now'' > time_per_request
loop 3: -> now + time_per_request - now'' > 0
loop 3: -> now + time_per_request > now''
loop 3: => possible: now'' >= now' >= now
loop 3: => maybe sleep
loop 3:
loop 3:    run_time''' = run_time'' + time_per_request
loop 3: -> run_time''' = now + (2 * time_per_request) + time_per_request
loop 3: -> run_time''' = now + (3 * time_per_request)

loop 4:    now''' >= now'' + (run_time'' - now'')  # now'' + ""sleep time""
loop 4: -> now''' >= run_time''
loop 4:
loop 4: To verify
loop 4:    run_time''' - now''' > time_per_request
loop 4: -> run_time'' + time_per_request - now''' > time_per_request
loop 4: -> run_time'' - now''' > 0 (hors now''' >= run_time'')
loop 4: -> run_time'' > now'''
loop 4: => impossible: now''' >= run_time''
loop 4: => never sleep
loop 4:
loop 4:    run_time'''' = run_time''' + time_per_request

etc.

>>> from oio.common.green import ratelimit, time
>>> items_run_time = 0
>>> while True:
...    items_run_time = ratelimit(items_run_time, 1)
...    print(time.time())
...
1573838622.18
1573838622.18
1573838624.18
1573838624.18
1573838626.18
1573838626.18
1573838628.18
1573838628.18

After:
loop 1:    run_time = now
loop 1:
loop 1:    run_time' = run_time + time_per_request
loop 1: -> run_time' = now + time_per_request

loop 2:    now' >= now
loop 2:
loop 2: To verify
loop 2:    run_time' - now' > 0
loop 2: -> now + time_per_request - now' > 0
loop 2: -> now + time_per_request > now'
loop 2: => possible: now' >= now
loop 2: => maybe sleep
loop 2:
loop 2:    run_time'' = run_time' + time_per_request
loop 2: -> run_time'' = now + time_per_request + time_per_request
loop 2: -> run_time'' = now + (2 * time_per_request)

loop 3:    now'' >= now' + (run_time' - now')  # now' + ""sleep time""
loop 3: -> now'' >= run_time'
loop 3: -> now'' >= now + time_per_request
loop 3:
loop 3: To verify
loop 3:    run_time'' - now'' > 0
loop 3: -> now + (2 * time_per_request) > now''
loop 3: => possible: now'' >= now + time_per_request
loop 3: => maybe sleep
loop 3:
loop 3:    run_time''' = run_time'' + time_per_request
loop 3: -> run_time''' = now + (2 * time_per_request) + time_per_request
loop 3: -> run_time''' = now + (3 * time_per_request)

loop 4:    now''' >= now'' + (run_time'' - now'')  # now'' + ""sleep time""
loop 4: -> now''' >= run_time''
loop 4: -> now''' >= now + (2 * time_per_request)
loop 4:
loop 4: To verify
loop 4:    run_time''' - now''' > 0
loop 4: -> now + (3 * time_per_request) > now'''
loop 4: => possible: now''' >= now + (2 * time_per_request)
loop 4: => maybe sleep
loop 4:
loop 4:    run_time'''' = run_time''' + time_per_request

etc.

>>> from oio.common.green import ratelimit, time
>>> items_run_time = 0
>>> while True:
...    items_run_time = ratelimit(items_run_time, 1)
...    print(time.time())
...
1573838486.79
1573838487.8
1573838488.8
1573838489.8
1573838490.8
1573838491.8
1573838492.8
1573838493.8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1924,2019-11-15T20:49:39Z,2019-11-21T16:11:11Z,2019-11-26T14:34:07Z,MERGED,True,1,1,1,https://github.com/AymericDu,Python API: Fix ratelimit,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1924,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1924#issuecomment-554537586,"SUMMARY
Fix ratelimit
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.2.dev6

ADDITIONAL INFORMATION
Before:
loop 1:    run_time = now
loop 1:
loop 1:    run_time' = run_time + time_per_request
loop 1: -> run_time' = now + time_per_request

loop 2:    now' >= now
loop 2:
loop 2: To verify
loop 2:    run_time' - now' > time_per_request
loop 2: -> now + time_per_request - now' > time_per_request
loop 2: -> now - now' > 0
loop 2: -> now > now'
loop 2: => impossible: now' >= now
loop 2: => never sleep
loop 2:
loop 2:    run_time'' = run_time' + time_per_request
loop 2: -> run_time'' = now + time_per_request + time_per_request
loop 2: -> run_time'' = now + (2 * time_per_request)

loop 3:    now'' >= now'
loop 3: -> now'' >= now' >= now
loop 3:
loop 3: To verify
loop 3:    run_time'' - now'' > time_per_request
loop 3: -> now + (2 * time_per_request) - now'' > time_per_request
loop 3: -> now + time_per_request - now'' > 0
loop 3: -> now + time_per_request > now''
loop 3: => possible: now'' >= now' >= now
loop 3: => maybe sleep
loop 3:
loop 3:    run_time''' = run_time'' + time_per_request
loop 3: -> run_time''' = now + (2 * time_per_request) + time_per_request
loop 3: -> run_time''' = now + (3 * time_per_request)

loop 4:    now''' >= now'' + (run_time'' - now'')  # now'' + ""sleep time""
loop 4: -> now''' >= run_time''
loop 4:
loop 4: To verify
loop 4:    run_time''' - now''' > time_per_request
loop 4: -> run_time'' + time_per_request - now''' > time_per_request
loop 4: -> run_time'' - now''' > 0 (hors now''' >= run_time'')
loop 4: -> run_time'' > now'''
loop 4: => impossible: now''' >= run_time''
loop 4: => never sleep
loop 4:
loop 4:    run_time'''' = run_time''' + time_per_request

etc.

>>> from oio.common.green import ratelimit, time
>>> items_run_time = 0
>>> while True:
...    items_run_time = ratelimit(items_run_time, 1)
...    print(time.time())
...
1573838622.18
1573838622.18
1573838624.18
1573838624.18
1573838626.18
1573838626.18
1573838628.18
1573838628.18

After:
loop 1:    run_time = now
loop 1:
loop 1:    run_time' = run_time + time_per_request
loop 1: -> run_time' = now + time_per_request

loop 2:    now' >= now
loop 2:
loop 2: To verify
loop 2:    run_time' - now' > 0
loop 2: -> now + time_per_request - now' > 0
loop 2: -> now + time_per_request > now'
loop 2: => possible: now' >= now
loop 2: => maybe sleep
loop 2:
loop 2:    run_time'' = run_time' + time_per_request
loop 2: -> run_time'' = now + time_per_request + time_per_request
loop 2: -> run_time'' = now + (2 * time_per_request)

loop 3:    now'' >= now' + (run_time' - now')  # now' + ""sleep time""
loop 3: -> now'' >= run_time'
loop 3: -> now'' >= now + time_per_request
loop 3:
loop 3: To verify
loop 3:    run_time'' - now'' > 0
loop 3: -> now + (2 * time_per_request) > now''
loop 3: => possible: now'' >= now + time_per_request
loop 3: => maybe sleep
loop 3:
loop 3:    run_time''' = run_time'' + time_per_request
loop 3: -> run_time''' = now + (2 * time_per_request) + time_per_request
loop 3: -> run_time''' = now + (3 * time_per_request)

loop 4:    now''' >= now'' + (run_time'' - now'')  # now'' + ""sleep time""
loop 4: -> now''' >= run_time''
loop 4: -> now''' >= now + (2 * time_per_request)
loop 4:
loop 4: To verify
loop 4:    run_time''' - now''' > 0
loop 4: -> now + (3 * time_per_request) > now'''
loop 4: => possible: now''' >= now + (2 * time_per_request)
loop 4: => maybe sleep
loop 4:
loop 4:    run_time'''' = run_time''' + time_per_request

etc.

>>> from oio.common.green import ratelimit, time
>>> items_run_time = 0
>>> while True:
...    items_run_time = ratelimit(items_run_time, 1)
...    print(time.time())
...
1573838486.79
1573838487.8
1573838488.8
1573838489.8
1573838490.8
1573838491.8
1573838492.8
1573838493.8","Codecov Report

Merging #1924 into 4.x will decrease coverage by 0.03%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1924      +/-   ##
==========================================
- Coverage   80.63%   80.61%   -0.02%     
==========================================
  Files         374      375       +1     
  Lines       70448    70492      +44     
  Branches     7020     7023       +3     
==========================================
+ Hits        56801    56818      +17     
- Misses      13525    13540      +15     
- Partials      122      134      +12



Impacted Files
Coverage Δ





oio/common/green.py
95.75% <100%> (ø)
⬆️


tests/functional/rdir/test_indexer.py
84.95% <0%> (-7.52%)
⬇️


meta2v2/meta2_filters_check.c
70.5% <0%> (-3.27%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


meta1v2/meta1_server.c
69.92% <0%> (-1.62%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


resolver/hc_resolver.c
91.62% <0%> (-1.24%)
⬇️


meta1v2/meta1_prefixes.c
78.87% <0%> (-1.03%)
⬇️


meta1v2/meta1_backend_internals.c
74.79% <0%> (-0.84%)
⬇️


tests/functional/audit/test_audit_storage.py
87% <0%> (-0.81%)
⬇️


... and 27 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f57feb0...2284e3f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1925,2019-11-17T16:40:41Z,2019-11-21T14:10:25Z,2019-11-21T14:10:55Z,MERGED,True,612,479,23,https://github.com/AymericDu,xcute: Send the tasks by batch,16,[],https://github.com/open-io/oio-sds/pull/1925,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1925,"SUMMARY

Stop using pickle
Send the tasks by batch
Allow to use ratelimit
Count the errors by type
Use python time instead of redis time
Keep the job in the workers' cache

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY

Stop using pickle
Send the tasks by batch
Allow to use ratelimit
Count the errors by type
Use python time instead of redis time
Keep the job in the workers' cache

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1925,2019-11-17T16:40:41Z,2019-11-21T14:10:25Z,2019-11-21T14:10:55Z,MERGED,True,612,479,23,https://github.com/AymericDu,xcute: Send the tasks by batch,16,[],https://github.com/open-io/oio-sds/pull/1925,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1925#issuecomment-556226595,"SUMMARY

Stop using pickle
Send the tasks by batch
Allow to use ratelimit
Count the errors by type
Use python time instead of redis time
Keep the job in the workers' cache

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","Codecov Report

❗ No coverage uploaded for pull request base (xcute@980310c). Click here to learn what that means.
The diff coverage is 97.23%.


@@           Coverage Diff            @@
##             xcute    #1925   +/-   ##
========================================
  Coverage         ?   77.83%           
========================================
  Files            ?      389           
  Lines            ?    73455           
  Branches         ?     7007           
========================================
  Hits             ?    57168           
  Misses           ?    16048           
  Partials         ?      239



Impacted Files
Coverage Δ





tests/functional/account/test_server.py
97.96% <100%> (ø)



tests/functional/account/test_backend.py
100% <100%> (ø)



oio/common/green.py
85.72% <100%> (ø)



oio/crawler/integrity.py
67.29% <100%> (ø)



oio/common/utils.py
71.01% <100%> (ø)



oio/account/backend.py
79.75% <100%> (ø)



oio/blob/converter.py
80.6% <100%> (ø)



oio/common/timestamp.py
52.95% <85.72%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 980310c...a558d1b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1926,2019-11-18T12:58:33Z,2019-11-21T16:11:27Z,2019-11-26T14:34:00Z,MERGED,True,6,6,1,https://github.com/AymericDu,Use slave Redis services for read operations,1,[],https://github.com/open-io/oio-sds/pull/1926,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1926,"SUMMARY
Use redis slave to read
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
account
SDS VERSION
openio 4.8.2.dev6","SUMMARY
Use redis slave to read
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
account
SDS VERSION
openio 4.8.2.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1926,2019-11-18T12:58:33Z,2019-11-21T16:11:27Z,2019-11-26T14:34:00Z,MERGED,True,6,6,1,https://github.com/AymericDu,Use slave Redis services for read operations,1,[],https://github.com/open-io/oio-sds/pull/1926,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1926#issuecomment-555039580,"SUMMARY
Use redis slave to read
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
account
SDS VERSION
openio 4.8.2.dev6","Codecov Report

Merging #1926 into 4.x will decrease coverage by 0.13%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1926      +/-   ##
==========================================
- Coverage   80.63%   80.51%   -0.12%     
==========================================
  Files         374      375       +1     
  Lines       70448    70492      +44     
  Branches     7020     7020              
==========================================
- Hits        56801    56751      -50     
- Misses      13525    13619      +94     
  Partials      122      122



Impacted Files
Coverage Δ





oio/account/backend.py
79.83% <100%> (ø)
⬆️


tests/functional/audit/test_audit_storage.py
80.49% <0%> (-7.31%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


proxy/metacd_http.c
89.47% <0%> (-1.41%)
⬇️


server/slab.c
83.77% <0%> (-1.29%)
⬇️


meta1v2/meta1_prefixes.c
78.87% <0%> (-1.03%)
⬇️


oio/api/io.py
88.58% <0%> (-0.43%)
⬇️


proxy/cs_actions.c
90.17% <0%> (-0.33%)
⬇️


oio/blob/converter.py
81.02% <0%> (-0.31%)
⬇️


... and 24 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f57feb0...d7c007f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1927,2019-11-18T14:03:52Z,2020-11-19T10:25:09Z,2020-11-19T10:25:09Z,CLOSED,False,11,8,2,https://github.com/newtoncorp,Fix ec chunk handling by not trying to recover from the stream,1,[],https://github.com/open-io/oio-sds/pull/1927,https://github.com/newtoncorp,1,https://github.com/open-io/oio-sds/pull/1927,"SUMMARY
This patch fixes the EC path in case an exception is raised while downloading
a chunk. Previously the code would augment the range. This code is probably
intended for three copy code path but break EC. Set a flag and check it
before trying to 'recover'.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
all

ADDITIONAL INFORMATION
You can reproduce by using tc on a rawx with erasure coded segments","SUMMARY
This patch fixes the EC path in case an exception is raised while downloading
a chunk. Previously the code would augment the range. This code is probably
intended for three copy code path but break EC. Set a flag and check it
before trying to 'recover'.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
all

ADDITIONAL INFORMATION
You can reproduce by using tc on a rawx with erasure coded segments",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1927,2019-11-18T14:03:52Z,2020-11-19T10:25:09Z,2020-11-19T10:25:09Z,CLOSED,False,11,8,2,https://github.com/newtoncorp,Fix ec chunk handling by not trying to recover from the stream,1,[],https://github.com/open-io/oio-sds/pull/1927,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1927#issuecomment-555058552,"SUMMARY
This patch fixes the EC path in case an exception is raised while downloading
a chunk. Previously the code would augment the range. This code is probably
intended for three copy code path but break EC. Set a flag and check it
before trying to 'recover'.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
all

ADDITIONAL INFORMATION
You can reproduce by using tc on a rawx with erasure coded segments","Codecov Report

Merging #1927 into master will increase coverage by 0.04%.
The diff coverage is 50%.


@@            Coverage Diff             @@
##           master    #1927      +/-   ##
==========================================
+ Coverage   80.75%   80.78%   +0.04%     
==========================================
  Files         367      367              
  Lines       70016    70018       +2     
  Branches     6405     6405              
==========================================
+ Hits        56534    56558      +24     
+ Misses      13268    13248      -20     
+ Partials      214      212       -2



Impacted Files
Coverage Δ





oio/api/ec.py
92.37% <ø> (+0.64%)
⬆️


oio/api/io.py
88.04% <50%> (+0.06%)
⬆️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


rawx/chunkrepo.go
70.84% <0%> (-4.16%)
⬇️


server/slab.c
84.42% <0%> (-1.29%)
⬇️


meta0v2/meta0_backend.c
76.64% <0%> (-1.22%)
⬇️


metautils/lib/asn1c_ext.c
69.57% <0%> (-1.08%)
⬇️


oio/account/client.py
82.61% <0%> (-1.08%)
⬇️


oio/blob/converter.py
80.93% <0%> (-0.98%)
⬇️


... and 47 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 45cac3c...e5db332. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1927,2019-11-18T14:03:52Z,2020-11-19T10:25:09Z,2020-11-19T10:25:09Z,CLOSED,False,11,8,2,https://github.com/newtoncorp,Fix ec chunk handling by not trying to recover from the stream,1,[],https://github.com/open-io/oio-sds/pull/1927,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/1927#issuecomment-557152995,"SUMMARY
This patch fixes the EC path in case an exception is raised while downloading
a chunk. Previously the code would augment the range. This code is probably
intended for three copy code path but break EC. Set a flag and check it
before trying to 'recover'.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
all

ADDITIONAL INFORMATION
You can reproduce by using tc on a rawx with erasure coded segments","Hello. The range change is a feature, not a bug. There are several ""fragments"" in a chunk, and the reads have to be aligned on theses. When a download fails in the middle, we must start to read the backup chunk at the start of the corresponding fragment.
Here I implemented a test simulating failure in the middle of the download of a chunk: fvennetier@cd5ec3a
If we apply this pull request, the test won't pass.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1927,2019-11-18T14:03:52Z,2020-11-19T10:25:09Z,2020-11-19T10:25:09Z,CLOSED,False,11,8,2,https://github.com/newtoncorp,Fix ec chunk handling by not trying to recover from the stream,1,[],https://github.com/open-io/oio-sds/pull/1927,https://github.com/newtoncorp,4,https://github.com/open-io/oio-sds/pull/1927#issuecomment-558171392,"SUMMARY
This patch fixes the EC path in case an exception is raised while downloading
a chunk. Previously the code would augment the range. This code is probably
intended for three copy code path but break EC. Set a flag and check it
before trying to 'recover'.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
all

ADDITIONAL INFORMATION
You can reproduce by using tc on a rawx with erasure coded segments","The range recover will make the erasure code fail if it breaks in the middle of a segment.
Try doing a test where the second segments fails at offset 42 on a 6+3 configuration with an ec segment available.
Something like :

seg1 -> ok
seg2 -> ok
seg3 -> ok
seg4 -> short read at offset 42 (as long as it's not a chunk boundary)
seg5 -> ok
seg6 -> ok
seg7 -> ok
seg8 -> not used
seg9 -> not used",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1927,2019-11-18T14:03:52Z,2020-11-19T10:25:09Z,2020-11-19T10:25:09Z,CLOSED,False,11,8,2,https://github.com/newtoncorp,Fix ec chunk handling by not trying to recover from the stream,1,[],https://github.com/open-io/oio-sds/pull/1927,https://github.com/newtoncorp,5,https://github.com/open-io/oio-sds/pull/1927#issuecomment-730277438,"SUMMARY
This patch fixes the EC path in case an exception is raised while downloading
a chunk. Previously the code would augment the range. This code is probably
intended for three copy code path but break EC. Set a flag and check it
before trying to 'recover'.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
OIO
SDS VERSION
all

ADDITIONAL INFORMATION
You can reproduce by using tc on a rawx with erasure coded segments",😞,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1928,2019-11-20T16:00:23Z,2019-11-21T17:36:26Z,2019-11-21T17:36:29Z,MERGED,True,44,28,3,https://github.com/fvennetier,Improve return code and output of some commands,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1928,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1928,"SUMMARY
Make openio zk commands return 1 after an error.
And for several C language commands:

do not print the usage help twice;
do not print the usage help when parameters are valid;
provide tips to find the error log.

Jira: OB-475
ISSUE TYPE

Bugfix Pull Request
Docs Pull Request

COMPONENT NAME

CLI
meta0
meta1
meta2

SDS VERSION
6.0.0.0a1","SUMMARY
Make openio zk commands return 1 after an error.
And for several C language commands:

do not print the usage help twice;
do not print the usage help when parameters are valid;
provide tips to find the error log.

Jira: OB-475
ISSUE TYPE

Bugfix Pull Request
Docs Pull Request

COMPONENT NAME

CLI
meta0
meta1
meta2

SDS VERSION
6.0.0.0a1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1928,2019-11-20T16:00:23Z,2019-11-21T17:36:26Z,2019-11-21T17:36:29Z,MERGED,True,44,28,3,https://github.com/fvennetier,Improve return code and output of some commands,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1928,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1928#issuecomment-556124475,"SUMMARY
Make openio zk commands return 1 after an error.
And for several C language commands:

do not print the usage help twice;
do not print the usage help when parameters are valid;
provide tips to find the error log.

Jira: OB-475
ISSUE TYPE

Bugfix Pull Request
Docs Pull Request

COMPONENT NAME

CLI
meta0
meta1
meta2

SDS VERSION
6.0.0.0a1","Codecov Report

Merging #1928 into master will increase coverage by 0.01%.
The diff coverage is 58.83%.


@@            Coverage Diff             @@
##           master    #1928      +/-   ##
==========================================
+ Coverage   80.75%   80.75%   +0.01%     
==========================================
  Files         367      367              
  Lines       70016    70016              
  Branches     6405     6405              
==========================================
+ Hits        56534    56535       +1     
  Misses      13268    13268              
+ Partials      214      213       -1



Impacted Files
Coverage Δ





oio/zk/client.py
30.38% <100%> (+0.52%)
⬆️


metautils/lib/common_main.c
35.06% <50%> (-5.55%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


rawx/chunkrepo.go
70.84% <0%> (-4.16%)
⬇️


oio/content/plain.py
72.42% <0%> (-3.44%)
⬇️


oio/common/green.py
85.72% <0%> (-2.52%)
⬇️


oio/directory/indexer.py
70.97% <0%> (-2.41%)
⬇️


metautils/lib/asn1c_ext.c
68.48% <0%> (-2.17%)
⬇️


oio/directory/meta2.py
68.61% <0%> (-1.16%)
⬇️


... and 40 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 45cac3c...6fe9b70. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1929,2019-11-21T14:26:56Z,2019-11-22T13:28:54Z,2019-11-22T13:28:54Z,MERGED,True,239,83,13,https://github.com/AymericDu,xcute: Implement blob rebuilder,5,[],https://github.com/open-io/oio-sds/pull/1929,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1929,"SUMMARY
Implement blob rebuilder
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Implement blob rebuilder
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1930,2019-11-21T16:57:10Z,2019-12-18T13:26:54Z,2019-12-18T13:27:30Z,MERGED,True,190,99,2,https://github.com/AymericDu,xcute: Improve loadbalancing strategy,6,[],https://github.com/open-io/oio-sds/pull/1930,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1930,"SUMMARY
Improve loadbalancing strategy
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Improve loadbalancing strategy
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1930,2019-11-21T16:57:10Z,2019-12-18T13:26:54Z,2019-12-18T13:27:30Z,MERGED,True,190,99,2,https://github.com/AymericDu,xcute: Improve loadbalancing strategy,6,[],https://github.com/open-io/oio-sds/pull/1930,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1930#issuecomment-557216338,"SUMMARY
Improve loadbalancing strategy
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","Codecov Report

Merging #1930 into xcute will increase coverage by 0.67%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            xcute    #1930      +/-   ##
==========================================
+ Coverage   78.59%   79.25%   +0.67%     
==========================================
  Files         377      391      +14     
  Lines       72269    73920    +1651     
  Branches     7019     7019              
==========================================
+ Hits        56794    58581    +1787     
+ Misses      15367    15100     -267     
- Partials      108      239     +131



Impacted Files
Coverage Δ





tests/functional/cli/admin/test_item_check.py
69.75% <0%> (-1.7%)
⬇️


oio/conscience/client.py
82.4% <0%> (-1.59%)
⬇️


sqliterepo/gridd_client_pool.c
80.71% <0%> (-0.87%)
⬇️


metautils/lib/utils_resolv.c
64.45% <0%> (-0.74%)
⬇️


oio/blob/client.py
90.91% <0%> (-0.64%)
⬇️


rawx-apache2/src/rawx_repository.c
57.06% <0%> (-0.39%)
⬇️


metautils/lib/comm_converter.c
73.04% <0%> (-0.26%)
⬇️


oio/event/beanstalk.py
64.42% <0%> (-0.19%)
⬇️


oio/api/object_storage.py
81.34% <0%> (-0.14%)
⬇️


oio/crawler/integrity.py
68.33% <0%> (ø)
⬆️


... and 77 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 740ee20...24509c7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1931,2019-11-21T17:26:34Z,2019-11-22T13:19:16Z,2019-11-22T13:19:21Z,MERGED,True,16,9,2,https://github.com/AymericDu,xcute: Prefix request ID with job ID,1,[],https://github.com/open-io/oio-sds/pull/1931,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1931,"SUMMARY
Prefix request ID with job ID
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Prefix request ID with job ID
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1931,2019-11-21T17:26:34Z,2019-11-22T13:19:16Z,2019-11-22T13:19:21Z,MERGED,True,16,9,2,https://github.com/AymericDu,xcute: Prefix request ID with job ID,1,[],https://github.com/open-io/oio-sds/pull/1931,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1931#issuecomment-557256690,"SUMMARY
Prefix request ID with job ID
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","Codecov Report

Merging #1931 into xcute will decrease coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            xcute    #1931      +/-   ##
==========================================
- Coverage   79.25%   79.25%   -<.01%     
==========================================
  Files         380      391      +11     
  Lines       73745    73875     +130     
  Branches     7016     7016              
==========================================
+ Hits        58439    58542     +103     
- Misses      15067    15094      +27     
  Partials      239      239



Impacted Files
Coverage Δ





tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


tests/functional/cli/admin/test_service_decache.py
81.25% <0%> (-4.16%)
⬇️


oio/api/base.py
89.11% <0%> (-2.97%)
⬇️


server/slab.c
83.77% <0%> (-1.94%)
⬇️


tests/functional/m2_filters/test_filters.py
95.46% <0%> (-1.51%)
⬇️


metautils/lib/gridd_client_ext.c
80.6% <0%> (-0.74%)
⬇️


metautils/lib/utils_resolv.c
64.45% <0%> (-0.74%)
⬇️


metautils/lib/utils_sockets.c
45.39% <0%> (-0.38%)
⬇️


metautils/lib/utils_service_info.c
83.44% <0%> (-0.31%)
⬇️


proxy/transport_http.c
85.27% <0%> (-0.28%)
⬇️


... and 42 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6590e3c...7996996. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1932,2019-11-21T17:42:48Z,2021-01-21T15:02:45Z,2021-01-21T15:02:48Z,MERGED,True,66,4,1,https://github.com/fvennetier,tests: failures during EC downloads,1,[],https://github.com/open-io/oio-sds/pull/1932,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1932,"SUMMARY
Implement new tests to check Python API behavior when errors occur during EC downloads.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 6.0.0.0a1","SUMMARY
Implement new tests to check Python API behavior when errors occur during EC downloads.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 6.0.0.0a1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1932,2019-11-21T17:42:48Z,2021-01-21T15:02:45Z,2021-01-21T15:02:48Z,MERGED,True,66,4,1,https://github.com/fvennetier,tests: failures during EC downloads,1,[],https://github.com/open-io/oio-sds/pull/1932,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1932#issuecomment-557443724,"SUMMARY
Implement new tests to check Python API behavior when errors occur during EC downloads.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 6.0.0.0a1","Codecov Report

Merging #1932 (7d3fe0b) into master (94d068f) will increase coverage by 0.90%.
The diff coverage is 95.00%.


@@            Coverage Diff             @@
##           master    #1932      +/-   ##
==========================================
+ Coverage   78.46%   79.36%   +0.90%     
==========================================
  Files         367      367              
  Lines       72205    72241      +36     
  Branches     6473     6473              
==========================================
+ Hits        56650    57328     +678     
+ Misses      15351    14709     -642     
  Partials      204      204              



Impacted Files
Coverage Δ





tests/functional/api/test_objectstorage.py
97.16% <95.00%> (-0.15%)
⬇️


meta0v2/meta0_remote.c
78.05% <0.00%> (-7.31%)
⬇️


tests/functional/m2_filters/test_filters.py
92.65% <0.00%> (-4.41%)
⬇️


meta1v2/meta1_prefixes.c
81.97% <0.00%> (-3.27%)
⬇️


oio/crawler/storage_tierer.py
57.80% <0.00%> (-2.75%)
⬇️


oio/blob/indexer.py
68.94% <0.00%> (-2.27%)
⬇️


meta0v2/meta0_backend.c
76.31% <0.00%> (-1.20%)
⬇️


tests/functional/audit/test_audit_storage.py
87.10% <0.00%> (-0.80%)
⬇️


oio/conscience/client.py
78.40% <0.00%> (-0.79%)
⬇️


meta2v2/meta2_filters_extract.c
82.68% <0.00%> (-0.78%)
⬇️


... and 62 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 94d068f...7d3fe0b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1933,2019-11-24T16:21:39Z,2019-11-26T06:13:59Z,2019-11-26T14:33:53Z,MERGED,True,488,711,17,https://github.com/AymericDu,xcute: Clear code and minors fixes,15,[],https://github.com/open-io/oio-sds/pull/1933,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1933,"SUMMARY

Format JSON job info
Share common client for the same job
Remove 'is_total_temp'

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY

Format JSON job info
Share common client for the same job
Remove 'is_total_temp'

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1934,2019-11-26T14:50:55Z,2019-11-27T12:48:05Z,2019-11-27T12:48:08Z,MERGED,True,130,88,6,https://github.com/AymericDu,xcute: Merge orchestrator and server,2,[],https://github.com/open-io/oio-sds/pull/1934,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1934,"SUMMARY
Merge orchestrator and server
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Merge orchestrator and server
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1934,2019-11-26T14:50:55Z,2019-11-27T12:48:05Z,2019-11-27T12:48:08Z,MERGED,True,130,88,6,https://github.com/AymericDu,xcute: Merge orchestrator and server,2,[],https://github.com/open-io/oio-sds/pull/1934,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1934#issuecomment-558711350,"SUMMARY
Merge orchestrator and server
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","Codecov Report

❗ No coverage uploaded for pull request base (xcute@ebbc59d). Click here to learn what that means.
The diff coverage is n/a.


@@           Coverage Diff            @@
##             xcute    #1934   +/-   ##
========================================
  Coverage         ?   79.28%           
========================================
  Files            ?      391           
  Lines            ?    73920           
  Branches         ?     7021           
========================================
  Hits             ?    58602           
  Misses           ?    15079           
  Partials         ?      239

Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ebbc59d...c639c0a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1935,2019-11-26T14:51:13Z,2019-11-28T09:41:43Z,2019-12-03T11:08:42Z,MERGED,True,7,4,1,https://github.com/AymericDu,Prevent from writing simultaneously on same socket,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1935,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1935,"SUMMARY
Prevent from writing simultaneously on same socket
Jira: OS-462
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.2.dev8

ADDITIONAL INFORMATION
Failed to upload /home/test in test-perf: RAWX write failure, quorum not reached (4/5): {""finish: Second simultaneous write on fileno 18 detected.  Unless you really know what you're doing, make sure that only one greenthread can write any particular socket.  Consider using a pools.Pool. If you do know what you're doing and want to disable this error, call eventlet.debug.hub_prevent_multiple_readers(False) - MY THREAD=<built-in method switch of GreenThread object at 0x7fd7420b2550>; THAT THREAD=FdListener('write', 18, <built-in method switch of GreenThread object at 0x7fd7420b20f0>, <built-in method throw of GreenThread object at 0x7fd7420b20f0>)"": ['http://127.0.0.1:6201/74231FD2A4F9E4F8B5BEF948F706C0C30844C30ABEBBF9AC691E79587BC27719'], ""finish: Second simultaneous write on fileno 16 detected.  Unless you really know what you're doing, make sure that only one greenthread can write any particular socket.  Consider using a pools.Pool. If you do know what you're doing and want to disable this error, call eventlet.debug.hub_prevent_multiple_readers(False) - MY THREAD=<built-in method switch of GreenThread object at 0x7fd7420b2410>; THAT THREAD=FdListener('write', 16, <built-in method switch of GreenThread object at 0x7fd7420b2230>, <built-in method throw of GreenThread object at 0x7fd7420b2230>)"": ['http://127.0.0.1:6201/E879630118CED18876E88D8D6DE8CC2DA9BDDF62008BAE92584F91D5983F26E3'], 'success': ['http://127.0.0.1:6202/3C44F5F0425C855F3CD2195B195CEB98C042E9E3D052D33ED36FC951BDDF2D66', 'http://127.0.0.1:6203/F15B7F0134F9888E01BC1E37D503AC0BF5C1229B88AC3821414874861C03CB47', 'http://127.0.0.1:6204/A9E8A2F90D47A864114EA1B47A65B70BDDBBB92F123D64055907A734DA72AAA6', 'http://127.0.0.1:6205/F481046C9B95B8C18328124FF968003AC50549EB2951FE91C512B445784B6AE0']} (HTTP 503)","SUMMARY
Prevent from writing simultaneously on same socket
Jira: OS-462
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.2.dev8

ADDITIONAL INFORMATION
Failed to upload /home/test in test-perf: RAWX write failure, quorum not reached (4/5): {""finish: Second simultaneous write on fileno 18 detected.  Unless you really know what you're doing, make sure that only one greenthread can write any particular socket.  Consider using a pools.Pool. If you do know what you're doing and want to disable this error, call eventlet.debug.hub_prevent_multiple_readers(False) - MY THREAD=<built-in method switch of GreenThread object at 0x7fd7420b2550>; THAT THREAD=FdListener('write', 18, <built-in method switch of GreenThread object at 0x7fd7420b20f0>, <built-in method throw of GreenThread object at 0x7fd7420b20f0>)"": ['http://127.0.0.1:6201/74231FD2A4F9E4F8B5BEF948F706C0C30844C30ABEBBF9AC691E79587BC27719'], ""finish: Second simultaneous write on fileno 16 detected.  Unless you really know what you're doing, make sure that only one greenthread can write any particular socket.  Consider using a pools.Pool. If you do know what you're doing and want to disable this error, call eventlet.debug.hub_prevent_multiple_readers(False) - MY THREAD=<built-in method switch of GreenThread object at 0x7fd7420b2410>; THAT THREAD=FdListener('write', 16, <built-in method switch of GreenThread object at 0x7fd7420b2230>, <built-in method throw of GreenThread object at 0x7fd7420b2230>)"": ['http://127.0.0.1:6201/E879630118CED18876E88D8D6DE8CC2DA9BDDF62008BAE92584F91D5983F26E3'], 'success': ['http://127.0.0.1:6202/3C44F5F0425C855F3CD2195B195CEB98C042E9E3D052D33ED36FC951BDDF2D66', 'http://127.0.0.1:6203/F15B7F0134F9888E01BC1E37D503AC0BF5C1229B88AC3821414874861C03CB47', 'http://127.0.0.1:6204/A9E8A2F90D47A864114EA1B47A65B70BDDBBB92F123D64055907A734DA72AAA6', 'http://127.0.0.1:6205/F481046C9B95B8C18328124FF968003AC50549EB2951FE91C512B445784B6AE0']} (HTTP 503)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1935,2019-11-26T14:51:13Z,2019-11-28T09:41:43Z,2019-12-03T11:08:42Z,MERGED,True,7,4,1,https://github.com/AymericDu,Prevent from writing simultaneously on same socket,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1935,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1935#issuecomment-559405352,"SUMMARY
Prevent from writing simultaneously on same socket
Jira: OS-462
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.2.dev8

ADDITIONAL INFORMATION
Failed to upload /home/test in test-perf: RAWX write failure, quorum not reached (4/5): {""finish: Second simultaneous write on fileno 18 detected.  Unless you really know what you're doing, make sure that only one greenthread can write any particular socket.  Consider using a pools.Pool. If you do know what you're doing and want to disable this error, call eventlet.debug.hub_prevent_multiple_readers(False) - MY THREAD=<built-in method switch of GreenThread object at 0x7fd7420b2550>; THAT THREAD=FdListener('write', 18, <built-in method switch of GreenThread object at 0x7fd7420b20f0>, <built-in method throw of GreenThread object at 0x7fd7420b20f0>)"": ['http://127.0.0.1:6201/74231FD2A4F9E4F8B5BEF948F706C0C30844C30ABEBBF9AC691E79587BC27719'], ""finish: Second simultaneous write on fileno 16 detected.  Unless you really know what you're doing, make sure that only one greenthread can write any particular socket.  Consider using a pools.Pool. If you do know what you're doing and want to disable this error, call eventlet.debug.hub_prevent_multiple_readers(False) - MY THREAD=<built-in method switch of GreenThread object at 0x7fd7420b2410>; THAT THREAD=FdListener('write', 16, <built-in method switch of GreenThread object at 0x7fd7420b2230>, <built-in method throw of GreenThread object at 0x7fd7420b2230>)"": ['http://127.0.0.1:6201/E879630118CED18876E88D8D6DE8CC2DA9BDDF62008BAE92584F91D5983F26E3'], 'success': ['http://127.0.0.1:6202/3C44F5F0425C855F3CD2195B195CEB98C042E9E3D052D33ED36FC951BDDF2D66', 'http://127.0.0.1:6203/F15B7F0134F9888E01BC1E37D503AC0BF5C1229B88AC3821414874861C03CB47', 'http://127.0.0.1:6204/A9E8A2F90D47A864114EA1B47A65B70BDDBBB92F123D64055907A734DA72AAA6', 'http://127.0.0.1:6205/F481046C9B95B8C18328124FF968003AC50549EB2951FE91C512B445784B6AE0']} (HTTP 503)","Codecov Report

Merging #1935 into 4.x will increase coverage by 2.91%.
The diff coverage is 75%.


@@            Coverage Diff             @@
##              4.x    #1935      +/-   ##
==========================================
+ Coverage   77.75%   80.65%   +2.91%     
==========================================
  Files         329      375      +46     
  Lines       66122    70493    +4371     
  Branches     6805     7023     +218     
==========================================
+ Hits        51404    56848    +5444     
+ Misses      14595    13524    -1071     
+ Partials      123      121       -2



Impacted Files
Coverage Δ





oio/api/ec.py
92.07% <75%> (-0.14%)
⬇️


tests/functional/audit/test_audit_storage.py
81.31% <0%> (-4.06%)
⬇️


oio/blob/indexer.py
65.16% <0%> (-3.78%)
⬇️


meta1v2/meta1_server.c
69.92% <0%> (-1.62%)
⬇️


sqliterepo/replication.c
84.29% <0%> (-0.85%)
⬇️


rawx-apache2/src/rawx_repository.c
56.42% <0%> (-0.81%)
⬇️


oio/container/client.py
83.92% <0%> (-0.29%)
⬇️


tests/utils.py
95.11% <0%> (-0.28%)
⬇️


metautils/lib/gridd_client.c
75.5% <0%> (-0.24%)
⬇️


core/proxy.c
82.24% <0%> (-0.17%)
⬇️


... and 110 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e77b8a6...1aef7f4. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1936,2019-11-26T17:03:26Z,2019-11-27T10:04:54Z,2019-11-27T10:05:00Z,MERGED,True,101,126,7,https://github.com/AymericDu,xcute: Fix marker to list chunks with rdir,2,[],https://github.com/open-io/oio-sds/pull/1936,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1936,"SUMMARY
Fix marker to list chunks with rdir
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Fix marker to list chunks with rdir
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1936,2019-11-26T17:03:26Z,2019-11-27T10:04:54Z,2019-11-27T10:05:00Z,MERGED,True,101,126,7,https://github.com/AymericDu,xcute: Fix marker to list chunks with rdir,2,[],https://github.com/open-io/oio-sds/pull/1936,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1936#issuecomment-558996272,"SUMMARY
Fix marker to list chunks with rdir
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","Codecov Report

Merging #1936 into xcute will decrease coverage by 0.23%.
The diff coverage is 8.34%.


@@            Coverage Diff            @@
##            xcute   #1936      +/-   ##
=========================================
- Coverage   79.22%     79%   -0.22%     
=========================================
  Files         380     390      +10     
  Lines       73767   73865      +98     
  Branches     7018    7015       -3     
=========================================
- Hits        58438   58347      -91     
- Misses      15088   15273     +185     
- Partials      241     245       +4



Impacted Files
Coverage Δ





oio/cli/__init__.py
66.13% <8.34%> (-13.87%)
⬇️


tests/functional/cli/admin/test_service_decache.py
66.67% <0%> (-16.66%)
⬇️


resolver/hc_resolver.c
78.89% <0%> (-13.66%)
⬇️


oio/directory/admin.py
61% <0%> (-7.09%)
⬇️


proxy/metacd_http.c
83.65% <0%> (-6.63%)
⬇️


proxy/cs_actions.c
83.73% <0%> (-6.1%)
⬇️


oio/account/client.py
82.61% <0%> (-4.34%)
⬇️


tests/functional/audit/test_audit_storage.py
80.49% <0%> (-4.06%)
⬇️


proxy/common.c
90.13% <0%> (-2.59%)
⬇️


metautils/lib/lb.c
90.74% <0%> (-2.43%)
⬇️


... and 57 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a12f968...59bbc6f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1937,2019-11-26T17:03:45Z,2019-11-27T11:30:16Z,2019-11-27T11:30:20Z,MERGED,True,53,154,4,https://github.com/AymericDu, xcute: Catch all exceptions of LUA scripts ,3,[],https://github.com/open-io/oio-sds/pull/1937,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1937,"SUMMARY
Catch all exceptions of LUA scripts
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Catch all exceptions of LUA scripts
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1937,2019-11-26T17:03:45Z,2019-11-27T11:30:16Z,2019-11-27T11:30:20Z,MERGED,True,53,154,4,https://github.com/AymericDu, xcute: Catch all exceptions of LUA scripts ,3,[],https://github.com/open-io/oio-sds/pull/1937,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1937#issuecomment-559040060,"SUMMARY
Catch all exceptions of LUA scripts
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","Codecov Report

Merging #1937 into xcute will increase coverage by 17.41%.
The diff coverage is n/a.


@@             Coverage Diff             @@
##            xcute    #1937       +/-   ##
===========================================
+ Coverage   61.68%   79.08%   +17.41%     
===========================================
  Files         248      390      +142     
  Lines       52865    73876    +21011     
  Branches     6864     7015      +151     
===========================================
+ Hits        32603    58417    +25814     
+ Misses      19975    15220     -4755     
+ Partials      287      239       -48



Impacted Files
Coverage Δ





tests/functional/m2_filters/test_filters.py
63.64% <0%> (-33.33%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


meta2v2/meta2_dedup_utils.c
18.56% <0%> (ø)
⬆️


tests/unit/api/test_ec.py
86.23% <0%> (ø)
⬆️


rawx-apache2/src/rawx_bucket.c
0% <0%> (ø)
⬆️


tests/unit/common/test_fullpath.py
100% <0%> (ø)
⬆️


sqlx/sqlx_server.c
78.95% <0%> (ø)
⬆️


tests/unit/api/test_objectstorage.py
98.33% <0%> (ø)
⬆️


oio/common/constants.py
100% <0%> (ø)
⬆️


tests/unit/common/test_exceptions.py
100% <0%> (ø)
⬆️


... and 339 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ea40d6e...3ac01ec. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1938,2019-11-27T13:04:49Z,2019-11-28T11:03:42Z,2019-11-28T11:03:46Z,MERGED,True,3,1,1,https://github.com/AymericDu,xcute: Keep tasks order to update tasks sent,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1938,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1938,"SUMMARY
Keep tasks order to update tasks sent, because the backend must have the tasks in order to know the last task sent
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Keep tasks order to update tasks sent, because the backend must have the tasks in order to know the last task sent
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1939,2019-11-27T17:20:56Z,2019-11-28T01:30:07Z,2019-11-28T17:10:04Z,CLOSED,False,139,153,4,https://github.com/AymericDu,xcute:  Update processed tasks in workers,4,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1939,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1939,"SUMMARY
Update processed tasks in workers
Allow to:

check if the job still exists
check if the tasks are already processed (may occur during a beanstalkd crash)
no longer use the reply tube (decreases the overhead)

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Update processed tasks in workers
Allow to:

check if the job still exists
check if the tasks are already processed (may occur during a beanstalkd crash)
no longer use the reply tube (decreases the overhead)

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1939,2019-11-27T17:20:56Z,2019-11-28T01:30:07Z,2019-11-28T17:10:04Z,CLOSED,False,139,153,4,https://github.com/AymericDu,xcute:  Update processed tasks in workers,4,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1939,https://github.com/jkasarherou,2,https://github.com/open-io/oio-sds/pull/1939#issuecomment-559305545,"SUMMARY
Update processed tasks in workers
Allow to:

check if the job still exists
check if the tasks are already processed (may occur during a beanstalkd crash)
no longer use the reply tube (decreases the overhead)

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","This PR is not a bugfix, it changes the whole orchestrator-worker design for imaginary reasons.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1940,2019-11-27T18:09:17Z,2019-11-28T08:55:51Z,2019-11-28T17:09:55Z,MERGED,True,1,0,1,https://github.com/AymericDu,Fix compilation warning,1,[],https://github.com/open-io/oio-sds/pull/1940,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1940,"SUMMARY
Fix compilation warning
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 5.2.2","SUMMARY
Fix compilation warning
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1941,2019-11-28T15:32:49Z,2019-11-29T16:12:05Z,2019-11-29T16:12:09Z,MERGED,True,44,2,4,https://github.com/fvennetier,sqliterepo: reset elections stuck in CREATING step,1,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1941,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1941,"SUMMARY
This helps to recover after a ZooKeeper failure. The delay of 12s can be changed with sqliterepo.election.delay.expire_pending, and should be set between sqliterepo.zk.timeout and sqliterepo.election.wait.delay.
Jira: OS-452
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.8.2.dev32

ADDITIONAL INFORMATION
The problem can be triggered after compiling with -DENBUG=1 and enabling enbug.sqliterepo.synchro.failure in the namespace configuration file.","SUMMARY
This helps to recover after a ZooKeeper failure. The delay of 12s can be changed with sqliterepo.election.delay.expire_pending, and should be set between sqliterepo.zk.timeout and sqliterepo.election.wait.delay.
Jira: OS-452
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.8.2.dev32

ADDITIONAL INFORMATION
The problem can be triggered after compiling with -DENBUG=1 and enabling enbug.sqliterepo.synchro.failure in the namespace configuration file.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1941,2019-11-28T15:32:49Z,2019-11-29T16:12:05Z,2019-11-29T16:12:09Z,MERGED,True,44,2,4,https://github.com/fvennetier,sqliterepo: reset elections stuck in CREATING step,1,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1941,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1941#issuecomment-559556642,"SUMMARY
This helps to recover after a ZooKeeper failure. The delay of 12s can be changed with sqliterepo.election.delay.expire_pending, and should be set between sqliterepo.zk.timeout and sqliterepo.election.wait.delay.
Jira: OS-452
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.8.2.dev32

ADDITIONAL INFORMATION
The problem can be triggered after compiling with -DENBUG=1 and enabling enbug.sqliterepo.synchro.failure in the namespace configuration file.","Codecov Report

Merging #1941 into 5.x will increase coverage by 4.93%.
The diff coverage is 62.5%.


@@            Coverage Diff            @@
##              5.x   #1941      +/-   ##
=========================================
+ Coverage   73.97%   78.9%   +4.93%     
=========================================
  Files         363     391      +28     
  Lines       71599   73893    +2294     
  Branches     7010    7019       +9     
=========================================
+ Hits        52959   58297    +5338     
+ Misses      18438   15360    -3078     
- Partials      202     236      +34



Impacted Files
Coverage Δ





sqliterepo/election.c
90.08% <62.5%> (+32.1%)
⬆️


proxy/metacd_http.c
89.97% <0%> (-1.54%)
⬇️


meta2v2/meta2_filters_check.c
79.11% <0%> (-1.49%)
⬇️


meta2v2/meta2_dedup_utils.c
18.56% <0%> (ø)
⬆️


tests/functional/account/test_client.py
51.58% <0%> (ø)
⬆️


oio/crawler/integrity.py
68.04% <0%> (ø)
⬆️


oio/cli/admin/service_check.py
65.56% <0%> (ø)
⬆️


tests/unit/api/test_ec.py
86.23% <0%> (ø)
⬆️


tests/func/test_weird_chars.c
91.03% <0%> (ø)
⬆️


rawx-lib/src/attr_handler.c
69.05% <0%> (ø)
⬆️


... and 340 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 365141a...1537f07. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1942,2019-11-28T17:05:11Z,2019-12-02T12:42:12Z,2020-01-14T17:00:40Z,MERGED,True,23,19,2,https://github.com/AymericDu,xcute: Check if tasks are already processed,3,[],https://github.com/open-io/oio-sds/pull/1942,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1942,"SUMMARY
Check if tasks are already processed
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Check if tasks are already processed
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1943,2019-11-28T17:05:44Z,2019-12-02T08:58:30Z,2019-12-02T08:58:37Z,MERGED,True,3,3,1,https://github.com/AymericDu,xcute: Fix redis commands for Redis < 4.0.0,1,[],https://github.com/open-io/oio-sds/pull/1943,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1943,"SUMMARY
Fix redis commands for Redis < 4.0.0
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Fix redis commands for Redis < 4.0.0
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1944,2019-11-28T17:06:15Z,2019-12-02T10:02:27Z,2019-12-02T10:02:30Z,MERGED,True,41,2,2,https://github.com/AymericDu,xcute: Add sample configuration,1,[],https://github.com/open-io/oio-sds/pull/1944,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1944,"SUMMARY
Add sample configuration
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY
Add sample configuration
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1945,2019-11-28T17:08:17Z,2019-12-02T12:42:43Z,2020-01-14T17:00:43Z,MERGED,True,27,9,2,https://github.com/AymericDu,xcute: Improve error messages,2,[],https://github.com/open-io/oio-sds/pull/1945,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1945,"SUMMARY

Convert all redis errors to excetions
Catch all backend errors in the server

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","SUMMARY

Convert all redis errors to excetions
Catch all backend errors in the server

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1945,2019-11-28T17:08:17Z,2019-12-02T12:42:43Z,2020-01-14T17:00:43Z,MERGED,True,27,9,2,https://github.com/AymericDu,xcute: Improve error messages,2,[],https://github.com/open-io/oio-sds/pull/1945,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1945#issuecomment-559598654,"SUMMARY

Convert all redis errors to excetions
Catch all backend errors in the server

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.2","Codecov Report

Merging #1945 into xcute will increase coverage by 0.66%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            xcute    #1945      +/-   ##
==========================================
+ Coverage   78.59%   79.25%   +0.66%     
==========================================
  Files         376      380       +4     
  Lines       72215    73780    +1565     
  Branches     7015     7015              
==========================================
+ Hits        56752    58464    +1712     
+ Misses      15355    15077     -278     
- Partials      108      239     +131



Impacted Files
Coverage Δ





tests/functional/event/filters/test_filters.py
95.36% <0%> (-2.95%)
⬇️


metautils/lib/utils_sockets.c
44.24% <0%> (-1.53%)
⬇️


oio/container/backup.py
73.23% <0%> (-1.05%)
⬇️


sqliterepo/cache.c
85.47% <0%> (-1%)
⬇️


oio/api/base.py
89.11% <0%> (-0.99%)
⬇️


oio/blob/converter.py
80.93% <0%> (-0.98%)
⬇️


metautils/lib/utils_resolv.c
64.45% <0%> (-0.74%)
⬇️


oio/blob/client.py
90.91% <0%> (-0.64%)
⬇️


core/str.c
88.84% <0%> (-0.23%)
⬇️


oio/api/object_storage.py
81.49% <0%> (-0.14%)
⬇️


... and 89 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2ffbe57...85aee63. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1946,2019-12-02T13:53:27Z,2019-12-11T10:46:06Z,2019-12-13T15:41:12Z,MERGED,True,330,196,31,https://github.com/jfsmig,Implement compression in rawx services,12,[],https://github.com/open-io/oio-sds/pull/1946,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/1946,"SUMMARY
Update the golang RAWX to implement compression.
ISSUE TYPE
feature
COMPONENT NAME
rawx, tests","SUMMARY
Update the golang RAWX to implement compression.
ISSUE TYPE
feature
COMPONENT NAME
rawx, tests",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1947,2019-12-02T15:48:50Z,2019-12-02T16:53:15Z,2019-12-02T16:53:18Z,MERGED,True,128,0,1,https://github.com/fvennetier,Fix sqliterepo election tests with ZooKeeper 3.5,1,[],https://github.com/open-io/oio-sds/pull/1947,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1947,"SUMMARY
When running along with ZooKeeper 3.5, some more actions are performed. The tests have been adapted to take these actions into account.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 6.0.0.0a2.dev22","SUMMARY
When running along with ZooKeeper 3.5, some more actions are performed. The tests have been adapted to take these actions into account.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

tests

SDS VERSION
openio 6.0.0.0a2.dev22",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1948,2019-12-03T13:52:34Z,2020-01-30T14:47:57Z,2020-01-30T14:47:57Z,MERGED,True,7,3,2,https://github.com/martinetd,client: allow https for proxy url,1,[],https://github.com/open-io/oio-sds/pull/1948,https://github.com/martinetd,1,https://github.com/open-io/oio-sds/pull/1948,"Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.","Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1948,2019-12-03T13:52:34Z,2020-01-30T14:47:57Z,2020-01-30T14:47:57Z,MERGED,True,7,3,2,https://github.com/martinetd,client: allow https for proxy url,1,[],https://github.com/open-io/oio-sds/pull/1948,https://github.com/martinetd,2,https://github.com/open-io/oio-sds/pull/1948#issuecomment-561535240,"Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.","travis failure

seems to be unrelated, master is failing on the same test ; service not ready yet looks like a scheduling problem...

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.

This stems from urllib3 default. until 1.25 (el7.7 has 1.21) certificate validation was disabled by default.
One would need to add a couple of arguments to the pool manager (cert_reqs='CERT_REQUIRED' and a path to valid ca_certs... You'd think that since the python ssl module has a default ca_certs path it could pick it on its own :/
This is a more intrusive change than just allowing https so while I got something working I'll need to figure how to add this cleanly to some config and will submit a different PR when ready.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1948,2019-12-03T13:52:34Z,2020-01-30T14:47:57Z,2020-01-30T14:47:57Z,MERGED,True,7,3,2,https://github.com/martinetd,client: allow https for proxy url,1,[],https://github.com/open-io/oio-sds/pull/1948,https://github.com/martinetd,3,https://github.com/open-io/oio-sds/pull/1948#issuecomment-561629162,"Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.","(hmpf github doesn't let one request changes on one's own PR, bad system bad)
I was only testing this with metadata operations (e.g. ls), now I've finished splitting services a bit more cleanly it turns out some data is still sent as plain text http on the https port with just this change, I must have missed something... Will repush/update once I find out more...",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1948,2019-12-03T13:52:34Z,2020-01-30T14:47:57Z,2020-01-30T14:47:57Z,MERGED,True,7,3,2,https://github.com/martinetd,client: allow https for proxy url,1,[],https://github.com/open-io/oio-sds/pull/1948,https://github.com/martinetd,4,https://github.com/open-io/oio-sds/pull/1948#issuecomment-561643798,"Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.","I was only testing this with metadata operations (e.g. ls), now I've finished splitting services a bit more cleanly it turns out some data is still sent as plain text http on the https port with just this change, I must have missed something... Will repush/update once I find out more...

now works for basic tests at least; there are still hardcoded http://s associated with proxy_netloc in oio/directory/admin.py that might need similar fix but I don't know how to test this bit (yet)
oio/cli/common/clientmanager.py is just setting default values so is probably fine as is.
The more I look at this and the less I understand why proxy_netloc does not embed the scheme directly in the variable, as it always seems to be used concatenated with http:// stuck in front -- what was the intended difference between the endpoint and that variable?",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1948,2019-12-03T13:52:34Z,2020-01-30T14:47:57Z,2020-01-30T14:47:57Z,MERGED,True,7,3,2,https://github.com/martinetd,client: allow https for proxy url,1,[],https://github.com/open-io/oio-sds/pull/1948,https://github.com/fvennetier,5,https://github.com/open-io/oio-sds/pull/1948#issuecomment-562132626,"Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.","Hello! Thanks for your contribution.

The more I look at this and the less I understand why proxy_netloc does not embed the scheme directly in the variable, as it always seems to be used concatenated with http:// stuck in front -- what was the intended difference between the endpoint and that variable?

Yes. Here ""netloc"" has the same meaning as in the result of urllib.parse.urlparse(). Endpoint is scheme+netloc+path_prefix.
And yes, our test suite on Travis CI in kind of flaky. We see less random failures when we run the tests before 14:30 UTC (because the platform is less loaded).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1948,2019-12-03T13:52:34Z,2020-01-30T14:47:57Z,2020-01-30T14:47:57Z,MERGED,True,7,3,2,https://github.com/martinetd,client: allow https for proxy url,1,[],https://github.com/open-io/oio-sds/pull/1948,https://github.com/martinetd,6,https://github.com/open-io/oio-sds/pull/1948#issuecomment-579864677,"Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.","Could you rebase on master one last time? I have fixed the test suite.

Done! Let's see how it goes, thanks.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1948,2019-12-03T13:52:34Z,2020-01-30T14:47:57Z,2020-01-30T14:47:57Z,MERGED,True,7,3,2,https://github.com/martinetd,client: allow https for proxy url,1,[],https://github.com/open-io/oio-sds/pull/1948,https://github.com/martinetd,7,https://github.com/open-io/oio-sds/pull/1948#issuecomment-579866983,"Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.","FWIW this does not cover the connections between the swift gateway and the rawx, we will need to upgrade these to https as well somehow to meet our requirements.
I'm not sure if you want that in the same PR or not, but I would appreciate some help on this last point as my development time is fairly limited; I will open an issue to track that.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1948,2019-12-03T13:52:34Z,2020-01-30T14:47:57Z,2020-01-30T14:47:57Z,MERGED,True,7,3,2,https://github.com/martinetd,client: allow https for proxy url,1,[],https://github.com/open-io/oio-sds/pull/1948,https://github.com/martinetd,8,https://github.com/open-io/oio-sds/pull/1948#issuecomment-579890850,"Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.","_StringException: Traceback (most recent call last):
  File ""/home/travis/build/open-io/oio-sds/tests/functional/content/test_content_perfectible.py"", line 143, in test_upload_warn_dist
    event = self._wait_for_event(timeout=REASONABLE_EVENT_DELAY*2)
  File ""/home/travis/build/open-io/oio-sds/tests/functional/content/test_content_perfectible.py"", line 96, in _wait_for_event
    self.fail(""No event received in the last %s seconds"" % timeout)
  File ""/home/travis/build/open-io/oio-sds/.tox/func/local/lib/python2.7/site-packages/unittest2/case.py"", line 690, in fail
    raise self.failureException(msg)

AssertionError: No event received in the last 6.0 seconds

That looks like it could be a load issue, I'll try to resubmit both PRs somehow tomorrow morning",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1948,2019-12-03T13:52:34Z,2020-01-30T14:47:57Z,2020-01-30T14:47:57Z,MERGED,True,7,3,2,https://github.com/martinetd,client: allow https for proxy url,1,[],https://github.com/open-io/oio-sds/pull/1948,https://github.com/martinetd,9,https://github.com/open-io/oio-sds/pull/1948#issuecomment-580232886,"Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.","That looks like it could be a load issue, I'll try to resubmit both PRs somehow tomorrow morning

No luck, exact same error. I'm not quite sure how it could be related, the patch should have no effect on existing config (same variables defined with same content); I'll leave that up to you.
Thanks.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1948,2019-12-03T13:52:34Z,2020-01-30T14:47:57Z,2020-01-30T14:47:57Z,MERGED,True,7,3,2,https://github.com/martinetd,client: allow https for proxy url,1,[],https://github.com/open-io/oio-sds/pull/1948,https://github.com/martinetd,10,https://github.com/open-io/oio-sds/pull/1948#issuecomment-580235217,"Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.","No luck, exact same error. I'm not quite sure how it could be related, the patch should have no effect on existing config (same variables defined with same content); I'll leave that up to you.

Obviously just had to post to see updated status (sorry for the spam); I cannot seem to access the codecov report using a dummy account and do not want to give access to all the permissions it asks for for this account, I would appreciate a retranscription or feedback. Sorry for the trouble.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1948,2019-12-03T13:52:34Z,2020-01-30T14:47:57Z,2020-01-30T14:47:57Z,MERGED,True,7,3,2,https://github.com/martinetd,client: allow https for proxy url,1,[],https://github.com/open-io/oio-sds/pull/1948,https://github.com/fvennetier,11,https://github.com/open-io/oio-sds/pull/1948#issuecomment-580286396,"Do not assume the proxy url is plain text http
SUMMARY
We want to use https from the swift proxy to the oio proxy, but using an https:// url as sds_proxy_url in proxy-server.conf does not work. This appears to fix the issue.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio client common
SDS VERSION
whatever it is master is? tested on 5.2.2
ADDITIONAL INFORMATION
Reproducer steps:

setup an https frontend to oioproxy (whatever reverse proxy that supports ssl terminaison) and configure sds_proxy_url to https://<ip>:<port> in oioswift's proxy-server.conf
try to run a request, fails with internal error No address found, probably because the https is not stripped properly from the netloc and it cannot resolve it.
try again with patch, it should work.

Note: there is no SSL certificate validation, I would have assumed that change to fail a bit further.
I would also like to validate the server certificate matches the one given in the url, any hint on where to change that would be appreciated before I start looking at the code.","I cannot seem to access the codecov report using a dummy account and do not want to give access to all the permissions it asks for for this account, I would appreciate a retranscription or feedback.

Codecov is supposed to post a comment here once all the tests are green. But sometimes it does not. Today all I can get is a 500 error. I will merge this anyway.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1949,2019-12-04T16:25:43Z,2019-12-04T18:26:29Z,2019-12-04T18:26:33Z,MERGED,True,67,47,10,https://github.com/fvennetier,"Python API, tests: another batch of Python 3 fixes",1,[],https://github.com/open-io/oio-sds/pull/1949,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1949,"SUMMARY
Another batch of Python 3 fixes.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
tests

SDS VERSION
openio 6.0.0.0a2.dev28","SUMMARY
Another batch of Python 3 fixes.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
tests

SDS VERSION
openio 6.0.0.0a2.dev28",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1950,2019-12-06T17:04:35Z,2019-12-10T14:31:25Z,2019-12-10T14:31:25Z,MERGED,True,108,79,10,https://github.com/fvennetier,sqliterepo: fix the snapshot feature,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1950,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1950,"SUMMARY
The tests of the container snapshot feature were flaky. This is because there was a real bug. This pull request aims at fixing this bug. It also reorganizes the tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 6.0.1.dev2

ADDITIONAL INFORMATION
The usual error message triggered by the bug was:
oio.common.exceptions.ServiceBusy: COMMIT failed: (SQLITE_CONSTRAINT) constraint failed [127.0.0.1:6018/470/Remote diff missed] [127.0.0.1:6017/470/Remote diff missed] Not enough successes, no quorum (1/3) (HTTP 503) (STATUS 503)","SUMMARY
The tests of the container snapshot feature were flaky. This is because there was a real bug. This pull request aims at fixing this bug. It also reorganizes the tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 6.0.1.dev2

ADDITIONAL INFORMATION
The usual error message triggered by the bug was:
oio.common.exceptions.ServiceBusy: COMMIT failed: (SQLITE_CONSTRAINT) constraint failed [127.0.0.1:6018/470/Remote diff missed] [127.0.0.1:6017/470/Remote diff missed] Not enough successes, no quorum (1/3) (HTTP 503) (STATUS 503)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1950,2019-12-06T17:04:35Z,2019-12-10T14:31:25Z,2019-12-10T14:31:25Z,MERGED,True,108,79,10,https://github.com/fvennetier,sqliterepo: fix the snapshot feature,3,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1950,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1950#issuecomment-563959950,"SUMMARY
The tests of the container snapshot feature were flaky. This is because there was a real bug. This pull request aims at fixing this bug. It also reorganizes the tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 6.0.1.dev2

ADDITIONAL INFORMATION
The usual error message triggered by the bug was:
oio.common.exceptions.ServiceBusy: COMMIT failed: (SQLITE_CONSTRAINT) constraint failed [127.0.0.1:6018/470/Remote diff missed] [127.0.0.1:6017/470/Remote diff missed] Not enough successes, no quorum (1/3) (HTTP 503) (STATUS 503)","Codecov Report

Merging #1950 into 6.0.x will increase coverage by 0.05%.
The diff coverage is 85.42%.


@@            Coverage Diff             @@
##            6.0.x    #1950      +/-   ##
==========================================
+ Coverage   78.33%   78.37%   +0.05%     
==========================================
  Files         375      375              
  Lines       72062    72068       +6     
  Branches     6533     6531       -2     
==========================================
+ Hits        56439    56479      +40     
+ Misses      15411    15377      -34     
  Partials      212      212



Impacted Files
Coverage Δ





sqliterepo/repository.c
74.78% <ø> (-0.2%)
⬇️


core/oiostr.h
100% <ø> (ø)
⬆️


tests/functional/content/test_service_id.py
78.83% <100%> (+0.26%)
⬆️


tests/functional/api/test_objectstorage.py
97.35% <100%> (+0.01%)
⬆️


sqliterepo/election.c
89.21% <100%> (+0.13%)
⬆️


oio/directory/admin.py
68.75% <50%> (+1.15%)
⬆️


tests/functional/cli/container/test_container.py
65.76% <50%> (ø)
⬆️


core/str.c
87.56% <85.72%> (-0.06%)
⬇️


sqliterepo/replication_dispatcher.c
73.48% <90.91%> (+0.19%)
⬆️


oio/common/http_urllib3.py
85% <0%> (-5%)
⬇️


... and 42 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b630ec3...02035a3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1951,2019-12-09T16:56:44Z,2019-12-11T09:24:31Z,2019-12-11T09:24:31Z,MERGED,True,63,10,3,https://github.com/racciari,Fix logging issue when /dev/log does not exists in Python 3,2,[],https://github.com/open-io/oio-sds/pull/1951,https://github.com/racciari,1,https://github.com/open-io/oio-sds/pull/1951,"A change in Python 3 (https://bugs.python.org/issue29808)
leads to a stack overflow when /dev/log does not exists.



Bugfix Pull Request



openio 6.0.0","A change in Python 3 (https://bugs.python.org/issue29808)
leads to a stack overflow when /dev/log does not exists.



Bugfix Pull Request



openio 6.0.0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1951,2019-12-09T16:56:44Z,2019-12-11T09:24:31Z,2019-12-11T09:24:31Z,MERGED,True,63,10,3,https://github.com/racciari,Fix logging issue when /dev/log does not exists in Python 3,2,[],https://github.com/open-io/oio-sds/pull/1951,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1951#issuecomment-564148779,"A change in Python 3 (https://bugs.python.org/issue29808)
leads to a stack overflow when /dev/log does not exists.



Bugfix Pull Request



openio 6.0.0","Codecov Report

Merging #1951 into 6.0.x will decrease coverage by 0.53%.
The diff coverage is 19.05%.


@@            Coverage Diff            @@
##            6.0.x   #1951      +/-   ##
=========================================
- Coverage   78.33%   77.8%   -0.52%     
=========================================
  Files         375     373       -2     
  Lines       72062   72583     +521     
  Branches     6533    6781     +248     
=========================================
+ Hits        56439   56467      +28     
- Misses      15411   15866     +455     
- Partials      212     250      +38



Impacted Files
Coverage Δ





oio/common/logger.py
54.35% <19.05%> (-6.9%)
⬇️


tests/functional/content/test_ec.py
28.49% <0%> (-71.51%)
⬇️


sqliterepo/replication_dispatcher.c
54.92% <0%> (-18.38%)
⬇️


sqliterepo/election.c
80.48% <0%> (-8.6%)
⬇️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


tests/functional/event/filters/test_filters.py
94.52% <0%> (-3.79%)
⬇️


meta1v2/meta1_prefixes.c
75.9% <0%> (-3.07%)
⬇️


oio/blob/indexer.py
68.19% <0%> (-2.27%)
⬇️


tests/functional/api/test_perfdata.py
90.91% <0%> (-1.51%)
⬇️


tests/functional/container/test_container.py
97.41% <0%> (-1.51%)
⬇️


... and 46 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b630ec3...7120c4e. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1952,2019-12-10T08:52:15Z,2019-12-10T13:06:51Z,2019-12-10T13:06:55Z,MERGED,True,7,0,1,https://github.com/AymericDu,Decache user when creating container,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1952,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1952,"SUMMARY
Prevent the use of old peers if the container has already existed and is still in the cache
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 5.2.3.dev1","SUMMARY
Prevent the use of old peers if the container has already existed and is still in the cache
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 5.2.3.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1952,2019-12-10T08:52:15Z,2019-12-10T13:06:51Z,2019-12-10T13:06:55Z,MERGED,True,7,0,1,https://github.com/AymericDu,Decache user when creating container,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1952,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1952#issuecomment-563963608,"SUMMARY
Prevent the use of old peers if the container has already existed and is still in the cache
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 5.2.3.dev1","Codecov Report

Merging #1952 into 5.x will decrease coverage by 0.38%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              5.x    #1952      +/-   ##
==========================================
- Coverage   78.72%   78.35%   -0.37%     
==========================================
  Files         391      391              
  Lines       73893    73895       +2     
  Branches     7019     7019              
==========================================
- Hits        58166    57892     -274     
- Misses      15488    15763     +275     
- Partials      239      240       +1



Impacted Files
Coverage Δ





proxy/m2_actions.c
88.45% <100%> (+0.02%)
⬆️


tests/functional/container/test_replication.py
27.59% <0%> (ø)
⬆️


tests/functional/cli/admin/test_item_repair.py
31.82% <0%> (ø)
⬆️


tests/functional/directory/test_meta2.py
60.68% <0%> (ø)
⬆️


oio/directory/meta2.py
34.5% <0%> (ø)
⬆️


metautils/lib/rrd.c
74.36% <0%> (-17.94%)
⬇️


oio/common/configuration.py
51.79% <0%> (ø)
⬆️


oio/directory/admin.py
54.61% <0%> (+0.71%)
⬆️


tests/functional/directory/test_admin.py
88.68% <0%> (ø)
⬆️


meta0v2/meta0_remote.c
74.29% <0%> (-8.57%)
⬇️


... and 60 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9b928d0...3a122c9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1953,2019-12-11T16:03:53Z,2019-12-18T17:18:07Z,2019-12-18T17:18:22Z,MERGED,True,71,29,5,https://github.com/AymericDu,xcute: Retry later when the worker can't reply,2,[],https://github.com/open-io/oio-sds/pull/1953,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1953,"SUMMARY
Retry later when the worker can't reply
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.3.dev1","SUMMARY
Retry later when the worker can't reply
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.3.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1954,2019-12-13T10:45:25Z,2019-12-16T08:09:46Z,2019-12-16T08:09:49Z,MERGED,True,10,7,1,https://github.com/fvennetier,CLI: lazily load zookeeper dependency,1,[],https://github.com/open-io/oio-sds/pull/1954,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1954,"SUMMARY
Some platforms (e.g. openio/sds docker image) are deployed without ZooKeeper. Trying to generate the bash-completion file on such platforms was not possible. The present modification delays to loading of the ZooKeeper Python API dependency, allowing to load the definition of commands without it.
Jira: R1910-35
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 6.1.0.0a1.dev3","SUMMARY
Some platforms (e.g. openio/sds docker image) are deployed without ZooKeeper. Trying to generate the bash-completion file on such platforms was not possible. The present modification delays to loading of the ZooKeeper Python API dependency, allowing to load the definition of commands without it.
Jira: R1910-35
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 6.1.0.0a1.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1954,2019-12-13T10:45:25Z,2019-12-16T08:09:46Z,2019-12-16T08:09:49Z,MERGED,True,10,7,1,https://github.com/fvennetier,CLI: lazily load zookeeper dependency,1,[],https://github.com/open-io/oio-sds/pull/1954,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1954#issuecomment-565452330,"SUMMARY
Some platforms (e.g. openio/sds docker image) are deployed without ZooKeeper. Trying to generate the bash-completion file on such platforms was not possible. The present modification delays to loading of the ZooKeeper Python API dependency, allowing to load the definition of commands without it.
Jira: R1910-35
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 6.1.0.0a1.dev3","Codecov Report

Merging #1954 into 6.0.x will increase coverage by 0.04%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            6.0.x    #1954      +/-   ##
==========================================
+ Coverage   78.35%   78.39%   +0.04%     
==========================================
  Files         375      375              
  Lines       72082    72082              
  Branches     6531     6531              
==========================================
+ Hits        56474    56500      +26     
+ Misses      15396    15370      -26     
  Partials      212      212



Impacted Files
Coverage Δ





tests/functional/m2_filters/test_filters.py
85.3% <0%> (-11.76%)
⬇️


oio/content/plain.py
72.42% <0%> (-3.44%)
⬇️


tests/functional/audit/test_audit_storage.py
84.68% <0%> (-3.22%)
⬇️


oio/blob/converter.py
80.99% <0%> (-2.62%)
⬇️


rdir/routes.c.rl
97.88% <0%> (-2.12%)
⬇️


oio/crawler/integrity.py
69.08% <0%> (-1.84%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0%> (-1.85%)
⬇️


oio/blob/indexer.py
68.19% <0%> (-1.51%)
⬇️


oio/directory/admin.py
67.37% <0%> (-1.38%)
⬇️


metautils/lib/utils_sockets.c
43.5% <0%> (-1.11%)
⬇️


... and 33 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 10829d3...a3f3278. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1955,2019-12-13T12:36:33Z,2019-12-16T15:40:22Z,2019-12-18T14:13:02Z,MERGED,True,32,53,6,https://github.com/AymericDu,proxy: Allow to force the request on master service,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1955,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1955,"SUMMARY
Allow to force the request on master service.
It was already possible to do this by adding 'proxy.force.master'
in the proxy configuration. But this was applied to all requests.
If we wanted to force the master only on a specific request,
we can add the 'x-oio-force-master' header in the request.
But this header was only used to list the objects in a container.
Now, it is possible to specifically force the master on all meta2 requests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 5.2.4.dev1","SUMMARY
Allow to force the request on master service.
It was already possible to do this by adding 'proxy.force.master'
in the proxy configuration. But this was applied to all requests.
If we wanted to force the master only on a specific request,
we can add the 'x-oio-force-master' header in the request.
But this header was only used to list the objects in a container.
Now, it is possible to specifically force the master on all meta2 requests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 5.2.4.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1955,2019-12-13T12:36:33Z,2019-12-16T15:40:22Z,2019-12-18T14:13:02Z,MERGED,True,32,53,6,https://github.com/AymericDu,proxy: Allow to force the request on master service,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1955,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1955#issuecomment-565534025,"SUMMARY
Allow to force the request on master service.
It was already possible to do this by adding 'proxy.force.master'
in the proxy configuration. But this was applied to all requests.
If we wanted to force the master only on a specific request,
we can add the 'x-oio-force-master' header in the request.
But this header was only used to list the objects in a container.
Now, it is possible to specifically force the master on all meta2 requests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy
meta2

SDS VERSION
openio 5.2.4.dev1","Codecov Report

Merging #1955 into 5.x will decrease coverage by 0.11%.
The diff coverage is 68%.


@@            Coverage Diff            @@
##              5.x    #1955     +/-   ##
=========================================
- Coverage   79.39%   79.28%   -0.1%     
=========================================
  Files         391      391             
  Lines       73895    73891      -4     
  Branches     7019     7019             
=========================================
- Hits        58664    58580     -84     
- Misses      14992    15072     +80     
  Partials      239      239



Impacted Files
Coverage Δ





meta2v2/meta2_gridd_dispatcher.c
78.13% <ø> (ø)
⬆️


proxy/metacd_http.c
91.38% <100%> (-0.29%)
⬇️


meta2v2/meta2_backend.c
79.89% <100%> (-0.01%)
⬇️


proxy/meta2v2_remote.c
85.16% <57.15%> (+0.81%)
⬆️


proxy/m2_actions.c
88.43% <71.43%> (-0.02%)
⬇️


oio/content/ec.py
55% <0%> (-30%)
⬇️


tests/functional/content/test_service_id.py
79.29% <0%> (-5.91%)
⬇️


meta2v2/meta2_server.c
77.42% <0%> (-3.22%)
⬇️


tests/functional/audit/test_audit_storage.py
82.93% <0%> (-2.43%)
⬇️


oio/container/backup.py
73.23% <0%> (-2.42%)
⬇️


... and 46 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d476b9f...5d3318f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1956,2019-12-13T12:49:25Z,2019-12-18T17:17:16Z,2019-12-18T17:18:12Z,MERGED,True,100,39,2,https://github.com/AymericDu,xcute: Handle backend errors,1,[],https://github.com/open-io/oio-sds/pull/1956,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1956,"SUMMARY
Handle backend errors
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.4.dev114","SUMMARY
Handle backend errors
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.4.dev114",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1956,2019-12-13T12:49:25Z,2019-12-18T17:17:16Z,2019-12-18T17:18:12Z,MERGED,True,100,39,2,https://github.com/AymericDu,xcute: Handle backend errors,1,[],https://github.com/open-io/oio-sds/pull/1956,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1956#issuecomment-565493216,"SUMMARY
Handle backend errors
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.4.dev114","Codecov Report

Merging #1956 into xcute will increase coverage by 0.68%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##            xcute    #1956      +/-   ##
==========================================
+ Coverage   78.59%   79.27%   +0.68%     
==========================================
  Files         377      391      +14     
  Lines       72269    73920    +1651     
  Branches     7019     7019              
==========================================
+ Hits        56794    58594    +1800     
+ Misses      15367    15089     -278     
- Partials      108      237     +129



Impacted Files
Coverage Δ





meta1v2/meta1_server.c
69.68% <0%> (-1.63%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0%> (-1.03%)
⬇️


tests/functional/cli/admin/test_item_check.py
70.43% <0%> (-1.02%)
⬇️


sqliterepo/cache.c
85.47% <0%> (-1%)
⬇️


meta1v2/meta1_backend_internals.c
75.23% <0%> (-0.88%)
⬇️


sqliterepo/gridd_client_pool.c
80.71% <0%> (-0.87%)
⬇️


oio/conscience/client.py
83.2% <0%> (-0.79%)
⬇️


metautils/lib/utils_resolv.c
64.45% <0%> (-0.74%)
⬇️


oio/common/utils.py
70.59% <0%> (-0.42%)
⬇️


meta1v2/meta1_backend_services.c
56.26% <0%> (-0.28%)
⬇️


... and 81 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 740ee20...2e78c28. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1956,2019-12-13T12:49:25Z,2019-12-18T17:17:16Z,2019-12-18T17:18:12Z,MERGED,True,100,39,2,https://github.com/AymericDu,xcute: Handle backend errors,1,[],https://github.com/open-io/oio-sds/pull/1956,https://github.com/loamhoof,3,https://github.com/open-io/oio-sds/pull/1956#issuecomment-565910935,"SUMMARY
Handle backend errors
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.4.dev114",Overall a pretty heavy change for the code. Can't we just catch the exception at a higher level and put the retry at a lower one?,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1957,2019-12-16T11:13:49Z,2019-12-16T15:40:42Z,2019-12-16T15:40:46Z,MERGED,True,43,11,3,https://github.com/fvennetier,server: display better messages after IO errors,1,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1957,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1957,"SUMMARY
The error messages emitted after IO errors were detected had different syntaxes, making it difficult to search for them in the logs. This is now fixed.
Also, a new message will now tell is the IO error checking thread is stalled for a long time.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

main server code
sqliterepo

SDS VERSION
openio 5.2.3","SUMMARY
The error messages emitted after IO errors were detected had different syntaxes, making it difficult to search for them in the logs. This is now fixed.
Also, a new message will now tell is the IO error checking thread is stalled for a long time.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

main server code
sqliterepo

SDS VERSION
openio 5.2.3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1957,2019-12-16T11:13:49Z,2019-12-16T15:40:42Z,2019-12-16T15:40:46Z,MERGED,True,43,11,3,https://github.com/fvennetier,server: display better messages after IO errors,1,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1957,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1957#issuecomment-566081804,"SUMMARY
The error messages emitted after IO errors were detected had different syntaxes, making it difficult to search for them in the logs. This is now fixed.
Also, a new message will now tell is the IO error checking thread is stalled for a long time.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

main server code
sqliterepo

SDS VERSION
openio 5.2.3","Codecov Report

Merging #1957 into 5.x will decrease coverage by 0.1%.
The diff coverage is 22.73%.


@@            Coverage Diff             @@
##              5.x    #1957      +/-   ##
==========================================
- Coverage   79.39%   79.29%   -0.09%     
==========================================
  Files         391      380      -11     
  Lines       73895    73780     -115     
  Branches     7019     7022       +3     
==========================================
- Hits        58664    58499     -165     
- Misses      14992    15042      +50     
  Partials      239      239



Impacted Files
Coverage Δ





server/transport_gridd.h
100% <ø> (ø)
⬆️


sqlx/sqlx_service.c
85.43% <10%> (-0.71%)
⬇️


server/transport_gridd.c
76.44% <33.34%> (-1.18%)
⬇️


oio/content/ec.py
55% <0%> (-30%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


tests/functional/content/test_service_id.py
79.29% <0%> (-5.91%)
⬇️


oio/content/plain.py
72.42% <0%> (-3.44%)
⬇️


meta2v2/meta2_server.c
77.42% <0%> (-3.22%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/container/backup.py
73.08% <0%> (-2.57%)
⬇️


... and 56 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d476b9f...b51cd4c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1958,2019-12-16T14:02:26Z,2019-12-16T15:50:57Z,2019-12-18T14:13:00Z,MERGED,True,1,1,1,https://github.com/AymericDu,Check directory/file creation without depending on network,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1958,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1958,"SUMMARY
Check directory/file creation without depending on network.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqlx

SDS VERSION
openio 5.2.4.dev1","SUMMARY
Check directory/file creation without depending on network.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqlx

SDS VERSION
openio 5.2.4.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1958,2019-12-16T14:02:26Z,2019-12-16T15:50:57Z,2019-12-18T14:13:00Z,MERGED,True,1,1,1,https://github.com/AymericDu,Check directory/file creation without depending on network,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1958,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1958#issuecomment-566117670,"SUMMARY
Check directory/file creation without depending on network.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqlx

SDS VERSION
openio 5.2.4.dev1","Codecov Report

Merging #1958 into 5.x will decrease coverage by 0.17%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              5.x    #1958      +/-   ##
==========================================
- Coverage   79.39%   79.23%   -0.16%     
==========================================
  Files         391      391              
  Lines       73895    73895              
  Branches     7019     7019              
==========================================
- Hits        58664    58545     -119     
- Misses      14992    15093     +101     
- Partials      239      257      +18



Impacted Files
Coverage Δ





sqlx/sqlx_service.c
85.74% <100%> (-0.4%)
⬇️


oio/content/ec.py
55% <0%> (-30%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


tools/oio-lb-benchmark.c
77.28% <0%> (-6.81%)
⬇️


tests/functional/cli/admin/test_service_decache.py
79.17% <0%> (-6.25%)
⬇️


tests/functional/content/test_service_id.py
79.29% <0%> (-5.91%)
⬇️


oio/content/plain.py
72.42% <0%> (-3.44%)
⬇️


meta2v2/meta2_server.c
77.42% <0%> (-3.22%)
⬇️


oio/common/http_urllib3.py
85% <0%> (-2.5%)
⬇️


tests/functional/audit/test_audit_storage.py
82.93% <0%> (-2.43%)
⬇️


... and 48 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d476b9f...40fa9c2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1959,2019-12-24T09:39:59Z,2019-12-24T12:21:51Z,2019-12-30T16:23:37Z,MERGED,True,13,12,1,https://github.com/murlock,Enhance replication error messages with the request ID,1,[],https://github.com/open-io/oio-sds/pull/1959,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1959,"SUMMARY
When replication of dabase fails, errors doesn't contains reqid
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
4.8.1

ADDITIONAL INFORMATION","SUMMARY
When replication of dabase fails, errors doesn't contains reqid
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
4.8.1

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1961,2019-12-24T11:01:11Z,2019-12-30T10:32:14Z,2020-01-06T14:07:00Z,MERGED,True,43,30,2,https://github.com/AymericDu,Check the size before the integrity when dumping database,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1961,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1961,"SUMMARY
Check integrity of database as late as possible
Jira: OS-469
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.8.2.dev10","SUMMARY
Check integrity of database as late as possible
Jira: OS-469
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.8.2.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1961,2019-12-24T11:01:11Z,2019-12-30T10:32:14Z,2020-01-06T14:07:00Z,MERGED,True,43,30,2,https://github.com/AymericDu,Check the size before the integrity when dumping database,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1961,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1961#issuecomment-568753365,"SUMMARY
Check integrity of database as late as possible
Jira: OS-469
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.8.2.dev10","Codecov Report

Merging #1961 into 4.x will increase coverage by 0.06%.
The diff coverage is 63.16%.


@@            Coverage Diff            @@
##             4.x    #1961      +/-   ##
=========================================
+ Coverage   80.6%   80.65%   +0.06%     
=========================================
  Files        375      375              
  Lines      70493    70500       +7     
  Branches    7023     7027       +4     
=========================================
+ Hits       56811    56857      +46     
+ Misses     13560    13521      -39     
  Partials     122      122



Impacted Files
Coverage Δ





sqliterepo/repository.c
74.37% <63.16%> (-0.32%)
⬇️


tests/functional/crawler/test_integrity_crawler.py
78.85% <0%> (-3.84%)
⬇️


oio/conscience/client.py
81.82% <0%> (-3.3%)
⬇️


oio/blob/converter.py
81.02% <0%> (-1.26%)
⬇️


tests/functional/container/test_replication.py
79.52% <0%> (-1.2%)
⬇️


oio/directory/admin.py
72.53% <0%> (-1.09%)
⬇️


oio/account/client.py
82.61% <0%> (-1.08%)
⬇️


meta2v2/meta2_filters_action_container.c
63.24% <0%> (-1.03%)
⬇️


sqliterepo/replication.c
84.29% <0%> (-0.85%)
⬇️


core/proxy.c
82.07% <0%> (-0.17%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a1a41a8...ea90b84. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1962,2019-12-26T15:21:26Z,2019-12-30T13:14:28Z,2020-01-06T14:07:10Z,MERGED,True,7,3,1,https://github.com/AymericDu,Show SYNC_KO on failed PIPEFROM,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1962,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1962,"SUMMARY
Show SYNC_KO on failed PIPEFROM
Jira: OS-469
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.8.2.dev11","SUMMARY
Show SYNC_KO on failed PIPEFROM
Jira: OS-469
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.8.2.dev11",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1962,2019-12-26T15:21:26Z,2019-12-30T13:14:28Z,2020-01-06T14:07:10Z,MERGED,True,7,3,1,https://github.com/AymericDu,Show SYNC_KO on failed PIPEFROM,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1962,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1962#issuecomment-569674750,"SUMMARY
Show SYNC_KO on failed PIPEFROM
Jira: OS-469
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 4.8.2.dev11","Codecov Report

Merging #1962 into 4.x will increase coverage by 0.21%.
The diff coverage is 66.67%.


@@            Coverage Diff            @@
##              4.x   #1962      +/-   ##
=========================================
+ Coverage   80.39%   80.6%   +0.21%     
=========================================
  Files         374     375       +1     
  Lines       70490   70502      +12     
  Branches     6774    7024     +250     
=========================================
+ Hits        56666   56821     +155     
+ Misses      13702   13559     -143     
  Partials      122     122



Impacted Files
Coverage Δ





sqliterepo/election.c
90.44% <66.67%> (-0.04%)
⬇️


tests/functional/event/test_webhook.py
26.09% <0%> (-72.46%)
⬇️


oio/container/backup.py
74.59% <0%> (-3.93%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/conscience/client.py
81.82% <0%> (-2.47%)
⬇️


meta1v2/meta1_server.c
69.92% <0%> (-1.62%)
⬇️


oio/api/io.py
88.58% <0%> (-1.29%)
⬇️


meta1v2/meta1_prefixes.c
78.87% <0%> (-1.03%)
⬇️


server/slab.c
84.42% <0%> (-0.64%)
⬇️


oio/container/md5py.py
95.08% <0%> (-0.49%)
⬇️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4a97e75...d1dc305. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1963,2019-12-27T14:24:57Z,2020-01-17T08:52:09Z,2020-01-17T15:15:34Z,MERGED,True,3108,118,49,https://github.com/AymericDu,xcute: Allow to excute tasks across all the platform,130,[],https://github.com/open-io/oio-sds/pull/1963,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1963,"SUMMARY
Allow to excute tasks across all the platform

The user creates a new job
The job dispatches all tasks to the workers
The worker processes the tasks

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute
event-agent
consience
Admin CLI

SDS VERSION
openio 5.2.4.dev126","SUMMARY
Allow to excute tasks across all the platform

The user creates a new job
The job dispatches all tasks to the workers
The worker processes the tasks

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute
event-agent
consience
Admin CLI

SDS VERSION
openio 5.2.4.dev126",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1963,2019-12-27T14:24:57Z,2020-01-17T08:52:09Z,2020-01-17T15:15:34Z,MERGED,True,3108,118,49,https://github.com/AymericDu,xcute: Allow to excute tasks across all the platform,130,[],https://github.com/open-io/oio-sds/pull/1963,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1963#issuecomment-569287863,"SUMMARY
Allow to excute tasks across all the platform

The user creates a new job
The job dispatches all tasks to the workers
The worker processes the tasks

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute
event-agent
consience
Admin CLI

SDS VERSION
openio 5.2.4.dev126","Codecov Report

Merging #1963 into 5.x will increase coverage by 0.67%.
The diff coverage is 69.12%.


@@            Coverage Diff            @@
##             5.x    #1963      +/-   ##
=========================================
+ Coverage   78.7%   79.36%   +0.67%     
=========================================
  Files        377      391      +14     
  Lines      72279    73957    +1678     
  Branches    7025     7025              
=========================================
+ Hits       56877    58689    +1812     
+ Misses     15294    15029     -265     
- Partials     108      239     +131



Impacted Files
Coverage Δ





oio/container/client.py
85.39% <ø> (ø)
⬆️


oio/directory/indexer.py
73.39% <ø> (+2.42%)
⬆️


oio/cli/cluster/cluster.py
28.58% <0%> (ø)
⬆️


oio/account/backend.py
80.09% <100%> (-0.08%)
⬇️


tests/functional/account/test_backend.py
100% <100%> (ø)
⬆️


oio/common/green.py
85.72% <100%> (ø)
⬆️


tests/functional/account/test_server.py
97.96% <100%> (-0.02%)
⬇️


oio/common/easy_value.py
81.64% <100%> (+0.79%)
⬆️


tests/functional/event/filters/test_filters.py
98.32% <100%> (ø)
⬆️


oio/common/exceptions.py
91.98% <100%> (+0.16%)
⬆️


... and 100 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 493b14e...10c8226. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1964,2020-01-02T16:51:33Z,2020-01-06T14:15:35Z,2020-01-06T14:15:40Z,MERGED,True,39,3,2,https://github.com/fvennetier,Catch Redis errors,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1964,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1964,"SUMMARY
Implement a new decorator to catch Redis server errors (especially BusyLoadingError) and transform them into the more friendly ServiceBusy exception.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Account service

SDS VERSION
openio 4.8.2.dev12","SUMMARY
Implement a new decorator to catch Redis server errors (especially BusyLoadingError) and transform them into the more friendly ServiceBusy exception.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Account service

SDS VERSION
openio 4.8.2.dev12",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1964,2020-01-02T16:51:33Z,2020-01-06T14:15:35Z,2020-01-06T14:15:40Z,MERGED,True,39,3,2,https://github.com/fvennetier,Catch Redis errors,2,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1964,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1964#issuecomment-570290343,"SUMMARY
Implement a new decorator to catch Redis server errors (especially BusyLoadingError) and transform them into the more friendly ServiceBusy exception.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
Account service

SDS VERSION
openio 4.8.2.dev12","Codecov Report

Merging #1964 into 4.x will decrease coverage by 0.26%.
The diff coverage is 95.84%.


@@            Coverage Diff             @@
##              4.x    #1964      +/-   ##
==========================================
- Coverage   80.91%   80.65%   -0.25%     
==========================================
  Files         360      375      +15     
  Lines       69016    70517    +1501     
  Branches     7027     7027              
==========================================
+ Hits        55835    56867    +1032     
- Misses      13181    13528     +347     
- Partials        0      122     +122



Impacted Files
Coverage Δ





oio/account/backend.py
80.17% <100%> (+0.35%)
⬆️


oio/common/redis_conn.py
73.41% <90.91%> (+2.32%)
⬆️


meta2v2/meta2_filters_extract.c
91.87% <0%> (-1.62%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0%> (-1.33%)
⬇️


oio/api/io.py
89.01% <0%> (-0.86%)
⬇️


metautils/lib/gridd_client.c
75.5% <0%> (-0.49%)
⬇️


core/str.c
88.6% <0%> (-0.47%)
⬇️


metautils/lib/comm_message.c
84.8% <0%> (-0.25%)
⬇️


sqlx/sqlx_service.c
85.3% <0%> (-0.12%)
⬇️


tests/functional/api/test_objectstorage.py
97.35% <0%> (-0.09%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 22b4dea...ceba456. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1965,2020-01-06T16:30:30Z,2020-01-08T15:17:42Z,2020-01-13T09:02:11Z,MERGED,True,4,1,1,https://github.com/AymericDu,event-agent: Encode without whitespace when forwarding an event,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1965,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1965,"SUMMARY
Encode without whitespace when notifying event to make sure not to exceed the maximum size of the event (default: 65535).
Jira: OS-472
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.8.2.dev13","SUMMARY
Encode without whitespace when notifying event to make sure not to exceed the maximum size of the event (default: 65535).
Jira: OS-472
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.8.2.dev13",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1965,2020-01-06T16:30:30Z,2020-01-08T15:17:42Z,2020-01-13T09:02:11Z,MERGED,True,4,1,1,https://github.com/AymericDu,event-agent: Encode without whitespace when forwarding an event,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1965,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1965#issuecomment-572113560,"SUMMARY
Encode without whitespace when notifying event to make sure not to exceed the maximum size of the event (default: 65535).
Jira: OS-472
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

event-agent

SDS VERSION
openio 4.8.2.dev13","Codecov Report

Merging #1965 into 4.x will increase coverage by 3.16%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              4.x    #1965      +/-   ##
==========================================
+ Coverage   77.52%   80.68%   +3.16%     
==========================================
  Files         324      375      +51     
  Lines       64637    70517    +5880     
  Branches     6774     7027     +253     
==========================================
+ Hits        50103    56888    +6785     
+ Misses      14533    13507    -1026     
- Partials        1      122     +121



Impacted Files
Coverage Δ





oio/event/filters/notify.py
79.32% <100%> (ø)
⬆️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


tests/functional/audit/test_audit_storage.py
82.93% <0%> (-4.87%)
⬇️


meta1v2/meta1_server.c
69.92% <0%> (-1.62%)
⬇️


oio/event/beanstalk.py
63.69% <0%> (-0.58%)
⬇️


oio/api/io.py
88.8% <0%> (-0.21%)
⬇️


rdir/rdir.c
85.48% <0%> (-0.08%)
⬇️


core/proxy.c
82.24% <0%> (ø)
⬆️


oio/rdir/client.py
83.55% <0%> (ø)
⬆️


server/slab.h
100% <0%> (ø)
⬆️


... and 140 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e6d59e8...a7c88ed. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1966,2020-01-07T13:13:14Z,2020-01-17T15:14:06Z,2020-01-17T15:14:10Z,MERGED,True,36,0,2,https://github.com/AymericDu,xcute: Improve job information display,1,[],https://github.com/open-io/oio-sds/pull/1966,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1966,"SUMMARY
Improve job information display
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.5.dev124

ADDITIONAL INFORMATION
$ openio-admin xcute job show 20200107131129138805-7cd19983bb0
+--------------------------------+----------------------------------+
| Field                          | Value                            |
+--------------------------------+----------------------------------+
| config.params.end              | 10000                            |
| config.params.error_percentage | 0                                |
| config.params.start            | 0                                |
| config.tasks_batch_size        | 32                               |
| config.tasks_per_second        | 32                               |
| errors.total                   | 0                                |
| job.ctime                      | 1578402689.14                    |
| job.duration                   | 12.2709701061                    |
| job.id                         | 20200107131129138805-7cd19983bb0 |
| job.mtime                      | 1578402701.41                    |
| job.status                     | RUNNING                          |
| job.type                       | tester                           |
| results.counter                | 3346                             |
| tasks.processed                | 384                              |
| tasks.processed_per_second     | 31.2933693652                    |
| tasks.processed_percent        | 3.84                             |
| tasks.sent                     | 416                              |
| tasks.sent_percent             | 4.16                             |
| tasks.total                    | 10000 (estimated)                |
+--------------------------------+----------------------------------+
$ openio-admin xcute job show 20200107131129138805-7cd19983bb0 --raw
+--------------------------------+----------------------------------+
| Field                          | Value                            |
+--------------------------------+----------------------------------+
| config.params.end              | 10000                            |
| config.params.error_percentage | 0                                |
| config.params.start            | 0                                |
| config.tasks_batch_size        | 32                               |
| config.tasks_per_second        | 32                               |
| errors.total                   | 0                                |
| job.ctime                      | 1578402689.14                    |
| job.id                         | 20200107131129138805-7cd19983bb0 |
| job.mtime                      | 1578402704.41                    |
| job.request_pause              | False                            |
| job.status                     | RUNNING                          |
| job.type                       | tester                           |
| orchestrator.id                | orchestrator-1                   |
| results.counter                | 4210                             |
| tasks.all_sent                 | False                            |
| tasks.is_total_temp            | False                            |
| tasks.last_sent                | 511                              |
| tasks.processed                | 480                              |
| tasks.sent                     | 512                              |
| tasks.total                    | 10000                            |
| tasks.total_marker             | 9999                             |
+--------------------------------+----------------------------------+","SUMMARY
Improve job information display
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.5.dev124

ADDITIONAL INFORMATION
$ openio-admin xcute job show 20200107131129138805-7cd19983bb0
+--------------------------------+----------------------------------+
| Field                          | Value                            |
+--------------------------------+----------------------------------+
| config.params.end              | 10000                            |
| config.params.error_percentage | 0                                |
| config.params.start            | 0                                |
| config.tasks_batch_size        | 32                               |
| config.tasks_per_second        | 32                               |
| errors.total                   | 0                                |
| job.ctime                      | 1578402689.14                    |
| job.duration                   | 12.2709701061                    |
| job.id                         | 20200107131129138805-7cd19983bb0 |
| job.mtime                      | 1578402701.41                    |
| job.status                     | RUNNING                          |
| job.type                       | tester                           |
| results.counter                | 3346                             |
| tasks.processed                | 384                              |
| tasks.processed_per_second     | 31.2933693652                    |
| tasks.processed_percent        | 3.84                             |
| tasks.sent                     | 416                              |
| tasks.sent_percent             | 4.16                             |
| tasks.total                    | 10000 (estimated)                |
+--------------------------------+----------------------------------+
$ openio-admin xcute job show 20200107131129138805-7cd19983bb0 --raw
+--------------------------------+----------------------------------+
| Field                          | Value                            |
+--------------------------------+----------------------------------+
| config.params.end              | 10000                            |
| config.params.error_percentage | 0                                |
| config.params.start            | 0                                |
| config.tasks_batch_size        | 32                               |
| config.tasks_per_second        | 32                               |
| errors.total                   | 0                                |
| job.ctime                      | 1578402689.14                    |
| job.id                         | 20200107131129138805-7cd19983bb0 |
| job.mtime                      | 1578402704.41                    |
| job.request_pause              | False                            |
| job.status                     | RUNNING                          |
| job.type                       | tester                           |
| orchestrator.id                | orchestrator-1                   |
| results.counter                | 4210                             |
| tasks.all_sent                 | False                            |
| tasks.is_total_temp            | False                            |
| tasks.last_sent                | 511                              |
| tasks.processed                | 480                              |
| tasks.sent                     | 512                              |
| tasks.total                    | 10000                            |
| tasks.total_marker             | 9999                             |
+--------------------------------+----------------------------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1966,2020-01-07T13:13:14Z,2020-01-17T15:14:06Z,2020-01-17T15:14:10Z,MERGED,True,36,0,2,https://github.com/AymericDu,xcute: Improve job information display,1,[],https://github.com/open-io/oio-sds/pull/1966,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1966#issuecomment-571950565,"SUMMARY
Improve job information display
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.5.dev124

ADDITIONAL INFORMATION
$ openio-admin xcute job show 20200107131129138805-7cd19983bb0
+--------------------------------+----------------------------------+
| Field                          | Value                            |
+--------------------------------+----------------------------------+
| config.params.end              | 10000                            |
| config.params.error_percentage | 0                                |
| config.params.start            | 0                                |
| config.tasks_batch_size        | 32                               |
| config.tasks_per_second        | 32                               |
| errors.total                   | 0                                |
| job.ctime                      | 1578402689.14                    |
| job.duration                   | 12.2709701061                    |
| job.id                         | 20200107131129138805-7cd19983bb0 |
| job.mtime                      | 1578402701.41                    |
| job.status                     | RUNNING                          |
| job.type                       | tester                           |
| results.counter                | 3346                             |
| tasks.processed                | 384                              |
| tasks.processed_per_second     | 31.2933693652                    |
| tasks.processed_percent        | 3.84                             |
| tasks.sent                     | 416                              |
| tasks.sent_percent             | 4.16                             |
| tasks.total                    | 10000 (estimated)                |
+--------------------------------+----------------------------------+
$ openio-admin xcute job show 20200107131129138805-7cd19983bb0 --raw
+--------------------------------+----------------------------------+
| Field                          | Value                            |
+--------------------------------+----------------------------------+
| config.params.end              | 10000                            |
| config.params.error_percentage | 0                                |
| config.params.start            | 0                                |
| config.tasks_batch_size        | 32                               |
| config.tasks_per_second        | 32                               |
| errors.total                   | 0                                |
| job.ctime                      | 1578402689.14                    |
| job.id                         | 20200107131129138805-7cd19983bb0 |
| job.mtime                      | 1578402704.41                    |
| job.request_pause              | False                            |
| job.status                     | RUNNING                          |
| job.type                       | tester                           |
| orchestrator.id                | orchestrator-1                   |
| results.counter                | 4210                             |
| tasks.all_sent                 | False                            |
| tasks.is_total_temp            | False                            |
| tasks.last_sent                | 511                              |
| tasks.processed                | 480                              |
| tasks.sent                     | 512                              |
| tasks.total                    | 10000                            |
| tasks.total_marker             | 9999                             |
+--------------------------------+----------------------------------+","Codecov Report

Merging #1966 into 5.x will increase coverage by 0.62%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              5.x    #1966      +/-   ##
==========================================
+ Coverage   78.65%   79.27%   +0.62%     
==========================================
  Files         377      391      +14     
  Lines       72306    73957    +1651     
  Branches     7025     7025              
==========================================
+ Hits        56867    58619    +1752     
+ Misses      15330    15102     -228     
- Partials      109      236     +127



Impacted Files
Coverage Δ





oio/container/client.py
85.39% <0%> (-1.46%)
⬇️


oio/blob/auditor.py
58.29% <0%> (-1.14%)
⬇️


oio/api/base.py
89.11% <0%> (-0.99%)
⬇️


events/oio_events_queue_fanout.c
82.06% <0%> (-0.85%)
⬇️


oio/conscience/client.py
84% <0%> (-0.79%)
⬇️


oio/blob/client.py
90.91% <0%> (-0.64%)
⬇️


core/ext.c
96.22% <0%> (-0.54%)
⬇️


core/http_put.c
91.57% <0%> (-0.51%)
⬇️


core/cs.c
66.22% <0%> (-0.45%)
⬇️


...ests/functional/container/test_container_backup.py
78.56% <0%> (-0.43%)
⬇️


... and 85 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4b77118...b72a0aa. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1967,2020-01-08T14:38:23Z,2020-01-08T15:36:50Z,2020-01-13T09:02:08Z,MERGED,True,2,2,1,https://github.com/AymericDu,blob-mover: Fix usage check interval,2,[],https://github.com/open-io/oio-sds/pull/1967,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1967,"SUMMARY
Fix usage check interval.
After one hour (default), the check was performed for each chunk.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

blob-mover

SDS VERSION
openio 4.8.2.dev15","SUMMARY
Fix usage check interval.
After one hour (default), the check was performed for each chunk.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

blob-mover

SDS VERSION
openio 4.8.2.dev15",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1967,2020-01-08T14:38:23Z,2020-01-08T15:36:50Z,2020-01-13T09:02:08Z,MERGED,True,2,2,1,https://github.com/AymericDu,blob-mover: Fix usage check interval,2,[],https://github.com/open-io/oio-sds/pull/1967,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1967#issuecomment-572124084,"SUMMARY
Fix usage check interval.
After one hour (default), the check was performed for each chunk.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

blob-mover

SDS VERSION
openio 4.8.2.dev15","Codecov Report

Merging #1967 into 4.x will increase coverage by 3.08%.
The diff coverage is 0%.


@@            Coverage Diff             @@
##              4.x    #1967      +/-   ##
==========================================
+ Coverage   77.52%   80.59%   +3.08%     
==========================================
  Files         324      374      +50     
  Lines       64637    70513    +5876     
  Branches     6774     6809      +35     
==========================================
+ Hits        50103    56824    +6721     
+ Misses      14533    13566     -967     
- Partials        1      123     +122



Impacted Files
Coverage Δ





oio/blob/mover.py
46.71% <0%> (ø)
⬆️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


tests/functional/audit/test_audit_storage.py
84.56% <0%> (-3.25%)
⬇️


oio/crawler/storage_tierer.py
57.8% <0%> (-2.75%)
⬇️


oio/event/filters/notify.py
76.57% <0%> (-2.74%)
⬇️


proxy/metacd_http.c
89.78% <0%> (-1.1%)
⬇️


oio/api/object_storage.py
79.32% <0%> (-0.99%)
⬇️


oio/event/beanstalk.py
63.69% <0%> (-0.58%)
⬇️


proxy/cs_actions.c
90.17% <0%> (-0.33%)
⬇️


rdir/rdir.c
85.48% <0%> (-0.08%)
⬇️


... and 141 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e6d59e8...80dd005. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1968,2020-01-10T10:52:50Z,2020-01-20T15:03:48Z,2020-01-21T13:19:30Z,MERGED,True,15,14,1,https://github.com/AymericDu,xcute: Keep the estimated total number of tasks in Redis,1,[],https://github.com/open-io/oio-sds/pull/1968,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1968,"SUMMARY
Keep estimated total in Redis.
ISSUE TYPE

Improvement Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.5.dev134","SUMMARY
Keep estimated total in Redis.
ISSUE TYPE

Improvement Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.5.dev134",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1968,2020-01-10T10:52:50Z,2020-01-20T15:03:48Z,2020-01-21T13:19:30Z,MERGED,True,15,14,1,https://github.com/AymericDu,xcute: Keep the estimated total number of tasks in Redis,1,[],https://github.com/open-io/oio-sds/pull/1968,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1968#issuecomment-574082689,"SUMMARY
Keep estimated total in Redis.
ISSUE TYPE

Improvement Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.5.dev134","Codecov Report

Merging #1968 into xcute will decrease coverage by 22.24%.
The diff coverage is 50%.


@@             Coverage Diff             @@
##            xcute    #1968       +/-   ##
===========================================
- Coverage   78.76%   56.53%   -22.23%     
===========================================
  Files         377      247      -130     
  Lines       72306    52853    -19453     
  Branches     7025     6871      -154     
===========================================
- Hits        56947    29873    -27074     
- Misses      15250    22578     +7328     
- Partials      109      402      +293



Impacted Files
Coverage Δ





oio/container/client.py
58.78% <ø> (-26.6%)
⬇️


oio/blob/client.py
31.17% <0%> (-59.74%)
⬇️


oio/common/green.py
77.32% <100%> (-8.4%)
⬇️


oio/event/evob.py
69.85% <100%> (-3.17%)
⬇️


oio/common/easy_value.py
46.94% <33.34%> (-34.69%)
⬇️


oio/common/exceptions.py
86.42% <66.67%> (-5.55%)
⬇️


meta1v2/meta1_backend_properties.c
0% <0%> (-87.76%)
⬇️


sqliterepo/restoration.c
0% <0%> (-84%)
⬇️


metautils/lib/storage_policy.h
11.12% <0%> (-83.33%)
⬇️


core/http_put.c
8.44% <0%> (-83.12%)
⬇️


... and 256 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a03f921...db94856. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1969,2020-01-10T11:02:01Z,2020-01-17T15:14:25Z,2020-01-17T15:14:37Z,MERGED,True,74,6,2,https://github.com/AymericDu,xcute: Allow to partially decommission a rawx,1,[],https://github.com/open-io/oio-sds/pull/1969,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1969,"SUMMARY
Allow to partially decommission a rawx
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.5.dev134","SUMMARY
Allow to partially decommission a rawx
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.5.dev134",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1969,2020-01-10T11:02:01Z,2020-01-17T15:14:25Z,2020-01-17T15:14:37Z,MERGED,True,74,6,2,https://github.com/AymericDu,xcute: Allow to partially decommission a rawx,1,[],https://github.com/open-io/oio-sds/pull/1969,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1969#issuecomment-574074804,"SUMMARY
Allow to partially decommission a rawx
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.2.5.dev134","Codecov Report

Merging #1969 into 5.x will increase coverage by 0.6%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##              5.x    #1969     +/-   ##
=========================================
+ Coverage   78.65%   79.25%   +0.6%     
=========================================
  Files         377      391     +14     
  Lines       72306    73957   +1651     
  Branches     7025     7025             
=========================================
+ Hits        56867    58607   +1740     
+ Misses      15330    15111    -219     
- Partials      109      239    +130



Impacted Files
Coverage Δ





meta2v2/meta2_filters_check.c
76.12% <0%> (-2.98%)
⬇️


oio/common/http_urllib3.py
85% <0%> (-2.5%)
⬇️


oio/container/client.py
85.39% <0%> (-1.46%)
⬇️


oio/blob/auditor.py
58.29% <0%> (-1.14%)
⬇️


events/oio_events_queue_fanout.c
82.06% <0%> (-0.85%)
⬇️


oio/conscience/client.py
84% <0%> (-0.79%)
⬇️


oio/common/storage_functions.py
91.1% <0%> (-0.68%)
⬇️


oio/blob/client.py
90.91% <0%> (-0.64%)
⬇️


core/cs.c
66.22% <0%> (-0.45%)
⬇️


rawx-apache2/src/rawx_repository.c
57.46% <0%> (-0.39%)
⬇️


... and 82 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4b77118...a52d042. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1970,2020-01-13T08:52:37Z,2020-01-13T12:47:39Z,2020-01-13T15:52:43Z,MERGED,True,1,1,1,https://github.com/AymericDu,Prevent from installing cliff 2.18.0,1,[],https://github.com/open-io/oio-sds/pull/1970,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1970,"SUMMARY
Prevent from installing cliff 2.18.0.
When we use the interactive mode, the exit code is always 1.
$ openio; echo $?
(openio) quit
1

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python requirements

SDS VERSION
openio 4.8.2.dev18","SUMMARY
Prevent from installing cliff 2.18.0.
When we use the interactive mode, the exit code is always 1.
$ openio; echo $?
(openio) quit
1

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python requirements

SDS VERSION
openio 4.8.2.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1970,2020-01-13T08:52:37Z,2020-01-13T12:47:39Z,2020-01-13T15:52:43Z,MERGED,True,1,1,1,https://github.com/AymericDu,Prevent from installing cliff 2.18.0,1,[],https://github.com/open-io/oio-sds/pull/1970,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1970#issuecomment-573608487,"SUMMARY
Prevent from installing cliff 2.18.0.
When we use the interactive mode, the exit code is always 1.
$ openio; echo $?
(openio) quit
1

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python requirements

SDS VERSION
openio 4.8.2.dev18","Codecov Report

Merging #1970 into 4.x will increase coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              4.x    #1970      +/-   ##
==========================================
+ Coverage   80.47%   80.47%   +0.01%     
==========================================
  Files         375      375              
  Lines       70517    70515       -2     
  Branches     7027     7023       -4     
==========================================
  Hits        56739    56739              
+ Misses      13656    13533     -123     
- Partials      122      243     +121



Impacted Files
Coverage Δ





sqlx/sqlx_client_local.c
70.23% <0%> (-12.97%)
⬇️


events/oio_events_queue_zmq.c
54.67% <0%> (-11.44%)
⬇️


cache/cache_multilayer.c
57.45% <0%> (-8.51%)
⬇️


tests/unit/test_url.c
91.76% <0%> (-5.15%)
⬇️


tests/unit/test_events_beanstalkd.c
92.75% <0%> (-4.83%)
⬇️


cache/cache_lru.c
80.96% <0%> (-4.76%)
⬇️


tests/common/test_cache_abstract.c
54.17% <0%> (-4.16%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


events/oio_events_queue_beanstalkd.c
79.36% <0%> (-3.64%)
⬇️


tests/functional/container/test_replication.py
78.32% <0%> (-3.61%)
⬇️


... and 57 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5c7d9c7...e6d09e7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1972,2020-01-16T10:33:35Z,2020-01-17T08:50:57Z,2020-01-17T08:51:01Z,MERGED,True,32,5,2,https://github.com/fvennetier,CLI: check peer count before actually rebalancing meta1,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1972,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1972,"SUMMARY
During a rebalance operation, check each reference prefix is managed by the right number of meta1 services.
Also implement a new 'openio directory check' command, checking each reference prefix is managed by the right number of meta1 services. This complements 'openio-admin directory check' (which does not check this number).
Jira: OS-470
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.3.0.dev3

ADDITIONAL INFORMATION","SUMMARY
During a rebalance operation, check each reference prefix is managed by the right number of meta1 services.
Also implement a new 'openio directory check' command, checking each reference prefix is managed by the right number of meta1 services. This complements 'openio-admin directory check' (which does not check this number).
Jira: OS-470
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.3.0.dev3

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1972,2020-01-16T10:33:35Z,2020-01-17T08:50:57Z,2020-01-17T08:51:01Z,MERGED,True,32,5,2,https://github.com/fvennetier,CLI: check peer count before actually rebalancing meta1,1,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/1972,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1972#issuecomment-575221727,"SUMMARY
During a rebalance operation, check each reference prefix is managed by the right number of meta1 services.
Also implement a new 'openio directory check' command, checking each reference prefix is managed by the right number of meta1 services. This complements 'openio-admin directory check' (which does not check this number).
Jira: OS-470
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.3.0.dev3

ADDITIONAL INFORMATION","Codecov Report

Merging #1972 into 5.x will decrease coverage by 0.05%.
The diff coverage is n/a.


@@            Coverage Diff            @@
##             5.x    #1972      +/-   ##
=========================================
- Coverage   78.7%   78.65%   -0.04%     
=========================================
  Files        377      377              
  Lines      72279    72279              
  Branches    7025     7022       -3     
=========================================
- Hits       56877    56841      -36     
- Misses     15294    15327      +33     
- Partials     108      111       +3



Impacted Files
Coverage Δ





tests/functional/cli/admin/test_service_decache.py
66.67% <0%> (-16.66%)
⬇️


oio/directory/admin.py
47.52% <0%> (-7.09%)
⬇️


tests/functional/event/filters/test_filters.py
94.52% <0%> (-3.79%)
⬇️


oio/common/wsgi.py
43.21% <0%> (-3.7%)
⬇️


tests/functional/audit/test_audit_storage.py
80.49% <0%> (-3.25%)
⬇️


metautils/lib/rrd.c
74.36% <0%> (-2.56%)
⬇️


tests/functional/api/test_rdir.py
96.05% <0%> (-2.51%)
⬇️


rdir/routes.c.rl
93.19% <0%> (-2.27%)
⬇️


metautils/lib/utils_hashstr.c
81.49% <0%> (-1.85%)
⬇️


meta2v2/meta2_filters_check.c
77.62% <0%> (-1.49%)
⬇️


... and 26 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 493b14e...c1e7b0a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1973,2020-01-16T17:06:14Z,2020-01-17T08:51:45Z,2020-01-17T08:53:58Z,MERGED,True,1,1,1,https://github.com/AymericDu,Python API: Fix a typo,1,[],https://github.com/open-io/oio-sds/pull/1973,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1973,"SUMMARY
Fix a typo
ISSUE TYPE

Typo Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.2.5.dev1","SUMMARY
Fix a typo
ISSUE TYPE

Typo Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.2.5.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1974,2020-01-16T17:09:18Z,2020-01-23T08:56:38Z,2020-02-12T13:56:49Z,MERGED,True,29,18,4,https://github.com/AymericDu,rawx: Improve missing xattr error messages,2,[],https://github.com/open-io/oio-sds/pull/1974,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1974,"SUMMARY
Improve missing xattr error messages
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 6.0.2.dev1","SUMMARY
Improve missing xattr error messages
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 6.0.2.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1974,2020-01-16T17:09:18Z,2020-01-23T08:56:38Z,2020-02-12T13:56:49Z,MERGED,True,29,18,4,https://github.com/AymericDu,rawx: Improve missing xattr error messages,2,[],https://github.com/open-io/oio-sds/pull/1974,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1974#issuecomment-576783603,"SUMMARY
Improve missing xattr error messages
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 6.0.2.dev1","Codecov Report

Merging #1974 into 6.0.x will increase coverage by 12.1%.
The diff coverage is 77.28%.


@@            Coverage Diff             @@
##            6.0.x    #1974      +/-   ##
==========================================
+ Coverage   66.25%   78.34%   +12.1%     
==========================================
  Files         297      375      +78     
  Lines       57201    72125   +14924     
  Branches     6537     6537              
==========================================
+ Hits        37890    56499   +18609     
+ Misses      18994    15413    -3581     
+ Partials      317      213     -104



Impacted Files
Coverage Δ





tests/functional/api/test_directory.py
99.11% <ø> (ø)



tests/functional/blob/test_blob.py
99.5% <100%> (ø)



rawx/handler_chunk.go
72.83% <50%> (+15.95%)
⬆️


rawx/chunk_info.go
82.8% <78.95%> (+23.39%)
⬆️


oio/crawler/storage_tierer.py
57.8% <0%> (ø)



tests/functional/blob/__init__.py
96.43% <0%> (ø)



oio/cli/cluster/cluster.py
29.4% <0%> (ø)



oio/common/daemon.py
34.05% <0%> (ø)



tests/functional/event/filters/test_filters.py
98.32% <0%> (ø)



oio/directory/meta2.py
69.77% <0%> (ø)



... and 212 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update cad2fac...1c7dbb0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1975,2020-01-20T09:12:02Z,2020-02-03T14:34:56Z,2020-02-03T14:34:56Z,MERGED,True,148,16,6,https://github.com/loamhoof,xcute: locks feature,3,[],https://github.com/open-io/oio-sds/pull/1975,https://github.com/loamhoof,1,https://github.com/open-io/oio-sds/pull/1975,"SUMMARY
Add a lock system to xcute to avoid collisions between jobs.
Each job type defines its lock based on its parameters. The lock is taken when the job is created, and released when it finishes or fails.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
xcute
ADDITIONAL INFORMATION
Results of the CLI commands:
(venv) openio@f12651ea56b2:/tmp/src/oio-sds$ openio-admin xcute lock list
+------+----------------------------------+
| Lock | Job ID                           |
+------+----------------------------------+
| a    | 20200120074545861743-802a3d50197 |
| aa   | 20200120074838579195-f4d429568d3 |
| abb  | 20200120074937560447-51af50063c5 |
| b    | 20200120074547476397-d5c7e58d0af |
+------+----------------------------------+
(venv) openio@f12651ea56b2:/tmp/src/oio-sds$ openio-admin xcute lock show abb
+--------+----------------------------------+
| Field  | Value                            |
+--------+----------------------------------+
| lock   | abb                              |
| job_id | 20200120074937560447-51af50063c5 |
+--------+----------------------------------+

Error message when trying to create a job which lock is already taken:
jcurl -s localhost:8002/v1.0/xcute/job/create\?type=tester -d '{""tasks_per_second"": 1, ""params"": {""end"": 100, ""lock
"": ""aab""}}'
A job with the same lock (aab) is already in progress","SUMMARY
Add a lock system to xcute to avoid collisions between jobs.
Each job type defines its lock based on its parameters. The lock is taken when the job is created, and released when it finishes or fails.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
xcute
ADDITIONAL INFORMATION
Results of the CLI commands:
(venv) openio@f12651ea56b2:/tmp/src/oio-sds$ openio-admin xcute lock list
+------+----------------------------------+
| Lock | Job ID                           |
+------+----------------------------------+
| a    | 20200120074545861743-802a3d50197 |
| aa   | 20200120074838579195-f4d429568d3 |
| abb  | 20200120074937560447-51af50063c5 |
| b    | 20200120074547476397-d5c7e58d0af |
+------+----------------------------------+
(venv) openio@f12651ea56b2:/tmp/src/oio-sds$ openio-admin xcute lock show abb
+--------+----------------------------------+
| Field  | Value                            |
+--------+----------------------------------+
| lock   | abb                              |
| job_id | 20200120074937560447-51af50063c5 |
+--------+----------------------------------+

Error message when trying to create a job which lock is already taken:
jcurl -s localhost:8002/v1.0/xcute/job/create\?type=tester -d '{""tasks_per_second"": 1, ""params"": {""end"": 100, ""lock
"": ""aab""}}'
A job with the same lock (aab) is already in progress",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1975,2020-01-20T09:12:02Z,2020-02-03T14:34:56Z,2020-02-03T14:34:56Z,MERGED,True,148,16,6,https://github.com/loamhoof,xcute: locks feature,3,[],https://github.com/open-io/oio-sds/pull/1975,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1975#issuecomment-580646207,"SUMMARY
Add a lock system to xcute to avoid collisions between jobs.
Each job type defines its lock based on its parameters. The lock is taken when the job is created, and released when it finishes or fails.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
xcute
ADDITIONAL INFORMATION
Results of the CLI commands:
(venv) openio@f12651ea56b2:/tmp/src/oio-sds$ openio-admin xcute lock list
+------+----------------------------------+
| Lock | Job ID                           |
+------+----------------------------------+
| a    | 20200120074545861743-802a3d50197 |
| aa   | 20200120074838579195-f4d429568d3 |
| abb  | 20200120074937560447-51af50063c5 |
| b    | 20200120074547476397-d5c7e58d0af |
+------+----------------------------------+
(venv) openio@f12651ea56b2:/tmp/src/oio-sds$ openio-admin xcute lock show abb
+--------+----------------------------------+
| Field  | Value                            |
+--------+----------------------------------+
| lock   | abb                              |
| job_id | 20200120074937560447-51af50063c5 |
+--------+----------------------------------+

Error message when trying to create a job which lock is already taken:
jcurl -s localhost:8002/v1.0/xcute/job/create\?type=tester -d '{""tasks_per_second"": 1, ""params"": {""end"": 100, ""lock
"": ""aab""}}'
A job with the same lock (aab) is already in progress","Codecov Report

Merging #1975 into 5.x will decrease coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              5.x    #1975      +/-   ##
==========================================
- Coverage   79.28%   79.27%   -<.01%     
==========================================
  Files         391      391              
  Lines       73957    74212     +255     
  Branches     7025     7114      +89     
==========================================
+ Hits        58627    58822     +195     
- Misses      15091    15151      +60     
  Partials      239      239



Impacted Files
Coverage Δ





tests/functional/audit/test_audit_storage.py
83.74% <0%> (-4.06%)
⬇️


tests/functional/container/test_replication.py
79.32% <0%> (-2.29%)
⬇️


oio/crawler/integrity.py
68.47% <0%> (-2.27%)
⬇️


tests/functional/cli/admin/test_service_decache.py
83.34% <0%> (-2.08%)
⬇️


oio/container/backup.py
73.23% <0%> (-1.36%)
⬇️


server/slab.c
83.77% <0%> (-1.29%)
⬇️


meta2v2/meta2_filters_action_container.c
62.33% <0%> (-1.02%)
⬇️


tests/functional/api/test_rdir.py
97.13% <0%> (-0.71%)
⬇️


oio/blob/client.py
90.91% <0%> (-0.64%)
⬇️


sqliterepo/election.c
89.8% <0%> (-0.62%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 1597288...df1d36b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1976,2020-01-22T10:30:56Z,2020-01-23T08:57:06Z,2020-02-12T13:54:21Z,MERGED,True,4,2,1,https://github.com/AymericDu,Improve error message when policy is not satisfiable,1,[],https://github.com/open-io/oio-sds/pull/1976,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1976,"SUMMARY
Improve error message when policy is not satisfiable.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

LB

SDS VERSION
openio 4.8.3.dev2","SUMMARY
Improve error message when policy is not satisfiable.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

LB

SDS VERSION
openio 4.8.3.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1977,2020-01-24T15:06:20Z,2020-02-11T07:39:41Z,2020-02-11T07:39:41Z,MERGED,True,15,22,5,https://github.com/martinetd,Pass options for `ca_certs` and `cert_reqs`,4,[],https://github.com/open-io/oio-sds/pull/1977,https://github.com/martinetd,1,https://github.com/open-io/oio-sds/pull/1977,"SUMMARY
urllib3 request pool does not validate server certificate by default for https connections until version 1.25 (at which point we would want to specify ca_certs anyway)
This just allows infrastructure to pass the option through and add ca_certs and cert_reqs to parameter whitelist.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
common?
ADDITIONAL INFORMATION
This builds on top of #1948, so should only be merged after that.
There is no way to do https without anyway so it won't be missed :)
(also note I didn't test the api/base part as gateway swift only uses ClientManager, but figured I might as well try that..)","SUMMARY
urllib3 request pool does not validate server certificate by default for https connections until version 1.25 (at which point we would want to specify ca_certs anyway)
This just allows infrastructure to pass the option through and add ca_certs and cert_reqs to parameter whitelist.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
common?
ADDITIONAL INFORMATION
This builds on top of #1948, so should only be merged after that.
There is no way to do https without anyway so it won't be missed :)
(also note I didn't test the api/base part as gateway swift only uses ClientManager, but figured I might as well try that..)",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1977,2020-01-24T15:06:20Z,2020-02-11T07:39:41Z,2020-02-11T07:39:41Z,MERGED,True,15,22,5,https://github.com/martinetd,Pass options for `ca_certs` and `cert_reqs`,4,[],https://github.com/open-io/oio-sds/pull/1977,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1977#issuecomment-580307656,"SUMMARY
urllib3 request pool does not validate server certificate by default for https connections until version 1.25 (at which point we would want to specify ca_certs anyway)
This just allows infrastructure to pass the option through and add ca_certs and cert_reqs to parameter whitelist.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
common?
ADDITIONAL INFORMATION
This builds on top of #1948, so should only be merged after that.
There is no way to do https without anyway so it won't be missed :)
(also note I didn't test the api/base part as gateway swift only uses ClientManager, but figured I might as well try that..)","Codecov Report

Merging #1977 into master will increase coverage by 22.45%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master   #1977       +/-   ##
==========================================
+ Coverage   77.56%    100%   +22.45%     
==========================================
  Files         375       1      -374     
  Lines       72188      12    -72176     
  Branches     6537       0     -6537     
==========================================
- Hits        55986      12    -55974     
+ Misses      15983       0    -15983     
+ Partials      219       0      -219



Impacted Files
Coverage Δ





oio/cli/account/client.py




metautils/lib/utils_addr_info.c




cache/cache.c




tests/functional/account/test_client.py




core/cfg.c




oio/crawler/integrity.py




events/oio_events_queue_buffer.c




oio/cli/admin/service_check.py




tests/unit/api/test_ec.py




meta2v2/meta2_backend.c




... and 359 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e6b0e9d...fc52696. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1978,2020-01-24T16:39:16Z,2020-01-27T10:18:19Z,2020-01-27T10:27:06Z,MERGED,True,9,7,2,https://github.com/fvennetier,rawx: fix behavior when chunk size attr is missing,1,"['bug :scream:', 'language:python :snake:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1978,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1978,"SUMMARY
When the chunk size extended attribute was missing, the rawx service used to fail while trying to parse an integer from an empty string (Failed to load xattr: strconv.ParseInt: parsing """": invalid syntax). Now, when the attribute is missing, it won't try the integer conversion, and simply return the expected code 412.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
6.1.0.0a0-29-gf0b4a00d","SUMMARY
When the chunk size extended attribute was missing, the rawx service used to fail while trying to parse an integer from an empty string (Failed to load xattr: strconv.ParseInt: parsing """": invalid syntax). Now, when the attribute is missing, it won't try the integer conversion, and simply return the expected code 412.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
6.1.0.0a0-29-gf0b4a00d",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1978,2020-01-24T16:39:16Z,2020-01-27T10:18:19Z,2020-01-27T10:27:06Z,MERGED,True,9,7,2,https://github.com/fvennetier,rawx: fix behavior when chunk size attr is missing,1,"['bug :scream:', 'language:python :snake:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1978,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1978#issuecomment-578226468,"SUMMARY
When the chunk size extended attribute was missing, the rawx service used to fail while trying to parse an integer from an empty string (Failed to load xattr: strconv.ParseInt: parsing """": invalid syntax). Now, when the attribute is missing, it won't try the integer conversion, and simply return the expected code 412.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
6.1.0.0a0-29-gf0b4a00d","Codecov Report

Merging #1978 into master will increase coverage by 11.24%.
The diff coverage is 66.67%.


@@             Coverage Diff             @@
##           master    #1978       +/-   ##
===========================================
+ Coverage   66.25%   77.49%   +11.24%     
===========================================
  Files         297      375       +78     
  Lines       57253    75008    +17755     
  Branches     6537     6537               
===========================================
+ Hits        37930    58123    +20193     
+ Misses      19004    16672     -2332     
+ Partials      319      213      -106



Impacted Files
Coverage Δ





tests/functional/blob/test_blob.py
99.5% <100%> (ø)



rawx/chunk_info.go
82.46% <50%> (+24.36%)
⬆️


oio/cli/lifecycle/client.py
34.38% <0%> (-65.62%)
⬇️


oio/cli/rdir/client.py
35.42% <0%> (-64.58%)
⬇️


oio/cli/zk/client.py
24.02% <0%> (-55.98%)
⬇️


oio/cli/events/client.py
31.15% <0%> (-40.28%)
⬇️


oio/cli/container/client.py
47.37% <0%> (-24.06%)
⬇️


oio/cli/election/client.py
83.34% <0%> (-16.66%)
⬇️


oio/cli/cluster/client.py
58.86% <0%> (-12.57%)
⬇️


meta1v2/meta1_server.c
69.68% <0%> (-1.63%)
⬇️


... and 228 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5a54af6...f0b4a00. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1979,2020-01-27T12:56:46Z,2020-01-27T17:29:27Z,2020-01-27T17:29:32Z,MERGED,True,7,6,2,https://github.com/fvennetier,rawx: fix behavior when chunk size attr is missing (again),1,"['bug :scream:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/1979,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1979,"SUMMARY
Use another approach to fix the problem described in #1978.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 6.1.0.0a0-30","SUMMARY
Use another approach to fix the problem described in #1978.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 6.1.0.0a0-30",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1980,2020-01-27T14:12:35Z,2021-01-21T08:48:01Z,2021-01-21T08:48:07Z,MERGED,True,20,6,1,https://github.com/fvennetier,Export rdir statistics to the Prometheus format,1,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1980,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1980,"SUMMARY
Allow Prometheus to gather statistics directly from applications.
Jira: OB-487
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

rdir

SDS VERSION
openio 6.1.0.0a0

ADDITIONAL INFORMATION
None.","SUMMARY
Allow Prometheus to gather statistics directly from applications.
Jira: OB-487
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

rdir

SDS VERSION
openio 6.1.0.0a0

ADDITIONAL INFORMATION
None.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1981,2020-01-29T06:56:18Z,2020-01-31T10:34:08Z,2020-01-31T10:34:08Z,MERGED,True,9,7,1,https://github.com/loamhoof,Xcute: fix the orchestrator using all the beanstalkd,1,[],https://github.com/open-io/oio-sds/pull/1981,https://github.com/loamhoof,1,https://github.com/open-io/oio-sds/pull/1981,"SUMMARY
The xcute orchestrator is currently using all the beanstalkd available, instead of only using the ones with the oio-xcute tube. This can lead to tasks that will never be treated and hence never-ending jobs.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
xcute","SUMMARY
The xcute orchestrator is currently using all the beanstalkd available, instead of only using the ones with the oio-xcute tube. This can lead to tasks that will never be treated and hence never-ending jobs.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
xcute",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1981,2020-01-29T06:56:18Z,2020-01-31T10:34:08Z,2020-01-31T10:34:08Z,MERGED,True,9,7,1,https://github.com/loamhoof,Xcute: fix the orchestrator using all the beanstalkd,1,[],https://github.com/open-io/oio-sds/pull/1981,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1981#issuecomment-580059180,"SUMMARY
The xcute orchestrator is currently using all the beanstalkd available, instead of only using the ones with the oio-xcute tube. This can lead to tasks that will never be treated and hence never-ending jobs.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
xcute","Codecov Report

Merging #1981 into 5.x will increase coverage by 3.63%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              5.x    #1981      +/-   ##
==========================================
+ Coverage   75.59%   79.21%   +3.63%     
==========================================
  Files         366      391      +25     
  Lines       72177    73958    +1781     
  Branches     7025     7025              
==========================================
+ Hits        54554    58580    +4026     
+ Misses      17420    15139    -2281     
- Partials      203      239      +36



Impacted Files
Coverage Δ





...sts/functional/content/test_content_perfectible.py
84% <0%> (-0.66%)
⬇️


oio/container/backup.py
74.29% <0%> (-0.6%)
⬇️


tests/functional/account/test_client.py
51.58% <0%> (ø)
⬆️


tests/func/test_weird_chars.c
91.03% <0%> (ø)
⬆️


oio/ecd/app.py
66.48% <0%> (ø)
⬆️


sqlx/sqlx_client_direct.c
74.76% <0%> (ø)
⬆️


tests/func/test_dir.c
100% <0%> (ø)
⬆️


oio/cli/object/client.py
100% <0%> (ø)
⬆️


tests/func/test_cs.c
100% <0%> (ø)
⬆️


tests/functional/event/test_webhook.py
98.56% <0%> (ø)
⬆️


... and 262 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update a7ff021...8e6c6f7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1983,2020-01-30T15:30:38Z,2020-02-11T14:12:03Z,2020-02-11T14:12:08Z,MERGED,True,27,0,1,https://github.com/fvennetier,Define oio-sds merge strategy,1,"['enhancement :sparkles:', 'documentation :book:']",https://github.com/open-io/oio-sds/pull/1983,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1983,"SUMMARY
Define oio-sds merge strategy, give tips about creating a pull request.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

None

SDS VERSION
master","SUMMARY
Define oio-sds merge strategy, give tips about creating a pull request.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

None

SDS VERSION
master",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1984,2020-01-30T17:00:11Z,2020-02-11T09:51:05Z,2020-02-12T13:54:19Z,MERGED,True,28,12,3,https://github.com/AymericDu,Limit size of lists,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1984,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1984,"SUMMARY
Limit size of lists:

Python doesn't release the memory when we delete a large object
The service doesn't stay blocked for too long

Jira: OS-485
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account
proxy
rdir

SDS VERSION
openio 4.8.3.dev5","SUMMARY
Limit size of lists:

Python doesn't release the memory when we delete a large object
The service doesn't stay blocked for too long

Jira: OS-485
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account
proxy
rdir

SDS VERSION
openio 4.8.3.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1984,2020-01-30T17:00:11Z,2020-02-11T09:51:05Z,2020-02-12T13:54:19Z,MERGED,True,28,12,3,https://github.com/AymericDu,Limit size of lists,3,['enhancement :sparkles:'],https://github.com/open-io/oio-sds/pull/1984,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1984#issuecomment-580374431,"SUMMARY
Limit size of lists:

Python doesn't release the memory when we delete a large object
The service doesn't stay blocked for too long

Jira: OS-485
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account
proxy
rdir

SDS VERSION
openio 4.8.3.dev5","Codecov Report

Merging #1984 into 4.x will increase coverage by 0.26%.
The diff coverage is 94.12%.


@@            Coverage Diff             @@
##              4.x    #1984      +/-   ##
==========================================
+ Coverage   80.64%   80.89%   +0.26%     
==========================================
  Files         375      375              
  Lines       70518    73548    +3030     
  Branches     7024     7156     +132     
==========================================
+ Hits        56860    59491    +2631     
- Misses      13536    13935     +399     
  Partials      122      122



Impacted Files
Coverage Δ





oio/account/server.py
90.48% <100%> (+0.4%)
⬆️


rdir/rdir.c
85.51% <100%> (+0.04%)
⬆️


proxy/m2_actions.c
89.11% <75%> (ø)
⬆️


events/oio_events_queue_fanout.c
0% <0%> (-91.42%)
⬇️


tests/functional/m2_filters/test_filters.py
45.46% <0%> (-51.51%)
⬇️


tests/unit/test_lrutree.c
100% <0%> (ø)
⬆️


events/oio_events_queue.c
64.64% <0%> (-24.39%)
⬇️


meta2v2/meta2_filters_check.c
60.66% <0%> (-14.75%)
⬇️


tests/unit/test_sqliterepo_repo.c
100% <0%> (ø)
⬆️


resolver/hc_resolver.c
78.89% <0%> (-13.66%)
⬇️


... and 86 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e0ad996...87e39e2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1985,2020-01-31T03:04:08Z,2020-03-06T14:46:33Z,2020-03-06T14:46:33Z,MERGED,True,409,91,10,https://github.com/loamhoof,xcute: Meta2 decommissionner + rebuilder,6,[],https://github.com/open-io/oio-sds/pull/1985,https://github.com/loamhoof,1,https://github.com/open-io/oio-sds/pull/1985,"SUMMARY
Add meta2 decommissioning & rebuilding xcute jobs.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
xcute
ADDITIONAL INFORMATION
(venv) [root@ns3118434 xcute]# openio container locate test_container                                                                                                           
+-----------------+--------------------------------------------------------------------+                                                                                        
| Field           | Value                                                              |                                                                                        
+-----------------+--------------------------------------------------------------------+                                                                                        
| account         | AUTH_b96007684f9b4873bb75f592dcc86319                              |                                                                                        
| base_name       | 5D3910F290578935712ACD555286BB0945D7FBFE2BE5B73BA3AF9561A45C4EAF.1 |                                                                                        
| meta0           | 172.16.0.4:6001, 172.16.0.5:6001, 172.16.0.6:6001                  |                                                                                        
| meta1           | 172.16.0.4:6110, 172.16.0.5:6110, 172.16.0.6:6110                  |                                                                                        
| meta2           | 172.16.0.6:6121, 172.16.0.5:6121, 172.16.0.4:6120                  |                                                                                        
| meta2.sys.peers | 172.16.0.4:6120, 172.16.0.5:6121, 172.16.0.6:6121                  |                                                                                        
| name            | test_container                                                     |                                                                                        
| status          | Enabled                                                            |                                                                                        
+-----------------+--------------------------------------------------------------------+                                                                                        
(venv) [root@ns3118434 xcute]# openio-admin xcute meta2 decommission 172.16.0.6:6121                                                                                            
+--------------------------+----------------------------------+                                                                                                                 
| Field                    | Value                            |                                                                                                                 
+--------------------------+----------------------------------+                                                                                                                 
| config.params.account    | None                             |                                                                                                                 
| config.params.containers | None                             |                                                                                                                 
| config.params.dst        | None                             |                         
| config.params.is_cid     | False                            |                         
| config.params.service_id | 172.16.0.6:6121                  |                         
| config.tasks_batch_size  | 32                               |                         
| config.tasks_per_second  | 32                               |                         
| errors.total             | 0                                |                         
| job.ctime                | 1580439706.45                    |                         
| job.id                   | 20200131030146450214-a796b931a73 |                         
| job.mtime                | 1580439706.45                    |                         
| job.request_pause        | False                            |                         
| job.status               | WAITING                          |                         
| job.type                 | container-move                   |                         
| tasks.all_sent           | False                            |                         
| tasks.is_total_temp      | True                             |                         
| tasks.last_sent          | None                             |                         
| tasks.processed          | 0                                |                         
| tasks.sent               | 0                                |                         
| tasks.total              | 0                                |                         
| tasks.total_marker       | None                             |                         
+--------------------------+----------------------------------+                         
(venv) [root@ns3118434 xcute]# openio-admin xcute meta2 rebuild 172.16.0.6:6121          
+--------------------------------+----------------------------------+
| Field                          | Value                            |
+--------------------------------+----------------------------------+
| config.params.rdir_fetch_limit | 1000                             |
| config.params.service_id       | 172.16.0.6:6121                  |
| config.tasks_batch_size        | 32                               |
| config.tasks_per_second        | 32                               |
| errors.total                   | 0                                |
| job.ctime                      | 1580439797.27                    |
| job.id                         | 20200131030317272851-c53a0bc248f |
| job.mtime                      | 1580439797.27                    |
| job.request_pause              | False                            |
| job.status                     | WAITING                          |
| job.type                       | meta2-rebuild                    |
| tasks.all_sent                 | False                            |
| tasks.is_total_temp            | True                             |
| tasks.last_sent                | None                             |
| tasks.processed                | 0                                |
| tasks.sent                     | 0                                |
| tasks.total                    | 0                                |
| tasks.total_marker             | None                             |
+--------------------------------+----------------------------------+","SUMMARY
Add meta2 decommissioning & rebuilding xcute jobs.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
xcute
ADDITIONAL INFORMATION
(venv) [root@ns3118434 xcute]# openio container locate test_container                                                                                                           
+-----------------+--------------------------------------------------------------------+                                                                                        
| Field           | Value                                                              |                                                                                        
+-----------------+--------------------------------------------------------------------+                                                                                        
| account         | AUTH_b96007684f9b4873bb75f592dcc86319                              |                                                                                        
| base_name       | 5D3910F290578935712ACD555286BB0945D7FBFE2BE5B73BA3AF9561A45C4EAF.1 |                                                                                        
| meta0           | 172.16.0.4:6001, 172.16.0.5:6001, 172.16.0.6:6001                  |                                                                                        
| meta1           | 172.16.0.4:6110, 172.16.0.5:6110, 172.16.0.6:6110                  |                                                                                        
| meta2           | 172.16.0.6:6121, 172.16.0.5:6121, 172.16.0.4:6120                  |                                                                                        
| meta2.sys.peers | 172.16.0.4:6120, 172.16.0.5:6121, 172.16.0.6:6121                  |                                                                                        
| name            | test_container                                                     |                                                                                        
| status          | Enabled                                                            |                                                                                        
+-----------------+--------------------------------------------------------------------+                                                                                        
(venv) [root@ns3118434 xcute]# openio-admin xcute meta2 decommission 172.16.0.6:6121                                                                                            
+--------------------------+----------------------------------+                                                                                                                 
| Field                    | Value                            |                                                                                                                 
+--------------------------+----------------------------------+                                                                                                                 
| config.params.account    | None                             |                                                                                                                 
| config.params.containers | None                             |                                                                                                                 
| config.params.dst        | None                             |                         
| config.params.is_cid     | False                            |                         
| config.params.service_id | 172.16.0.6:6121                  |                         
| config.tasks_batch_size  | 32                               |                         
| config.tasks_per_second  | 32                               |                         
| errors.total             | 0                                |                         
| job.ctime                | 1580439706.45                    |                         
| job.id                   | 20200131030146450214-a796b931a73 |                         
| job.mtime                | 1580439706.45                    |                         
| job.request_pause        | False                            |                         
| job.status               | WAITING                          |                         
| job.type                 | container-move                   |                         
| tasks.all_sent           | False                            |                         
| tasks.is_total_temp      | True                             |                         
| tasks.last_sent          | None                             |                         
| tasks.processed          | 0                                |                         
| tasks.sent               | 0                                |                         
| tasks.total              | 0                                |                         
| tasks.total_marker       | None                             |                         
+--------------------------+----------------------------------+                         
(venv) [root@ns3118434 xcute]# openio-admin xcute meta2 rebuild 172.16.0.6:6121          
+--------------------------------+----------------------------------+
| Field                          | Value                            |
+--------------------------------+----------------------------------+
| config.params.rdir_fetch_limit | 1000                             |
| config.params.service_id       | 172.16.0.6:6121                  |
| config.tasks_batch_size        | 32                               |
| config.tasks_per_second        | 32                               |
| errors.total                   | 0                                |
| job.ctime                      | 1580439797.27                    |
| job.id                         | 20200131030317272851-c53a0bc248f |
| job.mtime                      | 1580439797.27                    |
| job.request_pause              | False                            |
| job.status                     | WAITING                          |
| job.type                       | meta2-rebuild                    |
| tasks.all_sent                 | False                            |
| tasks.is_total_temp            | True                             |
| tasks.last_sent                | None                             |
| tasks.processed                | 0                                |
| tasks.sent                     | 0                                |
| tasks.total                    | 0                                |
| tasks.total_marker             | None                             |
+--------------------------------+----------------------------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1985,2020-01-31T03:04:08Z,2020-03-06T14:46:33Z,2020-03-06T14:46:33Z,MERGED,True,409,91,10,https://github.com/loamhoof,xcute: Meta2 decommissionner + rebuilder,6,[],https://github.com/open-io/oio-sds/pull/1985,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1985#issuecomment-592587356,"SUMMARY
Add meta2 decommissioning & rebuilding xcute jobs.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
xcute
ADDITIONAL INFORMATION
(venv) [root@ns3118434 xcute]# openio container locate test_container                                                                                                           
+-----------------+--------------------------------------------------------------------+                                                                                        
| Field           | Value                                                              |                                                                                        
+-----------------+--------------------------------------------------------------------+                                                                                        
| account         | AUTH_b96007684f9b4873bb75f592dcc86319                              |                                                                                        
| base_name       | 5D3910F290578935712ACD555286BB0945D7FBFE2BE5B73BA3AF9561A45C4EAF.1 |                                                                                        
| meta0           | 172.16.0.4:6001, 172.16.0.5:6001, 172.16.0.6:6001                  |                                                                                        
| meta1           | 172.16.0.4:6110, 172.16.0.5:6110, 172.16.0.6:6110                  |                                                                                        
| meta2           | 172.16.0.6:6121, 172.16.0.5:6121, 172.16.0.4:6120                  |                                                                                        
| meta2.sys.peers | 172.16.0.4:6120, 172.16.0.5:6121, 172.16.0.6:6121                  |                                                                                        
| name            | test_container                                                     |                                                                                        
| status          | Enabled                                                            |                                                                                        
+-----------------+--------------------------------------------------------------------+                                                                                        
(venv) [root@ns3118434 xcute]# openio-admin xcute meta2 decommission 172.16.0.6:6121                                                                                            
+--------------------------+----------------------------------+                                                                                                                 
| Field                    | Value                            |                                                                                                                 
+--------------------------+----------------------------------+                                                                                                                 
| config.params.account    | None                             |                                                                                                                 
| config.params.containers | None                             |                                                                                                                 
| config.params.dst        | None                             |                         
| config.params.is_cid     | False                            |                         
| config.params.service_id | 172.16.0.6:6121                  |                         
| config.tasks_batch_size  | 32                               |                         
| config.tasks_per_second  | 32                               |                         
| errors.total             | 0                                |                         
| job.ctime                | 1580439706.45                    |                         
| job.id                   | 20200131030146450214-a796b931a73 |                         
| job.mtime                | 1580439706.45                    |                         
| job.request_pause        | False                            |                         
| job.status               | WAITING                          |                         
| job.type                 | container-move                   |                         
| tasks.all_sent           | False                            |                         
| tasks.is_total_temp      | True                             |                         
| tasks.last_sent          | None                             |                         
| tasks.processed          | 0                                |                         
| tasks.sent               | 0                                |                         
| tasks.total              | 0                                |                         
| tasks.total_marker       | None                             |                         
+--------------------------+----------------------------------+                         
(venv) [root@ns3118434 xcute]# openio-admin xcute meta2 rebuild 172.16.0.6:6121          
+--------------------------------+----------------------------------+
| Field                          | Value                            |
+--------------------------------+----------------------------------+
| config.params.rdir_fetch_limit | 1000                             |
| config.params.service_id       | 172.16.0.6:6121                  |
| config.tasks_batch_size        | 32                               |
| config.tasks_per_second        | 32                               |
| errors.total                   | 0                                |
| job.ctime                      | 1580439797.27                    |
| job.id                         | 20200131030317272851-c53a0bc248f |
| job.mtime                      | 1580439797.27                    |
| job.request_pause              | False                            |
| job.status                     | WAITING                          |
| job.type                       | meta2-rebuild                    |
| tasks.all_sent                 | False                            |
| tasks.is_total_temp            | True                             |
| tasks.last_sent                | None                             |
| tasks.processed                | 0                                |
| tasks.sent                     | 0                                |
| tasks.total                    | 0                                |
| tasks.total_marker             | None                             |
+--------------------------------+----------------------------------+","Codecov Report

Merging #1985 into 5.x will increase coverage by 20.82%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              5.x   #1985       +/-   ##
==========================================
+ Coverage   79.19%    100%   +20.82%     
==========================================
  Files         391       1      -390     
  Lines       74119      10    -74109     
  Branches     7029       0     -7029     
==========================================
- Hits        58693      10    -58683     
+ Misses      15186       0    -15186     
+ Partials      240       0      -240



Impacted Files
Coverage Δ





oio/cli/account/client.py




metautils/lib/utils_addr_info.c




cache/cache.c




tests/functional/account/test_client.py




core/cfg.c




oio/crawler/integrity.py




events/oio_events_queue_buffer.c




oio/cli/admin/service_check.py




tests/unit/api/test_ec.py




meta2v2/meta2_backend.c




... and 380 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 124d6e0...f6515ab. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1986,2020-02-04T05:29:10Z,2020-02-04T10:49:22Z,2020-02-04T10:49:22Z,MERGED,True,1,1,1,https://github.com/loamhoof,xcute: fix total tasks estimation for the blob mover,1,[],https://github.com/open-io/oio-sds/pull/1986,https://github.com/loamhoof,1,https://github.com/open-io/oio-sds/pull/1986,"SUMMARY
The total task estimation for the xcute task blob mover is approximately twice what it should be.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
xcute","SUMMARY
The total task estimation for the xcute task blob mover is approximately twice what it should be.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
xcute",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1987,2020-02-07T17:49:29Z,2020-02-19T14:54:20Z,2020-03-05T15:11:24Z,MERGED,True,47,18,2,https://github.com/AymericDu,meta1: Fix behavior when reference property with empty value is set,1,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/1987,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1987,"SUMMARY
Fix behavior when reference property with empty value is set
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta1

SDS VERSION
openio 5.3.0.0b1.dev7","SUMMARY
Fix behavior when reference property with empty value is set
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta1

SDS VERSION
openio 5.3.0.0b1.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1988,2020-02-11T12:48:38Z,2020-03-23T16:52:49Z,2020-03-29T11:53:10Z,MERGED,True,63,45,5,https://github.com/AymericDu,converter: Reinforce the verification of the chunk ID,4,['bug :scream:'],https://github.com/open-io/oio-sds/pull/1988,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1988,"SUMMARY
Reinforce the verification of the chunk ID when converting old chunks.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-converter

SDS VERSION
openio 4.8.3.dev3","SUMMARY
Reinforce the verification of the chunk ID when converting old chunks.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-converter

SDS VERSION
openio 4.8.3.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1989,2020-02-13T10:57:50Z,2020-02-17T14:49:44Z,2020-09-09T09:54:34Z,MERGED,True,6,6,1,https://github.com/murlock,Include request ID in rawx error messages,1,[],https://github.com/open-io/oio-sds/pull/1989,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1989,"SUMMARY
Enhance LogError with reqid
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
master","SUMMARY
Enhance LogError with reqid
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
master",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1990,2020-02-17T14:38:07Z,2020-02-28T13:11:04Z,2020-02-28T13:11:14Z,MERGED,True,597,129,17,https://github.com/fvennetier,Aggregate bucket statistics,6,[],https://github.com/open-io/oio-sds/pull/1990,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1990,"SUMMARY

 Allow setting properties when auto-creating containers.
 Advertise a bucket name in container events.
 Aggregate bucket statistics

Jira: OB-501
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-proxy
meta2

SDS VERSION
openio 5.3.0.0b1.dev9","SUMMARY

 Allow setting properties when auto-creating containers.
 Advertise a bucket name in container events.
 Aggregate bucket statistics

Jira: OB-501
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-proxy
meta2

SDS VERSION
openio 5.3.0.0b1.dev9",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1990,2020-02-17T14:38:07Z,2020-02-28T13:11:04Z,2020-02-28T13:11:14Z,MERGED,True,597,129,17,https://github.com/fvennetier,Aggregate bucket statistics,6,[],https://github.com/open-io/oio-sds/pull/1990,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1990#issuecomment-590355016,"SUMMARY

 Allow setting properties when auto-creating containers.
 Advertise a bucket name in container events.
 Aggregate bucket statistics

Jira: OB-501
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API
oio-proxy
meta2

SDS VERSION
openio 5.3.0.0b1.dev9","Codecov Report

Merging #1990 into 5.x will decrease coverage by 22.7%.
The diff coverage is 10.53%.


@@             Coverage Diff             @@
##              5.x    #1990       +/-   ##
===========================================
- Coverage   62.36%   39.67%   -22.69%     
===========================================
  Files         265      130      -135     
  Lines       54754    29526    -25228     
  Branches     6876     4697     -2179     
===========================================
- Hits        34144    11711    -22433     
+ Misses      20322    16434     -3888     
- Partials      288     1381     +1093



Impacted Files
Coverage Δ





meta1v2/meta1_backend_properties.c
0% <0%> (-75.83%)
⬇️


meta2v2/meta2_backend.c
36.11% <11.77%> (-20.52%)
⬇️


tests/unit/api/test_io.py




rawx-apache2/src/rawx_req_info.c




tests/unit/test_prefixmapping.py




meta2v2/meta2_gridd_dispatcher.c




rdir/rdir.c




oio/container/client.py




rawx-apache2/src/mod_dav_rawx.c




meta2v2/meta2_filters_action_container.c




... and 125 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2377a15...7fdd3a5. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1991,2020-02-20T04:31:46Z,2020-05-09T04:44:02Z,2020-05-09T04:44:07Z,CLOSED,False,75,9,10,https://github.com/jkasarherou,rawx: add extra_metrics option,6,[],https://github.com/open-io/oio-sds/pull/1991,https://github.com/jkasarherou,1,https://github.com/open-io/oio-sds/pull/1991,"SUMMARY
Add a extra_metrics option to rawx.
Measure read and write time for chunk PUT requests.
Append both values in the access log.
ISSUE TYPE


Feature Pull Request

COMPONENT NAME
rawx","SUMMARY
Add a extra_metrics option to rawx.
Measure read and write time for chunk PUT requests.
Append both values in the access log.
ISSUE TYPE


Feature Pull Request

COMPONENT NAME
rawx",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1992,2020-02-24T09:59:34Z,2020-02-24T17:27:04Z,2020-02-24T17:27:08Z,MERGED,True,4,1,1,https://github.com/murlock,Avoid prefixing http path if / is already set,1,[],https://github.com/open-io/oio-sds/pull/1992,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/1992,"SUMMARY
When a HTTP request is made from Python API, path is always prefixed by /:
it has raised an issue when adding package prometheus into rawx where the request
returns a 301 with proper path.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python internals
SDS VERSION
master

ADDITIONAL INFORMATION","SUMMARY
When a HTTP request is made from Python API, path is always prefixed by /:
it has raised an issue when adding package prometheus into rawx where the request
returns a 301 with proper path.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python internals
SDS VERSION
master

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1992,2020-02-24T09:59:34Z,2020-02-24T17:27:04Z,2020-02-24T17:27:08Z,MERGED,True,4,1,1,https://github.com/murlock,Avoid prefixing http path if / is already set,1,[],https://github.com/open-io/oio-sds/pull/1992,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1992#issuecomment-590278922,"SUMMARY
When a HTTP request is made from Python API, path is always prefixed by /:
it has raised an issue when adding package prometheus into rawx where the request
returns a 301 with proper path.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Python internals
SDS VERSION
master

ADDITIONAL INFORMATION","Codecov Report

Merging #1992 into master will increase coverage by 2.34%.
The diff coverage is 66.67%.


@@            Coverage Diff             @@
##           master    #1992      +/-   ##
==========================================
+ Coverage   76.02%   78.36%   +2.34%     
==========================================
  Files         297      375      +78     
  Lines       57262    72190   +14928     
  Branches     6537     6537              
==========================================
+ Hits        43528    56564   +13036     
- Misses      13508    15410    +1902     
+ Partials      226      216      -10



Impacted Files
Coverage Δ





oio/common/http_eventlet.py
89.16% <66.67%> (+5.21%)
⬆️


rawx/rawx.go
68.75% <0%> (-3.12%)
⬇️


sqliterepo/replication.c
83.99% <0%> (-0.84%)
⬇️


meta2v2/generic.c
53.97% <0%> (-0.79%)
⬇️


tests/functional/m2_filters/test_filters.py
95.59% <0%> (-1.47%)
⬇️


metautils/lib/gridd_client.c
74.83% <0%> (-0.46%)
⬇️


oio/cli/account/client.py
71.43% <0%> (ø)
⬆️


tests/unit/api/test_ec.py
86.34% <0%> (ø)
⬆️


oio/cli/zk/client.py
80% <0%> (ø)
⬆️


oio/cli/volume/client.py
34.15% <0%> (ø)
⬆️


... and 219 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2dfc1ed...0bac312. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1993,2020-02-26T07:41:32Z,2020-02-28T10:26:41Z,2020-02-28T10:26:42Z,MERGED,True,6,1,1,https://github.com/loamhoof,Fix lock deletion on job deletion,1,[],https://github.com/open-io/oio-sds/pull/1993,https://github.com/loamhoof,1,https://github.com/open-io/oio-sds/pull/1993,"SUMMARY
When deleting an xcute job, we were deleting its associated lock without checking that the lock was actually held by that job. If a running job had the same associated lock, the lock would wrongly be deleted.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
xcute","SUMMARY
When deleting an xcute job, we were deleting its associated lock without checking that the lock was actually held by that job. If a running job had the same associated lock, the lock would wrongly be deleted.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
xcute",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1994,2020-02-27T16:57:12Z,2020-02-28T10:27:17Z,2020-02-28T10:27:22Z,MERGED,True,41,29,1,https://github.com/fvennetier,Admin CLI improvements,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1994,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1994,"SUMMARY

Make variable names intelligible (no more one letter variables).
Replace some assertions by exceptions, with messages telling what is wrong.

Jira: OS-491
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.3.0.0b1.dev14","SUMMARY

Make variable names intelligible (no more one letter variables).
Replace some assertions by exceptions, with messages telling what is wrong.

Jira: OS-491
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.3.0.0b1.dev14",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1994,2020-02-27T16:57:12Z,2020-02-28T10:27:17Z,2020-02-28T10:27:22Z,MERGED,True,41,29,1,https://github.com/fvennetier,Admin CLI improvements,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1994,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1994#issuecomment-592410566,"SUMMARY

Make variable names intelligible (no more one letter variables).
Replace some assertions by exceptions, with messages telling what is wrong.

Jira: OS-491
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.3.0.0b1.dev14","Codecov Report

Merging #1994 into 5.x will increase coverage by 16.87%.
The diff coverage is 64.52%.


@@             Coverage Diff             @@
##              5.x    #1994       +/-   ##
===========================================
+ Coverage   62.36%   79.23%   +16.87%     
===========================================
  Files         265      391      +126     
  Lines       54754    73980    +19226     
  Branches     6876     7027      +151     
===========================================
+ Hits        34144    58608    +24464     
+ Misses      20322    15133     -5189     
+ Partials      288      239       -49



Impacted Files
Coverage Δ





oio/cli/admin/service_check.py
72.05% <64.52%> (ø)



meta2v2/meta2_dedup_utils.c
18.56% <0%> (ø)
⬆️


tests/unit/api/test_ec.py
86.23% <0%> (ø)
⬆️


rawx-apache2/src/rawx_bucket.c
0% <0%> (ø)
⬆️


tests/unit/common/test_fullpath.py
100% <0%> (ø)
⬆️


sqlx/sqlx_server.c
78.95% <0%> (ø)
⬆️


tests/unit/api/test_objectstorage.py
98.33% <0%> (ø)
⬆️


oio/common/constants.py
100% <0%> (ø)
⬆️


tests/unit/common/test_exceptions.py
100% <0%> (ø)
⬆️


rawx-lib/src/compression.c
0% <0%> (ø)
⬆️


... and 340 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2377a15...0705fc6. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1995,2020-03-02T15:48:46Z,2020-03-03T09:26:49Z,2020-03-03T09:26:56Z,MERGED,True,118,4,6,https://github.com/fvennetier,Implement 'openio bucket show' command,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/1995,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1995,"SUMMARY
Jira: OB-501
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

account service
CLI

SDS VERSION
openio 5.3.0.0b1.dev16","SUMMARY
Jira: OB-501
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

account service
CLI

SDS VERSION
openio 5.3.0.0b1.dev16",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1996,2020-03-04T14:42:33Z,2020-03-05T11:10:07Z,2020-03-05T11:10:34Z,MERGED,True,11,5,1,https://github.com/AymericDu,Ignore chunks that no longer exist when decommissioning rawx,1,[],https://github.com/open-io/oio-sds/pull/1996,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1996,"SUMMARY
Ignore chunks that no longer exist when decommissioning rawx.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.0.0b1.dev12","SUMMARY
Ignore chunks that no longer exist when decommissioning rawx.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.0.0b1.dev12",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1996,2020-03-04T14:42:33Z,2020-03-05T11:10:07Z,2020-03-05T11:10:34Z,MERGED,True,11,5,1,https://github.com/AymericDu,Ignore chunks that no longer exist when decommissioning rawx,1,[],https://github.com/open-io/oio-sds/pull/1996,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1996#issuecomment-595162982,"SUMMARY
Ignore chunks that no longer exist when decommissioning rawx.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.0.0b1.dev12","Codecov Report

Merging #1996 into 5.x will decrease coverage by 0.01%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              5.x    #1996      +/-   ##
==========================================
- Coverage   79.25%   79.24%   -<.01%     
==========================================
  Files         391      391              
  Lines       74119    74119              
  Branches     7029     7029              
==========================================
- Hits        58732    58731       -1     
+ Misses      15151    15149       -2     
- Partials      236      239       +3



Impacted Files
Coverage Δ





tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/crawler/integrity.py
68.19% <0%> (-3.83%)
⬇️


oio/common/http_urllib3.py
85% <0%> (-2.5%)
⬇️


oio/conscience/client.py
84% <0%> (-1.59%)
⬇️


oio/directory/admin.py
67.38% <0%> (-1.41%)
⬇️


oio/account/client.py
80.81% <0%> (-1.01%)
⬇️


sqliterepo/election.c
89.85% <0%> (-0.91%)
⬇️


metautils/lib/utils_resolv.c
64.45% <0%> (-0.74%)
⬇️


rawx-apache2/src/rawx_repository.c
57.06% <0%> (-0.39%)
⬇️


... and 37 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9367455...69e3163. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1997,2020-03-04T20:13:44Z,2020-03-05T11:10:29Z,2020-03-05T11:10:38Z,MERGED,True,6,5,4,https://github.com/AymericDu,Allow enough time to process the tasks batch,1,[],https://github.com/open-io/oio-sds/pull/1997,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1997,"SUMMARY
Allow enough time to process the tasks batch.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.0.0b1.dev18","SUMMARY
Allow enough time to process the tasks batch.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.0.0b1.dev18",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1997,2020-03-04T20:13:44Z,2020-03-05T11:10:29Z,2020-03-05T11:10:38Z,MERGED,True,6,5,4,https://github.com/AymericDu,Allow enough time to process the tasks batch,1,[],https://github.com/open-io/oio-sds/pull/1997,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1997#issuecomment-595091955,"SUMMARY
Allow enough time to process the tasks batch.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.0.0b1.dev18","Codecov Report

Merging #1997 into 5.x will decrease coverage by 0.03%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              5.x    #1997      +/-   ##
==========================================
- Coverage   79.25%   79.22%   -0.02%     
==========================================
  Files         391      391              
  Lines       74119    74119              
  Branches     7029     7029              
==========================================
- Hits        58732    58712      -20     
- Misses      15151    15171      +20     
  Partials      236      236



Impacted Files
Coverage Δ





tests/unit/api/test_container_client.py
92.86% <0%> (-7.14%)
⬇️


metautils/lib/volume_lock.c
70% <0%> (-5%)
⬇️


oio/crawler/integrity.py
69.47% <0%> (-2.55%)
⬇️


tests/functional/cli/admin/test_service_decache.py
83.34% <0%> (-2.08%)
⬇️


oio/conscience/client.py
84% <0%> (-1.59%)
⬇️


tests/functional/container/test_replication.py
80.46% <0%> (-1.14%)
⬇️


meta2v2/meta2_filters_action_container.c
62.33% <0%> (-1.02%)
⬇️


oio/account/client.py
80.81% <0%> (-1.01%)
⬇️


tests/functional/audit/test_audit_storage.py
80.49% <0%> (-0.81%)
⬇️


oio/directory/admin.py
68.09% <0%> (-0.7%)
⬇️


... and 35 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9367455...a17539b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1997,2020-03-04T20:13:44Z,2020-03-05T11:10:29Z,2020-03-05T11:10:38Z,MERGED,True,6,5,4,https://github.com/AymericDu,Allow enough time to process the tasks batch,1,[],https://github.com/open-io/oio-sds/pull/1997,https://github.com/loamhoof,3,https://github.com/open-io/oio-sds/pull/1997#issuecomment-595100535,"SUMMARY
Allow enough time to process the tasks batch.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.0.0b1.dev18",👍,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1998,2020-03-05T18:04:39Z,2020-03-06T14:45:02Z,2020-03-09T10:37:25Z,MERGED,True,44,68,5,https://github.com/fvennetier,Reduce meta2 memory allocations,2,[],https://github.com/open-io/oio-sds/pull/1998,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/1998,"SUMMARY

Fix the --profile parameter of oio-bootstrap.py.
Track and fix unneeded memory allocations.
Get rid of unused code.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 5.3.0.0b1.dev21","SUMMARY

Fix the --profile parameter of oio-bootstrap.py.
Track and fix unneeded memory allocations.
Get rid of unused code.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 5.3.0.0b1.dev21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1998,2020-03-05T18:04:39Z,2020-03-06T14:45:02Z,2020-03-09T10:37:25Z,MERGED,True,44,68,5,https://github.com/fvennetier,Reduce meta2 memory allocations,2,[],https://github.com/open-io/oio-sds/pull/1998,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/1998#issuecomment-595782199,"SUMMARY

Fix the --profile parameter of oio-bootstrap.py.
Track and fix unneeded memory allocations.
Get rid of unused code.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 5.3.0.0b1.dev21","Codecov Report

Merging #1998 into 5.x will increase coverage by 0.04%.
The diff coverage is 100%.


@@            Coverage Diff             @@
##              5.x    #1998      +/-   ##
==========================================
+ Coverage   79.19%   79.23%   +0.04%     
==========================================
  Files         391      391              
  Lines       74191    74185       -6     
  Branches     7040     7039       -1     
==========================================
+ Hits        58750    58770      +20     
+ Misses      15202    15172      -30     
- Partials      239      243       +4



Impacted Files
Coverage Δ





meta2v2/generic.c
73% <100%> (-0.28%)
⬇️


meta2v2/meta2_utils.c
83.99% <100%> (-0.02%)
⬇️


tests/functional/m2_filters/test_filters.py
84.85% <0%> (-12.12%)
⬇️


tests/functional/container/test_replication.py
79.32% <0%> (-2.29%)
⬇️


sqliterepo/cache.c
84.53% <0%> (-1.19%)
⬇️


meta2v2/meta2_filters_action_container.c
63.36% <0%> (-1.02%)
⬇️


meta2v2/meta2_filters_extract.c
82.68% <0%> (-0.78%)
⬇️


oio/directory/admin.py
67.38% <0%> (-0.7%)
⬇️


rawx-apache2/src/rawx_repo_core.c
80.53% <0%> (-0.6%)
⬇️


core/cs.c
66.22% <0%> (-0.45%)
⬇️


... and 36 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b386297...69eacae. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,1999,2020-03-06T14:39:25Z,2020-03-16T13:23:09Z,2020-03-17T16:31:22Z,MERGED,True,203,159,3,https://github.com/AymericDu,Keep the launch of a job safe,4,[],https://github.com/open-io/oio-sds/pull/1999,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/1999,"SUMMARY

Start one job at a time
Keep the launch of a job safe

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.0.0b1.dev21","SUMMARY

Start one job at a time
Keep the launch of a job safe

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.0.0b1.dev21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2000,2020-03-10T17:34:57Z,2020-03-31T14:45:07Z,2020-03-31T14:45:11Z,MERGED,True,527,35,14,https://github.com/fvennetier,Enable or disable replication for each bucket,4,[],https://github.com/open-io/oio-sds/pull/2000,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2000,"SUMMARY
Jira: OB-477
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

account service
event-agent

SDS VERSION
openio 5.3.0.0b1.dev31","SUMMARY
Jira: OB-477
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

account service
event-agent

SDS VERSION
openio 5.3.0.0b1.dev31",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2000,2020-03-10T17:34:57Z,2020-03-31T14:45:07Z,2020-03-31T14:45:11Z,MERGED,True,527,35,14,https://github.com/fvennetier,Enable or disable replication for each bucket,4,[],https://github.com/open-io/oio-sds/pull/2000,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2000#issuecomment-602512623,"SUMMARY
Jira: OB-477
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

account service
event-agent

SDS VERSION
openio 5.3.0.0b1.dev31","Codecov Report

Merging #2000 into 5.x will decrease coverage by 1.49%.
The diff coverage is 60.11%.


@@            Coverage Diff             @@
##              5.x    #2000      +/-   ##
==========================================
- Coverage   79.23%   77.75%   -1.48%     
==========================================
  Files         391      358      -33     
  Lines       74185    71887    -2298     
  Branches     7039        0    -7039     
==========================================
- Hits        58772    55886    -2886     
- Misses      15177    15870     +693     
+ Partials      236      131     -105     



Impacted Files
Coverage Δ





tests/functional/cli/account/test_account.py
23.46% <ø> (ø)



oio/account/server.py
74.22% <18.75%> (-3.86%)
⬇️


oio/account/backend.py
70.54% <37.26%> (-5.83%)
⬇️


tests/functional/cli/container/test_container.py
63.23% <41.67%> (-1.12%)
⬇️


oio/event/filters/replicate.py
78.95% <78.95%> (ø)



oio/account/client.py
83.02% <100.00%> (+0.20%)
⬆️


oio/common/constants.py
100.00% <100.00%> (ø)



oio/event/evob.py
73.85% <100.00%> (+0.84%)
⬆️


tests/functional/conscience/test_conscience.py
98.07% <100.00%> (+0.01%)
⬆️


tests/functional/event/filters/test_filters.py
98.52% <100.00%> (-0.21%)
⬇️


... and 109 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e6be3dd...2297850. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2001,2020-03-12T14:45:45Z,2020-03-13T10:16:00Z,2020-03-13T10:34:42Z,MERGED,True,11,1,1,https://github.com/murlock,sqliterepo: ignore malformed keys in admin table,1,[],https://github.com/open-io/oio-sds/pull/2001,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2001,"SUMMARY
Sometimes the admin table of meta2 services contains NULL keys.
When this rare condition is met, the meta2 service crashes.
This PR ensures that meta2 services won't crash and will emit a error instead.
BUG: Base [30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E.1][meta2] has null keys in admin table.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
5.2.3","SUMMARY
Sometimes the admin table of meta2 services contains NULL keys.
When this rare condition is met, the meta2 service crashes.
This PR ensures that meta2 services won't crash and will emit a error instead.
BUG: Base [30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E.1][meta2] has null keys in admin table.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
5.2.3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2001,2020-03-12T14:45:45Z,2020-03-13T10:16:00Z,2020-03-13T10:34:42Z,MERGED,True,11,1,1,https://github.com/murlock,sqliterepo: ignore malformed keys in admin table,1,[],https://github.com/open-io/oio-sds/pull/2001,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2001#issuecomment-598648272,"SUMMARY
Sometimes the admin table of meta2 services contains NULL keys.
When this rare condition is met, the meta2 service crashes.
This PR ensures that meta2 services won't crash and will emit a error instead.
BUG: Base [30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E.1][meta2] has null keys in admin table.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
meta2
SDS VERSION
5.2.3","Codecov Report

Merging #2001 into 5.x will increase coverage by 0.01%.
The diff coverage is 33.34%.


@@            Coverage Diff             @@
##              5.x    #2001      +/-   ##
==========================================
+ Coverage   79.23%   79.24%   +0.01%     
==========================================
  Files         391      391              
  Lines       74185    74191       +6     
  Branches     7039     7041       +2     
==========================================
+ Hits        58772    58783      +11     
+ Misses      15177    15169       -8     
- Partials      236      239       +3     



Impacted Files
Coverage Δ





sqliterepo/sqlite_utils.c
90.64% <33.34%> (-1.17%)
⬇️


tests/functional/content/test_service_id.py
79.29% <0.00%> (-5.91%)
⬇️


oio/content/plain.py
72.42% <0.00%> (-3.44%)
⬇️


oio/api/io.py
87.99% <0.00%> (-1.50%)
⬇️


oio/rdir/client.py
85.19% <0.00%> (-1.23%)
⬇️


tests/functional/container/test_replication.py
80.46% <0.00%> (-1.14%)
⬇️


meta2v2/meta2_filters_action_container.c
62.33% <0.00%> (-1.02%)
⬇️


oio/blob/converter.py
80.93% <0.00%> (-0.98%)
⬇️


sqliterepo/election.c
89.66% <0.00%> (-0.96%)
⬇️


sqliterepo/cache.c
84.77% <0.00%> (-0.95%)
⬇️


... and 30 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update e6be3dd...d796724. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2002,2020-03-16T17:12:35Z,2020-03-23T10:40:49Z,2020-03-29T11:53:00Z,MERGED,True,8,6,3,https://github.com/AymericDu,blob-rebuilder: Log when the incident date is missing,1,[],https://github.com/open-io/oio-sds/pull/2002,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2002,"SUMMARY
Log when the incident date is missing
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.8.3.dev6","SUMMARY
Log when the incident date is missing
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-blob-rebuilder

SDS VERSION
openio 4.8.3.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2003,2020-03-19T17:09:28Z,2020-03-31T14:42:44Z,2020-04-02T07:53:06Z,MERGED,True,251,0,3,https://github.com/AymericDu,xcute: Add documentation,1,[],https://github.com/open-io/oio-sds/pull/2003,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2003,"SUMMARY
Add documentation
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.1.dev1","SUMMARY
Add documentation
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.1.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2003,2020-03-19T17:09:28Z,2020-03-31T14:42:44Z,2020-04-02T07:53:06Z,MERGED,True,251,0,3,https://github.com/AymericDu,xcute: Add documentation,1,[],https://github.com/open-io/oio-sds/pull/2003,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/2003#issuecomment-602457559,"SUMMARY
Add documentation
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.1.dev1","IMO we should avoid to add picture / SVG in this repository.
We should push documentation in dedicated repository",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2003,2020-03-19T17:09:28Z,2020-03-31T14:42:44Z,2020-04-02T07:53:06Z,MERGED,True,251,0,3,https://github.com/AymericDu,xcute: Add documentation,1,[],https://github.com/open-io/oio-sds/pull/2003,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/2003#issuecomment-602588097,"SUMMARY
Add documentation
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.1.dev1","Codecov Report

Merging #2003 into 5.x will decrease coverage by 2.19%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              5.x    #2003      +/-   ##
==========================================
- Coverage   77.43%   75.24%   -2.18%     
==========================================
  Files         357      343      -14     
  Lines       69999    69364     -635     
==========================================
- Hits        54194    52185    -2009     
- Misses      15674    17048    +1374     
  Partials      131      131              



Impacted Files
Coverage Δ





events/oio_events_queue_fanout.c
0.00% <0.00%> (-82.05%)
⬇️


tests/functional/ecd/test_ecd.py
20.84% <0.00%> (-77.50%)
⬇️


tests/functional/content/test_plain.py
26.26% <0.00%> (-72.62%)
⬇️


tests/functional/event/test_webhook.py
26.09% <0.00%> (-72.46%)
⬇️


tests/functional/content/test_ec.py
28.05% <0.00%> (-71.95%)
⬇️


tests/functional/blob/test_mover.py
30.38% <0.00%> (-69.62%)
⬇️


tests/functional/content/test_service_id.py
25.45% <0.00%> (-53.84%)
⬇️


...sts/functional/content/test_content_perfectible.py
40.67% <0.00%> (-43.33%)
⬇️


oio/content/ec.py
16.67% <0.00%> (-38.33%)
⬇️


metautils/lib/storage_policy.h
61.12% <0.00%> (-33.33%)
⬇️


... and 113 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 5473cf0...3120224. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2004,2020-03-20T13:59:56Z,2020-05-04T14:13:53Z,2020-09-09T09:54:49Z,MERGED,True,431,68,34,https://github.com/murlock,Allow creating object with TLS rawx,19,[],https://github.com/open-io/oio-sds/pull/2004,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2004,"SUMMARY
This PR will allow Python API (and gateway) to read and write object with TLS HTTP connections.
This PR covers:

rawx with dedicated IP:PORT with TLS
proxy will retrieves information with all tags (it may be updated to fetch only 'static' tags)
when a client want to use TLS to rawx, it must provide upgrade-to-tls header to inform proxy to provide real_url with link IF rawx exposes themselves a HTTPS

This PR does not cover certificate verification.
Fixes OB-502
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
rawx, proxy, Python API, cli
SDS VERSION
6.x","SUMMARY
This PR will allow Python API (and gateway) to read and write object with TLS HTTP connections.
This PR covers:

rawx with dedicated IP:PORT with TLS
proxy will retrieves information with all tags (it may be updated to fetch only 'static' tags)
when a client want to use TLS to rawx, it must provide upgrade-to-tls header to inform proxy to provide real_url with link IF rawx exposes themselves a HTTPS

This PR does not cover certificate verification.
Fixes OB-502
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
rawx, proxy, Python API, cli
SDS VERSION
6.x",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2004,2020-03-20T13:59:56Z,2020-05-04T14:13:53Z,2020-09-09T09:54:49Z,MERGED,True,431,68,34,https://github.com/murlock,Allow creating object with TLS rawx,19,[],https://github.com/open-io/oio-sds/pull/2004,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2004#issuecomment-603903903,"SUMMARY
This PR will allow Python API (and gateway) to read and write object with TLS HTTP connections.
This PR covers:

rawx with dedicated IP:PORT with TLS
proxy will retrieves information with all tags (it may be updated to fetch only 'static' tags)
when a client want to use TLS to rawx, it must provide upgrade-to-tls header to inform proxy to provide real_url with link IF rawx exposes themselves a HTTPS

This PR does not cover certificate verification.
Fixes OB-502
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
rawx, proxy, Python API, cli
SDS VERSION
6.x","Codecov Report

Merging #2004 into master will increase coverage by 0.08%.
The diff coverage is 78.17%.


@@            Coverage Diff             @@
##           master    #2004      +/-   ##
==========================================
+ Coverage   77.26%   77.34%   +0.08%     
==========================================
  Files         334      335       +1     
  Lines       67631    67764     +133     
==========================================
+ Hits        52246    52402     +156     
+ Misses      15259    15238      -21     
+ Partials      126      124       -2     



Impacted Files
Coverage Δ





oio/api/ec.py
92.28% <ø> (+0.79%)
⬆️


oio/api/io.py
86.15% <ø> (ø)



oio/api/object_storage.py
80.60% <ø> (+0.57%)
⬆️


oio/api/replication.py
84.98% <ø> (+0.94%)
⬆️


proxy/common.h
100.00% <ø> (ø)



rawx/conf_reader.go
81.58% <ø> (ø)



rawx/rawx.go
68.75% <0.00%> (ø)



oio/cli/cluster/cluster.py
29.17% <18.75%> (-0.22%)
⬇️


oio/cli/object/object.py
24.25% <50.00%> (+0.12%)
⬆️


oio/common/http_eventlet.py
77.15% <50.00%> (-12.01%)
⬇️


... and 70 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update afefff8...1622837. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2005,2020-03-20T17:23:04Z,2020-03-31T12:50:06Z,2020-04-02T07:52:59Z,MERGED,True,238,62,3,https://github.com/AymericDu,Respect minimum distance when rebalancing meta1 databases,1,[],https://github.com/open-io/oio-sds/pull/2005,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2005,"SUMMARY
Respect minimum distance when rebalancing meta1 databases
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.3.dev5","SUMMARY
Respect minimum distance when rebalancing meta1 databases
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.3.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2006,2020-03-20T17:47:39Z,2020-03-23T15:57:19Z,2020-03-23T15:57:22Z,MERGED,True,33,3,1,https://github.com/fvennetier,tools: measure listing time after object creation rate,1,[],https://github.com/open-io/oio-sds/pull/2006,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2006,"SUMMARY
Improve the object creation benchmark to make it measure the object listing speed before deleting all the objects/
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

tools

SDS VERSION
openio 5.3.0.0b1.dev34","SUMMARY
Improve the object creation benchmark to make it measure the object listing speed before deleting all the objects/
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

tools

SDS VERSION
openio 5.3.0.0b1.dev34",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2007,2020-03-24T08:25:40Z,2020-03-30T08:18:11Z,2020-04-10T08:09:52Z,MERGED,True,90,4,4,https://github.com/jfsmig,proxy: Get the score of a single service registered in ConsciousGrid,3,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:python :snake:', 'language:C']",https://github.com/open-io/oio-sds/pull/2007,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2007,"SUMMARY
Provide a route to get the score of a single service in oio-proxy.
# curl -qs 'http://127.0.0.1:6000/v3.0/OPENIO/conscience/score?type=rawx&service_id=127.0.0.1:6010' | python2 -m json.tool
{
    ""addr"": ""127.0.0.1:6010"",
    ""score"": 45
}


ISSUE TYPE
enhancement
COMPONENT NAME
oio-proxy
SDS VERSION
openio 5.3.0.0b1.dev31","SUMMARY
Provide a route to get the score of a single service in oio-proxy.
# curl -qs 'http://127.0.0.1:6000/v3.0/OPENIO/conscience/score?type=rawx&service_id=127.0.0.1:6010' | python2 -m json.tool
{
    ""addr"": ""127.0.0.1:6010"",
    ""score"": 45
}


ISSUE TYPE
enhancement
COMPONENT NAME
oio-proxy
SDS VERSION
openio 5.3.0.0b1.dev31",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2008,2020-03-24T18:25:38Z,2020-03-25T10:18:57Z,2020-03-25T10:19:02Z,MERGED,True,35,11,4,https://github.com/fvennetier,"lb: more weighed random, less shuffled selection",1,['language:C'],https://github.com/open-io/oio-sds/pull/2008,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2008,"SUMMARY
Allow configuring how many times we shall try to select a service using a weighted random algorithm, before switching to the shuffled selection.
Increase core.lb.weighted_random_attempts (defaults to 1) if you observe too many choices of low-score services while high-score services are available.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

LB

SDS VERSION
openio 4.8.3.dev10","SUMMARY
Allow configuring how many times we shall try to select a service using a weighted random algorithm, before switching to the shuffled selection.
Increase core.lb.weighted_random_attempts (defaults to 1) if you observe too many choices of low-score services while high-score services are available.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

LB

SDS VERSION
openio 4.8.3.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2009,2020-03-25T21:08:18Z,2020-03-31T13:47:28Z,2020-04-02T07:52:53Z,MERGED,True,375,12,5,https://github.com/AymericDu,Python API: Allow to cache object metadata and location,1,[],https://github.com/open-io/oio-sds/pull/2009,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2009,"SUMMARY
Allow to cache object metadata
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.3.dev5","SUMMARY
Allow to cache object metadata
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.3.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2009,2020-03-25T21:08:18Z,2020-03-31T13:47:28Z,2020-04-02T07:52:53Z,MERGED,True,375,12,5,https://github.com/AymericDu,Python API: Allow to cache object metadata and location,1,[],https://github.com/open-io/oio-sds/pull/2009,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2009#issuecomment-604345751,"SUMMARY
Allow to cache object metadata
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.8.3.dev5","Codecov Report

Merging #2009 into 4.x will decrease coverage by 0.15%.
The diff coverage is 95.84%.


@@            Coverage Diff             @@
##              4.x    #2009      +/-   ##
==========================================
- Coverage   80.84%   80.69%   -0.14%     
==========================================
  Files         359      375      +16     
  Lines       69015    70709    +1694     
==========================================
+ Hits        55788    57053    +1265     
- Misses      13227    13534     +307     
- Partials        0      122     +122     



Impacted Files
Coverage Δ





oio/common/storage_functions.py
90.07% <50.00%> (-1.02%)
⬇️


oio/common/cache.py
93.75% <93.75%> (ø)



oio/container/client.py
84.45% <95.00%> (+0.53%)
⬆️


tests/functional/api/test_objectstorage.py
97.46% <98.43%> (+0.02%)
⬆️


oio/api/object_storage.py
80.82% <100.00%> (+0.50%)
⬆️


meta0v2/meta0_remote.c
74.29% <0.00%> (-8.57%)
⬇️


tests/functional/crawler/test_integrity_crawler.py
78.85% <0.00%> (-3.84%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0.00%> (-3.09%)
⬇️


oio/common/http_urllib3.py
85.00% <0.00%> (-2.50%)
⬇️


oio/conscience/client.py
81.82% <0.00%> (-2.47%)
⬇️


... and 52 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 35366c4...f780d55. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2010,2020-03-26T09:35:11Z,2020-04-02T10:03:49Z,2020-04-03T08:44:13Z,MERGED,True,12,3,2,https://github.com/murlock,rawx: ignore errors for few xattr,1,[],https://github.com/open-io/oio-sds/pull/2010,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2010,"SUMMARY
When a chunk is uploaded in other storage_policy than EC,
the metachunk-size and metachunk-hash is no sent by client.
When rawx read this chunk, it complains about missing xattr.
This PR will ignore only these xattr.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
master","SUMMARY
When a chunk is uploaded in other storage_policy than EC,
the metachunk-size and metachunk-hash is no sent by client.
When rawx read this chunk, it complains about missing xattr.
This PR will ignore only these xattr.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
master",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2011,2020-03-30T08:08:02Z,2020-04-14T08:11:29Z,2020-04-14T08:41:57Z,MERGED,True,60,2,4,https://github.com/AymericDu,Allow to set incident date when rebuilding,1,[],https://github.com/open-io/oio-sds/pull/2011,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2011,"SUMMARY
Allow to set incident date when rebuilding
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.1.dev10","SUMMARY
Allow to set incident date when rebuilding
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.3.1.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2012,2020-03-30T08:30:20Z,2020-03-31T09:50:29Z,2020-04-02T07:52:46Z,MERGED,True,9,7,5,https://github.com/AymericDu,Improve Python3 compatibility,2,[],https://github.com/open-io/oio-sds/pull/2012,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2012,"SUMMARY

Stop using deprecated 'message' attribute in Exception
Improve Python3 compatibility for xcute

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute
Python API

SDS VERSION
openio 7.0.0.dev1","SUMMARY

Stop using deprecated 'message' attribute in Exception
Improve Python3 compatibility for xcute

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute
Python API

SDS VERSION
openio 7.0.0.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2012,2020-03-30T08:30:20Z,2020-03-31T09:50:29Z,2020-04-02T07:52:46Z,MERGED,True,9,7,5,https://github.com/AymericDu,Improve Python3 compatibility,2,[],https://github.com/open-io/oio-sds/pull/2012,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2012#issuecomment-606002885,"SUMMARY

Stop using deprecated 'message' attribute in Exception
Improve Python3 compatibility for xcute

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute
Python API

SDS VERSION
openio 7.0.0.dev1","Codecov Report

Merging #2012 into master will decrease coverage by 0.01%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##           master    #2012      +/-   ##
==========================================
- Coverage   77.32%   77.31%   -0.00%     
==========================================
  Files         334      334              
  Lines       67631    67631              
==========================================
- Hits        52287    52285       -2     
- Misses      15220    15222       +2     
  Partials      124      124              



Impacted Files
Coverage Δ





oio/content/content.py
79.94% <ø> (-0.34%)
⬇️


oio/common/http_eventlet.py
89.16% <100.00%> (ø)



oio/content/plain.py
75.87% <0.00%> (-8.62%)
⬇️


meta0v2/meta0_remote.c
74.29% <0.00%> (-8.57%)
⬇️


meta1v2/meta1_prefixes.c
72.31% <0.00%> (-3.07%)
⬇️


oio/content/factory.py
80.96% <0.00%> (-1.58%)
⬇️


oio/directory/admin.py
67.37% <0.00%> (-1.38%)
⬇️


metautils/lib/utils_resolv.c
47.62% <0.00%> (-1.36%)
⬇️


oio/common/utils.py
69.74% <0.00%> (-0.98%)
⬇️


oio/rdir/client.py
84.62% <0.00%> (-0.92%)
⬇️


... and 28 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c0e5802...95fd006. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2013,2020-04-03T15:49:16Z,2020-04-07T08:04:17Z,2020-04-14T08:09:37Z,MERGED,True,218,39,5,https://github.com/AymericDu,Python API: Allow to cache container metadata,2,[],https://github.com/open-io/oio-sds/pull/2013,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2013,"SUMMARY
Allow to cache container metadata
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.9.1.dev1","SUMMARY
Allow to cache container metadata
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.9.1.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2013,2020-04-03T15:49:16Z,2020-04-07T08:04:17Z,2020-04-14T08:09:37Z,MERGED,True,218,39,5,https://github.com/AymericDu,Python API: Allow to cache container metadata,2,[],https://github.com/open-io/oio-sds/pull/2013,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2013#issuecomment-609711769,"SUMMARY
Allow to cache container metadata
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 4.9.1.dev1","Codecov Report

Merging #2013 into 4.x will increase coverage by 0.03%.
The diff coverage is 98.19%.


@@            Coverage Diff             @@
##              4.x    #2013      +/-   ##
==========================================
+ Coverage   80.66%   80.68%   +0.03%     
==========================================
  Files         375      375              
  Lines       70801    70887      +86     
==========================================
+ Hits        57104    57190      +86     
  Misses      13575    13575              
  Partials      122      122              



Impacted Files
Coverage Δ





oio/container/client.py
84.83% <95.84%> (+0.11%)
⬆️


oio/common/cache.py
94.45% <96.78%> (+0.70%)
⬆️


oio/api/object_storage.py
79.70% <100.00%> (-1.12%)
⬇️


tests/functional/api/test_objectstorage.py
97.56% <100.00%> (+0.11%)
⬆️


meta0v2/meta0_remote.c
74.29% <0.00%> (-8.57%)
⬇️


tests/functional/audit/test_audit_storage.py
83.74% <0.00%> (-7.31%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0.00%> (-7.14%)
⬇️


tests/functional/directory/test_admin.py
93.62% <0.00%> (-6.38%)
⬇️


metautils/lib/volume_lock.c
70.00% <0.00%> (-5.00%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0.00%> (-3.09%)
⬇️


... and 44 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9ee11ba...a45a82d. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2014,2020-04-06T13:21:18Z,2020-04-07T07:39:44Z,2020-04-10T08:09:45Z,MERGED,True,24,2,5,https://github.com/jfsmig,sqliterepo: Configure the sqlite cache size of a DB,3,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/2014,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2014,"SUMMARY
Provide a configuration directive to tune the size of each DB cache, in terms of kibibytes (1024B).
The directive helps coping with variable behaviors of sqlite3 which changed the defaut page size and the default cache size (from pages to bytes).
New variable: sqliterepo.cache.kbytes_per_db
Default value: 0 (no pragma sent to sqlite3, for the sake of backward compliance)
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.9.1.dev2","SUMMARY
Provide a configuration directive to tune the size of each DB cache, in terms of kibibytes (1024B).
The directive helps coping with variable behaviors of sqlite3 which changed the defaut page size and the default cache size (from pages to bytes).
New variable: sqliterepo.cache.kbytes_per_db
Default value: 0 (no pragma sent to sqlite3, for the sake of backward compliance)
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.9.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2014,2020-04-06T13:21:18Z,2020-04-07T07:39:44Z,2020-04-10T08:09:45Z,MERGED,True,24,2,5,https://github.com/jfsmig,sqliterepo: Configure the sqlite cache size of a DB,3,"['enhancement :sparkles:', 'priority:1 :goberserk:', 'language:C']",https://github.com/open-io/oio-sds/pull/2014,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2014#issuecomment-609836964,"SUMMARY
Provide a configuration directive to tune the size of each DB cache, in terms of kibibytes (1024B).
The directive helps coping with variable behaviors of sqlite3 which changed the defaut page size and the default cache size (from pages to bytes).
New variable: sqliterepo.cache.kbytes_per_db
Default value: 0 (no pragma sent to sqlite3, for the sake of backward compliance)
ISSUE TYPE
enhancement
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.9.1.dev2","Codecov Report

Merging #2014 into 4.x will increase coverage by 0.08%.
The diff coverage is 25.00%.


@@            Coverage Diff             @@
##              4.x    #2014      +/-   ##
==========================================
+ Coverage   80.66%   80.73%   +0.08%     
==========================================
  Files         375      375              
  Lines       70801    70805       +4     
==========================================
+ Hits        57104    57159      +55     
+ Misses      13575    13524      -51     
  Partials      122      122              



Impacted Files
Coverage Δ





sqliterepo/repository.c
74.37% <25.00%> (+0.01%)
⬆️


tests/functional/audit/test_audit_storage.py
83.74% <0.00%> (-7.31%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0.00%> (-7.14%)
⬇️


metautils/lib/volume_lock.c
70.00% <0.00%> (-5.00%)
⬇️


oio/blob/indexer.py
67.43% <0.00%> (-1.51%)
⬇️


metautils/lib/utils_addr_info.c
57.34% <0.00%> (-1.33%)
⬇️


server/slab.c
83.77% <0.00%> (-1.29%)
⬇️


meta2v2/meta2_filters_action_container.c
62.55% <0.00%> (-1.03%)
⬇️


metautils/lib/utils_sockets.c
43.85% <0.00%> (-0.76%)
⬇️


oio/rdir/client.py
83.55% <0.00%> (-0.31%)
⬇️


... and 34 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9ee11ba...0fd7dda. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2015,2020-04-06T17:24:41Z,2020-04-07T08:09:06Z,2020-04-08T07:07:40Z,MERGED,True,147,3,4,https://github.com/fvennetier,Component benchmarks,3,[],https://github.com/open-io/oio-sds/pull/2015,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2015,"SUMMARY
Bring some improvements to the already existing benchmark tools for rawx and meta2.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

bencmark tools

SDS VERSION
openio 4.9.1.dev5

ADDITIONAL INFORMATION
Must be rebased when #2013 is merged.","SUMMARY
Bring some improvements to the already existing benchmark tools for rawx and meta2.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

bencmark tools

SDS VERSION
openio 4.9.1.dev5

ADDITIONAL INFORMATION
Must be rebased when #2013 is merged.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2016,2020-04-09T08:57:25Z,2020-04-14T10:08:11Z,2020-04-14T11:45:14Z,MERGED,True,91,20,9,https://github.com/jfsmig,rawx: Implement a buffer cache to avoid GC complications,6,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/2016,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2016,"SUMMARY
A shared cache for large buffers is used for stream operations (upon uploads)
Another shared cache for small buffers is used for xattr operations.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
something like 5.3","SUMMARY
A shared cache for large buffers is used for stream operations (upon uploads)
Another shared cache for small buffers is used for xattr operations.
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
something like 5.3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2017,2020-04-16T17:06:05Z,2020-04-23T12:13:13Z,2020-04-23T12:19:13Z,MERGED,True,415,405,19,https://github.com/jfsmig,Speedup the RAWX,26,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/2017,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2017,"SUMMARY
Speed-up the Golang RAWX with various techniques:

avoid systematically closing the connections
try to use the stack instead of the heap:

pass structures instead of pointers
remove log traces
avoid Printf and prefer strings.Builder
avoid memory copies
remove unnecessary calls


reuse structures and avoid create/destroy cycles
increase the queue to beanstalkd
parallelize on multiple beanstalkd connections
save syscalls when possible (pid cached)
trim unused code

ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
7.0.0.0a2-pouet-pouet","SUMMARY
Speed-up the Golang RAWX with various techniques:

avoid systematically closing the connections
try to use the stack instead of the heap:

pass structures instead of pointers
remove log traces
avoid Printf and prefer strings.Builder
avoid memory copies
remove unnecessary calls


reuse structures and avoid create/destroy cycles
increase the queue to beanstalkd
parallelize on multiple beanstalkd connections
save syscalls when possible (pid cached)
trim unused code

ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
7.0.0.0a2-pouet-pouet",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2017,2020-04-16T17:06:05Z,2020-04-23T12:13:13Z,2020-04-23T12:19:13Z,MERGED,True,415,405,19,https://github.com/jfsmig,Speedup the RAWX,26,"['enhancement :sparkles:', 'priority:3 :rage1:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/2017,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2017#issuecomment-617272010,"SUMMARY
Speed-up the Golang RAWX with various techniques:

avoid systematically closing the connections
try to use the stack instead of the heap:

pass structures instead of pointers
remove log traces
avoid Printf and prefer strings.Builder
avoid memory copies
remove unnecessary calls


reuse structures and avoid create/destroy cycles
increase the queue to beanstalkd
parallelize on multiple beanstalkd connections
save syscalls when possible (pid cached)
trim unused code

ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
7.0.0.0a2-pouet-pouet","Codecov Report

Merging #2017 into master will decrease coverage by 20.51%.
The diff coverage is 56.13%.


@@             Coverage Diff             @@
##           master    #2017       +/-   ##
===========================================
- Coverage   77.49%   56.98%   -20.50%     
===========================================
  Files         335      228      -107     
  Lines       67771    50358    -17413     
===========================================
- Hits        52511    28691    -23820     
- Misses      15130    21494     +6364     
- Partials      130      173       +43     



Impacted Files
Coverage Δ





rawx/buffer_pool.go
80.00% <ø> (-6.66%)
⬇️


rawx/chunkrepo.go
70.84% <ø> (ø)



rawx/conf_reader.go
75.61% <0.00%> (-5.96%)
⬇️


rawx/configuration.go
56.10% <ø> (ø)



rawx/hexa.go
87.50% <ø> (-12.50%)
⬇️


rawx/chunk_info.go
53.38% <25.31%> (-30.01%)
⬇️


rawx/logger.go
62.14% <45.24%> (-9.14%)
⬇️


rawx/handler_chunk.go
56.44% <62.75%> (-17.69%)
⬇️


rawx/rawx.go
50.00% <66.67%> (-18.75%)
⬇️


rawx/filerepo.go
63.82% <76.82%> (-2.99%)
⬇️


... and 262 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update be4bf24...694c8ac. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2018,2020-04-20T14:51:59Z,2020-04-20T15:51:13Z,2020-04-20T15:51:17Z,MERGED,True,11,3,2,https://github.com/fvennetier,account: make known errors less verbose,1,"['bug :scream:', 'Logging :scroll:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/2018,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2018,"SUMMARY
Reduce the verbosity of some known errors, prevent them from filling the logs with stack traces.
Jira: OS-505
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account service

SDS VERSION
5.4.0.0b0-17-gd8d2a1f2","SUMMARY
Reduce the verbosity of some known errors, prevent them from filling the logs with stack traces.
Jira: OS-505
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account service

SDS VERSION
5.4.0.0b0-17-gd8d2a1f2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2018,2020-04-20T14:51:59Z,2020-04-20T15:51:13Z,2020-04-20T15:51:17Z,MERGED,True,11,3,2,https://github.com/fvennetier,account: make known errors less verbose,1,"['bug :scream:', 'Logging :scroll:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/2018,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2018#issuecomment-616639063,"SUMMARY
Reduce the verbosity of some known errors, prevent them from filling the logs with stack traces.
Jira: OS-505
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account service

SDS VERSION
5.4.0.0b0-17-gd8d2a1f2","Codecov Report

Merging #2018 into 5.x will increase coverage by 0.27%.
The diff coverage is 33.34%.


@@            Coverage Diff             @@
##              5.x    #2018      +/-   ##
==========================================
+ Coverage   77.46%   77.73%   +0.27%     
==========================================
  Files         360      345      -15     
  Lines       70558    68894    -1664     
==========================================
- Hits        54649    53546    -1103     
+ Misses      15777    15348     -429     
+ Partials      132        0     -132     



Impacted Files
Coverage Δ





oio/common/redis_conn.py
73.41% <ø> (ø)



oio/common/wsgi.py
45.35% <33.34%> (+2.14%)
⬆️


tests/functional/audit/test_audit_storage.py
84.56% <0.00%> (-4.06%)
⬇️


tests/functional/event/filters/test_filters.py
95.56% <0.00%> (-2.96%)
⬇️


oio/blob/indexer.py
66.67% <0.00%> (-2.27%)
⬇️


tests/functional/cli/admin/test_service_decache.py
83.34% <0.00%> (-2.08%)
⬇️


sqliterepo/election.c
80.79% <0.00%> (-1.68%)
⬇️


oio/rdir/client.py
84.26% <0.00%> (-1.54%)
⬇️


core/log.c
64.24% <0.00%> (-1.32%)
⬇️


oio/api/io.py
88.42% <0.00%> (-0.85%)
⬇️


... and 56 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3baa2d1...d8d2a1f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2020,2020-04-22T07:04:15Z,2020-04-22T08:54:30Z,2020-04-24T15:13:52Z,MERGED,True,1,1,1,https://github.com/murlock,Fix oio-meta2-rebuilder parameters,1,[],https://github.com/open-io/oio-sds/pull/2020,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2020,"SUMMARY
A reference of old parameter references-per-second was left in oio-meta2-rebuilder
Thanks to @pybt for the report
Closes  #2019
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-meta2-rebuilder
SDS VERSION
openio 5.3.0","SUMMARY
A reference of old parameter references-per-second was left in oio-meta2-rebuilder
Thanks to @pybt for the report
Closes  #2019
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-meta2-rebuilder
SDS VERSION
openio 5.3.0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2020,2020-04-22T07:04:15Z,2020-04-22T08:54:30Z,2020-04-24T15:13:52Z,MERGED,True,1,1,1,https://github.com/murlock,Fix oio-meta2-rebuilder parameters,1,[],https://github.com/open-io/oio-sds/pull/2020,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2020#issuecomment-617641226,"SUMMARY
A reference of old parameter references-per-second was left in oio-meta2-rebuilder
Thanks to @pybt for the report
Closes  #2019
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio-meta2-rebuilder
SDS VERSION
openio 5.3.0","Codecov Report

Merging #2020 into 5.x will increase coverage by 1.37%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              5.x    #2020      +/-   ##
==========================================
+ Coverage   76.06%   77.42%   +1.37%     
==========================================
  Files         344      360      +16     
  Lines       68809    70563    +1754     
==========================================
+ Hits        52330    54628    +2298     
+ Misses      16479    15803     -676     
- Partials        0      132     +132     



Impacted Files
Coverage Δ





tests/functional/audit/test_audit_storage.py
84.56% <0.00%> (-3.25%)
⬇️


oio/blob/indexer.py
66.67% <0.00%> (-2.27%)
⬇️


tests/functional/cli/admin/test_service_decache.py
81.25% <0.00%> (-2.08%)
⬇️


proxy/metacd_http.c
90.30% <0.00%> (-1.38%)
⬇️


oio/container/backup.py
72.92% <0.00%> (-1.36%)
⬇️


oio/account/client.py
83.02% <0.00%> (-0.94%)
⬇️


...ests/functional/container/test_container_backup.py
78.56% <0.00%> (-0.43%)
⬇️


proxy/cs_actions.c
89.84% <0.00%> (-0.33%)
⬇️


rawx/configuration.go
56.10% <0.00%> (ø)



rawx/notifier.go
71.23% <0.00%> (ø)



... and 93 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b1eb769...68dc832. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2021,2020-04-23T12:51:27Z,2020-04-27T08:30:19Z,2020-09-09T09:54:59Z,MERGED,True,547,474,18,https://github.com/murlock,Backport rawx,1,[],https://github.com/open-io/oio-sds/pull/2021,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2021,"SUMMARY
Backport RAWX changes in 19.04
ISSUE TYPE

Backport Pull Request

COMPONENT NAME
rawx
SDS VERSION
5.4.0dev1","SUMMARY
Backport RAWX changes in 19.04
ISSUE TYPE

Backport Pull Request

COMPONENT NAME
rawx
SDS VERSION
5.4.0dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2022,2020-04-24T16:26:22Z,2020-04-30T15:58:08Z,2020-05-05T08:48:30Z,MERGED,True,3,0,1,https://github.com/jfsmig,sqliterepo: Restore an option to prevent any lock operation.,1,[],https://github.com/open-io/oio-sds/pull/2022,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2022,"SUMMARY
Add an option to prevent any xattr check.
ISSUE TYPE
Welcome in the Danger Zone
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.10.1.dev10","SUMMARY
Add an option to prevent any xattr check.
ISSUE TYPE
Welcome in the Danger Zone
COMPONENT NAME
sqliterepo
SDS VERSION
openio 4.10.1.dev10",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2023,2020-04-24T16:37:49Z,2020-04-27T08:25:28Z,2020-05-05T08:48:32Z,CLOSED,False,550,474,19,https://github.com/jfsmig,5.x sqliterepo nolock and also the rawx  yallah,3,[],https://github.com/open-io/oio-sds/pull/2023,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2023,"SUMMARY


ISSUE TYPE


Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME

SDS VERSION



ADDITIONAL INFORMATION","SUMMARY


ISSUE TYPE


Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME

SDS VERSION



ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2024,2020-04-27T12:08:44Z,2020-05-04T14:23:27Z,2020-09-09T09:55:00Z,CLOSED,False,7,1,1,https://github.com/murlock,wsgi: convert ServiceBusy to ServiceUnavailable,1,[],https://github.com/open-io/oio-sds/pull/2024,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2024,"SUMMARY
Enrich dispatch_request to catch ServiceBusy to log error instead
of stack trace exception and response with ServiceUnavailable.
Fixes #OS-512
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
wsgi
SDS VERSION
4.x","SUMMARY
Enrich dispatch_request to catch ServiceBusy to log error instead
of stack trace exception and response with ServiceUnavailable.
Fixes #OS-512
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
wsgi
SDS VERSION
4.x",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2024,2020-04-27T12:08:44Z,2020-05-04T14:23:27Z,2020-09-09T09:55:00Z,CLOSED,False,7,1,1,https://github.com/murlock,wsgi: convert ServiceBusy to ServiceUnavailable,1,[],https://github.com/open-io/oio-sds/pull/2024,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/2024#issuecomment-623495084,"SUMMARY
Enrich dispatch_request to catch ServiceBusy to log error instead
of stack trace exception and response with ServiceUnavailable.
Fixes #OS-512
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
wsgi
SDS VERSION
4.x",Already fixed in 5.x,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2025,2020-04-27T14:22:37Z,2020-04-28T07:12:20Z,2020-09-09T09:54:54Z,MERGED,True,11,3,3,https://github.com/murlock,Backport ,2,[],https://github.com/open-io/oio-sds/pull/2025,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2025,"SUMMARY
Backport of 930042e, avoiding crash on invalid NULL key
Also remove useless dependencies on plyvel
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
4.x","SUMMARY
Backport of 930042e, avoiding crash on invalid NULL key
Also remove useless dependencies on plyvel
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
4.x",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2026,2020-04-29T15:28:57Z,2020-04-30T08:30:21Z,2020-04-30T08:30:27Z,MERGED,True,73,26,1,https://github.com/fvennetier,proxy: update content/create documentation,1,['documentation :book:'],https://github.com/open-io/oio-sds/pull/2026,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2026,"SUMMARY
Complete the documentation about the content/create route from oioproxy services.
Jira: OS-513
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

oioproxy

SDS VERSION
openio 5.4.1.dev1","SUMMARY
Complete the documentation about the content/create route from oioproxy services.
Jira: OS-513
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

oioproxy

SDS VERSION
openio 5.4.1.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2027,2020-04-30T16:01:11Z,2020-08-05T08:16:13Z,2020-08-05T08:16:14Z,CLOSED,False,31,28,8,https://github.com/jfsmig,Disable (as a default) the MD5 checksums on chunks,4,"['priority:4 :suspect:', 'language:python :snake:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/2027,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2027,"SUMMARY
The logic is still in place, it is possible to restore the checksums with an explicit configuration.
ISSUE TYPE
standardization
COMPONENT NAME
oio, rawx
SDS VERSION
openio 7.0.0.0a3.dev4","SUMMARY
The logic is still in place, it is possible to restore the checksums with an explicit configuration.
ISSUE TYPE
standardization
COMPONENT NAME
oio, rawx
SDS VERSION
openio 7.0.0.0a3.dev4",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2028,2020-05-05T09:24:18Z,2020-05-13T13:10:41Z,2020-08-05T08:16:14Z,MERGED,True,486,317,14,https://github.com/jfsmig,rawx: Misc. improvements,9,"['enhancement :sparkles:', 'priority:4 :suspect:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/2028,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2028,"SUMMARY
xattr
Make the rawx interleave the bunch of fsexattr with the bunch of write. In facts, the xattr are set before the final block (whose size is configurable, default=2MiB). On small chunks, i.e. smaller than the block size, the extended attributes will be stored before the data, so that a GET on the chunk does all the I/O operations sequentially. Prior to this change, the xattr where stored after the data and a GET would read the end of the file and then jump backwards, to the beginning. This cannot be efficient on HDD.
access logs
When logs are not necessary, it is interesting to stop logging to relax the log management chain (especially because the rawx is one of the worst emitters). So, 3 variables have been added to turn the logs on/off for specific chunk requests:

log_access_get: GET, HEAD (enabled by default)
log_access_put: PUT only (enabled by default)
log_access_delete: DELETE only (enabled by default)

Also, the emission of access log lines are not blocking anymore thanks to a go channel. If the emission would have blocked, an alert is raised and the line is wasted.
beanstalkd
We rewrite the connectors to have 1 queue / N workers, so that we don't block anymore on the connection to one backend.  We monitor the availability of the queue and write an alert if the queue would have blocked the caller. Upon a full queue, the event is written in the log.
socket options
Allow to configure specific TCP options: tcp_cork (disabled by default) and tcp_nodelay (disabled by default).
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 5.4.1.dev2","SUMMARY
xattr
Make the rawx interleave the bunch of fsexattr with the bunch of write. In facts, the xattr are set before the final block (whose size is configurable, default=2MiB). On small chunks, i.e. smaller than the block size, the extended attributes will be stored before the data, so that a GET on the chunk does all the I/O operations sequentially. Prior to this change, the xattr where stored after the data and a GET would read the end of the file and then jump backwards, to the beginning. This cannot be efficient on HDD.
access logs
When logs are not necessary, it is interesting to stop logging to relax the log management chain (especially because the rawx is one of the worst emitters). So, 3 variables have been added to turn the logs on/off for specific chunk requests:

log_access_get: GET, HEAD (enabled by default)
log_access_put: PUT only (enabled by default)
log_access_delete: DELETE only (enabled by default)

Also, the emission of access log lines are not blocking anymore thanks to a go channel. If the emission would have blocked, an alert is raised and the line is wasted.
beanstalkd
We rewrite the connectors to have 1 queue / N workers, so that we don't block anymore on the connection to one backend.  We monitor the availability of the queue and write an alert if the queue would have blocked the caller. Upon a full queue, the event is written in the log.
socket options
Allow to configure specific TCP options: tcp_cork (disabled by default) and tcp_nodelay (disabled by default).
ISSUE TYPE
enhancement
COMPONENT NAME
rawx
SDS VERSION
openio 5.4.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2029,2020-05-05T17:05:49Z,2020-05-11T10:00:17Z,2020-05-11T10:00:21Z,MERGED,True,16,10,2,https://github.com/fvennetier,Python API: fix oioproxy URL parsing,2,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/2029,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2029,"SUMMARY
Refactor the code so we handle oioproxy's URL the same way, whether it comes from the application's configuration object, a keyword parameter, or the namespace configuration file.
If there is no scheme in the URL, consider it is HTTP. If there is a scheme, use it (but only HTTP will work at the moment).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.4.0.dev7","SUMMARY
Refactor the code so we handle oioproxy's URL the same way, whether it comes from the application's configuration object, a keyword parameter, or the namespace configuration file.
If there is no scheme in the URL, consider it is HTTP. If there is a scheme, use it (but only HTTP will work at the moment).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.4.0.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2029,2020-05-05T17:05:49Z,2020-05-11T10:00:17Z,2020-05-11T10:00:21Z,MERGED,True,16,10,2,https://github.com/fvennetier,Python API: fix oioproxy URL parsing,2,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/2029,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2029#issuecomment-624728081,"SUMMARY
Refactor the code so we handle oioproxy's URL the same way, whether it comes from the application's configuration object, a keyword parameter, or the namespace configuration file.
If there is no scheme in the URL, consider it is HTTP. If there is a scheme, use it (but only HTTP will work at the moment).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.4.0.dev7","Codecov Report

Merging #2029 into 5.x will increase coverage by 0.03%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              5.x    #2029      +/-   ##
==========================================
+ Coverage   77.54%   77.57%   +0.03%     
==========================================
  Files         360      360              
  Lines       70612    70615       +3     
==========================================
+ Hits        54749    54771      +22     
+ Misses      15731    15712      -19     
  Partials      132      132              



Impacted Files
Coverage Δ





oio/common/client.py
100.00% <100.00%> (ø)



oio/container/client.py
85.91% <100.00%> (-0.27%)
⬇️


sqliterepo/replication_client.c
63.39% <0.00%> (-2.81%)
⬇️


metautils/lib/gridd_client_ext.c
80.60% <0.00%> (-2.23%)
⬇️


server/slab.c
82.47% <0.00%> (-1.29%)
⬇️


tests/functional/account/test_client.py
50.53% <0.00%> (-1.05%)
⬇️


sqlx/sqlx_service.c
84.49% <0.00%> (-0.94%)
⬇️


meta1v2/meta1_backend_internals.c
75.23% <0.00%> (-0.88%)
⬇️


sqliterepo/election.c
80.55% <0.00%> (-0.81%)
⬇️


tests/functional/audit/test_audit_storage.py
87.81% <0.00%> (-0.81%)
⬇️


... and 43 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 62a6dd9...3be708f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2030,2020-05-06T17:33:23Z,2020-05-13T13:22:13Z,2020-05-14T09:30:54Z,MERGED,True,37,18,4,https://github.com/fvennetier,Python API: compute extra perfdata,1,[],https://github.com/open-io/oio-sds/pull/2030,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2030,"SUMMARY
Compute average, standard deviation and relative standard deviation for
chunk operations.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
idc","SUMMARY
Compute average, standard deviation and relative standard deviation for
chunk operations.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
idc",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2031,2020-05-07T09:48:39Z,2020-06-02T15:25:35Z,2020-09-09T09:58:24Z,MERGED,True,18,8,2,https://github.com/murlock,conscience-agent: add timeout for http stats,1,[],https://github.com/open-io/oio-sds/pull/2031,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2031,"SUMMARY
It appears that some services may be seen as down by the conscience but
still running: the http stats plugin did not implement timeout on requests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
conscience-agent
SDS VERSION
5.x","SUMMARY
It appears that some services may be seen as down by the conscience but
still running: the http stats plugin did not implement timeout on requests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
conscience-agent
SDS VERSION
5.x",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2032,2020-05-07T14:13:43Z,2020-05-13T09:46:00Z,2020-06-04T07:02:07Z,MERGED,True,3,3,3,https://github.com/murlock,rawx: log req.host instead of rawx.url,1,[],https://github.com/open-io/oio-sds/pull/2032,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2032,"SUMMARY
It will be usefull to see which requests uses TLS or plain IP:PORT
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
7.0.0.0a3","SUMMARY
It will be usefull to see which requests uses TLS or plain IP:PORT
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
7.0.0.0a3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2033,2020-05-07T15:03:30Z,2020-05-12T11:28:52Z,2020-05-12T11:28:56Z,MERGED,True,9,2,2,https://github.com/murlock,cli: expose perfdata as dedicated entry,1,[],https://github.com/open-io/oio-sds/pull/2033,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2033,"SUMMARY
To allow use of --dump-perfdata from other tools,
the perdata will be exposed as dedicated columns in output.
The previous output is still available through the --debug flag.
You should use format yaml or json for best output
Fixes #OS-520
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
cli
SDS VERSION
5.x

ADDITIONAL INFORMATION
Best display with yaml formatter
openio --dump-perfdata object create a /etc/magic -f yaml
- Hash: 272913026300E7AE9B5E2D51F138E674
  Name: magic
  Perfdata:
    data_size: 111
    proxy:
      meta2: 0.002684
      overall: 0.0062420000322163105
      resolve: 0.001771
    rawx:
      http://127.0.0.1:6010/92C08C2F08D20542F462965E0600154179761EA4B2F83B763F9345A4FAC68B14: 0.0006470000371336937
      overall: 0.0011420000810176134
  Size: 111
  Status: Ok","SUMMARY
To allow use of --dump-perfdata from other tools,
the perdata will be exposed as dedicated columns in output.
The previous output is still available through the --debug flag.
You should use format yaml or json for best output
Fixes #OS-520
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
cli
SDS VERSION
5.x

ADDITIONAL INFORMATION
Best display with yaml formatter
openio --dump-perfdata object create a /etc/magic -f yaml
- Hash: 272913026300E7AE9B5E2D51F138E674
  Name: magic
  Perfdata:
    data_size: 111
    proxy:
      meta2: 0.002684
      overall: 0.0062420000322163105
      resolve: 0.001771
    rawx:
      http://127.0.0.1:6010/92C08C2F08D20542F462965E0600154179761EA4B2F83B763F9345A4FAC68B14: 0.0006470000371336937
      overall: 0.0011420000810176134
  Size: 111
  Status: Ok",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2034,2020-05-07T15:54:30Z,2020-07-02T12:22:00Z,2020-07-02T12:22:47Z,MERGED,True,6,48,3,https://github.com/murlock,cli: cleanup make_client,1,[],https://github.com/open-io/oio-sds/pull/2034,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2034,"SUMMARY
When using interactive CLI with
$ openio --dump-perfdata
(openio) object create cnt /etc/magic

the ObjectStorageAPI is initialized though lifeclycle/client.py instead of object/client.py,
the perfdata attrbute is lost.
This PR replace duplicated API_NAME storage by FIXME
Note:
This PR requires #2033 to allow use of --dump-perfdata  in interactive mode.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
cli
SDS VERSION
7.0.0.0a3","SUMMARY
When using interactive CLI with
$ openio --dump-perfdata
(openio) object create cnt /etc/magic

the ObjectStorageAPI is initialized though lifeclycle/client.py instead of object/client.py,
the perfdata attrbute is lost.
This PR replace duplicated API_NAME storage by FIXME
Note:
This PR requires #2033 to allow use of --dump-perfdata  in interactive mode.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
cli
SDS VERSION
7.0.0.0a3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2034,2020-05-07T15:54:30Z,2020-07-02T12:22:00Z,2020-07-02T12:22:47Z,MERGED,True,6,48,3,https://github.com/murlock,cli: cleanup make_client,1,[],https://github.com/open-io/oio-sds/pull/2034,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/2034#issuecomment-638179631,"SUMMARY
When using interactive CLI with
$ openio --dump-perfdata
(openio) object create cnt /etc/magic

the ObjectStorageAPI is initialized though lifeclycle/client.py instead of object/client.py,
the perfdata attrbute is lost.
This PR replace duplicated API_NAME storage by FIXME
Note:
This PR requires #2033 to allow use of --dump-perfdata  in interactive mode.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
cli
SDS VERSION
7.0.0.0a3","The codepath is not the same when called from interactive mode or from command line:
$ openio lifecycle get magic
# ObjectStorageApi from common/clientmanager.py propery storage
No lifecycle configuration for container magic in account murlock

$ openio
(openio) lifecycle get magic
# ObjectStorageApi from object/client.py
No lifecycle configuration for container magic in account murlock",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2034,2020-05-07T15:54:30Z,2020-07-02T12:22:00Z,2020-07-02T12:22:47Z,MERGED,True,6,48,3,https://github.com/murlock,cli: cleanup make_client,1,[],https://github.com/open-io/oio-sds/pull/2034,https://github.com/codecov-commenter,3,https://github.com/open-io/oio-sds/pull/2034#issuecomment-652912807,"SUMMARY
When using interactive CLI with
$ openio --dump-perfdata
(openio) object create cnt /etc/magic

the ObjectStorageAPI is initialized though lifeclycle/client.py instead of object/client.py,
the perfdata attrbute is lost.
This PR replace duplicated API_NAME storage by FIXME
Note:
This PR requires #2033 to allow use of --dump-perfdata  in interactive mode.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
cli
SDS VERSION
7.0.0.0a3","Codecov Report

Merging #2034 into 7.x will increase coverage by 0.76%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              7.x    #2034      +/-   ##
==========================================
+ Coverage   77.42%   78.17%   +0.76%     
==========================================
  Files         158      378     +220     
  Lines       38987    74161   +35174     
  Branches        0     6642    +6642     
==========================================
+ Hits        30181    57970   +27789     
- Misses       8670    15976    +7306     
- Partials      136      215      +79     



Impacted Files
Coverage Δ





oio/cli/account/client.py
100.00% <100.00%> (ø)



oio/cli/container/client.py
100.00% <100.00%> (ø)



oio/cli/lifecycle/client.py
100.00% <100.00%> (ø)



rawx/buffer_pool.go
80.00% <0.00%> (-6.66%)
⬇️


resolver/hc_resolver.c
90.26% <0.00%> (-2.67%)
⬇️


rawx/handler_chunk.go
78.84% <0.00%> (-1.61%)
⬇️


rawx/handler_info.go
55.82% <0.00%> (-1.32%)
⬇️


proxy/common.c
92.54% <0.00%> (-1.12%)
⬇️


rawx/handler_stat.go
73.64% <0.00%> (-0.67%)
⬇️


sqliterepo/replication.c
84.96% <0.00%> (-0.27%)
⬇️


... and 261 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 82593e7...e5b5199. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2035,2020-05-07T19:12:23Z,2020-05-12T11:22:16Z,2020-05-12T11:22:19Z,MERGED,True,0,1725,4,https://github.com/murlock,Remove old rawx,1,[],https://github.com/open-io/oio-sds/pull/2035,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2035,"SUMMARY
Remove old rawx
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
7.0.0.0a3","SUMMARY
Remove old rawx
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
7.0.0.0a3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2037,2020-05-14T09:24:56Z,2020-05-14T14:16:41Z,2020-05-25T07:54:44Z,MERGED,True,16,9,5,https://github.com/AymericDu,Fix tests,2,[],https://github.com/open-io/oio-sds/pull/2037,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2037,"SUMMARY
Fix tests
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CI
perfdata

SDS VERSION
openio 5.5.1.dev2","SUMMARY
Fix tests
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CI
perfdata

SDS VERSION
openio 5.5.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2038,2020-05-14T09:27:08Z,2020-05-14T14:16:26Z,2020-05-25T07:54:41Z,MERGED,True,3,0,1,https://github.com/AymericDu,CI: Limit the maximum number of databases open simultaneously,1,[],https://github.com/open-io/oio-sds/pull/2038,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2038,"SUMMARY
Limit the maximum number of databases open simultaneously to avoid using too much RAM
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CI

SDS VERSION
openio 5.5.1.dev2","SUMMARY
Limit the maximum number of databases open simultaneously to avoid using too much RAM
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CI

SDS VERSION
openio 5.5.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2039,2020-05-14T09:51:40Z,2020-05-15T07:11:24Z,2020-05-25T07:54:38Z,MERGED,True,1,171,5,https://github.com/AymericDu,Remove useless code,2,[],https://github.com/open-io/oio-sds/pull/2039,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2039,"SUMMARY
Remove useless code
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.1.dev2","SUMMARY
Remove useless code
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2040,2020-05-14T17:18:21Z,2020-06-02T12:55:21Z,2020-06-02T12:55:24Z,MERGED,True,8,1,1,https://github.com/fvennetier,Fix one flaky test,1,[],https://github.com/open-io/oio-sds/pull/2040,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2040,"SUMMARY
Try to get rid of one of the many flaky tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
All.
SDS VERSION
openio 5.5.1.dev5","SUMMARY
Try to get rid of one of the many flaky tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
All.
SDS VERSION
openio 5.5.1.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2040,2020-05-14T17:18:21Z,2020-06-02T12:55:21Z,2020-06-02T12:55:24Z,MERGED,True,8,1,1,https://github.com/fvennetier,Fix one flaky test,1,[],https://github.com/open-io/oio-sds/pull/2040,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2040#issuecomment-637436630,"SUMMARY
Try to get rid of one of the many flaky tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
All.
SDS VERSION
openio 5.5.1.dev5","Codecov Report

Merging #2040 into 5.x will increase coverage by 0.90%.
The diff coverage is 75.00%.


@@            Coverage Diff             @@
##              5.x    #2040      +/-   ##
==========================================
+ Coverage   76.77%   77.67%   +0.90%     
==========================================
  Files         345      360      +15     
  Lines       68924    71400    +2476     
==========================================
+ Hits        52909    55450    +2541     
+ Misses      16015    15813     -202     
- Partials        0      137     +137     



Impacted Files
Coverage Δ





...sts/functional/content/test_content_perfectible.py
83.67% <75.00%> (+1.00%)
⬆️


oio/blob/indexer.py
66.67% <0.00%> (-4.54%)
⬇️


oio/api/base.py
93.07% <0.00%> (-2.97%)
⬇️


oio/conscience/client.py
84.00% <0.00%> (-1.59%)
⬇️


sqliterepo/replication_client.c
63.39% <0.00%> (-1.40%)
⬇️


meta0v2/meta0_backend.c
76.64% <0.00%> (-1.22%)
⬇️


oio/blob/auditor.py
58.29% <0.00%> (-1.14%)
⬇️


oio/directory/meta0.py
83.96% <0.00%> (-0.93%)
⬇️


tests/functional/audit/test_audit_storage.py
87.81% <0.00%> (-0.81%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
80.47% <0.00%> (-0.78%)
⬇️


... and 85 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 47b86bc...0f12699. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2041,2020-05-15T16:58:03Z,2020-05-19T07:54:32Z,2020-05-19T07:54:37Z,MERGED,True,96,30,2,https://github.com/fvennetier,Python API: retry fetch when clues of dirty cache,1,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/2041,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2041,"SUMMARY
When overwriting an object, it happens that the cache is not cleared. Next read then fails miserably, because it tries to fetch chunks from the former object (which do not exist anymore).
The new code will attempt one retry after the cache has been cleared.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.1.dev5","SUMMARY
When overwriting an object, it happens that the cache is not cleared. Next read then fails miserably, because it tries to fetch chunks from the former object (which do not exist anymore).
The new code will attempt one retry after the cache has been cleared.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.1.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2042,2020-05-18T16:05:11Z,2020-05-19T07:39:27Z,2020-08-05T08:16:15Z,MERGED,True,94,87,1,https://github.com/jfsmig,"rawx: Fix unescaped special characters in JSON events, Events config, beanstalkd concurrency",3,"['bug :scream:', 'priority:1 :goberserk:', 'language:Golang']",https://github.com/open-io/oio-sds/pull/2042,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2042,"SUMMARY
Go back to the default JSON encoder.
Prior to this fix, our method was maybe faster but incomplete due to unescaped characters.
ISSUE TYPE
fix
COMPONENT NAME
rawx
SDS VERSION
openio 5.5.1.dev6","SUMMARY
Go back to the default JSON encoder.
Prior to this fix, our method was maybe faster but incomplete due to unescaped characters.
ISSUE TYPE
fix
COMPONENT NAME
rawx
SDS VERSION
openio 5.5.1.dev6",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2043,2020-05-20T15:34:06Z,2020-05-27T13:08:59Z,2020-06-01T07:41:29Z,MERGED,True,87,43,7,https://github.com/fvennetier,Improve performance data collection,3,[],https://github.com/open-io/oio-sds/pull/2043,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2043,"SUMMARY

Call the system's monotonic time function instead of the oio-sds wrapper.
Measure the time taken by the last send() call during uploads.
Fix the download time and EC computation measurements.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.2.dev2","SUMMARY

Call the system's monotonic time function instead of the oio-sds wrapper.
Measure the time taken by the last send() call during uploads.
Fix the download time and EC computation measurements.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.2.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2044,2020-05-26T10:37:22Z,2020-05-27T13:05:19Z,2020-06-08T07:26:29Z,MERGED,True,33,3,2,https://github.com/AymericDu,Check the count of known targets to avoid segfault,1,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/2044,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2044,"SUMMARY
Check the count of known targets to avoid segfault
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oioproxy

SDS VERSION
openio 5.5.2.dev1","SUMMARY
Check the count of known targets to avoid segfault
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oioproxy

SDS VERSION
openio 5.5.2.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2044,2020-05-26T10:37:22Z,2020-05-27T13:05:19Z,2020-06-08T07:26:29Z,MERGED,True,33,3,2,https://github.com/AymericDu,Check the count of known targets to avoid segfault,1,"['bug :scream:', 'priority:2 :rage4:', 'language:C']",https://github.com/open-io/oio-sds/pull/2044,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2044#issuecomment-634119512,"SUMMARY
Check the count of known targets to avoid segfault
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oioproxy

SDS VERSION
openio 5.5.2.dev1","Codecov Report

Merging #2044 into 5.x will decrease coverage by 1.81%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              5.x    #2044      +/-   ##
==========================================
- Coverage   77.52%   75.71%   -1.80%     
==========================================
  Files         359      178     -181     
  Lines       70674    41560   -29114     
==========================================
- Hits        54780    31463   -23317     
+ Misses      15754     9957    -5797     
  Partials      140      140              



Impacted Files
Coverage Δ





core/lb.c
84.93% <100.00%> (+0.05%)
⬆️


meta2v2/meta2_filters_action_content.c
83.09% <0.00%> (-0.73%)
⬇️


core/cs.c
66.22% <0.00%> (-0.45%)
⬇️


core/proxy.c
79.51% <0.00%> (-0.17%)
⬇️


sqlx/sqlx_service.c
84.76% <0.00%> (-0.13%)
⬇️


sqliterepo/repository.c
74.05% <0.00%> (ø)



metautils/lib/comm_message.c
85.03% <0.00%> (ø)



oio/cli/common/commandmanager.py




oio/common/client.py




...s/functional/api/test_objectstorage_performance.py




... and 195 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ec0637f...e801035. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2045,2020-05-28T12:06:40Z,2020-06-03T09:22:47Z,2020-06-03T09:22:51Z,MERGED,True,31,28,4,https://github.com/murlock,rawx: add more logs when replying error,1,[],https://github.com/open-io/oio-sds/pull/2045,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2045,"SUMMARY
When rawx returns an error, there is only few codepath where more info is
logged as error.
I've chosen to always log error when we force connection to be closed instead of
adding LogError before each rr.replyWithError.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
7.0.0.0b2-dev1

ADDITIONAL INFORMATION","SUMMARY
When rawx returns an error, there is only few codepath where more info is
logged as error.
I've chosen to always log error when we force connection to be closed instead of
adding LogError before each rr.replyWithError.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
7.0.0.0b2-dev1

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2045,2020-05-28T12:06:40Z,2020-06-03T09:22:47Z,2020-06-03T09:22:51Z,MERGED,True,31,28,4,https://github.com/murlock,rawx: add more logs when replying error,1,[],https://github.com/open-io/oio-sds/pull/2045,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2045#issuecomment-637666495,"SUMMARY
When rawx returns an error, there is only few codepath where more info is
logged as error.
I've chosen to always log error when we force connection to be closed instead of
adding LogError before each rr.replyWithError.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
7.0.0.0b2-dev1

ADDITIONAL INFORMATION","Codecov Report

Merging #2045 into master will increase coverage by 0.54%.
The diff coverage is 55.18%.


@@            Coverage Diff             @@
##           master    #2045      +/-   ##
==========================================
+ Coverage   77.19%   77.72%   +0.54%     
==========================================
  Files         157      158       +1     
  Lines       38900    39364     +464     
==========================================
+ Hits        30024    30593     +569     
+ Misses       8736     8635     -101     
+ Partials      140      136       -4     



Impacted Files
Coverage Δ





rawx/handler_info.go
57.15% <0.00%> (ø)



rawx/handler_stat.go
74.32% <0.00%> (ø)



rawx/handler_chunk.go
80.23% <54.17%> (+2.79%)
⬆️


rawx/rawx.go
73.34% <100.00%> (+0.92%)
⬆️


rawx/buffer_pool.go
80.00% <0.00%> (-6.66%)
⬇️


metautils/lib/gridd_client_ext.c
81.49% <0.00%> (-1.48%)
⬇️


metautils/lib/gridd_client.c
74.14% <0.00%> (-0.69%)
⬇️


metautils/lib/utils_sockets.c
44.61% <0.00%> (-0.37%)
⬇️


proxy/metacd_http.c
91.43% <0.00%> (-0.30%)
⬇️


proxy/transport_http.c
85.36% <0.00%> (-0.28%)
⬇️


... and 25 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 6c1384a...abea46a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2046,2020-05-29T13:52:01Z,2020-06-01T15:01:02Z,2020-06-08T07:26:25Z,MERGED,True,3,1,1,https://github.com/AymericDu,proxy: Limit size of object list when there is no max,1,[],https://github.com/open-io/oio-sds/pull/2046,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2046,"SUMMARY
Limit size of object list when there is no max
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 5.5.3.dev1","SUMMARY
Limit size of object list when there is no max
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 5.5.3.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2046,2020-05-29T13:52:01Z,2020-06-01T15:01:02Z,2020-06-08T07:26:25Z,MERGED,True,3,1,1,https://github.com/AymericDu,proxy: Limit size of object list when there is no max,1,[],https://github.com/open-io/oio-sds/pull/2046,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2046#issuecomment-636012587,"SUMMARY
Limit size of object list when there is no max
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 5.5.3.dev1","Codecov Report

Merging #2046 into 5.x will decrease coverage by 0.14%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              5.x    #2046      +/-   ##
==========================================
- Coverage   75.70%   75.57%   -0.13%     
==========================================
  Files         178      178              
  Lines       41560    41561       +1     
==========================================
- Hits        31460    31404      -56     
- Misses       9960    10017      +57     
  Partials      140      140              



Impacted Files
Coverage Δ





proxy/m2_actions.c
88.60% <100.00%> (-0.06%)
⬇️


metautils/lib/volume_lock.c
70.00% <0.00%> (-5.00%)
⬇️


server/slab.c
81.82% <0.00%> (-1.94%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0.00%> (-1.85%)
⬇️


metautils/lib/gridd_client_ext.c
80.98% <0.00%> (-1.49%)
⬇️


meta2v2/meta2_filters_action_container.c
62.33% <0.00%> (-1.36%)
⬇️


sqliterepo/election.c
79.69% <0.00%> (-1.25%)
⬇️


rawx-apache2/src/rawx_repository.c
57.06% <0.00%> (-1.19%)
⬇️


metautils/lib/lb.c
90.25% <0.00%> (-0.97%)
⬇️


sqliterepo/cache.c
82.62% <0.00%> (-0.95%)
⬇️


... and 12 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 0ac2da3...d879403. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2047,2020-06-01T09:30:38Z,2020-06-26T22:04:42Z,2020-08-05T08:16:21Z,MERGED,True,272,2399,120,https://github.com/jfsmig,Remove unused or commented code,20,[],https://github.com/open-io/oio-sds/pull/2047,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2047,"SUMMARY
As the time goes, it happens that code dies. No one uses it anymore.
ISSUE TYPE
cleanup
COMPONENT NAME
all of them
SDS VERSION
openio 7.0.0.0b1.dev21","SUMMARY
As the time goes, it happens that code dies. No one uses it anymore.
ISSUE TYPE
cleanup
COMPONENT NAME
all of them
SDS VERSION
openio 7.0.0.0b1.dev21",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2047,2020-06-01T09:30:38Z,2020-06-26T22:04:42Z,2020-08-05T08:16:21Z,MERGED,True,272,2399,120,https://github.com/jfsmig,Remove unused or commented code,20,[],https://github.com/open-io/oio-sds/pull/2047,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/2047#issuecomment-638180501,"SUMMARY
As the time goes, it happens that code dies. No one uses it anymore.
ISSUE TYPE
cleanup
COMPONENT NAME
all of them
SDS VERSION
openio 7.0.0.0b1.dev21",But 'oio-meta0-client` is used by travis,True,{'THUMBS_UP': ['https://github.com/jfsmig']}
open-io/oio-sds,https://github.com/open-io/oio-sds,2047,2020-06-01T09:30:38Z,2020-06-26T22:04:42Z,2020-08-05T08:16:21Z,MERGED,True,272,2399,120,https://github.com/jfsmig,Remove unused or commented code,20,[],https://github.com/open-io/oio-sds/pull/2047,https://github.com/jfsmig,3,https://github.com/open-io/oio-sds/pull/2047#issuecomment-640904401,"SUMMARY
As the time goes, it happens that code dies. No one uses it anymore.
ISSUE TYPE
cleanup
COMPONENT NAME
all of them
SDS VERSION
openio 7.0.0.0b1.dev21","You should make 'oio-meta0-client' great again


You should make 'oio-meta0-client' great again

oio-meta0-client has been restored, the commit that removed it has been removed.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2047,2020-06-01T09:30:38Z,2020-06-26T22:04:42Z,2020-08-05T08:16:21Z,MERGED,True,272,2399,120,https://github.com/jfsmig,Remove unused or commented code,20,[],https://github.com/open-io/oio-sds/pull/2047,https://github.com/codecov-commenter,4,https://github.com/open-io/oio-sds/pull/2047#issuecomment-640921692,"SUMMARY
As the time goes, it happens that code dies. No one uses it anymore.
ISSUE TYPE
cleanup
COMPONENT NAME
all of them
SDS VERSION
openio 7.0.0.0b1.dev21","Codecov Report

Merging #2047 into master will increase coverage by 0.90%.
The diff coverage is 86.33%.


@@            Coverage Diff             @@
##           master    #2047      +/-   ##
==========================================
+ Coverage   78.25%   79.15%   +0.90%     
==========================================
  Files         372      370       -2     
  Lines       73184    73186       +2     
  Branches     6553     6485      -68     
==========================================
+ Hits        57265    57923     +658     
+ Misses      15707    15051     -656     
  Partials      212      212              



Impacted Files
Coverage Δ





cluster/module/expr.eval.c
28.70% <ø> (ø)



core/cfg.c
65.60% <ø> (ø)



core/cs.c
65.77% <ø> (ø)



core/ext.c
95.96% <ø> (ø)



core/lb.c
86.80% <ø> (ø)



core/loc.c
68.75% <ø> (ø)



core/log.c
60.31% <ø> (ø)



core/str.c
87.56% <ø> (-0.22%)
⬇️


core/url.c
72.94% <ø> (-3.20%)
⬇️


core/var.c
75.87% <ø> (ø)



... and 108 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update ce27361...d8423c7. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2048,2020-06-03T12:09:37Z,2020-06-04T14:18:13Z,2020-06-04T14:18:17Z,MERGED,True,3,2,1,https://github.com/murlock,Python API: protect against read-after-close operations,1,[],https://github.com/open-io/oio-sds/pull/2048,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2048,"SUMMARY
During test, errors previously catch by OS-361 are not more catch when TLS mode is enabled.
Jira: R2004-5
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
SDS VERSION
7.0.0.0b2-dev4

ADDITIONAL INFORMATION","SUMMARY
During test, errors previously catch by OS-361 are not more catch when TLS mode is enabled.
Jira: R2004-5
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
SDS VERSION
7.0.0.0b2-dev4

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2048,2020-06-03T12:09:37Z,2020-06-04T14:18:13Z,2020-06-04T14:18:17Z,MERGED,True,3,2,1,https://github.com/murlock,Python API: protect against read-after-close operations,1,[],https://github.com/open-io/oio-sds/pull/2048,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2048#issuecomment-638861004,"SUMMARY
During test, errors previously catch by OS-361 are not more catch when TLS mode is enabled.
Jira: R2004-5
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
SDS VERSION
7.0.0.0b2-dev4

ADDITIONAL INFORMATION","Codecov Report

Merging #2048 into master will decrease coverage by 5.13%.
The diff coverage is 50.00%.


@@            Coverage Diff             @@
##           master    #2048      +/-   ##
==========================================
- Coverage   77.42%   72.30%   -5.12%     
==========================================
  Files         158      367     +209     
  Lines       38987    73217   +34230     
  Branches        0     6572    +6572     
==========================================
+ Hits        30181    52930   +22749     
- Misses       8670    20147   +11477     
- Partials      136      140       +4     



Impacted Files
Coverage Δ





oio/common/http_eventlet.py
77.58% <50.00%> (ø)



meta2v2/meta2_filters_action_container.c
62.81% <0.00%> (-2.10%)
⬇️


metautils/lib/utils_resolv.c
46.94% <0.00%> (-2.04%)
⬇️


rawx/handler_info.go
55.82% <0.00%> (-1.32%)
⬇️


rawx/handler_chunk.go
79.18% <0.00%> (-1.26%)
⬇️


rawx/handler_stat.go
73.64% <0.00%> (-0.67%)
⬇️


resolver/hc_resolver.c
92.61% <0.00%> (-0.32%)
⬇️


sqliterepo/replication.c
84.96% <0.00%> (-0.27%)
⬇️


rawx/logger.go
70.84% <0.00%> (-0.13%)
⬇️


sqliterepo/replication_dispatcher.c
73.67% <0.00%> (ø)



... and 221 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 82593e7...c0a206f. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2049,2020-06-04T07:06:05Z,2020-06-04T13:08:31Z,2020-06-04T13:08:35Z,MERGED,True,10,0,4,https://github.com/murlock,rawx: add tag http or https,1,[],https://github.com/open-io/oio-sds/pull/2049,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2049,"SUMMARY
With new feature to serve plain or TLS requests,
we should be able to distinguish traffic on monitoring.
This PR add field http or https on access logs:
juin 04 03:57:24 E480 OIO,OPENIO,rawx,1[15159]: 15159 access INF - 127.0.0.1:6009 127.0.0.1:36648 DELETE 204 2531 0 0 - create-3CE15D35F4DE0A077FCA1577A /B96C425504555470FAC63DFCA363DFD509DE150A3A982164D09E977FD7703602 http
juin 04 03:57:29 E480 OIO,OPENIO,rawx,1[15159]: 15159 access INF - 127.0.0.1:6010 127.0.0.1:56174 PUT 201 557 0 111 - create-3CF802CBDBE80BBF8F2CB1423 /ACFDCE4232A653A4C1162301F8A2DC4571EE998D7CBE802AB0548D46C0E95223 https

Fixes CUS-119
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
7.0.0.0a3","SUMMARY
With new feature to serve plain or TLS requests,
we should be able to distinguish traffic on monitoring.
This PR add field http or https on access logs:
juin 04 03:57:24 E480 OIO,OPENIO,rawx,1[15159]: 15159 access INF - 127.0.0.1:6009 127.0.0.1:36648 DELETE 204 2531 0 0 - create-3CE15D35F4DE0A077FCA1577A /B96C425504555470FAC63DFCA363DFD509DE150A3A982164D09E977FD7703602 http
juin 04 03:57:29 E480 OIO,OPENIO,rawx,1[15159]: 15159 access INF - 127.0.0.1:6010 127.0.0.1:56174 PUT 201 557 0 111 - create-3CF802CBDBE80BBF8F2CB1423 /ACFDCE4232A653A4C1162301F8A2DC4571EE998D7CBE802AB0548D46C0E95223 https

Fixes CUS-119
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
7.0.0.0a3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2049,2020-06-04T07:06:05Z,2020-06-04T13:08:31Z,2020-06-04T13:08:35Z,MERGED,True,10,0,4,https://github.com/murlock,rawx: add tag http or https,1,[],https://github.com/open-io/oio-sds/pull/2049,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2049#issuecomment-638702923,"SUMMARY
With new feature to serve plain or TLS requests,
we should be able to distinguish traffic on monitoring.
This PR add field http or https on access logs:
juin 04 03:57:24 E480 OIO,OPENIO,rawx,1[15159]: 15159 access INF - 127.0.0.1:6009 127.0.0.1:36648 DELETE 204 2531 0 0 - create-3CE15D35F4DE0A077FCA1577A /B96C425504555470FAC63DFCA363DFD509DE150A3A982164D09E977FD7703602 http
juin 04 03:57:29 E480 OIO,OPENIO,rawx,1[15159]: 15159 access INF - 127.0.0.1:6010 127.0.0.1:56174 PUT 201 557 0 111 - create-3CF802CBDBE80BBF8F2CB1423 /ACFDCE4232A653A4C1162301F8A2DC4571EE998D7CBE802AB0548D46C0E95223 https

Fixes CUS-119
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
rawx
SDS VERSION
7.0.0.0a3","Codecov Report

Merging #2049 into master will increase coverage by 0.71%.
The diff coverage is 75.00%.


@@            Coverage Diff             @@
##           master    #2049      +/-   ##
==========================================
+ Coverage   77.42%   78.12%   +0.71%     
==========================================
  Files         158      378     +220     
  Lines       38987    73330   +34343     
  Branches        0     6562    +6562     
==========================================
+ Hits        30181    57283   +27102     
- Misses       8670    15833    +7163     
- Partials      136      214      +78     



Impacted Files
Coverage Δ





rawx/handler_info.go
55.82% <0.00%> (-1.32%)
⬇️


rawx/handler_stat.go
73.64% <0.00%> (-0.67%)
⬇️


rawx/handler_chunk.go
80.51% <100.00%> (+0.06%)
⬆️


rawx/logger.go
72.10% <100.00%> (+1.13%)
⬆️


rawx/buffer_pool.go
80.00% <0.00%> (-6.66%)
⬇️


meta2v2/meta2_filters_action_container.c
62.81% <0.00%> (-2.10%)
⬇️


rawx/filerepo.go
76.41% <0.00%> (-0.74%)
⬇️


resolver/hc_resolver.c
92.29% <0.00%> (-0.64%)
⬇️


sqliterepo/replication.c
84.96% <0.00%> (-0.27%)
⬇️


proxy/m2_actions.c
88.32% <0.00%> (-0.06%)
⬇️


... and 257 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 82593e7...15ef32c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2050,2020-06-04T13:56:13Z,2020-06-04T16:30:32Z,2020-06-04T16:30:36Z,MERGED,True,14,11,3,https://github.com/fvennetier,Fix warnings raised by the documentation extractor,1,['documentation :book:'],https://github.com/open-io/oio-sds/pull/2050,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2050,"SUMMARY
Fix several warnings raised during the extraction of oio-sds APIs documentations.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

account service
oioproxy
rdir

SDS VERSION
openio 7.0.0.0b2.dev7","SUMMARY
Fix several warnings raised during the extraction of oio-sds APIs documentations.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME

account service
oioproxy
rdir

SDS VERSION
openio 7.0.0.0b2.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2051,2020-06-04T16:11:57Z,2020-06-08T12:59:04Z,2020-06-30T15:12:55Z,MERGED,True,75,9,6,https://github.com/AymericDu,Check size of all uploaded chunks,2,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/2051,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2051,"SUMMARY
Check size of all uploaded chunks
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
blob-mover
blob-rebuilder

SDS VERSION
openio 5.5.3.dev5","SUMMARY
Check size of all uploaded chunks
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
blob-mover
blob-rebuilder

SDS VERSION
openio 5.5.3.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2051,2020-06-04T16:11:57Z,2020-06-08T12:59:04Z,2020-06-30T15:12:55Z,MERGED,True,75,9,6,https://github.com/AymericDu,Check size of all uploaded chunks,2,['language:python :snake:'],https://github.com/open-io/oio-sds/pull/2051,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2051#issuecomment-640434543,"SUMMARY
Check size of all uploaded chunks
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
blob-mover
blob-rebuilder

SDS VERSION
openio 5.5.3.dev5","Codecov Report

Merging #2051 into 5.x will increase coverage by 4.24%.
The diff coverage is 80.00%.


@@            Coverage Diff             @@
##              5.x    #2051      +/-   ##
==========================================
+ Coverage   75.14%   79.38%   +4.24%     
==========================================
  Files         163      393     +230     
  Lines       39790    74981   +35191     
  Branches        0     6949    +6949     
==========================================
+ Hits        29898    59513   +29615     
- Misses       9892    15229    +5337     
- Partials        0      239     +239     



Impacted Files
Coverage Δ





oio/api/ec.py
91.58% <50.00%> (ø)



oio/api/replication.py
81.45% <50.00%> (ø)



oio/blob/client.py
90.54% <72.23%> (ø)



oio/blob/mover.py
46.71% <100.00%> (ø)



oio/content/factory.py
80.96% <100.00%> (ø)



tests/functional/blob/test_mover.py
100.00% <100.00%> (ø)



meta0v2/meta0_remote.c
74.29% <0.00%> (-8.57%)
⬇️


metautils/lib/volume_lock.c
70.00% <0.00%> (-5.00%)
⬇️


meta0v2/meta0_backend.c
76.64% <0.00%> (-1.22%)
⬇️


meta0v2/meta0_gridd_dispatcher.c
80.47% <0.00%> (-0.78%)
⬇️


... and 283 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 74a557d...2d65361. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2052,2020-06-08T09:26:56Z,2020-06-08T21:31:33Z,2020-08-05T08:16:19Z,MERGED,True,33,11,12,https://github.com/jfsmig,core: move lrutree from metautils/ to core/,5,"['priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/2052,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2052,"SUMMARY
Move metautils/lib/lrutree.* and prepare its integration in C++ code.
Also restore a removed function.
ISSUE TYPE
cleanup
COMPONENT NAME
metautils, core
SDS VERSION
openio 7.0.1.dev5","SUMMARY
Move metautils/lib/lrutree.* and prepare its integration in C++ code.
Also restore a removed function.
ISSUE TYPE
cleanup
COMPONENT NAME
metautils, core
SDS VERSION
openio 7.0.1.dev5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2052,2020-06-08T09:26:56Z,2020-06-08T21:31:33Z,2020-08-05T08:16:19Z,MERGED,True,33,11,12,https://github.com/jfsmig,core: move lrutree from metautils/ to core/,5,"['priority:3 :rage1:', 'language:C']",https://github.com/open-io/oio-sds/pull/2052,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2052#issuecomment-640601040,"SUMMARY
Move metautils/lib/lrutree.* and prepare its integration in C++ code.
Also restore a removed function.
ISSUE TYPE
cleanup
COMPONENT NAME
metautils, core
SDS VERSION
openio 7.0.1.dev5","Codecov Report

Merging #2052 into master will decrease coverage by 0.11%.
The diff coverage is 0.00%.


@@            Coverage Diff             @@
##           master    #2052      +/-   ##
==========================================
- Coverage   78.23%   78.13%   -0.10%     
==========================================
  Files         378      378              
  Lines       73330    73334       +4     
  Branches     6562     6563       +1     
==========================================
- Hits        57366    57293      -73     
- Misses      15749    15828      +79     
+ Partials      215      213       -2     



Impacted Files
Coverage Δ





cache/cache_lru.c
80.96% <ø> (ø)



core/lrutree.c
95.24% <0.00%> (ø)



events/oio_events_queue_buffer.c
100.00% <ø> (ø)



proxy/common.h
100.00% <ø> (ø)



resolver/hc_resolver.c
92.61% <ø> (-0.32%)
⬇️


tests/unit/test_cache_lru.c
100.00% <ø> (ø)



tests/unit/test_lrutree.c
100.00% <ø> (ø)



oio/content/ec.py
55.74% <0.00%> (-26.22%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0.00%> (-7.14%)
⬇️


tests/functional/cli/admin/test_service_decache.py
81.25% <0.00%> (-4.16%)
⬇️


... and 44 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3b39c11...f63e906. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2053,2020-06-11T09:43:31Z,2020-07-06T08:30:06Z,2020-09-09T09:57:12Z,MERGED,True,26,11,1,https://github.com/murlock,Admin CLI: Enhance meta0 check,1,[],https://github.com/open-io/oio-sds/pull/2053,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2053,"SUMMARY
The previous version of openio-admin meta0 check didn't show
valuable information when a mismatch between ZK and conscience occurs.
The new command list emit Warn for meta0 down and Error when a
mismatch occurs.
The return code is also set when Error is emitted
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
7.0.0-dev1

ADDITIONAL INFORMATION
Before


With this PR:","SUMMARY
The previous version of openio-admin meta0 check didn't show
valuable information when a mismatch between ZK and conscience occurs.
The new command list emit Warn for meta0 down and Error when a
mismatch occurs.
The return code is also set when Error is emitted
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
7.0.0-dev1

ADDITIONAL INFORMATION
Before


With this PR:",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2054,2020-06-12T16:49:23Z,2020-06-24T08:29:00Z,2020-06-24T08:29:04Z,MERGED,True,26,12,7,https://github.com/fvennetier,"Allow to run ""election debug"" on broken meta0 services",2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/2054,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2054,"SUMMARY

CLI: set a request ID for election commands
resolver: allow to resolve only meta0 services

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 7.0.0","SUMMARY

CLI: set a request ID for election commands
resolver: allow to resolve only meta0 services

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 7.0.0",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2054,2020-06-12T16:49:23Z,2020-06-24T08:29:00Z,2020-06-24T08:29:04Z,MERGED,True,26,12,7,https://github.com/fvennetier,"Allow to run ""election debug"" on broken meta0 services",2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/2054,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2054#issuecomment-644234308,"SUMMARY

CLI: set a request ID for election commands
resolver: allow to resolve only meta0 services

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 7.0.0","Codecov Report

Merging #2054 into 5.x will increase coverage by 0.68%.
The diff coverage is 90.91%.


@@            Coverage Diff             @@
##              5.x    #2054      +/-   ##
==========================================
+ Coverage   78.78%   79.45%   +0.68%     
==========================================
  Files         378      393      +15     
  Lines       73209    75263    +2054     
  Branches     6949     6950       +1     
==========================================
+ Hits        57669    59795    +2126     
+ Misses      15440    15229     -211     
- Partials      100      239     +139     



Impacted Files
Coverage Δ





proxy/dir_actions.c
77.78% <ø> (ø)



oio/cli/common/shell.py
64.62% <66.67%> (+0.05%)
⬆️


meta1v2/meta1_server.c
69.68% <100.00%> (ø)



proxy/common.c
93.79% <100.00%> (+0.02%)
⬆️


resolver/hc_resolver.c
92.57% <100.00%> (-0.28%)
⬇️


oio/container/backup.py
74.29% <0.00%> (-3.47%)
⬇️


tests/functional/cli/admin/test_item_check.py
69.92% <0.00%> (-3.24%)
⬇️


tests/functional/cli/admin/test_service_decache.py
83.34% <0.00%> (-2.08%)
⬇️


tests/functional/blob/test_rebuilder.py
98.81% <0.00%> (-1.19%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0.00%> (-1.03%)
⬇️


... and 94 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d498aed...7934a1c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2055,2020-06-15T04:48:40Z,2020-06-23T09:20:01Z,2020-06-23T09:20:02Z,MERGED,True,1,1,1,https://github.com/loamhoof,xcute: fix job listing in python3,1,[],https://github.com/open-io/oio-sds/pull/2055,https://github.com/loamhoof,1,https://github.com/open-io/oio-sds/pull/2055,"SUMMARY
Fix xcute job listing not working in Python3.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
xcute
ADDITIONAL INFORMATION
The problem came from stringifying bytes, which become b'my_string' when converting into a string, instead of the wanted my_string.","SUMMARY
Fix xcute job listing not working in Python3.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
xcute
ADDITIONAL INFORMATION
The problem came from stringifying bytes, which become b'my_string' when converting into a string, instead of the wanted my_string.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2055,2020-06-15T04:48:40Z,2020-06-23T09:20:01Z,2020-06-23T09:20:02Z,MERGED,True,1,1,1,https://github.com/loamhoof,xcute: fix job listing in python3,1,[],https://github.com/open-io/oio-sds/pull/2055,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2055#issuecomment-643991829,"SUMMARY
Fix xcute job listing not working in Python3.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
xcute
ADDITIONAL INFORMATION
The problem came from stringifying bytes, which become b'my_string' when converting into a string, instead of the wanted my_string.","Codecov Report

Merging #2055 into 7.x will decrease coverage by 0.07%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              7.x    #2055      +/-   ##
==========================================
- Coverage   78.23%   78.17%   -0.06%     
==========================================
  Files         378      378              
  Lines       73330    73330              
  Branches     6562     6562              
==========================================
- Hits        57366    57316      -50     
- Misses      15749    15801      +52     
+ Partials      215      213       -2     



Impacted Files
Coverage Δ





oio/content/ec.py
62.30% <0.00%> (-19.67%)
⬇️


meta0v2/meta0_remote.c
74.29% <0.00%> (-8.57%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0.00%> (-7.14%)
⬇️


rawx/buffer_pool.go
80.00% <0.00%> (-6.66%)
⬇️


oio/common/utils.py
66.47% <0.00%> (-4.26%)
⬇️


meta1v2/meta1_prefixes.c
75.90% <0.00%> (-4.10%)
⬇️


metautils/lib/utils_sockets.c
43.50% <0.00%> (-2.60%)
⬇️


meta1v2/meta1_server.c
69.68% <0.00%> (-1.63%)
⬇️


oio/conscience/client.py
84.80% <0.00%> (-1.60%)
⬇️


oio/directory/admin.py
68.75% <0.00%> (-1.38%)
⬇️


... and 38 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3b39c11...5007566. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2056,2020-06-17T09:09:49Z,2020-06-17T12:53:44Z,2020-06-17T13:48:05Z,MERGED,True,5,4,3,https://github.com/fatpat,pass proc_name setting to guinicorn app,1,[],https://github.com/open-io/oio-sds/pull/2056,https://github.com/fatpat,1,https://github.com/open-io/oio-sds/pull/2056,"SUMMARY
when the setproctitle python package exist, gunicorn changes the process title which does not make sens (too generic). It is possible to use a custom title using the proc_name settings but it was not passed through (https://docs.gunicorn.org/en/19.3/configure.html#proc-name).
This changes pass through the parameter proc_name

https://openio.atlassian.net/browse/OS-544

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
common/wsgi
SDS VERSION
openio-6.0.0

ADDITIONAL INFORMATION","SUMMARY
when the setproctitle python package exist, gunicorn changes the process title which does not make sens (too generic). It is possible to use a custom title using the proc_name settings but it was not passed through (https://docs.gunicorn.org/en/19.3/configure.html#proc-name).
This changes pass through the parameter proc_name

https://openio.atlassian.net/browse/OS-544

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
common/wsgi
SDS VERSION
openio-6.0.0

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2056,2020-06-17T09:09:49Z,2020-06-17T12:53:44Z,2020-06-17T13:48:05Z,MERGED,True,5,4,3,https://github.com/fatpat,pass proc_name setting to guinicorn app,1,[],https://github.com/open-io/oio-sds/pull/2056,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2056#issuecomment-645350069,"SUMMARY
when the setproctitle python package exist, gunicorn changes the process title which does not make sens (too generic). It is possible to use a custom title using the proc_name settings but it was not passed through (https://docs.gunicorn.org/en/19.3/configure.html#proc-name).
This changes pass through the parameter proc_name

https://openio.atlassian.net/browse/OS-544

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
common/wsgi
SDS VERSION
openio-6.0.0

ADDITIONAL INFORMATION","Codecov Report

Merging #2056 into 5.x will increase coverage by 0.05%.
The diff coverage is 0.00%.


@@            Coverage Diff             @@
##              5.x    #2056      +/-   ##
==========================================
+ Coverage   79.35%   79.39%   +0.05%     
==========================================
  Files         393      393              
  Lines       74981    74980       -1     
  Branches     6949     6949              
==========================================
+ Hits        59493    59525      +32     
+ Misses      15249    15216      -33     
  Partials      239      239              



Impacted Files
Coverage Δ





oio/common/wsgi.py
45.89% <0.00%> (+4.03%)
⬆️


oio/blob/client.py
86.40% <0.00%> (-3.55%)
⬇️


oio/content/plain.py
72.42% <0.00%> (-3.44%)
⬇️


oio/content/ec.py
55.00% <0.00%> (-3.33%)
⬇️


oio/conscience/client.py
85.60% <0.00%> (-1.60%)
⬇️


oio/content/factory.py
80.96% <0.00%> (-1.58%)
⬇️


meta2v2/meta2_filters_check.c
79.11% <0.00%> (-1.49%)
⬇️


core/log.c
64.91% <0.00%> (-1.32%)
⬇️


sqliterepo/replication.c
84.42% <0.00%> (-1.13%)
⬇️


meta2v2/meta2_bean_utils.c
59.00% <0.00%> (-1.00%)
⬇️


... and 46 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 20828fb...1ed40c1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2057,2020-06-19T16:48:40Z,2020-06-22T17:05:28Z,2020-06-30T15:12:52Z,MERGED,True,66,2,3,https://github.com/AymericDu,Python API: Refresh the cached rawx scores,1,[],https://github.com/open-io/oio-sds/pull/2057,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2057,"SUMMARY
Refresh the rawx scores from cache
Refresh every 30 seconds (default) so as not to request the proxy all the time.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.3.dev7","SUMMARY
Refresh the rawx scores from cache
Refresh every 30 seconds (default) so as not to request the proxy all the time.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.3.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2057,2020-06-19T16:48:40Z,2020-06-22T17:05:28Z,2020-06-30T15:12:52Z,MERGED,True,66,2,3,https://github.com/AymericDu,Python API: Refresh the cached rawx scores,1,[],https://github.com/open-io/oio-sds/pull/2057,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2057#issuecomment-647644601,"SUMMARY
Refresh the rawx scores from cache
Refresh every 30 seconds (default) so as not to request the proxy all the time.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.3.dev7","Codecov Report

Merging #2057 into 5.x will increase coverage by 0.66%.
The diff coverage is 96.00%.


@@            Coverage Diff             @@
##              5.x    #2057      +/-   ##
==========================================
+ Coverage   78.78%   79.44%   +0.66%     
==========================================
  Files         378      393      +15     
  Lines       73209    75028    +1819     
  Branches     6949     6949              
==========================================
+ Hits        57669    59597    +1928     
+ Misses      15440    15192     -248     
- Partials      100      239     +139     



Impacted Files
Coverage Δ





oio/container/client.py
87.32% <94.12%> (+1.41%)
⬆️


oio/common/cache.py
94.81% <100.00%> (+0.37%)
⬆️


tests/functional/api/test_objectstorage.py
97.23% <100.00%> (-0.36%)
⬇️


oio/container/backup.py
73.08% <0.00%> (-4.68%)
⬇️


tests/functional/cli/admin/test_item_check.py
70.09% <0.00%> (-3.07%)
⬇️


tests/functional/cli/admin/test_service_decache.py
83.34% <0.00%> (-2.08%)
⬇️


meta2v2/meta2_filters_check.c
79.11% <0.00%> (-1.49%)
⬇️


tests/functional/blob/test_rebuilder.py
98.81% <0.00%> (-1.19%)
⬇️


tests/functional/api/test_rdir.py
96.03% <0.00%> (-1.08%)
⬇️


tests/functional/account/test_client.py
49.48% <0.00%> (-1.05%)
⬇️


... and 92 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d498aed...b219796. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2058,2020-06-19T16:48:43Z,2020-06-26T14:02:05Z,2020-06-30T15:12:48Z,MERGED,True,10,6,1,https://github.com/AymericDu,Sort chunks with weighted random,1,[],https://github.com/open-io/oio-sds/pull/2058,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2058,"SUMMARY
Sort chunks with weighted random.
Shuffle close scores (less than 10 difference).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.3.dev7","SUMMARY
Sort chunks with weighted random.
Shuffle close scores (less than 10 difference).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.3.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2058,2020-06-19T16:48:43Z,2020-06-26T14:02:05Z,2020-06-30T15:12:48Z,MERGED,True,10,6,1,https://github.com/AymericDu,Sort chunks with weighted random,1,[],https://github.com/open-io/oio-sds/pull/2058,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2058#issuecomment-647640291,"SUMMARY
Sort chunks with weighted random.
Shuffle close scores (less than 10 difference).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.3.dev7","Codecov Report

Merging #2058 into 5.x will increase coverage by 0.70%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              5.x    #2058      +/-   ##
==========================================
+ Coverage   78.78%   79.47%   +0.70%     
==========================================
  Files         378      393      +15     
  Lines       73209    74982    +1773     
  Branches     6949     6949              
==========================================
+ Hits        57669    59584    +1915     
+ Misses      15440    15159     -281     
- Partials      100      239     +139     



Impacted Files
Coverage Δ





oio/common/storage_functions.py
88.24% <100.00%> (-0.50%)
⬇️


tests/functional/cli/admin/test_item_check.py
70.09% <0.00%> (-3.07%)
⬇️


oio/container/backup.py
75.19% <0.00%> (-2.57%)
⬇️


meta2v2/meta2_filters_check.c
79.11% <0.00%> (-1.49%)
⬇️


core/http_put.c
91.57% <0.00%> (-0.51%)
⬇️


...ests/functional/container/test_container_backup.py
78.56% <0.00%> (-0.43%)
⬇️


oio/api/io.py
89.94% <0.00%> (-0.42%)
⬇️


resolver/hc_resolver.c
92.55% <0.00%> (-0.31%)
⬇️


core/str.c
89.08% <0.00%> (-0.23%)
⬇️


... and 90 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update d498aed...87b4658. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2059,2020-06-24T14:56:42Z,2020-06-26T13:20:11Z,2020-08-05T08:16:18Z,MERGED,True,1243,2329,160,https://github.com/jfsmig,"Ensure the right license header at the right place, with the right copyright mention ",22,[],https://github.com/open-io/oio-sds/pull/2059,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2059,"SUMMARY
Simplify the licensing scheme, in the respect of all the copyrights mentions present in the code.
Also removes the cache/ directory and its tests (unused).
ISSUE TYPE
simplification
COMPONENT NAME
*
SDS VERSION
openio 7.0.1.dev23","SUMMARY
Simplify the licensing scheme, in the respect of all the copyrights mentions present in the code.
Also removes the cache/ directory and its tests (unused).
ISSUE TYPE
simplification
COMPONENT NAME
*
SDS VERSION
openio 7.0.1.dev23",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2059,2020-06-24T14:56:42Z,2020-06-26T13:20:11Z,2020-08-05T08:16:18Z,MERGED,True,1243,2329,160,https://github.com/jfsmig,"Ensure the right license header at the right place, with the right copyright mention ",22,[],https://github.com/open-io/oio-sds/pull/2059,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2059#issuecomment-650172903,"SUMMARY
Simplify the licensing scheme, in the respect of all the copyrights mentions present in the code.
Also removes the cache/ directory and its tests (unused).
ISSUE TYPE
simplification
COMPONENT NAME
*
SDS VERSION
openio 7.0.1.dev23","Codecov Report

Merging #2059 into master will increase coverage by 0.62%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #2059      +/-   ##
==========================================
+ Coverage   77.67%   78.29%   +0.62%     
==========================================
  Files         376      372       -4     
  Lines       72908    73184     +276     
  Branches     6563     6553      -10     
==========================================
+ Hits        56621    57289     +668     
+ Misses      16071    15687     -384     
+ Partials      216      208       -8     



Impacted Files
Coverage Δ





events/oio_events_queue.c
82.28% <ø> (ø)



events/oio_events_queue_beanstalkd.c
83.28% <ø> (ø)



events/oio_events_queue_buffer.c
100.00% <ø> (ø)



events/oio_events_queue_fanout.c
82.06% <ø> (ø)



events/oio_events_queue_internals.c
92.31% <ø> (ø)



oio/account/backend.py
70.89% <ø> (ø)



oio/account/server.py
72.10% <ø> (ø)



oio/blob/auditor.py
62.64% <ø> (+6.32%)
⬆️


oio/blob/converter.py
82.97% <ø> (+0.64%)
⬆️


oio/blob/indexer.py
68.94% <ø> (+0.76%)
⬆️


... and 131 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 01438e1...30037a8. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2060,2020-06-29T05:06:54Z,2020-06-29T13:57:09Z,2020-06-29T14:55:11Z,MERGED,True,3,2,1,https://github.com/fatpat,allow multiple glob patterns in conscienceagent's include_dir conf,1,[],https://github.com/open-io/oio-sds/pull/2060,https://github.com/fatpat,1,https://github.com/open-io/oio-sds/pull/2060,"SUMMARY


For a customer, we need to be able to watch multiple directories. this allow to split include_dir in muiltiple directory using the : separator. Then each directory is extracting using glob for maximizing possibilities.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 7.0.0

ADDITIONAL INFORMATION


# grep include_dir /etc/oio/sds/OPENIO/conscienceagent-0/conscienceagent-0.yml 
include_dir: ""/etc/oio/sds/OPENIO/watch:/data/*/*/etc/OPENIO/watch""","SUMMARY


For a customer, we need to be able to watch multiple directories. this allow to split include_dir in muiltiple directory using the : separator. Then each directory is extracting using glob for maximizing possibilities.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 7.0.0

ADDITIONAL INFORMATION


# grep include_dir /etc/oio/sds/OPENIO/conscienceagent-0/conscienceagent-0.yml 
include_dir: ""/etc/oio/sds/OPENIO/watch:/data/*/*/etc/OPENIO/watch""",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2060,2020-06-29T05:06:54Z,2020-06-29T13:57:09Z,2020-06-29T14:55:11Z,MERGED,True,3,2,1,https://github.com/fatpat,allow multiple glob patterns in conscienceagent's include_dir conf,1,[],https://github.com/open-io/oio-sds/pull/2060,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2060#issuecomment-650941778,"SUMMARY


For a customer, we need to be able to watch multiple directories. this allow to split include_dir in muiltiple directory using the : separator. Then each directory is extracting using glob for maximizing possibilities.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 7.0.0

ADDITIONAL INFORMATION


# grep include_dir /etc/oio/sds/OPENIO/conscienceagent-0/conscienceagent-0.yml 
include_dir: ""/etc/oio/sds/OPENIO/watch:/data/*/*/etc/OPENIO/watch""","Codecov Report

Merging #2060 into 7.x will increase coverage by 12.57%.
The diff coverage is n/a.


@@             Coverage Diff             @@
##              7.x    #2060       +/-   ##
===========================================
+ Coverage   65.63%   78.19%   +12.57%     
===========================================
  Files         299      378       +79     
  Lines       57949    73426    +15477     
  Branches     6563     6563               
===========================================
+ Hits        38029    57411    +19382     
+ Misses      19593    15800     -3793     
+ Partials      327      215      -112     



Impacted Files
Coverage Δ





meta0v2/meta0_remote.c
74.29% <0.00%> (-8.57%)
⬇️


rawx/buffer_pool.go
80.00% <0.00%> (-6.66%)
⬇️


meta1v2/meta1_prefixes.c
75.90% <0.00%> (-3.07%)
⬇️


oio/crawler/storage_tierer.py
57.80% <0.00%> (ø)



oio/event/filters/base.py
78.58% <0.00%> (ø)



oio/directory/indexer.py
74.61% <0.00%> (ø)



tests/functional/event/filters/test_filters.py
98.52% <0.00%> (ø)



oio/blob/rebuilder.py
46.93% <0.00%> (ø)



...ts/functional/api/test_objectstorage_properties.py
100.00% <0.00%> (ø)



oio/event/filters/notify.py
79.67% <0.00%> (ø)



... and 219 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7b7a279...4213201. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2061,2020-06-30T13:15:33Z,2020-07-06T15:29:37Z,2020-07-21T08:36:30Z,MERGED,True,58,28,1,https://github.com/AymericDu,multi-conscience: Add more logs,1,[],https://github.com/open-io/oio-sds/pull/2061,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2061,"SUMMARY
Add more logs
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

multi-conscience

SDS VERSION
openio 5.5.4.dev1","SUMMARY
Add more logs
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

multi-conscience

SDS VERSION
openio 5.5.4.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2061,2020-06-30T13:15:33Z,2020-07-06T15:29:37Z,2020-07-21T08:36:30Z,MERGED,True,58,28,1,https://github.com/AymericDu,multi-conscience: Add more logs,1,[],https://github.com/open-io/oio-sds/pull/2061,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2061#issuecomment-652303290,"SUMMARY
Add more logs
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

multi-conscience

SDS VERSION
openio 5.5.4.dev1","Codecov Report

Merging #2061 into 5.x will increase coverage by 0.63%.
The diff coverage is 69.24%.


@@            Coverage Diff             @@
##              5.x    #2061      +/-   ##
==========================================
+ Coverage   78.89%   79.52%   +0.63%     
==========================================
  Files         378      393      +15     
  Lines       73264    75052    +1788     
  Branches     6950     6955       +5     
==========================================
+ Hits        57794    59674    +1880     
+ Misses      15371    15139     -232     
- Partials       99      239     +140     



Impacted Files
Coverage Δ





cluster/module/server.c
84.77% <69.24%> (+1.30%)
⬆️


oio/content/ec.py
55.00% <0.00%> (-26.66%)
⬇️


oio/content/plain.py
75.87% <0.00%> (-8.62%)
⬇️


tests/functional/m2_filters/test_filters.py
86.37% <0.00%> (-7.57%)
⬇️


oio/common/storage_functions.py
83.67% <0.00%> (-4.57%)
⬇️


oio/crawler/storage_tierer.py
57.80% <0.00%> (-2.75%)
⬇️


tests/functional/cli/admin/test_service_decache.py
83.34% <0.00%> (-2.08%)
⬇️


metautils/lib/utils_sockets.c
43.47% <0.00%> (-0.76%)
⬇️


oio/blob/indexer.py
70.46% <0.00%> (-0.75%)
⬇️


tests/functional/blob/test_converter.py
98.46% <0.00%> (-0.61%)
⬇️


... and 88 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 26ad6b2...39e8cb0. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2062,2020-07-03T06:36:30Z,2020-07-09T15:05:07Z,2020-09-09T09:56:08Z,MERGED,True,53,3,2,https://github.com/murlock,Enhance bucket listing with versioning status,2,[],https://github.com/open-io/oio-sds/pull/2062,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2062,"SUMMARY
Add option to show versioning status for bucket list command.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
5.5.5.4.dev1","SUMMARY
Add option to show versioning status for bucket list command.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
5.5.5.4.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2062,2020-07-03T06:36:30Z,2020-07-09T15:05:07Z,2020-09-09T09:56:08Z,MERGED,True,53,3,2,https://github.com/murlock,Enhance bucket listing with versioning status,2,[],https://github.com/open-io/oio-sds/pull/2062,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2062#issuecomment-656047490,"SUMMARY
Add option to show versioning status for bucket list command.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
CLI
SDS VERSION
5.5.5.4.dev1","Codecov Report

Merging #2062 into 5.x will increase coverage by 0.51%.
The diff coverage is 33.34%.


@@            Coverage Diff             @@
##              5.x    #2062      +/-   ##
==========================================
+ Coverage   78.89%   79.39%   +0.51%     
==========================================
  Files         378      393      +15     
  Lines       73264    75071    +1807     
  Branches     6950     6955       +5     
==========================================
+ Hits        57794    59596    +1802     
+ Misses      15371    15236     -135     
- Partials       99      239     +140     



Impacted Files
Coverage Δ





tests/functional/cli/container/test_container.py
61.82% <33.34%> (-1.41%)
⬇️


oio/content/ec.py
55.00% <0.00%> (-26.66%)
⬇️


tests/functional/audit/test_audit_storage.py
85.37% <0.00%> (-12.19%)
⬇️


oio/content/plain.py
72.42% <0.00%> (-12.06%)
⬇️


tests/functional/m2_filters/test_filters.py
84.85% <0.00%> (-9.09%)
⬇️


oio/directory/client.py
88.58% <0.00%> (-5.71%)
⬇️


oio/blob/auditor.py
58.29% <0.00%> (-4.57%)
⬇️


oio/conscience/client.py
85.60% <0.00%> (-2.40%)
⬇️


oio/blob/indexer.py
68.94% <0.00%> (-2.27%)
⬇️


oio/blob/converter.py
80.70% <0.00%> (-1.89%)
⬇️


... and 92 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 26ad6b2...a11a292. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2063,2020-07-03T14:17:07Z,2020-09-09T15:48:06Z,2020-09-09T15:48:06Z,CLOSED,False,76,1,3,https://github.com/murlock,[WIP] Metrics,4,[],https://github.com/open-io/oio-sds/pull/2063,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2063,"SUMMARY
Investigate timing issues by adding some metrics in various part of sqliterepo/election.c
The feature will be enabled with server.perfdata_enabled like other
Around each seconds, metrics will be emitted on syslog.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
5.5.4.dev1","SUMMARY
Investigate timing issues by adding some metrics in various part of sqliterepo/election.c
The feature will be enabled with server.perfdata_enabled like other
Around each seconds, metrics will be emitted on syslog.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
5.5.4.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2064,2020-07-03T14:48:23Z,2020-09-09T15:48:24Z,2020-09-09T15:48:24Z,CLOSED,False,105,20,7,https://github.com/murlock,[WIP] metrics 7.x,7,[],https://github.com/open-io/oio-sds/pull/2064,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2064,,,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2064,2020-07-03T14:48:23Z,2020-09-09T15:48:24Z,2020-09-09T15:48:24Z,CLOSED,False,105,20,7,https://github.com/murlock,[WIP] metrics 7.x,7,[],https://github.com/open-io/oio-sds/pull/2064,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2064#issuecomment-653605408,,"Codecov Report

Merging #2064 into 7.x will increase coverage by 1.12%.
The diff coverage is 73.34%.


@@            Coverage Diff             @@
##              7.x    #2064      +/-   ##
==========================================
+ Coverage   77.08%   78.20%   +1.12%     
==========================================
  Files         376      378       +2     
  Lines       72987    73437     +450     
  Branches     6563     6563              
==========================================
+ Hits        56258    57423    +1165     
+ Misses      16513    15801     -712     
+ Partials      216      213       -3     



Impacted Files
Coverage Δ





sqliterepo/repository.c
74.63% <66.67%> (-0.07%)
⬇️


sqliterepo/synchro.c
80.47% <73.34%> (+4.81%)
⬆️


sqliterepo/election.c
77.06% <77.78%> (+0.85%)
⬆️


tests/functional/m2_filters/test_filters.py
85.30% <0.00%> (-10.29%)
⬇️


oio/content/ec.py
59.02% <0.00%> (-1.63%)
⬇️


sqliterepo/gridd_client_pool.c
78.51% <0.00%> (-0.43%)
⬇️


resolver/hc_resolver.c
91.99% <0.00%> (-0.32%)
⬇️


sqliterepo/replication_dispatcher.c
73.67% <0.00%> (-0.19%)
⬇️


proxy/m2_actions.c
88.32% <0.00%> (-0.06%)
⬇️


oio/ecd/app.py
66.67% <0.00%> (ø)



... and 79 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update fc6d8e6...a6a53ce. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2065,2020-07-06T14:45:01Z,2020-07-07T09:30:54Z,2020-07-07T09:30:58Z,MERGED,True,9,2,1,https://github.com/fvennetier,sqliterepo: display election access time and last status,1,[],https://github.com/open-io/oio-sds/pull/2065,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2065,"SUMMARY
Display election last access and status time in the output of openio-admin election debug. This will help to debug election garbage collection.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 5.5.3

ADDITIONAL INFORMATION
None.","SUMMARY
Display election last access and status time in the output of openio-admin election debug. This will help to debug election garbage collection.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 5.5.3

ADDITIONAL INFORMATION
None.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2065,2020-07-06T14:45:01Z,2020-07-07T09:30:54Z,2020-07-07T09:30:58Z,MERGED,True,9,2,1,https://github.com/fvennetier,sqliterepo: display election access time and last status,1,[],https://github.com/open-io/oio-sds/pull/2065,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2065#issuecomment-654379092,"SUMMARY
Display election last access and status time in the output of openio-admin election debug. This will help to debug election garbage collection.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

sqliterepo

SDS VERSION
openio 5.5.3

ADDITIONAL INFORMATION
None.","Codecov Report

Merging #2065 into 5.x will increase coverage by 0.62%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              5.x    #2065      +/-   ##
==========================================
+ Coverage   78.89%   79.50%   +0.62%     
==========================================
  Files         378      393      +15     
  Lines       73264    75059    +1795     
  Branches     6950     6955       +5     
==========================================
+ Hits        57794    59669    +1875     
+ Misses      15371    15132     -239     
- Partials       99      258     +159     



Impacted Files
Coverage Δ





sqliterepo/election.c
90.94% <100.00%> (+5.23%)
⬆️


tools/oio-lb-benchmark.c
77.28% <0.00%> (-6.81%)
⬇️


tests/functional/audit/test_audit_storage.py
94.31% <0.00%> (-3.25%)
⬇️


oio/common/storage_functions.py
85.63% <0.00%> (-2.61%)
⬇️


metautils/lib/lb.c
90.74% <0.00%> (-2.43%)
⬇️


tests/functional/cli/admin/test_service_decache.py
83.34% <0.00%> (-2.08%)
⬇️


meta2v2/meta2_filters_check.c
77.62% <0.00%> (-1.49%)
⬇️


proxy/reply.c
86.96% <0.00%> (-1.08%)
⬇️


oio/common/utils.py
71.76% <0.00%> (-0.76%)
⬇️


oio/crawler/integrity.py
69.47% <0.00%> (-0.71%)
⬇️


... and 89 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 26ad6b2...1504a10. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2066,2020-07-08T08:55:00Z,2020-07-13T09:44:33Z,2020-09-09T09:56:43Z,MERGED,True,29,19,4,https://github.com/murlock,Replace mallinfo by getrusage,3,[],https://github.com/open-io/oio-sds/pull/2066,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2066,"SUMMARY

Replace mallinfo by getrusage
Allow sqliterepo_max_rss to be disabled y configuration

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
5.5.4.dev8","SUMMARY

Replace mallinfo by getrusage
Allow sqliterepo_max_rss to be disabled y configuration

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
5.5.4.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2067,2020-07-20T15:44:26Z,2020-07-21T13:47:59Z,2020-09-09T09:55:52Z,MERGED,True,6,2,1,https://github.com/murlock,Enrich info on meta2 with SQLITE version,1,[],https://github.com/open-io/oio-sds/pull/2067,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2067,"SUMMARY
Show sqlite version (with compiled version and runtime version)
$ openio-admin meta2 info 127.0.0.1:6016
| sqlite                     | VERSION_COMPILED=3.31.1    |
|                            | VERSION_RUNTIME=3.31.1     |
|                            | COMPILER=gcc-9.3.0         |
|                            | ENABLE_COLUMN_METADATA     |

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
7.0.2dev1","SUMMARY
Show sqlite version (with compiled version and runtime version)
$ openio-admin meta2 info 127.0.0.1:6016
| sqlite                     | VERSION_COMPILED=3.31.1    |
|                            | VERSION_RUNTIME=3.31.1     |
|                            | COMPILER=gcc-9.3.0         |
|                            | ENABLE_COLUMN_METADATA     |

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
7.0.2dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2067,2020-07-20T15:44:26Z,2020-07-21T13:47:59Z,2020-09-09T09:55:52Z,MERGED,True,6,2,1,https://github.com/murlock,Enrich info on meta2 with SQLITE version,1,[],https://github.com/open-io/oio-sds/pull/2067,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2067#issuecomment-661191700,"SUMMARY
Show sqlite version (with compiled version and runtime version)
$ openio-admin meta2 info 127.0.0.1:6016
| sqlite                     | VERSION_COMPILED=3.31.1    |
|                            | VERSION_RUNTIME=3.31.1     |
|                            | COMPILER=gcc-9.3.0         |
|                            | ENABLE_COLUMN_METADATA     |

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
sqliterepo
SDS VERSION
7.0.2dev1","Codecov Report

Merging #2067 into 7.x will increase coverage by 0.05%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              7.x    #2067      +/-   ##
==========================================
+ Coverage   78.09%   78.13%   +0.05%     
==========================================
  Files         378      378              
  Lines       73442    73446       +4     
  Branches     6568     6567       -1     
==========================================
+ Hits        57349    57382      +33     
+ Misses      15880    15851      -29     
  Partials      213      213              



Impacted Files
Coverage Δ





sqliterepo/replication_dispatcher.c
73.77% <100.00%> (-0.09%)
⬇️


oio/content/plain.py
72.42% <0.00%> (-12.06%)
⬇️


oio/directory/client.py
88.74% <0.00%> (-7.04%)
⬇️


oio/api/base.py
92.16% <0.00%> (-4.90%)
⬇️


metautils/lib/volume_lock.c
70.74% <0.00%> (-4.87%)
⬇️


tests/functional/audit/test_audit_storage.py
88.71% <0.00%> (-4.83%)
⬇️


oio/blob/auditor.py
58.95% <0.00%> (-3.68%)
⬇️


oio/blob/client.py
86.48% <0.00%> (-3.52%)
⬇️


oio/directory/admin.py
67.37% <0.00%> (-2.77%)
⬇️


oio/common/utils.py
67.69% <0.00%> (-2.43%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 78ae5be...056ef2b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2068,2020-07-21T08:35:07Z,2020-07-21T13:57:13Z,2020-07-21T14:35:50Z,MERGED,True,2,1,1,https://github.com/AymericDu,Python API: Pass the request ID when linking,1,[],https://github.com/open-io/oio-sds/pull/2068,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2068,"SUMMARY
Pass the request ID when linking
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.5.dev1","SUMMARY
Pass the request ID when linking
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.5.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2069,2020-07-21T14:35:42Z,2020-08-03T14:17:32Z,2020-08-12T07:23:39Z,MERGED,True,38,21,1,https://github.com/AymericDu,Properly pass the connection and write timeout when linking,1,[],https://github.com/open-io/oio-sds/pull/2069,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2069,"SUMMARY
Properly pass the connection and write timeout when linking
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.5.dev3","SUMMARY
Properly pass the connection and write timeout when linking
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.5.dev3",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2069,2020-07-21T14:35:42Z,2020-08-03T14:17:32Z,2020-08-12T07:23:39Z,MERGED,True,38,21,1,https://github.com/AymericDu,Properly pass the connection and write timeout when linking,1,[],https://github.com/open-io/oio-sds/pull/2069,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2069#issuecomment-666206638,"SUMMARY
Properly pass the connection and write timeout when linking
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.5.dev3","Codecov Report

Merging #2069 into 5.x will decrease coverage by 0.56%.
The diff coverage is 91.67%.


@@            Coverage Diff             @@
##              5.x    #2069      +/-   ##
==========================================
- Coverage   79.46%   78.91%   -0.55%     
==========================================
  Files         393      392       -1     
  Lines       75075    75075              
  Branches     6955     6956       +1     
==========================================
- Hits        59652    59237     -415     
- Misses      15184    15599     +415     
  Partials      239      239              



Impacted Files
Coverage Δ





oio/blob/client.py
85.48% <91.67%> (-1.50%)
⬇️


tests/functional/container/test_replication.py
27.59% <0.00%> (-54.02%)
⬇️


tests/functional/cli/admin/test_item_repair.py
31.82% <0.00%> (-50.00%)
⬇️


tests/functional/directory/test_meta2.py
60.68% <0.00%> (-38.76%)
⬇️


oio/directory/meta2.py
34.50% <0.00%> (-35.27%)
⬇️


oio/directory/admin.py
53.91% <0.00%> (-15.60%)
⬇️


oio/common/configuration.py
51.79% <0.00%> (-15.17%)
⬇️


tests/functional/m2_filters/test_filters.py
84.85% <0.00%> (-12.12%)
⬇️


tests/functional/directory/test_admin.py
88.68% <0.00%> (-11.32%)
⬇️


oio/conscience/client.py
80.00% <0.00%> (-8.00%)
⬇️


... and 50 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update b379903...6be4acc. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2070,2020-07-23T14:12:01Z,2020-08-11T12:31:25Z,2020-08-12T07:23:32Z,MERGED,True,445,226,7,https://github.com/AymericDu,account: Refresh account without impacting the bucket counters,7,[],https://github.com/open-io/oio-sds/pull/2070,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2070,"SUMMARY
Refresh account without impacting the bucket counters

Use the bucket name already registered when it is not given
Add all totals when a container is not yet associated with its bucket
Refresh bucket counters

Jira: OS-562
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 5.5.5.dev7","SUMMARY
Refresh account without impacting the bucket counters

Use the bucket name already registered when it is not given
Add all totals when a container is not yet associated with its bucket
Refresh bucket counters

Jira: OS-562
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 5.5.5.dev7",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2070,2020-07-23T14:12:01Z,2020-08-11T12:31:25Z,2020-08-12T07:23:32Z,MERGED,True,445,226,7,https://github.com/AymericDu,account: Refresh account without impacting the bucket counters,7,[],https://github.com/open-io/oio-sds/pull/2070,https://github.com/murlock,2,https://github.com/open-io/oio-sds/pull/2070#issuecomment-663439907,"SUMMARY
Refresh account without impacting the bucket counters

Use the bucket name already registered when it is not given
Add all totals when a container is not yet associated with its bucket
Refresh bucket counters

Jira: OS-562
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 5.5.5.dev7","See with you, we should allow to set bucket-name property with already existing containers",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2070,2020-07-23T14:12:01Z,2020-08-11T12:31:25Z,2020-08-12T07:23:32Z,MERGED,True,445,226,7,https://github.com/AymericDu,account: Refresh account without impacting the bucket counters,7,[],https://github.com/open-io/oio-sds/pull/2070,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/2070#issuecomment-671804960,"SUMMARY
Refresh account without impacting the bucket counters

Use the bucket name already registered when it is not given
Add all totals when a container is not yet associated with its bucket
Refresh bucket counters

Jira: OS-562
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 5.5.5.dev7","See with you, we should allow to set bucket-name property with already existing containers

See #2073.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2071,2020-08-06T16:48:06Z,2020-08-11T14:22:36Z,2020-08-11T14:22:43Z,MERGED,True,86,32,7,https://github.com/fvennetier,Meta0: compare the requested namespace to the locally configured one,2,[],https://github.com/open-io/oio-sds/pull/2071,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2071,"SUMMARY
We have seen services registered in the wrong namespace. But nothing prevented these services to be used. Now some request handlers will compare the input namespace against the configured one, and deny the request is they do not match.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

meta0

SDS VERSION
openio 5.5.5

ADDITIONAL INFORMATION
To test the new feature, run this command:
OIO_NS=""CRAP"" oio-meta0-client ""$(openio --ns OPENIO cluster list meta0 -c Addr -f value | head -n 1)"" list

And you should see something like:
40113854942 58943 0053 log INF oio.m0v2 Dumping the whole META0
40113855362 58943 0053 log WRN oio.m0v2 META0 request error (418) : Requested CRAP on service running OPENIO namespace","SUMMARY
We have seen services registered in the wrong namespace. But nothing prevented these services to be used. Now some request handlers will compare the input namespace against the configured one, and deny the request is they do not match.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

meta0

SDS VERSION
openio 5.5.5

ADDITIONAL INFORMATION
To test the new feature, run this command:
OIO_NS=""CRAP"" oio-meta0-client ""$(openio --ns OPENIO cluster list meta0 -c Addr -f value | head -n 1)"" list

And you should see something like:
40113854942 58943 0053 log INF oio.m0v2 Dumping the whole META0
40113855362 58943 0053 log WRN oio.m0v2 META0 request error (418) : Requested CRAP on service running OPENIO namespace",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2071,2020-08-06T16:48:06Z,2020-08-11T14:22:36Z,2020-08-11T14:22:43Z,MERGED,True,86,32,7,https://github.com/fvennetier,Meta0: compare the requested namespace to the locally configured one,2,[],https://github.com/open-io/oio-sds/pull/2071,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2071#issuecomment-670404697,"SUMMARY
We have seen services registered in the wrong namespace. But nothing prevented these services to be used. Now some request handlers will compare the input namespace against the configured one, and deny the request is they do not match.
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

meta0

SDS VERSION
openio 5.5.5

ADDITIONAL INFORMATION
To test the new feature, run this command:
OIO_NS=""CRAP"" oio-meta0-client ""$(openio --ns OPENIO cluster list meta0 -c Addr -f value | head -n 1)"" list

And you should see something like:
40113854942 58943 0053 log INF oio.m0v2 Dumping the whole META0
40113855362 58943 0053 log WRN oio.m0v2 META0 request error (418) : Requested CRAP on service running OPENIO namespace","Codecov Report

Merging #2071 into 5.x will increase coverage by 0.60%.
The diff coverage is 86.37%.


@@            Coverage Diff             @@
##              5.x    #2071      +/-   ##
==========================================
+ Coverage   78.77%   79.37%   +0.60%     
==========================================
  Files         378      393      +15     
  Lines       73314    75112    +1798     
  Branches     6956     6963       +7     
==========================================
+ Hits        57747    59612    +1865     
+ Misses      15468    15261     -207     
- Partials       99      239     +140     



Impacted Files
Coverage Δ





meta0v2/meta0_gridd_dispatcher.c
79.87% <73.69%> (-0.60%)
⬇️


meta0v2/meta0_client.c
45.61% <90.00%> (+1.79%)
⬆️


meta0v2/meta0_remote.c
78.05% <100.00%> (+3.77%)
⬆️


meta1v2/meta1_prefixes.c
75.78% <100.00%> (-1.03%)
⬇️


proxy/admin_actions.c
96.97% <100.00%> (+1.52%)
⬆️


resolver/hc_resolver.c
93.21% <100.00%> (+0.34%)
⬆️


tests/functional/m2_filters/test_filters.py
84.85% <0.00%> (-12.12%)
⬇️


meta2v2/meta2_filters_check.c
74.63% <0.00%> (-5.97%)
⬇️


oio/common/wsgi.py
42.36% <0.00%> (-3.52%)
⬇️


tests/functional/cli/admin/test_service_decache.py
83.34% <0.00%> (-2.08%)
⬇️


... and 93 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3b7458c...de55675. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2072,2020-08-07T06:23:06Z,2020-08-11T09:05:18Z,2020-08-11T09:05:25Z,MERGED,True,8,7,1,https://github.com/fatpat,"Store the global list of buckets under the ""buckets:"" key",1,[],https://github.com/open-io/oio-sds/pull/2072,https://github.com/fatpat,1,https://github.com/open-io/oio-sds/pull/2072,"SUMMARY
For statistics about buckets, oio-exporter needs to have access to the entire list of buckets. Currently, we have two options:

scan with a match on buckets:* but this is not an option as performances are terrible
hscan over accounts: and then for each account, zscan over buckets:$account but it's too complicated and does not fit well into oio-exporter code as we wish to separate fetching accounts and buckets metrics.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Account
SDS VERSION

7.x

ADDITIONAL INFORMATION
Feel free to to use the following script for creating buckets: key from buckets:* key on existing cluster: https://github.com/open-io/oio-toolkit/blob/master/scripts/updates-buckets:.lua
local keys = redis.call(""keys"", ""buckets:*"")
for i, key in ipairs(keys) do
	if key ~= ""buckets:"" then
		local zrange = redis.call(""ZRANGE"", key, 0, -1)
		for j, bucket in ipairs(zrange) do
			redis.call(""ZADD"", ""buckets:"", ""NX"", 0, bucket)
		end
	end
end","SUMMARY
For statistics about buckets, oio-exporter needs to have access to the entire list of buckets. Currently, we have two options:

scan with a match on buckets:* but this is not an option as performances are terrible
hscan over accounts: and then for each account, zscan over buckets:$account but it's too complicated and does not fit well into oio-exporter code as we wish to separate fetching accounts and buckets metrics.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Account
SDS VERSION

7.x

ADDITIONAL INFORMATION
Feel free to to use the following script for creating buckets: key from buckets:* key on existing cluster: https://github.com/open-io/oio-toolkit/blob/master/scripts/updates-buckets:.lua
local keys = redis.call(""keys"", ""buckets:*"")
for i, key in ipairs(keys) do
	if key ~= ""buckets:"" then
		local zrange = redis.call(""ZRANGE"", key, 0, -1)
		for j, bucket in ipairs(zrange) do
			redis.call(""ZADD"", ""buckets:"", ""NX"", 0, bucket)
		end
	end
end",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2072,2020-08-07T06:23:06Z,2020-08-11T09:05:18Z,2020-08-11T09:05:25Z,MERGED,True,8,7,1,https://github.com/fatpat,"Store the global list of buckets under the ""buckets:"" key",1,[],https://github.com/open-io/oio-sds/pull/2072,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2072#issuecomment-671322901,"SUMMARY
For statistics about buckets, oio-exporter needs to have access to the entire list of buckets. Currently, we have two options:

scan with a match on buckets:* but this is not an option as performances are terrible
hscan over accounts: and then for each account, zscan over buckets:$account but it's too complicated and does not fit well into oio-exporter code as we wish to separate fetching accounts and buckets metrics.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Account
SDS VERSION

7.x

ADDITIONAL INFORMATION
Feel free to to use the following script for creating buckets: key from buckets:* key on existing cluster: https://github.com/open-io/oio-toolkit/blob/master/scripts/updates-buckets:.lua
local keys = redis.call(""keys"", ""buckets:*"")
for i, key in ipairs(keys) do
	if key ~= ""buckets:"" then
		local zrange = redis.call(""ZRANGE"", key, 0, -1)
		for j, bucket in ipairs(zrange) do
			redis.call(""ZADD"", ""buckets:"", ""NX"", 0, bucket)
		end
	end
end","Codecov Report

Merging #2072 into 7.x will increase coverage by 0.87%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              7.x    #2072      +/-   ##
==========================================
+ Coverage   77.62%   78.48%   +0.87%     
==========================================
  Files         376      378       +2     
  Lines       73020    73447     +427     
  Branches     6567     6563       -4     
==========================================
+ Hits        56673    57637     +964     
+ Misses      16131    15603     -528     
+ Partials      216      207       -9     



Impacted Files
Coverage Δ





oio/account/backend.py
70.89% <ø> (ø)



events/oio_events_queue_beanstalkd.c
74.28% <0.00%> (-9.00%)
⬇️


tests/functional/content/test_service_id.py
78.83% <0.00%> (-5.29%)
⬇️


oio/common/utils.py
67.69% <0.00%> (-3.04%)
⬇️


oio/directory/meta0.py
84.07% <0.00%> (-0.92%)
⬇️


meta2v2/meta2_filters_extract.c
82.68% <0.00%> (-0.78%)
⬇️


meta2v2/meta2_filters_action_content.c
83.13% <0.00%> (-0.48%)
⬇️


proxy/transport_http.c
85.36% <0.00%> (-0.28%)
⬇️


server/transport_gridd.c
74.66% <0.00%> (-0.19%)
⬇️


proxy/m2_actions.c
88.32% <0.00%> (-0.13%)
⬇️


... and 65 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 7151cf7...fd5e584. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2073,2020-08-10T14:22:52Z,2020-08-11T14:24:43Z,2020-08-11T14:24:47Z,MERGED,True,44,0,2,https://github.com/fvennetier,CLI: allow to set a bucket name on an already created container,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/2073,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2073,"SUMMARY
Implement the --bucket-name parameter for openio container set and openio container unset commands.
Jira: OB-572
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.5.5","SUMMARY
Implement the --bucket-name parameter for openio container set and openio container unset commands.
Jira: OB-572
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.5.5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2073,2020-08-10T14:22:52Z,2020-08-11T14:24:43Z,2020-08-11T14:24:47Z,MERGED,True,44,0,2,https://github.com/fvennetier,CLI: allow to set a bucket name on an already created container,1,"['enhancement :sparkles:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/2073,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2073#issuecomment-671446103,"SUMMARY
Implement the --bucket-name parameter for openio container set and openio container unset commands.
Jira: OB-572
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.5.5","Codecov Report

Merging #2073 into 5.x will increase coverage by 0.61%.
The diff coverage is 52.00%.


@@            Coverage Diff             @@
##              5.x    #2073      +/-   ##
==========================================
+ Coverage   78.77%   79.37%   +0.61%     
==========================================
  Files         378      393      +15     
  Lines       73314    75110    +1796     
  Branches     6956     6956              
==========================================
+ Hits        57747    59613    +1866     
+ Misses      15468    15258     -210     
- Partials       99      239     +140     



Impacted Files
Coverage Δ





tests/functional/cli/container/test_container.py
60.94% <52.00%> (-0.87%)
⬇️


tests/functional/cli/admin/test_service_decache.py
79.17% <0.00%> (-6.25%)
⬇️


meta2v2/meta2_filters_check.c
79.11% <0.00%> (-1.49%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0.00%> (-1.03%)
⬇️


tests/functional/audit/test_audit_storage.py
88.62% <0.00%> (-0.81%)
⬇️


meta2v2/meta2_filters_extract.c
82.68% <0.00%> (-0.78%)
⬇️


tests/functional/api/test_rdir.py
97.12% <0.00%> (-0.72%)
⬇️


oio/container/backup.py
73.98% <0.00%> (-0.60%)
⬇️


metautils/lib/comm_converter.c
73.04% <0.00%> (-0.26%)
⬇️


oio/content/content.py
80.37% <0.00%> (ø)



... and 81 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3b7458c...bd3f5a2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2074,2020-08-26T17:33:49Z,2020-09-04T15:14:05Z,2020-09-28T12:58:38Z,MERGED,True,2,1,1,https://github.com/AymericDu,"account: do not try to decode ""None"" as UTF-8",1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/2074,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2074,"SUMMARY
Do not try to decode ""None"" as UTF-8. This error was frequent but unfortunately it was ignored by our tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 7.0.2.dev13","SUMMARY
Do not try to decode ""None"" as UTF-8. This error was frequent but unfortunately it was ignored by our tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 7.0.2.dev13",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2074,2020-08-26T17:33:49Z,2020-09-04T15:14:05Z,2020-09-28T12:58:38Z,MERGED,True,2,1,1,https://github.com/AymericDu,"account: do not try to decode ""None"" as UTF-8",1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/2074,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2074#issuecomment-681522337,"SUMMARY
Do not try to decode ""None"" as UTF-8. This error was frequent but unfortunately it was ignored by our tests.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account

SDS VERSION
openio 7.0.2.dev13","Codecov Report

Merging #2074 into 7.x will decrease coverage by 0.03%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              7.x    #2074      +/-   ##
==========================================
- Coverage   78.45%   78.42%   -0.02%     
==========================================
  Files         378      378              
  Lines       73564    73565       +1     
  Branches     6571     6571              
==========================================
- Hits        57708    57689      -19     
- Misses      15651    15671      +20     
  Partials      205      205              



Impacted Files
Coverage Δ





oio/account/backend.py
67.82% <100.00%> (-0.48%)
⬇️


tests/functional/content/test_service_id.py
78.83% <0.00%> (-5.88%)
⬇️


oio/common/easy_value.py
84.49% <0.00%> (-5.17%)
⬇️


metautils/lib/volume_lock.c
70.74% <0.00%> (-4.87%)
⬇️


tests/functional/audit/test_audit_storage.py
84.68% <0.00%> (-4.03%)
⬇️


oio/common/utils.py
67.38% <0.00%> (-2.43%)
⬇️


rdir/routes.c.rl
97.88% <0.00%> (-2.12%)
⬇️


tests/functional/cli/admin/test_item_check.py
70.26% <0.00%> (-2.05%)
⬇️


oio/content/plain.py
74.14% <0.00%> (-1.72%)
⬇️


meta1v2/meta1_server.c
69.68% <0.00%> (-1.63%)
⬇️


... and 39 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 316fa52...354df67. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2075,2020-08-27T16:37:27Z,2020-08-31T09:00:07Z,2020-08-31T09:00:15Z,MERGED,True,133,73,5,https://github.com/fvennetier,account: allow to call the master service for reads,1,[],https://github.com/open-io/oio-sds/pull/2075,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2075,"SUMMARY
Improve the account service API to allow calling the master service even for reads.
Also add a parameter to the event-agent ""replicate"" filter to enable this feature, and display a message in case of exception while refreshing the ""replication_enabled"" parameter.
Jira: CUS-142
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Account service
event-agent

SDS VERSION
oio-sds 5.5.5","SUMMARY
Improve the account service API to allow calling the master service even for reads.
Also add a parameter to the event-agent ""replicate"" filter to enable this feature, and display a message in case of exception while refreshing the ""replication_enabled"" parameter.
Jira: CUS-142
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Account service
event-agent

SDS VERSION
oio-sds 5.5.5",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2075,2020-08-27T16:37:27Z,2020-08-31T09:00:07Z,2020-08-31T09:00:15Z,MERGED,True,133,73,5,https://github.com/fvennetier,account: allow to call the master service for reads,1,[],https://github.com/open-io/oio-sds/pull/2075,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2075#issuecomment-682377289,"SUMMARY
Improve the account service API to allow calling the master service even for reads.
Also add a parameter to the event-agent ""replicate"" filter to enable this feature, and display a message in case of exception while refreshing the ""replication_enabled"" parameter.
Jira: CUS-142
ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME

Account service
event-agent

SDS VERSION
oio-sds 5.5.5","Codecov Report

Merging #2075 into 5.x will decrease coverage by 0.94%.
The diff coverage is 80.31%.


@@            Coverage Diff             @@
##              5.x    #2075      +/-   ##
==========================================
- Coverage   78.42%   77.48%   -0.93%     
==========================================
  Files         378      360      -18     
  Lines       73403    71029    -2374     
  Branches     6963     6384     -579     
==========================================
- Hits        57556    55028    -2528     
- Misses      15748    15860     +112     
- Partials       99      141      +42     



Impacted Files
Coverage Δ





oio/account/backend.py
67.35% <66.67%> (-0.40%)
⬇️


oio/event/filters/replicate.py
76.20% <71.43%> (-2.75%)
⬇️


oio/common/redis_conn.py
73.47% <75.00%> (+0.07%)
⬆️


oio/account/server.py
73.66% <87.50%> (+2.32%)
⬆️


tests/functional/m2_filters/test_filters.py
63.64% <0.00%> (-33.33%)
⬇️


metautils/lib/utils_svc_policy.c
56.60% <0.00%> (-22.12%)
⬇️


meta2v2/meta2_dedup_utils.c
0.00% <0.00%> (-18.55%)
⬇️


metautils/lib/utils_resolv.c
48.89% <0.00%> (-15.55%)
⬇️


meta1v2/meta1_backend_references.c
73.00% <0.00%> (-14.00%)
⬇️


events/oio_events_queue_beanstalkd.c
73.79% <0.00%> (-9.38%)
⬇️


... and 141 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 8f12b58...54472e1. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2076,2020-09-01T13:00:48Z,2020-09-28T13:59:33Z,2020-09-28T13:59:37Z,MERGED,True,155,0,1,https://github.com/fvennetier,tools: implement a basic benchmark for the account service,1,[],https://github.com/open-io/oio-sds/pull/2076,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2076,"SUMMARY
Implement a basic benchmark for the account service which will send account/container/update requests as fast as possible for 60s.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

account
tools

SDS VERSION
openio 7.0.1.dev24","SUMMARY
Implement a basic benchmark for the account service which will send account/container/update requests as fast as possible for 60s.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

account
tools

SDS VERSION
openio 7.0.1.dev24",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2076,2020-09-01T13:00:48Z,2020-09-28T13:59:33Z,2020-09-28T13:59:37Z,MERGED,True,155,0,1,https://github.com/fvennetier,tools: implement a basic benchmark for the account service,1,[],https://github.com/open-io/oio-sds/pull/2076,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2076#issuecomment-684934690,"SUMMARY
Implement a basic benchmark for the account service which will send account/container/update requests as fast as possible for 60s.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

account
tools

SDS VERSION
openio 7.0.1.dev24","Codecov Report

Merging #2076 into 7.x will decrease coverage by 0.05%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              7.x    #2076      +/-   ##
==========================================
- Coverage   78.45%   78.41%   -0.04%     
==========================================
  Files         378      378              
  Lines       73564    73596      +32     
  Branches     6571     6571              
==========================================
- Hits        57708    57701       -7     
- Misses      15651    15690      +39     
  Partials      205      205              



Impacted Files
Coverage Δ





oio/common/easy_value.py
82.46% <0.00%> (-7.19%)
⬇️


tests/functional/content/test_service_id.py
78.83% <0.00%> (-5.88%)
⬇️


meta2v2/meta2_server.c
77.97% <0.00%> (-5.08%)
⬇️


metautils/lib/volume_lock.c
70.74% <0.00%> (-4.87%)
⬇️


oio/content/plain.py
72.42% <0.00%> (-3.44%)
⬇️


oio/event/filters/replicate.py
76.20% <0.00%> (-2.75%)
⬇️


oio/common/storage_functions.py
85.07% <0.00%> (-2.59%)
⬇️


tests/functional/cli/admin/test_item_check.py
69.75% <0.00%> (-2.56%)
⬇️


oio/directory/indexer.py
72.23% <0.00%> (-2.38%)
⬇️


oio/blob/indexer.py
67.43% <0.00%> (-2.27%)
⬇️


... and 48 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 316fa52...a4ba6df. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2077,2020-09-02T13:00:04Z,2020-09-04T10:00:36Z,2020-09-28T12:58:34Z,MERGED,True,13,10,2,https://github.com/AymericDu,Python API: fix the conversion of negative size values,1,[],https://github.com/open-io/oio-sds/pull/2077,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2077,"SUMMARY
Allow to convert negative size
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.6.dev11

ADDITIONAL INFORMATION
Jira: OS-574","SUMMARY
Allow to convert negative size
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.6.dev11

ADDITIONAL INFORMATION
Jira: OS-574",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2078,2020-09-04T09:09:14Z,2020-09-08T08:43:53Z,2020-09-08T08:43:58Z,MERGED,True,57,1,5,https://github.com/fvennetier,Improve versioning management,3,[],https://github.com/open-io/oio-sds/pull/2078,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2078,"SUMMARY
Improve versioning management:

set a content type on delete markers;
set an is_latest boolean on each item when listing container objects.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-proxy
Python API

SDS VERSION
openio 7.0.1.dev26","SUMMARY
Improve versioning management:

set a content type on delete markers;
set an is_latest boolean on each item when listing container objects.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-proxy
Python API

SDS VERSION
openio 7.0.1.dev26",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2078,2020-09-04T09:09:14Z,2020-09-08T08:43:53Z,2020-09-08T08:43:58Z,MERGED,True,57,1,5,https://github.com/fvennetier,Improve versioning management,3,[],https://github.com/open-io/oio-sds/pull/2078,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2078#issuecomment-687168612,"SUMMARY
Improve versioning management:

set a content type on delete markers;
set an is_latest boolean on each item when listing container objects.

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

oio-proxy
Python API

SDS VERSION
openio 7.0.1.dev26","Codecov Report

Merging #2078 into 7.x will decrease coverage by 0.13%.
The diff coverage is 93.34%.


@@            Coverage Diff             @@
##              7.x    #2078      +/-   ##
==========================================
- Coverage   78.45%   78.33%   -0.12%     
==========================================
  Files         378      378              
  Lines       73564    73578      +14     
  Branches     6571     6572       +1     
==========================================
- Hits        57708    57630      -78     
- Misses      15651    15742      +91     
- Partials      205      206       +1     



Impacted Files
Coverage Δ





proxy/m2_actions.c
88.26% <66.67%> (-0.12%)
⬇️


oio/api/object_storage.py
82.73% <100.00%> (-0.26%)
⬇️


oio/ecd/app.py
40.23% <0.00%> (-26.43%)
⬇️


meta0v2/meta0_remote.c
78.05% <0.00%> (-7.31%)
⬇️


tests/functional/blob/test_mover.py
92.93% <0.00%> (-7.07%)
⬇️


tests/functional/content/test_service_id.py
78.83% <0.00%> (-5.88%)
⬇️


metautils/lib/volume_lock.c
70.74% <0.00%> (-4.87%)
⬇️


oio/content/plain.py
72.42% <0.00%> (-3.44%)
⬇️


meta1v2/meta1_prefixes.c
76.93% <0.00%> (-3.07%)
⬇️


meta2v2/meta2_filters_check.c
76.12% <0.00%> (-2.98%)
⬇️


... and 47 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 316fa52...bf1c230. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2079,2020-09-08T16:43:18Z,2020-09-10T09:24:18Z,2020-09-15T12:43:08Z,MERGED,True,153,81,8,https://github.com/AymericDu,proxy: Learn down hosts to avoid requesting them,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/2079,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2079,"SUMMARY
Learn down hosts to avoid requesting them
Jira: OS-563
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 5.5.6.dev13","SUMMARY
Learn down hosts to avoid requesting them
Jira: OS-563
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 5.5.6.dev13",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2079,2020-09-08T16:43:18Z,2020-09-10T09:24:18Z,2020-09-15T12:43:08Z,MERGED,True,153,81,8,https://github.com/AymericDu,proxy: Learn down hosts to avoid requesting them,2,['bug :scream:'],https://github.com/open-io/oio-sds/pull/2079,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2079#issuecomment-689383372,"SUMMARY
Learn down hosts to avoid requesting them
Jira: OS-563
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

proxy

SDS VERSION
openio 5.5.6.dev13","Codecov Report

Merging #2079 into 5.x will increase coverage by 1.91%.
The diff coverage is 96.11%.


@@            Coverage Diff             @@
##              5.x    #2079      +/-   ##
==========================================
+ Coverage   77.50%   79.40%   +1.91%     
==========================================
  Files         360      393      +33     
  Lines       71032    75234    +4202     
  Branches     6383     6967     +584     
==========================================
+ Hits        55049    59735    +4686     
+ Misses      15842    15260     -582     
- Partials      141      239      +98     



Impacted Files
Coverage Δ





cluster/module/server.c
84.77% <66.67%> (+0.11%)
⬆️


metautils/lib/gridd_client.c
77.96% <96.16%> (+1.97%)
⬆️


proxy/cs_actions.c
90.21% <100.00%> (-0.30%)
⬇️


proxy/metacd_http.c
91.44% <100.00%> (-0.24%)
⬇️


sqlx/sqlx_service.c
84.24% <100.00%> (-0.28%)
⬇️


tests/unit/test_gridd_client.c
100.00% <100.00%> (ø)



oio/blob/client.py
84.92% <0.00%> (-3.35%)
⬇️


oio/common/storage_functions.py
85.63% <0.00%> (-2.61%)
⬇️


meta1v2/meta1_server.c
69.68% <0.00%> (-1.63%)
⬇️


oio/blob/converter.py
80.70% <0.00%> (-0.63%)
⬇️


... and 98 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4bd21fc...aa7213c. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2080,2020-09-09T15:51:34Z,2020-09-28T08:31:15Z,2020-09-28T08:31:16Z,MERGED,True,11,1122,14,https://github.com/murlock,Remove unsupported backblaze integration,1,[],https://github.com/open-io/oio-sds/pull/2080,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2080,"SUMMARY
Remove backblaze support as it was not tested since few years
ISSUE TYPE

(un)Feature Pull Request

COMPONENT NAME

all

SDS VERSION
master

ADDITIONAL INFORMATION","SUMMARY
Remove backblaze support as it was not tested since few years
ISSUE TYPE

(un)Feature Pull Request

COMPONENT NAME

all

SDS VERSION
master

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2080,2020-09-09T15:51:34Z,2020-09-28T08:31:15Z,2020-09-28T08:31:16Z,MERGED,True,11,1122,14,https://github.com/murlock,Remove unsupported backblaze integration,1,[],https://github.com/open-io/oio-sds/pull/2080,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2080#issuecomment-690974971,"SUMMARY
Remove backblaze support as it was not tested since few years
ISSUE TYPE

(un)Feature Pull Request

COMPONENT NAME

all

SDS VERSION
master

ADDITIONAL INFORMATION","Codecov Report

Merging #2080 into master will increase coverage by 0.61%.
The diff coverage is 75.00%.


@@            Coverage Diff             @@
##           master    #2080      +/-   ##
==========================================
+ Coverage   79.25%   79.85%   +0.61%     
==========================================
  Files         370      366       -4     
  Lines       72707    71997     -710     
  Branches     6423     6421       -2     
==========================================
- Hits        57617    57488     -129     
+ Misses      14889    14309     -580     
+ Partials      201      200       -1     



Impacted Files
Coverage Δ





meta2v2/meta2_utils.c
83.96% <ø> (ø)



metautils/lib/storage_policy.c
90.97% <ø> (+4.04%)
⬆️


metautils/lib/storage_policy.h
94.45% <ø> (ø)



oio/api/object_storage.py
86.47% <ø> (+3.48%)
⬆️


oio/ecd/app.py
82.93% <ø> (+16.27%)
⬆️


oio/common/storage_method.py
78.63% <50.00%> (+4.13%)
⬆️


core/sds.c
79.03% <100.00%> (-0.01%)
⬇️


meta2v2/meta2_utils_lb.c
79.81% <100.00%> (+2.09%)
⬆️


oio/common/utils.py
66.77% <0.00%> (-3.65%)
⬇️


oio/directory/indexer.py
72.23% <0.00%> (-2.38%)
⬇️


... and 45 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 292d154...dd6e3e2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2081,2020-09-22T09:46:39Z,2020-09-22T13:24:13Z,2020-09-28T12:58:26Z,MERGED,True,3,1,1,https://github.com/AymericDu,Python API: Add time in console logs,1,[],https://github.com/open-io/oio-sds/pull/2081,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2081,"SUMMARY
Add time in console logs
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.6.dev12","SUMMARY
Add time in console logs
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.6.dev12",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2081,2020-09-22T09:46:39Z,2020-09-22T13:24:13Z,2020-09-28T12:58:26Z,MERGED,True,3,1,1,https://github.com/AymericDu,Python API: Add time in console logs,1,[],https://github.com/open-io/oio-sds/pull/2081,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2081#issuecomment-696717313,"SUMMARY
Add time in console logs
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.5.6.dev12","Codecov Report

Merging #2081 into 5.x will increase coverage by 1.82%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              5.x    #2081      +/-   ##
==========================================
+ Coverage   77.50%   79.32%   +1.82%     
==========================================
  Files         360      393      +33     
  Lines       71032    75054    +4022     
  Branches     6383     6967     +584     
==========================================
+ Hits        55049    59529    +4480     
+ Misses      15842    15287     -555     
- Partials      141      238      +97     



Impacted Files
Coverage Δ





oio/common/logger.py
63.16% <100.00%> (ø)



tests/functional/m2_filters/test_filters.py
84.85% <0.00%> (-12.12%)
⬇️


rawx/chunkrepo.go
61.12% <0.00%> (-9.72%)
⬇️


rawx/conf_reader.go
70.59% <0.00%> (-5.02%)
⬇️


rawx/buffer_pool.go
75.00% <0.00%> (-5.00%)
⬇️


rawx/configuration.go
51.52% <0.00%> (-4.58%)
⬇️


rawx/filerepo.go
68.00% <0.00%> (-3.91%)
⬇️


meta2v2/meta2_filters_check.c
76.12% <0.00%> (-2.98%)
⬇️


rawx/beanstalk.go
61.85% <0.00%> (-2.86%)
⬇️


rawx/utils.go
73.92% <0.00%> (-2.75%)
⬇️


... and 111 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 4bd21fc...e7544b2. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2082,2020-09-24T13:32:30Z,2020-09-30T08:03:56Z,2020-09-30T08:07:39Z,MERGED,True,6,8,2,https://github.com/AymericDu,rawx: Don't actually use address as service ID,2,['language:Golang'],https://github.com/open-io/oio-sds/pull/2082,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2082,"SUMMARY
Don't autogenerate a service ID from the service address because:

it is not mandatory
it will cause problems when the administrator will try to set a real one
no other service works like this

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 5.6.1.dev1","SUMMARY
Don't autogenerate a service ID from the service address because:

it is not mandatory
it will cause problems when the administrator will try to set a real one
no other service works like this

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 5.6.1.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2082,2020-09-24T13:32:30Z,2020-09-30T08:03:56Z,2020-09-30T08:07:39Z,MERGED,True,6,8,2,https://github.com/AymericDu,rawx: Don't actually use address as service ID,2,['language:Golang'],https://github.com/open-io/oio-sds/pull/2082,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2082#issuecomment-698457821,"SUMMARY
Don't autogenerate a service ID from the service address because:

it is not mandatory
it will cause problems when the administrator will try to set a real one
no other service works like this

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 5.6.1.dev1","Codecov Report

Merging #2082 into 5.x will increase coverage by 0.52%.
The diff coverage is 75.00%.


@@            Coverage Diff             @@
##              5.x    #2082      +/-   ##
==========================================
+ Coverage   78.67%   79.18%   +0.52%     
==========================================
  Files         378      393      +15     
  Lines       73463    75054    +1591     
  Branches     6967     6967              
==========================================
+ Hits        57788    59423    +1635     
+ Misses      15576    15368     -208     
- Partials       99      263     +164     



Impacted Files
Coverage Δ





rawx/main.go
45.97% <75.00%> (ø)



meta0v2/meta0_remote.c
78.05% <0.00%> (-7.31%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0.00%> (-3.60%)
⬇️


oio/content/plain.py
72.42% <0.00%> (-3.44%)
⬇️


meta1v2/meta1_server.c
69.68% <0.00%> (-1.63%)
⬇️


meta2v2/meta2_filters_check.c
79.11% <0.00%> (-1.49%)
⬇️


oio/blob/auditor.py
58.29% <0.00%> (-1.14%)
⬇️


oio/crawler/integrity.py
68.33% <0.00%> (-0.99%)
⬇️


oio/directory/meta0.py
83.96% <0.00%> (-0.93%)
⬇️


oio/account/client.py
82.41% <0.00%> (-0.92%)
⬇️


... and 91 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c0d5241...7f39803. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2083,2020-09-28T12:40:07Z,2020-09-30T08:03:02Z,2020-10-02T08:58:59Z,MERGED,True,1,10,3,https://github.com/jfsmig,Fix the compilation in Release mode,4,[],https://github.com/open-io/oio-sds/pull/2083,https://github.com/jfsmig,1,https://github.com/open-io/oio-sds/pull/2083,"SUMMARY
Remove few strains of the now-unsupported integration of B2.
With the previous cleanup, a warning was raised that made the compilation fail under specific conditions.
ISSUE TYPE
fix, cleanup
COMPONENT NAME
meta2, proxy
SDS VERSION
openio 5.5.6.dev26","SUMMARY
Remove few strains of the now-unsupported integration of B2.
With the previous cleanup, a warning was raised that made the compilation fail under specific conditions.
ISSUE TYPE
fix, cleanup
COMPONENT NAME
meta2, proxy
SDS VERSION
openio 5.5.6.dev26",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2083,2020-09-28T12:40:07Z,2020-09-30T08:03:02Z,2020-10-02T08:58:59Z,MERGED,True,1,10,3,https://github.com/jfsmig,Fix the compilation in Release mode,4,[],https://github.com/open-io/oio-sds/pull/2083,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2083#issuecomment-700140797,"SUMMARY
Remove few strains of the now-unsupported integration of B2.
With the previous cleanup, a warning was raised that made the compilation fail under specific conditions.
ISSUE TYPE
fix, cleanup
COMPONENT NAME
meta2, proxy
SDS VERSION
openio 5.5.6.dev26","Codecov Report

Merging #2083 into master will increase coverage by 0.23%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##           master    #2083      +/-   ##
==========================================
+ Coverage   79.72%   79.95%   +0.23%     
==========================================
  Files         367      367              
  Lines       71828    71820       -8     
  Branches     6421     6417       -4     
==========================================
+ Hits        57258    57415     +157     
+ Misses      14372    14207     -165     
  Partials      198      198              



Impacted Files
Coverage Δ





meta2v2/meta2_utils_lb.c
81.65% <ø> (+0.97%)
⬆️


metautils/lib/utils_service_info.c
85.27% <ø> (+1.93%)
⬆️


proxy/m2_actions.c
88.95% <ø> (+0.14%)
⬆️


oio/content/plain.py
75.87% <0.00%> (-1.72%)
⬇️


oio/cli/admin/service_check.py
70.56% <0.00%> (-1.52%)
⬇️


oio/common/storage_functions.py
87.02% <0.00%> (-1.29%)
⬇️


proxy/common.c
93.68% <0.00%> (-0.50%)
⬇️


metautils/lib/utils_sockets.c
58.18% <0.00%> (-0.48%)
⬇️


tests/functional/api/test_objectstorage.py
97.77% <0.00%> (+0.08%)
⬆️


sqliterepo/replication_dispatcher.c
74.06% <0.00%> (+0.10%)
⬆️


... and 44 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 97d43a9...1e21b27. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2084,2020-09-29T10:31:17Z,2020-10-08T07:14:58Z,2020-10-08T07:14:58Z,MERGED,True,24,21,2,https://github.com/murlock,Enhance ECD and refresh reqid for each use of C API,3,[],https://github.com/open-io/oio-sds/pull/2084,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2084,"SUMMARY
Enhance ECD and refresh `reqid for each use of C API.
The ECD did not use the reqid provided in each request, making difficult to investigate error 500. Please note only the EC upload/download has been patched.
On same trend, the C API was using an unique reqid for entire lifetime of struct oio_sds_s *, provided by oio_sds_init, even if several call of C API was made (oio_sds_upload_from_buffer, oio_sds_upload, ...). It was impossible to distinguish calls between them.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
C API, ECD
SDS VERSION
openio 5.6.1.dev2","SUMMARY
Enhance ECD and refresh `reqid for each use of C API.
The ECD did not use the reqid provided in each request, making difficult to investigate error 500. Please note only the EC upload/download has been patched.
On same trend, the C API was using an unique reqid for entire lifetime of struct oio_sds_s *, provided by oio_sds_init, even if several call of C API was made (oio_sds_upload_from_buffer, oio_sds_upload, ...). It was impossible to distinguish calls between them.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
C API, ECD
SDS VERSION
openio 5.6.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2084,2020-09-29T10:31:17Z,2020-10-08T07:14:58Z,2020-10-08T07:14:58Z,MERGED,True,24,21,2,https://github.com/murlock,Enhance ECD and refresh reqid for each use of C API,3,[],https://github.com/open-io/oio-sds/pull/2084,https://github.com/codecov-commenter,2,https://github.com/open-io/oio-sds/pull/2084#issuecomment-702647377,"SUMMARY
Enhance ECD and refresh `reqid for each use of C API.
The ECD did not use the reqid provided in each request, making difficult to investigate error 500. Please note only the EC upload/download has been patched.
On same trend, the C API was using an unique reqid for entire lifetime of struct oio_sds_s *, provided by oio_sds_init, even if several call of C API was made (oio_sds_upload_from_buffer, oio_sds_upload, ...). It was impossible to distinguish calls between them.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
C API, ECD
SDS VERSION
openio 5.6.1.dev2","Codecov Report

Merging #2084 into 5.x will increase coverage by 0.49%.
The diff coverage is 87.50%.


@@            Coverage Diff             @@
##              5.x    #2084      +/-   ##
==========================================
+ Coverage   78.67%   79.15%   +0.49%     
==========================================
  Files         378      392      +14     
  Lines       73463    75048    +1585     
  Branches     6967     6967              
==========================================
+ Hits        57788    59396    +1608     
+ Misses      15576    15391     -185     
- Partials       99      261     +162     



Impacted Files
Coverage Δ





core/sds.c
79.89% <83.34%> (ø)



oio/ecd/app.py
66.67% <100.00%> (+0.20%)
⬆️


meta0v2/meta0_remote.c
78.05% <0.00%> (-7.31%)
⬇️


oio/content/plain.py
72.42% <0.00%> (-3.44%)
⬇️


meta1v2/meta1_prefixes.c
76.81% <0.00%> (-2.57%)
⬇️


meta2v2/meta2_filters_check.c
79.11% <0.00%> (-1.49%)
⬇️


oio/account/client.py
82.41% <0.00%> (-0.92%)
⬇️


metautils/lib/comm_converter.c
73.04% <0.00%> (-0.78%)
⬇️


oio/event/beanstalk.py
65.00% <0.00%> (-0.38%)
⬇️


... and 82 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c0d5241...eda4869. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2084,2020-09-29T10:31:17Z,2020-10-08T07:14:58Z,2020-10-08T07:14:58Z,MERGED,True,24,21,2,https://github.com/murlock,Enhance ECD and refresh reqid for each use of C API,3,[],https://github.com/open-io/oio-sds/pull/2084,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/2084#issuecomment-704829731,"SUMMARY
Enhance ECD and refresh `reqid for each use of C API.
The ECD did not use the reqid provided in each request, making difficult to investigate error 500. Please note only the EC upload/download has been patched.
On same trend, the C API was using an unique reqid for entire lifetime of struct oio_sds_s *, provided by oio_sds_init, even if several call of C API was made (oio_sds_upload_from_buffer, oio_sds_upload, ...). It was impossible to distinguish calls between them.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
C API, ECD
SDS VERSION
openio 5.6.1.dev2","Codecov Report

❗ No coverage uploaded for pull request base (5.x@c0d5241). Click here to learn what that means.
The diff coverage is 83.34%.


@@          Coverage Diff           @@
##             5.x    #2084   +/-   ##
======================================
  Coverage       ?   69.65%           
======================================
  Files          ?      329           
  Lines          ?    68595           
  Branches       ?     6379           
======================================
  Hits           ?    47771           
  Misses         ?    20823           
  Partials       ?        1           



Impacted Files
Coverage Δ





core/sds.c
75.47% <83.34%> (ø)





Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c0d5241...560251a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2085,2020-09-29T14:50:02Z,2020-10-09T15:08:16Z,2020-10-09T15:08:16Z,MERGED,True,242,49,2,https://github.com/murlock,account: rework bucket refresh,3,[],https://github.com/open-io/oio-sds/pull/2085,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2085,"SUMMARY
The compute of refresh for a bucket is now done by batch:

a lock key is created and will hold ctime, mtime and marker.
bucket info is set to 0
a batch will parses at most 10000 containers and will update
stats.
when a container for this bucket is updated, it will check
if lock key exists. If it exists, the bucket stats will be updated if container name is already parsed by refresh operation
(name is before or equal to marker)

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
account
SDS VERSION
5.6.1dev2","SUMMARY
The compute of refresh for a bucket is now done by batch:

a lock key is created and will hold ctime, mtime and marker.
bucket info is set to 0
a batch will parses at most 10000 containers and will update
stats.
when a container for this bucket is updated, it will check
if lock key exists. If it exists, the bucket stats will be updated if container name is already parsed by refresh operation
(name is before or equal to marker)

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
account
SDS VERSION
5.6.1dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2085,2020-09-29T14:50:02Z,2020-10-09T15:08:16Z,2020-10-09T15:08:16Z,MERGED,True,242,49,2,https://github.com/murlock,account: rework bucket refresh,3,[],https://github.com/open-io/oio-sds/pull/2085,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2085#issuecomment-706116706,"SUMMARY
The compute of refresh for a bucket is now done by batch:

a lock key is created and will hold ctime, mtime and marker.
bucket info is set to 0
a batch will parses at most 10000 containers and will update
stats.
when a container for this bucket is updated, it will check
if lock key exists. If it exists, the bucket stats will be updated if container name is already parsed by refresh operation
(name is before or equal to marker)

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
account
SDS VERSION
5.6.1dev2","Codecov Report

Merging #2085 into 5.x will increase coverage by 0.16%.
The diff coverage is 95.61%.


@@            Coverage Diff             @@
##              5.x    #2085      +/-   ##
==========================================
+ Coverage   78.67%   78.82%   +0.16%     
==========================================
  Files         378      391      +13     
  Lines       73463    74089     +626     
  Branches     6967     6967              
==========================================
+ Hits        57788    58393     +605     
- Misses      15576    15597      +21     
  Partials       99       99              



Impacted Files
Coverage Δ





oio/account/backend.py
70.11% <85.19%> (+2.77%)
⬆️


tests/functional/account/test_backend.py
100.00% <100.00%> (ø)



meta0v2/meta0_remote.c
78.05% <0.00%> (-7.31%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0.00%> (-3.60%)
⬇️


oio/content/plain.py
72.42% <0.00%> (-3.44%)
⬇️


proxy/sqlx_actions.c
81.06% <0.00%> (-2.64%)
⬇️


oio/blob/indexer.py
66.67% <0.00%> (-2.27%)
⬇️


sqliterepo/sqlx_remote.c
81.33% <0.00%> (-1.80%)
⬇️


meta1v2/meta1_server.c
69.68% <0.00%> (-1.63%)
⬇️


oio/crawler/integrity.py
67.90% <0.00%> (-1.42%)
⬇️


... and 56 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update c0d5241...7f4485b. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2086,2020-10-12T12:55:52Z,2020-10-13T12:18:06Z,2020-10-13T12:18:12Z,MERGED,True,67,9,4,https://github.com/fvennetier,Fix 'openio-admin rawx check' command,2,[],https://github.com/open-io/oio-sds/pull/2086,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2086,"SUMMARY
Fix the openio-admin rawx check command which was broken by an incomplete refactoring of the integrity crawler.
Also fix the Apache2 search path in build configuration files.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI
build configuration

SDS VERSION
openio-admin 5.6.1.dev9","SUMMARY
Fix the openio-admin rawx check command which was broken by an incomplete refactoring of the integrity crawler.
Also fix the Apache2 search path in build configuration files.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI
build configuration

SDS VERSION
openio-admin 5.6.1.dev9",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2086,2020-10-12T12:55:52Z,2020-10-13T12:18:06Z,2020-10-13T12:18:12Z,MERGED,True,67,9,4,https://github.com/fvennetier,Fix 'openio-admin rawx check' command,2,[],https://github.com/open-io/oio-sds/pull/2086,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2086#issuecomment-707144107,"SUMMARY
Fix the openio-admin rawx check command which was broken by an incomplete refactoring of the integrity crawler.
Also fix the Apache2 search path in build configuration files.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

CLI
build configuration

SDS VERSION
openio-admin 5.6.1.dev9","Codecov Report

Merging #2086 into 5.x will increase coverage by 0.21%.
The diff coverage is 65.39%.


@@            Coverage Diff             @@
##              5.x    #2086      +/-   ##
==========================================
+ Coverage   78.83%   79.04%   +0.21%     
==========================================
  Files         391      394       +3     
  Lines       74089    75163    +1074     
  Branches     6967     6967              
==========================================
+ Hits        58401    59405    +1004     
+ Misses      15589    15518      -71     
- Partials       99      240     +141     



Impacted Files
Coverage Δ





oio/cli/admin/service_check.py
71.28% <0.00%> (+6.23%)
⬆️


tests/functional/cli/admin/test_service_check.py
82.36% <82.36%> (ø)



tests/functional/cli/__init__.py
100.00% <100.00%> (ø)



tests/functional/content/test_service_id.py
25.45% <0.00%> (-53.25%)
⬇️


tests/functional/event/filters/test_filters.py
78.52% <0.00%> (-16.66%)
⬇️


oio/conscience/client.py
66.40% <0.00%> (-12.79%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0.00%> (-7.14%)
⬇️


tests/functional/audit/test_audit_storage.py
84.56% <0.00%> (-4.06%)
⬇️


proxy/common.c
90.68% <0.00%> (-3.10%)
⬇️


oio/common/storage_functions.py
85.63% <0.00%> (-2.61%)
⬇️


... and 106 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update f0486e4...b41503a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2088,2020-10-15T15:48:13Z,2020-10-27T10:39:47Z,2020-10-27T10:39:51Z,MERGED,True,107,38,7,https://github.com/fvennetier,"Count build warnings, fix some nested functions (trampolines)",2,[],https://github.com/open-io/oio-sds/pull/2088,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2088,"SUMMARY
Nested functions require compiler ""trampolines"", which require the stack to be executable. This is a security issue, and recent compilers advise not to use trampolines.
This pull request adds a test script to count compilation warnings, and fixes some of them.
See #2087.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

core
CI

SDS VERSION
master","SUMMARY
Nested functions require compiler ""trampolines"", which require the stack to be executable. This is a security issue, and recent compilers advise not to use trampolines.
This pull request adds a test script to count compilation warnings, and fixes some of them.
See #2087.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

core
CI

SDS VERSION
master",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2089,2020-10-15T16:23:50Z,2021-01-25T08:53:51Z,2021-01-25T08:54:02Z,CLOSED,False,1489,117,36,https://github.com/AymericDu,[WIP] Implement container sharding (first step),6,[],https://github.com/open-io/oio-sds/pull/2089,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2089,"SUMMARY

 Add shard container in root container
 Redirect an object request to the shard container
 Shard empty container
 PUT/GET an object in a sharded container
 List the shards container of root container
 List the objects in a sharded container
 Make sharding compatible with versioning

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
proxy
CLI

SDS VERSION
openio 8.0.0.dev1

Example
$ openio container create mycontainer
+------+---------+
| Name | Created |
+------+---------+
| toto | True    |
+------+---------+
$ openio container-sharding replace mycontainer '[{""index"": 0, ""lower"": """", ""upper"": ""sharding""}, {""index"": 1, ""lower"": ""sharding"", ""upper"": """"}]' --enable
+-------+----------+----------+
| Index | Lower    | Upper    |
+-------+----------+----------+
|     0 |          | sharding |
|     1 | sharding |          |
+-------+----------+----------+
$ openio container-sharding show mycontainer --counts
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
| Index | Lower    | Upper    | CID                                                              | Bytes | Count |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
|     0 |          | sharding | B1348A230C6B88ED18232EA0A877B2455732ECD158E01EE655289A07E6C55D2F | 0     | 0     |
|     1 | sharding |          | 79110CB5BDF6327D4FD344828DC3E724E615D9855C885B447CB5ED64B15ADF20 | 0     | 0     |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
$ openio object create mycontainer /etc/magic --name magic
+-------+------+----------------------------------+--------+
| Name  | Size | Hash                             | Status |
+-------+------+----------------------------------+--------+
| magic |  111 | 272913026300E7AE9B5E2D51F138E674 | Ok     |
+-------+------+----------------------------------+--------+
$ openio container-sharding show mycontainer --counts
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
| Index | Lower    | Upper    | CID                                                              | Bytes | Count |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
|     0 |          | sharding | B1348A230C6B88ED18232EA0A877B2455732ECD158E01EE655289A07E6C55D2F | 111   | 1     |
|     1 | sharding |          | 79110CB5BDF6327D4FD344828DC3E724E615D9855C885B447CB5ED64B15ADF20 | 0     | 0     |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
$ openio object create mycontainer /etc/magic --name test
+------+------+----------------------------------+--------+
| Name | Size | Hash                             | Status |
+------+------+----------------------------------+--------+
| test |  111 | 272913026300E7AE9B5E2D51F138E674 | Ok     |
+------+------+----------------------------------+--------+
$ openio container-sharding show mycontainer --counts
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
| Index | Lower    | Upper    | CID                                                              | Bytes | Count |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
|     0 |          | sharding | B1348A230C6B88ED18232EA0A877B2455732ECD158E01EE655289A07E6C55D2F | 111   | 1     |
|     1 | sharding |          | 79110CB5BDF6327D4FD344828DC3E724E615D9855C885B447CB5ED64B15ADF20 | 111   | 1     |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+","SUMMARY

 Add shard container in root container
 Redirect an object request to the shard container
 Shard empty container
 PUT/GET an object in a sharded container
 List the shards container of root container
 List the objects in a sharded container
 Make sharding compatible with versioning

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
proxy
CLI

SDS VERSION
openio 8.0.0.dev1

Example
$ openio container create mycontainer
+------+---------+
| Name | Created |
+------+---------+
| toto | True    |
+------+---------+
$ openio container-sharding replace mycontainer '[{""index"": 0, ""lower"": """", ""upper"": ""sharding""}, {""index"": 1, ""lower"": ""sharding"", ""upper"": """"}]' --enable
+-------+----------+----------+
| Index | Lower    | Upper    |
+-------+----------+----------+
|     0 |          | sharding |
|     1 | sharding |          |
+-------+----------+----------+
$ openio container-sharding show mycontainer --counts
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
| Index | Lower    | Upper    | CID                                                              | Bytes | Count |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
|     0 |          | sharding | B1348A230C6B88ED18232EA0A877B2455732ECD158E01EE655289A07E6C55D2F | 0     | 0     |
|     1 | sharding |          | 79110CB5BDF6327D4FD344828DC3E724E615D9855C885B447CB5ED64B15ADF20 | 0     | 0     |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
$ openio object create mycontainer /etc/magic --name magic
+-------+------+----------------------------------+--------+
| Name  | Size | Hash                             | Status |
+-------+------+----------------------------------+--------+
| magic |  111 | 272913026300E7AE9B5E2D51F138E674 | Ok     |
+-------+------+----------------------------------+--------+
$ openio container-sharding show mycontainer --counts
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
| Index | Lower    | Upper    | CID                                                              | Bytes | Count |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
|     0 |          | sharding | B1348A230C6B88ED18232EA0A877B2455732ECD158E01EE655289A07E6C55D2F | 111   | 1     |
|     1 | sharding |          | 79110CB5BDF6327D4FD344828DC3E724E615D9855C885B447CB5ED64B15ADF20 | 0     | 0     |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
$ openio object create mycontainer /etc/magic --name test
+------+------+----------------------------------+--------+
| Name | Size | Hash                             | Status |
+------+------+----------------------------------+--------+
| test |  111 | 272913026300E7AE9B5E2D51F138E674 | Ok     |
+------+------+----------------------------------+--------+
$ openio container-sharding show mycontainer --counts
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
| Index | Lower    | Upper    | CID                                                              | Bytes | Count |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
|     0 |          | sharding | B1348A230C6B88ED18232EA0A877B2455732ECD158E01EE655289A07E6C55D2F | 111   | 1     |
|     1 | sharding |          | 79110CB5BDF6327D4FD344828DC3E724E615D9855C885B447CB5ED64B15ADF20 | 111   | 1     |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2089,2020-10-15T16:23:50Z,2021-01-25T08:53:51Z,2021-01-25T08:54:02Z,CLOSED,False,1489,117,36,https://github.com/AymericDu,[WIP] Implement container sharding (first step),6,[],https://github.com/open-io/oio-sds/pull/2089,https://github.com/AymericDu,2,https://github.com/open-io/oio-sds/pull/2089#issuecomment-766657943,"SUMMARY

 Add shard container in root container
 Redirect an object request to the shard container
 Shard empty container
 PUT/GET an object in a sharded container
 List the shards container of root container
 List the objects in a sharded container
 Make sharding compatible with versioning

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

meta2
proxy
CLI

SDS VERSION
openio 8.0.0.dev1

Example
$ openio container create mycontainer
+------+---------+
| Name | Created |
+------+---------+
| toto | True    |
+------+---------+
$ openio container-sharding replace mycontainer '[{""index"": 0, ""lower"": """", ""upper"": ""sharding""}, {""index"": 1, ""lower"": ""sharding"", ""upper"": """"}]' --enable
+-------+----------+----------+
| Index | Lower    | Upper    |
+-------+----------+----------+
|     0 |          | sharding |
|     1 | sharding |          |
+-------+----------+----------+
$ openio container-sharding show mycontainer --counts
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
| Index | Lower    | Upper    | CID                                                              | Bytes | Count |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
|     0 |          | sharding | B1348A230C6B88ED18232EA0A877B2455732ECD158E01EE655289A07E6C55D2F | 0     | 0     |
|     1 | sharding |          | 79110CB5BDF6327D4FD344828DC3E724E615D9855C885B447CB5ED64B15ADF20 | 0     | 0     |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
$ openio object create mycontainer /etc/magic --name magic
+-------+------+----------------------------------+--------+
| Name  | Size | Hash                             | Status |
+-------+------+----------------------------------+--------+
| magic |  111 | 272913026300E7AE9B5E2D51F138E674 | Ok     |
+-------+------+----------------------------------+--------+
$ openio container-sharding show mycontainer --counts
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
| Index | Lower    | Upper    | CID                                                              | Bytes | Count |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
|     0 |          | sharding | B1348A230C6B88ED18232EA0A877B2455732ECD158E01EE655289A07E6C55D2F | 111   | 1     |
|     1 | sharding |          | 79110CB5BDF6327D4FD344828DC3E724E615D9855C885B447CB5ED64B15ADF20 | 0     | 0     |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
$ openio object create mycontainer /etc/magic --name test
+------+------+----------------------------------+--------+
| Name | Size | Hash                             | Status |
+------+------+----------------------------------+--------+
| test |  111 | 272913026300E7AE9B5E2D51F138E674 | Ok     |
+------+------+----------------------------------+--------+
$ openio container-sharding show mycontainer --counts
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
| Index | Lower    | Upper    | CID                                                              | Bytes | Count |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+
|     0 |          | sharding | B1348A230C6B88ED18232EA0A877B2455732ECD158E01EE655289A07E6C55D2F | 111   | 1     |
|     1 | sharding |          | 79110CB5BDF6327D4FD344828DC3E724E615D9855C885B447CB5ED64B15ADF20 | 111   | 1     |
+-------+----------+----------+------------------------------------------------------------------+-------+-------+",The pull request has been transferred to Stash.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2090,2020-10-16T15:53:41Z,2020-10-19T08:12:29Z,2020-10-19T08:12:33Z,MERGED,True,2,0,1,https://github.com/fvennetier,proxy: set service type when extracting from cached JSON,1,"['bug :scream:', 'language:C']",https://github.com/open-io/oio-sds/pull/2090,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2090,"SUMMARY
When the application requests service lists, and these services are in oioproxy's cache, don't forget to set the type in the resulting structures.
The bug has been detected by running openio container locate: the ""meta0"" field remained empty.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oioproxy

SDS VERSION
openio 5.6.1.dev2","SUMMARY
When the application requests service lists, and these services are in oioproxy's cache, don't forget to set the type in the resulting structures.
The bug has been detected by running openio container locate: the ""meta0"" field remained empty.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oioproxy

SDS VERSION
openio 5.6.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2091,2020-11-04T17:02:56Z,2020-11-09T13:48:22Z,2020-11-19T14:16:47Z,MERGED,True,105,11,4,https://github.com/AymericDu,Reassign new rdir to a service,1,[],https://github.com/open-io/oio-sds/pull/2091,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2091,"SUMMARY
Reassign new rdir to a service
These new parameters to the 'openio rdir bootstrap' command are there to help decommission a rdir (see open-io/oio-product-docs#64)
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.6.2.dev1","SUMMARY
Reassign new rdir to a service
These new parameters to the 'openio rdir bootstrap' command are there to help decommission a rdir (see open-io/oio-product-docs#64)
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.6.2.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2091,2020-11-04T17:02:56Z,2020-11-09T13:48:22Z,2020-11-19T14:16:47Z,MERGED,True,105,11,4,https://github.com/AymericDu,Reassign new rdir to a service,1,[],https://github.com/open-io/oio-sds/pull/2091,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/2091#issuecomment-722287676,"SUMMARY
Reassign new rdir to a service
These new parameters to the 'openio rdir bootstrap' command are there to help decommission a rdir (see open-io/oio-product-docs#64)
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.6.2.dev1","Since this is part of a new administration procedure, I suggest we implement a new subcommand at the right place: openio-admin rdir.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2091,2020-11-04T17:02:56Z,2020-11-09T13:48:22Z,2020-11-19T14:16:47Z,MERGED,True,105,11,4,https://github.com/AymericDu,Reassign new rdir to a service,1,[],https://github.com/open-io/oio-sds/pull/2091,https://github.com/codecov-io,3,https://github.com/open-io/oio-sds/pull/2091#issuecomment-724021364,"SUMMARY
Reassign new rdir to a service
These new parameters to the 'openio rdir bootstrap' command are there to help decommission a rdir (see open-io/oio-product-docs#64)
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

CLI

SDS VERSION
openio 5.6.2.dev1","Codecov Report

Merging #2091 (6e21741) into 5.x (2b85717) will increase coverage by 0.67%.
The diff coverage is 68.75%.


@@            Coverage Diff             @@
##              5.x    #2091      +/-   ##
==========================================
+ Coverage   78.68%   79.34%   +0.67%     
==========================================
  Files         379      394      +15     
  Lines       73572    75178    +1606     
  Branches     6967     6967              
==========================================
+ Hits        57880    59646    +1766     
+ Misses      15593    15293     -300     
- Partials       99      239     +140     



Impacted Files
Coverage Δ





tests/functional/api/test_directory.py
99.13% <ø> (ø)



oio/rdir/client.py
83.78% <68.75%> (+0.14%)
⬆️


oio/common/storage_functions.py
85.63% <0.00%> (-2.61%)
⬇️


oio/directory/meta0.py
83.96% <0.00%> (-0.93%)
⬇️


oio/container/backup.py
73.23% <0.00%> (-0.90%)
⬇️


sqliterepo/version.c
83.71% <0.00%> (-0.74%)
⬇️


oio/blob/converter.py
80.70% <0.00%> (-0.63%)
⬇️


...ests/functional/container/test_container_backup.py
78.56% <0.00%> (-0.43%)
⬇️


oio/common/utils.py
71.38% <0.00%> (-0.38%)
⬇️


oio/event/beanstalk.py
65.00% <0.00%> (-0.19%)
⬇️


... and 85 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 2b85717...6e21741. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2092,2020-11-09T16:09:11Z,2020-11-10T09:17:42Z,2020-11-19T14:16:40Z,MERGED,True,3,1,1,https://github.com/AymericDu,rawx: Improve error message when the volume XATTRs are wrong,1,[],https://github.com/open-io/oio-sds/pull/2092,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2092,"SUMMARY
Improve error message when the volume XATTRs are wrong
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx (Go)

SDS VERSION
openio 5.6.2.dev2","SUMMARY
Improve error message when the volume XATTRs are wrong
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx (Go)

SDS VERSION
openio 5.6.2.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2093,2020-11-12T18:01:05Z,2020-11-24T07:55:23Z,2020-11-24T08:30:50Z,MERGED,True,411,42,7,https://github.com/AymericDu,multi-conscience: Keep the service locks when restarting conscience,3,[],https://github.com/open-io/oio-sds/pull/2093,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2093,"SUMMARY
Keep the service locks when restarting conscience with multi-conscience.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

multi-conscience

SDS VERSION
openio 5.6.2.dev1","SUMMARY
Keep the service locks when restarting conscience with multi-conscience.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

multi-conscience

SDS VERSION
openio 5.6.2.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2093,2020-11-12T18:01:05Z,2020-11-24T07:55:23Z,2020-11-24T08:30:50Z,MERGED,True,411,42,7,https://github.com/AymericDu,multi-conscience: Keep the service locks when restarting conscience,3,[],https://github.com/open-io/oio-sds/pull/2093,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2093#issuecomment-731127115,"SUMMARY
Keep the service locks when restarting conscience with multi-conscience.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

multi-conscience

SDS VERSION
openio 5.6.2.dev1","Codecov Report

Merging #2093 (342d71a) into 5.x (92c46e6) will increase coverage by 0.06%.
The diff coverage is 88.52%.


@@            Coverage Diff             @@
##              5.x    #2093      +/-   ##
==========================================
+ Coverage   79.34%   79.40%   +0.06%     
==========================================
  Files         394      394              
  Lines       75179    75379     +200     
  Branches     6967     6995      +28     
==========================================
+ Hits        59645    59844     +199     
- Misses      15294    15295       +1     
  Partials      240      240              



Impacted Files
Coverage Δ





proxy/cs_actions.c
90.17% <ø> (-0.03%)
⬇️


tests/functional/conscience/test_conscience.py
94.66% <77.78%> (-3.41%)
⬇️


metautils/lib/utils_service_info.c
84.42% <87.70%> (+0.98%)
⬆️


cluster/module/server.c
85.98% <91.73%> (+1.32%)
⬆️


cluster/lib/gridcluster.c
65.25% <100.00%> (ø)



tests/functional/content/test_service_id.py
79.29% <0.00%> (-5.91%)
⬇️


metautils/lib/volume_lock.c
70.00% <0.00%> (-5.00%)
⬇️


meta2v2/meta2_filters_check.c
76.12% <0.00%> (-2.98%)
⬇️


oio/blob/indexer.py
68.94% <0.00%> (-2.27%)
⬇️


meta2v2/meta2_filters_action_container.c
61.31% <0.00%> (-2.05%)
⬇️


... and 60 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 92c46e6...342d71a. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2094,2020-11-18T08:54:24Z,2020-11-24T07:54:50Z,2020-11-24T08:30:56Z,MERGED,True,124,10,4,https://github.com/AymericDu,rawx: Check repository with probe,2,['language:Golang'],https://github.com/open-io/oio-sds/pull/2094,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2094,"SUMMARY
Check rawx repository with probe (as for metaX)
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx (Golang)

SDS VERSION
openio 5.7.1.dev2","SUMMARY
Check rawx repository with probe (as for metaX)
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx (Golang)

SDS VERSION
openio 5.7.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2095,2020-11-18T09:04:44Z,2021-01-05T13:34:11Z,2021-01-05T13:34:11Z,MERGED,True,44,106,12,https://github.com/murlock,CI: convert remaining tests using python 2 to python 3.6,2,[],https://github.com/open-io/oio-sds/pull/2095,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2095,"SUMMARY
Drop Python 2
Since gateway will use Python 3.7, launch tests with Python 3.7
ISSUE TYPE


Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
oio
SDS VERSION
master","SUMMARY
Drop Python 2
Since gateway will use Python 3.7, launch tests with Python 3.7
ISSUE TYPE


Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
oio
SDS VERSION
master",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2095,2020-11-18T09:04:44Z,2021-01-05T13:34:11Z,2021-01-05T13:34:11Z,MERGED,True,44,106,12,https://github.com/murlock,CI: convert remaining tests using python 2 to python 3.6,2,[],https://github.com/open-io/oio-sds/pull/2095,https://github.com/fvennetier,2,https://github.com/open-io/oio-sds/pull/2095#issuecomment-729808178,"SUMMARY
Drop Python 2
Since gateway will use Python 3.7, launch tests with Python 3.7
ISSUE TYPE


Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
oio
SDS VERSION
master",Building with both Python 3.6 and 3.7 seems overkill. I suggest we reduce the number of test environments.,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2095,2020-11-18T09:04:44Z,2021-01-05T13:34:11Z,2021-01-05T13:34:11Z,MERGED,True,44,106,12,https://github.com/murlock,CI: convert remaining tests using python 2 to python 3.6,2,[],https://github.com/open-io/oio-sds/pull/2095,https://github.com/ilitzroth,3,https://github.com/open-io/oio-sds/pull/2095#issuecomment-729906659,"SUMMARY
Drop Python 2
Since gateway will use Python 3.7, launch tests with Python 3.7
ISSUE TYPE


Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
oio
SDS VERSION
master","Please keep me informed about the python version. I'm currently using 3.6 if we're moving
to 3.7 some things need to be adapted (docker files, CMakeLists.txt), but I don't expect much fallout.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2095,2020-11-18T09:04:44Z,2021-01-05T13:34:11Z,2021-01-05T13:34:11Z,MERGED,True,44,106,12,https://github.com/murlock,CI: convert remaining tests using python 2 to python 3.6,2,[],https://github.com/open-io/oio-sds/pull/2095,https://github.com/murlock,4,https://github.com/open-io/oio-sds/pull/2095#issuecomment-730222482,"SUMMARY
Drop Python 2
Since gateway will use Python 3.7, launch tests with Python 3.7
ISSUE TYPE


Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
oio
SDS VERSION
master","We still target Python 3.6 at this time, I'll fix the error and reduce number of test environmment.",True,{'THUMBS_UP': ['https://github.com/fvennetier']}
open-io/oio-sds,https://github.com/open-io/oio-sds,2095,2020-11-18T09:04:44Z,2021-01-05T13:34:11Z,2021-01-05T13:34:11Z,MERGED,True,44,106,12,https://github.com/murlock,CI: convert remaining tests using python 2 to python 3.6,2,[],https://github.com/open-io/oio-sds/pull/2095,https://github.com/fvennetier,5,https://github.com/open-io/oio-sds/pull/2095#issuecomment-733706594,"SUMMARY
Drop Python 2
Since gateway will use Python 3.7, launch tests with Python 3.7
ISSUE TYPE


Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
oio
SDS VERSION
master","Now that #2096 is merged, we need to make a cascade merge, and the tests should be ok again.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2095,2020-11-18T09:04:44Z,2021-01-05T13:34:11Z,2021-01-05T13:34:11Z,MERGED,True,44,106,12,https://github.com/murlock,CI: convert remaining tests using python 2 to python 3.6,2,[],https://github.com/open-io/oio-sds/pull/2095,https://github.com/codecov-io,6,https://github.com/open-io/oio-sds/pull/2095#issuecomment-754609639,"SUMMARY
Drop Python 2
Since gateway will use Python 3.7, launch tests with Python 3.7
ISSUE TYPE


Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
oio
SDS VERSION
master","Codecov Report

Merging #2095 (2933bf3) into master (529896d) will decrease coverage by 0.44%.
The diff coverage is 93.75%.


@@            Coverage Diff             @@
##           master    #2095      +/-   ##
==========================================
- Coverage   79.77%   79.34%   -0.43%     
==========================================
  Files         368      367       -1     
  Lines       72242    72192      -50     
  Branches     6450     6468      +18     
==========================================
- Hits        57623    57270     -353     
- Misses      14417    14718     +301     
- Partials      202      204       +2     



Impacted Files
Coverage Δ





tests/functional/blob/test_mover.py
92.93% <0.00%> (-7.07%)
⬇️


tests/functional/account/test_backend.py
100.00% <100.00%> (ø)



tests/functional/cli/container/test_container.py
60.96% <100.00%> (ø)



tests/functional/conscience/test_conscience.py
95.06% <100.00%> (ø)



tests/functional/m2_filters/test_filters.py
97.06% <100.00%> (ø)



sqliterepo/election.c
76.91% <0.00%> (-12.17%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0.00%> (-7.14%)
⬇️


oio/content/ec.py
56.46% <0.00%> (-5.84%)
⬇️


sqliterepo/gridd_client_pool.c
77.64% <0.00%> (-3.50%)
⬇️


oio/conscience/client.py
77.60% <0.00%> (-3.20%)
⬇️


... and 65 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 529896d...2933bf3. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2096,2020-11-23T14:26:16Z,2020-11-25T13:26:25Z,2020-11-25T13:52:23Z,MERGED,True,8,6,1,https://github.com/AymericDu,meta2: Fix purge deleted aliases,1,[],https://github.com/open-io/oio-sds/pull/2096,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2096,"SUMMARY
Fix purge deleted aliases

Use version instead of creation time
Select the current version to check if object is deleted

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 5.7.1.dev2

ADDITIONAL INFORMATION
This bug is visible with a recent version of sqlite3 (like version 3.31.1).","SUMMARY
Fix purge deleted aliases

Use version instead of creation time
Select the current version to check if object is deleted

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 5.7.1.dev2

ADDITIONAL INFORMATION
This bug is visible with a recent version of sqlite3 (like version 3.31.1).",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2096,2020-11-23T14:26:16Z,2020-11-25T13:26:25Z,2020-11-25T13:52:23Z,MERGED,True,8,6,1,https://github.com/AymericDu,meta2: Fix purge deleted aliases,1,[],https://github.com/open-io/oio-sds/pull/2096,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2096#issuecomment-732994595,"SUMMARY
Fix purge deleted aliases

Use version instead of creation time
Select the current version to check if object is deleted

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 5.7.1.dev2

ADDITIONAL INFORMATION
This bug is visible with a recent version of sqlite3 (like version 3.31.1).","Codecov Report

Merging #2096 (8565451) into 5.x (92c46e6) will increase coverage by 0.15%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              5.x    #2096      +/-   ##
==========================================
+ Coverage   79.34%   79.48%   +0.15%     
==========================================
  Files         394      394              
  Lines       75179    76090     +911     
  Branches     6967     7234     +267     
==========================================
+ Hits        59645    60476     +831     
- Misses      15294    15369      +75     
- Partials      240      245       +5     



Impacted Files
Coverage Δ





meta2v2/meta2_utils.c
84.00% <100.00%> (+0.01%)
⬆️


rawx/rawx.go
63.89% <0.00%> (-9.69%)
⬇️


tests/functional/content/test_service_id.py
79.29% <0.00%> (-5.91%)
⬇️


metautils/lib/volume_lock.c
70.00% <0.00%> (-5.00%)
⬇️


oio/conscience/client.py
79.20% <0.00%> (-3.20%)
⬇️


oio/common/storage_functions.py
85.63% <0.00%> (-2.61%)
⬇️


tests/functional/conscience/test_conscience.py
95.71% <0.00%> (-2.35%)
⬇️


metautils/lib/utils_hashstr.c
79.63% <0.00%> (-1.85%)
⬇️


meta1v2/meta1_server.c
69.68% <0.00%> (-1.63%)
⬇️


proxy/cs_actions.c
88.63% <0.00%> (-1.57%)
⬇️


... and 58 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 92c46e6...8565451. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2097,2020-11-24T14:55:35Z,2020-11-25T08:27:01Z,2020-11-25T08:27:05Z,MERGED,True,2,2,1,https://github.com/murlock,oio: fix flush with Python3,1,[],https://github.com/open-io/oio-sds/pull/2097,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2097,"SUMMARY
Python3 returns float when a division occurs between two integers
$ python2
Python 2.7.17 (default, Sep 30 2020, 13:38:04)



3 / 2
1
$ python3
Python 3.6.9 (default, Oct  8 2020, 12:12:24)
3 / 2
1.5



ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
SDS VERSION
openio 7.1.1.dev4

ADDITIONAL INFORMATION","SUMMARY
Python3 returns float when a division occurs between two integers
$ python2
Python 2.7.17 (default, Sep 30 2020, 13:38:04)



3 / 2
1
$ python3
Python 3.6.9 (default, Oct  8 2020, 12:12:24)
3 / 2
1.5



ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
oio
SDS VERSION
openio 7.1.1.dev4

ADDITIONAL INFORMATION",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2098,2020-11-26T15:15:20Z,2020-12-01T11:05:14Z,2020-12-01T11:05:19Z,MERGED,True,10,0,1,https://github.com/fvennetier,proxy: map more low-level errors to Service Unavailable (503),1,[],https://github.com/open-io/oio-sds/pull/2098,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2098,"SUMMARY
Some low-level errors like CODE_AVOIDED (8) did not have a particular mapping to high-level errors, and thus triggered the ambiguous Internal Server Error (500) error. We choose to map these error to the Service Unavailable (503) which is better managed by calling applications (they usually retry the request after a delay).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-proxy

SDS VERSION
openio 5.7.1.dev1","SUMMARY
Some low-level errors like CODE_AVOIDED (8) did not have a particular mapping to high-level errors, and thus triggered the ambiguous Internal Server Error (500) error. We choose to map these error to the Service Unavailable (503) which is better managed by calling applications (they usually retry the request after a delay).
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

oio-proxy

SDS VERSION
openio 5.7.1.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2099,2020-11-27T14:23:53Z,2020-12-01T08:55:21Z,2020-12-01T08:55:27Z,MERGED,True,2,0,1,https://github.com/fvennetier,account: clean after bucket deletion,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/2099,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2099,"SUMMARY
When deleting a bucket, some entries were left in the account service. They are now cleaned.
Jira: OBSTO-161
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account service

SDS VERSION
openio 7.1.1.dev2","SUMMARY
When deleting a bucket, some entries were left in the account service. They are now cleaned.
Jira: OBSTO-161
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

account service

SDS VERSION
openio 7.1.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2100,2020-11-30T16:55:30Z,2020-12-03T13:39:34Z,2020-12-03T13:57:20Z,MERGED,True,19,0,1,https://github.com/fvennetier,conscience-agent: check for service endpoint conflicts,1,[],https://github.com/open-io/oio-sds/pull/2100,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2100,"SUMMARY
If several services are configured on the same endpoint, log an error,
and do not report them to the conscience.
Jira: OBSTO-192
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 7.1.1.dev2","SUMMARY
If several services are configured on the same endpoint, log an error,
and do not report them to the conscience.
Jira: OBSTO-192
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 7.1.1.dev2",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2100,2020-11-30T16:55:30Z,2020-12-03T13:39:34Z,2020-12-03T13:57:20Z,MERGED,True,19,0,1,https://github.com/fvennetier,conscience-agent: check for service endpoint conflicts,1,[],https://github.com/open-io/oio-sds/pull/2100,https://github.com/cdelgehier,2,https://github.com/open-io/oio-sds/pull/2100#issuecomment-735983767,"SUMMARY
If several services are configured on the same endpoint, log an error,
and do not report them to the conscience.
Jira: OBSTO-192
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 7.1.1.dev2","So first come, first served ?
I didn't see any unregister action, so is it a ""first come, first served"" ?",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2100,2020-11-30T16:55:30Z,2020-12-03T13:39:34Z,2020-12-03T13:57:20Z,MERGED,True,19,0,1,https://github.com/fvennetier,conscience-agent: check for service endpoint conflicts,1,[],https://github.com/open-io/oio-sds/pull/2100,https://github.com/fvennetier,3,https://github.com/open-io/oio-sds/pull/2100#issuecomment-736322196,"SUMMARY
If several services are configured on the same endpoint, log an error,
and do not report them to the conscience.
Jira: OBSTO-192
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 7.1.1.dev2","So first come, first served ?
I didn't see any unregister action, so is it a ""first come, first served"" ?

That's right, I did not put any unregister action. None of the conflicting services will be updated. But I can change that, and register one of them. Notice though that the code cannot identify which one is the good one...",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2100,2020-11-30T16:55:30Z,2020-12-03T13:39:34Z,2020-12-03T13:57:20Z,MERGED,True,19,0,1,https://github.com/fvennetier,conscience-agent: check for service endpoint conflicts,1,[],https://github.com/open-io/oio-sds/pull/2100,https://github.com/fatpat,4,https://github.com/open-io/oio-sds/pull/2100#issuecomment-736344260,"SUMMARY
If several services are configured on the same endpoint, log an error,
and do not report them to the conscience.
Jira: OBSTO-192
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 7.1.1.dev2",would it be possible to lock them with a 0 score ?,True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2100,2020-11-30T16:55:30Z,2020-12-03T13:39:34Z,2020-12-03T13:57:20Z,MERGED,True,19,0,1,https://github.com/fvennetier,conscience-agent: check for service endpoint conflicts,1,[],https://github.com/open-io/oio-sds/pull/2100,https://github.com/fvennetier,5,https://github.com/open-io/oio-sds/pull/2100#issuecomment-736432477,"SUMMARY
If several services are configured on the same endpoint, log an error,
and do not report them to the conscience.
Jira: OBSTO-192
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

conscience-agent

SDS VERSION
openio 7.1.1.dev2","would it be possible to lock them with a 0 score ?

It is possible. But the problem is that ""locking"" them means registering them. If a faulty service is ""locked"", it will appear in the conscience until it is garbage collected. With this pre-registration check, it won't be registered at all.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2101,2020-12-11T12:19:58Z,2020-12-24T08:48:24Z,2020-12-24T08:48:30Z,MERGED,True,137,34,2,https://github.com/AymericDu,xcute: Save sent tasks before they are processed,1,[],https://github.com/open-io/oio-sds/pull/2101,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2101,"SUMMARY
Save sent tasks before they are processed.
In some cases, the task was processed before updating the list of sent tasks.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.7.1.dev8","SUMMARY
Save sent tasks before they are processed.
In some cases, the task was processed before updating the list of sent tasks.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.7.1.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2101,2020-12-11T12:19:58Z,2020-12-24T08:48:24Z,2020-12-24T08:48:30Z,MERGED,True,137,34,2,https://github.com/AymericDu,xcute: Save sent tasks before they are processed,1,[],https://github.com/open-io/oio-sds/pull/2101,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2101#issuecomment-747608025,"SUMMARY
Save sent tasks before they are processed.
In some cases, the task was processed before updating the list of sent tasks.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.7.1.dev8","Codecov Report

Merging #2101 (cb207f9) into 5.x (9c50d0e) will increase coverage by 0.80%.
The diff coverage is n/a.


@@            Coverage Diff             @@
##              5.x    #2101      +/-   ##
==========================================
+ Coverage   78.67%   79.47%   +0.80%     
==========================================
  Files         379      394      +15     
  Lines       73787    75442    +1655     
  Branches     6995     6994       -1     
==========================================
+ Hits        58045    59950    +1905     
+ Misses      15641    15247     -394     
- Partials      101      245     +144     



Impacted Files
Coverage Δ





tests/functional/content/test_service_id.py
79.29% <0.00%> (-5.91%)
⬇️


oio/blob/auditor.py
58.29% <0.00%> (-1.71%)
⬇️


meta1v2/meta1_server.c
69.68% <0.00%> (-1.63%)
⬇️


rawx-lib/src/attr_handler.c
69.05% <0.00%> (-0.95%)
⬇️


meta2v2/meta2_filters_extract.c
82.68% <0.00%> (-0.78%)
⬇️


sqliterepo/cache.c
84.84% <0.00%> (-0.47%)
⬇️


tests/functional/api/test_rdir.py
97.12% <0.00%> (-0.36%)
⬇️


proxy/metacd_http.c
91.44% <0.00%> (-0.30%)
⬇️


rawx/chunkrepo.go
61.12% <0.00%> (ø)



rawx/logger.go
64.71% <0.00%> (ø)



... and 80 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9c50d0e...cb207f9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2102,2020-12-15T09:38:07Z,2020-12-22T09:07:23Z,2020-12-22T09:07:28Z,MERGED,True,86,11,7,https://github.com/murlock,Various fixes and enhancements,4,[],https://github.com/open-io/oio-sds/pull/2102,https://github.com/murlock,1,https://github.com/open-io/oio-sds/pull/2102,"SUMMARY
This PR will bring:

some few fixes for CLI
stats when a sync occurs
expose sqlite stats through an admin request on container/get_properties

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME
sqliterepo, CLI
SDS VERSION
5.x

ADDITIONAL INFORMATION
$ openio container show big
+----------------------+-----------------------------------------------------------------------------+
| Field                | Value                                                                       |
+----------------------+-----------------------------------------------------------------------------+
| account              | AUTH_88fddfcf6d6c4a85baa1fc27c0ee24bf                                       |
| base_name            | 30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E.1          |
| bucket               | big                                                                         |
| bytes_usage          | 57.412GB                                                                    |
| container            | big+segments%2Fsubdir |
| ctime                | 1594304161                                                                  |
| damaged_objects      | 0                                                                           |
| max_versions         | Namespace default                                                           |
| missing_chunks       | 0                                                                           |
| objects              | 6.848K                                                                      |
| quota                | Namespace default                                                           |
| stats.freelist_count | 3196841                                                                     |
| stats.page_count     | 3206562                                                                     |
| stats.page_size      | 4096                                                                        |
| stats.space_wasted   | 99.70% (est. 13.094G)                                                       |
| status               | Enabled                                                                     |
| storage_policy       | Namespace default                                                           |
+----------------------+-----------------------------------------------------------------------------+","SUMMARY
This PR will bring:

some few fixes for CLI
stats when a sync occurs
expose sqlite stats through an admin request on container/get_properties

ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME
sqliterepo, CLI
SDS VERSION
5.x

ADDITIONAL INFORMATION
$ openio container show big
+----------------------+-----------------------------------------------------------------------------+
| Field                | Value                                                                       |
+----------------------+-----------------------------------------------------------------------------+
| account              | AUTH_88fddfcf6d6c4a85baa1fc27c0ee24bf                                       |
| base_name            | 30AE0C4B4F4E75E44CBC92465BACCCD87A98CEB39F0C967230D20272019CCB4E.1          |
| bucket               | big                                                                         |
| bytes_usage          | 57.412GB                                                                    |
| container            | big+segments%2Fsubdir |
| ctime                | 1594304161                                                                  |
| damaged_objects      | 0                                                                           |
| max_versions         | Namespace default                                                           |
| missing_chunks       | 0                                                                           |
| objects              | 6.848K                                                                      |
| quota                | Namespace default                                                           |
| stats.freelist_count | 3196841                                                                     |
| stats.page_count     | 3206562                                                                     |
| stats.page_size      | 4096                                                                        |
| stats.space_wasted   | 99.70% (est. 13.094G)                                                       |
| status               | Enabled                                                                     |
| storage_policy       | Namespace default                                                           |
+----------------------+-----------------------------------------------------------------------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2103,2020-12-16T15:59:50Z,2020-12-24T08:49:04Z,2020-12-24T08:49:08Z,MERGED,True,137,8,8,https://github.com/AymericDu,xcute: Allow to update job configuration,1,[],https://github.com/open-io/oio-sds/pull/2103,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2103,"SUMMARY
Allow to update job configuration (only when the job is paused).
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.7.1.dev8

ADDITIONAL INFORMATION
$ openio-admin xcute rawx decommission 127.0.0.1:6012 --chunks-per-second 2 --min-chunk-size 112
+------------------------------------+----------------------------------+
| Field                              | Value                            |
+------------------------------------+----------------------------------+
| config.params.excluded_rawx        |                                  |
| config.params.max_chunk_size       | 0                                |
| config.params.min_chunk_size       | 112                              |
| config.params.rawx_timeout         | 60.0                             |
| config.params.rdir_fetch_limit     | 1000                             |
| config.params.rdir_timeout         | 60.0                             |
| config.params.service_id           | 127.0.0.1:6012                   |
| config.params.usage_check_interval | 60.0                             |
| config.params.usage_target         | 0                                |
| config.tasks_batch_size            | 2                                |
| config.tasks_per_second            | 2                                |
| errors.total                       | 0                                |
| job.ctime                          | 1608131547.98                    |
| job.id                             | 20201216151227980437-6674b7fcd23 |
| job.lock                           | rawx/127.0.0.1:6012              |
| job.mtime                          | 1608131547.98                    |
| job.request_pause                  | False                            |
| job.status                         | WAITING                          |
| job.type                           | rawx-decommission                |
| tasks.all_sent                     | False                            |
| tasks.is_total_temp                | True                             |
| tasks.last_sent                    | None                             |
| tasks.processed                    | 0                                |
| tasks.sent                         | 0                                |
| tasks.total                        | 0                                |
| tasks.total_marker                 | None                             |
+------------------------------------+----------------------------------+
$ openio-admin xcute job pause 20201216151227980437-6674b7fcd23
+----------------------------------+--------+
| ID                               | Paused |
+----------------------------------+--------+
| 20201216151227980437-6674b7fcd23 | True   |
+----------------------------------+--------+
$ openio-admin xcute job show 20201216151227980437-6674b7fcd23
+------------------------------------+----------------------------------+
| Field                              | Value                            |
+------------------------------------+----------------------------------+
| config.params.excluded_rawx        |                                  |
| config.params.max_chunk_size       | 0                                |
| config.params.min_chunk_size       | 112                              |
| config.params.rawx_timeout         | 60.0                             |
| config.params.rdir_fetch_limit     | 1000                             |
| config.params.rdir_timeout         | 60.0                             |
| config.params.service_id           | 127.0.0.1:6012                   |
| config.params.usage_check_interval | 60.0                             |
| config.params.usage_target         | 0                                |
| config.tasks_batch_size            | 2                                |
| config.tasks_per_second            | 2                                |
| errors.total                       | 0                                |
| job.ctime                          | 1608131547.98                    |
| job.duration                       | 373.796740055                    |
| job.id                             | 20201216151227980437-6674b7fcd23 |
| job.lock                           | rawx/127.0.0.1:6012              |
| job.mtime                          | 1608131921.78                    |
| job.status                         | PAUSED                           |
| job.type                           | rawx-decommission                |
| results.skipped_chunks_too_small   | 110                              |
| tasks.processed                    | 110                              |
| tasks.processed_per_second         | 0.294277579799                   |
| tasks.processed_percent            | 63.2183908046                    |
| tasks.sent                         | 110                              |
| tasks.sent_percent                 | 63.2183908046                    |
| tasks.total                        | 174 (estimated)                  |
+------------------------------------+----------------------------------+
$ openio-admin xcute job update 20201216151227980437-6674b7fcd23 --param min_chunk_size=
+-----------------------------+----------------+
| Field                       | Value          |
+-----------------------------+----------------+
| params.excluded_rawx        |                |
| params.max_chunk_size       | 0              |
| params.min_chunk_size       | 0              |
| params.rawx_timeout         | 60.0           |
| params.rdir_fetch_limit     | 1000           |
| params.rdir_timeout         | 60.0           |
| params.service_id           | 127.0.0.1:6012 |
| params.usage_check_interval | 60.0           |
| params.usage_target         | 0              |
| tasks_batch_size            | 2              |
| tasks_per_second            | 2              |
+-----------------------------+----------------+
$ openio-admin xcute job resume 20201216151227980437-6674b7fcd23
+----------------------------------+---------+
| ID                               | Resumed |
+----------------------------------+---------+
| 20201216151227980437-6674b7fcd23 | True    |
+----------------------------------+---------+
$ openio-admin xcute job show 20201216151227980437-6674b7fcd23
+------------------------------------+----------------------------------+
| Field                              | Value                            |
+------------------------------------+----------------------------------+
| config.params.excluded_rawx        |                                  |
| config.params.max_chunk_size       | 0                                |
| config.params.min_chunk_size       | 0                                |
| config.params.rawx_timeout         | 60.0                             |
| config.params.rdir_fetch_limit     | 1000                             |
| config.params.rdir_timeout         | 60.0                             |
| config.params.service_id           | 127.0.0.1:6012                   |
| config.params.usage_check_interval | 60.0                             |
| config.params.usage_target         | 0                                |
| config.tasks_batch_size            | 2                                |
| config.tasks_per_second            | 2                                |
| errors.total                       | 0                                |
| job.ctime                          | 1608131547.98                    |
| job.duration                       | 404.867830038                    |
| job.id                             | 20201216151227980437-6674b7fcd23 |
| job.lock                           | rawx/127.0.0.1:6012              |
| job.mtime                          | 1608131952.85                    |
| job.status                         | RUNNING                          |
| job.type                           | rawx-decommission                |
| results.moved_bytes                | 1776                             |
| results.moved_chunks               | 16                               |
| results.skipped_chunks_too_small   | 110                              |
| tasks.processed                    | 126                              |
| tasks.processed_per_second         | 0.311212673993                   |
| tasks.processed_percent            | 72.4137931034                    |
| tasks.sent                         | 126                              |
| tasks.sent_percent                 | 72.4137931034                    |
| tasks.total                        | 174 (estimated)                  |
+------------------------------------+----------------------------------+","SUMMARY
Allow to update job configuration (only when the job is paused).
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.7.1.dev8

ADDITIONAL INFORMATION
$ openio-admin xcute rawx decommission 127.0.0.1:6012 --chunks-per-second 2 --min-chunk-size 112
+------------------------------------+----------------------------------+
| Field                              | Value                            |
+------------------------------------+----------------------------------+
| config.params.excluded_rawx        |                                  |
| config.params.max_chunk_size       | 0                                |
| config.params.min_chunk_size       | 112                              |
| config.params.rawx_timeout         | 60.0                             |
| config.params.rdir_fetch_limit     | 1000                             |
| config.params.rdir_timeout         | 60.0                             |
| config.params.service_id           | 127.0.0.1:6012                   |
| config.params.usage_check_interval | 60.0                             |
| config.params.usage_target         | 0                                |
| config.tasks_batch_size            | 2                                |
| config.tasks_per_second            | 2                                |
| errors.total                       | 0                                |
| job.ctime                          | 1608131547.98                    |
| job.id                             | 20201216151227980437-6674b7fcd23 |
| job.lock                           | rawx/127.0.0.1:6012              |
| job.mtime                          | 1608131547.98                    |
| job.request_pause                  | False                            |
| job.status                         | WAITING                          |
| job.type                           | rawx-decommission                |
| tasks.all_sent                     | False                            |
| tasks.is_total_temp                | True                             |
| tasks.last_sent                    | None                             |
| tasks.processed                    | 0                                |
| tasks.sent                         | 0                                |
| tasks.total                        | 0                                |
| tasks.total_marker                 | None                             |
+------------------------------------+----------------------------------+
$ openio-admin xcute job pause 20201216151227980437-6674b7fcd23
+----------------------------------+--------+
| ID                               | Paused |
+----------------------------------+--------+
| 20201216151227980437-6674b7fcd23 | True   |
+----------------------------------+--------+
$ openio-admin xcute job show 20201216151227980437-6674b7fcd23
+------------------------------------+----------------------------------+
| Field                              | Value                            |
+------------------------------------+----------------------------------+
| config.params.excluded_rawx        |                                  |
| config.params.max_chunk_size       | 0                                |
| config.params.min_chunk_size       | 112                              |
| config.params.rawx_timeout         | 60.0                             |
| config.params.rdir_fetch_limit     | 1000                             |
| config.params.rdir_timeout         | 60.0                             |
| config.params.service_id           | 127.0.0.1:6012                   |
| config.params.usage_check_interval | 60.0                             |
| config.params.usage_target         | 0                                |
| config.tasks_batch_size            | 2                                |
| config.tasks_per_second            | 2                                |
| errors.total                       | 0                                |
| job.ctime                          | 1608131547.98                    |
| job.duration                       | 373.796740055                    |
| job.id                             | 20201216151227980437-6674b7fcd23 |
| job.lock                           | rawx/127.0.0.1:6012              |
| job.mtime                          | 1608131921.78                    |
| job.status                         | PAUSED                           |
| job.type                           | rawx-decommission                |
| results.skipped_chunks_too_small   | 110                              |
| tasks.processed                    | 110                              |
| tasks.processed_per_second         | 0.294277579799                   |
| tasks.processed_percent            | 63.2183908046                    |
| tasks.sent                         | 110                              |
| tasks.sent_percent                 | 63.2183908046                    |
| tasks.total                        | 174 (estimated)                  |
+------------------------------------+----------------------------------+
$ openio-admin xcute job update 20201216151227980437-6674b7fcd23 --param min_chunk_size=
+-----------------------------+----------------+
| Field                       | Value          |
+-----------------------------+----------------+
| params.excluded_rawx        |                |
| params.max_chunk_size       | 0              |
| params.min_chunk_size       | 0              |
| params.rawx_timeout         | 60.0           |
| params.rdir_fetch_limit     | 1000           |
| params.rdir_timeout         | 60.0           |
| params.service_id           | 127.0.0.1:6012 |
| params.usage_check_interval | 60.0           |
| params.usage_target         | 0              |
| tasks_batch_size            | 2              |
| tasks_per_second            | 2              |
+-----------------------------+----------------+
$ openio-admin xcute job resume 20201216151227980437-6674b7fcd23
+----------------------------------+---------+
| ID                               | Resumed |
+----------------------------------+---------+
| 20201216151227980437-6674b7fcd23 | True    |
+----------------------------------+---------+
$ openio-admin xcute job show 20201216151227980437-6674b7fcd23
+------------------------------------+----------------------------------+
| Field                              | Value                            |
+------------------------------------+----------------------------------+
| config.params.excluded_rawx        |                                  |
| config.params.max_chunk_size       | 0                                |
| config.params.min_chunk_size       | 0                                |
| config.params.rawx_timeout         | 60.0                             |
| config.params.rdir_fetch_limit     | 1000                             |
| config.params.rdir_timeout         | 60.0                             |
| config.params.service_id           | 127.0.0.1:6012                   |
| config.params.usage_check_interval | 60.0                             |
| config.params.usage_target         | 0                                |
| config.tasks_batch_size            | 2                                |
| config.tasks_per_second            | 2                                |
| errors.total                       | 0                                |
| job.ctime                          | 1608131547.98                    |
| job.duration                       | 404.867830038                    |
| job.id                             | 20201216151227980437-6674b7fcd23 |
| job.lock                           | rawx/127.0.0.1:6012              |
| job.mtime                          | 1608131952.85                    |
| job.status                         | RUNNING                          |
| job.type                           | rawx-decommission                |
| results.moved_bytes                | 1776                             |
| results.moved_chunks               | 16                               |
| results.skipped_chunks_too_small   | 110                              |
| tasks.processed                    | 126                              |
| tasks.processed_per_second         | 0.311212673993                   |
| tasks.processed_percent            | 72.4137931034                    |
| tasks.sent                         | 126                              |
| tasks.sent_percent                 | 72.4137931034                    |
| tasks.total                        | 174 (estimated)                  |
+------------------------------------+----------------------------------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2103,2020-12-16T15:59:50Z,2020-12-24T08:49:04Z,2020-12-24T08:49:08Z,MERGED,True,137,8,8,https://github.com/AymericDu,xcute: Allow to update job configuration,1,[],https://github.com/open-io/oio-sds/pull/2103,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2103#issuecomment-748025888,"SUMMARY
Allow to update job configuration (only when the job is paused).
ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.7.1.dev8

ADDITIONAL INFORMATION
$ openio-admin xcute rawx decommission 127.0.0.1:6012 --chunks-per-second 2 --min-chunk-size 112
+------------------------------------+----------------------------------+
| Field                              | Value                            |
+------------------------------------+----------------------------------+
| config.params.excluded_rawx        |                                  |
| config.params.max_chunk_size       | 0                                |
| config.params.min_chunk_size       | 112                              |
| config.params.rawx_timeout         | 60.0                             |
| config.params.rdir_fetch_limit     | 1000                             |
| config.params.rdir_timeout         | 60.0                             |
| config.params.service_id           | 127.0.0.1:6012                   |
| config.params.usage_check_interval | 60.0                             |
| config.params.usage_target         | 0                                |
| config.tasks_batch_size            | 2                                |
| config.tasks_per_second            | 2                                |
| errors.total                       | 0                                |
| job.ctime                          | 1608131547.98                    |
| job.id                             | 20201216151227980437-6674b7fcd23 |
| job.lock                           | rawx/127.0.0.1:6012              |
| job.mtime                          | 1608131547.98                    |
| job.request_pause                  | False                            |
| job.status                         | WAITING                          |
| job.type                           | rawx-decommission                |
| tasks.all_sent                     | False                            |
| tasks.is_total_temp                | True                             |
| tasks.last_sent                    | None                             |
| tasks.processed                    | 0                                |
| tasks.sent                         | 0                                |
| tasks.total                        | 0                                |
| tasks.total_marker                 | None                             |
+------------------------------------+----------------------------------+
$ openio-admin xcute job pause 20201216151227980437-6674b7fcd23
+----------------------------------+--------+
| ID                               | Paused |
+----------------------------------+--------+
| 20201216151227980437-6674b7fcd23 | True   |
+----------------------------------+--------+
$ openio-admin xcute job show 20201216151227980437-6674b7fcd23
+------------------------------------+----------------------------------+
| Field                              | Value                            |
+------------------------------------+----------------------------------+
| config.params.excluded_rawx        |                                  |
| config.params.max_chunk_size       | 0                                |
| config.params.min_chunk_size       | 112                              |
| config.params.rawx_timeout         | 60.0                             |
| config.params.rdir_fetch_limit     | 1000                             |
| config.params.rdir_timeout         | 60.0                             |
| config.params.service_id           | 127.0.0.1:6012                   |
| config.params.usage_check_interval | 60.0                             |
| config.params.usage_target         | 0                                |
| config.tasks_batch_size            | 2                                |
| config.tasks_per_second            | 2                                |
| errors.total                       | 0                                |
| job.ctime                          | 1608131547.98                    |
| job.duration                       | 373.796740055                    |
| job.id                             | 20201216151227980437-6674b7fcd23 |
| job.lock                           | rawx/127.0.0.1:6012              |
| job.mtime                          | 1608131921.78                    |
| job.status                         | PAUSED                           |
| job.type                           | rawx-decommission                |
| results.skipped_chunks_too_small   | 110                              |
| tasks.processed                    | 110                              |
| tasks.processed_per_second         | 0.294277579799                   |
| tasks.processed_percent            | 63.2183908046                    |
| tasks.sent                         | 110                              |
| tasks.sent_percent                 | 63.2183908046                    |
| tasks.total                        | 174 (estimated)                  |
+------------------------------------+----------------------------------+
$ openio-admin xcute job update 20201216151227980437-6674b7fcd23 --param min_chunk_size=
+-----------------------------+----------------+
| Field                       | Value          |
+-----------------------------+----------------+
| params.excluded_rawx        |                |
| params.max_chunk_size       | 0              |
| params.min_chunk_size       | 0              |
| params.rawx_timeout         | 60.0           |
| params.rdir_fetch_limit     | 1000           |
| params.rdir_timeout         | 60.0           |
| params.service_id           | 127.0.0.1:6012 |
| params.usage_check_interval | 60.0           |
| params.usage_target         | 0              |
| tasks_batch_size            | 2              |
| tasks_per_second            | 2              |
+-----------------------------+----------------+
$ openio-admin xcute job resume 20201216151227980437-6674b7fcd23
+----------------------------------+---------+
| ID                               | Resumed |
+----------------------------------+---------+
| 20201216151227980437-6674b7fcd23 | True    |
+----------------------------------+---------+
$ openio-admin xcute job show 20201216151227980437-6674b7fcd23
+------------------------------------+----------------------------------+
| Field                              | Value                            |
+------------------------------------+----------------------------------+
| config.params.excluded_rawx        |                                  |
| config.params.max_chunk_size       | 0                                |
| config.params.min_chunk_size       | 0                                |
| config.params.rawx_timeout         | 60.0                             |
| config.params.rdir_fetch_limit     | 1000                             |
| config.params.rdir_timeout         | 60.0                             |
| config.params.service_id           | 127.0.0.1:6012                   |
| config.params.usage_check_interval | 60.0                             |
| config.params.usage_target         | 0                                |
| config.tasks_batch_size            | 2                                |
| config.tasks_per_second            | 2                                |
| errors.total                       | 0                                |
| job.ctime                          | 1608131547.98                    |
| job.duration                       | 404.867830038                    |
| job.id                             | 20201216151227980437-6674b7fcd23 |
| job.lock                           | rawx/127.0.0.1:6012              |
| job.mtime                          | 1608131952.85                    |
| job.status                         | RUNNING                          |
| job.type                           | rawx-decommission                |
| results.moved_bytes                | 1776                             |
| results.moved_chunks               | 16                               |
| results.skipped_chunks_too_small   | 110                              |
| tasks.processed                    | 126                              |
| tasks.processed_per_second         | 0.311212673993                   |
| tasks.processed_percent            | 72.4137931034                    |
| tasks.sent                         | 126                              |
| tasks.sent_percent                 | 72.4137931034                    |
| tasks.total                        | 174 (estimated)                  |
+------------------------------------+----------------------------------+","Codecov Report

Merging #2103 (d0c1740) into 5.x (9c50d0e) will increase coverage by 0.66%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              5.x    #2103      +/-   ##
==========================================
+ Coverage   78.67%   79.33%   +0.66%     
==========================================
  Files         379      394      +15     
  Lines       73787    75442    +1655     
  Branches     6995     6995              
==========================================
+ Hits        58045    59843    +1798     
+ Misses      15641    15354     -287     
- Partials      101      245     +144     



Impacted Files
Coverage Δ





oio/common/easy_value.py
79.17% <100.00%> (ø)



tests/functional/content/test_service_id.py
79.29% <0.00%> (-5.91%)
⬇️


oio/blob/indexer.py
66.67% <0.00%> (-2.27%)
⬇️


oio/account/client.py
81.49% <0.00%> (-1.85%)
⬇️


oio/blob/auditor.py
58.29% <0.00%> (-1.71%)
⬇️


meta1v2/meta1_server.c
69.68% <0.00%> (-1.63%)
⬇️


oio/api/io.py
90.15% <0.00%> (-1.28%)
⬇️


tests/functional/cli/admin/test_item_check.py
69.92% <0.00%> (-1.19%)
⬇️


meta1v2/meta1_prefixes.c
75.78% <0.00%> (-1.03%)
⬇️


rawx-lib/src/attr_handler.c
69.05% <0.00%> (-0.95%)
⬇️


... and 82 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 9c50d0e...d0c1740. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2104,2020-12-17T17:08:46Z,2020-12-28T13:40:13Z,2021-01-04T07:49:43Z,MERGED,True,132,16,6,https://github.com/AymericDu,xcute: Improve job's listing,2,[],https://github.com/open-io/oio-sds/pull/2104,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2104,"SUMMARY
Improve job's listing

Change information visible when listing jobs
Allow to add filters when listing jobs

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute
CLI

SDS VERSION
openio 5.7.1.dev9

ADDITIONAL INFORMATION
$ openio-admin xcute job list --date 2020-12-17 --status FINISHED --type rawx-decommission --lock rawx/127.0.0.1:6012
+----------------------------------+----------+-------------------+---------------------+----------+
| ID                               | Status   | Type              | Lock                | Progress |
+----------------------------------+----------+-------------------+---------------------+----------+
| 20201217152503729224-056ec779394 | FINISHED | rawx-decommission | rawx/127.0.0.1:6012 | 100.00%  |
+----------------------------------+----------+-------------------+---------------------+----------+","SUMMARY
Improve job's listing

Change information visible when listing jobs
Allow to add filters when listing jobs

ISSUE TYPE

Feature Pull Request

COMPONENT NAME

xcute
CLI

SDS VERSION
openio 5.7.1.dev9

ADDITIONAL INFORMATION
$ openio-admin xcute job list --date 2020-12-17 --status FINISHED --type rawx-decommission --lock rawx/127.0.0.1:6012
+----------------------------------+----------+-------------------+---------------------+----------+
| ID                               | Status   | Type              | Lock                | Progress |
+----------------------------------+----------+-------------------+---------------------+----------+
| 20201217152503729224-056ec779394 | FINISHED | rawx-decommission | rawx/127.0.0.1:6012 | 100.00%  |
+----------------------------------+----------+-------------------+---------------------+----------+",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2105,2020-12-23T08:57:42Z,2020-12-28T10:19:43Z,2021-01-04T07:49:49Z,MERGED,True,16,17,2,https://github.com/AymericDu,Update the last valid Unicode character,1,[],https://github.com/open-io/oio-sds/pull/2105,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2105,"SUMMARY
Update the last valid Unicode character
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
account

SDS VERSION
openio 5.7.1.dev9","SUMMARY
Update the last valid Unicode character
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2
account

SDS VERSION
openio 5.7.1.dev9",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2106,2020-12-23T10:54:23Z,2020-12-28T10:10:14Z,2021-01-04T07:50:17Z,MERGED,True,85,36,1,https://github.com/AymericDu,meta2: Don't ignore database errors,1,[],https://github.com/open-io/oio-sds/pull/2106,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2106,"SUMMARY
Don't ignore database errors and fix some memory leaks
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 5.7.1.dev8","SUMMARY
Don't ignore database errors and fix some memory leaks
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

meta2

SDS VERSION
openio 5.7.1.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2107,2020-12-23T16:13:03Z,2020-12-28T15:39:46Z,2021-01-08T15:27:17Z,MERGED,True,70,21,3,https://github.com/AymericDu,Take the score into account when moving chunks,1,[],https://github.com/open-io/oio-sds/pull/2107,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2107,"SUMMARY
When moving chunks (e.g. when decommissioning a rawx service), do not always use the same rawx service as the source for the copy. Look at all available chunks (from the same metachunk), and source one with a high score.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.7.1.dev8","SUMMARY
When moving chunks (e.g. when decommissioning a rawx service), do not always use the same rawx service as the source for the copy. Look at all available chunks (from the same metachunk), and source one with a high score.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.7.1.dev8",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2108,2021-01-04T15:58:51Z,2021-01-08T15:12:20Z,2021-01-08T15:56:32Z,MERGED,True,4,0,1,https://github.com/AymericDu,rawx: Don't print error for missing compression attr,1,[],https://github.com/open-io/oio-sds/pull/2108,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2108,"SUMMARY
Don't print error for missing compression attr, because compression is not mandatory
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 5.7.1.dev19","SUMMARY
Don't print error for missing compression attr, because compression is not mandatory
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 5.7.1.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2108,2021-01-04T15:58:51Z,2021-01-08T15:12:20Z,2021-01-08T15:56:32Z,MERGED,True,4,0,1,https://github.com/AymericDu,rawx: Don't print error for missing compression attr,1,[],https://github.com/open-io/oio-sds/pull/2108,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2108#issuecomment-754579531,"SUMMARY
Don't print error for missing compression attr, because compression is not mandatory
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

rawx

SDS VERSION
openio 5.7.1.dev19","Codecov Report

Merging #2108 (18cd2b9) into 5.x (3e2fe2f) will increase coverage by 0.57%.
The diff coverage is 100.00%.


@@            Coverage Diff             @@
##              5.x    #2108      +/-   ##
==========================================
+ Coverage   78.82%   79.38%   +0.57%     
==========================================
  Files         379      394      +15     
  Lines       73862    75519    +1657     
  Branches     7012     7012              
==========================================
+ Hits        58211    59945    +1734     
+ Misses      15552    15329     -223     
- Partials       99      245     +146     



Impacted Files
Coverage Δ





rawx/chunk_info.go
82.57% <100.00%> (ø)



tests/functional/content/test_service_id.py
79.29% <0.00%> (-5.91%)
⬇️


oio/blob/client.py
86.04% <0.00%> (-2.23%)
⬇️


meta2v2/meta2_filters_check.c
79.11% <0.00%> (-1.49%)
⬇️


meta2v2/meta2_bean_utils.c
59.00% <0.00%> (-1.00%)
⬇️


oio/blob/converter.py
80.70% <0.00%> (-0.94%)
⬇️


meta2v2/meta2_filters_extract.c
82.68% <0.00%> (-0.78%)
⬇️


oio/container/lifecycle.py
94.22% <0.00%> (-0.70%)
⬇️


oio/content/content.py
80.35% <0.00%> (-0.68%)
⬇️


metautils/lib/utils_sockets.c
43.85% <0.00%> (-0.38%)
⬇️


... and 74 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 3e2fe2f...18cd2b9. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2109,2021-01-07T14:13:14Z,2021-01-08T15:36:23Z,2021-01-08T15:56:10Z,MERGED,True,142,8,3,https://github.com/AymericDu,xcute: Adapt the speed of job according to the processing speed ,3,[],https://github.com/open-io/oio-sds/pull/2109,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2109,"SUMMARY
Adapt the speed of job according to the processing speed
This speed adaptation must avoid accumulating delays in unprocessed tasks,
and therefore avoid unnecessarily filling queues.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.7.1.dev28","SUMMARY
Adapt the speed of job according to the processing speed
This speed adaptation must avoid accumulating delays in unprocessed tasks,
and therefore avoid unnecessarily filling queues.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

xcute

SDS VERSION
openio 5.7.1.dev28",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2110,2021-01-07T15:55:05Z,2021-01-08T08:54:20Z,2021-01-08T08:54:25Z,MERGED,True,8,3,3,https://github.com/fvennetier,Do not reiterate data generators when they already yield bytes,2,"['bug :scream:', 'language:python :snake:']",https://github.com/open-io/oio-sds/pull/2110,https://github.com/fvennetier,1,https://github.com/open-io/oio-sds/pull/2110,"SUMMARY
Do not reiterate data generators when they already yield bytes.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.7.1.dev19","SUMMARY
Do not reiterate data generators when they already yield bytes.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API

SDS VERSION
openio 5.7.1.dev19",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2113,2021-01-19T08:28:36Z,2021-01-20T16:10:43Z,2021-01-20T16:10:50Z,MERGED,True,59,61,4,https://github.com/AymericDu,Python API: Replace zookeeper module with kazoo module,1,[],https://github.com/open-io/oio-sds/pull/2113,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2113,"SUMMARY
Replace zookeeper module with kazoo module
The kazoo module is regularly updated to be compatible
with the Python latest versions.
This is not the case with the Python C binding.
https://kazoo.readthedocs.io/en/latest/#why
ISSUE TYPE

Improvement Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 8.0.0.dev31","SUMMARY
Replace zookeeper module with kazoo module
The kazoo module is regularly updated to be compatible
with the Python latest versions.
This is not the case with the Python C binding.
https://kazoo.readthedocs.io/en/latest/#why
ISSUE TYPE

Improvement Pull Request

COMPONENT NAME

Python API
CLI

SDS VERSION
openio 8.0.0.dev31",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2114,2021-01-19T09:19:38Z,2021-01-19T15:51:49Z,2021-01-19T15:51:54Z,MERGED,True,8,7,3,https://github.com/AymericDu,Python API: Return actual rebuilt size when rebuilding chunks,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/2114,https://github.com/AymericDu,1,https://github.com/open-io/oio-sds/pull/2114,"SUMMARY
Return actual rebuilt size when rebuilding chunk
The rebuilt size was good for the duplicated chunk.
But the rebuilt size was wrong for chunk in EC.
The rebuilt size was the metachunk size, but it must be the chunk size.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI
oio-blob-rebuilder

SDS VERSION
openio 5.8.1.dev1","SUMMARY
Return actual rebuilt size when rebuilding chunk
The rebuilt size was good for the duplicated chunk.
But the rebuilt size was wrong for chunk in EC.
The rebuilt size was the metachunk size, but it must be the chunk size.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI
oio-blob-rebuilder

SDS VERSION
openio 5.8.1.dev1",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2114,2021-01-19T09:19:38Z,2021-01-19T15:51:49Z,2021-01-19T15:51:54Z,MERGED,True,8,7,3,https://github.com/AymericDu,Python API: Return actual rebuilt size when rebuilding chunks,1,['bug :scream:'],https://github.com/open-io/oio-sds/pull/2114,https://github.com/codecov-io,2,https://github.com/open-io/oio-sds/pull/2114#issuecomment-762765492,"SUMMARY
Return actual rebuilt size when rebuilding chunk
The rebuilt size was good for the duplicated chunk.
But the rebuilt size was wrong for chunk in EC.
The rebuilt size was the metachunk size, but it must be the chunk size.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

Python API
Admin CLI
oio-blob-rebuilder

SDS VERSION
openio 5.8.1.dev1","Codecov Report

Merging #2114 (3e30798) into 5.x (23625df) will increase coverage by 0.03%.
The diff coverage is 80.00%.


@@            Coverage Diff             @@
##              5.x    #2114      +/-   ##
==========================================
+ Coverage   79.31%   79.33%   +0.03%     
==========================================
  Files         394      394              
  Lines       75524    75522       -2     
  Branches     7013     7012       -1     
==========================================
+ Hits        59894    59909      +15     
+ Misses      15385    15368      -17     
  Partials      245      245              



Impacted Files
Coverage Δ





oio/content/ec.py
56.46% <50.00%> (-0.92%)
⬇️


oio/blob/operator.py
65.00% <100.00%> (+1.37%)
⬆️


oio/content/plain.py
73.69% <100.00%> (+0.47%)
⬆️


meta0v2/meta0_remote.c
78.05% <0.00%> (-7.31%)
⬇️


tests/unit/api/test_container_client.py
92.86% <0.00%> (-7.14%)
⬇️


oio/common/storage_functions.py
85.63% <0.00%> (-4.57%)
⬇️


meta1v2/meta1_prefixes.c
76.81% <0.00%> (-3.09%)
⬇️


meta2v2/meta2_filters_action_container.c
60.28% <0.00%> (-2.05%)
⬇️


...sts/functional/content/test_content_perfectible.py
82.36% <0.00%> (-1.96%)
⬇️


oio/account/client.py
81.49% <0.00%> (-1.85%)
⬇️


... and 42 more






Continue to review full report at Codecov.

Legend - Click here to learn more
Δ = absolute <relative> (impact), ø = not affected, ? = missing data
Powered by Codecov. Last update 23625df...3e30798. Read the comment docs.",True,{}
open-io/oio-sds,https://github.com/open-io/oio-sds,2118,2021-11-08T11:13:34Z,2022-03-04T13:08:02Z,2022-03-04T13:08:03Z,CLOSED,False,8,8,7,https://github.com/timgates42,docs: Fix a few typos,6480,[],https://github.com/open-io/oio-sds/pull/2118,https://github.com/timgates42,1,https://github.com/open-io/oio-sds/pull/2118,"There are small typos in:

Variables.md
core/lb.c
core/oio_sds.h
meta2v2/meta2_utils.c
sqliterepo/sqlite_utils.h
sqliterepo/version.h
sqlx/sqlx_service.h

Fixes:

Should read occurred rather than occured.
Should read variables rather than variabes.
Should read services rather than servces.
Should read mechanism rather than mecanism.

Semi-automated pull request generated by
https://github.com/timgates42/meticulous/blob/master/docs/NOTE.md","There are small typos in:

Variables.md
core/lb.c
core/oio_sds.h
meta2v2/meta2_utils.c
sqliterepo/sqlite_utils.h
sqliterepo/version.h
sqlx/sqlx_service.h

Fixes:

Should read occurred rather than occured.
Should read variables rather than variabes.
Should read services rather than servces.
Should read mechanism rather than mecanism.

Semi-automated pull request generated by
https://github.com/timgates42/meticulous/blob/master/docs/NOTE.md",True,{}
