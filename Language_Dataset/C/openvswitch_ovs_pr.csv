openvswitch/ovs,https://github.com/openvswitch/ovs,111,2016-03-08T23:54:09Z,2016-04-11T22:38:01Z,2016-04-11T22:38:01Z,CLOSED,False,1879,5,16,https://github.com/estebarbhpe,C IDL Compound Indexes,11,[],https://github.com/openvswitch/ovs/pull/111,https://github.com/estebarbhpe,1,https://github.com/openvswitch/ovs/pull/111,"Adds compound indexes to the C IDL. This improvements allows to do fast lookups over columns other than the UUID, and retrieve rows in order.","Adds compound indexes to the C IDL. This improvements allows to do fast lookups over columns other than the UUID, and retrieve rows in order.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,111,2016-03-08T23:54:09Z,2016-04-11T22:38:01Z,2016-04-11T22:38:01Z,CLOSED,False,1879,5,16,https://github.com/estebarbhpe,C IDL Compound Indexes,11,[],https://github.com/openvswitch/ovs/pull/111,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/111#issuecomment-208595042,"Adds compound indexes to the C IDL. This improvements allows to do fast lookups over columns other than the UUID, and retrieve rows in order.",Review is ongoing in threads in ovs-dev.  I'll look forward to v3.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,112,2016-03-15T23:23:16Z,2016-03-17T00:12:35Z,2016-03-17T00:12:35Z,CLOSED,False,10,0,2,https://github.com/estebarbhpe,install.md: Suggest jemalloc memory allocator,1,[],https://github.com/openvswitch/ovs/pull/112,https://github.com/estebarbhpe,1,https://github.com/openvswitch/ovs/pull/112,"Change installing documentation to suggest to use
jemalloc memory allocator.
This memory allocator showed great performance gains
when used at ovsdb-server and other components.
Signed-off-by: Esteban Rodriguez Betancourt estebarb@hpe.com","Change installing documentation to suggest to use
jemalloc memory allocator.
This memory allocator showed great performance gains
when used at ovsdb-server and other components.
Signed-off-by: Esteban Rodriguez Betancourt estebarb@hpe.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,112,2016-03-15T23:23:16Z,2016-03-17T00:12:35Z,2016-03-17T00:12:35Z,CLOSED,False,10,0,2,https://github.com/estebarbhpe,install.md: Suggest jemalloc memory allocator,1,[],https://github.com/openvswitch/ovs/pull/112,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/112#issuecomment-197619081,"Change installing documentation to suggest to use
jemalloc memory allocator.
This memory allocator showed great performance gains
when used at ovsdb-server and other components.
Signed-off-by: Esteban Rodriguez Betancourt estebarb@hpe.com",Applied.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,113,2016-04-07T06:22:47Z,2016-04-21T18:12:40Z,2016-04-21T18:12:40Z,CLOSED,False,1,1,1,https://github.com/yeasy,Fix word typo,1,[],https://github.com/openvswitch/ovs/pull/113,https://github.com/yeasy,1,https://github.com/openvswitch/ovs/pull/113,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,113,2016-04-07T06:22:47Z,2016-04-21T18:12:40Z,2016-04-21T18:12:40Z,CLOSED,False,1,1,1,https://github.com/yeasy,Fix word typo,1,[],https://github.com/openvswitch/ovs/pull/113,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/113#issuecomment-206930588,,"Can you please add a ""Signed-off-by"" header to the commit message?  See the ""CONTRIBUTING.md"" file for more information.
Also, while you're changing the commit message anyway, can you add a prefix, like: ""INSTALL.Docker.md: Fix a typo.""",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,113,2016-04-07T06:22:47Z,2016-04-21T18:12:40Z,2016-04-21T18:12:40Z,CLOSED,False,1,1,1,https://github.com/yeasy,Fix word typo,1,[],https://github.com/openvswitch/ovs/pull/113,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/113#issuecomment-213042945,,"No response from submitter, closing.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,114,2016-04-07T22:42:29Z,2017-07-06T17:15:14Z,2017-07-07T15:59:07Z,CLOSED,False,7,1,3,https://github.com/estebarbhpe,cksum: Refine schema cksum validation,8,[],https://github.com/openvswitch/ovs/pull/114,https://github.com/estebarbhpe,1,https://github.com/openvswitch/ovs/pull/114,"Calculates the cksum removing the cksum line using a more
strict regex than the used previously.
It fixes a problem when calculating the cksum of a schema that
has fields with the substring cksum (e.g.: a checksum column),
lines that the previous cksum calculation incorrectly removes
before running cksum.","Calculates the cksum removing the cksum line using a more
strict regex than the used previously.
It fixes a problem when calculating the cksum of a schema that
has fields with the substring cksum (e.g.: a checksum column),
lines that the previous cksum calculation incorrectly removes
before running cksum.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,114,2016-04-07T22:42:29Z,2017-07-06T17:15:14Z,2017-07-07T15:59:07Z,CLOSED,False,7,1,3,https://github.com/estebarbhpe,cksum: Refine schema cksum validation,8,[],https://github.com/openvswitch/ovs/pull/114,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/114#issuecomment-313460774,"Calculates the cksum removing the cksum line using a more
strict regex than the used previously.
It fixes a problem when calculating the cksum of a schema that
has fields with the substring cksum (e.g.: a checksum column),
lines that the previous cksum calculation incorrectly removes
before running cksum.","Apologies for the delay in review--it was far too long, of course.
If this is still relevant, then please resubmit it as a single commit.  There should be no need for 8 commits to add this small feature.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,114,2016-04-07T22:42:29Z,2017-07-06T17:15:14Z,2017-07-07T15:59:07Z,CLOSED,False,7,1,3,https://github.com/estebarbhpe,cksum: Refine schema cksum validation,8,[],https://github.com/openvswitch/ovs/pull/114,https://github.com/estebarbhpe,3,https://github.com/openvswitch/ovs/pull/114#issuecomment-313498771,"Calculates the cksum removing the cksum line using a more
strict regex than the used previously.
It fixes a problem when calculating the cksum of a schema that
has fields with the substring cksum (e.g.: a checksum column),
lines that the previous cksum calculation incorrectly removes
before running cksum.",It was merged a lot time ago in 3991685. I forgot to close the pull request.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,114,2016-04-07T22:42:29Z,2017-07-06T17:15:14Z,2017-07-07T15:59:07Z,CLOSED,False,7,1,3,https://github.com/estebarbhpe,cksum: Refine schema cksum validation,8,[],https://github.com/openvswitch/ovs/pull/114,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/114#issuecomment-313722369,"Calculates the cksum removing the cksum line using a more
strict regex than the used previously.
It fixes a problem when calculating the cksum of a schema that
has fields with the substring cksum (e.g.: a checksum column),
lines that the previous cksum calculation incorrectly removes
before running cksum.","Oops, good to know, thanks.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,115,2016-04-18T15:33:34Z,2016-04-18T15:39:09Z,2016-04-18T15:39:09Z,CLOSED,False,10,0,1,https://github.com/adidenko,Fix race condition between networking and openvswitch-switch,1,[],https://github.com/openvswitch/ovs/pull/115,https://github.com/adidenko,1,https://github.com/openvswitch/ovs/pull/115,"Networking upstart service checks if openvsiwtch-switch service
is running (and starts it if it's not running) via
debian/ifupdown.sh hook. But service may be in 'start/pre-start'
state in which it's loading kmod and not yet able to connect to
the database. Which leads to failures in interfaces configuration.
In order to fix this, ifupdown.sh script should wait until
ovs-vsctl is fully functional (able to connectto DB) before trying
to add any records to the database.","Networking upstart service checks if openvsiwtch-switch service
is running (and starts it if it's not running) via
debian/ifupdown.sh hook. But service may be in 'start/pre-start'
state in which it's loading kmod and not yet able to connect to
the database. Which leads to failures in interfaces configuration.
In order to fix this, ifupdown.sh script should wait until
ovs-vsctl is fully functional (able to connectto DB) before trying
to add any records to the database.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,115,2016-04-18T15:33:34Z,2016-04-18T15:39:09Z,2016-04-18T15:39:09Z,CLOSED,False,10,0,1,https://github.com/adidenko,Fix race condition between networking and openvswitch-switch,1,[],https://github.com/openvswitch/ovs/pull/115,https://github.com/adidenko,2,https://github.com/openvswitch/ovs/pull/115#issuecomment-211436597,"Networking upstart service checks if openvsiwtch-switch service
is running (and starts it if it's not running) via
debian/ifupdown.sh hook. But service may be in 'start/pre-start'
state in which it's loading kmod and not yet able to connect to
the database. Which leads to failures in interfaces configuration.
In order to fix this, ifupdown.sh script should wait until
ovs-vsctl is fully functional (able to connectto DB) before trying
to add any records to the database.","Whoops.. my bad, didn't notice you guys are on systemd already and I faced this bug with upstart. So may be not confirmed. Closing this request.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,116,2016-04-18T15:37:42Z,2017-07-06T17:14:03Z,2017-07-06T17:39:50Z,CLOSED,False,77,6,4,https://github.com/kevinworth,"smap,shash: add numeric and flexible sort",1,[],https://github.com/openvswitch/ovs/pull/116,https://github.com/kevinworth,1,https://github.com/openvswitch/ovs/pull/116,"The default implementation of shash_sort and smap_sort provide only
lexigraphic sorting. This patch allows both a numeric sort and a flexible
version where the caller provides a comparison function
(""compar"" being the name used in other standard functions e.g. qsort(3))
Change-Id: I12fd3f8eef3f627fc1482bda47ba8b2329123121
Signed-off-by: Kevin Worth kevin.worth@hpe.com","The default implementation of shash_sort and smap_sort provide only
lexigraphic sorting. This patch allows both a numeric sort and a flexible
version where the caller provides a comparison function
(""compar"" being the name used in other standard functions e.g. qsort(3))
Change-Id: I12fd3f8eef3f627fc1482bda47ba8b2329123121
Signed-off-by: Kevin Worth kevin.worth@hpe.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,116,2016-04-18T15:37:42Z,2017-07-06T17:14:03Z,2017-07-06T17:39:50Z,CLOSED,False,77,6,4,https://github.com/kevinworth,"smap,shash: add numeric and flexible sort",1,[],https://github.com/openvswitch/ovs/pull/116,https://github.com/kevinworth,2,https://github.com/openvswitch/ovs/pull/116#issuecomment-211437278,"The default implementation of shash_sort and smap_sort provide only
lexigraphic sorting. This patch allows both a numeric sort and a flexible
version where the caller provides a comparison function
(""compar"" being the name used in other standard functions e.g. qsort(3))
Change-Id: I12fd3f8eef3f627fc1482bda47ba8b2329123121
Signed-off-by: Kevin Worth kevin.worth@hpe.com",Associated mailing list thread http://openvswitch.org/pipermail/dev/2016-April/069111.html,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,116,2016-04-18T15:37:42Z,2017-07-06T17:14:03Z,2017-07-06T17:39:50Z,CLOSED,False,77,6,4,https://github.com/kevinworth,"smap,shash: add numeric and flexible sort",1,[],https://github.com/openvswitch/ovs/pull/116,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/116#issuecomment-313460492,"The default implementation of shash_sort and smap_sort provide only
lexigraphic sorting. This patch allows both a numeric sort and a flexible
version where the caller provides a comparison function
(""compar"" being the name used in other standard functions e.g. qsort(3))
Change-Id: I12fd3f8eef3f627fc1482bda47ba8b2329123121
Signed-off-by: Kevin Worth kevin.worth@hpe.com","Apologies for the delay in looking at this.  Is there a proposed user for this new feature?
Due to the delay, I'm closing this, but I'm happy to take another look if you want to reopen it.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,116,2016-04-18T15:37:42Z,2017-07-06T17:14:03Z,2017-07-06T17:39:50Z,CLOSED,False,77,6,4,https://github.com/kevinworth,"smap,shash: add numeric and flexible sort",1,[],https://github.com/openvswitch/ovs/pull/116,https://github.com/kevinworth,4,https://github.com/openvswitch/ovs/pull/116#issuecomment-313467365,"The default implementation of shash_sort and smap_sort provide only
lexigraphic sorting. This patch allows both a numeric sort and a flexible
version where the caller provides a comparison function
(""compar"" being the name used in other standard functions e.g. qsort(3))
Change-Id: I12fd3f8eef3f627fc1482bda47ba8b2329123121
Signed-off-by: Kevin Worth kevin.worth@hpe.com",OpenSwitch (downstream) codebase is utilizing this ( http://git.openswitch.net/cgit/openswitch/ops-build/tree/yocto/openswitch/meta-distro-openswitch/recipes-ops/openvswitch/ops-openvswitch/0021-smap-shash-add-numeric-and-flexible-sort.patch ) thus was contributing back upstream to improve robustness of OVS library.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,117,2016-04-18T21:53:14Z,2016-07-02T17:21:43Z,2016-07-02T17:21:43Z,CLOSED,False,81,3,4,https://github.com/AndreMantas,Added support for ofp_packet_out messages in bundles,1,[],https://github.com/openvswitch/ovs/pull/117,https://github.com/AndreMantas,1,https://github.com/openvswitch/ovs/pull/117,"Tested with make check and external controller adding packet_out messages to a bundle with different destinations (hosts and controllers). Also tested grouping packet_out with port_mod messages in the same bundle. After committing the bundle, the destinations received the packet_out.
Uses the same mechanisms and validations of handling a regular packet_out message.
Signed-off-by: Andre Mantas amantas@lasige.di.fc.ul.pt","Tested with make check and external controller adding packet_out messages to a bundle with different destinations (hosts and controllers). Also tested grouping packet_out with port_mod messages in the same bundle. After committing the bundle, the destinations received the packet_out.
Uses the same mechanisms and validations of handling a regular packet_out message.
Signed-off-by: Andre Mantas amantas@lasige.di.fc.ul.pt",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,117,2016-04-18T21:53:14Z,2016-07-02T17:21:43Z,2016-07-02T17:21:43Z,CLOSED,False,81,3,4,https://github.com/AndreMantas,Added support for ofp_packet_out messages in bundles,1,[],https://github.com/openvswitch/ovs/pull/117,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/117#issuecomment-230112683,"Tested with make check and external controller adding packet_out messages to a bundle with different destinations (hosts and controllers). Also tested grouping packet_out with port_mod messages in the same bundle. After committing the bundle, the destinations received the packet_out.
Uses the same mechanisms and validations of handling a regular packet_out message.
Signed-off-by: Andre Mantas amantas@lasige.di.fc.ul.pt",Jarno reviewed this on the mailing list: https://patchwork.ozlabs.org/patch/639626/,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,118,2016-04-22T06:54:39Z,2016-04-22T06:56:23Z,2016-04-22T06:56:23Z,CLOSED,False,4940,184,28,https://github.com/soumyadc,Userconntrack 20151115 related changes,23,[],https://github.com/openvswitch/ovs/pull/118,https://github.com/soumyadc,1,https://github.com/openvswitch/ovs/pull/118,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,118,2016-04-22T06:54:39Z,2016-04-22T06:56:23Z,2016-04-22T06:56:23Z,CLOSED,False,4940,184,28,https://github.com/soumyadc,Userconntrack 20151115 related changes,23,[],https://github.com/openvswitch/ovs/pull/118,https://github.com/soumyadc,2,https://github.com/openvswitch/ovs/pull/118#issuecomment-213292395,,wrongly raised,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,119,2016-04-22T12:53:26Z,2016-04-22T12:54:46Z,2016-04-22T12:54:46Z,CLOSED,False,4940,184,28,https://github.com/sourabhbansal,Userconntrack 20151115,23,[],https://github.com/openvswitch/ovs/pull/119,https://github.com/sourabhbansal,1,https://github.com/openvswitch/ovs/pull/119,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,120,2016-04-27T10:12:56Z,2016-05-17T05:28:56Z,2016-05-17T05:28:56Z,CLOSED,False,28,7,1,https://github.com/wisd0me,ofproto: update mtu when port is getting removed as well,1,[],https://github.com/openvswitch/ovs/pull/120,https://github.com/wisd0me,1,https://github.com/openvswitch/ovs/pull/120,"When we're adding the port into ovs bridge, it's mtu is updated to the minimal mtu of the included port. But when the port is getting removed, no such update is performed, which leads to bug. For example, when the port with minimal mtu is removed, bridge's mtu must adapt to new value, but it won't happen.
How to reproduce the problem:
# ovs-vsctl add-br testing
# ip link add name gretap11 type gretap local 10.0.0.1 remote 10.0.0.100
# ip link add name gretap12 type gretap local 10.0.0.1 remote 10.0.0.200
# ip link set dev gretap12 mtu 1600
# ovs-vsctl add-port testing gretap11
# ovs-vsctl add-port testing gretap12
# ip a sh testing
16: testing: <BROADCAST,MULTICAST> mtu 1462 qdisc noop state DOWN group default qlen 1
    link/ether 7a:42:95:00:96:40 brd ff:ff:ff:ff:ff:ff

# ovs-vsctl del-port gretap11
# ip a sh testing
16: testing: <BROADCAST,MULTICAST> mtu 1462 qdisc noop state DOWN group default qlen 1
    link/ether 7a:42:95:00:96:40 brd ff:ff:ff:ff:ff:ff

### as we can see here, 'testing' bridge mtu is stuck, while it must adapt to new '1600' value,
### cause there is only one port 'gretap12' left, and it's mtu is '1600':

# ip a sh gretap12
19: gretap12@NONE: <BROADCAST,MULTICAST> mtu 1600 qdisc noop master ovs-system state DOWN group default qlen 1000
    link/ether b2:c6:1d:9f:be:0d brd ff:ff:ff:ff:ff:ff

My commit fixes this problem - mtu update is performed on port removal as well.","When we're adding the port into ovs bridge, it's mtu is updated to the minimal mtu of the included port. But when the port is getting removed, no such update is performed, which leads to bug. For example, when the port with minimal mtu is removed, bridge's mtu must adapt to new value, but it won't happen.
How to reproduce the problem:
# ovs-vsctl add-br testing
# ip link add name gretap11 type gretap local 10.0.0.1 remote 10.0.0.100
# ip link add name gretap12 type gretap local 10.0.0.1 remote 10.0.0.200
# ip link set dev gretap12 mtu 1600
# ovs-vsctl add-port testing gretap11
# ovs-vsctl add-port testing gretap12
# ip a sh testing
16: testing: <BROADCAST,MULTICAST> mtu 1462 qdisc noop state DOWN group default qlen 1
    link/ether 7a:42:95:00:96:40 brd ff:ff:ff:ff:ff:ff

# ovs-vsctl del-port gretap11
# ip a sh testing
16: testing: <BROADCAST,MULTICAST> mtu 1462 qdisc noop state DOWN group default qlen 1
    link/ether 7a:42:95:00:96:40 brd ff:ff:ff:ff:ff:ff

### as we can see here, 'testing' bridge mtu is stuck, while it must adapt to new '1600' value,
### cause there is only one port 'gretap12' left, and it's mtu is '1600':

# ip a sh gretap12
19: gretap12@NONE: <BROADCAST,MULTICAST> mtu 1600 qdisc noop master ovs-system state DOWN group default qlen 1000
    link/ether b2:c6:1d:9f:be:0d brd ff:ff:ff:ff:ff:ff

My commit fixes this problem - mtu update is performed on port removal as well.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,121,2016-04-29T23:42:48Z,2016-05-02T19:38:43Z,2016-05-02T21:35:16Z,CLOSED,False,814,27,11,https://github.com/aymerice,Partial map updates,5,[],https://github.com/openvswitch/ovs/pull/121,https://github.com/aymerice,1,https://github.com/openvswitch/ovs/pull/121,"In the current implementation, every time an element of either a map or set column has to be modified, the entire content of the map/set is sent to the server to be updated. This improvement allows to partially update a map, sending just the modifications (inserts, deletes or updates) to the OVSDB server.
This submission includes a fix to a bug found in a previous submission, in which the IDL crashed when a new row was created and used as reference inside a map in the same transaction.","In the current implementation, every time an element of either a map or set column has to be modified, the entire content of the map/set is sent to the server to be updated. This improvement allows to partially update a map, sending just the modifications (inserts, deletes or updates) to the OVSDB server.
This submission includes a fix to a bug found in a previous submission, in which the IDL crashed when a new row was created and used as reference inside a map in the same transaction.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,122,2016-05-02T08:04:55Z,2016-05-02T15:02:23Z,2016-05-02T15:02:23Z,CLOSED,False,6382,3087,210,https://github.com/xpu22,vtep/ovs-vtep: support multiple ovs-vtep processes which using the isolated logical-switch.,211,[],https://github.com/openvswitch/ovs/pull/122,https://github.com/xpu22,1,https://github.com/openvswitch/ovs/pull/122,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,122,2016-05-02T08:04:55Z,2016-05-02T15:02:23Z,2016-05-02T15:02:23Z,CLOSED,False,6382,3087,210,https://github.com/xpu22,vtep/ovs-vtep: support multiple ovs-vtep processes which using the isolated logical-switch.,211,[],https://github.com/openvswitch/ovs/pull/122,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/122#issuecomment-216260746,,We never merge old branches into master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,123,2016-05-02T11:58:38Z,2016-05-05T11:28:26Z,2016-05-05T11:28:26Z,CLOSED,False,3,3,1,https://github.com/xpu22,support multiple ovs-vtep processes which using the isolated logical-switch.,1,[],https://github.com/openvswitch/ovs/pull/123,https://github.com/xpu22,1,https://github.com/openvswitch/ovs/pull/123,"The computer can run multiple ovs-vtep processes, but ovs-vtep processes share the “vtep_lsX” bridge when binding the physical-switch and logical-switch. The bridge created by logical-switch should be named  according to logical-switch.","The computer can run multiple ovs-vtep processes, but ovs-vtep processes share the “vtep_lsX” bridge when binding the physical-switch and logical-switch. The bridge created by logical-switch should be named  according to logical-switch.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,124,2016-05-02T20:45:03Z,2016-05-18T17:16:04Z,2016-05-18T17:39:46Z,CLOSED,False,814,27,11,https://github.com/aymerice,Partial Map Updates v2,3,[],https://github.com/openvswitch/ovs/pull/124,https://github.com/aymerice,1,https://github.com/openvswitch/ovs/pull/124,"In the current implementation, every time an element of either a map or set column has to be modified, the entire content of the map/set is sent to the server to be updated. This improvement allows to partially update a map, sending just the modifications (inserts, deletes or updates) to the OVSDB server.
This submission includes a fix to a bug found in a previous submission, in which the IDL crashed when a new row was created and used as reference inside a map in the same transaction.","In the current implementation, every time an element of either a map or set column has to be modified, the entire content of the map/set is sent to the server to be updated. This improvement allows to partially update a map, sending just the modifications (inserts, deletes or updates) to the OVSDB server.
This submission includes a fix to a bug found in a previous submission, in which the IDL crashed when a new row was created and used as reference inside a map in the same transaction.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,124,2016-05-02T20:45:03Z,2016-05-18T17:16:04Z,2016-05-18T17:39:46Z,CLOSED,False,814,27,11,https://github.com/aymerice,Partial Map Updates v2,3,[],https://github.com/openvswitch/ovs/pull/124,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/124#issuecomment-220096313,"In the current implementation, every time an element of either a map or set column has to be modified, the entire content of the map/set is sent to the server to be updated. This improvement allows to partially update a map, sending just the modifications (inserts, deletes or updates) to the OVSDB server.
This submission includes a fix to a bug found in a previous submission, in which the IDL crashed when a new row was created and used as reference inside a map in the same transaction.","Applied to master, thanks!  See http://openvswitch.org/pipermail/dev/2016-May/071231.html for details.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,125,2016-05-05T11:26:09Z,2016-05-05T13:47:28Z,2016-05-05T13:47:28Z,CLOSED,False,0,0,0,https://github.com/xpu22,ovs-vtep: Support running multiple ovs-vtep processes,0,[],https://github.com/openvswitch/ovs/pull/125,https://github.com/xpu22,1,https://github.com/openvswitch/ovs/pull/125,"Include ovs-vtep physical switch name as part of logical switch name to
support running multiple ovs-vtep processes sharing the same ovsdb and vswitchd.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech
Tested-by: Darrell Ball dlu998@gmail.com","Include ovs-vtep physical switch name as part of logical switch name to
support running multiple ovs-vtep processes sharing the same ovsdb and vswitchd.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech
Tested-by: Darrell Ball dlu998@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,126,2016-05-05T15:31:42Z,2016-05-18T17:23:45Z,2016-05-18T17:23:45Z,CLOSED,False,3,3,1,https://github.com/xpu22,ovs-vtep: Support running multiple ovs-vtep processes,1,[],https://github.com/openvswitch/ovs/pull/126,https://github.com/xpu22,1,https://github.com/openvswitch/ovs/pull/126,"Include ovs-vtep physical switch name as part of logical switch name to
support running multiple ovs-vtep processes sharing the same ovsdb and vswitchd.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech
Tested-by: Darrell Ball dlu998@gmail.com","Include ovs-vtep physical switch name as part of logical switch name to
support running multiple ovs-vtep processes sharing the same ovsdb and vswitchd.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech
Tested-by: Darrell Ball dlu998@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,126,2016-05-05T15:31:42Z,2016-05-18T17:23:45Z,2016-05-18T17:23:45Z,CLOSED,False,3,3,1,https://github.com/xpu22,ovs-vtep: Support running multiple ovs-vtep processes,1,[],https://github.com/openvswitch/ovs/pull/126,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/126#issuecomment-220098443,"Include ovs-vtep physical switch name as part of logical switch name to
support running multiple ovs-vtep processes sharing the same ovsdb and vswitchd.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech
Tested-by: Darrell Ball dlu998@gmail.com","Applied to master, see: http://openvswitch.org/pipermail/dev/2016-May/071233.html",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,127,2016-05-06T17:55:08Z,2017-07-06T17:19:14Z,2017-07-06T17:19:14Z,CLOSED,False,2177,2,15,https://github.com/estebarbhpe,Clean/compound indexes,11,[],https://github.com/openvswitch/ovs/pull/127,https://github.com/estebarbhpe,1,https://github.com/openvswitch/ovs/pull/127,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,127,2016-05-06T17:55:08Z,2017-07-06T17:19:14Z,2017-07-06T17:19:14Z,CLOSED,False,2177,2,15,https://github.com/estebarbhpe,Clean/compound indexes,11,[],https://github.com/openvswitch/ovs/pull/127,https://github.com/estebarbhpe,2,https://github.com/openvswitch/ovs/pull/127#issuecomment-224667746,,There is any update on this?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,127,2016-05-06T17:55:08Z,2017-07-06T17:19:14Z,2017-07-06T17:19:14Z,CLOSED,False,2177,2,15,https://github.com/estebarbhpe,Clean/compound indexes,11,[],https://github.com/openvswitch/ovs/pull/127,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/127#issuecomment-313461835,,"This has been revived by Lance Richardson and you can find the latest revision in patchwork, starting here: https://patchwork.ozlabs.org/patch/783113/.  I'm closing this version.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,128,2016-05-10T20:25:00Z,2016-06-24T23:45:11Z,2016-06-24T23:45:11Z,CLOSED,False,1461,28,13,https://github.com/cabmario,Ovsdb replication patch,4,[],https://github.com/openvswitch/ovs/pull/128,https://github.com/cabmario,1,https://github.com/openvswitch/ovs/pull/128,"The database replication functionality is designed to provide ""fail
over"" characteristics. There are two participating databases, one of
which is the ""active"" database and the other is the ""stand by"" database.
Replication happens exclusively from the active to the stand by
database.","The database replication functionality is designed to provide ""fail
over"" characteristics. There are two participating databases, one of
which is the ""active"" database and the other is the ""stand by"" database.
Replication happens exclusively from the active to the stand by
database.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,128,2016-05-10T20:25:00Z,2016-06-24T23:45:11Z,2016-06-24T23:45:11Z,CLOSED,False,1461,28,13,https://github.com/cabmario,Ovsdb replication patch,4,[],https://github.com/openvswitch/ovs/pull/128,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/128#issuecomment-228490623,"The database replication functionality is designed to provide ""fail
over"" characteristics. There are two participating databases, one of
which is the ""active"" database and the other is the ""stand by"" database.
Replication happens exclusively from the active to the stand by
database.","I posted these patches to ovs-dev so that they can be reviewed in the way that we're most accustomed to.  Stand by for reviews.
The first patch is here: http://openvswitch.org/pipermail/dev/2016-June/073676.html",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,129,2016-05-19T19:07:41Z,2016-05-19T19:48:15Z,2016-05-19T19:48:15Z,CLOSED,False,41,18,8,https://github.com/statapudi,ovsdb: provide better context inside log messages from ovsdb server w…,1,[],https://github.com/openvswitch/ovs/pull/129,https://github.com/statapudi,1,https://github.com/openvswitch/ovs/pull/129,"…hen reporting trasaction errors.
When OVSDB reports errors, the messages should give enough information so that the problem can be triaged. When large transactions are attempted and a constraint violation is flagged on one of the elements, the log message should also identify the failing Table & Column. Right now, the log message only contains the failing constraint, but does not identify what Table or Column was being operated on when the failure occured.
Signed-off-by: Surya Tatapudi surya.tatapudi@hpe.com","…hen reporting trasaction errors.
When OVSDB reports errors, the messages should give enough information so that the problem can be triaged. When large transactions are attempted and a constraint violation is flagged on one of the elements, the log message should also identify the failing Table & Column. Right now, the log message only contains the failing constraint, but does not identify what Table or Column was being operated on when the failure occured.
Signed-off-by: Surya Tatapudi surya.tatapudi@hpe.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,130,2016-05-19T19:50:11Z,2016-05-19T21:12:50Z,2016-05-19T21:12:50Z,CLOSED,False,37639,17078,678,https://github.com/statapudi,ovsdb: provide better context inside log messages from ovsdb server w…,811,[],https://github.com/openvswitch/ovs/pull/130,https://github.com/statapudi,1,https://github.com/openvswitch/ovs/pull/130,"…hen reporting trasaction errors.
When OVSDB reports errors, the messages should give enough information so that the problem can be triaged. When large transactions are attempted and a constraint violation is flagged on one of the elements, the log message should also identify the failing Table & Column. Right now, the log message only contains the failing constraint, but does not identify what Table or Column was being operated on when the failure occured.
Signed-off-by: Surya Tatapudi surya.tatapudi@hpe.com","…hen reporting trasaction errors.
When OVSDB reports errors, the messages should give enough information so that the problem can be triaged. When large transactions are attempted and a constraint violation is flagged on one of the elements, the log message should also identify the failing Table & Column. Right now, the log message only contains the failing constraint, but does not identify what Table or Column was being operated on when the failure occured.
Signed-off-by: Surya Tatapudi surya.tatapudi@hpe.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,131,2016-05-19T21:55:08Z,2017-07-06T17:27:00Z,2017-07-06T17:27:00Z,CLOSED,False,1113,545,54,https://github.com/statapudi,ovsdb: provide better context inside log messages from ovsdb server w…,30,[],https://github.com/openvswitch/ovs/pull/131,https://github.com/statapudi,1,https://github.com/openvswitch/ovs/pull/131,"…hen reporting trasaction errors.
When OVSDB reports errors, the messages should give enough
information so that the problem can be triaged. When large
transactions are attempted and a constraint violation is
flagged on one of the elements, the log message should also
identify the failing Table & Column.
Right now, the log message only contains the failing
constraint, but does not identify which Table or Column
was being operated on when the failure occured.
Signed-off-by: Surya Tatapudi surya.tatapudi@hpe.com","…hen reporting trasaction errors.
When OVSDB reports errors, the messages should give enough
information so that the problem can be triaged. When large
transactions are attempted and a constraint violation is
flagged on one of the elements, the log message should also
identify the failing Table & Column.
Right now, the log message only contains the failing
constraint, but does not identify which Table or Column
was being operated on when the failure occured.
Signed-off-by: Surya Tatapudi surya.tatapudi@hpe.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,131,2016-05-19T21:55:08Z,2017-07-06T17:27:00Z,2017-07-06T17:27:00Z,CLOSED,False,1113,545,54,https://github.com/statapudi,ovsdb: provide better context inside log messages from ovsdb server w…,30,[],https://github.com/openvswitch/ovs/pull/131,https://github.com/echovi,2,https://github.com/openvswitch/ovs/pull/131#issuecomment-222460180,"…hen reporting trasaction errors.
When OVSDB reports errors, the messages should give enough
information so that the problem can be triaged. When large
transactions are attempted and a constraint violation is
flagged on one of the elements, the log message should also
identify the failing Table & Column.
Right now, the log message only contains the failing
constraint, but does not identify which Table or Column
was being operated on when the failure occured.
Signed-off-by: Surya Tatapudi surya.tatapudi@hpe.com","[root@ovs01 tools]# ovs-vswitchd unix:$DB_SOCK --pidfile --detach
2016-05-30T09:47:14Z|00001|ovs_numa|INFO|Discovered 12 CPU cores on NUMA node 0
2016-05-30T09:47:14Z|00002|ovs_numa|INFO|Discovered 12 CPU cores on NUMA node 1
2016-05-30T09:47:14Z|00003|ovs_numa|INFO|Discovered 2 NUMA nodes and 24 CPU cores
2016-05-30T09:47:14Z|00004|reconnect|INFO|unix:/usr/local/var/run/openvswitch/db.sock: connecting...
2016-05-30T09:47:14Z|00005|reconnect|INFO|unix:/usr/local/var/run/openvswitch/db.sock: connected
2016-05-30T09:47:14Z|00006|dpdk|INFO|DPDK Enabled, initializing
2016-05-30T09:47:14Z|00007|dpdk|INFO|No vhost-sock-dir provided - defaulting to /usr/local/var/run/openvswitch
2016-05-30T09:47:14Z|00008|dpdk|INFO|EAL ARGS: ovs-vswitchd --socket-mem 512,0 -c 0x00000001
EAL: Detected lcore 0 as core 0 on socket 0
EAL: Detected lcore 1 as core 0 on socket 1
EAL: Detected lcore 2 as core 1 on socket 0
EAL: Detected lcore 3 as core 1 on socket 1
EAL: Detected lcore 4 as core 2 on socket 0
EAL: Detected lcore 5 as core 2 on socket 1
EAL: Detected lcore 6 as core 3 on socket 0
EAL: Detected lcore 7 as core 3 on socket 1
EAL: Detected lcore 8 as core 4 on socket 0
EAL: Detected lcore 9 as core 4 on socket 1
EAL: Detected lcore 10 as core 5 on socket 0
EAL: Detected lcore 11 as core 5 on socket 1
EAL: Detected lcore 12 as core 0 on socket 0
EAL: Detected lcore 13 as core 0 on socket 1
EAL: Detected lcore 14 as core 1 on socket 0
EAL: Detected lcore 15 as core 1 on socket 1
EAL: Detected lcore 16 as core 2 on socket 0
EAL: Detected lcore 17 as core 2 on socket 1
EAL: Detected lcore 18 as core 3 on socket 0
EAL: Detected lcore 19 as core 3 on socket 1
EAL: Detected lcore 20 as core 4 on socket 0
EAL: Detected lcore 21 as core 4 on socket 1
EAL: Detected lcore 22 as core 5 on socket 0
EAL: Detected lcore 23 as core 5 on socket 1
EAL: Support maximum 128 logical core(s) by configuration.
EAL: Detected 24 lcore(s)
EAL: No free hugepages reported in hugepages-1048576kB",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,131,2016-05-19T21:55:08Z,2017-07-06T17:27:00Z,2017-07-06T17:27:00Z,CLOSED,False,1113,545,54,https://github.com/statapudi,ovsdb: provide better context inside log messages from ovsdb server w…,30,[],https://github.com/openvswitch/ovs/pull/131,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/131#issuecomment-313463905,"…hen reporting trasaction errors.
When OVSDB reports errors, the messages should give enough
information so that the problem can be triaged. When large
transactions are attempted and a constraint violation is
flagged on one of the elements, the log message should also
identify the failing Table & Column.
Right now, the log message only contains the failing
constraint, but does not identify which Table or Column
was being operated on when the failure occured.
Signed-off-by: Surya Tatapudi surya.tatapudi@hpe.com","I apologize for the (far too long) delay in reviewing this pull request.
This minor feature should only require one or two commits, but this pull request contains many more than that.  If this is still relevant, can you please resubmit a pull request with a single commit?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,132,2016-06-09T23:26:04Z,2016-10-29T15:59:27Z,2016-10-29T15:59:27Z,CLOSED,False,112,2,1,https://github.com/jacec,added toc using https://github.com/ekalinin/github-markdown-toc.go,1,[],https://github.com/openvswitch/ovs/pull/132,https://github.com/jacec,1,https://github.com/openvswitch/ovs/pull/132,"Not a big change, just added table of contents to FAQ as I found it useful.
FYI - it was auto generated using https://github.com/ekalinin/github-markdown-toc.go (which as seen, seems to work) if someone wants to add a TOC to other documentation.","Not a big change, just added table of contents to FAQ as I found it useful.
FYI - it was auto generated using https://github.com/ekalinin/github-markdown-toc.go (which as seen, seems to work) if someone wants to add a TOC to other documentation.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,132,2016-06-09T23:26:04Z,2016-10-29T15:59:27Z,2016-10-29T15:59:27Z,CLOSED,False,112,2,1,https://github.com/jacec,added toc using https://github.com/ekalinin/github-markdown-toc.go,1,[],https://github.com/openvswitch/ovs/pull/132,https://github.com/jacec,2,https://github.com/openvswitch/ovs/pull/132#issuecomment-225060264,"Not a big change, just added table of contents to FAQ as I found it useful.
FYI - it was auto generated using https://github.com/ekalinin/github-markdown-toc.go (which as seen, seems to work) if someone wants to add a TOC to other documentation.","I noticed the travis build failed. I took a fork a couple of days ago and most likely inherited a problem master branch. Given my change is FAQ.md only, I still believe this can be merged safely.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,132,2016-06-09T23:26:04Z,2016-10-29T15:59:27Z,2016-10-29T15:59:27Z,CLOSED,False,112,2,1,https://github.com/jacec,added toc using https://github.com/ekalinin/github-markdown-toc.go,1,[],https://github.com/openvswitch/ovs/pull/132,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/132#issuecomment-225084944,"Not a big change, just added table of contents to FAQ as I found it useful.
FYI - it was auto generated using https://github.com/ekalinin/github-markdown-toc.go (which as seen, seems to work) if someone wants to add a TOC to other documentation.",I like the idea of this patch but it seems hard to maintain.  Maybe you could add a Makefile rule to regenerate it automatically.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,132,2016-06-09T23:26:04Z,2016-10-29T15:59:27Z,2016-10-29T15:59:27Z,CLOSED,False,112,2,1,https://github.com/jacec,added toc using https://github.com/ekalinin/github-markdown-toc.go,1,[],https://github.com/openvswitch/ovs/pull/132,https://github.com/jacec,4,https://github.com/openvswitch/ovs/pull/132#issuecomment-225217497,"Not a big change, just added table of contents to FAQ as I found it useful.
FYI - it was auto generated using https://github.com/ekalinin/github-markdown-toc.go (which as seen, seems to work) if someone wants to add a TOC to other documentation.","That's possible, but not sure the tool supports a minimal dif when re-run. May need to mark the TOC with start and end tags, delete the lot and re-insert (off the back of a makefile rule - as you suggest). I'll give it some thought, but open to suggestions.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,133,2016-06-10T16:34:16Z,2016-06-23T23:25:16Z,2016-06-23T23:25:16Z,CLOSED,False,11,9,1,https://github.com/estebarbhpe,ovsdb: Strong references change cascade fix,9,[],https://github.com/openvswitch/ovs/pull/133,https://github.com/estebarbhpe,1,https://github.com/openvswitch/ovs/pull/133,"Improves the performance of OVSDB avoiding the chain
reaction produced when modifing rows with a strong
reference and the pointed rows have more strong
references.
The approach taken was using the change bitmap to avoid
triggering a change count when the column hasn't changed.
One way to trigger the issue is emulating a simple linked list
with strong references within a table, where each new row
points to the previous.
Without the fix OVSDB creates a ovsdb_txn_row (and a copy
of the row) for each row in the table.
With the fix it only creates two ovsdb_txn_row: the new row and
the directly pointed row.","Improves the performance of OVSDB avoiding the chain
reaction produced when modifing rows with a strong
reference and the pointed rows have more strong
references.
The approach taken was using the change bitmap to avoid
triggering a change count when the column hasn't changed.
One way to trigger the issue is emulating a simple linked list
with strong references within a table, where each new row
points to the previous.
Without the fix OVSDB creates a ovsdb_txn_row (and a copy
of the row) for each row in the table.
With the fix it only creates two ovsdb_txn_row: the new row and
the directly pointed row.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,133,2016-06-10T16:34:16Z,2016-06-23T23:25:16Z,2016-06-23T23:25:16Z,CLOSED,False,11,9,1,https://github.com/estebarbhpe,ovsdb: Strong references change cascade fix,9,[],https://github.com/openvswitch/ovs/pull/133,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/133#issuecomment-228214788,"Improves the performance of OVSDB avoiding the chain
reaction produced when modifing rows with a strong
reference and the pointed rows have more strong
references.
The approach taken was using the change bitmap to avoid
triggering a change count when the column hasn't changed.
One way to trigger the issue is emulating a simple linked list
with strong references within a table, where each new row
points to the previous.
Without the fix OVSDB creates a ovsdb_txn_row (and a copy
of the row) for each row in the table.
With the fix it only creates two ovsdb_txn_row: the new row and
the directly pointed row.","Applied to master, thanks!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,134,2016-06-27T20:02:43Z,2016-07-02T20:11:02Z,2016-07-02T20:11:02Z,CLOSED,False,113,9,5,https://github.com/estebarbhpe,ovsdb: weak references fix,10,[],https://github.com/openvswitch/ovs/pull/134,https://github.com/estebarbhpe,1,https://github.com/openvswitch/ovs/pull/134,"Weak references performance fix
Prevents the cloning of rows with outgoing or
incoming weak references when those rows aren't
being modified.
It improves the OVSDB Server performance when
many rows with weak references are involved
in a transaction.","Weak references performance fix
Prevents the cloning of rows with outgoing or
incoming weak references when those rows aren't
being modified.
It improves the OVSDB Server performance when
many rows with weak references are involved
in a transaction.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,134,2016-06-27T20:02:43Z,2016-07-02T20:11:02Z,2016-07-02T20:11:02Z,CLOSED,False,113,9,5,https://github.com/estebarbhpe,ovsdb: weak references fix,10,[],https://github.com/openvswitch/ovs/pull/134,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/134#issuecomment-230119800,"Weak references performance fix
Prevents the cloning of rows with outgoing or
incoming weak references when those rows aren't
being modified.
It improves the OVSDB Server performance when
many rows with weak references are involved
in a transaction.",I reviewed this in email: http://openvswitch.org/pipermail/dev/2016-July/074327.html,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,135,2016-06-28T23:20:07Z,,2019-11-22T17:27:15Z,OPEN,False,2,0,1,https://github.com/Linerd,Added port name printing to ovs-docker,1,[],https://github.com/openvswitch/ovs/pull/135,https://github.com/Linerd,1,https://github.com/openvswitch/ovs/pull/135,Print out $PORTNAME to help future flow rule installation. Otherwise you need to keep track of the port-container mapping.,Print out $PORTNAME to help future flow rule installation. Otherwise you need to keep track of the port-container mapping.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,135,2016-06-28T23:20:07Z,,2019-11-22T17:27:15Z,OPEN,False,2,0,1,https://github.com/Linerd,Added port name printing to ovs-docker,1,[],https://github.com/openvswitch/ovs/pull/135,https://github.com/shettyg,2,https://github.com/openvswitch/ovs/pull/135#issuecomment-325456297,Print out $PORTNAME to help future flow rule installation. Otherwise you need to keep track of the port-container mapping.,"@Linerd
Sorry it took so long. I missed the github notification.
The printing of the port can be confusing, and can break any script that already use this utility.
Did you know that you can get the portname back by running the following command?
ovs_vsctl --data=bare --no-heading --columns=name find interface 
external_ids:container_id=""$CONTAINER""  
external_ids:container_iface=""$INTERFACE""",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,136,2016-06-28T23:41:09Z,2016-06-28T23:42:08Z,2016-06-28T23:45:01Z,CLOSED,False,57024,20920,760,https://github.com/iOVS,branch-2.5 diff master,1131,[],https://github.com/openvswitch/ovs/pull/136,https://github.com/iOVS,1,https://github.com/openvswitch/ovs/pull/136,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,137,2016-07-03T16:16:23Z,2016-07-03T19:13:37Z,2016-07-03T19:13:37Z,CLOSED,False,6,2,1,https://github.com/xpu22,ovn-nbctl: the improvement to the ovn-nbctl manpage.,1,[],https://github.com/openvswitch/ovs/pull/137,https://github.com/xpu22,1,https://github.com/openvswitch/ovs/pull/137,"If there are multiple logical switches or routers with a duplicate name,
the configuration is slightly different. You should configure the logical
switches or routers using the UUID instead of the name.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech","If there are multiple logical switches or routers with a duplicate name,
the configuration is slightly different. You should configure the logical
switches or routers using the UUID instead of the name.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,137,2016-07-03T16:16:23Z,2016-07-03T19:13:37Z,2016-07-03T19:13:37Z,CLOSED,False,6,2,1,https://github.com/xpu22,ovn-nbctl: the improvement to the ovn-nbctl manpage.,1,[],https://github.com/openvswitch/ovs/pull/137,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/137#issuecomment-230170029,"If there are multiple logical switches or routers with a duplicate name,
the configuration is slightly different. You should configure the logical
switches or routers using the UUID instead of the name.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech",I applied this patch to master.  Thank you!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,138,2016-07-04T07:02:09Z,2016-07-04T07:31:37Z,2016-07-04T07:31:37Z,CLOSED,False,0,0,0,https://github.com/xpu22,ovn: improve OVN tutorial.,0,[],https://github.com/openvswitch/ovs/pull/138,https://github.com/xpu22,1,https://github.com/openvswitch/ovs/pull/138,"Improve the tutorial of the basic OVN features. The addresses and port_security
columns of the logical port is described in more detail.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech","Improve the tutorial of the basic OVN features. The addresses and port_security
columns of the logical port is described in more detail.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,139,2016-07-04T07:34:56Z,2016-07-04T15:04:21Z,2016-07-04T15:04:21Z,CLOSED,False,128,0,6,https://github.com/xpu22,ovn: improve OVN tutorial.,1,[],https://github.com/openvswitch/ovs/pull/139,https://github.com/xpu22,1,https://github.com/openvswitch/ovs/pull/139,"Improve the tutorial of the basic OVN features. The addresses and port_security
columns of the logical port is described in more detail.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech","Improve the tutorial of the basic OVN features. The addresses and port_security
columns of the logical port is described in more detail.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,139,2016-07-04T07:34:56Z,2016-07-04T15:04:21Z,2016-07-04T15:04:21Z,CLOSED,False,128,0,6,https://github.com/xpu22,ovn: improve OVN tutorial.,1,[],https://github.com/openvswitch/ovs/pull/139,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/139#issuecomment-230309932,"Improve the tutorial of the basic OVN features. The addresses and port_security
columns of the logical port is described in more detail.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech","Thanks for working on the tutorial!
I emailed this to ovs-dev for review: http://openvswitch.org/pipermail/dev/2016-July/074465.html
Please follow along there.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,140,2016-07-04T17:43:07Z,2016-08-02T06:56:42Z,2016-08-02T06:57:18Z,CLOSED,False,15,5,3,https://github.com/cabmario,ovsdb: Fix OVSDB disconnect replication bug,1,[],https://github.com/openvswitch/ovs/pull/140,https://github.com/cabmario,1,https://github.com/openvswitch/ovs/pull/140,"Currently disconnecting from the replicator server means closing the jsonrpc
connection and destroying the monitored table names and blacklisted table
names.
This patch makes a distition between disconnecting from the remote server,
applicable when the replication incurs in an error, and destroying the
remote server info, applicable when ovsdb-server exits gracefully.
Signed-off-by: Mario Cabrera mario.cabrera@hpe.com","Currently disconnecting from the replicator server means closing the jsonrpc
connection and destroying the monitored table names and blacklisted table
names.
This patch makes a distition between disconnecting from the remote server,
applicable when the replication incurs in an error, and destroying the
remote server info, applicable when ovsdb-server exits gracefully.
Signed-off-by: Mario Cabrera mario.cabrera@hpe.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,140,2016-07-04T17:43:07Z,2016-08-02T06:56:42Z,2016-08-02T06:57:18Z,CLOSED,False,15,5,3,https://github.com/cabmario,ovsdb: Fix OVSDB disconnect replication bug,1,[],https://github.com/openvswitch/ovs/pull/140,https://github.com/azhou-nicira,2,https://github.com/openvswitch/ovs/pull/140#issuecomment-236817657,"Currently disconnecting from the replicator server means closing the jsonrpc
connection and destroying the monitored table names and blacklisted table
names.
This patch makes a distition between disconnecting from the remote server,
applicable when the replication incurs in an error, and destroying the
remote server info, applicable when ovsdb-server exits gracefully.
Signed-off-by: Mario Cabrera mario.cabrera@hpe.com",Pushed with some minor adjustment.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,141,2016-07-05T17:42:59Z,2016-07-14T14:56:45Z,2016-07-14T14:56:45Z,CLOSED,False,1,1,1,https://github.com/tmpower,fix bug in token_bucket_set: correctly turuncate existing tokens,1,[],https://github.com/openvswitch/ovs/pull/141,https://github.com/tmpower,1,https://github.com/openvswitch/ovs/pull/141,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,141,2016-07-05T17:42:59Z,2016-07-14T14:56:45Z,2016-07-14T14:56:45Z,CLOSED,False,1,1,1,https://github.com/tmpower,fix bug in token_bucket_set: correctly turuncate existing tokens,1,[],https://github.com/openvswitch/ovs/pull/141,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/141#issuecomment-232503621,,Thanks for the patch.  Can you provide a Signed-off-by?  See CONTRIBUTING.md for details.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,141,2016-07-05T17:42:59Z,2016-07-14T14:56:45Z,2016-07-14T14:56:45Z,CLOSED,False,1,1,1,https://github.com/tmpower,fix bug in token_bucket_set: correctly turuncate existing tokens,1,[],https://github.com/openvswitch/ovs/pull/141,https://github.com/tmpower,3,https://github.com/openvswitch/ovs/pull/141#issuecomment-232640475,,Signed-off-by: Eziz Durdyyev ezizdurdy@gmail.com,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,141,2016-07-05T17:42:59Z,2016-07-14T14:56:45Z,2016-07-14T14:56:45Z,CLOSED,False,1,1,1,https://github.com/tmpower,fix bug in token_bucket_set: correctly turuncate existing tokens,1,[],https://github.com/openvswitch/ovs/pull/141,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/141#issuecomment-232690171,,Thanks.  I applied this to master and branch-2.[543].,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,142,2016-07-19T19:20:07Z,2017-07-06T19:54:39Z,2017-07-06T19:54:39Z,CLOSED,False,5,1,1,https://github.com/dlevy-ibm,Add sync-from option to ovn-central service,1,[],https://github.com/openvswitch/ovs/pull/142,https://github.com/dlevy-ibm,1,https://github.com/openvswitch/ovs/pull/142,"Adding an option to pass the --sync-from flag to the northbound database
when starting the ovn-central service. This allows database replication
to occur by setting up a parameter in /etc/default/ovn-central.
Signed-off-by: Daniel Levy dlevy@us.ibm.com","Adding an option to pass the --sync-from flag to the northbound database
when starting the ovn-central service. This allows database replication
to occur by setting up a parameter in /etc/default/ovn-central.
Signed-off-by: Daniel Levy dlevy@us.ibm.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,142,2016-07-19T19:20:07Z,2017-07-06T19:54:39Z,2017-07-06T19:54:39Z,CLOSED,False,5,1,1,https://github.com/dlevy-ibm,Add sync-from option to ovn-central service,1,[],https://github.com/openvswitch/ovs/pull/142,https://github.com/jayhawk87,2,https://github.com/openvswitch/ovs/pull/142#issuecomment-233746552,"Adding an option to pass the --sync-from flag to the northbound database
when starting the ovn-central service. This allows database replication
to occur by setting up a parameter in /etc/default/ovn-central.
Signed-off-by: Daniel Levy dlevy@us.ibm.com","This needs a better commit message and a Signed-off-by in the commit message (commit -s will produce that for you).  Once you have those, you should send email to dev@openvswitch.org to let folks know about this pull request because most patches are submitted via git format-patch and git send-email.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,142,2016-07-19T19:20:07Z,2017-07-06T19:54:39Z,2017-07-06T19:54:39Z,CLOSED,False,5,1,1,https://github.com/dlevy-ibm,Add sync-from option to ovn-central service,1,[],https://github.com/openvswitch/ovs/pull/142,https://github.com/dlevy-ibm,3,https://github.com/openvswitch/ovs/pull/142#issuecomment-233821108,"Adding an option to pass the --sync-from flag to the northbound database
when starting the ovn-central service. This allows database replication
to occur by setting up a parameter in /etc/default/ovn-central.
Signed-off-by: Daniel Levy dlevy@us.ibm.com",Is the CI error legitimate? Can't really make heads or tails of it.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,142,2016-07-19T19:20:07Z,2017-07-06T19:54:39Z,2017-07-06T19:54:39Z,CLOSED,False,5,1,1,https://github.com/dlevy-ibm,Add sync-from option to ovn-central service,1,[],https://github.com/openvswitch/ovs/pull/142,https://github.com/jayhawk87,4,https://github.com/openvswitch/ovs/pull/142#issuecomment-233822177,"Adding an option to pass the --sync-from flag to the northbound database
when starting the ovn-central service. This allows database replication
to occur by setting up a parameter in /etc/default/ovn-central.
Signed-off-by: Daniel Levy dlevy@us.ibm.com","you failed in a unit test case - it might not be legitimate, but I don't know how to get a recheck",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,142,2016-07-19T19:20:07Z,2017-07-06T19:54:39Z,2017-07-06T19:54:39Z,CLOSED,False,5,1,1,https://github.com/dlevy-ibm,Add sync-from option to ovn-central service,1,[],https://github.com/openvswitch/ovs/pull/142,https://github.com/blp,5,https://github.com/openvswitch/ovs/pull/142#issuecomment-313501757,"Adding an option to pass the --sync-from flag to the northbound database
when starting the ovn-central service. This allows database replication
to occur by setting up a parameter in /etc/default/ovn-central.
Signed-off-by: Daniel Levy dlevy@us.ibm.com","My apologies for the unacceptably long review cycle on this patch.
I believe that, in the meantime, support has been added to ovn-ctl for active-backup.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,143,2016-07-29T18:52:35Z,2016-07-29T21:10:21Z,2016-07-29T21:10:21Z,CLOSED,False,8,6,2,https://github.com/russellb,travis: Fix flake8 failures from flake8 3.0.,1,[],https://github.com/openvswitch/ovs/pull/143,https://github.com/russellb,1,https://github.com/openvswitch/ovs/pull/143,"The ""hacking"" plugin for flake8 is not currently compatible with flake8
3.0.  Ensure that we install flake8 2.x on travis-ci.  Also update the
docs to indicate this incompatibility.
Signed-off-by: Russell Bryant russell@ovn.org","The ""hacking"" plugin for flake8 is not currently compatible with flake8
3.0.  Ensure that we install flake8 2.x on travis-ci.  Also update the
docs to indicate this incompatibility.
Signed-off-by: Russell Bryant russell@ovn.org",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,143,2016-07-29T18:52:35Z,2016-07-29T21:10:21Z,2016-07-29T21:10:21Z,CLOSED,False,8,6,2,https://github.com/russellb,travis: Fix flake8 failures from flake8 3.0.,1,[],https://github.com/openvswitch/ovs/pull/143,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/143#issuecomment-236264107,"The ""hacking"" plugin for flake8 is not currently compatible with flake8
3.0.  Ensure that we install flake8 2.x on travis-ci.  Also update the
docs to indicate this incompatibility.
Signed-off-by: Russell Bryant russell@ovn.org","I meant to issue this pull request against my own github repo to do a test run of travis-ci.  Sorry about that.  Since I've already created this, I might as well let the tests finish ...",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,143,2016-07-29T18:52:35Z,2016-07-29T21:10:21Z,2016-07-29T21:10:21Z,CLOSED,False,8,6,2,https://github.com/russellb,travis: Fix flake8 failures from flake8 3.0.,1,[],https://github.com/openvswitch/ovs/pull/143,https://github.com/joestringer,3,https://github.com/openvswitch/ovs/pull/143#issuecomment-236281077,"The ""hacking"" plugin for flake8 is not currently compatible with flake8
3.0.  Ensure that we install flake8 2.x on travis-ci.  Also update the
docs to indicate this incompatibility.
Signed-off-by: Russell Bryant russell@ovn.org",Acked-by: Joe Stringer joe@ovn.org,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,144,2016-08-01T08:01:36Z,2016-08-02T17:08:13Z,2016-08-02T17:08:13Z,CLOSED,False,284,169,12,https://github.com/xpu22,ovn: improve OVN tutorial.,2,[],https://github.com/openvswitch/ovs/pull/144,https://github.com/xpu22,1,https://github.com/openvswitch/ovs/pull/144,"Improve the tutorial of the basic OVN features. Update the contents of
the ""Locally attached networks"" and ""Locally attached networks with VLANs""
in detail. The logical ports of type ""l2gateway"" is described.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech","Improve the tutorial of the basic OVN features. Update the contents of
the ""Locally attached networks"" and ""Locally attached networks with VLANs""
in detail. The logical ports of type ""l2gateway"" is described.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,144,2016-08-01T08:01:36Z,2016-08-02T17:08:13Z,2016-08-02T17:08:13Z,CLOSED,False,284,169,12,https://github.com/xpu22,ovn: improve OVN tutorial.,2,[],https://github.com/openvswitch/ovs/pull/144,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/144#issuecomment-236943220,"Improve the tutorial of the basic OVN features. Update the contents of
the ""Locally attached networks"" and ""Locally attached networks with VLANs""
in detail. The logical ports of type ""l2gateway"" is described.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech","Thanks for the patch.
The patch introduces some trailing whitespace in OVN-Tutorial.md.  Can you remove that?
env8/setup.sh includes:
ovn-nbctl lsp-set-options sw0-port3 l2gateway-chassis=56b18105-5706-46ef-80c4-ff20979ab068 network_name=physnet1
That UUID will be different each time the sandbox is used.  It should dynamically figure out the chassis UUID, instead.
The updates to the localnet sections are good.  A further improvement would be to simplify these, because a separate lswitch per port connected to the network is no logner required.  A single lswitch with a localnet port and N other regular ports is fine.
Finally, I would update the new section clarifying the major difference between localnet and l2gateway ports.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,144,2016-08-01T08:01:36Z,2016-08-02T17:08:13Z,2016-08-02T17:08:13Z,CLOSED,False,284,169,12,https://github.com/xpu22,ovn: improve OVN tutorial.,2,[],https://github.com/openvswitch/ovs/pull/144,https://github.com/xpu22,3,https://github.com/openvswitch/ovs/pull/144#issuecomment-236964498,"Improve the tutorial of the basic OVN features. Update the contents of
the ""Locally attached networks"" and ""Locally attached networks with VLANs""
in detail. The logical ports of type ""l2gateway"" is described.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech","Thanks.
Some trailing whitespace has been removed in OVN-Tutorial.
env8/setup.sh includes:
ovn-nbctl lsp-set-options sw0-port3 l2gateway-chassis=56b18105-5706-46ef-80c4-ff20979ab068 network_name=physnet1
That UUID will be always the same, because the sandbox assigns the same UUID to this chassis via
""ovs-vsctl set open . external-ids:system-id=56b18105-5706-46ef-80c4-ff20979ab068"".",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,144,2016-08-01T08:01:36Z,2016-08-02T17:08:13Z,2016-08-02T17:08:13Z,CLOSED,False,284,169,12,https://github.com/xpu22,ovn: improve OVN tutorial.,2,[],https://github.com/openvswitch/ovs/pull/144,https://github.com/russellb,4,https://github.com/openvswitch/ovs/pull/144#issuecomment-236971033,"Improve the tutorial of the basic OVN features. Update the contents of
the ""Locally attached networks"" and ""Locally attached networks with VLANs""
in detail. The logical ports of type ""l2gateway"" is described.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech","I would squash the 2 commits into 1, but I can do that locally before pushing.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,144,2016-08-01T08:01:36Z,2016-08-02T17:08:13Z,2016-08-02T17:08:13Z,CLOSED,False,284,169,12,https://github.com/xpu22,ovn: improve OVN tutorial.,2,[],https://github.com/openvswitch/ovs/pull/144,https://github.com/russellb,5,https://github.com/openvswitch/ovs/pull/144#issuecomment-236972499,"Improve the tutorial of the basic OVN features. Update the contents of
the ""Locally attached networks"" and ""Locally attached networks with VLANs""
in detail. The logical ports of type ""l2gateway"" is described.
Signed-off-by: nickcooper-zhangtonghao nickcooper-zhangtonghao@opencloud.tech","I made the following tweaks and applied this to master.  Thanks!
`diff --git a/tutorial/OVN-Tutorial.md b/tutorial/OVN-Tutorial.md
index 5c67b2e..a1fff0b 100644
--- a/tutorial/OVN-Tutorial.md
+++ b/tutorial/OVN-Tutorial.md
@@ -957,7 +957,10 @@ hypervisors. Please see the tutorial 3 above.

L2Gateway provides a way to connect logical switch ports of type l2gateway to
-a physical network.
+a physical network.  The difference between l2gateway ports and localnet ports
+is that an l2gateway port is bound to a specific chassis.  A single chassis
+serves as the L2 gateway to the physical network and all traffic between
+chassis continues to go over geneve tunnels.
Start with a simple logical switch with 3 logical ports.
diff --git a/tutorial/ovn/env8/setup.sh b/tutorial/ovn/env8/setup.sh
index d2b406c..2bb05ff 100755
--- a/tutorial/ovn/env8/setup.sh
+++ b/tutorial/ovn/env8/setup.sh
@@ -40,6 +40,7 @@ ovs-vsctl add-port br-int lport2 -- set Interface lport2 external_ids:iface-id=s
ovn-nbctl lsp-add sw0 sw0-port3
ovn-nbctl lsp-set-addresses sw0-port3 unknown
ovn-nbctl lsp-set-type sw0-port3 l2gateway
+# The chassis UUID is hard-coded in tutorial/ovs-sandbox.
ovn-nbctl lsp-set-options sw0-port3 l2gateway-chassis=56b18105-5706-46ef-80c4-ff20979ab068 network_name=physnet1
ovs-vsctl --may-exist add-br br-eth1
`",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,145,2016-08-02T03:07:56Z,2016-08-02T08:55:24Z,2016-08-02T08:55:24Z,CLOSED,False,86504,30992,872,https://github.com/windy-cat,"OVS2.5 with DPDK2.2 configure group table ,finally execution action is ""drop"" ",1530,[],https://github.com/openvswitch/ovs/pull/145,https://github.com/windy-cat,1,https://github.com/openvswitch/ovs/pull/145,"hi， all
With my environment, OVS 2.5.0 with DPDK 2.2.0, I use the flow command to realise my function.

ovs-vsctl set bridge br-int-R protocols=OpenFlow10,OpenFlow11,OpenFlow12,OpenFlow13
ovs-ofctl -O OpenFlow13 add-group br-int-R group_id=10,type=all,bucket=mod_dl_src:00:4A:E4:25:6B:02,bucket=mod_dl_dst:51:23:40:3E:2B:02,bucket=dec_ttl
ovs-ofctl -O OpenFlow13 add-flow br-int-R ""table=50,priority=1,ip,nw_dst=192.18.50.0/255.255.255.0,actions=group:10""

but after configure this, I found that using different commands to see different flow entry view.
1.#ovs-ofctl dump-flows br-int-R
NXST_FLOW reply (xid=0x4):
cookie=0x0, duration=1390.625s, table=50, n_packets=3361843122, n_bytes=847184466744, idle_age=0, priority=1,ip,nw_dst=192.18.50.0/24 actions=drop
2.#ovs-ofctl dump-flows br-int-R -O OpenFlow13
OFPST_FLOW reply (OF1.3) (xid=0x2):
cookie=0x0, duration=72.050s, table=50, n_packets=264937817, n_bytes=66764329884, priority=1,ip,nw_dst=192.18.50.0/24 actions=group:10
And in the dathpath dpif, the finally execute action is ""drop"".
ovs-appctl dpif/dump-flows br-int-R
recirc_id(0),in_port(2),eth(dst=00:4a:e4:25:6b:02),eth_type(0x8100),vlan(vid=100),encap(eth_type(0x0800),ipv4(dst=192.18.50.80/255.255.255.0,frag=no)), packets:460802320, bytes:116122184640, used:0.000s, actions:drop
Could someone tell me ,what's wrong with my configuration? thanks.","hi， all
With my environment, OVS 2.5.0 with DPDK 2.2.0, I use the flow command to realise my function.

ovs-vsctl set bridge br-int-R protocols=OpenFlow10,OpenFlow11,OpenFlow12,OpenFlow13
ovs-ofctl -O OpenFlow13 add-group br-int-R group_id=10,type=all,bucket=mod_dl_src:00:4A:E4:25:6B:02,bucket=mod_dl_dst:51:23:40:3E:2B:02,bucket=dec_ttl
ovs-ofctl -O OpenFlow13 add-flow br-int-R ""table=50,priority=1,ip,nw_dst=192.18.50.0/255.255.255.0,actions=group:10""

but after configure this, I found that using different commands to see different flow entry view.
1.#ovs-ofctl dump-flows br-int-R
NXST_FLOW reply (xid=0x4):
cookie=0x0, duration=1390.625s, table=50, n_packets=3361843122, n_bytes=847184466744, idle_age=0, priority=1,ip,nw_dst=192.18.50.0/24 actions=drop
2.#ovs-ofctl dump-flows br-int-R -O OpenFlow13
OFPST_FLOW reply (OF1.3) (xid=0x2):
cookie=0x0, duration=72.050s, table=50, n_packets=264937817, n_bytes=66764329884, priority=1,ip,nw_dst=192.18.50.0/24 actions=group:10
And in the dathpath dpif, the finally execute action is ""drop"".
ovs-appctl dpif/dump-flows br-int-R
recirc_id(0),in_port(2),eth(dst=00:4a:e4:25:6b:02),eth_type(0x8100),vlan(vid=100),encap(eth_type(0x0800),ipv4(dst=192.18.50.80/255.255.255.0,frag=no)), packets:460802320, bytes:116122184640, used:0.000s, actions:drop
Could someone tell me ,what's wrong with my configuration? thanks.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,145,2016-08-02T03:07:56Z,2016-08-02T08:55:24Z,2016-08-02T08:55:24Z,CLOSED,False,86504,30992,872,https://github.com/windy-cat,"OVS2.5 with DPDK2.2 configure group table ,finally execution action is ""drop"" ",1530,[],https://github.com/openvswitch/ovs/pull/145,https://github.com/windy-cat,2,https://github.com/openvswitch/ovs/pull/145#issuecomment-236844574,"hi， all
With my environment, OVS 2.5.0 with DPDK 2.2.0, I use the flow command to realise my function.

ovs-vsctl set bridge br-int-R protocols=OpenFlow10,OpenFlow11,OpenFlow12,OpenFlow13
ovs-ofctl -O OpenFlow13 add-group br-int-R group_id=10,type=all,bucket=mod_dl_src:00:4A:E4:25:6B:02,bucket=mod_dl_dst:51:23:40:3E:2B:02,bucket=dec_ttl
ovs-ofctl -O OpenFlow13 add-flow br-int-R ""table=50,priority=1,ip,nw_dst=192.18.50.0/255.255.255.0,actions=group:10""

but after configure this, I found that using different commands to see different flow entry view.
1.#ovs-ofctl dump-flows br-int-R
NXST_FLOW reply (xid=0x4):
cookie=0x0, duration=1390.625s, table=50, n_packets=3361843122, n_bytes=847184466744, idle_age=0, priority=1,ip,nw_dst=192.18.50.0/24 actions=drop
2.#ovs-ofctl dump-flows br-int-R -O OpenFlow13
OFPST_FLOW reply (OF1.3) (xid=0x2):
cookie=0x0, duration=72.050s, table=50, n_packets=264937817, n_bytes=66764329884, priority=1,ip,nw_dst=192.18.50.0/24 actions=group:10
And in the dathpath dpif, the finally execute action is ""drop"".
ovs-appctl dpif/dump-flows br-int-R
recirc_id(0),in_port(2),eth(dst=00:4a:e4:25:6b:02),eth_type(0x8100),vlan(vid=100),encap(eth_type(0x0800),ipv4(dst=192.18.50.80/255.255.255.0,frag=no)), packets:460802320, bytes:116122184640, used:0.000s, actions:drop
Could someone tell me ,what's wrong with my configuration? thanks.","i  am sorry to here ask question ,now i get it to ovs-discussion .",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,146,2016-08-02T14:10:27Z,2016-09-22T01:45:35Z,2016-09-22T01:45:35Z,CLOSED,False,1,2,1,https://github.com/Grim-lock,conntrack:remove duplicated code,2,[],https://github.com/openvswitch/ovs/pull/146,https://github.com/Grim-lock,1,https://github.com/openvswitch/ovs/pull/146,Signed-off-by: Wei realbaseball2008@gmail.com,Signed-off-by: Wei realbaseball2008@gmail.com,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,146,2016-08-02T14:10:27Z,2016-09-22T01:45:35Z,2016-09-22T01:45:35Z,CLOSED,False,1,2,1,https://github.com/Grim-lock,conntrack:remove duplicated code,2,[],https://github.com/openvswitch/ovs/pull/146,https://github.com/ddiproietto,2,https://github.com/openvswitch/ovs/pull/146#issuecomment-243542865,Signed-off-by: Wei realbaseball2008@gmail.com,"The changes look good to me, thanks
Could you please expand the second commit message to include ""conntrack:"", apply your signoff to the commit messages and post these to dev@openvswitch.org?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,146,2016-08-02T14:10:27Z,2016-09-22T01:45:35Z,2016-09-22T01:45:35Z,CLOSED,False,1,2,1,https://github.com/Grim-lock,conntrack:remove duplicated code,2,[],https://github.com/openvswitch/ovs/pull/146,https://github.com/Grim-lock,3,https://github.com/openvswitch/ovs/pull/146#issuecomment-243759364,Signed-off-by: Wei realbaseball2008@gmail.com,"I have added ""conntrack"" in log, but I dont how to post ""pull request"" to dev@openvswitch.org. Is some button here?  I cannt find it.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,146,2016-08-02T14:10:27Z,2016-09-22T01:45:35Z,2016-09-22T01:45:35Z,CLOSED,False,1,2,1,https://github.com/Grim-lock,conntrack:remove duplicated code,2,[],https://github.com/openvswitch/ovs/pull/146,https://github.com/ddiproietto,4,https://github.com/openvswitch/ovs/pull/146#issuecomment-248791067,Signed-off-by: Wei realbaseball2008@gmail.com,"I took the commits from the pull request and applied them to master and branch-2.6
Thanks,
Daniele",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,147,2016-08-03T18:21:26Z,2016-12-06T10:54:13Z,2016-12-06T10:54:13Z,CLOSED,False,89,32,17,https://github.com/bluecmd,Make the PID part of socket path configurable,1,[],https://github.com/openvswitch/ovs/pull/147,https://github.com/bluecmd,1,https://github.com/openvswitch/ovs/pull/147,"[I had problems submitting this patch to the dev@ mailinglist, so I'll try doing a PR instead]
As handling software via cgroups is more and more common, PID files are
not always needed. This change adds --disable-pid-socket-path to
./configure to build OpenvSwitch without this PID section of the socket
path. This offers a way for software to easier know the socket path for
daemons independent on which platform it is running on.
Today the socket path is by default one of:
Linux:   RUNDIR/daemon.$PID.ctl
Windows: RUNDIR/daemon.ctl
For Linux it is thus commonplace to also run the daemon with --pidfile
to be able to communicate with the daemon. For Windows there is no such
need (or possibility).
In order to preserve default behavior the new flag ships as enabled.
Documentation currently describes the default behavior only.
ovsdb-client is updated to support setting explicit socket path when
running in detached mode.
This closes openvswitch/ovs-issues#114.
Signed-off-by: Christian Svensson bluecmd@google.com","[I had problems submitting this patch to the dev@ mailinglist, so I'll try doing a PR instead]
As handling software via cgroups is more and more common, PID files are
not always needed. This change adds --disable-pid-socket-path to
./configure to build OpenvSwitch without this PID section of the socket
path. This offers a way for software to easier know the socket path for
daemons independent on which platform it is running on.
Today the socket path is by default one of:
Linux:   RUNDIR/daemon.$PID.ctl
Windows: RUNDIR/daemon.ctl
For Linux it is thus commonplace to also run the daemon with --pidfile
to be able to communicate with the daemon. For Windows there is no such
need (or possibility).
In order to preserve default behavior the new flag ships as enabled.
Documentation currently describes the default behavior only.
ovsdb-client is updated to support setting explicit socket path when
running in detached mode.
This closes openvswitch/ovs-issues#114.
Signed-off-by: Christian Svensson bluecmd@google.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,147,2016-08-03T18:21:26Z,2016-12-06T10:54:13Z,2016-12-06T10:54:13Z,CLOSED,False,89,32,17,https://github.com/bluecmd,Make the PID part of socket path configurable,1,[],https://github.com/openvswitch/ovs/pull/147,https://github.com/bluecmd,2,https://github.com/openvswitch/ovs/pull/147#issuecomment-237339686,"[I had problems submitting this patch to the dev@ mailinglist, so I'll try doing a PR instead]
As handling software via cgroups is more and more common, PID files are
not always needed. This change adds --disable-pid-socket-path to
./configure to build OpenvSwitch without this PID section of the socket
path. This offers a way for software to easier know the socket path for
daemons independent on which platform it is running on.
Today the socket path is by default one of:
Linux:   RUNDIR/daemon.$PID.ctl
Windows: RUNDIR/daemon.ctl
For Linux it is thus commonplace to also run the daemon with --pidfile
to be able to communicate with the daemon. For Windows there is no such
need (or possibility).
In order to preserve default behavior the new flag ships as enabled.
Documentation currently describes the default behavior only.
ovsdb-client is updated to support setting explicit socket path when
running in detached mode.
This closes openvswitch/ovs-issues#114.
Signed-off-by: Christian Svensson bluecmd@google.com","As a follow-up (or, to be added to this if you so wish) commit I suggest adding:
diff --git a/.travis.yml b/.travis.yml
index a46994d..2dc3005 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -27,6 +27,7 @@ env:
   - OPTS=""--disable-ssl""
   - TESTSUITE=1 KERNEL=3.18.1
   - TESTSUITE=1 OPTS=""--enable-shared""
+  - TESTSUITE=1 OPTS=""--disable-pid-socket-path""
   - BUILD_ENV=""-m32"" OPTS=""--disable-ssl""
   - KERNEL=3.17.7 DPDK=1
   - KERNEL=3.17.7 DPDK=1 OPTS=""--enable-shared""

That will make sure that the test suites pass for both with/without PID files.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,148,2016-08-13T20:15:53Z,2016-08-15T00:38:08Z,2016-08-15T00:38:08Z,CLOSED,False,2,2,1,https://github.com/mmulsow,Strip quotes in SYSTEM_VERSION from os-release,1,[],https://github.com/openvswitch/ovs/pull/148,https://github.com/mmulsow,1,https://github.com/openvswitch/ovs/pull/148,"The /etc/os-release file on Ubuntu 14.04 contains:
VERSION_ID=""14.04""
Currently this leads to an error starting openvswitch-switch saying:
ovs-vsctl: """"14.04"""": quoted string may not include unescaped ""
This causes ovs-vswitchd to not get started. With this fix the quotes
will be removed from VERSION_ID and SYSTEM_VERSION will be set to the
correct value of just 14.04.
Signed-off-by: Matt Mulsow mamulsow@us.ibm.com","The /etc/os-release file on Ubuntu 14.04 contains:
VERSION_ID=""14.04""
Currently this leads to an error starting openvswitch-switch saying:
ovs-vsctl: """"14.04"""": quoted string may not include unescaped ""
This causes ovs-vswitchd to not get started. With this fix the quotes
will be removed from VERSION_ID and SYSTEM_VERSION will be set to the
correct value of just 14.04.
Signed-off-by: Matt Mulsow mamulsow@us.ibm.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,148,2016-08-13T20:15:53Z,2016-08-15T00:38:08Z,2016-08-15T00:38:08Z,CLOSED,False,2,2,1,https://github.com/mmulsow,Strip quotes in SYSTEM_VERSION from os-release,1,[],https://github.com/openvswitch/ovs/pull/148,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/148#issuecomment-239692476,"The /etc/os-release file on Ubuntu 14.04 contains:
VERSION_ID=""14.04""
Currently this leads to an error starting openvswitch-switch saying:
ovs-vsctl: """"14.04"""": quoted string may not include unescaped ""
This causes ovs-vswitchd to not get started. With this fix the quotes
will be removed from VERSION_ID and SYSTEM_VERSION will be set to the
correct value of just 14.04.
Signed-off-by: Matt Mulsow mamulsow@us.ibm.com","How about this version instead? It handles arbitrary shell constructs, not just double-quotes: http://openvswitch.org/pipermail/dev/2016-August/077926.html",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,148,2016-08-13T20:15:53Z,2016-08-15T00:38:08Z,2016-08-15T00:38:08Z,CLOSED,False,2,2,1,https://github.com/mmulsow,Strip quotes in SYSTEM_VERSION from os-release,1,[],https://github.com/openvswitch/ovs/pull/148,https://github.com/mmulsow,3,https://github.com/openvswitch/ovs/pull/148#issuecomment-239694255,"The /etc/os-release file on Ubuntu 14.04 contains:
VERSION_ID=""14.04""
Currently this leads to an error starting openvswitch-switch saying:
ovs-vsctl: """"14.04"""": quoted string may not include unescaped ""
This causes ovs-vswitchd to not get started. With this fix the quotes
will be removed from VERSION_ID and SYSTEM_VERSION will be set to the
correct value of just 14.04.
Signed-off-by: Matt Mulsow mamulsow@us.ibm.com",That looks much better. Do you want me to make that change here or abandon this one?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,148,2016-08-13T20:15:53Z,2016-08-15T00:38:08Z,2016-08-15T00:38:08Z,CLOSED,False,2,2,1,https://github.com/mmulsow,Strip quotes in SYSTEM_VERSION from os-release,1,[],https://github.com/openvswitch/ovs/pull/148,https://github.com/mmulsow,4,https://github.com/openvswitch/ovs/pull/148#issuecomment-239695792,"The /etc/os-release file on Ubuntu 14.04 contains:
VERSION_ID=""14.04""
Currently this leads to an error starting openvswitch-switch saying:
ovs-vsctl: """"14.04"""": quoted string may not include unescaped ""
This causes ovs-vswitchd to not get started. With this fix the quotes
will be removed from VERSION_ID and SYSTEM_VERSION will be set to the
correct value of just 14.04.
Signed-off-by: Matt Mulsow mamulsow@us.ibm.com","I've made a very similar change but instead of sourcing /etc/os-release in the current process I call out to a separate shell. That should avoid accidentally changing other variables in this script that happen to conflict with variable names from /etc/os-release.
Also, I'm testing this on my Ubuntu system now. Will post back with results.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,148,2016-08-13T20:15:53Z,2016-08-15T00:38:08Z,2016-08-15T00:38:08Z,CLOSED,False,2,2,1,https://github.com/mmulsow,Strip quotes in SYSTEM_VERSION from os-release,1,[],https://github.com/openvswitch/ovs/pull/148,https://github.com/mmulsow,5,https://github.com/openvswitch/ovs/pull/148#issuecomment-239697972,"The /etc/os-release file on Ubuntu 14.04 contains:
VERSION_ID=""14.04""
Currently this leads to an error starting openvswitch-switch saying:
ovs-vsctl: """"14.04"""": quoted string may not include unescaped ""
This causes ovs-vswitchd to not get started. With this fix the quotes
will be removed from VERSION_ID and SYSTEM_VERSION will be set to the
correct value of just 14.04.
Signed-off-by: Matt Mulsow mamulsow@us.ibm.com","Alright, works well on my Ubuntu 14.04 system. I also tried with bash instead of sh which gives a little bit of coverage for RHEL and most other systems that link /bin/sh to bash (as opposed to Ubuntu using dash).",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,148,2016-08-13T20:15:53Z,2016-08-15T00:38:08Z,2016-08-15T00:38:08Z,CLOSED,False,2,2,1,https://github.com/mmulsow,Strip quotes in SYSTEM_VERSION from os-release,1,[],https://github.com/openvswitch/ovs/pull/148,https://github.com/blp,6,https://github.com/openvswitch/ovs/pull/148#issuecomment-239706964,"The /etc/os-release file on Ubuntu 14.04 contains:
VERSION_ID=""14.04""
Currently this leads to an error starting openvswitch-switch saying:
ovs-vsctl: """"14.04"""": quoted string may not include unescaped ""
This causes ovs-vswitchd to not get started. With this fix the quotes
will be removed from VERSION_ID and SYSTEM_VERSION will be set to the
correct value of just 14.04.
Signed-off-by: Matt Mulsow mamulsow@us.ibm.com","I don't think it's necessary to use a separate shell because assignments in a subshell don't propagate to the parent shell.  Try this:
a=b; $(a=c); echo $a
and see that it prints ""b"", not ""c"".",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,148,2016-08-13T20:15:53Z,2016-08-15T00:38:08Z,2016-08-15T00:38:08Z,CLOSED,False,2,2,1,https://github.com/mmulsow,Strip quotes in SYSTEM_VERSION from os-release,1,[],https://github.com/openvswitch/ovs/pull/148,https://github.com/mmulsow,7,https://github.com/openvswitch/ovs/pull/148#issuecomment-239708618,"The /etc/os-release file on Ubuntu 14.04 contains:
VERSION_ID=""14.04""
Currently this leads to an error starting openvswitch-switch saying:
ovs-vsctl: """"14.04"""": quoted string may not include unescaped ""
This causes ovs-vswitchd to not get started. With this fix the quotes
will be removed from VERSION_ID and SYSTEM_VERSION will be set to the
correct value of just 14.04.
Signed-off-by: Matt Mulsow mamulsow@us.ibm.com","Alright, dropped the 'sh -c'.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,148,2016-08-13T20:15:53Z,2016-08-15T00:38:08Z,2016-08-15T00:38:08Z,CLOSED,False,2,2,1,https://github.com/mmulsow,Strip quotes in SYSTEM_VERSION from os-release,1,[],https://github.com/openvswitch/ovs/pull/148,https://github.com/blp,8,https://github.com/openvswitch/ovs/pull/148#issuecomment-239709338,"The /etc/os-release file on Ubuntu 14.04 contains:
VERSION_ID=""14.04""
Currently this leads to an error starting openvswitch-switch saying:
ovs-vsctl: """"14.04"""": quoted string may not include unescaped ""
This causes ovs-vswitchd to not get started. With this fix the quotes
will be removed from VERSION_ID and SYSTEM_VERSION will be set to the
correct value of just 14.04.
Signed-off-by: Matt Mulsow mamulsow@us.ibm.com","I think that this is now exactly the same as the version I proposed, so I'll take it as a positive review.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,148,2016-08-13T20:15:53Z,2016-08-15T00:38:08Z,2016-08-15T00:38:08Z,CLOSED,False,2,2,1,https://github.com/mmulsow,Strip quotes in SYSTEM_VERSION from os-release,1,[],https://github.com/openvswitch/ovs/pull/148,https://github.com/blp,9,https://github.com/openvswitch/ovs/pull/148#issuecomment-239709414,"The /etc/os-release file on Ubuntu 14.04 contains:
VERSION_ID=""14.04""
Currently this leads to an error starting openvswitch-switch saying:
ovs-vsctl: """"14.04"""": quoted string may not include unescaped ""
This causes ovs-vswitchd to not get started. With this fix the quotes
will be removed from VERSION_ID and SYSTEM_VERSION will be set to the
correct value of just 14.04.
Signed-off-by: Matt Mulsow mamulsow@us.ibm.com",Applied.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,149,2016-08-14T01:09:47Z,2016-08-14T19:41:14Z,2016-08-15T00:37:01Z,CLOSED,False,4,0,1,https://github.com/hzy-code,delete possible quotes in SYSTEM_TYPE/SYSTEM_VERSION in file utilites…,1,[],https://github.com/openvswitch/ovs/pull/149,https://github.com/hzy-code,1,https://github.com/openvswitch/ovs/pull/149,"utiles/ovs-ctl.in
In some distribution, the variable may be put in quotes in file
/etc/os-release. This caused the error when runing at function set_system_ids() in utiles/ovs-ctl.","utiles/ovs-ctl.in
In some distribution, the variable may be put in quotes in file
/etc/os-release. This caused the error when runing at function set_system_ids() in utiles/ovs-ctl.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,149,2016-08-14T01:09:47Z,2016-08-14T19:41:14Z,2016-08-15T00:37:01Z,CLOSED,False,4,0,1,https://github.com/hzy-code,delete possible quotes in SYSTEM_TYPE/SYSTEM_VERSION in file utilites…,1,[],https://github.com/openvswitch/ovs/pull/149,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/149#issuecomment-239692511,"utiles/ovs-ctl.in
In some distribution, the variable may be put in quotes in file
/etc/os-release. This caused the error when runing at function set_system_ids() in utiles/ovs-ctl.","This duplicates pull request #148 and lacks a Signed-off-by, so I'm closing it as a duplicate.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,149,2016-08-14T01:09:47Z,2016-08-14T19:41:14Z,2016-08-15T00:37:01Z,CLOSED,False,4,0,1,https://github.com/hzy-code,delete possible quotes in SYSTEM_TYPE/SYSTEM_VERSION in file utilites…,1,[],https://github.com/openvswitch/ovs/pull/149,https://github.com/hzy-code,3,https://github.com/openvswitch/ovs/pull/149#issuecomment-239709358,"utiles/ovs-ctl.in
In some distribution, the variable may be put in quotes in file
/etc/os-release. This caused the error when runing at function set_system_ids() in utiles/ovs-ctl.",Oh yes. It is duplicate。,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,150,2016-08-17T08:50:46Z,2016-08-23T12:23:27Z,2016-08-23T12:23:27Z,CLOSED,False,1,1,1,https://github.com/hemantagr,netdev-dpdk:fixing private size req in mempool_create,1,[],https://github.com/openvswitch/ovs/pull/150,https://github.com/hemantagr,1,https://github.com/openvswitch/ovs/pull/150,"rte_pktmbuf_pool_init will expect the packet to be of size rte_mbuf,
however ovs reserve extra area in buffer.
This extra area should be part of private area.
In the existing code, the private area is sized as  ""rte_pktmbuf_pool_private"", which is not being used anywhere.
For OVS, the private area reserve should be:
(dp_packet size - size of rte_mbuf)
Signed-off-by: Hemant Agrawal hemant.agrawal@nxp.com","rte_pktmbuf_pool_init will expect the packet to be of size rte_mbuf,
however ovs reserve extra area in buffer.
This extra area should be part of private area.
In the existing code, the private area is sized as  ""rte_pktmbuf_pool_private"", which is not being used anywhere.
For OVS, the private area reserve should be:
(dp_packet size - size of rte_mbuf)
Signed-off-by: Hemant Agrawal hemant.agrawal@nxp.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,151,2016-08-24T04:31:42Z,2016-08-24T04:41:43Z,2016-08-24T04:50:02Z,CLOSED,False,0,0,0,https://github.com/cvejendla,Merge pull request #1 from openvswitch/master,1,[],https://github.com/openvswitch/ovs/pull/151,https://github.com/cvejendla,1,https://github.com/openvswitch/ovs/pull/151,sync with latest,sync with latest,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,151,2016-08-24T04:31:42Z,2016-08-24T04:41:43Z,2016-08-24T04:50:02Z,CLOSED,False,0,0,0,https://github.com/cvejendla,Merge pull request #1 from openvswitch/master,1,[],https://github.com/openvswitch/ovs/pull/151,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/151#issuecomment-241955719,sync with latest,This doesn't seem to make any sense.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,151,2016-08-24T04:31:42Z,2016-08-24T04:41:43Z,2016-08-24T04:50:02Z,CLOSED,False,0,0,0,https://github.com/cvejendla,Merge pull request #1 from openvswitch/master,1,[],https://github.com/openvswitch/ovs/pull/151,https://github.com/cvejendla,3,https://github.com/openvswitch/ovs/pull/151#issuecomment-241956618,sync with latest,"Apologies, this was done accidentally",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,152,2016-08-29T17:05:46Z,2016-09-02T18:42:08Z,2016-09-02T18:42:08Z,CLOSED,False,6,3,2,https://github.com/sflow,Avoid segfault in sFlow when datapath input port for tunnel sample is unknown.,2,[],https://github.com/openvswitch/ovs/pull/152,https://github.com/sflow,1,https://github.com/openvswitch/ovs/pull/152,"The crash is documented here:
http://openvswitch.org/pipermail/discuss/2016-August/022513.html
Signed-off-by: Neil McKee neil.mckee@inmon.com","The crash is documented here:
http://openvswitch.org/pipermail/discuss/2016-August/022513.html
Signed-off-by: Neil McKee neil.mckee@inmon.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,152,2016-08-29T17:05:46Z,2016-09-02T18:42:08Z,2016-09-02T18:42:08Z,CLOSED,False,6,3,2,https://github.com/sflow,Avoid segfault in sFlow when datapath input port for tunnel sample is unknown.,2,[],https://github.com/openvswitch/ovs/pull/152,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/152#issuecomment-244456291,"The crash is documented here:
http://openvswitch.org/pipermail/discuss/2016-August/022513.html
Signed-off-by: Neil McKee neil.mckee@inmon.com",Applied.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,153,2016-09-01T13:48:38Z,2016-11-23T18:11:59Z,2016-11-23T23:05:12Z,CLOSED,False,2,2,2,https://github.com/YanHaoChen,Tutorial.md: Specify the type of interface.,1,[],https://github.com/openvswitch/ovs/pull/153,https://github.com/YanHaoChen,1,https://github.com/openvswitch/ovs/pull/153,"When I tried to run the script of setup without specifying the type of interface, ovs-ofctl can't find the port just added.
like this:
ovs-ofctl: br0: couldn't find port `p1'
ovs-ofctl: br0: couldn't find port `p2'
ovs-ofctl: br0: couldn't find port `p3'
ovs-ofctl: br0: couldn't find port `p4'
So I specified the type of interface to resolve the issue.
Signed-off-by: Yan Hao Chen coolking29@gmail.com","When I tried to run the script of setup without specifying the type of interface, ovs-ofctl can't find the port just added.
like this:
ovs-ofctl: br0: couldn't find port `p1'
ovs-ofctl: br0: couldn't find port `p2'
ovs-ofctl: br0: couldn't find port `p3'
ovs-ofctl: br0: couldn't find port `p4'
So I specified the type of interface to resolve the issue.
Signed-off-by: Yan Hao Chen coolking29@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,153,2016-09-01T13:48:38Z,2016-11-23T18:11:59Z,2016-11-23T23:05:12Z,CLOSED,False,2,2,2,https://github.com/YanHaoChen,Tutorial.md: Specify the type of interface.,1,[],https://github.com/openvswitch/ovs/pull/153,https://github.com/kthkaya,2,https://github.com/openvswitch/ovs/pull/153#issuecomment-259961461,"When I tried to run the script of setup without specifying the type of interface, ovs-ofctl can't find the port just added.
like this:
ovs-ofctl: br0: couldn't find port `p1'
ovs-ofctl: br0: couldn't find port `p2'
ovs-ofctl: br0: couldn't find port `p3'
ovs-ofctl: br0: couldn't find port `p4'
So I specified the type of interface to resolve the issue.
Signed-off-by: Yan Hao Chen coolking29@gmail.com","Hi, couldn't find port issue still persists when OpenFlow version is 1.3. Specifying type internal is not helping",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,153,2016-09-01T13:48:38Z,2016-11-23T18:11:59Z,2016-11-23T23:05:12Z,CLOSED,False,2,2,2,https://github.com/YanHaoChen,Tutorial.md: Specify the type of interface.,1,[],https://github.com/openvswitch/ovs/pull/153,https://github.com/YanHaoChen,3,https://github.com/openvswitch/ovs/pull/153#issuecomment-262464046,"When I tried to run the script of setup without specifying the type of interface, ovs-ofctl can't find the port just added.
like this:
ovs-ofctl: br0: couldn't find port `p1'
ovs-ofctl: br0: couldn't find port `p2'
ovs-ofctl: br0: couldn't find port `p3'
ovs-ofctl: br0: couldn't find port `p4'
So I specified the type of interface to resolve the issue.
Signed-off-by: Yan Hao Chen coolking29@gmail.com","Hi, kthkaya
I ran the command(sudo ovs-ofctl mod-port br0 p1 up) when OpenFlow version is 1.3, and got the message like it:
2016-11-23T09:00:21Z|00001| vconn|WARN|unix:/var/run/openvswitch/br0.mgmt: version negotiation failed (we support version 0x01, peer supports version 0x04)
...

If you got the same message. I think that you can try the command:
sudo ovs-ofctl mod-port br0 p1 up -O OpenFlow10",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,153,2016-09-01T13:48:38Z,2016-11-23T18:11:59Z,2016-11-23T23:05:12Z,CLOSED,False,2,2,2,https://github.com/YanHaoChen,Tutorial.md: Specify the type of interface.,1,[],https://github.com/openvswitch/ovs/pull/153,https://github.com/kthkaya,4,https://github.com/openvswitch/ovs/pull/153#issuecomment-262586826,"When I tried to run the script of setup without specifying the type of interface, ovs-ofctl can't find the port just added.
like this:
ovs-ofctl: br0: couldn't find port `p1'
ovs-ofctl: br0: couldn't find port `p2'
ovs-ofctl: br0: couldn't find port `p3'
ovs-ofctl: br0: couldn't find port `p4'
So I specified the type of interface to resolve the issue.
Signed-off-by: Yan Hao Chen coolking29@gmail.com",I figured it but thanks anyway. The switch I used is -O OpenFlow13,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,153,2016-09-01T13:48:38Z,2016-11-23T18:11:59Z,2016-11-23T23:05:12Z,CLOSED,False,2,2,2,https://github.com/YanHaoChen,Tutorial.md: Specify the type of interface.,1,[],https://github.com/openvswitch/ovs/pull/153,https://github.com/blp,5,https://github.com/openvswitch/ovs/pull/153#issuecomment-262591044,"When I tried to run the script of setup without specifying the type of interface, ovs-ofctl can't find the port just added.
like this:
ovs-ofctl: br0: couldn't find port `p1'
ovs-ofctl: br0: couldn't find port `p2'
ovs-ofctl: br0: couldn't find port `p3'
ovs-ofctl: br0: couldn't find port `p4'
So I specified the type of interface to resolve the issue.
Signed-off-by: Yan Hao Chen coolking29@gmail.com","It seems like you forgot to run the tutorial inside the sandbox, with ""make sandbox"".  If you do that, t-setup works fine without any change.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,153,2016-09-01T13:48:38Z,2016-11-23T18:11:59Z,2016-11-23T23:05:12Z,CLOSED,False,2,2,2,https://github.com/YanHaoChen,Tutorial.md: Specify the type of interface.,1,[],https://github.com/openvswitch/ovs/pull/153,https://github.com/YanHaoChen,6,https://github.com/openvswitch/ovs/pull/153#issuecomment-262650900,"When I tried to run the script of setup without specifying the type of interface, ovs-ofctl can't find the port just added.
like this:
ovs-ofctl: br0: couldn't find port `p1'
ovs-ofctl: br0: couldn't find port `p2'
ovs-ofctl: br0: couldn't find port `p3'
ovs-ofctl: br0: couldn't find port `p4'
So I specified the type of interface to resolve the issue.
Signed-off-by: Yan Hao Chen coolking29@gmail.com","@kthkaya
Sorry for the delay in responding to your problem. If I have some problem like it, I will try the command. Thanks!
@blp
I apologize for the mistake. Thank you for your correction!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,154,2016-09-09T16:35:01Z,2017-07-07T15:58:02Z,2017-07-07T15:58:02Z,CLOSED,False,15,8,2,https://github.com/SpamapS,Use debhelper for DEB_UPSTREAM_VERSION,1,[],https://github.com/openvswitch/ovs/pull/154,https://github.com/SpamapS,1,https://github.com/openvswitch/ovs/pull/154,"This variable is set incorrectly if a downstream package builder adds
a + sign or probably other characters. This leads to an unusable
openvswitch-datapath-source package and unbuildable dkms modules.","This variable is set incorrectly if a downstream package builder adds
a + sign or probably other characters. This leads to an unusable
openvswitch-datapath-source package and unbuildable dkms modules.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,154,2016-09-09T16:35:01Z,2017-07-07T15:58:02Z,2017-07-07T15:58:02Z,CLOSED,False,15,8,2,https://github.com/SpamapS,Use debhelper for DEB_UPSTREAM_VERSION,1,[],https://github.com/openvswitch/ovs/pull/154,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/154#issuecomment-313503058,"This variable is set incorrectly if a downstream package builder adds
a + sign or probably other characters. This leads to an unusable
openvswitch-datapath-source package and unbuildable dkms modules.","My apologies for the unacceptably long review time on this pull request.
I believe that this problem has been fixed in the meantime with commit 455f38e.  However, your version is better.  I'd like to use it instead.
Can you provide a Signed-off-by?
Thanks,
Ben.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,154,2016-09-09T16:35:01Z,2017-07-07T15:58:02Z,2017-07-07T15:58:02Z,CLOSED,False,15,8,2,https://github.com/SpamapS,Use debhelper for DEB_UPSTREAM_VERSION,1,[],https://github.com/openvswitch/ovs/pull/154,https://github.com/SpamapS,3,https://github.com/openvswitch/ovs/pull/154#issuecomment-313508893,"This variable is set incorrectly if a downstream package builder adds
a + sign or probably other characters. This leads to an unusable
openvswitch-datapath-source package and unbuildable dkms modules.",Done. :),True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,154,2016-09-09T16:35:01Z,2017-07-07T15:58:02Z,2017-07-07T15:58:02Z,CLOSED,False,15,8,2,https://github.com/SpamapS,Use debhelper for DEB_UPSTREAM_VERSION,1,[],https://github.com/openvswitch/ovs/pull/154,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/154#issuecomment-313722079,"This variable is set incorrectly if a downstream package builder adds
a + sign or probably other characters. This leads to an unusable
openvswitch-datapath-source package and unbuildable dkms modules.",Thanks a lot.  I cherry-picked this to master with commit message updates to reflect that it is more of an improvement than a bug fix at this point.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,155,2016-09-18T14:25:40Z,2016-09-20T15:59:38Z,2016-09-20T15:59:38Z,CLOSED,False,719,755,50,https://github.com/hanxueluo,netdev: Fix netdev->reconfigure_seq memory leak.,17,[],https://github.com/openvswitch/ovs/pull/155,https://github.com/hanxueluo,1,https://github.com/openvswitch/ovs/pull/155,"netdev: Fix netdev->reconfigure_seq memory leak after failed to construct netdev.
Signed-off-by: Huanle Han hanxueluo@gmail.com","netdev: Fix netdev->reconfigure_seq memory leak after failed to construct netdev.
Signed-off-by: Huanle Han hanxueluo@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,155,2016-09-18T14:25:40Z,2016-09-20T15:59:38Z,2016-09-20T15:59:38Z,CLOSED,False,719,755,50,https://github.com/hanxueluo,netdev: Fix netdev->reconfigure_seq memory leak.,17,[],https://github.com/openvswitch/ovs/pull/155,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/155#issuecomment-248346803,"netdev: Fix netdev->reconfigure_seq memory leak after failed to construct netdev.
Signed-off-by: Huanle Han hanxueluo@gmail.com",Thanks for the patch.  I applied this to master and branch-2.6.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,156,2016-09-21T14:38:53Z,2016-09-21T15:32:11Z,2016-09-21T15:49:33Z,CLOSED,False,0,0,4,https://github.com/hanxueluo,Remove execute permisson on source files,1,[],https://github.com/openvswitch/ovs/pull/156,https://github.com/hanxueluo,1,https://github.com/openvswitch/ovs/pull/156,Signed-off-by: Huanle Han hanxueluo@gmail.com,Signed-off-by: Huanle Han hanxueluo@gmail.com,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,156,2016-09-21T14:38:53Z,2016-09-21T15:32:11Z,2016-09-21T15:49:33Z,CLOSED,False,0,0,4,https://github.com/hanxueluo,Remove execute permisson on source files,1,[],https://github.com/openvswitch/ovs/pull/156,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/156#issuecomment-248649359,Signed-off-by: Huanle Han hanxueluo@gmail.com,Thanks for the patch!  I applied this to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,156,2016-09-21T14:38:53Z,2016-09-21T15:32:11Z,2016-09-21T15:49:33Z,CLOSED,False,0,0,4,https://github.com/hanxueluo,Remove execute permisson on source files,1,[],https://github.com/openvswitch/ovs/pull/156,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/156#issuecomment-248654806,Signed-off-by: Huanle Han hanxueluo@gmail.com,I've applied this to branch-2.6 now.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,157,2016-10-10T12:27:14Z,2016-10-10T15:28:28Z,2016-10-10T15:28:28Z,CLOSED,False,8219,3532,241,https://github.com/codeboyInGitHub,Branch 2.5,285,[],https://github.com/openvswitch/ovs/pull/157,https://github.com/codeboyInGitHub,1,https://github.com/openvswitch/ovs/pull/157,"doesn't work on CentOS6.8
[root@localhost openvswitch-2.5.2]# uname -r
2.6.32-642.6.1.el6.x86_64
[root@localhost openvswitch-2.5.2]# cat /etc/issue
CentOS release 6.8 (Final)
Kernel \r on an \m
[root@localhost openvswitch-2.5.2]#
Errors:
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from include/linux/if_ether.h:137,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_ether.h:4,
from include/linux/netdevice.h:29,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/netdevice.h:4,
from include/linux/if_arp.h:26,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_arp.h:4,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/datapath.c:23:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/actions.c:21:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from include/linux/if_ether.h:137,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_ether.h:4,
from include/linux/netdevice.h:29,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/netdevice.h:4,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/dp_notify.c:19:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/datapath.c:24:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/actions.c:31:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from include/linux/if_ether.h:137,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_ether.h:4,
from include/linux/netdevice.h:29,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/netdevice.h:4,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/flow.c:20:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/../vlan.h:22,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/../datapath.h:34,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/dp_notify.c:24:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/datapath.o] Error 1
make[2]: *** Waiting for unfinished jobs....
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/dp_notify.o] Error 1
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/actions.o] Error 1
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/flow.c:23:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/flow.o] Error 1
make[1]: *** [module/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux] Error 2
make[1]: Leaving directory /usr/src/kernels/2.6.32-642.6.1.el6.x86_64' make: *** [default] Error 2 make: Leaving directory/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux'
error: Bad exit status from /var/tmp/rpm-tmp.iL3jw9 (%build)","doesn't work on CentOS6.8
[root@localhost openvswitch-2.5.2]# uname -r
2.6.32-642.6.1.el6.x86_64
[root@localhost openvswitch-2.5.2]# cat /etc/issue
CentOS release 6.8 (Final)
Kernel \r on an \m
[root@localhost openvswitch-2.5.2]#
Errors:
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from include/linux/if_ether.h:137,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_ether.h:4,
from include/linux/netdevice.h:29,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/netdevice.h:4,
from include/linux/if_arp.h:26,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_arp.h:4,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/datapath.c:23:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/actions.c:21:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from include/linux/if_ether.h:137,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_ether.h:4,
from include/linux/netdevice.h:29,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/netdevice.h:4,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/dp_notify.c:19:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/datapath.c:24:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/actions.c:31:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from include/linux/if_ether.h:137,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_ether.h:4,
from include/linux/netdevice.h:29,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/netdevice.h:4,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/flow.c:20:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/../vlan.h:22,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/../datapath.h:34,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/dp_notify.c:24:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/datapath.o] Error 1
make[2]: *** Waiting for unfinished jobs....
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/dp_notify.o] Error 1
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/actions.o] Error 1
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/flow.c:23:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/flow.o] Error 1
make[1]: *** [module/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux] Error 2
make[1]: Leaving directory /usr/src/kernels/2.6.32-642.6.1.el6.x86_64' make: *** [default] Error 2 make: Leaving directory/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux'
error: Bad exit status from /var/tmp/rpm-tmp.iL3jw9 (%build)",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,157,2016-10-10T12:27:14Z,2016-10-10T15:28:28Z,2016-10-10T15:28:28Z,CLOSED,False,8219,3532,241,https://github.com/codeboyInGitHub,Branch 2.5,285,[],https://github.com/openvswitch/ovs/pull/157,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/157#issuecomment-252656444,"doesn't work on CentOS6.8
[root@localhost openvswitch-2.5.2]# uname -r
2.6.32-642.6.1.el6.x86_64
[root@localhost openvswitch-2.5.2]# cat /etc/issue
CentOS release 6.8 (Final)
Kernel \r on an \m
[root@localhost openvswitch-2.5.2]#
Errors:
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from include/linux/if_ether.h:137,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_ether.h:4,
from include/linux/netdevice.h:29,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/netdevice.h:4,
from include/linux/if_arp.h:26,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_arp.h:4,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/datapath.c:23:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/actions.c:21:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from include/linux/if_ether.h:137,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_ether.h:4,
from include/linux/netdevice.h:29,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/netdevice.h:4,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/dp_notify.c:19:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/datapath.c:24:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/actions.c:31:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/skbuff.h:17,
from include/linux/if_ether.h:137,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_ether.h:4,
from include/linux/netdevice.h:29,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/netdevice.h:4,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/flow.c:20:
include/linux/skbuff.h: In function 'skb_probe_transport_header':
include/linux/skbuff.h:1407: error: implicit declaration of function 'skb_flow_dissect'
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/../vlan.h:22,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/../datapath.h:34,
from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/dp_notify.c:24:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/datapath.o] Error 1
make[2]: *** Waiting for unfinished jobs....
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/dp_notify.o] Error 1
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/actions.o] Error 1
In file included from /root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/flow.c:23:
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function '__vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:68: error: implicit declaration of function 'vlan_tx_tag_get'
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h: In function 'vlan_hwaccel_push_inside':
/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/../datapath/linux/compat/include/linux/if_vlan.h:86: error: implicit declaration of function 'vlan_tx_tag_present'
make[2]: *** [/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux/flow.o] Error 1
make[1]: *** [module/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux] Error 2
make[1]: Leaving directory /usr/src/kernels/2.6.32-642.6.1.el6.x86_64' make: *** [default] Error 2 make: Leaving directory/root/rpmbuild/BUILD/openvswitch-2.5.2/_default/datapath/linux'
error: Bad exit status from /var/tmp/rpm-tmp.iL3jw9 (%build)","Please reporrt your bug to bugs@openvswitch.org.  Also, please don't report bugs as if they were pull requests.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,158,2016-10-24T15:56:03Z,2017-08-28T12:16:06Z,2017-08-28T19:37:43Z,CLOSED,False,15,1,1,https://github.com/malc0mn,Check for multiple tunnels before updating ipsec config,1,[],https://github.com/openvswitch/ovs/pull/158,https://github.com/malc0mn,1,https://github.com/openvswitch/ovs/pull/158,"First of all:
I'm fully aware that ipsec support has been depricated in 2.6. Since we're still running on 2.4 and need an intermediate fix before the migration to 2.6 can be completed, we decided to write this patch and submit it to the community so that anyone can benefit from it.
The issue we fixed:
When updating ipsec config, we need to make sure the LAST tunnel between two hosts is being deleted before actually modifying the racoon, psk.txt etc. files. Failing to do this properly will cause other perfectly functional tunnels to break which is obviously not what we want to happen...
A practical example:
$ ovs-vsctl show
0c7401c0-d716-450e-b8c4-79502495a68d
    Bridge ""matProPro""
        fail_mode: secure
        Port ""matProPro""
            Interface ""matProPro""
                type: internal
        Port ""0f2a3424d6b9-e""
            Interface ""0f2a3424d6b9-e""
        Port ""ipsec_gre_22890""
            Interface ""ipsec_gre_22890""
                type: ipsec_gre
                options: {key=""22890"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""0f2a3424d6b9-i""
            Interface ""0f2a3424d6b9-i""
    Bridge ""matTunPro""
        fail_mode: secure
        Port ""05fa093607ea-i""
            Interface ""05fa093607ea-i""
        Port ""ipsec_gre_34169""
            Interface ""ipsec_gre_34169""
                type: ipsec_gre
                options: {key=""34169"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""matTunPro""
            Interface ""matTunPro""
                type: internal
        Port ""05fa093607ea-e""
            Interface ""05fa093607ea-e""
    Bridge ""mvJusPro""
        fail_mode: secure
        Port ""ipsec_gre_82325""
            Interface ""ipsec_gre_82325""
                type: ipsec_gre
                options: {key=""82325"", psk=""29340a19a97a3ead33653380aa997242ce677a2c"", remote_ip=""128.167.23.88""}
        Port ""mvJusPro""
            Interface ""mvJusPro""
                type: internal
    ovs_version: ""2.4.0""

As you can see, there are two (2) tunnels to 10.129.5.16 that use the same psk 360e84a779e951be5a0b0705f3222b0600a991b3 but a different key (22890 and 34169).
Everything is fully operational: all traffic is flowing as it should.
Now, if you would delete bridge matProPro or port ipsec_gre_22890 for whatever reason (cleanup, ...), the result before this patch would be that both of these tunnels break!
The reason for this is that the OVS ipsec monitor does not take the possibility of multiple tunnels between the same hosts into account.
Multiple ipsec tunnels between the same host must use the same PSK but should use a different key for traffic separation to the proper bridge.
The patch proposed here will take care of handling the multiple tunnel possibility and only clean up when the last tunnel between two hosts is being removed.","First of all:
I'm fully aware that ipsec support has been depricated in 2.6. Since we're still running on 2.4 and need an intermediate fix before the migration to 2.6 can be completed, we decided to write this patch and submit it to the community so that anyone can benefit from it.
The issue we fixed:
When updating ipsec config, we need to make sure the LAST tunnel between two hosts is being deleted before actually modifying the racoon, psk.txt etc. files. Failing to do this properly will cause other perfectly functional tunnels to break which is obviously not what we want to happen...
A practical example:
$ ovs-vsctl show
0c7401c0-d716-450e-b8c4-79502495a68d
    Bridge ""matProPro""
        fail_mode: secure
        Port ""matProPro""
            Interface ""matProPro""
                type: internal
        Port ""0f2a3424d6b9-e""
            Interface ""0f2a3424d6b9-e""
        Port ""ipsec_gre_22890""
            Interface ""ipsec_gre_22890""
                type: ipsec_gre
                options: {key=""22890"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""0f2a3424d6b9-i""
            Interface ""0f2a3424d6b9-i""
    Bridge ""matTunPro""
        fail_mode: secure
        Port ""05fa093607ea-i""
            Interface ""05fa093607ea-i""
        Port ""ipsec_gre_34169""
            Interface ""ipsec_gre_34169""
                type: ipsec_gre
                options: {key=""34169"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""matTunPro""
            Interface ""matTunPro""
                type: internal
        Port ""05fa093607ea-e""
            Interface ""05fa093607ea-e""
    Bridge ""mvJusPro""
        fail_mode: secure
        Port ""ipsec_gre_82325""
            Interface ""ipsec_gre_82325""
                type: ipsec_gre
                options: {key=""82325"", psk=""29340a19a97a3ead33653380aa997242ce677a2c"", remote_ip=""128.167.23.88""}
        Port ""mvJusPro""
            Interface ""mvJusPro""
                type: internal
    ovs_version: ""2.4.0""

As you can see, there are two (2) tunnels to 10.129.5.16 that use the same psk 360e84a779e951be5a0b0705f3222b0600a991b3 but a different key (22890 and 34169).
Everything is fully operational: all traffic is flowing as it should.
Now, if you would delete bridge matProPro or port ipsec_gre_22890 for whatever reason (cleanup, ...), the result before this patch would be that both of these tunnels break!
The reason for this is that the OVS ipsec monitor does not take the possibility of multiple tunnels between the same hosts into account.
Multiple ipsec tunnels between the same host must use the same PSK but should use a different key for traffic separation to the proper bridge.
The patch proposed here will take care of handling the multiple tunnel possibility and only clean up when the last tunnel between two hosts is being removed.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,158,2016-10-24T15:56:03Z,2017-08-28T12:16:06Z,2017-08-28T19:37:43Z,CLOSED,False,15,1,1,https://github.com/malc0mn,Check for multiple tunnels before updating ipsec config,1,[],https://github.com/openvswitch/ovs/pull/158,https://github.com/ansisatteka,2,https://github.com/openvswitch/ovs/pull/158#issuecomment-314172558,"First of all:
I'm fully aware that ipsec support has been depricated in 2.6. Since we're still running on 2.4 and need an intermediate fix before the migration to 2.6 can be completed, we decided to write this patch and submit it to the community so that anyone can benefit from it.
The issue we fixed:
When updating ipsec config, we need to make sure the LAST tunnel between two hosts is being deleted before actually modifying the racoon, psk.txt etc. files. Failing to do this properly will cause other perfectly functional tunnels to break which is obviously not what we want to happen...
A practical example:
$ ovs-vsctl show
0c7401c0-d716-450e-b8c4-79502495a68d
    Bridge ""matProPro""
        fail_mode: secure
        Port ""matProPro""
            Interface ""matProPro""
                type: internal
        Port ""0f2a3424d6b9-e""
            Interface ""0f2a3424d6b9-e""
        Port ""ipsec_gre_22890""
            Interface ""ipsec_gre_22890""
                type: ipsec_gre
                options: {key=""22890"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""0f2a3424d6b9-i""
            Interface ""0f2a3424d6b9-i""
    Bridge ""matTunPro""
        fail_mode: secure
        Port ""05fa093607ea-i""
            Interface ""05fa093607ea-i""
        Port ""ipsec_gre_34169""
            Interface ""ipsec_gre_34169""
                type: ipsec_gre
                options: {key=""34169"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""matTunPro""
            Interface ""matTunPro""
                type: internal
        Port ""05fa093607ea-e""
            Interface ""05fa093607ea-e""
    Bridge ""mvJusPro""
        fail_mode: secure
        Port ""ipsec_gre_82325""
            Interface ""ipsec_gre_82325""
                type: ipsec_gre
                options: {key=""82325"", psk=""29340a19a97a3ead33653380aa997242ce677a2c"", remote_ip=""128.167.23.88""}
        Port ""mvJusPro""
            Interface ""mvJusPro""
                type: internal
    ovs_version: ""2.4.0""

As you can see, there are two (2) tunnels to 10.129.5.16 that use the same psk 360e84a779e951be5a0b0705f3222b0600a991b3 but a different key (22890 and 34169).
Everything is fully operational: all traffic is flowing as it should.
Now, if you would delete bridge matProPro or port ipsec_gre_22890 for whatever reason (cleanup, ...), the result before this patch would be that both of these tunnels break!
The reason for this is that the OVS ipsec monitor does not take the possibility of multiple tunnels between the same hosts into account.
Multiple ipsec tunnels between the same host must use the same PSK but should use a different key for traffic separation to the proper bridge.
The patch proposed here will take care of handling the multiple tunnel possibility and only clean up when the last tunnel between two hosts is being removed.","I will verify your patch locally and get back to you. If I understand correctly, then it is not like ""all the tunnels"" have issues when you delete ipsec_gre_22890, but rather that only the other tunnel between these same hosts have issues?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,158,2016-10-24T15:56:03Z,2017-08-28T12:16:06Z,2017-08-28T19:37:43Z,CLOSED,False,15,1,1,https://github.com/malc0mn,Check for multiple tunnels before updating ipsec config,1,[],https://github.com/openvswitch/ovs/pull/158,https://github.com/ansisatteka,3,https://github.com/openvswitch/ovs/pull/158#issuecomment-315892293,"First of all:
I'm fully aware that ipsec support has been depricated in 2.6. Since we're still running on 2.4 and need an intermediate fix before the migration to 2.6 can be completed, we decided to write this patch and submit it to the community so that anyone can benefit from it.
The issue we fixed:
When updating ipsec config, we need to make sure the LAST tunnel between two hosts is being deleted before actually modifying the racoon, psk.txt etc. files. Failing to do this properly will cause other perfectly functional tunnels to break which is obviously not what we want to happen...
A practical example:
$ ovs-vsctl show
0c7401c0-d716-450e-b8c4-79502495a68d
    Bridge ""matProPro""
        fail_mode: secure
        Port ""matProPro""
            Interface ""matProPro""
                type: internal
        Port ""0f2a3424d6b9-e""
            Interface ""0f2a3424d6b9-e""
        Port ""ipsec_gre_22890""
            Interface ""ipsec_gre_22890""
                type: ipsec_gre
                options: {key=""22890"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""0f2a3424d6b9-i""
            Interface ""0f2a3424d6b9-i""
    Bridge ""matTunPro""
        fail_mode: secure
        Port ""05fa093607ea-i""
            Interface ""05fa093607ea-i""
        Port ""ipsec_gre_34169""
            Interface ""ipsec_gre_34169""
                type: ipsec_gre
                options: {key=""34169"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""matTunPro""
            Interface ""matTunPro""
                type: internal
        Port ""05fa093607ea-e""
            Interface ""05fa093607ea-e""
    Bridge ""mvJusPro""
        fail_mode: secure
        Port ""ipsec_gre_82325""
            Interface ""ipsec_gre_82325""
                type: ipsec_gre
                options: {key=""82325"", psk=""29340a19a97a3ead33653380aa997242ce677a2c"", remote_ip=""128.167.23.88""}
        Port ""mvJusPro""
            Interface ""mvJusPro""
                type: internal
    ovs_version: ""2.4.0""

As you can see, there are two (2) tunnels to 10.129.5.16 that use the same psk 360e84a779e951be5a0b0705f3222b0600a991b3 but a different key (22890 and 34169).
Everything is fully operational: all traffic is flowing as it should.
Now, if you would delete bridge matProPro or port ipsec_gre_22890 for whatever reason (cleanup, ...), the result before this patch would be that both of these tunnels break!
The reason for this is that the OVS ipsec monitor does not take the possibility of multiple tunnels between the same hosts into account.
Multiple ipsec tunnels between the same host must use the same PSK but should use a different key for traffic separation to the proper bridge.
The patch proposed here will take care of handling the multiple tunnel possibility and only clean up when the last tunnel between two hosts is being removed.","@malc0mn Here is my feedback:

Commit message is not broken to 80 characters per line;
Commit message lacks ""Signed-off-by"" line;
Feel free to add yourself to AUTHORS file if this is your first patch (provide a real email address and name in that case);

Would you like to send a new pull request for that?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,158,2016-10-24T15:56:03Z,2017-08-28T12:16:06Z,2017-08-28T19:37:43Z,CLOSED,False,15,1,1,https://github.com/malc0mn,Check for multiple tunnels before updating ipsec config,1,[],https://github.com/openvswitch/ovs/pull/158,https://github.com/malc0mn,4,https://github.com/openvswitch/ovs/pull/158#issuecomment-315988915,"First of all:
I'm fully aware that ipsec support has been depricated in 2.6. Since we're still running on 2.4 and need an intermediate fix before the migration to 2.6 can be completed, we decided to write this patch and submit it to the community so that anyone can benefit from it.
The issue we fixed:
When updating ipsec config, we need to make sure the LAST tunnel between two hosts is being deleted before actually modifying the racoon, psk.txt etc. files. Failing to do this properly will cause other perfectly functional tunnels to break which is obviously not what we want to happen...
A practical example:
$ ovs-vsctl show
0c7401c0-d716-450e-b8c4-79502495a68d
    Bridge ""matProPro""
        fail_mode: secure
        Port ""matProPro""
            Interface ""matProPro""
                type: internal
        Port ""0f2a3424d6b9-e""
            Interface ""0f2a3424d6b9-e""
        Port ""ipsec_gre_22890""
            Interface ""ipsec_gre_22890""
                type: ipsec_gre
                options: {key=""22890"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""0f2a3424d6b9-i""
            Interface ""0f2a3424d6b9-i""
    Bridge ""matTunPro""
        fail_mode: secure
        Port ""05fa093607ea-i""
            Interface ""05fa093607ea-i""
        Port ""ipsec_gre_34169""
            Interface ""ipsec_gre_34169""
                type: ipsec_gre
                options: {key=""34169"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""matTunPro""
            Interface ""matTunPro""
                type: internal
        Port ""05fa093607ea-e""
            Interface ""05fa093607ea-e""
    Bridge ""mvJusPro""
        fail_mode: secure
        Port ""ipsec_gre_82325""
            Interface ""ipsec_gre_82325""
                type: ipsec_gre
                options: {key=""82325"", psk=""29340a19a97a3ead33653380aa997242ce677a2c"", remote_ip=""128.167.23.88""}
        Port ""mvJusPro""
            Interface ""mvJusPro""
                type: internal
    ovs_version: ""2.4.0""

As you can see, there are two (2) tunnels to 10.129.5.16 that use the same psk 360e84a779e951be5a0b0705f3222b0600a991b3 but a different key (22890 and 34169).
Everything is fully operational: all traffic is flowing as it should.
Now, if you would delete bridge matProPro or port ipsec_gre_22890 for whatever reason (cleanup, ...), the result before this patch would be that both of these tunnels break!
The reason for this is that the OVS ipsec monitor does not take the possibility of multiple tunnels between the same hosts into account.
Multiple ipsec tunnels between the same host must use the same PSK but should use a different key for traffic separation to the proper bridge.
The patch proposed here will take care of handling the multiple tunnel possibility and only clean up when the last tunnel between two hosts is being removed.","Amended commit message to max 80 chars per line.
Amended commit message to add signed off by line.
Didn't go to the 'trouble' (note the quotes) of updating the AUTHORS file as I personally care more about working code than credits, but thanks for the suggestion! 😄 😃",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,158,2016-10-24T15:56:03Z,2017-08-28T12:16:06Z,2017-08-28T19:37:43Z,CLOSED,False,15,1,1,https://github.com/malc0mn,Check for multiple tunnels before updating ipsec config,1,[],https://github.com/openvswitch/ovs/pull/158,https://github.com/ansisatteka,5,https://github.com/openvswitch/ovs/pull/158#issuecomment-320780421,"First of all:
I'm fully aware that ipsec support has been depricated in 2.6. Since we're still running on 2.4 and need an intermediate fix before the migration to 2.6 can be completed, we decided to write this patch and submit it to the community so that anyone can benefit from it.
The issue we fixed:
When updating ipsec config, we need to make sure the LAST tunnel between two hosts is being deleted before actually modifying the racoon, psk.txt etc. files. Failing to do this properly will cause other perfectly functional tunnels to break which is obviously not what we want to happen...
A practical example:
$ ovs-vsctl show
0c7401c0-d716-450e-b8c4-79502495a68d
    Bridge ""matProPro""
        fail_mode: secure
        Port ""matProPro""
            Interface ""matProPro""
                type: internal
        Port ""0f2a3424d6b9-e""
            Interface ""0f2a3424d6b9-e""
        Port ""ipsec_gre_22890""
            Interface ""ipsec_gre_22890""
                type: ipsec_gre
                options: {key=""22890"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""0f2a3424d6b9-i""
            Interface ""0f2a3424d6b9-i""
    Bridge ""matTunPro""
        fail_mode: secure
        Port ""05fa093607ea-i""
            Interface ""05fa093607ea-i""
        Port ""ipsec_gre_34169""
            Interface ""ipsec_gre_34169""
                type: ipsec_gre
                options: {key=""34169"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""matTunPro""
            Interface ""matTunPro""
                type: internal
        Port ""05fa093607ea-e""
            Interface ""05fa093607ea-e""
    Bridge ""mvJusPro""
        fail_mode: secure
        Port ""ipsec_gre_82325""
            Interface ""ipsec_gre_82325""
                type: ipsec_gre
                options: {key=""82325"", psk=""29340a19a97a3ead33653380aa997242ce677a2c"", remote_ip=""128.167.23.88""}
        Port ""mvJusPro""
            Interface ""mvJusPro""
                type: internal
    ovs_version: ""2.4.0""

As you can see, there are two (2) tunnels to 10.129.5.16 that use the same psk 360e84a779e951be5a0b0705f3222b0600a991b3 but a different key (22890 and 34169).
Everything is fully operational: all traffic is flowing as it should.
Now, if you would delete bridge matProPro or port ipsec_gre_22890 for whatever reason (cleanup, ...), the result before this patch would be that both of these tunnels break!
The reason for this is that the OVS ipsec monitor does not take the possibility of multiple tunnels between the same hosts into account.
Multiple ipsec tunnels between the same host must use the same PSK but should use a different key for traffic separation to the proper bridge.
The patch proposed here will take care of handling the multiple tunnel possibility and only clean up when the last tunnel between two hosts is being removed.","@malc0mn I sent you a private email but I believe it may not have reached you.
Would you mind to provide your real first and last name in Signed-off-by lane (you have ""Signed-off-by: malc0mn malc0mn@advalvas.be""). We ask contributors to do this for licensing and code origin reasons. Note that Linux Kernel has similar policy where usage of pseudonyms is not allowed (https://www.kernel.org/doc/html/v4.12/process/submitting-patches.html).",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,158,2016-10-24T15:56:03Z,2017-08-28T12:16:06Z,2017-08-28T19:37:43Z,CLOSED,False,15,1,1,https://github.com/malc0mn,Check for multiple tunnels before updating ipsec config,1,[],https://github.com/openvswitch/ovs/pull/158,https://github.com/malc0mn,6,https://github.com/openvswitch/ovs/pull/158#issuecomment-325337386,"First of all:
I'm fully aware that ipsec support has been depricated in 2.6. Since we're still running on 2.4 and need an intermediate fix before the migration to 2.6 can be completed, we decided to write this patch and submit it to the community so that anyone can benefit from it.
The issue we fixed:
When updating ipsec config, we need to make sure the LAST tunnel between two hosts is being deleted before actually modifying the racoon, psk.txt etc. files. Failing to do this properly will cause other perfectly functional tunnels to break which is obviously not what we want to happen...
A practical example:
$ ovs-vsctl show
0c7401c0-d716-450e-b8c4-79502495a68d
    Bridge ""matProPro""
        fail_mode: secure
        Port ""matProPro""
            Interface ""matProPro""
                type: internal
        Port ""0f2a3424d6b9-e""
            Interface ""0f2a3424d6b9-e""
        Port ""ipsec_gre_22890""
            Interface ""ipsec_gre_22890""
                type: ipsec_gre
                options: {key=""22890"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""0f2a3424d6b9-i""
            Interface ""0f2a3424d6b9-i""
    Bridge ""matTunPro""
        fail_mode: secure
        Port ""05fa093607ea-i""
            Interface ""05fa093607ea-i""
        Port ""ipsec_gre_34169""
            Interface ""ipsec_gre_34169""
                type: ipsec_gre
                options: {key=""34169"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""matTunPro""
            Interface ""matTunPro""
                type: internal
        Port ""05fa093607ea-e""
            Interface ""05fa093607ea-e""
    Bridge ""mvJusPro""
        fail_mode: secure
        Port ""ipsec_gre_82325""
            Interface ""ipsec_gre_82325""
                type: ipsec_gre
                options: {key=""82325"", psk=""29340a19a97a3ead33653380aa997242ce677a2c"", remote_ip=""128.167.23.88""}
        Port ""mvJusPro""
            Interface ""mvJusPro""
                type: internal
    ovs_version: ""2.4.0""

As you can see, there are two (2) tunnels to 10.129.5.16 that use the same psk 360e84a779e951be5a0b0705f3222b0600a991b3 but a different key (22890 and 34169).
Everything is fully operational: all traffic is flowing as it should.
Now, if you would delete bridge matProPro or port ipsec_gre_22890 for whatever reason (cleanup, ...), the result before this patch would be that both of these tunnels break!
The reason for this is that the OVS ipsec monitor does not take the possibility of multiple tunnels between the same hosts into account.
Multiple ipsec tunnels between the same host must use the same PSK but should use a different key for traffic separation to the proper bridge.
The patch proposed here will take care of handling the multiple tunnel possibility and only clean up when the last tunnel between two hosts is being removed.","@ansisatteka while I perfectly understand the policy (which I did not read before submitting a patch as I should have), I respectfully decline to provide my personal details for privacy reasons which are far more precious to me than credits.
So I'm closing this merge request as I am unable to comply with the policy and therefore simply cannot contribute (which I could have known up front).
Apologies for wasting your time ;-)
Cheers,
mlc.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,158,2016-10-24T15:56:03Z,2017-08-28T12:16:06Z,2017-08-28T19:37:43Z,CLOSED,False,15,1,1,https://github.com/malc0mn,Check for multiple tunnels before updating ipsec config,1,[],https://github.com/openvswitch/ovs/pull/158,https://github.com/blp,7,https://github.com/openvswitch/ovs/pull/158#issuecomment-325439133,"First of all:
I'm fully aware that ipsec support has been depricated in 2.6. Since we're still running on 2.4 and need an intermediate fix before the migration to 2.6 can be completed, we decided to write this patch and submit it to the community so that anyone can benefit from it.
The issue we fixed:
When updating ipsec config, we need to make sure the LAST tunnel between two hosts is being deleted before actually modifying the racoon, psk.txt etc. files. Failing to do this properly will cause other perfectly functional tunnels to break which is obviously not what we want to happen...
A practical example:
$ ovs-vsctl show
0c7401c0-d716-450e-b8c4-79502495a68d
    Bridge ""matProPro""
        fail_mode: secure
        Port ""matProPro""
            Interface ""matProPro""
                type: internal
        Port ""0f2a3424d6b9-e""
            Interface ""0f2a3424d6b9-e""
        Port ""ipsec_gre_22890""
            Interface ""ipsec_gre_22890""
                type: ipsec_gre
                options: {key=""22890"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""0f2a3424d6b9-i""
            Interface ""0f2a3424d6b9-i""
    Bridge ""matTunPro""
        fail_mode: secure
        Port ""05fa093607ea-i""
            Interface ""05fa093607ea-i""
        Port ""ipsec_gre_34169""
            Interface ""ipsec_gre_34169""
                type: ipsec_gre
                options: {key=""34169"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""matTunPro""
            Interface ""matTunPro""
                type: internal
        Port ""05fa093607ea-e""
            Interface ""05fa093607ea-e""
    Bridge ""mvJusPro""
        fail_mode: secure
        Port ""ipsec_gre_82325""
            Interface ""ipsec_gre_82325""
                type: ipsec_gre
                options: {key=""82325"", psk=""29340a19a97a3ead33653380aa997242ce677a2c"", remote_ip=""128.167.23.88""}
        Port ""mvJusPro""
            Interface ""mvJusPro""
                type: internal
    ovs_version: ""2.4.0""

As you can see, there are two (2) tunnels to 10.129.5.16 that use the same psk 360e84a779e951be5a0b0705f3222b0600a991b3 but a different key (22890 and 34169).
Everything is fully operational: all traffic is flowing as it should.
Now, if you would delete bridge matProPro or port ipsec_gre_22890 for whatever reason (cleanup, ...), the result before this patch would be that both of these tunnels break!
The reason for this is that the OVS ipsec monitor does not take the possibility of multiple tunnels between the same hosts into account.
Multiple ipsec tunnels between the same host must use the same PSK but should use a different key for traffic separation to the proper bridge.
The patch proposed here will take care of handling the multiple tunnel possibility and only clean up when the last tunnel between two hosts is being removed.","It's not about ""credit"", although we like to provide credit to contributors.  It's about having some idea of where code is coming from.  In an open source or free software project, it's difficult to be sure that contributions are coming from people who are authorized to contribute them, and it's even more difficult when the people who contribute them won't even tell you who they are.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,158,2016-10-24T15:56:03Z,2017-08-28T12:16:06Z,2017-08-28T19:37:43Z,CLOSED,False,15,1,1,https://github.com/malc0mn,Check for multiple tunnels before updating ipsec config,1,[],https://github.com/openvswitch/ovs/pull/158,https://github.com/malc0mn,8,https://github.com/openvswitch/ovs/pull/158#issuecomment-325456466,"First of all:
I'm fully aware that ipsec support has been depricated in 2.6. Since we're still running on 2.4 and need an intermediate fix before the migration to 2.6 can be completed, we decided to write this patch and submit it to the community so that anyone can benefit from it.
The issue we fixed:
When updating ipsec config, we need to make sure the LAST tunnel between two hosts is being deleted before actually modifying the racoon, psk.txt etc. files. Failing to do this properly will cause other perfectly functional tunnels to break which is obviously not what we want to happen...
A practical example:
$ ovs-vsctl show
0c7401c0-d716-450e-b8c4-79502495a68d
    Bridge ""matProPro""
        fail_mode: secure
        Port ""matProPro""
            Interface ""matProPro""
                type: internal
        Port ""0f2a3424d6b9-e""
            Interface ""0f2a3424d6b9-e""
        Port ""ipsec_gre_22890""
            Interface ""ipsec_gre_22890""
                type: ipsec_gre
                options: {key=""22890"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""0f2a3424d6b9-i""
            Interface ""0f2a3424d6b9-i""
    Bridge ""matTunPro""
        fail_mode: secure
        Port ""05fa093607ea-i""
            Interface ""05fa093607ea-i""
        Port ""ipsec_gre_34169""
            Interface ""ipsec_gre_34169""
                type: ipsec_gre
                options: {key=""34169"", psk=""360e84a779e951be5a0b0705f3222b0600a991b3"", remote_ip=""10.129.5.16""}
        Port ""matTunPro""
            Interface ""matTunPro""
                type: internal
        Port ""05fa093607ea-e""
            Interface ""05fa093607ea-e""
    Bridge ""mvJusPro""
        fail_mode: secure
        Port ""ipsec_gre_82325""
            Interface ""ipsec_gre_82325""
                type: ipsec_gre
                options: {key=""82325"", psk=""29340a19a97a3ead33653380aa997242ce677a2c"", remote_ip=""128.167.23.88""}
        Port ""mvJusPro""
            Interface ""mvJusPro""
                type: internal
    ovs_version: ""2.4.0""

As you can see, there are two (2) tunnels to 10.129.5.16 that use the same psk 360e84a779e951be5a0b0705f3222b0600a991b3 but a different key (22890 and 34169).
Everything is fully operational: all traffic is flowing as it should.
Now, if you would delete bridge matProPro or port ipsec_gre_22890 for whatever reason (cleanup, ...), the result before this patch would be that both of these tunnels break!
The reason for this is that the OVS ipsec monitor does not take the possibility of multiple tunnels between the same hosts into account.
Multiple ipsec tunnels between the same host must use the same PSK but should use a different key for traffic separation to the proper bridge.
The patch proposed here will take care of handling the multiple tunnel possibility and only clean up when the last tunnel between two hosts is being removed.","@blp As I clearly stated in my comment: I perfectly understand your policy which I should have read before submitting the patch. I simply cannot comply with the Developer’s Certificate of Origin which would have caused me not to contribute in the first place, had I read the policy before submitting this patch.
I could have also lied and changed the committer name to, say, Jules Vanderbilt or whatever looks like a plausible name. But that's just not done IMHO.
Hence again, my apologies for wasting your time (not mine, as I learned a lot simply by creating this patch ;) ).
mlc.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,159,2016-11-02T17:22:54Z,2016-11-02T17:29:13Z,2016-11-02T17:29:13Z,CLOSED,False,6012,3419,177,https://github.com/justbiaoliu,OVSDB-T,185,[],https://github.com/openvswitch/ovs/pull/159,https://github.com/justbiaoliu,1,https://github.com/openvswitch/ovs/pull/159,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,159,2016-11-02T17:22:54Z,2016-11-02T17:29:13Z,2016-11-02T17:29:13Z,CLOSED,False,6012,3419,177,https://github.com/justbiaoliu,OVSDB-T,185,[],https://github.com/openvswitch/ovs/pull/159,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/159#issuecomment-257938045,,"Merging branch-2.6 into master doesn't make sense, so closing this out.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,160,2016-11-03T02:41:37Z,2016-11-03T19:00:06Z,2016-11-03T19:00:06Z,CLOSED,False,2,2,1,https://github.com/genevieve,Correct references to env7 packet scripts,1,[],https://github.com/openvswitch/ovs/pull/160,https://github.com/genevieve,1,https://github.com/openvswitch/ovs/pull/160,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,160,2016-11-03T02:41:37Z,2016-11-03T19:00:06Z,2016-11-03T19:00:06Z,CLOSED,False,2,2,1,https://github.com/genevieve,Correct references to env7 packet scripts,1,[],https://github.com/openvswitch/ovs/pull/160,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/160#issuecomment-258131628,,Thanks for the patch!  Can you update the commit message to include a Signed-off-by header?  See the CONTRIBUTING.rst file for more information about the meaning of this header.  Thanks!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,160,2016-11-03T02:41:37Z,2016-11-03T19:00:06Z,2016-11-03T19:00:06Z,CLOSED,False,2,2,1,https://github.com/genevieve,Correct references to env7 packet scripts,1,[],https://github.com/openvswitch/ovs/pull/160,https://github.com/genevieve,3,https://github.com/openvswitch/ovs/pull/160#issuecomment-258238002,,@russellb Updated the commit. Let me know if there's anything else!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,160,2016-11-03T02:41:37Z,2016-11-03T19:00:06Z,2016-11-03T19:00:06Z,CLOSED,False,2,2,1,https://github.com/genevieve,Correct references to env7 packet scripts,1,[],https://github.com/openvswitch/ovs/pull/160,https://github.com/russellb,4,https://github.com/openvswitch/ovs/pull/160#issuecomment-258241632,,"I added your name to the AUTHORS file and applied this patch to master.
By the way, if you're looking at OVN tutorial information, you might find this blog series interesting as well if you haven't seen it: http://blog.spinhirne.com/p/blog-series.html#introToOVN",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,161,2016-11-05T09:57:03Z,2016-11-06T18:18:04Z,2016-11-06T18:18:04Z,CLOSED,False,2,0,2,https://github.com/justbiaoliu,Create try.txt,2,[],https://github.com/openvswitch/ovs/pull/161,https://github.com/justbiaoliu,1,https://github.com/openvswitch/ovs/pull/161,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,162,2016-11-10T08:34:35Z,2016-11-11T16:10:05Z,2016-11-11T16:10:05Z,CLOSED,False,1,0,1,https://github.com/gwind,python-six is required in the build process,1,[],https://github.com/openvswitch/ovs/pull/162,https://github.com/gwind,1,https://github.com/openvswitch/ovs/pull/162,"the build error log is:
Traceback (most recent call last):
Traceback (most recent call last):
  File ""./ovsdb/ovsdb-idlc.in"", line 8, in <module>
    import ovs.json
  File ""/root/rpmbuild/BUILD/openvswitch-2.6.1/python/ovs/json.py"", line 21, in <module>
    import six
ImportError: No module named six

Signed-off-by: Jian Li lijian@ooclab.com","the build error log is:
Traceback (most recent call last):
Traceback (most recent call last):
  File ""./ovsdb/ovsdb-idlc.in"", line 8, in <module>
    import ovs.json
  File ""/root/rpmbuild/BUILD/openvswitch-2.6.1/python/ovs/json.py"", line 21, in <module>
    import six
ImportError: No module named six

Signed-off-by: Jian Li lijian@ooclab.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,162,2016-11-10T08:34:35Z,2016-11-11T16:10:05Z,2016-11-11T16:10:05Z,CLOSED,False,1,0,1,https://github.com/gwind,python-six is required in the build process,1,[],https://github.com/openvswitch/ovs/pull/162,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/162#issuecomment-259720757,"the build error log is:
Traceback (most recent call last):
Traceback (most recent call last):
  File ""./ovsdb/ovsdb-idlc.in"", line 8, in <module>
    import ovs.json
  File ""/root/rpmbuild/BUILD/openvswitch-2.6.1/python/ovs/json.py"", line 21, in <module>
    import six
ImportError: No module named six

Signed-off-by: Jian Li lijian@ooclab.com",Can you please add a Signed-off-by header to your commit message?  Please see the CONTRIBUTING.rst file for more information about the meaning of this header.  Thanks!,True,{'LAUGH': ['https://github.com/gwind']}
openvswitch/ovs,https://github.com/openvswitch/ovs,162,2016-11-10T08:34:35Z,2016-11-11T16:10:05Z,2016-11-11T16:10:05Z,CLOSED,False,1,0,1,https://github.com/gwind,python-six is required in the build process,1,[],https://github.com/openvswitch/ovs/pull/162,https://github.com/gwind,3,https://github.com/openvswitch/ovs/pull/162#issuecomment-259890160,"the build error log is:
Traceback (most recent call last):
Traceback (most recent call last):
  File ""./ovsdb/ovsdb-idlc.in"", line 8, in <module>
    import ovs.json
  File ""/root/rpmbuild/BUILD/openvswitch-2.6.1/python/ovs/json.py"", line 21, in <module>
    import six
ImportError: No module named six

Signed-off-by: Jian Li lijian@ooclab.com","@russellb  , thanks
Add a Signed-off-by into comment",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,162,2016-11-10T08:34:35Z,2016-11-11T16:10:05Z,2016-11-11T16:10:05Z,CLOSED,False,1,0,1,https://github.com/gwind,python-six is required in the build process,1,[],https://github.com/openvswitch/ovs/pull/162,https://github.com/russellb,4,https://github.com/openvswitch/ovs/pull/162#issuecomment-259991343,"the build error log is:
Traceback (most recent call last):
Traceback (most recent call last):
  File ""./ovsdb/ovsdb-idlc.in"", line 8, in <module>
    import ovs.json
  File ""/root/rpmbuild/BUILD/openvswitch-2.6.1/python/ovs/json.py"", line 21, in <module>
    import six
ImportError: No module named six

Signed-off-by: Jian Li lijian@ooclab.com",Thanks for the patch!  I added your name to the AUTHORS file and applied this patch to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,163,2016-12-06T17:43:24Z,2017-07-06T20:31:46Z,2017-07-06T20:31:47Z,CLOSED,False,10,6,1,https://github.com/blp,rconn: Avoid assertion failure if peer fails to send hello.,1,[],https://github.com/openvswitch/ovs/pull/163,https://github.com/blp,1,https://github.com/openvswitch/ovs/pull/163,"If an rconn peer fails to send a hello message, the version number doesn't
get set.  Later, if the peer delays long enough, the rconn attempts to send
an echo request but assert-fails instead because it doesn't know what
version to use.  This fixes the problem.
To reproduce this problem:
make sandbox
ovs-vsctl add-br br0
ovs-vsctl set-controller br0 ptcp:12345
nc 127.0.0.1 12345

and wait 10 seconds for ovs-vswitchd to die.  (Then exit the sandbox.)
Reported-by: 张东亚 fortitude.zhang@gmail.com
Signed-off-by: Ben Pfaff blp@ovn.org","If an rconn peer fails to send a hello message, the version number doesn't
get set.  Later, if the peer delays long enough, the rconn attempts to send
an echo request but assert-fails instead because it doesn't know what
version to use.  This fixes the problem.
To reproduce this problem:
make sandbox
ovs-vsctl add-br br0
ovs-vsctl set-controller br0 ptcp:12345
nc 127.0.0.1 12345

and wait 10 seconds for ovs-vswitchd to die.  (Then exit the sandbox.)
Reported-by: 张东亚 fortitude.zhang@gmail.com
Signed-off-by: Ben Pfaff blp@ovn.org",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,163,2016-12-06T17:43:24Z,2017-07-06T20:31:46Z,2017-07-06T20:31:47Z,CLOSED,False,10,6,1,https://github.com/blp,rconn: Avoid assertion failure if peer fails to send hello.,1,[],https://github.com/openvswitch/ovs/pull/163,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/163#issuecomment-313510901,"If an rconn peer fails to send a hello message, the version number doesn't
get set.  Later, if the peer delays long enough, the rconn attempts to send
an echo request but assert-fails instead because it doesn't know what
version to use.  This fixes the problem.
To reproduce this problem:
make sandbox
ovs-vsctl add-br br0
ovs-vsctl set-controller br0 ptcp:12345
nc 127.0.0.1 12345

and wait 10 seconds for ovs-vswitchd to die.  (Then exit the sandbox.)
Reported-by: 张东亚 fortitude.zhang@gmail.com
Signed-off-by: Ben Pfaff blp@ovn.org",This was committed as commit a203ce6.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,164,2016-12-22T22:23:40Z,2016-12-22T22:28:04Z,2016-12-22T22:28:04Z,CLOSED,False,2492,168,6,https://github.com/doonhammer,Sfc.v21,78,[],https://github.com/openvswitch/ovs/pull/164,https://github.com/doonhammer,1,https://github.com/openvswitch/ovs/pull/164,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,165,2017-01-03T17:59:07Z,2017-01-03T22:50:47Z,2017-01-03T22:50:47Z,MERGED,True,126,0,5,https://github.com/aserdean,datapath-windows: Add Windows 10 family to solution,1,[],https://github.com/openvswitch/ovs/pull/165,https://github.com/aserdean,1,https://github.com/openvswitch/ovs/pull/165,"This patch adds two more compiling targets:

one for Windows 10 release
one for Windows 10 Debug

The new targets are flagged properly to use the new Windows 10 kernel mode
driver and its toolchain.
Signed-off-by: Alin Gabriel Serdean aserdean@cloudbasesolutions.com
Acked-by: Sairam Venugopal vsairam@vmware.com","This patch adds two more compiling targets:

one for Windows 10 release
one for Windows 10 Debug

The new targets are flagged properly to use the new Windows 10 kernel mode
driver and its toolchain.
Signed-off-by: Alin Gabriel Serdean aserdean@cloudbasesolutions.com
Acked-by: Sairam Venugopal vsairam@vmware.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,166,2017-01-18T09:29:39Z,2017-01-18T23:43:47Z,2017-01-18T23:43:47Z,CLOSED,False,7216,3664,209,https://github.com/jerry1001,Branch 2.6,248,[],https://github.com/openvswitch/ovs/pull/166,https://github.com/jerry1001,1,https://github.com/openvswitch/ovs/pull/166,"hi , We have some questions about the openairinterface(lte) and ovs. . Now we are using RYU try to match tunnel id this field, but can't work . Are the openflow tunnel id and GTPv2 teid the same thing? if  yes what can we solve this problem? thanks","hi , We have some questions about the openairinterface(lte) and ovs. . Now we are using RYU try to match tunnel id this field, but can't work . Are the openflow tunnel id and GTPv2 teid the same thing? if  yes what can we solve this problem? thanks",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,166,2017-01-18T09:29:39Z,2017-01-18T23:43:47Z,2017-01-18T23:43:47Z,CLOSED,False,7216,3664,209,https://github.com/jerry1001,Branch 2.6,248,[],https://github.com/openvswitch/ovs/pull/166,https://github.com/shettyg,2,https://github.com/openvswitch/ovs/pull/166#issuecomment-273638066,"hi , We have some questions about the openairinterface(lte) and ovs. . Now we are using RYU try to match tunnel id this field, but can't work . Are the openflow tunnel id and GTPv2 teid the same thing? if  yes what can we solve this problem? thanks",Please use discuss@openvswitch.org for your questions.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,167,2017-02-10T15:34:02Z,2017-02-13T10:28:24Z,2017-02-13T10:28:24Z,CLOSED,False,1,1,1,https://github.com/apevec,rhel: make openvswitch service start return when ready,1,[],https://github.com/openvswitch/ovs/pull/167,https://github.com/apevec,1,https://github.com/openvswitch/ovs/pull/167,"In OVS 2.6 openvswitch systemd service was changed to use BindsTo
instead of Requires for sub-services but also removed them from After
This made main openvswitch service return before sub-services were ready
breaking scripts which assumed everything is ready after systemctl start
e.g. in OpenStack CI infra [1] is calling ovs-vsctl immediately after
service start exposing a race in virtualized CI environment:
2017-02-09T23:11:12.498Z|00007|bridge|INFO|ovs-vswitchd (Open vSwitch) 2.6.1
but ovs-ctl tried to access it few msec too early:
2017-02-09 23:11:12.352493 | ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
Solution is to add ordering dependencies, BindsTo/Requires do not ensure it [2]
Fixes: 84ad120 (""rhel: Improved Systemd Integration"")
[1] https://github.com/openstack-infra/devstack-gate/blob/c435a724bd257b22a2e39e8e9125c11302a8c81d/functions.sh#L1057-L1078
[2] https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Requires=
Signed-off-by: Alan Pevec alan.pevec@redhat.com
Reviewed-by: Aaron Conole aconole@redhat.com","In OVS 2.6 openvswitch systemd service was changed to use BindsTo
instead of Requires for sub-services but also removed them from After
This made main openvswitch service return before sub-services were ready
breaking scripts which assumed everything is ready after systemctl start
e.g. in OpenStack CI infra [1] is calling ovs-vsctl immediately after
service start exposing a race in virtualized CI environment:
2017-02-09T23:11:12.498Z|00007|bridge|INFO|ovs-vswitchd (Open vSwitch) 2.6.1
but ovs-ctl tried to access it few msec too early:
2017-02-09 23:11:12.352493 | ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
Solution is to add ordering dependencies, BindsTo/Requires do not ensure it [2]
Fixes: 84ad120 (""rhel: Improved Systemd Integration"")
[1] https://github.com/openstack-infra/devstack-gate/blob/c435a724bd257b22a2e39e8e9125c11302a8c81d/functions.sh#L1057-L1078
[2] https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Requires=
Signed-off-by: Alan Pevec alan.pevec@redhat.com
Reviewed-by: Aaron Conole aconole@redhat.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,167,2017-02-10T15:34:02Z,2017-02-13T10:28:24Z,2017-02-13T10:28:24Z,CLOSED,False,1,1,1,https://github.com/apevec,rhel: make openvswitch service start return when ready,1,[],https://github.com/openvswitch/ovs/pull/167,https://github.com/EmilienM,2,https://github.com/openvswitch/ovs/pull/167#issuecomment-278979924,"In OVS 2.6 openvswitch systemd service was changed to use BindsTo
instead of Requires for sub-services but also removed them from After
This made main openvswitch service return before sub-services were ready
breaking scripts which assumed everything is ready after systemctl start
e.g. in OpenStack CI infra [1] is calling ovs-vsctl immediately after
service start exposing a race in virtualized CI environment:
2017-02-09T23:11:12.498Z|00007|bridge|INFO|ovs-vswitchd (Open vSwitch) 2.6.1
but ovs-ctl tried to access it few msec too early:
2017-02-09 23:11:12.352493 | ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
Solution is to add ordering dependencies, BindsTo/Requires do not ensure it [2]
Fixes: 84ad120 (""rhel: Improved Systemd Integration"")
[1] https://github.com/openstack-infra/devstack-gate/blob/c435a724bd257b22a2e39e8e9125c11302a8c81d/functions.sh#L1057-L1078
[2] https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Requires=
Signed-off-by: Alan Pevec alan.pevec@redhat.com
Reviewed-by: Aaron Conole aconole@redhat.com",👍,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,167,2017-02-10T15:34:02Z,2017-02-13T10:28:24Z,2017-02-13T10:28:24Z,CLOSED,False,1,1,1,https://github.com/apevec,rhel: make openvswitch service start return when ready,1,[],https://github.com/openvswitch/ovs/pull/167,https://github.com/orgcandman,3,https://github.com/openvswitch/ovs/pull/167#issuecomment-279000804,"In OVS 2.6 openvswitch systemd service was changed to use BindsTo
instead of Requires for sub-services but also removed them from After
This made main openvswitch service return before sub-services were ready
breaking scripts which assumed everything is ready after systemctl start
e.g. in OpenStack CI infra [1] is calling ovs-vsctl immediately after
service start exposing a race in virtualized CI environment:
2017-02-09T23:11:12.498Z|00007|bridge|INFO|ovs-vswitchd (Open vSwitch) 2.6.1
but ovs-ctl tried to access it few msec too early:
2017-02-09 23:11:12.352493 | ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
Solution is to add ordering dependencies, BindsTo/Requires do not ensure it [2]
Fixes: 84ad120 (""rhel: Improved Systemd Integration"")
[1] https://github.com/openstack-infra/devstack-gate/blob/c435a724bd257b22a2e39e8e9125c11302a8c81d/functions.sh#L1057-L1078
[2] https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Requires=
Signed-off-by: Alan Pevec alan.pevec@redhat.com
Reviewed-by: Aaron Conole aconole@redhat.com","Looks correct to me, sorry for this.
Please read the contributing guide, and submit this in accordance to dev@openvswitch.org - specifically, you'll need to add your Signed-off-by tag, add 'Reviewed-by: Aaron Conole <aconole@redhat.com>', and rewrite [1] to be 'Fixes: 84ad120 (""rhel: Improved Systemd Integration"")'.
Thanks for the report.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,167,2017-02-10T15:34:02Z,2017-02-13T10:28:24Z,2017-02-13T10:28:24Z,CLOSED,False,1,1,1,https://github.com/apevec,rhel: make openvswitch service start return when ready,1,[],https://github.com/openvswitch/ovs/pull/167,https://github.com/apevec,4,https://github.com/openvswitch/ovs/pull/167#issuecomment-279184732,"In OVS 2.6 openvswitch systemd service was changed to use BindsTo
instead of Requires for sub-services but also removed them from After
This made main openvswitch service return before sub-services were ready
breaking scripts which assumed everything is ready after systemctl start
e.g. in OpenStack CI infra [1] is calling ovs-vsctl immediately after
service start exposing a race in virtualized CI environment:
2017-02-09T23:11:12.498Z|00007|bridge|INFO|ovs-vswitchd (Open vSwitch) 2.6.1
but ovs-ctl tried to access it few msec too early:
2017-02-09 23:11:12.352493 | ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
Solution is to add ordering dependencies, BindsTo/Requires do not ensure it [2]
Fixes: 84ad120 (""rhel: Improved Systemd Integration"")
[1] https://github.com/openstack-infra/devstack-gate/blob/c435a724bd257b22a2e39e8e9125c11302a8c81d/functions.sh#L1057-L1078
[2] https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Requires=
Signed-off-by: Alan Pevec alan.pevec@redhat.com
Reviewed-by: Aaron Conole aconole@redhat.com","@orgcandman I've posted the patch https://mail.openvswitch.org/pipermail/ovs-dev/2017-February/328753.html
Should I close this PR now?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,167,2017-02-10T15:34:02Z,2017-02-13T10:28:24Z,2017-02-13T10:28:24Z,CLOSED,False,1,1,1,https://github.com/apevec,rhel: make openvswitch service start return when ready,1,[],https://github.com/openvswitch/ovs/pull/167,https://github.com/orgcandman,5,https://github.com/openvswitch/ovs/pull/167#issuecomment-279206147,"In OVS 2.6 openvswitch systemd service was changed to use BindsTo
instead of Requires for sub-services but also removed them from After
This made main openvswitch service return before sub-services were ready
breaking scripts which assumed everything is ready after systemctl start
e.g. in OpenStack CI infra [1] is calling ovs-vsctl immediately after
service start exposing a race in virtualized CI environment:
2017-02-09T23:11:12.498Z|00007|bridge|INFO|ovs-vswitchd (Open vSwitch) 2.6.1
but ovs-ctl tried to access it few msec too early:
2017-02-09 23:11:12.352493 | ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
Solution is to add ordering dependencies, BindsTo/Requires do not ensure it [2]
Fixes: 84ad120 (""rhel: Improved Systemd Integration"")
[1] https://github.com/openstack-infra/devstack-gate/blob/c435a724bd257b22a2e39e8e9125c11302a8c81d/functions.sh#L1057-L1078
[2] https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Requires=
Signed-off-by: Alan Pevec alan.pevec@redhat.com
Reviewed-by: Aaron Conole aconole@redhat.com","Yep, thanks!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,168,2017-02-11T16:11:54Z,2017-07-06T15:24:14Z,2017-07-06T15:24:15Z,CLOSED,False,0,0,0,https://github.com/hanxueluo,dpdk: postpone dpdk_init,0,[],https://github.com/openvswitch/ovs/pull/168,https://github.com/hanxueluo,1,https://github.com/openvswitch/ovs/pull/168,"Currently, dpdk_init takes a long time and system datapath keeps
disconnecting during dpdk_init on ovs restart. Put bridge_reconfigure()
in front of dpdk_init() so that system datapath works immediately,
and dpdk datapath works on next iteration of bridge_run()
Signed-off-by: Huanle Han hanxueluo@gmail.com","Currently, dpdk_init takes a long time and system datapath keeps
disconnecting during dpdk_init on ovs restart. Put bridge_reconfigure()
in front of dpdk_init() so that system datapath works immediately,
and dpdk datapath works on next iteration of bridge_run()
Signed-off-by: Huanle Han hanxueluo@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,169,2017-02-24T15:11:58Z,,2019-11-22T17:27:15Z,OPEN,False,68,49,4,https://github.com/gmmephisto,fedora: multi-flavor support in kmod rpm spec,3,[],https://github.com/openvswitch/ovs/pull/169,https://github.com/gmmephisto,1,https://github.com/openvswitch/ovs/pull/169,"What's new:

added support for building kmod in isolated environment (in chroot using mock)
added ability to build kmod for several kernel flavors (can be specified with -D 'kflavors default ...')

Fixes:

fix incorrect override command in depmod config:


before:
override * * extra
override * * weak-updates



after:
override vport-gre * extra/openvswitch
override vport-gre * weak-updates/openvswitch
override vport-lisp * extra/openvswitch
override vport-lisp * weak-updates/openvswitch
override openvswitch * extra/openvswitch
override openvswitch * weak-updates/openvswitch
override vport-geneve * extra/openvswitch
override vport-geneve * weak-updates/openvswitch
override vport-vxlan * extra/openvswitch
override vport-vxlan * weak-updates/openvswitch
override vport-stt * extra/openvswitch
override vport-stt * weak-updates/openvswitch




fix mixed tabs and spaces in spec file","What's new:

added support for building kmod in isolated environment (in chroot using mock)
added ability to build kmod for several kernel flavors (can be specified with -D 'kflavors default ...')

Fixes:

fix incorrect override command in depmod config:


before:
override * * extra
override * * weak-updates



after:
override vport-gre * extra/openvswitch
override vport-gre * weak-updates/openvswitch
override vport-lisp * extra/openvswitch
override vport-lisp * weak-updates/openvswitch
override openvswitch * extra/openvswitch
override openvswitch * weak-updates/openvswitch
override vport-geneve * extra/openvswitch
override vport-geneve * weak-updates/openvswitch
override vport-vxlan * extra/openvswitch
override vport-vxlan * weak-updates/openvswitch
override vport-stt * extra/openvswitch
override vport-stt * weak-updates/openvswitch




fix mixed tabs and spaces in spec file",True,{'THUMBS_UP': ['https://github.com/xuanyuanaosheng']}
openvswitch/ovs,https://github.com/openvswitch/ovs,169,2017-02-24T15:11:58Z,,2019-11-22T17:27:15Z,OPEN,False,68,49,4,https://github.com/gmmephisto,fedora: multi-flavor support in kmod rpm spec,3,[],https://github.com/openvswitch/ovs/pull/169,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/169#issuecomment-316869007,"What's new:

added support for building kmod in isolated environment (in chroot using mock)
added ability to build kmod for several kernel flavors (can be specified with -D 'kflavors default ...')

Fixes:

fix incorrect override command in depmod config:


before:
override * * extra
override * * weak-updates



after:
override vport-gre * extra/openvswitch
override vport-gre * weak-updates/openvswitch
override vport-lisp * extra/openvswitch
override vport-lisp * weak-updates/openvswitch
override openvswitch * extra/openvswitch
override openvswitch * weak-updates/openvswitch
override vport-geneve * extra/openvswitch
override vport-geneve * weak-updates/openvswitch
override vport-vxlan * extra/openvswitch
override vport-vxlan * weak-updates/openvswitch
override vport-stt * extra/openvswitch
override vport-stt * weak-updates/openvswitch




fix mixed tabs and spaces in spec file",@leifmadsen would you like to try this out?  I figured you might be interested in the mock support.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,169,2017-02-24T15:11:58Z,,2019-11-22T17:27:15Z,OPEN,False,68,49,4,https://github.com/gmmephisto,fedora: multi-flavor support in kmod rpm spec,3,[],https://github.com/openvswitch/ovs/pull/169,https://github.com/russellb,3,https://github.com/openvswitch/ovs/pull/169#issuecomment-316870015,"What's new:

added support for building kmod in isolated environment (in chroot using mock)
added ability to build kmod for several kernel flavors (can be specified with -D 'kflavors default ...')

Fixes:

fix incorrect override command in depmod config:


before:
override * * extra
override * * weak-updates



after:
override vport-gre * extra/openvswitch
override vport-gre * weak-updates/openvswitch
override vport-lisp * extra/openvswitch
override vport-lisp * weak-updates/openvswitch
override openvswitch * extra/openvswitch
override openvswitch * weak-updates/openvswitch
override vport-geneve * extra/openvswitch
override vport-geneve * weak-updates/openvswitch
override vport-vxlan * extra/openvswitch
override vport-vxlan * weak-updates/openvswitch
override vport-stt * extra/openvswitch
override vport-stt * weak-updates/openvswitch




fix mixed tabs and spaces in spec file","I got this error on my first try building this on Fedora:

line 29: Dependency tokens must begin with alpha-numeric, '_' or '/': BuildRequires: %kernel_module_package_buildreqs

What am I missing?  My first google hit made it sound like this may be a SuSE thing perhaps?  Where are you running this?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,170,2017-03-03T07:14:01Z,2017-03-12T04:00:23Z,2017-03-12T04:01:17Z,CLOSED,False,2,2,1,https://github.com/zhouyangchao,id-pool: Fix allocation overflow and the leak of the first id,3,[],https://github.com/openvswitch/ovs/pull/170,https://github.com/zhouyangchao,1,https://github.com/openvswitch/ovs/pull/170,"id_pool_alloc_id() could always allocate (pool->n_ids + 1) ids rather than pool->n_ids ids, it worked well while pool->n_ids = 0.","id_pool_alloc_id() could always allocate (pool->n_ids + 1) ids rather than pool->n_ids ids, it worked well while pool->n_ids = 0.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,170,2017-03-03T07:14:01Z,2017-03-12T04:00:23Z,2017-03-12T04:01:17Z,CLOSED,False,2,2,1,https://github.com/zhouyangchao,id-pool: Fix allocation overflow and the leak of the first id,3,[],https://github.com/openvswitch/ovs/pull/170,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/170#issuecomment-285220263,"id_pool_alloc_id() could always allocate (pool->n_ids + 1) ids rather than pool->n_ids ids, it worked well while pool->n_ids = 0.",Thanks for the patches.  Would you mind resubmitting without duplicative commits and with commit messages properly wordwrapped at about 75 columns?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,171,2017-03-12T03:59:41Z,2017-07-13T22:51:17Z,2017-07-13T22:51:17Z,CLOSED,False,2,2,1,https://github.com/zhouyangchao,id-pool: Fix allocation overflow and the leak of the first ID.,1,[],https://github.com/openvswitch/ovs/pull/171,https://github.com/zhouyangchao,1,https://github.com/openvswitch/ovs/pull/171,"The range of IDs should be [base, base + n_ids),
but id_pool_alloc_id() allocated the range of IDs is [base, base + n_ids].
And id_pool_free_id() cannot free the ID value base correctly.
Signed-off-by: Yangchao Zhou zhouyates@gmail.com","The range of IDs should be [base, base + n_ids),
but id_pool_alloc_id() allocated the range of IDs is [base, base + n_ids].
And id_pool_free_id() cannot free the ID value base correctly.
Signed-off-by: Yangchao Zhou zhouyates@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,171,2017-03-12T03:59:41Z,2017-07-13T22:51:17Z,2017-07-13T22:51:17Z,CLOSED,False,2,2,1,https://github.com/zhouyangchao,id-pool: Fix allocation overflow and the leak of the first ID.,1,[],https://github.com/openvswitch/ovs/pull/171,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/171#issuecomment-313513036,"The range of IDs should be [base, base + n_ids),
but id_pool_alloc_id() allocated the range of IDs is [base, base + n_ids].
And id_pool_free_id() cannot free the ID value base correctly.
Signed-off-by: Yangchao Zhou zhouyates@gmail.com","I apologize for the unacceptably long time to review.
This looks like a useful bug fix to me.  Thank you.  Can you provide a Signed-off-by to allow us to apply it to the repository?
Thanks,
Ben.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,171,2017-03-12T03:59:41Z,2017-07-13T22:51:17Z,2017-07-13T22:51:17Z,CLOSED,False,2,2,1,https://github.com/zhouyangchao,id-pool: Fix allocation overflow and the leak of the first ID.,1,[],https://github.com/openvswitch/ovs/pull/171,https://github.com/zhouyangchao,3,https://github.com/openvswitch/ovs/pull/171#issuecomment-313828071,"The range of IDs should be [base, base + n_ids),
but id_pool_alloc_id() allocated the range of IDs is [base, base + n_ids].
And id_pool_free_id() cannot free the ID value base correctly.
Signed-off-by: Yangchao Zhou zhouyates@gmail.com","@blp , thanks!
I added a Signed-off-by into the comment.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,171,2017-03-12T03:59:41Z,2017-07-13T22:51:17Z,2017-07-13T22:51:17Z,CLOSED,False,2,2,1,https://github.com/zhouyangchao,id-pool: Fix allocation overflow and the leak of the first ID.,1,[],https://github.com/openvswitch/ovs/pull/171,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/171#issuecomment-315223223,"The range of IDs should be [base, base + n_ids),
but id_pool_alloc_id() allocated the range of IDs is [base, base + n_ids].
And id_pool_free_id() cannot free the ID value base correctly.
Signed-off-by: Yangchao Zhou zhouyates@gmail.com",Thanks.  I applied this to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,172,2017-03-20T19:17:33Z,2017-03-20T19:46:50Z,2017-03-20T19:46:51Z,CLOSED,False,5,2,2,https://github.com/kraj,Fix build with musl libc,2,[],https://github.com/openvswitch/ovs/pull/172,https://github.com/kraj,1,https://github.com/openvswitch/ovs/pull/172,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,172,2017-03-20T19:17:33Z,2017-03-20T19:46:50Z,2017-03-20T19:46:51Z,CLOSED,False,5,2,2,https://github.com/kraj,Fix build with musl libc,2,[],https://github.com/openvswitch/ovs/pull/172,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/172#issuecomment-287876244,,"Thank you for the patches.
I applied the one for WAIT_ANY to master, although I changed to just use -1 literally instead of conditionally defining WAIT_ANY.
The other patch would break RHEL 6.1: see commit 55bc98d.  If you can suggest a way to support both, then that would be welcome.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,173,2017-03-22T19:20:31Z,2017-03-30T17:24:55Z,2017-03-30T17:24:55Z,CLOSED,False,4373,1649,198,https://github.com/JKAK47,Branch 2.3,311,[],https://github.com/openvswitch/ovs/pull/173,https://github.com/JKAK47,1,https://github.com/openvswitch/ovs/pull/173,how to uninstall openvSwitch,how to uninstall openvSwitch,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,173,2017-03-22T19:20:31Z,2017-03-30T17:24:55Z,2017-03-30T17:24:55Z,CLOSED,False,4373,1649,198,https://github.com/JKAK47,Branch 2.3,311,[],https://github.com/openvswitch/ovs/pull/173,https://github.com/joestringer,2,https://github.com/openvswitch/ovs/pull/173#issuecomment-290481898,how to uninstall openvSwitch,This doesn't make any sense.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,174,2017-03-26T05:04:14Z,2017-07-21T00:37:13Z,2017-09-17T23:16:15Z,CLOSED,False,12,0,1,https://github.com/zakinko,rhel: Fix rpmbuild error on CentOS 6.8,1,[],https://github.com/openvswitch/ovs/pull/174,https://github.com/zakinko,1,https://github.com/openvswitch/ovs/pull/174,Add support for RHEL6.8 which uses an old version of kernel with some new features backported.,Add support for RHEL6.8 which uses an old version of kernel with some new features backported.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,174,2017-03-26T05:04:14Z,2017-07-21T00:37:13Z,2017-09-17T23:16:15Z,CLOSED,False,12,0,1,https://github.com/zakinko,rhel: Fix rpmbuild error on CentOS 6.8,1,[],https://github.com/openvswitch/ovs/pull/174,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/174#issuecomment-316868733,Add support for RHEL6.8 which uses an old version of kernel with some new features backported.,"If you're using the latest OVS, any reason you're not also using CentOS 7 instead of CentOS 6?
I'm thinking we shouldn't apply this.  OVS currently only intends to support kernels 3.10 and up.  I realize the CentOS 6 kernel has a lot of backports, but I think if you want to use OVS with CentOS 6, it seems like an easier policy to also require a newer kernel.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,174,2017-03-26T05:04:14Z,2017-07-21T00:37:13Z,2017-09-17T23:16:15Z,CLOSED,False,12,0,1,https://github.com/zakinko,rhel: Fix rpmbuild error on CentOS 6.8,1,[],https://github.com/openvswitch/ovs/pull/174,https://github.com/zakinko,3,https://github.com/openvswitch/ovs/pull/174#issuecomment-329742434,Add support for RHEL6.8 which uses an old version of kernel with some new features backported.,"I have considered updating to CentOS7.
However since I am satisfied with combination of CentOS6 andOVS2.5,
can I apply to 2.5 branch if it is difficult to apply to master branch?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,174,2017-03-26T05:04:14Z,2017-07-21T00:37:13Z,2017-09-17T23:16:15Z,CLOSED,False,12,0,1,https://github.com/zakinko,rhel: Fix rpmbuild error on CentOS 6.8,1,[],https://github.com/openvswitch/ovs/pull/174,https://github.com/russellb,4,https://github.com/openvswitch/ovs/pull/174#issuecomment-330100935,Add support for RHEL6.8 which uses an old version of kernel with some new features backported.,"Sure, feel free to apply the patch locally, but as I mentioned earlier, I don't think we should try to maintain CentOS 6 support upstream.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,175,2017-04-17T02:54:07Z,2017-04-17T03:27:11Z,2017-04-17T03:27:11Z,CLOSED,False,9127,3888,260,https://github.com/xiaodan1,Branch 2.5,331,[],https://github.com/openvswitch/ovs/pull/175,https://github.com/xiaodan1,1,https://github.com/openvswitch/ovs/pull/175,"man 8 of ovs-ofctl:
'''
sctp_src=port/mask:
Bitwise matches on transport ports are rarely useful in isolation, but a group of them can be used  to  reduce  the
number  of  flows  required to match on a range of transport ports.  For example, suppose that the goal is to match
TCP source ports 1000 to 1999, inclusive.  One way is to insert 1000 flows, each  of  which  matches  on  a  single
source port.  Another way is to look at the binary representations of 1000 and 1999, as follows:
01111101000
11111001111
and then to transform those into a series of bitwise matches that accomplish the same results:
01111101xxx
0111111xxxx
10xxxxxxxxx
110xxxxxxxx
1110xxxxxxx
11110xxxxxx
1111100xxxx
'''
My question is :
How to transform those into a series of bitwise matches?","man 8 of ovs-ofctl:
'''
sctp_src=port/mask:
Bitwise matches on transport ports are rarely useful in isolation, but a group of them can be used  to  reduce  the
number  of  flows  required to match on a range of transport ports.  For example, suppose that the goal is to match
TCP source ports 1000 to 1999, inclusive.  One way is to insert 1000 flows, each  of  which  matches  on  a  single
source port.  Another way is to look at the binary representations of 1000 and 1999, as follows:
01111101000
11111001111
and then to transform those into a series of bitwise matches that accomplish the same results:
01111101xxx
0111111xxxx
10xxxxxxxxx
110xxxxxxxx
1110xxxxxxx
11110xxxxxx
1111100xxxx
'''
My question is :
How to transform those into a series of bitwise matches?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,175,2017-04-17T02:54:07Z,2017-04-17T03:27:11Z,2017-04-17T03:27:11Z,CLOSED,False,9127,3888,260,https://github.com/xiaodan1,Branch 2.5,331,[],https://github.com/openvswitch/ovs/pull/175,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/175#issuecomment-294398058,"man 8 of ovs-ofctl:
'''
sctp_src=port/mask:
Bitwise matches on transport ports are rarely useful in isolation, but a group of them can be used  to  reduce  the
number  of  flows  required to match on a range of transport ports.  For example, suppose that the goal is to match
TCP source ports 1000 to 1999, inclusive.  One way is to insert 1000 flows, each  of  which  matches  on  a  single
source port.  Another way is to look at the binary representations of 1000 and 1999, as follows:
01111101000
11111001111
and then to transform those into a series of bitwise matches that accomplish the same results:
01111101xxx
0111111xxxx
10xxxxxxxxx
110xxxxxxxx
1110xxxxxxx
11110xxxxxx
1111100xxxx
'''
My question is :
How to transform those into a series of bitwise matches?",This pull request doesn't make any sense.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,176,2017-05-17T06:39:35Z,2017-05-23T03:57:23Z,2017-05-24T01:47:21Z,CLOSED,False,4,0,1,https://github.com/gaozhengwei,Supporting ovn-northd service HA depend on OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/176,https://github.com/gaozhengwei,1,https://github.com/openvswitch/ovs/pull/176,"As ovn-northd servcie  parse network element between ovnnb_db and
ovnsb_db, it ensures ovn-northd service connecting to ovnnb_db and
ovnsb_db. OVNDB-HA was supported with pacemaker, ovn-northd service
will be failover fllowing OVNDB-HA.","As ovn-northd servcie  parse network element between ovnnb_db and
ovnsb_db, it ensures ovn-northd service connecting to ovnnb_db and
ovnsb_db. OVNDB-HA was supported with pacemaker, ovn-northd service
will be failover fllowing OVNDB-HA.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,176,2017-05-17T06:39:35Z,2017-05-23T03:57:23Z,2017-05-24T01:47:21Z,CLOSED,False,4,0,1,https://github.com/gaozhengwei,Supporting ovn-northd service HA depend on OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/176,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/176#issuecomment-302132852,"As ovn-northd servcie  parse network element between ovnnb_db and
ovnsb_db, it ensures ovn-northd service connecting to ovnnb_db and
ovnsb_db. OVNDB-HA was supported with pacemaker, ovn-northd service
will be failover fllowing OVNDB-HA.",I posted this to ovs-dev to get comments: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,176,2017-05-17T06:39:35Z,2017-05-23T03:57:23Z,2017-05-24T01:47:21Z,CLOSED,False,4,0,1,https://github.com/gaozhengwei,Supporting ovn-northd service HA depend on OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/176,https://github.com/russellb,3,https://github.com/openvswitch/ovs/pull/176#issuecomment-303175174,"As ovn-northd servcie  parse network element between ovnnb_db and
ovnsb_db, it ensures ovn-northd service connecting to ovnnb_db and
ovnsb_db. OVNDB-HA was supported with pacemaker, ovn-northd service
will be failover fllowing OVNDB-HA.","It's my expectation that we would have pacemaker managing ovn-northd and have it running on the same host it currently has the OVN databases running on.
@numansiddique can you take a look at this and see how it relates to the work you've done in OpenStack TripleO?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,176,2017-05-17T06:39:35Z,2017-05-23T03:57:23Z,2017-05-24T01:47:21Z,CLOSED,False,4,0,1,https://github.com/gaozhengwei,Supporting ovn-northd service HA depend on OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/176,https://github.com/russellb,4,https://github.com/openvswitch/ovs/pull/176#issuecomment-303175337,"As ovn-northd servcie  parse network element between ovnnb_db and
ovnsb_db, it ensures ovn-northd service connecting to ovnnb_db and
ovnsb_db. OVNDB-HA was supported with pacemaker, ovn-northd service
will be failover fllowing OVNDB-HA.","@numansiddique I see you already provided some feedback on the mailing list, thanks.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,176,2017-05-17T06:39:35Z,2017-05-23T03:57:23Z,2017-05-24T01:47:21Z,CLOSED,False,4,0,1,https://github.com/gaozhengwei,Supporting ovn-northd service HA depend on OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/176,https://github.com/gaozhengwei,5,https://github.com/openvswitch/ovs/pull/176#issuecomment-303282921,"As ovn-northd servcie  parse network element between ovnnb_db and
ovnsb_db, it ensures ovn-northd service connecting to ovnnb_db and
ovnsb_db. OVNDB-HA was supported with pacemaker, ovn-northd service
will be failover fllowing OVNDB-HA.",the pacth new version => #178,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,176,2017-05-17T06:39:35Z,2017-05-23T03:57:23Z,2017-05-24T01:47:21Z,CLOSED,False,4,0,1,https://github.com/gaozhengwei,Supporting ovn-northd service HA depend on OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/176,https://github.com/russellb,6,https://github.com/openvswitch/ovs/pull/176#issuecomment-303459241,"As ovn-northd servcie  parse network element between ovnnb_db and
ovnsb_db, it ensures ovn-northd service connecting to ovnnb_db and
ovnsb_db. OVNDB-HA was supported with pacemaker, ovn-northd service
will be failover fllowing OVNDB-HA.",OK - you should be able to just push updated patches to your branch and still use the same pull request.  Just for future reference ...,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,176,2017-05-17T06:39:35Z,2017-05-23T03:57:23Z,2017-05-24T01:47:21Z,CLOSED,False,4,0,1,https://github.com/gaozhengwei,Supporting ovn-northd service HA depend on OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/176,https://github.com/gaozhengwei,7,https://github.com/openvswitch/ovs/pull/176#issuecomment-303593531,"As ovn-northd servcie  parse network element between ovnnb_db and
ovnsb_db, it ensures ovn-northd service connecting to ovnnb_db and
ovnsb_db. OVNDB-HA was supported with pacemaker, ovn-northd service
will be failover fllowing OVNDB-HA.","OK, i have add  Acked-by and Tested-by in commit message.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,176,2017-05-17T06:39:35Z,2017-05-23T03:57:23Z,2017-05-24T01:47:21Z,CLOSED,False,4,0,1,https://github.com/gaozhengwei,Supporting ovn-northd service HA depend on OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/176,https://github.com/gaozhengwei,8,https://github.com/openvswitch/ovs/pull/176#issuecomment-303594910,"As ovn-northd servcie  parse network element between ovnnb_db and
ovnsb_db, it ensures ovn-northd service connecting to ovnnb_db and
ovnsb_db. OVNDB-HA was supported with pacemaker, ovn-northd service
will be failover fllowing OVNDB-HA.",the pacth new merge request reference #179,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,177,2017-05-19T01:59:27Z,2017-06-02T01:35:33Z,2017-06-02T01:35:33Z,CLOSED,False,57,0,1,https://github.com/Grim-lock,ovn-northd: Add logical flows to reply ICMP echo requests for all the…,1,[],https://github.com/openvswitch/ovs/pull/177,https://github.com/Grim-lock,1,https://github.com/openvswitch/ovs/pull/177,… other router ports connected to one switch,… other router ports connected to one switch,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,178,2017-05-23T03:44:13Z,2017-05-24T01:48:04Z,2017-05-24T01:48:04Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/178,https://github.com/gaozhengwei,1,https://github.com/openvswitch/ovs/pull/178,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf","As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,178,2017-05-23T03:44:13Z,2017-05-24T01:48:04Z,2017-05-24T01:48:04Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/178,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/178#issuecomment-303459306,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf",continued from #176,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,178,2017-05-23T03:44:13Z,2017-05-24T01:48:04Z,2017-05-24T01:48:04Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/178,https://github.com/russellb,3,https://github.com/openvswitch/ovs/pull/178#issuecomment-303459406,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf",@numansiddique,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,178,2017-05-23T03:44:13Z,2017-05-24T01:48:04Z,2017-05-24T01:48:04Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/178,https://github.com/gaozhengwei,4,https://github.com/openvswitch/ovs/pull/178#issuecomment-303594965,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf",the pacth new merge request reference #179,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,179,2017-05-24T01:42:50Z,2017-05-24T07:41:43Z,2017-05-24T07:41:43Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/179,https://github.com/gaozhengwei,1,https://github.com/openvswitch/ovs/pull/179,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com","As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,179,2017-05-24T01:42:50Z,2017-05-24T07:41:43Z,2017-05-24T07:41:43Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/179,https://github.com/gaozhengwei,2,https://github.com/openvswitch/ovs/pull/179#issuecomment-303594638,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com","continued from #176 and #178
@numansiddique
@russellb",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,179,2017-05-24T01:42:50Z,2017-05-24T07:41:43Z,2017-05-24T07:41:43Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/179,https://github.com/numansiddique,3,https://github.com/openvswitch/ovs/pull/179#issuecomment-303636531,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com","@gaozhengwei  You also need to add your Signed-off-by tag.
Have a look at this for more details - http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/#tags",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,180,2017-05-24T08:01:47Z,2017-05-25T14:19:30Z,2017-05-26T11:38:44Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/180,https://github.com/gaozhengwei,1,https://github.com/openvswitch/ovs/pull/180,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Signed-off-by: Zhengwei Gao multi_task@163.com
Signed-off-by: Numan Siddique nusiddiq@redhat.com
Co-authored-by: Numan Siddique nusiddiq@redhat.com
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com","As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Signed-off-by: Zhengwei Gao multi_task@163.com
Signed-off-by: Numan Siddique nusiddiq@redhat.com
Co-authored-by: Numan Siddique nusiddiq@redhat.com
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,180,2017-05-24T08:01:47Z,2017-05-25T14:19:30Z,2017-05-26T11:38:44Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/180,https://github.com/gaozhengwei,2,https://github.com/openvswitch/ovs/pull/180#issuecomment-303649017,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Signed-off-by: Zhengwei Gao multi_task@163.com
Signed-off-by: Numan Siddique nusiddiq@redhat.com
Co-authored-by: Numan Siddique nusiddiq@redhat.com
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com","continued from #176
@numansiddique",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,180,2017-05-24T08:01:47Z,2017-05-25T14:19:30Z,2017-05-26T11:38:44Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/180,https://github.com/numansiddique,3,https://github.com/openvswitch/ovs/pull/180#issuecomment-303653318,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Signed-off-by: Zhengwei Gao multi_task@163.com
Signed-off-by: Numan Siddique nusiddiq@redhat.com
Co-authored-by: Numan Siddique nusiddiq@redhat.com
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com",@russellb,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,180,2017-05-24T08:01:47Z,2017-05-25T14:19:30Z,2017-05-26T11:38:44Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/180,https://github.com/russellb,4,https://github.com/openvswitch/ovs/pull/180#issuecomment-303842202,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Signed-off-by: Zhengwei Gao multi_task@163.com
Signed-off-by: Numan Siddique nusiddiq@redhat.com
Co-authored-by: Numan Siddique nusiddiq@redhat.com
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com","You should be able to update a single pull request with new revisions instead of opening new ones.
I see the patch also has a Signed-off-by for @numansiddique .  Did Numan co-author the patch?  If so, it should also have a ""co-authored-by"" header for Numan.  If he did not co-author it, the sign off should be removed.
@numansiddique can you help clarify?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,180,2017-05-24T08:01:47Z,2017-05-25T14:19:30Z,2017-05-26T11:38:44Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/180,https://github.com/numansiddique,5,https://github.com/openvswitch/ovs/pull/180#issuecomment-303885095,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Signed-off-by: Zhengwei Gao multi_task@163.com
Signed-off-by: Numan Siddique nusiddiq@redhat.com
Co-authored-by: Numan Siddique nusiddiq@redhat.com
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com",@russelb yes. I did co-author it.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,180,2017-05-24T08:01:47Z,2017-05-25T14:19:30Z,2017-05-26T11:38:44Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/180,https://github.com/gaozhengwei,6,https://github.com/openvswitch/ovs/pull/180#issuecomment-303911964,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Signed-off-by: Zhengwei Gao multi_task@163.com
Signed-off-by: Numan Siddique nusiddiq@redhat.com
Co-authored-by: Numan Siddique nusiddiq@redhat.com
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com","@russellb  @numansiddique  I had add Co-authored-by option  into commit message.
Thanks.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,180,2017-05-24T08:01:47Z,2017-05-25T14:19:30Z,2017-05-26T11:38:44Z,CLOSED,False,27,0,1,https://github.com/gaozhengwei,Supporting ovn-northd HA colocated with OVNDB-HA,1,[],https://github.com/openvswitch/ovs/pull/180,https://github.com/russellb,7,https://github.com/openvswitch/ovs/pull/180#issuecomment-304021726,"As ovn-northd parse network element between ovnnb_db and ovnsb_db,
ovn-northd need connect to ovnnb_db and ovnsb_db. OVNDB-HA feather
was implemented depend on pacemaker, ovn-northd will failover following
OVNDB-HA.
If user wants to enable ovn-northd HA colocated with OVNDB-HA depend on
pacemaker, setting parameter MANAGE_NORTHD_DEFAULT=""yes"" in ovndb-servers.ocf
Reported-at: https://mail.openvswitch.org/pipermail/ovs-dev/2017-May/332509.html
Signed-off-by: Zhengwei Gao multi_task@163.com
Signed-off-by: Numan Siddique nusiddiq@redhat.com
Co-authored-by: Numan Siddique nusiddiq@redhat.com
Acked-by: Numan Siddique nusiddiq@redhat.com
Tested-by: Numan Siddique nusiddiq@redhat.com","Thanks, I applied this to master and branch-2.7.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,181,2017-06-19T20:01:28Z,,2021-03-22T01:44:03Z,OPEN,False,20,5,1,https://github.com/mateusvtt,Implement IPv6 support to ovs-docker,1,[],https://github.com/openvswitch/ovs/pull/181,https://github.com/mateusvtt,1,https://github.com/openvswitch/ovs/pull/181,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,181,2017-06-19T20:01:28Z,,2021-03-22T01:44:03Z,OPEN,False,20,5,1,https://github.com/mateusvtt,Implement IPv6 support to ovs-docker,1,[],https://github.com/openvswitch/ovs/pull/181,https://github.com/shettyg,2,https://github.com/openvswitch/ovs/pull/181#issuecomment-309559409,,"Please add a ""Signed-off-by"" to the commit. Your Signed-off-by name and Author name should be the same. More details on the meaning of Signed-off-by is here (specifically in the section Developer’s Certificate of Origin):
http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,181,2017-06-19T20:01:28Z,,2021-03-22T01:44:03Z,OPEN,False,20,5,1,https://github.com/mateusvtt,Implement IPv6 support to ovs-docker,1,[],https://github.com/openvswitch/ovs/pull/181,https://github.com/shettyg,3,https://github.com/openvswitch/ovs/pull/181#issuecomment-325455329,,"@mateusvtt
Sorry it took so long. You likely did a force push and I did not get a github notification that you responded to my request. The 2 commits that this pull request has makes it a little confusing. I intend to squash it.
So, would it be okay if the commit has:
Author: Mateus Tanure <mateus.tanure@pop-es.rnp.br>
Signed-off-by: Mateus Tanure <mateus.tanure@pop-es.rnp.br>",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,181,2017-06-19T20:01:28Z,,2021-03-22T01:44:03Z,OPEN,False,20,5,1,https://github.com/mateusvtt,Implement IPv6 support to ovs-docker,1,[],https://github.com/openvswitch/ovs/pull/181,https://github.com/gaby,4,https://github.com/openvswitch/ovs/pull/181#issuecomment-800767564,,@mateusvtt Can you update your PR ? The work you did adding support for IPv6 is essential for ovs-docker!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,181,2017-06-19T20:01:28Z,,2021-03-22T01:44:03Z,OPEN,False,20,5,1,https://github.com/mateusvtt,Implement IPv6 support to ovs-docker,1,[],https://github.com/openvswitch/ovs/pull/181,https://github.com/mateusvtt,5,https://github.com/openvswitch/ovs/pull/181#issuecomment-803704886,,"Hey, @gaby I got surprised when I received the notification, I didn't remember this PR.
I've fixed the commits mess but I don't have the context I had before to make sure everything is working, could you validate it? (CI tests seem fine)
I had used my fork in a personal project and IPV6 worked well at the time. Glad to know it still might be useful.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,182,2017-06-24T15:23:43Z,2017-06-25T13:33:14Z,2017-06-25T13:33:14Z,CLOSED,False,862,188,16,https://github.com/shacharbe,ovs/dp-cls: fix compilation dpdk_2_2-rc1,7,[],https://github.com/openvswitch/ovs/pull/182,https://github.com/shacharbe,1,https://github.com/openvswitch/ovs/pull/182,"Fixing rte_virtio_net.h not found
Signed-off-by: Shachar Beiser shacharbe@mellanox.com","Fixing rte_virtio_net.h not found
Signed-off-by: Shachar Beiser shacharbe@mellanox.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,183,2017-06-26T10:39:22Z,2017-07-12T16:51:33Z,2017-08-08T19:26:04Z,CLOSED,False,10,14,1,https://github.com/zhaozhanxu,tnl-ports.c: Fix bug that ovs-dpdk has no listening tunnel ports when delete one tunnel port.,1,[],https://github.com/openvswitch/ovs/pull/183,https://github.com/zhaozhanxu,1,https://github.com/openvswitch/ovs/pull/183,"Bug is below:

When ovs-dpdk has some tunnel ports, I can see the listening ports through the command ovs-appctl tnl/ports/show -v.
When one tunnel port is deleted, the listening ports are deleted also.
This will cause ovs-dpdk can't de-encapsulates packets, then network barrier between two hosts finally.

Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Bug is below:

When ovs-dpdk has some tunnel ports, I can see the listening ports through the command ovs-appctl tnl/ports/show -v.
When one tunnel port is deleted, the listening ports are deleted also.
This will cause ovs-dpdk can't de-encapsulates packets, then network barrier between two hosts finally.

Signed-off-by: zhaozhanxu zhaozhanxu@163.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,183,2017-06-26T10:39:22Z,2017-07-12T16:51:33Z,2017-08-08T19:26:04Z,CLOSED,False,10,14,1,https://github.com/zhaozhanxu,tnl-ports.c: Fix bug that ovs-dpdk has no listening tunnel ports when delete one tunnel port.,1,[],https://github.com/openvswitch/ovs/pull/183,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/183#issuecomment-313516795,"Bug is below:

When ovs-dpdk has some tunnel ports, I can see the listening ports through the command ovs-appctl tnl/ports/show -v.
When one tunnel port is deleted, the listening ports are deleted also.
This will cause ovs-dpdk can't de-encapsulates packets, then network barrier between two hosts finally.

Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Thank you for the bug fix.
Can you give an example of how the bug would be triggered?  I'm trying to understand the issue.
Thanks,
Ben.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,183,2017-06-26T10:39:22Z,2017-07-12T16:51:33Z,2017-08-08T19:26:04Z,CLOSED,False,10,14,1,https://github.com/zhaozhanxu,tnl-ports.c: Fix bug that ovs-dpdk has no listening tunnel ports when delete one tunnel port.,1,[],https://github.com/openvswitch/ovs/pull/183,https://github.com/zhaozhanxu,3,https://github.com/openvswitch/ovs/pull/183#issuecomment-314076240,"Bug is below:

When ovs-dpdk has some tunnel ports, I can see the listening ports through the command ovs-appctl tnl/ports/show -v.
When one tunnel port is deleted, the listening ports are deleted also.
This will cause ovs-dpdk can't de-encapsulates packets, then network barrier between two hosts finally.

Signed-off-by: zhaozhanxu zhaozhanxu@163.com","This bug is triggered in a cluster, the main reason is that ovs-dpdk can not decapsulate packets, because there is no listened 6081 port.

We need three host(host1, host2 and host3). Each host connect the other two hosts through geneve ports, that is, each ovs-dpdk have two geneve ports.
Configure network makes three vms(one vm per host) can communicate with each other normally. This way, we can see there are some listened 6081 ports on the three hosts through the command tnl/ports/show -v, that is, geneve packets can be properly decapsulated. Now the environment is regular.
Delete any geneve port of host3 , then vm1(on host1) and vm2(on host2) can not communication. This way, we can see there is no listened 6081 port on host1 and host2, so that the two hosts can not properly decapsulate geneve packets.

Sorry that my English is poor, if you still can't understand, I will try to draw a picture to explain. ^_^",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,183,2017-06-26T10:39:22Z,2017-07-12T16:51:33Z,2017-08-08T19:26:04Z,CLOSED,False,10,14,1,https://github.com/zhaozhanxu,tnl-ports.c: Fix bug that ovs-dpdk has no listening tunnel ports when delete one tunnel port.,1,[],https://github.com/openvswitch/ovs/pull/183,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/183#issuecomment-314829889,"Bug is below:

When ovs-dpdk has some tunnel ports, I can see the listening ports through the command ovs-appctl tnl/ports/show -v.
When one tunnel port is deleted, the listening ports are deleted also.
This will cause ovs-dpdk can't de-encapsulates packets, then network barrier between two hosts finally.

Signed-off-by: zhaozhanxu zhaozhanxu@163.com","I understand now.
I updated the commit message and applied this to master.  Let me know if you'd like it applied to older branches as well.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,183,2017-06-26T10:39:22Z,2017-07-12T16:51:33Z,2017-08-08T19:26:04Z,CLOSED,False,10,14,1,https://github.com/zhaozhanxu,tnl-ports.c: Fix bug that ovs-dpdk has no listening tunnel ports when delete one tunnel port.,1,[],https://github.com/openvswitch/ovs/pull/183,https://github.com/zhaozhanxu,5,https://github.com/openvswitch/ovs/pull/183#issuecomment-314980446,"Bug is below:

When ovs-dpdk has some tunnel ports, I can see the listening ports through the command ovs-appctl tnl/ports/show -v.
When one tunnel port is deleted, the listening ports are deleted also.
This will cause ovs-dpdk can't de-encapsulates packets, then network barrier between two hosts finally.

Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Thanks.
I Think it can be applied to branch-2.7 and branch-2.6.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,183,2017-06-26T10:39:22Z,2017-07-12T16:51:33Z,2017-08-08T19:26:04Z,CLOSED,False,10,14,1,https://github.com/zhaozhanxu,tnl-ports.c: Fix bug that ovs-dpdk has no listening tunnel ports when delete one tunnel port.,1,[],https://github.com/openvswitch/ovs/pull/183,https://github.com/blp,6,https://github.com/openvswitch/ovs/pull/183#issuecomment-321056718,"Bug is below:

When ovs-dpdk has some tunnel ports, I can see the listening ports through the command ovs-appctl tnl/ports/show -v.
When one tunnel port is deleted, the listening ports are deleted also.
This will cause ovs-dpdk can't de-encapsulates packets, then network barrier between two hosts finally.

Signed-off-by: zhaozhanxu zhaozhanxu@163.com","I Think it can be applied to branch-2.7 and branch-2.6.
OK, I applied it to those branches too.",True,{'THUMBS_UP': ['https://github.com/zhaozhanxu']}
openvswitch/ovs,https://github.com/openvswitch/ovs,184,2017-06-26T14:50:56Z,2017-06-26T14:53:37Z,2017-06-26T14:53:37Z,CLOSED,False,1721,205,16,https://github.com/shacharbe,data path classifier offload with no tunneling ,12,[],https://github.com/openvswitch/ovs/pull/184,https://github.com/shacharbe,1,https://github.com/openvswitch/ovs/pull/184,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,185,2017-06-26T14:55:39Z,2017-06-26T15:02:13Z,2017-06-26T15:02:13Z,CLOSED,False,1721,205,16,https://github.com/shacharbe,data path classifier offloading with no tunnel,12,[],https://github.com/openvswitch/ovs/pull/185,https://github.com/shacharbe,1,https://github.com/openvswitch/ovs/pull/185,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,186,2017-06-26T15:03:04Z,2017-07-03T09:28:13Z,2017-07-03T09:28:13Z,CLOSED,False,1714,204,16,https://github.com/shacharbe,data path classifier offloading ,12,[],https://github.com/openvswitch/ovs/pull/186,https://github.com/shacharbe,1,https://github.com/openvswitch/ovs/pull/186,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,187,2017-06-27T04:01:57Z,2017-07-21T18:31:30Z,2017-07-21T18:31:30Z,CLOSED,False,138,123,8,https://github.com/wangzk320,pkt reassemble: fix kernel panic for ovs reassemble,1,[],https://github.com/openvswitch/ovs/pull/187,https://github.com/wangzk320,1,https://github.com/openvswitch/ovs/pull/187,"Ovs and kernel stack would add frag_queue to same netns_frags list.
As result, ovs and kernel may access the fraq_queue without correct
lock. Also the struct ipq may be different on kernel(older than 4.3),
which leads to invalid pointer access.
The fix creates specific netns_frags for ovs.
Signed-off-by: wangzhike wangzhike@jd.com","Ovs and kernel stack would add frag_queue to same netns_frags list.
As result, ovs and kernel may access the fraq_queue without correct
lock. Also the struct ipq may be different on kernel(older than 4.3),
which leads to invalid pointer access.
The fix creates specific netns_frags for ovs.
Signed-off-by: wangzhike wangzhike@jd.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,187,2017-06-27T04:01:57Z,2017-07-21T18:31:30Z,2017-07-21T18:31:30Z,CLOSED,False,138,123,8,https://github.com/wangzk320,pkt reassemble: fix kernel panic for ovs reassemble,1,[],https://github.com/openvswitch/ovs/pull/187,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/187#issuecomment-313517327,"Ovs and kernel stack would add frag_queue to same netns_frags list.
As result, ovs and kernel may access the fraq_queue without correct
lock. Also the struct ipq may be different on kernel(older than 4.3),
which leads to invalid pointer access.
The fix creates specific netns_frags for ovs.
Signed-off-by: wangzhike wangzhike@jd.com",I posted this to ovs-dev to make sure that it gets noticed.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,187,2017-06-27T04:01:57Z,2017-07-21T18:31:30Z,2017-07-21T18:31:30Z,CLOSED,False,138,123,8,https://github.com/wangzk320,pkt reassemble: fix kernel panic for ovs reassemble,1,[],https://github.com/openvswitch/ovs/pull/187,https://github.com/joestringer,3,https://github.com/openvswitch/ovs/pull/187#issuecomment-317078500,"Ovs and kernel stack would add frag_queue to same netns_frags list.
As result, ovs and kernel may access the fraq_queue without correct
lock. Also the struct ipq may be different on kernel(older than 4.3),
which leads to invalid pointer access.
The fix creates specific netns_frags for ovs.
Signed-off-by: wangzhike wangzhike@jd.com","Thanks again for investigating this and sorry it took so long to test it out. Unfortunately this code is very prone to affecting rare race conditions, so it is a difficult thing to get confidence about the potential impact in conjunction with different kernel releases.
I applied this:
https://mail.openvswitch.org/pipermail/ovs-dev/2017-July/336087.html",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,188,2017-06-30T15:45:43Z,2017-07-06T21:06:35Z,2017-07-06T21:06:35Z,CLOSED,False,332,323,8,https://github.com/jwessel,Python2 and Python3 compatibility,7,[],https://github.com/openvswitch/ovs/pull/188,https://github.com/jwessel,1,https://github.com/openvswitch/ovs/pull/188,"The meta-virtualization project would like to be able to use python2 or or only python3 to build and use the openvswitch.
This set of patches adds compatibility between python2 and python3.  The output of all the generated files was tested before the patches were applied with python2 and after applying the patches with python2 and python3.   Everything matches correctly.  Some additional patches were needed to make the output of the files deterministic.  When the iterators are used on the dict types the state of the heap and timing play a role where the order is not always the same.   For example running the make clean ; make -j20 in a loop will sometimes generate a different lib/ofp-actions.inc2 where the all_raw_instances[] has the static populated struct in a different order.
If there is interest in making the order of the generated files deterministic it can be done with additional patches that add a sort applied to the dict iteration.  These patches were used to prove the generated files were in fact the same.","The meta-virtualization project would like to be able to use python2 or or only python3 to build and use the openvswitch.
This set of patches adds compatibility between python2 and python3.  The output of all the generated files was tested before the patches were applied with python2 and after applying the patches with python2 and python3.   Everything matches correctly.  Some additional patches were needed to make the output of the files deterministic.  When the iterators are used on the dict types the state of the heap and timing play a role where the order is not always the same.   For example running the make clean ; make -j20 in a loop will sometimes generate a different lib/ofp-actions.inc2 where the all_raw_instances[] has the static populated struct in a different order.
If there is interest in making the order of the generated files deterministic it can be done with additional patches that add a sort applied to the dict iteration.  These patches were used to prove the generated files were in fact the same.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,188,2017-06-30T15:45:43Z,2017-07-06T21:06:35Z,2017-07-06T21:06:35Z,CLOSED,False,332,323,8,https://github.com/jwessel,Python2 and Python3 compatibility,7,[],https://github.com/openvswitch/ovs/pull/188,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/188#issuecomment-313519450,"The meta-virtualization project would like to be able to use python2 or or only python3 to build and use the openvswitch.
This set of patches adds compatibility between python2 and python3.  The output of all the generated files was tested before the patches were applied with python2 and after applying the patches with python2 and python3.   Everything matches correctly.  Some additional patches were needed to make the output of the files deterministic.  When the iterators are used on the dict types the state of the heap and timing play a role where the order is not always the same.   For example running the make clean ; make -j20 in a loop will sometimes generate a different lib/ofp-actions.inc2 where the all_raw_instances[] has the static populated struct in a different order.
If there is interest in making the order of the generated files deterministic it can be done with additional patches that add a sort applied to the dict iteration.  These patches were used to prove the generated files were in fact the same.",Thanks a lot.  I applied all of these patches to the OVS master branch.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,189,2017-07-10T07:37:19Z,2017-07-14T00:20:29Z,2017-07-14T00:20:29Z,CLOSED,False,2,0,1,https://github.com/luzhipeng-zte,ovs-vsctl:fix assertion in ovs-vsctl list netflow bridge command,1,[],https://github.com/openvswitch/ovs/pull/189,https://github.com/luzhipeng-zte,1,https://github.com/openvswitch/ovs/pull/189,"This fixes an assertion failure in command ""ovs-vsctl list netflow br"",if bridge br without any netflows.
$ovs-vsctl list netflow br103
ovs-vsctl: lib/ovsdb-idl.c:2407: assertion column_idx < class->n_columns failed in ovsdb_idl_read()
Aborted
Get_row_by_id() shoudle return NULL if not find by ovsdb_idl_get_row_for_uuid().
Signed-off-by: Zhipeng Lu lu.zhipeng@zte.com.cn","This fixes an assertion failure in command ""ovs-vsctl list netflow br"",if bridge br without any netflows.
$ovs-vsctl list netflow br103
ovs-vsctl: lib/ovsdb-idl.c:2407: assertion column_idx < class->n_columns failed in ovsdb_idl_read()
Aborted
Get_row_by_id() shoudle return NULL if not find by ovsdb_idl_get_row_for_uuid().
Signed-off-by: Zhipeng Lu lu.zhipeng@zte.com.cn",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,189,2017-07-10T07:37:19Z,2017-07-14T00:20:29Z,2017-07-14T00:20:29Z,CLOSED,False,2,0,1,https://github.com/luzhipeng-zte,ovs-vsctl:fix assertion in ovs-vsctl list netflow bridge command,1,[],https://github.com/openvswitch/ovs/pull/189,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/189#issuecomment-315236168,"This fixes an assertion failure in command ""ovs-vsctl list netflow br"",if bridge br without any netflows.
$ovs-vsctl list netflow br103
ovs-vsctl: lib/ovsdb-idl.c:2407: assertion column_idx < class->n_columns failed in ovsdb_idl_read()
Aborted
Get_row_by_id() shoudle return NULL if not find by ovsdb_idl_get_row_for_uuid().
Signed-off-by: Zhipeng Lu lu.zhipeng@zte.com.cn",I applied this patch to master and other branches.  Thank you!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,190,2017-07-12T16:11:24Z,2017-08-02T19:37:04Z,2017-08-02T19:37:04Z,CLOSED,False,1,0,1,https://github.com/hanxueluo,lacp: enable bond slave immediately after lacp attach,1,[],https://github.com/openvswitch/ovs/pull/190,https://github.com/hanxueluo,1,https://github.com/openvswitch/ovs/pull/190,"There is a long interval (5~20 seconds) between lacp slave attach
and bond slave enable. During the interval, ovs drop all received
packets from that slave because bond_check_admissibility() check
fails. The root cause is that connectivity_seq is not changed
after lacp update and lacp status is not populated into port->may_enable
by port_run() immediately.
Signed-off-by: Huanle Han hanxueluo@gmail.com","There is a long interval (5~20 seconds) between lacp slave attach
and bond slave enable. During the interval, ovs drop all received
packets from that slave because bond_check_admissibility() check
fails. The root cause is that connectivity_seq is not changed
after lacp update and lacp status is not populated into port->may_enable
by port_run() immediately.
Signed-off-by: Huanle Han hanxueluo@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,190,2017-07-12T16:11:24Z,2017-08-02T19:37:04Z,2017-08-02T19:37:04Z,CLOSED,False,1,0,1,https://github.com/hanxueluo,lacp: enable bond slave immediately after lacp attach,1,[],https://github.com/openvswitch/ovs/pull/190,https://github.com/mtarsel,2,https://github.com/openvswitch/ovs/pull/190#issuecomment-315871790,"There is a long interval (5~20 seconds) between lacp slave attach
and bond slave enable. During the interval, ovs drop all received
packets from that slave because bond_check_admissibility() check
fails. The root cause is that connectivity_seq is not changed
after lacp update and lacp status is not populated into port->may_enable
by port_run() immediately.
Signed-off-by: Huanle Han hanxueluo@gmail.com","I can confirm this behaviour on ppc64le. @hanxueluo curious which arch you are using, x86?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,190,2017-07-12T16:11:24Z,2017-08-02T19:37:04Z,2017-08-02T19:37:04Z,CLOSED,False,1,0,1,https://github.com/hanxueluo,lacp: enable bond slave immediately after lacp attach,1,[],https://github.com/openvswitch/ovs/pull/190,https://github.com/mtarsel,3,https://github.com/openvswitch/ovs/pull/190#issuecomment-316476320,"There is a long interval (5~20 seconds) between lacp slave attach
and bond slave enable. During the interval, ovs drop all received
packets from that slave because bond_check_admissibility() check
fails. The root cause is that connectivity_seq is not changed
after lacp update and lacp status is not populated into port->may_enable
by port_run() immediately.
Signed-off-by: Huanle Han hanxueluo@gmail.com",I have applied this patch and ran a few tests however I am not seeing a huge performance increase here. Any ideas what would be a more appropriate time? I think the current time range is too much but what should we be aiming for here?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,190,2017-07-12T16:11:24Z,2017-08-02T19:37:04Z,2017-08-02T19:37:04Z,CLOSED,False,1,0,1,https://github.com/hanxueluo,lacp: enable bond slave immediately after lacp attach,1,[],https://github.com/openvswitch/ovs/pull/190,https://github.com/hanxueluo,4,https://github.com/openvswitch/ovs/pull/190#issuecomment-319680257,"There is a long interval (5~20 seconds) between lacp slave attach
and bond slave enable. During the interval, ovs drop all received
packets from that slave because bond_check_admissibility() check
fails. The root cause is that connectivity_seq is not changed
after lacp update and lacp status is not populated into port->may_enable
by port_run() immediately.
Signed-off-by: Huanle Han hanxueluo@gmail.com","Hi, @mtarsel I'm using x86. I'm not sure what your test result is.
Maybe you need to comment out route_table_run() to do the test.
In some environment, route_table_run() destruct and construct netdev randomly. Its calling netdev_change_seq_changed() frequently makes  it hard to reproduce the 5~20s interval.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,190,2017-07-12T16:11:24Z,2017-08-02T19:37:04Z,2017-08-02T19:37:04Z,CLOSED,False,1,0,1,https://github.com/hanxueluo,lacp: enable bond slave immediately after lacp attach,1,[],https://github.com/openvswitch/ovs/pull/190,https://github.com/mtarsel,5,https://github.com/openvswitch/ovs/pull/190#issuecomment-319733133,"There is a long interval (5~20 seconds) between lacp slave attach
and bond slave enable. During the interval, ovs drop all received
packets from that slave because bond_check_admissibility() check
fails. The root cause is that connectivity_seq is not changed
after lacp update and lacp status is not populated into port->may_enable
by port_run() immediately.
Signed-off-by: Huanle Han hanxueluo@gmail.com","@hanxueluo - thank you. Ill try commenting out route_table_run(). I was just asking arch for documentation purposes although shouldn't matter in this case.
We were doing tests with ovs bonding using network name spaces and the delay we were seeing was due to the ARP table not updating with the MAC address for the newly active slave. The 2 name spaces had the same IP but different MAC so ARP entry needs to be updated - there is no higher-level redundancy management service in this setup. There was a RARP packet sent to the newly active slave interface but the ARP exchange did not happen for some time (the delay I saw being closer to 45 seconds).
I was curious why RARP was still used in ovs bonding and why there was a not a gratuitous ARP sent out.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,190,2017-07-12T16:11:24Z,2017-08-02T19:37:04Z,2017-08-02T19:37:04Z,CLOSED,False,1,0,1,https://github.com/hanxueluo,lacp: enable bond slave immediately after lacp attach,1,[],https://github.com/openvswitch/ovs/pull/190,https://github.com/blp,6,https://github.com/openvswitch/ovs/pull/190#issuecomment-319775793,"There is a long interval (5~20 seconds) between lacp slave attach
and bond slave enable. During the interval, ovs drop all received
packets from that slave because bond_check_admissibility() check
fails. The root cause is that connectivity_seq is not changed
after lacp update and lacp status is not populated into port->may_enable
by port_run() immediately.
Signed-off-by: Huanle Han hanxueluo@gmail.com",Thanks a lot for the patch.  I applied this to master and backported as far as 2.4.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,191,2017-07-17T03:41:30Z,2017-08-09T02:37:10Z,2017-08-09T02:37:10Z,CLOSED,False,10,14,1,https://github.com/zhaozhanxu,tnl-ports: Fix loss of tunneling upon removal of a single tunnel port. For branch-2.7,1,[],https://github.com/openvswitch/ovs/pull/191,https://github.com/zhaozhanxu,1,https://github.com/openvswitch/ovs/pull/191,"When OVS had multiple tunnel ports of a single kind, and any one of them
was removed, the remaining ports could no longer receive traffic.  This
fixes the problem.
Signed-off-by: zhaozhanxu zhaozhanxu@163.com
You can see #183 at master. It also can be applied to branch-2.7.","When OVS had multiple tunnel ports of a single kind, and any one of them
was removed, the remaining ports could no longer receive traffic.  This
fixes the problem.
Signed-off-by: zhaozhanxu zhaozhanxu@163.com
You can see #183 at master. It also can be applied to branch-2.7.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,192,2017-07-17T03:42:23Z,2017-08-09T02:37:21Z,2017-08-09T02:37:21Z,CLOSED,False,10,14,1,https://github.com/zhaozhanxu,tnl-ports: Fix loss of tunneling upon removal of a single tunnel port. For branch-2.6,1,[],https://github.com/openvswitch/ovs/pull/192,https://github.com/zhaozhanxu,1,https://github.com/openvswitch/ovs/pull/192,"When OVS had multiple tunnel ports of a single kind, and any one of them
was removed, the remaining ports could no longer receive traffic.  This
fixes the problem.
Signed-off-by: zhaozhanxu zhaozhanxu@163.com
You can see #183 at master. It also can be applied to branch-2.6.","When OVS had multiple tunnel ports of a single kind, and any one of them
was removed, the remaining ports could no longer receive traffic.  This
fixes the problem.
Signed-off-by: zhaozhanxu zhaozhanxu@163.com
You can see #183 at master. It also can be applied to branch-2.6.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,193,2017-07-20T06:42:08Z,2017-07-24T03:38:37Z,2017-07-24T03:38:37Z,CLOSED,False,374,12,2,https://github.com/zhaozhanxu,netdev-dpdk: Support multi-queue for ovs-dpdk QoS,4,[],https://github.com/openvswitch/ovs/pull/193,https://github.com/zhaozhanxu,1,https://github.com/openvswitch/ovs/pull/193,"Original command is as below:
$ ovs-vsctl set port vhost-user0 qos=@newqos -- \
        --id=@newqos create qos type=egress-policer other-config:cir=46000000 \
        other-config:cbs=2048`

Now it can support command as below:
$ ovs-vsctl set port vhost-user0 qos=@newqos -- \
            --id=@newqos create qos type=egress-policer \
            other-config:cir=46000000 other-config:cbs=2048` \
            queues:123=@q123 queues:234=@q234 -- \
            --id=@q123 create queue other-config:cir=12800000 other-config:cbs=2048 -- \
            --id=@q234 create queue other-config:cir=25600000 other-config:cbs=2048`
Then, we can use OpenFlow to direct packet to queues:
$ ovs-ofctl add-flow br0 in_port=5,actions=set_queue:123,normal
$ ovs-ofctl add-flow br0 in_port=6,actions=set_queue:234,normal

Finally, we can use command ovs-appctl -t ovs-vswitchd qos/show vhost-user0 to show QoS queue information.
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Original command is as below:
$ ovs-vsctl set port vhost-user0 qos=@newqos -- \
        --id=@newqos create qos type=egress-policer other-config:cir=46000000 \
        other-config:cbs=2048`

Now it can support command as below:
$ ovs-vsctl set port vhost-user0 qos=@newqos -- \
            --id=@newqos create qos type=egress-policer \
            other-config:cir=46000000 other-config:cbs=2048` \
            queues:123=@q123 queues:234=@q234 -- \
            --id=@q123 create queue other-config:cir=12800000 other-config:cbs=2048 -- \
            --id=@q234 create queue other-config:cir=25600000 other-config:cbs=2048`
Then, we can use OpenFlow to direct packet to queues:
$ ovs-ofctl add-flow br0 in_port=5,actions=set_queue:123,normal
$ ovs-ofctl add-flow br0 in_port=6,actions=set_queue:234,normal

Finally, we can use command ovs-appctl -t ovs-vswitchd qos/show vhost-user0 to show QoS queue information.
Signed-off-by: zhaozhanxu zhaozhanxu@163.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,193,2017-07-20T06:42:08Z,2017-07-24T03:38:37Z,2017-07-24T03:38:37Z,CLOSED,False,374,12,2,https://github.com/zhaozhanxu,netdev-dpdk: Support multi-queue for ovs-dpdk QoS,4,[],https://github.com/openvswitch/ovs/pull/193,https://github.com/zhaozhanxu,2,https://github.com/openvswitch/ovs/pull/193#issuecomment-316640701,"Original command is as below:
$ ovs-vsctl set port vhost-user0 qos=@newqos -- \
        --id=@newqos create qos type=egress-policer other-config:cir=46000000 \
        other-config:cbs=2048`

Now it can support command as below:
$ ovs-vsctl set port vhost-user0 qos=@newqos -- \
            --id=@newqos create qos type=egress-policer \
            other-config:cir=46000000 other-config:cbs=2048` \
            queues:123=@q123 queues:234=@q234 -- \
            --id=@q123 create queue other-config:cir=12800000 other-config:cbs=2048 -- \
            --id=@q234 create queue other-config:cir=25600000 other-config:cbs=2048`
Then, we can use OpenFlow to direct packet to queues:
$ ovs-ofctl add-flow br0 in_port=5,actions=set_queue:123,normal
$ ovs-ofctl add-flow br0 in_port=6,actions=set_queue:234,normal

Finally, we can use command ovs-appctl -t ovs-vswitchd qos/show vhost-user0 to show QoS queue information.
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","The Travis CI build failed info:
1211: ofproto-dpif - conntrack - output action        FAILED (ofproto-dpif.at:9095)
1219: ofproto-dpif - conntrack - ct_label datapath flow FAILED (ofproto-dpif.at:9504)
I don't kown whether it ralated to commit 40b0fbd3c6272fb175e6a60fb911391db6e6e71f",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,194,2017-08-02T04:14:09Z,2017-08-11T00:50:46Z,2017-08-11T00:50:46Z,CLOSED,False,0,0,0,https://github.com/darball,DPDK Merge 1,0,[],https://github.com/openvswitch/ovs/pull/194,https://github.com/darball,1,https://github.com/openvswitch/ovs/pull/194,Merge 11 DPDK patches from darball/ovs.,Merge 11 DPDK patches from darball/ovs.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,195,2017-08-02T15:27:56Z,2017-08-02T19:29:29Z,2017-08-03T00:57:54Z,CLOSED,False,7,1,1,https://github.com/hanxueluo,vlog: reopen log file in monitor process,1,[],https://github.com/openvswitch/ovs/pull/195,https://github.com/hanxueluo,1,https://github.com/openvswitch/ovs/pull/195,"ovs daemon process will reopen file after every log rotate.
However, it doesn't happen to monitor process. That is to say,
fd of log file in monitor proces always point to oldest disk file,
which is deleted after log rotate. Once daemon process restarts
from a crash, it inherts parent's fds, including the deleted log file.
This commit reopens log file in monitor process everytime it
wakes up from waitpid.
Signed-off-by: Huanle Han hanxueluo@gmail.com","ovs daemon process will reopen file after every log rotate.
However, it doesn't happen to monitor process. That is to say,
fd of log file in monitor proces always point to oldest disk file,
which is deleted after log rotate. Once daemon process restarts
from a crash, it inherts parent's fds, including the deleted log file.
This commit reopens log file in monitor process everytime it
wakes up from waitpid.
Signed-off-by: Huanle Han hanxueluo@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,195,2017-08-02T15:27:56Z,2017-08-02T19:29:29Z,2017-08-03T00:57:54Z,CLOSED,False,7,1,1,https://github.com/hanxueluo,vlog: reopen log file in monitor process,1,[],https://github.com/openvswitch/ovs/pull/195,https://github.com/hanxueluo,2,https://github.com/openvswitch/ovs/pull/195#issuecomment-319710158,"ovs daemon process will reopen file after every log rotate.
However, it doesn't happen to monitor process. That is to say,
fd of log file in monitor proces always point to oldest disk file,
which is deleted after log rotate. Once daemon process restarts
from a crash, it inherts parent's fds, including the deleted log file.
This commit reopens log file in monitor process everytime it
wakes up from waitpid.
Signed-off-by: Huanle Han hanxueluo@gmail.com","Here is the issue:

after first log rotate, daemon process logs to ovs-vswitchd.log, when monitor process to ovs-vswitchd.log.1.

root@ubuntu:~# ps -ef |grep ovs-vswitchd
root     19026     1  0 Jul27 ?        00:00:00 ovs-vswitchd: monitoring pid 19027 (healthy)                                                                                                                                                                                                                                                                                                       
root     19027 19026  3 Jul27 ?        00:52:28 ovs-vswitchd unix:/var/run/openvswitch/db.sock -vconsole:emer -vsyslog:err -vfile:info --mlockall --no-chdir --log-file=/var/log/openvswitch/ovs-vswitchd.log --pidfile=/var/run/openvswitch/ovs-vswitchd.pid --detach --monitor
root     43444 42634  0 15:43 pts/3    00:00:00 grep --color=auto ovs-vswitchd
root@ubuntu:~# lsof -p 19027 |grep log
ovs-vswit 19027 root  270w   REG                8,7    40573   525454 /var/log/openvswitch/ovs-vswitchd.log
root@ubuntu:~# lsof -p 19026 |grep log
monitor 19026 root    3w   REG                8,7   163327   525395 /var/log/openvswitch/ovs-vswitchd.log.1


kill -11 daemon proces, the new process logs to ovs-vswitchd.log.1.

root@ubuntu:~# kill -11 19027
root@ubuntu:~# ps -ef |grep ovs-vswitchd
root     19026     1  0 Jul27 ?        00:00:00 ovs-vswitchd: monitoring pid 45254 (1 crashes: pid 19027 died, killed (Segmentation fault), core dumped)                                                                                                                                                                                                                                           
root     45254 19026 14 15:45 ?        00:00:00 ovs-vswitchd unix:/var/run/openvswitch/db.sock -vconsole:emer -vsyslog:err -vfile:info --mlockall --no-chdir --log-file=/var/log/openvswitch/ovs-vswitchd.log --pidfile=/var/run/openvswitch/ovs-vswitchd.pid --detach --monitor
root     45574 42634  0 15:45 pts/3    00:00:00 grep --color=auto ovs-vswitchd
root@ubuntu:~# lsof -p 45254 | grep log
(unknown) 45254 root    3w   REG                8,7   169399   525395 /var/log/openvswitch/ovs-vswitchd.log.1


after second log rotate and kill -11 daemon, both process logs to a deleted ovs-vswitchd.log.1.

root@ubuntu:/etc/cron.daily# lsof -p 55288 |grep log
(unknown) 55288 root    3w   REG                8,5    12776  1050635 /var/log/openvswitch/ovs-vswitchd.log.1 (deleted)",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,195,2017-08-02T15:27:56Z,2017-08-02T19:29:29Z,2017-08-03T00:57:54Z,CLOSED,False,7,1,1,https://github.com/hanxueluo,vlog: reopen log file in monitor process,1,[],https://github.com/openvswitch/ovs/pull/195,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/195#issuecomment-319773888,"ovs daemon process will reopen file after every log rotate.
However, it doesn't happen to monitor process. That is to say,
fd of log file in monitor proces always point to oldest disk file,
which is deleted after log rotate. Once daemon process restarts
from a crash, it inherts parent's fds, including the deleted log file.
This commit reopens log file in monitor process everytime it
wakes up from waitpid.
Signed-off-by: Huanle Han hanxueluo@gmail.com","Thanks for noticing the bug and fixing it.  I applied this patch, with some changes, to master.  If this is causing a problem for you with some earlier version of OVS, let me know and I'll backport it.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,195,2017-08-02T15:27:56Z,2017-08-02T19:29:29Z,2017-08-03T00:57:54Z,CLOSED,False,7,1,1,https://github.com/hanxueluo,vlog: reopen log file in monitor process,1,[],https://github.com/openvswitch/ovs/pull/195,https://github.com/hanxueluo,4,https://github.com/openvswitch/ovs/pull/195#issuecomment-319837636,"ovs daemon process will reopen file after every log rotate.
However, it doesn't happen to monitor process. That is to say,
fd of log file in monitor proces always point to oldest disk file,
which is deleted after log rotate. Once daemon process restarts
from a crash, it inherts parent's fds, including the deleted log file.
This commit reopens log file in monitor process everytime it
wakes up from waitpid.
Signed-off-by: Huanle Han hanxueluo@gmail.com","@blp, could you apply it to branch-2.7 and branch-2.5 as well? Actually, I first found this bug on branch-2.5.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,195,2017-08-02T15:27:56Z,2017-08-02T19:29:29Z,2017-08-03T00:57:54Z,CLOSED,False,7,1,1,https://github.com/hanxueluo,vlog: reopen log file in monitor process,1,[],https://github.com/openvswitch/ovs/pull/195,https://github.com/blp,5,https://github.com/openvswitch/ovs/pull/195#issuecomment-319838423,"ovs daemon process will reopen file after every log rotate.
However, it doesn't happen to monitor process. That is to say,
fd of log file in monitor proces always point to oldest disk file,
which is deleted after log rotate. Once daemon process restarts
from a crash, it inherts parent's fds, including the deleted log file.
This commit reopens log file in monitor process everytime it
wakes up from waitpid.
Signed-off-by: Huanle Han hanxueluo@gmail.com","OK, I applied this as far back as 2.5.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,196,2017-08-04T08:46:02Z,,2019-11-22T17:27:14Z,OPEN,False,482,354,1,https://github.com/wangqianyu123,ovn-controller: Refactor consider_port_binding function,1,[],https://github.com/openvswitch/ovs/pull/196,https://github.com/wangqianyu123,1,https://github.com/openvswitch/ovs/pull/196,The function of consider_port_binding is redundant. This patch split the code to some sub-function by the port type.,The function of consider_port_binding is redundant. This patch split the code to some sub-function by the port type.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,197,2017-08-16T11:31:59Z,2017-08-16T11:34:55Z,2017-08-16T11:34:55Z,CLOSED,False,3459,3458,1,https://github.com/wangzk320,fix vhost stats,3,[],https://github.com/openvswitch/ovs/pull/197,https://github.com/wangzk320,1,https://github.com/openvswitch/ovs/pull/197,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,198,2017-08-21T07:36:51Z,,2018-08-10T18:17:12Z,OPEN,False,5,1,1,https://github.com/wangzk320,Fix: vhost user port is displayed as LINK DOWN after ovs-vswitchd reb…,1,[],https://github.com/openvswitch/ovs/pull/198,https://github.com/wangzk320,1,https://github.com/openvswitch/ovs/pull/198,…oots,…oots,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,198,2017-08-21T07:36:51Z,,2018-08-10T18:17:12Z,OPEN,False,5,1,1,https://github.com/wangzk320,Fix: vhost user port is displayed as LINK DOWN after ovs-vswitchd reb…,1,[],https://github.com/openvswitch/ovs/pull/198,https://github.com/wangzk320,2,https://github.com/openvswitch/ovs/pull/198#issuecomment-323670016,…oots,"The traffic is OK, but the status is shown as LINK DOWN.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,199,2017-08-25T09:15:39Z,2017-08-29T20:14:16Z,2017-08-29T21:18:24Z,MERGED,True,407,156,12,https://github.com/darball,DPDK merge 2,13,[],https://github.com/openvswitch/ovs/pull/199,https://github.com/darball,1,https://github.com/openvswitch/ovs/pull/199,DPDK merge 2,DPDK merge 2,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,199,2017-08-25T09:15:39Z,2017-08-29T20:14:16Z,2017-08-29T21:18:24Z,MERGED,True,407,156,12,https://github.com/darball,DPDK merge 2,13,[],https://github.com/openvswitch/ovs/pull/199,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/199#issuecomment-325787453,DPDK merge 2,I merged this into master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,199,2017-08-25T09:15:39Z,2017-08-29T20:14:16Z,2017-08-29T21:18:24Z,MERGED,True,407,156,12,https://github.com/darball,DPDK merge 2,13,[],https://github.com/openvswitch/ovs/pull/199,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/199#issuecomment-325787640,DPDK merge 2,"Darrell, did  you point out anywhere which commits are bug fixes?  I think you said that you had a list somewhere, but I didn't see it.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,199,2017-08-25T09:15:39Z,2017-08-29T20:14:16Z,2017-08-29T21:18:24Z,MERGED,True,407,156,12,https://github.com/darball,DPDK merge 2,13,[],https://github.com/openvswitch/ovs/pull/199,https://github.com/darball,4,https://github.com/openvswitch/ovs/pull/199#issuecomment-325803765,DPDK merge 2,"Hi Ben

conntrack: Fix ct-clean thread crash bug.: Needs to go to 2.8

netdev-dpdk: vhost get stats fix. .: Can go back to 2.6 cleanly; maybe earlier but probably unnecessary

netdev-dpdk: use 64-bit arithmetic when converting rates.: Can go back to 2.6


Thanks Darrell


From: Ben Pfaff <notifications@github.com>
Reply-To: openvswitch/ovs <reply@reply.github.com>
Date: Tuesday, August 29, 2017 at 1:15 PM
To: openvswitch/ovs <ovs@noreply.github.com>
Cc: Darrel Ball <dball@vmware.com>, Author <author@noreply.github.com>
Subject: Re: [openvswitch/ovs] DPDK merge 2 (#199)


Darrell, did you point out anywhere which commits are bug fixes? I think you said that you had a list somewhere, but I didn't see it.

—
You are receiving this because you authored the thread.
Reply to this email directly, view it on GitHub<https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_openvswitch_ovs_pull_199-23issuecomment-2D325787640&d=DwMCaQ&c=uilaK90D4TOVoH58JNXRgQ&r=BVhFA09CGX7JQ5Ih-uZnsw&m=CcS3xaeHoZ-Lyo6KtzKD6MOP-FcO8FouTQkJEiJtuko&s=4Po3mW_mkZeakRC2ZouFPSHnDd1jF8iM3JkzEeZvMCQ&e=>, or mute the thread<https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_notifications_unsubscribe-2Dauth_APMgtRj-2DAVauiwbuVbjVBxVN8e04vDXeks5sdHFrgaJpZM4PCafP&d=DwMCaQ&c=uilaK90D4TOVoH58JNXRgQ&r=BVhFA09CGX7JQ5Ih-uZnsw&m=CcS3xaeHoZ-Lyo6KtzKD6MOP-FcO8FouTQkJEiJtuko&s=z2yI4kJly3yVa01EBSU-TbQx06VTI6G21gScA7rgUck&e=>.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,199,2017-08-25T09:15:39Z,2017-08-29T20:14:16Z,2017-08-29T21:18:24Z,MERGED,True,407,156,12,https://github.com/darball,DPDK merge 2,13,[],https://github.com/openvswitch/ovs/pull/199,https://github.com/blp,5,https://github.com/openvswitch/ovs/pull/199#issuecomment-325807242,DPDK merge 2,"OK, I backported all of those.
…
On Tue, Aug 29, 2017 at 09:04:44PM +0000, darball wrote:
 Hi Ben

 conntrack: Fix ct-clean thread crash bug.: Needs to go to 2.8

 netdev-dpdk: vhost get stats fix. .: Can go back to 2.6 cleanly; maybe earlier but probably unnecessary

 netdev-dpdk: use 64-bit arithmetic when converting rates.: Can go back to 2.6


 Thanks Darrell


 From: Ben Pfaff ***@***.***>
 Reply-To: openvswitch/ovs ***@***.***>
 Date: Tuesday, August 29, 2017 at 1:15 PM
 To: openvswitch/ovs ***@***.***>
 Cc: Darrel Ball ***@***.***>, Author ***@***.***>
 Subject: Re: [openvswitch/ovs] DPDK merge 2 (#199)


 Darrell, did you point out anywhere which commits are bug fixes? I think you said that you had a list somewhere, but I didn't see it.

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub<https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_openvswitch_ovs_pull_199-23issuecomment-2D325787640&d=DwMCaQ&c=uilaK90D4TOVoH58JNXRgQ&r=BVhFA09CGX7JQ5Ih-uZnsw&m=CcS3xaeHoZ-Lyo6KtzKD6MOP-FcO8FouTQkJEiJtuko&s=4Po3mW_mkZeakRC2ZouFPSHnDd1jF8iM3JkzEeZvMCQ&e=>, or mute the thread<https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_notifications_unsubscribe-2Dauth_APMgtRj-2DAVauiwbuVbjVBxVN8e04vDXeks5sdHFrgaJpZM4PCafP&d=DwMCaQ&c=uilaK90D4TOVoH58JNXRgQ&r=BVhFA09CGX7JQ5Ih-uZnsw&m=CcS3xaeHoZ-Lyo6KtzKD6MOP-FcO8FouTQkJEiJtuko&s=z2yI4kJly3yVa01EBSU-TbQx06VTI6G21gScA7rgUck&e=>.


 --
 You are receiving this because you modified the open/close state.
 Reply to this email directly or view it on GitHub:
 #199 (comment)",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,200,2017-09-01T21:45:46Z,2017-09-07T06:34:14Z,2017-09-07T06:34:14Z,CLOSED,False,224,140,13,https://github.com/darball,Dpdk merge,13,[],https://github.com/openvswitch/ovs/pull/200,https://github.com/darball,1,https://github.com/openvswitch/ovs/pull/200,"Backports:
netdev-dpdk: update vhost user client port status.: Can be back-ported to 2.6
dpif-netdev: Fix per packet cycles statistics.: Can be back-ported to 2.6","Backports:
netdev-dpdk: update vhost user client port status.: Can be back-ported to 2.6
dpif-netdev: Fix per packet cycles statistics.: Can be back-ported to 2.6",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,200,2017-09-01T21:45:46Z,2017-09-07T06:34:14Z,2017-09-07T06:34:14Z,CLOSED,False,224,140,13,https://github.com/darball,Dpdk merge,13,[],https://github.com/openvswitch/ovs/pull/200,https://github.com/darball,2,https://github.com/openvswitch/ovs/pull/200#issuecomment-327701006,"Backports:
netdev-dpdk: update vhost user client port status.: Can be back-ported to 2.6
dpif-netdev: Fix per packet cycles statistics.: Can be back-ported to 2.6",replace the pull request,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,201,2017-09-07T06:36:18Z,2017-09-12T14:16:20Z,2017-09-12T15:49:53Z,MERGED,True,224,140,13,https://github.com/darball,Dpdk merge,13,[],https://github.com/openvswitch/ovs/pull/201,https://github.com/darball,1,https://github.com/openvswitch/ovs/pull/201,"Backports:
netdev-dpdk: update vhost user client port status.: Can be back-ported to 2.6
dpif-netdev: Fix per packet cycles statistics.: Can be back-ported to 2.6","Backports:
netdev-dpdk: update vhost user client port status.: Can be back-ported to 2.6
dpif-netdev: Fix per packet cycles statistics.: Can be back-ported to 2.6",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,201,2017-09-07T06:36:18Z,2017-09-12T14:16:20Z,2017-09-12T15:49:53Z,MERGED,True,224,140,13,https://github.com/darball,Dpdk merge,13,[],https://github.com/openvswitch/ovs/pull/201,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/201#issuecomment-328867145,"Backports:
netdev-dpdk: update vhost user client port status.: Can be back-ported to 2.6
dpif-netdev: Fix per packet cycles statistics.: Can be back-ported to 2.6","Thanks Darrell, I merged this and backportd the two patches you highlighted.
I noticed that on some of these you forgot to add your own sign-off.  Please be more careful about that in the future.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,201,2017-09-07T06:36:18Z,2017-09-12T14:16:20Z,2017-09-12T15:49:53Z,MERGED,True,224,140,13,https://github.com/darball,Dpdk merge,13,[],https://github.com/openvswitch/ovs/pull/201,https://github.com/darball,3,https://github.com/openvswitch/ovs/pull/201#issuecomment-328888948,"Backports:
netdev-dpdk: update vhost user client port status.: Can be back-ported to 2.6
dpif-netdev: Fix per packet cycles statistics.: Can be back-ported to 2.6","Thanks Ben; I double checked the sign-offs, but I was not able to find missing ones ?
Is it possible you saw intervening patches listed in the merge, but not part of the code delta ?

Darrell

From: Ben Pfaff <notifications@github.com>
Reply-To: openvswitch/ovs <reply@reply.github.com>
Date: Tuesday, September 12, 2017 at 7:46 AM
To: openvswitch/ovs <ovs@noreply.github.com>
Cc: Darrel Ball <dball@vmware.com>, Author <author@noreply.github.com>
Subject: Re: [openvswitch/ovs] Dpdk merge (#201)


Thanks Darrell, I merged this and backportd the two patches you highlighted.

I noticed that on some of these you forgot to add your own sign-off. Please be more careful about that in the future.

—
You are receiving this because you authored the thread.
Reply to this email directly, view it on GitHub<https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_openvswitch_ovs_pull_201-23issuecomment-2D328867145&d=DwMCaQ&c=uilaK90D4TOVoH58JNXRgQ&r=BVhFA09CGX7JQ5Ih-uZnsw&m=nCNJN63adwNqs-L-ji9Fsl2nS0fPqubjDZL3fQvGMOM&s=RMteQj6uDQl350nsvBgS8cnrD_CJdCgEeDxdugvykKE&e=>, or mute the thread<https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_notifications_unsubscribe-2Dauth_APMgtf8OYebqDYuSv6EWWOmvcvkdwGWOks5shpK2gaJpZM4PPWhv&d=DwMCaQ&c=uilaK90D4TOVoH58JNXRgQ&r=BVhFA09CGX7JQ5Ih-uZnsw&m=nCNJN63adwNqs-L-ji9Fsl2nS0fPqubjDZL3fQvGMOM&s=utUbqUrOT6jzd6zq9K1I2CgwxclXCYKLohnbCRFhmuA&e=>.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,201,2017-09-07T06:36:18Z,2017-09-12T14:16:20Z,2017-09-12T15:49:53Z,MERGED,True,224,140,13,https://github.com/darball,Dpdk merge,13,[],https://github.com/openvswitch/ovs/pull/201,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/201#issuecomment-328895864,"Backports:
netdev-dpdk: update vhost user client port status.: Can be back-ported to 2.6
dpif-netdev: Fix per packet cycles statistics.: Can be back-ported to 2.6",Commit 6e491fb is one example of a commit that lacks your sign-off. Commit 9089475 is another.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,202,2017-09-10T19:19:45Z,2017-09-10T21:10:32Z,2017-09-10T21:10:32Z,CLOSED,False,1,1,1,https://github.com/itoffshore,add libressl compatibility,1,[],https://github.com/openvswitch/ovs/pull/202,https://github.com/itoffshore,1,https://github.com/openvswitch/ovs/pull/202,"fixes undefined reference to ASN1_STRING_get0_data on systems with libressl

tested in travis under Alpine Linux","fixes undefined reference to ASN1_STRING_get0_data on systems with libressl

tested in travis under Alpine Linux",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,202,2017-09-10T19:19:45Z,2017-09-10T21:10:32Z,2017-09-10T21:10:32Z,CLOSED,False,1,1,1,https://github.com/itoffshore,add libressl compatibility,1,[],https://github.com/openvswitch/ovs/pull/202,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/202#issuecomment-328366402,"fixes undefined reference to ASN1_STRING_get0_data on systems with libressl

tested in travis under Alpine Linux","Thanks for the patch!  Can you please add a ""Signed-off-by"" header to the commit message?
For more information, please see http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,202,2017-09-10T19:19:45Z,2017-09-10T21:10:32Z,2017-09-10T21:10:32Z,CLOSED,False,1,1,1,https://github.com/itoffshore,add libressl compatibility,1,[],https://github.com/openvswitch/ovs/pull/202,https://github.com/itoffshore,3,https://github.com/openvswitch/ovs/pull/202#issuecomment-328366733,"fixes undefined reference to ASN1_STRING_get0_data on systems with libressl

tested in travis under Alpine Linux",commit message revised with Signed-off-by,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,202,2017-09-10T19:19:45Z,2017-09-10T21:10:32Z,2017-09-10T21:10:32Z,CLOSED,False,1,1,1,https://github.com/itoffshore,add libressl compatibility,1,[],https://github.com/openvswitch/ovs/pull/202,https://github.com/russellb,4,https://github.com/openvswitch/ovs/pull/202#issuecomment-328372238,"fixes undefined reference to ASN1_STRING_get0_data on systems with libressl

tested in travis under Alpine Linux","Thanks, I applied this to master.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,203,2017-09-12T00:25:57Z,2017-09-12T01:38:21Z,2017-09-12T01:38:21Z,CLOSED,False,1,1,1,https://github.com/aserdean,tests: fix sparse error on test-ovn.c,1,[],https://github.com/openvswitch/ovs/pull/203,https://github.com/aserdean,1,https://github.com/openvswitch/ovs/pull/203,"Commit d5c70d4 fixed the MSVC issue
however, introduced a sparse error:
""tests/test-ovn.c:205:43: warning: Using plain integer as NULL pointer""
Use 'NULL' instead of '0'.
Signed-off-by: Alin Gabriel Serdean aserdean@ovn.org
This PR is only to trigger the Travis CI","Commit d5c70d4 fixed the MSVC issue
however, introduced a sparse error:
""tests/test-ovn.c:205:43: warning: Using plain integer as NULL pointer""
Use 'NULL' instead of '0'.
Signed-off-by: Alin Gabriel Serdean aserdean@ovn.org
This PR is only to trigger the Travis CI",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,204,2017-09-19T14:35:34Z,,2017-09-19T14:35:34Z,OPEN,False,11,1,3,https://github.com/zakinko,rhel: Fix build rpm error on CentOS 6.8 & 6.9 (& newest kernel 3.19.0),1,[],https://github.com/openvswitch/ovs/pull/204,https://github.com/zakinko,1,https://github.com/openvswitch/ovs/pull/204,Add support for RHEL6.8 & 6.9 (& newest kernel 3.19.0) which uses an old version of kernel with some new features backported.,Add support for RHEL6.8 & 6.9 (& newest kernel 3.19.0) which uses an old version of kernel with some new features backported.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,205,2017-09-20T12:06:46Z,2017-09-21T14:34:09Z,2017-09-21T17:13:11Z,CLOSED,False,1,1,1,https://github.com/dventurino,Update email address in AUTHORS file.,1,[],https://github.com/openvswitch/ovs/pull/205,https://github.com/dventurino,1,https://github.com/openvswitch/ovs/pull/205,"Since I won't be reachable anymore via the old email address, I'm sending this PR with a new one.","Since I won't be reachable anymore via the old email address, I'm sending this PR with a new one.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,205,2017-09-20T12:06:46Z,2017-09-21T14:34:09Z,2017-09-21T17:13:11Z,CLOSED,False,1,1,1,https://github.com/dventurino,Update email address in AUTHORS file.,1,[],https://github.com/openvswitch/ovs/pull/205,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/205#issuecomment-331222028,"Since I won't be reachable anymore via the old email address, I'm sending this PR with a new one.","On Wed, Sep 20, 2017 at 07:49:37PM +0000, Daniele Venturino wrote:
 Hello @blp, it's been a while since I submitted a patch...are PRs ok for submitting this kind of modification?
It's fine, I'm just slow to deal with patches and pull requests right
now.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,206,2017-09-21T10:56:29Z,,2019-11-22T17:27:14Z,OPEN,False,129,68,4,https://github.com/wangqianyu123,ovn: reduce logical flow applied to ovn-controller,2,[],https://github.com/openvswitch/ovs/pull/206,https://github.com/wangqianyu123,1,https://github.com/openvswitch/ovs/pull/206,"Add a logical_port column in Logical_Flow table. If logical flow generated by
logical_switch_port, set the logical_port of Logical_Flow with value of port
name. In ovn-controller, do not do expr_parse for non-local Logical_Flow.
This can reduce the calculation and memory usage of ovn-controller.","Add a logical_port column in Logical_Flow table. If logical flow generated by
logical_switch_port, set the logical_port of Logical_Flow with value of port
name. In ovn-controller, do not do expr_parse for non-local Logical_Flow.
This can reduce the calculation and memory usage of ovn-controller.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,207,2017-09-22T09:51:59Z,2017-09-25T19:36:03Z,2017-09-25T19:36:03Z,MERGED,True,88,67,9,https://github.com/darball,Dpdk merge Sept 22 2017,11,[],https://github.com/openvswitch/ovs/pull/207,https://github.com/darball,1,https://github.com/openvswitch/ovs/pull/207,"Backports to 2.8:
docs: Use DPDK 17.05.2 release
netdev-dpdk: reset packet_type for reused dp_packets.","Backports to 2.8:
docs: Use DPDK 17.05.2 release
netdev-dpdk: reset packet_type for reused dp_packets.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,208,2017-09-29T07:40:32Z,2017-10-02T17:01:51Z,2017-10-02T17:01:51Z,CLOSED,False,1,1,1,https://github.com/Tabrizian,Fix a typo in howto guide,1,[],https://github.com/openvswitch/ovs/pull/208,https://github.com/Tabrizian,1,https://github.com/openvswitch/ovs/pull/208,"There was a typo in the name of the bridge in how to guide.
Hope it helps.","There was a typo in the name of the bridge in how to guide.
Hope it helps.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,208,2017-09-29T07:40:32Z,2017-10-02T17:01:51Z,2017-10-02T17:01:51Z,CLOSED,False,1,1,1,https://github.com/Tabrizian,Fix a typo in howto guide,1,[],https://github.com/openvswitch/ovs/pull/208,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/208#issuecomment-333586975,"There was a typo in the name of the bridge in how to guide.
Hope it helps.","Thanks for the fix!
Would you mind updating the commit message to include a ""Signed-off-by"" header?  More info can be found in: http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,208,2017-09-29T07:40:32Z,2017-10-02T17:01:51Z,2017-10-02T17:01:51Z,CLOSED,False,1,1,1,https://github.com/Tabrizian,Fix a typo in howto guide,1,[],https://github.com/openvswitch/ovs/pull/208,https://github.com/Tabrizian,3,https://github.com/openvswitch/ovs/pull/208#issuecomment-333597308,"There was a typo in the name of the bridge in how to guide.
Hope it helps.","Oh sorry about my mistake I created another PR fixing this issue.
See #209",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,209,2017-10-02T16:58:52Z,2017-10-02T18:57:33Z,2017-10-03T19:20:22Z,CLOSED,False,1,1,1,https://github.com/Tabrizian,Fix a typo in the bridge name in the howto guide,1,[],https://github.com/openvswitch/ovs/pull/209,https://github.com/Tabrizian,1,https://github.com/openvswitch/ovs/pull/209,"This commit fixes potential unintended mistake in howto guide of userspace tunneling.
Fixes a problem in commit message in #208","This commit fixes potential unintended mistake in howto guide of userspace tunneling.
Fixes a problem in commit message in #208",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,209,2017-10-02T16:58:52Z,2017-10-02T18:57:33Z,2017-10-03T19:20:22Z,CLOSED,False,1,1,1,https://github.com/Tabrizian,Fix a typo in the bridge name in the howto guide,1,[],https://github.com/openvswitch/ovs/pull/209,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/209#issuecomment-333631019,"This commit fixes potential unintended mistake in howto guide of userspace tunneling.
Fixes a problem in commit message in #208",Thanks!  I applied this to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,209,2017-10-02T16:58:52Z,2017-10-02T18:57:33Z,2017-10-03T19:20:22Z,CLOSED,False,1,1,1,https://github.com/Tabrizian,Fix a typo in the bridge name in the howto guide,1,[],https://github.com/openvswitch/ovs/pull/209,https://github.com/Tabrizian,3,https://github.com/openvswitch/ovs/pull/209#issuecomment-333949907,"This commit fixes potential unintended mistake in howto guide of userspace tunneling.
Fixes a problem in commit message in #208",Thank you also for your patience. :),True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,210,2017-10-19T17:00:14Z,2018-01-24T17:41:57Z,2018-01-24T17:41:57Z,CLOSED,False,28,10,1,https://github.com/hanxueluo,fix 3 bugs about igmp、mirror、xlate,3,[],https://github.com/openvswitch/ovs/pull/210,https://github.com/hanxueluo,1,https://github.com/openvswitch/ovs/pull/210,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,210,2017-10-19T17:00:14Z,2018-01-24T17:41:57Z,2018-01-24T17:41:57Z,CLOSED,False,28,10,1,https://github.com/hanxueluo,fix 3 bugs about igmp、mirror、xlate,3,[],https://github.com/openvswitch/ovs/pull/210,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/210#issuecomment-360214726,,I am sorry that I missed these patches until now.  Some of them look like they fix important bugs.  I have now sent them to the ovs-dev mailing list for discussion.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,211,2017-10-26T20:31:07Z,2017-10-27T17:57:25Z,2017-10-27T17:57:41Z,MERGED,True,59,37,1,https://github.com/istokes,OVS Dpdk merge,6,[],https://github.com/openvswitch/ovs/pull/211,https://github.com/istokes,1,https://github.com/openvswitch/ovs/pull/211,"Hi,
request to merge the latest patch set specific to OVS DPDK. This patchset specifically deals with fixing a bug related to mempool management for DPDK and vhost ports.
Patchset has been reviewed and Acked by a number of trusted contributors.
Patchset has been validated follows:
Clang/Sparse compilation and analysis.
OVS Unit tests
Vsperf Performance tests for OVS DPDK for p2p, pvp, pvvp,pvpv
Vpserf integration tests for OVS DPDK for p2p, pvp, pvvp.
MTU tests for both physical and vhost DPDK port types.
Multi queue for DPDK and vhost port types with both kernel virtio and DPDK virtio interfaces in the guest.
Thanks
Ian","Hi,
request to merge the latest patch set specific to OVS DPDK. This patchset specifically deals with fixing a bug related to mempool management for DPDK and vhost ports.
Patchset has been reviewed and Acked by a number of trusted contributors.
Patchset has been validated follows:
Clang/Sparse compilation and analysis.
OVS Unit tests
Vsperf Performance tests for OVS DPDK for p2p, pvp, pvvp,pvpv
Vpserf integration tests for OVS DPDK for p2p, pvp, pvvp.
MTU tests for both physical and vhost DPDK port types.
Multi queue for DPDK and vhost port types with both kernel virtio and DPDK virtio interfaces in the guest.
Thanks
Ian",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,211,2017-10-26T20:31:07Z,2017-10-27T17:57:25Z,2017-10-27T17:57:41Z,MERGED,True,59,37,1,https://github.com/istokes,OVS Dpdk merge,6,[],https://github.com/openvswitch/ovs/pull/211,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/211#issuecomment-340041745,"Hi,
request to merge the latest patch set specific to OVS DPDK. This patchset specifically deals with fixing a bug related to mempool management for DPDK and vhost ports.
Patchset has been reviewed and Acked by a number of trusted contributors.
Patchset has been validated follows:
Clang/Sparse compilation and analysis.
OVS Unit tests
Vsperf Performance tests for OVS DPDK for p2p, pvp, pvvp,pvpv
Vpserf integration tests for OVS DPDK for p2p, pvp, pvvp.
MTU tests for both physical and vhost DPDK port types.
Multi queue for DPDK and vhost port types with both kernel virtio and DPDK virtio interfaces in the guest.
Thanks
Ian","I merged this manually, from the command line.  Thank you!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,212,2017-11-06T09:48:19Z,2017-11-06T22:21:35Z,2017-11-06T22:21:35Z,CLOSED,False,1,1,1,https://github.com/borjam,Portability fix. Change #include order,1,[],https://github.com/openvswitch/ovs/pull/212,https://github.com/borjam,1,https://github.com/openvswitch/ovs/pull/212,"This file doesn't compile on FreeBSD nor OS X because icmp6.h needs definitions from sys/types.h.
On Linux icmp6.h includes sys/types.h itself but it's not a good idea to assume that everyone does. Besides, I think it's much more clear to put it before the netinet stuff so that more ""fundamental"" definitions are included first.","This file doesn't compile on FreeBSD nor OS X because icmp6.h needs definitions from sys/types.h.
On Linux icmp6.h includes sys/types.h itself but it's not a good idea to assume that everyone does. Besides, I think it's much more clear to put it before the netinet stuff so that more ""fundamental"" definitions are included first.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,212,2017-11-06T09:48:19Z,2017-11-06T22:21:35Z,2017-11-06T22:21:35Z,CLOSED,False,1,1,1,https://github.com/borjam,Portability fix. Change #include order,1,[],https://github.com/openvswitch/ovs/pull/212,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/212#issuecomment-342307613,"This file doesn't compile on FreeBSD nor OS X because icmp6.h needs definitions from sys/types.h.
On Linux icmp6.h includes sys/types.h itself but it's not a good idea to assume that everyone does. Besides, I think it's much more clear to put it before the netinet stuff so that more ""fundamental"" definitions are included first.","Ugh, another place that FreeBSD makes builds gratuitously fail.
Thanks, I applied this to master.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,213,2017-11-21T06:31:06Z,2018-01-23T18:21:56Z,2018-01-23T19:15:43Z,CLOSED,False,5,4,2,https://github.com/gasmith-nutanix,tunnel: Reset tunnel flags in tnl_port_send().,1,[],https://github.com/openvswitch/ovs/pull/213,https://github.com/gasmith-nutanix,1,https://github.com/openvswitch/ovs/pull/213,"Most tunnel flags (like FLOW_TNL_F_KEY and FLOW_TNL_F_CSUM) should not be
inherited from ingress tunnel to egress tunnel. The setting for these flags
should be derived from the egress tunnel configuration.
Currently, any flag set by the ingress tunnel is incorrectly inheirted by the
egress tunnel. This regression was introduced along with the OAM flag, which is
presumably intended to be inherited.
CC: Jesse Gross jesse@nicira.com
Fixes: b666962 (""tunneling: Allow matching and setting tunnel 'OAM' flag."")
Signed-off-by: Gregory Smith gasmith@nutanix.com","Most tunnel flags (like FLOW_TNL_F_KEY and FLOW_TNL_F_CSUM) should not be
inherited from ingress tunnel to egress tunnel. The setting for these flags
should be derived from the egress tunnel configuration.
Currently, any flag set by the ingress tunnel is incorrectly inheirted by the
egress tunnel. This regression was introduced along with the OAM flag, which is
presumably intended to be inherited.
CC: Jesse Gross jesse@nicira.com
Fixes: b666962 (""tunneling: Allow matching and setting tunnel 'OAM' flag."")
Signed-off-by: Gregory Smith gasmith@nutanix.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,213,2017-11-21T06:31:06Z,2018-01-23T18:21:56Z,2018-01-23T19:15:43Z,CLOSED,False,5,4,2,https://github.com/gasmith-nutanix,tunnel: Reset tunnel flags in tnl_port_send().,1,[],https://github.com/openvswitch/ovs/pull/213,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/213#issuecomment-359882863,"Most tunnel flags (like FLOW_TNL_F_KEY and FLOW_TNL_F_CSUM) should not be
inherited from ingress tunnel to egress tunnel. The setting for these flags
should be derived from the egress tunnel configuration.
Currently, any flag set by the ingress tunnel is incorrectly inheirted by the
egress tunnel. This regression was introduced along with the OAM flag, which is
presumably intended to be inherited.
CC: Jesse Gross jesse@nicira.com
Fixes: b666962 (""tunneling: Allow matching and setting tunnel 'OAM' flag."")
Signed-off-by: Gregory Smith gasmith@nutanix.com","Well, now I feel like an idiot.  We recently re-discovered the same problem and fixed it in the folllowing commit:
commit 81f9ef5
Author: William Tu u9012063@gmail.com
Date:   Wed Jan 10 13:13:11 2018 -0800
tunnel: fix tunnel flags set/clear.

Existing code only set these tunnel flags (df, csum, and key) when the
flag is set in the output tunnel port, but did not clear when the flag
is unset.  The patch fixes it by setting and clearing it accordingly.

Two existing testcases need to fix:
'tunnel - Geneve option present' has no key set up, so we should match
'flags(df)' instead of 'flags(df|key)'.  The second case
'tunnel - concomitant IPv6 and IPv4 tunnels' follows the same pattern.
One additional test case 'tunnel - Mix Geneve/GRE options' is added.

Signed-off-by: William Tu <u9012063@gmail.com>
VMWare-BZ: #2019012
Signed-off-by: Ben Pfaff <blp@ovn.org>

Sorry about the delay and for duplicating work, and thanks for reporting and providing the fix.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,213,2017-11-21T06:31:06Z,2018-01-23T18:21:56Z,2018-01-23T19:15:43Z,CLOSED,False,5,4,2,https://github.com/gasmith-nutanix,tunnel: Reset tunnel flags in tnl_port_send().,1,[],https://github.com/openvswitch/ovs/pull/213,https://github.com/gasmith-nutanix,3,https://github.com/openvswitch/ovs/pull/213#issuecomment-359898742,"Most tunnel flags (like FLOW_TNL_F_KEY and FLOW_TNL_F_CSUM) should not be
inherited from ingress tunnel to egress tunnel. The setting for these flags
should be derived from the egress tunnel configuration.
Currently, any flag set by the ingress tunnel is incorrectly inheirted by the
egress tunnel. This regression was introduced along with the OAM flag, which is
presumably intended to be inherited.
CC: Jesse Gross jesse@nicira.com
Fixes: b666962 (""tunneling: Allow matching and setting tunnel 'OAM' flag."")
Signed-off-by: Gregory Smith gasmith@nutanix.com",D'oh! No worries. I'll send patches to the mailing list in the future.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,214,2017-12-19T22:01:36Z,2017-12-19T22:32:56Z,2017-12-19T22:32:57Z,CLOSED,False,1,1,1,https://github.com/ryzhyk,typo in the ovn.at test script,1,[],https://github.com/openvswitch/ovs/pull/214,https://github.com/ryzhyk,1,https://github.com/openvswitch/ovs/pull/214,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,214,2017-12-19T22:01:36Z,2017-12-19T22:32:56Z,2017-12-19T22:32:57Z,CLOSED,False,1,1,1,https://github.com/ryzhyk,typo in the ovn.at test script,1,[],https://github.com/openvswitch/ovs/pull/214,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/214#issuecomment-352906989,,"Thanks, I applied this to master.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,215,2017-12-20T22:37:16Z,2018-01-23T20:54:34Z,2018-01-23T20:54:34Z,CLOSED,False,2,2,1,https://github.com/ryzhyk,ovn.at generates non-canonical MAC addresses,1,[],https://github.com/openvswitch/ovs/pull/215,https://github.com/ryzhyk,1,https://github.com/openvswitch/ovs/pull/215,"This is a very minor issue, but I guess there is no requirement for ovn-nbctl to accept MAC addresses in non-standard representation?","This is a very minor issue, but I guess there is no requirement for ovn-nbctl to accept MAC addresses in non-standard representation?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,215,2017-12-20T22:37:16Z,2018-01-23T20:54:34Z,2018-01-23T20:54:34Z,CLOSED,False,2,2,1,https://github.com/ryzhyk,ovn.at generates non-canonical MAC addresses,1,[],https://github.com/openvswitch/ovs/pull/215,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/215#issuecomment-359927070,"This is a very minor issue, but I guess there is no requirement for ovn-nbctl to accept MAC addresses in non-standard representation?","Thanks, I applied this to master and branch-2.9.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,216,2018-01-11T10:01:38Z,2018-01-11T10:22:26Z,2018-01-11T10:22:27Z,CLOSED,False,12795,5005,296,https://github.com/vikassingh27,Branch 2.7,350,[],https://github.com/openvswitch/ovs/pull/216,https://github.com/vikassingh27,1,https://github.com/openvswitch/ovs/pull/216,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,216,2018-01-11T10:01:38Z,2018-01-11T10:22:26Z,2018-01-11T10:22:27Z,CLOSED,False,12795,5005,296,https://github.com/vikassingh27,Branch 2.7,350,[],https://github.com/openvswitch/ovs/pull/216,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/216#issuecomment-356890987,,Please read the contribution guide.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,217,2018-01-17T19:01:44Z,2018-01-19T05:12:26Z,2018-01-19T05:12:26Z,CLOSED,False,7,4,2,https://github.com/noah8713,Show total_ports when displaying logical_switch,1,[],https://github.com/openvswitch/ovs/pull/217,https://github.com/noah8713,1,https://github.com/openvswitch/ovs/pull/217,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,218,2018-01-31T07:22:05Z,2018-01-31T07:52:58Z,2018-01-31T07:52:58Z,CLOSED,False,6443,928,176,https://github.com/xulongju,"OpenVSwitch 2.8.1 version, can support kernel-4.14.14 version，or later version support, thank you.",200,[],https://github.com/openvswitch/ovs/pull/218,https://github.com/xulongju,1,https://github.com/openvswitch/ovs/pull/218,"Hi：
OpenVSwitch 2.8.1 version, can support kernel-4.14.14 version，or later version support, thank you.","Hi：
OpenVSwitch 2.8.1 version, can support kernel-4.14.14 version，or later version support, thank you.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,218,2018-01-31T07:22:05Z,2018-01-31T07:52:58Z,2018-01-31T07:52:58Z,CLOSED,False,6443,928,176,https://github.com/xulongju,"OpenVSwitch 2.8.1 version, can support kernel-4.14.14 version，or later version support, thank you.",200,[],https://github.com/openvswitch/ovs/pull/218,https://github.com/joestringer,2,https://github.com/openvswitch/ovs/pull/218#issuecomment-361851740,"Hi：
OpenVSwitch 2.8.1 version, can support kernel-4.14.14 version，or later version support, thank you.",You can use the openvswitch kernel module that comes with your kernel; it's probably newer than the version in the OVS 2.8 tree anyway.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,219,2018-02-05T15:35:16Z,2018-02-05T16:38:20Z,2018-02-05T16:38:20Z,CLOSED,False,6468,928,176,https://github.com/xulongju,"ovs-lib: line 380: 12088 Illegal i nstruction     (core dumped) ovsdb-tool -vconsole:off ""$@""",201,[],https://github.com/openvswitch/ovs/pull/219,https://github.com/xulongju,1,https://github.com/openvswitch/ovs/pull/219,"Hi：
I use the version：openvswitch：2.8.1
I compiled completed, installed on another machine is completed, the startup error:
[FAILED]
Mon Feb  5 15:26:54 UTC 2018:start --system-id=random
/opt/config/openvswitch/conf.db does not exist ... (warning).
Creating empty database /opt/config/openvswitch/conf.db /opt/websuite/o
penvswitch/share/openvswitch/scripts/ovs-lib: line 380: 12088 Illegal i
nstruction     (core dumped) ovsdb-tool -vconsole:off ""$@""
[FAILED]","Hi：
I use the version：openvswitch：2.8.1
I compiled completed, installed on another machine is completed, the startup error:
[FAILED]
Mon Feb  5 15:26:54 UTC 2018:start --system-id=random
/opt/config/openvswitch/conf.db does not exist ... (warning).
Creating empty database /opt/config/openvswitch/conf.db /opt/websuite/o
penvswitch/share/openvswitch/scripts/ovs-lib: line 380: 12088 Illegal i
nstruction     (core dumped) ovsdb-tool -vconsole:off ""$@""
[FAILED]",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,219,2018-02-05T15:35:16Z,2018-02-05T16:38:20Z,2018-02-05T16:38:20Z,CLOSED,False,6468,928,176,https://github.com/xulongju,"ovs-lib: line 380: 12088 Illegal i nstruction     (core dumped) ovsdb-tool -vconsole:off ""$@""",201,[],https://github.com/openvswitch/ovs/pull/219,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/219#issuecomment-363141676,"Hi：
I use the version：openvswitch：2.8.1
I compiled completed, installed on another machine is completed, the startup error:
[FAILED]
Mon Feb  5 15:26:54 UTC 2018:start --system-id=random
/opt/config/openvswitch/conf.db does not exist ... (warning).
Creating empty database /opt/config/openvswitch/conf.db /opt/websuite/o
penvswitch/share/openvswitch/scripts/ovs-lib: line 380: 12088 Illegal i
nstruction     (core dumped) ovsdb-tool -vconsole:off ""$@""
[FAILED]",Please don't submit a bug report as a pull request.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,220,2018-02-28T17:48:53Z,2018-02-28T20:45:24Z,2018-02-28T20:45:24Z,CLOSED,False,0,2,1,https://github.com/dcbw,ovn-sbctl: remove incorrect manpage options for --bootstrap-ca-cert and --peer-ca-cert,1,[],https://github.com/openvswitch/ovs/pull/220,https://github.com/dcbw,1,https://github.com/openvswitch/ovs/pull/220,"These options are not implemented by ovn-sbctl.
Signed-off-by: Dan Williams dcbw@redhat.com
@shettyg","These options are not implemented by ovn-sbctl.
Signed-off-by: Dan Williams dcbw@redhat.com
@shettyg",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,220,2018-02-28T17:48:53Z,2018-02-28T20:45:24Z,2018-02-28T20:45:24Z,CLOSED,False,0,2,1,https://github.com/dcbw,ovn-sbctl: remove incorrect manpage options for --bootstrap-ca-cert and --peer-ca-cert,1,[],https://github.com/openvswitch/ovs/pull/220,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/220#issuecomment-369376694,"These options are not implemented by ovn-sbctl.
Signed-off-by: Dan Williams dcbw@redhat.com
@shettyg","I applied this to master, thanks!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,221,2018-03-20T13:53:54Z,2018-04-03T20:12:41Z,2018-04-03T20:12:41Z,CLOSED,False,1,1,1,https://github.com/frederictobiasc,Update docker run command,1,[],https://github.com/openvswitch/ovs/pull/221,https://github.com/frederictobiasc,1,https://github.com/openvswitch/ovs/pull/221,"Faucet config is now in: /etc/faucet/ and log in: /var/log/
The invocation is updated to comply with faucet documentation","Faucet config is now in: /etc/faucet/ and log in: /var/log/
The invocation is updated to comply with faucet documentation",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,221,2018-03-20T13:53:54Z,2018-04-03T20:12:41Z,2018-04-03T20:12:41Z,CLOSED,False,1,1,1,https://github.com/frederictobiasc,Update docker run command,1,[],https://github.com/openvswitch/ovs/pull/221,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/221#issuecomment-377725783,"Faucet config is now in: /etc/faucet/ and log in: /var/log/
The invocation is updated to comply with faucet documentation",Thanks for the fix.  May I have a Signed-off-by for this contribution?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,221,2018-03-20T13:53:54Z,2018-04-03T20:12:41Z,2018-04-03T20:12:41Z,CLOSED,False,1,1,1,https://github.com/frederictobiasc,Update docker run command,1,[],https://github.com/openvswitch/ovs/pull/221,https://github.com/frederictobiasc,3,https://github.com/openvswitch/ovs/pull/221#issuecomment-378359980,"Faucet config is now in: /etc/faucet/ and log in: /var/log/
The invocation is updated to comply with faucet documentation","Hi, sure:
Signed-off-by: Frédéric Tobias Christ fchrist@live.de
Should I also add this into the commit message?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,221,2018-03-20T13:53:54Z,2018-04-03T20:12:41Z,2018-04-03T20:12:41Z,CLOSED,False,1,1,1,https://github.com/frederictobiasc,Update docker run command,1,[],https://github.com/openvswitch/ovs/pull/221,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/221#issuecomment-378380808,"Faucet config is now in: /etc/faucet/ and log in: /var/log/
The invocation is updated to comply with faucet documentation",It is not necessary.  I applied this to master and branch-2.9.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,222,2018-03-28T10:08:50Z,,2018-12-18T20:16:50Z,OPEN,False,1,1,1,https://github.com/korimas,update the command for creating the faucet container,1,[],https://github.com/openvswitch/ovs/pull/222,https://github.com/korimas,1,https://github.com/openvswitch/ovs/pull/222,The specified directory is wrong.,The specified directory is wrong.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,222,2018-03-28T10:08:50Z,,2018-12-18T20:16:50Z,OPEN,False,1,1,1,https://github.com/korimas,update the command for creating the faucet container,1,[],https://github.com/openvswitch/ovs/pull/222,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/222#issuecomment-377718084,The specified directory is wrong.,Thanks for the patch.  May I have a Signed-off-by for this patch?  See http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,223,2018-04-09T22:48:58Z,2018-04-27T11:54:15Z,2018-04-27T11:56:18Z,CLOSED,False,8,3,1,https://github.com/apevec,rhel: user/group openvswitch does not exist,1,[],https://github.com/openvswitch/ovs/pull/223,https://github.com/apevec,1,https://github.com/openvswitch/ovs/pull/223,"Default ownership[1] for config files is failing on an empty system:
Running scriptlet: openvswitch-2.9.0-3.fc28.x86_64
warning: user openvswitch does not exist - using root
warning: group openvswitch does not exist - using root
...
Required user/group need to be created in %pre as documented in
Fedora guideline[2]
[1] 951d79e
[2] https://fedoraproject.org/wiki/Packaging:UsersAndGroups#Dynamic_allocation
Signed-off-by: Alan Pevec alan.pevec@redhat.com","Default ownership[1] for config files is failing on an empty system:
Running scriptlet: openvswitch-2.9.0-3.fc28.x86_64
warning: user openvswitch does not exist - using root
warning: group openvswitch does not exist - using root
...
Required user/group need to be created in %pre as documented in
Fedora guideline[2]
[1] 951d79e
[2] https://fedoraproject.org/wiki/Packaging:UsersAndGroups#Dynamic_allocation
Signed-off-by: Alan Pevec alan.pevec@redhat.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,223,2018-04-09T22:48:58Z,2018-04-27T11:54:15Z,2018-04-27T11:56:18Z,CLOSED,False,8,3,1,https://github.com/apevec,rhel: user/group openvswitch does not exist,1,[],https://github.com/openvswitch/ovs/pull/223,https://github.com/orgcandman,2,https://github.com/openvswitch/ovs/pull/223#issuecomment-380097973,"Default ownership[1] for config files is failing on an empty system:
Running scriptlet: openvswitch-2.9.0-3.fc28.x86_64
warning: user openvswitch does not exist - using root
warning: group openvswitch does not exist - using root
...
Required user/group need to be created in %pre as documented in
Fedora guideline[2]
[1] 951d79e
[2] https://fedoraproject.org/wiki/Packaging:UsersAndGroups#Dynamic_allocation
Signed-off-by: Alan Pevec alan.pevec@redhat.com","Thanks, Alan!  I'll submit this to the ovs-dev list.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,223,2018-04-09T22:48:58Z,2018-04-27T11:54:15Z,2018-04-27T11:56:18Z,CLOSED,False,8,3,1,https://github.com/apevec,rhel: user/group openvswitch does not exist,1,[],https://github.com/openvswitch/ovs/pull/223,https://github.com/krsacme,3,https://github.com/openvswitch/ovs/pull/223#issuecomment-384942877,"Default ownership[1] for config files is failing on an empty system:
Running scriptlet: openvswitch-2.9.0-3.fc28.x86_64
warning: user openvswitch does not exist - using root
warning: group openvswitch does not exist - using root
...
Required user/group need to be created in %pre as documented in
Fedora guideline[2]
[1] 951d79e
[2] https://fedoraproject.org/wiki/Packaging:UsersAndGroups#Dynamic_allocation
Signed-off-by: Alan Pevec alan.pevec@redhat.com","It is missing the creation of ""hugetlbfs"" group, which is required for dpdk, will there be a follow up?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,223,2018-04-09T22:48:58Z,2018-04-27T11:54:15Z,2018-04-27T11:56:18Z,CLOSED,False,8,3,1,https://github.com/apevec,rhel: user/group openvswitch does not exist,1,[],https://github.com/openvswitch/ovs/pull/223,https://github.com/apevec,4,https://github.com/openvswitch/ovs/pull/223#issuecomment-384948430,"Default ownership[1] for config files is failing on an empty system:
Running scriptlet: openvswitch-2.9.0-3.fc28.x86_64
warning: user openvswitch does not exist - using root
warning: group openvswitch does not exist - using root
...
Required user/group need to be created in %pre as documented in
Fedora guideline[2]
[1] 951d79e
[2] https://fedoraproject.org/wiki/Packaging:UsersAndGroups#Dynamic_allocation
Signed-off-by: Alan Pevec alan.pevec@redhat.com","hugetlbfs is included in Aaron's post on ovs-dev
[PATCH v3] rhel: user/group openvswitch does not exist
We can close this PR since it's out of date.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,223,2018-04-09T22:48:58Z,2018-04-27T11:54:15Z,2018-04-27T11:56:18Z,CLOSED,False,8,3,1,https://github.com/apevec,rhel: user/group openvswitch does not exist,1,[],https://github.com/openvswitch/ovs/pull/223,https://github.com/apevec,5,https://github.com/openvswitch/ovs/pull/223#issuecomment-384948826,"Default ownership[1] for config files is failing on an empty system:
Running scriptlet: openvswitch-2.9.0-3.fc28.x86_64
warning: user openvswitch does not exist - using root
warning: group openvswitch does not exist - using root
...
Required user/group need to be created in %pre as documented in
Fedora guideline[2]
[1] 951d79e
[2] https://fedoraproject.org/wiki/Packaging:UsersAndGroups#Dynamic_allocation
Signed-off-by: Alan Pevec alan.pevec@redhat.com","Please review
[PATCH v3] rhel: user/group openvswitch does not exist
https://mail.openvswitch.org/pipermail/ovs-dev/2018-April/346315.html",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,224,2018-04-12T02:31:27Z,2018-04-13T18:10:31Z,2018-04-17T19:46:54Z,CLOSED,False,224,42,3,https://github.com/eirinikos,edit Open vSwitch license info so that GitHub recognizes it,1,[],https://github.com/openvswitch/ovs/pull/224,https://github.com/eirinikos,1,https://github.com/openvswitch/ovs/pull/224,"Hello! 👋
(CCing @dankohn who has requested this work so that the license will appear correctly in https://landscape.cncf.io/selected=open-v-switch)
GitHub uses a library called Licensee to identify a project's license
type. It shows this information in the status bar and via the API if it
can unambiguously identify the license.
This commit creates a LICENSE file that stores the full text of the
Apache license. It also removes the COPYING file and transfers its
contents to a new ""License"" section in the README.
Collectively, these changes allow Licensee to successfully identify the
license type of Open vSwitch's codebase as Apache.","Hello! 👋
(CCing @dankohn who has requested this work so that the license will appear correctly in https://landscape.cncf.io/selected=open-v-switch)
GitHub uses a library called Licensee to identify a project's license
type. It shows this information in the status bar and via the API if it
can unambiguously identify the license.
This commit creates a LICENSE file that stores the full text of the
Apache license. It also removes the COPYING file and transfers its
contents to a new ""License"" section in the README.
Collectively, these changes allow Licensee to successfully identify the
license type of Open vSwitch's codebase as Apache.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,224,2018-04-12T02:31:27Z,2018-04-13T18:10:31Z,2018-04-17T19:46:54Z,CLOSED,False,224,42,3,https://github.com/eirinikos,edit Open vSwitch license info so that GitHub recognizes it,1,[],https://github.com/openvswitch/ovs/pull/224,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/224#issuecomment-381218212,"Hello! 👋
(CCing @dankohn who has requested this work so that the license will appear correctly in https://landscape.cncf.io/selected=open-v-switch)
GitHub uses a library called Licensee to identify a project's license
type. It shows this information in the status bar and via the API if it
can unambiguously identify the license.
This commit creates a LICENSE file that stores the full text of the
Apache license. It also removes the COPYING file and transfers its
contents to a new ""License"" section in the README.
Collectively, these changes allow Licensee to successfully identify the
license type of Open vSwitch's codebase as Apache.",Thanks.  I made some updates and submitted the updated version to our developer mailing list for review (which is the more common way that we handle submissions for OVS).  You should be CCed so that you continue to receieve updates.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,224,2018-04-12T02:31:27Z,2018-04-13T18:10:31Z,2018-04-17T19:46:54Z,CLOSED,False,224,42,3,https://github.com/eirinikos,edit Open vSwitch license info so that GitHub recognizes it,1,[],https://github.com/openvswitch/ovs/pull/224,https://github.com/eirinikos,3,https://github.com/openvswitch/ovs/pull/224#issuecomment-381684645,"Hello! 👋
(CCing @dankohn who has requested this work so that the license will appear correctly in https://landscape.cncf.io/selected=open-v-switch)
GitHub uses a library called Licensee to identify a project's license
type. It shows this information in the status bar and via the API if it
can unambiguously identify the license.
This commit creates a LICENSE file that stores the full text of the
Apache license. It also removes the COPYING file and transfers its
contents to a new ""License"" section in the README.
Collectively, these changes allow Licensee to successfully identify the
license type of Open vSwitch's codebase as Apache.",Thanks @blp. I'll follow the thread on your mailing list.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,225,2018-04-16T21:13:38Z,2018-04-19T16:24:45Z,2018-04-19T16:24:45Z,CLOSED,False,1,1,1,https://github.com/memotype,rpm: depend on /bin/sed instead of /usr/bin/sed for compatibility,1,[],https://github.com/openvswitch/ovs/pull/225,https://github.com/memotype,1,https://github.com/openvswitch/ovs/pull/225,"The sed package in RHEL/CentOS 7 only provides /bin/sed and not
/usr/bin/sed, but later versions (including Fedora) provide both.","The sed package in RHEL/CentOS 7 only provides /bin/sed and not
/usr/bin/sed, but later versions (including Fedora) provide both.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,225,2018-04-16T21:13:38Z,2018-04-19T16:24:45Z,2018-04-19T16:24:45Z,CLOSED,False,1,1,1,https://github.com/memotype,rpm: depend on /bin/sed instead of /usr/bin/sed for compatibility,1,[],https://github.com/openvswitch/ovs/pull/225,https://github.com/memotype,2,https://github.com/openvswitch/ovs/pull/225#issuecomment-381751989,"The sed package in RHEL/CentOS 7 only provides /bin/sed and not
/usr/bin/sed, but later versions (including Fedora) provide both.",#143,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,225,2018-04-16T21:13:38Z,2018-04-19T16:24:45Z,2018-04-19T16:24:45Z,CLOSED,False,1,1,1,https://github.com/memotype,rpm: depend on /bin/sed instead of /usr/bin/sed for compatibility,1,[],https://github.com/openvswitch/ovs/pull/225,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/225#issuecomment-382087623,"The sed package in RHEL/CentOS 7 only provides /bin/sed and not
/usr/bin/sed, but later versions (including Fedora) provide both.","Thank you for the patch.  It looks correct to me.
Would you mind providing a Signed-off-by line to indicate compliance with the Developer's Certificate of Origin?  https://developercertificate.org/
Thanks again,
Ben.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,225,2018-04-16T21:13:38Z,2018-04-19T16:24:45Z,2018-04-19T16:24:45Z,CLOSED,False,1,1,1,https://github.com/memotype,rpm: depend on /bin/sed instead of /usr/bin/sed for compatibility,1,[],https://github.com/openvswitch/ovs/pull/225,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/225#issuecomment-382087999,"The sed package in RHEL/CentOS 7 only provides /bin/sed and not
/usr/bin/sed, but later versions (including Fedora) provide both.","I don't know what the comment ""#143"" means here.  Github links it to a pull request for ""travis: Fix flake8 failures from flake8 3.0"", which does not look related to me. Maybe it was a typo.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,225,2018-04-16T21:13:38Z,2018-04-19T16:24:45Z,2018-04-19T16:24:45Z,CLOSED,False,1,1,1,https://github.com/memotype,rpm: depend on /bin/sed instead of /usr/bin/sed for compatibility,1,[],https://github.com/openvswitch/ovs/pull/225,https://github.com/memotype,5,https://github.com/openvswitch/ovs/pull/225#issuecomment-382541784,"The sed package in RHEL/CentOS 7 only provides /bin/sed and not
/usr/bin/sed, but later versions (including Fedora) provide both.","Sorry, I think I opened an issue, but it was removed maybe? Basically it was related to this:
coreos/rpm-ostree#1337
Also, I'm not sure what you mean by ""Signed-off-by line to indicate compliance with ...""
You mean something like this:
I certify that I am in compliance with the Developer's Certificate of Origin https://developercertificate.org/ -- memotype",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,225,2018-04-16T21:13:38Z,2018-04-19T16:24:45Z,2018-04-19T16:24:45Z,CLOSED,False,1,1,1,https://github.com/memotype,rpm: depend on /bin/sed instead of /usr/bin/sed for compatibility,1,[],https://github.com/openvswitch/ovs/pull/225,https://github.com/blp,6,https://github.com/openvswitch/ovs/pull/225#issuecomment-382545529,"The sed package in RHEL/CentOS 7 only provides /bin/sed and not
/usr/bin/sed, but later versions (including Fedora) provide both.","The Signed-off-by tag is explained here: https://github.com/openvswitch/ovs/blob/master/Documentation/internals/contributing/submitting-patches.rst#tags
So what I need from you is:
Signed-off-by: Your Name your@email.domain
(It's hard to tell how much I need to explain to each person, because Signed-off-by and the CDO is common in some open source communities and unknown in others.)
Thanks!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,225,2018-04-16T21:13:38Z,2018-04-19T16:24:45Z,2018-04-19T16:24:45Z,CLOSED,False,1,1,1,https://github.com/memotype,rpm: depend on /bin/sed instead of /usr/bin/sed for compatibility,1,[],https://github.com/openvswitch/ovs/pull/225,https://github.com/memotype,7,https://github.com/openvswitch/ovs/pull/225#issuecomment-382793678,"The sed package in RHEL/CentOS 7 only provides /bin/sed and not
/usr/bin/sed, but later versions (including Fedora) provide both.",Signed-off-by: Isaac Freeman memotype@gmail.com,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,225,2018-04-16T21:13:38Z,2018-04-19T16:24:45Z,2018-04-19T16:24:45Z,CLOSED,False,1,1,1,https://github.com/memotype,rpm: depend on /bin/sed instead of /usr/bin/sed for compatibility,1,[],https://github.com/openvswitch/ovs/pull/225,https://github.com/blp,8,https://github.com/openvswitch/ovs/pull/225#issuecomment-382797518,"The sed package in RHEL/CentOS 7 only provides /bin/sed and not
/usr/bin/sed, but later versions (including Fedora) provide both.","Thank you!  I applied this to master.  If you want it backported to earlier branches, please let me know.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,226,2018-04-20T19:58:25Z,2018-04-21T16:42:47Z,2018-04-21T16:43:05Z,MERGED,True,11,2,4,https://github.com/dcbw,ovn-sbctl: add support for --bootstrap-ca-cert,2,[],https://github.com/openvswitch/ovs/pull/226,https://github.com/dcbw,1,https://github.com/openvswitch/ovs/pull/226,"Brings it in-line with ovn-nbctl.
@LorenzoBianconi @jsitnicki @orgcandman @shettyg @rajatchopra","Brings it in-line with ovn-nbctl.
@LorenzoBianconi @jsitnicki @orgcandman @shettyg @rajatchopra",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,226,2018-04-20T19:58:25Z,2018-04-21T16:42:47Z,2018-04-21T16:43:05Z,MERGED,True,11,2,4,https://github.com/dcbw,ovn-sbctl: add support for --bootstrap-ca-cert,2,[],https://github.com/openvswitch/ovs/pull/226,https://github.com/dcbw,2,https://github.com/openvswitch/ovs/pull/226#issuecomment-383222946,"Brings it in-line with ovn-nbctl.
@LorenzoBianconi @jsitnicki @orgcandman @shettyg @rajatchopra","Hmm, CI failures don't seem related to any of these changes.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,226,2018-04-20T19:58:25Z,2018-04-21T16:42:47Z,2018-04-21T16:43:05Z,MERGED,True,11,2,4,https://github.com/dcbw,ovn-sbctl: add support for --bootstrap-ca-cert,2,[],https://github.com/openvswitch/ovs/pull/226,https://github.com/dcbw,3,https://github.com/openvswitch/ovs/pull/226#issuecomment-383258791,"Brings it in-line with ovn-nbctl.
@LorenzoBianconi @jsitnicki @orgcandman @shettyg @rajatchopra",/retest,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,226,2018-04-20T19:58:25Z,2018-04-21T16:42:47Z,2018-04-21T16:43:05Z,MERGED,True,11,2,4,https://github.com/dcbw,ovn-sbctl: add support for --bootstrap-ca-cert,2,[],https://github.com/openvswitch/ovs/pull/226,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/226#issuecomment-383311626,"Brings it in-line with ovn-nbctl.
@LorenzoBianconi @jsitnicki @orgcandman @shettyg @rajatchopra",Thanks for the patches.  I applied these to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,227,2018-04-23T18:08:13Z,2018-05-09T21:41:21Z,2018-05-09T21:41:21Z,CLOSED,False,39,3,9,https://github.com/dcbw,man/usage: expose missing --peer-ca-cert and SSL options,1,[],https://github.com/openvswitch/ovs/pull/227,https://github.com/dcbw,1,https://github.com/openvswitch/ovs/pull/227,"@blp @shettyg
Signed-off-by: Dan Williams dcbw@redhat.com","@blp @shettyg
Signed-off-by: Dan Williams dcbw@redhat.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,227,2018-04-23T18:08:13Z,2018-05-09T21:41:21Z,2018-05-09T21:41:21Z,CLOSED,False,39,3,9,https://github.com/dcbw,man/usage: expose missing --peer-ca-cert and SSL options,1,[],https://github.com/openvswitch/ovs/pull/227,https://github.com/dcbw,2,https://github.com/openvswitch/ovs/pull/227#issuecomment-384422408,"@blp @shettyg
Signed-off-by: Dan Williams dcbw@redhat.com",rebased and repushed to see if master has fixed the CI errors...,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,227,2018-04-23T18:08:13Z,2018-05-09T21:41:21Z,2018-05-09T21:41:21Z,CLOSED,False,39,3,9,https://github.com/dcbw,man/usage: expose missing --peer-ca-cert and SSL options,1,[],https://github.com/openvswitch/ovs/pull/227,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/227#issuecomment-387884236,"@blp @shettyg
Signed-off-by: Dan Williams dcbw@redhat.com","Thanks, I applied this to master.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,228,2018-04-27T22:36:08Z,2018-06-15T21:12:48Z,2018-06-15T21:12:48Z,CLOSED,False,7,6,1,https://github.com/greenpau,python/ovs: zerofill event id in vlog and remove field padding,1,[],https://github.com/openvswitch/ovs/pull/228,https://github.com/greenpau,1,https://github.com/openvswitch/ovs/pull/228,"Make the logging format consitent with OVS the rest of OVS logs.
Currently, the log output generated by vlog has padding for each field.
Additionally, the event identifier, e.g. 1, is not padded with zeros:
2018-03-27T23:30:54.090Z |  1  | ovn-docker-overlay-driver | INFO | ovn-docker-overlay-driver: test

This change removes the field padding and adds zerofill to event
identtifiers:
2018-03-27T23:46:58.762Z|00001|ovn-docker-overlay-driver|INFO|ovn-docker-overlay-driver: test

Signed-off-by: Paul Greenberg greenpau@outlook.com","Make the logging format consitent with OVS the rest of OVS logs.
Currently, the log output generated by vlog has padding for each field.
Additionally, the event identifier, e.g. 1, is not padded with zeros:
2018-03-27T23:30:54.090Z |  1  | ovn-docker-overlay-driver | INFO | ovn-docker-overlay-driver: test

This change removes the field padding and adds zerofill to event
identtifiers:
2018-03-27T23:46:58.762Z|00001|ovn-docker-overlay-driver|INFO|ovn-docker-overlay-driver: test

Signed-off-by: Paul Greenberg greenpau@outlook.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,228,2018-04-27T22:36:08Z,2018-06-15T21:12:48Z,2018-06-15T21:12:48Z,CLOSED,False,7,6,1,https://github.com/greenpau,python/ovs: zerofill event id in vlog and remove field padding,1,[],https://github.com/openvswitch/ovs/pull/228,https://github.com/greenpau,2,https://github.com/openvswitch/ovs/pull/228#issuecomment-386887846,"Make the logging format consitent with OVS the rest of OVS logs.
Currently, the log output generated by vlog has padding for each field.
Additionally, the event identifier, e.g. 1, is not padded with zeros:
2018-03-27T23:30:54.090Z |  1  | ovn-docker-overlay-driver | INFO | ovn-docker-overlay-driver: test

This change removes the field padding and adds zerofill to event
identtifiers:
2018-03-27T23:46:58.762Z|00001|ovn-docker-overlay-driver|INFO|ovn-docker-overlay-driver: test

Signed-off-by: Paul Greenberg greenpau@outlook.com",Closing this one in favor of #230,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,229,2018-04-27T22:57:35Z,2018-05-06T15:29:31Z,2018-05-06T15:29:31Z,CLOSED,False,42,0,2,https://github.com/greenpau,ovn/utilities: add info level log function,1,[],https://github.com/openvswitch/ovs/pull/229,https://github.com/greenpau,1,https://github.com/openvswitch/ovs/pull/229,"There is no INFO level log function. It is either ERROR or
FATAL. This PR adds it.
Signed-off-by: Paul Greenberg greenpau@outlook.com","There is no INFO level log function. It is either ERROR or
FATAL. This PR adds it.
Signed-off-by: Paul Greenberg greenpau@outlook.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,229,2018-04-27T22:57:35Z,2018-05-06T15:29:31Z,2018-05-06T15:29:31Z,CLOSED,False,42,0,2,https://github.com/greenpau,ovn/utilities: add info level log function,1,[],https://github.com/openvswitch/ovs/pull/229,https://github.com/greenpau,2,https://github.com/openvswitch/ovs/pull/229#issuecomment-385138389,"There is no INFO level log function. It is either ERROR or
FATAL. This PR adds it.
Signed-off-by: Paul Greenberg greenpau@outlook.com","@blp , I don’t think that the test failed due to an issue in this PR. I think the failure is unrelated. Could you please take a look.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,229,2018-04-27T22:57:35Z,2018-05-06T15:29:31Z,2018-05-06T15:29:31Z,CLOSED,False,42,0,2,https://github.com/greenpau,ovn/utilities: add info level log function,1,[],https://github.com/openvswitch/ovs/pull/229,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/229#issuecomment-385281497,"There is no INFO level log function. It is either ERROR or
FATAL. This PR adds it.
Signed-off-by: Paul Greenberg greenpau@outlook.com",I posted this to the ovs-dev mailing list to ensure that it gets noticed by the right people to review it (probably Guru; not me): https://patchwork.ozlabs.org/patch/906419/,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,229,2018-04-27T22:57:35Z,2018-05-06T15:29:31Z,2018-05-06T15:29:31Z,CLOSED,False,42,0,2,https://github.com/greenpau,ovn/utilities: add info level log function,1,[],https://github.com/openvswitch/ovs/pull/229,https://github.com/greenpau,4,https://github.com/openvswitch/ovs/pull/229#issuecomment-385284292,"There is no INFO level log function. It is either ERROR or
FATAL. This PR adds it.
Signed-off-by: Paul Greenberg greenpau@outlook.com","I posted this to the ovs-dev mailing list to ensure that it gets noticed by the right people to review it (probably Guru; not me): https://patchwork.ozlabs.org/patch/906419/

@blp, thank you! Btw, I am working on modifying the https://github.com/openvswitch/ovs/blob/master/ovn/utilities/ovn-docker-overlay-driver.in. Currently, the code does not have any debugging or logging functionality, e.g. logging Docker requests to the plugin, etc. That's why I added the two functions. I will have a separate PR for that.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,229,2018-04-27T22:57:35Z,2018-05-06T15:29:31Z,2018-05-06T15:29:31Z,CLOSED,False,42,0,2,https://github.com/greenpau,ovn/utilities: add info level log function,1,[],https://github.com/openvswitch/ovs/pull/229,https://github.com/greenpau,5,https://github.com/openvswitch/ovs/pull/229#issuecomment-386887808,"There is no INFO level log function. It is either ERROR or
FATAL. This PR adds it.
Signed-off-by: Paul Greenberg greenpau@outlook.com","@blp , closing this one in favor of #230",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,1,https://github.com/openvswitch/ovs/pull/230,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,2,https://github.com/openvswitch/ovs/pull/230#issuecomment-386887753,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","Hi @shettyg , I noticed you wrote the initial version of the plugin. Could you please review this pull request? I would appreciate your feedback and insights.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/shettyg,3,https://github.com/openvswitch/ovs/pull/230#issuecomment-387101752,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","Hi @shettyg , I noticed you wrote the initial version of the plugin. Could you please review this pull request? I would appreciate your feedback and insights.

I will take a look. Lots of new code, so it will take a few days.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,4,https://github.com/openvswitch/ovs/pull/230#issuecomment-387107370,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","I will take a look. Lots of new code, so it will take a few days.

@shettyg , thank you! :-) There are still some additional work there, e.g. key-value store cleanups and synchronization of ports that were removed without Libnetwork calls, e.g. power off, or kill -9 <docker-PID>. I just want to get a head start, since there is a lot of code 😄",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,5,https://github.com/openvswitch/ovs/pull/230#issuecomment-387107739,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","@shettyg , I also tried leaving the original plugin flow intact. The majority of my additions are optional.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,6,https://github.com/openvswitch/ovs/pull/230#issuecomment-397374092,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","@blp, I think this one is good for review. Could you please resubmit the patch?
@shettyg , when you get a chance. I summarized the non-default features here.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/blp,7,https://github.com/openvswitch/ovs/pull/230#issuecomment-397380385,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","Doesn't build:

../Documentation/howto/docker.rst:327:
$ echo -n ""default-10.10.10.0/24"" | sha256sum
See above for uses for ""echo -n"", which is non-POSIX
and does not work with all shells.  Use ""printf"" instead.",True,{'THUMBS_UP': ['https://github.com/greenpau']}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/shettyg,8,https://github.com/openvswitch/ovs/pull/230#issuecomment-397381999,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","@greenpau
Sorry about the delay. I forgot about this (Not having a good TODO list is to blame). Overall, I see that you have thought long and hard to make driver ""local"" and changing it to fit your use case.  But a change which modifies OVN flow table out of band is something that cannot be maintained in the repo. The OVN flow tables constantly change. The table numbers change with every new feature.
I wrote the docker driver when docker was all the hype. But, after the initial commit, we found it very hard to make the driver flexible to get more data from docker command-line.  Doing a lot of tricks in the background is a little less sustainable in the long run to maintain and so, we decided against pursuing the idea to make the driver use more OVN features.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,9,https://github.com/openvswitch/ovs/pull/230#issuecomment-397384571,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","But a change which modifies OVN flow table out of band is something that cannot be maintained in the repo.

@shettyg , even when the features are disabled by default? By default, there are no changes to how the plugin works today.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/shettyg,10,https://github.com/openvswitch/ovs/pull/230#issuecomment-397386449,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","@greenpau
Yeah. The ideal thing for us is to only handle docker APIs and convert it to OVN APIs. Simple tricks like using IP subnets as network names are okay. Using any backdoor to Docker too is bound to create issues as that may change from one version to another. Using backdoor to OVN is definitely bound to create issues.
The primary issue is maintainability of code. We don't want wrong code hanging in.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,11,https://github.com/openvswitch/ovs/pull/230#issuecomment-397393553,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","The primary issue is maintainability of code. We don't want wrong code hanging in.

@shettyg , that's fair. Since this PR has multiple features and other additions (e.g. logging, exit handling, cleanups), which of them you consider not a fit?

The ideal thing for us is to only handle docker APIs and convert it to OVN APIs.

The practical aspect of it is that once a user powers down a host (or the host crashes) without proper shutdown and it will result in OVS port being abandoned, OVN NB database out-of-sync, etc. Thus, any component that is related to the plugin must be in constant sync, i.e. OVS, Docker, OVN NB. It almost always requires a ""shim.""
From my perspective, the gap in the ""overlay"" plugin is that it forces a user to adopt Docker Swarm methodology. The same is true about ""underlay"" plugin, where you have to adopt OpenStack. It is a move away from modular (which I personally prefer) and move towards ""being a part of"" Docker Swarm, OpenStack, etc.
For example, why would anyone use OVN IPAM when it is available natively from Docker? On the other hand, if OVN IPAM had a Docker LibNetwork plugin of IpamDriver type, then Docker Swarm would not have been necessary and OVN IPAM would have been used instead.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,12,https://github.com/openvswitch/ovs/pull/230#issuecomment-397404064,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","Doesn't build:

@blp , fixed.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/blp,13,https://github.com/openvswitch/ovs/pull/230#issuecomment-397412020,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","pychecker errors:

../python/ovs/util.py:125:1: E302 expected 2 blank lines, found 1
../python/ovs/vlog.py:135:9: E266 too many leading '#' for block comment
../python/ovs/vlog.py:136:9: E266 too many leading '#' for block comment
../python/ovs/vlog.py:143:48: E703 statement ends with a semicolon",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/shettyg,14,https://github.com/openvswitch/ovs/pull/230#issuecomment-397426541,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","that's fair. Since this PR has multiple features and other additions (e.g. logging, exit handling, cleanups), which of them you consider not a fit?

For logging, have you looked at vlog.info, vlog.dbg etc? vtep/ovs-vtep.in has some examples.
There are many enhancements we can take. But, it would be nice, if they are split into multiple commits and it is easy pick them and review them. May be cleanup as a commit first and then slowly add new features?

From my perspective, the gap in the ""overlay"" plugin is that it forces a user to adopt Docker Swarm methodology. The same is true about ""underlay"" plugin, where you have to adopt OpenStack. It is a move away from modular (which I personally prefer) and move towards ""being a part of"" Docker Swarm, OpenStack, etc.

I agree that the plugin as it is now is only useful as a POC for someone to look at then integrate OVN with their inhouse docker infrastructure.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,15,https://github.com/openvswitch/ovs/pull/230#issuecomment-397432600,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","For logging, have you looked at vlog.info, vlog.dbg etc?

@shettyg , yes. My thinking was that since the service is managed by systemd (hence added systemd unit file), it would be great to have both vlog and stdout. This way journald has all the entries related to the plugin and related services. Appologies for my not knowing/understanding this, are you saying vlog.info can do stdout/stderr?

But, it would be nice, if they are split into multiple commits and it is easy pick them and review them. May be cleanup as a commit first and then slowly add new features?

@shettyg , I agree, I will split. That's why I want to get feedback on what might be useful for the project. As far as I understand right now, you are not in favor of IP lookups and Docker calls.

is now is only useful as a POC for someone to look at then integrate OVN with their inhouse docker infrastructure.

@shettyg , 💯 , hence all the work to make it to ""alpha"" 😄",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,16,https://github.com/openvswitch/ovs/pull/230#issuecomment-397434482,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","pychecker errors ...

@blp, fixed.
Also, there are other failing tests:
2020: simple idl, initially empty, no ops - Python2 - tcp6 FAILED (ovsdb-idl.at:219)
2031: simple idl, initially empty, various ops - Python2 - tcp6 FAILED (ovsdb-idl.at:226)
2042: simple idl, initially populated - Python2 - tcp6 FAILED (ovsdb-idl.at:304)
2053: simple idl, writing via IDL - Python2 - tcp6    FAILED (ovsdb-idl.at:335)
2064: simple idl, writing via IDL with unicode - Python2 - tcp6 FAILED (ovsdb-idl.at:366)
2077: simple idl, handling verification failure - Python2 - tcp6 FAILED (ovsdb-idl.at:412)
2088: simple idl, increment operation - Python2 - tcp6 FAILED (ovsdb-idl.at:443)
2099: simple idl, aborting - Python2 - tcp6           FAILED (ovsdb-idl.at:455)
2110: simple idl, destroy without commit or abort - Python2 - tcp6 FAILED (ovsdb-idl.at:469)
2121: simple idl, conditional, false condition - Python2 - tcp6 FAILED (ovsdb-idl.at:483)
2132: simple idl, conditional, true condition - Python2 - tcp6 FAILED (ovsdb-idl.at:499)
2143: simple idl, conditional, multiple clauses in condition - Python2 - tcp6 FAILED (ovsdb-idl.at:515)
2154: simple idl, conditional, modify as insert due to condition - Python2 - tcp6 FAILED (ovsdb-idl.at:537)
2165: simple idl, conditional, modify as delete due to condition - Python2 - tcp6 FAILED (ovsdb-idl.at:553)
2176: simple idl, conditional, multiple tables - Python2 - tcp6 FAILED (ovsdb-idl.at:580)
2187: self-linking idl, consistent ops - Python2 - tcp6 FAILED (ovsdb-idl.at:619)
2198: self-linking idl, inconsistent ops - Python2 - tcp6 FAILED (ovsdb-idl.at:663)
2209: self-linking idl, sets - Python2 - tcp6         FAILED (ovsdb-idl.at:711)
2220: external-linking idl, consistent ops - Python2 - tcp6 FAILED (ovsdb-idl.at:761)

I ran once of them, it fails:
## ------------------------------ ##
## openvswitch 2.9.90 test suite. ##
## ------------------------------ ##
2020: simple idl, initially empty, no ops - Python2 - tcp6 skipped (ovsdb-idl.at:219)

## ------------- ##
## Test results. ##
## ------------- ##

0 tests were successful.
1 test was skipped.

The error is caused by:
OVSDB_CHECK_IDL([simple idl, initially empty, no ops],
  [],
  [],
  [000: empty
001: done
])

What is the best way to troubleshoot this? i.e. there is some kind of comparison, how to output what is that baseline being compared to?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/blp,17,https://github.com/openvswitch/ovs/pull/230#issuecomment-397436533,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","@greenpau Tests generate a testsuite.log with details.  You can read that for full information.
Maybe IPv6 is disabled on your test machine in a way that the tests didn't understand until now.  There was just a fix for that: f7979b1",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,18,https://github.com/openvswitch/ovs/pull/230#issuecomment-397436958,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","Maybe IPv6 is disabled on your test machine in a way that the tests didn't understand until now. There was just a fix for that: f7979b1

@blp , it is failing in Travis too.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,230,2018-05-06T15:27:17Z,2018-06-15T21:12:34Z,2018-06-15T21:12:34Z,CLOSED,False,1144,86,9,https://github.com/greenpau,ovn/docker-overlay: stretch Logical_Switch across multiple clusters,1,[],https://github.com/openvswitch/ovs/pull/230,https://github.com/greenpau,19,https://github.com/openvswitch/ovs/pull/230#issuecomment-397437639,"By default this plugin creates a logical switch on per key-value
store basis. The plugin derives the logical switch name from the
NetworkID, which is cluster specific. When this option is enabled,
the logical switch name is derived from IP subnet and the subnet's
context. This way a logical switch may stretch across multiple
clusters managed by different key-value stores. The context
provides for overlapping address space.
Signed-off-by: Paul Greenberg greenpau@outlook.com","@blp , nevermind, the change was committed today. Will re-sync.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,231,2018-05-18T09:46:26Z,2018-05-18T09:47:13Z,2018-05-18T09:47:13Z,CLOSED,False,8704,4175,266,https://github.com/azzurrow,Branch 2.6,415,[],https://github.com/openvswitch/ovs/pull/231,https://github.com/azzurrow,1,https://github.com/openvswitch/ovs/pull/231,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,232,2018-05-25T15:24:32Z,2018-05-25T15:58:15Z,2018-05-25T15:58:39Z,CLOSED,False,7655,1238,205,https://github.com/autoberry,Branch 2.8,255,[],https://github.com/openvswitch/ovs/pull/232,https://github.com/autoberry,1,https://github.com/openvswitch/ovs/pull/232,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,232,2018-05-25T15:24:32Z,2018-05-25T15:58:15Z,2018-05-25T15:58:39Z,CLOSED,False,7655,1238,205,https://github.com/autoberry,Branch 2.8,255,[],https://github.com/openvswitch/ovs/pull/232,https://github.com/russellb,2,https://github.com/openvswitch/ovs/pull/232#issuecomment-392103398,,Closed.  Merging branch-2.8 into master doesn't make sense.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,233,2018-05-25T17:55:20Z,2018-05-25T21:58:19Z,2018-05-25T21:58:19Z,CLOSED,False,7,2,1,https://github.com/dcbw,vlog: exit with error if explicitly specified logfile cannot be opened,1,[],https://github.com/openvswitch/ovs/pull/233,https://github.com/dcbw,1,https://github.com/openvswitch/ovs/pull/233,"It seems like if the user wanted a specific logfile but that request
cannot be fulfilled, OVS/OVN shouldn't just continue as if nothing
really happened (besides logging a warning).
Signed-off-by: Dan Williams dcbw@redhat.com
@shettyg @rajatchopra @fleitner @putnopvut","It seems like if the user wanted a specific logfile but that request
cannot be fulfilled, OVS/OVN shouldn't just continue as if nothing
really happened (besides logging a warning).
Signed-off-by: Dan Williams dcbw@redhat.com
@shettyg @rajatchopra @fleitner @putnopvut",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,233,2018-05-25T17:55:20Z,2018-05-25T21:58:19Z,2018-05-25T21:58:19Z,CLOSED,False,7,2,1,https://github.com/dcbw,vlog: exit with error if explicitly specified logfile cannot be opened,1,[],https://github.com/openvswitch/ovs/pull/233,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/233#issuecomment-392198086,"It seems like if the user wanted a specific logfile but that request
cannot be fulfilled, OVS/OVN shouldn't just continue as if nothing
really happened (besides logging a warning).
Signed-off-by: Dan Williams dcbw@redhat.com
@shettyg @rajatchopra @fleitner @putnopvut","I made some style fixups and applied this to master.  @dcbw Thanks!
@jsitnicki That would be even better.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,234,2018-06-05T02:42:34Z,2018-06-05T18:02:43Z,2018-06-05T18:02:44Z,CLOSED,False,2,0,1,https://github.com/cotequeiroz,Removed calls to API deprecated in openssl 1.1,1,[],https://github.com/openvswitch/ovs/pull/234,https://github.com/cotequeiroz,1,https://github.com/openvswitch/ovs/pull/234,"In openssl 1.1, there is no need to initialize the library.  It is automatically done when first used.  This patch allows to compile openvswitch against openssl 1.1.0 with deprecated API disabled.
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com","In openssl 1.1, there is no need to initialize the library.  It is automatically done when first used.  This patch allows to compile openvswitch against openssl 1.1.0 with deprecated API disabled.
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,234,2018-06-05T02:42:34Z,2018-06-05T18:02:43Z,2018-06-05T18:02:44Z,CLOSED,False,2,0,1,https://github.com/cotequeiroz,Removed calls to API deprecated in openssl 1.1,1,[],https://github.com/openvswitch/ovs/pull/234,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/234#issuecomment-394570896,"In openssl 1.1, there is no need to initialize the library.  It is automatically done when first used.  This patch allows to compile openvswitch against openssl 1.1.0 with deprecated API disabled.
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com","Thanks for the patch.
Just above the code that you commented out is a call to CRYPTO_malloc_init() inside #ifdef _WIN32.  Is this now unnecessary too with OpenSSL 1.1+, or is it still needed?
Thanks,
Ben.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,234,2018-06-05T02:42:34Z,2018-06-05T18:02:43Z,2018-06-05T18:02:44Z,CLOSED,False,2,0,1,https://github.com/cotequeiroz,Removed calls to API deprecated in openssl 1.1,1,[],https://github.com/openvswitch/ovs/pull/234,https://github.com/cotequeiroz,3,https://github.com/openvswitch/ovs/pull/234#issuecomment-394707895,"In openssl 1.1, there is no need to initialize the library.  It is automatically done when first used.  This patch allows to compile openvswitch against openssl 1.1.0 with deprecated API disabled.
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com","The call has changed to OPENSSL_malloc_init.  I suspect that it is not needed anymore, but I can't tell you for sure.  It may be worth investigating.
I'm not very familiar with Windows programming, but reading INSTALL.W32 in openssl-1.0.2, the call is a workaround for compiling applications that don't use multi-threaded DLL.  There is no such warning in 1.1.0.
Both functions (1.0 and 1.1) have a very similar definitions.  The detail that makes me suspect it is not needed--besides the removal of it's mention in the NOTES.WIN file--is that in openssl 1.0.2 crypto/dh/dhtest.c, it was called within #ifdef OPENSSL_SYS_WIN32, and it is gone in 1.1.0 test/dhtest.c.  While there is no clear definition, I will change the commit to include the call only with Openssl  < 1.1.0.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,234,2018-06-05T02:42:34Z,2018-06-05T18:02:43Z,2018-06-05T18:02:44Z,CLOSED,False,2,0,1,https://github.com/cotequeiroz,Removed calls to API deprecated in openssl 1.1,1,[],https://github.com/openvswitch/ovs/pull/234,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/234#issuecomment-394804917,"In openssl 1.1, there is no need to initialize the library.  It is automatically done when first used.  This patch allows to compile openvswitch against openssl 1.1.0 with deprecated API disabled.
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com","Thanks, I applied the new patch to master.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,235,2018-06-05T17:27:08Z,2018-06-06T14:57:08Z,2018-06-06T14:57:08Z,CLOSED,False,233,9,5,https://github.com/cotequeiroz,[RFC] Include pre-generated libs/dhparams.c,1,[],https://github.com/openvswitch/ovs/pull/235,https://github.com/cotequeiroz,1,https://github.com/openvswitch/ovs/pull/235,"Hi
I've opened a PR in openwrt (openwrt/packages#6192, CC: @yousong), because we're (hopefully to be honest) in transition from openssl 1.0 to openssl 1.1.  We are cross-compiling, and there are people compiling openssl-1.0, while others use openssl-1.1.  To further complicate matters, the host package being used (because of compatibility issues between openssl and OSX) is libressl.
My problem lies with dhparams.c.  I see that during build, it is generated from the dh*.pem files.
In my case, it uses the libressl util, which produces code that's only compatible with openssl 1.0 API.
What I have suggested there was to use a pre-generated C source that's compatible with either openssl version and libressl.
The file was generated with openssl 1.1 and a simplified inline version of DH_set0_pqg was used for openssl 1.0 and libressl compatibility.
We welcome your thoughts about the implications of doing that--or any other ideas that would be useful.  @yousong is specially concern with any security implications.  I don't see any, since the code is pretty straightforward, and you have more control over what's being actually used than ""outsourcing"" it.
Of course, if this is useful to more people, you can always merge this.  In that case, I thought about adding an option to configure.ac that would touch the *.pem files, in order to force the generation of a new file, so you could please both worlds.  If so, let me know and I will add a new commit.
Cheers
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com","Hi
I've opened a PR in openwrt (openwrt/packages#6192, CC: @yousong), because we're (hopefully to be honest) in transition from openssl 1.0 to openssl 1.1.  We are cross-compiling, and there are people compiling openssl-1.0, while others use openssl-1.1.  To further complicate matters, the host package being used (because of compatibility issues between openssl and OSX) is libressl.
My problem lies with dhparams.c.  I see that during build, it is generated from the dh*.pem files.
In my case, it uses the libressl util, which produces code that's only compatible with openssl 1.0 API.
What I have suggested there was to use a pre-generated C source that's compatible with either openssl version and libressl.
The file was generated with openssl 1.1 and a simplified inline version of DH_set0_pqg was used for openssl 1.0 and libressl compatibility.
We welcome your thoughts about the implications of doing that--or any other ideas that would be useful.  @yousong is specially concern with any security implications.  I don't see any, since the code is pretty straightforward, and you have more control over what's being actually used than ""outsourcing"" it.
Of course, if this is useful to more people, you can always merge this.  In that case, I thought about adding an option to configure.ac that would touch the *.pem files, in order to force the generation of a new file, so you could please both worlds.  If so, let me know and I will add a new commit.
Cheers
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,235,2018-06-05T17:27:08Z,2018-06-06T14:57:08Z,2018-06-06T14:57:08Z,CLOSED,False,233,9,5,https://github.com/cotequeiroz,[RFC] Include pre-generated libs/dhparams.c,1,[],https://github.com/openvswitch/ovs/pull/235,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/235#issuecomment-394803857,"Hi
I've opened a PR in openwrt (openwrt/packages#6192, CC: @yousong), because we're (hopefully to be honest) in transition from openssl 1.0 to openssl 1.1.  We are cross-compiling, and there are people compiling openssl-1.0, while others use openssl-1.1.  To further complicate matters, the host package being used (because of compatibility issues between openssl and OSX) is libressl.
My problem lies with dhparams.c.  I see that during build, it is generated from the dh*.pem files.
In my case, it uses the libressl util, which produces code that's only compatible with openssl 1.0 API.
What I have suggested there was to use a pre-generated C source that's compatible with either openssl version and libressl.
The file was generated with openssl 1.1 and a simplified inline version of DH_set0_pqg was used for openssl 1.0 and libressl compatibility.
We welcome your thoughts about the implications of doing that--or any other ideas that would be useful.  @yousong is specially concern with any security implications.  I don't see any, since the code is pretty straightforward, and you have more control over what's being actually used than ""outsourcing"" it.
Of course, if this is useful to more people, you can always merge this.  In that case, I thought about adding an option to configure.ac that would touch the *.pem files, in order to force the generation of a new file, so you could please both worlds.  If so, let me know and I will add a new commit.
Cheers
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com","@cotequeiroz I think that it's reasonable to merge this if you fix the build errors:
$ make -j10
make  all-recursive
make[1]: Entering directory '/home/blp/nicira/ovs2/_build'
Making all in datapath
make[2]: Entering directory '/home/blp/nicira/ovs2/_build/datapath'
make[3]: Entering directory '/home/blp/nicira/ovs2/_build/datapath'
make[3]: Leaving directory '/home/blp/nicira/ovs2/_build/datapath'
make[2]: Leaving directory '/home/blp/nicira/ovs2/_build/datapath'
make[2]: Entering directory '/home/blp/nicira/ovs2/_build'
  GEN      utilities/ovs-lib
lib/dhparams.c
make[3]: Entering directory '/home/blp/nicira/ovs2/_build/datapath'
See above for list of violations of the rule that
every C source file must #include <config.h>.
Makefile:6229: recipe for target 'config-h-check' failed
make[2]: *** [config-h-check] Error 1
make[2]: *** Waiting for unfinished jobs....
make[3]: 'distfiles' is up to date.
make[3]: Leaving directory '/home/blp/nicira/ovs2/_build/datapath'
The following files are in git but not the distribution:
lib/dhparams.c
Makefile:6200: recipe for target 'dist-hook-git' failed
make[2]: *** [dist-hook-git] Error 1
make[2]: Leaving directory '/home/blp/nicira/ovs2/_build'
Makefile:5643: recipe for target 'all-recursive' failed
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory '/home/blp/nicira/ovs2/_build'
Makefile:3298: recipe for target 'all' failed
make: *** [all] Error 2


Of course, if this is useful to more people, you can always merge this. In that case, I thought about adding an option to configure.ac that would touch the *.pem files, in order to force the generation of a new file, so you could please both worlds. If so, let me know and I will add a new commit.

I've found in the past that distributing and checking in automatically generated files isn't a good way to do things.  Thus, if necessary, I think it would be better to add a target that someone could explicitly invoke to regenerate the file rather than doing it based on dependencies.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,235,2018-06-05T17:27:08Z,2018-06-06T14:57:08Z,2018-06-06T14:57:08Z,CLOSED,False,233,9,5,https://github.com/cotequeiroz,[RFC] Include pre-generated libs/dhparams.c,1,[],https://github.com/openvswitch/ovs/pull/235,https://github.com/cotequeiroz,3,https://github.com/openvswitch/ovs/pull/235#issuecomment-394830095,"Hi
I've opened a PR in openwrt (openwrt/packages#6192, CC: @yousong), because we're (hopefully to be honest) in transition from openssl 1.0 to openssl 1.1.  We are cross-compiling, and there are people compiling openssl-1.0, while others use openssl-1.1.  To further complicate matters, the host package being used (because of compatibility issues between openssl and OSX) is libressl.
My problem lies with dhparams.c.  I see that during build, it is generated from the dh*.pem files.
In my case, it uses the libressl util, which produces code that's only compatible with openssl 1.0 API.
What I have suggested there was to use a pre-generated C source that's compatible with either openssl version and libressl.
The file was generated with openssl 1.1 and a simplified inline version of DH_set0_pqg was used for openssl 1.0 and libressl compatibility.
We welcome your thoughts about the implications of doing that--or any other ideas that would be useful.  @yousong is specially concern with any security implications.  I don't see any, since the code is pretty straightforward, and you have more control over what's being actually used than ""outsourcing"" it.
Of course, if this is useful to more people, you can always merge this.  In that case, I thought about adding an option to configure.ac that would touch the *.pem files, in order to force the generation of a new file, so you could please both worlds.  If so, let me know and I will add a new commit.
Cheers
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com","I've added another commit.  See if I got exactly what you meant.
I've added a phony generate-dhparams-c target to lib/automake.mk.  Now, where is the proper place to document that?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,235,2018-06-05T17:27:08Z,2018-06-06T14:57:08Z,2018-06-06T14:57:08Z,CLOSED,False,233,9,5,https://github.com/cotequeiroz,[RFC] Include pre-generated libs/dhparams.c,1,[],https://github.com/openvswitch/ovs/pull/235,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/235#issuecomment-394880386,"Hi
I've opened a PR in openwrt (openwrt/packages#6192, CC: @yousong), because we're (hopefully to be honest) in transition from openssl 1.0 to openssl 1.1.  We are cross-compiling, and there are people compiling openssl-1.0, while others use openssl-1.1.  To further complicate matters, the host package being used (because of compatibility issues between openssl and OSX) is libressl.
My problem lies with dhparams.c.  I see that during build, it is generated from the dh*.pem files.
In my case, it uses the libressl util, which produces code that's only compatible with openssl 1.0 API.
What I have suggested there was to use a pre-generated C source that's compatible with either openssl version and libressl.
The file was generated with openssl 1.1 and a simplified inline version of DH_set0_pqg was used for openssl 1.0 and libressl compatibility.
We welcome your thoughts about the implications of doing that--or any other ideas that would be useful.  @yousong is specially concern with any security implications.  I don't see any, since the code is pretty straightforward, and you have more control over what's being actually used than ""outsourcing"" it.
Of course, if this is useful to more people, you can always merge this.  In that case, I thought about adding an option to configure.ac that would touch the *.pem files, in order to force the generation of a new file, so you could please both worlds.  If so, let me know and I will add a new commit.
Cheers
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com","Thanks for the updates.
I hacked on this a bit and posted the version that I came up with to the ovs-dev mailing list for review: https://mail.openvswitch.org/pipermail/ovs-dev/2018-June/347930.html.  It's also in patchwork: https://patchwork.ozlabs.org/patch/925658/.  What do you think?
Thanks,
Ben.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,235,2018-06-05T17:27:08Z,2018-06-06T14:57:08Z,2018-06-06T14:57:08Z,CLOSED,False,233,9,5,https://github.com/cotequeiroz,[RFC] Include pre-generated libs/dhparams.c,1,[],https://github.com/openvswitch/ovs/pull/235,https://github.com/cotequeiroz,5,https://github.com/openvswitch/ovs/pull/235#issuecomment-395043649,"Hi
I've opened a PR in openwrt (openwrt/packages#6192, CC: @yousong), because we're (hopefully to be honest) in transition from openssl 1.0 to openssl 1.1.  We are cross-compiling, and there are people compiling openssl-1.0, while others use openssl-1.1.  To further complicate matters, the host package being used (because of compatibility issues between openssl and OSX) is libressl.
My problem lies with dhparams.c.  I see that during build, it is generated from the dh*.pem files.
In my case, it uses the libressl util, which produces code that's only compatible with openssl 1.0 API.
What I have suggested there was to use a pre-generated C source that's compatible with either openssl version and libressl.
The file was generated with openssl 1.1 and a simplified inline version of DH_set0_pqg was used for openssl 1.0 and libressl compatibility.
We welcome your thoughts about the implications of doing that--or any other ideas that would be useful.  @yousong is specially concern with any security implications.  I don't see any, since the code is pretty straightforward, and you have more control over what's being actually used than ""outsourcing"" it.
Of course, if this is useful to more people, you can always merge this.  In that case, I thought about adding an option to configure.ac that would touch the *.pem files, in order to force the generation of a new file, so you could please both worlds.  If so, let me know and I will add a new commit.
Cheers
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com","I have one caveat to point out.  The generate-dhparams-c target only generate the multi-version-compatible dhparams.c with openssl 1.1.  When generated with openssl 1.0 or libressl, it works, but with a warning:
lib/dhparams.c:10:1: warning: ‘my_DH_set0_pqg’ defined but not used [-Wunused-function]
 my_DH_set0_pqg(DH *dh, BIGNUM *p, const BIGNUM **q OVS_UNUSED, BIGNUM *g)

Thanks for you help.
Cheers",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,235,2018-06-05T17:27:08Z,2018-06-06T14:57:08Z,2018-06-06T14:57:08Z,CLOSED,False,233,9,5,https://github.com/cotequeiroz,[RFC] Include pre-generated libs/dhparams.c,1,[],https://github.com/openvswitch/ovs/pull/235,https://github.com/blp,6,https://github.com/openvswitch/ovs/pull/235#issuecomment-395099131,"Hi
I've opened a PR in openwrt (openwrt/packages#6192, CC: @yousong), because we're (hopefully to be honest) in transition from openssl 1.0 to openssl 1.1.  We are cross-compiling, and there are people compiling openssl-1.0, while others use openssl-1.1.  To further complicate matters, the host package being used (because of compatibility issues between openssl and OSX) is libressl.
My problem lies with dhparams.c.  I see that during build, it is generated from the dh*.pem files.
In my case, it uses the libressl util, which produces code that's only compatible with openssl 1.0 API.
What I have suggested there was to use a pre-generated C source that's compatible with either openssl version and libressl.
The file was generated with openssl 1.1 and a simplified inline version of DH_set0_pqg was used for openssl 1.0 and libressl compatibility.
We welcome your thoughts about the implications of doing that--or any other ideas that would be useful.  @yousong is specially concern with any security implications.  I don't see any, since the code is pretty straightforward, and you have more control over what's being actually used than ""outsourcing"" it.
Of course, if this is useful to more people, you can always merge this.  In that case, I thought about adding an option to configure.ac that would touch the *.pem files, in order to force the generation of a new file, so you could please both worlds.  If so, let me know and I will add a new commit.
Cheers
Signed-off-by: Eneas U de Queiroz cote2004-github@yahoo.com",I applied this to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,236,2018-06-16T11:05:54Z,2018-06-18T22:45:58Z,2018-06-18T22:45:58Z,CLOSED,False,25,8,3,https://github.com/aravindprasads,Return error code for Rule insert and delete,1,[],https://github.com/openvswitch/ovs/pull/236,https://github.com/aravindprasads,1,https://github.com/openvswitch/ovs/pull/236,"Currently, rule_insert() and rule_delete() ofproto provider APIs donot
have return values.
There are some possible scenarios where rule insertions and deletions can
fail at runtime even though the static checks during rule_construct() had
passed previously.
Some possible scenarios for failure of rule insertions and deletions:
**) Rule insertions can fail dynamically in Hybrid mode (both Openflow and
Normal switch functioning coexist) where the CAM space could get suddenly
filled up by Normal switch functioning and Openflow gets devoid of
available space.
**) Some deployments could have separate independent layers for HW rule
insertions/deletions and application layer to interact with OVS. HW layer
could face any dynamic issue during rule handling which application could
not have predicted/captured in rule-construction phase.
This patch is the first step to introduce error reporting for rule
insertions/deletions from Client back to OVS.","Currently, rule_insert() and rule_delete() ofproto provider APIs donot
have return values.
There are some possible scenarios where rule insertions and deletions can
fail at runtime even though the static checks during rule_construct() had
passed previously.
Some possible scenarios for failure of rule insertions and deletions:
**) Rule insertions can fail dynamically in Hybrid mode (both Openflow and
Normal switch functioning coexist) where the CAM space could get suddenly
filled up by Normal switch functioning and Openflow gets devoid of
available space.
**) Some deployments could have separate independent layers for HW rule
insertions/deletions and application layer to interact with OVS. HW layer
could face any dynamic issue during rule handling which application could
not have predicted/captured in rule-construction phase.
This patch is the first step to introduce error reporting for rule
insertions/deletions from Client back to OVS.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,236,2018-06-16T11:05:54Z,2018-06-18T22:45:58Z,2018-06-18T22:45:58Z,CLOSED,False,25,8,3,https://github.com/aravindprasads,Return error code for Rule insert and delete,1,[],https://github.com/openvswitch/ovs/pull/236,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/236#issuecomment-398218930,"Currently, rule_insert() and rule_delete() ofproto provider APIs donot
have return values.
There are some possible scenarios where rule insertions and deletions can
fail at runtime even though the static checks during rule_construct() had
passed previously.
Some possible scenarios for failure of rule insertions and deletions:
**) Rule insertions can fail dynamically in Hybrid mode (both Openflow and
Normal switch functioning coexist) where the CAM space could get suddenly
filled up by Normal switch functioning and Openflow gets devoid of
available space.
**) Some deployments could have separate independent layers for HW rule
insertions/deletions and application layer to interact with OVS. HW layer
could face any dynamic issue during rule handling which application could
not have predicted/captured in rule-construction phase.
This patch is the first step to introduce error reporting for rule
insertions/deletions from Client back to OVS.",This was already reviewed on the ovs-dev mailing list.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,237,2018-06-18T10:16:31Z,2018-06-19T16:10:20Z,2018-06-19T16:10:20Z,CLOSED,False,2,2,1,https://github.com/RostyslavFridman,Fix DHCP classless static route for non-classfull masks (i.e. any oth…,2,[],https://github.com/openvswitch/ovs/pull/237,https://github.com/RostyslavFridman,1,https://github.com/openvswitch/ovs/pull/237,"…er than /0, /8, /16, /24, /32)
When trying to determine how many bytes of ip address needs to be included in classless static route option,
we should take into consideration the following.
To get the correct amount of bytes we need to take number of network bits in the mask and divide it by 8.
But if the mask has a remainder when divided, we need to not ignore this and add 1 byte to the to the length of the option.
Signed-off-by: Rostyslav Fridman rostyslav_fridman@epam.com","…er than /0, /8, /16, /24, /32)
When trying to determine how many bytes of ip address needs to be included in classless static route option,
we should take into consideration the following.
To get the correct amount of bytes we need to take number of network bits in the mask and divide it by 8.
But if the mask has a remainder when divided, we need to not ignore this and add 1 byte to the to the length of the option.
Signed-off-by: Rostyslav Fridman rostyslav_fridman@epam.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,237,2018-06-18T10:16:31Z,2018-06-19T16:10:20Z,2018-06-19T16:10:20Z,CLOSED,False,2,2,1,https://github.com/RostyslavFridman,Fix DHCP classless static route for non-classfull masks (i.e. any oth…,2,[],https://github.com/openvswitch/ovs/pull/237,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/237#issuecomment-398221088,"…er than /0, /8, /16, /24, /32)
When trying to determine how many bytes of ip address needs to be included in classless static route option,
we should take into consideration the following.
To get the correct amount of bytes we need to take number of network bits in the mask and divide it by 8.
But if the mask has a remainder when divided, we need to not ignore this and add 1 byte to the to the length of the option.
Signed-off-by: Rostyslav Fridman rostyslav_fridman@epam.com","@RostyslavFridman Thank you for the patch.
It looks to me like you could just use DIV_ROUND_UP(plen, 8) in two places, instead of adding extra ""if"" statements in each place.  Would you mind doing that instead?
Thanks,
Ben.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,237,2018-06-18T10:16:31Z,2018-06-19T16:10:20Z,2018-06-19T16:10:20Z,CLOSED,False,2,2,1,https://github.com/RostyslavFridman,Fix DHCP classless static route for non-classfull masks (i.e. any oth…,2,[],https://github.com/openvswitch/ovs/pull/237,https://github.com/RostyslavFridman,3,https://github.com/openvswitch/ovs/pull/237#issuecomment-398296942,"…er than /0, /8, /16, /24, /32)
When trying to determine how many bytes of ip address needs to be included in classless static route option,
we should take into consideration the following.
To get the correct amount of bytes we need to take number of network bits in the mask and divide it by 8.
But if the mask has a remainder when divided, we need to not ignore this and add 1 byte to the to the length of the option.
Signed-off-by: Rostyslav Fridman rostyslav_fridman@epam.com","@blp Thank you for the suggestion.
Code is updated.
Thanks,
Rostyslav",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,237,2018-06-18T10:16:31Z,2018-06-19T16:10:20Z,2018-06-19T16:10:20Z,CLOSED,False,2,2,1,https://github.com/RostyslavFridman,Fix DHCP classless static route for non-classfull masks (i.e. any oth…,2,[],https://github.com/openvswitch/ovs/pull/237,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/237#issuecomment-398456029,"…er than /0, /8, /16, /24, /32)
When trying to determine how many bytes of ip address needs to be included in classless static route option,
we should take into consideration the following.
To get the correct amount of bytes we need to take number of network bits in the mask and divide it by 8.
But if the mask has a remainder when divided, we need to not ignore this and add 1 byte to the to the length of the option.
Signed-off-by: Rostyslav Fridman rostyslav_fridman@epam.com",Thanks.  I squashed these and pushed them to master and backported as far as branch-2.6.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,238,2018-06-20T19:55:12Z,2018-06-20T21:58:56Z,2018-06-20T21:58:56Z,CLOSED,False,1,1,1,https://github.com/ksanislo,Update ifupdown.sh,1,[],https://github.com/openvswitch/ovs/pull/238,https://github.com/ksanislo,1,https://github.com/openvswitch/ovs/pull/238,"It seems that line 70 needs to be operating on the $slave variable created in the for loop at :68.
Bonded interfaces fail to bring up their links with the current version, this will make them work correctly.","It seems that line 70 needs to be operating on the $slave variable created in the for loop at :68.
Bonded interfaces fail to bring up their links with the current version, this will make them work correctly.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,238,2018-06-20T19:55:12Z,2018-06-20T21:58:56Z,2018-06-20T21:58:56Z,CLOSED,False,1,1,1,https://github.com/ksanislo,Update ifupdown.sh,1,[],https://github.com/openvswitch/ovs/pull/238,https://github.com/shettyg,2,https://github.com/openvswitch/ovs/pull/238#issuecomment-398892585,"It seems that line 70 needs to be operating on the $slave variable created in the for loop at :68.
Bonded interfaces fail to bring up their links with the current version, this will make them work correctly.","It looks right. Can you add a Signed-off-by please to the commit? While at it, can you add your information to AUTHORS file when you send the updated commit.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,239,2018-06-20T22:00:46Z,2018-07-10T21:23:13Z,2018-07-10T21:23:13Z,CLOSED,False,2,1,2,https://github.com/ksanislo,Correct ifupdown.sh to bring up bonded links properly.,1,[],https://github.com/openvswitch/ovs/pull/239,https://github.com/ksanislo,1,https://github.com/openvswitch/ovs/pull/239,"It seems that line 70 needs to be operating on the $slave variable created in the for loop at :68.
Bonded interfaces fail to bring up their links with the current version, this will makes them work correctly.
Signed-off-by: Ken Sanislo ken@intherack.com","It seems that line 70 needs to be operating on the $slave variable created in the for loop at :68.
Bonded interfaces fail to bring up their links with the current version, this will makes them work correctly.
Signed-off-by: Ken Sanislo ken@intherack.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,239,2018-06-20T22:00:46Z,2018-07-10T21:23:13Z,2018-07-10T21:23:13Z,CLOSED,False,2,1,2,https://github.com/ksanislo,Correct ifupdown.sh to bring up bonded links properly.,1,[],https://github.com/openvswitch/ovs/pull/239,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/239#issuecomment-403970485,"It seems that line 70 needs to be operating on the $slave variable created in the for loop at :68.
Bonded interfaces fail to bring up their links with the current version, this will makes them work correctly.
Signed-off-by: Ken Sanislo ken@intherack.com",Thanks for the revisions!  I applied this to master and backported it as far as branch-2.7.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,240,2018-06-29T20:25:26Z,2018-06-29T20:41:28Z,2018-06-29T20:41:46Z,CLOSED,False,620,61,13,https://github.com/darball,Fragmentation Fix and conntrack sanity counters,3,[],https://github.com/openvswitch/ovs/pull/240,https://github.com/darball,1,https://github.com/openvswitch/ovs/pull/240,"Hi Justin
Please merge.
The first patch should also go to 2.9, let me know if the patch cannot be cleanly applied to 2.9
and I will create a 2.9 specific patch.
Thanks Darrell","Hi Justin
Please merge.
The first patch should also go to 2.9, let me know if the patch cannot be cleanly applied to 2.9
and I will create a 2.9 specific patch.
Thanks Darrell",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,240,2018-06-29T20:25:26Z,2018-06-29T20:41:28Z,2018-06-29T20:41:46Z,CLOSED,False,620,61,13,https://github.com/darball,Fragmentation Fix and conntrack sanity counters,3,[],https://github.com/openvswitch/ovs/pull/240,https://github.com/darball,2,https://github.com/openvswitch/ovs/pull/240#issuecomment-401468530,"Hi Justin
Please merge.
The first patch should also go to 2.9, let me know if the patch cannot be cleanly applied to 2.9
and I will create a 2.9 specific patch.
Thanks Darrell",Adding another part,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,241,2018-06-29T20:52:53Z,2018-07-05T20:44:02Z,2018-07-05T20:44:03Z,CLOSED,False,345,33,4,https://github.com/darball,Fragmentation fix and tests,2,[],https://github.com/openvswitch/ovs/pull/241,https://github.com/darball,1,https://github.com/openvswitch/ovs/pull/241,"Hi Justin
I have two patches that need to go via a pull request.
Git has no problem with them, but they are getting corrupted in gmail, even though the line length is less than 998.
This is blocking the main fragmentation series.
Can you please get them applied?
Thanks Darrell
I updated the function headers.","Hi Justin
I have two patches that need to go via a pull request.
Git has no problem with them, but they are getting corrupted in gmail, even though the line length is less than 998.
This is blocking the main fragmentation series.
Can you please get them applied?
Thanks Darrell
I updated the function headers.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,241,2018-06-29T20:52:53Z,2018-07-05T20:44:02Z,2018-07-05T20:44:03Z,CLOSED,False,345,33,4,https://github.com/darball,Fragmentation fix and tests,2,[],https://github.com/openvswitch/ovs/pull/241,https://github.com/justinpettit,2,https://github.com/openvswitch/ovs/pull/241#issuecomment-401497792,"Hi Justin
I have two patches that need to go via a pull request.
Git has no problem with them, but they are getting corrupted in gmail, even though the line length is less than 998.
This is blocking the main fragmentation series.
Can you please get them applied?
Thanks Darrell
I updated the function headers.","Do you know why Travis failed?  It looks like a compilation failed, but it passed in other builds.  Should the error be ignored?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,241,2018-06-29T20:52:53Z,2018-07-05T20:44:02Z,2018-07-05T20:44:03Z,CLOSED,False,345,33,4,https://github.com/darball,Fragmentation fix and tests,2,[],https://github.com/openvswitch/ovs/pull/241,https://github.com/darball,3,https://github.com/openvswitch/ovs/pull/241#issuecomment-401499362,"Hi Justin
I have two patches that need to go via a pull request.
Git has no problem with them, but they are getting corrupted in gmail, even though the line length is less than 998.
This is blocking the main fragmentation series.
Can you please get them applied?
Thanks Darrell
I updated the function headers.","I saw that before; it is unrelated and can be ignored

Darrell

From: Justin Pettit <notifications@github.com>
Reply-To: openvswitch/ovs <reply@reply.github.com>
Date: Friday, June 29, 2018 at 4:28 PM
To: openvswitch/ovs <ovs@noreply.github.com>
Cc: Darrel Ball <dball@vmware.com>, Author <author@noreply.github.com>
Subject: Re: [openvswitch/ovs] Fragmentation fix and tests (#241)


Do you know why Travis failed? It looks like a compilation failed, but it passed in other builds. Should the error be ignored?

—
You are receiving this because you authored the thread.
Reply to this email directly, view it on GitHub<https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fopenvswitch%2Fovs%2Fpull%2F241%23issuecomment-401497792&data=02%7C01%7Cdball%40vmware.com%7Cc75d9c2c85764f1ae66d08d5de17f5b1%7Cb39138ca3cee4b4aa4d6cd83d9dd62f0%7C1%7C0%7C636659116848943674&sdata=QlJItxE%2FC%2BBWIUUgczGEywueL7FymWYWYZhJ9HRFMi8%3D&reserved=0>, or mute the thread<https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fnotifications%2Funsubscribe-auth%2FAPMgteATI8PKNZ9jA3ZXE_orPytxTOHdks5uBrgBgaJpZM4U9nJ3&data=02%7C01%7Cdball%40vmware.com%7Cc75d9c2c85764f1ae66d08d5de17f5b1%7Cb39138ca3cee4b4aa4d6cd83d9dd62f0%7C1%7C0%7C636659116848953675&sdata=9UMBUYIM8mgRIV%2BOE%2BDeQGSE8TSuxU%2FJPUVSGi1n0Qk%3D&reserved=0>.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,241,2018-06-29T20:52:53Z,2018-07-05T20:44:02Z,2018-07-05T20:44:03Z,CLOSED,False,345,33,4,https://github.com/darball,Fragmentation fix and tests,2,[],https://github.com/openvswitch/ovs/pull/241,https://github.com/darball,4,https://github.com/openvswitch/ovs/pull/241#issuecomment-401507358,"Hi Justin
I have two patches that need to go via a pull request.
Git has no problem with them, but they are getting corrupted in gmail, even though the line length is less than 998.
This is blocking the main fragmentation series.
Can you please get them applied?
Thanks Darrell
I updated the function headers.",I updated the function headers.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,241,2018-06-29T20:52:53Z,2018-07-05T20:44:02Z,2018-07-05T20:44:03Z,CLOSED,False,345,33,4,https://github.com/darball,Fragmentation fix and tests,2,[],https://github.com/openvswitch/ovs/pull/241,https://github.com/blp,5,https://github.com/openvswitch/ovs/pull/241#issuecomment-402197233,"Hi Justin
I have two patches that need to go via a pull request.
Git has no problem with them, but they are getting corrupted in gmail, even though the line length is less than 998.
This is blocking the main fragmentation series.
Can you please get them applied?
Thanks Darrell
I updated the function headers.","@darball Thanks for the patch.  It looks to me like most of the patch is actually switching the order of function parameters.  The new order is a little better but it makes the actual bug fix hard to see.  For a bug fix patch that's going to be backported, it's a good idea to provide a minimal fix that is easy for reviewers to understand.  Would you mind redoing the fix in that form?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,241,2018-06-29T20:52:53Z,2018-07-05T20:44:02Z,2018-07-05T20:44:03Z,CLOSED,False,345,33,4,https://github.com/darball,Fragmentation fix and tests,2,[],https://github.com/openvswitch/ovs/pull/241,https://github.com/darball,6,https://github.com/openvswitch/ovs/pull/241#issuecomment-402218486,"Hi Justin
I have two patches that need to go via a pull request.
Git has no problem with them, but they are getting corrupted in gmail, even though the line length is less than 998.
This is blocking the main fragmentation series.
Can you please get them applied?
Thanks Darrell
I updated the function headers.",updated,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,241,2018-06-29T20:52:53Z,2018-07-05T20:44:02Z,2018-07-05T20:44:03Z,CLOSED,False,345,33,4,https://github.com/darball,Fragmentation fix and tests,2,[],https://github.com/openvswitch/ovs/pull/241,https://github.com/blp,7,https://github.com/openvswitch/ovs/pull/241#issuecomment-402239540,"Hi Justin
I have two patches that need to go via a pull request.
Git has no problem with them, but they are getting corrupted in gmail, even though the line length is less than 998.
This is blocking the main fragmentation series.
Can you please get them applied?
Thanks Darrell
I updated the function headers.","@darball Thanks for the update.
I still see code changes that don't seem to be part of the bug fix, by adding OVS_UNLIKELY to code that is otherwise unchanged.  Would you mind making the code changes just bug fixes?
Thanks,
Ben.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,241,2018-06-29T20:52:53Z,2018-07-05T20:44:02Z,2018-07-05T20:44:03Z,CLOSED,False,345,33,4,https://github.com/darball,Fragmentation fix and tests,2,[],https://github.com/openvswitch/ovs/pull/241,https://github.com/darball,8,https://github.com/openvswitch/ovs/pull/241#issuecomment-402282522,"Hi Justin
I have two patches that need to go via a pull request.
Git has no problem with them, but they are getting corrupted in gmail, even though the line length is less than 998.
This is blocking the main fragmentation series.
Can you please get them applied?
Thanks Darrell
I updated the function headers.","yep, I was lazy for including the other improvements with the bugfix that I asked to be backported.
I think I have extinguished all the extra improvements from the code change now and I'll look towards a separate series in the future for these.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,241,2018-06-29T20:52:53Z,2018-07-05T20:44:02Z,2018-07-05T20:44:03Z,CLOSED,False,345,33,4,https://github.com/darball,Fragmentation fix and tests,2,[],https://github.com/openvswitch/ovs/pull/241,https://github.com/blp,9,https://github.com/openvswitch/ovs/pull/241#issuecomment-402846995,"Hi Justin
I have two patches that need to go via a pull request.
Git has no problem with them, but they are getting corrupted in gmail, even though the line length is less than 998.
This is blocking the main fragmentation series.
Can you please get them applied?
Thanks Darrell
I updated the function headers.",I applied this series to master.  Thank you!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,242,2018-07-02T12:23:50Z,2019-05-17T10:36:43Z,2019-05-17T10:36:43Z,CLOSED,False,416,0,7,https://github.com/bshastry,oss-fuzz: Move oss-fuzz test harnesses and fuzzer configs to ovs source repo,2,[],https://github.com/openvswitch/ovs/pull/242,https://github.com/bshastry,1,https://github.com/openvswitch/ovs/pull/242,"This PR does the following:

Moves oss-fuzz test harnesses to this repo
Moves oss-fuzz config (options and dictionary) to this repo
More abstractly, helps maintain fuzzing tests and config along side source code

Once PR is approved and merged, I will change build script and Dockerfile in oss-fuzz/openvswitch accordingly (CC @blp)","This PR does the following:

Moves oss-fuzz test harnesses to this repo
Moves oss-fuzz config (options and dictionary) to this repo
More abstractly, helps maintain fuzzing tests and config along side source code

Once PR is approved and merged, I will change build script and Dockerfile in oss-fuzz/openvswitch accordingly (CC @blp)",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,242,2018-07-02T12:23:50Z,2019-05-17T10:36:43Z,2019-05-17T10:36:43Z,CLOSED,False,416,0,7,https://github.com/bshastry,oss-fuzz: Move oss-fuzz test harnesses and fuzzer configs to ovs source repo,2,[],https://github.com/openvswitch/ovs/pull/242,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/242#issuecomment-402872332,"This PR does the following:

Moves oss-fuzz test harnesses to this repo
Moves oss-fuzz config (options and dictionary) to this repo
More abstractly, helps maintain fuzzing tests and config along side source code

Once PR is approved and merged, I will change build script and Dockerfile in oss-fuzz/openvswitch accordingly (CC @blp)","Thanks for the patch!
I've got some feedback but I'm more accustomed to sending this kind of feedback by email, so I'll post it in this thread I've started: https://mail.openvswitch.org/pipermail/ovs-dev/2018-July/349058.html",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,242,2018-07-02T12:23:50Z,2019-05-17T10:36:43Z,2019-05-17T10:36:43Z,CLOSED,False,416,0,7,https://github.com/bshastry,oss-fuzz: Move oss-fuzz test harnesses and fuzzer configs to ovs source repo,2,[],https://github.com/openvswitch/ovs/pull/242,https://github.com/bshastry,3,https://github.com/openvswitch/ovs/pull/242#issuecomment-493408242,"This PR does the following:

Moves oss-fuzz test harnesses to this repo
Moves oss-fuzz config (options and dictionary) to this repo
More abstractly, helps maintain fuzzing tests and config along side source code

Once PR is approved and merged, I will change build script and Dockerfile in oss-fuzz/openvswitch accordingly (CC @blp)",Closing PR since this patch was sent via mailing list.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,243,2018-07-08T07:55:52Z,2018-07-09T22:16:43Z,2018-07-22T05:15:59Z,CLOSED,False,61,25,3,https://github.com/aravindprasads,Return error code for Rule insert,1,[],https://github.com/openvswitch/ovs/pull/243,https://github.com/aravindprasads,1,https://github.com/openvswitch/ovs/pull/243,"Currently, rule_insert() ofproto provider API donot have return values.
There are some possible scenarios where rule insertions can fail at runtime even though the static checks during rule_construct() had passed previously.
Some possible scenarios for failure of rule insertions and deletions:
**) Rule insertions can fail dynamically in Hybrid mode (both Openflow and
Normal switch functioning coexist) where the CAM space could get suddenly
filled up by Normal switch functioning and Openflow gets devoid of
available space.
**) Some deployments could have separate independent layers for HW rule
insertions and application layer to interact with OVS. HW layer
could face any dynamic issue during rule handling which application could
not have predicted/captured in rule-construction phase.","Currently, rule_insert() ofproto provider API donot have return values.
There are some possible scenarios where rule insertions can fail at runtime even though the static checks during rule_construct() had passed previously.
Some possible scenarios for failure of rule insertions and deletions:
**) Rule insertions can fail dynamically in Hybrid mode (both Openflow and
Normal switch functioning coexist) where the CAM space could get suddenly
filled up by Normal switch functioning and Openflow gets devoid of
available space.
**) Some deployments could have separate independent layers for HW rule
insertions and application layer to interact with OVS. HW layer
could face any dynamic issue during rule handling which application could
not have predicted/captured in rule-construction phase.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,243,2018-07-08T07:55:52Z,2018-07-09T22:16:43Z,2018-07-22T05:15:59Z,CLOSED,False,61,25,3,https://github.com/aravindprasads,Return error code for Rule insert,1,[],https://github.com/openvswitch/ovs/pull/243,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/243#issuecomment-403637875,"Currently, rule_insert() ofproto provider API donot have return values.
There are some possible scenarios where rule insertions can fail at runtime even though the static checks during rule_construct() had passed previously.
Some possible scenarios for failure of rule insertions and deletions:
**) Rule insertions can fail dynamically in Hybrid mode (both Openflow and
Normal switch functioning coexist) where the CAM space could get suddenly
filled up by Normal switch functioning and Openflow gets devoid of
available space.
**) Some deployments could have separate independent layers for HW rule
insertions and application layer to interact with OVS. HW layer
could face any dynamic issue during rule handling which application could
not have predicted/captured in rule-construction phase.",Thanks for the patch.  This was submitted on the mailing list so there's no need to have it here also.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,244,2018-07-11T09:04:06Z,2018-07-11T18:18:46Z,2018-07-11T18:18:46Z,CLOSED,False,1,2,1,https://github.com/ocochard,Fix crash on FreeBSD,1,[],https://github.com/openvswitch/ovs/pull/244,https://github.com/ocochard,1,https://github.com/openvswitch/ovs/pull/244,"Working on bug openvswitch/ovs-issues#152, I've found wrong mapping of netdev functions on FreeBSD.
While here, remove the invisible character at line 68.","Working on bug openvswitch/ovs-issues#152, I've found wrong mapping of netdev functions on FreeBSD.
While here, remove the invisible character at line 68.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,244,2018-07-11T09:04:06Z,2018-07-11T18:18:46Z,2018-07-11T18:18:46Z,CLOSED,False,1,2,1,https://github.com/ocochard,Fix crash on FreeBSD,1,[],https://github.com/openvswitch/ovs/pull/244,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/244#issuecomment-404215471,"Working on bug openvswitch/ovs-issues#152, I've found wrong mapping of netdev functions on FreeBSD.
While here, remove the invisible character at line 68.",Would you mind supplying a Signed-off-by?  Thanks.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,244,2018-07-11T09:04:06Z,2018-07-11T18:18:46Z,2018-07-11T18:18:46Z,CLOSED,False,1,2,1,https://github.com/ocochard,Fix crash on FreeBSD,1,[],https://github.com/openvswitch/ovs/pull/244,https://github.com/ocochard,3,https://github.com/openvswitch/ovs/pull/244#issuecomment-404218907,"Working on bug openvswitch/ovs-issues#152, I've found wrong mapping of netdev functions on FreeBSD.
While here, remove the invisible character at line 68.","I've no idea of what a signed-off-by is, how to do it and is it's useful for a one-line patch ?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,244,2018-07-11T09:04:06Z,2018-07-11T18:18:46Z,2018-07-11T18:18:46Z,CLOSED,False,1,2,1,https://github.com/ocochard,Fix crash on FreeBSD,1,[],https://github.com/openvswitch/ovs/pull/244,https://github.com/ocochard,4,https://github.com/openvswitch/ovs/pull/244#issuecomment-404222206,"Working on bug openvswitch/ovs-issues#152, I've found wrong mapping of netdev functions on FreeBSD.
While here, remove the invisible character at line 68.","If it's just a text message, you can add this:
Signed-off-by: Olivier Cochard <olivier@FreeBSD.org>",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,244,2018-07-11T09:04:06Z,2018-07-11T18:18:46Z,2018-07-11T18:18:46Z,CLOSED,False,1,2,1,https://github.com/ocochard,Fix crash on FreeBSD,1,[],https://github.com/openvswitch/ovs/pull/244,https://github.com/blp,5,https://github.com/openvswitch/ovs/pull/244#issuecomment-404264001,"Working on bug openvswitch/ovs-issues#152, I've found wrong mapping of netdev functions on FreeBSD.
While here, remove the invisible character at line 68.","@ocochard Yes, that's all I needed.  Thank you, I applied this to master.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,245,2018-07-24T11:41:22Z,,2019-11-22T17:27:14Z,OPEN,False,102,89,14,https://github.com/javacruft,Python 3 support,1,[],https://github.com/openvswitch/ovs/pull/245,https://github.com/javacruft,1,https://github.com/openvswitch/ovs/pull/245,"Misc fixes to python based tooling for compatibility with
Python 2 and 3.
If Python 3 is detected, prefer PYTHON3 for tool execution during
package build and for use in python based tools.","Misc fixes to python based tooling for compatibility with
Python 2 and 3.
If Python 3 is detected, prefer PYTHON3 for tool execution during
package build and for use in python based tools.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,245,2018-07-24T11:41:22Z,,2019-11-22T17:27:14Z,OPEN,False,102,89,14,https://github.com/javacruft,Python 3 support,1,[],https://github.com/openvswitch/ovs/pull/245,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/245#issuecomment-407587521,"Misc fixes to python based tooling for compatibility with
Python 2 and 3.
If Python 3 is detected, prefer PYTHON3 for tool execution during
package build and for use in python based tools.","Thanks for the patch.  Can you provide a Signed-off-by for this patch?
Q: What's a Signed-off-by and how do I provide one?
A: Free and open source software projects usually require a contributor to
provide some assurance that they're entitled to contribute the code that
they provide.  Some projects, for example, do this with a Contributor
License Agreement (CLA) or a copyright assignment that is signed on paper
or electronically.

For this purpose, Open vSwitch has adopted something called the Developer's
Certificate of Origin (DCO), which is also used by the Linux kernel and
originated there.  Informally stated, agreeing to the DCO is the
developer's way of attesting that a particular commit that they are
contributing is one that they are allowed to contribute.  You should visit
https://developercertificate.org/ to read the full statement of the DCO,
which is less than 200 words long.

To certify compliance with the Developer's Certificate of Origin for a
particular commit, just add the following line to the end of your commit
message, properly substituting your name and email address:

    Signed-off-by: Firstname Lastname <email@example.org>

Git has special support for adding a Signed-off-by line to a commit
message: when you run ""git commit"", just add the -s option, as in ""git
commit -s"".  If you use the ""git citool"" GUI for commits, you can add a
Signed-off-by line to the commit message by pressing Control+S.  Other Git
user interfaces may provide similar support.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,245,2018-07-24T11:41:22Z,,2019-11-22T17:27:14Z,OPEN,False,102,89,14,https://github.com/javacruft,Python 3 support,1,[],https://github.com/openvswitch/ovs/pull/245,https://github.com/javacruft,3,https://github.com/openvswitch/ovs/pull/245#issuecomment-407690949,"Misc fixes to python based tooling for compatibility with
Python 2 and 3.
If Python 3 is detected, prefer PYTHON3 for tool execution during
package build and for use in python based tools.",I need to review this against some of the other Py3 work done in late June - I think specifically I can rebase on to the PYTHON2 PYTHON3 approach taken by Timothy,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,246,2018-07-30T06:39:33Z,2018-07-30T06:47:56Z,2018-07-30T06:47:56Z,CLOSED,False,74,35,10,https://github.com/zhaozhanxu,ofproto:Add offloaded packets statistics of command ovs-appctl,1,[],https://github.com/openvswitch/ovs/pull/246,https://github.com/zhaozhanxu,1,https://github.com/openvswitch/ovs/pull/246,"The command ovs-appctl bridge/dump-flows bridge
only display the total packets statistics that
being forwarded.
Now it can display the offloaded packets statistics.
But the command ovs-ofctl dump-flows bridge do not
support to display the offloaded packets statistics.
The difference between the two commands:
ovs-ofctl dump-flows br0
cookie=0x0, duration=243589.349s, table=0, n_packets=214752,
n_bytes=223673384, priority=0 actions=NORMAL
ovs-appctl bridge/dump-flows br0
duration=243589s, n_packets=140, n_bytes=69284, n_offload_packets=214612,
n_offload_bytes=223604100, priority=0,actions=NORMAL
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=2,recirc_id=0,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x1,actions=controller(reason=)
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x2,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x3,actions=drop
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","The command ovs-appctl bridge/dump-flows bridge
only display the total packets statistics that
being forwarded.
Now it can display the offloaded packets statistics.
But the command ovs-ofctl dump-flows bridge do not
support to display the offloaded packets statistics.
The difference between the two commands:
ovs-ofctl dump-flows br0
cookie=0x0, duration=243589.349s, table=0, n_packets=214752,
n_bytes=223673384, priority=0 actions=NORMAL
ovs-appctl bridge/dump-flows br0
duration=243589s, n_packets=140, n_bytes=69284, n_offload_packets=214612,
n_offload_bytes=223604100, priority=0,actions=NORMAL
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=2,recirc_id=0,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x1,actions=controller(reason=)
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x2,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x3,actions=drop
Signed-off-by: zhaozhanxu zhaozhanxu@163.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,247,2018-08-06T15:44:32Z,,2019-11-22T17:27:13Z,OPEN,False,65,11,11,https://github.com/lkundrak,rhel: move ovsdb socket to ovsdb-server.socket unit,3,[],https://github.com/openvswitch/ovs/pull/247,https://github.com/lkundrak,1,https://github.com/openvswitch/ovs/pull/247,"When ovsdb-server.service is restarted, there's a time window during which clients aren't able to connect to the socket. To cope with this, systemd is able to manage the sockets and pass it to the services. This patch set makes use of the facility.","When ovsdb-server.service is restarted, there's a time window during which clients aren't able to connect to the socket. To cope with this, systemd is able to manage the sockets and pass it to the services. This patch set makes use of the facility.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,247,2018-08-06T15:44:32Z,,2019-11-22T17:27:13Z,OPEN,False,65,11,11,https://github.com/lkundrak,rhel: move ovsdb socket to ovsdb-server.socket unit,3,[],https://github.com/openvswitch/ovs/pull/247,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/247#issuecomment-410886423,"When ovsdb-server.service is restarted, there's a time window during which clients aren't able to connect to the socket. To cope with this, systemd is able to manage the sockets and pass it to the services. This patch set makes use of the facility.","Thank you for working to make OVS integrate better into modern systems.
This series makes me vaguely uncomfortable security-wise because it will allow anyone who can modify OVSDB to make ovs-vswitchd accept OpenFlow or OVSDB connections on arbitrary FDs.  I don't have a particularl vulnerability in mind but it seems like a problem that a creative person might be able to exploit.
This makes me think that we should have some means by which ""pfd:"" streams can only be specified on the command line, not via OVSDB.  (There isn't a perfect mechanism for that at the moment.)
Any thoughts?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,248,2018-09-12T21:15:02Z,2018-09-12T22:17:24Z,2018-09-12T22:17:24Z,CLOSED,False,1,1,1,https://github.com/Gaasmann,Documentation: cosmetic fix for example flows,1,[],https://github.com/openvswitch/ovs/pull/248,https://github.com/Gaasmann,1,https://github.com/openvswitch/ovs/pull/248,"Just a cosmetic change on the list of 4 flows at the beginning of the page.
The problem was that with a big enough browser, the first two lines got merged on a single line.
Putting those 4 lines into a block avoid the line merging.
That said, this style is used for code. I let you judge if you find it ok.","Just a cosmetic change on the list of 4 flows at the beginning of the page.
The problem was that with a big enough browser, the first two lines got merged on a single line.
Putting those 4 lines into a block avoid the line merging.
That said, this style is used for code. I let you judge if you find it ok.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,248,2018-09-12T21:15:02Z,2018-09-12T22:17:24Z,2018-09-12T22:17:24Z,CLOSED,False,1,1,1,https://github.com/Gaasmann,Documentation: cosmetic fix for example flows,1,[],https://github.com/openvswitch/ovs/pull/248,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/248#issuecomment-420802374,"Just a cosmetic change on the list of 4 flows at the beginning of the page.
The problem was that with a big enough browser, the first two lines got merged on a single line.
Putting those 4 lines into a block avoid the line merging.
That said, this style is used for code. I let you judge if you find it ok.","Thank you for the fix.  May I have a Signed-off-by for this fix?
Q: What's a Signed-off-by and how do I provide one?
A: Free and open source software projects usually require a contributor to
provide some assurance that they're entitled to contribute the code that
they provide.  Some projects, for example, do this with a Contributor
License Agreement (CLA) or a copyright assignment that is signed on paper
or electronically.

For this purpose, Open vSwitch has adopted something called the Developer's
Certificate of Origin (DCO), which is also used by the Linux kernel and
originated there.  Informally stated, agreeing to the DCO is the
developer's way of attesting that a particular commit that they are
contributing is one that they are allowed to contribute.  You should visit
https://developercertificate.org/ to read the full statement of the DCO,
which is less than 200 words long.

To certify compliance with the Developer's Certificate of Origin for a
particular commit, just add the following line to the end of your commit
message, properly substituting your name and email address:

    Signed-off-by: Firstname Lastname <email@example.org>

Git has special support for adding a Signed-off-by line to a commit
message: when you run ""git commit"", just add the -s option, as in ""git
commit -s"".  If you use the ""git citool"" GUI for commits, you can add a
Signed-off-by line to the commit message by pressing Control+S.  Other Git
user interfaces may provide similar support.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,248,2018-09-12T21:15:02Z,2018-09-12T22:17:24Z,2018-09-12T22:17:24Z,CLOSED,False,1,1,1,https://github.com/Gaasmann,Documentation: cosmetic fix for example flows,1,[],https://github.com/openvswitch/ovs/pull/248,https://github.com/Gaasmann,3,https://github.com/openvswitch/ovs/pull/248#issuecomment-420805168,"Just a cosmetic change on the list of 4 flows at the beginning of the page.
The problem was that with a big enough browser, the first two lines got merged on a single line.
Putting those 4 lines into a block avoid the line merging.
That said, this style is used for code. I let you judge if you find it ok.","I modified the commit. I hope it is what expected. :-)
Thanks",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,248,2018-09-12T21:15:02Z,2018-09-12T22:17:24Z,2018-09-12T22:17:24Z,CLOSED,False,1,1,1,https://github.com/Gaasmann,Documentation: cosmetic fix for example flows,1,[],https://github.com/openvswitch/ovs/pull/248,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/248#issuecomment-420816305,"Just a cosmetic change on the list of 4 flows at the beginning of the page.
The problem was that with a big enough browser, the first two lines got merged on a single line.
Putting those 4 lines into a block avoid the line merging.
That said, this style is used for code. I let you judge if you find it ok.",Thanks a lot.  I applied this fix to all affected branches.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,249,2018-09-19T08:08:32Z,2018-09-25T22:18:43Z,2018-09-25T22:18:43Z,CLOSED,False,5,1,1,https://github.com/javacruft,ovs-kmod-ctl: source ovs-lib dynamically,1,[],https://github.com/openvswitch/ovs/pull/249,https://github.com/javacruft,1,https://github.com/openvswitch/ovs/pull/249,"Determine installation location of ovs-lib using runtime location
of script, rather than build-time parameters.","Determine installation location of ovs-lib using runtime location
of script, rather than build-time parameters.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,249,2018-09-19T08:08:32Z,2018-09-25T22:18:43Z,2018-09-25T22:18:43Z,CLOSED,False,5,1,1,https://github.com/javacruft,ovs-kmod-ctl: source ovs-lib dynamically,1,[],https://github.com/openvswitch/ovs/pull/249,https://github.com/orgcandman,2,https://github.com/openvswitch/ovs/pull/249#issuecomment-424427196,"Determine installation location of ovs-lib using runtime location
of script, rather than build-time parameters.","Thanks for the contribution.
I originally did think about implementing this in the script.  I somehow figured that a problem with dynamically sourcing this is if the user can trick someone into executing this code and modifying the environment / labels.  This script has an selinux label that allows loading kernel modules.  I need to think about this a bit and get convinced that it won't be a problem.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,249,2018-09-19T08:08:32Z,2018-09-25T22:18:43Z,2018-09-25T22:18:43Z,CLOSED,False,5,1,1,https://github.com/javacruft,ovs-kmod-ctl: source ovs-lib dynamically,1,[],https://github.com/openvswitch/ovs/pull/249,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/249#issuecomment-424520743,"Determine installation location of ovs-lib using runtime location
of script, rather than build-time parameters.",This was applied a few days ago.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,250,2018-09-20T22:54:32Z,2018-09-20T22:54:42Z,2018-09-20T22:54:42Z,CLOSED,False,4,0,1,https://github.com/marymanohar,NET-289: Flow action updates does not changes rule UUID but not OpenFlow cookie,1,[],https://github.com/openvswitch/ovs/pull/250,https://github.com/marymanohar,1,https://github.com/openvswitch/ovs/pull/250,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,251,2018-09-27T01:55:10Z,2018-09-27T17:38:10Z,2018-09-27T17:38:10Z,CLOSED,False,1,1,1,https://github.com/zhangkaiheb,doc:6 is the TCP protocol number,1,[],https://github.com/openvswitch/ovs/pull/251,https://github.com/zhangkaiheb,1,https://github.com/openvswitch/ovs/pull/251,"17 is the wrong TCP protocol number, changed to 6 in file Documentation/topics/datapath.rst.
Signed-off-by: kai zhang zhangkaiheb@126.com","17 is the wrong TCP protocol number, changed to 6 in file Documentation/topics/datapath.rst.
Signed-off-by: kai zhang zhangkaiheb@126.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,251,2018-09-27T01:55:10Z,2018-09-27T17:38:10Z,2018-09-27T17:38:10Z,CLOSED,False,1,1,1,https://github.com/zhangkaiheb,doc:6 is the TCP protocol number,1,[],https://github.com/openvswitch/ovs/pull/251,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/251#issuecomment-425179659,"17 is the wrong TCP protocol number, changed to 6 in file Documentation/topics/datapath.rst.
Signed-off-by: kai zhang zhangkaiheb@126.com","Thanks, applied to master.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,252,2018-09-27T09:52:36Z,2018-09-27T15:23:13Z,2018-09-27T15:23:13Z,CLOSED,False,8318,1444,222,https://github.com/ramsanka,Branch 2.8,318,[],https://github.com/openvswitch/ovs/pull/252,https://github.com/ramsanka,1,https://github.com/openvswitch/ovs/pull/252,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,253,2018-10-01T05:55:19Z,2018-10-04T01:23:42Z,2018-10-04T01:23:42Z,CLOSED,False,2,0,1,https://github.com/armcc,netdev-linux: respect configure result when including net/if_packet.h,1,[],https://github.com/openvswitch/ovs/pull/253,https://github.com/armcc,1,https://github.com/openvswitch/ovs/pull/253,"The configure script already tests whether net/if_packet.h is
available. Respect the test result to fix build issues with musl
libc.","The configure script already tests whether net/if_packet.h is
available. Respect the test result to fix build issues with musl
libc.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,253,2018-10-01T05:55:19Z,2018-10-04T01:23:42Z,2018-10-04T01:23:42Z,CLOSED,False,2,0,1,https://github.com/armcc,netdev-linux: respect configure result when including net/if_packet.h,1,[],https://github.com/openvswitch/ovs/pull/253,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/253#issuecomment-426827337,"The configure script already tests whether net/if_packet.h is
available. Respect the test result to fix build issues with musl
libc.",I don't think that #include is good for anything anyhow.  How about the following instead: https://patchwork.ozlabs.org/patch/978591/,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,253,2018-10-01T05:55:19Z,2018-10-04T01:23:42Z,2018-10-04T01:23:42Z,CLOSED,False,2,0,1,https://github.com/armcc,netdev-linux: respect configure result when including net/if_packet.h,1,[],https://github.com/openvswitch/ovs/pull/253,https://github.com/armcc,3,https://github.com/openvswitch/ovs/pull/253#issuecomment-426831685,"The configure script already tests whether net/if_packet.h is
available. Respect the test result to fix build issues with musl
libc.",Alternative patch looks good.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,253,2018-10-01T05:55:19Z,2018-10-04T01:23:42Z,2018-10-04T01:23:42Z,CLOSED,False,2,0,1,https://github.com/armcc,netdev-linux: respect configure result when including net/if_packet.h,1,[],https://github.com/openvswitch/ovs/pull/253,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/253#issuecomment-426855058,"The configure script already tests whether net/if_packet.h is
available. Respect the test result to fix build issues with musl
libc.",I applied the alternative patch to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,254,2018-10-01T16:55:58Z,2018-10-03T22:28:09Z,2018-10-03T22:28:09Z,CLOSED,False,14,1,1,https://github.com/hzhou8,bfd: Make the tp_dst masking megaflow-friendly.,1,[],https://github.com/openvswitch/ovs/pull/254,https://github.com/hzhou8,1,https://github.com/openvswitch/ovs/pull/254,"When there are tunnel ports with BFD enabled, all UDP flows will have
dst port as match condition in datapath, which causes unnecessarily
high flow miss for all UDP traffic, and results in latency increase.
For more details, see [1].
This patch solves the problem by masking tp_dst only for the leading
bits that is enough to tell the mismatch when it is not BFD traffic.
[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2018-September/047360.html
Signed-off-by: Han Zhou hzhou8@ebay.com","When there are tunnel ports with BFD enabled, all UDP flows will have
dst port as match condition in datapath, which causes unnecessarily
high flow miss for all UDP traffic, and results in latency increase.
For more details, see [1].
This patch solves the problem by masking tp_dst only for the leading
bits that is enough to tell the mismatch when it is not BFD traffic.
[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2018-September/047360.html
Signed-off-by: Han Zhou hzhou8@ebay.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,255,2018-10-02T06:25:52Z,2018-10-02T22:40:50Z,2018-10-03T22:57:07Z,CLOSED,False,4,4,1,https://github.com/armcc,netdev-linux: use unsigned int for ifi_flags temporary variables,1,[],https://github.com/openvswitch/ovs/pull/255,https://github.com/armcc,1,https://github.com/openvswitch/ovs/pull/255,"ifi_flags in struct netdev_linux is an unsigned int, therefore use
unsigned int for variables which will hold ifi_flags values.","ifi_flags in struct netdev_linux is an unsigned int, therefore use
unsigned int for variables which will hold ifi_flags values.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,255,2018-10-02T06:25:52Z,2018-10-02T22:40:50Z,2018-10-03T22:57:07Z,CLOSED,False,4,4,1,https://github.com/armcc,netdev-linux: use unsigned int for ifi_flags temporary variables,1,[],https://github.com/openvswitch/ovs/pull/255,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/255#issuecomment-426454430,"ifi_flags in struct netdev_linux is an unsigned int, therefore use
unsigned int for variables which will hold ifi_flags values.",Thanks! Applied to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,256,2018-10-03T15:19:48Z,2018-10-03T17:38:37Z,2018-10-03T20:37:03Z,CLOSED,False,1,1,1,https://github.com/zolij,append Dockerfile filename to build command,1,[],https://github.com/openvswitch/ovs/pull/256,https://github.com/zolij,1,https://github.com/openvswitch/ovs/pull/256,"Faucet latest version (1.8.23) repository doesn't contain Dockerfile (it has multiple Dockerfiles), so docker build failed. I added Dockerfile.faucet as Dockerfile to the command.","Faucet latest version (1.8.23) repository doesn't contain Dockerfile (it has multiple Dockerfiles), so docker build failed. I added Dockerfile.faucet as Dockerfile to the command.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,256,2018-10-03T15:19:48Z,2018-10-03T17:38:37Z,2018-10-03T20:37:03Z,CLOSED,False,1,1,1,https://github.com/zolij,append Dockerfile filename to build command,1,[],https://github.com/openvswitch/ovs/pull/256,https://github.com/zolij,2,https://github.com/openvswitch/ovs/pull/256#issuecomment-426685505,"Faucet latest version (1.8.23) repository doesn't contain Dockerfile (it has multiple Dockerfiles), so docker build failed. I added Dockerfile.faucet as Dockerfile to the command.",it seems Faucet related pytest fails during image building. Why don't you use already built images from Docker Hub?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,256,2018-10-03T15:19:48Z,2018-10-03T17:38:37Z,2018-10-03T20:37:03Z,CLOSED,False,1,1,1,https://github.com/zolij,append Dockerfile filename to build command,1,[],https://github.com/openvswitch/ovs/pull/256,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/256#issuecomment-426725884,"Faucet latest version (1.8.23) repository doesn't contain Dockerfile (it has multiple Dockerfiles), so docker build failed. I added Dockerfile.faucet as Dockerfile to the command.",I'd be just as happy to suggest prebuilt images. Do you want to submit a patch to do that?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,256,2018-10-03T15:19:48Z,2018-10-03T17:38:37Z,2018-10-03T20:37:03Z,CLOSED,False,1,1,1,https://github.com/zolij,append Dockerfile filename to build command,1,[],https://github.com/openvswitch/ovs/pull/256,https://github.com/zolij,4,https://github.com/openvswitch/ovs/pull/256#issuecomment-426728685,"Faucet latest version (1.8.23) repository doesn't contain Dockerfile (it has multiple Dockerfiles), so docker build failed. I added Dockerfile.faucet as Dockerfile to the command.","Sure, but not before the weekend. I close this pr and i will create a new one for that when i finish it.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,256,2018-10-03T15:19:48Z,2018-10-03T17:38:37Z,2018-10-03T20:37:03Z,CLOSED,False,1,1,1,https://github.com/zolij,append Dockerfile filename to build command,1,[],https://github.com/openvswitch/ovs/pull/256,https://github.com/blp,5,https://github.com/openvswitch/ovs/pull/256#issuecomment-426792659,"Faucet latest version (1.8.23) repository doesn't contain Dockerfile (it has multiple Dockerfiles), so docker build failed. I added Dockerfile.faucet as Dockerfile to the command.",Thanks!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,257,2018-10-03T20:49:53Z,2018-10-03T21:55:54Z,2018-10-03T22:56:39Z,CLOSED,False,6,6,1,https://github.com/armcc,"m4: handle configuring with PYTHON=""/usr/bin/env python"" etc",1,[],https://github.com/openvswitch/ovs/pull/257,https://github.com/armcc,1,https://github.com/openvswitch/ovs/pull/257,"It may sometimes be desirable to have the python path determined at
run time, ie by setting PYTHON=""/usr/bin/env python"" etc.
Unfortunately that currently fails as $ovs_cv_python2 and
$ovs_cv_python3 are not always quoted and therefore fail to parse
correctly if PYTHON / PYTHON2 / PYTHON3 are set to values containing
spaces.","It may sometimes be desirable to have the python path determined at
run time, ie by setting PYTHON=""/usr/bin/env python"" etc.
Unfortunately that currently fails as $ovs_cv_python2 and
$ovs_cv_python3 are not always quoted and therefore fail to parse
correctly if PYTHON / PYTHON2 / PYTHON3 are set to values containing
spaces.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,257,2018-10-03T20:49:53Z,2018-10-03T21:55:54Z,2018-10-03T22:56:39Z,CLOSED,False,6,6,1,https://github.com/armcc,"m4: handle configuring with PYTHON=""/usr/bin/env python"" etc",1,[],https://github.com/openvswitch/ovs/pull/257,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/257#issuecomment-426817281,"It may sometimes be desirable to have the python path determined at
run time, ie by setting PYTHON=""/usr/bin/env python"" etc.
Unfortunately that currently fails as $ovs_cv_python2 and
$ovs_cv_python3 are not always quoted and therefore fail to parse
correctly if PYTHON / PYTHON2 / PYTHON3 are set to values containing
spaces.","I applied this to master, thanks!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,258,2018-10-31T16:19:02Z,2018-10-31T17:36:05Z,2018-10-31T17:36:05Z,CLOSED,False,1,0,1,https://github.com/elapointe-corsa,python-c-ext: Fix memory leak in Parser_finish,1,[],https://github.com/openvswitch/ovs/pull/258,https://github.com/elapointe-corsa,1,https://github.com/openvswitch/ovs/pull/258,"The memory returned by json_parser_finish needs to be freed by the caller.
Signed-off-by: Eric Lapointe elapointe@corsa.com
This fix can easily be tested using the following script in the python shell and looking at the memory usage with 'top':
import ovs.json
input = '{""key"": ""value""}'
while True:
    p = ovs.json.Parser()
    input = input[p.feed(input):]
    json = p.finish()","The memory returned by json_parser_finish needs to be freed by the caller.
Signed-off-by: Eric Lapointe elapointe@corsa.com
This fix can easily be tested using the following script in the python shell and looking at the memory usage with 'top':
import ovs.json
input = '{""key"": ""value""}'
while True:
    p = ovs.json.Parser()
    input = input[p.feed(input):]
    json = p.finish()",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,258,2018-10-31T16:19:02Z,2018-10-31T17:36:05Z,2018-10-31T17:36:05Z,CLOSED,False,1,0,1,https://github.com/elapointe-corsa,python-c-ext: Fix memory leak in Parser_finish,1,[],https://github.com/openvswitch/ovs/pull/258,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/258#issuecomment-434779934,"The memory returned by json_parser_finish needs to be freed by the caller.
Signed-off-by: Eric Lapointe elapointe@corsa.com
This fix can easily be tested using the following script in the python shell and looking at the memory usage with 'top':
import ovs.json
input = '{""key"": ""value""}'
while True:
    p = ovs.json.Parser()
    input = input[p.feed(input):]
    json = p.finish()","Thanks, I applied this to master and backported it as far as branch-2.6.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,259,2018-11-06T13:27:03Z,2019-04-16T23:12:14Z,2019-04-16T23:12:14Z,CLOSED,False,8,0,2,https://github.com/black0027,python-ovsdb: Changes to fetch list type values from ovsdb,1,[],https://github.com/openvswitch/ovs/pull/259,https://github.com/black0027,1,https://github.com/openvswitch/ovs/pull/259,"There is a problem when loading ovs ports list with python-ovsdb lib. ""Datum.to_python()"" returns None.
For example,
# ovs-vsctl get <br_name> port
[108beebd-3089-425a-a55d-aedaeddb8107, 92cb0e47-8c7d-4dfc-8480-410eea3411a3, a0cd6f8d-5cbc-433f-b52a-f7671ecba71b, ad9afb13-8246-4a06-bf04-0fca0093012c]
Signed-off-by: Nobody Void black0027@hotmail.com","There is a problem when loading ovs ports list with python-ovsdb lib. ""Datum.to_python()"" returns None.
For example,
# ovs-vsctl get <br_name> port
[108beebd-3089-425a-a55d-aedaeddb8107, 92cb0e47-8c7d-4dfc-8480-410eea3411a3, a0cd6f8d-5cbc-433f-b52a-f7671ecba71b, ad9afb13-8246-4a06-bf04-0fca0093012c]
Signed-off-by: Nobody Void black0027@hotmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,259,2018-11-06T13:27:03Z,2019-04-16T23:12:14Z,2019-04-16T23:12:14Z,CLOSED,False,8,0,2,https://github.com/black0027,python-ovsdb: Changes to fetch list type values from ovsdb,1,[],https://github.com/openvswitch/ovs/pull/259,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/259#issuecomment-436289081,"There is a problem when loading ovs ports list with python-ovsdb lib. ""Datum.to_python()"" returns None.
For example,
# ovs-vsctl get <br_name> port
[108beebd-3089-425a-a55d-aedaeddb8107, 92cb0e47-8c7d-4dfc-8480-410eea3411a3, a0cd6f8d-5cbc-433f-b52a-f7671ecba71b, ad9afb13-8246-4a06-bf04-0fca0093012c]
Signed-off-by: Nobody Void black0027@hotmail.com","Can you help me better understand the problem?  The ""for example"" doesn't actually use the Python OVSDB library.
it doesn't look appropriate to me to use to_string() in the implementation.  What if the list isn't a list of strings?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,259,2018-11-06T13:27:03Z,2019-04-16T23:12:14Z,2019-04-16T23:12:14Z,CLOSED,False,8,0,2,https://github.com/black0027,python-ovsdb: Changes to fetch list type values from ovsdb,1,[],https://github.com/openvswitch/ovs/pull/259,https://github.com/black0027,3,https://github.com/openvswitch/ovs/pull/259#issuecomment-436960074,"There is a problem when loading ovs ports list with python-ovsdb lib. ""Datum.to_python()"" returns None.
For example,
# ovs-vsctl get <br_name> port
[108beebd-3089-425a-a55d-aedaeddb8107, 92cb0e47-8c7d-4dfc-8480-410eea3411a3, a0cd6f8d-5cbc-433f-b52a-f7671ecba71b, ad9afb13-8246-4a06-bf04-0fca0093012c]
Signed-off-by: Nobody Void black0027@hotmail.com","Yes, The ""for example"" doesn't actually use the Python OVSDB library.
What I meaned was when trying to use python-ovsdb lib to get the ports list of ovs like as the result of executing 'ovs-vsctl get <br_name> port', However, in the existing implementation, list type returns None.
And the Atom class implements the to_string() method, but if it is not a string I think that can consider changes just like below so that user application can deal object detail.
- values.append(k.to_string())
+ values.append(k)",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,259,2018-11-06T13:27:03Z,2019-04-16T23:12:14Z,2019-04-16T23:12:14Z,CLOSED,False,8,0,2,https://github.com/black0027,python-ovsdb: Changes to fetch list type values from ovsdb,1,[],https://github.com/openvswitch/ovs/pull/259,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/259#issuecomment-437495988,"There is a problem when loading ovs ports list with python-ovsdb lib. ""Datum.to_python()"" returns None.
For example,
# ovs-vsctl get <br_name> port
[108beebd-3089-425a-a55d-aedaeddb8107, 92cb0e47-8c7d-4dfc-8480-410eea3411a3, a0cd6f8d-5cbc-433f-b52a-f7671ecba71b, ad9afb13-8246-4a06-bf04-0fca0093012c]
Signed-off-by: Nobody Void black0027@hotmail.com","OK, please update the patch.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,259,2018-11-06T13:27:03Z,2019-04-16T23:12:14Z,2019-04-16T23:12:14Z,CLOSED,False,8,0,2,https://github.com/black0027,python-ovsdb: Changes to fetch list type values from ovsdb,1,[],https://github.com/openvswitch/ovs/pull/259,https://github.com/blp,5,https://github.com/openvswitch/ovs/pull/259#issuecomment-437951846,"There is a problem when loading ovs ports list with python-ovsdb lib. ""Datum.to_python()"" returns None.
For example,
# ovs-vsctl get <br_name> port
[108beebd-3089-425a-a55d-aedaeddb8107, 92cb0e47-8c7d-4dfc-8480-410eea3411a3, a0cd6f8d-5cbc-433f-b52a-f7671ecba71b, ad9afb13-8246-4a06-bf04-0fca0093012c]
Signed-off-by: Nobody Void black0027@hotmail.com",Please squash the changes in a single patch.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,259,2018-11-06T13:27:03Z,2019-04-16T23:12:14Z,2019-04-16T23:12:14Z,CLOSED,False,8,0,2,https://github.com/black0027,python-ovsdb: Changes to fetch list type values from ovsdb,1,[],https://github.com/openvswitch/ovs/pull/259,https://github.com/black0027,6,https://github.com/openvswitch/ovs/pull/259#issuecomment-450790056,"There is a problem when loading ovs ports list with python-ovsdb lib. ""Datum.to_python()"" returns None.
For example,
# ovs-vsctl get <br_name> port
[108beebd-3089-425a-a55d-aedaeddb8107, 92cb0e47-8c7d-4dfc-8480-410eea3411a3, a0cd6f8d-5cbc-433f-b52a-f7671ecba71b, ad9afb13-8246-4a06-bf04-0fca0093012c]
Signed-off-by: Nobody Void black0027@hotmail.com",Sorry for late. Making a single patch is done.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,259,2018-11-06T13:27:03Z,2019-04-16T23:12:14Z,2019-04-16T23:12:14Z,CLOSED,False,8,0,2,https://github.com/black0027,python-ovsdb: Changes to fetch list type values from ovsdb,1,[],https://github.com/openvswitch/ovs/pull/259,https://github.com/blp,7,https://github.com/openvswitch/ovs/pull/259#issuecomment-483876461,"There is a problem when loading ovs ports list with python-ovsdb lib. ""Datum.to_python()"" returns None.
For example,
# ovs-vsctl get <br_name> port
[108beebd-3089-425a-a55d-aedaeddb8107, 92cb0e47-8c7d-4dfc-8480-410eea3411a3, a0cd6f8d-5cbc-433f-b52a-f7671ecba71b, ad9afb13-8246-4a06-bf04-0fca0093012c]
Signed-off-by: Nobody Void black0027@hotmail.com","I'm sorry it's taken so long to take a look at this.
I would really appreciate it if you would add a test (that fails before the patch and succeeds afterward) or at least a complete example.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,259,2018-11-06T13:27:03Z,2019-04-16T23:12:14Z,2019-04-16T23:12:14Z,CLOSED,False,8,0,2,https://github.com/black0027,python-ovsdb: Changes to fetch list type values from ovsdb,1,[],https://github.com/openvswitch/ovs/pull/259,https://github.com/blp,8,https://github.com/openvswitch/ovs/pull/259#issuecomment-483876975,"There is a problem when loading ovs ports list with python-ovsdb lib. ""Datum.to_python()"" returns None.
For example,
# ovs-vsctl get <br_name> port
[108beebd-3089-425a-a55d-aedaeddb8107, 92cb0e47-8c7d-4dfc-8480-410eea3411a3, a0cd6f8d-5cbc-433f-b52a-f7671ecba71b, ad9afb13-8246-4a06-bf04-0fca0093012c]
Signed-off-by: Nobody Void black0027@hotmail.com","Actually, this patch makes many of the unit tests fail, so I suspect that it is simply wrong.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,260,2018-11-09T20:17:32Z,2018-12-12T18:01:13Z,2018-12-12T18:01:13Z,CLOSED,False,11,3,2,https://github.com/mwfong-csl,Add --span to mirror all ports on bridge,2,[],https://github.com/openvswitch/ovs/pull/260,https://github.com/mwfong-csl,1,https://github.com/openvswitch/ovs/pull/260,"When the command line option, --span, is specified, mirror.select_all is set True.","When the command line option, --span, is specified, mirror.select_all is set True.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,260,2018-11-09T20:17:32Z,2018-12-12T18:01:13Z,2018-12-12T18:01:13Z,CLOSED,False,11,3,2,https://github.com/mwfong-csl,Add --span to mirror all ports on bridge,2,[],https://github.com/openvswitch/ovs/pull/260,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/260#issuecomment-437494683,"When the command line option, --span, is specified, mirror.select_all is set True.",Thank you for the patch.  Would you mind also updating the ovs-tcpdump manpage?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,260,2018-11-09T20:17:32Z,2018-12-12T18:01:13Z,2018-12-12T18:01:13Z,CLOSED,False,11,3,2,https://github.com/mwfong-csl,Add --span to mirror all ports on bridge,2,[],https://github.com/openvswitch/ovs/pull/260,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/260#issuecomment-437494840,"When the command line option, --span, is specified, mirror.select_all is set True.","Oh, also can you provide a Signed-off-by for this patch?
Q: What's a Signed-off-by and how do I provide one?
A: Free and open source software projects usually require a contributor to
provide some assurance that they're entitled to contribute the code that
they provide.  Some projects, for example, do this with a Contributor
License Agreement (CLA) or a copyright assignment that is signed on paper
or electronically.

For this purpose, Open vSwitch has adopted something called the Developer's
Certificate of Origin (DCO), which is also used by the Linux kernel and
originated there.  Informally stated, agreeing to the DCO is the
developer's way of attesting that a particular commit that they are
contributing is one that they are allowed to contribute.  You should visit
https://developercertificate.org/ to read the full statement of the DCO,
which is less than 200 words long.

To certify compliance with the Developer's Certificate of Origin for a
particular commit, just add the following line to the end of your commit
message, properly substituting your name and email address:

    Signed-off-by: Firstname Lastname <email@example.org>

Git has special support for adding a Signed-off-by line to a commit
message: when you run ""git commit"", just add the -s option, as in ""git
commit -s"".  If you use the ""git citool"" GUI for commits, you can add a
Signed-off-by line to the commit message by pressing Control+S.  Other Git
user interfaces may provide similar support.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,260,2018-11-09T20:17:32Z,2018-12-12T18:01:13Z,2018-12-12T18:01:13Z,CLOSED,False,11,3,2,https://github.com/mwfong-csl,Add --span to mirror all ports on bridge,2,[],https://github.com/openvswitch/ovs/pull/260,https://github.com/mwfong-csl,4,https://github.com/openvswitch/ovs/pull/260#issuecomment-437508472,"When the command line option, --span, is specified, mirror.select_all is set True.",Sure.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,260,2018-11-09T20:17:32Z,2018-12-12T18:01:13Z,2018-12-12T18:01:13Z,CLOSED,False,11,3,2,https://github.com/mwfong-csl,Add --span to mirror all ports on bridge,2,[],https://github.com/openvswitch/ovs/pull/260,https://github.com/orgcandman,5,https://github.com/openvswitch/ovs/pull/260#issuecomment-446343886,"When the command line option, --span, is specified, mirror.select_all is set True.","With the two commits squashed:
Acked-by: Aaron Conole aconole@redhat.com
I'd like to see it posted to the mailing list for posterity, though.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,260,2018-11-09T20:17:32Z,2018-12-12T18:01:13Z,2018-12-12T18:01:13Z,CLOSED,False,11,3,2,https://github.com/mwfong-csl,Add --span to mirror all ports on bridge,2,[],https://github.com/openvswitch/ovs/pull/260,https://github.com/mwfong-csl,6,https://github.com/openvswitch/ovs/pull/260#issuecomment-446388310,"When the command line option, --span, is specified, mirror.select_all is set True.",Aaron — how would I post the pull request to the mailing list?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,260,2018-11-09T20:17:32Z,2018-12-12T18:01:13Z,2018-12-12T18:01:13Z,CLOSED,False,11,3,2,https://github.com/mwfong-csl,Add --span to mirror all ports on bridge,2,[],https://github.com/openvswitch/ovs/pull/260,https://github.com/orgcandman,7,https://github.com/openvswitch/ovs/pull/260#issuecomment-446605471,"When the command line option, --span, is specified, mirror.select_all is set True.","mwfong-csl <notifications@github.com> writes:
 Aaron — how would I post the pull request to the mailing list?
The mailing list is:

  dev@openvswitch.org

The manpages for the following commands will be useful:
  git format-patch
  git send-email

Also, maybe this post:

https://www.kernel.org/doc/html/v4.12/process/submitting-patches.html

can help.

The basic workflow is:

1. make sure that the changes are part of a single commit (git rebase -i
and squash the two commits together)

2. git format-patch HEAD~

3. git send-email --to=""dev@openvswitch.org"" ...

Hope this helps.
…
 —
 You are receiving this because you commented.
 Reply to this email directly, view it on GitHub, or mute the thread.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,260,2018-11-09T20:17:32Z,2018-12-12T18:01:13Z,2018-12-12T18:01:13Z,CLOSED,False,11,3,2,https://github.com/mwfong-csl,Add --span to mirror all ports on bridge,2,[],https://github.com/openvswitch/ovs/pull/260,https://github.com/blp,8,https://github.com/openvswitch/ovs/pull/260#issuecomment-446683512,"When the command line option, --span, is specified, mirror.select_all is set True.",I fixed this up in a couple of minor ways and applied this to master.  Thanks!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,261,2018-11-15T08:06:00Z,2018-11-15T14:34:07Z,2018-11-15T14:34:07Z,CLOSED,False,2,2,1,https://github.com/chrone81,docs: Fix typo in faq/vlan.rst,1,[],https://github.com/openvswitch/ovs/pull/261,https://github.com/chrone81,1,https://github.com/openvswitch/ovs/pull/261,"The VLAN 9 configuration example should be using vlan9 instead of vlan0.
Signed-off-by: Charles Alva charlesalva@gmail.com","The VLAN 9 configuration example should be using vlan9 instead of vlan0.
Signed-off-by: Charles Alva charlesalva@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,261,2018-11-15T08:06:00Z,2018-11-15T14:34:07Z,2018-11-15T14:34:07Z,CLOSED,False,2,2,1,https://github.com/chrone81,docs: Fix typo in faq/vlan.rst,1,[],https://github.com/openvswitch/ovs/pull/261,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/261#issuecomment-439060352,"The VLAN 9 configuration example should be using vlan9 instead of vlan0.
Signed-off-by: Charles Alva charlesalva@gmail.com",Thanks!  I applied this to master and backported to branch-2.10.,True,{'THUMBS_UP': ['https://github.com/chrone81']}
openvswitch/ovs,https://github.com/openvswitch/ovs,262,2018-11-28T14:00:59Z,2018-12-03T21:46:02Z,2018-12-03T21:46:02Z,CLOSED,False,4,0,1,https://github.com/bobuhiro11,ovs-ofctl: update a man page about group syntax,1,[],https://github.com/openvswitch/ovs/pull/262,https://github.com/bobuhiro11,1,https://github.com/openvswitch/ovs/pull/262,"watch_port and watch_group parameters can also be used for groups whose type is select, so I updated an ovs-ofctl man page.
Signed-off-by: Nobuhiro MIKI nob@bobuhiro11.net","watch_port and watch_group parameters can also be used for groups whose type is select, so I updated an ovs-ofctl man page.
Signed-off-by: Nobuhiro MIKI nob@bobuhiro11.net",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,262,2018-11-28T14:00:59Z,2018-12-03T21:46:02Z,2018-12-03T21:46:02Z,CLOSED,False,4,0,1,https://github.com/bobuhiro11,ovs-ofctl: update a man page about group syntax,1,[],https://github.com/openvswitch/ovs/pull/262,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/262#issuecomment-443882283,"watch_port and watch_group parameters can also be used for groups whose type is select, so I updated an ovs-ofctl man page.
Signed-off-by: Nobuhiro MIKI nob@bobuhiro11.net","Thanks, applied to master.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,263,2018-12-02T09:26:42Z,2018-12-03T21:18:28Z,2018-12-03T21:18:28Z,CLOSED,False,2,2,1,https://github.com/Upa0026,fix the description and the code,1,[],https://github.com/openvswitch/ovs/pull/263,https://github.com/Upa0026,1,https://github.com/openvswitch/ovs/pull/263,"Additionally, the ovs-ctl script allows starting / stopping the daemons
individually using specific options.  To start just the ovsdb-server::
$ export PATH=$PATH:/usr/local/share/openvswitch/scripts
$ ovs-ctl --no-ovsdb-server start

Likewise, to start just the ovs-vswitchd::
$ export PATH=$PATH:/usr/local/share/openvswitch/scripts
$ ovs-ctl --no-ovs-vswitchd start","Additionally, the ovs-ctl script allows starting / stopping the daemons
individually using specific options.  To start just the ovsdb-server::
$ export PATH=$PATH:/usr/local/share/openvswitch/scripts
$ ovs-ctl --no-ovsdb-server start

Likewise, to start just the ovs-vswitchd::
$ export PATH=$PATH:/usr/local/share/openvswitch/scripts
$ ovs-ctl --no-ovs-vswitchd start",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,263,2018-12-02T09:26:42Z,2018-12-03T21:18:28Z,2018-12-03T21:18:28Z,CLOSED,False,2,2,1,https://github.com/Upa0026,fix the description and the code,1,[],https://github.com/openvswitch/ovs/pull/263,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/263#issuecomment-443873853,"Additionally, the ovs-ctl script allows starting / stopping the daemons
individually using specific options.  To start just the ovsdb-server::
$ export PATH=$PATH:/usr/local/share/openvswitch/scripts
$ ovs-ctl --no-ovsdb-server start

Likewise, to start just the ovs-vswitchd::
$ export PATH=$PATH:/usr/local/share/openvswitch/scripts
$ ovs-ctl --no-ovs-vswitchd start",This patch looks wrong to me.  It doesn't make sense to use --no-ovsdb-server to start the OVSDB server.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,264,2018-12-18T19:31:03Z,,2019-11-22T17:27:13Z,OPEN,False,4,2,1,https://github.com/hoangphuocbk,Update faucet.rst,2,[],https://github.com/openvswitch/ovs/pull/264,https://github.com/hoangphuocbk,1,https://github.com/openvswitch/ovs/pull/264,"This patch update information for faucet.rst with:

Update from ""docker build -t faucet/faucet ."" to ""docker build -t faucet/faucet -f Dockerfile.faucet .""
Because the Dockerfile name is not standard, so need to pass Dockerfile name. Here are link to Dockerfile, https://github.com/faucetsdn/faucet/blob/master/Dockerfile.faucet.
Update the requirement for MAC learning and ARP timeouts.","This patch update information for faucet.rst with:

Update from ""docker build -t faucet/faucet ."" to ""docker build -t faucet/faucet -f Dockerfile.faucet .""
Because the Dockerfile name is not standard, so need to pass Dockerfile name. Here are link to Dockerfile, https://github.com/faucetsdn/faucet/blob/master/Dockerfile.faucet.
Update the requirement for MAC learning and ARP timeouts.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,265,2018-12-22T15:16:18Z,2018-12-27T17:59:21Z,2018-12-27T17:59:21Z,CLOSED,False,1,0,1,https://github.com/luzhipeng-zte,rhel: Fix rpmbuild fails for rhel ,1,[],https://github.com/openvswitch/ovs/pull/265,https://github.com/luzhipeng-zte,1,https://github.com/openvswitch/ovs/pull/265,"This patch fixes the rpm build fail for rhel. The error is:
Checking for unpackaged file(s): /usr/lib/rpm/check-files /root/rpmbuild/BUILDROOT/openvswitch-2.10.0-1.x86_64
error: Installed (but unpackaged) file(s) found:
/usr/share/openvswitch/scripts/ovs-monitor-ipsec
Signed-off-by: ZhiPeng LU luzhipeng@uniudc.com","This patch fixes the rpm build fail for rhel. The error is:
Checking for unpackaged file(s): /usr/lib/rpm/check-files /root/rpmbuild/BUILDROOT/openvswitch-2.10.0-1.x86_64
error: Installed (but unpackaged) file(s) found:
/usr/share/openvswitch/scripts/ovs-monitor-ipsec
Signed-off-by: ZhiPeng LU luzhipeng@uniudc.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,265,2018-12-22T15:16:18Z,2018-12-27T17:59:21Z,2018-12-27T17:59:21Z,CLOSED,False,1,0,1,https://github.com/luzhipeng-zte,rhel: Fix rpmbuild fails for rhel ,1,[],https://github.com/openvswitch/ovs/pull/265,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/265#issuecomment-450201154,"This patch fixes the rpm build fail for rhel. The error is:
Checking for unpackaged file(s): /usr/lib/rpm/check-files /root/rpmbuild/BUILDROOT/openvswitch-2.10.0-1.x86_64
error: Installed (but unpackaged) file(s) found:
/usr/share/openvswitch/scripts/ovs-monitor-ipsec
Signed-off-by: ZhiPeng LU luzhipeng@uniudc.com",Thanks! I applied this to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,266,2018-12-25T23:19:41Z,2018-12-27T17:55:37Z,2018-12-27T17:55:38Z,CLOSED,False,1,1,1,https://github.com/maksqwe,ovn: Fix incorrect comparison of the NB and SB band actions,1,[],https://github.com/openvswitch/ovs/pull/266,https://github.com/maksqwe,1,https://github.com/openvswitch/ovs/pull/266,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,266,2018-12-25T23:19:41Z,2018-12-27T17:55:37Z,2018-12-27T17:55:38Z,CLOSED,False,1,1,1,https://github.com/maksqwe,ovn: Fix incorrect comparison of the NB and SB band actions,1,[],https://github.com/openvswitch/ovs/pull/266,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/266#issuecomment-450200515,,Thanks a lot.  I applied this patch to master and branch-2.10.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,267,2018-12-27T03:10:36Z,2018-12-27T03:11:38Z,2018-12-27T03:11:38Z,CLOSED,False,96,129,2,https://github.com/TKaipeng,pull,2,[],https://github.com/openvswitch/ovs/pull/267,https://github.com/TKaipeng,1,https://github.com/openvswitch/ovs/pull/267,pull,pull,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,268,2019-01-04T08:04:39Z,2019-01-05T16:16:34Z,2019-01-05T16:16:34Z,CLOSED,False,60,6,8,https://github.com/liucimin,Cherrypick the datapath compat fix on branch 2.6 to support 3.10 kernel,3,[],https://github.com/openvswitch/ovs/pull/268,https://github.com/liucimin,1,https://github.com/openvswitch/ovs/pull/268,Cherrypick the datapath compat fix on branch 2.6 to support 3.10 kernel,Cherrypick the datapath compat fix on branch 2.6 to support 3.10 kernel,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,268,2019-01-04T08:04:39Z,2019-01-05T16:16:34Z,2019-01-05T16:16:34Z,CLOSED,False,60,6,8,https://github.com/liucimin,Cherrypick the datapath compat fix on branch 2.6 to support 3.10 kernel,3,[],https://github.com/openvswitch/ovs/pull/268,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/268#issuecomment-451668241,Cherrypick the datapath compat fix on branch 2.6 to support 3.10 kernel,We don't backport features into old branches. You can use the kernel module from a newer release instead.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,269,2019-01-17T00:55:31Z,2019-02-05T00:33:52Z,2019-02-05T00:33:52Z,CLOSED,False,55,21,4,https://github.com/psiyengar,"Fix OpenFlow v1.3.4 Conf test failures: 430.500, 430.510",2,[],https://github.com/openvswitch/ovs/pull/269,https://github.com/psiyengar,1,https://github.com/openvswitch/ovs/pull/269,"This commit adds additional verification to nx_pull_header__()
in lib/nx-match.c to distinguish between bad match and bad action
header conditions and return the appropriate error type/code.
Signed-off-by: Prashanth Iyengar prashanth_iyengar@alliedtelesis.com
Reviewed-by: Tony van der Peet tony.vanderpeet@alliedtelesis.co.nz
Reviewed-by: Rahul Gupta Rahul_Gupta@alliedtelesis.com","This commit adds additional verification to nx_pull_header__()
in lib/nx-match.c to distinguish between bad match and bad action
header conditions and return the appropriate error type/code.
Signed-off-by: Prashanth Iyengar prashanth_iyengar@alliedtelesis.com
Reviewed-by: Tony van der Peet tony.vanderpeet@alliedtelesis.co.nz
Reviewed-by: Rahul Gupta Rahul_Gupta@alliedtelesis.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,269,2019-01-17T00:55:31Z,2019-02-05T00:33:52Z,2019-02-05T00:33:52Z,CLOSED,False,55,21,4,https://github.com/psiyengar,"Fix OpenFlow v1.3.4 Conf test failures: 430.500, 430.510",2,[],https://github.com/openvswitch/ovs/pull/269,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/269#issuecomment-455268588,"This commit adds additional verification to nx_pull_header__()
in lib/nx-match.c to distinguish between bad match and bad action
header conditions and return the appropriate error type/code.
Signed-off-by: Prashanth Iyengar prashanth_iyengar@alliedtelesis.com
Reviewed-by: Tony van der Peet tony.vanderpeet@alliedtelesis.co.nz
Reviewed-by: Rahul Gupta Rahul_Gupta@alliedtelesis.com","Thank you for the patch!  It is good to make OVS more conformant.
It looks like the new function nxm_validate_action_field_header() is only used within nx-match.c.  I'd prefer to have it be static in that case.
nxm_validate_action_field_header() shares most of its code with nxm_field_by_header().  I'd prefer to see both of them written in terms of a common helper function to reduce duplication.
Thanks again!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,269,2019-01-17T00:55:31Z,2019-02-05T00:33:52Z,2019-02-05T00:33:52Z,CLOSED,False,55,21,4,https://github.com/psiyengar,"Fix OpenFlow v1.3.4 Conf test failures: 430.500, 430.510",2,[],https://github.com/openvswitch/ovs/pull/269,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/269#issuecomment-460468947,"This commit adds additional verification to nx_pull_header__()
in lib/nx-match.c to distinguish between bad match and bad action
header conditions and return the appropriate error type/code.
Signed-off-by: Prashanth Iyengar prashanth_iyengar@alliedtelesis.com
Reviewed-by: Tony van der Peet tony.vanderpeet@alliedtelesis.co.nz
Reviewed-by: Rahul Gupta Rahul_Gupta@alliedtelesis.com","Thanks, I squashed these together and applied them to master.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,270,2019-01-18T09:13:54Z,,2019-11-22T17:27:13Z,OPEN,False,15,0,3,https://github.com/hirokiht,Added pkg-config for libovn,6,[],https://github.com/openvswitch/ovs/pull/270,https://github.com/hirokiht,1,https://github.com/openvswitch/ovs/pull/270,Added pkg-config support for libovn and the corresponding modifications,Added pkg-config support for libovn and the corresponding modifications,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,270,2019-01-18T09:13:54Z,,2019-11-22T17:27:13Z,OPEN,False,15,0,3,https://github.com/hirokiht,Added pkg-config for libovn,6,[],https://github.com/openvswitch/ovs/pull/270,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/270#issuecomment-455639728,Added pkg-config support for libovn and the corresponding modifications,"Thanks for contributing to OVN!  We will need a Signed-off-by for this series.  The FAQ says the following:
Q: What's a Signed-off-by and how do I provide one?
A: Free and open source software projects usually require a contributor to provide some assurance that they're entitled to contribute the code that they provide. Some projects, for example, do this with a Contributor License Agreement (CLA) or a copyright assignment that is signed on paper or electronically.
For this purpose, Open vSwitch has adopted something called the Developer's Certificate of Origin (DCO), which is also used by the Linux kernel and originated there. Informally stated, agreeing to the DCO is the developer's way of attesting that a particular commit that they are contributing is one that they are allowed to contribute. You should visit https://developercertificate.org/ to read the full statement of the DCO, which is less than 200 words long.
To certify compliance with the Developer's Certificate of Origin for a particular commit, just add the following line to the end of your commit message, properly substituting your name and email address:
    Signed-off-by: Firstname Lastname <email@example.org>

Git has special support for adding a Signed-off-by line to a commit message: when you run ""git commit"", just add the -s option, as in ""git commit -s"". If you use the ""git citool"" GUI for commits, you can add a Signed-off-by line to the commit message by pressing Control+S. Other Git user interfaces may provide similar support.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,270,2019-01-18T09:13:54Z,,2019-11-22T17:27:13Z,OPEN,False,15,0,3,https://github.com/hirokiht,Added pkg-config for libovn,6,[],https://github.com/openvswitch/ovs/pull/270,https://github.com/hirokiht,3,https://github.com/openvswitch/ovs/pull/270#issuecomment-455742041,Added pkg-config support for libovn and the corresponding modifications,"Thanks for your assistance, I have added the Signed-off in my commit.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,270,2019-01-18T09:13:54Z,,2019-11-22T17:27:13Z,OPEN,False,15,0,3,https://github.com/hirokiht,Added pkg-config for libovn,6,[],https://github.com/openvswitch/ovs/pull/270,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/270#issuecomment-456625729,Added pkg-config support for libovn and the corresponding modifications,@hirokiht Thanks for the signed-off-by.  I squashed these together and sent them to the ovs-dev mailingn list for further review: https://mail.openvswitch.org/pipermail/ovs-dev/2019-January/355509.html,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/geaaru,1,https://github.com/openvswitch/ovs/pull/271,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.","With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/istokes,2,https://github.com/openvswitch/ovs/pull/271#issuecomment-463576988,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.","Support for pkg-config has been upstreamed to OVS master with the followng commit
5b5aa2d (""acinclude: Also use LIBS from dpkg pkg-config"")
As such I don't think this pull-request is required.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/geaaru,3,https://github.com/openvswitch/ovs/pull/271#issuecomment-463578007,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.",It's only a detail but this: 5b5aa2d#diff-a5522b90382504dc530177f63ced5209R230 will not be available. With Meson libdpdk.so will not be available anymore.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/istokes,4,https://github.com/openvswitch/ovs/pull/271#issuecomment-463582603,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.","Apologies, maybe I've misunderstood, can you elaborate further by what you mean 'libdpdk.so will not be available anymore' ?
Do you mean that meson doesn't create a libdpdk.so? From what I'm aware, 'make' is still the primary tool recommend by DPDK for building, so libdpdk.so should still be available via the usual methods when building DPDK but not through meson.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/geaaru,5,https://github.com/openvswitch/ovs/pull/271#issuecomment-463587462,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.","hi, i spoke with DPDK devs. They said me that meson will be the only way for compile DPDK library. Gmake/make will be deprecated.
About libdpdk.so, now this library is a textual tips to avoid user linking of every DPDK libraries (if you open file with vim or another editor you can see something like this: GROUP ( lib1.so lib2.so ).
It only helps the users.
With meson, libdpdk.so is not available anymore because with pkg-config you can retrieve the list of all libraries in a more easy way and so will be dropped.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/istokes,6,https://github.com/openvswitch/ovs/pull/271#issuecomment-463590024,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.","So yes, make will be deprecated, but this is targeted for DPDK 19.11 (at least that was the target provided when I raised the issue at the DPDK Community Release meeting this morning), from what I'm aware 'make' will remain as read only.
I'm also aware that some distros within the community will not be moving to meson quite yet due to dependencies on required packages not be supported in particular packages they provide, so the make method will still have to be used for them in that case.
From the OVS point of view, the next DPDK supported will be 19.11 as OVS sticks to DPDK LTS releases so it's a little while out yet but your right, it's something that will have to be considered when moving to 19.11.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/geaaru,7,https://github.com/openvswitch/ovs/pull/271#issuecomment-463591289,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.","But I think that this depends on distro. If you compile dpdk with meson also on 18.11 you have the same problems.
Probably, my patch could be more efficient if try to handle both worlds (meson and make).
For example, I created ebuild for Gentoo and Sabayon distro with already meson.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/istokes,8,https://github.com/openvswitch/ovs/pull/271#issuecomment-463604430,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.","Sure, but see below taken from the 18.11 meson build notes in DPDK
NOTE: Compiling and installing DPDK using meson and ninja, rather
than using make (GNU make) is EXPERIMENTAL. Official builds of DPDK
should always be done using make, as described in the Getting Started Guide documentation, and at ""http://core.dpdk.org/doc/quick-start"".
As you pointed out, distros may choose to build with meson but with the above caveat considered. Using the existing make functionality will still work for 18.11 (and is required for distros that do not support meson).
Note that the original pull request for your patch caused all OVS DPDK builds to fail in the OVS travis job, this would have to be fixed in your patch.
If you have changes required for the gentoo build to support both make and meson I'd be happy to review them when you submit them, but it would have to provide a  clean build for OVS travis also.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/geaaru,9,https://github.com/openvswitch/ovs/pull/271#issuecomment-463606184,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.","NOTE: Compiling and installing DPDK using meson and ninja, rather
than using make (GNU make) is EXPERIMENTAL. Official builds of DPDK
should always be done using make, as described in the Getting Started Guide documentation, and at ""http://core.dpdk.org/doc/quick-start"".

:) This is the reason because I asked to DPDK devs team to change that notes. I will push again for this.
Ok, yeah, I try to prepare the fix in the next days. I will appreciate your help to fix all Travis task.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/geaaru,10,https://github.com/openvswitch/ovs/pull/271#issuecomment-463643048,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.","As additional information for the thread, here the commit related to updating of meson as default technology:
DPDK/dpdk@7c383da
Drop of the Make is yet under discussion.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/geaaru,11,https://github.com/openvswitch/ovs/pull/271#issuecomment-464825762,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.","@istokes let me know WDYT of my changes. Now, it seems all good by Travis. Thanks.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/istokes,12,https://github.com/openvswitch/ovs/pull/271#issuecomment-465062501,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.","Thanks for the update, there's ongoing work on the mailing list around this from other distros over the last week, I'm not sure they;re aware of this, can I ask you to flag the pull request on the mailing list (you can email myself but just cc ovs-dev@openvswitch.org), I dont see an issue but I'd like to ensure others are ok with the change also, if its ok we can add it for the 2.11 release then as well as master.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/geaaru,13,https://github.com/openvswitch/ovs/pull/271#issuecomment-465078339,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.",done ;),True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,271,2019-02-12T15:46:37Z,2019-02-19T11:45:08Z,2019-02-19T11:45:16Z,CLOSED,False,11,1,1,https://github.com/geaaru,Use pkg-config for DPDK library,1,[],https://github.com/openvswitch/ovs/pull/271,https://github.com/geaaru,14,https://github.com/openvswitch/ovs/pull/271#issuecomment-465098278,"With meson integration and in the next releases in the DPDK library
libdpdk.so and in will no more available. Libraries to link can be
retrieved with pkg-config --libs libdpdk command.",As described on ml a workaround for this is to set PKG_CONFIG_PATH with a custom path of DPDK library installation.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,272,2019-02-16T02:49:53Z,2019-02-16T02:52:16Z,2019-02-16T02:52:31Z,CLOSED,False,2404,129,21,https://github.com/darball,ipf: Handle padded first fragments.,11,[],https://github.com/openvswitch/ovs/pull/272,https://github.com/darball,1,https://github.com/openvswitch/ovs/pull/272,"This patch modifies system-traffic.at at points of some long lines, that results in the patch getting corrupted by the time it reaches patchwork. Hence, I am submitting as a pull request.
commit 7d8aeabff4253677b8ba889f80f0d2dfabfaa333","This patch modifies system-traffic.at at points of some long lines, that results in the patch getting corrupted by the time it reaches patchwork. Hence, I am submitting as a pull request.
commit 7d8aeabff4253677b8ba889f80f0d2dfabfaa333",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,272,2019-02-16T02:49:53Z,2019-02-16T02:52:16Z,2019-02-16T02:52:31Z,CLOSED,False,2404,129,21,https://github.com/darball,ipf: Handle padded first fragments.,11,[],https://github.com/openvswitch/ovs/pull/272,https://github.com/darball,2,https://github.com/openvswitch/ovs/pull/272#issuecomment-464277055,"This patch modifies system-traffic.at at points of some long lines, that results in the patch getting corrupted by the time it reaches patchwork. Hence, I am submitting as a pull request.
commit 7d8aeabff4253677b8ba889f80f0d2dfabfaa333",resubmit,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,273,2019-02-16T02:53:02Z,2019-02-16T02:58:53Z,2019-02-16T02:58:53Z,CLOSED,False,2404,129,21,https://github.com/darball,Ipfrag,11,[],https://github.com/openvswitch/ovs/pull/273,https://github.com/darball,1,https://github.com/openvswitch/ovs/pull/273,"This patch modifies system-traffic.at at points of some long lines, that results in the patch getting corrupted by the time it reaches patchwork. Hence, I am submitting as a pull request.
commit 7d8aeabff4253677b8ba889f80f0d2dfabfaa333","This patch modifies system-traffic.at at points of some long lines, that results in the patch getting corrupted by the time it reaches patchwork. Hence, I am submitting as a pull request.
commit 7d8aeabff4253677b8ba889f80f0d2dfabfaa333",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,273,2019-02-16T02:53:02Z,2019-02-16T02:58:53Z,2019-02-16T02:58:53Z,CLOSED,False,2404,129,21,https://github.com/darball,Ipfrag,11,[],https://github.com/openvswitch/ovs/pull/273,https://github.com/darball,2,https://github.com/openvswitch/ovs/pull/273#issuecomment-464277523,"This patch modifies system-traffic.at at points of some long lines, that results in the patch getting corrupted by the time it reaches patchwork. Hence, I am submitting as a pull request.
commit 7d8aeabff4253677b8ba889f80f0d2dfabfaa333",some conflict,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,274,2019-02-16T03:03:04Z,,2019-11-22T17:27:13Z,OPEN,False,12,12,2,https://github.com/darball,ipf: Handle padded first fragments.,5,[],https://github.com/openvswitch/ovs/pull/274,https://github.com/darball,1,https://github.com/openvswitch/ovs/pull/274,"This patch modifies system-traffic.at at points of some long lines, that results in the patch getting corrupted by gmail by the time it reaches patchwork. Hence, I am submitting as a pull request.
commit 7d8aeabff4253677b8ba889f80f0d2dfabfaa333","This patch modifies system-traffic.at at points of some long lines, that results in the patch getting corrupted by gmail by the time it reaches patchwork. Hence, I am submitting as a pull request.
commit 7d8aeabff4253677b8ba889f80f0d2dfabfaa333",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,275,2019-02-18T17:24:16Z,2019-02-25T09:09:52Z,2019-02-25T09:09:52Z,CLOSED,False,40,11,1,https://github.com/antonkurbatov,ofproto-dpif-xlate: Learn source MAC for output action,1,[],https://github.com/openvswitch/ovs/pull/275,https://github.com/antonkurbatov,1,https://github.com/openvswitch/ovs/pull/275,"This patch allows to learn a source MAC address for 'output' action.
Which in turn will allow to reduce packets flooding in some cases, e.g.
when the rule for an opposite flow is the 'NORMAL'.
Signed-off-by: Anton Kurbatov bxfree@gmail.com","This patch allows to learn a source MAC address for 'output' action.
Which in turn will allow to reduce packets flooding in some cases, e.g.
when the rule for an opposite flow is the 'NORMAL'.
Signed-off-by: Anton Kurbatov bxfree@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,275,2019-02-18T17:24:16Z,2019-02-25T09:09:52Z,2019-02-25T09:09:52Z,CLOSED,False,40,11,1,https://github.com/antonkurbatov,ofproto-dpif-xlate: Learn source MAC for output action,1,[],https://github.com/openvswitch/ovs/pull/275,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/275#issuecomment-466574521,"This patch allows to learn a source MAC address for 'output' action.
Which in turn will allow to reduce packets flooding in some cases, e.g.
when the rule for an opposite flow is the 'NORMAL'.
Signed-off-by: Anton Kurbatov bxfree@gmail.com","This is clever!  I wonder whether it could have undesired side effects.  For example, suppose that some flows output to multiple ports, perhaps flooding packets ""by hand"" instead of through outputting to OFPP_FLOOD.  In that case, I think that this new logic will learn the final output port as the source, even though flooding should not do that.
I've occasionally thought about reimplementing OFPP_NORMAL.  It could be done in terms of finer-grained specialized actions, or perhaps in terms of carefully written LEARN actions.  Or it could even just expose the MAC learning table through some OpenFlow table.  In the latter case, LEARN actions  and all the usual OpenFlow flow table manipulation methods could be used to view and adjust the MAC learning table.  That might be a bigger project than you intended to take on, though.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,275,2019-02-18T17:24:16Z,2019-02-25T09:09:52Z,2019-02-25T09:09:52Z,CLOSED,False,40,11,1,https://github.com/antonkurbatov,ofproto-dpif-xlate: Learn source MAC for output action,1,[],https://github.com/openvswitch/ovs/pull/275,https://github.com/antonkurbatov,3,https://github.com/openvswitch/ovs/pull/275#issuecomment-466929614,"This patch allows to learn a source MAC address for 'output' action.
Which in turn will allow to reduce packets flooding in some cases, e.g.
when the rule for an opposite flow is the 'NORMAL'.
Signed-off-by: Anton Kurbatov bxfree@gmail.com","Ben, thanks a lot for your comment.
When I was preparing the patch I just wanted to eliminate packets flooding from NORMAL action in case of opposite flow is OUTPUT:PORT.
As you mentioned above, looks like this patch doesn't cover other cases and may break current flow behaviour.
Going to decline the PR, thanks.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,276,2019-02-22T13:29:55Z,2019-02-25T13:50:27Z,2019-03-22T13:27:20Z,MERGED,True,2,1,1,https://github.com/petrutlucian94,Update Python package requirements,1,[],https://github.com/openvswitch/ovs/pull/276,https://github.com/petrutlucian94,1,https://github.com/openvswitch/ovs/pull/276,"The Python ovs package relies on pywin32 for Windows support.
For this reason, pywin32 should be included in the requirements
list.","The Python ovs package relies on pywin32 for Windows support.
For this reason, pywin32 should be included in the requirements
list.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,276,2019-02-22T13:29:55Z,2019-02-25T13:50:27Z,2019-03-22T13:27:20Z,MERGED,True,2,1,1,https://github.com/petrutlucian94,Update Python package requirements,1,[],https://github.com/openvswitch/ovs/pull/276,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/276#issuecomment-466467425,"The Python ovs package relies on pywin32 for Windows support.
For this reason, pywin32 should be included in the requirements
list.","Seems reasonable to me.
@aserdean I'll leave this one to you though since you're the Windows expert.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,276,2019-02-22T13:29:55Z,2019-02-25T13:50:27Z,2019-03-22T13:27:20Z,MERGED,True,2,1,1,https://github.com/petrutlucian94,Update Python package requirements,1,[],https://github.com/openvswitch/ovs/pull/276,https://github.com/aserdean,3,https://github.com/openvswitch/ovs/pull/276#issuecomment-466925996,"The Python ovs package relies on pywin32 for Windows support.
For this reason, pywin32 should be included in the requirements
list.","/LGTM.
@petrutlucian94 ca you please include a Signed-off-by http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/#tags
The reason we ask for it can be found here:
http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/#developer-s-certificate-of-origin",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,276,2019-02-22T13:29:55Z,2019-02-25T13:50:27Z,2019-03-22T13:27:20Z,MERGED,True,2,1,1,https://github.com/petrutlucian94,Update Python package requirements,1,[],https://github.com/openvswitch/ovs/pull/276,https://github.com/petrutlucian94,4,https://github.com/openvswitch/ovs/pull/276#issuecomment-466927955,"The Python ovs package relies on pywin32 for Windows support.
For this reason, pywin32 should be included in the requirements
list.","/LGTM.
@petrutlucian94 ca you please include a Signed-off-by http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/#tags
The reason we ask for it can be found here:
http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/#developer-s-certificate-of-origin

Whops, missed that. I've updated the patch, thanks for mentioning it.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,276,2019-02-22T13:29:55Z,2019-02-25T13:50:27Z,2019-03-22T13:27:20Z,MERGED,True,2,1,1,https://github.com/petrutlucian94,Update Python package requirements,1,[],https://github.com/openvswitch/ovs/pull/276,https://github.com/aserdean,5,https://github.com/openvswitch/ovs/pull/276#issuecomment-467017619,"The Python ovs package relies on pywin32 for Windows support.
For this reason, pywin32 should be included in the requirements
list.",Thanks!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,276,2019-02-22T13:29:55Z,2019-02-25T13:50:27Z,2019-03-22T13:27:20Z,MERGED,True,2,1,1,https://github.com/petrutlucian94,Update Python package requirements,1,[],https://github.com/openvswitch/ovs/pull/276,https://github.com/blp,6,https://github.com/openvswitch/ovs/pull/276#issuecomment-467109802,"The Python ovs package relies on pywin32 for Windows support.
For this reason, pywin32 should be included in the requirements
list.","@aserdean Thanks for approving this. In the future would you mind using the ""rebase"" button?  We prefer to avoid merge commits in OVS in simple cases.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,276,2019-02-22T13:29:55Z,2019-02-25T13:50:27Z,2019-03-22T13:27:20Z,MERGED,True,2,1,1,https://github.com/petrutlucian94,Update Python package requirements,1,[],https://github.com/openvswitch/ovs/pull/276,https://github.com/aserdean,7,https://github.com/openvswitch/ovs/pull/276#issuecomment-467519821,"The Python ovs package relies on pywin32 for Windows support.
For this reason, pywin32 should be included in the requirements
list.","@aserdean Thanks for approving this. In the future would you mind using the ""rebase"" button? We prefer to avoid merge commits in OVS in simple cases.
@blp I'm really sorry about it.
Of course I can use the rebase button in the future. To be honest I had no idea it existed :)",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,276,2019-02-22T13:29:55Z,2019-02-25T13:50:27Z,2019-03-22T13:27:20Z,MERGED,True,2,1,1,https://github.com/petrutlucian94,Update Python package requirements,1,[],https://github.com/openvswitch/ovs/pull/276,https://github.com/drizzt,8,https://github.com/openvswitch/ovs/pull/276#issuecomment-475598722,"The Python ovs package relies on pywin32 for Windows support.
For this reason, pywin32 should be included in the requirements
list.","Unfortunately this commit prevent to build OVS python extensions on CentOS/RHEL7 since it uses an older version of setuptools (0.9.8) that doesn't support ""PEP 508"".
I have a workaround to fix this problem, but I cannot test it on Windows.
Can @aserdean or @petrutlucian94 check if it works?
Thank you
diff --git a/python/setup.py b/python/setup.py
index 14814ca4a..0787111e5 100644
--- a/python/setup.py
+++ b/python/setup.py
@@ -82,8 +82,8 @@ setup_args = dict(
     ext_modules=[setuptools.Extension(""ovs._json"", sources=[""ovs/_json.c""],
                                       libraries=['openvswitch'])],
     cmdclass={'build_ext': try_build_ext},
-    install_requires=['sortedcontainers',
-                      'pywin32>=1.0;platform_system==""Windows""'],
+    install_requires=['sortedcontainers'],
+    extras_require={'platform_system==""Windows""': ['pywin32>=1.0']},
 )
 
 try:",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,276,2019-02-22T13:29:55Z,2019-02-25T13:50:27Z,2019-03-22T13:27:20Z,MERGED,True,2,1,1,https://github.com/petrutlucian94,Update Python package requirements,1,[],https://github.com/openvswitch/ovs/pull/276,https://github.com/petrutlucian94,9,https://github.com/openvswitch/ovs/pull/276#issuecomment-475608090,"The Python ovs package relies on pywin32 for Windows support.
For this reason, pywin32 should be included in the requirements
list.","I tried Python 3.7.2 and setuptools 40.6.2. Apparently, the platform check needs a colon as follows:
extras_require={':platform_system==""Windows""': ['pywin32>=1.0']},",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,276,2019-02-22T13:29:55Z,2019-02-25T13:50:27Z,2019-03-22T13:27:20Z,MERGED,True,2,1,1,https://github.com/petrutlucian94,Update Python package requirements,1,[],https://github.com/openvswitch/ovs/pull/276,https://github.com/drizzt,10,https://github.com/openvswitch/ovs/pull/276#issuecomment-475620171,"The Python ovs package relies on pywin32 for Windows support.
For this reason, pywin32 should be included in the requirements
list.","t

I tried Python 3.7.2 and setuptools 40.6.2. Apparently, the platform check needs a colon as follows:
extras_require={':platform_system==""Windows""': ['pywin32>=1.0']},

Thank you for the quick answer and test.
I'll send a patch to restore the previous install_requires and to add the correct (aka yours) extra_require.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,277,2019-03-21T18:50:21Z,2019-03-22T20:45:26Z,2019-03-22T20:45:26Z,CLOSED,False,1,1,1,https://github.com/gedia,"ifupdown.sh: Add missing ""--may-exist"" option",1,[],https://github.com/openvswitch/ovs/pull/277,https://github.com/gedia,1,https://github.com/openvswitch/ovs/pull/277,"The ifupdown.sh script passes the --may-exist option
to ovs-vsctl invocations in order for it to exit without failing
if the device to be added already exists. This holds true for
all cases of adding objects to ovs-vswitchd except for when
configuring a bond interface.
This patch adds the --may-exist option to the missing
statement, which suppresses the logging of such errors in
syslog.
Additionally, running the unpatched version of this script when
the bond interface already exists appears to break
networking with some versions of ifupdown found in debian
testing (0.8.35), where the service won't start up properly
because of the aforementioned errors.
Signed-off-by: George Diamantopoulos georgediam@gmail.com","The ifupdown.sh script passes the --may-exist option
to ovs-vsctl invocations in order for it to exit without failing
if the device to be added already exists. This holds true for
all cases of adding objects to ovs-vswitchd except for when
configuring a bond interface.
This patch adds the --may-exist option to the missing
statement, which suppresses the logging of such errors in
syslog.
Additionally, running the unpatched version of this script when
the bond interface already exists appears to break
networking with some versions of ifupdown found in debian
testing (0.8.35), where the service won't start up properly
because of the aforementioned errors.
Signed-off-by: George Diamantopoulos georgediam@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,277,2019-03-21T18:50:21Z,2019-03-22T20:45:26Z,2019-03-22T20:45:26Z,CLOSED,False,1,1,1,https://github.com/gedia,"ifupdown.sh: Add missing ""--may-exist"" option",1,[],https://github.com/openvswitch/ovs/pull/277,https://github.com/gedia,2,https://github.com/openvswitch/ovs/pull/277#issuecomment-475359242,"The ifupdown.sh script passes the --may-exist option
to ovs-vsctl invocations in order for it to exit without failing
if the device to be added already exists. This holds true for
all cases of adding objects to ovs-vswitchd except for when
configuring a bond interface.
This patch adds the --may-exist option to the missing
statement, which suppresses the logging of such errors in
syslog.
Additionally, running the unpatched version of this script when
the bond interface already exists appears to break
networking with some versions of ifupdown found in debian
testing (0.8.35), where the service won't start up properly
because of the aforementioned errors.
Signed-off-by: George Diamantopoulos georgediam@gmail.com","If there are no objection to this, can someone also cherry-pick this for 2.10 in the hope that it will make it to buster before it's released? Thanks!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,277,2019-03-21T18:50:21Z,2019-03-22T20:45:26Z,2019-03-22T20:45:26Z,CLOSED,False,1,1,1,https://github.com/gedia,"ifupdown.sh: Add missing ""--may-exist"" option",1,[],https://github.com/openvswitch/ovs/pull/277,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/277#issuecomment-475776334,"The ifupdown.sh script passes the --may-exist option
to ovs-vsctl invocations in order for it to exit without failing
if the device to be added already exists. This holds true for
all cases of adding objects to ovs-vswitchd except for when
configuring a bond interface.
This patch adds the --may-exist option to the missing
statement, which suppresses the logging of such errors in
syslog.
Additionally, running the unpatched version of this script when
the bond interface already exists appears to break
networking with some versions of ifupdown found in debian
testing (0.8.35), where the service won't start up properly
because of the aforementioned errors.
Signed-off-by: George Diamantopoulos georgediam@gmail.com","Thanks, applied to master and backported as far as branch-2.5.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,278,2019-03-26T23:33:30Z,2019-07-22T17:23:38Z,2019-07-22T19:12:53Z,CLOSED,False,15,15,1,https://github.com/yifsun,test: Fix fragment-related tests that fail due to small-sized packets,1,[],https://github.com/openvswitch/ovs/pull/278,https://github.com/yifsun,1,https://github.com/openvswitch/ovs/pull/278,"These fragment-related tests are failing on later kernels (4.19.x)
because kernel quietly drops any packet fragment that is not the last
but has a size smaller than IPV6_MIN_MTU. This patch fixes
them by increasing their sizes to IPV6_MIN_MTU.
Signed-off-by: Yifeng Sun pkusunyifeng@gmail.com","These fragment-related tests are failing on later kernels (4.19.x)
because kernel quietly drops any packet fragment that is not the last
but has a size smaller than IPV6_MIN_MTU. This patch fixes
them by increasing their sizes to IPV6_MIN_MTU.
Signed-off-by: Yifeng Sun pkusunyifeng@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,278,2019-03-26T23:33:30Z,2019-07-22T17:23:38Z,2019-07-22T19:12:53Z,CLOSED,False,15,15,1,https://github.com/yifsun,test: Fix fragment-related tests that fail due to small-sized packets,1,[],https://github.com/openvswitch/ovs/pull/278,https://github.com/yifsun,2,https://github.com/openvswitch/ovs/pull/278#issuecomment-476896093,"These fragment-related tests are failing on later kernels (4.19.x)
because kernel quietly drops any packet fragment that is not the last
but has a size smaller than IPV6_MIN_MTU. This patch fixes
them by increasing their sizes to IPV6_MIN_MTU.
Signed-off-by: Yifeng Sun pkusunyifeng@gmail.com","This is a v2 patch for https://patchwork.ozlabs.org/patch/1057307/.
It was created after reviewed by Darrell.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,278,2019-03-26T23:33:30Z,2019-07-22T17:23:38Z,2019-07-22T19:12:53Z,CLOSED,False,15,15,1,https://github.com/yifsun,test: Fix fragment-related tests that fail due to small-sized packets,1,[],https://github.com/openvswitch/ovs/pull/278,https://github.com/yifsun,3,https://github.com/openvswitch/ovs/pull/278#issuecomment-501867007,"These fragment-related tests are failing on later kernels (4.19.x)
because kernel quietly drops any packet fragment that is not the last
but has a size smaller than IPV6_MIN_MTU. This patch fixes
them by increasing their sizes to IPV6_MIN_MTU.
Signed-off-by: Yifeng Sun pkusunyifeng@gmail.com","Thanks Darrell, I will fix it and come up with a new version.

Yifeng
…
On Thu, Jun 13, 2019 at 9:04 AM darball ***@***.***> wrote:
 ***@***.**** requested changes on this pull request.

 Two more serious problems:

 1/ We need a version of m4_define([CHECK_SMALL_V6_FRAG] in
 system-userspace-macros.at
 that does nothing else tests will fail.

 2/ Also for newly added packets, make sure checksums are correct.

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#278?email_source=notifications&email_token=ACM2UEQQL7RFJLCZW5JDMH3P2JV2XA5CNFSM4HBSTZBKYY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOB3PFPJI#pullrequestreview-249452453>,
 or mute the thread
 <https://github.com/notifications/unsubscribe-auth/ACM2UEQUUG7BG2ZVU7YL2UTP2JV2XANCNFSM4HBSTZBA>
 .",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,278,2019-03-26T23:33:30Z,2019-07-22T17:23:38Z,2019-07-22T19:12:53Z,CLOSED,False,15,15,1,https://github.com/yifsun,test: Fix fragment-related tests that fail due to small-sized packets,1,[],https://github.com/openvswitch/ovs/pull/278,https://github.com/yifsun,4,https://github.com/openvswitch/ovs/pull/278#issuecomment-513032467,"These fragment-related tests are failing on later kernels (4.19.x)
because kernel quietly drops any packet fragment that is not the last
but has a size smaller than IPV6_MIN_MTU. This patch fixes
them by increasing their sizes to IPV6_MIN_MTU.
Signed-off-by: Yifeng Sun pkusunyifeng@gmail.com","Hi Darrell,

I've made fixes according to your review last time. Could you take a look
if you have time? Thanks.

Pull request is at: #278

These tests passed on the following kernels (both check-system-userspace
and check-kmod):
4.20, 4.19, 4.17, 4.14, 4.4, RHEL 3.10

Best,
Yifeng
…
On Thu, Jun 13, 2019 at 1:29 PM Yifeng Sun ***@***.***> wrote:
 Thanks Darrell, I will fix it and come up with a new version.

 Yifeng

 On Thu, Jun 13, 2019 at 9:04 AM darball ***@***.***> wrote:

> ***@***.**** requested changes on this pull request.
>
> Two more serious problems:
>
> 1/ We need a version of m4_define([CHECK_SMALL_V6_FRAG] in
> system-userspace-macros.at
> that does nothing else tests will fail.
>
> 2/ Also for newly added packets, make sure checksums are correct.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <#278?email_source=notifications&email_token=ACM2UEQQL7RFJLCZW5JDMH3P2JV2XA5CNFSM4HBSTZBKYY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOB3PFPJI#pullrequestreview-249452453>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ACM2UEQUUG7BG2ZVU7YL2UTP2JV2XANCNFSM4HBSTZBA>
> .
>",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,278,2019-03-26T23:33:30Z,2019-07-22T17:23:38Z,2019-07-22T19:12:53Z,CLOSED,False,15,15,1,https://github.com/yifsun,test: Fix fragment-related tests that fail due to small-sized packets,1,[],https://github.com/openvswitch/ovs/pull/278,https://github.com/darball,5,https://github.com/openvswitch/ovs/pull/278#issuecomment-513593556,"These fragment-related tests are failing on later kernels (4.19.x)
because kernel quietly drops any packet fragment that is not the last
but has a size smaller than IPV6_MIN_MTU. This patch fixes
them by increasing their sizes to IPV6_MIN_MTU.
Signed-off-by: Yifeng Sun pkusunyifeng@gmail.com",Changes are passing all tests. So these are fine.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,278,2019-03-26T23:33:30Z,2019-07-22T17:23:38Z,2019-07-22T19:12:53Z,CLOSED,False,15,15,1,https://github.com/yifsun,test: Fix fragment-related tests that fail due to small-sized packets,1,[],https://github.com/openvswitch/ovs/pull/278,https://github.com/darball,6,https://github.com/openvswitch/ovs/pull/278#issuecomment-513593593,"These fragment-related tests are failing on later kernels (4.19.x)
because kernel quietly drops any packet fragment that is not the last
but has a size smaller than IPV6_MIN_MTU. This patch fixes
them by increasing their sizes to IPV6_MIN_MTU.
Signed-off-by: Yifeng Sun pkusunyifeng@gmail.com",Checksum problems were resolved - thanks.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,278,2019-03-26T23:33:30Z,2019-07-22T17:23:38Z,2019-07-22T19:12:53Z,CLOSED,False,15,15,1,https://github.com/yifsun,test: Fix fragment-related tests that fail due to small-sized packets,1,[],https://github.com/openvswitch/ovs/pull/278,https://github.com/yifsun,7,https://github.com/openvswitch/ovs/pull/278#issuecomment-513602314,"These fragment-related tests are failing on later kernels (4.19.x)
because kernel quietly drops any packet fragment that is not the last
but has a size smaller than IPV6_MIN_MTU. This patch fixes
them by increasing their sizes to IPV6_MIN_MTU.
Signed-off-by: Yifeng Sun pkusunyifeng@gmail.com","Thanks Darrell.
…
On Sun, Jul 21, 2019 at 3:38 PM darball ***@***.***> wrote:
 Checksum problems were resolved - thanks.

 —
 You are receiving this because you modified the open/close state.
 Reply to this email directly, view it on GitHub
 <#278?email_source=notifications&email_token=ACM2UEQVHNX6KJFDQ3TAZNDQATQODA5CNFSM4HBSTZBKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2ONB6I#issuecomment-513593593>,
 or mute the thread
 <https://github.com/notifications/unsubscribe-auth/ACM2UEQJH2LLRLYIP7WZWGLQATQODANCNFSM4HBSTZBA>
 .",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,278,2019-03-26T23:33:30Z,2019-07-22T17:23:38Z,2019-07-22T19:12:53Z,CLOSED,False,15,15,1,https://github.com/yifsun,test: Fix fragment-related tests that fail due to small-sized packets,1,[],https://github.com/openvswitch/ovs/pull/278,https://github.com/darball,8,https://github.com/openvswitch/ovs/pull/278#issuecomment-513867561,"These fragment-related tests are failing on later kernels (4.19.x)
because kernel quietly drops any packet fragment that is not the last
but has a size smaller than IPV6_MIN_MTU. This patch fixes
them by increasing their sizes to IPV6_MIN_MTU.
Signed-off-by: Yifeng Sun pkusunyifeng@gmail.com","Hi Yifeng
Since the checksum issues in earlier versions of this patch were fixed, it is generally ok to merge.
However, note that previous comments requested that some tests keep smaller packets and those
be skipped for the later kernels that use hardcoded checks.
The reason for this request is twofold - show the flexibility of the userspace data path in tests
and delineate the differences in behavior of different kernel version.
Also there are several tests where DPCTL_SET_MIN_FRAG_SIZE() can be removed due to using
larger packets.
Thanks Darrell",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,278,2019-03-26T23:33:30Z,2019-07-22T17:23:38Z,2019-07-22T19:12:53Z,CLOSED,False,15,15,1,https://github.com/yifsun,test: Fix fragment-related tests that fail due to small-sized packets,1,[],https://github.com/openvswitch/ovs/pull/278,https://github.com/blp,9,https://github.com/openvswitch/ovs/pull/278#issuecomment-513876229,"These fragment-related tests are failing on later kernels (4.19.x)
because kernel quietly drops any packet fragment that is not the last
but has a size smaller than IPV6_MIN_MTU. This patch fixes
them by increasing their sizes to IPV6_MIN_MTU.
Signed-off-by: Yifeng Sun pkusunyifeng@gmail.com",@darball Thanks for the review.  I applied this patch to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,278,2019-03-26T23:33:30Z,2019-07-22T17:23:38Z,2019-07-22T19:12:53Z,CLOSED,False,15,15,1,https://github.com/yifsun,test: Fix fragment-related tests that fail due to small-sized packets,1,[],https://github.com/openvswitch/ovs/pull/278,https://github.com/yifsun,10,https://github.com/openvswitch/ovs/pull/278#issuecomment-513915992,"These fragment-related tests are failing on later kernels (4.19.x)
because kernel quietly drops any packet fragment that is not the last
but has a size smaller than IPV6_MIN_MTU. This patch fixes
them by increasing their sizes to IPV6_MIN_MTU.
Signed-off-by: Yifeng Sun pkusunyifeng@gmail.com","Thanks Darrell, I will improve it and create another patch.
Yifeng
…
On Mon, Jul 22, 2019 at 10:00 AM darball ***@***.***> wrote:
 Hi Yifeng

 Since the checksum issues in earlier versions of this patch were fixed, it
 is generally ok to merge.

 However, note that previous comments requested that some tests keep
 smaller packets and those
 be skipped for the later kernels that use hardcoded checks.
 The reason for this request is twofold - show the flexibility of the
 userspace data path in tests
 and delineate the differences in behavior of different kernel version.
 Also there are several tests where DPCTL_SET_MIN_FRAG_SIZE() can be
 removed due to using
 larger packets.

 Thanks Darrell

 —
 You are receiving this because you modified the open/close state.
 Reply to this email directly, view it on GitHub
 <#278?email_source=notifications&email_token=ACM2UEXPEURUYN2F3GKVGHTQAXRTLA5CNFSM4HBSTZBKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2QP6KI#issuecomment-513867561>,
 or mute the thread
 <https://github.com/notifications/unsubscribe-auth/ACM2UESKPR2IZBWRVO7JB53QAXRTLANCNFSM4HBSTZBA>
 .",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,279,2019-04-03T01:44:10Z,2019-04-03T06:54:11Z,2019-04-03T09:33:29Z,CLOSED,False,151973,50544,1065,https://github.com/xulongju,Lost problem,2402,[],https://github.com/openvswitch/ovs/pull/279,https://github.com/xulongju,1,https://github.com/openvswitch/ovs/pull/279,"Hello all:
Currently using openvswitch has the following problems:
ovs-dpctl show
System@ovs-system:
         Lookups: hit:68166908035 missed:65130584 lost:4419
         Flows: 490
         Masks: hit:541048459085 total:12 hit/pkt:7.93
How to solve the missing and lost, please help me.
Version Information:
Openvswitch: 2.8.2
Kernel:4.16.6-1.el6.x86_64
System:CentOS release 6.5 (Final)","Hello all:
Currently using openvswitch has the following problems:
ovs-dpctl show
System@ovs-system:
         Lookups: hit:68166908035 missed:65130584 lost:4419
         Flows: 490
         Masks: hit:541048459085 total:12 hit/pkt:7.93
How to solve the missing and lost, please help me.
Version Information:
Openvswitch: 2.8.2
Kernel:4.16.6-1.el6.x86_64
System:CentOS release 6.5 (Final)",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,279,2019-04-03T01:44:10Z,2019-04-03T06:54:11Z,2019-04-03T09:33:29Z,CLOSED,False,151973,50544,1065,https://github.com/xulongju,Lost problem,2402,[],https://github.com/openvswitch/ovs/pull/279,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/279#issuecomment-479363658,"Hello all:
Currently using openvswitch has the following problems:
ovs-dpctl show
System@ovs-system:
         Lookups: hit:68166908035 missed:65130584 lost:4419
         Flows: 490
         Masks: hit:541048459085 total:12 hit/pkt:7.93
How to solve the missing and lost, please help me.
Version Information:
Openvswitch: 2.8.2
Kernel:4.16.6-1.el6.x86_64
System:CentOS release 6.5 (Final)",Don't file bug reports as pull requests.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,279,2019-04-03T01:44:10Z,2019-04-03T06:54:11Z,2019-04-03T09:33:29Z,CLOSED,False,151973,50544,1065,https://github.com/xulongju,Lost problem,2402,[],https://github.com/openvswitch/ovs/pull/279,https://github.com/xulongju,3,https://github.com/openvswitch/ovs/pull/279#issuecomment-479413258,"Hello all:
Currently using openvswitch has the following problems:
ovs-dpctl show
System@ovs-system:
         Lookups: hit:68166908035 missed:65130584 lost:4419
         Flows: 490
         Masks: hit:541048459085 total:12 hit/pkt:7.93
How to solve the missing and lost, please help me.
Version Information:
Openvswitch: 2.8.2
Kernel:4.16.6-1.el6.x86_64
System:CentOS release 6.5 (Final)",what should I do,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,279,2019-04-03T01:44:10Z,2019-04-03T06:54:11Z,2019-04-03T09:33:29Z,CLOSED,False,151973,50544,1065,https://github.com/xulongju,Lost problem,2402,[],https://github.com/openvswitch/ovs/pull/279,https://github.com/aserdean,4,https://github.com/openvswitch/ovs/pull/279#issuecomment-479414418,"Hello all:
Currently using openvswitch has the following problems:
ovs-dpctl show
System@ovs-system:
         Lookups: hit:68166908035 missed:65130584 lost:4419
         Flows: 490
         Masks: hit:541048459085 total:12 hit/pkt:7.93
How to solve the missing and lost, please help me.
Version Information:
Openvswitch: 2.8.2
Kernel:4.16.6-1.el6.x86_64
System:CentOS release 6.5 (Final)",http://docs.openvswitch.org/en/latest/#getting-help,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,280,2019-04-03T17:19:45Z,2019-04-03T17:46:46Z,2019-04-03T17:46:47Z,CLOSED,False,159,4,7,https://github.com/aserdean,[WIP] datapath-windows: Add Win10Analyze target,1,[],https://github.com/openvswitch/ovs/pull/280,https://github.com/aserdean,1,https://github.com/openvswitch/ovs/pull/280,This PR is to check the appveyor CI,This PR is to check the appveyor CI,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,280,2019-04-03T17:19:45Z,2019-04-03T17:46:46Z,2019-04-03T17:46:47Z,CLOSED,False,159,4,7,https://github.com/aserdean,[WIP] datapath-windows: Add Win10Analyze target,1,[],https://github.com/openvswitch/ovs/pull/280,https://github.com/aserdean,2,https://github.com/openvswitch/ovs/pull/280#issuecomment-479590810,This PR is to check the appveyor CI,And it worked 😄,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,281,2019-04-09T07:58:43Z,2019-04-12T22:28:57Z,2019-04-12T22:28:57Z,CLOSED,False,6,6,1,https://github.com/gotostack,Docs: fix conntrack flow ct_state input,1,[],https://github.com/openvswitch/ovs/pull/281,https://github.com/gotostack,1,https://github.com/openvswitch/ovs/pull/281,"In the following envrionment:
ovs-vsctl (Open vSwitch) 2.11.0
DB Schema 7.16.1
we meet the following error during the tutorials
conntrack test:
""ovs-ofctl: field +est missing value""
""ovs-ofctl: field +trk missing value""
ovs-vsctl 2.9.0 has the same issue.
This patch gives the tutorials with right
conntrack input.
Signed-off-by: LIU Yulong i@liuyulong.me","In the following envrionment:
ovs-vsctl (Open vSwitch) 2.11.0
DB Schema 7.16.1
we meet the following error during the tutorials
conntrack test:
""ovs-ofctl: field +est missing value""
""ovs-ofctl: field +trk missing value""
ovs-vsctl 2.9.0 has the same issue.
This patch gives the tutorials with right
conntrack input.
Signed-off-by: LIU Yulong i@liuyulong.me",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,281,2019-04-09T07:58:43Z,2019-04-12T22:28:57Z,2019-04-12T22:28:57Z,CLOSED,False,6,6,1,https://github.com/gotostack,Docs: fix conntrack flow ct_state input,1,[],https://github.com/openvswitch/ovs/pull/281,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/281#issuecomment-482742236,"In the following envrionment:
ovs-vsctl (Open vSwitch) 2.11.0
DB Schema 7.16.1
we meet the following error during the tutorials
conntrack test:
""ovs-ofctl: field +est missing value""
""ovs-ofctl: field +trk missing value""
ovs-vsctl 2.9.0 has the same issue.
This patch gives the tutorials with right
conntrack input.
Signed-off-by: LIU Yulong i@liuyulong.me",Thank you! I applied this to all relevant branches.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,282,2019-04-23T19:03:50Z,2019-04-24T00:15:39Z,2019-04-24T00:15:39Z,CLOSED,False,86,33,3,https://github.com/AravindPrasadDell,Return error codes for Rule insertions,1,[],https://github.com/openvswitch/ovs/pull/282,https://github.com/AravindPrasadDell,1,https://github.com/openvswitch/ovs/pull/282,"Description
Currently, rule_insert() API does not have return value. There are some possible scenarios where rule insertions can fail at run-time even though the static checks during rule_construct() had passed
previously.
Some possible scenarios for failure of rule insertions:
**) Rule insertions can fail dynamically in Hybrid mode (both Openflow and Normal switch functioning coexist) where the CAM space could get suddenly filled up by Normal switch functioning and Openflow gets devoid of available space.
**) Some deployments could have separate independent layers for HW rule insertions and application layer to interact with OVS. HW layer could face any dynamic issue during rule handling which
application could not have predicted/captured in rule-construction phase.
Rule-insert errors for bundles are handled too in this pull-request.
Testing:
Tested failures of rule insertions and also with bundles.
Signed-off-by: Aravind Prasad S <aravind.sridharan at dell.com>

ofproto/ofproto-dpif.c     |   4 +-
ofproto/ofproto-provider.h |   6 +--
ofproto/ofproto.c          | 109 +++++++++++++++++++++++++++++++++------------
3 files changed, 86 insertions(+), 33 deletions(-)","Description
Currently, rule_insert() API does not have return value. There are some possible scenarios where rule insertions can fail at run-time even though the static checks during rule_construct() had passed
previously.
Some possible scenarios for failure of rule insertions:
**) Rule insertions can fail dynamically in Hybrid mode (both Openflow and Normal switch functioning coexist) where the CAM space could get suddenly filled up by Normal switch functioning and Openflow gets devoid of available space.
**) Some deployments could have separate independent layers for HW rule insertions and application layer to interact with OVS. HW layer could face any dynamic issue during rule handling which
application could not have predicted/captured in rule-construction phase.
Rule-insert errors for bundles are handled too in this pull-request.
Testing:
Tested failures of rule insertions and also with bundles.
Signed-off-by: Aravind Prasad S <aravind.sridharan at dell.com>

ofproto/ofproto-dpif.c     |   4 +-
ofproto/ofproto-provider.h |   6 +--
ofproto/ofproto.c          | 109 +++++++++++++++++++++++++++++++++------------
3 files changed, 86 insertions(+), 33 deletions(-)",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,282,2019-04-23T19:03:50Z,2019-04-24T00:15:39Z,2019-04-24T00:15:39Z,CLOSED,False,86,33,3,https://github.com/AravindPrasadDell,Return error codes for Rule insertions,1,[],https://github.com/openvswitch/ovs/pull/282,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/282#issuecomment-486019862,"Description
Currently, rule_insert() API does not have return value. There are some possible scenarios where rule insertions can fail at run-time even though the static checks during rule_construct() had passed
previously.
Some possible scenarios for failure of rule insertions:
**) Rule insertions can fail dynamically in Hybrid mode (both Openflow and Normal switch functioning coexist) where the CAM space could get suddenly filled up by Normal switch functioning and Openflow gets devoid of available space.
**) Some deployments could have separate independent layers for HW rule insertions and application layer to interact with OVS. HW layer could face any dynamic issue during rule handling which
application could not have predicted/captured in rule-construction phase.
Rule-insert errors for bundles are handled too in this pull-request.
Testing:
Tested failures of rule insertions and also with bundles.
Signed-off-by: Aravind Prasad S <aravind.sridharan at dell.com>

ofproto/ofproto-dpif.c     |   4 +-
ofproto/ofproto-provider.h |   6 +--
ofproto/ofproto.c          | 109 +++++++++++++++++++++++++++++++++------------
3 files changed, 86 insertions(+), 33 deletions(-)","Applied to master, thanks!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,283,2019-05-10T09:07:02Z,2019-06-10T00:03:04Z,2019-06-10T00:03:04Z,CLOSED,False,12,6,1,https://github.com/damijans,"removed ""shadow"" warnings while compiling with clang by preventing re…",4,[],https://github.com/openvswitch/ovs/pull/283,https://github.com/damijans,1,https://github.com/openvswitch/ovs/pull/283,…cursively call __bswap_xx() function.,…cursively call __bswap_xx() function.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,283,2019-05-10T09:07:02Z,2019-06-10T00:03:04Z,2019-06-10T00:03:04Z,CLOSED,False,12,6,1,https://github.com/damijans,"removed ""shadow"" warnings while compiling with clang by preventing re…",4,[],https://github.com/openvswitch/ovs/pull/283,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/283#issuecomment-491293180,…cursively call __bswap_xx() function.,"Thanks for the fix.
Can you give an example of the warnings that this fixes?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,283,2019-05-10T09:07:02Z,2019-06-10T00:03:04Z,2019-06-10T00:03:04Z,CLOSED,False,12,6,1,https://github.com/damijans,"removed ""shadow"" warnings while compiling with clang by preventing re…",4,[],https://github.com/openvswitch/ovs/pull/283,https://github.com/damijans,3,https://github.com/openvswitch/ovs/pull/283#issuecomment-491712352,…cursively call __bswap_xx() function.,"Hi,
I am using clang version 3.8.0-2ubuntu4. When I did a clean rebuild, compiler reported with 1750 warnings of the following type:
....
./include/openvswitch/nsh.h:347:92: warning: declaration shadows a local variable [-Wshadow]
return (extension ({ unsigned int __v, __x = (((extension ({ unsigned int __v, __x = (path_hdr); if (__builtin_constant_p (__x)) __v = ((((__x) & 0xff000000) >> 24) | (((__x) & 0x00ff0000) >> 8) | (((__x) & 0x0000ff00) << 8) | (((__x) & 0x000000ff) << 24)); else asm (""bswap %0"" : ""=r"" (__v) : ""0"" (__x)); __v; })) & 0xffffff00) >> 8); if (__builtin_constant_p (__x)) __v = ((((__x) & 0xff000000) >> 24) | (((__x) & 0x00ff0000) >> 8) | (((__x) & 0x0000ff00) << 8) | (((__x) & 0x000000ff) << 24)); else asm (""bswap %0"" : ""=r"" (__v) : ""0"" (__x)); __v; }));
^
./include/openvswitch/nsh.h:347:48: note: previous declaration is here
return (extension ({ unsigned int __v, __x = (((extension ({ unsigned int __v, __x = (path_hdr); if (__builtin_constant_p (__x)) __v = ((((__x) & 0xff000000) >> 24) | (((__x) & 0x00ff0000) >> 8) | (((__x) & 0x0000ff00) << 8) | (((__x) & 0x000000ff) << 24)); else asm (""bswap %0"" : ""=r"" (__v) : ""0"" (__x)); __v; })) & 0xffffff00) >> 8); if (__builtin_constant_p (__x)) __v = ((((__x) & 0xff000000) >> 24) | (((__x) & 0x00ff0000) >> 8) | (((__x) & 0x0000ff00) << 8) | (((__x) & 0x000000ff) << 24)); else asm (""bswap %0"" : ""=r"" (__v) : ""0"" (__x)); __v; }));
.....
^
In most cases compiler complains about inline functions implemented in nsh.h. The problem was in calling htonXXX() (outer function) where apparent functions ntohYYY() (inner function) are called as a function argument. Both of these two functions are actually macros which by calling bswap() functions instantiate variables with the same name __v and here the instantiation of outer variable (from example the one which was instantiate in htonXXX()) shadows the inner variable (the one which was called from ntohYYY() function.
This type of warning can gracefully be avoiding by first calling the ""inner"" function, remember its result on a stack and calling the ""outer"" function afterwards and passing the stack variable.
Note this change is just a cosmetic one, there is nothing wrong with the source code, you warnings are removed. Note also that because the change is made in inline functions this small change has a huge effect since most of aforementioned 1750 warnings disappear.
I am attaching results of clean rebuild before and after the change.
clang.compile.before.txt
clang.compile.after.txt",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,283,2019-05-10T09:07:02Z,2019-06-10T00:03:04Z,2019-06-10T00:03:04Z,CLOSED,False,12,6,1,https://github.com/damijans,"removed ""shadow"" warnings while compiling with clang by preventing re…",4,[],https://github.com/openvswitch/ovs/pull/283,https://github.com/damijans,4,https://github.com/openvswitch/ovs/pull/283#issuecomment-492135554,…cursively call __bswap_xx() function.,"Hi,
I don't know you've been informed, I have updated pull request with
additional information.
br, damijan

V V pet., 10. maj 2019 ob 15:43 je oseba Ben Pfaff <notifications@github.com>
napisala:
…
 Thanks for the fix.

 Can you give an example of the warnings that this fixes?

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#283 (comment)>, or mute
 the thread
 <https://github.com/notifications/unsubscribe-auth/AC4V5EXT2OT6BCESMSOVGK3PUV3WRANCNFSM4HMBHSLA>
 .",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,283,2019-05-10T09:07:02Z,2019-06-10T00:03:04Z,2019-06-10T00:03:04Z,CLOSED,False,12,6,1,https://github.com/damijans,"removed ""shadow"" warnings while compiling with clang by preventing re…",4,[],https://github.com/openvswitch/ovs/pull/283,https://github.com/blp,5,https://github.com/openvswitch/ovs/pull/283#issuecomment-500256312,…cursively call __bswap_xx() function.,Thank you. I applied this to the master branch.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,284,2019-05-10T19:28:32Z,2019-05-10T19:42:49Z,2019-05-10T19:42:49Z,CLOSED,False,1,1,1,https://github.com/nicboul,fix sentence,1,[],https://github.com/openvswitch/ovs/pull/284,https://github.com/nicboul,1,https://github.com/openvswitch/ovs/pull/284,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,284,2019-05-10T19:28:32Z,2019-05-10T19:42:49Z,2019-05-10T19:42:49Z,CLOSED,False,1,1,1,https://github.com/nicboul,fix sentence,1,[],https://github.com/openvswitch/ovs/pull/284,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/284#issuecomment-491408098,,"Thanks, I applied this to master.
This lacked a Signed-off-by, but I decided that it was OK for a two-word change to documentation.  In the future please do provide one.
Q: What's a Signed-off-by and how do I provide one?
A: Free and open source software projects usually require a contributor to
provide some assurance that they're entitled to contribute the code that
they provide.  Some projects, for example, do this with a Contributor
License Agreement (CLA) or a copyright assignment that is signed on paper
or electronically.

For this purpose, Open vSwitch has adopted something called the Developer's
Certificate of Origin (DCO), which is also used by the Linux kernel and
originated there.  Informally stated, agreeing to the DCO is the
developer's way of attesting that a particular commit that they are
contributing is one that they are allowed to contribute.  You should visit
https://developercertificate.org/ to read the full statement of the DCO,
which is less than 200 words long.

To certify compliance with the Developer's Certificate of Origin for a
particular commit, just add the following line to the end of your commit
message, properly substituting your name and email address:

    Signed-off-by: Firstname Lastname <email@example.org>

Git has special support for adding a Signed-off-by line to a commit
message: when you run ""git commit"", just add the -s option, as in ""git
commit -s"".  If you use the ""git citool"" GUI for commits, you can add a
Signed-off-by line to the commit message by pressing Control+S.  Other Git
user interfaces may provide similar support.",True,{'THUMBS_UP': ['https://github.com/nicboul']}
openvswitch/ovs,https://github.com/openvswitch/ovs,285,2019-05-16T12:16:49Z,,2019-11-22T17:27:13Z,OPEN,False,87,26,6,https://github.com/RostyslavFridman,Add new 'passthrough' nat_type,2,[],https://github.com/openvswitch/ovs/pull/285,https://github.com/RostyslavFridman,1,https://github.com/openvswitch/ovs/pull/285,"'passthrough' expects source network in 'logical_ip' column and destination network in 'external_ip' column.
For the traffic that goes from source to destination 'passthrough' disables NAT by adding a priority-100 flow with a match of 'ip && ip4.src == A && ip4.dst == B' and an action of 'next;'.
Signed-off-by: Rostyslav Fridman rostyslav_fridman@epam.com","'passthrough' expects source network in 'logical_ip' column and destination network in 'external_ip' column.
For the traffic that goes from source to destination 'passthrough' disables NAT by adding a priority-100 flow with a match of 'ip && ip4.src == A && ip4.dst == B' and an action of 'next;'.
Signed-off-by: Rostyslav Fridman rostyslav_fridman@epam.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,285,2019-05-16T12:16:49Z,,2019-11-22T17:27:13Z,OPEN,False,87,26,6,https://github.com/RostyslavFridman,Add new 'passthrough' nat_type,2,[],https://github.com/openvswitch/ovs/pull/285,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/285#issuecomment-495773499,"'passthrough' expects source network in 'logical_ip' column and destination network in 'external_ip' column.
For the traffic that goes from source to destination 'passthrough' disables NAT by adding a priority-100 flow with a match of 'ip && ip4.src == A && ip4.dst == B' and an action of 'next;'.
Signed-off-by: Rostyslav Fridman rostyslav_fridman@epam.com","I'd suggest posting these patches to ovs-dev@openvswitch.org, because they are more likely to get the necessary review there.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,286,2019-06-02T02:06:37Z,2019-06-02T03:54:18Z,2019-06-02T03:54:37Z,CLOSED,False,1611,674,91,https://github.com/jikui,Dev,118,[],https://github.com/openvswitch/ovs/pull/286,https://github.com/jikui,1,https://github.com/openvswitch/ovs/pull/286,"phenomena

For example, there is a machine (A) running ovs with one configured one vxlan interface with tunnel value 123,  then all the vxlan traffics destinate to this machine(A) will be dealt with the ovs.
Although the ovs in machine A only configured with one vxlan tunnel (123), all the vxlan traffics regardless the tunnel value is 123 or not, will be delivered to the vswitchd to do the slow path if there is no flow tables found in the datapath.

root cause analysis
a)  For the unwanted packets(no vxlan tunnel configured for this case), the receiver will install the
drop-action flow to the datapath.
b) when the revalidator thread is trying to age-out/clean-up the flows installed in step 1), they are
considered as invalidated by revalidator thread since the revalidator thread could not find the
xport for them. Hence the revalidator thread delete the them very soon.
that is causing all the upcoming packets are sending to userspace again.
It will repeat the steps that
i) send to userspace,
ii) install drop-action flow table
iii) the revalidator thread delete them.
The fix is:
if the flow's action is drop, we only bank on the time age-out mechanism to clean them up and don't
enforce the revalidate_ukey action for them.","phenomena

For example, there is a machine (A) running ovs with one configured one vxlan interface with tunnel value 123,  then all the vxlan traffics destinate to this machine(A) will be dealt with the ovs.
Although the ovs in machine A only configured with one vxlan tunnel (123), all the vxlan traffics regardless the tunnel value is 123 or not, will be delivered to the vswitchd to do the slow path if there is no flow tables found in the datapath.

root cause analysis
a)  For the unwanted packets(no vxlan tunnel configured for this case), the receiver will install the
drop-action flow to the datapath.
b) when the revalidator thread is trying to age-out/clean-up the flows installed in step 1), they are
considered as invalidated by revalidator thread since the revalidator thread could not find the
xport for them. Hence the revalidator thread delete the them very soon.
that is causing all the upcoming packets are sending to userspace again.
It will repeat the steps that
i) send to userspace,
ii) install drop-action flow table
iii) the revalidator thread delete them.
The fix is:
if the flow's action is drop, we only bank on the time age-out mechanism to clean them up and don't
enforce the revalidate_ukey action for them.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,287,2019-06-02T02:23:08Z,2019-06-05T20:20:38Z,2019-06-10T03:39:34Z,CLOSED,False,8,2,1,https://github.com/jikui,only revalidate the flows whose actions are not drop.,1,[],https://github.com/openvswitch/ovs/pull/287,https://github.com/jikui,1,https://github.com/openvswitch/ovs/pull/287,"phenomena
Briefly, the flows with drop actions are deleted by revalidator thread wrongly which causes all the
upcoming packets need to go to userspace and which wastes lots of time.
a) For example, there is a machine (A) running ovs with one configured one vxlan interface with
tunnel value 123,  then all the vxlan traffics destinate to this machine(A) will be dealt with the ovs.
b)  Although the ovs in machine A only configured with one vxlan tunnel (123), all the vxlan traffics
regardless the tunnel value is 123 or not, will be delivered to the vswitchd to do the slow path if
there is no flow tables found in the datapath.


c)   The vxlan configuration such as the configured vxlan tunnel valuse does not exist in
the datapath, so these packets will be sent to vswitchd process. (There is only one vxlan tunnel
with vni value 0 exist in the datapath’s vxlan configuration).


root cause analysis
a) For the unwanted packets(no vxlan tunnel configured for this case), the receiver will install the
drop-action flow to the datapath.
b)  when the revalidator thread is trying to age-out/clean-up the flows installed in step 1), they are
considered as invalidate by revalidator thread since the revalidator thread could not find the
xport for them. Hence the revalidator thread delete the them very soon.
c) That causes all the upcoming packets are sending to userspace again and  repeat the steps that
i) send to userspace, ii)) install drop-action flow table iii) the revalidator thread delete them.


3)) The fix is:
if the flow's action is drop, we only bank on the time age-out mechanism to clean them up and don't enforce the revalidate_ukey action for them.","phenomena
Briefly, the flows with drop actions are deleted by revalidator thread wrongly which causes all the
upcoming packets need to go to userspace and which wastes lots of time.
a) For example, there is a machine (A) running ovs with one configured one vxlan interface with
tunnel value 123,  then all the vxlan traffics destinate to this machine(A) will be dealt with the ovs.
b)  Although the ovs in machine A only configured with one vxlan tunnel (123), all the vxlan traffics
regardless the tunnel value is 123 or not, will be delivered to the vswitchd to do the slow path if
there is no flow tables found in the datapath.


c)   The vxlan configuration such as the configured vxlan tunnel valuse does not exist in
the datapath, so these packets will be sent to vswitchd process. (There is only one vxlan tunnel
with vni value 0 exist in the datapath’s vxlan configuration).


root cause analysis
a) For the unwanted packets(no vxlan tunnel configured for this case), the receiver will install the
drop-action flow to the datapath.
b)  when the revalidator thread is trying to age-out/clean-up the flows installed in step 1), they are
considered as invalidate by revalidator thread since the revalidator thread could not find the
xport for them. Hence the revalidator thread delete the them very soon.
c) That causes all the upcoming packets are sending to userspace again and  repeat the steps that
i) send to userspace, ii)) install drop-action flow table iii) the revalidator thread delete them.


3)) The fix is:
if the flow's action is drop, we only bank on the time age-out mechanism to clean them up and don't enforce the revalidate_ukey action for them.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,287,2019-06-02T02:23:08Z,2019-06-05T20:20:38Z,2019-06-10T03:39:34Z,CLOSED,False,8,2,1,https://github.com/jikui,only revalidate the flows whose actions are not drop.,1,[],https://github.com/openvswitch/ovs/pull/287,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/287#issuecomment-499239728,"phenomena
Briefly, the flows with drop actions are deleted by revalidator thread wrongly which causes all the
upcoming packets need to go to userspace and which wastes lots of time.
a) For example, there is a machine (A) running ovs with one configured one vxlan interface with
tunnel value 123,  then all the vxlan traffics destinate to this machine(A) will be dealt with the ovs.
b)  Although the ovs in machine A only configured with one vxlan tunnel (123), all the vxlan traffics
regardless the tunnel value is 123 or not, will be delivered to the vswitchd to do the slow path if
there is no flow tables found in the datapath.


c)   The vxlan configuration such as the configured vxlan tunnel valuse does not exist in
the datapath, so these packets will be sent to vswitchd process. (There is only one vxlan tunnel
with vni value 0 exist in the datapath’s vxlan configuration).


root cause analysis
a) For the unwanted packets(no vxlan tunnel configured for this case), the receiver will install the
drop-action flow to the datapath.
b)  when the revalidator thread is trying to age-out/clean-up the flows installed in step 1), they are
considered as invalidate by revalidator thread since the revalidator thread could not find the
xport for them. Hence the revalidator thread delete the them very soon.
c) That causes all the upcoming packets are sending to userspace again and  repeat the steps that
i) send to userspace, ii)) install drop-action flow table iii) the revalidator thread delete them.


3)) The fix is:
if the flow's action is drop, we only bank on the time age-out mechanism to clean them up and don't enforce the revalidate_ukey action for them.",I reviewed this on the mailing list: https://mail.openvswitch.org/pipermail/ovs-dev/2019-June/359486.html,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,288,2019-06-26T10:27:12Z,2019-06-26T10:31:05Z,2019-06-26T10:31:05Z,CLOSED,False,44,1,2,https://github.com/gongmingchen, rxq support rxq soft affinity,2,[],https://github.com/openvswitch/ovs/pull/288,https://github.com/gongmingchen,1,https://github.com/openvswitch/ovs/pull/288,"Even if pmd-rxq-affinity have been set, the pmd that this interface RX queue map to will no been isolated, if this value set to true.","Even if pmd-rxq-affinity have been set, the pmd that this interface RX queue map to will no been isolated, if this value set to true.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,289,2019-06-26T11:28:37Z,,2019-11-22T17:27:13Z,OPEN,False,44,1,2,https://github.com/gongmingchen,rxq support rxq soft affinity,1,[],https://github.com/openvswitch/ovs/pull/289,https://github.com/gongmingchen,1,https://github.com/openvswitch/ovs/pull/289,"Even if pmd-rxq-affinity have been set,
the pmd that this interface RX queue map to
will no been isolated, if this value set to true.","Even if pmd-rxq-affinity have been set,
the pmd that this interface RX queue map to
will no been isolated, if this value set to true.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,289,2019-06-26T11:28:37Z,,2019-11-22T17:27:13Z,OPEN,False,44,1,2,https://github.com/gongmingchen,rxq support rxq soft affinity,1,[],https://github.com/openvswitch/ovs/pull/289,https://github.com/gongmingchen,2,https://github.com/openvswitch/ovs/pull/289#issuecomment-505898645,"Even if pmd-rxq-affinity have been set,
the pmd that this interface RX queue map to
will no been isolated, if this value set to true.","There is a scenario :
I have set multi-queue dpdk interface in ovs-dpdk, also set interfce pmd-rxq-affinity to take advantage of numa, but because of  the limited  cpu resources in cloud system, i want share some cpu resource with vm some virtual interface in ovs.
Even if a interface set pmd-rxq-affinity feature, other interface can share pmd with the interface too.
Even if the pmd have been isolated,  other interface can share with the pmd via set pmd-rxq-soft-affinity to true and set pmd-rxq-affinity.
So, i use the pmd-rxq-soft-affinity  feature to resolve the problem.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,289,2019-06-26T11:28:37Z,,2019-11-22T17:27:13Z,OPEN,False,44,1,2,https://github.com/gongmingchen,rxq support rxq soft affinity,1,[],https://github.com/openvswitch/ovs/pull/289,https://github.com/igsilya,3,https://github.com/openvswitch/ovs/pull/289#issuecomment-505901756,"Even if pmd-rxq-affinity have been set,
the pmd that this interface RX queue map to
will no been isolated, if this value set to true.","There is a scenario :
I have set multi-queue dpdk interface in ovs-dpdk, also set interfce pmd-rxq-affinity to take advantage of numa

If you have PMD threads on both NUMA nodes, ports will be automatically assigned to the PMD threads on their NUMA nodes. No need to pin them with pmd-rxq-affinity.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,289,2019-06-26T11:28:37Z,,2019-11-22T17:27:13Z,OPEN,False,44,1,2,https://github.com/gongmingchen,rxq support rxq soft affinity,1,[],https://github.com/openvswitch/ovs/pull/289,https://github.com/gongmingchen,4,https://github.com/openvswitch/ovs/pull/289#issuecomment-506103638,"Even if pmd-rxq-affinity have been set,
the pmd that this interface RX queue map to
will no been isolated, if this value set to true.","There is a scenario :
I have set multi-queue dpdk interface in ovs-dpdk, also set interfce pmd-rxq-affinity to take advantage of numa

If you have PMD threads on both NUMA nodes, ports will be automatically assigned to the PMD threads on their NUMA nodes. No need to pin them with pmd-rxq-affinity.



There is a scenario :
I have set multi-queue dpdk interface in ovs-dpdk, also set interfce pmd-rxq-affinity to take advantage of numa

If you have PMD threads on both NUMA nodes, ports will be automatically assigned to the PMD threads on their NUMA nodes. No need to pin them with pmd-rxq-affinity.

Yes, but there is only one NIC,  is on NUMA 0 nodes, and i want it can be assigned to PMD threads on both NUMA nodes. Therefore i can use the limited cpu resources( numa 0 2 cpu, numa1 2 cpu ), when receive  heavy traffic from NIC, and  transmit these traffic to vim via vhost-user interface. These benefit from rxq pmd quantity.   In some  scenarios, the pmd-rxq-soft-affinity feature will be useful.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,290,2019-06-28T13:10:02Z,,2019-11-22T17:27:12Z,OPEN,False,29,15,2,https://github.com/damijans,ovsdb_idl: Memory leak in ovsdb_idl_column.parse() functions,12,[],https://github.com/openvswitch/ovs/pull/290,https://github.com/damijans,1,https://github.com/openvswitch/ovs/pull/290,"While checking unit tests with valgrind tool (make check-algrind)  I have
noticed several memory leaks detected in column parsing functions,
for example ovsrec_port_parse_interfaces(), ovsrec_bridge_parse_ports(),
ovsrec_bridge_parse_protocols() as can be seen in the following example report:
.....
==28601== Memcheck, a memory error detector
==28601== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==28601== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info
==28601== Command: ovs-vsctl --timeout=20 -- add-br br0 -- set bridge br0 datapath-type=dummy fail-mode=secure other-config:datapath-id=fedcba9876543210 other-config:hwaddr=aa:55:aa:55:00:00 protocols=[Op
enFlow10,OpenFlow11,OpenFlow12,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OpenFlow13,OpenFlow14,OpenFlow15] -- add-port br0 p0 -- set Interface p0 type=dummy
==28601== Parent PID: 28600
==28601==
==28601==
==28601== HEAP SUMMARY:
==28601==     in use at exit: 18,673 bytes in 154 blocks
==28601==   total heap usage: 6,848 allocs, 6,694 frees, 292,729 bytes allocated
==28601==
==28601== 8 bytes in 1 blocks are definitely lost in loss record 2 of 59
==28601==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28601==    by 0x430B74: xmalloc (util.c:138)
==28601==    by 0x4414F0: ovsrec_port_parse_interfaces (vswitch-idl.c:29174)
==28601==    by 0x41F99E: ovsdb_idl_txn_write__ (ovsdb-idl.c:4488)
==28601==    by 0x45A884: ovsrec_port_set_interfaces (vswitch-idl.c:31033)
==28601==    by 0x40B229: cmd_add_br (ovs-vsctl.c:1227)
==28601==    by 0x406C2E: do_vsctl (ovs-vsctl.c:2626)
==28601==    by 0x406C2E: main (ovs-vsctl.c:183)
==28601==
==28601== 8 bytes in 1 blocks are definitely lost in loss record 3 of 59
==28601==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28601==    by 0x430B74: xmalloc (util.c:138)
==28601==    by 0x4414F0: ovsrec_port_parse_interfaces (vswitch-idl.c:29174)
==28601==    by 0x41F99E: ovsdb_idl_txn_write__ (ovsdb-idl.c:4488)
==28601==    by 0x45A884: ovsrec_port_set_interfaces (vswitch-idl.c:31033)
==28601==    by 0x40A355: add_port (ovs-vsctl.c:1585)
==28601==    by 0x40A6D5: cmd_add_port (ovs-vsctl.c:1616)
==28601==    by 0x406C2E: do_vsctl (ovs-vsctl.c:2626)
==28601==    by 0x406C2E: main (ovs-vsctl.c:183)
==28601==
==28601== 16 bytes in 1 blocks are definitely lost in loss record 11 of 59
==28601==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28601==    by 0x430B74: xmalloc (util.c:138)
==28601==    by 0x440EC0: ovsrec_bridge_parse_ports (vswitch-idl.c:1070)
==28601==    by 0x41F99E: ovsdb_idl_txn_write__ (ovsdb-idl.c:4488)
==28601==    by 0x443654: ovsrec_bridge_set_ports (vswitch-idl.c:2979)
==28601==    by 0x40839B: bridge_insert_port (ovs-vsctl.c:950)
==28601==    by 0x40A3E1: add_port (ovs-vsctl.c:1601)
==28601==    by 0x40A6D5: cmd_add_port (ovs-vsctl.c:1616)
==28601==    by 0x406C2E: do_vsctl (ovs-vsctl.c:2626)
==28601==    by 0x406C2E: main (ovs-vsctl.c:183)
==28601==
==28601== 48 bytes in 1 blocks are definitely lost in loss record 44 of 59
==28601==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28601==    by 0x430B74: xmalloc (util.c:138)
==28601==    by 0x43E326: ovsrec_bridge_parse_protocols (vswitch-idl.c:1085)
==28601==    by 0x41F99E: ovsdb_idl_txn_write__ (ovsdb-idl.c:4488)
==28601==    by 0x40D058: set_column (db-ctl-base.c:1366)
==28601==    by 0x40EDD2: cmd_set (db-ctl-base.c:1418)
==28601==    by 0x406C2E: do_vsctl (ovs-vsctl.c:2626)
==28601==    by 0x406C2E: main (ovs-vsctl.c:183)
.....
After the investigation I have found out the origin of these memory leaks
lies in the design of column parse/unparse functionality. ovsdb_idl module
deals with several table classes (AutoAttach, Bridge, Controller,....),
which are depicted in ovsrec_table_classes instance. Each of entry in this
instance refers to ovsdb_idl_column instance, what is actually a
description of certain table class (number of colums, column type, column
flags, column parse/unparse functions). Column value of certain table row
is modified by calling calling apparent column parse() function and passing
datum argument with new data. There exist bunch of different column parse
functions and some of them (like aforementioned
ovsrec_port_parse_interfaces(), ovsrec_bridge_parse_ports(),
ovsrec_bridge_parse_protocols()) dynamically allocates memory. In order not
to leak memory it is important that before calling parse() function
apparent unparse() function is called which frees previously allocated
memory. Also before the row itself is freed, the apparent unparse() function
should be called. And here is the catch of leaking the memory.
It looks in the past rows were modified in a somehow transnational way.
First modifications were collected in new_datum array and later on after
all new data were collected modification/transaction was applied by calling
ovsdb_idl_row_parse() function with its counterpart ovsdb_idl_row_unparse()
function. At the end, just before the row was deallocated
ovsdb_idl_row_unparse() function is called as well in order to deallocate
memory previously allocated in parse() function. The problem was that both
ovsdb_idl_row_parse() and ovsdb_idl_row_unparse() function were guarded by
""ovsdb_idl_row.parsed"" flag which was modified at the end for transaction
or cancellation. As a result, unparse() functions were not called in case
transaction was not applied at all. The problem actually started (I don't
know if this is actually in the original design or not) when fields/column
of table row were modified directly outside of transactions. In this case
appropriate parse() function was called while its counterpart unparse()
function was not called before row deallocation because
""ovsdb_idl_row.parsed"" was not set.
In aforementioned valgrind example report the problem was in
cmd_add_port() function:
......
port = ovsrec_port_insert(ctx->txn);
ovsrec_port_set_name(port, br_name);
ovsrec_port_set_interfaces(port, &iface, 1);  <= here memory was
allocated in parse()
function, while
""parsed"" flag was not set
br = ovsrec_bridge_insert(ctx->txn);
ovsrec_bridge_set_name(br, br_name);
ovsrec_bridge_set_ports(br, &port, 1);        <= the same issue
......
At the end, when ""port"" and ""br"" rows were deallocated memory allocated
in parse() functions were not deallocated.
I have overcame this issue by replacing ""ovsdb_idl_row.parsed""
guard flag (which implies that all columns/fields were parsed or not)
with ""ovsdb_idl_row.parsed_columns"" bitmap, which for each individual
column marks if it is parsed or not.
Signed-off-by: damijans damjan.skvarc@gmail.com","While checking unit tests with valgrind tool (make check-algrind)  I have
noticed several memory leaks detected in column parsing functions,
for example ovsrec_port_parse_interfaces(), ovsrec_bridge_parse_ports(),
ovsrec_bridge_parse_protocols() as can be seen in the following example report:
.....
==28601== Memcheck, a memory error detector
==28601== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==28601== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info
==28601== Command: ovs-vsctl --timeout=20 -- add-br br0 -- set bridge br0 datapath-type=dummy fail-mode=secure other-config:datapath-id=fedcba9876543210 other-config:hwaddr=aa:55:aa:55:00:00 protocols=[Op
enFlow10,OpenFlow11,OpenFlow12,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OpenFlow13,OpenFlow14,OpenFlow15] -- add-port br0 p0 -- set Interface p0 type=dummy
==28601== Parent PID: 28600
==28601==
==28601==
==28601== HEAP SUMMARY:
==28601==     in use at exit: 18,673 bytes in 154 blocks
==28601==   total heap usage: 6,848 allocs, 6,694 frees, 292,729 bytes allocated
==28601==
==28601== 8 bytes in 1 blocks are definitely lost in loss record 2 of 59
==28601==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28601==    by 0x430B74: xmalloc (util.c:138)
==28601==    by 0x4414F0: ovsrec_port_parse_interfaces (vswitch-idl.c:29174)
==28601==    by 0x41F99E: ovsdb_idl_txn_write__ (ovsdb-idl.c:4488)
==28601==    by 0x45A884: ovsrec_port_set_interfaces (vswitch-idl.c:31033)
==28601==    by 0x40B229: cmd_add_br (ovs-vsctl.c:1227)
==28601==    by 0x406C2E: do_vsctl (ovs-vsctl.c:2626)
==28601==    by 0x406C2E: main (ovs-vsctl.c:183)
==28601==
==28601== 8 bytes in 1 blocks are definitely lost in loss record 3 of 59
==28601==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28601==    by 0x430B74: xmalloc (util.c:138)
==28601==    by 0x4414F0: ovsrec_port_parse_interfaces (vswitch-idl.c:29174)
==28601==    by 0x41F99E: ovsdb_idl_txn_write__ (ovsdb-idl.c:4488)
==28601==    by 0x45A884: ovsrec_port_set_interfaces (vswitch-idl.c:31033)
==28601==    by 0x40A355: add_port (ovs-vsctl.c:1585)
==28601==    by 0x40A6D5: cmd_add_port (ovs-vsctl.c:1616)
==28601==    by 0x406C2E: do_vsctl (ovs-vsctl.c:2626)
==28601==    by 0x406C2E: main (ovs-vsctl.c:183)
==28601==
==28601== 16 bytes in 1 blocks are definitely lost in loss record 11 of 59
==28601==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28601==    by 0x430B74: xmalloc (util.c:138)
==28601==    by 0x440EC0: ovsrec_bridge_parse_ports (vswitch-idl.c:1070)
==28601==    by 0x41F99E: ovsdb_idl_txn_write__ (ovsdb-idl.c:4488)
==28601==    by 0x443654: ovsrec_bridge_set_ports (vswitch-idl.c:2979)
==28601==    by 0x40839B: bridge_insert_port (ovs-vsctl.c:950)
==28601==    by 0x40A3E1: add_port (ovs-vsctl.c:1601)
==28601==    by 0x40A6D5: cmd_add_port (ovs-vsctl.c:1616)
==28601==    by 0x406C2E: do_vsctl (ovs-vsctl.c:2626)
==28601==    by 0x406C2E: main (ovs-vsctl.c:183)
==28601==
==28601== 48 bytes in 1 blocks are definitely lost in loss record 44 of 59
==28601==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==28601==    by 0x430B74: xmalloc (util.c:138)
==28601==    by 0x43E326: ovsrec_bridge_parse_protocols (vswitch-idl.c:1085)
==28601==    by 0x41F99E: ovsdb_idl_txn_write__ (ovsdb-idl.c:4488)
==28601==    by 0x40D058: set_column (db-ctl-base.c:1366)
==28601==    by 0x40EDD2: cmd_set (db-ctl-base.c:1418)
==28601==    by 0x406C2E: do_vsctl (ovs-vsctl.c:2626)
==28601==    by 0x406C2E: main (ovs-vsctl.c:183)
.....
After the investigation I have found out the origin of these memory leaks
lies in the design of column parse/unparse functionality. ovsdb_idl module
deals with several table classes (AutoAttach, Bridge, Controller,....),
which are depicted in ovsrec_table_classes instance. Each of entry in this
instance refers to ovsdb_idl_column instance, what is actually a
description of certain table class (number of colums, column type, column
flags, column parse/unparse functions). Column value of certain table row
is modified by calling calling apparent column parse() function and passing
datum argument with new data. There exist bunch of different column parse
functions and some of them (like aforementioned
ovsrec_port_parse_interfaces(), ovsrec_bridge_parse_ports(),
ovsrec_bridge_parse_protocols()) dynamically allocates memory. In order not
to leak memory it is important that before calling parse() function
apparent unparse() function is called which frees previously allocated
memory. Also before the row itself is freed, the apparent unparse() function
should be called. And here is the catch of leaking the memory.
It looks in the past rows were modified in a somehow transnational way.
First modifications were collected in new_datum array and later on after
all new data were collected modification/transaction was applied by calling
ovsdb_idl_row_parse() function with its counterpart ovsdb_idl_row_unparse()
function. At the end, just before the row was deallocated
ovsdb_idl_row_unparse() function is called as well in order to deallocate
memory previously allocated in parse() function. The problem was that both
ovsdb_idl_row_parse() and ovsdb_idl_row_unparse() function were guarded by
""ovsdb_idl_row.parsed"" flag which was modified at the end for transaction
or cancellation. As a result, unparse() functions were not called in case
transaction was not applied at all. The problem actually started (I don't
know if this is actually in the original design or not) when fields/column
of table row were modified directly outside of transactions. In this case
appropriate parse() function was called while its counterpart unparse()
function was not called before row deallocation because
""ovsdb_idl_row.parsed"" was not set.
In aforementioned valgrind example report the problem was in
cmd_add_port() function:
......
port = ovsrec_port_insert(ctx->txn);
ovsrec_port_set_name(port, br_name);
ovsrec_port_set_interfaces(port, &iface, 1);  <= here memory was
allocated in parse()
function, while
""parsed"" flag was not set
br = ovsrec_bridge_insert(ctx->txn);
ovsrec_bridge_set_name(br, br_name);
ovsrec_bridge_set_ports(br, &port, 1);        <= the same issue
......
At the end, when ""port"" and ""br"" rows were deallocated memory allocated
in parse() functions were not deallocated.
I have overcame this issue by replacing ""ovsdb_idl_row.parsed""
guard flag (which implies that all columns/fields were parsed or not)
with ""ovsdb_idl_row.parsed_columns"" bitmap, which for each individual
column marks if it is parsed or not.
Signed-off-by: damijans damjan.skvarc@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,291,2019-07-25T07:11:07Z,2021-09-29T15:35:44Z,2021-09-29T15:36:21Z,MERGED,True,2,2,1,https://github.com/jshen28,fix typo in dpdk doc,1,[],https://github.com/openvswitch/ovs/pull/291,https://github.com/jshen28,1,https://github.com/openvswitch/ovs/pull/291,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,291,2019-07-25T07:11:07Z,2021-09-29T15:35:44Z,2021-09-29T15:36:21Z,MERGED,True,2,2,1,https://github.com/jshen28,fix typo in dpdk doc,1,[],https://github.com/openvswitch/ovs/pull/291,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/291#issuecomment-515104403,,"Hi, thanks for the fix. May I have a Signed-off-by for this?
Q: What's a Signed-off-by and how do I provide one?
A: Free and open source software projects usually require a contributor to
provide some assurance that they're entitled to contribute the code that
they provide.  Some projects, for example, do this with a Contributor
License Agreement (CLA) or a copyright assignment that is signed on paper
or electronically.

For this purpose, Open vSwitch has adopted something called the Developer's
Certificate of Origin (DCO), which is also used by the Linux kernel and
originated there.  Informally stated, agreeing to the DCO is the
developer's way of attesting that a particular commit that they are
contributing is one that they are allowed to contribute.  You should visit
https://developercertificate.org/ to read the full statement of the DCO,
which is less than 200 words long.

To certify compliance with the Developer's Certificate of Origin for a
particular commit, just add the following line to the end of your commit
message, properly substituting your name and email address:

    Signed-off-by: Firstname Lastname <email@example.org>

Git has special support for adding a Signed-off-by line to a commit
message: when you run ""git commit"", just add the -s option, as in ""git
commit -s"".  If you use the ""git citool"" GUI for commits, you can add a
Signed-off-by line to the commit message by pressing Control+S.  Other Git
user interfaces may provide similar support.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,291,2019-07-25T07:11:07Z,2021-09-29T15:35:44Z,2021-09-29T15:36:21Z,MERGED,True,2,2,1,https://github.com/jshen28,fix typo in dpdk doc,1,[],https://github.com/openvswitch/ovs/pull/291,https://github.com/aserdean,3,https://github.com/openvswitch/ovs/pull/291#issuecomment-930293024,,Thanks for the fix and sorry it took so long :).,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,292,2019-07-30T06:11:00Z,2019-07-30T06:11:49Z,2019-07-30T12:21:39Z,CLOSED,False,0,0,0,https://github.com/matthiasnattke,false tab,14,[],https://github.com/openvswitch/ovs/pull/292,https://github.com/matthiasnattke,1,https://github.com/openvswitch/ovs/pull/292,Sorry it was just a mistake :(,Sorry it was just a mistake :(,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,293,2019-08-07T20:56:38Z,2019-11-22T20:57:50Z,2019-11-22T20:57:51Z,CLOSED,False,129,2,8,https://github.com/dgarske,Using OpenVSwitch with wolfSSL,2,[],https://github.com/openvswitch/ovs/pull/293,https://github.com/dgarske,1,https://github.com/openvswitch/ovs/pull/293,New configure argument --with-wolfssl. For instructions see README_wolf.md.,New configure argument --with-wolfssl. For instructions see README_wolf.md.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,293,2019-08-07T20:56:38Z,2019-11-22T20:57:50Z,2019-11-22T20:57:51Z,CLOSED,False,129,2,8,https://github.com/dgarske,Using OpenVSwitch with wolfSSL,2,[],https://github.com/openvswitch/ovs/pull/293,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/293#issuecomment-522107725,New configure argument --with-wolfssl. For instructions see README_wolf.md.,"This should probably come with some kind of rationale. What is WolfSSL and why would one want to use it? I have never heard of it.
The commit message also lacks a Signed-off-by.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,293,2019-08-07T20:56:38Z,2019-11-22T20:57:50Z,2019-11-22T20:57:51Z,CLOSED,False,129,2,8,https://github.com/dgarske,Using OpenVSwitch with wolfSSL,2,[],https://github.com/openvswitch/ovs/pull/293,https://github.com/dgarske,3,https://github.com/openvswitch/ovs/pull/293#issuecomment-522129947,New configure argument --with-wolfssl. For instructions see README_wolf.md.,"Hi @blp,
This was done for a customer who I cannot name. This reason for using wolfSSL is manyfold, but in this case FIPS 140-2 support in the primary reason. Other reasons include modularity (build-time options), reduced vulnerabilities and commercial grade maintenance and support. We have a full openssl compatibility layer that is being used.
Can you expand on what you mean by signed-off-by? I was hoping someone from the OpenVSwitch project could review and comment on the changes.
The wolfSSL embedded SSL library is a lightweight, portable, C-language-based SSL/TLS library targeted at IoT, embedded, and RTOS environments primarily because of its size, speed, and feature set. It works seamlessly in desktop, enterprise, and cloud environments as well. wolfSSL supports industry standards up to the current TLS 1.3 and DTLS 1.2, is up to 20 times smaller than OpenSSL, offers a simple API, an OpenSSL compatibility layer, OCSP and CRL support, is backed by the robust wolfCrypt cryptography library, and much more.
The CMVP has issued FIPS 140-2 Certificate #2425 and #3389 for the wolfCrypt Module developed by wolfSSL Inc.

Thanks,
David Garske, wolfSSL",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,293,2019-08-07T20:56:38Z,2019-11-22T20:57:50Z,2019-11-22T20:57:51Z,CLOSED,False,129,2,8,https://github.com/dgarske,Using OpenVSwitch with wolfSSL,2,[],https://github.com/openvswitch/ovs/pull/293,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/293#issuecomment-522147211,New configure argument --with-wolfssl. For instructions see README_wolf.md.,"Q: What's a Signed-off-by and how do I provide one?
A: Free and open source software projects usually require a contributor to
provide some assurance that they're entitled to contribute the code that
they provide.  Some projects, for example, do this with a Contributor
License Agreement (CLA) or a copyright assignment that is signed on paper
or electronically.

For this purpose, Open vSwitch has adopted something called the Developer's
Certificate of Origin (DCO), which is also used by the Linux kernel and
originated there.  Informally stated, agreeing to the DCO is the
developer's way of attesting that a particular commit that they are
contributing is one that they are allowed to contribute.  You should visit
https://developercertificate.org/ to read the full statement of the DCO,
which is less than 200 words long.

To certify compliance with the Developer's Certificate of Origin for a
particular commit, just add the following line to the end of your commit
message, properly substituting your name and email address:

    Signed-off-by: Firstname Lastname <email@example.org>

Git has special support for adding a Signed-off-by line to a commit
message: when you run ""git commit"", just add the -s option, as in ""git
commit -s"".  If you use the ""git citool"" GUI for commits, you can add a
Signed-off-by line to the commit message by pressing Control+S.  Other Git
user interfaces may provide similar support.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,293,2019-08-07T20:56:38Z,2019-11-22T20:57:50Z,2019-11-22T20:57:51Z,CLOSED,False,129,2,8,https://github.com/dgarske,Using OpenVSwitch with wolfSSL,2,[],https://github.com/openvswitch/ovs/pull/293,https://github.com/dgarske,5,https://github.com/openvswitch/ovs/pull/293#issuecomment-522774516,New configure argument --with-wolfssl. For instructions see README_wolf.md.,"Hi @blp ,
I will look into the DCO and using the -s commit option. I don't see any issue with that.
We have a web page (https://www.wolfssl.com/docs/wolfssl-openssl/) that compares wolfSSL and openssl. This might be helpful for describing additional reasons why someone would want to use wolfSSL.
Thanks, David",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,293,2019-08-07T20:56:38Z,2019-11-22T20:57:50Z,2019-11-22T20:57:51Z,CLOSED,False,129,2,8,https://github.com/dgarske,Using OpenVSwitch with wolfSSL,2,[],https://github.com/openvswitch/ovs/pull/293,https://github.com/blp,6,https://github.com/openvswitch/ovs/pull/293#issuecomment-523560751,New configure argument --with-wolfssl. For instructions see README_wolf.md.,"On Mon, Aug 19, 2019 at 03:14:46PM -0700, David Garske wrote:
 I will look into the DCO and using the `-s` commit option. I don't see any issue with that.
Thanks.
 We have a web page (https://www.wolfssl.com/docs/wolfssl-openssl/) that compares wolfSSL and openssl. This might be helpful for describing additional reasons why someone would want to use wolfSSL.
I recommend adding that link to the commit message to help developers
understand the commit.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,293,2019-08-07T20:56:38Z,2019-11-22T20:57:50Z,2019-11-22T20:57:51Z,CLOSED,False,129,2,8,https://github.com/dgarske,Using OpenVSwitch with wolfSSL,2,[],https://github.com/openvswitch/ovs/pull/293,https://github.com/dgarske,7,https://github.com/openvswitch/ovs/pull/293#issuecomment-531881571,New configure argument --with-wolfssl. For instructions see README_wolf.md.,"Hi @blp,
I've pushed the changes to add signed off by. Please let me know if there is anything else.
Thanks,
David Garske, wolfSSL",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,293,2019-08-07T20:56:38Z,2019-11-22T20:57:50Z,2019-11-22T20:57:51Z,CLOSED,False,129,2,8,https://github.com/dgarske,Using OpenVSwitch with wolfSSL,2,[],https://github.com/openvswitch/ovs/pull/293,https://github.com/blp,8,https://github.com/openvswitch/ovs/pull/293#issuecomment-532803880,New configure argument --with-wolfssl. For instructions see README_wolf.md.,"Hi @blp,
I've pushed the changes to add signed off by. Please let me know if there is anything else.

Thanks for the update.
This doesn't integrate very well with the OVS documentation. Installation guides go in Documentation/intro/install, not in the root, and it should be added in Restructured Text format to match the rest of the documentation and to allow it to be put in the table of contents.
It's not clear to me why WolfSSL and Strongswan installation instructions are included. I would presume that each of those libraries comes with its own installation instructions.
In the end, it looks to me like the only change need to use WolfSSL in OVS is to configure with --with-wolfssl. I guess that could be mentioned in Build Requirements in Documentation/intro/install/general.rst next to libssl, as an alternative to libssl, and maybe other documentation is not really needed at all.
In openvswitch.m4, I see that there are a number of uses of ""=="" with the ""test"" utilitiy.  This is nonportable; use = instead.
I would add an item to the NEWS file.
Thanks,
Ben.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,293,2019-08-07T20:56:38Z,2019-11-22T20:57:50Z,2019-11-22T20:57:51Z,CLOSED,False,129,2,8,https://github.com/dgarske,Using OpenVSwitch with wolfSSL,2,[],https://github.com/openvswitch/ovs/pull/293,https://github.com/dgarske,9,https://github.com/openvswitch/ovs/pull/293#issuecomment-555248098,New configure argument --with-wolfssl. For instructions see README_wolf.md.,"Hi @blp,
Thanks for the excellent feedback! Updates pushed, which should resolve your review comments.
David Garske, wolfSSL",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,293,2019-08-07T20:56:38Z,2019-11-22T20:57:50Z,2019-11-22T20:57:51Z,CLOSED,False,129,2,8,https://github.com/dgarske,Using OpenVSwitch with wolfSSL,2,[],https://github.com/openvswitch/ovs/pull/293,https://github.com/blp,10,https://github.com/openvswitch/ovs/pull/293#issuecomment-557691647,New configure argument --with-wolfssl. For instructions see README_wolf.md.,"Thanks for resolving my previous comments.
I pulled this into a local branch and looked at it more carefully.
There are no actual code changes here, except for adding a few #include <wolfssl/options.h>. That's the sort of thing that would be easy to support, if necessary, by simply checking at configure time whether that header was needed to #include the openssl headers. I don't see a reason to introduce a separate --with-wolfssl option for that.
I also don't think it's appropriate to encourage users to link against WolfSSL because it will effectively change the license from Apache2 to GPLv2 for those users.
I don't think I can merge this.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,294,2019-08-23T09:30:16Z,2019-09-25T09:36:17Z,2019-09-25T09:36:17Z,CLOSED,False,53,14,5,https://github.com/zhaozhanxu,Add statistics of ovs-dpctl dump-flows,3,[],https://github.com/openvswitch/ovs/pull/294,https://github.com/zhaozhanxu,1,https://github.com/openvswitch/ovs/pull/294,"When running command ovs-dpctl dump-flows --counters, or
command ovs-appctl/dpctl dump-flows --counters, it will
display the number of kernel flows and offloaded flows.
The command will displayed as below:
ovs-appctl dpctl/dump-flows --counters
flows statistics: ovs 4, offloaded 2
ovs-dpctl dump-flows --counters
flows statistics: ovs 4
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","When running command ovs-dpctl dump-flows --counters, or
command ovs-appctl/dpctl dump-flows --counters, it will
display the number of kernel flows and offloaded flows.
The command will displayed as below:
ovs-appctl dpctl/dump-flows --counters
flows statistics: ovs 4, offloaded 2
ovs-dpctl dump-flows --counters
flows statistics: ovs 4
Signed-off-by: zhaozhanxu zhaozhanxu@163.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,294,2019-08-23T09:30:16Z,2019-09-25T09:36:17Z,2019-09-25T09:36:17Z,CLOSED,False,53,14,5,https://github.com/zhaozhanxu,Add statistics of ovs-dpctl dump-flows,3,[],https://github.com/openvswitch/ovs/pull/294,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/294#issuecomment-525884900,"When running command ovs-dpctl dump-flows --counters, or
command ovs-appctl/dpctl dump-flows --counters, it will
display the number of kernel flows and offloaded flows.
The command will displayed as below:
ovs-appctl dpctl/dump-flows --counters
flows statistics: ovs 4, offloaded 2
ovs-dpctl dump-flows --counters
flows statistics: ovs 4
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Thanks for the patch.
Why does this use atomic_count? I do not see any reason.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,294,2019-08-23T09:30:16Z,2019-09-25T09:36:17Z,2019-09-25T09:36:17Z,CLOSED,False,53,14,5,https://github.com/zhaozhanxu,Add statistics of ovs-dpctl dump-flows,3,[],https://github.com/openvswitch/ovs/pull/294,https://github.com/zhaozhanxu,3,https://github.com/openvswitch/ovs/pull/294#issuecomment-526056634,"When running command ovs-dpctl dump-flows --counters, or
command ovs-appctl/dpctl dump-flows --counters, it will
display the number of kernel flows and offloaded flows.
The command will displayed as below:
ovs-appctl dpctl/dump-flows --counters
flows statistics: ovs 4, offloaded 2
ovs-dpctl dump-flows --counters
flows statistics: ovs 4
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Thanks for the patch.
Why does this use atomic_count? I do not see any reason.

It's my fault, I have modified the code.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,294,2019-08-23T09:30:16Z,2019-09-25T09:36:17Z,2019-09-25T09:36:17Z,CLOSED,False,53,14,5,https://github.com/zhaozhanxu,Add statistics of ovs-dpctl dump-flows,3,[],https://github.com/openvswitch/ovs/pull/294,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/294#issuecomment-526225243,"When running command ovs-dpctl dump-flows --counters, or
command ovs-appctl/dpctl dump-flows --counters, it will
display the number of kernel flows and offloaded flows.
The command will displayed as below:
ovs-appctl dpctl/dump-flows --counters
flows statistics: ovs 4, offloaded 2
ovs-dpctl dump-flows --counters
flows statistics: ovs 4
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Thanks for the update.
Please add documentation in lib/dpctl.man and a bullet point in NEWS.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,294,2019-08-23T09:30:16Z,2019-09-25T09:36:17Z,2019-09-25T09:36:17Z,CLOSED,False,53,14,5,https://github.com/zhaozhanxu,Add statistics of ovs-dpctl dump-flows,3,[],https://github.com/openvswitch/ovs/pull/294,https://github.com/zhaozhanxu,5,https://github.com/openvswitch/ovs/pull/294#issuecomment-526522621,"When running command ovs-dpctl dump-flows --counters, or
command ovs-appctl/dpctl dump-flows --counters, it will
display the number of kernel flows and offloaded flows.
The command will displayed as below:
ovs-appctl dpctl/dump-flows --counters
flows statistics: ovs 4, offloaded 2
ovs-dpctl dump-flows --counters
flows statistics: ovs 4
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Thanks for the update.
Please add documentation in lib/dpctl.man and a bullet point in NEWS.

I have already added the description of the new argument '--counters', If there is something wrong, I hope you to help me modify it, thanks.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,294,2019-08-23T09:30:16Z,2019-09-25T09:36:17Z,2019-09-25T09:36:17Z,CLOSED,False,53,14,5,https://github.com/zhaozhanxu,Add statistics of ovs-dpctl dump-flows,3,[],https://github.com/openvswitch/ovs/pull/294,https://github.com/zhaozhanxu,6,https://github.com/openvswitch/ovs/pull/294#issuecomment-530189421,"When running command ovs-dpctl dump-flows --counters, or
command ovs-appctl/dpctl dump-flows --counters, it will
display the number of kernel flows and offloaded flows.
The command will displayed as below:
ovs-appctl dpctl/dump-flows --counters
flows statistics: ovs 4, offloaded 2
ovs-dpctl dump-flows --counters
flows statistics: ovs 4
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","@igsilya @blp Please help me reviewing the code, thanks.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,294,2019-08-23T09:30:16Z,2019-09-25T09:36:17Z,2019-09-25T09:36:17Z,CLOSED,False,53,14,5,https://github.com/zhaozhanxu,Add statistics of ovs-dpctl dump-flows,3,[],https://github.com/openvswitch/ovs/pull/294,https://github.com/blp,7,https://github.com/openvswitch/ovs/pull/294#issuecomment-534766279,"When running command ovs-dpctl dump-flows --counters, or
command ovs-appctl/dpctl dump-flows --counters, it will
display the number of kernel flows and offloaded flows.
The command will displayed as below:
ovs-appctl dpctl/dump-flows --counters
flows statistics: ovs 4, offloaded 2
ovs-dpctl dump-flows --counters
flows statistics: ovs 4
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Thanks for the update.
After looking at the code a while longer, I am not sure whether this is really valuable. It is already possible to make the code print whether a flow is offloaded. Counting them is easy ""ovs-appctl dpctl/dump-flows | grep -c offloaded:yes"".",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,294,2019-08-23T09:30:16Z,2019-09-25T09:36:17Z,2019-09-25T09:36:17Z,CLOSED,False,53,14,5,https://github.com/zhaozhanxu,Add statistics of ovs-dpctl dump-flows,3,[],https://github.com/openvswitch/ovs/pull/294,https://github.com/zhaozhanxu,8,https://github.com/openvswitch/ovs/pull/294#issuecomment-534939193,"When running command ovs-dpctl dump-flows --counters, or
command ovs-appctl/dpctl dump-flows --counters, it will
display the number of kernel flows and offloaded flows.
The command will displayed as below:
ovs-appctl dpctl/dump-flows --counters
flows statistics: ovs 4, offloaded 2
ovs-dpctl dump-flows --counters
flows statistics: ovs 4
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Thanks for the update.
After looking at the code a while longer, I am not sure whether this is really valuable. It is already possible to make the code print whether a flow is offloaded. Counting them is easy ""ovs-appctl dpctl/dump-flows | grep -c offloaded:yes"".

OK, I will close this request, thanks.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,295,2019-09-26T02:40:30Z,2019-10-10T07:30:13Z,2019-10-10T07:30:13Z,CLOSED,False,107,45,13,https://github.com/zhaozhanxu,    Add offload packets statistics,2,[],https://github.com/openvswitch/ovs/pull/295,https://github.com/zhaozhanxu,1,https://github.com/openvswitch/ovs/pull/295,"Add argument '-m' for command ovs-appctl bridge/dump-flows
to display the offloaded packets statistics.

The commands display as below:

orignal command:

ovs-appctl bridge/dump-flows br0
duration=243589s, n_packets=214752, n_bytes=223673384, priority=0,actions=NORMAL
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=2,recirc_id=0,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x1,actions=controller(reason=)
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x2,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x3,actions=drop

new command with argument '-m'

ovs-appctl bridge/dump-flows -m br0
duration=243589s, n_packets=140, n_bytes=69284, n_offload_packets=214612,
n_offload_bytes=223604100, priority=0,actions=NORMAL
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=2,recirc_id=0,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x1,actions=controller(reason=)
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x2,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x3,actions=drop","Add argument '-m' for command ovs-appctl bridge/dump-flows
to display the offloaded packets statistics.

The commands display as below:

orignal command:

ovs-appctl bridge/dump-flows br0
duration=243589s, n_packets=214752, n_bytes=223673384, priority=0,actions=NORMAL
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=2,recirc_id=0,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x1,actions=controller(reason=)
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x2,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x3,actions=drop

new command with argument '-m'

ovs-appctl bridge/dump-flows -m br0
duration=243589s, n_packets=140, n_bytes=69284, n_offload_packets=214612,
n_offload_bytes=223604100, priority=0,actions=NORMAL
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=2,recirc_id=0,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x1,actions=controller(reason=)
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x2,actions=drop
table_id=254, duration=243589s, n_packets=0, n_bytes=0, n_offload_packets=0,
n_offload_bytes=0, priority=0,reg0=0x3,actions=drop",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,296,2019-10-08T17:48:27Z,2019-10-09T14:11:15Z,2019-10-09T14:11:27Z,CLOSED,False,5,3,1,https://github.com/aserdean,Test PR to trigger appveyor,1,[],https://github.com/openvswitch/ovs/pull/296,https://github.com/aserdean,1,https://github.com/openvswitch/ovs/pull/296,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,297,2019-10-29T10:03:49Z,2019-10-29T10:04:27Z,2019-11-02T14:44:03Z,CLOSED,False,0,0,0,https://github.com/matthiasnattke,Tsn,23,[],https://github.com/openvswitch/ovs/pull/297,https://github.com/matthiasnattke,1,https://github.com/openvswitch/ovs/pull/297,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,298,2019-11-22T03:27:13Z,2019-11-23T17:11:03Z,2019-11-23T17:11:03Z,CLOSED,False,49,13,5,https://github.com/KrishnaKolakaluri,"bridge: Update stp,rstp statistics every stats-update-interval seconds.",1,[],https://github.com/openvswitch/ovs/pull/298,https://github.com/KrishnaKolakaluri,1,https://github.com/openvswitch/ovs/pull/298,"Moves the field sec_in_state field from status column in Port table
    to statistics column in the same table.This helps in reducing the number
    of update sent to the controller, with the current mechanism
    every-time there is a change in this field a notification is sent to
    the controller. For this field its every second, since it's just
    counting the number of secs it has been in that particular state.
    By moving this under port statistics, this can be configured with the key
    ""stats-update-interval"" in Open_vSwitch table.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.","Moves the field sec_in_state field from status column in Port table
    to statistics column in the same table.This helps in reducing the number
    of update sent to the controller, with the current mechanism
    every-time there is a change in this field a notification is sent to
    the controller. For this field its every second, since it's just
    counting the number of secs it has been in that particular state.
    By moving this under port statistics, this can be configured with the key
    ""stats-update-interval"" in Open_vSwitch table.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,298,2019-11-22T03:27:13Z,2019-11-23T17:11:03Z,2019-11-23T17:11:03Z,CLOSED,False,49,13,5,https://github.com/KrishnaKolakaluri,"bridge: Update stp,rstp statistics every stats-update-interval seconds.",1,[],https://github.com/openvswitch/ovs/pull/298,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/298#issuecomment-557711272,"Moves the field sec_in_state field from status column in Port table
    to statistics column in the same table.This helps in reducing the number
    of update sent to the controller, with the current mechanism
    every-time there is a change in this field a notification is sent to
    the controller. For this field its every second, since it's just
    counting the number of secs it has been in that particular state.
    By moving this under port statistics, this can be configured with the key
    ""stats-update-interval"" in Open_vSwitch table.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.","Thanks for the patch.
We need a Signed-off-by for this patch. The FAQ says:
Q: What's a Signed-off-by and how do I provide one?
A: Free and open source software projects usually require a contributor to
provide some assurance that they're entitled to contribute the code that
they provide.  Some projects, for example, do this with a Contributor
License Agreement (CLA) or a copyright assignment that is signed on paper
or electronically.

For this purpose, Open vSwitch has adopted something called the Developer's
Certificate of Origin (DCO), which is also used by the Linux kernel and
originated there.  Informally stated, agreeing to the DCO is the
developer's way of attesting that a particular commit that they are
contributing is one that they are allowed to contribute.  You should visit
https://developercertificate.org/ to read the full statement of the DCO,
which is less than 200 words long.

To certify compliance with the Developer's Certificate of Origin for a
particular commit, just add the following line to the end of your commit
message, properly substituting your name and email address:

    Signed-off-by: Firstname Lastname <email@example.org>

Git has special support for adding a Signed-off-by line to a commit
message: when you run ""git commit"", just add the -s option, as in ""git
commit -s"".  If you use the ""git citool"" GUI for commits, you can add a
Signed-off-by line to the commit message by pressing Control+S.  Other Git
user interfaces may provide similar support.",True,{'THUMBS_UP': ['https://github.com/KrishnaKolakaluri']}
openvswitch/ovs,https://github.com/openvswitch/ovs,298,2019-11-22T03:27:13Z,2019-11-23T17:11:03Z,2019-11-23T17:11:03Z,CLOSED,False,49,13,5,https://github.com/KrishnaKolakaluri,"bridge: Update stp,rstp statistics every stats-update-interval seconds.",1,[],https://github.com/openvswitch/ovs/pull/298,https://github.com/KrishnaKolakaluri,3,https://github.com/openvswitch/ovs/pull/298#issuecomment-557745635,"Moves the field sec_in_state field from status column in Port table
    to statistics column in the same table.This helps in reducing the number
    of update sent to the controller, with the current mechanism
    every-time there is a change in this field a notification is sent to
    the controller. For this field its every second, since it's just
    counting the number of secs it has been in that particular state.
    By moving this under port statistics, this can be configured with the key
    ""stats-update-interval"" in Open_vSwitch table.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.","Thanks for the patch.
We need a Signed-off-by for this patch. The FAQ says:
Q: What's a Signed-off-by and how do I provide one?
A: Free and open source software projects usually require a contributor to
provide some assurance that they're entitled to contribute the code that
they provide.  Some projects, for example, do this with a Contributor
License Agreement (CLA) or a copyright assignment that is signed on paper
or electronically.

For this purpose, Open vSwitch has adopted something called the Developer's
Certificate of Origin (DCO), which is also used by the Linux kernel and
originated there.  Informally stated, agreeing to the DCO is the
developer's way of attesting that a particular commit that they are
contributing is one that they are allowed to contribute.  You should visit
https://developercertificate.org/ to read the full statement of the DCO,
which is less than 200 words long.

To certify compliance with the Developer's Certificate of Origin for a
particular commit, just add the following line to the end of your commit
message, properly substituting your name and email address:

    Signed-off-by: Firstname Lastname <email@example.org>

Git has special support for adding a Signed-off-by line to a commit
message: when you run ""git commit"", just add the -s option, as in ""git
commit -s"".  If you use the ""git citool"" GUI for commits, you can add a
Signed-off-by line to the commit message by pressing Control+S.  Other Git
user interfaces may provide similar support.


@blp Thank you for pointing this out. I did signoff and pushed again.. but some how the travis-ci build is failing. I looked at the errors and looks like clang is failing. The error doesn't point to anything obvious that i changed and the same travis ci build passed before. Can you help me understand what is the issue?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,299,2019-11-23T17:12:54Z,2019-12-06T20:26:38Z,2019-12-06T20:26:38Z,CLOSED,False,75,7,3,https://github.com/KrishnaKolakaluri,"bridge: Update stp,rstp statistics every stats-update-interval seconds.",1,[],https://github.com/openvswitch/ovs/pull/299,https://github.com/KrishnaKolakaluri,1,https://github.com/openvswitch/ovs/pull/299,"Moves the field sec_in_state field from status column in Port table
    to statistics column in the same table.This helps in reducing the number
    of update sent to the controller, with the current mechanism
    every-time there is a change in this field a notification is sent to
    the controller. For this field its every second, since it's just
    counting the number of secs its been in that particular state.
    By moving this under port statistics, this can be configured with the key
    ""stats-update-interval"" in Open_vSwitch table.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com","Moves the field sec_in_state field from status column in Port table
    to statistics column in the same table.This helps in reducing the number
    of update sent to the controller, with the current mechanism
    every-time there is a change in this field a notification is sent to
    the controller. For this field its every second, since it's just
    counting the number of secs its been in that particular state.
    By moving this under port statistics, this can be configured with the key
    ""stats-update-interval"" in Open_vSwitch table.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,299,2019-11-23T17:12:54Z,2019-12-06T20:26:38Z,2019-12-06T20:26:38Z,CLOSED,False,75,7,3,https://github.com/KrishnaKolakaluri,"bridge: Update stp,rstp statistics every stats-update-interval seconds.",1,[],https://github.com/openvswitch/ovs/pull/299,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/299#issuecomment-558279639,"Moves the field sec_in_state field from status column in Port table
    to statistics column in the same table.This helps in reducing the number
    of update sent to the controller, with the current mechanism
    every-time there is a change in this field a notification is sent to
    the controller. For this field its every second, since it's just
    counting the number of secs its been in that particular state.
    By moving this under port statistics, this can be configured with the key
    ""stats-update-interval"" in Open_vSwitch table.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com","It looks like this will leave the database inconsistent sometimes. I don't think it's a good idea to update stp_secs_in_state and stp_state at different times, because that makes it impossible for a reader to interpret them.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,299,2019-11-23T17:12:54Z,2019-12-06T20:26:38Z,2019-12-06T20:26:38Z,CLOSED,False,75,7,3,https://github.com/KrishnaKolakaluri,"bridge: Update stp,rstp statistics every stats-update-interval seconds.",1,[],https://github.com/openvswitch/ovs/pull/299,https://github.com/KrishnaKolakaluri,3,https://github.com/openvswitch/ovs/pull/299#issuecomment-558289210,"Moves the field sec_in_state field from status column in Port table
    to statistics column in the same table.This helps in reducing the number
    of update sent to the controller, with the current mechanism
    every-time there is a change in this field a notification is sent to
    the controller. For this field its every second, since it's just
    counting the number of secs its been in that particular state.
    By moving this under port statistics, this can be configured with the key
    ""stats-update-interval"" in Open_vSwitch table.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com","It looks like this will leave the database inconsistent sometimes. I don't think it's a good idea to update stp_secs_in_state and stp_state at different times, because that makes it impossible for a reader to interpret them.

@blp  Can you please suggest a better way to fix it, without causing too many updates to the controller?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,299,2019-11-23T17:12:54Z,2019-12-06T20:26:38Z,2019-12-06T20:26:38Z,CLOSED,False,75,7,3,https://github.com/KrishnaKolakaluri,"bridge: Update stp,rstp statistics every stats-update-interval seconds.",1,[],https://github.com/openvswitch/ovs/pull/299,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/299#issuecomment-558332515,"Moves the field sec_in_state field from status column in Port table
    to statistics column in the same table.This helps in reducing the number
    of update sent to the controller, with the current mechanism
    every-time there is a change in this field a notification is sent to
    the controller. For this field its every second, since it's just
    counting the number of secs its been in that particular state.
    By moving this under port statistics, this can be configured with the key
    ""stats-update-interval"" in Open_vSwitch table.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com","It looks like this will leave the database inconsistent sometimes. I don't think it's a good idea to update stp_secs_in_state and stp_state at different times, because that makes it impossible for a reader to interpret them.

@blp Can you please suggest a better way to fix it, without causing too many updates to the controller?

port_refresh_stp_status() could refrain from updating the column if the only change is a small delta to stp_sec_in_state().",True,{'THUMBS_UP': ['https://github.com/KrishnaKolakaluri']}
openvswitch/ovs,https://github.com/openvswitch/ovs,300,2019-12-06T20:27:30Z,2019-12-07T00:22:24Z,2019-12-07T00:22:24Z,CLOSED,False,70,7,3,https://github.com/KrishnaKolakaluri,bridge: Allow user configurable update status and seperate rstp stats.,1,[],https://github.com/openvswitch/ovs/pull/300,https://github.com/KrishnaKolakaluri,1,https://github.com/openvswitch/ovs/pull/300,"This commit adds a new configuration ""status-update-interval"" in
""other_config"" of Open_vSwitch table. This helps in reducing the number
    of updates sent to the controller, by configuring this value greater
than 1s.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com","This commit adds a new configuration ""status-update-interval"" in
""other_config"" of Open_vSwitch table. This helps in reducing the number
    of updates sent to the controller, by configuring this value greater
than 1s.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,301,2019-12-07T00:23:08Z,2019-12-31T00:37:20Z,2019-12-31T00:37:20Z,CLOSED,False,45,7,3,https://github.com/KrishnaKolakaluri,bridge: Update stp_sec_in_state field every 5s and seperate rstp stats.,1,[],https://github.com/openvswitch/ovs/pull/301,https://github.com/KrishnaKolakaluri,1,https://github.com/openvswitch/ovs/pull/301,"""stp_sec_in_state"" field in status column of the Port is causing too
many updates to the controller. As per the suggestion added a 5s interval
in between the updates of the field.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com","""stp_sec_in_state"" field in status column of the Port is causing too
many updates to the controller. As per the suggestion added a 5s interval
in between the updates of the field.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,301,2019-12-07T00:23:08Z,2019-12-31T00:37:20Z,2019-12-31T00:37:20Z,CLOSED,False,45,7,3,https://github.com/KrishnaKolakaluri,bridge: Update stp_sec_in_state field every 5s and seperate rstp stats.,1,[],https://github.com/openvswitch/ovs/pull/301,https://github.com/KrishnaKolakaluri,2,https://github.com/openvswitch/ovs/pull/301#issuecomment-563506705,"""stp_sec_in_state"" field in status column of the Port is causing too
many updates to the controller. As per the suggestion added a 5s interval
in between the updates of the field.

    Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com",@blp  Can you please review this ? I modified according to your comments in PR#299.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,302,2019-12-31T00:35:45Z,2020-01-06T22:29:13Z,2020-01-06T22:38:18Z,CLOSED,False,34,3,2,https://github.com/KrishnaKolakaluri,bridge: Split the column updates of rstp statistics and status.,1,[],https://github.com/openvswitch/ovs/pull/302,https://github.com/KrishnaKolakaluri,1,https://github.com/openvswitch/ovs/pull/302,"Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com","Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,302,2019-12-31T00:35:45Z,2020-01-06T22:29:13Z,2020-01-06T22:38:18Z,CLOSED,False,34,3,2,https://github.com/KrishnaKolakaluri,bridge: Split the column updates of rstp statistics and status.,1,[],https://github.com/openvswitch/ovs/pull/302,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/302#issuecomment-571343938,"Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com",Thanks. I applied this to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,302,2019-12-31T00:35:45Z,2020-01-06T22:29:13Z,2020-01-06T22:38:18Z,CLOSED,False,34,3,2,https://github.com/KrishnaKolakaluri,bridge: Split the column updates of rstp statistics and status.,1,[],https://github.com/openvswitch/ovs/pull/302,https://github.com/KrishnaKolakaluri,3,https://github.com/openvswitch/ovs/pull/302#issuecomment-571346762,"Split the update of rstp_statistics column  and rstp_status column in
    Port table into two different functions.This helps in controlling the
    number of times the rstp_statistics column is updated with the key
    ""stats-update_interval"" in Open_vSwitch table.

Signed-off-by: Krishna Kolakaluri kkolakaluri@plume.com",Thank you @blp .,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,303,2020-01-06T04:49:36Z,2020-08-24T17:30:38Z,2020-08-24T17:32:42Z,CLOSED,False,14,5,1,https://github.com/lygstate,Generating windows artifacts.,2,[],https://github.com/openvswitch/ovs/pull/303,https://github.com/lygstate,1,https://github.com/openvswitch/ovs/pull/303,"Conflicts:
appveyor.yml","Conflicts:
appveyor.yml",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,303,2020-01-06T04:49:36Z,2020-08-24T17:30:38Z,2020-08-24T17:32:42Z,CLOSED,False,14,5,1,https://github.com/lygstate,Generating windows artifacts.,2,[],https://github.com/openvswitch/ovs/pull/303,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/303#issuecomment-571317302,"Conflicts:
appveyor.yml",We're going to need commit messages and a Signed-off-by for these.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,303,2020-01-06T04:49:36Z,2020-08-24T17:30:38Z,2020-08-24T17:32:42Z,CLOSED,False,14,5,1,https://github.com/lygstate,Generating windows artifacts.,2,[],https://github.com/openvswitch/ovs/pull/303,https://github.com/aserdean,3,https://github.com/openvswitch/ovs/pull/303#issuecomment-574104222,"Conflicts:
appveyor.yml","/LGTM
@lygstate can you please include a Signed-off-by line in the commit message as per: http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/#tags
The reason we ask for it can be found here:
http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/#developer-s-certificate-of-origin",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,303,2020-01-06T04:49:36Z,2020-08-24T17:30:38Z,2020-08-24T17:32:42Z,CLOSED,False,14,5,1,https://github.com/lygstate,Generating windows artifacts.,2,[],https://github.com/openvswitch/ovs/pull/303,https://github.com/aserdean,4,https://github.com/openvswitch/ovs/pull/303#issuecomment-602179846,"Conflicts:
appveyor.yml","Thanks for adding the sign off, however this commit: ba456b0 is still missing a sign off.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,303,2020-01-06T04:49:36Z,2020-08-24T17:30:38Z,2020-08-24T17:32:42Z,CLOSED,False,14,5,1,https://github.com/lygstate,Generating windows artifacts.,2,[],https://github.com/openvswitch/ovs/pull/303,https://github.com/aserdean,5,https://github.com/openvswitch/ovs/pull/303#issuecomment-679264216,"Conflicts:
appveyor.yml","Since this PR is stale, I sent an updated version which bundles the MSI here: https://patchwork.ozlabs.org/project/openvswitch/patch/20200824161129.620-1-aserdean@cloudbasesolutions.com/ .
The test PR can be found here:
#327
and the artifacts can be found at:
https://ci.appveyor.com/project/blp/ovs/builds/34420598/job/lulvovmheajtb07o/artifacts
https://ci.appveyor.com/project/blp/ovs/builds/34420598/job/33txpomjid7b99xw/artifacts",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,304,2020-01-13T09:34:05Z,2020-01-31T17:20:50Z,2020-02-03T09:32:42Z,CLOSED,False,32,0,5,https://github.com/KIrill-ka,vswitchd: Add serial number configuration.,4,[],https://github.com/openvswitch/ovs/pull/304,https://github.com/KIrill-ka,1,https://github.com/openvswitch/ovs/pull/304,"There was no way to initialize the serial number in ofproto.c.
Added it as a configuration parameter ""dp-sn""","There was no way to initialize the serial number in ofproto.c.
Added it as a configuration parameter ""dp-sn""",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,304,2020-01-13T09:34:05Z,2020-01-31T17:20:50Z,2020-02-03T09:32:42Z,CLOSED,False,32,0,5,https://github.com/KIrill-ka,vswitchd: Add serial number configuration.,4,[],https://github.com/openvswitch/ovs/pull/304,https://github.com/KIrill-ka,2,https://github.com/openvswitch/ovs/pull/304#issuecomment-573614357,"There was no way to initialize the serial number in ofproto.c.
Added it as a configuration parameter ""dp-sn""",It seems that continuous-integration/travis-ci/pr failure is not related to my changes.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,304,2020-01-13T09:34:05Z,2020-01-31T17:20:50Z,2020-02-03T09:32:42Z,CLOSED,False,32,0,5,https://github.com/KIrill-ka,vswitchd: Add serial number configuration.,4,[],https://github.com/openvswitch/ovs/pull/304,https://github.com/blp,3,https://github.com/openvswitch/ovs/pull/304#issuecomment-573784491,"There was no way to initialize the serial number in ofproto.c.
Added it as a configuration parameter ""dp-sn""",Please document your new feature in NEWS and vswitchd/vswitch.xml.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,304,2020-01-13T09:34:05Z,2020-01-31T17:20:50Z,2020-02-03T09:32:42Z,CLOSED,False,32,0,5,https://github.com/KIrill-ka,vswitchd: Add serial number configuration.,4,[],https://github.com/openvswitch/ovs/pull/304,https://github.com/KIrill-ka,4,https://github.com/openvswitch/ovs/pull/304#issuecomment-573890602,"There was no way to initialize the serial number in ofproto.c.
Added it as a configuration parameter ""dp-sn""","Please document your new feature in NEWS and vswitchd/vswitch.xml.

Done. For the serial number I added some references to the OF specification. Those are also relevant to dp-desc... Would you like me to update the documentation for dp-desc?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,304,2020-01-13T09:34:05Z,2020-01-31T17:20:50Z,2020-02-03T09:32:42Z,CLOSED,False,32,0,5,https://github.com/KIrill-ka,vswitchd: Add serial number configuration.,4,[],https://github.com/openvswitch/ovs/pull/304,https://github.com/blp,5,https://github.com/openvswitch/ovs/pull/304#issuecomment-574312602,"There was no way to initialize the serial number in ofproto.c.
Added it as a configuration parameter ""dp-sn""","Please document your new feature in NEWS and vswitchd/vswitch.xml.

Done. For the serial number I added some references to the OF specification.

Thanks. It is very detailed.

Those are also relevant to dp-desc... Would you like me to update the documentation for dp-desc?

That would be helpful, thanks.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,304,2020-01-13T09:34:05Z,2020-01-31T17:20:50Z,2020-02-03T09:32:42Z,CLOSED,False,32,0,5,https://github.com/KIrill-ka,vswitchd: Add serial number configuration.,4,[],https://github.com/openvswitch/ovs/pull/304,https://github.com/KIrill-ka,6,https://github.com/openvswitch/ovs/pull/304#issuecomment-578156259,"There was no way to initialize the serial number in ofproto.c.
Added it as a configuration parameter ""dp-sn""",Would you consider merging my changes into the master?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,304,2020-01-13T09:34:05Z,2020-01-31T17:20:50Z,2020-02-03T09:32:42Z,CLOSED,False,32,0,5,https://github.com/KIrill-ka,vswitchd: Add serial number configuration.,4,[],https://github.com/openvswitch/ovs/pull/304,https://github.com/blp,7,https://github.com/openvswitch/ovs/pull/304#issuecomment-580827015,"There was no way to initialize the serial number in ofproto.c.
Added it as a configuration parameter ""dp-sn""",I applied this to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,304,2020-01-13T09:34:05Z,2020-01-31T17:20:50Z,2020-02-03T09:32:42Z,CLOSED,False,32,0,5,https://github.com/KIrill-ka,vswitchd: Add serial number configuration.,4,[],https://github.com/openvswitch/ovs/pull/304,https://github.com/KIrill-ka,8,https://github.com/openvswitch/ovs/pull/304#issuecomment-581320381,"There was no way to initialize the serial number in ofproto.c.
Added it as a configuration parameter ""dp-sn""",Thanks!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,305,2020-01-15T18:44:06Z,2020-01-16T01:00:23Z,2020-01-16T01:41:26Z,CLOSED,False,7,7,1,https://github.com/larsks,docs: Correct links in mailing-lists.rst,1,[],https://github.com/openvswitch/ovs/pull/305,https://github.com/larsks,1,https://github.com/openvswitch/ovs/pull/305,"Adds mailto: to email address links in mailing-lists.rst. The
existing syntax resulted in broken links of the form
http://docs.openvswitch.org/en/latest/internals/mailing-lists/<address>,
which would result in a 404 error.","Adds mailto: to email address links in mailing-lists.rst. The
existing syntax resulted in broken links of the form
http://docs.openvswitch.org/en/latest/internals/mailing-lists/<address>,
which would result in a 404 error.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,305,2020-01-15T18:44:06Z,2020-01-16T01:00:23Z,2020-01-16T01:41:26Z,CLOSED,False,7,7,1,https://github.com/larsks,docs: Correct links in mailing-lists.rst,1,[],https://github.com/openvswitch/ovs/pull/305,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/305#issuecomment-574929809,"Adds mailto: to email address links in mailing-lists.rst. The
existing syntax resulted in broken links of the form
http://docs.openvswitch.org/en/latest/internals/mailing-lists/<address>,
which would result in a 404 error.",Thanks. I applied this to master.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/kot-begemot-uk,1,https://github.com/openvswitch/ovs/pull/306,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/306#issuecomment-578296453,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.",I don't understand how this is expected to help. Can you explain?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/kot-begemot-uk,3,https://github.com/openvswitch/ovs/pull/306#issuecomment-578303008,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","On 24/01/2020 20:51, Ben Pfaff wrote:

 I don't understand how this is expected to help. Can you explain?

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#306?email_source=notifications&email_token=AC4TGWB4N45PD3YWTUCRUT3Q7NIDNA5CNFSM4KLHCAXKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJ4BVBI#issuecomment-578296453>,
 or unsubscribe
 <https://github.com/notifications/unsubscribe-auth/AC4TGWBTUFXMKQWLFW5UNG3Q7NIDNANCNFSM4KLHCAXA>.

That code is re-used by ovsdb including when running southdb for OVN.

So if you have let's say 200 nodes each running controller you are
trying do poll for 200 of them by forming the poll vector every time you
wait for IO - each of them has a json rpc session and each has a fd.

So every time you incur the cost of iterating the full hmap, forming the
vector, passing the vector to the kernel, the kernel disassembling the
vector internally into a red-black tree for IO wait same as in EPOLL,
then waiting until an IO event, then passing your entire vector back,
then you walk the whole vector again. And again. And again - you free it
every time and have no data persistence.

I think the code in the PR is pretty obvious as far as the difference
compared between that and epoll.
…
-- 
Anton R. Ivanov
https://www.kot-begemot.co.uk/",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/blp,4,https://github.com/openvswitch/ovs/pull/306#issuecomment-578321520,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","But where's the data persistence here? I don't see any. It looks like on every trip through the poll loop, it adds all the fds to the epoll and then deletes them.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/kot-begemot-uk,5,https://github.com/openvswitch/ovs/pull/306#issuecomment-578331854,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","On 24/01/2020 22:09, Ben Pfaff wrote:

 But where's the data persistence here? I don't see any. It looks like
 on every trip through the poll loop, it adds all the fds to the epoll
 and then deletes them.

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#306?email_source=notifications&email_token=AC4TGWEVWH2XVK7XFGCE5GTQ7NRH7A5CNFSM4KLHCAXKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJ4HY4A#issuecomment-578321520>,
 or unsubscribe
 <https://github.com/notifications/unsubscribe-auth/AC4TGWDYPP6OWP4MK6SB3UDQ7NRH7ANCNFSM4KLHCAXA>.

That is the OLD code which does HMAP_FOR_EACH. It is still used for
everything but linux. While it is possible to be replaced with BSD high
perf event framework or Solaris /dev/poll on the relevant systems I do
not have the environment to test it:


     /* Populate with all the fds and events. */
     i = 0;
     HMAP_FOR_EACH (node, hmap_node, &loop->poll_nodes) {

         pollfds[i] = node->pollfd;
#ifdef _WIN32
         wevents[i] = node->wevent;
         if (node->pollfd.fd && node->wevent) {
             short int wsa_events = 0;
             if (node->pollfd.events & OVS_POLLIN) {
                 wsa_events |= FD_READ | FD_ACCEPT | FD_CLOSE;
             }
             if (node->pollfd.events & OVS_POLLOUT) {
                 wsa_events |= FD_WRITE | FD_CONNECT | FD_CLOSE;
             }
             WSAEventSelect(node->pollfd.fd, node->wevent, wsa_events);
         }
#endif
         i++;
     }

     retval = time_poll(pollfds, hmap_count(&loop->poll_nodes), wevents,
                        loop->timeout_when, &elapsed);
     if (retval < 0) {
         static struct vlog_rate_limit rl = VLOG_RATE_LIMIT_INIT(1, 5);
         VLOG_ERR_RL(&rl, ""poll: %s"", ovs_strerror(-retval));
     } else if (!retval) {
         log_wakeup(loop->timeout_where, NULL, elapsed);
     } else if (get_cpu_usage() > 50 || VLOG_IS_DBG_ENABLED()) {
         i = 0;
         HMAP_FOR_EACH (node, hmap_node, &loop->poll_nodes) {
             if (pollfds[i].revents) {
                 log_wakeup(node->where, &pollfds[i], 0);
             }
             i++;
         }
     }

     free_poll_nodes(loop);
     loop->timeout_when = LLONG_MAX;
     loop->timeout_where = NULL;
     free(pollfds);
     free(wevents);


This looks really lovely with 2000 connections to ovsdb in OVN from
controllers on the south side.

The new code does not do ANY enumeration and is surrounded by #ifdef
__linux__:

    retval = time_epoll_wait(loop->epoll_fd,
         (struct epoll_event *) &loop->epoll_events, MAX_EPOLL_EVENTS,
loop->timeout_when, &elapsed);
     if (retval < 0) {
         static struct vlog_rate_limit rl = VLOG_RATE_LIMIT_INIT(1, 5);
         VLOG_ERR_RL(&rl, ""epoll: %s"", ovs_strerror(retval));
     } else if (!retval) {
         log_wakeup(loop->timeout_where, NULL, elapsed);
     } else if (get_cpu_usage() > 50 || VLOG_IS_DBG_ENABLED()) {
         for (i = 0; i < retval; i++) {
             node = (struct poll_node *) loop->epoll_events[i].data.ptr;
             if (loop->epoll_events[i].events)
                 log_wakeup(node->where, &pollfds[i], 0);
         }
     }
     loop->timeout_when = LLONG_MAX;
     loop->timeout_where = NULL;

All the persistence is in the kernel because the registration of the fd
has passed the fd there (also isolated for linux only):

    struct poll_node *node = poll_create_node(fd, 0, events, where);
     struct poll_loop *loop = poll_loop();
     struct epoll_event event;

     event.events = node->pollfd.events;
     event.data.ptr = node;

     if ((epoll_ctl(loop->epoll_fd, EPOLL_CTL_ADD, fd, &event) == -1) &&
(errno == EEXIST)) {
         epoll_ctl(loop->epoll_fd, EPOLL_CTL_MOD, fd, &event);
     }
…
-- 
Anton R. Ivanov
https://www.kot-begemot.co.uk/",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/blp,6,https://github.com/openvswitch/ovs/pull/306#issuecomment-578335729,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","OK, I see. So this never deletes fds from the epoll objects, which means that it wastes tons of CPU. Try running ""make sandbox"" then ""top"" inside the subshell. With your changes, ovs-vswitchd consumes 100% CPU; without them, it consumes 0%.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/kot-begemot-uk,7,https://github.com/openvswitch/ovs/pull/306#issuecomment-578385474,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","On 24/01/2020 23:01, Ben Pfaff wrote:
 OK, I see. So this never deletes fds from the epoll objects, which means
 that it wastes tons of CPU. Try running ""make sandbox"" then ""top"" inside
 the subshell. With your changes, ovs-vswitchd consumes 100% CPU; without
 them, it consumes 0%.
I will look into it.

The part in poll-loop.c should be functionally equivalent to the old
code, so it is probably from somewhere else - f.e. the new code breaking
use of poll for delay purposes.

You can park it for now,

Brgds,

A.
…

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#306?email_source=notifications&email_token=AC4TGWDEXR6XVHSYTKQO2H3Q7NXOPA5CNFSM4KLHCAXKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJ4LH4I#issuecomment-578335729>,
 or unsubscribe
 <https://github.com/notifications/unsubscribe-auth/AC4TGWHP7T5JAVBICAN64DDQ7NXOPANCNFSM4KLHCAXA>.


-- 
Anton R. Ivanov
https://www.kot-begemot.co.uk/",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/kot-begemot-uk,8,https://github.com/openvswitch/ovs/pull/306#issuecomment-578390035,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","I see where this is from and I have an fix so the CPU usage is now where
it should be - less than the master branch.

However, there are some side effects which show up in the way it is
handling signals. As a result it fails some of the ovsdb cluster test
suite (things not dying when they should).

Once I have figured it out and fixed it I will push it to the PR.

Brgds,
…
On 24/01/2020 23:01, Ben Pfaff wrote:

 OK, I see. So this never deletes fds from the epoll objects, which
 means that it wastes tons of CPU. Try running ""make sandbox"" then
 ""top"" inside the subshell. With your changes, ovs-vswitchd consumes
 100% CPU; without them, it consumes 0%.

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#306?email_source=notifications&email_token=AC4TGWDEXR6XVHSYTKQO2H3Q7NXOPA5CNFSM4KLHCAXKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJ4LH4I#issuecomment-578335729>,
 or unsubscribe
 <https://github.com/notifications/unsubscribe-auth/AC4TGWHP7T5JAVBICAN64DDQ7NXOPANCNFSM4KLHCAXA>.


-- 
Anton R. Ivanov
https://www.kot-begemot.co.uk/",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/blp,9,https://github.com/openvswitch/ovs/pull/306#issuecomment-578531435,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","The new version of the PR, like the old version of the PR, doesn't seem to ever delete any file descriptors from the epoll objects. I can't see how that would be correct. Can you explain?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/kot-begemot-uk,10,https://github.com/openvswitch/ovs/pull/306#issuecomment-578535483,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","On 26/01/2020 18:54, Ben Pfaff wrote:

 The new version of the PR, like the old version of the PR, doesn't
 seem to ever delete any file descriptors from the epoll objects. I
 can't see how that would be correct. Can you explain?

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#306?email_source=notifications&email_token=AC4TGWH5VPMHJ2LN5MVTIYLQ7XL7BA5CNFSM4KLHCAXKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJ53A2Y#issuecomment-578531435>,
 or unsubscribe
 <https://github.com/notifications/unsubscribe-auth/AC4TGWEZAPUGRHASGZIWHOLQ7XL7BANCNFSM4KLHCAXA>.

Have a look at the jsonrpc session code - it re-adds the fd immediately
after an IO wait and JSON RPC server re-runs all sessions from ovsdb.

So the current behavior is:

1. Build a hash for all json rpc session fds while trying IO on each of
them .

This is invoked out of: Json rpc server invoking session run which after
that has several code paths which end up in a poll wait on the json rpc
session fd. Example - out of jsonrpc_recv_wait or jsonrpc_session_recv_wait.

2. Iterate the hash which by now contains most fds from json rpc session
as a result of ""1"" and build a poll fd array

3. Wait for IO.

4. Free all the hash map entries which we just created in 1

5. Go back to one discarding any information on which fd which actually
invoked IO and rebuild the hash again.

So the current code implicitly persists all fds associated with jsonrpc
and probably on some of the other ones - it deletes them only to
recreate them again after that.

In fact, it is incorrect to delete them instead of persisting, not the
opposite. They persist anyway at a higher level, all the code does today
is deleting and recreating them on every iteration.

This is probably of little relevance to OVS, but when using ovsdb to run
southdb in OVN - do not think so. There can be quite a few sessions and
fds in that case.
…
-- 
Anton R. Ivanov
https://www.kot-begemot.co.uk/",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/blp,11,https://github.com/openvswitch/ovs/pull/306#issuecomment-578538213,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.",Never removing fds is simply incorrect behavior.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/kot-begemot-uk,12,https://github.com/openvswitch/ovs/pull/306#issuecomment-578540509,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","On 26/01/2020 20:12, Ben Pfaff wrote:

 Never removing fds is simply incorrect behavior.

That is Correct for poll. Incorrect for epoll.

First, of all the ""remove unused"" is an artefact from the days when
poll/select were the only available options. If you use poll, there is a
definite benefit in trying not to add extra fds to it. That is exactly
the opposite for any of the new frameworks - epoll, kqueue, /dev/poll,
etc. They are all designed to keep things around. There it costs less to
keep fds around than to add/remove them.

Second - as I said, nearly all of them are re-added immediately at least
for the streams which run json rpc on top.  The strategy to avoid adding
them is not very successful in that case (I have not looked in detail
for the other streams). We can graph the poll array size on a large OVN
install - it is trivial to add the relevant code to the logging, I can
do it as a separate PR and you will see my point. If you are persisting
them at a higher level removing and adding them on each IO loop is just
burning CPU.

Third - At present it does not even use any IO notifications. So if you
are waiting on 200 fds which will not be out of ordinary in an OVN
scenario, you re-run all waiters instead of rerunning the one triggered.
Granted it is possible to fix that without persisting at least the hash,
but it is much harder compared to actually keeping fds around and
knowing which was triggered. So at least from that perspective, it is
time consider persisting the hash and turning on/off the bits for it in
the poll case.

A.
…
 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#306?email_source=notifications&email_token=AC4TGWC4WYQ5RSQJFHL6LZTQ7XVBJA5CNFSM4KLHCAXKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJ54VZI#issuecomment-578538213>,
 or unsubscribe
 <https://github.com/notifications/unsubscribe-auth/AC4TGWBAZOT3XVH2UZFR5R3Q7XVBJANCNFSM4KLHCAXA>.


-- 
Anton R. Ivanov
https://www.kot-begemot.co.uk/",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/blp,13,https://github.com/openvswitch/ovs/pull/306#issuecomment-578970053,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","No. It's completely wrong to always keep all the fds. You're going to waste CPU that way.
Just because a process woke up for a particular event once, it doesn't mean that it should wake up for any events next time. The common case for this is where a process is reading from one stream and then writing to another. It should only wake up to read from the source when the destination is ready to be written, so that it only needs a finite sized buffer in between. If it wakes up when the source is ready to read but the destination is not ready to write, then this results in 100% CPU just because the destination is slower than the source. OVS does this kind of intermediate buffering all over. The OVSDB server does it too.",True,{'ROCKET': ['https://github.com/oglok']}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/orgcandman,14,https://github.com/openvswitch/ovs/pull/306#issuecomment-580909911,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.",I posted an RFC for a different problem back in December (https://mail.openvswitch.org/pipermail/ovs-dev/2019-December/366071.html) maybe it's a good starting point?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,306,2020-01-24T14:36:18Z,2020-02-07T08:04:37Z,2020-02-07T08:04:37Z,CLOSED,False,221,47,20,https://github.com/kot-begemot-uk,Replace poll with epoll on Linux where applicable,10,[],https://github.com/openvswitch/ovs/pull/306,https://github.com/kot-begemot-uk,15,https://github.com/openvswitch/ovs/pull/306#issuecomment-581037296,"Replaces poll with epoll on Linux to increase scalability for large deployment.
Primary use case - too many nodes polling ovsdb running southdb in OVN.","On 31/01/2020 21:01, Aaron Conole wrote:

 I posted an RFC for a different problem back in December
 (https://mail.openvswitch.org/pipermail/ovs-dev/2019-December/366071.html)
 maybe it's a good starting point?

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#306?email_source=notifications&email_token=AC4TGWCR4HJHHUKBWEKKRSLRASGTFA5CNFSM4KLHCAXKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEKP7WVY#issuecomment-580909911>,
 or unsubscribe
 <https://github.com/notifications/unsubscribe-auth/AC4TGWHPVVS4NN4ACBNT2Z3RASGTFANCNFSM4KLHCAXA>.

I have it all working for OVSDB and pretty much everything except OVS
proper on a different branch. Once I have it working for OVS as well I
will update the PR.

This, by the way, includes hints for the streams - so that they do not
slam the EAGAIN wall for no good reason on every iteration and try IO
only if there is IO pending for recv() and IO possible for send().

I have why OVS does not want to work with the new event loop narrowed
down to the actual root cause, if I have enough spare time next week I
should hopefully finish the whole thing.
…
-- 
Anton R. Ivanov
https://www.kot-begemot.co.uk/",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,307,2020-02-07T08:03:46Z,2020-02-14T18:00:21Z,2020-02-14T18:00:21Z,CLOSED,False,462,112,23,https://github.com/kot-begemot-uk,Fd persistence,3,[],https://github.com/openvswitch/ovs/pull/307,https://github.com/kot-begemot-uk,1,https://github.com/openvswitch/ovs/pull/307,"This fixes:


The current practice of reading FDs without IO pending on them. This is a penalty of 0.3 microseconds per fd. So for example, ovsdb in OVN southdb with 200 nodes has a guaranteed penalty of 60 microseconds on every transaction. That does add up to quite a number in a large installation.


The poll loop to do what it is supposed to do according to its comments. It is supposed to be an implementation where the flags (POLLIN, POLLOUT, etc) are additive according to the comments. That is not the case, because if it gets an event which is just POLLIN it will wipe the POLLOUT from its state and vice versa.


Adds epoll support for Linux.


I will kill the older pull request with the incomplete linux only/epoll only patchset.","This fixes:


The current practice of reading FDs without IO pending on them. This is a penalty of 0.3 microseconds per fd. So for example, ovsdb in OVN southdb with 200 nodes has a guaranteed penalty of 60 microseconds on every transaction. That does add up to quite a number in a large installation.


The poll loop to do what it is supposed to do according to its comments. It is supposed to be an implementation where the flags (POLLIN, POLLOUT, etc) are additive according to the comments. That is not the case, because if it gets an event which is just POLLIN it will wipe the POLLOUT from its state and vice versa.


Adds epoll support for Linux.


I will kill the older pull request with the incomplete linux only/epoll only patchset.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,307,2020-02-07T08:03:46Z,2020-02-14T18:00:21Z,2020-02-14T18:00:21Z,CLOSED,False,462,112,23,https://github.com/kot-begemot-uk,Fd persistence,3,[],https://github.com/openvswitch/ovs/pull/307,https://github.com/kot-begemot-uk,2,https://github.com/openvswitch/ovs/pull/307#issuecomment-585234936,"This fixes:


The current practice of reading FDs without IO pending on them. This is a penalty of 0.3 microseconds per fd. So for example, ovsdb in OVN southdb with 200 nodes has a guaranteed penalty of 60 microseconds on every transaction. That does add up to quite a number in a large installation.


The poll loop to do what it is supposed to do according to its comments. It is supposed to be an implementation where the flags (POLLIN, POLLOUT, etc) are additive according to the comments. That is not the case, because if it gets an event which is just POLLIN it will wipe the POLLOUT from its state and vice versa.


Adds epoll support for Linux.


I will kill the older pull request with the incomplete linux only/epoll only patchset.","Thanks, will be fixed in the next version.
On 12/02/2020 14:15, Dan Williams wrote:

 ***@***.**** commented on this pull request.

 ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 In lib/poll-loop.c <#307 (comment)>:

 >      int elapsed;
       int retval;
       int i;
 +    int counter;

 @kot-begemot-uk <https://github.com/kot-begemot-uk> builds are complaining this variable is unused.

 —
 You are receiving this because you were mentioned.
 Reply to this email directly, view it on GitHub <#307?email_source=notifications&email_token=AC4TGWCHJJYOW7Z3IKYVDOLRCP77DA5CNFSM4KRKFY5KYY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOCVHMI5A#pullrequestreview-357483636>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/AC4TGWATQDRJHNIZFXQ6LTDRCP77DANCNFSM4KRKFY5A>.

-- 
Anton R. Ivanov
https://www.kot-begemot.co.uk/",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,307,2020-02-07T08:03:46Z,2020-02-14T18:00:21Z,2020-02-14T18:00:21Z,CLOSED,False,462,112,23,https://github.com/kot-begemot-uk,Fd persistence,3,[],https://github.com/openvswitch/ovs/pull/307,https://github.com/kot-begemot-uk,3,https://github.com/openvswitch/ovs/pull/307#issuecomment-586401289,"This fixes:


The current practice of reading FDs without IO pending on them. This is a penalty of 0.3 microseconds per fd. So for example, ovsdb in OVN southdb with 200 nodes has a guaranteed penalty of 60 microseconds on every transaction. That does add up to quite a number in a large installation.


The poll loop to do what it is supposed to do according to its comments. It is supposed to be an implementation where the flags (POLLIN, POLLOUT, etc) are additive according to the comments. That is not the case, because if it gets an event which is just POLLIN it will wipe the POLLOUT from its state and vice versa.


Adds epoll support for Linux.


I will kill the older pull request with the incomplete linux only/epoll only patchset.",Superseded by v2.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,308,2020-02-14T17:59:41Z,,2020-02-14T18:04:09Z,OPEN,False,556,123,22,https://github.com/kot-begemot-uk,Fd persistence v2,4,[],https://github.com/openvswitch/ovs/pull/308,https://github.com/kot-begemot-uk,1,https://github.com/openvswitch/ovs/pull/308,"This now splits fds in two categories.

Ones which are used in non-persistent manner
One that are and can be made persistent

The ones that can be made to use poll loop hints, etc - do.
The ones that can't do it for now - don't.","This now splits fds in two categories.

Ones which are used in non-persistent manner
One that are and can be made persistent

The ones that can be made to use poll loop hints, etc - do.
The ones that can't do it for now - don't.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,308,2020-02-14T17:59:41Z,,2020-02-14T18:04:09Z,OPEN,False,556,123,22,https://github.com/kot-begemot-uk,Fd persistence v2,4,[],https://github.com/openvswitch/ovs/pull/308,https://github.com/kot-begemot-uk,2,https://github.com/openvswitch/ovs/pull/308#issuecomment-586402743,"This now splits fds in two categories.

Ones which are used in non-persistent manner
One that are and can be made persistent

The ones that can be made to use poll loop hints, etc - do.
The ones that can't do it for now - don't.",Looks like BSD CI is broken.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,309,2020-02-20T08:20:07Z,2020-03-05T20:32:05Z,2020-03-05T20:32:06Z,CLOSED,False,4,0,1,https://github.com/shenjiangc,"bond: Fix  command ""ovs-appctl bond/disable-slave""  not in effect",1,[],https://github.com/openvswitch/ovs/pull/309,https://github.com/shenjiangc,1,https://github.com/openvswitch/ovs/pull/309,"After disable one slave, it will be enable by the function ""bond_link_status_update"".
the bond log like this :
2020-02-18T16:21:43.673Z|18945|bond|INFO|interface dpdk0: disabled
2020-02-18T16:21:43.673Z|18946|bond|INFO|interface dpdk0: link state up
2020-02-18T16:21:43.673Z|18947|bond|INFO|interface dpdk0: enabled","After disable one slave, it will be enable by the function ""bond_link_status_update"".
the bond log like this :
2020-02-18T16:21:43.673Z|18945|bond|INFO|interface dpdk0: disabled
2020-02-18T16:21:43.673Z|18946|bond|INFO|interface dpdk0: link state up
2020-02-18T16:21:43.673Z|18947|bond|INFO|interface dpdk0: enabled",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,309,2020-02-20T08:20:07Z,2020-03-05T20:32:05Z,2020-03-05T20:32:06Z,CLOSED,False,4,0,1,https://github.com/shenjiangc,"bond: Fix  command ""ovs-appctl bond/disable-slave""  not in effect",1,[],https://github.com/openvswitch/ovs/pull/309,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/309#issuecomment-595432453,"After disable one slave, it will be enable by the function ""bond_link_status_update"".
the bond log like this :
2020-02-18T16:21:43.673Z|18945|bond|INFO|interface dpdk0: disabled
2020-02-18T16:21:43.673Z|18946|bond|INFO|interface dpdk0: link state up
2020-02-18T16:21:43.673Z|18947|bond|INFO|interface dpdk0: enabled","This patch seems wrong to me. It appears to prevent a slave, once disabled, from ever being enabled automatically. Slaves can get disabled for more reasons than just the ""bond/disable-slave"" command. Furthermore, the documentation for bond/disable-slave say:

This setting is not permanent: it persists only until the carrier
status of \fIslave\fR changes.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,310,2020-02-24T12:49:58Z,2020-03-18T07:15:42Z,2020-03-18T07:15:42Z,CLOSED,False,0,0,0,https://github.com/yyang13,Use TPACKET_V3 to accelerate veth for userspace datapath,0,[],https://github.com/openvswitch/ovs/pull/310,https://github.com/yyang13,1,https://github.com/openvswitch/ovs/pull/310,"We can avoid high system call overhead by using TPACKET_V3
and using DPDK-like poll to receive and send packets (Note: send
still needs to call sendto to trigger final packet transmission).
From Linux kernel 3.10 on, TPACKET_V3 has been supported,
so all the Linux kernels current OVS supports can run
TPACKET_V3 without any problem.
I can see about 30% performance improvement for veth compared to
last recvmmsg optimization if I use TPACKET_V3, it is about 1.98
Gbps, but it was 1.47 Gbps before.
TPACKET_V3 can support TSO, it can work only if your kernel can
support, this has been verified on Ubuntu 18.04 5.3.0-40-generic
, if you find the performance is very poor, please turn off tso
for veth interfces in case userspace-tso-enable is set to true.
Signed-off-by: Yi Yang yangyi01@inspur.com
Co-authored-by: William Tu u9012063@gmail.com
Signed-off-by: William Tu u9012063@gmail.com","We can avoid high system call overhead by using TPACKET_V3
and using DPDK-like poll to receive and send packets (Note: send
still needs to call sendto to trigger final packet transmission).
From Linux kernel 3.10 on, TPACKET_V3 has been supported,
so all the Linux kernels current OVS supports can run
TPACKET_V3 without any problem.
I can see about 30% performance improvement for veth compared to
last recvmmsg optimization if I use TPACKET_V3, it is about 1.98
Gbps, but it was 1.47 Gbps before.
TPACKET_V3 can support TSO, it can work only if your kernel can
support, this has been verified on Ubuntu 18.04 5.3.0-40-generic
, if you find the performance is very poor, please turn off tso
for veth interfces in case userspace-tso-enable is set to true.
Signed-off-by: Yi Yang yangyi01@inspur.com
Co-authored-by: William Tu u9012063@gmail.com
Signed-off-by: William Tu u9012063@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,311,2020-03-10T03:22:30Z,2020-03-10T03:23:57Z,2020-03-10T03:23:57Z,CLOSED,False,7,1,2,https://github.com/shenjiangc,raft: Fix Unnecessary leadship transfer when a follower node network  anomaly,3,[],https://github.com/openvswitch/ovs/pull/311,https://github.com/shenjiangc,1,https://github.com/openvswitch/ovs/pull/311,"when I test the network anomaly use ifdown and ifup, it cause unnecessary leader ship transfer. The follower node will become leader after ifup.
My test shell script as follow:
cat ./ifeth.sh
#! /bin/bash
ifdown eth0
sleep 5
ifup eth0
nohup ./ifeth.sh &","when I test the network anomaly use ifdown and ifup, it cause unnecessary leader ship transfer. The follower node will become leader after ifup.
My test shell script as follow:
cat ./ifeth.sh
#! /bin/bash
ifdown eth0
sleep 5
ifup eth0
nohup ./ifeth.sh &",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,312,2020-03-10T03:30:04Z,2020-03-10T03:30:17Z,2020-03-10T03:30:17Z,CLOSED,False,3,1,1,https://github.com/shenjiangc,aft: Fix Unnecessary leadship transfer when a follower node network anomaly,4,[],https://github.com/openvswitch/ovs/pull/312,https://github.com/shenjiangc,1,https://github.com/openvswitch/ovs/pull/312,"when I test the network anomaly use ifdown and ifup, it cause unnecessary leader ship transfer. The follower node will become leader after ifup.
My test shell script as follow:
cat ./ifeth.sh
#! /bin/bash
ifdown eth0
sleep 5
ifup eth0
nohup ./ifeth.sh &","when I test the network anomaly use ifdown and ifup, it cause unnecessary leader ship transfer. The follower node will become leader after ifup.
My test shell script as follow:
cat ./ifeth.sh
#! /bin/bash
ifdown eth0
sleep 5
ifup eth0
nohup ./ifeth.sh &",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,313,2020-03-10T03:30:43Z,,2020-03-10T09:10:35Z,OPEN,False,16,1,1,https://github.com/shenjiangc,raft: Fix Unnecessary leadship transfer when a follower node network anomaly,5,[],https://github.com/openvswitch/ovs/pull/313,https://github.com/shenjiangc,1,https://github.com/openvswitch/ovs/pull/313,"when I test the network anomaly use ifdown and ifup, it cause unnecessary leader ship transfer. The follower node will become leader after ifup.
My test shell script as follow:
cat ./ifeth.sh
#! /bin/bash
ifdown eth0
sleep 5
ifup eth0
nohup ./ifeth.sh &","when I test the network anomaly use ifdown and ifup, it cause unnecessary leader ship transfer. The follower node will become leader after ifup.
My test shell script as follow:
cat ./ifeth.sh
#! /bin/bash
ifdown eth0
sleep 5
ifup eth0
nohup ./ifeth.sh &",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,313,2020-03-10T03:30:43Z,,2020-03-10T09:10:35Z,OPEN,False,16,1,1,https://github.com/shenjiangc,raft: Fix Unnecessary leadship transfer when a follower node network anomaly,5,[],https://github.com/openvswitch/ovs/pull/313,https://github.com/shenjiangc,2,https://github.com/openvswitch/ovs/pull/313#issuecomment-596978582,"when I test the network anomaly use ifdown and ifup, it cause unnecessary leader ship transfer. The follower node will become leader after ifup.
My test shell script as follow:
cat ./ifeth.sh
#! /bin/bash
ifdown eth0
sleep 5
ifup eth0
nohup ./ifeth.sh &",@blp,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,314,2020-03-30T22:52:19Z,2020-09-11T12:17:23Z,2020-09-11T12:17:24Z,CLOSED,False,1,0,1,https://github.com/winsopc,raft: Disable RAFT jsonrpc inactivity probe,1,[],https://github.com/openvswitch/ovs/pull/314,https://github.com/winsopc,1,https://github.com/openvswitch/ovs/pull/314,"With the scale test of 640 nodes k8s cluster, raft DB nodes' jsonrpc
session got closed due to the timeout of default 5 seconds probe.
It will cause disturbance of the raft cluster. Since we already have
the heartbeat for RAFT, just disable the probe between the servers
to avoid the unnecessary jsonrpc inactivity probe.
Acked-by: Han Zhou hzhou@ovn.org
Signed-off-by: Zhen Wang zhewang@nvidia.com","With the scale test of 640 nodes k8s cluster, raft DB nodes' jsonrpc
session got closed due to the timeout of default 5 seconds probe.
It will cause disturbance of the raft cluster. Since we already have
the heartbeat for RAFT, just disable the probe between the servers
to avoid the unnecessary jsonrpc inactivity probe.
Acked-by: Han Zhou hzhou@ovn.org
Signed-off-by: Zhen Wang zhewang@nvidia.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,314,2020-03-30T22:52:19Z,2020-09-11T12:17:23Z,2020-09-11T12:17:24Z,CLOSED,False,1,0,1,https://github.com/winsopc,raft: Disable RAFT jsonrpc inactivity probe,1,[],https://github.com/openvswitch/ovs/pull/314,https://github.com/igsilya,2,https://github.com/openvswitch/ovs/pull/314#issuecomment-691059212,"With the scale test of 640 nodes k8s cluster, raft DB nodes' jsonrpc
session got closed due to the timeout of default 5 seconds probe.
It will cause disturbance of the raft cluster. Since we already have
the heartbeat for RAFT, just disable the probe between the servers
to avoid the unnecessary jsonrpc inactivity probe.
Acked-by: Han Zhou hzhou@ovn.org
Signed-off-by: Zhen Wang zhewang@nvidia.com",This patch was merged some time ago as commit db5a066.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,315,2020-04-08T11:08:26Z,2020-09-16T14:20:25Z,2020-09-16T14:20:26Z,CLOSED,False,12,4,1,https://github.com/ballock,ipsec: Fix Strongswan configuration syntax,1,[],https://github.com/openvswitch/ovs/pull/315,https://github.com/ballock,1,https://github.com/openvswitch/ovs/pull/315,"Strongswan seems to have .opt files in the source tree with the dotted option syntax. It seems that up until version 5.6, the syntax was also accepted by Strongswan.
However, the .opt files are converted to .conf files during Strongswan build, and the dotted syntax is no longer accepted by Strongswan (tested on 5.8.2).
The effect was that the ovs ipsec monitor fails to start Strongswan, since that complains with:
/etc/strongswan.d/ovs.conf:4: syntax error, unexpected ., expecting : or '{' or '=' [.]
I could not locate the exact code change in Strongswan that changed and caused this, but fact is that the *.conf files in /etc/strongswan.d have the same syntax as the PR suggests.","Strongswan seems to have .opt files in the source tree with the dotted option syntax. It seems that up until version 5.6, the syntax was also accepted by Strongswan.
However, the .opt files are converted to .conf files during Strongswan build, and the dotted syntax is no longer accepted by Strongswan (tested on 5.8.2).
The effect was that the ovs ipsec monitor fails to start Strongswan, since that complains with:
/etc/strongswan.d/ovs.conf:4: syntax error, unexpected ., expecting : or '{' or '=' [.]
I could not locate the exact code change in Strongswan that changed and caused this, but fact is that the *.conf files in /etc/strongswan.d have the same syntax as the PR suggests.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,315,2020-04-08T11:08:26Z,2020-09-16T14:20:25Z,2020-09-16T14:20:26Z,CLOSED,False,12,4,1,https://github.com/ballock,ipsec: Fix Strongswan configuration syntax,1,[],https://github.com/openvswitch/ovs/pull/315,https://github.com/ballock,2,https://github.com/openvswitch/ovs/pull/315#issuecomment-679946485,"Strongswan seems to have .opt files in the source tree with the dotted option syntax. It seems that up until version 5.6, the syntax was also accepted by Strongswan.
However, the .opt files are converted to .conf files during Strongswan build, and the dotted syntax is no longer accepted by Strongswan (tested on 5.8.2).
The effect was that the ovs ipsec monitor fails to start Strongswan, since that complains with:
/etc/strongswan.d/ovs.conf:4: syntax error, unexpected ., expecting : or '{' or '=' [.]
I could not locate the exact code change in Strongswan that changed and caused this, but fact is that the *.conf files in /etc/strongswan.d have the same syntax as the PR suggests.","The checks that failed previously were some test artifacts, probably network glitch.
I have rebased the change on top of master, though.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,315,2020-04-08T11:08:26Z,2020-09-16T14:20:25Z,2020-09-16T14:20:26Z,CLOSED,False,12,4,1,https://github.com/ballock,ipsec: Fix Strongswan configuration syntax,1,[],https://github.com/openvswitch/ovs/pull/315,https://github.com/markdgray,3,https://github.com/openvswitch/ovs/pull/315#issuecomment-686628667,"Strongswan seems to have .opt files in the source tree with the dotted option syntax. It seems that up until version 5.6, the syntax was also accepted by Strongswan.
However, the .opt files are converted to .conf files during Strongswan build, and the dotted syntax is no longer accepted by Strongswan (tested on 5.8.2).
The effect was that the ovs ipsec monitor fails to start Strongswan, since that complains with:
/etc/strongswan.d/ovs.conf:4: syntax error, unexpected ., expecting : or '{' or '=' [.]
I could not locate the exact code change in Strongswan that changed and caused this, but fact is that the *.conf files in /etc/strongswan.d have the same syntax as the PR suggests.",The documentation will also need to be updated at https://github.com/openvswitch/ovs/blob/master/Documentation/tutorials/ipsec.rst#requirements and probably NEWS. What does this mean in terms of backwards compatibility?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,315,2020-04-08T11:08:26Z,2020-09-16T14:20:25Z,2020-09-16T14:20:26Z,CLOSED,False,12,4,1,https://github.com/ballock,ipsec: Fix Strongswan configuration syntax,1,[],https://github.com/openvswitch/ovs/pull/315,https://github.com/markdgray,4,https://github.com/openvswitch/ovs/pull/315#issuecomment-686631189,"Strongswan seems to have .opt files in the source tree with the dotted option syntax. It seems that up until version 5.6, the syntax was also accepted by Strongswan.
However, the .opt files are converted to .conf files during Strongswan build, and the dotted syntax is no longer accepted by Strongswan (tested on 5.8.2).
The effect was that the ovs ipsec monitor fails to start Strongswan, since that complains with:
/etc/strongswan.d/ovs.conf:4: syntax error, unexpected ., expecting : or '{' or '=' [.]
I could not locate the exact code change in Strongswan that changed and caused this, but fact is that the *.conf files in /etc/strongswan.d have the same syntax as the PR suggests.","Strongswan seems to have .opt files in the source tree with the dotted option syntax. It seems that up until version 5.6, the syntax was also accepted by Strongswan.
However, the .opt files are converted to .conf files during Strongswan build, and the dotted syntax is no longer accepted by Strongswan (tested on 5.8.2).
The effect was that the ovs ipsec monitor fails to start Strongswan, since that complains with:
/etc/strongswan.d/ovs.conf:4: syntax error, unexpected ., expecting : or '{' or '=' [.]
I could not locate the exact code change in Strongswan that changed and caused this, but fact is that the *.conf files in /etc/strongswan.d have the same syntax as the PR suggests.

You could add some of this text into the commit message and add a ""Signed-off-by"".",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,315,2020-04-08T11:08:26Z,2020-09-16T14:20:25Z,2020-09-16T14:20:26Z,CLOSED,False,12,4,1,https://github.com/ballock,ipsec: Fix Strongswan configuration syntax,1,[],https://github.com/openvswitch/ovs/pull/315,https://github.com/ballock,5,https://github.com/openvswitch/ovs/pull/315#issuecomment-687063059,"Strongswan seems to have .opt files in the source tree with the dotted option syntax. It seems that up until version 5.6, the syntax was also accepted by Strongswan.
However, the .opt files are converted to .conf files during Strongswan build, and the dotted syntax is no longer accepted by Strongswan (tested on 5.8.2).
The effect was that the ovs ipsec monitor fails to start Strongswan, since that complains with:
/etc/strongswan.d/ovs.conf:4: syntax error, unexpected ., expecting : or '{' or '=' [.]
I could not locate the exact code change in Strongswan that changed and caused this, but fact is that the *.conf files in /etc/strongswan.d have the same syntax as the PR suggests.","The documentation will also need to be updated at https://github.com/openvswitch/ovs/blob/master/Documentation/tutorials/ipsec.rst#requirements and probably NEWS. What does this mean in terms of backwards compatibility?

Previous versions of Strongswan accepted the conf file syntax, no problem. I tested it with 5.6.
I just checked version 5.3.5 source code, and it does the very same thing by compiling the .opt files to .conf files and I am pretty sure the updated config will work there as well.
As for the docs, I never tested Libreswan, but this change goes in the StrongSwanHelper class, ""This class does StrongSwan specific configurations."", so this change does not affect Libreswan compatibility. No reason to update the wiki for this commit.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,315,2020-04-08T11:08:26Z,2020-09-16T14:20:25Z,2020-09-16T14:20:26Z,CLOSED,False,12,4,1,https://github.com/ballock,ipsec: Fix Strongswan configuration syntax,1,[],https://github.com/openvswitch/ovs/pull/315,https://github.com/jianjuns,6,https://github.com/openvswitch/ovs/pull/315#issuecomment-691220859,"Strongswan seems to have .opt files in the source tree with the dotted option syntax. It seems that up until version 5.6, the syntax was also accepted by Strongswan.
However, the .opt files are converted to .conf files during Strongswan build, and the dotted syntax is no longer accepted by Strongswan (tested on 5.8.2).
The effect was that the ovs ipsec monitor fails to start Strongswan, since that complains with:
/etc/strongswan.d/ovs.conf:4: syntax error, unexpected ., expecting : or '{' or '=' [.]
I could not locate the exact code change in Strongswan that changed and caused this, but fact is that the *.conf files in /etc/strongswan.d have the same syntax as the PR suggests.",I made the same fix as this PR (in PR #334 which I just closed after I found this one). Also to confirm I tested the fix with strongSwan 5.3.5 (the version with Ubuntu 16.04.2) and saw no problem.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,315,2020-04-08T11:08:26Z,2020-09-16T14:20:25Z,2020-09-16T14:20:26Z,CLOSED,False,12,4,1,https://github.com/ballock,ipsec: Fix Strongswan configuration syntax,1,[],https://github.com/openvswitch/ovs/pull/315,https://github.com/igsilya,7,https://github.com/openvswitch/ovs/pull/315#issuecomment-693438179,"Strongswan seems to have .opt files in the source tree with the dotted option syntax. It seems that up until version 5.6, the syntax was also accepted by Strongswan.
However, the .opt files are converted to .conf files during Strongswan build, and the dotted syntax is no longer accepted by Strongswan (tested on 5.8.2).
The effect was that the ovs ipsec monitor fails to start Strongswan, since that complains with:
/etc/strongswan.d/ovs.conf:4: syntax error, unexpected ., expecting : or '{' or '=' [.]
I could not locate the exact code change in Strongswan that changed and caused this, but fact is that the *.conf files in /etc/strongswan.d have the same syntax as the PR suggests.","Thanks, everyone!
Patch applied to master as commit b424bec.  Also, this is not technically a bugfix, but it seems important to support strongswan 5.7+ as it's already really old, so I backported the fix down to 2.13.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,316,2020-05-02T12:34:11Z,,2020-05-02T12:34:11Z,OPEN,False,1,1,1,https://github.com/awsum,Force output flush in ovs-tcpdump,1,[],https://github.com/openvswitch/ovs/pull/316,https://github.com/awsum,1,https://github.com/openvswitch/ovs/pull/316,"Currently print() might get buffered which will result in BrokenPipeError (SIGPIPE) in a garbage collection phase if ovs-tcpdump is piped.
$ ovs-tcpdump -i eth0 | tee dump
# snip
^C7 packets captured
7 packets received by filter
0 packets dropped by kernel
Exception ignored in: <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>
BrokenPipeError: [Errno 32] Broken pipe
Proposed change only handles graceful exit and output corruption in buffered case. To properly exit in pipe failure case (ovs-tcpdump -i eth0 | false) BrokenPipeError needs to be handled explicitly, see Python docs on the issue.","Currently print() might get buffered which will result in BrokenPipeError (SIGPIPE) in a garbage collection phase if ovs-tcpdump is piped.
$ ovs-tcpdump -i eth0 | tee dump
# snip
^C7 packets captured
7 packets received by filter
0 packets dropped by kernel
Exception ignored in: <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>
BrokenPipeError: [Errno 32] Broken pipe
Proposed change only handles graceful exit and output corruption in buffered case. To properly exit in pipe failure case (ovs-tcpdump -i eth0 | false) BrokenPipeError needs to be handled explicitly, see Python docs on the issue.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,317,2020-05-03T12:10:13Z,,2020-07-23T01:50:00Z,OPEN,False,2,4,1,https://github.com/WangXijue,Fix userspace conntrack ip fragment crash problem,1,[],https://github.com/openvswitch/ovs/pull/317,https://github.com/WangXijue,1,https://github.com/openvswitch/ovs/pull/317,"When testing openvswitch userspace conntrack with IP packets size greater than MTU, the ovs-vswitchd will crash on packet-out messages from a OpenFlow controller. This patch will fix this problem. When pre-processing IP fragment packets, clone the packet if it has ""dnsteal"" flag set(usually from a OpenFlow controller packet-out message.)","When testing openvswitch userspace conntrack with IP packets size greater than MTU, the ovs-vswitchd will crash on packet-out messages from a OpenFlow controller. This patch will fix this problem. When pre-processing IP fragment packets, clone the packet if it has ""dnsteal"" flag set(usually from a OpenFlow controller packet-out message.)",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,317,2020-05-03T12:10:13Z,,2020-07-23T01:50:00Z,OPEN,False,2,4,1,https://github.com/WangXijue,Fix userspace conntrack ip fragment crash problem,1,[],https://github.com/openvswitch/ovs/pull/317,https://github.com/WangXijue,2,https://github.com/openvswitch/ovs/pull/317#issuecomment-623101010,"When testing openvswitch userspace conntrack with IP packets size greater than MTU, the ovs-vswitchd will crash on packet-out messages from a OpenFlow controller. This patch will fix this problem. When pre-processing IP fragment packets, clone the packet if it has ""dnsteal"" flag set(usually from a OpenFlow controller packet-out message.)","This is the crash stacktrace:
#0  0x00007f884ef92265 in _memcpy_ssse3_back () from /lib64/libc.so.6
#1  0x00007f8850bcbd72 in memcpy (len=528, src=0xb1a8a156, dest=)
at /usr/include/bits/string3.h:51
#2  dp_packet_put (b=b@entry=0x7f886621ecd0, p=0xb1a8a156, size=528) at lib/dp-packet.c:364
#3  0x00007f8850bef79e in ipf_reassemble_v4_frags (ipf_list=, ipf_list=)
at lib/ipf.c:430
#4  ipf_list_state_transition (v6=false, lf=false, ff=true, ipf_list=0x7f88662133b0, ipf=0x7f88661c2400)
at lib/ipf.c:555
#5  ipf_process_frag (dnsteal=true, v6=false, lf=false, ff=true, end_data_byte=1479, start_data_byte=0,
pkt=, ipf_list=0x7f88662133b0, ipf=0x7f88661c2400) at lib/ipf.c:821
#6  ipf_handle_frag (dnsteal=true, hash_basis=2757571130, now=219089608, zone=1, dl_type=,
pkt=, ipf=0x7f88661c2400) at lib/ipf.c:923
#7  ipf_extract_frags_from_batch (hash_basis=, now=, zone=,
dl_type=, pb=0x7fffd97c4c70, ipf=) at lib/ipf.c:945
#8  ipf_preprocess_conntrack (ipf=, pb=pb@entry=0x7fffd97c4c70, now=now@entry=219089608,
dl_type=dl_type@entry=8, zone=zone@entry=1, hash_basis=) at lib/ipf.c:1227
#9  0x00007f8850bbb33f in conntrack_execute (ct=0x7f88661c1f40, pkt_batch=pkt_batch@entry=0x7fffd97c4c70,
dl_type=8, force=false, commit=false, zone=1, setmark=setmark@entry=0x0, setlabel=setlabel@entry=0x0,
tp_src=2048, tp_dst=0, helper=helper@entry=0x0, nat_action_info=nat_action_info@entry=0x0, now=219089608)
at lib/conntrack.c:1400
#10 0x00007f8850bdc55d in dp_execute_cb (aux=aux@entry=0x7fffd97c4c60, packets=packets@entry=0x7fffd97c4c70,
a=a@entry=0x7f8866214da0, should_steal=) at lib/dpif-netdev.c:7691
#11 0x00007f8850c19ff5 in odp_execute_actions (dp=dp@entry=0x7fffd97c4c60, batch=batch@entry=0x7fffd97c4c70,
steal=steal@entry=false, actions=, actions_len=,
dp_execute_action=dp_execute_action@entry=0x7f8850bdc400 <dp_execute_cb>) at lib/odp-execute.c:863
#12 0x00007f8850bd5b46 in dp_netdev_execute_actions (actions_len=, actions=,
flow=, should_steal=false, packets=0x7fffd97c4c70, pmd=0x7f88492d7010)
at lib/dpif-netdev.c:7736
#13 dpif_netdev_execute (dpif=dpif@entry=0x7f88661c3300, execute=execute@entry=0x7fffd97c4ef8)
at lib/dpif-netdev.c:3848
#14 0x00007f8850bd94ae in dpif_netdev_operate (dpif=0x7f88661c3300, ops=0x7fffd97c4ee8, n_ops=1,
offload_type=) at lib/dpif-netdev.c:3879
#15 0x00007f8850be282c in dpif_operate (dpif=, ops=ops@entry=0x7fffd97c4ee8, n_ops=n_ops@entry=1,
offload_type=offload_type@entry=DPIF_OFFLOAD_AUTO) at lib/dpif.c:1401
#16 0x00007f8850be3003 in dpif_execute (dpif=, execute=execute@entry=0x7f88661f77d0)
at lib/dpif.c:1355
#17 0x00007f8851233c02 in packet_execute (ofproto=, opo=0x7fffd97c4f90)
at ofproto/ofproto-dpif.c:4936
#18 0x00007f885122c9d0 in ofproto_packet_out_finish (opo=0x7fffd97c4f90, ofproto=0x7f88661bcb20)
at ofproto/ofproto.c:3665
#19 handle_packet_out (ofconn=ofconn@entry=0x7f88661f8040, oh=oh@entry=0x7f886621c2c0) at ofproto/ofproto.c:3711
#20 0x00007f88512316fe in handle_single_part_openflow (type=OFPTYPE_PACKET_OUT, oh=0x7f886621c2c0,
ofconn=0x7f88661f8040) at ofproto/ofproto.c:8490
#21 handle_openflow (ofconn=0x7f88661f8040, msgs=) at ofproto/ofproto.c:8677
#22 0x00007f885122000c in ofconn_run (handle_openflow=0x7f8851230850 <handle_openflow>, ofconn=0x7f88661f8040)
at ofproto/connmgr.c:1321
#23 connmgr_run (mgr=0x7f88661bb820, handle_openflow=handle_openflow@entry=0x7f8851230850 <handle_openflow>)
at ofproto/connmgr.c:356
#24 0x00007f8851229986 in ofproto_run (p=0x7f88661bcb20) at ofproto/ofproto.c:1883
#25 0x00007f8863ae897c in bridge_run () at vswitchd/bridge.c:3256
#26 0x00007f8863aeef38 in bridge_run () at vswitchd/bridge.c:3316
#27 0x00007f8863ae54ad in main (argc=10, argv=0x7fffd97c6878) at vswitchd/ovs-vswitchd.c:127
(gdb)",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,318,2020-05-21T07:43:52Z,2021-01-13T20:44:30Z,2021-01-13T20:44:30Z,CLOSED,False,1398,5,21,https://github.com/martinpattara,Bareudp test run,2,[],https://github.com/openvswitch/ovs/pull/318,https://github.com/martinpattara,1,https://github.com/openvswitch/ovs/pull/318,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,319,2020-06-15T08:12:22Z,2020-06-16T20:29:45Z,2020-06-16T20:29:46Z,CLOSED,False,1,0,1,https://github.com/ruicao93,Fix Windows incompatibility when setting new feature,1,[],https://github.com/openvswitch/ovs/pull/319,https://github.com/ruicao93,1,https://github.com/openvswitch/ovs/pull/319,"OVS_DP_ATTR_NAME field is required when sending OVS_DP_CMD_SET to
windows kernel driver. The function ""dpif_netlink_set_features""
dose not set the OVS_DP_ATTR_NAME field which will cause set feature
failure and ovs-vswitchd will exist.
This patch fixes the issue by setting ""request.name"" in request.
Fix openvswitch/ovs-issues#187
Signed-off-by: Rui Cao rcao@vmware.com","OVS_DP_ATTR_NAME field is required when sending OVS_DP_CMD_SET to
windows kernel driver. The function ""dpif_netlink_set_features""
dose not set the OVS_DP_ATTR_NAME field which will cause set feature
failure and ovs-vswitchd will exist.
This patch fixes the issue by setting ""request.name"" in request.
Fix openvswitch/ovs-issues#187
Signed-off-by: Rui Cao rcao@vmware.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,319,2020-06-15T08:12:22Z,2020-06-16T20:29:45Z,2020-06-16T20:29:46Z,CLOSED,False,1,0,1,https://github.com/ruicao93,Fix Windows incompatibility when setting new feature,1,[],https://github.com/openvswitch/ovs/pull/319,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/319#issuecomment-644995318,"OVS_DP_ATTR_NAME field is required when sending OVS_DP_CMD_SET to
windows kernel driver. The function ""dpif_netlink_set_features""
dose not set the OVS_DP_ATTR_NAME field which will cause set feature
failure and ovs-vswitchd will exist.
This patch fixes the issue by setting ""request.name"" in request.
Fix openvswitch/ovs-issues#187
Signed-off-by: Rui Cao rcao@vmware.com",Applied to master and branch-2.13.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,320,2020-06-16T15:28:57Z,2020-06-30T08:29:35Z,2020-06-30T08:29:35Z,CLOSED,False,17,5,4,https://github.com/ruicao93,"Port patches to windows: ""conntrack: Fix conntrack new state""",1,[],https://github.com/openvswitch/ovs/pull/320,https://github.com/ruicao93,1,https://github.com/openvswitch/ovs/pull/320,"Port following commits to windows driver to fix the TCP conntrack new state issue on windows:

a867c01
ac23d20
@YiHungWei
Fixes openvswitch/ovs-issues#188","Port following commits to windows driver to fix the TCP conntrack new state issue on windows:

a867c01
ac23d20
@YiHungWei
Fixes openvswitch/ovs-issues#188",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,320,2020-06-16T15:28:57Z,2020-06-30T08:29:35Z,2020-06-30T08:29:35Z,CLOSED,False,17,5,4,https://github.com/ruicao93,"Port patches to windows: ""conntrack: Fix conntrack new state""",1,[],https://github.com/openvswitch/ovs/pull/320,https://github.com/ruicao93,2,https://github.com/openvswitch/ovs/pull/320#issuecomment-646029309,"Port following commits to windows driver to fix the TCP conntrack new state issue on windows:

a867c01
ac23d20
@YiHungWei
Fixes openvswitch/ovs-issues#188","Hi Rui,
Thanks for porting this patch to windows. We usually do code review through ovs mailing list. Can you repost your patch to ovs-dev mailing list? http://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/
I only have a comment as inline.
-Yi-Hung

Sure, thanks YiHung. I will send it in ovs-dev mailing list soon.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,320,2020-06-16T15:28:57Z,2020-06-30T08:29:35Z,2020-06-30T08:29:35Z,CLOSED,False,17,5,4,https://github.com/ruicao93,"Port patches to windows: ""conntrack: Fix conntrack new state""",1,[],https://github.com/openvswitch/ovs/pull/320,https://github.com/ruicao93,3,https://github.com/openvswitch/ovs/pull/320#issuecomment-650852980,"Port following commits to windows driver to fix the TCP conntrack new state issue on windows:

a867c01
ac23d20
@YiHungWei
Fixes openvswitch/ovs-issues#188","The PR has been applied to master 7d68168.
Close the PR.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,322,2020-07-08T10:44:32Z,2020-08-27T07:14:57Z,2020-08-27T07:14:58Z,CLOSED,False,21,0,1,https://github.com/fedepaol,Add a db consistency check to the ovsdb-tool check-cluster command.,1,[],https://github.com/openvswitch/ovs/pull/322,https://github.com/fedepaol,1,https://github.com/openvswitch/ovs/pull/322,"There are some occurrencies where the db ends up in an inconsistent state.
This happened in ovn-k8s and is described in https://bugzilla.redhat.com/show_bug.cgi?id=1837953#c23.
Here we are adding a supported way to check that a given db is consistent, which is less error prone than
checking the logs.
Signed-off-by: Federico Paolinelli fpaoline@redhat.com","There are some occurrencies where the db ends up in an inconsistent state.
This happened in ovn-k8s and is described in https://bugzilla.redhat.com/show_bug.cgi?id=1837953#c23.
Here we are adding a supported way to check that a given db is consistent, which is less error prone than
checking the logs.
Signed-off-by: Federico Paolinelli fpaoline@redhat.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,322,2020-07-08T10:44:32Z,2020-08-27T07:14:57Z,2020-08-27T07:14:58Z,CLOSED,False,21,0,1,https://github.com/fedepaol,Add a db consistency check to the ovsdb-tool check-cluster command.,1,[],https://github.com/openvswitch/ovs/pull/322,https://github.com/fedepaol,2,https://github.com/openvswitch/ovs/pull/322#issuecomment-655572555,"There are some occurrencies where the db ends up in an inconsistent state.
This happened in ovn-k8s and is described in https://bugzilla.redhat.com/show_bug.cgi?id=1837953#c23.
Here we are adding a supported way to check that a given db is consistent, which is less error prone than
checking the logs.
Signed-off-by: Federico Paolinelli fpaoline@redhat.com",cc @dceara,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,322,2020-07-08T10:44:32Z,2020-08-27T07:14:57Z,2020-08-27T07:14:58Z,CLOSED,False,21,0,1,https://github.com/fedepaol,Add a db consistency check to the ovsdb-tool check-cluster command.,1,[],https://github.com/openvswitch/ovs/pull/322,https://github.com/fedepaol,3,https://github.com/openvswitch/ovs/pull/322#issuecomment-656099991,"There are some occurrencies where the db ends up in an inconsistent state.
This happened in ovn-k8s and is described in https://bugzilla.redhat.com/show_bug.cgi?id=1837953#c23.
Here we are adding a supported way to check that a given db is consistent, which is less error prone than
checking the logs.
Signed-off-by: Federico Paolinelli fpaoline@redhat.com","Thanks for the PR, I have a few comments on the diff and also some below.
Running utilities/checkpatch.py on the commit I get:
ERROR: Inappropriate spacing in pointer declaration
WARNING: Line lacks whitespace around operator
#17 FILE: ovsdb/ovsdb-tool.c:1508:
        char* server_id = xasprintf(SID_FMT, SID_ARGS(&s->header.sid));

WARNING: Line has non-spaces leading whitespace
WARNING: Line has trailing whitespace
#33 FILE: ovsdb/ovsdb-tool.c:1524:
    

Lines checked: 36, Warnings: 3, Errors: 1

Contributions to Open vSwitch usually go to the ovs-dev mailing list:
https://github.com/openvswitch/ovs/blob/master/Documentation/internals/contributing/submitting-patches.rst
Thanks,
Dumitru

Thanks for the quick review! Will apply the fixes and submit over there.",True,{'THUMBS_UP': ['https://github.com/dceara']}
openvswitch/ovs,https://github.com/openvswitch/ovs,322,2020-07-08T10:44:32Z,2020-08-27T07:14:57Z,2020-08-27T07:14:58Z,CLOSED,False,21,0,1,https://github.com/fedepaol,Add a db consistency check to the ovsdb-tool check-cluster command.,1,[],https://github.com/openvswitch/ovs/pull/322,https://github.com/fedepaol,4,https://github.com/openvswitch/ovs/pull/322#issuecomment-656128847,"There are some occurrencies where the db ends up in an inconsistent state.
This happened in ovn-k8s and is described in https://bugzilla.redhat.com/show_bug.cgi?id=1837953#c23.
Here we are adding a supported way to check that a given db is consistent, which is less error prone than
checking the logs.
Signed-off-by: Federico Paolinelli fpaoline@redhat.com","Force pushed for consistency, will send the patch",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,322,2020-07-08T10:44:32Z,2020-08-27T07:14:57Z,2020-08-27T07:14:58Z,CLOSED,False,21,0,1,https://github.com/fedepaol,Add a db consistency check to the ovsdb-tool check-cluster command.,1,[],https://github.com/openvswitch/ovs/pull/322,https://github.com/dyusupov,5,https://github.com/openvswitch/ovs/pull/322#issuecomment-670157695,"There are some occurrencies where the db ends up in an inconsistent state.
This happened in ovn-k8s and is described in https://bugzilla.redhat.com/show_bug.cgi?id=1837953#c23.
Here we are adding a supported way to check that a given db is consistent, which is less error prone than
checking the logs.
Signed-off-by: Federico Paolinelli fpaoline@redhat.com",can be useful! would be nice to have it integrated...,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,322,2020-07-08T10:44:32Z,2020-08-27T07:14:57Z,2020-08-27T07:14:58Z,CLOSED,False,21,0,1,https://github.com/fedepaol,Add a db consistency check to the ovsdb-tool check-cluster command.,1,[],https://github.com/openvswitch/ovs/pull/322,https://github.com/girishmg,6,https://github.com/openvswitch/ovs/pull/322#issuecomment-680168845,"There are some occurrencies where the db ends up in an inconsistent state.
This happened in ovn-k8s and is described in https://bugzilla.redhat.com/show_bug.cgi?id=1837953#c23.
Here we are adding a supported way to check that a given db is consistent, which is less error prone than
checking the logs.
Signed-off-by: Federico Paolinelli fpaoline@redhat.com",@dceara @numansiddique can you please help in integrating this fix? Thanks.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,322,2020-07-08T10:44:32Z,2020-08-27T07:14:57Z,2020-08-27T07:14:58Z,CLOSED,False,21,0,1,https://github.com/fedepaol,Add a db consistency check to the ovsdb-tool check-cluster command.,1,[],https://github.com/openvswitch/ovs/pull/322,https://github.com/fedepaol,7,https://github.com/openvswitch/ovs/pull/322#issuecomment-681667725,"There are some occurrencies where the db ends up in an inconsistent state.
This happened in ovn-k8s and is described in https://bugzilla.redhat.com/show_bug.cgi?id=1837953#c23.
Here we are adding a supported way to check that a given db is consistent, which is less error prone than
checking the logs.
Signed-off-by: Federico Paolinelli fpaoline@redhat.com","This was eventually sent via email:
https://patchwork.ozlabs.org/project/openvswitch/patch/CAAFK5zxZ2PPKbq9ythtRrGyWhXA47RyHktyGGC20UvVCLT9WRw@mail.gmail.com/
Closing the PR.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,323,2020-07-16T07:49:31Z,2020-07-20T14:42:39Z,2020-07-20T14:42:40Z,CLOSED,False,55,32,1,https://github.com/commandgjj,datapath-windows: Reset ct_mark/ct_label to support ALG,1,[],https://github.com/openvswitch/ovs/pull/323,https://github.com/commandgjj,1,https://github.com/openvswitch/ovs/pull/323,"The ct_mark/ct_label setting on related connection keep the same
behavior with Linux datapath. If one CT entry has parent/master entry,
its ct_mark and ct_label should inherit from the corresponding part
of parent/master entry at initialization.
Signed-off-by: Jinjun Gao jinjung@vmware.com","The ct_mark/ct_label setting on related connection keep the same
behavior with Linux datapath. If one CT entry has parent/master entry,
its ct_mark and ct_label should inherit from the corresponding part
of parent/master entry at initialization.
Signed-off-by: Jinjun Gao jinjung@vmware.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,324,2020-07-20T14:47:15Z,2020-07-29T03:37:19Z,2020-07-29T03:38:06Z,CLOSED,False,54,32,1,https://github.com/commandgjj,datapath-windows: Reset ct_mark/ct_label to support ALG,1,[],https://github.com/openvswitch/ovs/pull/324,https://github.com/commandgjj,1,https://github.com/openvswitch/ovs/pull/324,"The ct_mark/ct_label setting on related connection keep the same
behavior with Linux datapath. If one CT entry has parent/master entry,
its ct_mark and ct_label should inherit from the corresponding part
of parent/master entry at initialization.
Signed-off-by: Jinjun Gao jinjung@vmware.com","The ct_mark/ct_label setting on related connection keep the same
behavior with Linux datapath. If one CT entry has parent/master entry,
its ct_mark and ct_label should inherit from the corresponding part
of parent/master entry at initialization.
Signed-off-by: Jinjun Gao jinjung@vmware.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,324,2020-07-20T14:47:15Z,2020-07-29T03:37:19Z,2020-07-29T03:38:06Z,CLOSED,False,54,32,1,https://github.com/commandgjj,datapath-windows: Reset ct_mark/ct_label to support ALG,1,[],https://github.com/openvswitch/ovs/pull/324,https://github.com/commandgjj,2,https://github.com/openvswitch/ovs/pull/324#issuecomment-665411689,"The ct_mark/ct_label setting on related connection keep the same
behavior with Linux datapath. If one CT entry has parent/master entry,
its ct_mark and ct_label should inherit from the corresponding part
of parent/master entry at initialization.
Signed-off-by: Jinjun Gao jinjung@vmware.com",The patch has merged into master. So close this PR.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,325,2020-07-21T13:16:39Z,2022-05-04T05:19:31Z,2022-05-04T05:19:55Z,CLOSED,False,1,1,1,https://github.com/HofmT,Additional parameters for physical DPDK ports,1,[],https://github.com/openvswitch/ovs/pull/325,https://github.com/HofmT,1,https://github.com/openvswitch/ovs/pull/325,"Hello developers,
Problem: Right now, only physical DPDK ports beginning with 'dpdk' prefix are supported in the Red Hat network scripts.
However, openvswitch no longer supports this naming pattern. See this error message from ovs 2.11.1:
error: ""'dpdk-eth1-1' is missing 'options:dpdk-devargs'. The old 'dpdk<port_id>' names are not supported""
The current way of adding a physical DPDK port is:
ovs-vsctl add-port <br-name> <port-name> \
 -- set Interface <port-name> type=dpdk options:dpdk-devargs=<PCI_address> 
See OvS doc
Suggestion: Include a new variable specifying the pci address of a physical DPDK device.","Hello developers,
Problem: Right now, only physical DPDK ports beginning with 'dpdk' prefix are supported in the Red Hat network scripts.
However, openvswitch no longer supports this naming pattern. See this error message from ovs 2.11.1:
error: ""'dpdk-eth1-1' is missing 'options:dpdk-devargs'. The old 'dpdk<port_id>' names are not supported""
The current way of adding a physical DPDK port is:
ovs-vsctl add-port <br-name> <port-name> \
 -- set Interface <port-name> type=dpdk options:dpdk-devargs=<PCI_address> 
See OvS doc
Suggestion: Include a new variable specifying the pci address of a physical DPDK device.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,325,2020-07-21T13:16:39Z,2022-05-04T05:19:31Z,2022-05-04T05:19:55Z,CLOSED,False,1,1,1,https://github.com/HofmT,Additional parameters for physical DPDK ports,1,[],https://github.com/openvswitch/ovs/pull/325,https://github.com/HofmT,2,https://github.com/openvswitch/ovs/pull/325#issuecomment-663399111,"Hello developers,
Problem: Right now, only physical DPDK ports beginning with 'dpdk' prefix are supported in the Red Hat network scripts.
However, openvswitch no longer supports this naming pattern. See this error message from ovs 2.11.1:
error: ""'dpdk-eth1-1' is missing 'options:dpdk-devargs'. The old 'dpdk<port_id>' names are not supported""
The current way of adding a physical DPDK port is:
ovs-vsctl add-port <br-name> <port-name> \
 -- set Interface <port-name> type=dpdk options:dpdk-devargs=<PCI_address> 
See OvS doc
Suggestion: Include a new variable specifying the pci address of a physical DPDK device.",@blp I saw that you originally worked on that file. Could you please comment?,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,325,2020-07-21T13:16:39Z,2022-05-04T05:19:31Z,2022-05-04T05:19:55Z,CLOSED,False,1,1,1,https://github.com/HofmT,Additional parameters for physical DPDK ports,1,[],https://github.com/openvswitch/ovs/pull/325,https://github.com/HofmT,3,https://github.com/openvswitch/ovs/pull/325#issuecomment-731995020,"Hello developers,
Problem: Right now, only physical DPDK ports beginning with 'dpdk' prefix are supported in the Red Hat network scripts.
However, openvswitch no longer supports this naming pattern. See this error message from ovs 2.11.1:
error: ""'dpdk-eth1-1' is missing 'options:dpdk-devargs'. The old 'dpdk<port_id>' names are not supported""
The current way of adding a physical DPDK port is:
ovs-vsctl add-port <br-name> <port-name> \
 -- set Interface <port-name> type=dpdk options:dpdk-devargs=<PCI_address> 
See OvS doc
Suggestion: Include a new variable specifying the pci address of a physical DPDK device.",Would appreciate if anyone could comment on this. Thank you!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,326,2020-07-27T11:29:34Z,2020-07-29T19:34:29Z,2020-07-30T02:25:29Z,CLOSED,False,27,7,2,https://github.com/commandgjj,datapath-windows: Update flow key in SET action,1,[],https://github.com/openvswitch/ovs/pull/326,https://github.com/commandgjj,1,https://github.com/openvswitch/ovs/pull/326,"The flow key is not updated when process OVS_ACTION_ATTR_SET action.
It will impact follow-up actions, such as, conntrack module cannot
find created conntrack entry if passing old flow key to it.
Reported-by: Rui Cao rcao@vmware.com
Signed-off-by: Jinjun Gao jinjung@vmware.com","The flow key is not updated when process OVS_ACTION_ATTR_SET action.
It will impact follow-up actions, such as, conntrack module cannot
find created conntrack entry if passing old flow key to it.
Reported-by: Rui Cao rcao@vmware.com
Signed-off-by: Jinjun Gao jinjung@vmware.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,326,2020-07-27T11:29:34Z,2020-07-29T19:34:29Z,2020-07-30T02:25:29Z,CLOSED,False,27,7,2,https://github.com/commandgjj,datapath-windows: Update flow key in SET action,1,[],https://github.com/openvswitch/ovs/pull/326,https://github.com/aserdean,2,https://github.com/openvswitch/ovs/pull/326#issuecomment-665860426,"The flow key is not updated when process OVS_ACTION_ATTR_SET action.
It will impact follow-up actions, such as, conntrack module cannot
find created conntrack entry if passing old flow key to it.
Reported-by: Rui Cao rcao@vmware.com
Signed-off-by: Jinjun Gao jinjung@vmware.com",Applied via ML: ba73001,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,327,2020-07-29T22:11:31Z,2020-08-24T17:35:13Z,2020-08-24T17:35:13Z,CLOSED,False,15,5,1,https://github.com/aserdean,DONOTMERGE WIP: Appveyor artifact for windows_installer,1,[],https://github.com/openvswitch/ovs/pull/327,https://github.com/aserdean,1,https://github.com/openvswitch/ovs/pull/327,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,327,2020-07-29T22:11:31Z,2020-08-24T17:35:13Z,2020-08-24T17:35:13Z,CLOSED,False,15,5,1,https://github.com/aserdean,DONOTMERGE WIP: Appveyor artifact for windows_installer,1,[],https://github.com/openvswitch/ovs/pull/327,https://github.com/aserdean,2,https://github.com/openvswitch/ovs/pull/327#issuecomment-679266490,,"I sent the patch to the ML: https://patchwork.ozlabs.org/project/openvswitch/patch/20200824161129.620-1-aserdean@cloudbasesolutions.com/.
Closing the PR as the testing was successful.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,328,2020-08-01T17:59:51Z,2021-01-26T15:26:28Z,2021-01-26T15:26:28Z,CLOSED,False,0,1,1,https://github.com/gaurav1086,lib/tc: remove duplicate check in is_tcf_id_eq,1,[],https://github.com/openvswitch/ovs/pull/328,https://github.com/gaurav1086,1,https://github.com/openvswitch/ovs/pull/328,"Signed-off-by: Gaurav Singh gaurav1086@gmail.com
cleanup: remove duplicate check.","Signed-off-by: Gaurav Singh gaurav1086@gmail.com
cleanup: remove duplicate check.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,329,2020-08-01T18:24:59Z,2021-01-26T15:26:15Z,2021-01-26T15:26:15Z,CLOSED,False,2,2,1,https://github.com/gaurav1086,pvector: do index bounds check prior to element access,1,[],https://github.com/openvswitch/ovs/pull/329,https://github.com/gaurav1086,1,https://github.com/openvswitch/ovs/pull/329,"Signed-off-by: Gaurav Singh gaurav1086@gmail.com
pvector: do index bounds check prior to element access","Signed-off-by: Gaurav Singh gaurav1086@gmail.com
pvector: do index bounds check prior to element access",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,330,2020-08-03T09:48:36Z,,2020-08-03T09:48:36Z,OPEN,False,1,1,1,https://github.com/reith,releases doc: Meter action does not really work in upstream Linux kernels older than 4.18,1,[],https://github.com/openvswitch/ovs/pull/330,https://github.com/reith,1,https://github.com/openvswitch/ovs/pull/330,"Since 92d0d51 Open vSwitch disables meter action in linux kernel
path for 4.15, 4.16 and 4.17 but docs says Meter action is supported in
4.15 which can be misleading.
Since Ubuntu 18.04 kernel is 4.15, this can confuse many users.","Since 92d0d51 Open vSwitch disables meter action in linux kernel
path for 4.15, 4.16 and 4.17 but docs says Meter action is supported in
4.15 which can be misleading.
Since Ubuntu 18.04 kernel is 4.15, this can confuse many users.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,331,2020-08-06T10:51:01Z,2020-08-17T21:43:30Z,2020-08-17T21:43:30Z,CLOSED,False,11,11,1,https://github.com/lzhecheng,[Bug-fix] ovs-monitor-ipsec Python2 code to Python3,1,[],https://github.com/openvswitch/ovs/pull/331,https://github.com/lzhecheng,1,https://github.com/openvswitch/ovs/pull/331,"I am not a skilled Python programmer. I made these changes with 2to3 and debugging in another downstream project. Thanks.
Fixes: openvswitch/ovs-issues#192","I am not a skilled Python programmer. I made these changes with 2to3 and debugging in another downstream project. Thanks.
Fixes: openvswitch/ovs-issues#192",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,331,2020-08-06T10:51:01Z,2020-08-17T21:43:30Z,2020-08-17T21:43:30Z,CLOSED,False,11,11,1,https://github.com/lzhecheng,[Bug-fix] ovs-monitor-ipsec Python2 code to Python3,1,[],https://github.com/openvswitch/ovs/pull/331,https://github.com/lzhecheng,2,https://github.com/openvswitch/ovs/pull/331#issuecomment-670393281,"I am not a skilled Python programmer. I made these changes with 2to3 and debugging in another downstream project. Thanks.
Fixes: openvswitch/ovs-issues#192","you don't need to build lists for your iterations. You can iterate over the result of items(), keys(), values() directly.
The reason why Python 2to3 is translating this:
        for name, tunnel in self.tunnels.iteritems():

to that:
        for name, tunnel in list(self.tunnels.items()):

Even though it is clear from the Python2 code that you are doing an iteration, is that the semantics of items in Pyhton3 are different from the ones of iteritems in Python2: faucetsdn/faucet#2372 (comment). But it only matters if you are modifying the dictionary while iterating over it.
So in a nutshell I think you can / should remove all the calls to list() from your patch.

You are right, thank you! Code updated.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,331,2020-08-06T10:51:01Z,2020-08-17T21:43:30Z,2020-08-17T21:43:30Z,CLOSED,False,11,11,1,https://github.com/lzhecheng,[Bug-fix] ovs-monitor-ipsec Python2 code to Python3,1,[],https://github.com/openvswitch/ovs/pull/331,https://github.com/igsilya,3,https://github.com/openvswitch/ovs/pull/331#issuecomment-673755800,"I am not a skilled Python programmer. I made these changes with 2to3 and debugging in another downstream project. Thanks.
Fixes: openvswitch/ovs-issues#192","Thanks for the patch.
We need a Signed-off-by for this patch. The FAQ says:
Q: What's a Signed-off-by and how do I provide one?

A: Free and open source software projects usually require a contributor to
provide some assurance that they're entitled to contribute the code that
they provide.  Some projects, for example, do this with a Contributor
License Agreement (CLA) or a copyright assignment that is signed on paper
or electronically.

For this purpose, Open vSwitch has adopted something called the Developer's
Certificate of Origin (DCO), which is also used by the Linux kernel and
originated there.  Informally stated, agreeing to the DCO is the
developer's way of attesting that a particular commit that they are
contributing is one that they are allowed to contribute.  You should visit
https://developercertificate.org/ to read the full statement of the DCO,
which is less than 200 words long.

To certify compliance with the Developer's Certificate of Origin for a
particular commit, just add the following line to the end of your commit
message, properly substituting your name and email address:

    Signed-off-by: Firstname Lastname <email@example.org>

Git has special support for adding a Signed-off-by line to a commit
message: when you run ""git commit"", just add the -s option, as in ""git
commit -s"".  If you use the ""git citool"" GUI for commits, you can add a
Signed-off-by line to the commit message by pressing Control+S.  Other Git
user interfaces may provide similar support.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,331,2020-08-06T10:51:01Z,2020-08-17T21:43:30Z,2020-08-17T21:43:30Z,CLOSED,False,11,11,1,https://github.com/lzhecheng,[Bug-fix] ovs-monitor-ipsec Python2 code to Python3,1,[],https://github.com/openvswitch/ovs/pull/331,https://github.com/lzhecheng,4,https://github.com/openvswitch/ovs/pull/331#issuecomment-673817088,"I am not a skilled Python programmer. I made these changes with 2to3 and debugging in another downstream project. Thanks.
Fixes: openvswitch/ovs-issues#192","Thanks for the patch.
We need a Signed-off-by for this patch. The FAQ says:
Q: What's a Signed-off-by and how do I provide one?

A: Free and open source software projects usually require a contributor to
provide some assurance that they're entitled to contribute the code that
they provide.  Some projects, for example, do this with a Contributor
License Agreement (CLA) or a copyright assignment that is signed on paper
or electronically.

For this purpose, Open vSwitch has adopted something called the Developer's
Certificate of Origin (DCO), which is also used by the Linux kernel and
originated there.  Informally stated, agreeing to the DCO is the
developer's way of attesting that a particular commit that they are
contributing is one that they are allowed to contribute.  You should visit
https://developercertificate.org/ to read the full statement of the DCO,
which is less than 200 words long.

To certify compliance with the Developer's Certificate of Origin for a
particular commit, just add the following line to the end of your commit
message, properly substituting your name and email address:

    Signed-off-by: Firstname Lastname <email@example.org>

Git has special support for adding a Signed-off-by line to a commit
message: when you run ""git commit"", just add the -s option, as in ""git
commit -s"".  If you use the ""git citool"" GUI for commits, you can add a
Signed-off-by line to the commit message by pressing Control+S.  Other Git
user interfaces may provide similar support.


Thank you. I have updated the commit message.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,331,2020-08-06T10:51:01Z,2020-08-17T21:43:30Z,2020-08-17T21:43:30Z,CLOSED,False,11,11,1,https://github.com/lzhecheng,[Bug-fix] ovs-monitor-ipsec Python2 code to Python3,1,[],https://github.com/openvswitch/ovs/pull/331,https://github.com/igsilya,5,https://github.com/openvswitch/ovs/pull/331#issuecomment-675130500,"I am not a skilled Python programmer. I made these changes with 2to3 and debugging in another downstream project. Thanks.
Fixes: openvswitch/ovs-issues#192",Thanks!  I applied this patch to master and backported down to 2.13.,True,{'THUMBS_UP': ['https://github.com/lzhecheng']}
openvswitch/ovs,https://github.com/openvswitch/ovs,332,2020-08-13T12:50:54Z,2021-09-29T14:27:17Z,2021-11-12T06:28:17Z,CLOSED,False,3,1,1,https://github.com/MiterV1,netdev-linux.c: Fix NULL deref reported by Coverity.,1,[],https://github.com/openvswitch/ovs/pull/332,https://github.com/MiterV1,1,https://github.com/openvswitch/ovs/pull/332,"When sock is NULL, calling nl_sock_listen_all_nsid triggers NULL deref.","When sock is NULL, calling nl_sock_listen_all_nsid triggers NULL deref.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,332,2020-08-13T12:50:54Z,2021-09-29T14:27:17Z,2021-11-12T06:28:17Z,CLOSED,False,3,1,1,https://github.com/MiterV1,netdev-linux.c: Fix NULL deref reported by Coverity.,1,[],https://github.com/openvswitch/ovs/pull/332,https://github.com/aserdean,2,https://github.com/openvswitch/ovs/pull/332#issuecomment-930230151,"When sock is NULL, calling nl_sock_listen_all_nsid triggers NULL deref.","Thank you for the PR.
Sorry it took so long but it seems like the issue was fixed with the following commit:
849a40c",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,332,2020-08-13T12:50:54Z,2021-09-29T14:27:17Z,2021-11-12T06:28:17Z,CLOSED,False,3,1,1,https://github.com/MiterV1,netdev-linux.c: Fix NULL deref reported by Coverity.,1,[],https://github.com/openvswitch/ovs/pull/332,https://github.com/MiterV1,3,https://github.com/openvswitch/ovs/pull/332#issuecomment-966858240,"When sock is NULL, calling nl_sock_listen_all_nsid triggers NULL deref.","yes, commit 849a40c fix it.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,333,2020-08-31T23:49:54Z,2020-09-24T04:36:41Z,2020-09-24T04:36:41Z,CLOSED,False,30,24,2,https://github.com/aserdean,DO NOT MERGE: test appveyor latest pthreads,1,[],https://github.com/openvswitch/ovs/pull/333,https://github.com/aserdean,1,https://github.com/openvswitch/ovs/pull/333,Signed-off-by: Alin Gabriel Serdean aserdean@cloudbasesolutions.com,Signed-off-by: Alin Gabriel Serdean aserdean@cloudbasesolutions.com,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,333,2020-08-31T23:49:54Z,2020-09-24T04:36:41Z,2020-09-24T04:36:41Z,CLOSED,False,30,24,2,https://github.com/aserdean,DO NOT MERGE: test appveyor latest pthreads,1,[],https://github.com/openvswitch/ovs/pull/333,https://github.com/aserdean,2,https://github.com/openvswitch/ovs/pull/333#issuecomment-698106667,Signed-off-by: Alin Gabriel Serdean aserdean@cloudbasesolutions.com,Testing done.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,334,2020-09-11T03:58:45Z,2020-09-11T17:21:25Z,2020-09-11T17:21:25Z,CLOSED,False,12,4,1,https://github.com/jianjuns,Fix ovs-monitor-ipsec support for strongSwan >= version 5.7.0,1,[],https://github.com/openvswitch/ovs/pull/334,https://github.com/jianjuns,1,https://github.com/openvswitch/ovs/pull/334,"Starting from version 5.7.0, strongSwan no more supports specifying a
configuration parameter with the path delimited by dots in a
configuration file. This commit fixes the strongSwan configuration
parameters that ovs-monitor-ipsec writes, to comply with the new
strongSwan format.","Starting from version 5.7.0, strongSwan no more supports specifying a
configuration parameter with the path delimited by dots in a
configuration file. This commit fixes the strongSwan configuration
parameters that ovs-monitor-ipsec writes, to comply with the new
strongSwan format.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,334,2020-09-11T03:58:45Z,2020-09-11T17:21:25Z,2020-09-11T17:21:25Z,CLOSED,False,12,4,1,https://github.com/jianjuns,Fix ovs-monitor-ipsec support for strongSwan >= version 5.7.0,1,[],https://github.com/openvswitch/ovs/pull/334,https://github.com/jianjuns,2,https://github.com/openvswitch/ovs/pull/334#issuecomment-690899584,"Starting from version 5.7.0, strongSwan no more supports specifying a
configuration parameter with the path delimited by dots in a
configuration file. This commit fixes the strongSwan configuration
parameters that ovs-monitor-ipsec writes, to comply with the new
strongSwan format.",I found out I should send the patch to dev@openvswitch.org. Will do that after I figure out how.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,334,2020-09-11T03:58:45Z,2020-09-11T17:21:25Z,2020-09-11T17:21:25Z,CLOSED,False,12,4,1,https://github.com/jianjuns,Fix ovs-monitor-ipsec support for strongSwan >= version 5.7.0,1,[],https://github.com/openvswitch/ovs/pull/334,https://github.com/igsilya,3,https://github.com/openvswitch/ovs/pull/334#issuecomment-691014230,"Starting from version 5.7.0, strongSwan no more supports specifying a
configuration parameter with the path delimited by dots in a
configuration file. This commit fixes the strongSwan configuration
parameters that ovs-monitor-ipsec writes, to comply with the new
strongSwan format.","Hi. Thanks for the patch, but there is already similar patch proposed here: #315
It'll be great if you can help with review/testing.
BTW, we do accept pull requests, but, yes, mail-list is a primary way of submitting patches right now.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,334,2020-09-11T03:58:45Z,2020-09-11T17:21:25Z,2020-09-11T17:21:25Z,CLOSED,False,12,4,1,https://github.com/jianjuns,Fix ovs-monitor-ipsec support for strongSwan >= version 5.7.0,1,[],https://github.com/openvswitch/ovs/pull/334,https://github.com/jianjuns,4,https://github.com/openvswitch/ovs/pull/334#issuecomment-691217883,"Starting from version 5.7.0, strongSwan no more supports specifying a
configuration parameter with the path delimited by dots in a
configuration file. This commit fixes the strongSwan configuration
parameters that ovs-monitor-ipsec writes, to comply with the new
strongSwan format.","Ok. PR #315 makes exactly the same change with mine. So let me close this one.
Thanks for the letting me know!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,335,2020-09-22T12:10:20Z,2021-01-13T20:43:53Z,2021-01-13T20:43:53Z,CLOSED,False,5,0,1,https://github.com/kokjo,Fix buffer overflow while parsing lldp packets,1,[],https://github.com/openvswitch/ovs/pull/335,https://github.com/kokjo,1,https://github.com/openvswitch/ovs/pull/335,"u_int8_t addr_str_length, addr_str_buffer[32];

        case LLDP_TLV_MGMT_ADDR:
            CHECK_TLV_SIZE(1, ""Management address"");
            addr_str_length = PEEK_UINT8;
            CHECK_TLV_SIZE(1 + addr_str_length, ""Management address"");
            PEEK_BYTES(addr_str_buffer, addr_str_length);

This pull request checks the size of addr_str_length and if the management address is larger than 32 bytes.","u_int8_t addr_str_length, addr_str_buffer[32];

        case LLDP_TLV_MGMT_ADDR:
            CHECK_TLV_SIZE(1, ""Management address"");
            addr_str_length = PEEK_UINT8;
            CHECK_TLV_SIZE(1 + addr_str_length, ""Management address"");
            PEEK_BYTES(addr_str_buffer, addr_str_length);

This pull request checks the size of addr_str_length and if the management address is larger than 32 bytes.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,335,2020-09-22T12:10:20Z,2021-01-13T20:43:53Z,2021-01-13T20:43:53Z,CLOSED,False,5,0,1,https://github.com/kokjo,Fix buffer overflow while parsing lldp packets,1,[],https://github.com/openvswitch/ovs/pull/335,https://github.com/igsilya,2,https://github.com/openvswitch/ovs/pull/335#issuecomment-703687360,"u_int8_t addr_str_length, addr_str_buffer[32];

        case LLDP_TLV_MGMT_ADDR:
            CHECK_TLV_SIZE(1, ""Management address"");
            addr_str_length = PEEK_UINT8;
            CHECK_TLV_SIZE(1 + addr_str_length, ""Management address"");
            PEEK_BYTES(addr_str_buffer, addr_str_length);

This pull request checks the size of addr_str_length and if the management address is larger than 32 bytes.","Posting the link to my reply on mail-list here for consistency:
https://mail.openvswitch.org/pipermail/ovs-dev/2020-September/375457.html",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,336,2020-09-22T12:22:18Z,2021-01-13T20:43:33Z,2021-01-13T20:43:33Z,CLOSED,False,1,1,1,https://github.com/kokjo,LLDP: PEEK_DISCARD_UINT32 should discard 4 bytes,1,[],https://github.com/openvswitch/ovs/pull/336,https://github.com/kokjo,1,https://github.com/openvswitch/ovs/pull/336,"Wrong amount of bytes discarded when using PEEK_DISCARD_UINT32.
Currently this macro is unused.","Wrong amount of bytes discarded when using PEEK_DISCARD_UINT32.
Currently this macro is unused.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,336,2020-09-22T12:22:18Z,2021-01-13T20:43:33Z,2021-01-13T20:43:33Z,CLOSED,False,1,1,1,https://github.com/kokjo,LLDP: PEEK_DISCARD_UINT32 should discard 4 bytes,1,[],https://github.com/openvswitch/ovs/pull/336,https://github.com/igsilya,2,https://github.com/openvswitch/ovs/pull/336#issuecomment-703687816,"Wrong amount of bytes discarded when using PEEK_DISCARD_UINT32.
Currently this macro is unused.","Posting the link to my reply on mail-list here for consistency:
https://mail.openvswitch.org/pipermail/ovs-dev/2020-September/375457.html",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,337,2020-09-22T12:33:58Z,2021-01-13T20:43:13Z,2021-01-13T20:43:13Z,CLOSED,False,5,0,1,https://github.com/kokjo,Fix memory leak while parsing lldp packets,1,[],https://github.com/openvswitch/ovs/pull/337,https://github.com/kokjo,1,https://github.com/openvswitch/ovs/pull/337,"Remember to free previously allocated buffer with overwriting.
Normal lldp packets should not trigger these types of situations.
But specially crafted packets with multiple for instance LLDP_TLV_PORT_ID tlv's will leak memory.","Remember to free previously allocated buffer with overwriting.
Normal lldp packets should not trigger these types of situations.
But specially crafted packets with multiple for instance LLDP_TLV_PORT_ID tlv's will leak memory.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,337,2020-09-22T12:33:58Z,2021-01-13T20:43:13Z,2021-01-13T20:43:13Z,CLOSED,False,5,0,1,https://github.com/kokjo,Fix memory leak while parsing lldp packets,1,[],https://github.com/openvswitch/ovs/pull/337,https://github.com/igsilya,2,https://github.com/openvswitch/ovs/pull/337#issuecomment-703687945,"Remember to free previously allocated buffer with overwriting.
Normal lldp packets should not trigger these types of situations.
But specially crafted packets with multiple for instance LLDP_TLV_PORT_ID tlv's will leak memory.","Posting the link to my reply on mail-list here for consistency:
https://mail.openvswitch.org/pipermail/ovs-dev/2020-September/375457.html",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,338,2020-09-24T04:37:17Z,2020-10-13T00:46:09Z,2020-10-13T00:46:09Z,CLOSED,False,123,93,8,https://github.com/aserdean,DO NOT MERGE: Test configure,8,[],https://github.com/openvswitch/ovs/pull/338,https://github.com/aserdean,1,https://github.com/openvswitch/ovs/pull/338,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,338,2020-09-24T04:37:17Z,2020-10-13T00:46:09Z,2020-10-13T00:46:09Z,CLOSED,False,123,93,8,https://github.com/aserdean,DO NOT MERGE: Test configure,8,[],https://github.com/openvswitch/ovs/pull/338,https://github.com/aserdean,2,https://github.com/openvswitch/ovs/pull/338#issuecomment-707417862,,Testing done.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,339,2020-10-12T02:25:29Z,2020-10-13T00:45:57Z,2020-10-13T00:45:57Z,CLOSED,False,12,4,3,https://github.com/aserdean,WIP test,1,[],https://github.com/openvswitch/ovs/pull/339,https://github.com/aserdean,1,https://github.com/openvswitch/ovs/pull/339,test openssl_1_1_1h appveyor,test openssl_1_1_1h appveyor,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,339,2020-10-12T02:25:29Z,2020-10-13T00:45:57Z,2020-10-13T00:45:57Z,CLOSED,False,12,4,3,https://github.com/aserdean,WIP test,1,[],https://github.com/openvswitch/ovs/pull/339,https://github.com/aserdean,2,https://github.com/openvswitch/ovs/pull/339#issuecomment-707417817,test openssl_1_1_1h appveyor,Testing done.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,340,2020-10-31T07:34:03Z,2020-11-02T05:59:45Z,2020-11-02T05:59:45Z,CLOSED,False,0,1,1,https://github.com/ltx2018,drop actions with unexpected size,1,[],https://github.com/openvswitch/ovs/pull/340,https://github.com/ltx2018,1,https://github.com/openvswitch/ovs/pull/340,"As nl_attr_get_size may return a huge number if nla_len < NLA_HDRLEN(when ovs_assert disabled),  read-heap-buffer-overflow and out-of-memory problems can be tirggered in format_generic_odp_action","As nl_attr_get_size may return a huge number if nla_len < NLA_HDRLEN(when ovs_assert disabled),  read-heap-buffer-overflow and out-of-memory problems can be tirggered in format_generic_odp_action",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,341,2020-11-09T10:18:52Z,,2021-09-30T01:47:34Z,OPEN,False,4,0,1,https://github.com/rameshganapathi,Issue Description : $pkidir already exists and --force not specified. --force will cause $pkidir to be permanently deleted.,1,[],https://github.com/openvswitch/ovs/pull/341,https://github.com/rameshganapathi,1,https://github.com/openvswitch/ovs/pull/341,"…196 - ovs-pki init --force is not regenerating the ca.cnf file for the switchca and controllerca.
Root Cause : ovs-pki init --force option is not removing the pki directory instead it touches the pki directory with already exisiting files.
FIX : When ovs-pki init with --force option is specified remove the pki directory and regenerate the switchca and controllerca folder with ca.cnf files.","…196 - ovs-pki init --force is not regenerating the ca.cnf file for the switchca and controllerca.
Root Cause : ovs-pki init --force option is not removing the pki directory instead it touches the pki directory with already exisiting files.
FIX : When ovs-pki init with --force option is specified remove the pki directory and regenerate the switchca and controllerca folder with ca.cnf files.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,341,2020-11-09T10:18:52Z,,2021-09-30T01:47:34Z,OPEN,False,4,0,1,https://github.com/rameshganapathi,Issue Description : $pkidir already exists and --force not specified. --force will cause $pkidir to be permanently deleted.,1,[],https://github.com/openvswitch/ovs/pull/341,https://github.com/rameshganapathi,2,https://github.com/openvswitch/ovs/pull/341#issuecomment-875019833,"…196 - ovs-pki init --force is not regenerating the ca.cnf file for the switchca and controllerca.
Root Cause : ovs-pki init --force option is not removing the pki directory instead it touches the pki directory with already exisiting files.
FIX : When ovs-pki init with --force option is specified remove the pki directory and regenerate the switchca and controllerca folder with ca.cnf files.",@markdgray : Kindly review and let me know your comments. Thank you :-),True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,341,2020-11-09T10:18:52Z,,2021-09-30T01:47:34Z,OPEN,False,4,0,1,https://github.com/rameshganapathi,Issue Description : $pkidir already exists and --force not specified. --force will cause $pkidir to be permanently deleted.,1,[],https://github.com/openvswitch/ovs/pull/341,https://github.com/markdgray,3,https://github.com/openvswitch/ovs/pull/341#issuecomment-875450958,"…196 - ovs-pki init --force is not regenerating the ca.cnf file for the switchca and controllerca.
Root Cause : ovs-pki init --force option is not removing the pki directory instead it touches the pki directory with already exisiting files.
FIX : When ovs-pki init with --force option is specified remove the pki directory and regenerate the switchca and controllerca folder with ca.cnf files.","Sorry, we normally review through the mailing list rather than pull requests so I hadn't seen this. I have one comment. If you can resubmit through the mailing list it will probably get handled quicker.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,342,2020-11-20T15:32:08Z,2021-01-13T00:44:34Z,2021-01-13T00:44:34Z,CLOSED,False,1,1,1,https://github.com/chetaiyong,rhel:  Change unwind-devel package,1,[],https://github.com/openvswitch/ovs/pull/342,https://github.com/chetaiyong,1,https://github.com/openvswitch/ovs/pull/342,"Change BuildRequires unwind-devel to libunwind-devel
There is no unwind-devel package, only libunwind-devel package is found, and no error is reported with libunwind-devel during compilation","Change BuildRequires unwind-devel to libunwind-devel
There is no unwind-devel package, only libunwind-devel package is found, and no error is reported with libunwind-devel during compilation",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,342,2020-11-20T15:32:08Z,2021-01-13T00:44:34Z,2021-01-13T00:44:34Z,CLOSED,False,1,1,1,https://github.com/chetaiyong,rhel:  Change unwind-devel package,1,[],https://github.com/openvswitch/ovs/pull/342,https://github.com/chetaiyong,2,https://github.com/openvswitch/ovs/pull/342#issuecomment-731693770,"Change BuildRequires unwind-devel to libunwind-devel
There is no unwind-devel package, only libunwind-devel package is found, and no error is reported with libunwind-devel during compilation",Change BuildRequires unwind-devel to libunwind-devel,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,343,2020-12-11T14:41:07Z,,2020-12-11T14:41:07Z,OPEN,False,1,3,1,https://github.com/vtldo,stt: fix dst_entry use-after-free in rcv_list for GSO skb,1,[],https://github.com/openvswitch/ovs/pull/343,https://github.com/vtldo,1,https://github.com/openvswitch/ovs/pull/343,"rcv_list assigns next->dst which is later released in skb_scrub_packet
and then assigns the same dst_entry again in ovs_ip_tunnel_rcv, but it
was freed already.
Signed-off-by: Vitaly Mayatskikh vmayatskikh@digitalocean.com","rcv_list assigns next->dst which is later released in skb_scrub_packet
and then assigns the same dst_entry again in ovs_ip_tunnel_rcv, but it
was freed already.
Signed-off-by: Vitaly Mayatskikh vmayatskikh@digitalocean.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,344,2021-01-12T10:13:02Z,2021-01-13T12:54:10Z,2021-01-13T12:54:10Z,CLOSED,False,1,1,1,https://github.com/RickZhong8282,"LLDP: fix wrong ""const char*"" issue which leads to the chassis descriptor always as the same",1,[],https://github.com/openvswitch/ovs/pull/344,https://github.com/RickZhong8282,1,https://github.com/openvswitch/ovs/pull/344,"fix wrong ""const char*"" issue which leads to the chassis descriptor always as the same","fix wrong ""const char*"" issue which leads to the chassis descriptor always as the same",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,344,2021-01-12T10:13:02Z,2021-01-13T12:54:10Z,2021-01-13T12:54:10Z,CLOSED,False,1,1,1,https://github.com/RickZhong8282,"LLDP: fix wrong ""const char*"" issue which leads to the chassis descriptor always as the same",1,[],https://github.com/openvswitch/ovs/pull/344,https://github.com/RickZhong8282,2,https://github.com/openvswitch/ovs/pull/344#issuecomment-759156699,"fix wrong ""const char*"" issue which leads to the chassis descriptor always as the same","In case multiple LLDP neighbors exist, the Rx LLDP chassis descriptors shown by the command are always the first neighbor's due to wrongly use of the ""const"". From the logic of the codes, the chassis ID and descriptor should be different from each neighbor. Thus the ""const"" should be removed.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,344,2021-01-12T10:13:02Z,2021-01-13T12:54:10Z,2021-01-13T12:54:10Z,CLOSED,False,1,1,1,https://github.com/RickZhong8282,"LLDP: fix wrong ""const char*"" issue which leads to the chassis descriptor always as the same",1,[],https://github.com/openvswitch/ovs/pull/344,https://github.com/igsilya,3,https://github.com/openvswitch/ovs/pull/344#issuecomment-759393140,"fix wrong ""const char*"" issue which leads to the chassis descriptor always as the same","const is just a compiler hint to show that we're not going to modify the data using this pointer. It doesn't have any runtime effects on the application logic.  We're not modifying the data using this pointer, so, const here is perfectly correct.
My best guess is that you had static keyword in mind.  But const is not static.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,344,2021-01-12T10:13:02Z,2021-01-13T12:54:10Z,2021-01-13T12:54:10Z,CLOSED,False,1,1,1,https://github.com/RickZhong8282,"LLDP: fix wrong ""const char*"" issue which leads to the chassis descriptor always as the same",1,[],https://github.com/openvswitch/ovs/pull/344,https://github.com/RickZhong8282,4,https://github.com/openvswitch/ovs/pull/344#issuecomment-759429858,"fix wrong ""const char*"" issue which leads to the chassis descriptor always as the same","Thanks for the reply. You are right. I mixtured ""const"" and ""static"" here. Let me  do more testing and see what's the root cause for my issue.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,345,2021-01-13T01:56:22Z,2021-01-13T02:07:17Z,2021-01-13T02:07:17Z,CLOSED,False,2,1,1,https://github.com/RickZhong8282,"LLDP: fix wrong ""const char*"" issue which leads to the chassis descriptor always as the same",2,[],https://github.com/openvswitch/ovs/pull/345,https://github.com/RickZhong8282,1,https://github.com/openvswitch/ovs/pull/345,"In case multiple LLDP neighbors exist, the Rx LLDP chassis descriptors shown by the command are always the first neighbor's due to wrongly use of the ""const"". From the logic of the codes, the chassis ID and descriptor should be different from each neighbor. Thus the ""const"" should be removed.","In case multiple LLDP neighbors exist, the Rx LLDP chassis descriptors shown by the command are always the first neighbor's due to wrongly use of the ""const"". From the logic of the codes, the chassis ID and descriptor should be different from each neighbor. Thus the ""const"" should be removed.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,346,2021-01-26T14:41:20Z,2021-01-26T14:42:43Z,2021-01-26T14:53:04Z,CLOSED,False,25,0,2,https://github.com/dean-arnold,CI test,2,[],https://github.com/openvswitch/ovs/pull/346,https://github.com/dean-arnold,1,https://github.com/openvswitch/ovs/pull/346,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,346,2021-01-26T14:41:20Z,2021-01-26T14:42:43Z,2021-01-26T14:53:04Z,CLOSED,False,25,0,2,https://github.com/dean-arnold,CI test,2,[],https://github.com/openvswitch/ovs/pull/346,https://github.com/dean-arnold,2,https://github.com/openvswitch/ovs/pull/346#issuecomment-767594998,,apologies - accidental PR during testing,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,347,2021-02-17T07:40:55Z,2021-02-19T23:28:02Z,2021-02-19T23:28:02Z,CLOSED,False,27,2,2,https://github.com/roytman,Fix 'ovsdb-client needs-conversion' to access remote server,1,[],https://github.com/openvswitch/ovs/pull/347,https://github.com/roytman,1,https://github.com/openvswitch/ovs/pull/347,"When you try to specify SERVER it interprets the parameter as the path to the schema.
`ovsdb-client needs-conversion  unix:/var/run/openvswitch/db.sock   ./_server.ovsschema
ovsdb-client: failed to read schema: ""unix:/var/run/openvswitch/db.sock"" could not be read as JSON (error opening ""unix:/var/run/openvswitch/db.sock"": No such file or directory)`
This PR fixes it.
Signed-off-by: Alexey Roytman roytman@il.ibm.com","When you try to specify SERVER it interprets the parameter as the path to the schema.
`ovsdb-client needs-conversion  unix:/var/run/openvswitch/db.sock   ./_server.ovsschema
ovsdb-client: failed to read schema: ""unix:/var/run/openvswitch/db.sock"" could not be read as JSON (error opening ""unix:/var/run/openvswitch/db.sock"": No such file or directory)`
This PR fixes it.
Signed-off-by: Alexey Roytman roytman@il.ibm.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,347,2021-02-17T07:40:55Z,2021-02-19T23:28:02Z,2021-02-19T23:28:02Z,CLOSED,False,27,2,2,https://github.com/roytman,Fix 'ovsdb-client needs-conversion' to access remote server,1,[],https://github.com/openvswitch/ovs/pull/347,https://github.com/igsilya,2,https://github.com/openvswitch/ovs/pull/347#issuecomment-780478217,"When you try to specify SERVER it interprets the parameter as the path to the schema.
`ovsdb-client needs-conversion  unix:/var/run/openvswitch/db.sock   ./_server.ovsschema
ovsdb-client: failed to read schema: ""unix:/var/run/openvswitch/db.sock"" could not be read as JSON (error opening ""unix:/var/run/openvswitch/db.sock"": No such file or directory)`
This PR fixes it.
Signed-off-by: Alexey Roytman roytman@il.ibm.com","Thanks!  The change looks fine.
Could you, please, add a test to tests/ovsdb-client.at for this functionality?  There are similar tests in tests/ovsdb-tool.at that could be used as a reference.
Also, please, add the problem description to the commit message itself.
And the following tag:
Fixes: 1b1d2e6daa56 (""ovsdb: Introduce experimental support for clustered databases."")",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,347,2021-02-17T07:40:55Z,2021-02-19T23:28:02Z,2021-02-19T23:28:02Z,CLOSED,False,27,2,2,https://github.com/roytman,Fix 'ovsdb-client needs-conversion' to access remote server,1,[],https://github.com/openvswitch/ovs/pull/347,https://github.com/roytman,3,https://github.com/openvswitch/ovs/pull/347#issuecomment-780579866,"When you try to specify SERVER it interprets the parameter as the path to the schema.
`ovsdb-client needs-conversion  unix:/var/run/openvswitch/db.sock   ./_server.ovsschema
ovsdb-client: failed to read schema: ""unix:/var/run/openvswitch/db.sock"" could not be read as JSON (error opening ""unix:/var/run/openvswitch/db.sock"": No such file or directory)`
This PR fixes it.
Signed-off-by: Alexey Roytman roytman@il.ibm.com","Hi Ilya, thanks for the review.
I added the tests and the comments.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,347,2021-02-17T07:40:55Z,2021-02-19T23:28:02Z,2021-02-19T23:28:02Z,CLOSED,False,27,2,2,https://github.com/roytman,Fix 'ovsdb-client needs-conversion' to access remote server,1,[],https://github.com/openvswitch/ovs/pull/347,https://github.com/roytman,4,https://github.com/openvswitch/ovs/pull/347#issuecomment-781658312,"When you try to specify SERVER it interprets the parameter as the path to the schema.
`ovsdb-client needs-conversion  unix:/var/run/openvswitch/db.sock   ./_server.ovsschema
ovsdb-client: failed to read schema: ""unix:/var/run/openvswitch/db.sock"" could not be read as JSON (error opening ""unix:/var/run/openvswitch/db.sock"": No such file or directory)`
This PR fixes it.
Signed-off-by: Alexey Roytman roytman@il.ibm.com","hi @igsilya, should I do something else here?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,347,2021-02-17T07:40:55Z,2021-02-19T23:28:02Z,2021-02-19T23:28:02Z,CLOSED,False,27,2,2,https://github.com/roytman,Fix 'ovsdb-client needs-conversion' to access remote server,1,[],https://github.com/openvswitch/ovs/pull/347,https://github.com/igsilya,5,https://github.com/openvswitch/ovs/pull/347#issuecomment-781995379,"When you try to specify SERVER it interprets the parameter as the path to the schema.
`ovsdb-client needs-conversion  unix:/var/run/openvswitch/db.sock   ./_server.ovsschema
ovsdb-client: failed to read schema: ""unix:/var/run/openvswitch/db.sock"" could not be read as JSON (error opening ""unix:/var/run/openvswitch/db.sock"": No such file or directory)`
This PR fixes it.
Signed-off-by: Alexey Roytman roytman@il.ibm.com","@roytman, the  change looks good to me, I'll apply it later today.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,347,2021-02-17T07:40:55Z,2021-02-19T23:28:02Z,2021-02-19T23:28:02Z,CLOSED,False,27,2,2,https://github.com/roytman,Fix 'ovsdb-client needs-conversion' to access remote server,1,[],https://github.com/openvswitch/ovs/pull/347,https://github.com/igsilya,6,https://github.com/openvswitch/ovs/pull/347#issuecomment-782453257,"When you try to specify SERVER it interprets the parameter as the path to the schema.
`ovsdb-client needs-conversion  unix:/var/run/openvswitch/db.sock   ./_server.ovsschema
ovsdb-client: failed to read schema: ""unix:/var/run/openvswitch/db.sock"" could not be read as JSON (error opening ""unix:/var/run/openvswitch/db.sock"": No such file or directory)`
This PR fixes it.
Signed-off-by: Alexey Roytman roytman@il.ibm.com","Thanks!
Applied to master as commit e775bf3 and backported to all appropriate branches.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,348,2021-02-19T08:03:35Z,2021-03-02T00:17:35Z,2021-03-02T09:27:55Z,CLOSED,False,5,0,1,https://github.com/lucheng0127,Python: Support open tcp socket with domain name,4,[],https://github.com/openvswitch/ovs/pull/348,https://github.com/lucheng0127,1,https://github.com/openvswitch/ovs/pull/348,"When try to connect to a remote tcp socket, remote address don't
support use domain name.
Fixed it by reslove it in ovs.socket_util.inet_open_active.","When try to connect to a remote tcp socket, remote address don't
support use domain name.
Fixed it by reslove it in ovs.socket_util.inet_open_active.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,348,2021-02-19T08:03:35Z,2021-03-02T00:17:35Z,2021-03-02T09:27:55Z,CLOSED,False,5,0,1,https://github.com/lucheng0127,Python: Support open tcp socket with domain name,4,[],https://github.com/openvswitch/ovs/pull/348,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/348#issuecomment-788423055,"When try to connect to a remote tcp socket, remote address don't
support use domain name.
Fixed it by reslove it in ovs.socket_util.inet_open_active.","This will cause daemons to hang for arbitrary amounts of time as they try to resolve DNS names, so I don't think it's a good idea to merge it as is.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,349,2021-03-22T03:42:52Z,2021-03-23T16:35:45Z,2021-03-24T01:13:23Z,CLOSED,False,99,0,1,https://github.com/RickZhong8282,add new command to show LLDP neighbor info,2,[],https://github.com/openvswitch/ovs/pull/349,https://github.com/RickZhong8282,1,https://github.com/openvswitch/ovs/pull/349,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,349,2021-03-22T03:42:52Z,2021-03-23T16:35:45Z,2021-03-24T01:13:23Z,CLOSED,False,99,0,1,https://github.com/RickZhong8282,add new command to show LLDP neighbor info,2,[],https://github.com/openvswitch/ovs/pull/349,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/349#issuecomment-805051132,,"Thanks for submitting a patch.
Please read the instructions for writing commit messages and submitting patches in Documentation/internals/contributing/submitting-patches.rst and then submit again. It's probably better to send your patch through email, since that's the main way that OVS is developed.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,349,2021-03-22T03:42:52Z,2021-03-23T16:35:45Z,2021-03-24T01:13:23Z,CLOSED,False,99,0,1,https://github.com/RickZhong8282,add new command to show LLDP neighbor info,2,[],https://github.com/openvswitch/ovs/pull/349,https://github.com/RickZhong8282,3,https://github.com/openvswitch/ovs/pull/349#issuecomment-805396626,,Got it. Thanks for your reply.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,350,2021-03-22T16:02:32Z,2021-04-26T10:09:50Z,2021-04-26T10:09:50Z,CLOSED,False,38,3,2,https://github.com/javacruft,RFC - util: fallback when locked memory allocation fails,1,[],https://github.com/openvswitch/ovs/pull/350,https://github.com/javacruft,1,https://github.com/openvswitch/ovs/pull/350,"Normally when OVS runs on a server the effective system limit for
locked memory is unlimited as the ovs-vswitchd runs as the root
user in the root namespace of the server.
When OVS is run in a non-priviledged container a system limit will
apply and its possible that this limit will be reached during
normal operation.
If this occurs unlock all memory and re-attempt (re)allocation of
memory rather than fail and abort.
If this subsequent attempt also fails abort the process as before.
Signed-off-by: James Page james.page@ubuntu.com","Normally when OVS runs on a server the effective system limit for
locked memory is unlimited as the ovs-vswitchd runs as the root
user in the root namespace of the server.
When OVS is run in a non-priviledged container a system limit will
apply and its possible that this limit will be reached during
normal operation.
If this occurs unlock all memory and re-attempt (re)allocation of
memory rather than fail and abort.
If this subsequent attempt also fails abort the process as before.
Signed-off-by: James Page james.page@ubuntu.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,350,2021-03-22T16:02:32Z,2021-04-26T10:09:50Z,2021-04-26T10:09:50Z,CLOSED,False,38,3,2,https://github.com/javacruft,RFC - util: fallback when locked memory allocation fails,1,[],https://github.com/openvswitch/ovs/pull/350,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/350#issuecomment-805061313,"Normally when OVS runs on a server the effective system limit for
locked memory is unlimited as the ovs-vswitchd runs as the root
user in the root namespace of the server.
When OVS is run in a non-priviledged container a system limit will
apply and its possible that this limit will be reached during
normal operation.
If this occurs unlock all memory and re-attempt (re)allocation of
memory rather than fail and abort.
If this subsequent attempt also fails abort the process as before.
Signed-off-by: James Page james.page@ubuntu.com","I wonder whether it makes sense to use mlockall() at all in a case like this.
If it does, then I think that the repetitive code and #if's here should be factored out into a function. It could be used something like this:
if (retry_after_out_of_memory())
    return xmalloc(size);

Naming the function is the hardest part.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,350,2021-03-22T16:02:32Z,2021-04-26T10:09:50Z,2021-04-26T10:09:50Z,CLOSED,False,38,3,2,https://github.com/javacruft,RFC - util: fallback when locked memory allocation fails,1,[],https://github.com/openvswitch/ovs/pull/350,https://github.com/javacruft,3,https://github.com/openvswitch/ovs/pull/350#issuecomment-806463241,"Normally when OVS runs on a server the effective system limit for
locked memory is unlimited as the ovs-vswitchd runs as the root
user in the root namespace of the server.
When OVS is run in a non-priviledged container a system limit will
apply and its possible that this limit will be reached during
normal operation.
If this occurs unlock all memory and re-attempt (re)allocation of
memory rather than fail and abort.
If this subsequent attempt also fails abort the process as before.
Signed-off-by: James Page james.page@ubuntu.com",I did consider just disabling all memory locking in ovs-lib but this did not feel like the right solution - there may be sufficient resource limits for OVS to operate with memory locking successfully inside of a container.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,350,2021-03-22T16:02:32Z,2021-04-26T10:09:50Z,2021-04-26T10:09:50Z,CLOSED,False,38,3,2,https://github.com/javacruft,RFC - util: fallback when locked memory allocation fails,1,[],https://github.com/openvswitch/ovs/pull/350,https://github.com/javacruft,4,https://github.com/openvswitch/ovs/pull/350#issuecomment-806464102,"Normally when OVS runs on a server the effective system limit for
locked memory is unlimited as the ovs-vswitchd runs as the root
user in the root namespace of the server.
When OVS is run in a non-priviledged container a system limit will
apply and its possible that this limit will be reached during
normal operation.
If this occurs unlock all memory and re-attempt (re)allocation of
memory rather than fail and abort.
If this subsequent attempt also fails abort the process as before.
Signed-off-by: James Page james.page@ubuntu.com",I went with your suggestion of 'retry_after_out_of_memory' - thanks for the feedback!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,350,2021-03-22T16:02:32Z,2021-04-26T10:09:50Z,2021-04-26T10:09:50Z,CLOSED,False,38,3,2,https://github.com/javacruft,RFC - util: fallback when locked memory allocation fails,1,[],https://github.com/openvswitch/ovs/pull/350,https://github.com/blp,5,https://github.com/openvswitch/ovs/pull/350#issuecomment-807845354,"Normally when OVS runs on a server the effective system limit for
locked memory is unlimited as the ovs-vswitchd runs as the root
user in the root namespace of the server.
When OVS is run in a non-priviledged container a system limit will
apply and its possible that this limit will be reached during
normal operation.
If this occurs unlock all memory and re-attempt (re)allocation of
memory rather than fail and abort.
If this subsequent attempt also fails abort the process as before.
Signed-off-by: James Page james.page@ubuntu.com",The fallback for xrealloc() will lose the original pointer.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,350,2021-03-22T16:02:32Z,2021-04-26T10:09:50Z,2021-04-26T10:09:50Z,CLOSED,False,38,3,2,https://github.com/javacruft,RFC - util: fallback when locked memory allocation fails,1,[],https://github.com/openvswitch/ovs/pull/350,https://github.com/igsilya,6,https://github.com/openvswitch/ovs/pull/350#issuecomment-808407514,"Normally when OVS runs on a server the effective system limit for
locked memory is unlimited as the ovs-vswitchd runs as the root
user in the root namespace of the server.
When OVS is run in a non-priviledged container a system limit will
apply and its possible that this limit will be reached during
normal operation.
If this occurs unlock all memory and re-attempt (re)allocation of
memory rather than fail and abort.
If this subsequent attempt also fails abort the process as before.
Signed-off-by: James Page james.page@ubuntu.com","DPDK uses memory locking for mempool pages and it relies on these pages not being moved or unloaded, because it uses physical addresses to configure hardware NICs.  Also, some DPDK drivers are using rte_mem_lock_page() -> mlock() to lock in memory pages that are used for driver-specific device I/O.  Unlocking any of these pages will likely crash the system by NMI if such a page will be moved or swapped without notifying the device and driver.
I'd say it's much more safe to just run OVS without passing --mlockall.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,350,2021-03-22T16:02:32Z,2021-04-26T10:09:50Z,2021-04-26T10:09:50Z,CLOSED,False,38,3,2,https://github.com/javacruft,RFC - util: fallback when locked memory allocation fails,1,[],https://github.com/openvswitch/ovs/pull/350,https://github.com/blp,7,https://github.com/openvswitch/ovs/pull/350#issuecomment-808432379,"Normally when OVS runs on a server the effective system limit for
locked memory is unlimited as the ovs-vswitchd runs as the root
user in the root namespace of the server.
When OVS is run in a non-priviledged container a system limit will
apply and its possible that this limit will be reached during
normal operation.
If this occurs unlock all memory and re-attempt (re)allocation of
memory rather than fail and abort.
If this subsequent attempt also fails abort the process as before.
Signed-off-by: James Page james.page@ubuntu.com","I saw a few gaps here and opportunities for improvement, so I converted it to a 3-patch series that I posted starting here: https://mail.openvswitch.org/pipermail/ovs-dev/2021-March/381494.html. I'd appreciate feedback.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,351,2021-03-24T01:14:49Z,2021-03-26T01:22:15Z,2021-03-26T01:22:16Z,CLOSED,False,1,1,1,https://github.com/shahar-klein,debian: Add configure option to debian/rules,1,[],https://github.com/openvswitch/ovs/pull/351,https://github.com/shahar-klein,1,https://github.com/openvswitch/ovs/pull/351,"Before this fix, in order to build with jemalloc,
I had to hijack DATAPATH_CONFIGURE_OPTS:
debian/rules -e DATAPATH_CONFIGURE_OPTS=""LIBS=-ljemalloc""
Now it is possible to:
debian/rules -e EXTRA_CONFIGURE_OPTS=""LIBS=-ljemalloc""
Signed-off-by: Shahar Klein sklein@nvidia.com","Before this fix, in order to build with jemalloc,
I had to hijack DATAPATH_CONFIGURE_OPTS:
debian/rules -e DATAPATH_CONFIGURE_OPTS=""LIBS=-ljemalloc""
Now it is possible to:
debian/rules -e EXTRA_CONFIGURE_OPTS=""LIBS=-ljemalloc""
Signed-off-by: Shahar Klein sklein@nvidia.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,351,2021-03-24T01:14:49Z,2021-03-26T01:22:15Z,2021-03-26T01:22:16Z,CLOSED,False,1,1,1,https://github.com/shahar-klein,debian: Add configure option to debian/rules,1,[],https://github.com/openvswitch/ovs/pull/351,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/351#issuecomment-807859441,"Before this fix, in order to build with jemalloc,
I had to hijack DATAPATH_CONFIGURE_OPTS:
debian/rules -e DATAPATH_CONFIGURE_OPTS=""LIBS=-ljemalloc""
Now it is possible to:
debian/rules -e EXTRA_CONFIGURE_OPTS=""LIBS=-ljemalloc""
Signed-off-by: Shahar Klein sklein@nvidia.com","Thanks, applied to master.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,352,2021-03-24T10:04:18Z,,2021-03-26T01:19:34Z,OPEN,False,2,2,2,https://github.com/hunchback,make: don't prompt during build,1,[],https://github.com/openvswitch/ovs/pull/352,https://github.com/hunchback,1,https://github.com/openvswitch/ovs/pull/352,"when I rebuild code I was getting a prompt caused when the target of a move file already exists with restricted permissions. By adding the mv -f flag I eliminate the prompt.
the sequence I ran (on an ubuntu 20.0.4 host):
./boot.sh
./configure --with-linux=/lib/modules/$(uname -r)/build
make

to reproduce the issue I am addressing run:
make","when I rebuild code I was getting a prompt caused when the target of a move file already exists with restricted permissions. By adding the mv -f flag I eliminate the prompt.
the sequence I ran (on an ubuntu 20.0.4 host):
./boot.sh
./configure --with-linux=/lib/modules/$(uname -r)/build
make

to reproduce the issue I am addressing run:
make",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,352,2021-03-24T10:04:18Z,,2021-03-26T01:19:34Z,OPEN,False,2,2,2,https://github.com/hunchback,make: don't prompt during build,1,[],https://github.com/openvswitch/ovs/pull/352,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/352#issuecomment-807858060,"when I rebuild code I was getting a prompt caused when the target of a move file already exists with restricted permissions. By adding the mv -f flag I eliminate the prompt.
the sequence I ran (on an ubuntu 20.0.4 host):
./boot.sh
./configure --with-linux=/lib/modules/$(uname -r)/build
make

to reproduce the issue I am addressing run:
make",This needs a Signed-off-by (please see the patch submission documentation).,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,353,2021-03-24T14:41:49Z,2021-03-31T05:27:52Z,2021-03-31T05:27:52Z,CLOSED,False,10,0,2,https://github.com/roytman,Add a check that either the --all or records argument provided to destroy command,2,[],https://github.com/openvswitch/ovs/pull/353,https://github.com/roytman,1,https://github.com/openvswitch/ovs/pull/353,"ovn-nbctl or ovn-sbctl CLI utilities allow destroying the entire table or some records from the given table.
However, either the --all option or the deleted records should be provided.
This patch adds the test.
Signed-off-by: Alexey Roytman roytman@il.ibm.com","ovn-nbctl or ovn-sbctl CLI utilities allow destroying the entire table or some records from the given table.
However, either the --all option or the deleted records should be provided.
This patch adds the test.
Signed-off-by: Alexey Roytman roytman@il.ibm.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,353,2021-03-24T14:41:49Z,2021-03-31T05:27:52Z,2021-03-31T05:27:52Z,CLOSED,False,10,0,2,https://github.com/roytman,Add a check that either the --all or records argument provided to destroy command,2,[],https://github.com/openvswitch/ovs/pull/353,https://github.com/roytman,2,https://github.com/openvswitch/ovs/pull/353#issuecomment-809188392,"ovn-nbctl or ovn-sbctl CLI utilities allow destroying the entire table or some records from the given table.
However, either the --all option or the deleted records should be provided.
This patch adds the test.
Signed-off-by: Alexey Roytman roytman@il.ibm.com",/retest,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,353,2021-03-24T14:41:49Z,2021-03-31T05:27:52Z,2021-03-31T05:27:52Z,CLOSED,False,10,0,2,https://github.com/roytman,Add a check that either the --all or records argument provided to destroy command,2,[],https://github.com/openvswitch/ovs/pull/353,https://github.com/roytman,3,https://github.com/openvswitch/ovs/pull/353#issuecomment-810773797,"ovn-nbctl or ovn-sbctl CLI utilities allow destroying the entire table or some records from the given table.
However, either the --all option or the deleted records should be provided.
This patch adds the test.
Signed-off-by: Alexey Roytman roytman@il.ibm.com","The patch was submitted by email, so I'm closing this PR.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,354,2021-03-24T15:46:29Z,,2021-03-26T03:17:56Z,OPEN,False,20,19,1,https://github.com/hunchback,document: add missing sudo to intro install,1,[],https://github.com/openvswitch/ovs/pull/354,https://github.com/hunchback,1,https://github.com/openvswitch/ovs/pull/354,"the sequence of commands for build, install and running ovs components requires sudo statements which were missing from documentation.","the sequence of commands for build, install and running ovs components requires sudo statements which were missing from documentation.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,354,2021-03-24T15:46:29Z,,2021-03-26T03:17:56Z,OPEN,False,20,19,1,https://github.com/hunchback,document: add missing sudo to intro install,1,[],https://github.com/openvswitch/ovs/pull/354,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/354#issuecomment-807906285,"the sequence of commands for build, install and running ovs components requires sudo statements which were missing from documentation.","Thanks for the patch!
This needs a Signed-off-by, as explained in the documentation for submitting patches.
This suggests sudo for ... in one place, which won't work.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,355,2021-03-25T11:46:52Z,,2021-03-30T12:00:11Z,OPEN,False,80,46,9,https://github.com/hunchback,docker: add testing on local docker localhost:5000,1,[],https://github.com/openvswitch/ovs/pull/355,https://github.com/hunchback,1,https://github.com/openvswitch/ovs/pull/355,"I have made some modifications in the docker flow to better support running the entire sequence on a local regsitry (localhost:5000). That basic sequence has been documented  and consists:

for local test setup:

cd utilities/docker
make registry
export DOCKER_REPO=localhost:5000/ovsvswitch/ovs
make build
make push
make ovsdb-server
make ovs-vswitchd


for standard sequence (using defaults):

cd utilities/docker
make build
make push
make ovsdb-server
make ovs-vswitchd","I have made some modifications in the docker flow to better support running the entire sequence on a local regsitry (localhost:5000). That basic sequence has been documented  and consists:

for local test setup:

cd utilities/docker
make registry
export DOCKER_REPO=localhost:5000/ovsvswitch/ovs
make build
make push
make ovsdb-server
make ovs-vswitchd


for standard sequence (using defaults):

cd utilities/docker
make build
make push
make ovsdb-server
make ovs-vswitchd",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,356,2021-04-25T14:23:40Z,2021-04-26T01:02:36Z,2021-04-26T01:02:36Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",1,[],https://github.com/openvswitch/ovs/pull/356,https://github.com/bBobxx,1,https://github.com/openvswitch/ovs/pull/356,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.","desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,357,2021-04-26T01:03:04Z,2021-05-06T02:57:54Z,2021-05-06T02:57:54Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",4,[],https://github.com/openvswitch/ovs/pull/357,https://github.com/bBobxx,1,https://github.com/openvswitch/ovs/pull/357,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.","desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,357,2021-04-26T01:03:04Z,2021-05-06T02:57:54Z,2021-05-06T02:57:54Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",4,[],https://github.com/openvswitch/ovs/pull/357,https://github.com/bBobxx,2,https://github.com/openvswitch/ovs/pull/357#issuecomment-826438916,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.",Looks like BSD CI is broken.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,357,2021-04-26T01:03:04Z,2021-05-06T02:57:54Z,2021-05-06T02:57:54Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",4,[],https://github.com/openvswitch/ovs/pull/357,https://github.com/igsilya,3,https://github.com/openvswitch/ovs/pull/357#issuecomment-826734161,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.","Hi.  FreeBSD CI is ok.  It fails because your branch is 2 years old and tries to use old base image.  Please, rebase.
Also, please, provide a Sign-off for your patch.

Q: What's a Signed-off-by and how do I provide one?

    A: Free and open source software projects usually require a contributor to
    provide some assurance that they're entitled to contribute the code that
    they provide.  Some projects, for example, do this with a Contributor
    License Agreement (CLA) or a copyright assignment that is signed on paper
    or electronically.

    For this purpose, Open vSwitch has adopted something called the Developer's
    Certificate of Origin (DCO), which is also used by the Linux kernel and
    originated there.  Informally stated, agreeing to the DCO is the
    developer's way of attesting that a particular commit that they are
    contributing is one that they are allowed to contribute.  You should visit
    https://developercertificate.org/ to read the full statement of the DCO,
    which is less than 200 words long.

    To certify compliance with the Developer's Certificate of Origin for a
    particular commit, just add the following line to the end of your commit
    message, properly substituting your name and email address:

        Signed-off-by: Firstname Lastname <email@example.org>

    Git has special support for adding a Signed-off-by line to a commit
    message: when you run ""git commit"", just add the -s option, as in ""git
    commit -s"".  If you use the ""git citool"" GUI for commits, you can add a
    Signed-off-by line to the commit message by pressing Control+S.  Other Git
    user interfaces may provide similar support.


More details on different commit tags you may find in a contribution guide:
https://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/#tags",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,358,2021-04-26T10:10:15Z,,2021-04-26T11:04:58Z,OPEN,False,13,2,2,https://github.com/javacruft,utilities: disable mlockall in containers,1,[],https://github.com/openvswitch/ovs/pull/358,https://github.com/javacruft,1,https://github.com/openvswitch/ovs/pull/358,"When OVS is run in a non-priviledged container a system limit will
apply and its possible that this limit will be reached during
normal operation.
To avoid this situation disable all memory locking when OVS is
executed within a container.
Signed-off-by: James Page james.page@ubuntu.com","When OVS is run in a non-priviledged container a system limit will
apply and its possible that this limit will be reached during
normal operation.
To avoid this situation disable all memory locking when OVS is
executed within a container.
Signed-off-by: James Page james.page@ubuntu.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,358,2021-04-26T10:10:15Z,,2021-04-26T11:04:58Z,OPEN,False,13,2,2,https://github.com/javacruft,utilities: disable mlockall in containers,1,[],https://github.com/openvswitch/ovs/pull/358,https://github.com/igsilya,2,https://github.com/openvswitch/ovs/pull/358#issuecomment-826745122,"When OVS is run in a non-priviledged container a system limit will
apply and its possible that this limit will be reached during
normal operation.
To avoid this situation disable all memory locking when OVS is
executed within a container.
Signed-off-by: James Page james.page@ubuntu.com","Hi.
IIUC, after this change it will be not possible to use memory locking inside the container even if user wants to, e.g. if it's a privileged container or if user configured big enough limits.  Shouldn't it be a users' decision to lock or not to lock the memory?  There is an option --no-mlockall for that in ovs-ctl script.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,359,2021-05-06T03:16:34Z,2021-05-06T03:39:49Z,2021-05-06T03:39:49Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",1,[],https://github.com/openvswitch/ovs/pull/359,https://github.com/bBobxx,1,https://github.com/openvswitch/ovs/pull/359,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com","desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,360,2021-05-06T03:40:40Z,2021-05-14T19:25:44Z,2021-05-14T19:25:44Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",1,[],https://github.com/openvswitch/ovs/pull/360,https://github.com/bBobxx,1,https://github.com/openvswitch/ovs/pull/360,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com","desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,360,2021-05-06T03:40:40Z,2021-05-14T19:25:44Z,2021-05-14T19:25:44Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",1,[],https://github.com/openvswitch/ovs/pull/360,https://github.com/bBobxx,2,https://github.com/openvswitch/ovs/pull/360#issuecomment-833203859,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com","Why my CI fails, I'm using a new fork repo to make this pull request.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,360,2021-05-06T03:40:40Z,2021-05-14T19:25:44Z,2021-05-14T19:25:44Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",1,[],https://github.com/openvswitch/ovs/pull/360,https://github.com/igsilya,3,https://github.com/openvswitch/ovs/pull/360#issuecomment-833524417,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com","Why my CI fails, I'm using a new fork repo to make this pull request.

At the time of a previous pull request there was no issues in FreeBSD CI.  But now there is one.  I sent a patch to fix it: https://mail.openvswitch.org/pipermail/ovs-dev/2021-May/382702.html .",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,360,2021-05-06T03:40:40Z,2021-05-14T19:25:44Z,2021-05-14T19:25:44Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",1,[],https://github.com/openvswitch/ovs/pull/360,https://github.com/bBobxx,4,https://github.com/openvswitch/ovs/pull/360#issuecomment-833558048,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com","Why my CI fails, I'm using a new fork repo to make this pull request.

At the time of a previous pull request there was no issues in FreeBSD CI. But now there is one. I sent a patch to fix it: https://mail.openvswitch.org/pipermail/ovs-dev/2021-May/382702.html .

Thanks for your reply. By the way, does my patch meet the merge requirements?",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,360,2021-05-06T03:40:40Z,2021-05-14T19:25:44Z,2021-05-14T19:25:44Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",1,[],https://github.com/openvswitch/ovs/pull/360,https://github.com/igsilya,5,https://github.com/openvswitch/ovs/pull/360#issuecomment-833598290,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com","It's OK in general.  One thing is that commit Author field doesn't match with the Signed-off-by tag.  They should be the same.
$ git show 785f42ee8
commit 785f42ee8ae7e75d8f4b46eb61ec35d1005c7068
Author:     w00574186 <wangyibo***.com>
AuthorDate: Thu May 6 11:14:07 2021 +0800

    desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
    coredump is generated. The main reason is that the command ""ovs-ofctl
    add-groups"" need two arguments but the limitation of min-args of this
    command is set to 1.
    
    Signed-off-by: Wang Yibo <bobxxwang***.com>

And a few nitpicks: Commit itself has no subject line, so it doesn't look pretty in the output of git log --oneline.  There should be a short subject line, empty line, and the rest of a description after that.  It's also a good idea to include a Fixes tag to the commit message to point to the commit that introduced the issue.  So, in the end, to be perfect, commit message should like something like this:
$ git show 785f42ee8
commit 785f42ee8ae7e75d8f4b46eb61ec35d1005c7068
Author: Wang Yibo <bobxxwang***.com>
Date:   Thu May 6 11:14:07 2021 +0800

    ovs-ofctl: Fix coredump when using ""add-groups"" command.
    
    When using ovs-ofctl add-groups with only ""switch"" argument, a coredump
    is generated.  The main reason is that the command ""ovs-ofctl add-groups""
    need two arguments but the limitation of min-args of this command is
    set to 1.
    
    Fixes: 7395c05254df (""Implement OpenFlow 1.1+ ""groups"" protocol."")
    Signed-off-by: Wang Yibo <bobxxwang***.com>",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,360,2021-05-06T03:40:40Z,2021-05-14T19:25:44Z,2021-05-14T19:25:44Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",1,[],https://github.com/openvswitch/ovs/pull/360,https://github.com/bBobxx,6,https://github.com/openvswitch/ovs/pull/360#issuecomment-833987818,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com","OK, modified as required.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,360,2021-05-06T03:40:40Z,2021-05-14T19:25:44Z,2021-05-14T19:25:44Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",1,[],https://github.com/openvswitch/ovs/pull/360,https://github.com/igsilya,7,https://github.com/openvswitch/ovs/pull/360#issuecomment-834648925,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com","OK, modified as required.

Thanks! I'll get back to this patch once CI is fixed.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,360,2021-05-06T03:40:40Z,2021-05-14T19:25:44Z,2021-05-14T19:25:44Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",1,[],https://github.com/openvswitch/ovs/pull/360,https://github.com/igsilya,8,https://github.com/openvswitch/ovs/pull/360#issuecomment-838960191,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com","Ci should be fixed now.  If you'll rebase one more time on the latest master, all tests should pass.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,360,2021-05-06T03:40:40Z,2021-05-14T19:25:44Z,2021-05-14T19:25:44Z,CLOSED,False,1,1,1,https://github.com/bBobxx,"fix coredump when using ""ovs-ofctl add-groups""",1,[],https://github.com/openvswitch/ovs/pull/360,https://github.com/igsilya,9,https://github.com/openvswitch/ovs/pull/360#issuecomment-841455248,"desc: When using ovs-ofctl add-groups with only ""switch"" argument, a
coredump is generated. The main reason is that the command ""ovs-ofctl
add-groups"" need two arguments but the limitation of min-args of this
command is set to 1.
Signed-off-by: Wang Yibo bobxxwang@126.com","Applied as commit f173527 and backported down to 2.12.
Thanks!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,361,2021-05-21T08:53:14Z,2021-05-24T11:43:17Z,2021-05-24T11:43:17Z,CLOSED,False,1,1,1,https://github.com/MiterV1,[PATCH] dpif-netdev.c : Fix indentation.,1,[],https://github.com/openvswitch/ovs/pull/361,https://github.com/MiterV1,1,https://github.com/openvswitch/ovs/pull/361,"Add extra space to fix indentation.
Signed-off-by: miter linhuang@ruijie.com.cn","Add extra space to fix indentation.
Signed-off-by: miter linhuang@ruijie.com.cn",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,361,2021-05-21T08:53:14Z,2021-05-24T11:43:17Z,2021-05-24T11:43:17Z,CLOSED,False,1,1,1,https://github.com/MiterV1,[PATCH] dpif-netdev.c : Fix indentation.,1,[],https://github.com/openvswitch/ovs/pull/361,https://github.com/igsilya,2,https://github.com/openvswitch/ovs/pull/361#issuecomment-846987053,"Add extra space to fix indentation.
Signed-off-by: miter linhuang@ruijie.com.cn",Indentation is correct here.  See reply on the mail list: https://mail.openvswitch.org/pipermail/ovs-dev/2021-May/383282.html,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,362,2021-06-15T10:48:22Z,2021-07-21T16:06:07Z,2021-07-21T16:06:07Z,CLOSED,False,17,0,1,https://github.com/aserdean,[WIP] datapath-windows: Specify include paths,1,[],https://github.com/openvswitch/ovs/pull/362,https://github.com/aserdean,1,https://github.com/openvswitch/ovs/pull/362,"Will post patch on patchwork after a successful build
Fixes appveyor build.
Signed-off-by: Alin Gabriel Serdean aserdean@ovn.org","Will post patch on patchwork after a successful build
Fixes appveyor build.
Signed-off-by: Alin Gabriel Serdean aserdean@ovn.org",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,363,2021-07-15T03:37:05Z,2021-07-15T18:48:05Z,2021-07-15T18:51:58Z,CLOSED,False,1997,12,21,https://github.com/kumaramber,test-mfex,1,[],https://github.com/openvswitch/ovs/pull/363,https://github.com/kumaramber,1,https://github.com/openvswitch/ovs/pull/363,Signed-off-by: Kumar Amber kumar.amber@intel.com,Signed-off-by: Kumar Amber kumar.amber@intel.com,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,363,2021-07-15T03:37:05Z,2021-07-15T18:48:05Z,2021-07-15T18:51:58Z,CLOSED,False,1997,12,21,https://github.com/kumaramber,test-mfex,1,[],https://github.com/openvswitch/ovs/pull/363,https://github.com/blp,2,https://github.com/openvswitch/ovs/pull/363#issuecomment-880931834,Signed-off-by: Kumar Amber kumar.amber@intel.com,"If you meant to submit this, then please resubmit with a real commit message. Thanks!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,363,2021-07-15T03:37:05Z,2021-07-15T18:48:05Z,2021-07-15T18:51:58Z,CLOSED,False,1997,12,21,https://github.com/kumaramber,test-mfex,1,[],https://github.com/openvswitch/ovs/pull/363,https://github.com/istokes,3,https://github.com/openvswitch/ovs/pull/363#issuecomment-880934102,Signed-off-by: Kumar Amber kumar.amber@intel.com,"Hi Ben,

Apologies for this, I think this was one of our engineers experimenting with testing github actions on the mfex patch series.

I’ve been running the tests on my own branch. Thanks for closing.

Thanks
Ian

From: Ben Pfaff ***@***.***>
Sent: Thursday, July 15, 2021 7:48 PM
To: openvswitch/ovs ***@***.***>
Cc: Subscribed ***@***.***>
Subject: Re: [openvswitch/ovs] test-mfex (#363)


If you meant to submit this, then please resubmit with a real commit message. Thanks!

—
You are receiving this because you are subscribed to this thread.
Reply to this email directly, view it on GitHub<#363 (comment)>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/ACMDYEJ4T3O7G7XXHDMMRDLTX4UPRANCNFSM5AMVWKDQ>.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,364,2021-08-08T21:06:40Z,2021-08-09T17:42:10Z,2021-08-09T17:42:10Z,CLOSED,False,62,13,4,https://github.com/miguelbf-alb,openflow: allow to configure ofp_desc fields on bridge other_config,1,[],https://github.com/openvswitch/ovs/pull/364,https://github.com/miguelbf-alb,1,https://github.com/openvswitch/ovs/pull/364,"Description
This pull request allows the user to configure the missing (currently static/forced) fields returned by the switch as a part of reply to a OFPMP_DESC request (ofp_desc), namely:

mfr_desc: Manufacturer description (currently always Nicira, Inc.)
hw_desc: Hardware description (currently always ""Open vSwitch"")
sw_desc: Software description (currently always the version of OVS)

on the other-config of the Bridge table.
serial_desc and dp_desc were already available, so I decided to group all of them on a single function (bridge_configure_ofp_desc) for the sake of simplicity.
Motivation
SDN controllers such as ONOS make use of the information provided from the switch in the reply to OFPMP_DESC to load SDN controller drivers that define and control the pipeline (i.e. the sequence of tables and what match fields/actions are available in certain tables). Most of these drivers (if not all) are compatible with openvswitch. Some of them, for instance ofdpa-ovs are even designed to emulate physical pipelines (ofdpa) on top of the OVS dataplane.
It'd be nice that we could configure those fields so that the appropriate driver is loaded automatically when ovs attempts to connect to the controller.
Tests
This was runtime tested using the latest ONOS version. In OVS the following commands were executed:
ovs-vsctl add-br br0
ovs-vsctl set bridge br0 other_config:mfr-desc=ONF
ovs-vsctl set bridge br0 other_config:hw-desc=""OFDPA OVS""
ovs-vsctl set bridge br0 other_config:sw-desc=""OFDPA OVS""
ovs-vsctl set-controller br0 tcp:xxx.xxx.xxx.xxx:6633

The controller automatically loaded the ovs-ofdpa driver instead of the default one.
Please kindly provide feedback
Regards","Description
This pull request allows the user to configure the missing (currently static/forced) fields returned by the switch as a part of reply to a OFPMP_DESC request (ofp_desc), namely:

mfr_desc: Manufacturer description (currently always Nicira, Inc.)
hw_desc: Hardware description (currently always ""Open vSwitch"")
sw_desc: Software description (currently always the version of OVS)

on the other-config of the Bridge table.
serial_desc and dp_desc were already available, so I decided to group all of them on a single function (bridge_configure_ofp_desc) for the sake of simplicity.
Motivation
SDN controllers such as ONOS make use of the information provided from the switch in the reply to OFPMP_DESC to load SDN controller drivers that define and control the pipeline (i.e. the sequence of tables and what match fields/actions are available in certain tables). Most of these drivers (if not all) are compatible with openvswitch. Some of them, for instance ofdpa-ovs are even designed to emulate physical pipelines (ofdpa) on top of the OVS dataplane.
It'd be nice that we could configure those fields so that the appropriate driver is loaded automatically when ovs attempts to connect to the controller.
Tests
This was runtime tested using the latest ONOS version. In OVS the following commands were executed:
ovs-vsctl add-br br0
ovs-vsctl set bridge br0 other_config:mfr-desc=ONF
ovs-vsctl set bridge br0 other_config:hw-desc=""OFDPA OVS""
ovs-vsctl set bridge br0 other_config:sw-desc=""OFDPA OVS""
ovs-vsctl set-controller br0 tcp:xxx.xxx.xxx.xxx:6633

The controller automatically loaded the ovs-ofdpa driver instead of the default one.
Please kindly provide feedback
Regards",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,364,2021-08-08T21:06:40Z,2021-08-09T17:42:10Z,2021-08-09T17:42:10Z,CLOSED,False,62,13,4,https://github.com/miguelbf-alb,openflow: allow to configure ofp_desc fields on bridge other_config,1,[],https://github.com/openvswitch/ovs/pull/364,https://github.com/miguelbf-alb,2,https://github.com/openvswitch/ovs/pull/364#issuecomment-895413083,"Description
This pull request allows the user to configure the missing (currently static/forced) fields returned by the switch as a part of reply to a OFPMP_DESC request (ofp_desc), namely:

mfr_desc: Manufacturer description (currently always Nicira, Inc.)
hw_desc: Hardware description (currently always ""Open vSwitch"")
sw_desc: Software description (currently always the version of OVS)

on the other-config of the Bridge table.
serial_desc and dp_desc were already available, so I decided to group all of them on a single function (bridge_configure_ofp_desc) for the sake of simplicity.
Motivation
SDN controllers such as ONOS make use of the information provided from the switch in the reply to OFPMP_DESC to load SDN controller drivers that define and control the pipeline (i.e. the sequence of tables and what match fields/actions are available in certain tables). Most of these drivers (if not all) are compatible with openvswitch. Some of them, for instance ofdpa-ovs are even designed to emulate physical pipelines (ofdpa) on top of the OVS dataplane.
It'd be nice that we could configure those fields so that the appropriate driver is loaded automatically when ovs attempts to connect to the controller.
Tests
This was runtime tested using the latest ONOS version. In OVS the following commands were executed:
ovs-vsctl add-br br0
ovs-vsctl set bridge br0 other_config:mfr-desc=ONF
ovs-vsctl set bridge br0 other_config:hw-desc=""OFDPA OVS""
ovs-vsctl set bridge br0 other_config:sw-desc=""OFDPA OVS""
ovs-vsctl set-controller br0 tcp:xxx.xxx.xxx.xxx:6633

The controller automatically loaded the ovs-ofdpa driver instead of the default one.
Please kindly provide feedback
Regards",Sent to the mailing list in https://mail.openvswitch.org/pipermail/ovs-dev/2021-August/386588.html,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,365,2021-08-11T11:40:22Z,2021-10-20T11:42:56Z,2021-12-06T05:53:59Z,CLOSED,False,1,1,1,https://github.com/chengrcli,correct macro name,1,[],https://github.com/openvswitch/ovs/pull/365,https://github.com/chengrcli,1,https://github.com/openvswitch/ovs/pull/365,fix macro name from VLXAN_GPE_FLAGS_P to VXLAN_GPE_FLAGS_P,fix macro name from VLXAN_GPE_FLAGS_P to VXLAN_GPE_FLAGS_P,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,365,2021-08-11T11:40:22Z,2021-10-20T11:42:56Z,2021-12-06T05:53:59Z,CLOSED,False,1,1,1,https://github.com/chengrcli,correct macro name,1,[],https://github.com/openvswitch/ovs/pull/365,https://github.com/aserdean,2,https://github.com/openvswitch/ovs/pull/365#issuecomment-947584121,fix macro name from VLXAN_GPE_FLAGS_P to VXLAN_GPE_FLAGS_P,Fixed with commit: b12242e,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,366,2021-08-23T01:59:42Z,,2021-08-23T01:59:42Z,OPEN,False,4,1,1,https://github.com/ruishawn,Fix: Update control file for debian package.,1,[],https://github.com/openvswitch/ovs/pull/366,https://github.com/ruishawn,1,https://github.com/openvswitch/ovs/pull/366,"When make debian packages there are some lintian errors.Update Build-depends and Depends to fix folling errors:
E: openvswitch source: missing-build-dependency-for-dh-addon python3 => dh-python
E: openvswitch-ipsec: init.d-script-needs-depends-on-lsb-base etc/init.d/openvswitch-ipsec (line 42)
E: openvswitch-testcontroller: init.d-script-needs-depends-on-lsb-base etc/init.d/openvswitch-testcontroller (line 45)","When make debian packages there are some lintian errors.Update Build-depends and Depends to fix folling errors:
E: openvswitch source: missing-build-dependency-for-dh-addon python3 => dh-python
E: openvswitch-ipsec: init.d-script-needs-depends-on-lsb-base etc/init.d/openvswitch-ipsec (line 42)
E: openvswitch-testcontroller: init.d-script-needs-depends-on-lsb-base etc/init.d/openvswitch-testcontroller (line 45)",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,367,2021-09-21T10:55:06Z,,2021-09-21T10:55:06Z,OPEN,False,16,1,2,https://github.com/martinpattara,With include,4,[],https://github.com/openvswitch/ovs/pull/367,https://github.com/martinpattara,1,https://github.com/openvswitch/ovs/pull/367,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,368,2021-09-22T17:05:06Z,,2021-10-07T11:36:18Z,OPEN,False,165,1,6,https://github.com/fw2568,Windows build in github action,7,[],https://github.com/openvswitch/ovs/pull/368,https://github.com/fw2568,1,https://github.com/openvswitch/ovs/pull/368,"This PR adds a github action to build ovs for windows.
As discussed in openvswitch/ovs-issues#209 use is currently limited as tests cannot be run for windows for a PR and PR requests are not the primary workflow to submit changes to ovs.","This PR adds a github action to build ovs for windows.
As discussed in openvswitch/ovs-issues#209 use is currently limited as tests cannot be run for windows for a PR and PR requests are not the primary workflow to submit changes to ovs.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,368,2021-09-22T17:05:06Z,,2021-10-07T11:36:18Z,OPEN,False,165,1,6,https://github.com/fw2568,Windows build in github action,7,[],https://github.com/openvswitch/ovs/pull/368,https://github.com/aserdean,2,https://github.com/openvswitch/ovs/pull/368#issuecomment-937708649,"This PR adds a github action to build ovs for windows.
As discussed in openvswitch/ovs-issues#209 use is currently limited as tests cannot be run for windows for a PR and PR requests are not the primary workflow to submit changes to ovs.","Thank you for the PR @fw2568.
Can you please squash all the commits and add a Signed-off-by line?
For clarification why is that needed please refer to: https://docs.openvswitch.org/en/latest/internals/contributing/submitting-patches/#developer-s-certificate-of-origin",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,369,2021-09-29T07:38:55Z,,2021-10-08T01:57:58Z,OPEN,False,51,0,1,https://github.com/bBobxx,Providing a method for recording specific types of openflow packets on reveiving and sending stage.,1,[],https://github.com/openvswitch/ovs/pull/369,https://github.com/bBobxx,1,https://github.com/openvswitch/ovs/pull/369,"Details about the received and sent OpenFlow protocol packets are recorded only when the debug mode is enabled. However, for certain types, such as OFPTYPE_FLOW_MOD, OFPTYPE_GROUP_MOD, OFPTYPE_ROLE_REPLY, OFPTYPE_BARRIER_REPLY, you need to record the details of each time. This patch provides a method for recording specific types of packets. This method can be used not only to print logs, but also to collect statistics, improving maintainability.
Signed-off-by: Wang Yibo bobxxwang@126.com","Details about the received and sent OpenFlow protocol packets are recorded only when the debug mode is enabled. However, for certain types, such as OFPTYPE_FLOW_MOD, OFPTYPE_GROUP_MOD, OFPTYPE_ROLE_REPLY, OFPTYPE_BARRIER_REPLY, you need to record the details of each time. This patch provides a method for recording specific types of packets. This method can be used not only to print logs, but also to collect statistics, improving maintainability.
Signed-off-by: Wang Yibo bobxxwang@126.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,369,2021-09-29T07:38:55Z,,2021-10-08T01:57:58Z,OPEN,False,51,0,1,https://github.com/bBobxx,Providing a method for recording specific types of openflow packets on reveiving and sending stage.,1,[],https://github.com/openvswitch/ovs/pull/369,https://github.com/bBobxx,2,https://github.com/openvswitch/ovs/pull/369#issuecomment-938270081,"Details about the received and sent OpenFlow protocol packets are recorded only when the debug mode is enabled. However, for certain types, such as OFPTYPE_FLOW_MOD, OFPTYPE_GROUP_MOD, OFPTYPE_ROLE_REPLY, OFPTYPE_BARRIER_REPLY, you need to record the details of each time. This patch provides a method for recording specific types of packets. This method can be used not only to print logs, but also to collect statistics, improving maintainability.
Signed-off-by: Wang Yibo bobxxwang@126.com",Maybe consider adding some maintainability.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,370,2021-10-07T00:06:38Z,2021-10-07T02:59:08Z,2021-10-07T02:59:08Z,CLOSED,False,39,1,2,https://github.com/aserdean,Fix appveyor build,1,[],https://github.com/openvswitch/ovs/pull/370,https://github.com/aserdean,1,https://github.com/openvswitch/ovs/pull/370,Signed-off-by: Alin-Gabriel Serdean aserdean@ovn.org,Signed-off-by: Alin-Gabriel Serdean aserdean@ovn.org,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,371,2021-10-15T00:19:41Z,,2021-10-15T00:19:41Z,OPEN,False,61,28,1,https://github.com/clwluvw,ovsdb-server: add inactivity probe arg to ovsdb server,1,[],https://github.com/openvswitch/ovs/pull/371,https://github.com/clwluvw,1,https://github.com/openvswitch/ovs/pull/371,"This can help to set inactivity probe for remotes initialized with --remote option in ovsdb-server args
Signed-off-by: Seena Fallah seenafallah@gmail.com","This can help to set inactivity probe for remotes initialized with --remote option in ovsdb-server args
Signed-off-by: Seena Fallah seenafallah@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,372,2021-10-22T14:14:12Z,2021-12-22T22:06:52Z,2021-12-22T22:06:52Z,CLOSED,False,35396,22,150,https://github.com/n-sandeep,Initial Code for P4 Support added to OVS,7,[],https://github.com/openvswitch/ovs/pull/372,https://github.com/n-sandeep,1,https://github.com/openvswitch/ovs/pull/372,"Enabled P4Runtime interface and added ovs-p4ctl utility for command-line
Enabled Openconfig interface and added gnmi-cli utility for command-line
Integrates Stratum P4Runtime Code
submodules stratum - https://github.com/stratum/stratum)
submodules p4runtime - https://github.com/p4lang/p4runtime
Integrates with TDI P4DPDK Backend (https://github.com/p4lang/p4-dpdk-target)
Supports Tofino target backend. (More details in documentation)
Contains OVS-WITH-P4-BUILD-README and other other documentation to build OVS
with P4.
OVS with P4 Container Dockerfile and Scripts.
Preliminary integration code for Linux kernel interface switchlink, switchsai,
switchapi
Submodules SAI - https://github.com/opencomputeproject/SAI
Preliminary code for ovs-vsctl port mapping

Signed-off-by: n-sandeep sandeep.nagapattinam@intel.com","Enabled P4Runtime interface and added ovs-p4ctl utility for command-line
Enabled Openconfig interface and added gnmi-cli utility for command-line
Integrates Stratum P4Runtime Code
submodules stratum - https://github.com/stratum/stratum)
submodules p4runtime - https://github.com/p4lang/p4runtime
Integrates with TDI P4DPDK Backend (https://github.com/p4lang/p4-dpdk-target)
Supports Tofino target backend. (More details in documentation)
Contains OVS-WITH-P4-BUILD-README and other other documentation to build OVS
with P4.
OVS with P4 Container Dockerfile and Scripts.
Preliminary integration code for Linux kernel interface switchlink, switchsai,
switchapi
Submodules SAI - https://github.com/opencomputeproject/SAI
Preliminary code for ovs-vsctl port mapping

Signed-off-by: n-sandeep sandeep.nagapattinam@intel.com",True,"{'HOORAY': ['https://github.com/stolsma', 'https://github.com/msbaz2013']}"
openvswitch/ovs,https://github.com/openvswitch/ovs,372,2021-10-22T14:14:12Z,2021-12-22T22:06:52Z,2021-12-22T22:06:52Z,CLOSED,False,35396,22,150,https://github.com/n-sandeep,Initial Code for P4 Support added to OVS,7,[],https://github.com/openvswitch/ovs/pull/372,https://github.com/igsilya,2,https://github.com/openvswitch/ovs/pull/372#issuecomment-951766631,"Enabled P4Runtime interface and added ovs-p4ctl utility for command-line
Enabled Openconfig interface and added gnmi-cli utility for command-line
Integrates Stratum P4Runtime Code
submodules stratum - https://github.com/stratum/stratum)
submodules p4runtime - https://github.com/p4lang/p4runtime
Integrates with TDI P4DPDK Backend (https://github.com/p4lang/p4-dpdk-target)
Supports Tofino target backend. (More details in documentation)
Contains OVS-WITH-P4-BUILD-README and other other documentation to build OVS
with P4.
OVS with P4 Container Dockerfile and Scripts.
Preliminary integration code for Linux kernel interface switchlink, switchsai,
switchapi
Submodules SAI - https://github.com/opencomputeproject/SAI
Preliminary code for ovs-vsctl port mapping

Signed-off-by: n-sandeep sandeep.nagapattinam@intel.com","Hi.  Thanks for working on this!  That is indeed an interesting thing to work on.
This patch seems to miss a few key parts that are essential for understanding what is actually implemented here and how to review this code:

Architecture level documentation that would describe what are the new components, how they work together and how they are integrated with the rest of OVS.
User-guide documentation that would describe steps on how to setup the solution and configure some basic switching between a couple of network devices (virtual devices, if possible), so reviewers can try it out. This is especially important for those who have never used P4 and related projects before, which I believe is the vast majority of OVS developers/users, myself included.

My suggestion is to send an RFC to ovs-dev@openvswitch.org mail-list with above two things and a link to the code in order to hit a wider audience and start a discussion.
Thanks!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,372,2021-10-22T14:14:12Z,2021-12-22T22:06:52Z,2021-12-22T22:06:52Z,CLOSED,False,35396,22,150,https://github.com/n-sandeep,Initial Code for P4 Support added to OVS,7,[],https://github.com/openvswitch/ovs/pull/372,https://github.com/igsilya,3,https://github.com/openvswitch/ovs/pull/372#issuecomment-999908961,"Enabled P4Runtime interface and added ovs-p4ctl utility for command-line
Enabled Openconfig interface and added gnmi-cli utility for command-line
Integrates Stratum P4Runtime Code
submodules stratum - https://github.com/stratum/stratum)
submodules p4runtime - https://github.com/p4lang/p4runtime
Integrates with TDI P4DPDK Backend (https://github.com/p4lang/p4-dpdk-target)
Supports Tofino target backend. (More details in documentation)
Contains OVS-WITH-P4-BUILD-README and other other documentation to build OVS
with P4.
OVS with P4 Container Dockerfile and Scripts.
Preliminary integration code for Linux kernel interface switchlink, switchsai,
switchapi
Submodules SAI - https://github.com/opencomputeproject/SAI
Preliminary code for ovs-vsctl port mapping

Signed-off-by: n-sandeep sandeep.nagapattinam@intel.com",Due to lack of responses closing this pull request so it will no longer bug me and others or trigger CI every time something pushed to the branch.  Feel free to re-open once RFC with high-level documentation (see #372 (comment)) is posted to the mailing list.,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,373,2021-11-22T03:04:38Z,,2021-11-22T03:40:14Z,OPEN,False,803,16,21,https://github.com/martinpattara,Encap & Decap actions for MPLS packet type.,1,[],https://github.com/openvswitch/ovs/pull/373,https://github.com/martinpattara,1,https://github.com/openvswitch/ovs/pull/373,"The encap & decap actions are extended to support MPLS packet type.
Encap & decap actions adds and removes MPLS header at start of the
packet.
The existing PUSH MPLS & POP MPLS actions inserts & removes MPLS
header between ethernet header and the IP header. Though this behaviour
is fine for L3 VPN where an IP packet is encapsulated inside a MPLS
tunnel, it does not suffice the L2 VPN requirements. In L2 VPN the
ethernet packets must be encapsulated inside MPLS tunnel.
In this change the encap & decap actions are extended to support MPLS
packet type. The encap & decap adds and removes MPLS header at the
start of packet as depicted below.
Encapsulation:
Actions - encap(mpls(ether_type=0x8847)),encap(ethernet)
Incoming packet -> | ETH | IP | Payload |
1 Actions -  encap(mpls(ether_type=0x8847)) [Datapath action - ADD_MPLS:0x8847]
    Outgoing packet -> | MPLS | ETH | Payload|

2 Actions - encap(ethernet) [ Datapath action - push_eth ]
    Outgoing packet -> | ETH | MPLS | ETH | Payload|

Decapsulation:
Incoming packet -> | ETH | MPLS | ETH | IP | Payload |
Actions - decap(),decap(packet_type(ns=0,type=0)
1 Actions -  decap() [Datapath action - pop_eth)
    Outgoing packet -> | MPLS | ETH | IP | Payload|

2 Actions - decap(packet_type(ns=0,type=0) [Datapath action - POP_MPLS:0x6558]
    Outgoing packet -> | ETH  | IP | Payload|

Signed-off-by: Martin Varghese martin.varghese@nokia.com","The encap & decap actions are extended to support MPLS packet type.
Encap & decap actions adds and removes MPLS header at start of the
packet.
The existing PUSH MPLS & POP MPLS actions inserts & removes MPLS
header between ethernet header and the IP header. Though this behaviour
is fine for L3 VPN where an IP packet is encapsulated inside a MPLS
tunnel, it does not suffice the L2 VPN requirements. In L2 VPN the
ethernet packets must be encapsulated inside MPLS tunnel.
In this change the encap & decap actions are extended to support MPLS
packet type. The encap & decap adds and removes MPLS header at the
start of packet as depicted below.
Encapsulation:
Actions - encap(mpls(ether_type=0x8847)),encap(ethernet)
Incoming packet -> | ETH | IP | Payload |
1 Actions -  encap(mpls(ether_type=0x8847)) [Datapath action - ADD_MPLS:0x8847]
    Outgoing packet -> | MPLS | ETH | Payload|

2 Actions - encap(ethernet) [ Datapath action - push_eth ]
    Outgoing packet -> | ETH | MPLS | ETH | Payload|

Decapsulation:
Incoming packet -> | ETH | MPLS | ETH | IP | Payload |
Actions - decap(),decap(packet_type(ns=0,type=0)
1 Actions -  decap() [Datapath action - pop_eth)
    Outgoing packet -> | MPLS | ETH | IP | Payload|

2 Actions - decap(packet_type(ns=0,type=0) [Datapath action - POP_MPLS:0x6558]
    Outgoing packet -> | ETH  | IP | Payload|

Signed-off-by: Martin Varghese martin.varghese@nokia.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,374,2021-11-25T09:23:18Z,2021-11-30T09:04:54Z,2021-11-30T09:04:54Z,CLOSED,False,19,1,1,https://github.com/Irelian,action: fix crash when set ipv6 addr,1,[],https://github.com/openvswitch/ovs/pull/374,https://github.com/Irelian,1,https://github.com/openvswitch/ovs/pull/374,"When we set ipv6 addr, we need to recalculate checksum of L4 header.
In our testcase, after send ipv6 fragment package, KASAN detect use after free when calling function update_ipv6_checksum, and crash occurred after a while.
If ipv6 package is fragment, and it is not first seg, we should not recalculate checksum of L4 header since this kind of package has no L4 header.
So,  we set ""recalc_csum"" ""false"" when calling function set_ipv6_addr to prevent crash.
We also find that function skb_ensure_writable helpful before calling inet_proto_csum_replace16 to recalculate checksum.","When we set ipv6 addr, we need to recalculate checksum of L4 header.
In our testcase, after send ipv6 fragment package, KASAN detect use after free when calling function update_ipv6_checksum, and crash occurred after a while.
If ipv6 package is fragment, and it is not first seg, we should not recalculate checksum of L4 header since this kind of package has no L4 header.
So,  we set ""recalc_csum"" ""false"" when calling function set_ipv6_addr to prevent crash.
We also find that function skb_ensure_writable helpful before calling inet_proto_csum_replace16 to recalculate checksum.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,375,2021-12-27T17:51:35Z,2021-12-27T17:52:02Z,2021-12-27T17:52:10Z,CLOSED,False,0,500,1,https://github.com/TomasMaggi,this is my commit,1,[],https://github.com/openvswitch/ovs/pull/375,https://github.com/TomasMaggi,1,https://github.com/openvswitch/ovs/pull/375,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,376,2021-12-28T10:34:26Z,,2021-12-28T10:34:26Z,OPEN,False,2,2,2,https://github.com/jshen28,Fix some typos,1,[],https://github.com/openvswitch/ovs/pull/376,https://github.com/jshen28,1,https://github.com/openvswitch/ovs/pull/376,Signed-off-by: shenjiatong yshxxsjt715@gmail.com,Signed-off-by: shenjiatong yshxxsjt715@gmail.com,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,377,2022-01-05T12:24:08Z,,2022-01-05T12:36:12Z,OPEN,False,1,0,1,https://github.com/Grim-lock,ignore l4_hash when recv form LOCAL port,2,[],https://github.com/openvswitch/ovs/pull/377,https://github.com/Grim-lock,1,https://github.com/openvswitch/ovs/pull/377,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,377,2022-01-05T12:24:08Z,,2022-01-05T12:36:12Z,OPEN,False,1,0,1,https://github.com/Grim-lock,ignore l4_hash when recv form LOCAL port,2,[],https://github.com/openvswitch/ovs/pull/377,https://github.com/Grim-lock,2,https://github.com/openvswitch/ovs/pull/377#issuecomment-1005648720,,"ovs recv tcp stream form LOCAL port, linux call skb_set_hash_from_sk to set skb->hash and skb->l4_hash, ovs use skb->hash to select group bucket.
but when tcp retransmission occurs，linux call sk_rethink_txhash to rehash skb->hash of retransmission packet, so the retransmission packet will select a different bucket than the original package.
ovs should ignore l4_hash，and call __skb_get_hash to get hash",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,378,2022-01-20T22:29:33Z,2022-01-20T22:31:03Z,2022-01-20T22:31:03Z,CLOSED,False,35505,22,151,https://github.com/nupuruttarwar,Fix compilation error due to new file added,13,[],https://github.com/openvswitch/ovs/pull/378,https://github.com/nupuruttarwar,1,https://github.com/openvswitch/ovs/pull/378,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,378,2022-01-20T22:29:33Z,2022-01-20T22:31:03Z,2022-01-20T22:31:03Z,CLOSED,False,35505,22,151,https://github.com/nupuruttarwar,Fix compilation error due to new file added,13,[],https://github.com/openvswitch/ovs/pull/378,https://github.com/nupuruttarwar,2,https://github.com/openvswitch/ovs/pull/378#issuecomment-1017984454,,Pushed a wrong pull request,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,379,2022-01-21T02:54:52Z,,2022-01-21T18:04:32Z,OPEN,False,5,0,1,https://github.com/noloader,Update cache line size on PowerPC,1,[],https://github.com/openvswitch/ovs/pull/379,https://github.com/noloader,1,https://github.com/openvswitch/ovs/pull/379,"PPC64 machines have a 128-byte L1 cache line size. See http://lists.llvm.org/pipermail/llvm-dev/2017-March/110982.html.
Signed-off-by: Jeffrey Walton noloader@gmail.com","PPC64 machines have a 128-byte L1 cache line size. See http://lists.llvm.org/pipermail/llvm-dev/2017-March/110982.html.
Signed-off-by: Jeffrey Walton noloader@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,380,2022-01-21T18:04:11Z,2022-01-24T20:33:04Z,2022-01-24T20:33:28Z,CLOSED,False,12,0,1,https://github.com/noloader,Add PPC64 and s390x testing to Travis,1,[],https://github.com/openvswitch/ovs/pull/380,https://github.com/noloader,1,https://github.com/openvswitch/ovs/pull/380,"This commit adds PPC64 and s390x testing to Travis.
Signed-off-by: Jeffrey Walton noloader@gmail.com","This commit adds PPC64 and s390x testing to Travis.
Signed-off-by: Jeffrey Walton noloader@gmail.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,380,2022-01-21T18:04:11Z,2022-01-24T20:33:04Z,2022-01-24T20:33:28Z,CLOSED,False,12,0,1,https://github.com/noloader,Add PPC64 and s390x testing to Travis,1,[],https://github.com/openvswitch/ovs/pull/380,https://github.com/igsilya,2,https://github.com/openvswitch/ovs/pull/380#issuecomment-1020466899,"This commit adds PPC64 and s390x testing to Travis.
Signed-off-by: Jeffrey Walton noloader@gmail.com","Hi, Jeffrey.  Thanks for the patch!
The one thing here though is that since Travis CI practically dropped support of OSS projects, we had to switch to GitHub Actions and remove the Travis integration from the main repository. We left the yml file for the time being just in case someone else has a Travis account and uses it for testing.
At this point Travis CI is not part of our actual CI and therefore no-one is tracking if it still works.  This means that adding new architectures will not help us to avoid their build breakages.
If you want to have PPC64 and s390x arches added to the yml, so you personally can test them periodically, that is OK, and I can accept this patch if you promise that it works. :)  Otherwise, it doesn't have a big value for the project as we don't have a way to actually run these checks.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,380,2022-01-21T18:04:11Z,2022-01-24T20:33:04Z,2022-01-24T20:33:28Z,CLOSED,False,12,0,1,https://github.com/noloader,Add PPC64 and s390x testing to Travis,1,[],https://github.com/openvswitch/ovs/pull/380,https://github.com/noloader,3,https://github.com/openvswitch/ovs/pull/380#issuecomment-1020521815,"This commit adds PPC64 and s390x testing to Travis.
Signed-off-by: Jeffrey Walton noloader@gmail.com","Thanks @igsilya,

If you want to have PPC64 and s390x arches added to the yml, so you personally can test them periodically, that is OK, and I can accept this patch if you promise that it works.

Ah, sorry to hear that. Travis got me too. I lost testing on about 6 open source projects I am part of. I got so fed up with Travis I had Travis delete my accounts and I removed access to my GitHub.
So yeah, it is probably better to close the request.",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,381,2022-02-21T14:59:32Z,2022-02-23T14:04:04Z,2022-02-23T14:11:13Z,CLOSED,False,8,3,1,https://github.com/zhaozhanxu,netdev-offload: fix deadlock when adding flow table in offload condition.,1,[],https://github.com/openvswitch/ovs/pull/381,https://github.com/zhaozhanxu,1,https://github.com/openvswitch/ovs/pull/381,"Bug reason:
When a revalidator thread of ovs tries to get the flow table,
it will nest call two read locks, namely netdev_ports_flow_get and netdev_ifindex_to_odp_port.
When other threads call the write lock between the two read locks,
there will be a deadlock problem, such as when calling netdev_ports_insert.
Fix method:
When getting the flow table, the two nested locks actually lock different tables,
but the same lock is used again, so just two different tables need to use different locks.
Bug exists in all versions since 2.13.
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Bug reason:
When a revalidator thread of ovs tries to get the flow table,
it will nest call two read locks, namely netdev_ports_flow_get and netdev_ifindex_to_odp_port.
When other threads call the write lock between the two read locks,
there will be a deadlock problem, such as when calling netdev_ports_insert.
Fix method:
When getting the flow table, the two nested locks actually lock different tables,
but the same lock is used again, so just two different tables need to use different locks.
Bug exists in all versions since 2.13.
Signed-off-by: zhaozhanxu zhaozhanxu@163.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,382,2022-02-23T14:16:32Z,,2022-02-23T14:16:32Z,OPEN,False,9,3,1,https://github.com/zhaozhanxu,netdev-offload: fix deadlock when adding flow table in offload condition,1,[],https://github.com/openvswitch/ovs/pull/382,https://github.com/zhaozhanxu,1,https://github.com/openvswitch/ovs/pull/382,"Bug reason:
When a revalidator thread of ovs tries to get the flow table,
it will nest call two read locks, namely netdev_ports_flow_get and netdev_ifindex_to_odp_port.
When other threads call the write lock between the two read locks,
there will be a deadlock problem, such as when calling netdev_ports_insert.
Fix method:
When getting the flow table, the two nested locks actually lock different tables,
but the same lock is used again, so just two different tables need to use different locks.
Bug exists in all versions since 2.13.
Signed-off-by: zhaozhanxu zhaozhanxu@163.com","Bug reason:
When a revalidator thread of ovs tries to get the flow table,
it will nest call two read locks, namely netdev_ports_flow_get and netdev_ifindex_to_odp_port.
When other threads call the write lock between the two read locks,
there will be a deadlock problem, such as when calling netdev_ports_insert.
Fix method:
When getting the flow table, the two nested locks actually lock different tables,
but the same lock is used again, so just two different tables need to use different locks.
Bug exists in all versions since 2.13.
Signed-off-by: zhaozhanxu zhaozhanxu@163.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,383,2022-02-28T17:29:02Z,,2022-02-28T17:29:02Z,OPEN,False,1,0,1,https://github.com/crosser,debian: add dh-python to build dependencies,1,[],https://github.com/openvswitch/ovs/pull/383,https://github.com/crosser,1,https://github.com/openvswitch/ovs/pull/383,"Build dependency on dh-python was missing in debian/control
In local builds, this is usually unnoticed, because people use to have
it installed thanks to previous builds of other packages. But builds in
CI/CD pipelines fails with
dh clean --with autoreconf,python3 --parallel
dh: error: unable to load addon python3: Can't locate Debian/Debhelper/Sequence/python3.pm in @inc (you may need to install the Debian::Debhelper::Sequence::python3 module) (@inc contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at (eval 12) line 1.
This commit adds the missing build-dependency
Signed-off-by: Eugene Crosser crosser@average.org","Build dependency on dh-python was missing in debian/control
In local builds, this is usually unnoticed, because people use to have
it installed thanks to previous builds of other packages. But builds in
CI/CD pipelines fails with
dh clean --with autoreconf,python3 --parallel
dh: error: unable to load addon python3: Can't locate Debian/Debhelper/Sequence/python3.pm in @inc (you may need to install the Debian::Debhelper::Sequence::python3 module) (@inc contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at (eval 12) line 1.
This commit adds the missing build-dependency
Signed-off-by: Eugene Crosser crosser@average.org",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,384,2022-04-01T09:50:58Z,,2022-04-06T03:18:52Z,OPEN,False,127,45,7,https://github.com/W1llyu,Separate the ssl config of ovsdb from openflow,1,[],https://github.com/openvswitch/ovs/pull/384,https://github.com/W1llyu,1,https://github.com/openvswitch/ovs/pull/384,"modify the table of SSL to support 2 rows of SSL config belongs to ovsdb
and openflow for each
modify commands:
ovs-vsctl set-ssl
ovs-vsctl get-ssl
ovs-vsctl del-ssl
add a variable means the owner of components to support the SSL
management of ovsdb and openflow","modify the table of SSL to support 2 rows of SSL config belongs to ovsdb
and openflow for each
modify commands:
ovs-vsctl set-ssl
ovs-vsctl get-ssl
ovs-vsctl del-ssl
add a variable means the owner of components to support the SSL
management of ovsdb and openflow",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,385,2022-05-09T08:22:59Z,2022-05-25T19:05:36Z,2022-05-27T09:02:52Z,CLOSED,False,88,9,1,https://github.com/hxietkg,Carefully release NBL in Windows,1,[],https://github.com/openvswitch/ovs/pull/385,https://github.com/hxietkg,1,https://github.com/openvswitch/ovs/pull/385,"OvsExtSendNBLComplete always release NBLs with flag SINGL_SOURCE, this is an
efficient way, which requires all the NBLs having the same source port, when
cloned/fragment NBLs are released, the parent NBLs will be released as well,
the problem is that a parent NBL may have a different source port from the
cloned/fragment NBL, so releasing the parent NBLs with flag SINGLE_SOURCE
is not corrct, see:
microsoft/hcsshim#1056
When this happens, commands 'Get-NetAdapter' and 'Get-HnsEndpoint' in the
Windows node show that one net-adapter/hns-endpoint is in 'disconnected'
state, meanwhile, following processes are affected, ecah of them has one
thread pending on a lock:
vmcompute.exe
containerd.exe
antrea-agent.exe
To fix this issue, we may check SourcePortId in each parent NBLs before
released.
A simple way to reprodue this issue:
1, Enable encap mode
2, create 2 nodes, nodeA and nodeB
3, create podA with image k8s.gcr.io/e2e-test-images/agnhost:2.21 on
nodeA, run 'iperf/iperf.exe -s -p 9000 -D'
4, create podB with same image on nodeB, run command
'iperf/iperf.exe -c podA-ip -p 9000'
5, delete podB
6, run 'Get-NetAdapter' on nodeB, you will find the leaked net adapter.
Signed-off-by: Hongsheng Xie hxie@vmware.com","OvsExtSendNBLComplete always release NBLs with flag SINGL_SOURCE, this is an
efficient way, which requires all the NBLs having the same source port, when
cloned/fragment NBLs are released, the parent NBLs will be released as well,
the problem is that a parent NBL may have a different source port from the
cloned/fragment NBL, so releasing the parent NBLs with flag SINGLE_SOURCE
is not corrct, see:
microsoft/hcsshim#1056
When this happens, commands 'Get-NetAdapter' and 'Get-HnsEndpoint' in the
Windows node show that one net-adapter/hns-endpoint is in 'disconnected'
state, meanwhile, following processes are affected, ecah of them has one
thread pending on a lock:
vmcompute.exe
containerd.exe
antrea-agent.exe
To fix this issue, we may check SourcePortId in each parent NBLs before
released.
A simple way to reprodue this issue:
1, Enable encap mode
2, create 2 nodes, nodeA and nodeB
3, create podA with image k8s.gcr.io/e2e-test-images/agnhost:2.21 on
nodeA, run 'iperf/iperf.exe -s -p 9000 -D'
4, create podB with same image on nodeB, run command
'iperf/iperf.exe -c podA-ip -p 9000'
5, delete podB
6, run 'Get-NetAdapter' on nodeB, you will find the leaked net adapter.
Signed-off-by: Hongsheng Xie hxie@vmware.com",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,385,2022-05-09T08:22:59Z,2022-05-25T19:05:36Z,2022-05-27T09:02:52Z,CLOSED,False,88,9,1,https://github.com/hxietkg,Carefully release NBL in Windows,1,[],https://github.com/openvswitch/ovs/pull/385,https://github.com/hxietkg,2,https://github.com/openvswitch/ovs/pull/385#issuecomment-1128714257,"OvsExtSendNBLComplete always release NBLs with flag SINGL_SOURCE, this is an
efficient way, which requires all the NBLs having the same source port, when
cloned/fragment NBLs are released, the parent NBLs will be released as well,
the problem is that a parent NBL may have a different source port from the
cloned/fragment NBL, so releasing the parent NBLs with flag SINGLE_SOURCE
is not corrct, see:
microsoft/hcsshim#1056
When this happens, commands 'Get-NetAdapter' and 'Get-HnsEndpoint' in the
Windows node show that one net-adapter/hns-endpoint is in 'disconnected'
state, meanwhile, following processes are affected, ecah of them has one
thread pending on a lock:
vmcompute.exe
containerd.exe
antrea-agent.exe
To fix this issue, we may check SourcePortId in each parent NBLs before
released.
A simple way to reprodue this issue:
1, Enable encap mode
2, create 2 nodes, nodeA and nodeB
3, create podA with image k8s.gcr.io/e2e-test-images/agnhost:2.21 on
nodeA, run 'iperf/iperf.exe -s -p 9000 -D'
4, create podB with same image on nodeB, run command
'iperf/iperf.exe -c podA-ip -p 9000'
5, delete podB
6, run 'Get-NetAdapter' on nodeB, you will find the leaked net adapter.
Signed-off-by: Hongsheng Xie hxie@vmware.com",@aserdean thanks a lot!,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,385,2022-05-09T08:22:59Z,2022-05-25T19:05:36Z,2022-05-27T09:02:52Z,CLOSED,False,88,9,1,https://github.com/hxietkg,Carefully release NBL in Windows,1,[],https://github.com/openvswitch/ovs/pull/385,https://github.com/hxietkg,3,https://github.com/openvswitch/ovs/pull/385#issuecomment-1128977376,"OvsExtSendNBLComplete always release NBLs with flag SINGL_SOURCE, this is an
efficient way, which requires all the NBLs having the same source port, when
cloned/fragment NBLs are released, the parent NBLs will be released as well,
the problem is that a parent NBL may have a different source port from the
cloned/fragment NBL, so releasing the parent NBLs with flag SINGLE_SOURCE
is not corrct, see:
microsoft/hcsshim#1056
When this happens, commands 'Get-NetAdapter' and 'Get-HnsEndpoint' in the
Windows node show that one net-adapter/hns-endpoint is in 'disconnected'
state, meanwhile, following processes are affected, ecah of them has one
thread pending on a lock:
vmcompute.exe
containerd.exe
antrea-agent.exe
To fix this issue, we may check SourcePortId in each parent NBLs before
released.
A simple way to reprodue this issue:
1, Enable encap mode
2, create 2 nodes, nodeA and nodeB
3, create podA with image k8s.gcr.io/e2e-test-images/agnhost:2.21 on
nodeA, run 'iperf/iperf.exe -s -p 9000 -D'
4, create podB with same image on nodeB, run command
'iperf/iperf.exe -c podA-ip -p 9000'
5, delete podB
6, run 'Get-NetAdapter' on nodeB, you will find the leaked net adapter.
Signed-off-by: Hongsheng Xie hxie@vmware.com","Please provide a signed off in order to comply with our Developer’s Certificate of Origin

added",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,385,2022-05-09T08:22:59Z,2022-05-25T19:05:36Z,2022-05-27T09:02:52Z,CLOSED,False,88,9,1,https://github.com/hxietkg,Carefully release NBL in Windows,1,[],https://github.com/openvswitch/ovs/pull/385,https://github.com/aserdean,4,https://github.com/openvswitch/ovs/pull/385#issuecomment-1137743512,"OvsExtSendNBLComplete always release NBLs with flag SINGL_SOURCE, this is an
efficient way, which requires all the NBLs having the same source port, when
cloned/fragment NBLs are released, the parent NBLs will be released as well,
the problem is that a parent NBL may have a different source port from the
cloned/fragment NBL, so releasing the parent NBLs with flag SINGLE_SOURCE
is not corrct, see:
microsoft/hcsshim#1056
When this happens, commands 'Get-NetAdapter' and 'Get-HnsEndpoint' in the
Windows node show that one net-adapter/hns-endpoint is in 'disconnected'
state, meanwhile, following processes are affected, ecah of them has one
thread pending on a lock:
vmcompute.exe
containerd.exe
antrea-agent.exe
To fix this issue, we may check SourcePortId in each parent NBLs before
released.
A simple way to reprodue this issue:
1, Enable encap mode
2, create 2 nodes, nodeA and nodeB
3, create podA with image k8s.gcr.io/e2e-test-images/agnhost:2.21 on
nodeA, run 'iperf/iperf.exe -s -p 9000 -D'
4, create podB with same image on nodeB, run command
'iperf/iperf.exe -c podA-ip -p 9000'
5, delete podB
6, run 'Get-NetAdapter' on nodeB, you will find the leaked net adapter.
Signed-off-by: Hongsheng Xie hxie@vmware.com","I applied this patch on master and backported it until branch-2.13
Thanks a lot for the patch and all the testing @hxietkg!",True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,386,2022-05-29T09:02:37Z,2022-05-29T09:06:59Z,2022-05-29T09:06:59Z,CLOSED,False,58,3,3,https://github.com/salemsol,IPv6 frags checksum fix,4,[],https://github.com/openvswitch/ovs/pull/386,https://github.com/salemsol,1,https://github.com/openvswitch/ovs/pull/386,,,True,{}
openvswitch/ovs,https://github.com/openvswitch/ovs,387,2022-05-29T09:10:26Z,2022-05-29T12:42:53Z,2022-05-29T12:42:53Z,CLOSED,False,55,2,2,https://github.com/salemsol,packets: Re-calculate IPv6 checksum only for last frags upon modify.,1,[],https://github.com/openvswitch/ovs/pull/387,https://github.com/salemsol,1,https://github.com/openvswitch/ovs/pull/387,"In case of modifying an IPv6 packet src/dst address the checksum should be
recalculated only for the last frag. Currently it's done for all frags,
leading to incorrect reassembled packet checksum.
Fix it by adding a new flag to recalculate the checksum only for last frag.
Fixes: bc7a5ac (""datapath: add ipv6 'set' action"")
Signed-off-by: Salem Sol salems@nvidia.com","In case of modifying an IPv6 packet src/dst address the checksum should be
recalculated only for the last frag. Currently it's done for all frags,
leading to incorrect reassembled packet checksum.
Fix it by adding a new flag to recalculate the checksum only for last frag.
Fixes: bc7a5ac (""datapath: add ipv6 'set' action"")
Signed-off-by: Salem Sol salems@nvidia.com",True,{}
