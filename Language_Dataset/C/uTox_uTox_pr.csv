uTox/uTox,https://github.com/uTox/uTox,228,2016-03-04T21:24:32Z,2016-03-05T17:53:49Z,2016-03-05T17:54:03Z,MERGED,True,202,31,1,https://github.com/yalvex,updated Ukrainian translation,4,[],https://github.com/uTox/uTox/pull/228,https://github.com/yalvex,1,https://github.com/uTox/uTox/pull/228,Sorry i deleted the branch. It seems now all should be good.  Thanks  @cebe for finding why fails build,Sorry i deleted the branch. It seems now all should be good.  Thanks  @cebe for finding why fails build,True,{}
uTox/uTox,https://github.com/uTox/uTox,228,2016-03-04T21:24:32Z,2016-03-05T17:53:49Z,2016-03-05T17:54:03Z,MERGED,True,202,31,1,https://github.com/yalvex,updated Ukrainian translation,4,[],https://github.com/uTox/uTox/pull/228,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/228#issuecomment-192650967,Sorry i deleted the branch. It seems now all should be good.  Thanks  @cebe for finding why fails build,üëç,True,{}
uTox/uTox,https://github.com/uTox/uTox,228,2016-03-04T21:24:32Z,2016-03-05T17:53:49Z,2016-03-05T17:54:03Z,MERGED,True,202,31,1,https://github.com/yalvex,updated Ukrainian translation,4,[],https://github.com/uTox/uTox/pull/228,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/228#issuecomment-192698246,Sorry i deleted the branch. It seems now all should be good.  Thanks  @cebe for finding why fails build,@yalvex @cebe thanks,True,{}
uTox/uTox,https://github.com/uTox/uTox,240,2016-03-11T21:17:46Z,2016-03-15T18:03:13Z,2016-03-15T18:03:13Z,MERGED,True,24,29,1,https://github.com/master-passeli,"Fix for issue 230, Error making call",1,[],https://github.com/uTox/uTox/pull/240,https://github.com/master-passeli,1,https://github.com/uTox/uTox/pull/240,"Patch fixing issue 230 ""Error making call xlib (utox Alpha version
0.6.1)""
friendlist instanse 0 call status was not set correct on new call
pending, answer or ending cases.
This should fix audio call, might also fix video but i'm not able to test it. :(
Also function utox_audio_friend_accepted sets now call state in it so
that utox_callback_av_change_state function does not do that directly.


This change is","Patch fixing issue 230 ""Error making call xlib (utox Alpha version
0.6.1)""
friendlist instanse 0 call status was not set correct on new call
pending, answer or ending cases.
This should fix audio call, might also fix video but i'm not able to test it. :(
Also function utox_audio_friend_accepted sets now call state in it so
that utox_callback_av_change_state function does not do that directly.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,240,2016-03-11T21:17:46Z,2016-03-15T18:03:13Z,2016-03-15T18:03:13Z,MERGED,True,24,29,1,https://github.com/master-passeli,"Fix for issue 230, Error making call",1,[],https://github.com/uTox/uTox/pull/240,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/240#issuecomment-195568278,"Patch fixing issue 230 ""Error making call xlib (utox Alpha version
0.6.1)""
friendlist instanse 0 call status was not set correct on new call
pending, answer or ending cases.
This should fix audio call, might also fix video but i'm not able to test it. :(
Also function utox_audio_friend_accepted sets now call state in it so
that utox_callback_av_change_state function does not do that directly.


This change is","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from the review on Reviewable.io",True,{}
uTox/uTox,https://github.com/uTox/uTox,240,2016-03-11T21:17:46Z,2016-03-15T18:03:13Z,2016-03-15T18:03:13Z,MERGED,True,24,29,1,https://github.com/master-passeli,"Fix for issue 230, Error making call",1,[],https://github.com/uTox/uTox/pull/240,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/240#issuecomment-196951363,"Patch fixing issue 230 ""Error making call xlib (utox Alpha version
0.6.1)""
friendlist instanse 0 call status was not set correct on new call
pending, answer or ending cases.
This should fix audio call, might also fix video but i'm not able to test it. :(
Also function utox_audio_friend_accepted sets now call state in it so
that utox_callback_av_change_state function does not do that directly.


This change is",confirmed working from IRC user,True,{}
uTox/uTox,https://github.com/uTox/uTox,241,2016-03-12T15:39:40Z,2016-03-12T18:33:05Z,2016-03-12T20:34:28Z,MERGED,True,7,1,1,https://github.com/master-passeli,Fix for issue #237 mouse wheel scroll is very slow,1,[],https://github.com/uTox/uTox/pull/241,https://github.com/master-passeli,1,https://github.com/uTox/uTox/pull/241,"Patch fixes issue #237  where mouse scroll is very slow on scrollable viewport
components. Patch introduces scroll speed multiplier variable which can
be used to tune scrolling speed. This variable influences ""magic""
equation in scrollable component.
The patch speeds up scrolling making it 5 times faster. By doing that
it brings scrolling behavior closer to other programs.
However, current implementation does not allow similar scrolling behavior since uTox's
GUI implementation is not text size relative.


This change is","Patch fixes issue #237  where mouse scroll is very slow on scrollable viewport
components. Patch introduces scroll speed multiplier variable which can
be used to tune scrolling speed. This variable influences ""magic""
equation in scrollable component.
The patch speeds up scrolling making it 5 times faster. By doing that
it brings scrolling behavior closer to other programs.
However, current implementation does not allow similar scrolling behavior since uTox's
GUI implementation is not text size relative.


This change is",True,{'THUMBS_UP': ['https://github.com/tsudoko']}
uTox/uTox,https://github.com/uTox/uTox,241,2016-03-12T15:39:40Z,2016-03-12T18:33:05Z,2016-03-12T20:34:28Z,MERGED,True,7,1,1,https://github.com/master-passeli,Fix for issue #237 mouse wheel scroll is very slow,1,[],https://github.com/uTox/uTox/pull/241,https://github.com/tsudoko,2,https://github.com/uTox/uTox/pull/241#issuecomment-195781471,"Patch fixes issue #237  where mouse scroll is very slow on scrollable viewport
components. Patch introduces scroll speed multiplier variable which can
be used to tune scrolling speed. This variable influences ""magic""
equation in scrollable component.
The patch speeds up scrolling making it 5 times faster. By doing that
it brings scrolling behavior closer to other programs.
However, current implementation does not allow similar scrolling behavior since uTox's
GUI implementation is not text size relative.


This change is","üëç
Works on xlib, no idea if it breaks cocoa though",True,{}
uTox/uTox,https://github.com/uTox/uTox,241,2016-03-12T15:39:40Z,2016-03-12T18:33:05Z,2016-03-12T20:34:28Z,MERGED,True,7,1,1,https://github.com/master-passeli,Fix for issue #237 mouse wheel scroll is very slow,1,[],https://github.com/uTox/uTox/pull/241,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/241#issuecomment-195783623,"Patch fixes issue #237  where mouse scroll is very slow on scrollable viewport
components. Patch introduces scroll speed multiplier variable which can
be used to tune scrolling speed. This variable influences ""magic""
equation in scrollable component.
The patch speeds up scrolling making it 5 times faster. By doing that
it brings scrolling behavior closer to other programs.
However, current implementation does not allow similar scrolling behavior since uTox's
GUI implementation is not text size relative.


This change is","stal broke it for cocoa, he can fix it later",True,{}
uTox/uTox,https://github.com/uTox/uTox,247,2016-03-17T06:41:50Z,2016-03-17T19:11:18Z,2016-03-17T19:11:18Z,MERGED,True,45,41,1,https://github.com/ony,Make installation process more tunable (adjust pkg-config name and datarootdir),2,[],https://github.com/uTox/uTox/pull/247,https://github.com/ony,1,https://github.com/uTox/uTox/pull/247,"On some platforms pkg-config may have cross-prefix and look like x86_64-pc-linux-gnu-pkg-config.
Besides that location of datarootdir not always is subfolder of prefix. In Exherbo linux filesystem layout looks like this: /usr/x86_64-pc-linux-gnu/bin and /usr/share/man. This is done intentionally to make platform-specific files placed in an individual folder for each platform while independent files can be shared in common location.


This change is","On some platforms pkg-config may have cross-prefix and look like x86_64-pc-linux-gnu-pkg-config.
Besides that location of datarootdir not always is subfolder of prefix. In Exherbo linux filesystem layout looks like this: /usr/x86_64-pc-linux-gnu/bin and /usr/share/man. This is done intentionally to make platform-specific files placed in an individual folder for each platform while independent files can be shared in common location.


This change is",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,247,2016-03-17T06:41:50Z,2016-03-17T19:11:18Z,2016-03-17T19:11:18Z,MERGED,True,45,41,1,https://github.com/ony,Make installation process more tunable (adjust pkg-config name and datarootdir),2,[],https://github.com/uTox/uTox/pull/247,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/247#issuecomment-198017976,"On some platforms pkg-config may have cross-prefix and look like x86_64-pc-linux-gnu-pkg-config.
Besides that location of datarootdir not always is subfolder of prefix. In Exherbo linux filesystem layout looks like this: /usr/x86_64-pc-linux-gnu/bin and /usr/share/man. This is done intentionally to make platform-specific files placed in an individual folder for each platform while independent files can be shared in common location.


This change is","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from the review on Reviewable.io",True,{}
uTox/uTox,https://github.com/uTox/uTox,248,2016-03-17T20:40:18Z,2016-03-17T21:29:31Z,2016-03-17T21:29:31Z,MERGED,True,8,8,6,https://github.com/benwaffle,Reduce warnings,1,[],https://github.com/uTox/uTox/pull/248,https://github.com/benwaffle,1,https://github.com/uTox/uTox/pull/248,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,249,2016-03-18T09:08:01Z,2016-04-04T04:01:41Z,2016-04-04T04:01:41Z,MERGED,True,431,3,4,https://github.com/stemd,consistent usage of checkinstall,7,"['PR: Pending', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/249,https://github.com/stemd,1,https://github.com/uTox/uTox/pull/249,"There is no sense to install two libs with make install and
other two with checkinstall.
On debian based distros usage of deb packages and tool like checkinstall
is preferred, as manually installing something in /usr/local and later
on upgrade (which will surely happen once)
installing that same package in location like /usr/bin is
a sure way to cause headache until you try using something like:
which binary_name
and then realizing that you have two installs, and you totally
forgot that you four of more years ago tried something and ...
In short, make install isn't BAD, but checkinstall is better.
I know, this is a bit long commit msg, but this is experience
talking, not me. :)


This change is","There is no sense to install two libs with make install and
other two with checkinstall.
On debian based distros usage of deb packages and tool like checkinstall
is preferred, as manually installing something in /usr/local and later
on upgrade (which will surely happen once)
installing that same package in location like /usr/bin is
a sure way to cause headache until you try using something like:
which binary_name
and then realizing that you have two installs, and you totally
forgot that you four of more years ago tried something and ...
In short, make install isn't BAD, but checkinstall is better.
I know, this is a bit long commit msg, but this is experience
talking, not me. :)


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,249,2016-03-18T09:08:01Z,2016-04-04T04:01:41Z,2016-04-04T04:01:41Z,MERGED,True,431,3,4,https://github.com/stemd,consistent usage of checkinstall,7,"['PR: Pending', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/249,https://github.com/stemd,2,https://github.com/uTox/uTox/pull/249#issuecomment-198339009,"There is no sense to install two libs with make install and
other two with checkinstall.
On debian based distros usage of deb packages and tool like checkinstall
is preferred, as manually installing something in /usr/local and later
on upgrade (which will surely happen once)
installing that same package in location like /usr/bin is
a sure way to cause headache until you try using something like:
which binary_name
and then realizing that you have two installs, and you totally
forgot that you four of more years ago tried something and ...
In short, make install isn't BAD, but checkinstall is better.
I know, this is a bit long commit msg, but this is experience
talking, not me. :)


This change is","As above, after correcting docs/BUILD.md build instructions for debian/Ubuntu,
I also added Croatian translation.
Have some more ideas (UI is rudimentary, needs polishing), after I check how it behaves on Windows
will probably try to make it behave more nice. Don't mind me, for alpha this is quite fine.",True,{}
uTox/uTox,https://github.com/uTox/uTox,249,2016-03-18T09:08:01Z,2016-04-04T04:01:41Z,2016-04-04T04:01:41Z,MERGED,True,431,3,4,https://github.com/stemd,consistent usage of checkinstall,7,"['PR: Pending', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/249,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/249#issuecomment-198454570,"There is no sense to install two libs with make install and
other two with checkinstall.
On debian based distros usage of deb packages and tool like checkinstall
is preferred, as manually installing something in /usr/local and later
on upgrade (which will surely happen once)
installing that same package in location like /usr/bin is
a sure way to cause headache until you try using something like:
which binary_name
and then realizing that you have two installs, and you totally
forgot that you four of more years ago tried something and ...
In short, make install isn't BAD, but checkinstall is better.
I know, this is a bit long commit msg, but this is experience
talking, not me. :)


This change is",can you please split these into two separate pull requests?,True,{}
uTox/uTox,https://github.com/uTox/uTox,249,2016-03-18T09:08:01Z,2016-04-04T04:01:41Z,2016-04-04T04:01:41Z,MERGED,True,431,3,4,https://github.com/stemd,consistent usage of checkinstall,7,"['PR: Pending', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/249,https://github.com/stemd,4,https://github.com/uTox/uTox/pull/249#issuecomment-198460412,"There is no sense to install two libs with make install and
other two with checkinstall.
On debian based distros usage of deb packages and tool like checkinstall
is preferred, as manually installing something in /usr/local and later
on upgrade (which will surely happen once)
installing that same package in location like /usr/bin is
a sure way to cause headache until you try using something like:
which binary_name
and then realizing that you have two installs, and you totally
forgot that you four of more years ago tried something and ...
In short, make install isn't BAD, but checkinstall is better.
I know, this is a bit long commit msg, but this is experience
talking, not me. :)


This change is",I'll try. :),True,{}
uTox/uTox,https://github.com/uTox/uTox,249,2016-03-18T09:08:01Z,2016-04-04T04:01:41Z,2016-04-04T04:01:41Z,MERGED,True,431,3,4,https://github.com/stemd,consistent usage of checkinstall,7,"['PR: Pending', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/249,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/249#issuecomment-205121642,"There is no sense to install two libs with make install and
other two with checkinstall.
On debian based distros usage of deb packages and tool like checkinstall
is preferred, as manually installing something in /usr/local and later
on upgrade (which will surely happen once)
installing that same package in location like /usr/bin is
a sure way to cause headache until you try using something like:
which binary_name
and then realizing that you have two installs, and you totally
forgot that you four of more years ago tried something and ...
In short, make install isn't BAD, but checkinstall is better.
I know, this is a bit long commit msg, but this is experience
talking, not me. :)


This change is","Reviewed 3 of 4 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,249,2016-03-18T09:08:01Z,2016-04-04T04:01:41Z,2016-04-04T04:01:41Z,MERGED,True,431,3,4,https://github.com/stemd,consistent usage of checkinstall,7,"['PR: Pending', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/249,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/249#issuecomment-205122423,"There is no sense to install two libs with make install and
other two with checkinstall.
On debian based distros usage of deb packages and tool like checkinstall
is preferred, as manually installing something in /usr/local and later
on upgrade (which will surely happen once)
installing that same package in location like /usr/bin is
a sure way to cause headache until you try using something like:
which binary_name
and then realizing that you have two installs, and you totally
forgot that you four of more years ago tried something and ...
In short, make install isn't BAD, but checkinstall is better.
I know, this is a bit long commit msg, but this is experience
talking, not me. :)


This change is","@stal888 @tsudoko
anyone else can sign off on this one too",True,{}
uTox/uTox,https://github.com/uTox/uTox,249,2016-03-18T09:08:01Z,2016-04-04T04:01:41Z,2016-04-04T04:01:41Z,MERGED,True,431,3,4,https://github.com/stemd,consistent usage of checkinstall,7,"['PR: Pending', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/249,https://github.com/stal888,7,https://github.com/uTox/uTox/pull/249#issuecomment-205124118,"There is no sense to install two libs with make install and
other two with checkinstall.
On debian based distros usage of deb packages and tool like checkinstall
is preferred, as manually installing something in /usr/local and later
on upgrade (which will surely happen once)
installing that same package in location like /usr/bin is
a sure way to cause headache until you try using something like:
which binary_name
and then realizing that you have two installs, and you totally
forgot that you four of more years ago tried something and ...
In short, make install isn't BAD, but checkinstall is better.
I know, this is a bit long commit msg, but this is experience
talking, not me. :)


This change is","Rubber-stamping this for you, @GrayHatter


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,250,2016-03-20T21:08:31Z,2016-04-04T03:36:49Z,2019-01-21T09:09:00Z,CLOSED,False,33,1,6,https://github.com/ninedotnine,minor changes,3,[],https://github.com/uTox/uTox/pull/250,https://github.com/ninedotnine,1,https://github.com/uTox/uTox/pull/250,"I started off trying add #233 but then I got distracted and I had a harder time understanding the audio code. I'd still like to work on that, but I've spent too much time on this today already...
For now; this branch:

fixes the alignment problem mentioned in #209 (I was seeing this too)
adds a non-functioning button for future ""beep on message"" setting
adds a couple of French language phrases



This change is","I started off trying add #233 but then I got distracted and I had a harder time understanding the audio code. I'd still like to work on that, but I've spent too much time on this today already...
For now; this branch:

fixes the alignment problem mentioned in #209 (I was seeing this too)
adds a non-functioning button for future ""beep on message"" setting
adds a couple of French language phrases



This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,250,2016-03-20T21:08:31Z,2016-04-04T03:36:49Z,2019-01-21T09:09:00Z,CLOSED,False,33,1,6,https://github.com/ninedotnine,minor changes,3,[],https://github.com/uTox/uTox/pull/250,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/250#issuecomment-205119189,"I started off trying add #233 but then I got distracted and I had a harder time understanding the audio code. I'd still like to work on that, but I've spent too much time on this today already...
For now; this branch:

fixes the alignment problem mentioned in #209 (I was seeing this too)
adds a non-functioning button for future ""beep on message"" setting
adds a couple of French language phrases



This change is","this seems to have gone stale.
I'm happy to merge the language if it's in its own PR, but I can't merge a half done feature.",True,{}
uTox/uTox,https://github.com/uTox/uTox,257,2016-03-28T00:31:05Z,2016-04-01T06:12:17Z,2019-01-21T09:09:00Z,MERGED,True,1,0,1,https://github.com/TotalCaesar659,Added Russian transation for the pop-up comment of the shortcut,1,[],https://github.com/uTox/uTox/pull/257,https://github.com/TotalCaesar659,1,https://github.com/uTox/uTox/pull/257,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,257,2016-03-28T00:31:05Z,2016-04-01T06:12:17Z,2019-01-21T09:09:00Z,MERGED,True,1,0,1,https://github.com/TotalCaesar659,Added Russian transation for the pop-up comment of the shortcut,1,[],https://github.com/uTox/uTox/pull/257,https://github.com/TotalCaesar659,2,https://github.com/uTox/uTox/pull/257#issuecomment-202191774,This change is,"OK, I just tried to satisfy it. Though, you can correct it to ""–õ–µ–≥–∫–∏–π –∫–ª–∏–µ–Ω—Ç Tox"" if you want.",True,{}
uTox/uTox,https://github.com/uTox/uTox,257,2016-03-28T00:31:05Z,2016-04-01T06:12:17Z,2019-01-21T09:09:00Z,MERGED,True,1,0,1,https://github.com/TotalCaesar659,Added Russian transation for the pop-up comment of the shortcut,1,[],https://github.com/uTox/uTox/pull/257,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/257#issuecomment-204205507,This change is,@cebe thoughts on this one?,True,{}
uTox/uTox,https://github.com/uTox/uTox,257,2016-03-28T00:31:05Z,2016-04-01T06:12:17Z,2019-01-21T09:09:00Z,MERGED,True,1,0,1,https://github.com/TotalCaesar659,Added Russian transation for the pop-up comment of the shortcut,1,[],https://github.com/uTox/uTox/pull/257,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/257#issuecomment-204240419,This change is,@GrayHatter use –õ–µ–≥–∫–∏–π –∫–ª–∏–µ–Ω—Ç Tox and close this one?,True,{}
uTox/uTox,https://github.com/uTox/uTox,257,2016-03-28T00:31:05Z,2016-04-01T06:12:17Z,2019-01-21T09:09:00Z,MERGED,True,1,0,1,https://github.com/TotalCaesar659,Added Russian transation for the pop-up comment of the shortcut,1,[],https://github.com/uTox/uTox/pull/257,https://github.com/alexeysvrv,5,https://github.com/uTox/uTox/pull/257#issuecomment-204248583,This change is,"So, I support Russian their native language, I suggest using a combination of a –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç or –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∫–ª–∏–µ–Ω—Ç It is more accurately suited and positioned uTox",True,{}
uTox/uTox,https://github.com/uTox/uTox,260,2016-03-30T22:48:46Z,2016-03-31T16:32:41Z,2019-01-21T09:09:00Z,MERGED,True,78,3,1,https://github.com/sfan5,Update German translations,1,[],https://github.com/uTox/uTox/pull/260,https://github.com/sfan5,1,https://github.com/uTox/uTox/pull/260,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,260,2016-03-30T22:48:46Z,2016-03-31T16:32:41Z,2019-01-21T09:09:00Z,MERGED,True,78,3,1,https://github.com/sfan5,Update German translations,1,[],https://github.com/uTox/uTox/pull/260,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/260#issuecomment-203693362,This change is,@aaannndddyyy wanna do me a favor and tell me I can merge this?,True,{}
uTox/uTox,https://github.com/uTox/uTox,260,2016-03-30T22:48:46Z,2016-03-31T16:32:41Z,2019-01-21T09:09:00Z,MERGED,True,78,3,1,https://github.com/sfan5,Update German translations,1,[],https://github.com/uTox/uTox/pull/260,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/260#issuecomment-203748311,This change is,the rest looks fine to me. üëç,True,{'HEART': ['https://github.com/GrayHatter']}
uTox/uTox,https://github.com/uTox/uTox,260,2016-03-30T22:48:46Z,2016-03-31T16:32:41Z,2019-01-21T09:09:00Z,MERGED,True,78,3,1,https://github.com/sfan5,Update German translations,1,[],https://github.com/uTox/uTox/pull/260,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/260#issuecomment-203957096,This change is,@GrayHatter ready to merge imo.,True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/lineteen,1,https://github.com/uTox/uTox/pull/263,"Old Chinese language file is not complete?


This change is","Old Chinese language file is not complete?


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/lineteen,2,https://github.com/uTox/uTox/pull/263#issuecomment-204016682,"Old Chinese language file is not complete?


This change is","And :)
msgid(PROXY_EDIT_HINT_IP)
msgstr(""IP"")",True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/263#issuecomment-204134085,"Old Chinese language file is not complete?


This change is","@lineteen  if you go here https://github.com/lineteen/uTox/blob/patch-1/langs/cn.h#L4 and click on the edit button, you can make these changes yourself. Then they'll automatically be changed here so that I can merge this.",True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/lineteen,4,https://github.com/uTox/uTox/pull/263#issuecomment-204184884,"Old Chinese language file is not complete?


This change is",@GrayHatter Thanks! Edited.,True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/263#issuecomment-204190474,"Old Chinese language file is not complete?


This change is","I'll merge this once anyone else says it looks good!

Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from the review on Reviewable.io",True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/stal888,6,https://github.com/uTox/uTox/pull/263#issuecomment-205929799,"Old Chinese language file is not complete?


This change is","Rubber-stamping
Actually wait no

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/stal888,7,https://github.com/uTox/uTox/pull/263#issuecomment-205931766,"Old Chinese language file is not complete?


This change is","langs/cn.h, line 29 [r2] (raw file):
Should be ""Tox"" here.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/263#issuecomment-207866339,"Old Chinese language file is not complete?


This change is",@lineteen can you change the line that @stal888 commented?,True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/lineteen,9,https://github.com/uTox/uTox/pull/263#issuecomment-208720834,"Old Chinese language file is not complete?


This change is","@GrayHatter @stal888
Thanks for your help. I have changed that.",True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/stal888,10,https://github.com/uTox/uTox/pull/263#issuecomment-209043049,"Old Chinese language file is not complete?


This change is",Comments from Reviewable,True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/263#issuecomment-209046635,"Old Chinese language file is not complete?


This change is","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,263,2016-03-31T16:30:47Z,2016-04-13T18:50:35Z,2019-01-21T09:09:00Z,MERGED,True,333,61,1,https://github.com/lineteen,Update cn.h,4,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/263,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/263#issuecomment-209592371,"Old Chinese language file is not complete?


This change is","Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,264,2016-03-31T17:03:46Z,2016-04-13T20:26:26Z,2016-04-13T20:26:55Z,MERGED,True,357,103,1,https://github.com/lineteen,Update tw.h,2,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/264,https://github.com/lineteen,1,https://github.com/uTox/uTox/pull/264,"Translate from Simplified Chinese.


This change is","Translate from Simplified Chinese.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,264,2016-03-31T17:03:46Z,2016-04-13T20:26:26Z,2016-04-13T20:26:55Z,MERGED,True,357,103,1,https://github.com/lineteen,Update tw.h,2,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/264,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/264#issuecomment-204158737,"Translate from Simplified Chinese.


This change is","@lineteen thanks mate this looks good. As soon as anyone else looks at it and says it's okay, I'll merge it.

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from the review on Reviewable.io",True,{}
uTox/uTox,https://github.com/uTox/uTox,264,2016-03-31T17:03:46Z,2016-04-13T20:26:26Z,2016-04-13T20:26:55Z,MERGED,True,357,103,1,https://github.com/lineteen,Update tw.h,2,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/264,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/264#issuecomment-209592643,"Translate from Simplified Chinese.


This change is","@stal888

Review status: 0 of 1 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,264,2016-03-31T17:03:46Z,2016-04-13T20:26:26Z,2016-04-13T20:26:55Z,MERGED,True,357,103,1,https://github.com/lineteen,Update tw.h,2,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/264,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/264#issuecomment-209592679,"Translate from Simplified Chinese.


This change is","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,264,2016-03-31T17:03:46Z,2016-04-13T20:26:26Z,2016-04-13T20:26:55Z,MERGED,True,357,103,1,https://github.com/lineteen,Update tw.h,2,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/264,https://github.com/stal888,5,https://github.com/uTox/uTox/pull/264#issuecomment-209625036,"Translate from Simplified Chinese.


This change is","Your rubber stamp is here: 

Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,264,2016-03-31T17:03:46Z,2016-04-13T20:26:26Z,2016-04-13T20:26:55Z,MERGED,True,357,103,1,https://github.com/lineteen,Update tw.h,2,"['PR: READY', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/264,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/264#issuecomment-209632462,"Translate from Simplified Chinese.


This change is",sorry about the delay @lineteen thanks for the translations,True,{}
uTox/uTox,https://github.com/uTox/uTox,266,2016-04-01T20:04:26Z,2016-04-01T21:56:27Z,2016-04-01T23:53:34Z,MERGED,True,1,0,1,https://github.com/cebe,Update utox.desktop,1,[],https://github.com/uTox/uTox/pull/266,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/266,"added german translation


This change is","added german translation


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,266,2016-04-01T20:04:26Z,2016-04-01T21:56:27Z,2016-04-01T23:53:34Z,MERGED,True,1,0,1,https://github.com/cebe,Update utox.desktop,1,[],https://github.com/uTox/uTox/pull/266,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/266#issuecomment-204552588,"added german translation


This change is","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from the review on Reviewable.io",True,{}
uTox/uTox,https://github.com/uTox/uTox,266,2016-04-01T20:04:26Z,2016-04-01T21:56:27Z,2016-04-01T23:53:34Z,MERGED,True,1,0,1,https://github.com/cebe,Update utox.desktop,1,[],https://github.com/uTox/uTox/pull/266,https://github.com/stal888,3,https://github.com/uTox/uTox/pull/266#issuecomment-204563574,"added german translation


This change is",Comments from the review on Reviewable.io,True,{}
uTox/uTox,https://github.com/uTox/uTox,267,2016-04-02T03:26:16Z,2016-04-09T22:34:33Z,2019-01-21T09:09:00Z,CLOSED,False,252,199,6,https://github.com/slr,more minor changes,4,"['PR: Pending', 'PR: Changes Needed', 'PR: Needs +2']",https://github.com/uTox/uTox/pull/267,https://github.com/slr,1,https://github.com/uTox/uTox/pull/267,"to suppress #250. hope @ninedotnine wouldn't mind.

ha, I see what you did there.


This change is","to suppress #250. hope @ninedotnine wouldn't mind.

ha, I see what you did there.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,267,2016-04-02T03:26:16Z,2016-04-09T22:34:33Z,2019-01-21T09:09:00Z,CLOSED,False,252,199,6,https://github.com/slr,more minor changes,4,"['PR: Pending', 'PR: Changes Needed', 'PR: Needs +2']",https://github.com/uTox/uTox/pull/267,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/267#issuecomment-204639802,"to suppress #250. hope @ninedotnine wouldn't mind.

ha, I see what you did there.


This change is","So I don't have a reason to merge this yet. Is anyone planning to finish the beep on msg feature?

Review status: 0 of 6 files reviewed at latest revision, 2 unresolved discussions.

src/ui.c, line 1126 [r2] (raw file):
this should be moved before every usage of UTOX_STR_WIDTH

src/ui.c, line 1134 [r2] (raw file):
UTOX_STR_WIDTH depends on setfont() being the same. see above

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,267,2016-04-02T03:26:16Z,2016-04-09T22:34:33Z,2019-01-21T09:09:00Z,CLOSED,False,252,199,6,https://github.com/slr,more minor changes,4,"['PR: Pending', 'PR: Changes Needed', 'PR: Needs +2']",https://github.com/uTox/uTox/pull/267,https://github.com/slr,3,https://github.com/uTox/uTox/pull/267#issuecomment-204647218,"to suppress #250. hope @ninedotnine wouldn't mind.

ha, I see what you did there.


This change is","Is anyone planning to finish the beep on msg feature?

good question. I haven't noticed the issue.",True,{}
uTox/uTox,https://github.com/uTox/uTox,267,2016-04-02T03:26:16Z,2016-04-09T22:34:33Z,2019-01-21T09:09:00Z,CLOSED,False,252,199,6,https://github.com/slr,more minor changes,4,"['PR: Pending', 'PR: Changes Needed', 'PR: Needs +2']",https://github.com/uTox/uTox/pull/267,https://github.com/ninedotnine,4,https://github.com/uTox/uTox/pull/267#issuecomment-204815122,"to suppress #250. hope @ninedotnine wouldn't mind.

ha, I see what you did there.


This change is","If nobody beats me to it, I'm planning to take another look when I have more time.",True,{}
uTox/uTox,https://github.com/uTox/uTox,267,2016-04-02T03:26:16Z,2016-04-09T22:34:33Z,2019-01-21T09:09:00Z,CLOSED,False,252,199,6,https://github.com/slr,more minor changes,4,"['PR: Pending', 'PR: Changes Needed', 'PR: Needs +2']",https://github.com/uTox/uTox/pull/267,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/267#issuecomment-205122575,"to suppress #250. hope @ninedotnine wouldn't mind.

ha, I see what you did there.


This change is","@ninedotnine if you do look back into you might want to track down @irungentoo on IRC he just wrote a bunch of music in str8c code, you might be able to get some help coming up with some cool beeps/tones for this",True,{}
uTox/uTox,https://github.com/uTox/uTox,274,2016-04-05T00:48:49Z,2016-04-05T03:11:46Z,2016-04-05T03:11:46Z,MERGED,True,25,8,2,https://github.com/stal888,fix some bugs,2,[],https://github.com/uTox/uTox/pull/274,https://github.com/stal888,1,https://github.com/uTox/uTox/pull/274,"#258, #273


This change is","#258, #273


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,274,2016-04-05T00:48:49Z,2016-04-05T03:11:46Z,2016-04-05T03:11:46Z,MERGED,True,25,8,2,https://github.com/stal888,fix some bugs,2,[],https://github.com/uTox/uTox/pull/274,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/274#issuecomment-205620387,"#258, #273


This change is","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,279,2016-04-06T10:31:56Z,2016-04-06T21:39:29Z,2016-04-07T07:14:39Z,MERGED,True,91,47,2,https://github.com/felix-salfelder,attempting to make tools/android-build.sh work (WIP),3,[],https://github.com/uTox/uTox/pull/279,https://github.com/felix-salfelder,1,https://github.com/uTox/uTox/pull/279,"trying to build this thing (for android.. :|).
first of all, i need more flexible paths, i think it make sense to pick them from the environment.
with my first commit i can run
bash$ TOOLCHAIN_NAME=arm-linux-androideabi-4.9 SDK_PATH=~/.opt/android-sdk-linux/ \
   ANDROID_NDK_HOME=~/.opt/android-ndk-r11c/ \
   tools/android-build.sh

now, i'm getting ls: cannot access ../openal-arm/lib/: No such file or directory. can you tell me what this is, and where i can get it from? EDIT: found it. sorry for the noise.
thank you


This change is","trying to build this thing (for android.. :|).
first of all, i need more flexible paths, i think it make sense to pick them from the environment.
with my first commit i can run
bash$ TOOLCHAIN_NAME=arm-linux-androideabi-4.9 SDK_PATH=~/.opt/android-sdk-linux/ \
   ANDROID_NDK_HOME=~/.opt/android-ndk-r11c/ \
   tools/android-build.sh

now, i'm getting ls: cannot access ../openal-arm/lib/: No such file or directory. can you tell me what this is, and where i can get it from? EDIT: found it. sorry for the noise.
thank you


This change is",True,"{'HEART': ['https://github.com/tsudoko', 'https://github.com/felix-salfelder'], 'CONFUSED': ['https://github.com/felix-salfelder']}"
uTox/uTox,https://github.com/uTox/uTox,279,2016-04-06T10:31:56Z,2016-04-06T21:39:29Z,2016-04-07T07:14:39Z,MERGED,True,91,47,2,https://github.com/felix-salfelder,attempting to make tools/android-build.sh work (WIP),3,[],https://github.com/uTox/uTox/pull/279,https://github.com/felix-salfelder,2,https://github.com/uTox/uTox/pull/279#issuecomment-206298225,"trying to build this thing (for android.. :|).
first of all, i need more flexible paths, i think it make sense to pick them from the environment.
with my first commit i can run
bash$ TOOLCHAIN_NAME=arm-linux-androideabi-4.9 SDK_PATH=~/.opt/android-sdk-linux/ \
   ANDROID_NDK_HOME=~/.opt/android-ndk-r11c/ \
   tools/android-build.sh

now, i'm getting ls: cannot access ../openal-arm/lib/: No such file or directory. can you tell me what this is, and where i can get it from? EDIT: found it. sorry for the noise.
thank you


This change is",one more question: there are two similar android build scripts in tools. wouldn't it make sense to merge them?,True,{}
uTox/uTox,https://github.com/uTox/uTox,279,2016-04-06T10:31:56Z,2016-04-06T21:39:29Z,2016-04-07T07:14:39Z,MERGED,True,91,47,2,https://github.com/felix-salfelder,attempting to make tools/android-build.sh work (WIP),3,[],https://github.com/uTox/uTox/pull/279,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/279#issuecomment-206394729,"trying to build this thing (for android.. :|).
first of all, i need more flexible paths, i think it make sense to pick them from the environment.
with my first commit i can run
bash$ TOOLCHAIN_NAME=arm-linux-androideabi-4.9 SDK_PATH=~/.opt/android-sdk-linux/ \
   ANDROID_NDK_HOME=~/.opt/android-ndk-r11c/ \
   tools/android-build.sh

now, i'm getting ls: cannot access ../openal-arm/lib/: No such file or directory. can you tell me what this is, and where i can get it from? EDIT: found it. sorry for the noise.
thank you


This change is","https://github.com/GrayHatter/uTox/blob/android/tools/build-android.sh
This is the one i'm using now. I couldn't get the other to work.",True,{}
uTox/uTox,https://github.com/uTox/uTox,279,2016-04-06T10:31:56Z,2016-04-06T21:39:29Z,2016-04-07T07:14:39Z,MERGED,True,91,47,2,https://github.com/felix-salfelder,attempting to make tools/android-build.sh work (WIP),3,[],https://github.com/uTox/uTox/pull/279,https://github.com/felix-salfelder,4,https://github.com/uTox/uTox/pull/279#issuecomment-206399014,"trying to build this thing (for android.. :|).
first of all, i need more flexible paths, i think it make sense to pick them from the environment.
with my first commit i can run
bash$ TOOLCHAIN_NAME=arm-linux-androideabi-4.9 SDK_PATH=~/.opt/android-sdk-linux/ \
   ANDROID_NDK_HOME=~/.opt/android-ndk-r11c/ \
   tools/android-build.sh

now, i'm getting ls: cannot access ../openal-arm/lib/: No such file or directory. can you tell me what this is, and where i can get it from? EDIT: found it. sorry for the noise.
thank you


This change is","thanks.
both of them did not work here (mostly due to hardcoded paths that do not exist on my end), but i can give this one a try, too...",True,{}
uTox/uTox,https://github.com/uTox/uTox,279,2016-04-06T10:31:56Z,2016-04-06T21:39:29Z,2016-04-07T07:14:39Z,MERGED,True,91,47,2,https://github.com/felix-salfelder,attempting to make tools/android-build.sh work (WIP),3,[],https://github.com/uTox/uTox/pull/279,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/279#issuecomment-206404685,"trying to build this thing (for android.. :|).
first of all, i need more flexible paths, i think it make sense to pick them from the environment.
with my first commit i can run
bash$ TOOLCHAIN_NAME=arm-linux-androideabi-4.9 SDK_PATH=~/.opt/android-sdk-linux/ \
   ANDROID_NDK_HOME=~/.opt/android-ndk-r11c/ \
   tools/android-build.sh

now, i'm getting ls: cannot access ../openal-arm/lib/: No such file or directory. can you tell me what this is, and where i can get it from? EDIT: found it. sorry for the noise.
thank you


This change is","For some odd reason, android wont let you change the singing key of the build on the play store, when I learned that, I just rewrote the whole thing.",True,{}
uTox/uTox,https://github.com/uTox/uTox,279,2016-04-06T10:31:56Z,2016-04-06T21:39:29Z,2016-04-07T07:14:39Z,MERGED,True,91,47,2,https://github.com/felix-salfelder,attempting to make tools/android-build.sh work (WIP),3,[],https://github.com/uTox/uTox/pull/279,https://github.com/felix-salfelder,6,https://github.com/uTox/uTox/pull/279#issuecomment-206463658,"trying to build this thing (for android.. :|).
first of all, i need more flexible paths, i think it make sense to pick them from the environment.
with my first commit i can run
bash$ TOOLCHAIN_NAME=arm-linux-androideabi-4.9 SDK_PATH=~/.opt/android-sdk-linux/ \
   ANDROID_NDK_HOME=~/.opt/android-ndk-r11c/ \
   tools/android-build.sh

now, i'm getting ls: cannot access ../openal-arm/lib/: No such file or directory. can you tell me what this is, and where i can get it from? EDIT: found it. sorry for the noise.
thank you


This change is","some parts of ""android-build.sh"" are missing in ""build-android.sh"". what is ./toolchain in build-android.sh? or, where is the toolchain supposed to be? and what is lib/arm? i don't have this here.
and: what is cpu-features.c? it's not in android-build.sh.
thank you",True,{}
uTox/uTox,https://github.com/uTox/uTox,279,2016-04-06T10:31:56Z,2016-04-06T21:39:29Z,2016-04-07T07:14:39Z,MERGED,True,91,47,2,https://github.com/felix-salfelder,attempting to make tools/android-build.sh work (WIP),3,[],https://github.com/uTox/uTox/pull/279,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/279#issuecomment-206583661,"trying to build this thing (for android.. :|).
first of all, i need more flexible paths, i think it make sense to pick them from the environment.
with my first commit i can run
bash$ TOOLCHAIN_NAME=arm-linux-androideabi-4.9 SDK_PATH=~/.opt/android-sdk-linux/ \
   ANDROID_NDK_HOME=~/.opt/android-ndk-r11c/ \
   tools/android-build.sh

now, i'm getting ls: cannot access ../openal-arm/lib/: No such file or directory. can you tell me what this is, and where i can get it from? EDIT: found it. sorry for the noise.
thank you


This change is","@felix-salfelder so I merged your changes into android then patched your script a bit.
now it should work for you, you just have to grab the arm libraries from build.tox.chat and tar xf them into lib/arm/ and everything should work.
Find me here or on IRC if you need more help!
If you want to be super awesome, you could add another script that'll curl -O from build.tox.chat?",True,{}
uTox/uTox,https://github.com/uTox/uTox,279,2016-04-06T10:31:56Z,2016-04-06T21:39:29Z,2016-04-07T07:14:39Z,MERGED,True,91,47,2,https://github.com/felix-salfelder,attempting to make tools/android-build.sh work (WIP),3,[],https://github.com/uTox/uTox/pull/279,https://github.com/felix-salfelder,8,https://github.com/uTox/uTox/pull/279#issuecomment-206728776,"trying to build this thing (for android.. :|).
first of all, i need more flexible paths, i think it make sense to pick them from the environment.
with my first commit i can run
bash$ TOOLCHAIN_NAME=arm-linux-androideabi-4.9 SDK_PATH=~/.opt/android-sdk-linux/ \
   ANDROID_NDK_HOME=~/.opt/android-ndk-r11c/ \
   tools/android-build.sh

now, i'm getting ls: cannot access ../openal-arm/lib/: No such file or directory. can you tell me what this is, and where i can get it from? EDIT: found it. sorry for the noise.
thank you


This change is","you could add another script that'll curl -O from build.tox.chat?

honestly, my personal reason for the build attempt is to turn the source code into an apk. so i'd rather not want to incorporate even more binaries. my idea is to line up the source repositories for the various projects and build one after the other. i use CPPFLAGS and LDFLAGS etc. (from settings.android) to point to the respective locations of the other packages' build artifacts.
of course (just in case my approach works), you will in principle be able to
curl -O stuff
tar -xf stuff
CPPFLAGS=-Istuff/ LDFLAGS=-Lstuff/ build_android.sh

but these lines should clearly go to a different file.
another thought: toxcore also provides build scripts, however, these merely invoke the usual build system with specialised options. it might make a lot of sense to do the same here (i.e. use the Makefile provided at top level, rather than reimplement it as a shell script).",True,{}
uTox/uTox,https://github.com/uTox/uTox,283,2016-04-07T11:33:46Z,2016-04-09T22:21:01Z,2019-01-21T09:09:00Z,MERGED,True,24,13,1,https://github.com/felix-salfelder,android build,8,"['PR: Pending', 'PR: Needs +2', 'pla:android']",https://github.com/uTox/uTox/pull/283,https://github.com/felix-salfelder,1,https://github.com/uTox/uTox/pull/283,"need these fixes to compile


This change is","need these fixes to compile


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,283,2016-04-07T11:33:46Z,2016-04-09T22:21:01Z,2019-01-21T09:09:00Z,MERGED,True,24,13,1,https://github.com/felix-salfelder,android build,8,"['PR: Pending', 'PR: Needs +2', 'pla:android']",https://github.com/uTox/uTox/pull/283,https://github.com/felix-salfelder,2,https://github.com/uTox/uTox/pull/283#issuecomment-206834297,"need these fixes to compile


This change is","ok, now i can compile and link...",True,{}
uTox/uTox,https://github.com/uTox/uTox,283,2016-04-07T11:33:46Z,2016-04-09T22:21:01Z,2019-01-21T09:09:00Z,MERGED,True,24,13,1,https://github.com/felix-salfelder,android build,8,"['PR: Pending', 'PR: Needs +2', 'pla:android']",https://github.com/uTox/uTox/pull/283,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/283#issuecomment-206991152,"need these fixes to compile


This change is","Otherwise looks good
I'll test it today",True,{}
uTox/uTox,https://github.com/uTox/uTox,284,2016-04-09T21:47:00Z,2016-04-09T22:41:09Z,2016-04-09T23:08:27Z,CLOSED,False,4,4,1,https://github.com/Chuongv,Update cocoa compile docs,1,[],https://github.com/uTox/uTox/pull/284,https://github.com/Chuongv,1,https://github.com/uTox/uTox/pull/284,"Correct the path to the makefile in cocoa


This change is","Correct the path to the makefile in cocoa


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,284,2016-04-09T21:47:00Z,2016-04-09T22:41:09Z,2016-04-09T23:08:27Z,CLOSED,False,4,4,1,https://github.com/Chuongv,Update cocoa compile docs,1,[],https://github.com/uTox/uTox/pull/284,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/284#issuecomment-207866974,"Correct the path to the makefile in cocoa


This change is",,True,{}
uTox/uTox,https://github.com/uTox/uTox,284,2016-04-09T21:47:00Z,2016-04-09T22:41:09Z,2016-04-09T23:08:27Z,CLOSED,False,4,4,1,https://github.com/Chuongv,Update cocoa compile docs,1,[],https://github.com/uTox/uTox/pull/284,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/284#issuecomment-207867005,"Correct the path to the makefile in cocoa


This change is","I lied, resubmit to develop pls",True,{}
uTox/uTox,https://github.com/uTox/uTox,284,2016-04-09T21:47:00Z,2016-04-09T22:41:09Z,2016-04-09T23:08:27Z,CLOSED,False,4,4,1,https://github.com/Chuongv,Update cocoa compile docs,1,[],https://github.com/uTox/uTox/pull/284,https://github.com/stal888,4,https://github.com/uTox/uTox/pull/284#issuecomment-207867009,"Correct the path to the makefile in cocoa


This change is",plz,True,{}
uTox/uTox,https://github.com/uTox/uTox,285,2016-04-09T23:06:18Z,2016-04-09T23:06:28Z,2016-04-09T23:08:29Z,MERGED,True,4,4,1,https://github.com/GrayHatter,Prefix cocoa folder with src/,1,[],https://github.com/uTox/uTox/pull/285,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/285,"Added correct path.


This change is","Added correct path.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,288,2016-04-11T07:58:26Z,2016-04-11T16:50:36Z,2016-04-11T16:50:36Z,MERGED,True,1,1,1,https://github.com/felix-salfelder,fix SYSROOT default setting,1,[],https://github.com/uTox/uTox/pull/288,https://github.com/felix-salfelder,1,https://github.com/uTox/uTox/pull/288,"now, it's clear why -I$SYSROOT/usr/include 59791f8  is unnecessary...


This change is","now, it's clear why -I$SYSROOT/usr/include 59791f8  is unnecessary...


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,290,2016-04-13T00:30:15Z,2016-04-16T20:59:19Z,2016-04-16T20:59:19Z,MERGED,True,124,86,8,https://github.com/stal888,cocoa: add tox: url handling and limit window size,3,[],https://github.com/uTox/uTox/pull/290,https://github.com/stal888,1,https://github.com/uTox/uTox/pull/290,"fixes #289 and #286.


This change is","fixes #289 and #286.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,290,2016-04-13T00:30:15Z,2016-04-16T20:59:19Z,2016-04-16T20:59:19Z,MERGED,True,124,86,8,https://github.com/stal888,cocoa: add tox: url handling and limit window size,3,[],https://github.com/uTox/uTox/pull/290,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/290#issuecomment-209564021,"fixes #289 and #286.


This change is","will test soon, see other comments

Reviewed 6 of 8 files at r1.
Review status: 6 of 8 files reviewed at latest revision, 2 unresolved discussions.

src/commands.c, line 88 [r1] (raw file):
does anyone use this format?
Can we drop it?

src/tox.c, line 1359 [r1] (raw file):
are you sure this is the best way?
i.e., are you happy with doing it this way?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,290,2016-04-13T00:30:15Z,2016-04-16T20:59:19Z,2016-04-16T20:59:19Z,MERGED,True,124,86,8,https://github.com/stal888,cocoa: add tox: url handling and limit window size,3,[],https://github.com/uTox/uTox/pull/290,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/290#issuecomment-209564519,"fixes #289 and #286.


This change is","Review status: 6 of 8 files reviewed at latest revision, 3 unresolved discussions.

src/commands.c, line 126 [r1] (raw file):
from @impyy https://github.com/Tox-Archive/Tox-STS/blob/master/STS.md#dns-discovery
@stal888 think we can just drop this then?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,290,2016-04-13T00:30:15Z,2016-04-16T20:59:19Z,2016-04-16T20:59:19Z,MERGED,True,124,86,8,https://github.com/stal888,cocoa: add tox: url handling and limit window size,3,[],https://github.com/uTox/uTox/pull/290,https://github.com/alexbakker,4,https://github.com/uTox/uTox/pull/290#issuecomment-209566003,"fixes #289 and #286.


This change is",You can drop the tox2 stuff. There's no tox dns service that supports that anymore.,True,{}
uTox/uTox,https://github.com/uTox/uTox,290,2016-04-13T00:30:15Z,2016-04-16T20:59:19Z,2016-04-16T20:59:19Z,MERGED,True,124,86,8,https://github.com/stal888,cocoa: add tox: url handling and limit window size,3,[],https://github.com/uTox/uTox/pull/290,https://github.com/stal888,5,https://github.com/uTox/uTox/pull/290#issuecomment-209570112,"fixes #289 and #286.


This change is","src/commands.c, line 88 [r1] (raw file):
I think tox://, tox:, and tox:/// were all used at some point

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,290,2016-04-13T00:30:15Z,2016-04-16T20:59:19Z,2016-04-16T20:59:19Z,MERGED,True,124,86,8,https://github.com/stal888,cocoa: add tox: url handling and limit window size,3,[],https://github.com/uTox/uTox/pull/290,https://github.com/stal888,6,https://github.com/uTox/uTox/pull/290#issuecomment-209570181,"fixes #289 and #286.


This change is","src/commands.c, line 126 [r1] (raw file):
sure

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,290,2016-04-13T00:30:15Z,2016-04-16T20:59:19Z,2016-04-16T20:59:19Z,MERGED,True,124,86,8,https://github.com/stal888,cocoa: add tox: url handling and limit window size,3,[],https://github.com/uTox/uTox/pull/290,https://github.com/stal888,7,https://github.com/uTox/uTox/pull/290#issuecomment-209571189,"fixes #289 and #286.


This change is","src/tox.c, line 1359 [r1] (raw file):
We can potentially piggyback on this message later. In fact we could probably get rid of UPDATE_TRAY as well

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,290,2016-04-13T00:30:15Z,2016-04-16T20:59:19Z,2016-04-16T20:59:19Z,MERGED,True,124,86,8,https://github.com/stal888,cocoa: add tox: url handling and limit window size,3,[],https://github.com/uTox/uTox/pull/290,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/290#issuecomment-209574085,"fixes #289 and #286.


This change is","Reviewed 1 of 8 files at r1.
Review status: 7 of 8 files reviewed at latest revision, 3 unresolved discussions.

src/commands.c, line 88 [r1] (raw file):
So you still want to keep that format?
Your call, I'm okay with either

src/commands.c, line 126 [r1] (raw file):
agreed, and per @impyy -> delete the pin section

src/tox.c, line 1359 [r1] (raw file):
I'd rather leave update tray in for now. There's still some outstanding issues that need to be solved. Removing may be the best idea, but I don't how to best solve them all so don't want to do anything on that yet.
That's a good idea, we can use this to do things once the tox instance comes up. Like kickoff AV threading and $OTHER.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,290,2016-04-13T00:30:15Z,2016-04-16T20:59:19Z,2016-04-16T20:59:19Z,MERGED,True,124,86,8,https://github.com/stal888,cocoa: add tox: url handling and limit window size,3,[],https://github.com/uTox/uTox/pull/290,https://github.com/stal888,9,https://github.com/uTox/uTox/pull/290#issuecomment-209586771,"fixes #289 and #286.


This change is","src/commands.c, line 88 [r1] (raw file):
Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,290,2016-04-13T00:30:15Z,2016-04-16T20:59:19Z,2016-04-16T20:59:19Z,MERGED,True,124,86,8,https://github.com/stal888,cocoa: add tox: url handling and limit window size,3,[],https://github.com/uTox/uTox/pull/290,https://github.com/stal888,10,https://github.com/uTox/uTox/pull/290#issuecomment-209587235,"fixes #289 and #286.


This change is","Review status: 7 of 8 files reviewed at latest revision, 1 unresolved discussion.

src/commands.c, line 126 [r1] (raw file):
Done.

src/tox.c, line 1359 [r1] (raw file):
I'll keep it the way it is then

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,290,2016-04-13T00:30:15Z,2016-04-16T20:59:19Z,2016-04-16T20:59:19Z,MERGED,True,124,86,8,https://github.com/stal888,cocoa: add tox: url handling and limit window size,3,[],https://github.com/uTox/uTox/pull/290,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/290#issuecomment-209587671,"fixes #289 and #286.


This change is","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,294,2016-04-23T21:55:42Z,2016-04-23T22:39:07Z,2016-04-23T22:39:07Z,MERGED,True,107,4,1,https://github.com/stal888,copy log functions to cocoa,1,[],https://github.com/uTox/uTox/pull/294,https://github.com/stal888,1,https://github.com/uTox/uTox/pull/294,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,295,2016-04-24T01:40:57Z,2016-05-06T01:02:56Z,2016-11-18T23:59:09Z,MERGED,True,462,535,17,https://github.com/GrayHatter,Messages queue,10,[],https://github.com/uTox/uTox/pull/295,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/295,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,295,2016-04-24T01:40:57Z,2016-05-06T01:02:56Z,2016-11-18T23:59:09Z,MERGED,True,462,535,17,https://github.com/GrayHatter,Messages queue,10,[],https://github.com/uTox/uTox/pull/295,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/295#issuecomment-213868575,This change is,"careful, this might resend every message every time you connect to a friend...",True,{}
uTox/uTox,https://github.com/uTox/uTox,296,2016-04-24T06:06:57Z,2016-04-28T18:34:25Z,2016-04-29T01:14:20Z,MERGED,True,957,542,24,https://github.com/GrayHatter,Group icon,28,[],https://github.com/uTox/uTox/pull/296,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/296,"fixes #293 #255


This change is","fixes #293 #255


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,296,2016-04-24T06:06:57Z,2016-04-28T18:34:25Z,2016-04-29T01:14:20Z,MERGED,True,957,542,24,https://github.com/GrayHatter,Group icon,28,[],https://github.com/uTox/uTox/pull/296,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/296#issuecomment-214870043,"fixes #293 #255


This change is",@stal888 @tsudoko this should be ready to merge,True,{}
uTox/uTox,https://github.com/uTox/uTox,299,2016-04-25T08:22:16Z,2016-04-28T05:26:27Z,2016-04-28T05:26:27Z,MERGED,True,392,250,22,https://github.com/GrayHatter,Mini friends list ,5,[],https://github.com/uTox/uTox/pull/299,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/299,"The roster can be a bit bulky in it's current shape.
I also changed the settings struct, so this might not compile on other platforms (xlib works)


This change is","The roster can be a bit bulky in it's current shape.
I also changed the settings struct, so this might not compile on other platforms (xlib works)


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,299,2016-04-25T08:22:16Z,2016-04-28T05:26:27Z,2016-04-28T05:26:27Z,MERGED,True,392,250,22,https://github.com/GrayHatter,Mini friends list ,5,[],https://github.com/uTox/uTox/pull/299,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/299#issuecomment-214204022,"The roster can be a bit bulky in it's current shape.
I also changed the settings struct, so this might not compile on other platforms (xlib works)


This change is","I probably should fix the icons for users w/o an avatar, but I'm too tired for svg.c right now.
Here have some images!
before

after",True,{}
uTox/uTox,https://github.com/uTox/uTox,299,2016-04-25T08:22:16Z,2016-04-28T05:26:27Z,2016-04-28T05:26:27Z,MERGED,True,392,250,22,https://github.com/GrayHatter,Mini friends list ,5,[],https://github.com/uTox/uTox/pull/299,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/299#issuecomment-215049447,"The roster can be a bit bulky in it's current shape.
I also changed the settings struct, so this might not compile on other platforms (xlib works)


This change is","looks good to me, except the icon thing. This should be adjusted for users as well as groups.",True,{}
uTox/uTox,https://github.com/uTox/uTox,299,2016-04-25T08:22:16Z,2016-04-28T05:26:27Z,2016-04-28T05:26:27Z,MERGED,True,392,250,22,https://github.com/GrayHatter,Mini friends list ,5,[],https://github.com/uTox/uTox/pull/299,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/299#issuecomment-215063259,"The roster can be a bit bulky in it's current shape.
I also changed the settings struct, so this might not compile on other platforms (xlib works)


This change is","I probably should fix the icons for users w/o an avatar, but I'm too tired for svg.c right now.

here you go: https://github.com/GrayHatter/uTox/pull/304 :)",True,{}
uTox/uTox,https://github.com/uTox/uTox,301,2016-04-25T23:02:41Z,2016-04-27T15:21:52Z,2016-04-29T01:19:56Z,MERGED,True,40,13,4,https://github.com/GrayHatter,re-enable proxy support,1,[],https://github.com/uTox/uTox/pull/301,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/301,"fixes #259


This change is","fixes #259


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,301,2016-04-25T23:02:41Z,2016-04-27T15:21:52Z,2016-04-29T01:19:56Z,MERGED,True,40,13,4,https://github.com/GrayHatter,re-enable proxy support,1,[],https://github.com/uTox/uTox/pull/301,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/301#issuecomment-215073910,"fixes #259


This change is",works for me üëç,True,{}
uTox/uTox,https://github.com/uTox/uTox,304,2016-04-27T12:10:15Z,2016-04-27T21:27:59Z,2016-04-27T21:43:33Z,MERGED,True,60,21,3,https://github.com/cebe,added user icons for mini roster,1,[],https://github.com/uTox/uTox/pull/304,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/304,"icons for https://github.com/GrayHatter/uTox/pull/299
I have also added some comments to svg.c to make it easier to understand the memory size.


This change is","icons for https://github.com/GrayHatter/uTox/pull/299
I have also added some comments to svg.c to make it easier to understand the memory size.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,306,2016-04-28T02:59:35Z,2016-04-28T03:02:48Z,2016-04-28T10:03:39Z,MERGED,True,1,1,1,https://github.com/cebe,fix text color in selected group icon,1,[],https://github.com/uTox/uTox/pull/306,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/306,"otherwise it would be white text on white background.


This change is","otherwise it would be white text on white background.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,308,2016-05-01T12:19:04Z,2016-05-02T19:02:08Z,2016-05-02T21:02:42Z,MERGED,True,15,0,1,https://github.com/sfan5,Update German translation,1,[],https://github.com/uTox/uTox/pull/308,https://github.com/sfan5,1,https://github.com/uTox/uTox/pull/308,"üé±


This change is","üé±


This change is",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,317,2016-05-10T20:11:10Z,2016-05-10T22:32:19Z,2016-05-10T22:37:31Z,MERGED,True,1,1,1,https://github.com/cebe,changed dark theme pending message color for better contrast,1,[],https://github.com/uTox/uTox/pull/317,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/317,"fixes #315
before:

after:



This change is","fixes #315
before:

after:



This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,317,2016-05-10T20:11:10Z,2016-05-10T22:32:19Z,2016-05-10T22:37:31Z,MERGED,True,1,1,1,https://github.com/cebe,changed dark theme pending message color for better contrast,1,[],https://github.com/uTox/uTox/pull/317,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/317#issuecomment-218309826,"fixes #315
before:

after:



This change is","I like it, thanks mate!
Any chance I can get you to choose colors for the other themes?",True,{}
uTox/uTox,https://github.com/uTox/uTox,317,2016-05-10T20:11:10Z,2016-05-10T22:32:19Z,2016-05-10T22:37:31Z,MERGED,True,1,1,1,https://github.com/cebe,changed dark theme pending message color for better contrast,1,[],https://github.com/uTox/uTox/pull/317,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/317#issuecomment-218312683,"fixes #315
before:

after:



This change is",maybe... ;),True,{}
uTox/uTox,https://github.com/uTox/uTox,333,2016-05-20T22:56:50Z,2016-05-21T06:12:44Z,2016-11-18T23:59:10Z,MERGED,True,4774,2991,85,https://github.com/GrayHatter,Version v0.9.0 SRSLY?,162,[],https://github.com/uTox/uTox/pull/333,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/333,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,340,2016-05-23T21:52:40Z,2016-05-24T23:18:43Z,2016-05-24T23:18:43Z,MERGED,True,36,10,5,https://github.com/stal888,Implement inline video in cocoa,3,[],https://github.com/uTox/uTox/pull/340,https://github.com/stal888,1,https://github.com/uTox/uTox/pull/340,"this performs better than i expected it to
important: This only works if draw_inline_image is called no more than once per frame


This change is","this performs better than i expected it to
important: This only works if draw_inline_image is called no more than once per frame


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,345,2016-05-26T21:24:21Z,2016-05-30T04:39:28Z,2016-05-31T21:18:56Z,MERGED,True,1,1,1,https://github.com/felix-salfelder,version typo fix,3,[],https://github.com/uTox/uTox/pull/345,https://github.com/felix-salfelder,1,https://github.com/uTox/uTox/pull/345,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,345,2016-05-26T21:24:21Z,2016-05-30T04:39:28Z,2016-05-31T21:18:56Z,MERGED,True,1,1,1,https://github.com/felix-salfelder,version typo fix,3,[],https://github.com/uTox/uTox/pull/345,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/345#issuecomment-222410181,This change is,thanks mate! sorry I was away,True,{}
uTox/uTox,https://github.com/uTox/uTox,359,2016-06-04T09:13:00Z,2016-06-05T18:01:16Z,2016-06-05T18:01:16Z,CLOSED,False,4,0,2,https://github.com/alugarius,adding linux screenshot,4,[],https://github.com/uTox/uTox/pull/359,https://github.com/alugarius,1,https://github.com/uTox/uTox/pull/359,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,359,2016-06-04T09:13:00Z,2016-06-05T18:01:16Z,2016-06-05T18:01:16Z,CLOSED,False,4,0,2,https://github.com/alugarius,adding linux screenshot,4,[],https://github.com/uTox/uTox/pull/359,https://github.com/alugarius,2,https://github.com/uTox/uTox/pull/359#issuecomment-223777224,This change is,If thus is added ill update the readme,True,{}
uTox/uTox,https://github.com/uTox/uTox,359,2016-06-04T09:13:00Z,2016-06-05T18:01:16Z,2016-06-05T18:01:16Z,CLOSED,False,4,0,2,https://github.com/alugarius,adding linux screenshot,4,[],https://github.com/uTox/uTox/pull/359,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/359#issuecomment-223780008,This change is,"you can do both in the same PR
That's actually what I was waiting on, was for you to update the readme too",True,{}
uTox/uTox,https://github.com/uTox/uTox,359,2016-06-04T09:13:00Z,2016-06-05T18:01:16Z,2016-06-05T18:01:16Z,CLOSED,False,4,0,2,https://github.com/alugarius,adding linux screenshot,4,[],https://github.com/uTox/uTox/pull/359,https://github.com/alugarius,4,https://github.com/uTox/uTox/pull/359#issuecomment-223799585,This change is,"oh ok, im not quiet into git",True,{}
uTox/uTox,https://github.com/uTox/uTox,359,2016-06-04T09:13:00Z,2016-06-05T18:01:16Z,2016-06-05T18:01:16Z,CLOSED,False,4,0,2,https://github.com/alugarius,adding linux screenshot,4,[],https://github.com/uTox/uTox/pull/359,https://github.com/alugarius,5,https://github.com/uTox/uTox/pull/359#issuecomment-223799873,This change is,yay ^^,True,{}
uTox/uTox,https://github.com/uTox/uTox,359,2016-06-04T09:13:00Z,2016-06-05T18:01:16Z,2016-06-05T18:01:16Z,CLOSED,False,4,0,2,https://github.com/alugarius,adding linux screenshot,4,[],https://github.com/uTox/uTox/pull/359,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/359#issuecomment-223827448,This change is,merged!,True,{}
uTox/uTox,https://github.com/uTox/uTox,360,2016-06-05T16:51:23Z,2016-06-05T17:52:32Z,2016-06-05T18:27:12Z,MERGED,True,64,20,1,https://github.com/sfan5,Update German translation,1,[],https://github.com/uTox/uTox/pull/360,https://github.com/sfan5,1,https://github.com/uTox/uTox/pull/360,"New translations:

CALL_FRIEND_HAD_ENDED_CALL
FRIEND_ALIAS
FRIEND_PUBLIC_KEY



This change is","New translations:

CALL_FRIEND_HAD_ENDED_CALL
FRIEND_ALIAS
FRIEND_PUBLIC_KEY



This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,360,2016-06-05T16:51:23Z,2016-06-05T17:52:32Z,2016-06-05T18:27:12Z,MERGED,True,64,20,1,https://github.com/sfan5,Update German translation,1,[],https://github.com/uTox/uTox/pull/360,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/360#issuecomment-223826948,"New translations:

CALL_FRIEND_HAD_ENDED_CALL
FRIEND_ALIAS
FRIEND_PUBLIC_KEY



This change is","Thank you for sorting the strings the same as in en.h!
You have no idea how nice is was to see that!",True,{}
uTox/uTox,https://github.com/uTox/uTox,364,2016-06-11T18:10:45Z,2016-06-11T18:14:40Z,2016-06-11T18:14:40Z,MERGED,True,1,1,1,https://github.com/Encrypt,Re-introduced audio filtering,1,[],https://github.com/uTox/uTox/pull/364,https://github.com/Encrypt,1,https://github.com/uTox/uTox/pull/364,"As mentioned by @Garve, audio filtering was disabled in the latest version of uTox.
This closes #363.


This change is","As mentioned by @Garve, audio filtering was disabled in the latest version of uTox.
This closes #363.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,364,2016-06-11T18:10:45Z,2016-06-11T18:14:40Z,2016-06-11T18:14:40Z,MERGED,True,1,1,1,https://github.com/Encrypt,Re-introduced audio filtering,1,[],https://github.com/uTox/uTox/pull/364,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/364#issuecomment-225381217,"As mentioned by @Garve, audio filtering was disabled in the latest version of uTox.
This closes #363.


This change is","AH Makefiles, how I hate you with the passion of a thousand suns...
Thanks @Encrypt",True,{}
uTox/uTox,https://github.com/uTox/uTox,365,2016-06-12T13:08:21Z,2016-06-12T16:24:49Z,2016-06-12T16:24:50Z,MERGED,True,5,5,1,https://github.com/pthevenet,Update fr.h,1,[],https://github.com/uTox/uTox/pull/365,https://github.com/pthevenet,1,https://github.com/uTox/uTox/pull/365,"minor small 'mistakes' corrected


This change is","minor small 'mistakes' corrected


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,365,2016-06-12T13:08:21Z,2016-06-12T16:24:49Z,2016-06-12T16:24:50Z,MERGED,True,5,5,1,https://github.com/pthevenet,Update fr.h,1,[],https://github.com/uTox/uTox/pull/365,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/365#issuecomment-225446253,"minor small 'mistakes' corrected


This change is",thanks mate!,True,{}
uTox/uTox,https://github.com/uTox/uTox,366,2016-06-16T23:00:16Z,2016-06-18T22:11:30Z,2016-06-18T22:11:30Z,MERGED,True,82,26,6,https://github.com/utoxxer,Chat log export button,8,[],https://github.com/uTox/uTox/pull/366,https://github.com/utoxxer,1,https://github.com/uTox/uTox/pull/366,"A button to export chat log.


This change is","A button to export chat log.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,366,2016-06-16T23:00:16Z,2016-06-18T22:11:30Z,2016-06-18T22:11:30Z,MERGED,True,82,26,6,https://github.com/utoxxer,Chat log export button,8,[],https://github.com/uTox/uTox/pull/366,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/366#issuecomment-226740419,"A button to export chat log.


This change is","something is wrong with this PR, it should be sent against the develop branch and not multidevice.",True,{}
uTox/uTox,https://github.com/uTox/uTox,367,2016-06-16T23:03:37Z,2016-06-18T22:11:30Z,2016-06-18T22:11:30Z,MERGED,True,75,26,6,https://github.com/utoxxer,ui.c new button for chat log export,8,[],https://github.com/uTox/uTox/pull/367,https://github.com/utoxxer,1,https://github.com/uTox/uTox/pull/367,"Added chat log export button to ui.c


This change is","Added chat log export button to ui.c


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,367,2016-06-16T23:03:37Z,2016-06-18T22:11:30Z,2016-06-18T22:11:30Z,MERGED,True,75,26,6,https://github.com/utoxxer,ui.c new button for chat log export,8,[],https://github.com/uTox/uTox/pull/367,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/367#issuecomment-226740443,"Added chat log export button to ui.c


This change is","something is wrong with this PR, it should be sent against the develop branch and not multidevice.",True,{}
uTox/uTox,https://github.com/uTox/uTox,367,2016-06-16T23:03:37Z,2016-06-18T22:11:30Z,2016-06-18T22:11:30Z,MERGED,True,75,26,6,https://github.com/utoxxer,ui.c new button for chat log export,8,[],https://github.com/uTox/uTox/pull/367,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/367#issuecomment-226893361,"Added chat log export button to ui.c


This change is","No, not for this this one. Usually, you're right, but I told him to submit it here.",True,{}
uTox/uTox,https://github.com/uTox/uTox,369,2016-06-22T22:02:41Z,2016-06-22T22:07:21Z,2016-06-25T06:50:23Z,MERGED,True,7,0,1,https://github.com/endoffile78,Add files created by editors to .gitignore,1,[],https://github.com/uTox/uTox/pull/369,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/369,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,369,2016-06-22T22:02:41Z,2016-06-22T22:07:21Z,2016-06-25T06:50:23Z,MERGED,True,7,0,1,https://github.com/endoffile78,Add files created by editors to .gitignore,1,[],https://github.com/uTox/uTox/pull/369,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/369#issuecomment-227892267,This change is,thanks mate!,True,{}
uTox/uTox,https://github.com/uTox/uTox,374,2016-06-25T07:03:15Z,2016-06-25T20:29:58Z,2016-07-04T01:25:44Z,MERGED,True,5,6,1,https://github.com/endoffile78,Update cygwin-compile.sh,1,[],https://github.com/uTox/uTox/pull/374,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/374,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,374,2016-06-25T07:03:15Z,2016-06-25T20:29:58Z,2016-07-04T01:25:44Z,MERGED,True,5,6,1,https://github.com/endoffile78,Update cygwin-compile.sh,1,[],https://github.com/uTox/uTox/pull/374,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/374#issuecomment-228563592,This change is,I've updated make to work on cygwin as well. I'll merge this if you first try CC=x86_64-w64-mingw32-gcc make It should greatly speedup your compile times if you're only changing small parts of code.,True,{}
uTox/uTox,https://github.com/uTox/uTox,374,2016-06-25T07:03:15Z,2016-06-25T20:29:58Z,2016-07-04T01:25:44Z,MERGED,True,5,6,1,https://github.com/endoffile78,Update cygwin-compile.sh,1,[],https://github.com/uTox/uTox/pull/374,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/374#issuecomment-228568500,This change is,@GrayHatter I tried that before and I couldn't get it to work so I decided to use the cygwin-compile script. I have been having trouble getting it to link openal and libsodium. They are installed in cygwin and I have the mimgw versions from cygwin too.,True,{}
uTox/uTox,https://github.com/uTox/uTox,374,2016-06-25T07:03:15Z,2016-06-25T20:29:58Z,2016-07-04T01:25:44Z,MERGED,True,5,6,1,https://github.com/endoffile78,Update cygwin-compile.sh,1,[],https://github.com/uTox/uTox/pull/374,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/374#issuecomment-228569168,This change is,"merged, thanks mate!
I followed the instructions on toxcore for cross compiling everything, and with make install on all of them from within cygwin, everything seems to work for me. But I may have done something strange that I've forgotten about.
Hope this works for you",True,{}
uTox/uTox,https://github.com/uTox/uTox,378,2016-06-27T23:10:05Z,2016-06-30T00:40:36Z,2019-01-21T09:09:01Z,MERGED,True,213,39,19,https://github.com/endoffile78,Added settings for group chats,3,"['PR: Changes Needed', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/378,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/378,"Supported settings:

setting the topic
setting the notification level (on, when mentioned, off)

I tested it on linux and windows.
Closes #272


This change is","Supported settings:

setting the topic
setting the notification level (on, when mentioned, off)

I tested it on linux and windows.
Closes #272


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,378,2016-06-27T23:10:05Z,2016-06-30T00:40:36Z,2019-01-21T09:09:01Z,MERGED,True,213,39,19,https://github.com/endoffile78,Added settings for group chats,3,"['PR: Changes Needed', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/378,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/378#issuecomment-228905454,"Supported settings:

setting the topic
setting the notification level (on, when mentioned, off)

I tested it on linux and windows.
Closes #272


This change is","@endoffile78 for linux and windows, it should be as simple as modifying the notify() fxns.
Also, the notify settings aren't saved anywhere. I can add that in if you don't plan too.",True,{}
uTox/uTox,https://github.com/uTox/uTox,378,2016-06-27T23:10:05Z,2016-06-30T00:40:36Z,2019-01-21T09:09:01Z,MERGED,True,213,39,19,https://github.com/endoffile78,Added settings for group chats,3,"['PR: Changes Needed', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/378,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/378#issuecomment-228905973,"Supported settings:

setting the topic
setting the notification level (on, when mentioned, off)

I tested it on linux and windows.
Closes #272


This change is",@GrayHatter Yeah thats what I did. I didn't add in the ability to save the settings because it specific to the groupchat and since the groupchats aren't persistent it doesn't make sense to have that right now.,True,{}
uTox/uTox,https://github.com/uTox/uTox,378,2016-06-27T23:10:05Z,2016-06-30T00:40:36Z,2019-01-21T09:09:01Z,MERGED,True,213,39,19,https://github.com/endoffile78,Added settings for group chats,3,"['PR: Changes Needed', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/378,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/378#issuecomment-228906214,"Supported settings:

setting the topic
setting the notification level (on, when mentioned, off)

I tested it on linux and windows.
Closes #272


This change is","I meant OSX and windows...
Also, what do you think about having a default setting?",True,{}
uTox/uTox,https://github.com/uTox/uTox,378,2016-06-27T23:10:05Z,2016-06-30T00:40:36Z,2019-01-21T09:09:01Z,MERGED,True,213,39,19,https://github.com/endoffile78,Added settings for group chats,3,"['PR: Changes Needed', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/378,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/378#issuecomment-228913935,"Supported settings:

setting the topic
setting the notification level (on, when mentioned, off)

I tested it on linux and windows.
Closes #272


This change is",@GrayHatter Ok I'll change the function for OSX. I was thinking about that and I think that would be a good idea.,True,{}
uTox/uTox,https://github.com/uTox/uTox,378,2016-06-27T23:10:05Z,2016-06-30T00:40:36Z,2019-01-21T09:09:01Z,MERGED,True,213,39,19,https://github.com/endoffile78,Added settings for group chats,3,"['PR: Changes Needed', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/378,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/378#issuecomment-228921587,"Supported settings:

setting the topic
setting the notification level (on, when mentioned, off)

I tested it on linux and windows.
Closes #272


This change is",@GrayHatter I can look into saving the global setting later.,True,{}
uTox/uTox,https://github.com/uTox/uTox,378,2016-06-27T23:10:05Z,2016-06-30T00:40:36Z,2019-01-21T09:09:01Z,MERGED,True,213,39,19,https://github.com/endoffile78,Added settings for group chats,3,"['PR: Changes Needed', 'PR: Needs +1']",https://github.com/uTox/uTox/pull/378,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/378#issuecomment-229529913,"Supported settings:

setting the topic
setting the notification level (on, when mentioned, off)

I tested it on linux and windows.
Closes #272


This change is","@endoffile78 merged with a patch, thanks mate!!",True,{}
uTox/uTox,https://github.com/uTox/uTox,382,2016-07-03T16:39:43Z,2016-07-03T16:43:43Z,2016-07-03T16:43:43Z,MERGED,True,494,0,1,https://github.com/Encrypt,Adding a changelog to the project.,1,[],https://github.com/uTox/uTox/pull/382,https://github.com/Encrypt,1,https://github.com/uTox/uTox/pull/382,"ToxDeb has recently been modified to generate a changelog for Debian packages.
It uses the CHANGELOG.md file generated by github-changelog-generator.
Once this PR is merged, uTox .deb packages will be released with the appropriate changelog corresponding to the version built.
Note: This changelog has been generated with the following command in the uTox directory:
github_changelog_generator -t <token>


This change is","ToxDeb has recently been modified to generate a changelog for Debian packages.
It uses the CHANGELOG.md file generated by github-changelog-generator.
Once this PR is merged, uTox .deb packages will be released with the appropriate changelog corresponding to the version built.
Note: This changelog has been generated with the following command in the uTox directory:
github_changelog_generator -t <token>


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,383,2016-07-03T17:20:37Z,2016-07-03T18:04:49Z,2016-08-07T15:47:18Z,MERGED,True,49,0,1,https://github.com/sfan5,Update German translations,1,[],https://github.com/uTox/uTox/pull/383,https://github.com/sfan5,1,https://github.com/uTox/uTox/pull/383,"üçÜ


This change is","üçÜ


This change is",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,391,2016-07-16T23:17:57Z,2016-07-24T20:22:54Z,2016-07-24T20:22:54Z,MERGED,True,386,31,2,https://github.com/Encrypt,Update fr.h,3,[],https://github.com/uTox/uTox/pull/391,https://github.com/Encrypt,1,https://github.com/uTox/uTox/pull/391,"Here are all the missing French translations!


This change is","Here are all the missing French translations!


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,394,2016-07-21T18:12:23Z,2016-09-08T00:08:58Z,2016-09-08T00:08:58Z,CLOSED,False,4581,3877,51,https://github.com/endoffile78,Add invite command,60,[],https://github.com/uTox/uTox/pull/394,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/394,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,394,2016-07-21T18:12:23Z,2016-09-08T00:08:58Z,2016-09-08T00:08:58Z,CLOSED,False,4581,3877,51,https://github.com/endoffile78,Add invite command,60,[],https://github.com/uTox/uTox/pull/394,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/394#issuecomment-237029654,This change is,"Sorry, I've been busy, I still plan to merge this",True,{}
uTox/uTox,https://github.com/uTox/uTox,394,2016-07-21T18:12:23Z,2016-09-08T00:08:58Z,2016-09-08T00:08:58Z,CLOSED,False,4581,3877,51,https://github.com/endoffile78,Add invite command,60,[],https://github.com/uTox/uTox/pull/394,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/394#issuecomment-245452272,This change is,@endoffile78 can you rebase/merge develop please?,True,{}
uTox/uTox,https://github.com/uTox/uTox,394,2016-07-21T18:12:23Z,2016-09-08T00:08:58Z,2016-09-08T00:08:58Z,CLOSED,False,4581,3877,51,https://github.com/endoffile78,Add invite command,60,[],https://github.com/uTox/uTox/pull/394,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/394#issuecomment-245457412,This change is,Im going to close this and reopen it to be merged into develop,True,{}
uTox/uTox,https://github.com/uTox/uTox,397,2016-07-23T23:36:30Z,2016-07-24T00:41:29Z,2016-07-30T15:23:54Z,MERGED,True,203,208,7,https://github.com/Encrypt,Converted all yes / no dropdowns to switches,1,[],https://github.com/uTox/uTox/pull/397,https://github.com/Encrypt,1,https://github.com/uTox/uTox/pull/397,"Here are all the switches corresponding to the previous yes / no dropdowns!



This change is","Here are all the switches corresponding to the previous yes / no dropdowns!



This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,397,2016-07-23T23:36:30Z,2016-07-24T00:41:29Z,2016-07-30T15:23:54Z,MERGED,True,203,208,7,https://github.com/Encrypt,Converted all yes / no dropdowns to switches,1,[],https://github.com/uTox/uTox/pull/397,https://github.com/xaizek,2,https://github.com/uTox/uTox/pull/397#issuecomment-236370744,"Here are all the switches corresponding to the previous yes / no dropdowns!



This change is","I'm missing yes/no dropdowns... Not just because switches are counter intuitive by design regardless of their color or label, but also because this looks weird if you make the window wide (hard to tell which labels correspond to which switches). Also checkout ""Audio/Video"" pane, which now has ""Group Notifications"" between labels and corresponding switches.",True,{}
uTox/uTox,https://github.com/uTox/uTox,397,2016-07-23T23:36:30Z,2016-07-24T00:41:29Z,2016-07-30T15:23:54Z,MERGED,True,203,208,7,https://github.com/Encrypt,Converted all yes / no dropdowns to switches,1,[],https://github.com/uTox/uTox/pull/397,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/397#issuecomment-236371035,"Here are all the switches corresponding to the previous yes / no dropdowns!



This change is","I have no plans to change it back. If you hover your mouse over the switch, each should pop up a tooltip for the setting it's going to change. Finally the audio notification for groups is only in the development version because I haven't made time to move it yet.",True,{}
uTox/uTox,https://github.com/uTox/uTox,404,2016-08-03T22:47:37Z,2016-08-03T23:11:12Z,2016-08-03T23:11:12Z,MERGED,True,58,4,9,https://github.com/Encrypt,Decline unwanted calls,1,[],https://github.com/uTox/uTox/pull/404,https://github.com/Encrypt,1,https://github.com/uTox/uTox/pull/404,"A button now appears whenever a friend calls, allowing the user to decline that call.

This PR fixes notsecure/uTox#339.


This change is","A button now appears whenever a friend calls, allowing the user to decline that call.

This PR fixes notsecure/uTox#339.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,404,2016-08-03T22:47:37Z,2016-08-03T23:11:12Z,2016-08-03T23:11:12Z,MERGED,True,58,4,9,https://github.com/Encrypt,Decline unwanted calls,1,[],https://github.com/uTox/uTox/pull/404,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/404#issuecomment-237400709,"A button now appears whenever a friend calls, allowing the user to decline that call.

This PR fixes notsecure/uTox#339.


This change is","Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,409,2016-08-07T15:46:56Z,2016-08-07T18:24:31Z,2016-08-07T18:47:16Z,MERGED,True,7,1,1,https://github.com/sfan5,Update German translation,1,[],https://github.com/uTox/uTox/pull/409,https://github.com/sfan5,1,https://github.com/uTox/uTox/pull/409,"uTox isn't dead üçÜ


This change is","uTox isn't dead üçÜ


This change is",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,409,2016-08-07T15:46:56Z,2016-08-07T18:24:31Z,2016-08-07T18:47:16Z,MERGED,True,7,1,1,https://github.com/sfan5,Update German translation,1,[],https://github.com/uTox/uTox/pull/409,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/409#issuecomment-238098970,"uTox isn't dead üçÜ


This change is",despite my best efforts no less...,True,{}
uTox/uTox,https://github.com/uTox/uTox,410,2016-08-07T22:47:24Z,2016-10-02T22:49:37Z,2016-10-02T22:49:37Z,CLOSED,False,39,41,12,https://github.com/Encrypt,Code cleanup,1,['PR: Changes Needed'],https://github.com/uTox/uTox/pull/410,https://github.com/Encrypt,1,https://github.com/uTox/uTox/pull/410,"A bit of cleaning is necessary to make the code of uTox better.
Also, there are a lot of TODOs waiting to be solved.
Do not merge yet, this is work in WIP.


This change is","A bit of cleaning is necessary to make the code of uTox better.
Also, there are a lot of TODOs waiting to be solved.
Do not merge yet, this is work in WIP.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,410,2016-08-07T22:47:24Z,2016-10-02T22:49:37Z,2016-10-02T22:49:37Z,CLOSED,False,39,41,12,https://github.com/Encrypt,Code cleanup,1,['PR: Changes Needed'],https://github.com/uTox/uTox/pull/410,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/410#issuecomment-245452378,"A bit of cleaning is necessary to make the code of uTox better.
Also, there are a lot of TODOs waiting to be solved.
Do not merge yet, this is work in WIP.


This change is",@Encrypt status?,True,{}
uTox/uTox,https://github.com/uTox/uTox,410,2016-08-07T22:47:24Z,2016-10-02T22:49:37Z,2016-10-02T22:49:37Z,CLOSED,False,39,41,12,https://github.com/Encrypt,Code cleanup,1,['PR: Changes Needed'],https://github.com/uTox/uTox/pull/410,https://github.com/Encrypt,3,https://github.com/uTox/uTox/pull/410#issuecomment-246051938,"A bit of cleaning is necessary to make the code of uTox better.
Also, there are a lot of TODOs waiting to be solved.
Do not merge yet, this is work in WIP.


This change is","Actually, I had stopped working on it during the last few weeks since I had school work.
But now, I am able to continue again.",True,{}
uTox/uTox,https://github.com/uTox/uTox,410,2016-08-07T22:47:24Z,2016-10-02T22:49:37Z,2016-10-02T22:49:37Z,CLOSED,False,39,41,12,https://github.com/Encrypt,Code cleanup,1,['PR: Changes Needed'],https://github.com/uTox/uTox/pull/410,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/410#issuecomment-251001716,"A bit of cleaning is necessary to make the code of uTox better.
Also, there are a lot of TODOs waiting to be solved.
Do not merge yet, this is work in WIP.


This change is","@Encrypt update this, and reopen",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,1,https://github.com/uTox/uTox/pull/411,"Hi, I translated uTox to Polish again from scratch.


This change is","Hi, I translated uTox to Polish again from scratch.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/tsudoko,2,https://github.com/uTox/uTox/pull/411#issuecomment-238616193,"Hi, I translated uTox to Polish again from scratch.


This change is","What about the changelog? Also, you might want to squash your commits or rewrite first lines to be more descriptive.",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,3,https://github.com/uTox/uTox/pull/411#issuecomment-238620276,"Hi, I translated uTox to Polish again from scratch.


This change is",Thank you @tsudoko,True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,4,https://github.com/uTox/uTox/pull/411#issuecomment-238620959,"Hi, I translated uTox to Polish again from scratch.


This change is","@tsudoko hosta, not hostu.",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,5,https://github.com/uTox/uTox/pull/411#issuecomment-238650819,"Hi, I translated uTox to Polish again from scratch.


This change is","@tsudoko I mean  ""zmieniono ≈õcie≈ºki"". ""Usuniƒôto"" sounds better (in en.h there is ""Removed"").",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,6,https://github.com/uTox/uTox/pull/411#issuecomment-239250747,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 34 [r8] (raw file):

Previously, tsudoko wrote‚Ä¶

zmieniono

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,7,https://github.com/uTox/uTox/pull/411#issuecomment-239250806,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 15 [r1] (raw file):

Previously, tsudoko wrote‚Ä¶

Zaktualizowa≈Çe≈õ? Also might want to consider uTox zosta≈Ç zaktualizowany (see notsecure/uTox#134 / notsecure/uTox#150)

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,8,https://github.com/uTox/uTox/pull/411#issuecomment-239250871,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 117 [r1] (raw file):

Previously, tsudoko wrote‚Ä¶

Same as in en.h

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,9,https://github.com/uTox/uTox/pull/411#issuecomment-239250929,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 290 [r1] (raw file):

Previously, tsudoko wrote‚Ä¶

Same as in en.h

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,10,https://github.com/uTox/uTox/pull/411#issuecomment-239250984,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 305 [r1] (raw file):

Previously, tsudoko wrote‚Ä¶

Not sure if it's not confusing, dostƒôpne seems a bit narrower than online, i.e. it excludes away and busy, while the filter applies to all three.

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,11,https://github.com/uTox/uTox/pull/411#issuecomment-239251024,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 365 [r1] (raw file):

Previously, tsudoko wrote‚Ä¶

Sounds weird.

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,12,https://github.com/uTox/uTox/pull/411#issuecomment-239251056,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 368 [r1] (raw file):

Previously, tsudoko wrote‚Ä¶

Wrong, busy doesn't make you appear offline to other clients (that's what I'd expect from niewidoczny).

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,13,https://github.com/uTox/uTox/pull/411#issuecomment-239251101,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 419 [r1] (raw file):

Previously, tsudoko wrote‚Ä¶

Same as in en.h

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,14,https://github.com/uTox/uTox/pull/411#issuecomment-239251163,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 422 [r1] (raw file):

Previously, tsudoko wrote‚Ä¶

Same as in en.h

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,15,https://github.com/uTox/uTox/pull/411#issuecomment-239251190,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 425 [r1] (raw file):

Previously, tsudoko wrote‚Ä¶

Same as in en.h

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,16,https://github.com/uTox/uTox/pull/411#issuecomment-239251213,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 416 [r3] (raw file):

Previously, tsudoko wrote‚Ä¶

Are you sure ordinary people know what a log is?

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,17,https://github.com/uTox/uTox/pull/411#issuecomment-239251234,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 440 [r3] (raw file):

Previously, tsudoko wrote‚Ä¶

I'd just go for z nazwami, more consistent.

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,18,https://github.com/uTox/uTox/pull/411#issuecomment-239251278,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 473 [r4] (raw file):

Previously, tsudoko wrote‚Ä¶

Not consistent with Ustaw pseudonim znajomego; nazwa seems to be used for the original name already, so it might be a bit confusing.

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,19,https://github.com/uTox/uTox/pull/411#issuecomment-239251305,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 476 [r4] (raw file):

Previously, tsudoko wrote‚Ä¶

Same as above

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,20,https://github.com/uTox/uTox/pull/411#issuecomment-239251350,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 647 [r4] (raw file):

Previously, tsudoko wrote‚Ä¶

Is the colon needed?

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,21,https://github.com/uTox/uTox/pull/411#issuecomment-239251384,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 650 [r5] (raw file):

Previously, tsudoko wrote‚Ä¶

Nie? znale≈∫ƒá?

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,22,https://github.com/uTox/uTox/pull/411#issuecomment-239251427,"Hi, I translated uTox to Polish again from scratch.


This change is","langs/pl.h, line 677 [r5] (raw file):

Previously, tsudoko wrote‚Ä¶

Same as in en.h

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/GrayHatter,23,https://github.com/uTox/uTox/pull/411#issuecomment-239252328,"Hi, I translated uTox to Polish again from scratch.


This change is","@liwXO please batch your comments all at once? You can write anything you want, (Including the done button) Then click submit at the end. (So my phone doesn't ding 11 times in a row while I'm already reading the thread.....)",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/GrayHatter,24,https://github.com/uTox/uTox/pull/411#issuecomment-239253973,"Hi, I translated uTox to Polish again from scratch.


This change is","Reviewed 1 of 1 files at r9.
Review status: all files reviewed at latest revision, 17 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,25,https://github.com/uTox/uTox/pull/411#issuecomment-239383747,"Hi, I translated uTox to Polish again from scratch.


This change is",@GrayHatter Sorry for this comments.,True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/tsudoko,26,https://github.com/uTox/uTox/pull/411#issuecomment-239837139,"Hi, I translated uTox to Polish again from scratch.


This change is",@dagashiya Would be nice to hear your opinion as well,True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,27,https://github.com/uTox/uTox/pull/411#issuecomment-240493256,"Hi, I translated uTox to Polish again from scratch.


This change is","Review status: 0 of 1 files reviewed at latest revision, 21 unresolved discussions.

langs/pl.h, line 26 [r9] (raw file):

Previously, tsudoko wrote‚Ä¶

Doesn't make sense

Done.


langs/pl.h, line 42 [r9] (raw file):

Previously, tsudoko wrote‚Ä¶

See liwXO@6d9522a#commitcomment-18577612

Done.


langs/pl.h, line 74 [r9] (raw file):

Previously, tsudoko wrote‚Ä¶

na seems to sound more correct

Done.


langs/pl.h, line 86 [r9] (raw file):

Previously, tsudoko wrote‚Ä¶

Inconsistent capitalization

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/GrayHatter,28,https://github.com/uTox/uTox/pull/411#issuecomment-240568960,"Hi, I translated uTox to Polish again from scratch.


This change is","Reviewed 1 of 1 files at r10.
Review status: all files reviewed at latest revision, 21 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/GrayHatter,29,https://github.com/uTox/uTox/pull/411#issuecomment-240572909,"Hi, I translated uTox to Polish again from scratch.


This change is",@tsudoko mergeable?,True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/tsudoko,30,https://github.com/uTox/uTox/pull/411#issuecomment-240650817,"Hi, I translated uTox to Polish again from scratch.


This change is","Not yet, but I'll squash and fix it myself if there's no other feedback/activity in a week.",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/tsudoko,31,https://github.com/uTox/uTox/pull/411#issuecomment-242589002,"Hi, I translated uTox to Polish again from scratch.


This change is","Merged in 75f4e35, not sure how GitHub detects squash-merges, looks like it hasn't detected this one.",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/cebe,32,https://github.com/uTox/uTox/pull/411#issuecomment-242592219,"Hi, I translated uTox to Polish again from scratch.


This change is","not sure how GitHub detects squash-merges

it does not unless you do it via Github User interface.",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/gjedeer,33,https://github.com/uTox/uTox/pull/411#issuecomment-251806955,"Hi, I translated uTox to Polish again from scratch.


This change is","Damn, I missed the fact that it's already merged. I've added comments on some of the strings, maybe you would consider them https://github.com/uTox/uTox/pull/411/files",True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/GrayHatter,34,https://github.com/uTox/uTox/pull/411#issuecomment-251872993,"Hi, I translated uTox to Polish again from scratch.


This change is",@liwXO would you like to respond to any of @gjedeer's comments?,True,{}
uTox/uTox,https://github.com/uTox/uTox,411,2016-08-09T16:14:29Z,2016-08-26T00:42:02Z,2019-01-21T09:09:02Z,CLOSED,False,267,93,1,https://github.com/liwXO,Update pl.h (New translation from scratch),13,[],https://github.com/uTox/uTox/pull/411,https://github.com/liwXO,35,https://github.com/uTox/uTox/pull/411#issuecomment-258223393,"Hi, I translated uTox to Polish again from scratch.


This change is","@GrayHatter @gjedeer Sorry, i got github notifications on my old email.",True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/felix-salfelder,1,https://github.com/uTox/uTox/pull/414,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is","please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/414#issuecomment-239251663,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is","Any reason you can't set LDFLAGS?
Or, What's wrong with pkg-config? Maybe we should fix that.",True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/felix-salfelder,3,https://github.com/uTox/uTox/pull/414#issuecomment-239264585,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is","LDFLAGS is for another purpose, and already set. if I override this, it breaks on the other end.
putting LIBS into LDFLAGS somehow feels like reusing CFLAGS for the OBJS...
i don't have a better explanation, c.f. gnu make docs for a reference. they recommend ""Libraries (-lfoo) should be added to the LDLIBS variable instead."" LDLIBS or LIBS, whichever you like best.

Or, What's wrong with pkg-config? Maybe we should fix that.

i am not sure yet. it seems that pkgconfig fails and the makefile silently ignores the error. this might not be visible in most situations... maybe i can fix it (some day).
thanks",True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/414#issuecomment-239265200,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is","Ok, I'll merge this if you add the var to the top, and a comment as to why is exists",True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/414#issuecomment-239271351,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is","Sorry, I meant just a blank assignment, and comment that it's needed on some systems where pkg-config is broken. Don't touch LDFLAGS at all",True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/felix-salfelder,6,https://github.com/uTox/uTox/pull/414#issuecomment-239280545,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is","ok, ive got something... this is a bit of a workaround
the original problem is, that DEPS is compiled first and the passed to pkg-config. it would be much easier (slightly more repetitive) to fetch them one by one.
proper checks for all of them (i only added a filteraudio check) will end up repetitive as well...",True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/414#issuecomment-239295996,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is","I'm going to push a branch with a new Makefile I've been working on. Take a look at that too, and see if there's anything you might want to add in.

Review status: 0 of 1 files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Makefile, line 30 [r3] (raw file):

ifeq ($(FILTER_AUDIO), 1)
ifeq ($(shell $(PKG_CONFIG) --exists filteraudio && echo yes), yes )

Need indentation.

Makefile, line 34 [r3] (raw file):

else
$(warning pkg-config does not know about filteraudio, this might not work)
$(error consider setting FILTER_AUDIO=0)

Might want to move this test up a few sections, and actually set filter audio

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/414#issuecomment-241972044,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is",@felix-salfelder still working on this one?,True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/felix-salfelder,9,https://github.com/uTox/uTox/pull/414#issuecomment-241975818,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is","yes, and no. thanks for asking, i forgot to report back. my workaround is included here.
one more problem i encountered is, that too many libraries are listed in $(LDFLAGS). debhelper complained about utox being linked against libsodium and libopus (and debhelper was right). my workaround takes care of that, but i havent got a good solution to present here.
thinking about it. using LIBS, then splitting LIBS into LIBS_THIS and LIBS_THAT would at least simplify the workaround.
e.g. i could then do
$ make [..] LIBS_OPUS= LIBS_SODIUM=

to avoid linking to these.
what are your plans? autoconf would certainliy be great :).",True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/414#issuecomment-243353496,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is","I'm looking into either cmake (everyone says it's great, and has switched)
or autoconf because I hate cmake (only because I don't understand it, and
haven't yet read a tutorial that doesn't suck)
On Wed, Aug 24, 2016 at 12:07 AM, felix notifications@github.com wrote:

yes, and no. thanks for asking, i forgot to report back. my workaround is
included here
https://anonscm.debian.org/git/pkg-voip/utox.git/tree/debian/rules.
one more problem i encountered is, that too many libraries are listed in
$(LDFLAGS). debhelper complained about utox being linked against libsodium
and libopus (and debhelper was right). my workaround takes care of that,
but i havent got a good solution to present here.
thinking about it. using LIBS, then splitting LIBS into LIBS_THIS and
LIBS_THAT would at least simplify the workaround.
e.g. i could then do
$ make [..] LIBS_OPUS= LIBS_SODIUM=
to avoid linking to these.
what are your plans? autoconf would certainliy be great :).
‚Äî
You are receiving this because you were assigned.
Reply to this email directly, view it on GitHub
https://github.com/GrayHatter/uTox/pull/414#issuecomment-241975818, or mute
the thread
https://github.com/notifications/unsubscribe-auth/AAO20I7mkkbI7jm4ouKjZ83Tg0zL3HvYks5qi-2egaJpZM4Jh7h3
.",True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/felix-salfelder,11,https://github.com/uTox/uTox/pull/414#issuecomment-243366364,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is","of the autotools alternatives, cmake is likely one of the best. imo, it's still not worth the trouble. mostly a shift from ""understand how things are implemented"" to ""implement it yourself, if you want"".
eventually cmake is easy for the developer, and often a nightmare for the user. autotools can be the other way around, but it does not have to be. let me know, if you need help or testing.",True,{}
uTox/uTox,https://github.com/uTox/uTox,414,2016-08-11T09:13:20Z,2016-10-02T22:41:09Z,2016-10-02T22:41:09Z,CLOSED,False,18,4,1,https://github.com/felix-salfelder,pass LIBS to the linker,4,[],https://github.com/uTox/uTox/pull/414,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/414#issuecomment-251001277,"please allow to inject libs, in case pkg-config fails.
pkgconfig seems broken all the time here (don't ask me why). in this situation, this patch re-enables the build. make CFLAGS=this LIBS=that.
(this is related to qTox/qTox#3374, other tox clients also use pkg-config)


This change is",closed until I can learn cmake,True,{}
uTox/uTox,https://github.com/uTox/uTox,415,2016-08-11T10:19:26Z,2016-09-16T21:17:54Z,2016-09-16T21:17:54Z,CLOSED,False,5,0,2,https://github.com/somercet,Add wait() to xlib to reap terminated child procs,2,[],https://github.com/uTox/uTox/pull/415,https://github.com/somercet,1,https://github.com/uTox/uTox/pull/415,"uTox with Xlib does not reap terminated child processes, such as the xdg-open command called by uTox's openurl(). The following is not a ""real"" fix: child pids aren't tracked, no messages print on child errors but it does:

free zombies without glib or global child pid tables, and
reduce outstanding zombies to one at any time,
without blocking and
without looping/polling.



This change is","uTox with Xlib does not reap terminated child processes, such as the xdg-open command called by uTox's openurl(). The following is not a ""real"" fix: child pids aren't tracked, no messages print on child errors but it does:

free zombies without glib or global child pid tables, and
reduce outstanding zombies to one at any time,
without blocking and
without looping/polling.



This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,415,2016-08-11T10:19:26Z,2016-09-16T21:17:54Z,2016-09-16T21:17:54Z,CLOSED,False,5,0,2,https://github.com/somercet,Add wait() to xlib to reap terminated child procs,2,[],https://github.com/uTox/uTox/pull/415,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/415#issuecomment-245452527,"uTox with Xlib does not reap terminated child processes, such as the xdg-open command called by uTox's openurl(). The following is not a ""real"" fix: child pids aren't tracked, no messages print on child errors but it does:

free zombies without glib or global child pid tables, and
reduce outstanding zombies to one at any time,
without blocking and
without looping/polling.



This change is","can you rebase/merge develop?
I'll take a closer look then, and hopefully merge soon after.",True,{}
uTox/uTox,https://github.com/uTox/uTox,420,2016-08-28T17:25:14Z,2016-10-02T22:49:17Z,2016-10-02T22:49:17Z,CLOSED,False,13,7,2,https://github.com/ninedotnine,fix custom themes,1,[],https://github.com/uTox/uTox/pull/420,https://github.com/ninedotnine,1,https://github.com/uTox/uTox/pull/420,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,420,2016-08-28T17:25:14Z,2016-10-02T22:49:17Z,2016-10-02T22:49:17Z,CLOSED,False,13,7,2,https://github.com/ninedotnine,fix custom themes,1,[],https://github.com/uTox/uTox/pull/420,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/420#issuecomment-251001699,This change is,already merged,True,{}
uTox/uTox,https://github.com/uTox/uTox,423,2016-08-31T01:36:10Z,2016-09-01T05:31:55Z,2016-09-01T05:31:55Z,MERGED,True,194,0,6,https://github.com/ninedotnine,add Solarized colour schemes,2,[],https://github.com/uTox/uTox/pull/423,https://github.com/ninedotnine,1,https://github.com/uTox/uTox/pull/423,"This commit adds two new colour schemes: light and dark versions of
http://ethanschoonover.com/solarized


This change is","This commit adds two new colour schemes: light and dark versions of
http://ethanschoonover.com/solarized


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,423,2016-08-31T01:36:10Z,2016-09-01T05:31:55Z,2016-09-01T05:31:55Z,MERGED,True,194,0,6,https://github.com/ninedotnine,add Solarized colour schemes,2,[],https://github.com/uTox/uTox/pull/423,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/423#issuecomment-243665449,"This commit adds two new colour schemes: light and dark versions of
http://ethanschoonover.com/solarized


This change is","Reviewed 5 of 6 files at r1.
Review status: 5 of 6 files reviewed at latest revision, 1 unresolved discussion.

src/theme.c, line 303 [r1] (raw file):

        break;

#define SOLAR_BASE03    0x002b36

these break code folding, can you move them out of the indentation? or indent them to the following case?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,423,2016-08-31T01:36:10Z,2016-09-01T05:31:55Z,2016-09-01T05:31:55Z,MERGED,True,194,0,6,https://github.com/ninedotnine,add Solarized colour schemes,2,[],https://github.com/uTox/uTox/pull/423,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/423#issuecomment-243979949,"This commit adds two new colour schemes: light and dark versions of
http://ethanschoonover.com/solarized


This change is","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,425,2016-09-03T11:13:07Z,2016-09-07T23:36:35Z,2016-09-07T23:39:15Z,MERGED,True,42,39,1,https://github.com/tsudoko,Fix disabled hover color in themes,2,[],https://github.com/uTox/uTox/pull/425,https://github.com/tsudoko,1,https://github.com/uTox/uTox/pull/425,"Elements which use this color will be no longer black.


This change is","Elements which use this color will be no longer black.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,425,2016-09-03T11:13:07Z,2016-09-07T23:36:35Z,2016-09-07T23:39:15Z,MERGED,True,42,39,1,https://github.com/tsudoko,Fix disabled hover color in themes,2,[],https://github.com/uTox/uTox/pull/425,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/425#issuecomment-245451947,"Elements which use this color will be no longer black.


This change is","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,426,2016-09-03T11:13:30Z,2016-09-23T21:19:56Z,2016-09-23T21:35:06Z,MERGED,True,135,56,6,https://github.com/tsudoko,Fix switches,13,[],https://github.com/uTox/uTox/pull/426,https://github.com/tsudoko,1,https://github.com/uTox/uTox/pull/426,"Sort of depends on #425
See #421 for more information

Current progress:

 draw two vertical lines on top of the inner part
 use disabled color when off
 make the inner part smaller
 make the outer part's edges rounded
 add on/off icons (not sure if needed)
 de-hardcode toggle positions
 de-hardcode icon styles
 make the on icon not inverted see #429



This change is","Sort of depends on #425
See #421 for more information

Current progress:

 draw two vertical lines on top of the inner part
 use disabled color when off
 make the inner part smaller
 make the outer part's edges rounded
 add on/off icons (not sure if needed)
 de-hardcode toggle positions
 de-hardcode icon styles
 make the on icon not inverted see #429



This change is",True,{'HEART': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,426,2016-09-03T11:13:30Z,2016-09-23T21:19:56Z,2016-09-23T21:35:06Z,MERGED,True,135,56,6,https://github.com/tsudoko,Fix switches,13,[],https://github.com/uTox/uTox/pull/426,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/426#issuecomment-245574145,"Sort of depends on #425
See #421 for more information

Current progress:

 draw two vertical lines on top of the inner part
 use disabled color when off
 make the inner part smaller
 make the outer part's edges rounded
 add on/off icons (not sure if needed)
 de-hardcode toggle positions
 de-hardcode icon styles
 make the on icon not inverted see #429



This change is","So far, I haven't seen anything worrying, but you're starting to get close to options overload.
I like everything so far, but I don't want to add too many decisions to switches, because they're supposed to be an easy UI element.

Reviewed 6 of 6 files at r1, 6 of 6 files at r2.
Review status: 5 of 6 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,426,2016-09-03T11:13:30Z,2016-09-23T21:19:56Z,2016-09-23T21:35:06Z,MERGED,True,135,56,6,https://github.com/tsudoko,Fix switches,13,[],https://github.com/uTox/uTox/pull/426,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/426#issuecomment-245574204,"Sort of depends on #425
See #421 for more information

Current progress:

 draw two vertical lines on top of the inner part
 use disabled color when off
 make the inner part smaller
 make the outer part's edges rounded
 add on/off icons (not sure if needed)
 de-hardcode toggle positions
 de-hardcode icon styles
 make the on icon not inverted see #429



This change is","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,426,2016-09-03T11:13:30Z,2016-09-23T21:19:56Z,2016-09-23T21:35:06Z,MERGED,True,135,56,6,https://github.com/tsudoko,Fix switches,13,[],https://github.com/uTox/uTox/pull/426,https://github.com/tsudoko,4,https://github.com/uTox/uTox/pull/426#issuecomment-245579283,"Sort of depends on #425
See #421 for more information

Current progress:

 draw two vertical lines on top of the inner part
 use disabled color when off
 make the inner part smaller
 make the outer part's edges rounded
 add on/off icons (not sure if needed)
 de-hardcode toggle positions
 de-hardcode icon styles
 make the on icon not inverted see #429



This change is",Do you think some graphics should be hardcoded? I can leave on/off icons as the only changeable graphics if the number of options is an issue.,True,{}
uTox/uTox,https://github.com/uTox/uTox,426,2016-09-03T11:13:30Z,2016-09-23T21:19:56Z,2016-09-23T21:35:06Z,MERGED,True,135,56,6,https://github.com/tsudoko,Fix switches,13,[],https://github.com/uTox/uTox/pull/426,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/426#issuecomment-245589532,"Sort of depends on #425
See #421 for more information

Current progress:

 draw two vertical lines on top of the inner part
 use disabled color when off
 make the inner part smaller
 make the outer part's edges rounded
 add on/off icons (not sure if needed)
 de-hardcode toggle positions
 de-hardcode icon styles
 make the on icon not inverted see #429



This change is","I thought I should say yes, even started writing a comment as such. But
before I could hit submit, it always seems like a better idea to have the
options.  Some toggles (in the future should/could be styled to be ON when
on the left, or red when you're specifically blocking some actions) In
those cases they way you're writing it makes much more sense.
On Thu, Sep 8, 2016 at 5:18 AM, tsudoko notifications@github.com wrote:

Do you think some graphics should be hardcoded? I can leave on/off icons
as the only changeable graphics if the number of options is an issue.
‚Äî
You are receiving this because you commented.
Reply to this email directly, view it on GitHub
#426 (comment), or mute
the thread
https://github.com/notifications/unsubscribe-auth/AAO20Hixirl_gV0YvL6dYV4FHgw-m4qrks5qn_0EgaJpZM4J0SA_
.",True,{}
uTox/uTox,https://github.com/uTox/uTox,426,2016-09-03T11:13:30Z,2016-09-23T21:19:56Z,2016-09-23T21:35:06Z,MERGED,True,135,56,6,https://github.com/tsudoko,Fix switches,13,[],https://github.com/uTox/uTox/pull/426,https://github.com/tsudoko,6,https://github.com/uTox/uTox/pull/426#issuecomment-245592762,"Sort of depends on #425
See #421 for more information

Current progress:

 draw two vertical lines on top of the inner part
 use disabled color when off
 make the inner part smaller
 make the outer part's edges rounded
 add on/off icons (not sure if needed)
 de-hardcode toggle positions
 de-hardcode icon styles
 make the on icon not inverted see #429



This change is",What about the outer part and the toggle? I can't think of any case where using different outer/toggle graphics only for some switches would make sense.,True,{}
uTox/uTox,https://github.com/uTox/uTox,426,2016-09-03T11:13:30Z,2016-09-23T21:19:56Z,2016-09-23T21:35:06Z,MERGED,True,135,56,6,https://github.com/tsudoko,Fix switches,13,[],https://github.com/uTox/uTox/pull/426,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/426#issuecomment-247928243,"Sort of depends on #425
See #421 for more information

Current progress:

 draw two vertical lines on top of the inner part
 use disabled color when off
 make the inner part smaller
 make the outer part's edges rounded
 add on/off icons (not sure if needed)
 de-hardcode toggle positions
 de-hardcode icon styles
 make the on icon not inverted see #429



This change is",@tsudoko so I'm thinking of merging this ‚âàsoon unless you want to add a few more commits/LOC?,True,{}
uTox/uTox,https://github.com/uTox/uTox,429,2016-09-07T20:10:58Z,2016-09-07T20:15:19Z,2016-09-07T20:45:13Z,MERGED,True,2,2,1,https://github.com/tsudoko,"Make the ""yes"" icon not inverted",1,[],https://github.com/uTox/uTox/pull/429,https://github.com/tsudoko,1,https://github.com/uTox/uTox/pull/429,"‚Üí 


This change is","‚Üí 


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,429,2016-09-07T20:10:58Z,2016-09-07T20:15:19Z,2016-09-07T20:45:13Z,MERGED,True,2,2,1,https://github.com/tsudoko,"Make the ""yes"" icon not inverted",1,[],https://github.com/uTox/uTox/pull/429,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/429#issuecomment-245402118,"‚Üí 


This change is","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,429,2016-09-07T20:10:58Z,2016-09-07T20:15:19Z,2016-09-07T20:45:13Z,MERGED,True,2,2,1,https://github.com/tsudoko,"Make the ""yes"" icon not inverted",1,[],https://github.com/uTox/uTox/pull/429,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/429#issuecomment-245402685,"‚Üí 


This change is","Delayed by OSX on travis, this change shouldn't break it. Merging.",True,{}
uTox/uTox,https://github.com/uTox/uTox,430,2016-09-08T00:09:47Z,2016-10-06T05:33:04Z,2019-01-21T09:09:02Z,MERGED,True,26,0,5,https://github.com/endoffile78,Add invite command,1,[],https://github.com/uTox/uTox/pull/430,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/430,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,430,2016-09-08T00:09:47Z,2016-10-06T05:33:04Z,2019-01-21T09:09:02Z,MERGED,True,26,0,5,https://github.com/endoffile78,Add invite command,1,[],https://github.com/uTox/uTox/pull/430,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/430#issuecomment-245491965,This change is,"Reviewed 1 of 4 files at r1.
Review status: 1 of 4 files reviewed at latest revision, 3 unresolved discussions.

src/main.h, line 371 [r3] (raw file):

GROUPCHAT group[MAX_NUM_GROUPS];

uint32_t friends, groups; /* Number of friends and groups */

use self.friend_list_count

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,430,2016-09-08T00:09:47Z,2016-10-06T05:33:04Z,2019-01-21T09:09:02Z,MERGED,True,26,0,5,https://github.com/endoffile78,Add invite command,1,[],https://github.com/uTox/uTox/pull/430,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/430#issuecomment-245494815,This change is,"Reviewed 1 of 1 files at r4.
Review status: 1 of 3 files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,430,2016-09-08T00:09:47Z,2016-10-06T05:33:04Z,2019-01-21T09:09:02Z,MERGED,True,26,0,5,https://github.com/endoffile78,Add invite command,1,[],https://github.com/uTox/uTox/pull/430,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/430#issuecomment-251001752,This change is,@endoffile78 do you want to do anything with @tsudoko's comments?,True,{}
uTox/uTox,https://github.com/uTox/uTox,430,2016-09-08T00:09:47Z,2016-10-06T05:33:04Z,2019-01-21T09:09:02Z,MERGED,True,26,0,5,https://github.com/endoffile78,Add invite command,1,[],https://github.com/uTox/uTox/pull/430,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/430#issuecomment-251507497,This change is,@GrayHatter I already did everything he suggested.,True,{}
uTox/uTox,https://github.com/uTox/uTox,430,2016-09-08T00:09:47Z,2016-10-06T05:33:04Z,2019-01-21T09:09:02Z,MERGED,True,26,0,5,https://github.com/endoffile78,Add invite command,1,[],https://github.com/uTox/uTox/pull/430,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/430#issuecomment-251870902,This change is,@endoffile78 thanks mate!,True,{}
uTox/uTox,https://github.com/uTox/uTox,431,2016-09-08T01:24:05Z,2016-09-08T04:40:07Z,2016-09-08T09:41:01Z,MERGED,True,3,3,1,https://github.com/tsudoko,Use debug_error() for getopt errors,1,[],https://github.com/uTox/uTox/pull/431,https://github.com/tsudoko,1,https://github.com/uTox/uTox/pull/431,"Makes uTox output something when a wrong argument to some option is given.


This change is","Makes uTox output something when a wrong argument to some option is given.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,431,2016-09-08T01:24:05Z,2016-09-08T04:40:07Z,2016-09-08T09:41:01Z,MERGED,True,3,3,1,https://github.com/tsudoko,Use debug_error() for getopt errors,1,[],https://github.com/uTox/uTox/pull/431,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/431#issuecomment-245491790,"Makes uTox output something when a wrong argument to some option is given.


This change is","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,432,2016-09-08T01:30:21Z,2016-09-08T04:39:18Z,2016-09-08T09:41:01Z,MERGED,True,4,0,1,https://github.com/tsudoko,Make Solarized themes selectable with --theme,1,[],https://github.com/uTox/uTox/pull/432,https://github.com/tsudoko,1,https://github.com/uTox/uTox/pull/432,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,432,2016-09-08T01:30:21Z,2016-09-08T04:39:18Z,2016-09-08T09:41:01Z,MERGED,True,4,0,1,https://github.com/tsudoko,Make Solarized themes selectable with --theme,1,[],https://github.com/uTox/uTox/pull/432,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/432#issuecomment-245491688,This change is,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,433,2016-09-17T21:48:07Z,2016-10-02T22:49:07Z,2016-10-03T16:34:03Z,CLOSED,False,6,0,1,https://github.com/sfan5,Update German translation,1,[],https://github.com/uTox/uTox/pull/433,https://github.com/sfan5,1,https://github.com/uTox/uTox/pull/433,"thank mr skeletal


This change is","thank mr skeletal


This change is",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,433,2016-09-17T21:48:07Z,2016-10-02T22:49:07Z,2016-10-03T16:34:03Z,CLOSED,False,6,0,1,https://github.com/sfan5,Update German translation,1,[],https://github.com/uTox/uTox/pull/433,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/433#issuecomment-251001690,"thank mr skeletal


This change is",already merged,True,{}
uTox/uTox,https://github.com/uTox/uTox,442,2016-10-07T01:02:53Z,2016-10-07T23:08:49Z,2019-01-21T09:09:02Z,MERGED,True,207,0,41,https://github.com/endoffile78,Add header guards,2,[],https://github.com/uTox/uTox/pull/442,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/442,,,True,{}
uTox/uTox,https://github.com/uTox/uTox,442,2016-10-07T01:02:53Z,2016-10-07T23:08:49Z,2019-01-21T09:09:02Z,MERGED,True,207,0,41,https://github.com/endoffile78,Add header guards,2,[],https://github.com/uTox/uTox/pull/442,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/442#issuecomment-252159015,,"I'll merge this sometime tomorrow, I just want to give anyone else a chance to comment, like @stal888 or @tsudoko or anyone really.
The next step will be to start dropping includes from src/main.h and instead actually adding them ONLY to the file that need them.",True,{}
uTox/uTox,https://github.com/uTox/uTox,443,2016-10-09T01:28:51Z,2016-10-09T04:48:01Z,2019-01-21T09:09:02Z,MERGED,True,28,14,1,https://github.com/tsudoko,Update the manual page,1,[],https://github.com/uTox/uTox/pull/443,https://github.com/tsudoko,1,https://github.com/uTox/uTox/pull/443,"Add undocumented chat commands
Elaborate on --verbose
Add Tox_Auto_Accept
Update GitHub links
Add short command line options
Add missing themes
Add --unset and --silent
Move --version to the bottom of the list","Add undocumented chat commands
Elaborate on --verbose
Add Tox_Auto_Accept
Update GitHub links
Add short command line options
Add missing themes
Add --unset and --silent
Move --version to the bottom of the list",True,{}
uTox/uTox,https://github.com/uTox/uTox,444,2016-10-12T00:29:40Z,2016-10-17T01:32:43Z,2019-01-21T09:09:02Z,MERGED,True,70,11,13,https://github.com/endoffile78,Notify the user when a friend comes online and goes offline,1,[],https://github.com/uTox/uTox/pull/444,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/444,,,True,{}
uTox/uTox,https://github.com/uTox/uTox,444,2016-10-12T00:29:40Z,2016-10-17T01:32:43Z,2019-01-21T09:09:02Z,MERGED,True,70,11,13,https://github.com/endoffile78,Notify the user when a friend comes online and goes offline,1,[],https://github.com/uTox/uTox/pull/444,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/444#issuecomment-253123549,,@uTox/translators,True,{}
uTox/uTox,https://github.com/uTox/uTox,444,2016-10-12T00:29:40Z,2016-10-17T01:32:43Z,2019-01-21T09:09:02Z,MERGED,True,70,11,13,https://github.com/endoffile78,Notify the user when a friend comes online and goes offline,1,[],https://github.com/uTox/uTox/pull/444,https://github.com/sfan5,3,https://github.com/uTox/uTox/pull/444#issuecomment-253248140,,"de.h:
msgid(STATUS_NOTIFICATIONS)
msgstr(""Statusbenachrichtigungen"")",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,444,2016-10-12T00:29:40Z,2016-10-17T01:32:43Z,2019-01-21T09:09:02Z,MERGED,True,70,11,13,https://github.com/endoffile78,Notify the user when a friend comes online and goes offline,1,[],https://github.com/uTox/uTox/pull/444,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/444#issuecomment-253659357,,@GrayHatter  I think that would be good. Ill add a notifications section.,True,{}
uTox/uTox,https://github.com/uTox/uTox,444,2016-10-12T00:29:40Z,2016-10-17T01:32:43Z,2019-01-21T09:09:02Z,MERGED,True,70,11,13,https://github.com/endoffile78,Notify the user when a friend comes online and goes offline,1,[],https://github.com/uTox/uTox/pull/444,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/444#issuecomment-254089284,,@endoffile78 ping me once you rebase and finish this. If you're able to finish the UI reorg I'll tag and release a new version of uTox,True,{}
uTox/uTox,https://github.com/uTox/uTox,446,2016-10-16T06:56:32Z,2016-10-16T19:42:22Z,2016-11-18T23:58:41Z,MERGED,True,116,69,8,https://github.com/GrayHatter,.travis Fix travis builds to work with the new toktok/toxcore,1,[],https://github.com/uTox/uTox/pull/446,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/446,,,True,{}
uTox/uTox,https://github.com/uTox/uTox,447,2016-10-17T02:03:11Z,2016-12-20T21:51:43Z,2016-12-20T21:51:43Z,MERGED,True,451,314,1,https://github.com/endoffile78,Updated changelog,1,['PR: Pending'],https://github.com/uTox/uTox/pull/447,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/447,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,447,2016-10-17T02:03:11Z,2016-12-20T21:51:43Z,2016-12-20T21:51:43Z,MERGED,True,451,314,1,https://github.com/endoffile78,Updated changelog,1,['PR: Pending'],https://github.com/uTox/uTox/pull/447,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/447#issuecomment-254292436,This change is‚ÄÇ,"I'll merge this once we I'm able to test develop a bit more (text bug with the toxid currently), and give/update uTox the new version number.",True,{}
uTox/uTox,https://github.com/uTox/uTox,450,2016-10-22T11:09:44Z,2016-10-23T06:42:35Z,2016-10-23T06:42:35Z,CLOSED,False,328,31,1,https://github.com/katyo,Updated russian translation,1,[],https://github.com/uTox/uTox/pull/450,https://github.com/katyo,1,https://github.com/uTox/uTox/pull/450,,,True,{}
uTox/uTox,https://github.com/uTox/uTox,450,2016-10-22T11:09:44Z,2016-10-23T06:42:35Z,2016-10-23T06:42:35Z,CLOSED,False,328,31,1,https://github.com/katyo,Updated russian translation,1,[],https://github.com/uTox/uTox/pull/450,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/450#issuecomment-255572557,,I'm going to close this for #451,True,{}
uTox/uTox,https://github.com/uTox/uTox,451,2016-10-22T11:40:18Z,2016-10-24T17:58:42Z,2019-01-21T09:09:04Z,MERGED,True,406,41,1,https://github.com/katyo,Updated russian translation,2,[],https://github.com/uTox/uTox/pull/451,https://github.com/katyo,1,https://github.com/uTox/uTox/pull/451,,,True,{}
uTox/uTox,https://github.com/uTox/uTox,454,2016-10-27T07:11:28Z,2016-10-27T21:14:30Z,2016-10-27T21:14:34Z,MERGED,True,278,216,16,https://github.com/GrayHatter,On going Refactor,8,[],https://github.com/uTox/uTox/pull/454,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/454,,,True,{}
uTox/uTox,https://github.com/uTox/uTox,454,2016-10-27T07:11:28Z,2016-10-27T21:14:30Z,2016-10-27T21:14:34Z,MERGED,True,278,216,16,https://github.com/GrayHatter,On going Refactor,8,[],https://github.com/uTox/uTox/pull/454,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/454#issuecomment-256564766,,@uTox/devs need a review,True,{}
uTox/uTox,https://github.com/uTox/uTox,455,2016-10-30T08:13:26Z,2016-10-30T18:13:57Z,2016-11-18T23:58:39Z,MERGED,True,79,34,1,https://github.com/GrayHatter,Friend list now responds to mup (from mdown),1,[],https://github.com/uTox/uTox/pull/455,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/455,This change is intended to improve the UX feel,This change is intended to improve the UX feel,True,{}
uTox/uTox,https://github.com/uTox/uTox,456,2016-10-30T10:42:32Z,2016-11-07T00:05:06Z,2019-01-21T09:09:04Z,CLOSED,False,540,281,12,https://github.com/GrayHatter,Entry Level cmake system.,11,[],https://github.com/uTox/uTox/pull/456,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/456,"breaks dysym GTK3


This change is","breaks dysym GTK3


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,456,2016-10-30T10:42:32Z,2016-11-07T00:05:06Z,2019-01-21T09:09:04Z,CLOSED,False,540,281,12,https://github.com/GrayHatter,Entry Level cmake system.,11,[],https://github.com/uTox/uTox/pull/456,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/456#issuecomment-258562136,"breaks dysym GTK3


This change is","Review status: 0 of 12 files reviewed at latest revision, 1 unresolved discussion, some commit checks broke.

CMakeLists.txt, line 17 at r1 (raw file):

Previously, cebe (Carsten Brandt) wrote‚Ä¶

duplicate of line 4

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,456,2016-10-30T10:42:32Z,2016-11-07T00:05:06Z,2019-01-21T09:09:04Z,CLOSED,False,540,281,12,https://github.com/GrayHatter,Entry Level cmake system.,11,[],https://github.com/uTox/uTox/pull/456,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/456#issuecomment-258563031,"breaks dysym GTK3


This change is","Review status: 0 of 12 files reviewed at latest revision, 1 unresolved discussion, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,456,2016-10-30T10:42:32Z,2016-11-07T00:05:06Z,2019-01-21T09:09:04Z,CLOSED,False,540,281,12,https://github.com/GrayHatter,Entry Level cmake system.,11,[],https://github.com/uTox/uTox/pull/456,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/456#issuecomment-258564366,"breaks dysym GTK3


This change is","Review status: 0 of 12 files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

CMakeLists.txt, line 142 at r2 (raw file):

    src/messages.h
    src/sized_string.h
    src/stb_image.h

Duplicate line.

CMakeLists.txt, line 144 at r2 (raw file):

    src/stb_image.h
    src/stb_image.h
    src/stb_image_write.h

Duplicate line.

CMakeLists.txt, line 148 at r2 (raw file):

    src/theme.c
    src/theme.h
    src/theme_tables.h

Duplicate line.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,456,2016-10-30T10:42:32Z,2016-11-07T00:05:06Z,2019-01-21T09:09:04Z,CLOSED,False,540,281,12,https://github.com/GrayHatter,Entry Level cmake system.,11,[],https://github.com/uTox/uTox/pull/456,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/456#issuecomment-258564606,"breaks dysym GTK3


This change is","Review status: 0 of 12 files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

CMakeLists.txt, line 142 at r2 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

Duplicate line.

Done.


CMakeLists.txt, line 144 at r2 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

Duplicate line.

Done.


CMakeLists.txt, line 148 at r2 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

Duplicate line.

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,456,2016-10-30T10:42:32Z,2016-11-07T00:05:06Z,2019-01-21T09:09:04Z,CLOSED,False,540,281,12,https://github.com/GrayHatter,Entry Level cmake system.,11,[],https://github.com/uTox/uTox/pull/456,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/456#issuecomment-258567663,"breaks dysym GTK3


This change is","Reviewed 2 of 4 files at r1, 9 of 11 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,456,2016-10-30T10:42:32Z,2016-11-07T00:05:06Z,2019-01-21T09:09:04Z,CLOSED,False,540,281,12,https://github.com/GrayHatter,Entry Level cmake system.,11,[],https://github.com/uTox/uTox/pull/456,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/456#issuecomment-258722102,"breaks dysym GTK3


This change is",this is already merged,True,{}
uTox/uTox,https://github.com/uTox/uTox,457,2016-11-02T00:43:50Z,2016-11-02T22:19:58Z,2016-11-02T22:19:58Z,MERGED,True,53,0,7,https://github.com/endoffile78,Add null checks after calloc and malloc,1,[],https://github.com/uTox/uTox/pull/457,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/457,Closes #453,Closes #453,True,{}
uTox/uTox,https://github.com/uTox/uTox,461,2016-11-03T19:44:54Z,2016-11-07T00:06:00Z,2016-12-10T17:19:43Z,CLOSED,False,4,4,1,https://github.com/robinlinden,Updated Windows section of BUILD.md,1,[],https://github.com/uTox/uTox/pull/461,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/461,"cross-compile.sh has been renamed to cygwin-compile.sh and https://jenkins.libtoxcore.so/ 404s, so updated that to point to https://build.tox.chat/


This change is","cross-compile.sh has been renamed to cygwin-compile.sh and https://jenkins.libtoxcore.so/ 404s, so updated that to point to https://build.tox.chat/


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,461,2016-11-03T19:44:54Z,2016-11-07T00:06:00Z,2016-12-10T17:19:43Z,CLOSED,False,4,4,1,https://github.com/robinlinden,Updated Windows section of BUILD.md,1,[],https://github.com/uTox/uTox/pull/461,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/461#issuecomment-258352219,"cross-compile.sh has been renamed to cygwin-compile.sh and https://jenkins.libtoxcore.so/ 404s, so updated that to point to https://build.tox.chat/


This change is","that script is kinda old, if you have cygwin installed a simple make should work?",True,{}
uTox/uTox,https://github.com/uTox/uTox,461,2016-11-03T19:44:54Z,2016-11-07T00:06:00Z,2016-12-10T17:19:43Z,CLOSED,False,4,4,1,https://github.com/robinlinden,Updated Windows section of BUILD.md,1,[],https://github.com/uTox/uTox/pull/461,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/461#issuecomment-258578665,"cross-compile.sh has been renamed to cygwin-compile.sh and https://jenkins.libtoxcore.so/ 404s, so updated that to point to https://build.tox.chat/


This change is","Running just make leads to make: Nothing to be done for 'all'.
make install leads to
$ make install CC    src/file_transfers.o In file included from src/file_transfers.c:1:0: src/file_transfers.h:7:21: fatal error: tox/tox.h: No such file or directory compilation terminated. make: *** [Makefile:198: src/file_transfers.o] Error 1
That said, the cygwin script doesn't work for me either.
$ ./cygwin-compile.sh ./cygwin-compile.sh: line 7: $'\r': command not found ./cygwin-compile.sh: line 8: syntax error near unexpected token $'{\r''
'/cygwin-compile.sh: line 8: usage() {
I'll look into it more later.",True,{}
uTox/uTox,https://github.com/uTox/uTox,461,2016-11-03T19:44:54Z,2016-11-07T00:06:00Z,2016-12-10T17:19:43Z,CLOSED,False,4,4,1,https://github.com/robinlinden,Updated Windows section of BUILD.md,1,[],https://github.com/uTox/uTox/pull/461,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/461#issuecomment-258722155,"cross-compile.sh has been renamed to cygwin-compile.sh and https://jenkins.libtoxcore.so/ 404s, so updated that to point to https://build.tox.chat/


This change is","I'm going to close this because I'm going to fix cmake for windows
Once that works pester me and I'll write the docs to go along with it",True,{}
uTox/uTox,https://github.com/uTox/uTox,462,2016-11-03T20:08:05Z,2016-11-03T20:11:09Z,2016-12-10T17:19:41Z,CLOSED,False,315,315,1,https://github.com/robinlinden,Updated links in CHANGELOG.md to point to new repo,1,[],https://github.com/uTox/uTox/pull/462,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/462,Repo urls updated from https://github.com/GrayHatter/uTox/ to https://github.com/uTox/uTox/,Repo urls updated from https://github.com/GrayHatter/uTox/ to https://github.com/uTox/uTox/,True,{}
uTox/uTox,https://github.com/uTox/uTox,462,2016-11-03T20:08:05Z,2016-11-03T20:11:09Z,2016-12-10T17:19:41Z,CLOSED,False,315,315,1,https://github.com/robinlinden,Updated links in CHANGELOG.md to point to new repo,1,[],https://github.com/uTox/uTox/pull/462,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/462#issuecomment-258259717,Repo urls updated from https://github.com/GrayHatter/uTox/ to https://github.com/uTox/uTox/,"Just noticed that there's an open PR that fixes this and more, so never mind.",True,{}
uTox/uTox,https://github.com/uTox/uTox,463,2016-11-04T23:21:04Z,2016-11-18T11:30:00Z,2016-11-18T11:30:07Z,MERGED,True,24,354,28,https://github.com/robinlinden,Remove language strings not in use.,3,['PR: READY'],https://github.com/uTox/uTox/pull/463,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/463,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,463,2016-11-04T23:21:04Z,2016-11-18T11:30:00Z,2016-11-18T11:30:07Z,MERGED,True,24,354,28,https://github.com/robinlinden,Remove language strings not in use.,3,['PR: READY'],https://github.com/uTox/uTox/pull/463,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/463#issuecomment-258576938,This change is,"Reviewed 1 of 2 files at r1.
Review status: 1 of 2 files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/ui/buttons.c, line 398 at r1 (raw file):

}

add // clang-format off here

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,463,2016-11-04T23:21:04Z,2016-11-18T11:30:00Z,2016-11-18T11:30:07Z,MERGED,True,24,354,28,https://github.com/robinlinden,Remove language strings not in use.,3,['PR: READY'],https://github.com/uTox/uTox/pull/463,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/463#issuecomment-258578085,This change is,"Review status: 1 of 2 files reviewed at latest revision, 1 unresolved discussion.

src/ui/buttons.c, line 398 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

add // clang-format off here

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,463,2016-11-04T23:21:04Z,2016-11-18T11:30:00Z,2016-11-18T11:30:07Z,MERGED,True,24,354,28,https://github.com/robinlinden,Remove language strings not in use.,3,['PR: READY'],https://github.com/uTox/uTox/pull/463,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/463#issuecomment-258712515,This change is,"Alright, this should be working now. A few of the enums I removed didn't exist in the code per se, but were constructed by macros. I added those back and removed the language strings referencing the enums and now it seems to work again.",True,{}
uTox/uTox,https://github.com/uTox/uTox,463,2016-11-04T23:21:04Z,2016-11-18T11:30:00Z,2016-11-18T11:30:07Z,MERGED,True,24,354,28,https://github.com/robinlinden,Remove language strings not in use.,3,['PR: READY'],https://github.com/uTox/uTox/pull/463,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/463#issuecomment-258712878,This change is,"Reviewed 28 of 28 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,463,2016-11-04T23:21:04Z,2016-11-18T11:30:00Z,2016-11-18T11:30:07Z,MERGED,True,24,354,28,https://github.com/robinlinden,Remove language strings not in use.,3,['PR: READY'],https://github.com/uTox/uTox/pull/463,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/463#issuecomment-261174056,This change is,"Reviewed 8 of 8 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,464,2016-11-04T23:51:21Z,2016-11-07T05:14:38Z,2016-11-07T05:14:38Z,MERGED,True,5,0,1,https://github.com/endoffile78,Ignore cmake files,1,[],https://github.com/uTox/uTox/pull/464,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/464,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,464,2016-11-04T23:51:21Z,2016-11-07T05:14:38Z,2016-11-07T05:14:38Z,MERGED,True,5,0,1,https://github.com/endoffile78,Ignore cmake files,1,[],https://github.com/uTox/uTox/pull/464,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/464#issuecomment-258576799,This change is,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,466,2016-11-05T18:24:44Z,2016-11-12T23:22:12Z,2017-02-12T21:34:33Z,MERGED,True,250,332,6,https://github.com/endoffile78,Replace native_load_data and native_save_data with native_get_file,1,[],https://github.com/uTox/uTox/pull/466,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/466,"What needs to be done:

Windows version (GrayHatter said he would do it)
Replace native_load_data and native_save_data (started doesn't work yet)



This change is","What needs to be done:

Windows version (GrayHatter said he would do it)
Replace native_load_data and native_save_data (started doesn't work yet)



This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,466,2016-11-05T18:24:44Z,2016-11-12T23:22:12Z,2017-02-12T21:34:33Z,MERGED,True,250,332,6,https://github.com/endoffile78,Replace native_load_data and native_save_data with native_get_file,1,[],https://github.com/uTox/uTox/pull/466,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/466#issuecomment-258640915,"What needs to be done:

Windows version (GrayHatter said he would do it)
Replace native_load_data and native_save_data (started doesn't work yet)



This change is","Reviewed 5 of 10 files at r1.
Review status: 5 of 10 files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

src/main.c, line 102 at r1 (raw file):

bool utox_data_save_utox(UTOX_SAVE *data, size_t length) {
    uint8_t name[] = ""utox_save"";
    size_t size;

set = 0;

src/main.c, line 118 at r1 (raw file):

UTOX_SAVE *utox_data_load_utox(void) {
    uint8_t name[] = ""utox_save"", *data;

use UTOX_SAVE so we don't have to typecast as often

src/android/main.c, line 294 at r1 (raw file):

    snprintf((char *)path, UTOX_FILE_NAME_LENGTH, ANDROID_INTERNAL_SAVE);

    if (strlen((const char *)path) + name_length >= UTOX_FILE_NAME_LENGTH) {

there's no name length here

src/android/main.c, line 310 at r1 (raw file):

    fseek(fp, 0, SEEK_END);
    *size = ftell(fp);

if not null

src/cocoa/main.m, line 326 at r1 (raw file):

}

FILE *native_get_file(uint8_t *name, size_t *size, char *flag) {

try to use char when you can, we can type cast to u8 when we need utf-8

src/cocoa/main.m, line 352 at r1 (raw file):

    fseek(fp, 0, SEEK_END);
    *size = ftell(fp);

if size != NULL

src/xlib/main.c, line 334 at r1 (raw file):

    fseek(fp, 0, SEEK_END);
    *size = ftell(fp);

if not null

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,466,2016-11-05T18:24:44Z,2016-11-12T23:22:12Z,2017-02-12T21:34:33Z,MERGED,True,250,332,6,https://github.com/endoffile78,Replace native_load_data and native_save_data with native_get_file,1,[],https://github.com/uTox/uTox/pull/466,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/466#issuecomment-258725443,"What needs to be done:

Windows version (GrayHatter said he would do it)
Replace native_load_data and native_save_data (started doesn't work yet)



This change is","Reviewed 1 of 10 files at r1, 9 of 9 files at r2.
Review status: all files reviewed at latest revision, 9 unresolved discussions, some commit checks failed.

src/main.c, line 58 at r2 (raw file):

    FILE *fp = native_get_file((char *)name, &length, ""wb"");
    if (fp == NULL) {
        return true;

Return true on failure?

src/main.c, line 65 at r2 (raw file):

    fclose(fp);

    return false;

Return false on success?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,466,2016-11-05T18:24:44Z,2016-11-12T23:22:12Z,2017-02-12T21:34:33Z,MERGED,True,250,332,6,https://github.com/endoffile78,Replace native_load_data and native_save_data with native_get_file,1,[],https://github.com/uTox/uTox/pull/466,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/466#issuecomment-258742270,"What needs to be done:

Windows version (GrayHatter said he would do it)
Replace native_load_data and native_save_data (started doesn't work yet)



This change is","Review status: all files reviewed at latest revision, 9 unresolved discussions, some commit checks failed.

src/main.c, line 102 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

set = 0;

Done.


src/main.c, line 118 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

use UTOX_SAVE so we don't have to typecast as often

Done.


src/main.c, line 58 at r2 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

Return true on failure?

The result of this fuction is saved to a global variable called save_needed so if this function fails a save is needed and if succeeds then one is not needed currently.


src/android/main.c, line 294 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

there's no name length here

Done.


src/android/main.c, line 310 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

if not null

Done.


src/cocoa/main.m, line 326 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

try to use char when you can, we can type cast to u8 when we need utf-8

Done.


src/cocoa/main.m, line 352 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

if size != NULL

Done.


src/xlib/main.c, line 334 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

if not null

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,466,2016-11-05T18:24:44Z,2016-11-12T23:22:12Z,2017-02-12T21:34:33Z,MERGED,True,250,332,6,https://github.com/endoffile78,Replace native_load_data and native_save_data with native_get_file,1,[],https://github.com/uTox/uTox/pull/466,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/466#issuecomment-258747362,"What needs to be done:

Windows version (GrayHatter said he would do it)
Replace native_load_data and native_save_data (started doesn't work yet)



This change is","Reviewed 5 of 9 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

.gitignore, line 36 at r2 (raw file):

CMakeFiles
cmake_install.cmake
CMakeCache.txt


reviewable is strange , is there a newline here?

src/main.c, line 58 at r2 (raw file):

Previously, endoffile78 (Endoffile) wrote‚Ä¶

The result of this fuction is saved to a global variable called save_needed so if this function fails a save is needed and if succeeds then one is not needed currently.

you can use !utox_data_save_tox(); to reverse the use of this function. That said, that's a really bad way to check if a save is needed (I know I wrote that code, its' still really bad)


src/main.c, line 65 at r2 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

Return false on success?

Yeah if a function is bool the common style is report the success, (so you can `if (function_worked())` when it's an int each number means something different, and 0 being first, is known as everything worked.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,466,2016-11-05T18:24:44Z,2016-11-12T23:22:12Z,2017-02-12T21:34:33Z,MERGED,True,250,332,6,https://github.com/endoffile78,Replace native_load_data and native_save_data with native_get_file,1,[],https://github.com/uTox/uTox/pull/466,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/466#issuecomment-260092591,"What needs to be done:

Windows version (GrayHatter said he would do it)
Replace native_load_data and native_save_data (started doesn't work yet)



This change is","Review status: 5 of 9 files reviewed at latest revision, 5 unresolved discussions.

src/main.c, line 87 at r3 (raw file):

            debug(""Could not allocate memory.\n"");
            fclose(fp);
            break; //quit were out of memory, calloc will fail again

return instead

src/main.c, line 93 at r3 (raw file):

            fclose(fp);
            free(data);
            continue;

return as well and add a comment // return because if this file exits we don't want to fall back to an old version, we need the user to decide

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,466,2016-11-05T18:24:44Z,2016-11-12T23:22:12Z,2017-02-12T21:34:33Z,MERGED,True,250,332,6,https://github.com/endoffile78,Replace native_load_data and native_save_data with native_get_file,1,[],https://github.com/uTox/uTox/pull/466,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/466#issuecomment-260092636,"What needs to be done:

Windows version (GrayHatter said he would do it)
Replace native_load_data and native_save_data (started doesn't work yet)



This change is","Review status: 5 of 9 files reviewed at latest revision, 6 unresolved discussions.

src/main.c, line 96 at r3 (raw file):

        }
        fclose(fp);
        return data;

set *size here

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,466,2016-11-05T18:24:44Z,2016-11-12T23:22:12Z,2017-02-12T21:34:33Z,MERGED,True,250,332,6,https://github.com/endoffile78,Replace native_load_data and native_save_data with native_get_file,1,[],https://github.com/uTox/uTox/pull/466,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/466#issuecomment-260098309,"What needs to be done:

Windows version (GrayHatter said he would do it)
Replace native_load_data and native_save_data (started doesn't work yet)



This change is","Review status: 0 of 6 files reviewed at latest revision, 6 unresolved discussions.

src/main.c, line 87 at r3 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

return instead

Done.


src/main.c, line 93 at r3 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

return as well and add a comment // return because if this file exits we don't want to fall back to an old version, we need the user to decide

Done.


src/main.c, line 96 at r3 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

set *size here

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,466,2016-11-05T18:24:44Z,2016-11-12T23:22:12Z,2017-02-12T21:34:33Z,MERGED,True,250,332,6,https://github.com/endoffile78,Replace native_load_data and native_save_data with native_get_file,1,[],https://github.com/uTox/uTox/pull/466,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/466#issuecomment-260151161,"What needs to be done:

Windows version (GrayHatter said he would do it)
Replace native_load_data and native_save_data (started doesn't work yet)



This change is","Review status: 0 of 6 files reviewed at latest revision, 3 unresolved discussions.

src/main.c, line 58 at r2 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

you can use !utox_data_save_tox(); to reverse the use of this function. That said, that's a really bad way to check if a save is needed (I know I wrote that code, its' still really bad)

Done.


src/main.c, line 65 at r2 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

Yeah if a function is bool the common style is report the success, (so you can if (function_worked()) when it's an int each number means something different, and 0 being first, is known as everything worked.

Done.


.gitignore, line 36 at r2 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

reviewable is strange , is there a newline here?

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,466,2016-11-05T18:24:44Z,2016-11-12T23:22:12Z,2017-02-12T21:34:33Z,MERGED,True,250,332,6,https://github.com/endoffile78,Replace native_load_data and native_save_data with native_get_file,1,[],https://github.com/uTox/uTox/pull/466,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/466#issuecomment-260155197,"What needs to be done:

Windows version (GrayHatter said he would do it)
Replace native_load_data and native_save_data (started doesn't work yet)



This change is","Reviewed 1 of 10 files at r1, 6 of 10 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,467,2016-11-06T01:36:14Z,2016-11-12T21:23:09Z,2016-12-10T17:19:37Z,MERGED,True,7,2,2,https://github.com/robinlinden,Limited width of audio-video tab in settings. (fixes #441),1,[],https://github.com/uTox/uTox/pull/467,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/467,"Fixes #441


This change is","Fixes #441


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,467,2016-11-06T01:36:14Z,2016-11-12T21:23:09Z,2016-12-10T17:19:37Z,MERGED,True,7,2,2,https://github.com/robinlinden,Limited width of audio-video tab in settings. (fixes #441),1,[],https://github.com/uTox/uTox/pull/467,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/467#issuecomment-258722845,"Fixes #441


This change is","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,467,2016-11-06T01:36:14Z,2016-11-12T21:23:09Z,2016-12-10T17:19:37Z,MERGED,True,7,2,2,https://github.com/robinlinden,Limited width of audio-video tab in settings. (fixes #441),1,[],https://github.com/uTox/uTox/pull/467,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/467#issuecomment-260135380,"Fixes #441


This change is","Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,468,2016-11-06T02:21:47Z,2016-11-07T00:13:05Z,2016-12-10T17:19:40Z,MERGED,True,1,21,15,https://github.com/robinlinden,Removed superfluous ../main.h includes in general and xlib files,2,[],https://github.com/uTox/uTox/pull/468,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/468,"Fixes #436


This change is","Fixes #436


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,470,2016-11-07T02:13:31Z,2016-11-18T11:28:42Z,2016-11-18T23:58:42Z,MERGED,True,466,191,41,https://github.com/GrayHatter,Fix CMake and Travis on Win,15,[],https://github.com/uTox/uTox/pull/470,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/470,This change is,This change is,True,{}
uTox/uTox,https://github.com/uTox/uTox,470,2016-11-07T02:13:31Z,2016-11-18T11:28:42Z,2016-11-18T23:58:42Z,MERGED,True,466,191,41,https://github.com/GrayHatter,Fix CMake and Travis on Win,15,[],https://github.com/uTox/uTox/pull/470,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/470#issuecomment-260564048,This change is,"Reviewed 40 of 40 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/os_video.c, line 11 at r1 (raw file):

#include <dshow.h>
#include <qedit.h>
// amvideo.h must be uncluded after dshow

uncluded?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,470,2016-11-07T02:13:31Z,2016-11-18T11:28:42Z,2016-11-18T23:58:42Z,MERGED,True,466,191,41,https://github.com/GrayHatter,Fix CMake and Travis on Win,15,[],https://github.com/uTox/uTox/pull/470,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/470#issuecomment-260775785,This change is,"Reviewed 40 of 40 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,470,2016-11-07T02:13:31Z,2016-11-18T11:28:42Z,2016-11-18T23:58:42Z,MERGED,True,466,191,41,https://github.com/GrayHatter,Fix CMake and Travis on Win,15,[],https://github.com/uTox/uTox/pull/470,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/470#issuecomment-261510546,This change is,"Reviewed 17 of 17 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,473,2016-11-11T18:41:13Z,2016-11-12T01:08:37Z,2016-11-12T01:08:37Z,CLOSED,False,1,1,1,https://github.com/MiljardKilk,https://temp.pm/?E8wXuN326dM54a15vVcM36LZs-3-o1Yo3y0d5ScUqUo374U8F185z-NUpdate README.md,1,[],https://github.com/uTox/uTox/pull/473,https://github.com/MiljardKilk,1,https://github.com/uTox/uTox/pull/473,"nii


This change is","nii


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,473,2016-11-11T18:41:13Z,2016-11-12T01:08:37Z,2016-11-12T01:08:37Z,CLOSED,False,1,1,1,https://github.com/MiljardKilk,https://temp.pm/?E8wXuN326dM54a15vVcM36LZs-3-o1Yo3y0d5ScUqUo374U8F185z-NUpdate README.md,1,[],https://github.com/uTox/uTox/pull/473,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/473#issuecomment-260090508,"nii


This change is",I pushed these changes to develop already,True,{}
uTox/uTox,https://github.com/uTox/uTox,475,2016-11-12T02:30:06Z,2016-11-15T03:57:59Z,2016-11-15T03:57:59Z,MERGED,True,89,75,10,https://github.com/robinlinden,Fixing warnings,19,[],https://github.com/uTox/uTox/pull/475,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/475,"Still lots of warnings in a lot of files as some are actual problems and some we can't do much about.


This change is","Still lots of warnings in a lot of files as some are actual problems and some we can't do much about.


This change is",True,{}
uTox/uTox,https://github.com/uTox/uTox,475,2016-11-12T02:30:06Z,2016-11-15T03:57:59Z,2016-11-15T03:57:59Z,MERGED,True,89,75,10,https://github.com/robinlinden,Fixing warnings,19,[],https://github.com/uTox/uTox/pull/475,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/475#issuecomment-260097146,"Still lots of warnings in a lot of files as some are actual problems and some we can't do much about.


This change is","Reviewed 7 of 7 files at r1.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/xlib/main.c, line 235 at r1 (raw file):

uint8_t *native_load_data(const uint8_t *name, size_t name_length, size_t *out_size) {
    char  path[UTOX_FILE_NAME_LENGTH] = { 0 };
    uint8_t *data;

why u8 here?

src/xlib/main.c, line 262 at r1 (raw file):

    size_t size = ftell(file);

    data = (uint8_t *)calloc(size + 1, 1); // needed for the ending null byte

is this cast needed?

src/xlib/main.c, line 887 at r1 (raw file):

    if (result == -1) {
        return 0;
    } else {

no else after return

src/xlib/main.c, line 904 at r1 (raw file):

        return 0;
    } else {
        return 1;

no else after return

src/xlib/main.c, line 929 at r1 (raw file):

    char *str = tohtml(msg, msg_length);

    /* Todo handle this warning! */

this should be cleared now right?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,475,2016-11-12T02:30:06Z,2016-11-15T03:57:59Z,2016-11-15T03:57:59Z,MERGED,True,89,75,10,https://github.com/robinlinden,Fixing warnings,19,[],https://github.com/uTox/uTox/pull/475,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/475#issuecomment-260233650,"Still lots of warnings in a lot of files as some are actual problems and some we can't do much about.


This change is","Review status: 3 of 7 files reviewed at latest revision, 5 unresolved discussions.

src/xlib/main.c, line 235 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

why u8 here?

After discussion on IRC, this is going to stay `uint8_t*` as it could be pointing to several different types of data.


src/xlib/main.c, line 262 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

is this cast needed?

Apparently not. `void*` is implicitly cast to anything. Fixed.


src/xlib/main.c, line 887 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

no else after return

Done.


src/xlib/main.c, line 904 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

no else after return

Done.


src/xlib/main.c, line 929 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

this should be cleared now right?

You're right. It is.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,475,2016-11-12T02:30:06Z,2016-11-15T03:57:59Z,2016-11-15T03:57:59Z,MERGED,True,89,75,10,https://github.com/robinlinden,Fixing warnings,19,[],https://github.com/uTox/uTox/pull/475,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/475#issuecomment-260241700,"Still lots of warnings in a lot of files as some are actual problems and some we can't do much about.


This change is","Reviewed 3 of 4 files at r2.
Review status: 6 of 7 files reviewed at latest revision, 4 unresolved discussions.

src/xlib/main.c, line 887 at r1 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

Done.

LGTM

From what I remember, this might be a candidate  for returning bool true on success; non-blocking this can be changed later

src/xlib/main.c, line 7 at r2 (raw file):

#include ""../flist.h""
#include ""../friend.h""
#include ""../main_native.h""

Putting the file_opts enum in main_native was stupid idea... (I know it was my idea), it needs to be moved to /main.h
Native sources shouldn't include main_native.h, they should just include [platform]/main.h

src/xlib/main.c, line 183 at r2 (raw file):

// Returns true if path exists, false otherwise.
bool native_create_dir(const char *filepath) {
    if (UTOX_FILE_OPTS_WRITE | UTOX_FILE_OPTS_MKDIR) {

this function doesn't need to check this, only callers need to make this check.

src/xlib/main.c, line 187 at r2 (raw file):

        if (status == 0) {
            return true;
        } else if (errno == EEXIST) {

try to avoid else after return, in this case || errno == EEXIST is better

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,475,2016-11-12T02:30:06Z,2016-11-15T03:57:59Z,2016-11-15T03:57:59Z,MERGED,True,89,75,10,https://github.com/robinlinden,Fixing warnings,19,[],https://github.com/uTox/uTox/pull/475,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/475#issuecomment-260500278,"Still lots of warnings in a lot of files as some are actual problems and some we can't do much about.


This change is","Review status: 6 of 8 files reviewed at latest revision, 3 unresolved discussions.

src/xlib/main.c, line 7 at r2 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

Putting the file_opts enum in main_native was stupid idea... (I know it was my idea), it needs to be moved to /main.h
Native sources shouldn't include main_native.h, they should just include [platform]/main.h

Done.


src/xlib/main.c, line 183 at r2 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

this function doesn't need to check this, only callers need to make this check.

Done.


src/xlib/main.c, line 187 at r2 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

try to avoid else after return, in this case || errno == EEXIST is better

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,475,2016-11-12T02:30:06Z,2016-11-15T03:57:59Z,2016-11-15T03:57:59Z,MERGED,True,89,75,10,https://github.com/robinlinden,Fixing warnings,19,[],https://github.com/uTox/uTox/pull/475,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/475#issuecomment-260519213,"Still lots of warnings in a lot of files as some are actual problems and some we can't do much about.


This change is","Reviewed 3 of 4 files at r3.
Review status: 9 of 10 files reviewed at latest revision, 1 unresolved discussion.

src/main.h, line 296 at r3 (raw file):

bool    mdown;

/** Takes a filepath and creates it with permissions 0700 if it doesn't already exist.

0700 in posix environments

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,475,2016-11-12T02:30:06Z,2016-11-15T03:57:59Z,2016-11-15T03:57:59Z,MERGED,True,89,75,10,https://github.com/robinlinden,Fixing warnings,19,[],https://github.com/uTox/uTox/pull/475,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/475#issuecomment-260521132,"Still lots of warnings in a lot of files as some are actual problems and some we can't do much about.


This change is","Review status: 9 of 10 files reviewed at latest revision, 1 unresolved discussion.

src/main.h, line 296 at r3 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

0700 in posix environments

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,475,2016-11-12T02:30:06Z,2016-11-15T03:57:59Z,2016-11-15T03:57:59Z,MERGED,True,89,75,10,https://github.com/robinlinden,Fixing warnings,19,[],https://github.com/uTox/uTox/pull/475,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/475#issuecomment-260541191,"Still lots of warnings in a lot of files as some are actual problems and some we can't do much about.


This change is","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,476,2016-11-12T17:20:04Z,2016-11-14T22:29:51Z,2017-02-12T21:33:11Z,MERGED,True,21,13,2,https://github.com/endoffile78,Update BUILD.md and INSTALL.md,1,[],https://github.com/uTox/uTox/pull/476,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/476,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,476,2016-11-12T17:20:04Z,2016-11-14T22:29:51Z,2017-02-12T21:33:11Z,MERGED,True,21,13,2,https://github.com/endoffile78,Update BUILD.md and INSTALL.md,1,[],https://github.com/uTox/uTox/pull/476,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/476#issuecomment-260142102,This change is‚ÄÇ,"Left a few comments with minor fixes. You might want to wait for @GrayHatter to check before changing anything.

Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 6 unresolved discussions.

docs/BUILD.md, line 3 at r1 (raw file):

# Build

Following are barebone compilation instructions that should get you going. They probably wont work but #utox can

#utox on Freenode maybe?

docs/BUILD.md, line 13 at r1 (raw file):

### Xlib

The easy way out is:

Should we be cding into a build/ folder before doing cmake .. && make?

docs/BUILD.md, line 54 at r1 (raw file):

git clone git://github.com/toktok/c-toxcore.git

TokTok

docs/BUILD.md, line 61 at r1 (raw file):

cd ..

git clone git://github.com/utox/uTox.git

uTox

docs/INSTALL.md, line 5 at r1 (raw file):

The following will help you get ŒºTox installed on your computron/toaster/carrier pigeon. The focus of this guide is to get you running ASAP. And mostly deals with precomplied binaries. If you're looking to contribute (you're the real MVP) you're probably looking for [Building](BUILD.md).

For any and all of the following, you'll need to have [toxcore](https://github.com/toktok/c-toxcore) installed first.

TokTok

docs/INSTALL.md, line 17 at r1 (raw file):

Dependencies:

```dbus filter_audio freetype libvpx openal v4l xext xrender cmake(for compiling)```

I'd probably remove (for compiling)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,476,2016-11-12T17:20:04Z,2016-11-14T22:29:51Z,2017-02-12T21:33:11Z,MERGED,True,21,13,2,https://github.com/endoffile78,Update BUILD.md and INSTALL.md,1,[],https://github.com/uTox/uTox/pull/476,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/476#issuecomment-260142699,This change is‚ÄÇ,"Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 6 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,476,2016-11-12T17:20:04Z,2016-11-14T22:29:51Z,2017-02-12T21:33:11Z,MERGED,True,21,13,2,https://github.com/endoffile78,Update BUILD.md and INSTALL.md,1,[],https://github.com/uTox/uTox/pull/476,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/476#issuecomment-260142749,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 6 unresolved discussions.

docs/BUILD.md, line 3 at r1 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

#utox on Freenode maybe?

Done.


docs/BUILD.md, line 13 at r1 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

Should we be cding into a build/ folder before doing cmake .. && make?

Done.


docs/BUILD.md, line 54 at r1 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

TokTok

Done.


docs/BUILD.md, line 61 at r1 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

uTox

Done.


docs/INSTALL.md, line 5 at r1 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

TokTok

Done.


docs/INSTALL.md, line 17 at r1 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

I'd probably remove (for compiling)

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,477,2016-11-12T17:41:47Z,2016-11-12T20:05:01Z,2017-02-12T21:33:10Z,MERGED,True,1,1,1,https://github.com/endoffile78,Stop utox from segfaulting,1,[],https://github.com/uTox/uTox/pull/477,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/477,"This is more of a work around until we figure out what to do with things that required datapath().


This change is‚ÄÇ","This is more of a work around until we figure out what to do with things that required datapath().


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,477,2016-11-12T17:41:47Z,2016-11-12T20:05:01Z,2017-02-12T21:33:10Z,MERGED,True,1,1,1,https://github.com/endoffile78,Stop utox from segfaulting,1,[],https://github.com/uTox/uTox/pull/477,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/477#issuecomment-260142209,"This is more of a work around until we figure out what to do with things that required datapath().


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,478,2016-11-12T23:28:44Z,2016-11-15T04:17:41Z,2016-11-22T09:30:12Z,CLOSED,False,16,0,2,https://github.com/robinlinden,Added native_create_dir(),4,[],https://github.com/uTox/uTox/pull/478,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/478,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,478,2016-11-12T23:28:44Z,2016-11-15T04:17:41Z,2016-11-22T09:30:12Z,CLOSED,False,16,0,2,https://github.com/robinlinden,Added native_create_dir(),4,[],https://github.com/uTox/uTox/pull/478,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/478#issuecomment-260543360,This change is‚ÄÇ,Merged together with #475,True,{}
uTox/uTox,https://github.com/uTox/uTox,479,2016-11-15T04:00:20Z,2016-11-15T05:32:45Z,2016-12-10T17:19:51Z,MERGED,True,150,192,6,https://github.com/robinlinden,Fixing more warnings,10,[],https://github.com/uTox/uTox/pull/479,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/479,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,479,2016-11-15T04:00:20Z,2016-11-15T05:32:45Z,2016-12-10T17:19:51Z,MERGED,True,150,192,6,https://github.com/robinlinden,Fixing more warnings,10,[],https://github.com/uTox/uTox/pull/479,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/479#issuecomment-260543996,This change is‚ÄÇ,"Reviewed 3 of 4 files at r1.
Review status: 3 of 4 files reviewed at latest revision, 2 unresolved discussions.

src/groups.h, line 19 at r1 (raw file):

typedef struct group_peer {
    uint32_t id;
    // TODO: choose a color for the peer name from a list, and persist across name changes.

this is done... I think

src/groups.h, line 22 at r1 (raw file):

    uint32_t name_color;
    size_t name_length;
    char name[0];

name's are one thing I think need to be u8, nearly everyone who uses tox likes to use very strange characters, making this an unfortunate exception...

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,479,2016-11-15T04:00:20Z,2016-11-15T05:32:45Z,2016-12-10T17:19:51Z,MERGED,True,150,192,6,https://github.com/robinlinden,Fixing more warnings,10,[],https://github.com/uTox/uTox/pull/479,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/479#issuecomment-260550480,This change is‚ÄÇ,"Review status: 3 of 6 files reviewed at latest revision, 2 unresolved discussions.

src/groups.h, line 19 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

this is done... I think

It is done. :P


src/groups.h, line 22 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

name's are one thing I think need to be u8, nearly everyone who uses tox likes to use very strange characters, making this an unfortunate exception...

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,479,2016-11-15T04:00:20Z,2016-11-15T05:32:45Z,2016-12-10T17:19:51Z,MERGED,True,150,192,6,https://github.com/robinlinden,Fixing more warnings,10,[],https://github.com/uTox/uTox/pull/479,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/479#issuecomment-260550700,This change is‚ÄÇ,"Reviewed 2 of 2 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,480,2016-11-15T05:01:23Z,2016-11-15T05:05:18Z,2016-11-15T05:05:18Z,MERGED,True,15,3,4,https://github.com/endoffile78,Fix segfault in image_free,1,[],https://github.com/uTox/uTox/pull/480,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/480,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,480,2016-11-15T05:01:23Z,2016-11-15T05:05:18Z,2016-11-15T05:05:18Z,MERGED,True,15,3,4,https://github.com/endoffile78,Fix segfault in image_free,1,[],https://github.com/uTox/uTox/pull/480,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/480#issuecomment-260547983,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,480,2016-11-15T05:01:23Z,2016-11-15T05:05:18Z,2016-11-15T05:05:18Z,MERGED,True,15,3,4,https://github.com/endoffile78,Fix segfault in image_free,1,[],https://github.com/uTox/uTox/pull/480,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/480#issuecomment-260548169,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,480,2016-11-15T05:01:23Z,2016-11-15T05:05:18Z,2016-11-15T05:05:18Z,MERGED,True,15,3,4,https://github.com/endoffile78,Fix segfault in image_free,1,[],https://github.com/uTox/uTox/pull/480,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/480#issuecomment-260548192,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved, some commit checks pending.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,481,2016-11-15T21:47:19Z,2016-11-21T06:18:13Z,2017-02-12T21:34:32Z,MERGED,True,141,146,6,https://github.com/endoffile78,Fix avatars,2,[],https://github.com/uTox/uTox/pull/481,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/481,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,481,2016-11-15T21:47:19Z,2016-11-21T06:18:13Z,2017-02-12T21:34:32Z,MERGED,True,141,146,6,https://github.com/endoffile78,Fix avatars,2,[],https://github.com/uTox/uTox/pull/481,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/481#issuecomment-260802793,This change is‚ÄÇ,"Reviewed 1 of 2 files at r1.
Review status: 1 of 2 files reviewed at latest revision, 1 unresolved discussion.

src/avatar.c, line 127 at r1 (raw file):

bool avatar_on_friend_online(Tox *tox, uint32_t friend_number) {
    size_t   avatar_size = 0;
    uint8_t *avatar_data = utox_data_load_avatar(-1, &avatar_size);

Generate the filename in this function, then use the native function to get the FILE* and then read from inside this function.
There's no reason anything outside of this file should know anything about avatars, or how they're saved or loaded.
This is a change from the way it was/is but it's what needs to be done.
Also: do we want to just keep this file in memory, instead of hitting the disk all the time?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,481,2016-11-15T21:47:19Z,2016-11-21T06:18:13Z,2017-02-12T21:34:32Z,MERGED,True,141,146,6,https://github.com/endoffile78,Fix avatars,2,[],https://github.com/uTox/uTox/pull/481,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/481#issuecomment-261806234,This change is‚ÄÇ,"Reviewed 3 of 6 files at r2.
Review status: 3 of 6 files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

src/avatar.c, line 16 at r2 (raw file):

}

bool save_avatar(char hexid[64], const uint8_t *data, size_t length) {

this was a magic number I needed to replace, it's TOX_PUBLIC_KEY_SIZE * 2

src/avatar.c, line 41 at r2 (raw file):

}

uint8_t *load_img_data(char hexid[64], size_t *out_size) {

ditto here and every where else TOX_PUBLIC_KEY_SIZE * 2

src/avatar.c, line 41 at r2 (raw file):

}

uint8_t *load_img_data(char hexid[64], size_t *out_size) {

can we make this static?

src/file_transfers.c, line 859 at r2 (raw file):

            debug(""FileTransfer:\tStarting avatar to friend %u.\n"", friend_number);
            file_number = tox_file_send(tox, friend_number, TOX_FILE_KIND_AVATAR, file_data_size, file_id, NULL, 0, &error);
            debug(""FileTransfer:\t, tox_file_send error: %u"", error);

debug_error

src/main.c, line 423 at r2 (raw file):

}

bool utox_data_save_avatar(uint32_t friend_number, const uint8_t *data, size_t length) {

weeee merge conflicts with develop
no changes needed

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,481,2016-11-15T21:47:19Z,2016-11-21T06:18:13Z,2017-02-12T21:34:32Z,MERGED,True,141,146,6,https://github.com/endoffile78,Fix avatars,2,[],https://github.com/uTox/uTox/pull/481,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/481#issuecomment-261806498,This change is‚ÄÇ,"@endoffile78 I'll merge this myself, you don't need to bring it up to date with develop. Just clear reviewable and travis.",True,{}
uTox/uTox,https://github.com/uTox/uTox,481,2016-11-15T21:47:19Z,2016-11-21T06:18:13Z,2017-02-12T21:34:32Z,MERGED,True,141,146,6,https://github.com/endoffile78,Fix avatars,2,[],https://github.com/uTox/uTox/pull/481,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/481#issuecomment-261807192,This change is‚ÄÇ,"Review status: 3 of 6 files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/avatar.c, line 127 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

Generate the filename in this function, then use the native function to get the FILE* and then read from inside this function.
There's no reason anything outside of this file should know anything about avatars, or how they're saved or loaded.
This is a change from the way it was/is but it's what needs to be done.
Also: do we want to just keep this file in memory, instead of hitting the disk all the time?

Done.


src/avatar.c, line 16 at r2 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

this was a magic number I needed to replace, it's TOX_PUBLIC_KEY_SIZE * 2

Done.


src/avatar.c, line 41 at r2 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

ditto here and every where else TOX_PUBLIC_KEY_SIZE * 2

Done.


src/avatar.c, line 41 at r2 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

can we make this static?

Done.


src/file_transfers.c, line 859 at r2 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

debug_error

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,481,2016-11-15T21:47:19Z,2016-11-21T06:18:13Z,2017-02-12T21:34:32Z,MERGED,True,141,146,6,https://github.com/endoffile78,Fix avatars,2,[],https://github.com/uTox/uTox/pull/481,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/481#issuecomment-261813823,This change is‚ÄÇ,"Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/avatar.c, line 80 at r3 (raw file):

bool avatar_delete(char hexid[TOX_PUBLIC_KEY_SIZE * 2]) {
    uint8_t name[sizeof(""avatars/"") + TOX_PUBLIC_KEY_SIZE * 2 + sizeof("".png"")];

use char so we don't have to typecast, you can ignore the native_file warning, as that file is changed in develop

src/avatar.c, line 122 at r3 (raw file):

bool avatar_set(AVATAR *avatar, const uint8_t *data, size_t size) {
    if (!avatar) {
        debug(""Avatars:\t avatar is not allocated.\n"");

is null

src/avatar.h, line 83 at r3 (raw file):

 * returns false on failure
 */
bool save_avatar(char hexid[TOX_PUBLIC_KEY_SIZE * 2], const uint8_t *data, size_t length);

avatar_save

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,481,2016-11-15T21:47:19Z,2016-11-21T06:18:13Z,2017-02-12T21:34:32Z,MERGED,True,141,146,6,https://github.com/endoffile78,Fix avatars,2,[],https://github.com/uTox/uTox/pull/481,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/481#issuecomment-261851497,This change is‚ÄÇ,"Review status: 2 of 6 files reviewed at latest revision, 3 unresolved discussions.

src/avatar.c, line 80 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> use `char` so we don't have to typecast, you can ignore the native_file warning, as that file is changed in develop

Done.

src/avatar.c, line 122 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> `is null`

Done.

src/avatar.h, line 83 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> avatar_save

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,481,2016-11-15T21:47:19Z,2016-11-21T06:18:13Z,2017-02-12T21:34:32Z,MERGED,True,141,146,6,https://github.com/endoffile78,Fix avatars,2,[],https://github.com/uTox/uTox/pull/481,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/481#issuecomment-261852693,This change is‚ÄÇ,"Reviewed 4 of 4 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/avatar.c, line 85 at r4 (raw file):

#ifdef __WIN32__
    int name_len = snprintf((char *)name, sizeof(""avatars/"") + TOX_PUBLIC_KEY_SIZE * 2 + sizeof("".png""),

drop this typecast

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,481,2016-11-15T21:47:19Z,2016-11-21T06:18:13Z,2017-02-12T21:34:32Z,MERGED,True,141,146,6,https://github.com/endoffile78,Fix avatars,2,[],https://github.com/uTox/uTox/pull/481,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/481#issuecomment-261853153,This change is‚ÄÇ,"Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,482,2016-11-16T05:08:25Z,2016-11-16T06:53:16Z,2016-11-16T06:53:25Z,MERGED,True,5,1,2,https://github.com/robinlinden,"Clicking ""show profile password"" button hides it.",2,"['PR: READY', 'pri:low']",https://github.com/uTox/uTox/pull/482,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/482,"Fixes #440 and #439


This change is‚ÄÇ","Fixes #440 and #439


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,482,2016-11-16T05:08:25Z,2016-11-16T06:53:16Z,2016-11-16T06:53:25Z,MERGED,True,5,1,2,https://github.com/robinlinden,"Clicking ""show profile password"" button hides it.",2,"['PR: READY', 'pri:low']",https://github.com/uTox/uTox/pull/482,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/482#issuecomment-260867397,"Fixes #440 and #439


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/ui/buttons.c, line 390 at r1 (raw file):

static void button_show_password_settings_onpress(void) {
    button_show_password_settings.disabled = 1;

should be true/false here and there

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,482,2016-11-16T05:08:25Z,2016-11-16T06:53:16Z,2016-11-16T06:53:25Z,MERGED,True,5,1,2,https://github.com/robinlinden,"Clicking ""show profile password"" button hides it.",2,"['PR: READY', 'pri:low']",https://github.com/uTox/uTox/pull/482,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/482#issuecomment-260868318,"Fixes #440 and #439


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/ui/buttons.c, line 390 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

should be true/false here and there

Will do this together with all other UI stuff that needs to be switched over to true/false in a separate PR.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,483,2016-11-18T06:30:59Z,2016-11-19T02:09:01Z,2016-11-19T02:09:01Z,MERGED,True,247,374,6,https://github.com/robinlinden,UI code cleanup,6,['PR: Pending'],https://github.com/uTox/uTox/pull/483,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/483,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,483,2016-11-18T06:30:59Z,2016-11-19T02:09:01Z,2016-11-19T02:09:01Z,MERGED,True,247,374,6,https://github.com/robinlinden,UI code cleanup,6,['PR: Pending'],https://github.com/uTox/uTox/pull/483,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/483#issuecomment-261553480,This change is‚ÄÇ,Fixes #471,True,{}
uTox/uTox,https://github.com/uTox/uTox,483,2016-11-18T06:30:59Z,2016-11-19T02:09:01Z,2016-11-19T02:09:01Z,MERGED,True,247,374,6,https://github.com/robinlinden,UI code cleanup,6,['PR: Pending'],https://github.com/uTox/uTox/pull/483,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/483#issuecomment-261647020,This change is‚ÄÇ,"Reviewed 5 of 6 files at r1.
Review status: 5 of 6 files reviewed at latest revision, 3 unresolved discussions.

src/ui.c, line 271 at r1 (raw file):

    CREATE_BUTTON(lock_uTox, SCALE(10), SCALE(260), BM_SBUTTON_WIDTH, BM_SBUTTON_HEIGHT);

    PANEL e_name = {

use or create a CREATE_EDIT() macro for these

src/ui.c, line 396 at r1 (raw file):

    // Profile tab

    PANEL d_language = {

ditto on the CREATE_DROPDOWN macro
also be careful x, y HEIGHT, WIDTH... because fuck normal order AMIRITE?

src/ui/draw_helpers.c, line 433 at r1 (raw file):

    // The element is draw_pos_y_inc units apart and they start draw_pos_y down.
    uint16_t draw_pos_y = 10;
    uint16_t draw_pos_y_inc = 30;

OPTIONAL
do we want to make this UPPERCASE because it's generally unchanging?
IMO it would make parsing faster for humans

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,483,2016-11-18T06:30:59Z,2016-11-19T02:09:01Z,2016-11-19T02:09:01Z,MERGED,True,247,374,6,https://github.com/robinlinden,UI code cleanup,6,['PR: Pending'],https://github.com/uTox/uTox/pull/483,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/483#issuecomment-261681556,This change is‚ÄÇ,"Review status: 5 of 6 files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/ui.c, line 271 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

use or create a CREATE_EDIT() macro for these

Done.


src/ui.c, line 396 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

ditto on the CREATE_DROPDOWN macro
also be careful x, y HEIGHT, WIDTH... because fuck normal order AMIRITE?

Done.


src/ui/draw_helpers.c, line 433 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

OPTIONAL
do we want to make this UPPERCASE because it's generally unchanging?
IMO it would make parsing faster for humans

I agree with showing that it's a const/unchanging variable in some way, but if we mark this as such, a human might think it never changes from 30 when it does. :P Want to go with ALL_CAPS for const variables?


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,483,2016-11-18T06:30:59Z,2016-11-19T02:09:01Z,2016-11-19T02:09:01Z,MERGED,True,247,374,6,https://github.com/robinlinden,UI code cleanup,6,['PR: Pending'],https://github.com/uTox/uTox/pull/483,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/483#issuecomment-261683679,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: 5 of 6 files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/ui/draw_helpers.c, line 433 at r1 (raw file):

Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶

I agree with showing that it's a const/unchanging variable in some way, but if we mark this as such, a human might think it never changes from 30 when it does. :P Want to go with ALL_CAPS for const variables?

discussed on IRC LGTM


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,483,2016-11-18T06:30:59Z,2016-11-19T02:09:01Z,2016-11-19T02:09:01Z,MERGED,True,247,374,6,https://github.com/robinlinden,UI code cleanup,6,['PR: Pending'],https://github.com/uTox/uTox/pull/483,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/483#issuecomment-261684933,This change is‚ÄÇ,"Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,483,2016-11-18T06:30:59Z,2016-11-19T02:09:01Z,2016-11-19T02:09:01Z,MERGED,True,247,374,6,https://github.com/robinlinden,UI code cleanup,6,['PR: Pending'],https://github.com/uTox/uTox/pull/483,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/483#issuecomment-261685672,This change is‚ÄÇ,"Reviewed 4 of 4 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,483,2016-11-18T06:30:59Z,2016-11-19T02:09:01Z,2016-11-19T02:09:01Z,MERGED,True,247,374,6,https://github.com/robinlinden,UI code cleanup,6,['PR: Pending'],https://github.com/uTox/uTox/pull/483,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/483#issuecomment-261685748,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved, some commit checks pending.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,484,2016-11-19T00:46:17Z,2016-11-19T02:04:32Z,2016-11-19T02:04:35Z,MERGED,True,32,14,3,https://github.com/GrayHatter,Fix Buttons on windows,1,[],https://github.com/uTox/uTox/pull/484,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/484,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,484,2016-11-19T00:46:17Z,2016-11-19T02:04:32Z,2016-11-19T02:04:35Z,MERGED,True,32,14,3,https://github.com/GrayHatter,Fix Buttons on windows,1,[],https://github.com/uTox/uTox/pull/484,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/484#issuecomment-261679955,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,485,2016-11-19T01:47:53Z,2016-11-19T01:55:16Z,2016-11-24T07:05:49Z,MERGED,True,1,1,1,https://github.com/GrayHatter,fix travis error on prebuild,1,[],https://github.com/uTox/uTox/pull/485,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/485,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,485,2016-11-19T01:47:53Z,2016-11-19T01:55:16Z,2016-11-24T07:05:49Z,MERGED,True,1,1,1,https://github.com/GrayHatter,fix travis error on prebuild,1,[],https://github.com/uTox/uTox/pull/485,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/485#issuecomment-261684994,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,486,2016-11-19T08:12:16Z,2016-11-19T14:45:16Z,2016-11-19T19:44:27Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Fixed broken filter friend button,1,[],https://github.com/uTox/uTox/pull/486,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/486,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,486,2016-11-19T08:12:16Z,2016-11-19T14:45:16Z,2016-11-19T19:44:27Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Fixed broken filter friend button,1,[],https://github.com/uTox/uTox/pull/486,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/486#issuecomment-261717779,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,487,2016-11-19T08:33:17Z,2017-01-10T09:40:44Z,2017-01-30T22:15:43Z,CLOSED,False,9,11,4,https://github.com/GrayHatter,Toxav new,1,['PR: Pending'],https://github.com/uTox/uTox/pull/487,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/487,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,487,2016-11-19T08:33:17Z,2017-01-10T09:40:44Z,2017-01-30T22:15:43Z,CLOSED,False,9,11,4,https://github.com/GrayHatter,Toxav new,1,['PR: Pending'],https://github.com/uTox/uTox/pull/487,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/487#issuecomment-261853464,This change is‚ÄÇ,"Review status: 0 of 5 files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,488,2016-11-19T20:10:31Z,2016-11-19T20:17:13Z,2016-11-19T20:17:17Z,MERGED,True,8,3,1,https://github.com/GrayHatter,fix the icons in windows,1,[],https://github.com/uTox/uTox/pull/488,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/488,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,488,2016-11-19T20:10:31Z,2016-11-19T20:17:13Z,2016-11-19T20:17:17Z,MERGED,True,8,3,1,https://github.com/GrayHatter,fix the icons in windows,1,[],https://github.com/uTox/uTox/pull/488,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/488#issuecomment-261736634,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,489,2016-11-20T02:59:55Z,2016-11-20T03:02:58Z,2016-11-20T03:03:11Z,MERGED,True,4,4,1,https://github.com/robinlinden,Update src/cocoa/main.m to use new debug enum names,1,[],https://github.com/uTox/uTox/pull/489,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/489,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,489,2016-11-20T02:59:55Z,2016-11-20T03:02:58Z,2016-11-20T03:03:11Z,MERGED,True,4,4,1,https://github.com/robinlinden,Update src/cocoa/main.m to use new debug enum names,1,[],https://github.com/uTox/uTox/pull/489,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/489#issuecomment-261755189,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,490,2016-11-20T05:18:21Z,2016-11-24T06:06:46Z,2016-11-24T07:03:31Z,MERGED,True,419,382,10,https://github.com/GrayHatter,Added Native file functions to Windows,4,[],https://github.com/uTox/uTox/pull/490,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/490,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,490,2016-11-20T05:18:21Z,2016-11-24T06:06:46Z,2016-11-24T07:03:31Z,MERGED,True,419,382,10,https://github.com/GrayHatter,Added Native file functions to Windows,4,[],https://github.com/uTox/uTox/pull/490,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/490#issuecomment-261827652,This change is‚ÄÇ,"Reviewed 5 of 8 files at r1, 3 of 3 files at r2.
Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

src/main.c, line 146 at r2 (raw file):

    snprintf(name, sizeof(name), ""%.*s.ftinfo"", TOX_PUBLIC_KEY_SIZE * 2, hex);

    FILE *fp = native_get_file(name, NULL, UTOX_FILE_OPTS_READ);

UTOX_FILE_OPTS_WRITE

src/windows/main.c, line 200 at r2 (raw file):



Are all these line breaks intentional?

src/windows/main.c, line 221 at r2 (raw file):

void init_ptt(void) {
    settings.push_to_talk = 1;

1 -> true

src/windows/main.c, line 227 at r2 (raw file):

    if (!settings.push_to_talk) {
        // debug(""PTT is disabled\n"");
        return 1; /* If push to talk is disabled, return true. */

These should be true or false.

src/windows/main.c, line 240 at r2 (raw file):

void exit_ptt(void) {
    settings.push_to_talk = 0;

0 -> false

src/xlib/main.c, line 188 at r2 (raw file):

}

#if 0

Leave a comment saying why this is here.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,490,2016-11-20T05:18:21Z,2016-11-24T06:06:46Z,2016-11-24T07:03:31Z,MERGED,True,419,382,10,https://github.com/GrayHatter,Added Native file functions to Windows,4,[],https://github.com/uTox/uTox/pull/490,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/490#issuecomment-261828641,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

src/main.c, line 146 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> UTOX_FILE_OPTS_WRITE

Done.

src/windows/main.c, line 200 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Are all these line breaks intentional?

Yes, I'm going to sort and reformat, and hopefully add a new file.

src/windows/main.c, line 221 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> 1 -> true

Done.

src/windows/main.c, line 227 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> These should be true or false.

Done.

src/windows/main.c, line 240 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> 0 -> false

Done.

src/xlib/main.c, line 188 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Leave a comment saying why this is here.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,490,2016-11-20T05:18:21Z,2016-11-24T06:06:46Z,2016-11-24T07:03:31Z,MERGED,True,419,382,10,https://github.com/GrayHatter,Added Native file functions to Windows,4,[],https://github.com/uTox/uTox/pull/490,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/490#issuecomment-261829457,This change is‚ÄÇ,"Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,490,2016-11-20T05:18:21Z,2016-11-24T06:06:46Z,2016-11-24T07:03:31Z,MERGED,True,419,382,10,https://github.com/GrayHatter,Added Native file functions to Windows,4,[],https://github.com/uTox/uTox/pull/490,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/490#issuecomment-261905579,This change is‚ÄÇ,"Reviewed 6 of 6 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,490,2016-11-20T05:18:21Z,2016-11-24T06:06:46Z,2016-11-24T07:03:31Z,MERGED,True,419,382,10,https://github.com/GrayHatter,Added Native file functions to Windows,4,[],https://github.com/uTox/uTox/pull/490,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/490#issuecomment-262697408,This change is‚ÄÇ,"Review status: 6 of 10 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,490,2016-11-20T05:18:21Z,2016-11-24T06:06:46Z,2016-11-24T07:03:31Z,MERGED,True,419,382,10,https://github.com/GrayHatter,Added Native file functions to Windows,4,[],https://github.com/uTox/uTox/pull/490,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/490#issuecomment-262697495,This change is‚ÄÇ,"Reviewed 1 of 8 files at r1, 1 of 3 files at r2, 4 of 6 files at r4, 4 of 4 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,492,2016-11-20T19:00:12Z,2016-11-21T12:14:37Z,2016-11-21T12:14:38Z,MERGED,True,165,183,14,https://github.com/robinlinden,Clean up and refactor UI code,7,[],https://github.com/uTox/uTox/pull/492,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/492,"Removed the UTOX_SCALE macro (it was deprecated in favour of SCALE)


This change is‚ÄÇ","Removed the UTOX_SCALE macro (it was deprecated in favour of SCALE)


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,492,2016-11-20T19:00:12Z,2016-11-21T12:14:37Z,2016-11-21T12:14:38Z,MERGED,True,165,183,14,https://github.com/robinlinden,Clean up and refactor UI code,7,[],https://github.com/uTox/uTox/pull/492,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/492#issuecomment-261805332,"Removed the UTOX_SCALE macro (it was deprecated in favour of SCALE)


This change is‚ÄÇ","Reviewed 11 of 14 files at r1.
Review status: 7 of 14 files reviewed at latest revision, 4 unresolved discussions.

src/ui.h, line 171 at r1 (raw file):

/* Main panel defines */
#define MAIN_LEFT (SCALE(230)) + 1

What happens if you drop the +1?

src/ui.h, line 181 at r1 (raw file):

#define TIME_WIDTH (SCALE(40))
#define ACTUAL_TIME_WIDTH (SCALE(32))
#define NAME_OFFSET (SCALE(14))

none of the above need the surrounding ()

src/windows/main.c, line 752 at r1 (raw file):

    };

#define F(x) ((SCALE(-x * 2) - 1) / 2)

removed elsewhere but not here?

src/xlib/freetype.c, line 389 at r1 (raw file):

    }

#define F(x) (SCALE(x) * 1.0)

is it *1.0 to make it a float? if so, typecast?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,492,2016-11-20T19:00:12Z,2016-11-21T12:14:37Z,2016-11-21T12:14:38Z,MERGED,True,165,183,14,https://github.com/robinlinden,Clean up and refactor UI code,7,[],https://github.com/uTox/uTox/pull/492,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/492#issuecomment-261805581,"Removed the UTOX_SCALE macro (it was deprecated in favour of SCALE)


This change is‚ÄÇ","Reviewed 4 of 7 files at r2, 1 of 1 files at r3.
Review status: 12 of 14 files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,492,2016-11-20T19:00:12Z,2016-11-21T12:14:37Z,2016-11-21T12:14:38Z,MERGED,True,165,183,14,https://github.com/robinlinden,Clean up and refactor UI code,7,[],https://github.com/uTox/uTox/pull/492,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/492#issuecomment-261903270,"Removed the UTOX_SCALE macro (it was deprecated in favour of SCALE)


This change is‚ÄÇ","Review status: 11 of 14 files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/ui.h, line 171 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> What happens if you drop the +1?

[These](http://i.imgur.com/tWvl3hE.png) 1px borders to the left of the right panel, by the message box and the friend header disappear. 

src/ui.h, line 181 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> none of the above need the surrounding `()`

Done.

src/windows/main.c, line 752 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> removed elsewhere but not here?

Removed*.

src/xlib/freetype.c, line 389 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> is it *1.0 to make it a float? if so, typecast?

I found that we have a macro called UI_FSCALE that returns a float, so no typecasting needed after all.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,492,2016-11-20T19:00:12Z,2016-11-21T12:14:37Z,2016-11-21T12:14:38Z,MERGED,True,165,183,14,https://github.com/robinlinden,Clean up and refactor UI code,7,[],https://github.com/uTox/uTox/pull/492,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/492#issuecomment-261910152,"Removed the UTOX_SCALE macro (it was deprecated in favour of SCALE)


This change is‚ÄÇ","Reviewed 1 of 14 files at r1, 3 of 3 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/ui.h, line 171 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> [These](http://i.imgur.com/tWvl3hE.png) 1px borders to the left of the right panel, by the message box and the friend header disappear. 

good, kill it with fire. That's a ui bug that shouldn't exist

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,492,2016-11-20T19:00:12Z,2016-11-21T12:14:37Z,2016-11-21T12:14:38Z,MERGED,True,165,183,14,https://github.com/robinlinden,Clean up and refactor UI code,7,[],https://github.com/uTox/uTox/pull/492,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/492#issuecomment-261910268,"Removed the UTOX_SCALE macro (it was deprecated in favour of SCALE)


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,492,2016-11-20T19:00:12Z,2016-11-21T12:14:37Z,2016-11-21T12:14:38Z,MERGED,True,165,183,14,https://github.com/robinlinden,Clean up and refactor UI code,7,[],https://github.com/uTox/uTox/pull/492,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/492#issuecomment-261911164,"Removed the UTOX_SCALE macro (it was deprecated in favour of SCALE)


This change is‚ÄÇ","Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,492,2016-11-20T19:00:12Z,2016-11-21T12:14:37Z,2016-11-21T12:14:38Z,MERGED,True,165,183,14,https://github.com/robinlinden,Clean up and refactor UI code,7,[],https://github.com/uTox/uTox/pull/492,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/492#issuecomment-261911913,"Removed the UTOX_SCALE macro (it was deprecated in favour of SCALE)


This change is‚ÄÇ","Reviewed 1 of 1 files at r6.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,493,2016-11-20T21:46:26Z,2016-11-24T04:19:08Z,2016-11-24T04:19:08Z,CLOSED,False,580,614,18,https://github.com/karlhto,Made compilation on Mac possible,11,[],https://github.com/uTox/uTox/pull/493,https://github.com/karlhto,1,https://github.com/uTox/uTox/pull/493,"Added missing includes (will make them less messy), commented out stuff that didn't work, changed some Mac-specific stuff
Will finish CMakeLists.txt for compiling without the static Makefile


This change is‚ÄÇ","Added missing includes (will make them less messy), commented out stuff that didn't work, changed some Mac-specific stuff
Will finish CMakeLists.txt for compiling without the static Makefile


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,493,2016-11-20T21:46:26Z,2016-11-24T04:19:08Z,2016-11-24T04:19:08Z,CLOSED,False,580,614,18,https://github.com/karlhto,Made compilation on Mac possible,11,[],https://github.com/uTox/uTox/pull/493,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/493#issuecomment-261809468,"Added missing includes (will make them less messy), commented out stuff that didn't work, changed some Mac-specific stuff
Will finish CMakeLists.txt for compiling without the static Makefile


This change is‚ÄÇ","Reviewed 4 of 10 files at r1.
Review status: 4 of 10 files reviewed at latest revision, 11 unresolved discussions, some commit checks failed.

Makefile, line 1 at r1 (raw file):

## OPTIONS ##

this file can't / shouldn't exist in / is there a subdirectory it fits in better?

icons/utox.icns, line 0 at r1 (raw file):
don't commit binary files (there are some exceptions) can we add a build script that'll generate this instead?

src/friend.c, line 205 at r1 (raw file):

}

void aimage(FRIEND *f, NATIVE_IMAGE *native_image, uint16_t width, uint16_t height, UTOX_IMAGE png_image,

why was this renamed?

src/cocoa/grabdesktop.m, line 30 at r1 (raw file):

    NSWindow *ret =
        [[NSWindow alloc] initWithContentRect:CGRectMake(0, 0, target.frame.size.width, target.frame.size.height)
                                    styleMask:NSWindowStyleMaskBorderless

why was this change needed?

src/cocoa/interaction.m, line 730 at r1 (raw file):

        // FIXME: asfasg
        ret = edit_copy(ptr, len);
    //} else if (selected_item->item == ITEM_FRIEND) {

you can use flist_get_selected() here

src/cocoa/interaction.m, line 957 at r1 (raw file):

            [s appendFormat:@""%@\n"", url.path];
        }
        //postmessage_toxcore(TOX_FILE_SEND_NEW, (FRIEND *)selected_item->data - friend, 0xFFFF, strdup(s.UTF8String));

flist_get_selected()

src/cocoa/main.m, line 10 at r1 (raw file):

#include <libgen.h>
#include <pthread.h>
#include <time.h>

both time. and sys/time.h?

src/cocoa/main.m, line 181 at r1 (raw file):

    NSURL *url = NULL;
    if (!strncasecmp((const char *)str, ""http://"", 7) || !strncasecmp((const char *)str, ""https://"", 8)) {
                   url = [NSURL URLWithString:urls];

why the extra indent?

src/cocoa/objc_main.h, line 48 at r1 (raw file):

#define AT_LEAST_YOSEMITE_DO MAC_OS_AT_LEAST_DO(10, 10, 0)
#define AT_LEAST_ELCAPITAN_DO MAC_OS_AT_LEAST_DO(10, 11, 0)
#define AT_LEAST_SIERRA_DO MAC_OS_AT_LEAST_DO(10, 12, 0)

why?

src/cocoa/video.m, line 390 at r1 (raw file):

        [[uToxIroncladWindow alloc] initWithContentRect:START_RECT
                                              styleMask:NSHUDWindowMask | NSUtilityWindowMask | NSClosableWindowMask
                                                  | NSTitledWindowMask | NSWindowStyleMaskResizable

why did this need to be changed?

src/cocoa/video.m, line 511 at r1 (raw file):

        setFrame:(CGRect) { CGRectGetMaxX(utoxwin.frame), CGRectGetMaxY(utoxwin.frame) - rsheight, rswidth, rsheight }
         display:YES];
                 ((uToxIroncladView *)video_win.contentView).videoSize = (CGSize){ width, height };

is this white space change correct?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,493,2016-11-20T21:46:26Z,2016-11-24T04:19:08Z,2016-11-24T04:19:08Z,CLOSED,False,580,614,18,https://github.com/karlhto,Made compilation on Mac possible,11,[],https://github.com/uTox/uTox/pull/493,https://github.com/karlhto,3,https://github.com/uTox/uTox/pull/493#issuecomment-261810588,"Added missing includes (will make them less messy), commented out stuff that didn't work, changed some Mac-specific stuff
Will finish CMakeLists.txt for compiling without the static Makefile


This change is‚ÄÇ","Review status: 4 of 10 files reviewed at latest revision, 11 unresolved discussions, some commit checks failed.

Makefile, line 1 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

this file can't / shouldn't exist in / is there a subdirectory it fits in better?

It could just exist in the cocoa folder for the time being, til I fix the APPLE-part of CMakeLists.txt


icons/utox.icns, line  at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

don't commit binary files (there are some exceptions) can we add a build script that'll generate this instead?

Yes, that probably won't be difficult


src/friend.c, line 205 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

why was this renamed?

That's a mistake
wow


src/cocoa/grabdesktop.m, line 30 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

why was this change needed?

NSBorderlessWindowMask and several other attributes are deprecated from OS X 12 and on


src/cocoa/main.m, line 10 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

both time. and sys/time.h?

I'll fix the includes :(


src/cocoa/main.m, line 181 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

why the extra indent?

Probably through retab, I'll fix it


src/cocoa/objc_main.h, line 48 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

why?

I saw, and I added that line, in case it'll be needed (for whatever reason)


src/cocoa/video.m, line 390 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

why did this need to be changed?

Deprecated stuff


src/cocoa/video.m, line 511 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

is this white space change correct?

Doesn't look like it :(


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,493,2016-11-20T21:46:26Z,2016-11-24T04:19:08Z,2016-11-24T04:19:08Z,CLOSED,False,580,614,18,https://github.com/karlhto,Made compilation on Mac possible,11,[],https://github.com/uTox/uTox/pull/493,https://github.com/karlhto,4,https://github.com/uTox/uTox/pull/493#issuecomment-261812806,"Added missing includes (will make them less messy), commented out stuff that didn't work, changed some Mac-specific stuff
Will finish CMakeLists.txt for compiling without the static Makefile


This change is‚ÄÇ","Review status: 2 of 7 files reviewed at latest revision, 9 unresolved discussions, some commit checks failed.

src/cocoa/interaction.m, line 730 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

you can use flist_get_selected() here

Done.


src/cocoa/interaction.m, line 957 at r1 (raw file):

Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

flist_get_selected()

Done.


src/cocoa/main.m, line 10 at r1 (raw file):

Previously, LawlingBear (Karl) wrote‚Ä¶

I'll fix the includes :(

Done.


src/cocoa/main.m, line 181 at r1 (raw file):

Previously, LawlingBear (Karl) wrote‚Ä¶

Probably through retab, I'll fix it

Done.


src/cocoa/objc_main.h, line 48 at r1 (raw file):

Previously, LawlingBear (Karl) wrote‚Ä¶

I saw, and I added that line, in case it'll be needed (for whatever reason)

Done.


src/cocoa/video.m, line 390 at r1 (raw file):

Previously, LawlingBear (Karl) wrote‚Ä¶

Deprecated stuff

Done.


src/cocoa/video.m, line 511 at r1 (raw file):

Previously, LawlingBear (Karl) wrote‚Ä¶

Doesn't look like it :(

Done.


Makefile, line 1 at r1 (raw file):

Previously, LawlingBear (Karl) wrote‚Ä¶

It could just exist in the cocoa folder for the time being, til I fix the APPLE-part of CMakeLists.txt

Done.


src/friend.c, line 205 at r1 (raw file):

Previously, LawlingBear (Karl) wrote‚Ä¶

That's a mistake
wow

Done.


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,493,2016-11-20T21:46:26Z,2016-11-24T04:19:08Z,2016-11-24T04:19:08Z,CLOSED,False,580,614,18,https://github.com/karlhto,Made compilation on Mac possible,11,[],https://github.com/uTox/uTox/pull/493,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/493#issuecomment-261814254,"Added missing includes (will make them less messy), commented out stuff that didn't work, changed some Mac-specific stuff
Will finish CMakeLists.txt for compiling without the static Makefile


This change is‚ÄÇ","Reviewed 7 of 8 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,493,2016-11-20T21:46:26Z,2016-11-24T04:19:08Z,2016-11-24T04:19:08Z,CLOSED,False,580,614,18,https://github.com/karlhto,Made compilation on Mac possible,11,[],https://github.com/uTox/uTox/pull/493,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/493#issuecomment-262686929,"Added missing includes (will make them less messy), commented out stuff that didn't work, changed some Mac-specific stuff
Will finish CMakeLists.txt for compiling without the static Makefile


This change is‚ÄÇ","@LawlingBear thanks mate... something went screwy in the rebase. But @endoffile78 has a branch that has your commit plus another as well. So instead of merging this one, I'm going to merge that one.
Can you double check #500 and make sure it's not missing any code you want included?",True,{}
uTox/uTox,https://github.com/uTox/uTox,496,2016-11-21T06:36:28Z,2016-11-25T21:38:32Z,2017-02-12T21:34:30Z,MERGED,True,10,0,1,https://github.com/endoffile78,Add install rules to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/496,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/496,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,496,2016-11-21T06:36:28Z,2016-11-25T21:38:32Z,2017-02-12T21:34:30Z,MERGED,True,10,0,1,https://github.com/endoffile78,Add install rules to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/496,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/496#issuecomment-261910527,This change is‚ÄÇ,don't forget the utox.1 man file,True,{}
uTox/uTox,https://github.com/uTox/uTox,496,2016-11-21T06:36:28Z,2016-11-25T21:38:32Z,2017-02-12T21:34:30Z,MERGED,True,10,0,1,https://github.com/endoffile78,Add install rules to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/496,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/496#issuecomment-262077140,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,496,2016-11-21T06:36:28Z,2016-11-25T21:38:32Z,2017-02-12T21:34:30Z,MERGED,True,10,0,1,https://github.com/endoffile78,Add install rules to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/496,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/496#issuecomment-262712621,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,496,2016-11-21T06:36:28Z,2016-11-25T21:38:32Z,2017-02-12T21:34:30Z,MERGED,True,10,0,1,https://github.com/endoffile78,Add install rules to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/496,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/496#issuecomment-263024450,This change is‚ÄÇ,"Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,496,2016-11-21T06:36:28Z,2016-11-25T21:38:32Z,2017-02-12T21:34:30Z,MERGED,True,10,0,1,https://github.com/endoffile78,Add install rules to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/496,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/496#issuecomment-263024800,This change is‚ÄÇ,"Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,497,2016-11-21T11:34:37Z,2017-01-10T09:40:44Z,2017-01-30T22:15:45Z,CLOSED,False,427,286,12,https://github.com/GrayHatter,Android Refactor,3,['PR: Pending'],https://github.com/uTox/uTox/pull/497,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/497,"Like android in general, this one still needs quite a bit of work...
It compiles, but I haven't even tested it on an Android device.

 Correct and test native_* functions
 Check for UI glitches
 Add a Travis build
 Acutally test on >1 android device
 Contribute Toxcore build script upstream



This change is‚ÄÇ","Like android in general, this one still needs quite a bit of work...
It compiles, but I haven't even tested it on an Android device.

 Correct and test native_* functions
 Check for UI glitches
 Add a Travis build
 Acutally test on >1 android device
 Contribute Toxcore build script upstream



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,499,2016-11-21T11:37:33Z,2016-11-22T06:25:16Z,2016-11-22T06:25:31Z,MERGED,True,8,11,2,https://github.com/robinlinden,Fix groupchat names,2,[],https://github.com/uTox/uTox/pull/499,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/499,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,499,2016-11-21T11:37:33Z,2016-11-22T06:25:16Z,2016-11-22T06:25:31Z,MERGED,True,8,11,2,https://github.com/robinlinden,Fix groupchat names,2,[],https://github.com/uTox/uTox/pull/499,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/499#issuecomment-262156833,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,500,2016-11-21T22:21:47Z,2016-11-24T08:06:26Z,2016-11-24T08:21:11Z,MERGED,True,321,191,11,https://github.com/endoffile78,OSX building and travis,3,[],https://github.com/uTox/uTox/pull/500,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/500,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,500,2016-11-21T22:21:47Z,2016-11-24T08:06:26Z,2016-11-24T08:21:11Z,MERGED,True,321,191,11,https://github.com/endoffile78,OSX building and travis,3,[],https://github.com/uTox/uTox/pull/500,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/500#issuecomment-262687702,This change is‚ÄÇ,Travis is being screwy... @endoffile78  said he'd try again once Travis get's back on it's meds.,True,{}
uTox/uTox,https://github.com/uTox/uTox,500,2016-11-21T22:21:47Z,2016-11-24T08:06:26Z,2016-11-24T08:21:11Z,MERGED,True,321,191,11,https://github.com/endoffile78,OSX building and travis,3,[],https://github.com/uTox/uTox/pull/500,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/500#issuecomment-262712468,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1, 2 of 7 files at r2, 8 of 8 files at r3, 1 of 2 files at r4, 2 of 2 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,501,2016-11-21T22:56:18Z,2016-11-22T05:55:10Z,2016-12-10T17:19:35Z,MERGED,True,3,4,1,https://github.com/robinlinden,Fixed order of things in the A&V settings.,2,[],https://github.com/uTox/uTox/pull/501,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/501,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,501,2016-11-21T22:56:18Z,2016-11-22T05:55:10Z,2016-12-10T17:19:35Z,MERGED,True,3,4,1,https://github.com/robinlinden,Fixed order of things in the A&V settings.,2,[],https://github.com/uTox/uTox/pull/501,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/501#issuecomment-262154419,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,503,2016-11-23T17:18:27Z,2016-11-23T21:53:53Z,2017-02-12T21:34:31Z,MERGED,True,5,0,1,https://github.com/endoffile78,Add debug option to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/503,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/503,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,503,2016-11-23T17:18:27Z,2016-11-23T21:53:53Z,2017-02-12T21:34:31Z,MERGED,True,5,0,1,https://github.com/endoffile78,Add debug option to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/503,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/503#issuecomment-262637675,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

CMakeLists.txt, line 40 at r1 (raw file):

option(DEBUG ""Enable debugging symbols"" OFF)
if(DEBUG)
  set(CMAKE_C_FLAGS ""${CMAKE_C_FLAGS} -g3"")

Maybe also set(CMAKE_BUILD_TYPE Debug)?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,503,2016-11-23T17:18:27Z,2016-11-23T21:53:53Z,2017-02-12T21:34:31Z,MERGED,True,5,0,1,https://github.com/endoffile78,Add debug option to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/503,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/503#issuecomment-262638580,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 40 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Maybe also `set(CMAKE_BUILD_TYPE Debug)`?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,503,2016-11-23T17:18:27Z,2016-11-23T21:53:53Z,2017-02-12T21:34:31Z,MERGED,True,5,0,1,https://github.com/endoffile78,Add debug option to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/503,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/503#issuecomment-262638634,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,503,2016-11-23T17:18:27Z,2016-11-23T21:53:53Z,2017-02-12T21:34:31Z,MERGED,True,5,0,1,https://github.com/endoffile78,Add debug option to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/503,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/503#issuecomment-262638649,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,503,2016-11-23T17:18:27Z,2016-11-23T21:53:53Z,2017-02-12T21:34:31Z,MERGED,True,5,0,1,https://github.com/endoffile78,Add debug option to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/503,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/503#issuecomment-262674078,This change is‚ÄÇ,"doesn't -DCMAKE_BUILD_TYPE=Debug already do this?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,503,2016-11-23T17:18:27Z,2016-11-23T21:53:53Z,2017-02-12T21:34:31Z,MERGED,True,5,0,1,https://github.com/endoffile78,Add debug option to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/503,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/503#issuecomment-262678113,This change is‚ÄÇ,@GrayHatter Yeah it does it didnt know about that. I can revert this if you want me to.,True,{}
uTox/uTox,https://github.com/uTox/uTox,503,2016-11-23T17:18:27Z,2016-11-23T21:53:53Z,2017-02-12T21:34:31Z,MERGED,True,5,0,1,https://github.com/endoffile78,Add debug option to CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/503,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/503#issuecomment-262691689,This change is‚ÄÇ,"yeah, let's do that",True,{}
uTox/uTox,https://github.com/uTox/uTox,504,2016-11-23T19:13:43Z,2016-11-23T21:35:55Z,2016-11-25T10:35:42Z,MERGED,True,64,60,20,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/504,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/504,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,504,2016-11-23T19:13:43Z,2016-11-23T21:35:55Z,2016-11-25T10:35:42Z,MERGED,True,64,60,20,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/504,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/504#issuecomment-262611356,This change is‚ÄÇ,"In general, try to use uint8_t where the string is likely to be utf8 and char elsewhere.

Reviewed 5 of 21 files at r1.
Review status: 5 of 21 files reviewed at latest revision, 9 unresolved discussions.

src/commands.c, line 4 at r1 (raw file):

#include ""commands.h""

#include ""util.h""

What change to this file required you to include util.h?

src/commands.c, line 127 at r1 (raw file):

    // wtf??
    uint8_t * b = (uint8_t *)edit_add_id.data, *a = url_string, *end = url_string + len;

Should we maybe change the edit struct to store data in uint8_t?

src/file_transfers.c, line 416 at r1 (raw file):

/* Friend has come online, restart our outgoing transfers to this friend. */
void ft_friend_online(Tox *tox, uint32_t friend_number) {
    for (unsigned int i = 0; i < MAX_FILE_TRANSFERS; i++) {

size_t

src/friend.c, line 79 at r1 (raw file):

    if (metadata->alias_length) {
        friend_set_alias(&friend[friend_id], (char *)&metadata->data[0], metadata->alias_length);

Should we maybe change friend_set_alias to take a uint8_t *alias?

src/friend.c, line 122 at r1 (raw file):

    size              = tox_friend_get_status_message_size(tox, friend_number, 0);
    f->status_message = calloc(1, size);
    tox_friend_get_status_message(tox, friend_number, (uint8_t *)f->status_message, 0);

Should name, alias, and status_message in the struct utox_friend be uint8_t?

src/friend.c, line 224 at r1 (raw file):

}

void friend_notify_msg(FRIEND *f, const char *msg, size_t msg_length) {

Keep this uint8_t since it's likely to be utf8.

src/friend.c, line 272 at r1 (raw file):

    }

    char     name_cleaned[length];

uint8_t

src/friend.c, line 338 at r1 (raw file):

}

FRIEND *find_friend_by_name(char *name) {

uint8_t

src/friend.c, line 354 at r1 (raw file):

    }

    char title[UTOX_FRIEND_NAME_LENGTH(f) + 20];

uint8_t

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,504,2016-11-23T19:13:43Z,2016-11-23T21:35:55Z,2016-11-25T10:35:42Z,MERGED,True,64,60,20,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/504,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/504#issuecomment-262615229,This change is‚ÄÇ,"Review status: 4 of 21 files reviewed at latest revision, 9 unresolved discussions.

src/commands.c, line 4 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> What change to this file required you to include util.h?

`string_to_id` and `utox_write_metadata` are defined in util.c, they are both used in commands.c.

src/file_transfers.c, line 416 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> size_t

Done.

src/friend.c, line 79 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Should we maybe change friend_set_alias to take a uint8_t *alias?

I think that would be a good.

src/friend.c, line 122 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Should name, alias, and status_message in the struct utox_friend be uint8_t?

I think they should be because thats what toxcore uses for it and like you said there could be utf8 in it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,504,2016-11-23T19:13:43Z,2016-11-23T21:35:55Z,2016-11-25T10:35:42Z,MERGED,True,64,60,20,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/504,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/504#issuecomment-262618113,This change is‚ÄÇ,"Reviewed 11 of 21 files at r1, 1 of 3 files at r2.
Review status: 15 of 21 files reviewed at latest revision, 6 unresolved discussions.

src/file_transfers.c, line 416 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
> Done.

Forgot about this line. 

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,504,2016-11-23T19:13:43Z,2016-11-23T21:35:55Z,2016-11-25T10:35:42Z,MERGED,True,64,60,20,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/504,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/504#issuecomment-262628075,This change is‚ÄÇ,"Review status: 14 of 21 files reviewed at latest revision, 6 unresolved discussions.

src/commands.c, line 127 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Should we maybe change the edit struct to store data in uint8_t?

I think that would be good but maybe in a different pr.

src/file_transfers.c, line 416 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Forgot about this line. 

Done.

src/friend.c, line 224 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Keep this uint8_t since it's likely to be utf8.

Done.

src/friend.c, line 272 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> uint8_t

Done.

src/friend.c, line 338 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> uint8_t

Done.

src/friend.c, line 354 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> uint8_t

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,504,2016-11-23T19:13:43Z,2016-11-23T21:35:55Z,2016-11-25T10:35:42Z,MERGED,True,64,60,20,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/504,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/504#issuecomment-262634988,This change is‚ÄÇ,"Reviewed 3 of 21 files at r1, 4 of 4 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/friend.h, line 108 at r3 (raw file):

void friend_recvimage(FRIEND *f, NATIVE_IMAGE *native_image, uint16_t width, uint16_t height);

void friend_notify_msg(FRIEND *f, const char *msg, size_t msg_length);

This msg is now const char* while the one for friend_notify_status is const uint8_t*. Make them the same.

src/friend.h, line 126 at r3 (raw file):

/* Notifies the user that a friend is online or offline */
void friend_notify_status(FRIEND *f, const uint8_t *msg, size_t msg_length, char *state);

See comment for line 108.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,504,2016-11-23T19:13:43Z,2016-11-23T21:35:55Z,2016-11-25T10:35:42Z,MERGED,True,64,60,20,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/504,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/504#issuecomment-262635409,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/friend.h, line 108 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> This `msg` is now `const char*` while the one for `friend_notify_status` is `const uint8_t*`. Make them the same.

LGTM. I misread.

src/friend.h, line 126 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> See comment for line 108.

LGTM. See Line 108.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,504,2016-11-23T19:13:43Z,2016-11-23T21:35:55Z,2016-11-25T10:35:42Z,MERGED,True,64,60,20,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/504,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/504#issuecomment-262635432,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,504,2016-11-23T19:13:43Z,2016-11-23T21:35:55Z,2016-11-25T10:35:42Z,MERGED,True,64,60,20,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/504,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/504#issuecomment-262675383,This change is‚ÄÇ,"Reviewed 1 of 21 files at r1.
Review status: all files reviewed at latest revision, 5 unresolved discussions, all commit checks successful.

src/commands.h, line 12 at r4 (raw file):

 * TODO, make sure the file exists.
 */
int slash_send_file(FRIEND *friend_handle, const char *filepath);

we need to change this to pass the string to the native_ functions. Otherwise this high a high likelihood of breaking windows if the filename in UTF8

src/tox.c, line 149 at r4 (raw file):

    self.name_length = tox_self_get_name_size(tox);
    tox_self_get_name(tox, (uint8_t *)self.name);

self.name should probably become uint8_t as well

src/tox.c, line 288 at r4 (raw file):

}

static void log_callback(Tox *UNUSED(tox), TOX_LOG_LEVEL UNUSED(level), const char *UNUSED(file), uint32_t UNUSED(line), const char *func,

FYI this whole function could really use some TLC it would be nice to add this as a full feature thing we could use. (Don't worry about this yet... For now it's still out of scope)

src/av/audio.c, line 732 at r4 (raw file):

                if (voice) {
                    size_t i, active_call_count = 0;

FYI fine for now, but needs a rewrite soon-ish

src/ui/edits.c, line 142 at r4 (raw file):

        }

        char *nick      = (char *)p->name;

reverse this typecast, these are all group names and at least one will be UTF8

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,504,2016-11-23T19:13:43Z,2016-11-23T21:35:55Z,2016-11-25T10:35:42Z,MERGED,True,64,60,20,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/504,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/504#issuecomment-262927980,This change is‚ÄÇ,"Reviewed 2 of 21 files at r1.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,504,2016-11-23T19:13:43Z,2016-11-23T21:35:55Z,2016-11-25T10:35:42Z,MERGED,True,64,60,20,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/504,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/504#issuecomment-262928075,This change is‚ÄÇ,"Reviewed 2 of 21 files at r1, 1 of 4 files at r3.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,505,2016-11-24T02:35:00Z,2016-11-24T02:46:39Z,2016-11-24T02:46:40Z,MERGED,True,2,2,1,https://github.com/endoffile78,Change type of nick in edits.c,1,[],https://github.com/uTox/uTox/pull/505,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/505,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,505,2016-11-24T02:35:00Z,2016-11-24T02:46:39Z,2016-11-24T02:46:40Z,MERGED,True,2,2,1,https://github.com/endoffile78,Change type of nick in edits.c,1,[],https://github.com/uTox/uTox/pull/505,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/505#issuecomment-262677104,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,506,2016-11-24T05:17:08Z,2016-11-24T05:28:18Z,2016-11-24T05:28:19Z,MERGED,True,0,5,1,https://github.com/endoffile78,"Revert ""Add debug option to CMakeLists.txt""",1,[],https://github.com/uTox/uTox/pull/506,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/506,"Reverts #503


This change is‚ÄÇ","Reverts #503


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,506,2016-11-24T05:17:08Z,2016-11-24T05:28:18Z,2016-11-24T05:28:19Z,MERGED,True,0,5,1,https://github.com/endoffile78,"Revert ""Add debug option to CMakeLists.txt""",1,[],https://github.com/uTox/uTox/pull/506,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/506#issuecomment-262692295,"Reverts #503


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/507,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/507#issuecomment-263744129,This change is‚ÄÇ,"Reviewed 21 of 21 files at r1.
Review status: all files reviewed at latest revision, 30 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 18 at r1 (raw file):

        if (f->file_transfers_incoming_size <= file_number) {
            debug(""FileTransfer:\tRealloc incoming %u|%u\n"", friend_number, file_number + 1);
            FILE_TRANSFER *new = realloc(f->file_transfers_incoming, sizeof(FILE_TRANSFER) * (file_number + 1));

new is a reserved word in C++.

src/file_transfers.c, line 31 at r1 (raw file):

        if (f->file_transfers_outgoing_size <= file_number) {
            debug(""FileTransfer:\tRealloc outgoing %u|%u\n"", friend_number, file_number + 1);
            FILE_TRANSFER *new = realloc(f->file_transfers_outgoing, sizeof(FILE_TRANSFER) * (file_number + 1));

new is a reserved word in C++.

src/file_transfers.c, line 61 at r1 (raw file):

    if (time - file->last_check_time >= 1000 * 1000 * 100) {
        file->speed = (((double)(file->current_size - file->last_check_transferred) * 1000.0 * 1000.0 * 1000.0)

What are the numbers on these lines?

src/file_transfers.c, line 81 at r1 (raw file):

        if (ft->in_memory) {
            // do nothing
        } else if (ft->avatar) {

Unless we're planning on adding separate logic for in_memory and avatar later, combine these two cases into one?

src/file_transfers.c, line 90 at r1 (raw file):

}

static bool resumeable_name(FILE_TRANSFER *ft, char *name) {

This always returns false.

src/file_transfers.c, line 110 at r1 (raw file):

}

static bool ft_update_resumable(FILE_TRANSFER *ft) {

This always returns false.

src/file_transfers.c, line 118 at r1 (raw file):

/* Create the file transfer resume info file. */
static bool ft_init_resumable(FILE_TRANSFER *ft) {

This always returns false.

src/file_transfers.c, line 150 at r1 (raw file):

}

static bool ft_restart_outgoing(FILE_TRANSFER *ft) {

Function does nothing.

src/file_transfers.c, line 333 at r1 (raw file):

        file->status = FILE_TRANSFER_STATUS_ACTIVE;
        /* Set resuming info TODO MOVE TO AFTER FILE IS ACCEPED BY USER */
        if (file->resumeable == 0) {

== false or !file->resumeable

src/file_transfers.c, line 412 at r1 (raw file):

/* Friend has come online, restart our outgoing transfers to this friend. */
void ft_friend_online(Tox *tox, uint32_t friend_number) {
    (void)tox;

Why?

src/file_transfers.c, line 413 at r1 (raw file):

void ft_friend_online(Tox *tox, uint32_t friend_number) {
    (void)tox;
    for (int i = 0; i < MAX_FILE_TRANSFERS; i++) {

size_t

src/file_transfers.c, line 419 at r1 (raw file):

        file->incoming      = false;
        ft_find_resumeable(file);
        if (file->path[0]) {

Does nothing right now.

src/file_transfers.c, line 426 at r1 (raw file):

        free(file);
    }
    /* Else look in filetransfer info dir; */

TODO

src/file_transfers.c, line 431 at r1 (raw file):

/* Friend has gone offline, break our outgoing transfers to this friend. */
void ft_friend_offline(Tox *tox, uint32_t friend_number) {
    (void)tox;

Why?

src/file_transfers.c, line 439 at r1 (raw file):

    }

    for (unsigned i = 0; i < f->file_transfers_outgoing_size ; ++i) {

size_t

src/file_transfers.c, line 571 at r1 (raw file):

    FILE_TRANSFER *ft = get_file_transfer(friend_number, file_number);
    memset(ft, 0, sizeof(FILE_TRANSFER));
    ft->in_use = 1;

= true

src/file_transfers.c, line 642 at r1 (raw file):

        case TOX_FILE_KIND_DATA: {
            if (settings.accept_inline_images
                && size < 1024 * 1024 * 4

What's 1024 * 1024 * 4? (Remove magic numbers)

src/file_transfers.c, line 968 at r1 (raw file):

    }

    TOX_ERR_FILE_SEND_CHUNK error;

This is never used.

src/file_transfers.c, line 1005 at r1 (raw file):

}

int utox_file_start_write(uint32_t friend_number, uint32_t file_number, const char *filepath) {

Looks like this function should be returning a boolean.

src/friend.h, line 11 at r1 (raw file):

#include ""messages.h""
#include ""tox.h""
#include ""file_transfers.h""

Include order.

src/util.h, line 8 at r1 (raw file):

#include <stddef.h>
#include <inttypes.h>
#include <stdbool.h>

Include order.

src/xlib/filesys.c, line 72 at r1 (raw file):

/** Takes data from ¬µTox and loads it up! */
uint8_t *native_load_data(const uint8_t *name, size_t name_length, size_t *out_size) {
    char  path[UTOX_FILE_NAME_LENGTH] = { 0 };

Remove extra spaces between char and path.

src/xlib/filesys.c, line 131 at r1 (raw file):

    char path[UTOX_FILE_NAME_LENGTH] = { 0 };

    if (settings.portable_mode) {

We use these lines multiple times. Maybe make a get_utox_path function or something?

src/xlib/filesys.c, line 146 at r1 (raw file):

    if (flag & UTOX_FILE_OPTS_READ || flag & UTOX_FILE_OPTS_MKDIR) {
        mkdir(path, 0700);

Not native_create_dir?

src/xlib/filesys.c, line 239 at r1 (raw file):

        char *path = malloc(file->name_length + 1);
        snprintf(path, UTOX_FILE_NAME_LENGTH, ""./tox/Tox_Auto_Accept/"");
        mkdir(path, 0700);

native_create_dir?

src/xlib/filesys.c, line 268 at r1 (raw file):

}

int file_lock(FILE *file, uint64_t start, size_t length) {

This should probably return a boolean.

src/xlib/filesys.c, line 283 at r1 (raw file):

}

int file_unlock(FILE *file, uint64_t start, size_t length) {

This should probably return a boolean.

src/xlib/gtk.c, line 3 at r1 (raw file):

#include ""../flist.h""
#include ""../friend.h""
#include ""../file_transfers.h""

Include order.

src/xlib/main.c, line 11 at r1 (raw file):

#include ""../util.h""

bool     hidden     = 0;

false

src/xlib/main.c, line 450 at r1 (raw file):

// TODO(robinli): Go over this function and see if either len or size are removeable.
void pastedata(void *data, Atom type, size_t len, bool select) {
    FRIEND *f = (FRIEND *)flist_get_selected()->data;

Is this now the correct way to find the friend number? Comment here: https://github.com/utox/utox/blob/77ee8b2e21c5a0c5717bc42357a9548874864e81/src/xlib/main.c#L728

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/507#issuecomment-265067147,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 31 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 835 at r2 (raw file):

    ft->status = FILE_TRANSFER_STATUS_PAUSED_THEM;

No postmessage(FILE_SEND_NEW, friend_number, file_number, ft);?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/507#issuecomment-265082812,This change is‚ÄÇ,"Review status: 18 of 21 files reviewed at latest revision, 31 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 18 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
new is a reserved word in C++.

good thing uTox is str8c wontfix

src/file_transfers.c, line 61 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
What are the numbers on these lines?

https://i.imgur.com/iZcUNxH.gif

src/file_transfers.c, line 81 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Unless we're planning on adding separate logic for in_memory and avatar later, combine these two cases into one?

I don't remember why I wrote it this way, but I do know that avatars should/must be saved to disk, where as inline images are optional.
In memory used to mean more than it does currently. Not it's kinda catch all for both.
Eventually I plan to add private mode to uTox, so that nothing is written to disk, so there will be times that everything, even files are just mapped to memory. That's the reason it's still like that now.

src/file_transfers.c, line 90 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This always returns false.

wrong by design, I'll update this again when it's fixed and verified.

src/file_transfers.c, line 110 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This always returns false.

Done.

src/file_transfers.c, line 333 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
== false or !file->resumeable

Done.

src/file_transfers.c, line 413 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
size_t

uint16_t actually

src/file_transfers.c, line 419 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Does nothing right now.

??

src/file_transfers.c, line 426 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
TODO

deleted instead

src/file_transfers.c, line 439 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
size_t

uint16_t

src/file_transfers.c, line 571 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
= true

Done.

src/file_transfers.c, line 642 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
What's 1024 * 1024 * 4? (Remove magic numbers)

Done.

src/friend.h, line 11 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Include order.

Done.

src/util.h, line 8 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Include order.

Done.

src/xlib/filesys.c, line 72 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Remove extra spaces between char and path.

Done.

src/xlib/filesys.c, line 268 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This should probably return a boolean.

agreed OOS

src/xlib/filesys.c, line 283 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This should probably return a boolean.

agreed OOS

src/xlib/gtk.c, line 3 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Include order.

Done.

src/xlib/main.c, line 11 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
false

Done.

src/xlib/main.c, line 450 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Is this now the correct way to find the friend number? Comment here: https://github.com/utox/utox/blob/77ee8b2e21c5a0c5717bc42357a9548874864e81/src/xlib/main.c#L728

no, this is still too hacky for my tastes, but this refactor is OOS for this pull. Next is refactoring the friend arrray

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/507#issuecomment-265086515,This change is‚ÄÇ,"Reviewed 8 of 8 files at r3.
Review status: all files reviewed at latest revision, 15 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 18 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
good thing uTox is str8c wontfix

I think it's worth the effort to not use new or delete as variable names to preserve this compatibility, but if you think it's too much work then that's fine.

src/file_transfers.c, line 61 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
https://i.imgur.com/iZcUNxH.gif

Fair enough.

src/file_transfers.c, line 419 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
??

Wrong line no. Meant to say that right now if (file->path[0]) { /* do nothing */ }

src/xlib/main.c, line 450 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
no, this is still too hacky for my tastes, but this refactor is OOS for this pull. Next is refactoring the friend arrray

Leave the comment in so we don't miss it next time.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/507#issuecomment-265696607,This change is‚ÄÇ,"Reviewed 2 of 8 files at r3, 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 19 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 128 at r3 (raw file):

static bool ft_init_resumable(FILE_TRANSFER *ft) {
    char name[UTOX_FILE_NAME_LENGTH];
    if (!resumeable_name(ft, name)) {

This is equivalent to if (true) since resumeable_name always returns false.

src/file_transfers.c, line 144 at r3 (raw file):

static void ft_decon_resumable(FILE_TRANSFER *ft) {
    char name[UTOX_FILE_NAME_LENGTH];
    if (!resumeable_name(ft, name)) {

This is equivalent to if (true) since resumeable_name always returns false.

src/file_transfers.c, line 164 at r3 (raw file):

static bool ft_find_resumeable(FILE_TRANSFER *ft) {
    char resume_name[UTOX_FILE_NAME_LENGTH];
    if (!resumeable_name(ft, resume_name)) {

This is equivalent to if (true) since resumeable_name always returns false.

src/friend.h, line 82 at r3 (raw file):

    FILE_TRANSFER  *file_transfers_incoming;
    uint16_t        file_transfers_incoming_size;

Looks like this is the number of incoming file transfers. Maybe rename them to _count? Same with file_transfers_outgoing_size.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/507#issuecomment-265702171,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 19 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 18 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I think it's worth the effort to not use new or delete as variable names to preserve this compatibility, but if you think it's too much work then that's fine.

Done.

src/file_transfers.c, line 31 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
new is a reserved word in C++.

Done.

src/file_transfers.c, line 61 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Fair enough.

Done.

src/file_transfers.c, line 90 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
wrong by design, I'll update this again when it's fixed and verified.

Done.

src/file_transfers.c, line 118 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This always returns false.

Done.

src/file_transfers.c, line 412 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Why?

Done.

src/file_transfers.c, line 431 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Why?

Done.

src/file_transfers.c, line 968 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This is never used.

good catch!! done

src/file_transfers.c, line 1005 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Looks like this function should be returning a boolean.

no, it should be replaced by a native function

src/file_transfers.c, line 835 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
No postmessage(FILE_SEND_NEW, friend_number, file_number, ft);?

inside send_avatar?

src/file_transfers.c, line 128 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This is equivalent to if (true) since resumeable_name always returns false.

Done.

src/file_transfers.c, line 144 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This is equivalent to if (true) since resumeable_name always returns false.

Done.

src/file_transfers.c, line 164 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This is equivalent to if (true) since resumeable_name always returns false.

Done.

src/friend.h, line 82 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Looks like this is the number of incoming file transfers. Maybe rename them to _count? Same with file_transfers_outgoing_size.

No, count means how many is in the basket, size is for the size of the basket.
This may be 50, even though there's only 1 active file transfer.

src/xlib/filesys.c, line 131 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
We use these lines multiple times. Maybe make a get_utox_path function or something?

OOS

src/xlib/filesys.c, line 146 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Not native_create_dir?

not available at the time, will fix

src/xlib/main.c, line 450 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Leave the comment in so we don't miss it next time.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/507#issuecomment-265708891,This change is‚ÄÇ,"Reviewed 2 of 2 files at r5.
Review status: 12 of 21 files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/507#issuecomment-266032072,This change is‚ÄÇ,"Reviewed 10 of 11 files at r6, 4 of 4 files at r7.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/main.c, line 191 at r7 (raw file):

    if (append) {
        return native_get_file(name, NULL, UTOX_FILE_OPTS_READ   | UTOX_FILE_OPTS_WRITE |

Don't pass both append and write. Write is for when you want an empty file (if one exists, it's wiped). Append is when you want to add to a file (created if it doesn't exist).

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/507#issuecomment-266035585,This change is‚ÄÇ,"Before this can be merged you also have to update src/windows/main.7.c

Review status: all files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

src/cocoa/interaction.m, line 900 at r1 (raw file):

        NSURL *destination = picker.URL;
        // FIXME: might be leaking
        postmessage_toxcore(TOX_FILE_ACCEPT, fid, file->file->file_number, strdup(destination.path.UTF8String));

MSG_FILE no longer holds a FILE_TRANSFER, so this doesn't work.

src/cocoa/interaction.m, line 931 at r1 (raw file):

    if (ret == NSFileHandlingPanelOKButton) {
        NSURL * destination = picker.URL;
        NSData *d           = [NSData dataWithBytesNoCopy:file->path length:file->size freeWhenDone:NO];

file->size should be file->target_size

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/507#issuecomment-266106215,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

src/main.c, line 191 at r7 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Don't pass both append and write. Write is for when you want an empty file (if one exists, it's wiped). Append is when you want to add to a file (created if it doesn't exist).

@robinlinden if that's the decision we want to go with, we need to enforce that in native_get_file.
Should I change both in this pull?

src/cocoa/interaction.m, line 900 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
MSG_FILE no longer holds a FILE_TRANSFER, so this doesn't work.

Done.

src/cocoa/interaction.m, line 931 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
file->size should be file->target_size

Done.

src/xlib/filesys.c, line 239 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
native_create_dir?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/endoffile78,12,https://github.com/uTox/uTox/pull/507#issuecomment-266144450,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 13 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 430 at r7 (raw file):

/* Friend has come online, restart our outgoing transfers to this friend. */
void ft_friend_online(Tox *tox, uint32_t friend_number) {
    (void)tox; // FIXME temp warning hiding

Replace with UNUSED()

src/file_transfers.c, line 448 at r7 (raw file):

/* Friend has gone offline, break our outgoing transfers to this friend. */
void ft_friend_offline(Tox *tox, uint32_t friend_number) {
    (void)tox; // FIXME temp warning hiding

Replace with UNUSED()

src/file_transfers.c, line 822 at r7 (raw file):

    uint32_t file_number = tox_file_send(tox, friend_number, TOX_FILE_KIND_AVATAR, self.png_size, hash, NULL, 0, &error);
    if (error || file_number == UINT32_MAX) {
        debug(""tox_file_send() failed error code %u\n"", error);

debug_error

src/file_transfers.c, line 879 at r7 (raw file):

    uint32_t file_number = tox_file_send(tox, friend_number, TOX_FILE_KIND_DATA, size, NULL, name, name_length, &error);
    if (error || file_number == UINT32_MAX) {
        debug(""tox_file_send() failed error code %u\n"", error);

debug_error

src/file_transfers.c, line 922 at r7 (raw file):

    debug(""FileTransfer:\tStarting raw data transfer to friend %u.\n"", friend_number);

    // TODO send the uset avatar command.

uset -> unset?

src/file_transfers.c, line 939 at r7 (raw file):

    uint32_t file_number = tox_file_send(tox, friend_number, TOX_FILE_KIND_DATA, size, hash, name, name_length, &error);
    if (error || file_number == UINT32_MAX) {
        debug(""tox_file_send() failed error code %u\n"", error);

debug_error

src/main.c, line 202 at r7 (raw file):

    if (fp == NULL) {
        debug(""uTox:\tError getting a file handle for this chatlog!\n"");

debug_error

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/507#issuecomment-266162854,This change is‚ÄÇ,"Reviewed 2 of 2 files at r8.
Review status: all files reviewed at latest revision, 11 unresolved discussions, some commit checks failed.

src/main.c, line 191 at r7 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
@robinlinden if that's the decision we want to go with, we need to enforce that in native_get_file.
Should I change both in this pull?

It's how fopen works and I don't see any reason we should do it differently. Enforcing that you can't pass both WRITE and APPEND would be a good idea and you can add it to this PR or I'll add it to the PR in which I fix native POSIX.

src/xlib/filesys.c, line 239 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Done.

Forgot to commit the change?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/507#issuecomment-266175176,This change is‚ÄÇ,"Review status: 21 of 22 files reviewed at latest revision, 11 unresolved discussions.

src/xlib/filesys.c, line 239 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Forgot to commit the change?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/507#issuecomment-266188525,This change is‚ÄÇ,"Review status: 21 of 22 files reviewed at latest revision, 11 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 822 at r7 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
debug_error

Done.

src/file_transfers.c, line 879 at r7 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
debug_error

Done.

src/file_transfers.c, line 922 at r7 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
uset -> unset?

Done.

src/file_transfers.c, line 939 at r7 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
debug_error

Done.

src/main.c, line 191 at r7 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
It's how fopen works and I don't see any reason we should do it differently. Enforcing that you can't pass both WRITE and APPEND would be a good idea and you can add it to this PR or I'll add it to the PR in which I fix native POSIX.

let's add that to native and you can accept this comment once I rebase on that one

src/main.c, line 202 at r7 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
debug_error

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/robinlinden,16,https://github.com/uTox/uTox/pull/507#issuecomment-266253611,This change is‚ÄÇ,"Reviewed 3 of 3 files at r9.
Review status: all files reviewed at latest revision, 10 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 939 at r7 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Done.

You forgot to change this one.

src/main.c, line 191 at r7 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
let's add that to native and you can accept this comment once I rebase on that one

You can rebase on that now.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/endoffile78,17,https://github.com/uTox/uTox/pull/507#issuecomment-266265470,This change is‚ÄÇ,"main.7.c needs to be updated.

Reviewed 5 of 21 files at r1, 3 of 8 files at r3, 1 of 2 files at r5, 6 of 11 files at r6, 2 of 4 files at r7, 2 of 2 files at r8, 2 of 3 files at r9, 1 of 1 files at r10.
Review status: all files reviewed at latest revision, 13 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 740 at r10 (raw file):

    FILE_TRANSFER *ft = get_file_transfer(friend_number, file_number);
    if (!ft->in_use) {
        debug_error(""FileTransfer:\tERROR incoming chuck for an out of use file transfer!\n"");

chuck -> chunk

src/file_transfers.c, line 804 at r10 (raw file):

    debug(""FileTransfer:\tStarting avatar to friend %u.\n"", friend_number);

    // TODO send the uset avatar command.

uset -> unset

src/file_transfers.h, line 44 at r10 (raw file):

    UTOX_FILE_TRANSFER_STATUS status;

    uint8_t path[UTOX_FILE_NAME_LENGTH];

Include main.h or move UTOX_FILE_NAME_LENGTH to this file.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/GrayHatter,18,https://github.com/uTox/uTox/pull/507#issuecomment-266322986,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 9 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 448 at r7 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Replace with UNUSED()

Done.

src/file_transfers.c, line 939 at r7 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You forgot to change this one.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/robinlinden,19,https://github.com/uTox/uTox/pull/507#issuecomment-266325624,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 9 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/endoffile78,20,https://github.com/uTox/uTox/pull/507#issuecomment-266338297,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 9 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 802 at r10 (raw file):

        return UINT32_MAX;
    }
    debug(""FileTransfer:\tStarting avatar to friend %u.\n"", friend_number);

Starting -> Sending?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/GrayHatter,21,https://github.com/uTox/uTox/pull/507#issuecomment-266340322,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 9 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 419 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Wrong line no. Meant to say that right now if (file->path[0]) { /* do nothing */ }

Done.

src/file_transfers.c, line 430 at r7 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Replace with UNUSED()

Done.

src/file_transfers.c, line 740 at r10 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
chuck -> chunk

Done.

src/file_transfers.c, line 802 at r10 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Starting -> Sending?

starting is what I want it to be. We're only sending a request here, no actual file data.

src/file_transfers.c, line 804 at r10 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
uset -> unset

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/GrayHatter,22,https://github.com/uTox/uTox/pull/507#issuecomment-266341310,This change is‚ÄÇ,"Review status: 15 of 23 files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/file_transfers.h, line 44 at r10 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Include main.h or move UTOX_FILE_NAME_LENGTH to this file.

Done.

src/main.c, line 191 at r7 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You can rebase on that now.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/GrayHatter,23,https://github.com/uTox/uTox/pull/507#issuecomment-266341370,This change is‚ÄÇ,"Review status: 15 of 23 files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 150 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Function does nothing.

will have to fix this later

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,507,2016-11-24T07:05:40Z,2016-12-12T09:49:33Z,2016-12-12T09:49:39Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,"Refactor File Trasnefers, part 1",0,[],https://github.com/uTox/uTox/pull/507,https://github.com/endoffile78,24,https://github.com/uTox/uTox/pull/507#issuecomment-266341710,This change is‚ÄÇ,"Reviewed 4 of 4 files at r11, 4 of 4 files at r12.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,508,2016-11-24T07:09:42Z,2016-11-25T21:31:21Z,2016-12-08T09:33:30Z,MERGED,True,33,46,1,https://github.com/GrayHatter,Better cmake && extern to avoid a segfault on windows,1,[],https://github.com/uTox/uTox/pull/508,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/508,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,508,2016-11-24T07:09:42Z,2016-11-25T21:31:21Z,2016-12-08T09:33:30Z,MERGED,True,33,46,1,https://github.com/GrayHatter,Better cmake && extern to avoid a segfault on windows,1,[],https://github.com/uTox/uTox/pull/508,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/508#issuecomment-262706367,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 65 at r1 (raw file):

        src/windows/video.c
        src/windows/filesys.c
        icons/icon.rc )

Does the icon need to be added here and added later.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,508,2016-11-24T07:09:42Z,2016-11-25T21:31:21Z,2016-12-08T09:33:30Z,MERGED,True,33,46,1,https://github.com/GrayHatter,Better cmake && extern to avoid a segfault on windows,1,[],https://github.com/uTox/uTox/pull/508,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/508#issuecomment-262711073,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 65 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
> Does the icon need to be added here and added later.

no, just later... good catch, thank you!

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,508,2016-11-24T07:09:42Z,2016-11-25T21:31:21Z,2016-12-08T09:33:30Z,MERGED,True,33,46,1,https://github.com/GrayHatter,Better cmake && extern to avoid a segfault on windows,1,[],https://github.com/uTox/uTox/pull/508,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/508#issuecomment-262713870,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,508,2016-11-24T07:09:42Z,2016-11-25T21:31:21Z,2016-12-08T09:33:30Z,MERGED,True,33,46,1,https://github.com/GrayHatter,Better cmake && extern to avoid a segfault on windows,1,[],https://github.com/uTox/uTox/pull/508,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/508#issuecomment-262927386,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,508,2016-11-24T07:09:42Z,2016-11-25T21:31:21Z,2016-12-08T09:33:30Z,MERGED,True,33,46,1,https://github.com/GrayHatter,Better cmake && extern to avoid a segfault on windows,1,[],https://github.com/uTox/uTox/pull/508,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/508#issuecomment-263023554,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 65 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> no, just later... good catch, thank you!

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,508,2016-11-24T07:09:42Z,2016-11-25T21:31:21Z,2016-12-08T09:33:30Z,MERGED,True,33,46,1,https://github.com/GrayHatter,Better cmake && extern to avoid a segfault on windows,1,[],https://github.com/uTox/uTox/pull/508,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/508#issuecomment-263024269,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,508,2016-11-24T07:09:42Z,2016-11-25T21:31:21Z,2016-12-08T09:33:30Z,MERGED,True,33,46,1,https://github.com/GrayHatter,Better cmake && extern to avoid a segfault on windows,1,[],https://github.com/uTox/uTox/pull/508,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/508#issuecomment-263024323,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,510,2016-11-25T15:06:16Z,2016-12-08T09:21:06Z,2016-12-09T02:15:17Z,MERGED,True,82,86,4,https://github.com/robinlinden,Avatar refactor,4,['PR: Pending'],https://github.com/uTox/uTox/pull/510,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/510,"Fixes among other things, avatar paths being broken on Windows.
Must be merged after #511 as this changes avatars to only use Linux-style paths and #511 makes Windows handle those correctly.

This change is‚ÄÇ","Fixes among other things, avatar paths being broken on Windows.
Must be merged after #511 as this changes avatars to only use Linux-style paths and #511 makes Windows handle those correctly.

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,510,2016-11-25T15:06:16Z,2016-12-08T09:21:06Z,2016-12-09T02:15:17Z,MERGED,True,82,86,4,https://github.com/robinlinden,Avatar refactor,4,['PR: Pending'],https://github.com/uTox/uTox/pull/510,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/510#issuecomment-263005358,"Fixes among other things, avatar paths being broken on Windows.
Must be merged after #511 as this changes avatars to only use Linux-style paths and #511 makes Windows handle those correctly.

This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,510,2016-11-25T15:06:16Z,2016-12-08T09:21:06Z,2016-12-09T02:15:17Z,MERGED,True,82,86,4,https://github.com/robinlinden,Avatar refactor,4,['PR: Pending'],https://github.com/uTox/uTox/pull/510,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/510#issuecomment-263011442,"Fixes among other things, avatar paths being broken on Windows.
Must be merged after #511 as this changes avatars to only use Linux-style paths and #511 makes Windows handle those correctly.

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, all commit checks successful.

src/avatar.c, line 45 at r1 (raw file):

#ifdef __WIN32__
    snprintf(name, sizeof(""avatars/"") + TOX_PUBLIC_KEY_SIZE * 2 + sizeof("".png""), ""avatars\\%.*s.png"",

Drop this whole line... #ifdefs don't belong in this section of code

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,510,2016-11-25T15:06:16Z,2016-12-08T09:21:06Z,2016-12-09T02:15:17Z,MERGED,True,82,86,4,https://github.com/robinlinden,Avatar refactor,4,['PR: Pending'],https://github.com/uTox/uTox/pull/510,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/510#issuecomment-265677536,"Fixes among other things, avatar paths being broken on Windows.
Must be merged after #511 as this changes avatars to only use Linux-style paths and #511 makes Windows handle those correctly.

This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,511,2016-11-25T15:10:16Z,2016-12-08T09:18:18Z,2017-01-25T19:43:45Z,MERGED,True,182,154,8,https://github.com/robinlinden,Lots of native function things.,14,['PR: READY'],https://github.com/uTox/uTox/pull/511,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/511,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,511,2016-11-25T15:10:16Z,2016-12-08T09:18:18Z,2017-01-25T19:43:45Z,MERGED,True,182,154,8,https://github.com/robinlinden,Lots of native function things.,14,['PR: READY'],https://github.com/uTox/uTox/pull/511,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/511#issuecomment-265675481,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1, 6 of 6 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/cocoa/main.m, line 229 at r2 (raw file):

}

// Exactly the same in src/cocoa/main.m and src/xlib/main.c

clearly we need src/posix/

src/windows/filesys.c, line 125 at r2 (raw file):

        case ERROR_FILE_EXISTS:
        case ERROR_ALREADY_EXISTS:
            debug_info(""NATIVE:\tCreated path: `%s` - %d\n"", filepath, error);

notice

src/windows/filesys.c, line 180 at r2 (raw file):

    }
    return true;
}

newline

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,511,2016-11-25T15:10:16Z,2016-12-08T09:18:18Z,2017-01-25T19:43:45Z,MERGED,True,182,154,8,https://github.com/robinlinden,Lots of native function things.,14,['PR: READY'],https://github.com/uTox/uTox/pull/511,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/511#issuecomment-265679141,This change is‚ÄÇ,"Review status: 3 of 7 files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/cocoa/main.m, line 229 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
clearly we need src/posix/

Done.

src/windows/filesys.c, line 125 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
notice

Done.

src/windows/filesys.c, line 180 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
newline

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,511,2016-11-25T15:10:16Z,2016-12-08T09:18:18Z,2017-01-25T19:43:45Z,MERGED,True,182,154,8,https://github.com/robinlinden,Lots of native function things.,14,['PR: READY'],https://github.com/uTox/uTox/pull/511,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/511#issuecomment-265680261,This change is‚ÄÇ,"Reviewed 5 of 5 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/posix/filesys.c, line 52 at r3 (raw file):

    return fp;
}

you need a better editor... newline at eof

src/windows/filesys.c, line 181 at r3 (raw file):

    
    return true;
}

that's a good place too, but I meant at end of file

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,511,2016-11-25T15:10:16Z,2016-12-08T09:18:18Z,2017-01-25T19:43:45Z,MERGED,True,182,154,8,https://github.com/robinlinden,Lots of native function things.,14,['PR: READY'],https://github.com/uTox/uTox/pull/511,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/511#issuecomment-265681912,This change is‚ÄÇ,"Reviewed 2 of 2 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/512,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/512#issuecomment-263013064,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 313 at r1 (raw file):

    if (flag & UTOX_FILE_OPTS_DELETE) {
        remove(path);

and return;

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/512#issuecomment-263013107,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/512#issuecomment-263013224,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 313 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> and return;

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/512#issuecomment-263015659,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 312 at r3 (raw file):

    }

    if (flag & UTOX_FILE_OPTS_DELETE) {

==, we don't want to check if it exists, we want to be sure you don't delete, and try to read through a programming error

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/512#issuecomment-263015663,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/512#issuecomment-263016971,This change is‚ÄÇ,"Review status: 1 of 2 files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 312 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> `==`, we don't want to check if it exists, we want to be sure you don't delete, and try to read through a programming error

Added a check for UTOX_FILE_OPTS_DELETE in combination with other arguments at the top of the function.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/512#issuecomment-263017089,This change is‚ÄÇ,"Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/xlib/main.c, line 312 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Added a check for UTOX_FILE_OPTS_DELETE in combination with other arguments at the top of the function.

I'd roll this into that first check, make it an else if and make it `==` there's no reason not to be explicit here

src/xlib/main.c, line 307 at r4 (raw file):

    if (flag > UTOX_FILE_OPTS_DELETE) {
        debug(""NATIVE:\tDon't call native_get_file with UTOX_FILE_OPTS_DELETE in combination with other options.\n"");

debug_error when it something unexpected or causes the fxn to exit

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/512#issuecomment-263017591,This change is‚ÄÇ,"Review status: 0 of 2 files reviewed at latest revision, 2 unresolved discussions.

src/xlib/main.c, line 312 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> I'd roll this into that first check, make it an else if and make it `==` there's no reason not to be explicit here

Fair enough. I was trying to keep it consistent with all the other flag checks in the function.

src/xlib/main.c, line 307 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> `debug_error` when it something unexpected or causes the fxn to exit

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/512#issuecomment-263017788,This change is‚ÄÇ,"Review status: 0 of 2 files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 315 at r5 (raw file):

        debug_error(""NATIVE:\tDon't call native_get_file with UTOX_FILE_OPTS_DELETE in combination with other options.\n"");
        return NULL;
    } else if ((flag & UTOX_FILE_OPTS_DELETE) == UTOX_FILE_OPTS_DELETE) {

    } else if (flag == UTOX_FILE_OPTS_DELETE) {
your way will strip other flags. Granted we did check above, but fuket, lets check a 2nd time!

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/512#issuecomment-263018889,This change is‚ÄÇ,"Review status: 0 of 2 files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 315 at r5 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> `    } else if (flag == UTOX_FILE_OPTS_DELETE) {`
> 
> your way will strip other flags. Granted we did check above, but fuket, lets check a 2nd time!

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,512,2016-11-25T19:16:18Z,2016-11-25T20:48:24Z,2016-11-25T20:49:45Z,MERGED,True,9,0,2,https://github.com/robinlinden,Add xlib native_get_file option to delete file.,7,[],https://github.com/uTox/uTox/pull/512,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/512#issuecomment-263019026,This change is‚ÄÇ,"Reviewed 2 of 2 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/513,"Closes #406

This change is‚ÄÇ","Closes #406

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/513#issuecomment-263022116,"Closes #406

This change is‚ÄÇ","Reviewed 12 of 12 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/ui/buttons.c, line 405 at r1 (raw file):

}

static void button_change_nospam_onpress(void) {

Should we require a confirmation or at least display some information about what this does before changing the user's nospam?

src/ui/edits.c, line 610 at r1 (raw file):

    edit_nospam = {.length            = sizeof(uint32_t) * 2,
                   .data              = self.nospam_str,
                   .readonly          = 1,

Make these true or false.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/513#issuecomment-263024922,"Closes #406

This change is‚ÄÇ","Review status: 4 of 12 files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/ui/buttons.c, line 405 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Should we require a confirmation or at least display some information about what this does before changing the user's nospam?

I dont think thats needed because your tox id is updated immediately and changing nospam only prevents friend requests from people who have your old id.

src/ui/edits.c, line 610 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Make these true or false.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/513#issuecomment-263041082,"Closes #406

This change is‚ÄÇ","Reviewed 14 of 14 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/avatar.c, line 228 at r2 (raw file):

}

bool avatar_move(char *current, char *new) {

new is a reserved word in C++. Maybe bool avatar_move(char *from, char *to)? Or current and destination? Anything but new, pretty much.

src/avatar.h, line 95 at r2 (raw file):

bool avatar_init_self(void);

/* Moves the avatar to the new.png */

Missing a space between new and .png

src/avatar.h, line 96 at r2 (raw file):

/* Moves the avatar to the new.png */
bool avatar_move(char *current, char *new);

uint8_t instead of char

src/ui/buttons.c, line 608 at r2 (raw file):

BUTTON button_revert_nospam = {
    .nodraw       = true,

Add .disabled = true, and use that in button_revert_nospam_onpress and button_change_nospam_onpress in addition to nodraw.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/513#issuecomment-263049237,"Closes #406

This change is‚ÄÇ","Review status: 14 of 17 files reviewed at latest revision, 4 unresolved discussions.

src/avatar.c, line 228 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> `new` is a reserved word in C++. Maybe `bool avatar_move(char *from, char *to)`? Or current and destination? Anything but new, pretty much.

Done.

src/avatar.h, line 95 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Missing a space between new and .png

Done.

src/avatar.h, line 96 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> uint8_t instead of char

Done.

src/ui/buttons.c, line 608 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> Add `.disabled = true,` and use that in `button_revert_nospam_onpress` and `button_change_nospam_onpress` in addition to `nodraw`.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/513#issuecomment-263089108,"Closes #406

This change is‚ÄÇ","Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/513#issuecomment-266311123,"Closes #406

This change is‚ÄÇ","Reviewed 5 of 8 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/posix/filesys.c, line 62 at r4 (raw file):

}

bool native_move_file(char *current_name, char *new_name) {

const uint8_t *

src/windows/filesys.c, line 183 at r4 (raw file):

}

bool native_move_file(char *current_name, char *new_name) {

const uint8_t *

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/513#issuecomment-266314394,"Closes #406

This change is‚ÄÇ","Review status: 13 of 16 files reviewed at latest revision, 2 unresolved discussions.

src/posix/filesys.c, line 62 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
const uint8_t *

Done.

src/windows/filesys.c, line 183 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
const uint8_t *

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/513#issuecomment-266701098,"Closes #406

This change is‚ÄÇ","native_move_file is missing from Android. 

Reviewed 3 of 3 files at r5.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/avatar.c, line 176 at r5 (raw file):

}

bool avatar_move(uint8_t *source, uint8_t *dest) {

const uint8_t *

src/avatar.c, line 177 at r5 (raw file):

bool avatar_move(uint8_t *source, uint8_t *dest) {
    char current_name[sizeof(""avatars/"") + TOX_PUBLIC_KEY_SIZE * 2 + sizeof("".png"")] = { 0 };

A lot of paths in uTox are null terminated. Do these need to be?

src/avatar.c, line 180 at r5 (raw file):

    char new_name[sizeof(""avatars/"") + TOX_PUBLIC_KEY_SIZE * 2 + sizeof("".png"")] = { 0 };

#ifdef __WIN32__

Remove the Windows #ifdef. We're only using Linux-style paths in uTox.

src/avatar.h, line 105 at r5 (raw file):

/* Moves the avatar to its new name */
bool avatar_move(uint8_t *source, uint8_t *dest);

const uint8_t *

src/tox.c, line 579 at r5 (raw file):

             */
            tox_self_set_status(tox, param1);
            save_needed = 1;

true

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/513#issuecomment-266734825,"Closes #406

This change is‚ÄÇ","Review status: 7 of 17 files reviewed at latest revision, 5 unresolved discussions.

src/avatar.c, line 176 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
const uint8_t *

Done.

src/avatar.c, line 177 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
A lot of paths in uTox are null terminated. Do these need to be?

I did it because GrayHatter has had problems before with windows throwing a fit if the variable isn't initiliazed before using sprintf/snprintf.

src/avatar.c, line 180 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Remove the Windows #ifdef. We're only using Linux-style paths in uTox.

Done.

src/avatar.h, line 105 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
const uint8_t *

Done.

src/tox.c, line 579 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
true

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/513#issuecomment-267769180,"Closes #406

This change is‚ÄÇ","Reviewed 10 of 10 files at r6.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/513#issuecomment-267933198,"Closes #406

This change is‚ÄÇ","This is something of a UX concern for me. So I'm going to withhold review and judgement until the settings page UI, that @endoffile78  is currently working on gets merged first.

Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/513#issuecomment-272713443,"Closes #406

This change is‚ÄÇ","Reviewed 12 of 12 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/robinlinden,14,https://github.com/uTox/uTox/pull/513#issuecomment-274297534,"Closes #406

This change is‚ÄÇ","Reviewed 25 of 25 files at r8.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/513#issuecomment-274311013,"Closes #406

This change is‚ÄÇ","Reviewed 1 of 12 files at r1, 25 of 25 files at r8.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/main.h, line 269 at r8 (raw file):

    uint32_t nospam;
    uint32_t old_nospam;
    char nospam_str[sizeof(uint32_t) * 2];

BTW, does toxcore not expose this size in the API? If it does, we should use it, if it doesn't we should file a bug upstream.

src/tox_callbacks.c, line 19 at r8 (raw file):

                                    void *UNUSED(userdata)) {

    if(settings.block_friend_requests){

style

src/tox_callbacks.c, line 20 at r8 (raw file):

    if(settings.block_friend_requests){
        debug_info(""Friend request ignored.\n"");

warning

src/ui/buttons.c, line 437 at r8 (raw file):

static void button_change_nospam_on_mup(void) {
    button_revert_nospam.disabled = false;
    long int nospam = rand();

use newspam

src/ui/buttons.c, line 441 at r8 (raw file):

    self.nospam = (uint32_t)nospam;
    sprintf(self.nospam_str, ""%X"", self.nospam);
    postmessage_toxcore(TOX_SELF_CHANGE_NOSPAM, (uint32_t)nospam, 0, NULL);

you can only send a u16 through postmessage.
The simplest thing would likely be to do all of this logic inside the tox thread anyways; so there's less to pass. (It also abstracts the tox logic from the ui/* code

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/endoffile78,16,https://github.com/uTox/uTox/pull/513#issuecomment-274313813,"Closes #406

This change is‚ÄÇ","Review status: 21 of 26 files reviewed at latest revision, 5 unresolved discussions.

src/main.h, line 269 at r8 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
BTW, does toxcore not expose this size in the API? If it does, we should use it, if it doesn't we should file a bug upstream.

Toxcore does'nt expose the size.

src/tox_callbacks.c, line 19 at r8 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
style

Done.

src/tox_callbacks.c, line 20 at r8 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
warning

Done.

src/ui/buttons.c, line 437 at r8 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
use newspam

Done.

src/ui/buttons.c, line 441 at r8 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
you can only send a u16 through postmessage.
The simplest thing would likely be to do all of this logic inside the tox thread anyways; so there's less to pass. (It also abstracts the tox logic from the ui/* code

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,513,2016-11-25T20:13:19Z,2017-01-22T08:27:27Z,2017-01-22T08:27:28Z,MERGED,True,392,54,26,https://github.com/endoffile78,Add ability to change nospam,3,[],https://github.com/uTox/uTox/pull/513,https://github.com/GrayHatter,17,https://github.com/uTox/uTox/pull/513#issuecomment-274314271,"Closes #406

This change is‚ÄÇ","Reviewed 5 of 5 files at r9, 1 of 1 files at r10.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/main.h, line 269 at r8 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Toxcore does'nt expose the size.

OK I've already opened an issue aswell

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,514,2016-11-25T23:26:14Z,2016-11-25T23:46:29Z,2017-02-12T21:34:27Z,MERGED,True,7,8,1,https://github.com/endoffile78,Update .gitignore,2,[],https://github.com/uTox/uTox/pull/514,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/514,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,514,2016-11-25T23:26:14Z,2016-11-25T23:46:29Z,2017-02-12T21:34:27Z,MERGED,True,7,8,1,https://github.com/endoffile78,Update .gitignore,2,[],https://github.com/uTox/uTox/pull/514,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/514#issuecomment-263032285,This change is‚ÄÇ,"add build*/ please

Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

.gitignore, line 6 at r1 (raw file):

src/*/*.d
src/*/*.dll
src/*.o


replace all *.o with **/*.o
and .a

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,514,2016-11-25T23:26:14Z,2016-11-25T23:46:29Z,2017-02-12T21:34:27Z,MERGED,True,7,8,1,https://github.com/endoffile78,Update .gitignore,2,[],https://github.com/uTox/uTox/pull/514,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/514#issuecomment-263032565,This change is‚ÄÇ,"Done.

Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

.gitignore, line 6 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> replace all `*.o` with `**/*.o`
> and .a

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,514,2016-11-25T23:26:14Z,2016-11-25T23:46:29Z,2017-02-12T21:34:27Z,MERGED,True,7,8,1,https://github.com/endoffile78,Update .gitignore,2,[],https://github.com/uTox/uTox/pull/514,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/514#issuecomment-263032747,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

.gitignore, line 35 at r2 (raw file):

CMakeCache.txt
Makefile
install_manifest.txt


add a blank line please

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,514,2016-11-25T23:26:14Z,2016-11-25T23:46:29Z,2017-02-12T21:34:27Z,MERGED,True,7,8,1,https://github.com/endoffile78,Update .gitignore,2,[],https://github.com/uTox/uTox/pull/514,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/514#issuecomment-263032845,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

.gitignore, line 35 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> add a blank line please

LGTM

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,514,2016-11-25T23:26:14Z,2016-11-25T23:46:29Z,2017-02-12T21:34:27Z,MERGED,True,7,8,1,https://github.com/endoffile78,Update .gitignore,2,[],https://github.com/uTox/uTox/pull/514,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/514#issuecomment-263032885,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

.gitignore, line 35 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
> LGTM

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,515,2016-11-26T08:14:10Z,2016-12-02T02:51:00Z,2016-12-02T02:51:00Z,CLOSED,False,3,3,1,https://github.com/ismaell,Fix utox target installation rule,1,[],https://github.com/uTox/uTox/pull/515,https://github.com/ismaell,1,https://github.com/uTox/uTox/pull/515,"CMake install rules for files generated by the build process must specify
they reference a target to be correctly looked up in the build directory,
instead of the source directory.


This change is‚ÄÇ","CMake install rules for files generated by the build process must specify
they reference a target to be correctly looked up in the build directory,
instead of the source directory.


This change is‚ÄÇ",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,515,2016-11-26T08:14:10Z,2016-12-02T02:51:00Z,2016-12-02T02:51:00Z,CLOSED,False,3,3,1,https://github.com/ismaell,Fix utox target installation rule,1,[],https://github.com/uTox/uTox/pull/515,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/515#issuecomment-263154741,"CMake install rules for files generated by the build process must specify
they reference a target to be correctly looked up in the build directory,
instead of the source directory.


This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,515,2016-11-26T08:14:10Z,2016-12-02T02:51:00Z,2016-12-02T02:51:00Z,CLOSED,False,3,3,1,https://github.com/ismaell,Fix utox target installation rule,1,[],https://github.com/uTox/uTox/pull/515,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/515#issuecomment-263154748,"CMake install rules for files generated by the build process must specify
they reference a target to be correctly looked up in the build directory,
instead of the source directory.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,515,2016-11-26T08:14:10Z,2016-12-02T02:51:00Z,2016-12-02T02:51:00Z,CLOSED,False,3,3,1,https://github.com/ismaell,Fix utox target installation rule,1,[],https://github.com/uTox/uTox/pull/515,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/515#issuecomment-263177795,"CMake install rules for files generated by the build process must specify
they reference a target to be correctly looked up in the build directory,
instead of the source directory.


This change is‚ÄÇ",@ismaell can you rebase please.,True,{}
uTox/uTox,https://github.com/uTox/uTox,515,2016-11-26T08:14:10Z,2016-12-02T02:51:00Z,2016-12-02T02:51:00Z,CLOSED,False,3,3,1,https://github.com/ismaell,Fix utox target installation rule,1,[],https://github.com/uTox/uTox/pull/515,https://github.com/ismaell,5,https://github.com/uTox/uTox/pull/515#issuecomment-263336821,"CMake install rules for files generated by the build process must specify
they reference a target to be correctly looked up in the build directory,
instead of the source directory.


This change is‚ÄÇ",@endoffile78 done.,True,{}
uTox/uTox,https://github.com/uTox/uTox,515,2016-11-26T08:14:10Z,2016-12-02T02:51:00Z,2016-12-02T02:51:00Z,CLOSED,False,3,3,1,https://github.com/ismaell,Fix utox target installation rule,1,[],https://github.com/uTox/uTox/pull/515,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/515#issuecomment-264360040,"CMake install rules for files generated by the build process must specify
they reference a target to be correctly looked up in the build directory,
instead of the source directory.


This change is‚ÄÇ",Closed because this was merged in #519.,True,{}
uTox/uTox,https://github.com/uTox/uTox,517,2016-11-27T15:09:59Z,2016-11-27T15:17:45Z,2016-11-27T15:19:35Z,MERGED,True,1,1,1,https://github.com/cebe,Update BUILD.md,1,[],https://github.com/uTox/uTox/pull/517,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/517,"fixed link to toxcore


This change is‚ÄÇ","fixed link to toxcore


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,517,2016-11-27T15:09:59Z,2016-11-27T15:17:45Z,2016-11-27T15:19:35Z,MERGED,True,1,1,1,https://github.com/cebe,Update BUILD.md,1,[],https://github.com/uTox/uTox/pull/517,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/517#issuecomment-263127707,"fixed link to toxcore


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,519,2016-12-01T22:22:40Z,2016-12-02T02:44:30Z,2016-12-08T09:33:29Z,MERGED,True,3,3,1,https://github.com/endoffile78,Merge branch,2,[],https://github.com/uTox/uTox/pull/519,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/519,"Hack to get around protected branch until a better way is figured out.


This change is‚ÄÇ","Hack to get around protected branch until a better way is figured out.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,519,2016-12-01T22:22:40Z,2016-12-02T02:44:30Z,2016-12-08T09:33:29Z,MERGED,True,3,3,1,https://github.com/endoffile78,Merge branch,2,[],https://github.com/uTox/uTox/pull/519,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/519#issuecomment-264315418,"Hack to get around protected branch until a better way is figured out.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,521,2016-12-08T01:52:39Z,2016-12-08T07:55:35Z,2017-02-12T21:34:47Z,MERGED,True,49,19,1,https://github.com/endoffile78,Add documentation to functions in main.h,1,[],https://github.com/uTox/uTox/pull/521,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/521,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,521,2016-12-08T01:52:39Z,2016-12-08T07:55:35Z,2017-02-12T21:34:47Z,MERGED,True,49,19,1,https://github.com/endoffile78,Add documentation to functions in main.h,1,[],https://github.com/uTox/uTox/pull/521,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/521#issuecomment-265637651,This change is‚ÄÇ,"Consider sorting the utox_data_* functions. e.g. everything that loads together and everything that's saves together.

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 6 unresolved discussions.

src/main.h, line 333 at r1 (raw file):

/**
 * Saves the settings for utox

uTox
here and below

src/main.h, line 342 at r1 (raw file):

 * Loads utox settings
 *
 * Returns the utox settings on success

returns a memory pointer of *size. Does the caller need to free it?

src/main.h, line 356 at r1 (raw file):

/**
 * Saves chat log for friend with id hex

Consider moving these functions to a new header.
lets talk with @robinlinden in IRC first, because IIRC a messages.c refactor is on his todo list, and this would be better in that pull.

src/main.h, line 390 at r1 (raw file):

/**
 * Deletes a file

any file? or only the the utox system save dir?

src/main.h, line 404 at r1 (raw file):

/**
 * Setup for exporting the chat log to plain text

verify it always starts a new thread, then say so.

src/main.h, line 425 at r1 (raw file):

 * Initialize utox
 */
void utox_init(void);

newline needed, comment needed with a TODO suggestion for the following files
again, make sure it's just a suggestion. We might wish to sort the following functions better. E.g. in native, because the drawing functions are VERY dependent on the local system.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,521,2016-12-08T01:52:39Z,2016-12-08T07:55:35Z,2017-02-12T21:34:47Z,MERGED,True,49,19,1,https://github.com/endoffile78,Add documentation to functions in main.h,1,[],https://github.com/uTox/uTox/pull/521,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/521#issuecomment-265642268,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 6 unresolved discussions.

src/main.h, line 333 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
uTox
here and below

Done.

src/main.h, line 342 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
returns a memory pointer of *size. Does the caller need to free it?

Done.

src/main.h, line 390 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
any file? or only the the utox system save dir?

Done.

src/main.h, line 404 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
verify it always starts a new thread, then say so.

It doesn't look like it starts a new thread.

src/main.h, line 425 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
newline needed, comment needed with a TODO suggestion for the following files
again, make sure it's just a suggestion. We might wish to sort the following functions better. E.g. in native, because the drawing functions are VERY dependent on the local system.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,521,2016-12-08T01:52:39Z,2016-12-08T07:55:35Z,2017-02-12T21:34:47Z,MERGED,True,49,19,1,https://github.com/endoffile78,Add documentation to functions in main.h,1,[],https://github.com/uTox/uTox/pull/521,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/521#issuecomment-265643626,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/main.h, line 390 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Done.

Active tox data directory. Some times it'll be the current sometimes home but the call can't decide or find out.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,521,2016-12-08T01:52:39Z,2016-12-08T07:55:35Z,2017-02-12T21:34:47Z,MERGED,True,49,19,1,https://github.com/endoffile78,Add documentation to functions in main.h,1,[],https://github.com/uTox/uTox/pull/521,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/521#issuecomment-265644865,This change is‚ÄÇ,"Done

Review status: 0 of 1 files reviewed at latest revision, 2 unresolved discussions.

src/main.h, line 390 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Active tox data directory. Some times it'll be the current sometimes home but the call can't decide or find out.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,521,2016-12-08T01:52:39Z,2016-12-08T07:55:35Z,2017-02-12T21:34:47Z,MERGED,True,49,19,1,https://github.com/endoffile78,Add documentation to functions in main.h,1,[],https://github.com/uTox/uTox/pull/521,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/521#issuecomment-265645870,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,521,2016-12-08T01:52:39Z,2016-12-08T07:55:35Z,2017-02-12T21:34:47Z,MERGED,True,49,19,1,https://github.com/endoffile78,Add documentation to functions in main.h,1,[],https://github.com/uTox/uTox/pull/521,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/521#issuecomment-265646610,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/main.h, line 356 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Consider moving these functions to a new header.
lets talk with @robinlinden in IRC first, because IIRC a messages.c refactor is on his todo list, and this would be better in that pull.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,521,2016-12-08T01:52:39Z,2016-12-08T07:55:35Z,2017-02-12T21:34:47Z,MERGED,True,49,19,1,https://github.com/endoffile78,Add documentation to functions in main.h,1,[],https://github.com/uTox/uTox/pull/521,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/521#issuecomment-265658539,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,522,2016-12-08T01:59:58Z,2016-12-08T07:58:08Z,2017-02-12T21:34:28Z,MERGED,True,0,94,2,https://github.com/endoffile78,Remove avatar functions from main.c,1,[],https://github.com/uTox/uTox/pull/522,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/522,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,522,2016-12-08T01:59:58Z,2016-12-08T07:58:08Z,2017-02-12T21:34:28Z,MERGED,True,0,94,2,https://github.com/endoffile78,Remove avatar functions from main.c,1,[],https://github.com/uTox/uTox/pull/522,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/522#issuecomment-265636479,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,523,2016-12-08T09:34:56Z,2016-12-20T21:51:43Z,2016-12-21T09:32:23Z,MERGED,True,61,0,1,https://github.com/GrayHatter,Add skel checklist for new versions,4,[],https://github.com/uTox/uTox/pull/523,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/523,"@endoffile78 @robinlinden
The idea is we copy this into the pull request of develop to master
anyone can test any of the lines, and can tick when confirmed


This change is‚ÄÇ","@endoffile78 @robinlinden
The idea is we copy this into the pull request of develop to master
anyone can test any of the lines, and can tick when confirmed


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,523,2016-12-08T09:34:56Z,2016-12-20T21:51:43Z,2016-12-21T09:32:23Z,MERGED,True,61,0,1,https://github.com/GrayHatter,Add skel checklist for new versions,4,[],https://github.com/uTox/uTox/pull/523,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/523#issuecomment-265875110,"@endoffile78 @robinlinden
The idea is we copy this into the pull request of develop to master
anyone can test any of the lines, and can tick when confirmed


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,524,2016-12-09T02:04:42Z,2016-12-12T04:53:56Z,2017-02-12T21:34:20Z,MERGED,True,138,81,6,https://github.com/endoffile78,Refactor commands,2,[],https://github.com/uTox/uTox/pull/524,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/524,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,524,2016-12-09T02:04:42Z,2016-12-12T04:53:56Z,2017-02-12T21:34:20Z,MERGED,True,138,81,6,https://github.com/endoffile78,Refactor commands,2,[],https://github.com/uTox/uTox/pull/524,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/524#issuecomment-265921603,This change is‚ÄÇ,"Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, 6 unresolved discussions.

src/command_funcs.c, line 20 at r1 (raw file):

bool slash_device(void *object, char *arg, int UNUSED(arg_length)) {
    FRIEND *f =  object;
    uint8_t id[TOX_FRIEND_ADDRESS_SIZE * 2];

Is it intentional that this is the only variable of the size TOX_FRIEND_ADDRESS_SIZE * 2 and all the others are TOX_FRIEND_ADDRESS_SIZE?

src/command_funcs.c, line 59 at r1 (raw file):

bool slash_topic(void *object, char *arg, int arg_length) {
    GROUPCHAT *g = object;
    void *d = malloc(arg_length);

May want to check this allocation succeeded.

src/commands.h, line 4 at r1 (raw file):

#define COMMANDS_H

#include ""friend.h""

Can be moved to commands.c

src/ui/edits.c, line 84 at r1 (raw file):

    // debug(""cmd %u\n"", command_length);

    bool action = 0;

false

src/ui/edits.c, line 90 at r1 (raw file):

        if ((command_length == 2) && (!memcmp(command, ""me"", 2))) {
            if (argument) {
                action = 1;

true

src/ui/edits.c, line 113 at r1 (raw file):

    } else if (flist_get_selected()->item == ITEM_GROUP) {
        GROUPCHAT *g = flist_get_selected()->data;
        void *d = malloc(length);

May want to check this allocation succeeded.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,524,2016-12-09T02:04:42Z,2016-12-12T04:53:56Z,2017-02-12T21:34:20Z,MERGED,True,138,81,6,https://github.com/endoffile78,Refactor commands,2,[],https://github.com/uTox/uTox/pull/524,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/524#issuecomment-265925549,This change is‚ÄÇ,"Review status: 3 of 6 files reviewed at latest revision, 6 unresolved discussions.

src/command_funcs.c, line 20 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Is it intentional that this is the only variable of the size TOX_FRIEND_ADDRESS_SIZE * 2 and all the others are TOX_FRIEND_ADDRESS_SIZE?

I'm not sure why its that why, we'll have to ask @GrayHatter.

src/command_funcs.c, line 59 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
May want to check this allocation succeeded.

Done.

src/commands.h, line 4 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Can be moved to commands.c

Done.

src/ui/edits.c, line 84 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
false

Done.

src/ui/edits.c, line 90 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
true

Done.

src/ui/edits.c, line 113 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
May want to check this allocation succeeded.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,524,2016-12-09T02:04:42Z,2016-12-12T04:53:56Z,2017-02-12T21:34:20Z,MERGED,True,138,81,6,https://github.com/endoffile78,Refactor commands,2,[],https://github.com/uTox/uTox/pull/524,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/524#issuecomment-266102744,This change is‚ÄÇ,"Reviewed 3 of 6 files at r1, 2 of 3 files at r2.
Review status: 5 of 6 files reviewed at latest revision, 10 unresolved discussions.

src/command_funcs.c, line 20 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
I'm not sure why its that why, we'll have to ask @GrayHatter.

'cause reasons?
This converts a hex string to the bin array that toxcore wants. This is correct

src/command_funcs.c, line 1 at r2 (raw file):

#include ""command_funcs.h""

Through out this file, I'd rather handle the successful malloc as the if, and return true. Then make the error case the default. Your call @endoffile78

src/commands.c, line 1 at r2 (raw file):

// commands.c

Net change -40 LOC... no change in function... http://i.imgur.com/AxNFauH.gif

src/ui/edits.c, line 77 at r2 (raw file):

    // TODO: Magic number
    if (command_length == 65535) {

sub  -1 for 65535 or UINT16_MAX

src/ui/edits.c, line 117 at r2 (raw file):

            memcpy(d, text, length);
            postmessage_toxcore((action ? TOX_GROUP_SEND_ACTION : TOX_GROUP_SEND_MESSAGE), (g - group), length, d);
        }

FYI Silent failure

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,524,2016-12-09T02:04:42Z,2016-12-12T04:53:56Z,2017-02-12T21:34:20Z,MERGED,True,138,81,6,https://github.com/endoffile78,Refactor commands,2,[],https://github.com/uTox/uTox/pull/524,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/524#issuecomment-266136345,This change is‚ÄÇ,"Review status: 4 of 6 files reviewed at latest revision, 10 unresolved discussions.

src/command_funcs.c, line 20 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
'cause reasons?
This converts a hex string to the bin array that toxcore wants. This is correct

Ok.

src/command_funcs.c, line 1 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Through out this file, I'd rather handle the successful malloc as the if, and return true. Then make the error case the default. Your call @endoffile78

Done.

src/commands.c, line 1 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Net change -40 LOC... no change in function... http://i.imgur.com/AxNFauH.gif

lol

src/ui/edits.c, line 77 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
sub  -1 for 65535 or UINT16_MAX

Done.

src/ui/edits.c, line 117 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
FYI Silent failure

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,524,2016-12-09T02:04:42Z,2016-12-12T04:53:56Z,2017-02-12T21:34:20Z,MERGED,True,138,81,6,https://github.com/endoffile78,Refactor commands,2,[],https://github.com/uTox/uTox/pull/524,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/524#issuecomment-266218590,This change is‚ÄÇ,"Reviewed 1 of 3 files at r2, 2 of 2 files at r3.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,524,2016-12-09T02:04:42Z,2016-12-12T04:53:56Z,2017-02-12T21:34:20Z,MERGED,True,138,81,6,https://github.com/endoffile78,Refactor commands,2,[],https://github.com/uTox/uTox/pull/524,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/524#issuecomment-266247258,This change is‚ÄÇ,"+@GrayHatter

Reviewed 1 of 2 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/command_funcs.c, line 30 at r3 (raw file):

        return true;
    }
    debug(""slash_device:\t Could not allocate memory.\n"");

_error

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,524,2016-12-09T02:04:42Z,2016-12-12T04:53:56Z,2017-02-12T21:34:20Z,MERGED,True,138,81,6,https://github.com/endoffile78,Refactor commands,2,[],https://github.com/uTox/uTox/pull/524,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/524#issuecomment-266255428,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,524,2016-12-09T02:04:42Z,2016-12-12T04:53:56Z,2017-02-12T21:34:20Z,MERGED,True,138,81,6,https://github.com/endoffile78,Refactor commands,2,[],https://github.com/uTox/uTox/pull/524,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/524#issuecomment-266264689,This change is‚ÄÇ,"Review status: 5 of 6 files reviewed at latest revision, 1 unresolved discussion.

src/command_funcs.c, line 30 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
_error

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,524,2016-12-09T02:04:42Z,2016-12-12T04:53:56Z,2017-02-12T21:34:20Z,MERGED,True,138,81,6,https://github.com/endoffile78,Refactor commands,2,[],https://github.com/uTox/uTox/pull/524,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/524#issuecomment-266311273,This change is‚ÄÇ,"Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,524,2016-12-09T02:04:42Z,2016-12-12T04:53:56Z,2017-02-12T21:34:20Z,MERGED,True,138,81,6,https://github.com/endoffile78,Refactor commands,2,[],https://github.com/uTox/uTox/pull/524,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/524#issuecomment-266343086,This change is‚ÄÇ,"Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/526,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/526#issuecomment-265924003,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/android/main.c, line 202 at r1 (raw file):

// one would fix this.
static void mode_from_file_opts(UTOX_FILE_OPTS opts, char *mode) {
    if (opts & UTOX_FILE_OPTS_READ) {

Is there a reason this is seperated from the append and write checks. Same for the one in the posix file.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/526#issuecomment-265950220,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/android/main.c, line 199 at r1 (raw file):

// TODO: DRY. This function exists in both posix/filesys.c and in android/main.c
// Make a posix native_get_file that you pass a complete path to instead of letting it construct

FYI -- android is strange, so it's probably better to not try to mix posix with android.

src/android/main.c, line 201 at r1 (raw file):

// Make a posix native_get_file that you pass a complete path to instead of letting it construct
// one would fix this.
static void mode_from_file_opts(UTOX_FILE_OPTS opts, char *mode) {

why is this a function?

src/android/main.c, line 202 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Is there a reason this is seperated from the append and write checks. Same for the one in the posix file.

yes, because it's over written later if it's wrong. Where as in an else if, the latter will take precedence, and + will be appended if needed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/526#issuecomment-265983813,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/android/main.c, line 199 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
FYI -- android is strange, so it's probably better to not try to mix posix with android.

In a lot of (our) cases the logic of the functions is identical. The main difference is that Android has a stupid folder hierarchy.
See e.g. native_remove_file, native_get_file and flush_file

src/android/main.c, line 201 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why is this a function?

To make native_get_file half the length and easier to read.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/526#issuecomment-266178108,This change is‚ÄÇ,"Reviewed 1 of 2 files at r2.
Review status: 2 of 3 files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/android/main.c, line 201 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
To make native_get_file half the length and easier to read.

I personally like it being a function. I agree with @robinlinden that it makes it easier to read.

src/android/main.c, line 202 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
yes, because it's over written later if it's wrong. Where as in an else if, the latter will take precedence, and + will be appended if needed.

OK.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/526#issuecomment-266178168,This change is‚ÄÇ,"I just noticed that it doesn't compile on windows and OSX.
 

Review status: 2 of 3 files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/526#issuecomment-266220262,This change is‚ÄÇ,"Fixed the incorrect function declarations and native_create_dir missing from cocoa, so it passes Travis now.

Review status: 1 of 5 files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/526#issuecomment-266220740,This change is‚ÄÇ,"Reviewed 2 of 4 files at r3.
Review status: 3 of 5 files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/526#issuecomment-266220810,This change is‚ÄÇ,"Reviewed 2 of 4 files at r3.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/526#issuecomment-266246953,This change is‚ÄÇ,"+@endoffile78 yours to approve

Reviewed 1 of 2 files at r2, 3 of 4 files at r3.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/main.h, line 313 at r3 (raw file):

FILE *native_get_file(const char *name, size_t *size, UTOX_FILE_OPTS opts);

conflicts with other pull, needs to be uint8_t

src/android/main.c, line 199 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
In a lot of (our) cases the logic of the functions is identical. The main difference is that Android has a stupid folder hierarchy.
See e.g. native_remove_file, native_get_file and flush_file

I'm all for it, but not in this pull.  We'll take a week and update/work on android

src/android/main.c, line 201 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
I personally like it being a function. I agree with @robinlinden that it makes it easier to read.

LGTM just rename it opts to sysmode or something like that naming should be WHATYOUGIVE_to_WHATYOUGET

src/windows/filesys.c, line 40 at r3 (raw file):

}

FILE *native_get_file(const char *name, size_t *size, UTOX_FILE_OPTS opts) {

uint8

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/526#issuecomment-266255753,This change is‚ÄÇ,"Reviewed 1 of 4 files at r3.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/526#issuecomment-266256014,This change is‚ÄÇ,"Review status: 2 of 6 files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/main.h, line 313 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
conflicts with other pull, needs to be uint8_t

Done.

src/android/main.c, line 199 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I'm all for it, but not in this pull.  We'll take a week and update/work on android

Agreed.

src/android/main.c, line 201 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
LGTM just rename it opts to sysmode or something like that naming should be WHATYOUGIVE_to_WHATYOUGET

Done.

src/windows/filesys.c, line 40 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
uint8

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/526#issuecomment-266256240,This change is‚ÄÇ,"Reviewed 5 of 5 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/endoffile78,14,https://github.com/uTox/uTox/pull/526#issuecomment-266264846,This change is‚ÄÇ,"Reviewed 3 of 5 files at r4, 2 of 2 files at r5.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,526,2016-12-09T02:42:15Z,2016-12-12T04:45:22Z,2017-01-25T19:43:50Z,MERGED,True,117,55,6,https://github.com/robinlinden,Fix POSIX native_get_file.,7,"['PR: READY', 'pla:cocoa', 'pla:xlib', 'pla:android']",https://github.com/uTox/uTox/pull/526,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/526#issuecomment-266341950,This change is‚ÄÇ,"Reviewed 2 of 2 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/527,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/527#issuecomment-266178283,This change is‚ÄÇ,"src/util.c, line 611 at r1 (raw file):

    size_t size = 0;

    FILE *fp = native_get_file((char *)filepath, &size, UTOX_FILE_OPTS_READ);

@robinlinden what are we doing with this? char or u8?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/527#issuecomment-266178400,This change is‚ÄÇ,"Reviewed 6 of 8 files at r1.
Review status: 6 of 8 files reviewed at latest revision, 3 unresolved discussions.

src/friend.c, line 303 at r1 (raw file):

    messages_clear_all(&f->msg);

    utox_remove_friend_chatlog(f->id_str);

BTW, eventually we should consider moving this into friend.c But that's OOS for this

src/messages.c, line 385 at r1 (raw file):

bool messages_read_from_log(uint32_t friend_number) {
    size_t    actual_count = 0;
    uint8_t **data         = utox_load_chatlog(friend[friend_number].id_str, &actual_count, UTOX_MAX_BACKLOG_MESSAGES, 0);

revert this, its' fixed in file_transfers.c

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/527#issuecomment-266178668,This change is‚ÄÇ,"Review status: 6 of 8 files reviewed at latest revision, 3 unresolved discussions.

src/friend.c, line 303 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
BTW, eventually we should consider moving this into friend.c But that's OOS for this

I agree.

src/messages.c, line 385 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
revert this, its' fixed in file_transfers.c

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/527#issuecomment-266189762,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: 7 of 8 files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/527#issuecomment-266191868,This change is‚ÄÇ,"Review status: 7 of 8 files reviewed at latest revision, 1 unresolved discussion.

src/util.c, line 611 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
@robinlinden what are we doing with this? char or u8?

@robinlinden says we're using u8 for names exclusively. drop this typecast, and change the native_get_file() functions as needed.
They should accept a u8

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/527#issuecomment-266210990,This change is‚ÄÇ,"Review status: 7 of 12 files reviewed at latest revision, 1 unresolved discussion.

src/util.c, line 611 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
@robinlinden says we're using u8 for names exclusively. drop this typecast, and change the native_get_file() functions as needed.
They should accept a u8

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/527#issuecomment-266213072,This change is‚ÄÇ,"Reviewed 6 of 6 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/527#issuecomment-266242767,This change is‚ÄÇ,"Reviewed 1 of 8 files at r1, 5 of 6 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/527#issuecomment-266358192,This change is‚ÄÇ,"Reviewed 6 of 12 files at r4.
Review status: 6 of 7 files reviewed at latest revision, 1 unresolved discussion.

src/main.c, line 191 at r4 (raw file):

    if (append) {
        return native_get_file(name, NULL, UTOX_FILE_OPTS_READ   | UTOX_FILE_OPTS_WRITE |

this will catch an assert() now drop the write opt

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/527#issuecomment-266451006,This change is‚ÄÇ,"Reviewed 1 of 12 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/main.c, line 191 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this will catch an assert() now drop the write opt

Rebasing on develop would fix this.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,527,2016-12-10T04:22:16Z,2016-12-13T04:46:47Z,2017-02-12T21:33:43Z,MERGED,True,7,6,5,https://github.com/endoffile78,Fix warnings,1,[],https://github.com/uTox/uTox/pull/527,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/527#issuecomment-266639578,This change is‚ÄÇ,"Reviewed 2 of 7 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,530,2016-12-10T15:51:13Z,2016-12-10T23:16:12Z,2017-02-12T21:34:42Z,MERGED,True,16,0,1,https://github.com/endoffile78,Add .editorconfig,1,[],https://github.com/uTox/uTox/pull/530,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/530,"Here is the description of EditorConfig from their website:

EditorConfig helps developers define and maintain consistent coding styles between different editors    and IDEs. The EditorConfig project consists of a file format for defining coding styles and a collection of text editor plugins that enable editors to read the file format and adhere to defined styles. EditorConfig files are easily readable and they work nicely with version control systems.



This change is‚ÄÇ","Here is the description of EditorConfig from their website:

EditorConfig helps developers define and maintain consistent coding styles between different editors    and IDEs. The EditorConfig project consists of a file format for defining coding styles and a collection of text editor plugins that enable editors to read the file format and adhere to defined styles. EditorConfig files are easily readable and they work nicely with version control systems.



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,530,2016-12-10T15:51:13Z,2016-12-10T23:16:12Z,2017-02-12T21:34:42Z,MERGED,True,16,0,1,https://github.com/endoffile78,Add .editorconfig,1,[],https://github.com/uTox/uTox/pull/530,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/530#issuecomment-266247480,"Here is the description of EditorConfig from their website:

EditorConfig helps developers define and maintain consistent coding styles between different editors    and IDEs. The EditorConfig project consists of a file format for defining coding styles and a collection of text editor plugins that enable editors to read the file format and adhere to defined styles. EditorConfig files are easily readable and they work nicely with version control systems.



This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,531,2016-12-10T17:39:37Z,2016-12-12T09:48:57Z,2017-01-25T19:43:14Z,MERGED,True,50,32,5,https://github.com/robinlinden,Fix chat logging,1,[],https://github.com/uTox/uTox/pull/531,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/531,"Merge after #526


This change is‚ÄÇ","Merge after #526


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,531,2016-12-10T17:39:37Z,2016-12-12T09:48:57Z,2017-01-25T19:43:14Z,MERGED,True,50,32,5,https://github.com/robinlinden,Fix chat logging,1,[],https://github.com/uTox/uTox/pull/531,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/531#issuecomment-266246249,"Merge after #526


This change is‚ÄÇ","Reviewed 4 of 8 files at r1.
Review status: 4 of 8 files reviewed at latest revision, 3 unresolved discussions.

src/main.c, line 201 at r1 (raw file):

    }

    fseeko(fp, 0, SEEK_END);

seek to the beginning first. I want this code to work, and I know that I've had issues with this on windows. But I don't remember where.
Add a comment explaining why. We seek to the start first.

src/main.c, line 305 at r1 (raw file):

                    *size = 0;
                }
                

Set you editor to trim trailing whitespace on save.

src/messages.c, line 379 at r1 (raw file):

        }
        default: { 
            debug(""uTox Logging:\tUnsupported file type %i\n"", msg->msg_type); 

debug_notice and it's should read message type, not file type

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,531,2016-12-10T17:39:37Z,2016-12-12T09:48:57Z,2017-01-25T19:43:14Z,MERGED,True,50,32,5,https://github.com/robinlinden,Fix chat logging,1,[],https://github.com/uTox/uTox/pull/531,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/531#issuecomment-266255114,"Merge after #526


This change is‚ÄÇ","Review status: 2 of 8 files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/main.c, line 201 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
seek to the beginning first. I want this code to work, and I know that I've had issues with this on windows. But I don't remember where.
Add a comment explaining why. We seek to the start first.

Done.

src/main.c, line 305 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Set you editor to trim trailing whitespace on save.

Done.

src/messages.c, line 379 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
debug_notice and it's should read message type, not file type

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,531,2016-12-10T17:39:37Z,2016-12-12T09:48:57Z,2017-01-25T19:43:14Z,MERGED,True,50,32,5,https://github.com/robinlinden,Fix chat logging,1,[],https://github.com/uTox/uTox/pull/531,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/531#issuecomment-266255614,"Merge after #526


This change is‚ÄÇ","Reviewed 3 of 8 files at r1, 2 of 2 files at r2.
Review status: 7 of 8 files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/android/main.c, line 218 at r2 (raw file):

    }

    mode[3] = '\0';

mode[3] =0;

src/android/main.c, line 229 at r2 (raw file):

    if (opts > UTOX_FILE_OPTS_DELETE) {
        debug_error(""NATIVE:\tDon't call native_get_file with UTOX_FILE_OPTS_DELETE in combination with other options.\n"");

do we want this to be an assert? users shouldn't see this, only developers

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,531,2016-12-10T17:39:37Z,2016-12-12T09:48:57Z,2017-01-25T19:43:14Z,MERGED,True,50,32,5,https://github.com/robinlinden,Fix chat logging,1,[],https://github.com/uTox/uTox/pull/531,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/531#issuecomment-266255625,"Merge after #526


This change is‚ÄÇ","Reviewed 1 of 8 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,531,2016-12-10T17:39:37Z,2016-12-12T09:48:57Z,2017-01-25T19:43:14Z,MERGED,True,50,32,5,https://github.com/robinlinden,Fix chat logging,1,[],https://github.com/uTox/uTox/pull/531,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/531#issuecomment-266256238,"Merge after #526


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/android/main.c, line 218 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
mode[3] =0;

Fixing this in the POSIX native PR.

src/android/main.c, line 229 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
do we want this to be an assert? users shouldn't see this, only developers

We do, but this isn't in scope for this PR. Will make the change in the POSIX native PR.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,531,2016-12-10T17:39:37Z,2016-12-12T09:48:57Z,2017-01-25T19:43:14Z,MERGED,True,50,32,5,https://github.com/robinlinden,Fix chat logging,1,[],https://github.com/uTox/uTox/pull/531,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/531#issuecomment-266256727,"Merge after #526


This change is‚ÄÇ","Review status: 4 of 9 files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/android/main.c, line 218 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Fixing this in the POSIX native PR.

Fixed it in the other PR and rebased on top of that.

src/android/main.c, line 229 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
We do, but this isn't in scope for this PR. Will make the change in the POSIX native PR.

Fixed it in the other PR and rebased on top of that.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,531,2016-12-10T17:39:37Z,2016-12-12T09:48:57Z,2017-01-25T19:43:14Z,MERGED,True,50,32,5,https://github.com/robinlinden,Fix chat logging,1,[],https://github.com/uTox/uTox/pull/531,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/531#issuecomment-266343388,"Merge after #526


This change is‚ÄÇ","Reviewed 5 of 5 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/windows/filesys.c, line 53 at r3 (raw file):

    }

    if (opts > UTOX_FILE_OPTS_DELETE) {

BTW
TFW, no assert here üò¢

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,531,2016-12-10T17:39:37Z,2016-12-12T09:48:57Z,2017-01-25T19:43:14Z,MERGED,True,50,32,5,https://github.com/robinlinden,Fix chat logging,1,[],https://github.com/uTox/uTox/pull/531,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/531#issuecomment-266343739,"Merge after #526


This change is‚ÄÇ","Reviewed 2 of 8 files at r1, 2 of 2 files at r2, 5 of 5 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,531,2016-12-10T17:39:37Z,2016-12-12T09:48:57Z,2017-01-25T19:43:14Z,MERGED,True,50,32,5,https://github.com/robinlinden,Fix chat logging,1,[],https://github.com/uTox/uTox/pull/531,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/531#issuecomment-266384951,"Merge after #526


This change is‚ÄÇ","Reviewed 4 of 7 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,532,2016-12-11T13:44:30Z,2016-12-12T04:50:56Z,2017-01-25T19:43:52Z,MERGED,True,31,38,2,https://github.com/robinlinden,"Fix warnings, cleanup, and refactoring.",2,[],https://github.com/uTox/uTox/pull/532,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/532,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,532,2016-12-11T13:44:30Z,2016-12-12T04:50:56Z,2017-01-25T19:43:52Z,MERGED,True,31,38,2,https://github.com/robinlinden,"Fix warnings, cleanup, and refactoring.",2,[],https://github.com/uTox/uTox/pull/532,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/532#issuecomment-266291392,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,532,2016-12-11T13:44:30Z,2016-12-12T04:50:56Z,2017-01-25T19:43:52Z,MERGED,True,31,38,2,https://github.com/robinlinden,"Fix warnings, cleanup, and refactoring.",2,[],https://github.com/uTox/uTox/pull/532,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/532#issuecomment-266342828,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,533,2016-12-11T15:29:21Z,2016-12-12T02:11:50Z,2017-01-25T19:43:54Z,MERGED,True,5,3,1,https://github.com/robinlinden,Add more things to .editorconfig,1,[],https://github.com/uTox/uTox/pull/533,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/533,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,533,2016-12-11T15:29:21Z,2016-12-12T02:11:50Z,2017-01-25T19:43:54Z,MERGED,True,5,3,1,https://github.com/robinlinden,Add more things to .editorconfig,1,[],https://github.com/uTox/uTox/pull/533,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/533#issuecomment-266290506,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,533,2016-12-11T15:29:21Z,2016-12-12T02:11:50Z,2017-01-25T19:43:54Z,MERGED,True,5,3,1,https://github.com/robinlinden,Add more things to .editorconfig,1,[],https://github.com/uTox/uTox/pull/533,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/533#issuecomment-266327917,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,534,2016-12-12T11:15:29Z,2016-12-13T04:27:16Z,2016-12-21T09:32:26Z,MERGED,True,556,537,9,https://github.com/GrayHatter,Minor refactor to split off the uTox code from the Toxcore code,2,[],https://github.com/uTox/uTox/pull/534,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/534,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,534,2016-12-12T11:15:29Z,2016-12-13T04:27:16Z,2016-12-21T09:32:26Z,MERGED,True,556,537,9,https://github.com/GrayHatter,Minor refactor to split off the uTox code from the Toxcore code,2,[],https://github.com/uTox/uTox/pull/534,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/534#issuecomment-266440108,This change is‚ÄÇ,"Looks good except that you forgot to change tox_message to utox_message in the cocoa files.

Reviewed 8 of 8 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,534,2016-12-12T11:15:29Z,2016-12-13T04:27:16Z,2016-12-21T09:32:26Z,MERGED,True,556,537,9,https://github.com/GrayHatter,Minor refactor to split off the uTox code from the Toxcore code,2,[],https://github.com/uTox/uTox/pull/534,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/534#issuecomment-266560195,This change is‚ÄÇ,"Done

Review status: 8 of 9 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,534,2016-12-12T11:15:29Z,2016-12-13T04:27:16Z,2016-12-21T09:32:26Z,MERGED,True,556,537,9,https://github.com/GrayHatter,Minor refactor to split off the uTox code from the Toxcore code,2,[],https://github.com/uTox/uTox/pull/534,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/534#issuecomment-266561522,This change is‚ÄÇ,"Reviewed 8 of 8 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,534,2016-12-12T11:15:29Z,2016-12-13T04:27:16Z,2016-12-21T09:32:26Z,MERGED,True,556,537,9,https://github.com/GrayHatter,Minor refactor to split off the uTox code from the Toxcore code,2,[],https://github.com/uTox/uTox/pull/534,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/534#issuecomment-266566438,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,535,2016-12-12T11:26:53Z,2016-12-13T04:48:17Z,2016-12-13T04:48:20Z,CLOSED,False,27,43,4,https://github.com/GrayHatter,Fix various warnings,3,[],https://github.com/uTox/uTox/pull/535,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/535,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,535,2016-12-12T11:26:53Z,2016-12-13T04:48:17Z,2016-12-13T04:48:20Z,CLOSED,False,27,43,4,https://github.com/GrayHatter,Fix various warnings,3,[],https://github.com/uTox/uTox/pull/535,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/535#issuecomment-266446310,This change is‚ÄÇ,The commits in this PR are a subset of the commits in #536. Want to drop the refactor commit from this PR and the two warning commits from #536?,True,{}
uTox/uTox,https://github.com/uTox/uTox,536,2016-12-12T11:47:48Z,2016-12-13T04:37:53Z,2016-12-21T09:32:26Z,MERGED,True,70,87,5,https://github.com/GrayHatter,Fix saving and loading of friend's metadata,6,[],https://github.com/uTox/uTox/pull/536,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/536,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,536,2016-12-12T11:47:48Z,2016-12-13T04:37:53Z,2016-12-21T09:32:26Z,MERGED,True,70,87,5,https://github.com/GrayHatter,Fix saving and loading of friend's metadata,6,[],https://github.com/uTox/uTox/pull/536,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/536#issuecomment-266624660,This change is‚ÄÇ,"Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/util.c, line 786 at r1 (raw file):

    snprintf((char *)dest, UTOX_FILE_NAME_LENGTH, ""%.*s.fmetadata"", TOX_PUBLIC_KEY_SIZE * 2, f->id_str);

    FILE *file = native_get_file((uint8_t *)dest, NULL, UTOX_FILE_OPTS_WRITE);

This is never closed and check to make sure the file was opened.

src/util.c, line 803 at r1 (raw file):

    }

    uint8_t *data = calloc(1, total_size);

Check that memory was allocated.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,536,2016-12-12T11:47:48Z,2016-12-13T04:37:53Z,2016-12-21T09:32:26Z,MERGED,True,70,87,5,https://github.com/GrayHatter,Fix saving and loading of friend's metadata,6,[],https://github.com/uTox/uTox/pull/536,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/536#issuecomment-266637448,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/util.c, line 786 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
This is never closed and check to make sure the file was opened.

Done.

src/util.c, line 803 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Check that memory was allocated.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,536,2016-12-12T11:47:48Z,2016-12-13T04:37:53Z,2016-12-21T09:32:26Z,MERGED,True,70,87,5,https://github.com/GrayHatter,Fix saving and loading of friend's metadata,6,[],https://github.com/uTox/uTox/pull/536,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/536#issuecomment-266638011,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,537,2016-12-12T12:09:01Z,2016-12-13T04:37:10Z,2016-12-13T04:37:16Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Fix the checked friend list size var for av calls,0,[],https://github.com/uTox/uTox/pull/537,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/537,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,537,2016-12-12T12:09:01Z,2016-12-13T04:37:10Z,2016-12-13T04:37:16Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Fix the checked friend list size var for av calls,0,[],https://github.com/uTox/uTox/pull/537,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/537#issuecomment-266449689,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/av/video.c, line 259 at r1 (raw file):

                }

                uint32_t i, active_video_count = 0;

size_t in audio.c but uint32_t here? Also, move the declaration of i into the for loop setup.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,537,2016-12-12T12:09:01Z,2016-12-13T04:37:10Z,2016-12-13T04:37:16Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Fix the checked friend list size var for av calls,0,[],https://github.com/uTox/uTox/pull/537,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/537#issuecomment-266638179,This change is‚ÄÇ,"Review status: 2 of 3 files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/av/video.c, line 259 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
size_t in audio.c but uint32_t here? Also, move the declaration of i into the for loop setup.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,537,2016-12-12T12:09:01Z,2016-12-13T04:37:10Z,2016-12-13T04:37:16Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Fix the checked friend list size var for av calls,0,[],https://github.com/uTox/uTox/pull/537,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/537#issuecomment-266638438,This change is‚ÄÇ,"Reviewed 2 of 3 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,538,2016-12-13T03:16:57Z,2016-12-13T04:56:56Z,2017-02-12T21:33:42Z,MERGED,True,16,10,2,https://github.com/endoffile78,Fix autoaccept,1,[],https://github.com/uTox/uTox/pull/538,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/538,"Base on #536 because it fixes reading and writing friend metadata.

This change is‚ÄÇ","Base on #536 because it fixes reading and writing friend metadata.

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,538,2016-12-13T03:16:57Z,2016-12-13T04:56:56Z,2017-02-12T21:33:42Z,MERGED,True,16,10,2,https://github.com/endoffile78,Fix autoaccept,1,[],https://github.com/uTox/uTox/pull/538,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/538#issuecomment-266641349,"Base on #536 because it fixes reading and writing friend metadata.

This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,539,2016-12-13T07:04:38Z,2016-12-13T07:21:59Z,2016-12-21T09:32:24Z,MERGED,True,15,12,4,https://github.com/GrayHatter,Version 0.9.8 => 0.11.0,1,[],https://github.com/uTox/uTox/pull/539,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/539,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,539,2016-12-13T07:04:38Z,2016-12-13T07:21:59Z,2016-12-21T09:32:24Z,MERGED,True,15,12,4,https://github.com/GrayHatter,Version 0.9.8 => 0.11.0,1,[],https://github.com/uTox/uTox/pull/539,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/539#issuecomment-266664103,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,540,2016-12-13T07:26:34Z,2016-12-13T21:43:47Z,2016-12-13T21:43:47Z,MERGED,True,19194,17162,176,https://github.com/GrayHatter,v0.11.0 to master,390,[],https://github.com/uTox/uTox/pull/540,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/540,"@endoffile78 @robinlinden no need to actually review, just want you to be aware.
And maybe hit the LGTM button, master enforces the checks on admins.


This change is‚ÄÇ","@endoffile78 @robinlinden no need to actually review, just want you to be aware.
And maybe hit the LGTM button, master enforces the checks on admins.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,540,2016-12-13T07:26:34Z,2016-12-13T21:43:47Z,2016-12-13T21:43:47Z,MERGED,True,19194,17162,176,https://github.com/GrayHatter,v0.11.0 to master,390,[],https://github.com/uTox/uTox/pull/540,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/540#issuecomment-266666369,"@endoffile78 @robinlinden no need to actually review, just want you to be aware.
And maybe hit the LGTM button, master enforces the checks on admins.


This change is‚ÄÇ","Review status: 0 of 174 files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,540,2016-12-13T07:26:34Z,2016-12-13T21:43:47Z,2016-12-13T21:43:47Z,MERGED,True,19194,17162,176,https://github.com/GrayHatter,v0.11.0 to master,390,[],https://github.com/uTox/uTox/pull/540,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/540#issuecomment-266684352,"@endoffile78 @robinlinden no need to actually review, just want you to be aware.
And maybe hit the LGTM button, master enforces the checks on admins.


This change is‚ÄÇ","Reviewed 177 of 177 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,540,2016-12-13T07:26:34Z,2016-12-13T21:43:47Z,2016-12-13T21:43:47Z,MERGED,True,19194,17162,176,https://github.com/GrayHatter,v0.11.0 to master,390,[],https://github.com/uTox/uTox/pull/540,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/540#issuecomment-266685273,"@endoffile78 @robinlinden no need to actually review, just want you to be aware.
And maybe hit the LGTM button, master enforces the checks on admins.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,540,2016-12-13T07:26:34Z,2016-12-13T21:43:47Z,2016-12-13T21:43:47Z,MERGED,True,19194,17162,176,https://github.com/GrayHatter,v0.11.0 to master,390,[],https://github.com/uTox/uTox/pull/540,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/540#issuecomment-266685419,"@endoffile78 @robinlinden no need to actually review, just want you to be aware.
And maybe hit the LGTM button, master enforces the checks on admins.


This change is‚ÄÇ","Reviewed 177 of 177 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,540,2016-12-13T07:26:34Z,2016-12-13T21:43:47Z,2016-12-13T21:43:47Z,MERGED,True,19194,17162,176,https://github.com/GrayHatter,v0.11.0 to master,390,[],https://github.com/uTox/uTox/pull/540,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/540#issuecomment-266722938,"@endoffile78 @robinlinden no need to actually review, just want you to be aware.
And maybe hit the LGTM button, master enforces the checks on admins.


This change is‚ÄÇ","Reviewed 177 of 177 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,541,2016-12-13T22:06:55Z,2016-12-20T21:51:43Z,2016-12-20T21:51:43Z,MERGED,True,5,5,3,https://github.com/endoffile78,Version tick,1,[],https://github.com/uTox/uTox/pull/541,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/541,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,541,2016-12-13T22:06:55Z,2016-12-20T21:51:43Z,2016-12-20T21:51:43Z,MERGED,True,5,5,3,https://github.com/endoffile78,Version tick,1,[],https://github.com/uTox/uTox/pull/541,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/541#issuecomment-267260026,This change is‚ÄÇ,"good catch on the cmake

Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,541,2016-12-13T22:06:55Z,2016-12-20T21:51:43Z,2016-12-20T21:51:43Z,MERGED,True,5,5,3,https://github.com/endoffile78,Version tick,1,[],https://github.com/uTox/uTox/pull/541,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/541#issuecomment-267768955,This change is‚ÄÇ,"Needs to be changed in https://github.com/uTox/uTox/blob/develop/src/android/AndroidManifest.xml#L3 too.

Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,541,2016-12-13T22:06:55Z,2016-12-20T21:51:43Z,2016-12-20T21:51:43Z,MERGED,True,5,5,3,https://github.com/endoffile78,Version tick,1,[],https://github.com/uTox/uTox/pull/541,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/541#issuecomment-267769699,This change is‚ÄÇ,"Looks like it's time to write a version update script.
‚Ä¶
On Sat, Dec 17, 2016 at 7:35 AM, Robin Lind√©n ***@***.***> wrote:
 Needs to be changed in https://github.com/uTox/uTox/
 blob/develop/src/android/AndroidManifest.xml#L3 too.
 ------------------------------

 Reviewed 2 of 2 files at r1.
 Review status: all files reviewed at latest revision, all discussions
 resolved, some commit checks failed.
 ------------------------------

 *Comments from Reviewable
 <https://reviewable.io:443/reviews/utox/utox/541#-:-KZCOxeZ10GuUpxEZAjG:b5bioub>*

 ‚Äî
 You are receiving this because you commented.
 Reply to this email directly, view it on GitHub
 <#541 (comment)>, or mute
 the thread
 <https://github.com/notifications/unsubscribe-auth/AAO20C79E2Guy-Yvwjuo4XP8hR54TDgqks5rJAE1gaJpZM4LMSRv>
 .",True,{}
uTox/uTox,https://github.com/uTox/uTox,541,2016-12-13T22:06:55Z,2016-12-20T21:51:43Z,2016-12-20T21:51:43Z,MERGED,True,5,5,3,https://github.com/endoffile78,Version tick,1,[],https://github.com/uTox/uTox/pull/541,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/541#issuecomment-267784209,This change is‚ÄÇ,@robinlinden Done.,True,{}
uTox/uTox,https://github.com/uTox/uTox,541,2016-12-13T22:06:55Z,2016-12-20T21:51:43Z,2016-12-20T21:51:43Z,MERGED,True,5,5,3,https://github.com/endoffile78,Version tick,1,[],https://github.com/uTox/uTox/pull/541,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/541#issuecomment-267785086,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,541,2016-12-13T22:06:55Z,2016-12-20T21:51:43Z,2016-12-20T21:51:43Z,MERGED,True,5,5,3,https://github.com/endoffile78,Version tick,1,[],https://github.com/uTox/uTox/pull/541,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/541#issuecomment-267931802,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,542,2016-12-14T11:01:13Z,2016-12-17T21:50:04Z,2016-12-18T00:00:59Z,MERGED,True,37,18,2,https://github.com/GrayHatter,Force toxcore >= v0.1,2,[],https://github.com/uTox/uTox/pull/542,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/542,This change is‚ÄÇ,This change is‚ÄÇ,True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,542,2016-12-14T11:01:13Z,2016-12-17T21:50:04Z,2016-12-18T00:00:59Z,MERGED,True,37,18,2,https://github.com/GrayHatter,Force toxcore >= v0.1,2,[],https://github.com/uTox/uTox/pull/542,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/542#issuecomment-267365530,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/main.h, line 48 at r1 (raw file):

// YAY!!
#else
  #error ""Unable to compile uTox with this Toxcore version. TOO OLD!""

This error will trigger when we reach v0.2.0 which is too new. How about ""This version of uTox requires Toxcore v0.1.x"" or something along those lines?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,542,2016-12-14T11:01:13Z,2016-12-17T21:50:04Z,2016-12-18T00:00:59Z,MERGED,True,37,18,2,https://github.com/GrayHatter,Force toxcore >= v0.1,2,[],https://github.com/uTox/uTox/pull/542,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/542#issuecomment-267762423,This change is‚ÄÇ,"Review status: 1 of 2 files reviewed at latest revision, 1 unresolved discussion.

src/main.h, line 48 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This error will trigger when we reach v0.2.0 which is too new. How about ""This version of uTox requires Toxcore v0.1.x"" or something along those lines?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,542,2016-12-14T11:01:13Z,2016-12-17T21:50:04Z,2016-12-18T00:00:59Z,MERGED,True,37,18,2,https://github.com/GrayHatter,Force toxcore >= v0.1,2,[],https://github.com/uTox/uTox/pull/542,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/542#issuecomment-267768634,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,542,2016-12-14T11:01:13Z,2016-12-17T21:50:04Z,2016-12-18T00:00:59Z,MERGED,True,37,18,2,https://github.com/GrayHatter,Force toxcore >= v0.1,2,[],https://github.com/uTox/uTox/pull/542,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/542#issuecomment-267783940,This change is‚ÄÇ,"Reviewed 1 of 2 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,546,2016-12-16T14:57:27Z,2016-12-17T15:27:38Z,2016-12-17T15:27:42Z,MERGED,True,18,13,2,https://github.com/robinlinden,Fix segv in ft_find_resumeable in file_transfer.c on Windows,3,[],https://github.com/uTox/uTox/pull/546,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/546,"Also stop Windows native_get_file from creating files when passing READ to it.
Also silences warnings RE: not creating files when passing READ to native_get_file.


This change is‚ÄÇ","Also stop Windows native_get_file from creating files when passing READ to it.
Also silences warnings RE: not creating files when passing READ to native_get_file.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,546,2016-12-16T14:57:27Z,2016-12-17T15:27:38Z,2016-12-17T15:27:42Z,MERGED,True,18,13,2,https://github.com/robinlinden,Fix segv in ft_find_resumeable in file_transfer.c on Windows,3,[],https://github.com/uTox/uTox/pull/546,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/546#issuecomment-267702424,"Also stop Windows native_get_file from creating files when passing READ to it.
Also silences warnings RE: not creating files when passing READ to native_get_file.


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,546,2016-12-16T14:57:27Z,2016-12-17T15:27:38Z,2016-12-17T15:27:42Z,MERGED,True,18,13,2,https://github.com/robinlinden,Fix segv in ft_find_resumeable in file_transfer.c on Windows,3,[],https://github.com/uTox/uTox/pull/546,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/546#issuecomment-267709901,"Also stop Windows native_get_file from creating files when passing READ to it.
Also silences warnings RE: not creating files when passing READ to native_get_file.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/file_transfers.c, line 193 at r1 (raw file):

    if (!resume_data.in_use
        || resume_data.in_memory

this is wrong
it need to be && (...)
¬†    if ((!resume_data.in_use || !resume_data.resumeable)
        && ( resume_data.in_memory
            || resume_data.avatar
            || resume_data.inline_img)) { // We don't want to resume these 3

src/windows/filesys.c, line 95 at r1 (raw file):

    if (fp == NULL) {
        if (opts > UTOX_FILE_OPTS_READ) {
            debug_error(""Windows:\tCould not open %s\n"", path);

This is a notice, not an error

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,546,2016-12-16T14:57:27Z,2016-12-17T15:27:38Z,2016-12-17T15:27:42Z,MERGED,True,18,13,2,https://github.com/robinlinden,Fix segv in ft_find_resumeable in file_transfer.c on Windows,3,[],https://github.com/uTox/uTox/pull/546,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/546#issuecomment-267716645,"Also stop Windows native_get_file from creating files when passing READ to it.
Also silences warnings RE: not creating files when passing READ to native_get_file.


This change is‚ÄÇ","Review status: 0 of 2 files reviewed at latest revision, 2 unresolved discussions.

src/file_transfers.c, line 193 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this is wrong
it need to be && (...)
¬†    if ((!resume_data.in_use || !resume_data.resumeable)
        && ( resume_data.in_memory
            || resume_data.avatar
            || resume_data.inline_img)) { // We don't want to resume these 3

So if in_memory, avatar, and inline_img are all false, we want to try to resume a file_transfer with resumeable and/or in_use being false?

src/windows/filesys.c, line 95 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This is a notice, not an error

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,546,2016-12-16T14:57:27Z,2016-12-17T15:27:38Z,2016-12-17T15:27:42Z,MERGED,True,18,13,2,https://github.com/robinlinden,Fix segv in ft_find_resumeable in file_transfer.c on Windows,3,[],https://github.com/uTox/uTox/pull/546,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/546#issuecomment-267746391,"Also stop Windows native_get_file from creating files when passing READ to it.
Also silences warnings RE: not creating files when passing READ to native_get_file.


This change is‚ÄÇ","Review status: 0 of 2 files reviewed at latest revision, 2 unresolved discussions.

src/file_transfers.c, line 193 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
So if in_memory, avatar, and inline_img are all false, we want to try to resume a file_transfer with resumeable and/or in_use being false?

No, you're right, I screwed up
We don't resume inline images, nor avatar, nor other memory files.
We don't hold on to the data, if it's only stored in memory. So those files should have never be saved. And just to be sure, we don't restart them either.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,546,2016-12-16T14:57:27Z,2016-12-17T15:27:38Z,2016-12-17T15:27:42Z,MERGED,True,18,13,2,https://github.com/robinlinden,Fix segv in ft_find_resumeable in file_transfer.c on Windows,3,[],https://github.com/uTox/uTox/pull/546,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/546#issuecomment-267752724,"Also stop Windows native_get_file from creating files when passing READ to it.
Also silences warnings RE: not creating files when passing READ to native_get_file.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,546,2016-12-16T14:57:27Z,2016-12-17T15:27:38Z,2016-12-17T15:27:42Z,MERGED,True,18,13,2,https://github.com/robinlinden,Fix segv in ft_find_resumeable in file_transfer.c on Windows,3,[],https://github.com/uTox/uTox/pull/546,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/546#issuecomment-267761241,"Also stop Windows native_get_file from creating files when passing READ to it.
Also silences warnings RE: not creating files when passing READ to native_get_file.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,547,2016-12-17T01:55:06Z,2016-12-20T21:51:43Z,2017-02-12T21:33:41Z,MERGED,True,16,94,3,https://github.com/endoffile78,Update tools,1,[],https://github.com/uTox/uTox/pull/547,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/547,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,547,2016-12-17T01:55:06Z,2016-12-20T21:51:43Z,2017-02-12T21:33:41Z,MERGED,True,16,94,3,https://github.com/endoffile78,Update tools,1,[],https://github.com/uTox/uTox/pull/547,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/547#issuecomment-267736311,This change is‚ÄÇ,"Reviewed 1 of 2 files at r1.
Review status: 1 of 2 files reviewed at latest revision, 1 unresolved discussion.

tools/update-chanelog.sh, line 3 at r1 (raw file):

#!/bin/bash

if [[ -z $1 ]]; then

can we save the token in the .git config?
git config user.github_token

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,547,2016-12-17T01:55:06Z,2016-12-20T21:51:43Z,2017-02-12T21:33:41Z,MERGED,True,16,94,3,https://github.com/endoffile78,Update tools,1,[],https://github.com/uTox/uTox/pull/547,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/547#issuecomment-267737201,This change is‚ÄÇ,"Review status: 1 of 2 files reviewed at latest revision, 1 unresolved discussion.

tools/update-chanelog.sh, line 3 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
can we save the token in the .git config?
git config user.github_token

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,547,2016-12-17T01:55:06Z,2016-12-20T21:51:43Z,2017-02-12T21:33:41Z,MERGED,True,16,94,3,https://github.com/endoffile78,Update tools,1,[],https://github.com/uTox/uTox/pull/547,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/547#issuecomment-267746299,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,547,2016-12-17T01:55:06Z,2016-12-20T21:51:43Z,2017-02-12T21:33:41Z,MERGED,True,16,94,3,https://github.com/endoffile78,Update tools,1,[],https://github.com/uTox/uTox/pull/547,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/547#issuecomment-267746302,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,547,2016-12-17T01:55:06Z,2016-12-20T21:51:43Z,2017-02-12T21:33:41Z,MERGED,True,16,94,3,https://github.com/endoffile78,Update tools,1,[],https://github.com/uTox/uTox/pull/547,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/547#issuecomment-267768194,This change is‚ÄÇ,"You might want to rename the file to update-changelog.sh (missing g)

Reviewed 1 of 2 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,547,2016-12-17T01:55:06Z,2016-12-20T21:51:43Z,2017-02-12T21:33:41Z,MERGED,True,16,94,3,https://github.com/endoffile78,Update tools,1,[],https://github.com/uTox/uTox/pull/547,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/547#issuecomment-267783645,This change is‚ÄÇ,@robinlinden Done.,True,{}
uTox/uTox,https://github.com/uTox/uTox,547,2016-12-17T01:55:06Z,2016-12-20T21:51:43Z,2017-02-12T21:33:41Z,MERGED,True,16,94,3,https://github.com/endoffile78,Update tools,1,[],https://github.com/uTox/uTox/pull/547,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/547#issuecomment-267786379,This change is‚ÄÇ,"Reviewed 2 of 2 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,547,2016-12-17T01:55:06Z,2016-12-20T21:51:43Z,2017-02-12T21:33:41Z,MERGED,True,16,94,3,https://github.com/endoffile78,Update tools,1,[],https://github.com/uTox/uTox/pull/547,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/547#issuecomment-267932606,This change is‚ÄÇ,"Reviewed 2 of 2 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,548,2016-12-17T18:01:51Z,2016-12-20T21:51:44Z,2017-01-25T19:43:18Z,MERGED,True,11,7,1,https://github.com/robinlinden,Update OS X plist to use the correct version number.,1,[],https://github.com/uTox/uTox/pull/548,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/548,"For information about what the keys mean, see: https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html


This change is‚ÄÇ","For information about what the keys mean, see: https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,548,2016-12-17T18:01:51Z,2016-12-20T21:51:44Z,2017-01-25T19:43:18Z,MERGED,True,11,7,1,https://github.com/robinlinden,Update OS X plist to use the correct version number.,1,[],https://github.com/uTox/uTox/pull/548,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/548#issuecomment-267789425,"For information about what the keys mean, see: https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,548,2016-12-17T18:01:51Z,2016-12-20T21:51:44Z,2017-01-25T19:43:18Z,MERGED,True,11,7,1,https://github.com/robinlinden,Update OS X plist to use the correct version number.,1,[],https://github.com/uTox/uTox/pull/548,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/548#issuecomment-267800059,"For information about what the keys mean, see: https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/550,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/550#issuecomment-267850319,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 24 of 53 files at r1.
Review status: 24 of 53 files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/550#issuecomment-267931318,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ",Updated the OP with a todo list,True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/550#issuecomment-269058984,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 21 of 54 files at r1, 3 of 16 files at r2, 1 of 15 files at r5, 1 of 14 files at r6.
Review status: 32 of 68 files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

CMakeLists.txt, line 139 at r3 (raw file):

        src/xlib/keysym2ucs.h
        src/xlib/main.c
        src/xlib/main.h

Why was this removed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/550#issuecomment-269066446,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ",This is how it could look like in the first stage:,True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/550#issuecomment-269074093,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: 0 of 71 files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

CMakeLists.txt, line 139 at r3 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Why was this removed.

cmake scans the files for dependencies. All files that need to be rebuilt because of a header change will, and as they don't contain any useful information/code outside of functions that already include them. There's no reason to list them here.
http://voices.canonical.com/jussi.pakkanen/2013/03/26/a-list-of-common-cmake-antipatterns/

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,7,https://github.com/uTox/uTox/pull/550#issuecomment-269143767,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 53 of 54 files at r1, 1 of 16 files at r2, 1 of 15 files at r17.
Review status: 1 of 75 files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

CMakeLists.txt, line 139 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
cmake scans the files for dependencies. All files that need to be rebuilt because of a header change will, and as they don't contain any useful information/code outside of functions that already include them. There's no reason to list them here.
http://voices.canonical.com/jussi.pakkanen/2013/03/26/a-list-of-common-cmake-antipatterns/

we might remove more headers from cmake then (not in this PR though)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,8,https://github.com/uTox/uTox/pull/550#issuecomment-269154370,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","can not say much about other platforms but lunux 

Reviewed 1 of 15 files at r5, 29 of 72 files at r8, 9 of 15 files at r9, 2 of 15 files at r17, 3 of 6 files at r18, 3 of 8 files at r19, 7 of 9 files at r20, 1 of 2 files at r21.
Review status: 53 of 54 files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/notify.h, line 1 at r21 (raw file):

#include ""window.h""

no ifndef/define here?

src/ui/edit.c, line 819 at r21 (raw file):

    edit_redraw();
    }

looks wrong.

src/ui/layout_notify.h, line 2 at r21 (raw file):

#ifndef LAYOUT_ROOT_H
#define LAYOUT_ROOT_H

not ROOT but NOTIFY here.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,9,https://github.com/uTox/uTox/pull/550#issuecomment-269155025,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","here is a bug I noticed while testing the actual functionality of utox:

Settings -> Profile: focusing any text field will focus the status message, not the field I clicked on, also ""show"" and ""copy"" buttons do nothing. actually the whole settings UI does not respond to clicks properly after this. Sidebar seems fine though.",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/550#issuecomment-269217503,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 15 files at r5, 29 of 72 files at r8, 9 of 15 files at r9, 3 of 15 files at r17, 4 of 6 files at r18, 3 of 8 files at r19, 7 of 9 files at r20, 2 of 2 files at r21.
Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

CMakeLists.txt, line 139 at r3 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
we might remove more headers from cmake then (not in this PR though)

Ok.

src/windows/notify.c, line 22 at r21 (raw file):

};

static struct n_block list[20] = { 0 };

Why 20?

src/xlib/tray.h, line 7 at r21 (raw file):

#include <X11/Xlib.h>

#define SYSTEM_TRAY_REQUEST_DOCK 0

Should these defines be an enum?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/550#issuecomment-269225469,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 15 files at r5, 34 of 72 files at r8, 10 of 15 files at r9, 3 of 15 files at r17, 3 of 6 files at r18, 4 of 8 files at r19, 6 of 9 files at r20, 2 of 2 files at r21.
Review status: all files reviewed at latest revision, 50 unresolved discussions, some commit checks failed.

src/notify.c, line 10 at r21 (raw file):

UTOX_WINDOW *notify_new(void) {
    debug(""Notify:\tCreating Notification #%u\n"", notification_number);

debug_notice?

src/notify.c, line 16 at r21 (raw file):

    int notify_w = 400;

All ints in this function should be const.

src/notify.c, line 36 at r21 (raw file):

    // mbstowcs(title, pre, title_size);

    UTOX_WINDOW *w = (UTOX_WINDOW *)window_create_notify(x, y, notify_w, notify_h);

You don't need this cast.

src/ui.c, line 85 at r21 (raw file):

    CREATE_BUTTON(avatar, SIDEBAR_AVATAR_LEFT, SIDEBAR_AVATAR_TOP, BM_CONTACT_WIDTH, BM_CONTACT_WIDTH);
    CREATE_BUTTON(name, SIDEBAR_NAME_LEFT, SIDEBAR_NAME_TOP, SIDEBAR_NAME_WIDTH, SIDEBAR_NAME_HEIGHT - SCALE(2));

Can we change SIDEBAR_NAME_HEIGHT in ui.h to be SCALE(2) less instead of doing maths here?

src/ui.c, line 87 at r21 (raw file):

    CREATE_BUTTON(name, SIDEBAR_NAME_LEFT, SIDEBAR_NAME_TOP, SIDEBAR_NAME_WIDTH, SIDEBAR_NAME_HEIGHT - SCALE(2));
    CREATE_BUTTON(status_msg, SIDEBAR_STATUSMSG_LEFT, SIDEBAR_STATUSMSG_TOP,
                  (SELF_STATUS_ICON_LEFT - SIDEBAR_STATUSMSG_LEFT - SCALE(2)), SIDEBAR_STATUSMSG_HEIGHT - SCALE(2));

Why is this not using SIDEBAR_STATUSMSG_WIDTH?
Edit SIDEBAR_STATUSMSG_HEIGHT to be SCALE(2) less if possible.

src/ui.c, line 111 at r21 (raw file):

    CREATE_BUTTON(settings, SIDEBAR_BUTTON_LEFT, ROSTER_BOTTOM, SIDEBAR_BUTTON_WIDTH, SIDEBAR_BUTTON_HEIGHT);
    CREATE_BUTTON(add_new_contact, SIDEBAR_BUTTON_LEFT, ROSTER_BOTTOM, SIDEBAR_BUTTON_WIDTH, SIDEBAR_BUTTON_HEIGHT);
    b_add_new_contact.disabled = true;

Change this to button_add_new_contact.panel.disabled = true; since that's how it is used in all other files.

src/utox.c, line 7 at r21 (raw file):

#include ""friend.h""
#include ""main_native.h""
#include ""notify.h""

This include isn't required (right now).

src/window.h, line 14 at r21 (raw file):

    int x, y, w, h;

    /* TODO do we want to include ui.c here to use PANEL here? */

We can forward declare it since it's a pointer. No need to include ui.c

src/ui/buttons.c, line 12 at r21 (raw file):

#include ""../theme.h""

#include ""../notify.h""

Why is this not together with the other includes?

src/ui/buttons.c, line 746 at r21 (raw file):

static void btn_test_notify_mup(void) {
    debug(""button test\n"");

debug_notice && FIXME: Remove

src/ui/buttons.c, line 750 at r21 (raw file):

}

BUTTON button_test_notify = {

FIXME: Remove

src/ui/buttons.c, line 757 at r21 (raw file):

static void btn_move_notify_mup(void) {
    debug(""button tween\n"");

debug_notice

src/ui/buttons.h, line 34 at r21 (raw file):

                button_move_window,
                button_test_notify,

FIXME: Remove

src/ui/layout_all.h, line 1 at r21 (raw file):

#include ""layout_root.h""

Add header guards to this file.

src/ui/layout_root.h, line 272 at r21 (raw file):

            .drawfunc = draw_settings_header,
            .child = (PANEL*[]) {
                (PANEL*)&button_test_notify,

// FIXME: Remove this.

src/windows/main.c, line 1318 at r21 (raw file):

            mouse_tracked = false;
            btn_move_window_down = false;
            debug(""mouse leave\n"");

debug_notice?

src/windows/notify.c, line 51 at r21 (raw file):

static void redraw_notify(void) {
    debug_error(""redraw start\n"");

Not an error.

src/windows/notify.c, line 60 at r21 (raw file):

            SelectObject(active_DC, active_BM);

            panel_draw(&panel_notify, 0, 0, 400, 150);

I keep seeing 400 and 150. Maybe turn them into NOTIFICATION_WIDTH and HEIGHT?

src/windows/notify.c, line 64 at r21 (raw file):

        }
    }
    debug_error(""redraw end\n"");

Not an error.

src/windows/notify.c, line 67 at r21 (raw file):

}

void enddraw_notify(int x, int y, int width, int height) {

Shouldn't this be static?

src/windows/notify.c, line 79 at r21 (raw file):

static uint16_t notification_number = 0;

static LRESULT CALLBACK notify_msg_sys(HWND window, UINT msg, WPARAM wParam, LPARAM lParam) {

The return values for this are really weird. false when it creates a window, paints, or does nothing. True when it does nothing, and an LRESULT if DefWindowProcW runs.

src/windows/notify.c, line 112 at r21 (raw file):

        case WM_CREATE: {
            debug_error(""NOTIFY::\tCreate\n"");

Not an error.

src/windows/notify.c, line 117 at r21 (raw file):

                win->draw_DC = CreateCompatibleDC(win->main_DC);
                win->mem_DC  = CreateCompatibleDC(win->draw_DC);
                return 0;

Use true or false instead of 1 and 0.

src/windows/screen_grab.c, line 4 at r21 (raw file):

#include ""../tox.h""
#include ""../flist.h""

Sort these.

src/windows/screen_grab.c, line 17 at r21 (raw file):

    NATIVE_IMAGE *image = malloc(sizeof(NATIVE_IMAGE));
    if (image == NULL) {
        debug(""create_utox_image:\t Could not allocate memory for image.\n"");

debug_error?

src/windows/screen_grab.c, line 39 at r21 (raw file):

            .biSize        = sizeof(BITMAPINFOHEADER),
            .biWidth       = width,
            .biHeight      = -(int)height,

No cast needed.

src/windows/screen_grab.c, line 65 at r21 (raw file):

    int size = 0;
    uint8_t *out = stbi_write_png_to_mem(bits, 0, width, height, 3, &size);

Make this a UTOX_IMAGE *.

src/windows/screen_grab.c, line 119 at r21 (raw file):

                video_grab_h -= video_grab_y;
            } else {
                const int w  = video_grab_y - video_grab_h;

Should be h instead of w

src/windows/window.c, line 2 at r21 (raw file):

#include ""main.h""

#include ""window.h""

src/windows/window.c, line 7 at r21 (raw file):

    return NULL;
}

Shouldn't all these functions be prefixed with native_?

src/windows/window.c, line 25 at r21 (raw file):

}

void winodw_create_screen_select() {

s/winodw/window

src/windows/window.h, line 5 at r21 (raw file):

#include ""main.h""

#include ""../window.h""

src/windows/window.h, line 12 at r21 (raw file):

HWND window_create_notify(HWND parent, wchar_t *class, wchar_t *title, int x, int y, int w, int h);

void winodw_create_screen_select();

s/winodw/window

src/xlib/drawing.c, line 3 at r21 (raw file):

#include ""drawing.h""

#include ""window.h""

Sort these

src/xlib/event.c, line 171 at r21 (raw file):

        }
    }
    debug(""ButtonEvent: %u %u\n"", event->state, event->button);

debug_notice

src/xlib/event.c, line 174 at r21 (raw file):

}

static bool popup_event(XEvent event, UTOX_WINDOW *popup) {

Function only returns true.

src/xlib/event.c, line 180 at r21 (raw file):

            debug_error(""expose\n"");
            draw_window_set(popup);
            panel_draw(&panel_notify, 0, 0, 400, 150);

Make 400, 150 const variables or defines. They're everywhere and if we ever want to change the dimensions..

src/xlib/event.c, line 184 at r21 (raw file):

            break;
        }
        case ClientMessage: {

This case is missing breaks.

src/xlib/event.c, line 189 at r21 (raw file):

            Atom ping = XInternAtom(display, ""_NET_WM_PING"", 0);
            if ((Atom)event.xclient.data.l[0] == ping) {
                debug_error(""ping\n"");

Error?

src/xlib/event.c, line 210 at r21 (raw file):

        case EnterNotify: {
            debug_error(""EVENT: set focus\n"");

Not an error.

src/xlib/event.c, line 218 at r21 (raw file):

            break;
        }
        default :{

default: {

src/xlib/event.c, line 288 at r21 (raw file):

            #endif

            havefocus      = 1;

true

src/xlib/event.c, line 305 at r21 (raw file):

            #endif

            havefocus = 0;

false

src/xlib/tray.c, line 128 at r21 (raw file):

            XConfigureEvent *ev = &event.xconfigure;
            if (tray_window._.w != ev->width || tray_window._.h != ev->height) {
                debug(""Tray resized w:%i h:%i\n"", ev->width, ev->height);

debug_notice?

src/xlib/tray.h, line 11 at r21 (raw file):

#define SYSTEM_TRAY_CANCEL_MESSAGE 2

#include ""tray.h""

tray.h includes tray.h?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/550#issuecomment-269279943,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 50 unresolved discussions, some commit checks failed.

src/notify.c, line 10 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
debug_notice?

I'll change all the debugs to something proper in  one of the last few commits

src/ui.c, line 85 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Can we change SIDEBAR_NAME_HEIGHT in ui.h to be SCALE(2) less instead of doing maths here?

we can, but not in this pull.

src/ui/edit.c, line 819 at r21 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
looks wrong.

fixed in an un-pushed commit

src/windows/main.c, line 1318 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
debug_notice?

debug_trace() // doesnt' exist yet, but we were talking about it on irc, and in a recent GH issue

src/windows/notify.c, line 22 at r21 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Why 20?

will be gone

src/windows/notify.c, line 51 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Not an error.

I wanted it loud, removed

src/windows/notify.c, line 60 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I keep seeing 400 and 150. Maybe turn them into NOTIFICATION_WIDTH and HEIGHT?

I have plans to select a size by notification type, just not sure how yet. If I don't decide a way, I will make them #DEFINED

src/windows/notify.c, line 67 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Shouldn't this be static?

it's going to be removed

src/windows/notify.c, line 112 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Not an error.

will be removed or replaced with _trace

src/windows/window.c, line 25 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
s/winodw/window

fixed

src/xlib/event.c, line 171 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
debug_notice

_trace

src/xlib/event.c, line 180 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Make 400, 150 const variables or defines. They're everywhere and if we ever want to change the dimensions..

these here will need to be pulled from the UTOX_WINDOW struct

src/xlib/event.c, line 189 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Error?

I didn't want to miss it if it happened

src/xlib/event.c, line 210 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Not an error.

will remove

src/xlib/event.c, line 288 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
true

I may end up removing this one, not sure yet

src/xlib/tray.h, line 11 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
tray.h includes tray.h?

that doesn't seem right...

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,13,https://github.com/uTox/uTox/pull/550#issuecomment-270601596,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 20 of 20 files at r22.
Review status: all files reviewed at latest revision, 50 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/550#issuecomment-271078466,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 50 unresolved discussions, some commit checks failed.

src/notify.c, line 16 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
All ints in this function should be const.

Done.

src/notify.c, line 36 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You don't need this cast.

Done.

src/notify.h, line 1 at r21 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
no ifndef/define here?

Done.

src/ui.c, line 87 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Why is this not using SIDEBAR_STATUSMSG_WIDTH?
Edit SIDEBAR_STATUSMSG_HEIGHT to be SCALE(2) less if possible.

not in this pull, open an issue

src/ui.c, line 111 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Change this to button_add_new_contact.panel.disabled = true; since that's how it is used in all other files.

not in this pull, open an issue

src/utox.c, line 7 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This include isn't required (right now).

Done.

src/ui/buttons.c, line 12 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Why is this not together with the other includes?

I am/was considering deleting it.

src/ui/edit.c, line 819 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
fixed in an un-pushed commit

Done.

src/ui/layout_all.h, line 1 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Add header guards to this file.

Done.

src/ui/layout_notify.h, line 2 at r21 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
not ROOT but NOTIFY here.

THANK YOU!!! that's a bug that would have taken me days to solve.

src/windows/notify.c, line 64 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Not an error.

Done.

src/windows/notify.c, line 67 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
it's going to be removed

Done.

src/windows/notify.c, line 79 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
The return values for this are really weird. false when it creates a window, paints, or does nothing. True when it does nothing, and an LRESULT if DefWindowProcW runs.

Yeah, there's some magic that I can't find documentation for now.

src/windows/notify.c, line 117 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Use true or false instead of 1 and 0.

Done.

src/windows/screen_grab.c, line 4 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Sort these.

Done.

src/windows/screen_grab.c, line 17 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
debug_error?

Done.

src/windows/screen_grab.c, line 39 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
No cast needed.

Done.

src/windows/screen_grab.c, line 65 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Make this a UTOX_IMAGE *.

Done.

src/windows/screen_grab.c, line 119 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Should be h instead of w

Done.

src/windows/window.c, line 2 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
#include ""window.h""

Done.

src/windows/window.c, line 7 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Shouldn't all these functions be prefixed with native_?

Done.

src/windows/window.h, line 5 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
#include ""../window.h""

Done.

src/windows/window.h, line 12 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
s/winodw/window

Done.

src/xlib/drawing.c, line 3 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Sort these

Done.

src/xlib/event.c, line 171 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
_trace

Done.

src/xlib/event.c, line 184 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This case is missing breaks.

Done.

src/xlib/event.c, line 218 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
default: {

Done.

src/xlib/event.c, line 305 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
false

Done.

src/xlib/tray.c, line 128 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
debug_notice?

Done.

src/xlib/tray.h, line 7 at r21 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Should these defines be an enum?

Not in this pull

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,15,https://github.com/uTox/uTox/pull/550#issuecomment-271095554,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 13 of 20 files at r22, 14 of 14 files at r23.
Review status: all files reviewed at latest revision, 55 unresolved discussions, some commit checks failed.

src/windows/events.c, line 12 at r23 (raw file):

#include ""../flist.h""
#include ""../friend.h""
#include ""../main.h""

main.h is included more than once and delete the onee that aren't needed

src/windows/events.c, line 67 at r23 (raw file):

    static int mdown_x, mdown_y;

    if (main_window.window && window != main_window.window) {if (msg == WM_DESTROY) {

Move ths if at the end of the line to the a new line

src/windows/events.h, line 4 at r23 (raw file):

#define WIN_EVENTS_H

#include ""main.h"" // this is just lazy, we can do better

Replace this what is actually needed.

src/windows/window.c, line 36 at r23 (raw file):

void native_window_raze(UTOX_WINDOW *window) {

Function does nothing.

src/windows/window.c, line 110 at r23 (raw file):

    if (!popup) {
        popup = calloc(1, sizeof(UTOX_WINDOW)); // FIXME leaks

Make sure memory was allocated.

src/windows/window.c, line 141 at r23 (raw file):

void native_window_tween(UTOX_WINDOW *win) {
    return;

Function does nothing

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,16,https://github.com/uTox/uTox/pull/550#issuecomment-271128283,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 7 of 20 files at r22, 6 of 14 files at r23, 8 of 8 files at r24.
Review status: all files reviewed at latest revision, 27 unresolved discussions, some commit checks failed.

src/ui/buttons.c, line 12 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I am/was considering deleting it.

Decided yet?

src/windows/notify.c, line 51 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I wanted it loud, removed

Still here.

src/windows/notify.c, line 60 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I have plans to select a size by notification type, just not sure how yet. If I don't decide a way, I will make them #DEFINED

Can you have a look at this or add a TODO so it's easy to see what needs to be done?

src/windows/notify.c, line 112 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
will be removed or replaced with _trace

Still here. Add a FIXME about debug messages at the top of the file and we'll sort it out before next release.

src/windows/notify.c, line 1 at r24 (raw file):

#include ""main.h""

This file doesn't include windows/notify.h

src/windows/window.h, line 12 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Done.

Typo is still there, but you commented it out, so fine, I guess. :<

src/xlib/event.c, line 171 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Done.

Forgot to commit it.

src/xlib/event.c, line 174 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Function only returns true.

Add a TODO or something to make this obvious if anyone wants to fix it.

src/xlib/event.c, line 180 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
these here will need to be pulled from the UTOX_WINDOW struct

You're blocking this comment. It's not super-urgent, so add a TODO or FIXME and we'll get to it before next release.

src/xlib/event.c, line 210 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
will remove

You're blocking this even though you fixed it.

src/xlib/tray.h, line 7 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Not in this pull

Can you add a TODO?

src/xlib/tray.h, line 11 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
that doesn't seem right...

This isn't fixed yet.

src/ui/edit.c, line 819 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Done.

You're blocking this even though you fixed it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,17,https://github.com/uTox/uTox/pull/550#issuecomment-271128728,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 26 unresolved discussions, some commit checks failed.

src/window.h, line 14 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
We can forward declare it since it's a pointer. No need to include ui.c

Done.
I'm going to leave it as a void pointer for now, we can reassess when @robinlinden has finished the abstraction from native that he's working on.

src/ui/buttons.c, line 12 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Decided yet?

Done, and gone.

src/ui/buttons.c, line 746 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
debug_notice && FIXME: Remove

Done.

src/ui/buttons.c, line 750 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
FIXME: Remove

Done.

src/ui/buttons.c, line 757 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
debug_notice

Done.

src/ui/buttons.h, line 34 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
FIXME: Remove

Done.

src/ui/layout_notify.h, line 2 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
THANK YOU!!! that's a bug that would have taken me days to solve.

Done.

src/ui/layout_root.h, line 272 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
// FIXME: Remove this.

Done.

src/windows/events.c, line 12 at r23 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
main.h is included more than once and delete the onee that aren't needed

Done.

src/windows/events.c, line 67 at r23 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Move ths if at the end of the line to the a new line

Done.

src/windows/events.h, line 4 at r23 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Replace this what is actually needed.

Done.

src/windows/notify.c, line 51 at r21 (raw file):

.>


src/windows/notify.c, line 60 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Can you have a look at this or add a TODO so it's easy to see what needs to be done?

TODONE

src/windows/notify.c, line 112 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Still here. Add a FIXME about debug messages at the top of the file and we'll sort it out before next release.

going to delay until next pull

src/windows/notify.c, line 1 at r24 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This file doesn't include windows/notify.h

Done.

src/windows/window.c, line 36 at r23 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Function does nothing.

currently unimplemented per IRC,

src/windows/window.c, line 110 at r23 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Make sure memory was allocated.

Done.

src/windows/window.c, line 141 at r23 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Function does nothing

Working on windows is painful... and I don't want to.
No the real issue is that I'm not putting more work into it without know what this is supposed to do, and I don't have the UX mocked up yet.

src/windows/window.h, line 12 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Typo is still there, but you commented it out, so fine, I guess. :<

They don't reflect the actual names of the .c file so the header needs a lot of work.

src/xlib/event.c, line 171 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Forgot to commit it.

trace doesn't exist yet, and adding it would be OOS

src/xlib/event.c, line 174 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Add a TODO or something to make this obvious if anyone wants to fix it.

Done.

src/xlib/event.c, line 180 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You're blocking this comment. It's not super-urgent, so add a TODO or FIXME and we'll get to it before next release.

Done.

src/xlib/event.c, line 210 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You're blocking this even though you fixed it.

thank you

src/xlib/tray.h, line 7 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Can you add a TODO?

I'm not convinced that's a good idea. I have to look at the respective headers
either way, TODO added

src/xlib/tray.h, line 11 at r21 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This isn't fixed yet.

now it is.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,18,https://github.com/uTox/uTox/pull/550#issuecomment-271156731,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 15 files at r5, 1 of 72 files at r8, 1 of 20 files at r22, 5 of 8 files at r24, 30 of 31 files at r25.
Review status: all files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

src/ui/tree/notify.c, line 2 at r25 (raw file):

#ifndef UI_TREE_NOTIFY_H
#define UI_TREE_NOTIFY_H

Why is there a header gaurd here.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,19,https://github.com/uTox/uTox/pull/550#issuecomment-271178922,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/ui/tree/notify.c, line 2 at r25 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Why is there a header gaurd here.

because copy/paste isn't as magic as I'd like it to be

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,20,https://github.com/uTox/uTox/pull/550#issuecomment-271179292,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 1 files at r26.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,21,https://github.com/uTox/uTox/pull/550#issuecomment-272643152,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 44 of 44 files at r27.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,22,https://github.com/uTox/uTox/pull/550#issuecomment-272760892,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 15 files at r5, 1 of 72 files at r8, 3 of 14 files at r23, 15 of 31 files at r25, 1 of 1 files at r26, 29 of 44 files at r27.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,23,https://github.com/uTox/uTox/pull/550#issuecomment-275983551,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: 26 of 65 files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

CMakeLists.txt, line 1 at r28 (raw file):

cmake_minimum_required(VERSION 3.2)

Commenting at r28
Revision 28 -> * is going to be a rename refactor with a lot of trivial changes when taken alone

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,24,https://github.com/uTox/uTox/pull/550#issuecomment-275984007,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: 20 of 65 files reviewed at latest revision, 5 unresolved discussions.

CMakeLists.txt, line 1 at r29 (raw file):

cmake_minimum_required(VERSION 3.2)

rename done at r29

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,25,https://github.com/uTox/uTox/pull/550#issuecomment-275987336,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","I've started refactoring the UI tree and layout. Avoid touching it else you may lose changes.

Review status: 20 of 65 files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,26,https://github.com/uTox/uTox/pull/550#issuecomment-276210349,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ",@karlhto can you take a look at this and tell me how hard it would be to port these functions/apis to macos?,True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,27,https://github.com/uTox/uTox/pull/550#issuecomment-276241489,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Lots and lots of variables should be const, but we can do that in post. Just add it where you can while making further changes to the files.

Reviewed 1 of 19 files at r5, 1 of 76 files at r8, 1 of 20 files at r22, 2 of 37 files at r25, 13 of 45 files at r28, 4 of 16 files at r29, 47 of 56 files at r30.
Review status: 75 of 93 files reviewed at latest revision, 37 unresolved discussions, some commit checks failed.

src/layout/friend.c, line 164 at r30 (raw file):

PANEL panel_friend = {

The panel definition indentations and styles vary from file to file.

src/layout/friend.c, line 282 at r30 (raw file):

        debug(""Accept Call: %u\n"", f->number);
        postmessage_toxcore(TOX_CALL_ANSWER, f->number, 0, NULL);
    } else {

else if (f->online)

src/layout/friend.c, line 326 at r30 (raw file):

        debug(""Accept Call (video): %u %u\n"", f->number, f->call_state_friend);
        postmessage_toxcore(TOX_CALL_ANSWER, f->number, 1, NULL);
    } else {

else if (f->online)

src/layout/friend.c, line 377 at r30 (raw file):

    .bh           = _BM_ADD_WIDTH,
    .update       = button_menu_update,
    .on_mup      = button_add_new_contact_on_mup,

Align all of them or drop the alignment altogether.

src/layout/friend.c, line 386 at r30 (raw file):

    .bm          = BM_SBUTTON,
    .button_text = {.i18nal = STR_ADD },
    .update   = button_setcolors_success,

Align all of them or drop the alignment altogether. This goes for all struct definitions.

src/layout/friend.c, line 486 at r30 (raw file):

/* Button to send chat message */
static void button_chat_send_on_mup(void) {
    if (flist_get_selected()->item == ITEM_FRIEND) {

Is this check needed? Why isn't it on other buttons if it is?

src/layout/friend.h, line 4 at r30 (raw file):

#define LAYOUT_FRIEND_H

#include ""../ui/button.h""

Same as the other files. Drop includes and forward-declare.

src/layout/group.c, line 38 at r30 (raw file):

    uint32_t i = 0;
    unsigned k = MAIN_LEFT + SCALE(60);

What's k?

src/layout/group.c, line 41 at r30 (raw file):

    unsigned int pos_y = 15;
    while (i < g->peer_count) {

Why is this not a for-loop?

src/layout/group.c, line 42 at r30 (raw file):

    unsigned int pos_y = 15;
    while (i < g->peer_count) {
        GROUP_PEER *peer = g->peer[i];

const

src/layout/group.c, line 46 at r30 (raw file):

        if (peer && peer->name_length) {
            char buf[TOX_MAX_NAME_LENGTH];
            int  text_length = snprintf((char *)buf, TOX_MAX_NAME_LENGTH, ""%.*s, "", (int)peer->name_length, peer->name);

const

src/layout/group.c, line 87 at r30 (raw file):

PANEL
panel_group = {

Indent this panel definition 1 level to match the rest.

src/layout/group.h, line 4 at r30 (raw file):

#define LAYOUT_GROUP_H

#include ""../ui/draw.h""

This file doesn't need any includes. Forward-declare SCROLLABLE and PANEL.

src/layout/notify.h, line 4 at r30 (raw file):

#define LAYOUT_NOTIFY_H

#include ""../ui/buttons.h""

Move to the .c and forward declare BUTTON and PANEL.

src/layout/root.h, line 4 at r30 (raw file):

#define LAYOUT_ROOT_H

#include ""tree.h""

Don't include yourself.

src/layout/root.h, line 6 at r30 (raw file):

#include ""tree.h""

#include ""group.h""

All of these go in root.c

src/layout/root.h, line 20 at r30 (raw file):

/* Root panel, hold all the other panels */

PANEL panel_root = {

Make the PANELs extern, add a root.c, and move the definition to there.

src/layout/settings.h, line 4 at r30 (raw file):

#define LAYOUT_SETTINGS_H

#include ""../ui/button.h""

Move to .c and forward-declare the structs instead.

src/layout/side_bar.h, line 1 at r30 (raw file):

#ifndef LAYOUT_SIDE_H

Rename this file and side_bar.c to sidebar.h & .c

src/layout/side_bar.h, line 4 at r30 (raw file):

#define LAYOUT_SIDE_H

#include ""../ui/button.h""

Forward-declare and move these to the .c.

src/layout/tree.h, line 1 at r30 (raw file):

#ifndef UI_TREE_H

LAYOUT_TREE_H

src/ui/button.h, line 4 at r30 (raw file):

#define BUTTON_H

#include ""../ui/panel.h""

panel.h

src/ui/buttons.h, line 4 at r30 (raw file):

#define UI_BUTTONS_H

#include ""button.h""

Forward-declare button and move this to buttons.c

src/ui/CMakeLists.txt, line 4 at r30 (raw file):

add_library(utoxUI STATIC
    ../layout/all.h

.h files shouldn't be required in here iirc. They're pulled automaticall by the .c files.

src/ui/draw_helpers.c, line 23 at r30 (raw file):

#include ""../layout/side_bar.h""

#include ""../main.h""

Why is main.h required now?

src/ui/edit.h, line 6 at r30 (raw file):

#include ""../ui.h""

#include ""../ui/panel.h""

""panel.h""

src/ui/edits.h, line 4 at r30 (raw file):

#define UI_EDITS_H

#include ""edit.h""

Move to edits.c and forward-declare EDIT.

src/ui/scrollable.h, line 4 at r30 (raw file):

#define SCROLLABLE_H

#include ""../ui.h""

You can drop this include now.

src/ui/scrollable.h, line 5 at r30 (raw file):

#include ""../ui.h""
#include ""../ui/panel.h""

""panel.h""

src/ui/switch.h, line 8 at r30 (raw file):

#include ""../ui.h""

#include ""../ui/panel.h""

""panel.h""

src/windows/drawing.h, line 5 at r30 (raw file):

// #include <windows.h>

This makes me happy, but this is still the weirdest header. :P

src/windows/events.c, line 97 at r30 (raw file):

#define setstatus(x)                                         \

This should be a function.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,28,https://github.com/uTox/uTox/pull/550#issuecomment-276316621,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: 75 of 93 files reviewed at latest revision, 35 unresolved discussions, some commit checks failed.

CMakeLists.txt, line 1 at r28 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Commenting at r28
Revision 28 -> * is going to be a rename refactor with a lot of trivial changes when taken alone

Done.

CMakeLists.txt, line 1 at r29 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
rename done at r29

Done.

src/layout/friend.c, line 164 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
The panel definition indentations and styles vary from file to file.

I know, I can't decide which one I like.
I'm probably going to take
TYPE
name = {

because that's the easiest to align, and other wise I'll obsess over it.

src/layout/friend.c, line 282 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
else if (f->online)

I was just copying over the functions as the were. I can make changes to if you'd like?

src/layout/friend.c, line 377 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Align all of them or drop the alignment altogether.

I'll make an alignment pass much closer the the end.

src/layout/friend.c, line 486 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Is this check needed? Why isn't it on other buttons if it is?

It should be everywhere, else we risk getting the wrong type.
We should consider creating a generic, and passing ONLY the current type.
E.g. flist_get_friend(); would return NULL if it was a group, or something else.

src/layout/group.c, line 38 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
What's k?

According to wikipedia ""K is the eleventh letter of the modern English alphabet and the ISO basic Latin alphabet. In English, the letter K usually represents the voiceless velar plosive.""

src/layout/group.c, line 87 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Indent this panel definition 1 level to match the rest.

I think this is the formatting I want to use for file inside layout/ Any objections?

src/layout/root.h, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Don't include yourself.

I'm hoping to delete this file when I'm done. Ideally tree.* as well.

src/layout/root.h, line 6 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
All of these go in root.c

see above

src/layout/tree.h, line 1 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
LAYOUT_TREE_H

I'm hoping this file will go away, I'm blocking because if I decide I need to keep it, I will do this.

src/ui/button.h, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
panel.h

did you know that ncurses has a system include called panel.h, did you also know that #include ""file.h"" will search in system includes?
One of these solutions is broken... I'm pretty sure it's both.
Either way I'm hoping to delete this line, near the end.

src/ui/buttons.h, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Forward-declare button and move this to buttons.c

This file will be deleted (everything inside is going to move to layout/)

src/ui/CMakeLists.txt, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
.h files shouldn't be required in here iirc. They're pulled automaticall by the .c files.

They need to be included while they contain code. That said, they should all be able to be removed at the end.
I'll do a final pass and fixup the CMakelists at the end.

src/ui/draw_helpers.c, line 23 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Why is main.h required now?

maybe for tox_therad_init? I don't know, I'm hoping I can delete this file at the end too.

src/ui/edits.h, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Move to edits.c and forward-declare EDIT.

This file will go away at the end (moved to layouts/)

src/windows/drawing.h, line 5 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This makes me happy, but this is still the weirdest header. :P

I've stopped working on this section of code, until I can fix the layout/ refactor.
Then hopefully I'll know what to do with this file (rm hopefully)

src/windows/events.c, line 97 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This should be a function.

Not making changes, just moving code

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,29,https://github.com/uTox/uTox/pull/550#issuecomment-276320670,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: 75 of 93 files reviewed at latest revision, 30 unresolved discussions, some commit checks failed.

src/layout/friend.c, line 164 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I know, I can't decide which one I like.
I'm probably going to take
TYPE
name = {

because that's the easiest to align, and other wise I'll obsess over it.

Sounds good.

src/layout/friend.c, line 282 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I was just copying over the functions as the were. I can make changes to if you'd like?

I thought that might be it, but I wasn't sure. Do as you like.

src/layout/friend.c, line 486 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
It should be everywhere, else we risk getting the wrong type.
We should consider creating a generic, and passing ONLY the current type.
E.g. flist_get_friend(); would return NULL if it was a group, or something else.

flist_get_friend or something similar sounds good.

src/layout/group.c, line 38 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
According to wikipedia ""K is the eleventh letter of the modern English alphabet and the ISO basic Latin alphabet. In English, the letter K usually represents the voiceless velar plosive.""

unsigned voiceless_velar_plosive so I don't have to wikipedia it.

src/layout/group.c, line 87 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I think this is the formatting I want to use for file inside layout/ Any objections?

No. Sounds good for as long as everything uses the same formatting.

src/ui/button.h, line 4 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
did you know that ncurses has a system include called panel.h, did you also know that #include ""file.h"" will search in system includes?
One of these solutions is broken... I'm pretty sure it's both.
Either way I'm hoping to delete this line, near the end.

What kind of broken OS are you on that pulls system includes without you using <panel.h>? ;)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,30,https://github.com/uTox/uTox/pull/550#issuecomment-277421672,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: 27 of 112 files reviewed at latest revision, 29 unresolved discussions.

src/notify.h, line 1 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Done.

done

src/layout/friend.c, line 164 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Sounds good.

Done.

src/layout/friend.c, line 386 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Align all of them or drop the alignment altogether. This goes for all struct definitions.

Done.

src/layout/friend.c, line 486 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
flist_get_friend or something similar sounds good.

Next pull then!

src/layout/friend.h, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Same as the other files. Drop includes and forward-declare.

Done.

src/layout/group.c, line 38 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
unsigned voiceless_velar_plosive so I don't have to wikipedia it.

Deferred

src/layout/group.c, line 41 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Why is this not a for-loop?

Not my code ctrl c/v only so deferred

src/layout/group.c, line 42 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
const

deferred

src/layout/group.c, line 46 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
const

deferred

src/layout/group.c, line 87 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
No. Sounds good for as long as everything uses the same formatting.

done

src/layout/group.h, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This file doesn't need any includes. Forward-declare SCROLLABLE and PANEL.

Done.

src/layout/notify.h, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Move to the .c and forward declare BUTTON and PANEL.

done

src/layout/settings.h, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Move to .c and forward-declare the structs instead.

Done.

src/layout/sidebar.h, line 1 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Rename this file and side_bar.c to sidebar.h & .c

Done.

src/layout/sidebar.h, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Forward-declare and move these to the .c.

Done.

src/ui/button.h, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
What kind of broken OS are you on that pulls system includes without you using <panel.h>? ;)

Done.

src/ui/buttons.h, line 4 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This file will be deleted (everything inside is going to move to layout/)

deleted

src/ui/CMakeLists.txt, line 4 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
They need to be included while they contain code. That said, they should all be able to be removed at the end.
I'll do a final pass and fixup the CMakelists at the end.

done

src/ui/draw_helpers.c, line 23 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
maybe for tox_therad_init? I don't know, I'm hoping I can delete this file at the end too.

deleted

src/ui/edit.h, line 6 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
""panel.h""

Done.

src/ui/edits.h, line 4 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This file will go away at the end (moved to layouts/)

deleted

src/ui/scrollable.h, line 4 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You can drop this include now.

Done.

src/ui/scrollable.h, line 5 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
""panel.h""

Done.

src/ui/switch.h, line 8 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
""panel.h""

Done.

src/windows/notify.c, line 112 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
going to delay until next pull

deferred

src/layout/layout_notify.h, line 2 at r21 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Done.

deleted

src/layout/root.h, line 6 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
see above

deleted

src/layout/root.h, line 20 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Make the PANELs extern, add a root.c, and move the definition to there.

deleted

src/layout/tree.h, line 1 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I'm hoping this file will go away, I'm blocking because if I decide I need to keep it, I will do this.

deleted

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,31,https://github.com/uTox/uTox/pull/550#issuecomment-277421902,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","@cebe @robinlinden @endoffile78
Please take a look, This should be ready to merge now-ish as it has some fixes and a better UI/layout refactor. Otherwise it's likely to go stale soon, as I'm not going to have much time to put into this.",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,32,https://github.com/uTox/uTox/pull/550#issuecomment-277457998,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 46 files at r27, 1 of 16 files at r29, 1 of 58 files at r30, 69 of 86 files at r31.
Review status: 93 of 112 files reviewed at latest revision, 21 unresolved discussions, some commit checks failed.

src/friend.c, line 177 at r31 (raw file):

}

#include ""layout/friend.h"" // TODO, remove this and sent the name differently

Included at least twice.

src/settings.c, line 109 at r31 (raw file):

    switch_udp.switch_on         = !save->disableudp;
    switch_proxy.switch_on       = save->proxyenable;
    switch_proxy_force.switch_on = save->proxyenable;

Shouldn't we be using the proxy_force switch instead of forcing the proxy for everyone with this toggled? If we're doing it this way, why do we even have the proxy_force switch?

src/tox.c, line 201 at r31 (raw file):

#include ""layout/settings.h""
#include ""layout/settings.h""

This is included in this file at least 4 times.. I must say that I'm not a fan of mixing includes into the rest of the code.

src/tox_callbacks.c, line 246 at r31 (raw file):

            if (!g->peer) {
                LOG_FATAL_ERR(44, ""Tox Callbacks"", ""Group:\tToxcore is very broken, but we couldn't alloc here."");
                exit(44);

Dead code. And we really need that header for exit codes. Now we have 2 different things to grep for before settling on a new exit code.

src/layout/all.h, line 1 at r30 (raw file):

#ifndef LAYOUT_ALL_H

Maybe delete this file instead of leaving an empty file checked in.

src/layout/extra.c, line 0 at r31 (raw file):
Where is button_add_new_device_to_self defined and why isn't it in here?

src/layout/settings.c, line 1107 at r31 (raw file):

static char edit_add_self_device_data[TOX_ADDRESS_SIZE * 4]
#endif
;

Does this compile with ENABLE_MULTIDEVICE set?
static char abc[2], def[4]
static char ghj[4];


src/layout/settings.c, line 1117 at r31 (raw file):

    update_tray();

    postmessage_toxcore(TOX_SELF_SET_NAME, length, 0, self.name); //!

What's this comment about?

src/layout/sidebar.c, line 158 at r31 (raw file):

    redraw();
    return;

No-op returns in this file.

src/layout/sidebar.c, line 165 at r31 (raw file):

    uint16_t length = edit->length;

    if (length == 76) {

If the string has the same length as a Tox ID, we add them right away even if we're not logged in? Shouldn't we maybe also check that this is a valid Tox ID or at least all hex?

src/layout/userbadge.c, line 55 at r31 (raw file):

        panel_settings_ui.disabled              = true;
        panel_settings_av.disabled              = true;
        panel_settings_adv.disabled             = true;

This case isn't setting any panel to enabled right now. I think it's meant to enable the advanced panel.

src/layout/userbadge.c, line 75 at r31 (raw file):

static void button_status_on_mup(void) {
    self.status++;
    if (self.status == 3) {

We need a typedef enum for status. What is 3?

src/layout/tree.h, line 1 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
deleted

You're blocking.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,33,https://github.com/uTox/uTox/pull/550#issuecomment-277469402,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 2 of 45 files at r28, 2 of 16 files at r29, 7 of 58 files at r30, 42 of 86 files at r31.
Review status: 97 of 112 files reviewed at latest revision, 22 unresolved discussions, some commit checks failed.

src/layout/friend.c, line 495 at r31 (raw file):

    if (flist_get_selected()->item == ITEM_FRIEND) {
        FRIEND *f = flist_get_selected()->data;
        f->ft_autoaccept = ! f->ft_autoaccept;

Is there supposed to be a space between the ! and f->autoaccept

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,34,https://github.com/uTox/uTox/pull/550#issuecomment-277501932,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: 97 of 112 files reviewed at latest revision, 21 unresolved discussions, some commit checks failed.

src/friend.c, line 177 at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Included at least twice.

Done.

src/settings.c, line 109 at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Shouldn't we be using the proxy_force switch instead of forcing the proxy for everyone with this toggled? If we're doing it this way, why do we even have the proxy_force switch?

Fixed and added a comment

src/tox.c, line 201 at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This is included in this file at least 4 times.. I must say that I'm not a fan of mixing includes into the rest of the code.

That's fine, I'll revert that style for everything outside of layout/ I suggest we keep that for the layout dir, because it's a good sign of what is a candidate for splitting into smaller files.
Fixed, commented.

src/tox_callbacks.c, line 246 at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Dead code. And we really need that header for exit codes. Now we have 2 different things to grep for before settling on a new exit code.

Agreed, but that's out of scope for this pull.
FYI, this pull also fixes the LOG_FATAL macro, so consider grepping for exit(and replacing with LOG_FATAL instead.

src/layout/all.h, line 1 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Maybe delete this file instead of leaving an empty file checked in.

Missed that one, thankyou fixed.

src/layout/extra.c, line  at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Where is button_add_new_device_to_self defined and why isn't it in here?

Because the current multidevice version of toxcore is out of date, and would require a lot of work in both uTox and toxcore to get working again, so instead of spending time on code that'd only be #ifdefd out, I decided to ignore that section.
I can delete this file, and header, but I'd rather leave it as a reminder that multidevice is still a thing.

src/layout/friend.c, line 495 at r31 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Is there supposed to be a space between the ! and f->autoaccept

no, fixed!

src/layout/settings.c, line 1107 at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Does this compile with ENABLE_MULTIDEVICE set?
static char abc[2], def[4]
static char ghj[4];


if not, it should :P fixed!

src/layout/settings.c, line 1117 at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
What's this comment about?

What comment? :D fixed

src/layout/sidebar.c, line 158 at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
No-op returns in this file.

Done.

src/layout/sidebar.c, line 165 at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
If the string has the same length as a Tox ID, we add them right away even if we're not logged in? Shouldn't we maybe also check that this is a valid Tox ID or at least all hex?

Yes, but that's out of scope, but I'm here, so I'll add a comment

src/layout/userbadge.c, line 55 at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This case isn't setting any panel to enabled right now. I think it's meant to enable the advanced panel.

Done.

src/layout/userbadge.c, line 75 at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
We need a typedef enum for status. What is 3?

active = 1, busy, do not disturb... It's DND I think,
Out of scope, comment added.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,35,https://github.com/uTox/uTox/pull/550#issuecomment-277502553,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","If you need travis to pass, you can push a commit to the branch that sets OSX as an allowed failure.",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,36,https://github.com/uTox/uTox/pull/550#issuecomment-277529731,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 45 files at r28, 2 of 16 files at r29, 5 of 58 files at r30, 14 of 86 files at r31, 9 of 9 files at r32.
Review status: all files reviewed at latest revision, 18 unresolved discussions, some commit checks failed.

src/tox_callbacks.c, line 246 at r31 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Agreed, but that's out of scope for this pull.
FYI, this pull also fixes the LOG_FATAL macro, so consider grepping for exit(and replacing with LOG_FATAL instead.

Yeah, we should be using LOG_FATAL + the exit code header. Will do in a different PR.

src/layout/friend.c, line 486 at r30 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Next pull then!

Can you add TODOs or FIXMEs for things like this (and all the deferred things) so I won't forget about it? Or are you planning on fixing it right away?
(I think this is the last round of comments.)

src/layout/group.c, line 534 at r32 (raw file):

}

#include ""../ui/edit.h""

Included at least twice. (Reviewing this is not easy.)

src/layout/notify.c, line 38 at r32 (raw file):

    setcolor(!button_name.mouseover ? COLOR_MENU_TEXT : COLOR_MENU_TEXT_SUBTEXT);
    setfont(FONT_SELF_NAME);
    drawtext(SIDEBAR_NAME_LEFT, SIDEBAR_NAME_TOP, ""This is a test of the new uTox popup"", 36);

What's left to be done on this before it's ""ready""? Can we get it done before next release? Alternatively, how easy would it be to disable this if we want to push a release before this is production-ready?

src/layout/notify.c, line 120 at r32 (raw file):

    .on_mup       = btn_notify_create_mup,
    .button_text  = {.i18nal = STR_SHOW },
    .tooltip_text = {.i18nal = STR_SHOW_UI_PASSWORD },

This doesn't look right..

src/layout/settings.c, line 1117 at r31 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
What comment? :D fixed

Lmao, oh you. :D

src/layout/userbadge.c, line 75 at r31 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
active = 1, busy, do not disturb... It's DND I think,
Out of scope, comment added.

Sorry about all the out of scope comments.. Just get to see a lot of new broken code when someone touches it. :P Adding //FIXME or //TODO is enough for most of the things I comment on.

src/windows/events.c, line 3 at r32 (raw file):

#include ""events.h""

#include ""main.h""

This isn't required when main_native is included.

src/xlib/event.c, line 1 at r32 (raw file):

#include ""main.h""

Not required when main_native is included.

src/xlib/video.c, line 2 at r32 (raw file):

#include ""window.h""
#include ""main.h""

Not required if main_native is included.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,37,https://github.com/uTox/uTox/pull/550#issuecomment-277543354,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 4 of 45 files at r28, 1 of 16 files at r29, 6 of 58 files at r30, 42 of 86 files at r31, 8 of 9 files at r32.
Review status: all files reviewed at latest revision, 14 unresolved discussions, some commit checks failed.

src/windows/events.c, line 3 at r32 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This isn't required when main_native is included.

main.h in this case is the main header for the windows version of utox not the global one.

src/xlib/event.c, line 1 at r32 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Not required when main_native is included.

This is the xlib main.h not the global one.

src/xlib/video.c, line 2 at r32 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Not required if main_native is included.

This is the xlib one not the global one.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,38,https://github.com/uTox/uTox/pull/550#issuecomment-277552925,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","I don't think it's meant to look like this.. :P
On a brighter note, I think that's the only bug I can find just by running it and messing around with things.",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,39,https://github.com/uTox/uTox/pull/550#issuecomment-277563368,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 16 files at r29, 1 of 58 files at r30, 1 of 86 files at r31, 10 of 10 files at r33.
Review status: all files reviewed at latest revision, 8 unresolved discussions, some commit checks failed.

src/windows/events.c, line 3 at r32 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
main.h in this case is the main header for the windows version of utox not the global one.

Yeah, native_main.h includes $platform/main.h + the function declarations.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,40,https://github.com/uTox/uTox/pull/550#issuecomment-277627173,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","fixed

Review status: all files reviewed at latest revision, 12 unresolved discussions, some commit checks failed.

src/layout/friend.c, line 486 at r30 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Can you add TODOs or FIXMEs for things like this (and all the deferred things) so I won't forget about it? Or are you planning on fixing it right away?
(I think this is the last round of comments.)

Done.

src/layout/group.c, line 534 at r32 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Included at least twice. (Reviewing this is not easy.)

moved all of them topside is this file.

src/layout/notify.c, line 38 at r32 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
What's left to be done on this before it's ""ready""? Can we get it done before next release? Alternatively, how easy would it be to disable this if we want to push a release before this is production-ready?

On xlib it's nearly done. It just needs it's own UI tree, and to fix the calloc leak in native/window.c (I've left it leaking currently because it needs a ""good"" free check/action system before it's truly ready. But it's not needed when it's just the main window, because it only needs to free on exit, which happens by default.

src/layout/notify.c, line 120 at r32 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This doesn't look right..

Done.

src/layout/settings.c, line 1117 at r31 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Lmao, oh you. :D

Done.

src/windows/events.c, line 3 at r32 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
main.h in this case is the main header for the windows version of utox not the global one.

comment added anyways.

src/xlib/event.c, line 1 at r32 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
This is the xlib main.h not the global one.

commented

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,41,https://github.com/uTox/uTox/pull/550#issuecomment-277823194,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 86 files at r31, 9 of 10 files at r33.
Review status: all files reviewed at latest revision, 8 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,42,https://github.com/uTox/uTox/pull/550#issuecomment-278179207,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/xlib/video.c, line 2 at r32 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
This is the xlib one not the global one.

main_native.h is {xlib,win,cocoa}/main.h + their function declarations. I've marked this as resolved anyway and we can change it in a different PR if we want.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,43,https://github.com/uTox/uTox/pull/550#issuecomment-278182142,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 16 files at r29, 1 of 58 files at r30, 1 of 10 files at r33.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,44,https://github.com/uTox/uTox/pull/550#issuecomment-278561942,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","-@cebe Said he was busy this, and next week

Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,45,https://github.com/uTox/uTox/pull/550#issuecomment-278562247,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 86 files at r31.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,46,https://github.com/uTox/uTox/pull/550#issuecomment-278702402,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 86 files at r31, 10 of 10 files at r34.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/layout/background.c, line 88 at r34 (raw file):

    }
},
    /* Chat panel, friend or group, depending on what's selected */

Add a blank line before this one.

src/layout/background.c, line 89 at r34 (raw file):

},
    /* Chat panel, friend or group, depending on what's selected */
    panel_chat = {

Inconsistent indentation from here to the end of the file. Unindent 1 level.

src/layout/background.c, line 113 at r34 (raw file):

        }
    },
    panel_splash_page = {

Blank line above this one.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,47,https://github.com/uTox/uTox/pull/550#issuecomment-278826953,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 10 of 10 files at r34.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,48,https://github.com/uTox/uTox/pull/550#issuecomment-278931579,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,49,https://github.com/uTox/uTox/pull/550#issuecomment-279056861,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/layout/background.c, line 88 at r34 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Add a blank line before this one.

Done.

src/layout/background.c, line 89 at r34 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Inconsistent indentation from here to the end of the file. Unindent 1 level.

Done.

src/layout/background.c, line 113 at r34 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Blank line above this one.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,50,https://github.com/uTox/uTox/pull/550#issuecomment-279075335,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 1 files at r35.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,51,https://github.com/uTox/uTox/pull/550#issuecomment-279255061,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 1 files at r35.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/layout/settings.c, line 542 at r35 (raw file):

},

button_add_new_device_to_self = {

This should go in layout/extra.c
Alternatively, the declaration of it in layout/extra.h should go in layout/setting.h
I'd prefer moving this to extra.c. Depending on what you choose to do, you might be able to ignore the rest of the comments.

src/layout/settings.c, line 1105 at r35 (raw file):

            edit_profile_password_data[65535];
#ifdef ENABLE_MULTIDEVICE
static char edit_add_self_device_data[TOX_ADDRESS_SIZE * 4];

This should probably be in extra.c

src/layout/settings.c, line 1217 at r35 (raw file):

static char edit_add_new_device_to_self_data[TOX_ADDRESS_SIZE * 4];

Everything below here should probably go in layout/extra.{h,c}

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,52,https://github.com/uTox/uTox/pull/550#issuecomment-279256615,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: 100 of 111 files reviewed at latest revision, 3 unresolved discussions.

src/layout/settings.c, line 542 at r35 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This should go in layout/extra.c
Alternatively, the declaration of it in layout/extra.h should go in layout/setting.h
I'd prefer moving this to extra.c. Depending on what you choose to do, you might be able to ignore the rest of the comments.

Done.

src/layout/settings.c, line 1105 at r35 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This should probably be in extra.c

Done.

src/layout/settings.c, line 1217 at r35 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Everything below here should probably go in layout/extra.{h,c}

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,53,https://github.com/uTox/uTox/pull/550#issuecomment-279256916,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 76 files at r8, 1 of 45 files at r28, 1 of 16 files at r29, 1 of 58 files at r30, 5 of 7 files at r36, 6 of 7 files at r37.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,54,https://github.com/uTox/uTox/pull/550#issuecomment-279257551,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,55,https://github.com/uTox/uTox/pull/550#issuecomment-279257593,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 37 files at r25, 4 of 46 files at r27, 1 of 45 files at r28, 1 of 58 files at r30, 10 of 86 files at r31, 4 of 9 files at r32, 1 of 10 files at r33, 7 of 10 files at r34.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/commands.c, line 74 at r35 (raw file):

#include ""layout/friend.h"" // TODO, don't do this!
#include ""ui/edit.h""

we might want to consider fixing this?

src/friend.c, line 110 at r35 (raw file):

}

#include ""layout/friend.h"" // TODO, remove this and sent the name differently

why include in the middle of the file and not on top?

src/friend.c, line 176 at r35 (raw file):

}

#include ""ui/edit.h""

why include in the middle of the file and not on top?

src/main.h, line 137 at r35 (raw file):

UTOX_TOX_THREAD_INIT tox_thread_init;

bool move_window_down;

a comment on what this does would be nice.

src/window.c, line 38 at r35 (raw file):

    native_window_create_screen_select();
}

would be great to have a short comment on each of these to know what they do.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,56,https://github.com/uTox/uTox/pull/550#issuecomment-279268523,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 19 files at r5, 1 of 76 files at r8, 1 of 37 files at r25, 1 of 46 files at r27, 2 of 45 files at r28, 3 of 16 files at r29, 8 of 58 files at r30, 35 of 86 files at r31, 3 of 9 files at r32, 4 of 10 files at r33, 3 of 10 files at r34, 1 of 1 files at r35, 4 of 7 files at r36, 2 of 7 files at r37.
Review status: all files reviewed at latest revision, 14 unresolved discussions.

src/av/audio.c, line 14 at r35 (raw file):

#include ""../utox.h""

#include ""../../langs/i18n_decls.h""

quite sure this file should not deal with UI strings. This include is caused by STR_AUDIO_IN_NONE in line 294, which is better to be handled as 0 and the message should be put in utox.c. might be done outside of the PR though.

src/layout/create.h, line 3 at r38 (raw file):

#ifndef LAYOUT_CREATE_H
#define LAYOUT_CREATE_H

This file is never included anywhere?

src/layout/README.md, line 12 at r38 (raw file):

easy and everyone will be happy!

Thanks again! https://cmdline.org/who.png

-> ![awesome](https://cmdline.org/who.png) to make it display there.

src/layout/sidebar.h, line 2 at r38 (raw file):

#ifndef LAYOUT_SIDE_H
#define LAYOUT_SIDE_H

LAYOUT_SIDEBAR_H

src/ui/button.h, line 2 at r38 (raw file):

#ifndef BUTTON_H
#define BUTTON_H

UI_BUTTON_H  make this consistent among all .h files in ui/ there are more missing the UI_ prefix.

src/ui/dropdown.h, line 1 at r38 (raw file):

#ifndef DROPDOWN_H

UI_DROPDOWN_H

src/ui/edit.h, line 1 at r38 (raw file):

#ifndef EDIT_H

UI_EDIT_H

src/xlib/window.c, line 119 at r38 (raw file):

    } else {
        // don't do stuff
    }

what is this function used for? nothing for now I see but a comment would be helpful.

src/xlib/window.c, line 123 at r38 (raw file):

UTOX_WINDOW *native_window_create_main(int x, int y, int w, int h, char **argv, int argc) {
    char *title = calloc(256, 1);

would be better to figure out the real length instead of assuming 256.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,57,https://github.com/uTox/uTox/pull/550#issuecomment-279268893,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 45 files at r28, 2 of 7 files at r37.
Review status: all files reviewed at latest revision, 13 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,58,https://github.com/uTox/uTox/pull/550#issuecomment-279269931,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Getting this message when clicking on groupchats and then back to a friend in the flist:

F-List:       Trying to switch to an item that we shouldn't be selecting",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,59,https://github.com/uTox/uTox/pull/550#issuecomment-279269937,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 14 unresolved discussions.

src/xlib/event.c, line 116 at r38 (raw file):

    }

    LOG_WARN(""XLIB"", ""ButtonEvent: %u %u\n"", event->state, event->button);

this should not be a warning, it spams around A LOT! :)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,60,https://github.com/uTox/uTox/pull/550#issuecomment-279270400,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","exiting utox gives me the following message:
XLIB:         X11 err:	X11 tried to kill itself, so I hit him with a shovel.

XLIB:             err:	Resource: 41943263 || Serial 41297

XLIB:             err:	Error code: 3 || Request: 4 || Minor: 0 

uTox:         This would be a great time to submit a bug!
XLIB:         XLIB main:	Clean exit",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,61,https://github.com/uTox/uTox/pull/550#issuecomment-279272289,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Here are a few issues found when testing with @robinlinden:

 Screen grab is broken on multi-monitor on xlib. Always starting to select at (0,0) instead of the position I click.
 Groupchats segfault or loose messages.
 video preview on xlib: select desktop video, select region, start preview, click (X) in the preview window. It shows back up with white content unable to close it.
 saving a file in a chat opens the file selection window behind the utox window.

if any of these are not caused in this branch, move them into an issue.",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,62,https://github.com/uTox/uTox/pull/550#issuecomment-279278422,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","got the weird system crash again with the following in gdb:
(gdb) run -vvv
Starting program: /home/cebe/dev/tox/uTox/build-cmake-debug/utox -vvv
[Thread debugging using libthread_db enabled]
Using host libthread_db library ""/lib/x86_64-linux-gnu/libthread_db.so.1"".
XLIB MAIN:    Setting theme to:	0
[New Thread 0x7fffeebe1700 (LWP 4917)]
Toxcore:      Using unencrypted save file; this could be insecure!

Toxcore:      Creating New Toxcore instance.
		IPv6 : 1
		UDP  : 1
		Proxy: 0  0
Chatlog:      No log exists.
Chatlog:      No log exists.
[New Thread 0x7fffe8c9d700 (LWP 4918)]
[New Thread 0x7fffe8896700 (LWP 4919)]
[New Thread 0x7fffe848f700 (LWP 4920)]
uTox Audio:   Audio Filtering enabled in this build
[New Thread 0x7fffe567f700 (LWP 4921)]
FileTransfer: Can't send an avatar without data
Tox Callbacks: Friend	4	--	Online (TCP)
Tox Callbacks: Friend	4	--	Name:	robinli
Tox Callbacks: Friend	4	--	Status Message:	beep beep boop
Tox Callbacks: Friend	4	--	State:	0
FileTransfer: Can't send an avatar without data

Program received signal SIGTERM, Terminated.
__lll_lock_wait () at ../nptl/sysdeps/unix/sysv/linux/x86_64/lowlevellock.S:135
135	../nptl/sysdeps/unix/sysv/linux/x86_64/lowlevellock.S: Datei oder Verzeichnis nicht gefunden.
(gdb) bt
Python Exception <class 'gdb.MemoryError'> Cannot access memory at address 0x7fffffffd718: 
#0  __lll_lock_wait () at ../nptl/sysdeps/unix/sysv/linux/x86_64/lowlevellock.S:135
Cannot access memory at address 0x7fffffffd718
(gdb) bt full
#0  __lll_lock_wait () at ../nptl/sysdeps/unix/sysv/linux/x86_64/lowlevellock.S:135
No locals.
Cannot access memory at address 0x7fffffffd718
(gdb)",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,63,https://github.com/uTox/uTox/pull/550#issuecomment-279279785,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Also:
/home/cebe/dev/tox/uTox/src/flist.c: blerg
on creating a groupchat.",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,64,https://github.com/uTox/uTox/pull/550#issuecomment-279289533,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 15 unresolved discussions.

src/commands.c, line 74 at r35 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
we might want to consider fixing this?

Done.

src/friend.c, line 110 at r35 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
why include in the middle of the file and not on top?

Done.
I planned to remove them. But that change is non trivial.

src/friend.c, line 176 at r35 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
why include in the middle of the file and not on top?

Done.

src/main.h, line 137 at r35 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
a comment on what this does would be nice.

Done.

src/window.c, line 38 at r35 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
would be great to have a short comment on each of these to know what they do.

Done.

src/av/audio.c, line 14 at r35 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
quite sure this file should not deal with UI strings. This include is caused by STR_AUDIO_IN_NONE in line 294, which is better to be handled as 0 and the message should be put in utox.c. might be done outside of the PR though.

Yeah, I'm gonna call that OOS

src/layout/create.h, line 3 at r38 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
This file is never included anywhere?

Yeah, I was trying to do something fancy here. I'm going to leave it for now because I'm hopeful that the fancy-ness will work, once I can add a bit more time into this.

src/layout/README.md, line 12 at r38 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
-> ![awesome](https://cmdline.org/who.png) to make it display there.

Done.

src/layout/sidebar.h, line 2 at r38 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
LAYOUT_SIDEBAR_H

Done.

src/ui/button.h, line 2 at r38 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
UI_BUTTON_H  make this consistent among all .h files in ui/ there are more missing the UI_ prefix.

Done.

src/ui/dropdown.h, line 1 at r38 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
UI_DROPDOWN_H

Done.

src/ui/edit.h, line 1 at r38 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
UI_EDIT_H

Done.

src/xlib/event.c, line 116 at r38 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
this should not be a warning, it spams around A LOT! :)

Done.

src/xlib/window.c, line 119 at r38 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
what is this function used for? nothing for now I see but a comment would be helpful.

added in src/window.h

src/xlib/window.c, line 123 at r38 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
would be better to figure out the real length instead of assuming 256.

agreed, comment added because the whole file needs some TLC

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,65,https://github.com/uTox/uTox/pull/550#issuecomment-279293300,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 16 files at r29, 1 of 58 files at r30, 1 of 86 files at r31, 4 of 7 files at r36, 5 of 7 files at r37, 10 of 10 files at r39.
Review status: all files reviewed at latest revision, 14 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,66,https://github.com/uTox/uTox/pull/550#issuecomment-279300918,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Here are a few issues found when testing with @robinlinden:

 Screen grab is broken on multi-monitor on xlib. Always starting to select at (0,0) instead of the position I click. ( Working on it )
 Groupchats segfault or loose messages. ( not in this pull :: per @robinlinden )
 video preview on xlib: select desktop video, select region, start preview, click (X) in the preview window. It shows back up with white content unable to close it. ( working on it )
 saving a file in a chat opens the file selection window behind the utox window. ( Is this a regression? )

if any of these are not caused in this branch, move them into an issue.",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,67,https://github.com/uTox/uTox/pull/550#issuecomment-279306081,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","fixed screen grab in XLIB
I also think I fixed the video preview in XLIB, I happend for me once, but I can't make it happen again now...",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,68,https://github.com/uTox/uTox/pull/550#issuecomment-279438718,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 86 files at r31, 9 of 10 files at r39, 7 of 7 files at r40, 13 of 13 files at r41.
Review status: all files reviewed at latest revision, 16 unresolved discussions.

src/cocoa/Makefile, line 1 at r41 (raw file):

# CMAKE generated file: DO NOT EDIT!

Should this really be checked into git?

src/xlib/event.c, line 116 at r38 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Done.

Not done.

src/xlib/screen_grab.c, line 7 at r41 (raw file):

#include ""../ui.h""

typedef struct {

You don't need this when it's already defined in the header.

src/xlib/window.c, line 123 at r38 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
agreed, comment added because the whole file needs some TLC

Should also be calloc(1, 256). One 256-byte allocation instead of 256 1-byte allocations.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,69,https://github.com/uTox/uTox/pull/550#issuecomment-279478400,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: 112 of 117 files reviewed at latest revision, 16 unresolved discussions.

src/xlib/event.c, line 116 at r38 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Not done.

Done. Done. Done. For realzies this time too.

src/xlib/screen_grab.c, line 7 at r41 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You don't need this when it's already defined in the header.

Done.

src/xlib/window.c, line 123 at r38 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Should also be calloc(1, 256). One 256-byte allocation instead of 256 1-byte allocations.

Done.

src/cocoa/Makefile, line 1 at r41 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Should this really be checked into git?

reverted

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,70,https://github.com/uTox/uTox/pull/550#issuecomment-279480428,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 4 of 5 files at r42, 2 of 2 files at r43.
Review status: all files reviewed at latest revision, 15 unresolved discussions.

src/xlib/main.c, line 680 at r43 (raw file):

    if (!XInitThreads()) {
        LOG_FATAL_ERR(2, ""XLIB MAIN"", ""XInitThreads failed."");
        return 2;

Dead code. LOG_FATAL_ERR does exit(2) before you reach this.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,71,https://github.com/uTox/uTox/pull/550#issuecomment-279489259,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 58 files at r30, 2 of 86 files at r31, 8 of 10 files at r39, 4 of 7 files at r40, 5 of 13 files at r41, 3 of 5 files at r42, 2 of 2 files at r43.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/layout/create.h, line 3 at r38 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Yeah, I was trying to do something fancy here. I'm going to leave it for now because I'm hopeful that the fancy-ness will work, once I can add a bit more time into this.

maybe leave a TODO comment then?

src/xlib/main.c, line 680 at r43 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Dead code. LOG_FATAL_ERR does exit(2) before you reach this.

not if verbosity is 0... we might fix that though.
Currently I might run utox in force mode, which will not exit on fatal errors. Not sure if that is a good idea or there is a use case for that :)

src/xlib/window.c, line 123 at r38 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Done.

technically it is an array of 256 chars of which each is one byte long, but I think it does not really matter.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,72,https://github.com/uTox/uTox/pull/550#issuecomment-279492253,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/layout/create.h, line 3 at r38 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
maybe leave a TODO comment then?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,73,https://github.com/uTox/uTox/pull/550#issuecomment-279501015,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 1 files at r44.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 680 at r43 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
not if verbosity is 0... we might fix that though.
Currently I might run utox in force mode, which will not exit on fatal errors. Not sure if that is a good idea or there is a use case for that :)

It's probably better to always log fatal errors and exit rather than letting uTox crash without any info. (This is out-of-scope for this PR, so leave this code as is for now.)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,74,https://github.com/uTox/uTox/pull/550#issuecomment-279530246,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 4 of 7 files at r40, 12 of 13 files at r41, 3 of 5 files at r42, 2 of 2 files at r43, 1 of 1 files at r44.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,75,https://github.com/uTox/uTox/pull/550#issuecomment-279590760,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ",The contact list scrollbar is broken on this branch. Not sure if that is a regression.,True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,76,https://github.com/uTox/uTox/pull/550#issuecomment-279591129,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Also sending avatars when a friend goes online does not work:
FileTransfer: Can't send an avatar without data",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,77,https://github.com/uTox/uTox/pull/550#issuecomment-279800039,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","The contact list scrollbar is broken on this branch. Not sure if that is a regression.


Also sending avatars when a friend goes online does not work:

Both exist in develop sadly :<

Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 680 at r43 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
It's probably better to always log fatal errors and exit rather than letting uTox crash without any info. (This is out-of-scope for this PR, so leave this code as is for now.)

leaving

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/endoffile78,78,https://github.com/uTox/uTox/pull/550#issuecomment-279840089,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,79,https://github.com/uTox/uTox/pull/550#issuecomment-279863465,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ",merge and apply #742 afterwards or before.,True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,80,https://github.com/uTox/uTox/pull/550#issuecomment-279905219,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","as is on Windows. @cebe's patch is required for this PR to be good on Debian Jessie.

Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,81,https://github.com/uTox/uTox/pull/550#issuecomment-279937320,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ",here comes a pull request: GrayHatter#3,True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,82,https://github.com/uTox/uTox/pull/550#issuecomment-279940362,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 1 files at r45.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/GrayHatter,83,https://github.com/uTox/uTox/pull/550#issuecomment-279940484,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 13 files at r41.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/cebe,84,https://github.com/uTox/uTox/pull/550#issuecomment-279941055,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 1 files at r45.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,550,2016-12-18T12:21:58Z,2017-02-15T20:27:38Z,2017-02-15T20:27:38Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Custom Windows and Notifications popups,80,[],https://github.com/uTox/uTox/pull/550,https://github.com/robinlinden,85,https://github.com/uTox/uTox/pull/550#issuecomment-280055348,"Remaining todo list

 Handle all the UI interactions in Win
 Create skel functions for OSX
 Create notification layout tree
 Reduce super global count in xlib
 Adapt xlib drawing code to draw on multiple windows
 Handle all the UI interactions in XLib

Optionally

 abstract the window creation api a bit more to make extra use cases easy to write
 skel functions to use the windows as an AV popup
 mirror the OS move button that exists in windows to xlib, osx

Help Needed

 Implement window (main/notification) functions in cocoa

Avoid

 consider writing Android functions to serve as an interface for native notifications converting PRN


This change is‚ÄÇ","Reviewed 1 of 1 files at r45.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,551,2016-12-18T13:57:22Z,2016-12-19T07:43:37Z,2016-12-19T07:43:40Z,MERGED,True,287,280,6,https://github.com/robinlinden,Move chatlog-related functions to their own file.,1,[],https://github.com/uTox/uTox/pull/551,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/551,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,551,2016-12-18T13:57:22Z,2016-12-19T07:43:37Z,2016-12-19T07:43:40Z,MERGED,True,287,280,6,https://github.com/robinlinden,Move chatlog-related functions to their own file.,1,[],https://github.com/uTox/uTox/pull/551,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/551#issuecomment-267825228,This change is‚ÄÇ,"Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,551,2016-12-18T13:57:22Z,2016-12-19T07:43:37Z,2016-12-19T07:43:40Z,MERGED,True,287,280,6,https://github.com/robinlinden,Move chatlog-related functions to their own file.,1,[],https://github.com/uTox/uTox/pull/551,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/551#issuecomment-267857304,This change is‚ÄÇ,"Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,552,2016-12-18T18:28:29Z,2016-12-19T10:47:02Z,2016-12-19T10:47:12Z,MERGED,True,16,10,1,https://github.com/robinlinden,Fix Windows native_get_file folder creation.,1,[],https://github.com/uTox/uTox/pull/552,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/552,"Fix Windows native_get_file not being able to create folders (or save files because of this) under most circumstances.


This change is‚ÄÇ","Fix Windows native_get_file not being able to create folders (or save files because of this) under most circumstances.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,552,2016-12-18T18:28:29Z,2016-12-19T10:47:02Z,2016-12-19T10:47:12Z,MERGED,True,16,10,1,https://github.com/robinlinden,Fix Windows native_get_file folder creation.,1,[],https://github.com/uTox/uTox/pull/552,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/552#issuecomment-267852659,"Fix Windows native_get_file not being able to create folders (or save files because of this) under most circumstances.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,552,2016-12-18T18:28:29Z,2016-12-19T10:47:02Z,2016-12-19T10:47:12Z,MERGED,True,16,10,1,https://github.com/robinlinden,Fix Windows native_get_file folder creation.,1,[],https://github.com/uTox/uTox/pull/552,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/552#issuecomment-267928264,"Fix Windows native_get_file not being able to create folders (or save files because of this) under most circumstances.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,554,2016-12-20T05:02:08Z,2016-12-23T23:47:35Z,2016-12-23T23:48:14Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,Add an option line to cmakelists.txt,2,[],https://github.com/uTox/uTox/pull/554,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/554,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,554,2016-12-20T05:02:08Z,2016-12-23T23:47:35Z,2016-12-23T23:48:14Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,Add an option line to cmakelists.txt,2,[],https://github.com/uTox/uTox/pull/554,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/554#issuecomment-268198526,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,554,2016-12-20T05:02:08Z,2016-12-23T23:47:35Z,2016-12-23T23:48:14Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,Add an option line to cmakelists.txt,2,[],https://github.com/uTox/uTox/pull/554,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/554#issuecomment-268362776,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,554,2016-12-20T05:02:08Z,2016-12-23T23:47:35Z,2016-12-23T23:48:14Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,Add an option line to cmakelists.txt,2,[],https://github.com/uTox/uTox/pull/554,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/554#issuecomment-269057701,This change is‚ÄÇ,@endoffile78 rolled the one good change into #575,True,{}
uTox/uTox,https://github.com/uTox/uTox,557,2016-12-20T19:07:04Z,2016-12-20T21:51:44Z,2017-01-25T19:43:20Z,MERGED,True,18,2,1,https://github.com/robinlinden,Updated changelog for 0.11.1,1,[],https://github.com/uTox/uTox/pull/557,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/557,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,557,2016-12-20T19:07:04Z,2016-12-20T21:51:44Z,2017-01-25T19:43:20Z,MERGED,True,18,2,1,https://github.com/robinlinden,Updated changelog for 0.11.1,1,[],https://github.com/uTox/uTox/pull/557,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/557#issuecomment-268361019,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,557,2016-12-20T19:07:04Z,2016-12-20T21:51:44Z,2017-01-25T19:43:20Z,MERGED,True,18,2,1,https://github.com/robinlinden,Updated changelog for 0.11.1,1,[],https://github.com/uTox/uTox/pull/557,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/557#issuecomment-268363611,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,559,2016-12-20T20:49:22Z,2016-12-20T21:51:44Z,2017-01-25T19:44:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Write '\0' instead of 0 in ft_decon_resumeable,1,[],https://github.com/uTox/uTox/pull/559,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/559,"Fixes #556


This change is‚ÄÇ","Fixes #556


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,559,2016-12-20T20:49:22Z,2016-12-20T21:51:44Z,2017-01-25T19:44:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Write '\0' instead of 0 in ft_decon_resumeable,1,[],https://github.com/uTox/uTox/pull/559,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/559#issuecomment-268361093,"Fixes #556


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,559,2016-12-20T20:49:22Z,2016-12-20T21:51:44Z,2017-01-25T19:44:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Write '\0' instead of 0 in ft_decon_resumeable,1,[],https://github.com/uTox/uTox/pull/559,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/559#issuecomment-268363712,"Fixes #556


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,559,2016-12-20T20:49:22Z,2016-12-20T21:51:44Z,2017-01-25T19:44:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Write '\0' instead of 0 in ft_decon_resumeable,1,[],https://github.com/uTox/uTox/pull/559,https://github.com/x368,4,https://github.com/uTox/uTox/pull/559#issuecomment-268460501,"Fixes #556


This change is‚ÄÇ","Dear developers, all three of you, are you serious? One of you may have been distracted or tired and made an error (twice) but the ""correction"" went through a ""review"" of two others. You do not want this fact posted elsewhere but next time I see such kind of an error in tox I will do.
Your code has been ""improved"" from fwrite(0, .....)  to fwrite('\0', 1, size, file);
The first argument to fwrite() is a pointer and you pass an integer which is 0, in both cases.
This seems to be wrong in another sense too: whatever array you give as the first argument, it must be at least as large as the size argument. If you mean to overwrite the file, this is a completely wrong try to implement it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,559,2016-12-20T20:49:22Z,2016-12-20T21:51:44Z,2017-01-25T19:44:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Write '\0' instead of 0 in ft_decon_resumeable,1,[],https://github.com/uTox/uTox/pull/559,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/559#issuecomment-268463404,"Fixes #556


This change is‚ÄÇ",You're worng is this case. The code as it is no. Is correct. I can explain why if you'd like?,True,{}
uTox/uTox,https://github.com/uTox/uTox,559,2016-12-20T20:49:22Z,2016-12-20T21:51:44Z,2017-01-25T19:44:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Write '\0' instead of 0 in ft_decon_resumeable,1,[],https://github.com/uTox/uTox/pull/559,https://github.com/x368,6,https://github.com/uTox/uTox/pull/559#issuecomment-268463644,"Fixes #556


This change is‚ÄÇ",sure I would appreciate your explanation,True,{}
uTox/uTox,https://github.com/uTox/uTox,559,2016-12-20T20:49:22Z,2016-12-20T21:51:44Z,2017-01-25T19:44:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Write '\0' instead of 0 in ft_decon_resumeable,1,[],https://github.com/uTox/uTox/pull/559,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/559#issuecomment-268464082,"Fixes #556


This change is‚ÄÇ","Ah, you are correct. My understanding of fwrite was incorrect. You have my apologies.",True,{}
uTox/uTox,https://github.com/uTox/uTox,559,2016-12-20T20:49:22Z,2016-12-20T21:51:44Z,2017-01-25T19:44:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Write '\0' instead of 0 in ft_decon_resumeable,1,[],https://github.com/uTox/uTox/pull/559,https://github.com/x368,8,https://github.com/uTox/uTox/pull/559#issuecomment-268464153,"Fixes #556


This change is‚ÄÇ",Thanks. Apologies accepted.,True,{}
uTox/uTox,https://github.com/uTox/uTox,559,2016-12-20T20:49:22Z,2016-12-20T21:51:44Z,2017-01-25T19:44:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Write '\0' instead of 0 in ft_decon_resumeable,1,[],https://github.com/uTox/uTox/pull/559,https://github.com/x368,9,https://github.com/uTox/uTox/pull/559#issuecomment-268520694,"Fixes #556


This change is‚ÄÇ","Btw you did not have to apologize. To question each other's judgement is no offence. I was upset by the regrettable state and management of the particular code, not by your remark.
Good we now agree on the technical matter.
Thanks for your work on uTox! It has many nice qualities. I hope it matures to be able to function as a reliable, serious tool.",True,{}
uTox/uTox,https://github.com/uTox/uTox,560,2016-12-20T21:52:30Z,2016-12-21T00:59:08Z,2016-12-21T00:59:08Z,MERGED,True,920,743,16,https://github.com/GrayHatter,v0.11.1 to master,27,[],https://github.com/uTox/uTox/pull/560,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/560,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,560,2016-12-20T21:52:30Z,2016-12-21T00:59:08Z,2016-12-21T00:59:08Z,MERGED,True,920,743,16,https://github.com/GrayHatter,v0.11.1 to master,27,[],https://github.com/uTox/uTox/pull/560,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/560#issuecomment-268370217,This change is‚ÄÇ,"Reviewed 15 of 15 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,560,2016-12-20T21:52:30Z,2016-12-21T00:59:08Z,2016-12-21T00:59:08Z,MERGED,True,920,743,16,https://github.com/GrayHatter,v0.11.1 to master,27,[],https://github.com/uTox/uTox/pull/560,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/560#issuecomment-268370266,This change is‚ÄÇ,"Reviewed 15 of 15 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,560,2016-12-20T21:52:30Z,2016-12-21T00:59:08Z,2016-12-21T00:59:08Z,MERGED,True,920,743,16,https://github.com/GrayHatter,v0.11.1 to master,27,[],https://github.com/uTox/uTox/pull/560,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/560#issuecomment-268370336,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,560,2016-12-20T21:52:30Z,2016-12-21T00:59:08Z,2016-12-21T00:59:08Z,MERGED,True,920,743,16,https://github.com/GrayHatter,v0.11.1 to master,27,[],https://github.com/uTox/uTox/pull/560,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/560#issuecomment-268371674,This change is‚ÄÇ,"Reviewed 15 of 15 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,561,2016-12-21T09:13:19Z,2016-12-21T09:43:17Z,2016-12-26T07:56:40Z,MERGED,True,0,3,1,https://github.com/GrayHatter,Hotfix: drop a bad attempt at secure erase,1,[],https://github.com/uTox/uTox/pull/561,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/561,"We can't actually do any attempt at secure erase from within uTox.
False security is worse than no security, so in this case we just
blindly hope the user is using full disk encryption.


This change is‚ÄÇ","We can't actually do any attempt at secure erase from within uTox.
False security is worse than no security, so in this case we just
blindly hope the user is using full disk encryption.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,561,2016-12-21T09:13:19Z,2016-12-21T09:43:17Z,2016-12-26T07:56:40Z,MERGED,True,0,3,1,https://github.com/GrayHatter,Hotfix: drop a bad attempt at secure erase,1,[],https://github.com/uTox/uTox/pull/561,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/561#issuecomment-268474214,"We can't actually do any attempt at secure erase from within uTox.
False security is worse than no security, so in this case we just
blindly hope the user is using full disk encryption.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,561,2016-12-21T09:13:19Z,2016-12-21T09:43:17Z,2016-12-26T07:56:40Z,MERGED,True,0,3,1,https://github.com/GrayHatter,Hotfix: drop a bad attempt at secure erase,1,[],https://github.com/uTox/uTox/pull/561,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/561#issuecomment-268475757,"We can't actually do any attempt at secure erase from within uTox.
False security is worse than no security, so in this case we just
blindly hope the user is using full disk encryption.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,562,2016-12-21T09:13:26Z,2016-12-21T09:42:53Z,2016-12-26T07:56:40Z,MERGED,True,0,3,1,https://github.com/GrayHatter,Hotfix: drop a bad attempt at secure erase,1,[],https://github.com/uTox/uTox/pull/562,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/562,"We can't actually do any attempt at secure erase from within uTox.
False security is worse than no security, so in this case we just
blindly hope the user is using full disk encryption.


This change is‚ÄÇ","We can't actually do any attempt at secure erase from within uTox.
False security is worse than no security, so in this case we just
blindly hope the user is using full disk encryption.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,562,2016-12-21T09:13:26Z,2016-12-21T09:42:53Z,2016-12-26T07:56:40Z,MERGED,True,0,3,1,https://github.com/GrayHatter,Hotfix: drop a bad attempt at secure erase,1,[],https://github.com/uTox/uTox/pull/562,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/562#issuecomment-268474251,"We can't actually do any attempt at secure erase from within uTox.
False security is worse than no security, so in this case we just
blindly hope the user is using full disk encryption.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,562,2016-12-21T09:13:26Z,2016-12-21T09:42:53Z,2016-12-26T07:56:40Z,MERGED,True,0,3,1,https://github.com/GrayHatter,Hotfix: drop a bad attempt at secure erase,1,[],https://github.com/uTox/uTox/pull/562,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/562#issuecomment-268475034,"We can't actually do any attempt at secure erase from within uTox.
False security is worse than no security, so in this case we just
blindly hope the user is using full disk encryption.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,564,2016-12-21T10:10:04Z,2016-12-23T23:30:59Z,2017-01-25T19:47:04Z,MERGED,True,6,6,1,https://github.com/robinlinden,Fix language-selection dropdown having multiple English languages and none of others.,1,[],https://github.com/uTox/uTox/pull/564,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/564,"Fixes #563

This change is‚ÄÇ","Fixes #563

This change is‚ÄÇ",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,564,2016-12-21T10:10:04Z,2016-12-23T23:30:59Z,2017-01-25T19:47:04Z,MERGED,True,6,6,1,https://github.com/robinlinden,Fix language-selection dropdown having multiple English languages and none of others.,1,[],https://github.com/uTox/uTox/pull/564,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/564#issuecomment-268485366,"Fixes #563

This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,564,2016-12-21T10:10:04Z,2016-12-23T23:30:59Z,2017-01-25T19:47:04Z,MERGED,True,6,6,1,https://github.com/robinlinden,Fix language-selection dropdown having multiple English languages and none of others.,1,[],https://github.com/uTox/uTox/pull/564,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/564#issuecomment-268487565,"Fixes #563

This change is‚ÄÇ","yep, that fixes it!",True,{}
uTox/uTox,https://github.com/uTox/uTox,564,2016-12-21T10:10:04Z,2016-12-23T23:30:59Z,2017-01-25T19:47:04Z,MERGED,True,6,6,1,https://github.com/robinlinden,Fix language-selection dropdown having multiple English languages and none of others.,1,[],https://github.com/uTox/uTox/pull/564,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/564#issuecomment-268544563,"Fixes #563

This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,564,2016-12-21T10:10:04Z,2016-12-23T23:30:59Z,2017-01-25T19:47:04Z,MERGED,True,6,6,1,https://github.com/robinlinden,Fix language-selection dropdown having multiple English languages and none of others.,1,[],https://github.com/uTox/uTox/pull/564,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/564#issuecomment-269056351,"Fixes #563

This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,564,2016-12-21T10:10:04Z,2016-12-23T23:30:59Z,2017-01-25T19:47:04Z,MERGED,True,6,6,1,https://github.com/robinlinden,Fix language-selection dropdown having multiple English languages and none of others.,1,[],https://github.com/uTox/uTox/pull/564,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/564#issuecomment-269056358,"Fixes #563

This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,564,2016-12-21T10:10:04Z,2016-12-23T23:30:59Z,2017-01-25T19:47:04Z,MERGED,True,6,6,1,https://github.com/robinlinden,Fix language-selection dropdown having multiple English languages and none of others.,1,[],https://github.com/uTox/uTox/pull/564,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/564#issuecomment-269056392,"Fixes #563

This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,564,2016-12-21T10:10:04Z,2016-12-23T23:30:59Z,2017-01-25T19:47:04Z,MERGED,True,6,6,1,https://github.com/robinlinden,Fix language-selection dropdown having multiple English languages and none of others.,1,[],https://github.com/uTox/uTox/pull/564,https://github.com/cebe,8,https://github.com/uTox/uTox/pull/564#issuecomment-269056633,"Fixes #563

This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,565,2016-12-21T10:10:57Z,2016-12-23T23:33:45Z,2016-12-23T23:34:33Z,MERGED,True,2,0,1,https://github.com/cebe,Update BUILD.md,1,[],https://github.com/uTox/uTox/pull/565,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/565,"added instructions for debug build.


This change is‚ÄÇ","added instructions for debug build.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,565,2016-12-21T10:10:57Z,2016-12-23T23:33:45Z,2016-12-23T23:34:33Z,MERGED,True,2,0,1,https://github.com/cebe,Update BUILD.md,1,[],https://github.com/uTox/uTox/pull/565,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/565#issuecomment-268485789,"added instructions for debug build.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,565,2016-12-21T10:10:57Z,2016-12-23T23:33:45Z,2016-12-23T23:34:33Z,MERGED,True,2,0,1,https://github.com/cebe,Update BUILD.md,1,[],https://github.com/uTox/uTox/pull/565,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/565#issuecomment-268486407,"added instructions for debug build.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,566,2016-12-21T10:44:32Z,2016-12-23T23:34:44Z,2017-01-25T19:46:58Z,MERGED,True,3,5,5,https://github.com/robinlinden,Fix when and where we fflush.,2,[],https://github.com/uTox/uTox/pull/566,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/566,"Remove a few fflushes that aren't needed and add some that are.


This change is‚ÄÇ","Remove a few fflushes that aren't needed and add some that are.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,566,2016-12-21T10:44:32Z,2016-12-23T23:34:44Z,2017-01-25T19:46:58Z,MERGED,True,3,5,5,https://github.com/robinlinden,Fix when and where we fflush.,2,[],https://github.com/uTox/uTox/pull/566,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/566#issuecomment-268564015,"Remove a few fflushes that aren't needed and add some that are.


This change is‚ÄÇ","Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,566,2016-12-21T10:44:32Z,2016-12-23T23:34:44Z,2017-01-25T19:46:58Z,MERGED,True,3,5,5,https://github.com/robinlinden,Fix when and where we fflush.,2,[],https://github.com/uTox/uTox/pull/566,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/566#issuecomment-268643063,"Remove a few fflushes that aren't needed and add some that are.


This change is‚ÄÇ","Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,568,2016-12-21T16:13:39Z,2016-12-23T23:27:24Z,2017-01-25T19:47:03Z,MERGED,True,2,2,1,https://github.com/robinlinden,Fix names of links to Linux/Posix builds.,1,[],https://github.com/uTox/uTox/pull/568,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/568,"Fixes #567

This change is‚ÄÇ","Fixes #567

This change is‚ÄÇ",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,568,2016-12-21T16:13:39Z,2016-12-23T23:27:24Z,2017-01-25T19:47:03Z,MERGED,True,2,2,1,https://github.com/robinlinden,Fix names of links to Linux/Posix builds.,1,[],https://github.com/uTox/uTox/pull/568,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/568#issuecomment-268563656,"Fixes #567

This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,568,2016-12-21T16:13:39Z,2016-12-23T23:27:24Z,2017-01-25T19:47:03Z,MERGED,True,2,2,1,https://github.com/robinlinden,Fix names of links to Linux/Posix builds.,1,[],https://github.com/uTox/uTox/pull/568,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/568#issuecomment-268642735,"Fixes #567

This change is‚ÄÇ","why?

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,569,2016-12-21T16:18:18Z,2017-01-16T01:11:18Z,2017-01-16T05:47:26Z,MERGED,True,135,43,14,https://github.com/cebe,Fixed Hanging GUI when changing network settings,5,[],https://github.com/uTox/uTox/pull/569,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/569,"In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ","In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,569,2016-12-21T16:18:18Z,2017-01-16T01:11:18Z,2017-01-16T05:47:26Z,MERGED,True,135,43,14,https://github.com/cebe,Fixed Hanging GUI when changing network settings,5,[],https://github.com/uTox/uTox/pull/569,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/569#issuecomment-268589501,"In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ","Reviewed 11 of 11 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,569,2016-12-21T16:18:18Z,2017-01-16T01:11:18Z,2017-01-16T05:47:26Z,MERGED,True,135,43,14,https://github.com/cebe,Fixed Hanging GUI when changing network settings,5,[],https://github.com/uTox/uTox/pull/569,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/569#issuecomment-268642379,"In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ","Reviewed 6 of 11 files at r1.
Review status: all files reviewed at latest revision, 6 unresolved discussions.

langs/en.h, line 380 at r1 (raw file):

msgid(NOT_CONNECTED_ERROR)
msgstr(""Adjust network settings"")

Either of these needs to change the text doesn't' really match the event, or the NAME of the text.
perhaps NOT_CONNECTED_NOTICE because it's not describing an error, it's telling you how to fix it.
or incompatible network settings
Either way, what the code in question is actually doing it trying to create a toxcore instance. It has no bearing on if toxcore will actually connect. ONLY if toxcore is able to run with these settings.

src/main.h, line 173 at r1 (raw file):

/* Super global vars */
volatile bool tox_thread_init, tox_thread_error, utox_av_ctrl_init, utox_audio_thread_init, utox_video_thread_init;

I don't like super globals, but it seems unavoidable in this case.

src/tox.c, line 364 at r1 (raw file):

    if (*tox == NULL) {
        if (settings.force_proxy) {
            debug(""\t\tError #%u, Not going to try without proxy because of user settings.\n"", tox_new_err);

this should be debug_error or at least debug_notice

src/tox.c, line 377 at r1 (raw file):

        if (*tox == NULL) {
            debug(""\t\tError #%u, Going to try without IPv6.\n"", tox_new_err);

shouldn't we try dropping ipv6 first, before attempting to drop the proxy?
The proxy could be important safety measure.

src/tox.c, line 448 at r1 (raw file):

            // fatal failure, unable to create tox instance
            debug_error(""Tox:\tUnable to create Tox Instance (%d)\n"", toxcore_init_err);
            // set init to true because other code is waiting for it.

I don't like this. we shouldn't set init without it actually being initialized. Do you know how hard it would be to rewrite the sections that depend on this section to ignore init when needed?
My concern is that now uTox is lying about it's current state. Saying that toxcore is initialized when it's not.

src/ui/dropdowns.c, line 10 at r1 (raw file):

#include ""../theme.h""
#include ""../util.h""
#include ""switches.h""

this should be on a line of it's own above all includes in the higher directiory
#include ""dropdowns.h""
¬†
#include ""switches.h""

#include ""../av/utox_av.h""
...


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,569,2016-12-21T16:18:18Z,2017-01-16T01:11:18Z,2017-01-16T05:47:26Z,MERGED,True,135,43,14,https://github.com/cebe,Fixed Hanging GUI when changing network settings,5,[],https://github.com/uTox/uTox/pull/569,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/569#issuecomment-268654552,"In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 6 unresolved discussions.

langs/en.h, line 380 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Either of these needs to change the text doesn't' really match the event, or the NAME of the text.
perhaps NOT_CONNECTED_NOTICE because it's not describing an error, it's telling you how to fix it.
or incompatible network settings
Either way, what the code in question is actually doing it trying to create a toxcore instance. It has no bearing on if toxcore will actually connect. ONLY if toxcore is able to run with these settings.

I think UI-wise the ""Adjust network settings"" is fine, it implies that because of the network settings you are not connected + it allows the necessary action when clicking on it. So I would rename it to ADJUST_NETWORK_SETTINGS?
I chose this name to have similarity of the tag to NOT_CONNECTED message which is shown directly above it.

src/main.h, line 173 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I don't like super globals, but it seems unavoidable in this case.

we could combine the state into tox_thread_initso it would be an integer that is 0 when initializing, 1 if ok, 2 if error. That would at least avoid the case where you forget what it means.

src/tox.c, line 364 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this should be debug_error or at least debug_notice

sure, did not know that these exist :)

src/tox.c, line 377 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
shouldn't we try dropping ipv6 first, before attempting to drop the proxy?
The proxy could be important safety measure.

I have no knowledge about how it is handled in toxcore internally but if the proxy needs ipv6 to work it does not make sense to drop IPv6 first.
Also this code is only executed if you set the proxy to ""fallback"". When setting the proxy to always, utox is not trying to do any connection without the proxy. That behavior is fine imo.

src/tox.c, line 448 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I don't like this. we shouldn't set init without it actually being initialized. Do you know how hard it would be to rewrite the sections that depend on this section to ignore init when needed?
My concern is that now uTox is lying about it's current state. Saying that toxcore is initialized when it's not.

the thing with the current code of utox is that it is written in a way that assumes tox is always there. there is and init state of the tox thread and also connected. we have no state that indicates an offline mode caused by incorrect settings. This error state is now available via tox_thread_error but as said above could be combined into one variable.

src/ui/dropdowns.c, line 10 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this should be on a line of it's own above all includes in the higher directiory
#include ""dropdowns.h""
¬†
#include ""switches.h""

#include ""../av/utox_av.h""
...


ok

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,569,2016-12-21T16:18:18Z,2017-01-16T01:11:18Z,2017-01-16T05:47:26Z,MERGED,True,135,43,14,https://github.com/cebe,Fixed Hanging GUI when changing network settings,5,[],https://github.com/uTox/uTox/pull/569,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/569#issuecomment-268727373,"In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

langs/en.h, line 380 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
I think UI-wise the ""Adjust network settings"" is fine, it implies that because of the network settings you are not connected + it allows the necessary action when clicking on it. So I would rename it to ADJUST_NETWORK_SETTINGS?
I chose this name to have similarity of the tag to NOT_CONNECTED message which is shown directly above it.

how about NOT_CONNECTED_SETTINGS then it reads as NOT_CONNECTED_because_of_your_SETTINGS

src/main.h, line 173 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
we could combine the state into tox_thread_initso it would be an integer that is 0 when initializing, 1 if ok, 2 if error. That would at least avoid the case where you forget what it means.

@cebe that sounds good, make it a typedef enum instead. I'm totally okay with that.

src/tox.c, line 377 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
I have no knowledge about how it is handled in toxcore internally but if the proxy needs ipv6 to work it does not make sense to drop IPv6 first.
Also this code is only executed if you set the proxy to ""fallback"". When setting the proxy to always, utox is not trying to do any connection without the proxy. That behavior is fine imo.

I agree, this is fine then.

src/tox.c, line 448 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
the thing with the current code of utox is that it is written in a way that assumes tox is always there. there is and init state of the tox thread and also connected. we have no state that indicates an offline mode caused by incorrect settings. This error state is now available via tox_thread_error but as said above could be combined into one variable.

I agree, per the above comment, use an enum, and I'll be happy.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,569,2016-12-21T16:18:18Z,2017-01-16T01:11:18Z,2017-01-16T05:47:26Z,MERGED,True,135,43,14,https://github.com/cebe,Fixed Hanging GUI when changing network settings,5,[],https://github.com/uTox/uTox/pull/569,https://github.com/cebe,6,https://github.com/uTox/uTox/pull/569#issuecomment-269402981,"In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ","Review status: 1 of 14 files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

langs/en.h, line 380 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
how about NOT_CONNECTED_SETTINGS then it reads as NOT_CONNECTED_because_of_your_SETTINGS

Done.

src/main.h, line 173 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
@cebe that sounds good, make it a typedef enum instead. I'm totally okay with that.

Done.

src/tox.c, line 364 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
sure, did not know that these exist :)

Done.

src/tox.c, line 448 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I agree, per the above comment, use an enum, and I'll be happy.

Done.

src/ui/dropdowns.c, line 10 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
ok

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,569,2016-12-21T16:18:18Z,2017-01-16T01:11:18Z,2017-01-16T05:47:26Z,MERGED,True,135,43,14,https://github.com/cebe,Fixed Hanging GUI when changing network settings,5,[],https://github.com/uTox/uTox/pull/569,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/569#issuecomment-269422265,"In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ","Reviewed 14 of 14 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/main.h, line 183 at r2 (raw file):

    // this means a tox instance may have not been created
    UTOX_TOX_THREAD_INIT_ERROR = 2,
} tox_thread_init;

make this a typedef enum
and volatile shouldn't be needed

src/tox.c, line 444 at r2 (raw file):

        reconfig = 0;

        toxcore_init_err = init_toxcore(&tox);

BTW, this might read better as a switch (init_toxcore()) {
your call

src/ui/buttons.c, line 61 at r2 (raw file):

static void button_name_on_mup(void) {
    flist_selectsettings();
    if (tox_thread_init != UTOX_TOX_THREAD_INIT_SUCCESS) {

did you test how these work with a password?

src/ui/switch.c, line 107 at r2 (raw file):

        return 1;
    }
    if (s->mousedown) {

drop the above, and if (s->mousedown && !s->disabled) {

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,569,2016-12-21T16:18:18Z,2017-01-16T01:11:18Z,2017-01-16T05:47:26Z,MERGED,True,135,43,14,https://github.com/cebe,Fixed Hanging GUI when changing network settings,5,[],https://github.com/uTox/uTox/pull/569,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/569#issuecomment-272717406,"In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ","Reviewed 14 of 14 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,569,2016-12-21T16:18:18Z,2017-01-16T01:11:18Z,2017-01-16T05:47:26Z,MERGED,True,135,43,14,https://github.com/cebe,Fixed Hanging GUI when changing network settings,5,[],https://github.com/uTox/uTox/pull/569,https://github.com/cebe,9,https://github.com/uTox/uTox/pull/569#issuecomment-272726547,"In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ","Review status: 12 of 14 files reviewed at latest revision, 4 unresolved discussions.

src/main.h, line 183 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
make this a typedef enum
and volatile shouldn't be needed

Done.

src/tox.c, line 444 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
BTW, this might read better as a switch (init_toxcore()) {
your call

not really, it can be -2, !=0, or else

src/ui/buttons.c, line 61 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
did you test how these work with a password?

yes, works fine. The main issue with a password is that you have to re-enter it again as soon as you change a network setting. But other than that it works fine.

src/ui/switch.c, line 107 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
drop the above, and if (s->mousedown && !s->disabled) {

Done. kept the reset of mousedown.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,569,2016-12-21T16:18:18Z,2017-01-16T01:11:18Z,2017-01-16T05:47:26Z,MERGED,True,135,43,14,https://github.com/cebe,Fixed Hanging GUI when changing network settings,5,[],https://github.com/uTox/uTox/pull/569,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/569#issuecomment-272752490,"In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ","Reviewed 2 of 2 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/ui/buttons.c, line 61 at r2 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
yes, works fine. The main issue with a password is that you have to re-enter it again as soon as you change a network setting. But other than that it works fine.

we'll accept that for now

src/ui/switch.c, line 107 at r2 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
Done. kept the reset of mousedown.

LGTM

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,569,2016-12-21T16:18:18Z,2017-01-16T01:11:18Z,2017-01-16T05:47:26Z,MERGED,True,135,43,14,https://github.com/cebe,Fixed Hanging GUI when changing network settings,5,[],https://github.com/uTox/uTox/pull/569,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/569#issuecomment-272752782,"In case of an error in init_toxcore() currently tox_thread_init
is not set to 1 causing the thread calling tox_settingschanged() to wait forever in
this loop.
There are two error situations, the first is simple, waiting for
password input before tox can connect. The second is fatal error when
utox is unable to create a tox instance. The last one was failing here.
It is now fixed by handling this case in an exctra condition in
toxcore_thread().
I have also fixed the error condition in init_toxcore() to fail only
if *tox == NULL, the other parts of the condition make no sense.
Additionally the Toggle of the UDP button got inverted when setting a
proxy, this is fixed by updating the button at the same time when
updating the setting.
Also disabling the UDP button when enabling proxy makes sense to avoid
creating impossible config combination.
Finally in the error sitatuation a link is created from the ""Not
Connected"" message to the network tab to allow adjusting the settings
quickly.
fixes #544


This change is‚ÄÇ","Reviewed 2 of 2 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,573,2016-12-22T08:49:12Z,2016-12-23T23:41:57Z,2019-01-21T09:09:04Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Fix friend notification sounds,1,[],https://github.com/uTox/uTox/pull/573,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/573,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,573,2016-12-22T08:49:12Z,2016-12-23T23:41:57Z,2019-01-21T09:09:04Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Fix friend notification sounds,1,[],https://github.com/uTox/uTox/pull/573,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/573#issuecomment-269057156,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,573,2016-12-22T08:49:12Z,2016-12-23T23:41:57Z,2019-01-21T09:09:04Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Fix friend notification sounds,1,[],https://github.com/uTox/uTox/pull/573,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/573#issuecomment-269057200,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, all discussions resolved, some commit checks failed.

src/friend.c, line 361 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
is this the correct order? if online => play offline, else play online? if so, a comment should explain why.

OK

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,573,2016-12-22T08:49:12Z,2016-12-23T23:41:57Z,2019-01-21T09:09:04Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Fix friend notification sounds,1,[],https://github.com/uTox/uTox/pull/573,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/573#issuecomment-269057218,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,573,2016-12-22T08:49:12Z,2016-12-23T23:41:57Z,2019-01-21T09:09:04Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Fix friend notification sounds,1,[],https://github.com/uTox/uTox/pull/573,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/573#issuecomment-269057258,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,574,2016-12-22T17:29:39Z,2016-12-24T00:12:19Z,2017-02-12T21:33:39Z,CLOSED,False,167,54,11,https://github.com/endoffile78,Add notifications and advanced settings tab,1,[],https://github.com/uTox/uTox/pull/574,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/574,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,574,2016-12-22T17:29:39Z,2016-12-24T00:12:19Z,2017-02-12T21:33:39Z,CLOSED,False,167,54,11,https://github.com/endoffile78,Add notifications and advanced settings tab,1,[],https://github.com/uTox/uTox/pull/574,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/574#issuecomment-268859176,This change is‚ÄÇ,"Reviewed 11 of 11 files at r1.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

langs/en.h, line 709 at r1 (raw file):

msgstr(""Status Notifications"")

msgid(ADV_BUTTON)

Move the two new strings up to the sorted section under a suitable header.

langs/i18n_decls.h, line 122 at r1 (raw file):

    STR_USER_INTERFACE_BUTTON,
    STR_AUDIO_VIDEO_BUTTON,
    STR_ADV_BUTTON,

Maybe rename this to STR_ADVANCED_BUTTON since no other settings buttons are abbreviated.

src/main.c, line 49 at r1 (raw file):

    .window_height        = 600,
    .window_width         = 1000,

Use MAIN_WIDTH and MAIN_HEIGHT here.

src/ui.c, line 110 at r1 (raw file):

    panel_settings_ui.y      = SCALE(32);
    panel_settings_av.y      = SCALE(32);
    panel_settings_adv.y     = SCALE(32);

No panel_settings_notifications?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,574,2016-12-22T17:29:39Z,2016-12-24T00:12:19Z,2017-02-12T21:33:39Z,CLOSED,False,167,54,11,https://github.com/endoffile78,Add notifications and advanced settings tab,1,[],https://github.com/uTox/uTox/pull/574,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/574#issuecomment-268884015,This change is‚ÄÇ,"Review status: 5 of 11 files reviewed at latest revision, 4 unresolved discussions.

langs/en.h, line 709 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Move the two new strings up to the sorted section under a suitable header.

Done.

langs/i18n_decls.h, line 122 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Maybe rename this to STR_ADVANCED_BUTTON since no other settings buttons are abbreviated.

Done.

src/main.c, line 49 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Use MAIN_WIDTH and MAIN_HEIGHT here.

Done.

src/ui.c, line 110 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
No panel_settings_notifications?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,574,2016-12-22T17:29:39Z,2016-12-24T00:12:19Z,2017-02-12T21:33:39Z,CLOSED,False,167,54,11,https://github.com/endoffile78,Add notifications and advanced settings tab,1,[],https://github.com/uTox/uTox/pull/574,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/574#issuecomment-268990198,This change is‚ÄÇ,"After testing this, I can see that you need to move all items in the Notifications tab up 1 item and also increase the minimum width of the window even more. After that, this should be good to merge. You may want to rebase the nospam PR on top of this one and add it to the advanced menu so we can merge them both and not have the advanced menu be empty.


Reviewed 6 of 6 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,574,2016-12-22T17:29:39Z,2016-12-24T00:12:19Z,2017-02-12T21:33:39Z,CLOSED,False,167,54,11,https://github.com/endoffile78,Add notifications and advanced settings tab,1,[],https://github.com/uTox/uTox/pull/574,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/574#issuecomment-269057883,This change is‚ÄÇ,"Reviewed 2 of 2 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,574,2016-12-22T17:29:39Z,2016-12-24T00:12:19Z,2017-02-12T21:33:39Z,CLOSED,False,167,54,11,https://github.com/endoffile78,Add notifications and advanced settings tab,1,[],https://github.com/uTox/uTox/pull/574,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/574#issuecomment-269059161,This change is‚ÄÇ,Merged into #550,True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/575,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/575#issuecomment-268988484,This change is‚ÄÇ,made some changes to this in endoffile78#1,True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/575#issuecomment-269018405,This change is‚ÄÇ,"Reviewed 5 of 7 files at r2, 2 of 2 files at r4, 1 of 1 files at r5, 3 of 3 files at r6, 3 of 3 files at r7.
Review status: all files reviewed at latest revision, 7 unresolved discussions.

CMakeLists.txt, line 48 at r5 (raw file):

    add_subdirectory(src/windows)
elseif(APPLE)
    add_definitions(""-x objective-c"")

This is in the cocoa CMakeLists too. I think we should remove this one.

src/av/CMakeLists.txt, line 1 at r5 (raw file):

cmake_minimum_required(VERSION 3.2)

This should probably only go in the first CMakeLists. This applies to all files in subdirectories.

src/cocoa/CMakeLists.txt, line 41 at r5 (raw file):

    COMMAND iconutil --convert icns utox.iconset -o utox.icns
    DEPENDS utox.iconset
	)

Indentation here is \t instead of spaces.

src/xlib/CMakeLists.txt, line 41 at r5 (raw file):

target_link_libraries(utoxNATIVE icon v4lconvert X11 Xext Xrender fontconfig freetype resolv dl )

install(FILES

All lines after this are using \t instead of spaces for indentation.

travis/osx-before.sh, line 73 at r6 (raw file):

rm -rf toxcore

if ! [ -d filter_audio ]; then

Can you move the filter_audio stuff for Travis into a separate script that's called for all platforms.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/575#issuecomment-269021833,This change is‚ÄÇ,"Review status: 2 of 10 files reviewed at latest revision, 7 unresolved discussions.

CMakeLists.txt, line 15 at r3 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
this should actually be ""ON"" by default, I just accidentally commited the version with 0, while testing.

Done.

src/av/CMakeLists.txt, line 1 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This should probably only go in the first CMakeLists. This applies to all files in subdirectories.

Done.

src/cocoa/CMakeLists.txt, line 41 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Indentation here is \t instead of spaces.

Done.

src/xlib/CMakeLists.txt, line 41 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
All lines after this are using \t instead of spaces for indentation.

Done.

src/CMakeLists.txt, line 77 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
is this necessary? we already have set(CMAKE_C_STANDARD 99) in the main CMakeLists.txt

I don't know if its needed I just copied it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/575#issuecomment-269022685,This change is‚ÄÇ,"Review status: 2 of 11 files reviewed at latest revision, 7 unresolved discussions.

CMakeLists.txt, line 48 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This is in the cocoa CMakeLists too. I think we should remove this one.

Done.

travis/osx-before.sh, line 73 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Can you move the filter_audio stuff for Travis into a separate script that's called for all platforms.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/575#issuecomment-269023939,This change is‚ÄÇ,"Reviewed 9 of 9 files at r8.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

CMakeLists.txt, line 48 at r5 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Done.

Sorry, I meant keep the one in src/cocoa and remove the one in this file.

travis/osx-before.sh, line 73 at r6 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Done.

This is still some code duplication that we can avoid. How about adding ./travis/filter_audio.sh above this line?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/575#issuecomment-269024650,This change is‚ÄÇ,"Review status: 8 of 10 files reviewed at latest revision, 4 unresolved discussions.

CMakeLists.txt, line 48 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Sorry, I meant keep the one in src/cocoa and remove the one in this file.

I added it there becuase without it the build fails, it tries to build xlib.

travis/osx-before.sh, line 73 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This is still some code duplication that we can avoid. How about adding ./travis/filter_audio.sh above this line?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/575#issuecomment-269044677,This change is‚ÄÇ,"Reviewed 4 of 4 files at r10.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

CMakeLists.txt, line 48 at r5 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
I added it there becuase without it the build fails, it tries to build xlib.

You're right. Looks good, then. :)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/575#issuecomment-269044864,This change is‚ÄÇ,"Reviewed 1 of 7 files at r2, 2 of 2 files at r4, 4 of 9 files at r8, 2 of 4 files at r10.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/av/CMakeLists.txt, line 6 at r10 (raw file):

    # this is needed because we include main_native.h from audio.c, which depends on freetype
    # TODO could be removed if we manage to remove that dependency
    include_directories(/usr/include/freetype2)

FYI This dependency can be removed by better splitting the drawing functions from the platform/main.h files. I've already started this in the widow popup pull.

src/windows/CMakeLists.txt, line 9 at r10 (raw file):

## Native Icon data
#########################################
enable_language(RC)

Is this needed in the main file as well?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/575#issuecomment-269044912,This change is‚ÄÇ,"Reviewed 1 of 9 files at r8.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/575#issuecomment-269057389,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/av/CMakeLists.txt, line 6 at r10 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
FYI This dependency can be removed by better splitting the drawing functions from the platform/main.h files. I've already started this in the widow popup pull.

This can be removed if we remove the #include ""main_native.h"" from utox_av.c. It still compiles without and there are no warnings so It doesn't seem like it is actually needed. I can remove it if you want.

src/windows/CMakeLists.txt, line 9 at r10 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Is this needed in the main file as well?

I don't think it is.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/575#issuecomment-269101828,This change is‚ÄÇ,"Reviewed 1 of 2 files at r11.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/Encrypt,13,https://github.com/uTox/uTox/pull/575#issuecomment-269104487,This change is‚ÄÇ,I would like to say LGTM here but I'm afraid I don't have enough knowledge about how cmake works to judge üòï,True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/575#issuecomment-269117675,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/av/CMakeLists.txt, line 6 at r10 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
This can be removed if we remove the #include ""main_native.h"" from utox_av.c. It still compiles without and there are no warnings so It doesn't seem like it is actually needed. I can remove it if you want.

yeah, let's do that!

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/endoffile78,15,https://github.com/uTox/uTox/pull/575#issuecomment-269127886,This change is‚ÄÇ,"Review status: 8 of 10 files reviewed at latest revision, 4 unresolved discussions.

src/av/CMakeLists.txt, line 6 at r10 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
yeah, let's do that!

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/cebe,16,https://github.com/uTox/uTox/pull/575#issuecomment-269139362,This change is‚ÄÇ,@Encrypt you can help by testing the build on all platforms you have available. Not much cmake knowledge needed :),True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/cebe,17,https://github.com/uTox/uTox/pull/575#issuecomment-269139777,This change is‚ÄÇ,"Reviewed 1 of 7 files at r2, 5 of 9 files at r8, 2 of 4 files at r10, 1 of 2 files at r11, 2 of 2 files at r12.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/cebe,18,https://github.com/uTox/uTox/pull/575#issuecomment-269142205,This change is‚ÄÇ,"pull request for better freetype handling: endoffile78#2
other than that this looks good to me for linux. Have no other platforms to test on.",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/GrayHatter,19,https://github.com/uTox/uTox/pull/575#issuecomment-269186157,This change is‚ÄÇ,"Reviewed 1 of 9 files at r8, 1 of 4 files at r10, 2 of 2 files at r12, 3 of 3 files at r13.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/robinlinden,20,https://github.com/uTox/uTox/pull/575#issuecomment-269206527,This change is‚ÄÇ,"Reviewed 2 of 2 files at r12, 3 of 3 files at r13.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/windows/CMakeLists.txt, line 18 at r13 (raw file):

    dnd.c
    drawing.c
    example.reg

Pretty sure we can drop this line for now (or forever).

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/cebe,21,https://github.com/uTox/uTox/pull/575#issuecomment-269231177,This change is‚ÄÇ,"Reviewed 3 of 3 files at r13.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/endoffile78,22,https://github.com/uTox/uTox/pull/575#issuecomment-269359317,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/windows/CMakeLists.txt, line 18 at r13 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Pretty sure we can drop this line for now (or forever).

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/robinlinden,23,https://github.com/uTox/uTox/pull/575#issuecomment-269364950,This change is‚ÄÇ,"Reviewed 1 of 1 files at r14, 1 of 1 files at r15.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/cebe,24,https://github.com/uTox/uTox/pull/575#issuecomment-269394209,This change is‚ÄÇ,"Reviewed 1 of 1 files at r14, 1 of 1 files at r15.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/cebe,25,https://github.com/uTox/uTox/pull/575#issuecomment-269397640,This change is‚ÄÇ,"Reviewed 2 of 2 files at r16.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/GrayHatter,26,https://github.com/uTox/uTox/pull/575#issuecomment-269398314,This change is‚ÄÇ,"Reviewed 1 of 1 files at r14, 1 of 2 files at r16, 1 of 1 files at r17.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/CMakeLists.txt, line 9 at r10 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
I don't think it is.

it was

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/GrayHatter,27,https://github.com/uTox/uTox/pull/575#issuecomment-269398480,This change is‚ÄÇ,"removing -@Encrypt and -@robinlinden ;; unable to review and unavailable respectively
  @cebe

Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/GrayHatter,28,https://github.com/uTox/uTox/pull/575#issuecomment-269398588,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/CMakeLists.txt, line 9 at r10 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
it was

dismissed @endoffile78 as AFK, @cebe will confirm.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/cebe,29,https://github.com/uTox/uTox/pull/575#issuecomment-269398622,This change is‚ÄÇ,":

Reviewed 1 of 1 files at r17.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,575,2016-12-22T20:51:31Z,2016-12-27T23:42:31Z,2019-01-21T09:09:04Z,MERGED,True,218,180,10,https://github.com/endoffile78,Split CMakeLists.txt into multiple files,8,[],https://github.com/uTox/uTox/pull/575,https://github.com/GrayHatter,30,https://github.com/uTox/uTox/pull/575#issuecomment-269398787,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/CMakeLists.txt, line 9 at r10 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
dismissed @endoffile78 as AFK, @cebe will confirm.

LGTM

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/577,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/577#issuecomment-268982168,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/ui.c, line 145 at r1 (raw file):

    CREATE_SWITCH(audible_notifications, SCALE(-10) - BM_SWITCH_WIDTH, SCALE(0), BM_SWITCH_WIDTH,BM_SWITCH_HEIGHT);
    CREATE_SWITCH(push_to_talk, SCALE(-10) - BM_SWITCH_WIDTH, SCALE(30), BM_SWITCH_WIDTH,BM_SWITCH_HEIGHT);
#ifdef AUDIO_FILTERING

Can you do this in a way similar to 
  
    
      uTox/src/ui/draw_helpers.c
    
    
         Line 433
      in
      92ff3e1
    
  
  
    

        
          
           // The element is draw_pos_y_inc units apart and they start draw_pos_y down. 
        
    
  

 so that there's not a blank space in the settings if AUDIO_FILTERING isn't enabled?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/577#issuecomment-268985034,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","Reviewed 2 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/ui.c, line 145 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Can you do this in a way similar to 
  
    
      uTox/src/ui/draw_helpers.c
    
    
         Line 433
      in
      92ff3e1
    
  
  
    

        
          
           // The element is draw_pos_y_inc units apart and they start draw_pos_y down. 
        
    
  

 so that there's not a blank space in the settings if AUDIO_FILTERING isn't enabled?

Audio filtering is a compile option, is there a reason we shouldn't push it down to the bottom of the list in every case?
Also be aware of #574

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/577#issuecomment-268985788,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/ui.c, line 145 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Audio filtering is a compile option, is there a reason we shouldn't push it down to the bottom of the list in every case?
Also be aware of #574

It might not always make sense at the bottom of the list. It didn't last time I messed around with it.
Another benefit of using a construction like the one in draw_helpers.c is that you don't have to manually type in and change all offsets if you're adding something to the middle of the list. Lower risk of human error. You just reorder it however you want and it just works.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/577#issuecomment-268986238,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/ui.c, line 145 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
It might not always make sense at the bottom of the list. It didn't last time I messed around with it.
Another benefit of using a construction like the one in draw_helpers.c is that you don't have to manually type in and change all offsets if you're adding something to the middle of the list. Lower risk of human error. You just reorder it however you want and it just works.

How about forking each panel into it's own function?
Eg a separate function for each page/settings panel?
Then it would be much easier to update and edit them in situ?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/577#issuecomment-268986445,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/ui.c, line 145 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
How about forking each panel into it's own function?
Eg a separate function for each page/settings panel?
Then it would be much easier to update and edit them in situ?

I've been thinking we should do that too. Also combining all switches, buttons, and text for each panel into their own function so we can get a better overall view of how each panel is built without skipping between 4-5 different files.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/577#issuecomment-268988233,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","Let's wait until after the two pending pulls are merged.

Mine and e0f's both touch the surrounding code.

On Dec 23, 2016 4:59 AM, ""Robin Lind√©n"" <notifications@github.com> wrote:

Review status: all files reviewed at latest revision, 1 unresolved
discussion, some commit checks failed.
------------------------------

*src/ui.c, line 145 at r1
<https://reviewable.io:443/reviews/utox/utox/577#-KZfb6zItPYmle3PcHqa:-KZfkUVwFTjcoC0jdT9C:bdqmcyk>
(raw file
<https://github.com/utox/utox/blob/92ff3e1c7297c3c0b64de3efbc4f9086dbed9110/src/ui.c#L145>):*
*Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶*

How about forking each panel into it's own function?

Eg a separate function for each page/settings panel?

Then it would be much easier to update and edit them in situ?

I've been thinking we should do that too. Also combining all switches,
buttons, and text for each panel into their own function so we can get a
better overall view of how each panel is built without skipping between 4-5
different files.
------------------------------

*Comments from Reviewable <https://reviewable.io:443/reviews/utox/utox/577>*

‚Äî
You are receiving this because you commented.

Reply to this email directly, view it on GitHub
<#577 (comment)>, or mute the
thread
<https://github.com/notifications/unsubscribe-auth/AAO20B44gFAEAaaHoYT7j7_CY-v4vW-aks5rK8WagaJpZM4LUw8x>
.",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/577#issuecomment-269268979,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","Reviewed 2 of 3 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/cebe,9,https://github.com/uTox/uTox/pull/577#issuecomment-269269173,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/ui.c, line 145 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
src/ui.c, line 145 at r1 https://reviewable.io:443/reviews/utox/utox/577#-KZfb6zItPYmle3PcHqa:-KZfkUVwFTjcoC0jdT9C:bdqmcyk (raw file https://github.com/utox/utox/blob/92ff3e1c7297c3c0b64de3efbc4f9086dbed9110/src/ui.c#L145): Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
How about forking each panel into it's own function?
Eg a separate function for each page/settings panel?
Then it would be much easier to update and edit them in situ?
I've been thinking we should do that too. Also combining all switches, buttons, and text for each panel into their own function so we can get a better overall view of how each panel is built without skipping between 4-5 different files.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/577#issuecomment-269270483,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/577#issuecomment-269271093,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,577,2016-12-23T11:47:43Z,2016-12-27T06:44:04Z,2016-12-27T09:54:38Z,MERGED,True,1,4,2,https://github.com/cebe,Fix switches,1,[],https://github.com/uTox/uTox/pull/577,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/577#issuecomment-269278155,"fix duplicate declaration in switch.h
fixed order of audio filtering and status notification switches

fixes - #576


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,578,2016-12-23T11:56:55Z,2016-12-23T23:29:35Z,2017-01-25T19:47:06Z,MERGED,True,41,5,2,https://github.com/robinlinden,Apply irungentoo's fixes for the XP build and AUDIO_FILTERING,1,[],https://github.com/uTox/uTox/pull/578,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/578,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,578,2016-12-23T11:56:55Z,2016-12-23T23:29:35Z,2017-01-25T19:47:06Z,MERGED,True,41,5,2,https://github.com/robinlinden,Apply irungentoo's fixes for the XP build and AUDIO_FILTERING,1,[],https://github.com/uTox/uTox/pull/578,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/578#issuecomment-268985868,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,578,2016-12-23T11:56:55Z,2016-12-23T23:29:35Z,2017-01-25T19:47:06Z,MERGED,True,41,5,2,https://github.com/robinlinden,Apply irungentoo's fixes for the XP build and AUDIO_FILTERING,1,[],https://github.com/uTox/uTox/pull/578,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/578#issuecomment-268986441,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,579,2016-12-23T20:47:01Z,2016-12-23T23:41:01Z,2017-01-25T19:47:33Z,MERGED,True,8,8,3,https://github.com/robinlinden,Fix uTox not using the MAIN_HEIGHT & WIDTH defines.,2,[],https://github.com/uTox/uTox/pull/579,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/579,This change is‚ÄÇ,This change is‚ÄÇ,True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,579,2016-12-23T20:47:01Z,2016-12-23T23:41:01Z,2017-01-25T19:47:33Z,MERGED,True,8,8,3,https://github.com/robinlinden,Fix uTox not using the MAIN_HEIGHT & WIDTH defines.,2,[],https://github.com/uTox/uTox/pull/579,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/579#issuecomment-269044955,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,579,2016-12-23T20:47:01Z,2016-12-23T23:41:01Z,2017-01-25T19:47:33Z,MERGED,True,8,8,3,https://github.com/robinlinden,Fix uTox not using the MAIN_HEIGHT & WIDTH defines.,2,[],https://github.com/uTox/uTox/pull/579,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/579#issuecomment-269056755,This change is‚ÄÇ,"Reviewed 2 of 3 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,579,2016-12-23T20:47:01Z,2016-12-23T23:41:01Z,2017-01-25T19:47:33Z,MERGED,True,8,8,3,https://github.com/robinlinden,Fix uTox not using the MAIN_HEIGHT & WIDTH defines.,2,[],https://github.com/uTox/uTox/pull/579,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/579#issuecomment-269057065,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,589,2016-12-26T00:55:34Z,2016-12-26T01:14:08Z,2016-12-26T01:17:22Z,MERGED,True,87,84,7,https://github.com/GrayHatter,Rename onpress to on_mup,1,[],https://github.com/uTox/uTox/pull/589,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/589,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,589,2016-12-26T00:55:34Z,2016-12-26T01:14:08Z,2016-12-26T01:17:22Z,MERGED,True,87,84,7,https://github.com/GrayHatter,Rename onpress to on_mup,1,[],https://github.com/uTox/uTox/pull/589,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/589#issuecomment-269144520,This change is‚ÄÇ,"Reviewed 7 of 7 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,589,2016-12-26T00:55:34Z,2016-12-26T01:14:08Z,2016-12-26T01:17:22Z,MERGED,True,87,84,7,https://github.com/GrayHatter,Rename onpress to on_mup,1,[],https://github.com/uTox/uTox/pull/589,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/589#issuecomment-269144652,This change is‚ÄÇ,"Reviewed 7 of 7 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/ui/button.c, line 131 at r1 (raw file):

}

bool button_mright(BUTTON *b) {

right click behaves different from left click as it does not check for b->mousedown. not a change in this PR but why is that?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,589,2016-12-26T00:55:34Z,2016-12-26T01:14:08Z,2016-12-26T01:17:22Z,MERGED,True,87,84,7,https://github.com/GrayHatter,Rename onpress to on_mup,1,[],https://github.com/uTox/uTox/pull/589,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/589#issuecomment-269144749,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,589,2016-12-26T00:55:34Z,2016-12-26T01:14:08Z,2016-12-26T01:17:22Z,MERGED,True,87,84,7,https://github.com/GrayHatter,Rename onpress to on_mup,1,[],https://github.com/uTox/uTox/pull/589,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/589#issuecomment-269144845,This change is‚ÄÇ,"Reviewed 7 of 7 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions, all commit checks successful.

src/ui/buttons.c, line 694 at r1 (raw file):

        .button_text = {.i18nal = STR_ADD },
        .update  = button_setcolors_success,
        .on_mup = button_add_device_to_self_mdown,

lhs: mup, rhs: mdown?

src/ui/switch.c, line 105 at r1 (raw file):

        if (s->mouseover) {
            s->switch_on = !s->switch_on;
            s->on_mup();

This is a bit of a weird construction now. if (s->mousedown) { if (s->mouseover) { s->on_mup(); } }

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,589,2016-12-26T00:55:34Z,2016-12-26T01:14:08Z,2016-12-26T01:17:22Z,MERGED,True,87,84,7,https://github.com/GrayHatter,Rename onpress to on_mup,1,[],https://github.com/uTox/uTox/pull/589,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/589#issuecomment-269144992,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/ui/button.c, line 131 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
right click behaves different from left click as it does not check for b->mousedown. not a change in this PR but why is that?

answered in IRC

src/ui/buttons.c, line 694 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
lhs: mup, rhs: mdown?

mdown used to do stuff, I've changed it to mup, because that makes more sense.
I can fix this but then I'd have to rebase. I suggest we fix this on the next go around?

src/ui/switch.c, line 105 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This is a bit of a weird construction now. if (s->mousedown) { if (s->mouseover) { s->on_mup(); } }

It's correct, if m-down we always have to do stuff, but only call the switch function if mouseover is true.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,589,2016-12-26T00:55:34Z,2016-12-26T01:14:08Z,2016-12-26T01:17:22Z,MERGED,True,87,84,7,https://github.com/GrayHatter,Rename onpress to on_mup,1,[],https://github.com/uTox/uTox/pull/589,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/589#issuecomment-269145181,This change is‚ÄÇ,"Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/590,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/590#issuecomment-269145563,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Doesn't compile.

Reviewed 26 of 26 files at r1.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/utox.c, line 328 at r1 (raw file):

        }
        case FRIEND_MESSAGE: {
            native_notify_new(NULL, NULL); // Intentional fallthrough

This is only defined for windows.

src/cocoa/main.m, line 317 at r1 (raw file):

}

void postmessage_utox(uint32_t msg, uint16_t param1, uint16_t param2, void *data) {

Shouldn't msg be a UTOX_MSG instead of uint32_t.

src/windows/notify.c, line 1 at r1 (raw file):

#include ""main.h""

Should this file be included in this pr?

src/windows/notify.c, line 25 at r1 (raw file):

static void window_set_make(HWND window, uint16_t number) {
    for (uint8_t i = 0; i < 20; ++i) {

Why 20?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/590#issuecomment-269146728,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Reviewed 26 of 26 files at r1.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/utox.c, line 328 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
This is only defined for windows.

should be commented out here, or removed, as it belongs to the notification PR.

src/utox.h, line 72 at r1 (raw file):

void postmessage_utox(UTOX_MSG msg, uint16_t param1, uint16_t param2, void *data);

void utox_message_dispatch(UTOX_MSG utox_msg_id, uint16_t param1, uint16_t param2, void *data);

one thing about naming:

postmessage_utox
utox_message_dispatch

wouldn't it be better to keep it consistent with either prefixing or postfixing?

src/cocoa/main.m, line 317 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Shouldn't msg be a UTOX_MSG instead of uint32_t.

I have no idea how mac works but sounds correct to me. that would match the signature in the header.

src/windows/notify.c, line 1 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Should this file be included in this pr?

it should not.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/590#issuecomment-269146936,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Also, does not compile on debian/linux:
[ 41%] Building C object CMakeFiles/utoxNATIVE.dir/src/xlib/gtk.c.o
/home/cebe/dev/tox/uTox/src/xlib/gtk.c: In function ‚Äòugtk_opensendthread‚Äô:
/home/cebe/dev/tox/uTox/src/xlib/gtk.c:104:20: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
     uint32_t fid = (uint32_t)args;
                    ^
/home/cebe/dev/tox/uTox/src/xlib/gtk.c:129:13: warning: format ‚Äò%s‚Äô expects argument of type ‚Äòchar *‚Äô, but argument 2 has type ‚Äòvoid *‚Äô [-Wformat=]
             debug_info(""GTK:\tSending file %s\n"", p->data);
             ^
/home/cebe/dev/tox/uTox/src/xlib/gtk.c: In function ‚Äòugtk_openavatarthread‚Äô:
/home/cebe/dev/tox/uTox/src/xlib/gtk.c:187:13: warning: implicit declaration of function ‚Äòpostmessage_utox‚Äô [-Wimplicit-function-declaration]
             postmessage_utox(SELF_AVATAR_SET, size, 0, file_data);
             ^
/home/cebe/dev/tox/uTox/src/xlib/gtk.c:187:30: error: ‚ÄòSELF_AVATAR_SET‚Äô undeclared (first use in this function)
             postmessage_utox(SELF_AVATAR_SET, size, 0, file_data);
                              ^
/home/cebe/dev/tox/uTox/src/xlib/gtk.c:187:30: note: each undeclared identifier is reported only once for each function it appears in
/home/cebe/dev/tox/uTox/src/xlib/gtk.c: In function ‚Äòugtk_savethread‚Äô:
/home/cebe/dev/tox/uTox/src/xlib/gtk.c:248:34: error: ‚ÄòFILE_INCOMING_ACCEPT‚Äô undeclared (first use in this function)
                 postmessage_utox(FILE_INCOMING_ACCEPT, file->friend_number, (file->file_number >> 16), path);
                                  ^
/home/cebe/dev/tox/uTox/src/xlib/gtk.c: In function ‚Äòugtk_save_chatlog_thread‚Äô:
/home/cebe/dev/tox/uTox/src/xlib/gtk.c:307:13: warning: implicit declaration of function ‚Äòutox_export_chatlog‚Äô [-Wimplicit-function-declaration]
             utox_export_chatlog(friend[friend_number].id_str, fp);
             ^
/home/cebe/dev/tox/uTox/src/xlib/gtk.c: In function ‚Äòugtk_native_select_dir_ft‚Äô:
/home/cebe/dev/tox/uTox/src/xlib/gtk.c:337:41: warning: unused parameter ‚Äòfid‚Äô [-Wunused-parameter]
 void ugtk_native_select_dir_ft(uint32_t fid, FILE_TRANSFER *file) {
                                         ^
CMakeFiles/utoxNATIVE.dir/build.make:206: recipe for target 'CMakeFiles/utoxNATIVE.dir/src/xlib/gtk.c.o' failed
make[2]: *** [CMakeFiles/utoxNATIVE.dir/src/xlib/gtk.c.o] Error 1
CMakeFiles/Makefile2:141: recipe for target 'CMakeFiles/utoxNATIVE.dir/all' failed
make[1]: *** [CMakeFiles/utoxNATIVE.dir/all] Error 2
Makefile:127: recipe for target 'all' failed
make: *** [all] Error 2",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/590#issuecomment-269147267,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ",fixed in #591,True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/590#issuecomment-269148236,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Review status: 24 of 25 files reviewed at latest revision, 5 unresolved discussions.

src/utox.h, line 72 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
one thing about naming:

postmessage_utox
utox_message_dispatch

wouldn't it be better to keep it consistent with either prefixing or postfixing?

I think it is consistant
post message to utox thread
and action/verb -> target vs  subject -> action/verb have use cases. I can rename the postmessage_utox, but I don't think that's the best way. I don't know theres' a better name for utox_message_dispatch

src/cocoa/main.m, line 317 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
I have no idea how mac works but sounds correct to me. that would match the signature in the header.

Done.

src/windows/notify.c, line 1 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
it should not.

Done.

src/windows/notify.c, line 25 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Why 20?

file removed

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/590#issuecomment-269148434,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/590#issuecomment-269148589,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/cebe,9,https://github.com/uTox/uTox/pull/590#issuecomment-269148602,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2, 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/cebe,10,https://github.com/uTox/uTox/pull/590#issuecomment-269149214,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Reviewed 2 of 2 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/590#issuecomment-269149220,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Reviewed 2 of 2 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/590#issuecomment-269149682,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Reviewed 18 of 26 files at r1, 1 of 2 files at r2, 3 of 3 files at r3, 2 of 2 files at r4, 1 of 1 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/cebe,13,https://github.com/uTox/uTox/pull/590#issuecomment-269149854,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved, some commit checks pending.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,590,2016-12-26T01:00:14Z,2016-12-26T02:36:45Z,2016-12-26T07:56:48Z,MERGED,True,181,162,24,https://github.com/GrayHatter,Refactor postmessages(),2,[],https://github.com/uTox/uTox/pull/590,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/590#issuecomment-269150332,"This change makes it more clear what needs to be done inside the
UI thread, vs what's allowed to be done by the toxcore thread.
In this case, redraw() must only be called from the UI thread.
While this is always the way it should have been, the addition
of the 2,3... windows each having their own drawing device
context removes the flexablity we could allow before.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,591,2016-12-26T01:47:16Z,2016-12-26T01:53:24Z,2016-12-26T01:53:52Z,MERGED,True,4,1,3,https://github.com/cebe,fixes build for linux,1,[],https://github.com/uTox/uTox/pull/591,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/591,"fixed linux build for #590


This change is‚ÄÇ","fixed linux build for #590


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,591,2016-12-26T01:47:16Z,2016-12-26T01:53:24Z,2016-12-26T01:53:52Z,MERGED,True,4,1,3,https://github.com/cebe,fixes build for linux,1,[],https://github.com/uTox/uTox/pull/591,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/591#issuecomment-269147376,"fixed linux build for #590


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,591,2016-12-26T01:47:16Z,2016-12-26T01:53:24Z,2016-12-26T01:53:52Z,MERGED,True,4,1,3,https://github.com/cebe,fixes build for linux,1,[],https://github.com/uTox/uTox/pull/591,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/591#issuecomment-269147583,"fixed linux build for #590


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/593,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/593#issuecomment-269399795,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ",we should probably delete this file and have cmake generate it for us https://github.com/uTox/uTox/blob/develop/src/cocoa/Info.plist#L24,True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/593#issuecomment-269400197,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","Reviewed 2 of 3 files at r1.
Review status: 2 of 3 files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 14 at r1 (raw file):

configure_file(${uTox_SOURCE_DIR}/src/branding.h.in
               ${uTox_BINARY_DIR}/src/branding.h)
include_directories(""${uTox_BINARY_DIR}/src"")

are you sure this include is needed?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/593#issuecomment-269400210,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","Reviewed 1 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/593#issuecomment-269400541,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 14 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
are you sure this include is needed?

yes, I want to avoid generating the branding.h inside of the utox source, so we need to include its location in the build directory.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/593#issuecomment-269406482,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/593#issuecomment-269452861,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/Encrypt,8,https://github.com/uTox/uTox/pull/593#issuecomment-269678485,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","Hum...
According to the changes, merging this commit will break the builds of uTox on https://build.tox.chat/
Indeed, ToxDeb does the following to get the current version of uTox:

It searches for the main.h file in the project, as set here: https://github.com/Encrypt/toxdeb/blob/master/configs/utox-default.cfg#L3
It then searches for a line containing the word version followed by a version number.
See: https://github.com/Encrypt/toxdeb/blob/master/toxdeb.sh#L159-L172

This is done before calling pbuilder and therefore before calling make (and the file generation that would take place in branding.h.in).
I have to get this version number before the build in order to do the source folder following the appropriate name convention.
So, a workaround could be to:

Manually set the complete version number instead of auto-generating it here: https://github.com/uTox/uTox/blob/develop/CMakeLists.txt#L9-L10
Keep the version number in the main.h file but it makes this commit kind of pointless...
Or... I'll have to review my script üòï",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/cebe,9,https://github.com/uTox/uTox/pull/593#issuecomment-269712235,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ",@Encrypt thanks for reporting this. I was not aware that this information would be used outside of uTox itself. Will check out your script and see how to make it compatible before merging this.,True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/593#issuecomment-269726701,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ",We can just commit the branding.h into the git repo as well.,True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/cebe,11,https://github.com/uTox/uTox/pull/593#issuecomment-269727812,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","the PR would be pointless then, as we would still have two places to maintain ;)",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/593#issuecomment-269735478,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ",not if cmake regenerated it each time you ran it. As is done in toxcore. cmake will regenerate tox.h everytime the version changes.,True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/cebe,13,https://github.com/uTox/uTox/pull/593#issuecomment-271212078,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","Update to do the following:

update src/branding.h for the binary
update src/android/AndroidManifest.xml for android meta data
update src/cocoa/Info.plist for osx meta data

all generated files are commited into the repo, so @Encrypt's script does still work. Sent a PR to update the filename there: Encrypt/toxdeb#1",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/593#issuecomment-271213645,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","Reviewed 5 of 5 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/593#issuecomment-271213649,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,593,2016-12-27T23:48:46Z,2017-01-09T05:35:49Z,2017-01-09T07:22:40Z,MERGED,True,174,49,7,https://github.com/cebe,configure version in one place,1,[],https://github.com/uTox/uTox/pull/593,https://github.com/endoffile78,16,https://github.com/uTox/uTox/pull/593#issuecomment-271213829,"uses cmake's configure_file module to generate a header file based on version options.
This will probably cause problem with non-cmake builds, which are:

 android



This change is‚ÄÇ","Reviewed 5 of 5 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,594,2016-12-27T23:53:11Z,2016-12-28T00:56:14Z,2016-12-28T01:00:14Z,MERGED,True,0,88,1,https://github.com/GrayHatter,Delete .clang-format,1,[],https://github.com/uTox/uTox/pull/594,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/594,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,594,2016-12-27T23:53:11Z,2016-12-28T00:56:14Z,2016-12-28T01:00:14Z,MERGED,True,0,88,1,https://github.com/GrayHatter,Delete .clang-format,1,[],https://github.com/uTox/uTox/pull/594,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/594#issuecomment-269400684,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,594,2016-12-27T23:53:11Z,2016-12-28T00:56:14Z,2016-12-28T01:00:14Z,MERGED,True,0,88,1,https://github.com/GrayHatter,Delete .clang-format,1,[],https://github.com/uTox/uTox/pull/594,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/594#issuecomment-269404984,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/595,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/595#issuecomment-269410096,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/595#issuecomment-269410440,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/chatlog.c, line 15 at r1 (raw file):

    if (append) {
        file = native_get_file(name, NULL, UTOX_FILE_OPTS_READ | UTOX_FILE_OPTS_APPEND | UTOX_FILE_OPTS_MKDIR);
        fseek(file, 0, SEEK_END);

shouldn't this be done by the native_get_file, seems that would be expected behavior, no?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/595#issuecomment-269419246,This change is‚ÄÇ,"Review status: 0 of 3 files reviewed at latest revision, 1 unresolved discussion.

src/chatlog.c, line 15 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
shouldn't this be done by the native_get_file, seems that would be expected behavior, no?

I don't want to imply anything more than we have to, in this case, the caller shouldn't expect that the file returned is in [location].

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/595#issuecomment-269419765,This change is‚ÄÇ,"The android version of native_get_file needs to be changed too.

Reviewed 3 of 3 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/595#issuecomment-269421603,This change is‚ÄÇ,"@endoffile78 android is done

Review status: 2 of 4 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/595#issuecomment-269421921,This change is‚ÄÇ,"Reviewed 2 of 2 files at r3, 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/android/main.c, line 255 at r4 (raw file):

    FILE *fp = fopen(path, mode);

    if (opts & UTOX_FILE_OPTS_WRITE && !fp) {

Should this also be added to the windows verison?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/595#issuecomment-269428272,This change is‚ÄÇ,"Review status: 2 of 4 files reviewed at latest revision, 1 unresolved discussion.

src/android/main.c, line 255 at r4 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Should this also be added to the windows verison?

just tested: windows doesn't have this issue.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/595#issuecomment-269463516,This change is‚ÄÇ,"Reviewed 1 of 3 files at r2, 1 of 1 files at r4, 2 of 2 files at r5.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/chatlog.c, line 16 at r5 (raw file):

        file = native_get_file(name, NULL, UTOX_FILE_OPTS_READ | UTOX_FILE_OPTS_WRITE | UTOX_FILE_OPTS_MKDIR);
        if (file) {
            fseek(file, 0, SEEK_END);

Passing a[+] to fopen forces all writes at EOF. How is this better?

src/posix/filesys.c, line 79 at r5 (raw file):

    if (!fp && opts & UTOX_FILE_OPTS_READ && opts & UTOX_FILE_OPTS_WRITE) {
        debug_notice(""POSIX:\tUnable to simple open, falling back to fd\n"");
        // read wont create a file if it doesn't' already exist. If we're allowed to write, lets try

Read wont, but w+ and a+ will which is why opts_to_sysmode would return a+ or w+ if you passed both read and write/append.

src/windows/filesys.c, line 14 at r5 (raw file):

        rw |= GENERIC_READ;
        mode[0] = 'r';
    } else if (opts & UTOX_FILE_OPTS_APPEND) {

Same as with xlib. This should no longer create files if it gets both READ and APPEND/WRITE.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/595#issuecomment-269480679,This change is‚ÄÇ,"Looking at this, we should probably add a utox file opt for update and use that when we want to write in the middle of a file. We should probably also have chatlog_get_file take utox file opts and pass them to native_get_file instead of not really appending if we pass append=true.

Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/595#issuecomment-269554577,This change is‚ÄÇ,"Review status: 3 of 4 files reviewed at latest revision, 3 unresolved discussions.

src/chatlog.c, line 16 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Passing a[+] to fopen forces all writes at EOF. How is this better?

This function has two options, readonly, or read and write. Because this is also called when we need to write to the middle of the file.
So we don't want to force writes to be append only.  The calling functions will always seek on their own anyways.

src/posix/filesys.c, line 79 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Read wont, but w+ and a+ will which is why opts_to_sysmode would return a+ or w+ if you passed both read and write/append.

Yes, but I changed it, to default to non clobbering. If you ask for read, you'll get RD or RDWR. Then if the file is unopenable with read write (doesn't exist). It'll try to open for writing, just below.

src/windows/filesys.c, line 14 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Same as with xlib. This should no longer create files if it gets both READ and APPEND/WRITE.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/endoffile78,12,https://github.com/uTox/uTox/pull/595#issuecomment-269555034,This change is‚ÄÇ,"Reviewed 2 of 2 files at r5, 1 of 1 files at r6.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/595#issuecomment-269964020,This change is‚ÄÇ,"Reviewed 1 of 1 files at r6.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/robinlinden,14,https://github.com/uTox/uTox/pull/595#issuecomment-269964039,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/endoffile78,15,https://github.com/uTox/uTox/pull/595#issuecomment-270244401,This change is‚ÄÇ,"Reviewed 1 of 1 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,595,2016-12-28T01:30:41Z,2017-01-04T21:37:49Z,2017-01-15T20:02:47Z,MERGED,True,40,17,4,https://github.com/GrayHatter,fix utox clobbering chatlogs,4,[],https://github.com/uTox/uTox/pull/595,https://github.com/GrayHatter,16,https://github.com/uTox/uTox/pull/595#issuecomment-270308307,This change is‚ÄÇ,"Reviewed 1 of 1 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,596,2016-12-29T20:56:44Z,2017-01-01T07:37:41Z,2017-02-12T21:33:37Z,MERGED,True,27,17,12,https://github.com/endoffile78,Fix defects detected by coverity,1,[],https://github.com/uTox/uTox/pull/596,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/596,"This mainly fixes memory leaks but it also fixes some places where code could could never be executed.


This change is‚ÄÇ","This mainly fixes memory leaks but it also fixes some places where code could could never be executed.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,596,2016-12-29T20:56:44Z,2017-01-01T07:37:41Z,2017-02-12T21:33:37Z,MERGED,True,27,17,12,https://github.com/endoffile78,Fix defects detected by coverity,1,[],https://github.com/uTox/uTox/pull/596,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/596#issuecomment-269713215,"This mainly fixes memory leaks but it also fixes some places where code could could never be executed.


This change is‚ÄÇ",What is coverity exactly? can we integrate that into the travis build?,True,{}
uTox/uTox,https://github.com/uTox/uTox,596,2016-12-29T20:56:44Z,2017-01-01T07:37:41Z,2017-02-12T21:33:37Z,MERGED,True,27,17,12,https://github.com/endoffile78,Fix defects detected by coverity,1,[],https://github.com/uTox/uTox/pull/596,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/596#issuecomment-269725674,"This mainly fixes memory leaks but it also fixes some places where code could could never be executed.


This change is‚ÄÇ",@cebe yes we can https://scan.coverity.com/travis_ci,True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,596,2016-12-29T20:56:44Z,2017-01-01T07:37:41Z,2017-02-12T21:33:37Z,MERGED,True,27,17,12,https://github.com/endoffile78,Fix defects detected by coverity,1,[],https://github.com/uTox/uTox/pull/596,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/596#issuecomment-269891767,"This mainly fixes memory leaks but it also fixes some places where code could could never be executed.


This change is‚ÄÇ","+@GrayHatter

Reviewed 12 of 12 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/chatlog.c, line 14 at r1 (raw file):

    if (append) {
        return native_get_file(name, NULL, UTOX_FILE_OPTS_READ | UTOX_FILE_OPTS_APPEND | UTOX_FILE_OPTS_MKDIR);
    } else {

no else after return

src/friend.c, line 9 at r1 (raw file):

FRIEND* get_friend(uint32_t friend_number){
    if (friend_number >= 512) {

make this number 128

src/tox.c, line 860 at r1 (raw file):

                        toxav_answer(av, param1, UTOX_DEFAULT_BITRATE_A, v_bitrate, &ans_error);
                        if (ans_error) {
                            debug(""Toxcore:\tError trying to toxav_answer error (%i)\n"", error);

ans_error in the debug line

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,596,2016-12-29T20:56:44Z,2017-01-01T07:37:41Z,2017-02-12T21:33:37Z,MERGED,True,27,17,12,https://github.com/endoffile78,Fix defects detected by coverity,1,[],https://github.com/uTox/uTox/pull/596,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/596#issuecomment-269892485,"This mainly fixes memory leaks but it also fixes some places where code could could never be executed.


This change is‚ÄÇ","Review status: 8 of 12 files reviewed at latest revision, 3 unresolved discussions.

src/chatlog.c, line 14 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
no else after return

Done.

src/friend.c, line 9 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
make this number 128

Done.

src/tox.c, line 860 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
ans_error in the debug line

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,596,2016-12-29T20:56:44Z,2017-01-01T07:37:41Z,2017-02-12T21:33:37Z,MERGED,True,27,17,12,https://github.com/endoffile78,Fix defects detected by coverity,1,[],https://github.com/uTox/uTox/pull/596,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/596#issuecomment-269892911,"This mainly fixes memory leaks but it also fixes some places where code could could never be executed.


This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,596,2016-12-29T20:56:44Z,2017-01-01T07:37:41Z,2017-02-12T21:33:37Z,MERGED,True,27,17,12,https://github.com/endoffile78,Fix defects detected by coverity,1,[],https://github.com/uTox/uTox/pull/596,https://github.com/abueide,7,https://github.com/uTox/uTox/pull/596#issuecomment-269893404,"This mainly fixes memory leaks but it also fixes some places where code could could never be executed.


This change is‚ÄÇ","Reviewed 8 of 12 files at r1, 4 of 4 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,597,2016-12-31T01:29:35Z,2017-02-15T20:29:03Z,2017-04-24T04:39:33Z,CLOSED,False,146,9,11,https://github.com/GrayHatter,GUI testing on Travis,7,['PR: Pending'],https://github.com/uTox/uTox/pull/597,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/597,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,598,2017-01-03T20:56:01Z,2017-01-03T21:39:08Z,2017-01-03T21:39:15Z,CLOSED,False,1,1,1,https://github.com/robinlinden,Lower CMake required from 3.2 to 3.0.,1,[],https://github.com/uTox/uTox/pull/598,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/598,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,598,2017-01-03T20:56:01Z,2017-01-03T21:39:08Z,2017-01-03T21:39:15Z,CLOSED,False,1,1,1,https://github.com/robinlinden,Lower CMake required from 3.2 to 3.0.,1,[],https://github.com/uTox/uTox/pull/598,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/598#issuecomment-270232283,This change is‚ÄÇ,This was a mistake.,True,{}
uTox/uTox,https://github.com/uTox/uTox,599,2017-01-05T17:53:15Z,2017-01-05T23:35:00Z,2017-02-12T21:33:36Z,MERGED,True,7,1,1,https://github.com/endoffile78,Use find_package to find X11 and Xrender,1,[],https://github.com/uTox/uTox/pull/599,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/599,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,599,2017-01-05T17:53:15Z,2017-01-05T23:35:00Z,2017-02-12T21:33:36Z,MERGED,True,7,1,1,https://github.com/endoffile78,Use find_package to find X11 and Xrender,1,[],https://github.com/uTox/uTox/pull/599,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/599#issuecomment-270759799,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,599,2017-01-05T17:53:15Z,2017-01-05T23:35:00Z,2017-02-12T21:33:36Z,MERGED,True,7,1,1,https://github.com/endoffile78,Use find_package to find X11 and Xrender,1,[],https://github.com/uTox/uTox/pull/599,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/599#issuecomment-270759970,This change is‚ÄÇ,"Travis failed because toxcore's CI was broken. Already filed an issue upstream.

Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,599,2017-01-05T17:53:15Z,2017-01-05T23:35:00Z,2017-02-12T21:33:36Z,MERGED,True,7,1,1,https://github.com/endoffile78,Use find_package to find X11 and Xrender,1,[],https://github.com/uTox/uTox/pull/599,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/599#issuecomment-270787058,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,603,2017-01-09T10:57:23Z,2017-01-09T13:41:01Z,2017-01-15T20:02:52Z,CLOSED,False,87,53,19,https://github.com/GrayHatter,Make implicit func warning an error,3,[],https://github.com/uTox/uTox/pull/603,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/603,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,603,2017-01-09T10:57:23Z,2017-01-09T13:41:01Z,2017-01-15T20:02:52Z,CLOSED,False,87,53,19,https://github.com/GrayHatter,Make implicit func warning an error,3,[],https://github.com/uTox/uTox/pull/603,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/603#issuecomment-271286579,This change is‚ÄÇ,replaced by #604,True,{}
uTox/uTox,https://github.com/uTox/uTox,604,2017-01-09T12:15:22Z,2017-01-10T09:40:17Z,2017-01-15T18:24:34Z,MERGED,True,178,130,25,https://github.com/GrayHatter,"Fix avatars, and mkdir for posix",8,[],https://github.com/uTox/uTox/pull/604,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/604,"Merge after #603


This change is‚ÄÇ","Merge after #603


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,604,2017-01-09T12:15:22Z,2017-01-10T09:40:17Z,2017-01-15T18:24:34Z,MERGED,True,178,130,25,https://github.com/GrayHatter,"Fix avatars, and mkdir for posix",8,[],https://github.com/uTox/uTox/pull/604,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/604#issuecomment-271487198,"Merge after #603


This change is‚ÄÇ","Reviewed 25 of 25 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,604,2017-01-09T12:15:22Z,2017-01-10T09:40:17Z,2017-01-15T18:24:34Z,MERGED,True,178,130,25,https://github.com/GrayHatter,"Fix avatars, and mkdir for posix",8,[],https://github.com/uTox/uTox/pull/604,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/604#issuecomment-271512760,"Merge after #603


This change is‚ÄÇ","Reviewed 25 of 25 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 369 at r1 (raw file):

        case FILE_TRANSFER_STATUS_BROKEN:
        case FILE_TRANSFER_STATUS_COMPLETED:
        case FILE_TRANSFER_STATUS_KILLED: {

Add a default case here for the unknown states.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,604,2017-01-09T12:15:22Z,2017-01-10T09:40:17Z,2017-01-15T18:24:34Z,MERGED,True,178,130,25,https://github.com/GrayHatter,"Fix avatars, and mkdir for posix",8,[],https://github.com/uTox/uTox/pull/604,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/604#issuecomment-271529120,"Merge after #603


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 369 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Add a default case here for the unknown states.

We don't need to, with the typedef'd enum, we'd get a warning about unhandled cases.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,604,2017-01-09T12:15:22Z,2017-01-10T09:40:17Z,2017-01-15T18:24:34Z,MERGED,True,178,130,25,https://github.com/GrayHatter,"Fix avatars, and mkdir for posix",8,[],https://github.com/uTox/uTox/pull/604,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/604#issuecomment-271529416,"Merge after #603


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 369 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
We don't need to, with the typedef'd enum, we'd get a warning about unhandled cases.

Ah, I only looked at the previous code and the debug_error.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,605,2017-01-09T15:14:29Z,2017-01-10T06:34:23Z,2017-01-10T14:57:58Z,MERGED,True,48,3,1,https://github.com/cebe,port the add_cflags makefile function from toxcore,1,[],https://github.com/uTox/uTox/pull/605,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/605,"I have no idea which warning you want to configure @GrayHatter.
Feel free to adjust this as needed based on
https://github.com/TokTok/c-toxcore/blob/6ec23c98bd5e6b6ca3dad9d5da5a46e83419f5bb/CMakeLists.txt#L29-L117


This change is‚ÄÇ","I have no idea which warning you want to configure @GrayHatter.
Feel free to adjust this as needed based on
https://github.com/TokTok/c-toxcore/blob/6ec23c98bd5e6b6ca3dad9d5da5a46e83419f5bb/CMakeLists.txt#L29-L117


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,605,2017-01-09T15:14:29Z,2017-01-10T06:34:23Z,2017-01-10T14:57:58Z,MERGED,True,48,3,1,https://github.com/cebe,port the add_cflags makefile function from toxcore,1,[],https://github.com/uTox/uTox/pull/605,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/605#issuecomment-271408411,"I have no idea which warning you want to configure @GrayHatter.
Feel free to adjust this as needed based on
https://github.com/TokTok/c-toxcore/blob/6ec23c98bd5e6b6ca3dad9d5da5a46e83419f5bb/CMakeLists.txt#L29-L117


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,605,2017-01-09T15:14:29Z,2017-01-10T06:34:23Z,2017-01-10T14:57:58Z,MERGED,True,48,3,1,https://github.com/cebe,port the add_cflags makefile function from toxcore,1,[],https://github.com/uTox/uTox/pull/605,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/605#issuecomment-271487537,"I have no idea which warning you want to configure @GrayHatter.
Feel free to adjust this as needed based on
https://github.com/TokTok/c-toxcore/blob/6ec23c98bd5e6b6ca3dad9d5da5a46e83419f5bb/CMakeLists.txt#L29-L117


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,606,2017-01-12T01:45:37Z,2017-01-12T02:34:36Z,2017-01-12T02:43:46Z,MERGED,True,13,0,1,https://github.com/cebe,enable address sanitizer in cmake debug builds,1,[],https://github.com/uTox/uTox/pull/606,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/606,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,606,2017-01-12T01:45:37Z,2017-01-12T02:34:36Z,2017-01-12T02:43:46Z,MERGED,True,13,0,1,https://github.com/cebe,enable address sanitizer in cmake debug builds,1,[],https://github.com/uTox/uTox/pull/606,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/606#issuecomment-272052537,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,606,2017-01-12T01:45:37Z,2017-01-12T02:34:36Z,2017-01-12T02:43:46Z,MERGED,True,13,0,1,https://github.com/cebe,enable address sanitizer in cmake debug builds,1,[],https://github.com/uTox/uTox/pull/606,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/606#issuecomment-272053888,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/607,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/607#issuecomment-272104261,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

tools/sign-release.sh, line 8 at r1 (raw file):

curl -O ""https://github.com/uTox/uTox/archive/$TAG.zip"" -O ""https://github.com/uTox/uTox/archive/$TAG.tar.gz""

gpg --armor --detach-sign ""$TAG.zip""

this should also untar and unzip, in to the working directory (you can assume it's cwd) and then exit on git diff --exit-code

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/607#issuecomment-272315405,This change is‚ÄÇ,"Review status: 1 of 2 files reviewed at latest revision, 1 unresolved discussion.

tools/sign-release.sh, line 8 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this should also untar and unzip, in to the working directory (you can assume it's cwd) and then exit on git diff --exit-code

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/607#issuecomment-272380393,This change is‚ÄÇ,"+@GrayHatter

Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/607#issuecomment-272391529,This change is‚ÄÇ,"see more-scripts on uTox/ I added a commit but couldn't push to your repo.

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/607#issuecomment-272555487,This change is‚ÄÇ,"@GrayHatter merged.

Review status: 1 of 2 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/607#issuecomment-272557120,This change is‚ÄÇ,"but we need another +1 because I wrote half of this code

Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/cebe,8,https://github.com/uTox/uTox/pull/607#issuecomment-272560635,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

tools/sign-release.sh, line 4 at r3 (raw file):

# set -e
TAG=$(git describe --abbrev=0 --tags)
USER=$(git config --get user.name)

user.name will be something like Carsten Brandt or Gregory Mullen (grayhatter). this does not really fit well for the file name.
This should be possible to give as an argument for the script or use whoami command, which would fit in my case.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/607#issuecomment-272564293,This change is‚ÄÇ,"tools/sign-release.sh, line 4 at r3 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
user.name will be something like Carsten Brandt or Gregory Mullen (grayhatter). this does not really fit well for the file name.
This should be possible to give as an argument for the script or use whoami command, which would fit in my case.

this is missing my addition... I fixed this

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/607#issuecomment-272565350,This change is‚ÄÇ,"Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/cebe,11,https://github.com/uTox/uTox/pull/607#issuecomment-272566023,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/607#issuecomment-272614223,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/endoffile78,13,https://github.com/uTox/uTox/pull/607#issuecomment-272614507,This change is‚ÄÇ,"Reviewed 1 of 1 files at r4, 1 of 1 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,607,2017-01-12T01:58:23Z,2017-01-14T10:20:36Z,2017-02-12T21:33:35Z,MERGED,True,72,0,2,https://github.com/endoffile78,Add sign-release.sh and checksum.sh,4,[],https://github.com/uTox/uTox/pull/607,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/607#issuecomment-272614874,This change is‚ÄÇ,"Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,608,2017-01-12T04:28:48Z,2017-01-13T23:36:33Z,2017-01-13T23:43:50Z,MERGED,True,22,5,5,https://github.com/endoffile78,Friend request improvements,1,[],https://github.com/uTox/uTox/pull/608,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/608,"The message no longer drawn in the headline and a sound is played when a friend request is recieved.


This change is‚ÄÇ","The message no longer drawn in the headline and a sound is played when a friend request is recieved.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,608,2017-01-12T04:28:48Z,2017-01-13T23:36:33Z,2017-01-13T23:43:50Z,MERGED,True,22,5,5,https://github.com/endoffile78,Friend request improvements,1,[],https://github.com/uTox/uTox/pull/608,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/608#issuecomment-272103681,"The message no longer drawn in the headline and a sound is played when a friend request is recieved.


This change is‚ÄÇ","Friend requests are few and far in between, I'd suggest the notification be made 2-3x longer

Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,608,2017-01-12T04:28:48Z,2017-01-13T23:36:33Z,2017-01-13T23:43:50Z,MERGED,True,22,5,5,https://github.com/endoffile78,Friend request improvements,1,[],https://github.com/uTox/uTox/pull/608,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/608#issuecomment-272317641,"The message no longer drawn in the headline and a sound is played when a friend request is recieved.


This change is‚ÄÇ","@GrayHatter Done, I also changed the notifciation a little i think it now sounds a little bit more different than the other ones.

Review status: 4 of 5 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,608,2017-01-12T04:28:48Z,2017-01-13T23:36:33Z,2017-01-13T23:43:50Z,MERGED,True,22,5,5,https://github.com/endoffile78,Friend request improvements,1,[],https://github.com/uTox/uTox/pull/608,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/608#issuecomment-272341734,"The message no longer drawn in the headline and a sound is played when a friend request is recieved.


This change is‚ÄÇ","Reviewed 4 of 5 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,608,2017-01-12T04:28:48Z,2017-01-13T23:36:33Z,2017-01-13T23:43:50Z,MERGED,True,22,5,5,https://github.com/endoffile78,Friend request improvements,1,[],https://github.com/uTox/uTox/pull/608,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/608#issuecomment-272380112,"The message no longer drawn in the headline and a sound is played when a friend request is recieved.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/av/audio.c, line 483 at r2 (raw file):

static void generate_tone_friend_new_msg() { generate_melody(friend_new_msg, 1, 8, &ToneBuffer); }

static void generate_tone_friend_request() { generate_melody(friend_request, 1, 4, &ToneBuffer); }

you're still only using the first 4 notes, for friend requests.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,608,2017-01-12T04:28:48Z,2017-01-13T23:36:33Z,2017-01-13T23:43:50Z,MERGED,True,22,5,5,https://github.com/endoffile78,Friend request improvements,1,[],https://github.com/uTox/uTox/pull/608,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/608#issuecomment-272380147,"The message no longer drawn in the headline and a sound is played when a friend request is recieved.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,608,2017-01-12T04:28:48Z,2017-01-13T23:36:33Z,2017-01-13T23:43:50Z,MERGED,True,22,5,5,https://github.com/endoffile78,Friend request improvements,1,[],https://github.com/uTox/uTox/pull/608,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/608#issuecomment-272554952,"The message no longer drawn in the headline and a sound is played when a friend request is recieved.


This change is‚ÄÇ","Review status: 4 of 5 files reviewed at latest revision, 1 unresolved discussion.

src/av/audio.c, line 483 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
you're still only using the first 4 notes, for friend requests.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,608,2017-01-12T04:28:48Z,2017-01-13T23:36:33Z,2017-01-13T23:43:50Z,MERGED,True,22,5,5,https://github.com/endoffile78,Friend request improvements,1,[],https://github.com/uTox/uTox/pull/608,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/608#issuecomment-272557257,"The message no longer drawn in the headline and a sound is played when a friend request is recieved.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,608,2017-01-12T04:28:48Z,2017-01-13T23:36:33Z,2017-01-13T23:43:50Z,MERGED,True,22,5,5,https://github.com/endoffile78,Friend request improvements,1,[],https://github.com/uTox/uTox/pull/608,https://github.com/cebe,9,https://github.com/uTox/uTox/pull/608#issuecomment-272576667,"The message no longer drawn in the headline and a sound is played when a friend request is recieved.


This change is‚ÄÇ","Reviewed 4 of 5 files at r1, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,610,2017-01-13T00:08:25Z,2017-01-14T01:31:53Z,2017-01-14T01:31:54Z,MERGED,True,180,204,27,https://github.com/robinlinden,Make UI less dependent on the rest of uTox.,1,[],https://github.com/uTox/uTox/pull/610,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/610,"Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ","Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ",True,"{'HOORAY': ['https://github.com/cebe', 'https://github.com/GrayHatter', 'https://github.com/endoffile78'], 'HEART': ['https://github.com/endoffile78']}"
uTox/uTox,https://github.com/uTox/uTox,610,2017-01-13T00:08:25Z,2017-01-14T01:31:53Z,2017-01-14T01:31:54Z,MERGED,True,180,204,27,https://github.com/robinlinden,Make UI less dependent on the rest of uTox.,1,[],https://github.com/uTox/uTox/pull/610,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/610#issuecomment-272340749,"Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ","Reviewed 26 of 26 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,610,2017-01-13T00:08:25Z,2017-01-14T01:31:53Z,2017-01-14T01:31:54Z,MERGED,True,180,204,27,https://github.com/robinlinden,Make UI less dependent on the rest of uTox.,1,[],https://github.com/uTox/uTox/pull/610,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/610#issuecomment-272385056,"Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ","Reviewed 26 of 26 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/theme.c, line 516 at r2 (raw file):

    }

    debug(""'%s'\n"", color);

we do need a way to debug this. I'm not saying bring it back, but a comment is probably important.

src/ui/buttons.c, line 12 at r2 (raw file):

#include ""../theme.h""

#include ""../ui/svg.h""

BTW good catch!

src/ui/draw_helpers.c, line 261 at r2 (raw file):

            case ADDF_UNKNOWN: // for unknown error.
            case ADDF_NONE:    // this case must never be rendered, but if it does, assume it's an error
            default:

at your option, drop the default, and typedef the enum

src/ui/svg.c, line 710 at r2 (raw file):

        // but it allows me to remove the dependency on ../native_main.h..

        // debug(""SVG:\tSVG data size mismatch...\n"");

this can be an assert, it's literally only helpful to developers

src/xlib/event.c, line 7 at r2 (raw file):

#include ""../utox.h""

// Needed for enddraw. This should probably be changed.

it should be changed by changing the scope of enddraw(), that's more of a native thing than a drawing thing.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,610,2017-01-13T00:08:25Z,2017-01-14T01:31:53Z,2017-01-14T01:31:54Z,MERGED,True,180,204,27,https://github.com/robinlinden,Make UI less dependent on the rest of uTox.,1,[],https://github.com/uTox/uTox/pull/610,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/610#issuecomment-272424879,"Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ","There are now draw.h and drawing.c maybe choose a consistent name?

Reviewed 25 of 26 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 6 unresolved discussions.

src/theme.c, line 516 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
we do need a way to debug this. I'm not saying bring it back, but a comment is probably important.

then just re-add it when you need it?

src/ui/CMakeLists.txt, line 10 at r2 (raw file):

    contextmenu.c
    contextmenu.h
    draw.h

there is no need to put headers in the cmake file, they do not need their own .o object file. Cmake detects dependencies of .c files on headers itself.

src/ui/svg.c, line 710 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this can be an assert, it's literally only helpful to developers

üëç we should have a separate header to include logging anyway.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,610,2017-01-13T00:08:25Z,2017-01-14T01:31:53Z,2017-01-14T01:31:54Z,MERGED,True,180,204,27,https://github.com/robinlinden,Make UI less dependent on the rest of uTox.,1,[],https://github.com/uTox/uTox/pull/610,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/610#issuecomment-272432860,"Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ","re drawing or draw
make it draw.*
I'll rename the other files in the windows_popup branch tomorrow.",True,{}
uTox/uTox,https://github.com/uTox/uTox,610,2017-01-13T00:08:25Z,2017-01-14T01:31:53Z,2017-01-14T01:31:54Z,MERGED,True,180,204,27,https://github.com/robinlinden,Make UI less dependent on the rest of uTox.,1,[],https://github.com/uTox/uTox/pull/610,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/610#issuecomment-272474700,"Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ","I'll update the header guards on this one to be UI_DRAW_H.

Review status: all files reviewed at latest revision, 6 unresolved discussions.

src/theme.c, line 516 at r2 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
then just re-add it when you need it?

We should probably look over where we have our logging placed. Including main.h just for logging isn't great. If you want, I'll add it back for now since this file is still including both main.h and native_main.h.
Theme.c is going to be moved to be part of the UI ~soon since it has nothing to do with the actual logic of uTox and we can look over this then.

src/ui/buttons.c, line 12 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
BTW good catch!

Thank you. :D

src/ui/CMakeLists.txt, line 10 at r2 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
there is no need to put headers in the cmake file, they do not need their own .o object file. Cmake detects dependencies of .c files on headers itself.

Cool. I didn't know this. Deleted in the next commit.

src/ui/draw_helpers.c, line 261 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
at your option, drop the default, and typedef the enum

That's a good idea. Will do.

src/ui/svg.c, line 710 at r2 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
üëç we should have a separate header to include logging anyway.

CeBe++. Will add the assert for now.

src/xlib/event.c, line 7 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
it should be changed by changing the scope of enddraw(), that's more of a native thing than a drawing thing.

It's still nothing that the main logic of uTox should have to use. Drawing is strictly part of the UI. All native_draw stuff will be moved to the UI and then uTox's core could be used for e.g. a cmdline Tox client.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,610,2017-01-13T00:08:25Z,2017-01-14T01:31:53Z,2017-01-14T01:31:54Z,MERGED,True,180,204,27,https://github.com/robinlinden,Make UI less dependent on the rest of uTox.,1,[],https://github.com/uTox/uTox/pull/610,https://github.com/cebe,7,https://github.com/uTox/uTox/pull/610#issuecomment-272548536,"Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ","Reviewed 1 of 26 files at r1.
Review status: all files reviewed at latest revision, 6 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,610,2017-01-13T00:08:25Z,2017-01-14T01:31:53Z,2017-01-14T01:31:54Z,MERGED,True,180,204,27,https://github.com/robinlinden,Make UI less dependent on the rest of uTox.,1,[],https://github.com/uTox/uTox/pull/610,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/610#issuecomment-272559612,"Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/theme.c, line 516 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
We should probably look over where we have our logging placed. Including main.h just for logging isn't great. If you want, I'll add it back for now since this file is still including both main.h and native_main.h.
Theme.c is going to be moved to be part of the UI ~soon since it has nothing to do with the actual logic of uTox and we can look over this then.

agreed, this is non-blocking

src/xlib/event.c, line 7 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
It's still nothing that the main logic of uTox should have to use. Drawing is strictly part of the UI. All native_draw stuff will be moved to the UI and then uTox's core could be used for e.g. a cmdline Tox client.

I agree, but it's not a drawing thing either. It's coping what the native functions created to the video driver.
Either way, I'm pretty sure the way you want to do it will be correct. I just meant to say, that function is more of a window_ function than a draw_ function.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,610,2017-01-13T00:08:25Z,2017-01-14T01:31:53Z,2017-01-14T01:31:54Z,MERGED,True,180,204,27,https://github.com/robinlinden,Make UI less dependent on the rest of uTox.,1,[],https://github.com/uTox/uTox/pull/610,https://github.com/cebe,9,https://github.com/uTox/uTox/pull/610#issuecomment-272565594,"Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 5 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,610,2017-01-13T00:08:25Z,2017-01-14T01:31:53Z,2017-01-14T01:31:54Z,MERGED,True,180,204,27,https://github.com/robinlinden,Make UI less dependent on the rest of uTox.,1,[],https://github.com/uTox/uTox/pull/610,https://github.com/cebe,10,https://github.com/uTox/uTox/pull/610#issuecomment-272574195,"Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/ui/svg.c, line 710 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
CeBe++. Will add the assert for now.

I've prepared a PR for separating out logging.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,610,2017-01-13T00:08:25Z,2017-01-14T01:31:53Z,2017-01-14T01:31:54Z,MERGED,True,180,204,27,https://github.com/robinlinden,Make UI less dependent on the rest of uTox.,1,[],https://github.com/uTox/uTox/pull/610,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/610#issuecomment-272575473,"Moves a bunch of scale and prettify text functions from main.h to ui.h
Moves draw function declarations from main.h to ui/draw.h
Adds a few forward declares
Removes a deprecated drawing function
Some minor cleanup of files I touched (mostly adding const, C99ing loops, and lowering the scope of variables.)


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/ui/svg.c, line 710 at r2 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
I've prepared a PR for separating out logging.

already approved too

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/617,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/617#issuecomment-272575407,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","Reviewed 51 of 51 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/617#issuecomment-272579131,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","Reviewed 51 of 51 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/617#issuecomment-272579508,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","Windows doesn't build. 

Review status: all files reviewed at latest revision, all discussions resolved, some commit checks pending.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/617#issuecomment-272582216,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","should be fixed, lets wait for travis to verify. Also added missing headers to OSX and andriod. I have no windows to test on.

Review status: 50 of 66 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/617#issuecomment-272592424,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","Reviewed 15 of 16 files at r2, 13 of 13 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/617#issuecomment-272592821,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","Reviewed 5 of 5 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/617#issuecomment-272596690,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","Reviewed 39 of 51 files at r1, 16 of 16 files at r2, 1 of 1 files at r3, 12 of 13 files at r4, 5 of 5 files at r5, 1 of 1 files at r6.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/617#issuecomment-272598140,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","Reviewed 1 of 3 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/617#issuecomment-272598633,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","Reviewed 1 of 1 files at r6, 1 of 3 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/617#issuecomment-272600076,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","Reviewed 16 of 16 files at r2, 1 of 1 files at r3, 12 of 13 files at r4, 5 of 5 files at r5, 1 of 1 files at r6, 1 of 3 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,617,2017-01-13T23:18:54Z,2017-01-14T09:45:25Z,2017-01-14T17:32:14Z,MERGED,True,142,77,66,https://github.com/cebe,separated out logging from main.h,3,[],https://github.com/uTox/uTox/pull/617,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/617#issuecomment-272610240,"reduce a lot of dependencies of things on main.h which included it
simply for logging.
This possibly conflicts with #610.
Will rebase when that one is merged.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,618,2017-01-14T06:59:26Z,2017-01-15T18:54:57Z,2017-01-15T19:22:04Z,MERGED,True,208,26,10,https://github.com/GrayHatter,WinXP support,3,[],https://github.com/uTox/uTox/pull/618,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/618,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,618,2017-01-14T06:59:26Z,2017-01-15T18:54:57Z,2017-01-15T19:22:04Z,MERGED,True,208,26,10,https://github.com/GrayHatter,WinXP support,3,[],https://github.com/uTox/uTox/pull/618,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/618#issuecomment-272613938,This change is‚ÄÇ,closes #609,True,{}
uTox/uTox,https://github.com/uTox/uTox,618,2017-01-14T06:59:26Z,2017-01-15T18:54:57Z,2017-01-15T19:22:04Z,MERGED,True,208,26,10,https://github.com/GrayHatter,WinXP support,3,[],https://github.com/uTox/uTox/pull/618,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/618#issuecomment-272614041,This change is‚ÄÇ,"Reviewed 10 of 10 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,618,2017-01-14T06:59:26Z,2017-01-15T18:54:57Z,2017-01-15T19:22:04Z,MERGED,True,208,26,10,https://github.com/GrayHatter,WinXP support,3,[],https://github.com/uTox/uTox/pull/618,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/618#issuecomment-272714080,This change is‚ÄÇ,"Reviewed 8 of 10 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,619,2017-01-14T08:24:08Z,2017-01-14T08:25:08Z,2017-01-15T18:24:36Z,MERGED,True,1,0,1,https://github.com/GrayHatter,Add .gitattribute file,1,[],https://github.com/uTox/uTox/pull/619,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/619,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/622,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/622#issuecomment-274068693,This change is‚ÄÇ,"closes #600
closes #601",True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/622#issuecomment-274071015,This change is‚ÄÇ,@uTox/devs signoff needed,True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/622#issuecomment-274110809,This change is‚ÄÇ,"Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/file_transfers.c, line 1076 at r2 (raw file):

        debug_error(""FileTransfer:\tUnable to grab a file to start the write friend %u, file %u."",
                    friend_number, file_number);
    }

return missing, you do not want to continue if ft is null.

src/windows/dnd.c, line 110 at r2 (raw file):

            // Convert windows paths to Unix style;
            uint8_t *p = path;
            while (*++p != 0) {

this will start at the second character in a string. is \\ a valid beginning of a path in windows? I remember network shares did something like that but I may be wrong.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/622#issuecomment-274127735,This change is‚ÄÇ,"Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 8 unresolved discussions, some commit checks failed.

src/windows/dnd.c, line 86 at r2 (raw file):

        debug_info(""%u files dropped\n"", count);

        for(int i = 0; i < count; i++) {

Missing space. Should be for (

src/windows/dnd.c, line 88 at r2 (raw file):

        for(int i = 0; i < count; i++) {
            debug_notice(""WINDND:\tSending file number %i\n"", i);
            UTOX_MSG_FT *msg = calloc(count, sizeof(UTOX_MSG_FT));

So you loop from 0 to count times and allocate count objects of size UTOX_MSG_FT each iteration of the loop? This doesn't sound right to me..
You probably want to allocate one file_transfer at a time. Or you could keep this allocation, move it to outside of the loop, and access it like msg[0..count].

src/windows/dnd.c, line 97 at r2 (raw file):

            if (!path) {
                debug_error(""WINDND:\tUnable to alloc for UTOX_MSG_FT\n"");
                return 0;

Free msg before returning here.

src/windows/dnd.c, line 102 at r2 (raw file):

            DragQueryFile(h, i, path, UTOX_FILE_NAME_LENGTH);

            msg->file = fopen(path, ""rb"");

Drop the b.

src/windows/dnd.c, line 105 at r2 (raw file):

            if (!msg->file) {
                debug_error(""WINDND:\tUnable to read file %s\n"", path);
                return 0;

Free everything first.

src/windows/dnd.c, line 110 at r2 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
this will start at the second character in a string. is \\ a valid beginning of a path in windows? I remember network shares did something like that but I may be wrong.

You're right, CeBe. \\network-drive\path\as\usual

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/622#issuecomment-274170922,This change is‚ÄÇ,"Review status: 1 of 2 files reviewed at latest revision, 8 unresolved discussions.

src/file_transfers.c, line 871 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
@GrayHatter https://github.com/uTox/uTox/blob/develop/src/file_transfers.c#L205

this was fixed

src/file_transfers.c, line 1076 at r2 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
return missing, you do not want to continue if ft is null.

Done.

src/windows/dnd.c, line 86 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Missing space. Should be for (

Done.

src/windows/dnd.c, line 88 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
So you loop from 0 to count times and allocate count objects of size UTOX_MSG_FT each iteration of the loop? This doesn't sound right to me..
You probably want to allocate one file_transfer at a time. Or you could keep this allocation, move it to outside of the loop, and access it like msg[0..count].

Done.

src/windows/dnd.c, line 97 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Free msg before returning here.

Done.

src/windows/dnd.c, line 102 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Drop the b.

this is windows, it's needed to prevent mangling of line endings

src/windows/dnd.c, line 105 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Free everything first.

Done.

src/windows/dnd.c, line 110 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You're right, CeBe. \\network-drive\path\as\usual

This is acceptable, because we're sending the open file as well, this is only so the file transfer code is able to determine the name of the FT by stopping at the first /

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/622#issuecomment-274173070,This change is‚ÄÇ,"Reviewed 1 of 2 files at r3, 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/windows/dnd.c, line 102 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this is windows, it's needed to prevent mangling of line endings

Huh. You're right. Why can't they just follow the standard? :<

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/cebe,8,https://github.com/uTox/uTox/pull/622#issuecomment-274173083,This change is‚ÄÇ,"Reviewed 1 of 2 files at r3, 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/dnd.c, line 110 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This is acceptable, because we're sending the open file as well, this is only so the file transfer code is able to determine the name of the FT by stopping at the first /

if this is only needed for the file name it would be more sane to just cut it here instead of sending a broken path out.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/622#issuecomment-274175742,This change is‚ÄÇ,"Review status: 0 of 2 files reviewed at latest revision, 1 unresolved discussion.

src/windows/dnd.c, line 110 at r2 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
if this is only needed for the file name it would be more sane to just cut it here instead of sending a broken path out.

changed and moved to the file transfer code

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/622#issuecomment-274177813,This change is‚ÄÇ,"Reviewed 1 of 2 files at r5, 1 of 1 files at r6, 1 of 1 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/cebe,11,https://github.com/uTox/uTox/pull/622#issuecomment-274178024,This change is‚ÄÇ,"Reviewed 2 of 2 files at r5.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 210 at r6 (raw file):

    ft->name_length = 0;
    uint8_t *p = ft->path + strlen((char *)ft->path);
    while (*--p != '/' || *p != '\\') {

NOO!

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/cebe,12,https://github.com/uTox/uTox/pull/622#issuecomment-274188402,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,622,2017-01-15T18:25:31Z,2017-01-20T23:20:31Z,2019-01-21T09:09:04Z,MERGED,True,52,11,2,https://github.com/GrayHatter,WIP commit for fixing file sending on windows,6,[],https://github.com/uTox/uTox/pull/622,https://github.com/cebe,13,https://github.com/uTox/uTox/pull/622#issuecomment-274188574,This change is‚ÄÇ,"Reviewed 1 of 1 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,623,2017-01-15T19:31:35Z,2017-01-15T19:44:40Z,2017-01-15T19:44:54Z,CLOSED,False,15,9,3,https://github.com/GrayHatter,Build fixes for windows,1,[],https://github.com/uTox/uTox/pull/623,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/623,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,623,2017-01-15T19:31:35Z,2017-01-15T19:44:40Z,2017-01-15T19:44:54Z,CLOSED,False,15,9,3,https://github.com/GrayHatter,Build fixes for windows,1,[],https://github.com/uTox/uTox/pull/623,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/623#issuecomment-272718300,This change is‚ÄÇ,"Reviewed 3 of 3 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,623,2017-01-15T19:31:35Z,2017-01-15T19:44:40Z,2017-01-15T19:44:54Z,CLOSED,False,15,9,3,https://github.com/GrayHatter,Build fixes for windows,1,[],https://github.com/uTox/uTox/pull/623,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/623#issuecomment-272718317,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1, 3 of 3 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,624,2017-01-15T19:45:09Z,2017-01-16T01:15:08Z,2017-01-16T03:52:21Z,MERGED,True,160,53,16,https://github.com/GrayHatter,Build fixes for windows,10,[],https://github.com/uTox/uTox/pull/624,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/624,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,624,2017-01-15T19:45:09Z,2017-01-16T01:15:08Z,2017-01-16T03:52:21Z,MERGED,True,160,53,16,https://github.com/GrayHatter,Build fixes for windows,10,[],https://github.com/uTox/uTox/pull/624,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/624#issuecomment-272718584,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,624,2017-01-15T19:45:09Z,2017-01-16T01:15:08Z,2017-01-16T03:52:21Z,MERGED,True,160,53,16,https://github.com/GrayHatter,Build fixes for windows,10,[],https://github.com/uTox/uTox/pull/624,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/624#issuecomment-272722379,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,624,2017-01-15T19:45:09Z,2017-01-16T01:15:08Z,2017-01-16T03:52:21Z,MERGED,True,160,53,16,https://github.com/GrayHatter,Build fixes for windows,10,[],https://github.com/uTox/uTox/pull/624,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/624#issuecomment-272752892,This change is‚ÄÇ,"Reviewed 2 of 3 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/626,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/626#issuecomment-272971448,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Reviewed 36 of 36 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/flist.h, line 4 at r1 (raw file):

#define FLIST_H

#include ""friend.h""

this is my favorite part of this whole pull!

src/groups.h, line 7 at r1 (raw file):

#include ""av/audio.h""
// #include ""ui/edit.h""

delete this maybe?

src/ui.h, line 5 at r1 (raw file):

#include ""main.h""
#include ""main_native.h""

BTW out of scope for this pull, but we should just name this native.h

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/626#issuecomment-272971474,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/626#issuecomment-272977218,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/flist.h, line 4 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this is my favorite part of this whole pull!

Lots of forward declares and I ended up actually having to include system libraries!

src/groups.h, line 7 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
delete this maybe?

Done. I was in the middle of something when I made this PR.

src/ui.h, line 5 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
BTW out of scope for this pull, but we should just name this native.h

That's a good idea. I think we should also rename all the native_x functions to not start with native_.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/626#issuecomment-272980408,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Reviewed 36 of 36 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/626#issuecomment-272980570,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","This doesn't build on linux, legacy windows, and OSX.",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/cebe,7,https://github.com/uTox/uTox/pull/626#issuecomment-272990880,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Reviewed 35 of 36 files at r1, 21 of 32 files at r2.
Review status: 46 of 57 files reviewed at latest revision, 4 unresolved discussions.

src/avatar.h, line 7 at r1 (raw file):

typedef struct native_image NATIVE_IMAGE;
typedef struct avatar AVATAR;

how does forward declare of structs work? I tried that once and it did not compile for me...

src/flist.h, line 4 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this is my favorite part of this whole pull!

also: friend.h and groups.h are not the smalles includes :-D

src/ui.h, line 5 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
BTW out of scope for this pull, but we should just name this native.h

better not too early, we have already logging_native.h. lets fix the includes first and then think of how we do the native override stuff.

src/ui/draw_helpers.c, line 267 at r1 (raw file):

            case ADDF_UNKNOWN: // for unknown error.
            case ADDF_NONE:    // this case must never be rendered, but if it does, assume it's an error
            default:

str will be undefined if this is not present and not argument matches, why did you remove it?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/cebe,8,https://github.com/uTox/uTox/pull/626#issuecomment-272991343,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Reviewed 11 of 32 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/626#issuecomment-272995995,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/avatar.h, line 7 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
how does forward declare of structs work? I tried that once and it did not compile for me...

It only works when you use pointers. That's why I have to leave a few includes in the headers for now.
In this file we're using NATIVE_IMAGE *img, but we never access it, so we don't need to know what it contains; and it's a pointer to it, so we don't need to know the size of it either.  This means you can use a forward declare.
For a forward-declare to be possible, the struct has to be named.
Works:
// Definition
struct avatar { int a; };

// Forward-declare (in different file or whatever)
struct avatar;

Also works:
// Definition
typedef struct avatar { int a; } AVATAR;

// Forward-declare (in different file or whatever)
typedef struct avatar AVATAR;

Doesn't work:
// Definition
typedef struct { int a; } AVATAR;

// No forward-declare possible since the struct is anonymous. :(

This is why I'm randomly* adding names to a few structs I want to forward declare.

src/ui.h, line 5 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
better not too early, we have already logging_native.h. lets fix the includes first and then think of how we do the native override stuff.

Yeah, it's all out of scope for this PR. I'm not changing any names or anything. Just moving things around or deleting things.

src/ui/draw_helpers.c, line 267 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
str will be undefined if this is not present and not argument matches, why did you remove it?

See: https://reviewable.io/reviews/utox/utox/610#-KaLq-3GJCnM5KvKYrml
Since this is now a typedef enum (see the change in dns.h), this will emit a warning/error if a case is missing. (See the documentation on the -Wswitch compiler flag.)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/cebe,10,https://github.com/uTox/uTox/pull/626#issuecomment-272998508,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/avatar.h, line 7 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
It only works when you use pointers. That's why I have to leave a few includes in the headers for now.
In this file we're using NATIVE_IMAGE *img, but we never access it, so we don't need to know what it contains; and it's a pointer to it, so we don't need to know the size of it either.  This means you can use a forward declare.
For a forward-declare to be possible, the struct has to be named.
Works:
// Definition
struct avatar { int a; };

// Forward-declare (in different file or whatever)
struct avatar;

Also works:
// Definition
typedef struct avatar { int a; } AVATAR;

// Forward-declare (in different file or whatever)
typedef struct avatar AVATAR;

Doesn't work:
// Definition
typedef struct { int a; } AVATAR;

// No forward-declare possible since the struct is anonymous. :(

This is why I'm randomly* adding names to a few structs I want to forward declare.

cool, thanks for explaining!

src/ui/draw_helpers.c, line 267 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
See: https://reviewable.io/reviews/utox/utox/610#-KaLq-3GJCnM5KvKYrml
Since this is now a typedef enum (see the change in dns.h), this will emit a warning/error if a case is missing. (See the documentation on the -Wswitch compiler flag.)

üëç

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/cebe,11,https://github.com/uTox/uTox/pull/626#issuecomment-273016041,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Reviewed 1 of 36 files at r1, 7 of 7 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/cebe,12,https://github.com/uTox/uTox/pull/626#issuecomment-273358597,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Reviewed 19 of 19 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/626#issuecomment-273451289,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Reviewed 17 of 32 files at r2, 4 of 7 files at r3, 7 of 19 files at r4, 51 of 51 files at r5, 1 of 1 files at r6.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/logging_native.h, line 4 at r6 (raw file):

#define LOGGING_NATIVE_H

#include <stdio.h>

why is stdio here?

src/ui.h, line 27 at r6 (raw file):

#if defined __WIN32__
// Windows supplies its own RGB function.
#include <windows.h>

this isn't cool, we can fix this later, because I'm generally happy with this pull as is.
But we should never be including native headers outside of native code (no one look at the updater)

src/ui/buttons.c, line 4 at r6 (raw file):

#include ""contextmenu.h""
#include ""scrollable.h""

why do we need scrollable here?

src/xlib/keysym2ucs.h, line 41 at r6 (raw file):

#include <inttypes.h>

#include <X11/keysymdef.h>

are you sure this is needed here? also, IIRC there's a list copied into xlib somewhere else.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/cebe,14,https://github.com/uTox/uTox/pull/626#issuecomment-273535810,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Reviewed 49 of 51 files at r5, 1 of 1 files at r6.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/logging_native.h, line 4 at r6 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why is stdio here?

it is used in xlib/logging.h windows/logging.h which are included below. should maybe be moved into those files.

src/ui/buttons.c, line 4 at r6 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why do we need scrollable here?

line 627 accesses scrollbar_settings.content_height

src/xlib/keysym2ucs.h, line 41 at r6 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
are you sure this is needed here? also, IIRC there's a list copied into xlib somewhere else.

it defines the KeySym tyoe, used below.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/robinlinden,15,https://github.com/uTox/uTox/pull/626#issuecomment-273543929,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/logging_native.h, line 4 at r6 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
it is used in xlib/logging.h windows/logging.h which are included below. should maybe be moved into those files.

What CeBe said. I was under the impression that __android_log_print and whatever we use on OS X also needed stdio. I've moved it into xlib and windows logging.h

src/ui.h, line 27 at r6 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this isn't cool, we can fix this later, because I'm generally happy with this pull as is.
But we should never be including native headers outside of native code (no one look at the updater)

This is a temporary thing. We need to add native headers that are used exclusively in the UI and I didn't want to commit to adding those properly in this PR.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/GrayHatter,16,https://github.com/uTox/uTox/pull/626#issuecomment-273607012,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Reviewed 1 of 51 files at r5, 3 of 3 files at r7.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/ui/buttons.c, line 4 at r6 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
line 627 accesses scrollbar_settings.content_height

LGTM
we probably should try to write a separate function for those lines.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/cebe,17,https://github.com/uTox/uTox/pull/626#issuecomment-273627862,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Reviewed 1 of 51 files at r5, 2 of 3 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,626,2017-01-16T21:41:48Z,2017-01-18T23:33:07Z,2017-08-26T13:08:48Z,MERGED,True,445,215,84,https://github.com/robinlinden,Reduce and make includes explicit.,22,[],https://github.com/uTox/uTox/pull/626,https://github.com/endoffile78,18,https://github.com/uTox/uTox/pull/626#issuecomment-273635767,"It looks like I added a lot of them, but there are actually fewer of them now.. They used to be included through other files and I've reduced that so we can eventually add tests.


This change is‚ÄÇ","Reviewed 17 of 32 files at r2, 4 of 7 files at r3, 7 of 19 files at r4, 50 of 51 files at r5, 1 of 1 files at r6, 2 of 3 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/627,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/627#issuecomment-273809897,This change is‚ÄÇ,"Reviewed 2 of 9 files at r1, 13 of 15 files at r2.
Review status: 15 of 18 files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/main.c, line 28 at r2 (raw file):

    .auto_update        = false,
    .update_to_develop  = false,
    .send_version       = false,

these new settings should also be saved in the utox_save file, right?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/627#issuecomment-273908255,This change is‚ÄÇ,"Reviewed 3 of 9 files at r1, 15 of 15 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/updater.c, line 85 at r2 (raw file):

        uint32_t len = 0, real_len = 0, header_len = 0;
        uint8_t *buffer = calloc(1, 0x10000);

Buffer is never freed.

src/updater.c, line 180 at r2 (raw file):

    uint8_t *raw = download(""downloads.utox.io"", ""utox_version_stable"", &len);
    if (!raw) {
        debug_error(""Updater:\tDownload failed.\n"");

Shouldn't there be a return here.

src/updater.c, line 200 at r2 (raw file):

    memcpy(&v, data + 4, sizeof(v));
    uint32_t version = ntohl(v);

free data before returning

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/627#issuecomment-273911108,This change is‚ÄÇ,"Review status: 16 of 19 files reviewed at latest revision, 4 unresolved discussions.

src/main.c, line 28 at r2 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
these new settings should also be saved in the utox_save file, right?

Done.

src/updater.c, line 85 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Buffer is never freed.

Done.

src/updater.c, line 180 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Shouldn't there be a return here.

Done.

src/updater.c, line 200 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
free data before returning

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/627#issuecomment-273917432,This change is‚ÄÇ,"Reviewed 1 of 9 files at r1, 2 of 3 files at r3.
Review status: 18 of 19 files reviewed at latest revision, 4 unresolved discussions.

src/main.h, line 131 at r3 (raw file):

    uint8_t zero_3              : 8;

    uint16_t unused[28];

if you add 4*8 bit above, this array of 16bit integers should be reduced by 2, not 1. Or did I misunderstand how this works?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/627#issuecomment-273928975,This change is‚ÄÇ,"Review status: 18 of 19 files reviewed at latest revision, 4 unresolved discussions.

src/main.h, line 131 at r3 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
if you add 4*8 bit above, this array of 16bit integers should be reduced by 2, not 1. Or did I misunderstand how this works?

I'm using bit fields here, I only added 2 u8 the first zero :1 existed already. I added 2 u8 the first 2 bits going to auto_update, and send_version respectively. the remaining 6 bits, to zero_2, then a 2nd u8 to make sure that the alignment doesn't change.   And now that we have static asserts with C11,  we should assert the size here too.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/cebe,7,https://github.com/uTox/uTox/pull/627#issuecomment-273929531,This change is‚ÄÇ,"Review status: 18 of 19 files reviewed at latest revision, 4 unresolved discussions.

src/main.h, line 131 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I'm using bit fields here, I only added 2 u8 the first zero :1 existed already. I added 2 u8 the first 2 bits going to auto_update, and send_version respectively. the remaining 6 bits, to zero_2, then a 2nd u8 to make sure that the alignment doesn't change.   And now that we have static asserts with C11,  we should assert the size here too.

I see, was not aware of this syntax. Thanks!

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/627#issuecomment-273934164,This change is‚ÄÇ,"Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/util.c, line 747 at r3 (raw file):

    save->status_notifications = settings.status_notifications;

    save->auto_update           = settings.auto_update;

These settings aren't loaded when uTox starts.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/627#issuecomment-273958124,This change is‚ÄÇ,"Reviewed 5 of 9 files at r1, 13 of 15 files at r2, 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 8 unresolved discussions, some commit checks failed.

src/main.c, line 202 at r3 (raw file):

void parse_args(int argc, char *argv[],
                bool *skip_updater,
                bool *signal_updater,

What is signal_updater? It doesn't seem to be used for anything (right now, anyway)

src/updater.c, line 8 at r3 (raw file):

#include <stddef.h>
#include <inttypes.h>

Should be stdint.h. You're not using any of the macros or functions from inttypes.h.

src/updater.c, line 50 at r3 (raw file):

    }

    int32_t sock = 0;

This is never used outside of the loop.

src/updater.c, line 56 at r3 (raw file):

        }

        sock = socket(info->ai_family, SOCK_STREAM, IPPROTO_TCP);

int32_t sock = ..

src/updater.c, line 85 at r3 (raw file):

        uint32_t len = 0, real_len = 0, header_len = 0;
        uint8_t *buffer = calloc(1, 0x10000);

Check if this allocation worked.

src/updater.c, line 133 at r3 (raw file):

            if (real_len + len > header_len) {
                debug_error(""Updater:\tCorrupt download, can't continue with update.\n"");
                free(buffer);

And free(data);

src/updater.c, line 144 at r3 (raw file):

                *out_len = real_len;
            }
            return data;

buffer isn't freed before this return.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/627#issuecomment-273989535,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 8 unresolved discussions, some commit checks failed.

src/main.c, line 202 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
What is signal_updater? It doesn't seem to be used for anything (right now, anyway)

I don't have the time to implement the full updater inside uTox yet, but when I do, it'll be needed to tell the updater, that the installed version can't start successfully, and it should revert to the backup version.

src/updater.c, line 8 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Should be stdint.h. You're not using any of the macros or functions from inttypes.h.

Done.

src/updater.c, line 50 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This is never used outside of the loop.

Done.

src/updater.c, line 56 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
int32_t sock = ..

Done.

src/updater.c, line 85 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Check if this allocation worked.

Done.

src/updater.c, line 133 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
And free(data);

Done.

src/updater.c, line 144 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
buffer isn't freed before this return.

Done.

src/util.c, line 747 at r3 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
These settings aren't loaded when uTox starts.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/627#issuecomment-274025197,This change is‚ÄÇ,"Reviewed 3 of 3 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/main.c, line 202 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I don't have the time to implement the full updater inside uTox yet, but when I do, it'll be needed to tell the updater, that the installed version can't start successfully, and it should revert to the backup version.

Maybe rename it to ""revert_update"" or something less generic than ""signal_updater"".

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/627#issuecomment-274070978,This change is‚ÄÇ,@uTox/devs signoff needed,True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/cebe,13,https://github.com/uTox/uTox/pull/627#issuecomment-274115195,This change is‚ÄÇ,"Reviewed 1 of 3 files at r4, 42 of 43 files at r5.
Review status: 57 of 58 files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/cebe,14,https://github.com/uTox/uTox/pull/627#issuecomment-274115416,This change is‚ÄÇ,"On advanced tab, the password  warning is broken:

Here is a patch to fix it:
diff --git a/src/ui/draw_helpers.c b/src/ui/draw_helpers.c
index 24ac4a6..faafe41 100644
--- a/src/ui/draw_helpers.c
+++ b/src/ui/draw_helpers.c
@@ -427,8 +427,8 @@ void draw_settings_text_devices(int UNUSED(x), int y, int UNUSED(w), int UNUSED(
 void draw_settings_text_password(int UNUSED(x), int y, int UNUSED(w), int UNUSED(h)) {
     setfont(FONT_MISC);
     setcolor(C_RED);
-    drawstr(MAIN_LEFT + SCALE(75), y + SCALE(206), PROFILE_PW_WARNING);
-    drawstr(MAIN_LEFT + SCALE(75), y + SCALE(220), PROFILE_PW_NO_RECOVER);
+    drawstr(MAIN_LEFT + SCALE(75), y + SCALE(230), PROFILE_PW_WARNING);
+    drawstr(MAIN_LEFT + SCALE(75), y + SCALE(244), PROFILE_PW_NO_RECOVER);
 }
 
 void draw_settings_text_ui(int UNUSED(x), int y, int UNUSED(w), int UNUSED(height)) {",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/cebe,15,https://github.com/uTox/uTox/pull/627#issuecomment-274221717,This change is‚ÄÇ,"Reviewed 1 of 1 files at r6.
Review status: 57 of 58 files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/endoffile78,16,https://github.com/uTox/uTox/pull/627#issuecomment-274225215,This change is‚ÄÇ,"Reviewed 1 of 3 files at r4, 42 of 43 files at r5, 1 of 1 files at r6.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/endoffile78,17,https://github.com/uTox/uTox/pull/627#issuecomment-274227181,This change is‚ÄÇ,"Reviewed 2 of 2 files at r7.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/endoffile78,18,https://github.com/uTox/uTox/pull/627#issuecomment-274231503,This change is‚ÄÇ,"Reviewed 5 of 5 files at r8.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/fcore117,19,https://github.com/uTox/uTox/pull/627#issuecomment-274257984,This change is‚ÄÇ,"Reviewed 3 of 9 files at r1, 11 of 15 files at r2, 1 of 3 files at r4, 39 of 43 files at r5, 1 of 1 files at r6, 1 of 2 files at r7, 3 of 5 files at r8, 2 of 2 files at r9.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/endoffile78,20,https://github.com/uTox/uTox/pull/627#issuecomment-274265839,This change is‚ÄÇ,"Reviewed 2 of 2 files at r9.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/robinlinden,21,https://github.com/uTox/uTox/pull/627#issuecomment-274303366,This change is‚ÄÇ,"Reviewed 39 of 43 files at r5, 1 of 1 files at r6, 1 of 2 files at r7, 3 of 5 files at r8, 2 of 2 files at r9.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,627,2017-01-18T11:13:50Z,2017-01-22T07:35:07Z,2017-01-22T08:32:18Z,MERGED,True,937,481,61,https://github.com/GrayHatter,Allow uTox to check for updates,14,[],https://github.com/uTox/uTox/pull/627,https://github.com/endoffile78,22,https://github.com/uTox/uTox/pull/627#issuecomment-274314714,This change is‚ÄÇ,"Reviewed 6 of 6 files at r10.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,629,2017-01-20T17:57:25Z,2017-01-20T21:18:43Z,2017-08-26T13:08:52Z,MERGED,True,3,4,2,https://github.com/robinlinden,Change some variables over to being declared rather than defined in .h files.,1,[],https://github.com/uTox/uTox/pull/629,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/629,"Should fix #628


This change is‚ÄÇ","Should fix #628


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,629,2017-01-20T17:57:25Z,2017-01-20T21:18:43Z,2017-08-26T13:08:52Z,MERGED,True,3,4,2,https://github.com/robinlinden,Change some variables over to being declared rather than defined in .h files.,1,[],https://github.com/uTox/uTox/pull/629,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/629#issuecomment-274172725,"Should fix #628


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,629,2017-01-20T17:57:25Z,2017-01-20T21:18:43Z,2017-08-26T13:08:52Z,MERGED,True,3,4,2,https://github.com/robinlinden,Change some variables over to being declared rather than defined in .h files.,1,[],https://github.com/uTox/uTox/pull/629,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/629#issuecomment-274181837,"Should fix #628


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,631,2017-01-20T21:43:43Z,2017-01-20T23:17:22Z,2017-01-20T23:22:32Z,MERGED,True,4,4,1,https://github.com/GrayHatter,Don't segv when exporting chat history,1,[],https://github.com/uTox/uTox/pull/631,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/631,"closes #630
@cebe


This change is‚ÄÇ","closes #630
@cebe


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,631,2017-01-20T21:43:43Z,2017-01-20T23:17:22Z,2017-01-20T23:22:32Z,MERGED,True,4,4,1,https://github.com/GrayHatter,Don't segv when exporting chat history,1,[],https://github.com/uTox/uTox/pull/631,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/631#issuecomment-274201439,"closes #630
@cebe


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,631,2017-01-20T21:43:43Z,2017-01-20T23:17:22Z,2017-01-20T23:22:32Z,MERGED,True,4,4,1,https://github.com/GrayHatter,Don't segv when exporting chat history,1,[],https://github.com/uTox/uTox/pull/631,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/631#issuecomment-274205363,"closes #630
@cebe


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,632,2017-01-20T22:29:14Z,2017-01-20T23:34:34Z,2017-01-20T23:42:35Z,CLOSED,False,10,0,2,https://github.com/cebe,added information about symbolizing ASAN stack trace to the docs,1,[],https://github.com/uTox/uTox/pull/632,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/632,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,632,2017-01-20T22:29:14Z,2017-01-20T23:34:34Z,2017-01-20T23:42:35Z,CLOSED,False,10,0,2,https://github.com/cebe,added information about symbolizing ASAN stack trace to the docs,1,[],https://github.com/uTox/uTox/pull/632,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/632#issuecomment-274205634,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,632,2017-01-20T22:29:14Z,2017-01-20T23:34:34Z,2017-01-20T23:42:35Z,CLOSED,False,10,0,2,https://github.com/cebe,added information about symbolizing ASAN stack trace to the docs,1,[],https://github.com/uTox/uTox/pull/632,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/632#issuecomment-274206497,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,632,2017-01-20T22:29:14Z,2017-01-20T23:34:34Z,2017-01-20T23:42:35Z,CLOSED,False,10,0,2,https://github.com/cebe,added information about symbolizing ASAN stack trace to the docs,1,[],https://github.com/uTox/uTox/pull/632,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/632#issuecomment-274208139,This change is‚ÄÇ,merged,True,{}
uTox/uTox,https://github.com/uTox/uTox,633,2017-01-21T15:36:57Z,2017-01-22T08:45:40Z,2017-02-12T21:33:56Z,MERGED,True,21,13,7,https://github.com/endoffile78,Version tick,2,[],https://github.com/uTox/uTox/pull/633,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/633,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,633,2017-01-21T15:36:57Z,2017-01-22T08:45:40Z,2017-02-12T21:33:56Z,MERGED,True,21,13,7,https://github.com/endoffile78,Version tick,2,[],https://github.com/uTox/uTox/pull/633,https://github.com/fcore117,2,https://github.com/uTox/uTox/pull/633#issuecomment-274275515,This change is‚ÄÇ,"Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,633,2017-01-21T15:36:57Z,2017-01-22T08:45:40Z,2017-02-12T21:33:56Z,MERGED,True,21,13,7,https://github.com/endoffile78,Version tick,2,[],https://github.com/uTox/uTox/pull/633,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/633#issuecomment-274297771,This change is‚ÄÇ,"Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/android/AndroidManifest.xml, line 4 at r1 (raw file):

        package=""tox.client.utox""
        android:versionName=""0.12.0""
        android:versionCode=""3""> <!-- versionCode must int. inc for patches -->

This number must be incremented by 1 every release or Android won't know this version is newer. The versionName is just a pretty string containing our official version number.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,633,2017-01-21T15:36:57Z,2017-01-22T08:45:40Z,2017-02-12T21:33:56Z,MERGED,True,21,13,7,https://github.com/endoffile78,Version tick,2,[],https://github.com/uTox/uTox/pull/633,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/633#issuecomment-274302558,This change is‚ÄÇ,"Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/android/AndroidManifest.xml, line 4 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This number must be incremented by 1 every release or Android won't know this version is newer. The versionName is just a pretty string containing our official version number.

no, don't do this...
Android says the version code must increase with every update, so let me do it when I'm ready to push a new version.
If we want to make the uTox android client officially supported, then we can discuss how we want to do version/revision, until then, lets leave this alone. I don't want to get stuck with out of order versions because I forgot to update this, or want to push a roll back.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,633,2017-01-21T15:36:57Z,2017-01-22T08:45:40Z,2017-02-12T21:33:56Z,MERGED,True,21,13,7,https://github.com/endoffile78,Version tick,2,[],https://github.com/uTox/uTox/pull/633,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/633#issuecomment-274317440,This change is‚ÄÇ,"Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,633,2017-01-21T15:36:57Z,2017-01-22T08:45:40Z,2017-02-12T21:33:56Z,MERGED,True,21,13,7,https://github.com/endoffile78,Version tick,2,[],https://github.com/uTox/uTox/pull/633,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/633#issuecomment-274317453,This change is‚ÄÇ,"Reviewed 3 of 6 files at r1, 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,633,2017-01-21T15:36:57Z,2017-01-22T08:45:40Z,2017-02-12T21:33:56Z,MERGED,True,21,13,7,https://github.com/endoffile78,Version tick,2,[],https://github.com/uTox/uTox/pull/633,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/633#issuecomment-274317529,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/android/AndroidManifest.xml, line 4 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
no, don't do this...
Android says the version code must increase with every update, so let me do it when I'm ready to push a new version.
If we want to make the uTox android client officially supported, then we can discuss how we want to do version/revision, until then, lets leave this alone. I don't want to get stuck with out of order versions because I forgot to update this, or want to push a roll back.

ltgm

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,634,2017-01-21T15:42:57Z,2017-01-22T08:38:52Z,2017-02-12T21:33:34Z,MERGED,True,80,1,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/634,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/634,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,634,2017-01-21T15:42:57Z,2017-01-22T08:38:52Z,2017-02-12T21:33:34Z,MERGED,True,80,1,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/634,https://github.com/fcore117,2,https://github.com/uTox/uTox/pull/634#issuecomment-274275438,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,634,2017-01-21T15:42:57Z,2017-01-22T08:38:52Z,2017-02-12T21:33:34Z,MERGED,True,80,1,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/634,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/634#issuecomment-274297643,This change is‚ÄÇ,"Remember to update this again after pushing v0.12.0. 

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,634,2017-01-21T15:42:57Z,2017-01-22T08:38:52Z,2017-02-12T21:33:34Z,MERGED,True,80,1,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/634,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/634#issuecomment-274317290,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,635,2017-01-22T08:20:21Z,2017-01-22T08:27:28Z,2017-01-22T08:27:37Z,MERGED,True,279,46,27,https://github.com/GrayHatter,Merge nospam into develop. (Merge conflict with changes),4,[],https://github.com/uTox/uTox/pull/635,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/635,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,635,2017-01-22T08:20:21Z,2017-01-22T08:27:28Z,2017-01-22T08:27:37Z,MERGED,True,279,46,27,https://github.com/GrayHatter,Merge nospam into develop. (Merge conflict with changes),4,[],https://github.com/uTox/uTox/pull/635,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/635#issuecomment-274316771,This change is‚ÄÇ,closes #513,True,{}
uTox/uTox,https://github.com/uTox/uTox,635,2017-01-22T08:20:21Z,2017-01-22T08:27:28Z,2017-01-22T08:27:37Z,MERGED,True,279,46,27,https://github.com/GrayHatter,Merge nospam into develop. (Merge conflict with changes),4,[],https://github.com/uTox/uTox/pull/635,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/635#issuecomment-274316849,This change is‚ÄÇ,"Reviewed 12 of 26 files at r1, 15 of 15 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,636,2017-01-22T08:47:16Z,2017-01-22T08:52:28Z,2017-01-22T08:52:28Z,MERGED,True,3502,1749,169,https://github.com/GrayHatter,NEW VERSION,129,[],https://github.com/uTox/uTox/pull/636,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/636,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,636,2017-01-22T08:47:16Z,2017-01-22T08:52:28Z,2017-01-22T08:52:28Z,MERGED,True,3502,1749,169,https://github.com/GrayHatter,NEW VERSION,129,[],https://github.com/uTox/uTox/pull/636,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/636#issuecomment-274317840,This change is‚ÄÇ,"Reviewed 169 of 169 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,636,2017-01-22T08:47:16Z,2017-01-22T08:52:28Z,2017-01-22T08:52:28Z,MERGED,True,3502,1749,169,https://github.com/GrayHatter,NEW VERSION,129,[],https://github.com/uTox/uTox/pull/636,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/636#issuecomment-274317916,This change is‚ÄÇ,"Reviewed 169 of 169 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,640,2017-01-22T13:07:41Z,2017-01-22T17:19:15Z,2017-01-22T20:27:22Z,MERGED,True,42,3,1,https://github.com/cebe,added missing German translations,1,[],https://github.com/uTox/uTox/pull/640,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/640,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,640,2017-01-22T13:07:41Z,2017-01-22T17:19:15Z,2017-01-22T20:27:22Z,MERGED,True,42,3,1,https://github.com/cebe,added missing German translations,1,[],https://github.com/uTox/uTox/pull/640,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/640#issuecomment-274330346,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,640,2017-01-22T13:07:41Z,2017-01-22T17:19:15Z,2017-01-22T20:27:22Z,MERGED,True,42,3,1,https://github.com/cebe,added missing German translations,1,[],https://github.com/uTox/uTox/pull/640,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/640#issuecomment-274344269,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,642,2017-01-22T22:56:13Z,2017-01-23T03:42:23Z,2017-08-26T13:08:53Z,MERGED,True,51,31,6,https://github.com/robinlinden,Fix segv on saving inline images on Windows,1,[],https://github.com/uTox/uTox/pull/642,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/642,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,642,2017-01-22T22:56:13Z,2017-01-23T03:42:23Z,2017-08-26T13:08:53Z,MERGED,True,51,31,6,https://github.com/robinlinden,Fix segv on saving inline images on Windows,1,[],https://github.com/uTox/uTox/pull/642,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/642#issuecomment-274367357,This change is‚ÄÇ,"Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/file_transfers.h, line 67 at r1 (raw file):

    uint8_t  resume_update;

    MSG_FILE *ui_data;

YAY!!

src/windows/main.c, line 135 at r1 (raw file):

void file_save_inline(FILE_TRANSFER *file) {
    char *path = (char *)calloc(1, UTOX_FILE_NAME_LENGTH);

did you need to typecast the void*?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,642,2017-01-22T22:56:13Z,2017-01-23T03:42:23Z,2017-08-26T13:08:53Z,MERGED,True,51,31,6,https://github.com/robinlinden,Fix segv on saving inline images on Windows,1,[],https://github.com/uTox/uTox/pull/642,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/642#issuecomment-274373434,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/main.c, line 135 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
did you need to typecast the void*?

I don't need to. It's a habit from C++ programming. If we add a build to compile everything in C++ too (which I'd quite like to do) not casting would warn or error. Want me to remove the cast for now at least?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,642,2017-01-22T22:56:13Z,2017-01-23T03:42:23Z,2017-08-26T13:08:53Z,MERGED,True,51,31,6,https://github.com/robinlinden,Fix segv on saving inline images on Windows,1,[],https://github.com/uTox/uTox/pull/642,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/642#issuecomment-274382103,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/main.c, line 135 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I don't need to. It's a habit from C++ programming. If we add a build to compile everything in C++ too (which I'd quite like to do) not casting would warn or error. Want me to remove the cast for now at least?

yes, that's a stupid error, that if we go with C++ we'll suppress

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,642,2017-01-22T22:56:13Z,2017-01-23T03:42:23Z,2017-08-26T13:08:53Z,MERGED,True,51,31,6,https://github.com/robinlinden,Fix segv on saving inline images on Windows,1,[],https://github.com/uTox/uTox/pull/642,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/642#issuecomment-274388606,This change is‚ÄÇ,"Review status: 5 of 6 files reviewed at latest revision, 1 unresolved discussion.

src/windows/main.c, line 135 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
yes, that's a stupid error, that if we go with C++ we'll suppress

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,642,2017-01-22T22:56:13Z,2017-01-23T03:42:23Z,2017-08-26T13:08:53Z,MERGED,True,51,31,6,https://github.com/robinlinden,Fix segv on saving inline images on Windows,1,[],https://github.com/uTox/uTox/pull/642,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/642#issuecomment-274393102,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,643,2017-01-23T02:53:08Z,2017-01-23T20:27:58Z,2017-08-26T13:08:54Z,MERGED,True,854,951,41,https://github.com/robinlinden,Delete util files.,1,[],https://github.com/uTox/uTox/pull/643,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/643,"Moved most functions to files where they belong.
Created src/text for text utilities that have nothing to do with display/ui. (E.g. utf8 validation.)
Deleted the file_text function because it wasn't used anywhere.


This change is‚ÄÇ","Moved most functions to files where they belong.
Created src/text for text utilities that have nothing to do with display/ui. (E.g. utf8 validation.)
Deleted the file_text function because it wasn't used anywhere.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,643,2017-01-23T02:53:08Z,2017-01-23T20:27:58Z,2017-08-26T13:08:54Z,MERGED,True,854,951,41,https://github.com/robinlinden,Delete util files.,1,[],https://github.com/uTox/uTox/pull/643,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/643#issuecomment-274398445,"Moved most functions to files where they belong.
Created src/text for text utilities that have nothing to do with display/ui. (E.g. utf8 validation.)
Deleted the file_text function because it wasn't used anywhere.


This change is‚ÄÇ","Reviewed 41 of 41 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,643,2017-01-23T02:53:08Z,2017-01-23T20:27:58Z,2017-08-26T13:08:54Z,MERGED,True,854,951,41,https://github.com/robinlinden,Delete util files.,1,[],https://github.com/uTox/uTox/pull/643,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/643#issuecomment-274426721,"Moved most functions to files where they belong.
Created src/text for text utilities that have nothing to do with display/ui. (E.g. utf8 validation.)
Deleted the file_text function because it wasn't used anywhere.


This change is‚ÄÇ","Reviewed 20 of 41 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/file_transfers.c, line 15 at r1 (raw file):

#define MAX_INLINE_FILESIZE (1024 * 1024 * 4)

static void fid_to_string(char *dest, uint8_t *src);

twice?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,643,2017-01-23T02:53:08Z,2017-01-23T20:27:58Z,2017-08-26T13:08:54Z,MERGED,True,854,951,41,https://github.com/robinlinden,Delete util files.,1,[],https://github.com/uTox/uTox/pull/643,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/643#issuecomment-274537096,"Moved most functions to files where they belong.
Created src/text for text utilities that have nothing to do with display/ui. (E.g. utf8 validation.)
Deleted the file_text function because it wasn't used anywhere.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/file_transfers.c, line 15 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
twice?

Declaration and definition. I originally had the function further down the file and then I had to add the declaration so functions knew it existed. Want me to drop the declaration?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,643,2017-01-23T02:53:08Z,2017-01-23T20:27:58Z,2017-08-26T13:08:54Z,MERGED,True,854,951,41,https://github.com/robinlinden,Delete util files.,1,[],https://github.com/uTox/uTox/pull/643,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/643#issuecomment-274544959,"Moved most functions to files where they belong.
Created src/text for text utilities that have nothing to do with display/ui. (E.g. utf8 validation.)
Deleted the file_text function because it wasn't used anywhere.


This change is‚ÄÇ","Review status: 36 of 41 files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 15 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Declaration and definition. I originally had the function further down the file and then I had to add the declaration so functions knew it existed. Want me to drop the declaration?

I went ahead and deleted it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,644,2017-01-23T02:57:28Z,2017-01-23T03:49:59Z,2017-01-23T04:14:52Z,MERGED,True,52,56,8,https://github.com/GrayHatter,Fix a segv with inline transfers,5,[],https://github.com/uTox/uTox/pull/644,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/644,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,644,2017-01-23T02:57:28Z,2017-01-23T03:49:59Z,2017-01-23T04:14:52Z,MERGED,True,52,56,8,https://github.com/GrayHatter,Fix a segv with inline transfers,5,[],https://github.com/uTox/uTox/pull/644,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/644#issuecomment-274387621,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,644,2017-01-23T02:57:28Z,2017-01-23T03:49:59Z,2017-01-23T04:14:52Z,MERGED,True,52,56,8,https://github.com/GrayHatter,Fix a segv with inline transfers,5,[],https://github.com/uTox/uTox/pull/644,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/644#issuecomment-274392924,This change is‚ÄÇ,"Reviewed 3 of 3 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,644,2017-01-23T02:57:28Z,2017-01-23T03:49:59Z,2017-01-23T04:14:52Z,MERGED,True,52,56,8,https://github.com/GrayHatter,Fix a segv with inline transfers,5,[],https://github.com/uTox/uTox/pull/644,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/644#issuecomment-274393252,This change is‚ÄÇ,"Reviewed 4 of 4 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,644,2017-01-23T02:57:28Z,2017-01-23T03:49:59Z,2017-01-23T04:14:52Z,MERGED,True,52,56,8,https://github.com/GrayHatter,Fix a segv with inline transfers,5,[],https://github.com/uTox/uTox/pull/644,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/644#issuecomment-274393925,This change is‚ÄÇ,"Reviewed 3 of 3 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,645,2017-01-23T04:13:31Z,2017-01-23T04:19:58Z,2017-01-23T04:19:58Z,MERGED,True,142,86,13,https://github.com/GrayHatter,NEW VERSION v012.0 -> v0.12.1,8,[],https://github.com/uTox/uTox/pull/645,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/645,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,645,2017-01-23T04:13:31Z,2017-01-23T04:19:58Z,2017-01-23T04:19:58Z,MERGED,True,142,86,13,https://github.com/GrayHatter,NEW VERSION v012.0 -> v0.12.1,8,[],https://github.com/uTox/uTox/pull/645,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/645#issuecomment-274397426,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1, 3 of 6 files at r2, 9 of 9 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,645,2017-01-23T04:13:31Z,2017-01-23T04:19:58Z,2017-01-23T04:19:58Z,MERGED,True,142,86,13,https://github.com/GrayHatter,NEW VERSION v012.0 -> v0.12.1,8,[],https://github.com/uTox/uTox/pull/645,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/645#issuecomment-274397577,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1, 3 of 6 files at r2, 9 of 9 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,646,2017-01-23T05:01:11Z,2017-01-28T19:20:30Z,2017-02-12T21:33:51Z,MERGED,True,7,32,14,https://github.com/endoffile78,Cleanup includes,1,[],https://github.com/uTox/uTox/pull/646,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/646,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,646,2017-01-23T05:01:11Z,2017-01-28T19:20:30Z,2017-02-12T21:33:51Z,MERGED,True,7,32,14,https://github.com/endoffile78,Cleanup includes,1,[],https://github.com/uTox/uTox/pull/646,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/646#issuecomment-275333879,This change is‚ÄÇ,"Reviewed 8 of 8 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/dns.c, line 5 at r1 (raw file):

#include ""logging_native.h""
#include ""macros.h""
#include ""main.h""

This is included twice now.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,646,2017-01-23T05:01:11Z,2017-01-28T19:20:30Z,2017-02-12T21:33:51Z,MERGED,True,7,32,14,https://github.com/endoffile78,Cleanup includes,1,[],https://github.com/uTox/uTox/pull/646,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/646#issuecomment-275818769,This change is‚ÄÇ,"Review status: 3 of 14 files reviewed at latest revision, 1 unresolved discussion.

src/dns.c, line 5 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This is included twice now.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,646,2017-01-23T05:01:11Z,2017-01-28T19:20:30Z,2017-02-12T21:33:51Z,MERGED,True,7,32,14,https://github.com/endoffile78,Cleanup includes,1,[],https://github.com/uTox/uTox/pull/646,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/646#issuecomment-275818924,This change is‚ÄÇ,"Reviewed 11 of 11 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/dns.c, line 5 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Done.

From 2 to 0. :D

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,646,2017-01-23T05:01:11Z,2017-01-28T19:20:30Z,2017-02-12T21:33:51Z,MERGED,True,7,32,14,https://github.com/endoffile78,Cleanup includes,1,[],https://github.com/uTox/uTox/pull/646,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/646#issuecomment-275839173,This change is‚ÄÇ,"Reviewed 2 of 8 files at r1, 4 of 11 files at r2, 6 of 6 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,646,2017-01-23T05:01:11Z,2017-01-28T19:20:30Z,2017-02-12T21:33:51Z,MERGED,True,7,32,14,https://github.com/endoffile78,Cleanup includes,1,[],https://github.com/uTox/uTox/pull/646,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/646#issuecomment-275852715,This change is‚ÄÇ,"Reviewed 6 of 6 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,646,2017-01-23T05:01:11Z,2017-01-28T19:20:30Z,2017-02-12T21:33:51Z,MERGED,True,7,32,14,https://github.com/endoffile78,Cleanup includes,1,[],https://github.com/uTox/uTox/pull/646,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/646#issuecomment-275868386,This change is‚ÄÇ,"Reviewed 2 of 11 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,647,2017-01-23T05:31:54Z,2017-01-23T19:56:34Z,2017-02-12T21:33:54Z,MERGED,True,344,288,41,https://github.com/endoffile78,Add settings.c and settings.h,2,[],https://github.com/uTox/uTox/pull/647,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/647,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,647,2017-01-23T05:31:54Z,2017-01-23T19:56:34Z,2017-02-12T21:33:54Z,MERGED,True,344,288,41,https://github.com/endoffile78,Add settings.c and settings.h,2,[],https://github.com/uTox/uTox/pull/647,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/647#issuecomment-274538096,This change is‚ÄÇ,"Reviewed 41 of 41 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,647,2017-01-23T05:31:54Z,2017-01-23T19:56:34Z,2017-02-12T21:33:54Z,MERGED,True,344,288,41,https://github.com/endoffile78,Add settings.c and settings.h,2,[],https://github.com/uTox/uTox/pull/647,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/647#issuecomment-274592672,This change is‚ÄÇ,"Reviewed 41 of 41 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,649,2017-01-23T06:10:23Z,2017-01-23T19:29:31Z,2017-02-12T21:33:53Z,MERGED,True,83,80,38,https://github.com/endoffile78,Add macros.h,1,[],https://github.com/uTox/uTox/pull/649,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/649,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,649,2017-01-23T06:10:23Z,2017-01-23T19:29:31Z,2017-02-12T21:33:53Z,MERGED,True,83,80,38,https://github.com/endoffile78,Add macros.h,1,[],https://github.com/uTox/uTox/pull/649,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/649#issuecomment-274424903,This change is‚ÄÇ,Do all of those files really still need main.h included?,True,{}
uTox/uTox,https://github.com/uTox/uTox,649,2017-01-23T06:10:23Z,2017-01-23T19:29:31Z,2017-02-12T21:33:53Z,MERGED,True,83,80,38,https://github.com/endoffile78,Add macros.h,1,[],https://github.com/uTox/uTox/pull/649,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/649#issuecomment-274427249,This change is‚ÄÇ,"Is main.h still needed in all the files where you removed the // FIXME comments?
Can you sort the headers as well? (clang-format can do that in bulk if you run it and tell it to ONLY sort headers, is probably the fastest way)

Reviewed 3 of 38 files at r1.
Review status: 3 of 38 files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 10 at r1 (raw file):

#include ""util.h""
#include ""utox.h""
#include ""main.h""

Is main.h still needed?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,649,2017-01-23T06:10:23Z,2017-01-23T19:29:31Z,2017-02-12T21:33:53Z,MERGED,True,83,80,38,https://github.com/endoffile78,Add macros.h,1,[],https://github.com/uTox/uTox/pull/649,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/649#issuecomment-274527049,This change is‚ÄÇ,"@GrayHatter In this PR, most files still rely on being able to access the settings struct in the main file. This in combination with #647 should get almost all of them.",True,{}
uTox/uTox,https://github.com/uTox/uTox,649,2017-01-23T06:10:23Z,2017-01-23T19:29:31Z,2017-02-12T21:33:53Z,MERGED,True,83,80,38,https://github.com/endoffile78,Add macros.h,1,[],https://github.com/uTox/uTox/pull/649,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/649#issuecomment-274539263,This change is‚ÄÇ,"Reviewed 38 of 38 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 10 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Is main.h still needed?

It's still needed until e0f's settings PR is merged.
settings.accept_inline_images is used in this file.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,649,2017-01-23T06:10:23Z,2017-01-23T19:29:31Z,2017-02-12T21:33:53Z,MERGED,True,83,80,38,https://github.com/endoffile78,Add macros.h,1,[],https://github.com/uTox/uTox/pull/649,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/649#issuecomment-274591259,This change is‚ÄÇ,"Reviewed 35 of 38 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,650,2017-01-23T08:17:31Z,2017-01-23T20:29:46Z,2017-01-23T20:29:52Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Refactor Messages.c,0,[],https://github.com/uTox/uTox/pull/650,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/650,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,650,2017-01-23T08:17:31Z,2017-01-23T20:29:46Z,2017-01-23T20:29:52Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Refactor Messages.c,0,[],https://github.com/uTox/uTox/pull/650,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/650#issuecomment-274535895,This change is‚ÄÇ,"Reviewed 14 of 14 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,650,2017-01-23T08:17:31Z,2017-01-23T20:29:46Z,2017-01-23T20:29:52Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Refactor Messages.c,0,[],https://github.com/uTox/uTox/pull/650,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/650#issuecomment-274600598,This change is‚ÄÇ,"+@robinlinden please take a look, rebased

Review status: 6 of 14 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,650,2017-01-23T08:17:31Z,2017-01-23T20:29:46Z,2017-01-23T20:29:52Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Refactor Messages.c,0,[],https://github.com/uTox/uTox/pull/650,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/650#issuecomment-274604307,This change is‚ÄÇ,"Reviewed 9 of 10 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,651,2017-01-23T08:18:17Z,2017-01-23T20:28:43Z,2017-01-23T20:28:43Z,MERGED,True,6,4,3,https://github.com/GrayHatter,Fix warnings through out uTox,2,[],https://github.com/uTox/uTox/pull/651,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/651,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,651,2017-01-23T08:18:17Z,2017-01-23T20:28:43Z,2017-01-23T20:28:43Z,MERGED,True,6,4,3,https://github.com/GrayHatter,Fix warnings through out uTox,2,[],https://github.com/uTox/uTox/pull/651,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/651#issuecomment-274571612,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,651,2017-01-23T08:18:17Z,2017-01-23T20:28:43Z,2017-01-23T20:28:43Z,MERGED,True,6,4,3,https://github.com/GrayHatter,Fix warnings through out uTox,2,[],https://github.com/uTox/uTox/pull/651,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/651#issuecomment-274602641,This change is‚ÄÇ,"+@robinlinden rebased

Review status: 0 of 3 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,651,2017-01-23T08:18:17Z,2017-01-23T20:28:43Z,2017-01-23T20:28:43Z,MERGED,True,6,4,3,https://github.com/GrayHatter,Fix warnings through out uTox,2,[],https://github.com/uTox/uTox/pull/651,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/651#issuecomment-274606123,This change is‚ÄÇ,"Reviewed 3 of 4 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,652,2017-01-23T10:51:02Z,2017-01-23T20:28:25Z,2019-01-21T09:09:04Z,MERGED,True,2,2,1,https://github.com/GrayHatter,Update manpage with new domain,2,[],https://github.com/uTox/uTox/pull/652,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/652,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,652,2017-01-23T10:51:02Z,2017-01-23T20:28:25Z,2019-01-21T09:09:04Z,MERGED,True,2,2,1,https://github.com/GrayHatter,Update manpage with new domain,2,[],https://github.com/uTox/uTox/pull/652,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/652#issuecomment-274536167,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,652,2017-01-23T10:51:02Z,2017-01-23T20:28:25Z,2019-01-21T09:09:04Z,MERGED,True,2,2,1,https://github.com/GrayHatter,Update manpage with new domain,2,[],https://github.com/uTox/uTox/pull/652,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/652#issuecomment-274602047,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/utox.1, line 99 at r1 (raw file):
Previously, redmanmale wrote‚Ä¶
https

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,652,2017-01-23T10:51:02Z,2017-01-23T20:28:25Z,2019-01-21T09:09:04Z,MERGED,True,2,2,1,https://github.com/GrayHatter,Update manpage with new domain,2,[],https://github.com/uTox/uTox/pull/652,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/652#issuecomment-274603413,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,652,2017-01-23T10:51:02Z,2017-01-23T20:28:25Z,2019-01-21T09:09:04Z,MERGED,True,2,2,1,https://github.com/GrayHatter,Update manpage with new domain,2,[],https://github.com/uTox/uTox/pull/652,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/652#issuecomment-274604847,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,654,2017-01-23T17:43:02Z,2017-01-23T20:06:56Z,2017-01-23T20:06:56Z,MERGED,True,1,1,1,https://github.com/NicoHood,Fix man install directory,1,[],https://github.com/uTox/uTox/pull/654,https://github.com/NicoHood,1,https://github.com/uTox/uTox/pull/654,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,654,2017-01-23T17:43:02Z,2017-01-23T20:06:56Z,2017-01-23T20:06:56Z,MERGED,True,1,1,1,https://github.com/NicoHood,Fix man install directory,1,[],https://github.com/uTox/uTox/pull/654,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/654#issuecomment-274561852,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,654,2017-01-23T17:43:02Z,2017-01-23T20:06:56Z,2017-01-23T20:06:56Z,MERGED,True,1,1,1,https://github.com/NicoHood,Fix man install directory,1,[],https://github.com/uTox/uTox/pull/654,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/654#issuecomment-274564039,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/656,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/656#issuecomment-274609552,This change is‚ÄÇ,"Reviewed 52 of 52 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/656#issuecomment-274610217,This change is‚ÄÇ,"Reviewed 52 of 52 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/656#issuecomment-275874570,This change is‚ÄÇ,"Reviewed 52 of 52 files at r1, 1 of 43 files at r2.
Review status: 14 of 56 files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/file_transfers.c, line 1114 at r1 (raw file):

    }

    // Removed until we can find a better way of working this in;

FYI, just adding a comment here to preserve this revision so that the following reviews are much easier.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/656#issuecomment-275877195,This change is‚ÄÇ,"+@robinlinden +@cebe closes #572

Review status: 1 of 57 files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/656#issuecomment-275932182,This change is‚ÄÇ,"drawing.m needs to be updated

Reviewed 2 of 52 files at r1, 5 of 43 files at r2, 51 of 51 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/656#issuecomment-275966299,This change is‚ÄÇ,"Reviewed 1 of 52 files at r1, 24 of 51 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/avatar.c, line 50 at r3 (raw file):

    }

    uint8_t *data = calloc(size, 1);

Not really in scope, but size and 1 need to be switched.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/656#issuecomment-275968676,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/avatar.c, line 50 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Not really in scope, but size and 1 need to be switched.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/656#issuecomment-275975236,This change is‚ÄÇ,"Reviewed 2 of 2 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/656#issuecomment-276107453,This change is‚ÄÇ,"Reviewed 5 of 43 files at r2, 27 of 51 files at r3, 2 of 2 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/656#issuecomment-276201675,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 1114 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
FYI, just adding a comment here to preserve this revision so that the following reviews are much easier.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,656,2017-01-23T20:36:31Z,2017-01-30T21:48:09Z,2017-01-30T22:15:23Z,MERGED,True,842,870,59,https://github.com/GrayHatter,Improve logging macros,8,['PR: Pending'],https://github.com/uTox/uTox/pull/656,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/656#issuecomment-276201950,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

src/file_transfers.c, line 1114 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Done.

LGTM

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,657,2017-01-23T21:01:49Z,2017-01-24T11:58:40Z,2017-01-26T08:25:01Z,MERGED,True,113,94,22,https://github.com/GrayHatter,Fix warnings part 2,14,[],https://github.com/uTox/uTox/pull/657,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/657,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,657,2017-01-23T21:01:49Z,2017-01-24T11:58:40Z,2017-01-26T08:25:01Z,MERGED,True,113,94,22,https://github.com/GrayHatter,Fix warnings part 2,14,[],https://github.com/uTox/uTox/pull/657,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/657#issuecomment-274628239,This change is‚ÄÇ,"Reviewed 21 of 21 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,657,2017-01-23T21:01:49Z,2017-01-24T11:58:40Z,2017-01-26T08:25:01Z,MERGED,True,113,94,22,https://github.com/GrayHatter,Fix warnings part 2,14,[],https://github.com/uTox/uTox/pull/657,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/657#issuecomment-274633054,This change is‚ÄÇ,"Reviewed 21 of 21 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/flist.c, line 704 at r1 (raw file):

}

void flist_selectchat(int index) {

Maybe this should accept an uint instead. A negative index wouldn't make much sense.

src/xlib/event.c, line 75 at r1 (raw file):

            havefocus      = 1;
            XWMHints hints = { 0, 0, 0, 0, 0, 0, 0, 0, 0 };

The C standard says that { 0 } is enough. A warning on this is a bug. (it's apparently reported too. See: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=53119 )

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,657,2017-01-23T21:01:49Z,2017-01-24T11:58:40Z,2017-01-26T08:25:01Z,MERGED,True,113,94,22,https://github.com/GrayHatter,Fix warnings part 2,14,[],https://github.com/uTox/uTox/pull/657,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/657#issuecomment-274732868,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/flist.c, line 704 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Maybe this should accept an uint instead. A negative index wouldn't make much sense.

that's what I was going to do, but I decided aginst it because I didn't want to spend the time proving that it wouldn't try to send -1 if the mouse was just over the first entry in the list.

src/xlib/event.c, line 75 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
The C standard says that { 0 } is enough. A warning on this is a bug. (it's apparently reported too. See: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=53119 )

This is still correct either way

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,657,2017-01-23T21:01:49Z,2017-01-24T11:58:40Z,2017-01-26T08:25:01Z,MERGED,True,113,94,22,https://github.com/GrayHatter,Fix warnings part 2,14,[],https://github.com/uTox/uTox/pull/657,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/657#issuecomment-274735966,This change is‚ÄÇ,"Reviewed 20 of 21 files at r1, 15 of 15 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,657,2017-01-23T21:01:49Z,2017-01-24T11:58:40Z,2017-01-26T08:25:01Z,MERGED,True,113,94,22,https://github.com/GrayHatter,Fix warnings part 2,14,[],https://github.com/uTox/uTox/pull/657,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/657#issuecomment-274773771,This change is‚ÄÇ,"Reviewed 11 of 15 files at r2, 6 of 6 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,658,2017-01-23T21:13:04Z,2017-01-24T07:47:29Z,2017-08-26T13:08:55Z,MERGED,True,197,165,39,https://github.com/robinlinden,Move things from main.h to main_native.h,6,[],https://github.com/uTox/uTox/pull/658,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/658,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,658,2017-01-23T21:13:04Z,2017-01-24T07:47:29Z,2017-08-26T13:08:55Z,MERGED,True,197,165,39,https://github.com/robinlinden,Move things from main.h to main_native.h,6,[],https://github.com/uTox/uTox/pull/658,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/658#issuecomment-274626127,This change is‚ÄÇ,"Reviewed 25 of 25 files at r1, 4 of 4 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,658,2017-01-23T21:13:04Z,2017-01-24T07:47:29Z,2017-08-26T13:08:55Z,MERGED,True,197,165,39,https://github.com/robinlinden,Move things from main.h to main_native.h,6,[],https://github.com/uTox/uTox/pull/658,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/658#issuecomment-274663615,This change is‚ÄÇ,"Reviewed 17 of 17 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/main.h, line 49 at r3 (raw file):

// Limits and sizes
// UTOX_MAX_NUM_GROUPS is never used. Remove?
#define UTOX_MAX_NUM_GROUPS 512

It should probably be moved to groups.h until we decide if it should be removed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,658,2017-01-23T21:13:04Z,2017-01-24T07:47:29Z,2017-08-26T13:08:55Z,MERGED,True,197,165,39,https://github.com/robinlinden,Move things from main.h to main_native.h,6,[],https://github.com/uTox/uTox/pull/658,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/658#issuecomment-274731909,This change is‚ÄÇ,"Reviewed 19 of 25 files at r1, 3 of 4 files at r2, 17 of 17 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,659,2017-01-23T22:36:54Z,2017-01-24T08:01:48Z,2017-02-12T21:33:52Z,MERGED,True,98,55,22,https://github.com/endoffile78,Add self.c and self.h,2,[],https://github.com/uTox/uTox/pull/659,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/659,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,659,2017-01-23T22:36:54Z,2017-01-24T08:01:48Z,2017-02-12T21:33:52Z,MERGED,True,98,55,22,https://github.com/endoffile78,Add self.c and self.h,2,[],https://github.com/uTox/uTox/pull/659,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/659#issuecomment-274723756,This change is‚ÄÇ,"Reviewed 22 of 22 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,659,2017-01-23T22:36:54Z,2017-01-24T08:01:48Z,2017-02-12T21:33:52Z,MERGED,True,98,55,22,https://github.com/endoffile78,Add self.c and self.h,2,[],https://github.com/uTox/uTox/pull/659,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/659#issuecomment-274732845,This change is‚ÄÇ,"Reviewed 22 of 22 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,660,2017-01-24T01:42:31Z,2017-01-27T07:18:49Z,2019-01-21T09:09:04Z,MERGED,True,38,22,5,https://github.com/robinlinden,Fix Windows cmake toolchains and strip symbols from Release build types.,3,[],https://github.com/uTox/uTox/pull/660,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/660,"Debug symbols are always added by cmake when you pass -DCMAKE_BUILD_TYPE=Debug|RelWithDebInfo and they're always stripped when you pass Release|MinSizeRel as the build type.
This code doesn't work. Passing Debug as the cmake build type does not add debug symbols. They're always stripped unless this code is removed or commented before you run cmake with this toolchainfile.



This change is‚ÄÇ","Debug symbols are always added by cmake when you pass -DCMAKE_BUILD_TYPE=Debug|RelWithDebInfo and they're always stripped when you pass Release|MinSizeRel as the build type.
This code doesn't work. Passing Debug as the cmake build type does not add debug symbols. They're always stripped unless this code is removed or commented before you run cmake with this toolchainfile.



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,660,2017-01-24T01:42:31Z,2017-01-27T07:18:49Z,2019-01-21T09:09:04Z,MERGED,True,38,22,5,https://github.com/robinlinden,Fix Windows cmake toolchains and strip symbols from Release build types.,3,[],https://github.com/uTox/uTox/pull/660,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/660#issuecomment-274680392,"Debug symbols are always added by cmake when you pass -DCMAKE_BUILD_TYPE=Debug|RelWithDebInfo and they're always stripped when you pass Release|MinSizeRel as the build type.
This code doesn't work. Passing Debug as the cmake build type does not add debug symbols. They're always stripped unless this code is removed or commented before you run cmake with this toolchainfile.



This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,660,2017-01-24T01:42:31Z,2017-01-27T07:18:49Z,2019-01-21T09:09:04Z,MERGED,True,38,22,5,https://github.com/robinlinden,Fix Windows cmake toolchains and strip symbols from Release build types.,3,[],https://github.com/uTox/uTox/pull/660,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/660#issuecomment-274737282,"Debug symbols are always added by cmake when you pass -DCMAKE_BUILD_TYPE=Debug|RelWithDebInfo and they're always stripped when you pass Release|MinSizeRel as the build type.
This code doesn't work. Passing Debug as the cmake build type does not add debug symbols. They're always stripped unless this code is removed or commented before you run cmake with this toolchainfile.



This change is‚ÄÇ",@robinlinden rebase so I can merge this,True,{}
uTox/uTox,https://github.com/uTox/uTox,660,2017-01-24T01:42:31Z,2017-01-27T07:18:49Z,2019-01-21T09:09:04Z,MERGED,True,38,22,5,https://github.com/robinlinden,Fix Windows cmake toolchains and strip symbols from Release build types.,3,[],https://github.com/uTox/uTox/pull/660,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/660#issuecomment-275075537,"Debug symbols are always added by cmake when you pass -DCMAKE_BUILD_TYPE=Debug|RelWithDebInfo and they're always stripped when you pass Release|MinSizeRel as the build type.
This code doesn't work. Passing Debug as the cmake build type does not add debug symbols. They're always stripped unless this code is removed or commented before you run cmake with this toolchainfile.



This change is‚ÄÇ","Reviewed 3 of 3 files at r2, 4 of 4 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,660,2017-01-24T01:42:31Z,2017-01-27T07:18:49Z,2019-01-21T09:09:04Z,MERGED,True,38,22,5,https://github.com/robinlinden,Fix Windows cmake toolchains and strip symbols from Release build types.,3,[],https://github.com/uTox/uTox/pull/660,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/660#issuecomment-275241306,"Debug symbols are always added by cmake when you pass -DCMAKE_BUILD_TYPE=Debug|RelWithDebInfo and they're always stripped when you pass Release|MinSizeRel as the build type.
This code doesn't work. Passing Debug as the cmake build type does not add debug symbols. They're always stripped unless this code is removed or commented before you run cmake with this toolchainfile.



This change is‚ÄÇ","Reviewed 1 of 3 files at r2, 4 of 4 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,660,2017-01-24T01:42:31Z,2017-01-27T07:18:49Z,2019-01-21T09:09:04Z,MERGED,True,38,22,5,https://github.com/robinlinden,Fix Windows cmake toolchains and strip symbols from Release build types.,3,[],https://github.com/uTox/uTox/pull/660,https://github.com/fcore117,6,https://github.com/uTox/uTox/pull/660#issuecomment-275457825,"Debug symbols are always added by cmake when you pass -DCMAKE_BUILD_TYPE=Debug|RelWithDebInfo and they're always stripped when you pass Release|MinSizeRel as the build type.
This code doesn't work. Passing Debug as the cmake build type does not add debug symbols. They're always stripped unless this code is removed or commented before you run cmake with this toolchainfile.



This change is‚ÄÇ","Reviewed 1 of 4 files at r3.
Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,662,2017-01-24T18:26:31Z,2017-01-24T22:10:33Z,2017-08-26T13:09:00Z,MERGED,True,2,2,1,https://github.com/robinlinden,Plug 2 memory leaks related to file transfers.,1,[],https://github.com/uTox/uTox/pull/662,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/662,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,662,2017-01-24T18:26:31Z,2017-01-24T22:10:33Z,2017-08-26T13:09:00Z,MERGED,True,2,2,1,https://github.com/robinlinden,Plug 2 memory leaks related to file transfers.,1,[],https://github.com/uTox/uTox/pull/662,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/662#issuecomment-274946055,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,662,2017-01-24T18:26:31Z,2017-01-24T22:10:33Z,2017-08-26T13:09:00Z,MERGED,True,2,2,1,https://github.com/robinlinden,Plug 2 memory leaks related to file transfers.,1,[],https://github.com/uTox/uTox/pull/662,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/662#issuecomment-274950914,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,664,2017-01-24T19:18:19Z,2017-01-28T19:21:49Z,2017-08-26T13:09:01Z,CLOSED,False,8,0,1,https://github.com/robinlinden,Warn instead of segv when the file status is too large.,1,[],https://github.com/uTox/uTox/pull/664,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/664,"I can consistently get uTox to segv without this patchwork solution. Still need to fix whatever's setting the file status to ~uint16_max.


This change is‚ÄÇ","I can consistently get uTox to segv without this patchwork solution. Still need to fix whatever's setting the file status to ~uint16_max.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,664,2017-01-24T19:18:19Z,2017-01-28T19:21:49Z,2017-08-26T13:09:01Z,CLOSED,False,8,0,1,https://github.com/robinlinden,Warn instead of segv when the file status is too large.,1,[],https://github.com/uTox/uTox/pull/664,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/664#issuecomment-274946418,"I can consistently get uTox to segv without this patchwork solution. Still need to fix whatever's setting the file status to ~uint16_max.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,664,2017-01-24T19:18:19Z,2017-01-28T19:21:49Z,2017-08-26T13:09:01Z,CLOSED,False,8,0,1,https://github.com/robinlinden,Warn instead of segv when the file status is too large.,1,[],https://github.com/uTox/uTox/pull/664,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/664#issuecomment-274948805,"I can consistently get uTox to segv without this patchwork solution. Still need to fix whatever's setting the file status to ~uint16_max.


This change is‚ÄÇ","this can't happen. get a bt full, and prove that it's coming from toxcore
then open an issue upstream",True,{}
uTox/uTox,https://github.com/uTox/uTox,664,2017-01-24T19:18:19Z,2017-01-28T19:21:49Z,2017-08-26T13:09:01Z,CLOSED,False,8,0,1,https://github.com/robinlinden,Warn instead of segv when the file status is too large.,1,[],https://github.com/uTox/uTox/pull/664,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/664#issuecomment-274956013,"I can consistently get uTox to segv without this patchwork solution. Still need to fix whatever's setting the file status to ~uint16_max.


This change is‚ÄÇ",https://gist.github.com/robinlinden/31f8b22f3878ea61f4b7a8996e8fbb32,True,{}
uTox/uTox,https://github.com/uTox/uTox,664,2017-01-24T19:18:19Z,2017-01-28T19:21:49Z,2017-08-26T13:09:01Z,CLOSED,False,8,0,1,https://github.com/robinlinden,Warn instead of segv when the file status is too large.,1,[],https://github.com/uTox/uTox/pull/664,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/664#issuecomment-275075139,"I can consistently get uTox to segv without this patchwork solution. Still need to fix whatever's setting the file status to ~uint16_max.


This change is‚ÄÇ","@robinlinden
break postmessage_utox() if msg == UPDATE FILE && param1 > 0xFF
commands
threads apply all bt full
end",True,{}
uTox/uTox,https://github.com/uTox/uTox,664,2017-01-24T19:18:19Z,2017-01-28T19:21:49Z,2017-08-26T13:09:01Z,CLOSED,False,8,0,1,https://github.com/robinlinden,Warn instead of segv when the file status is too large.,1,[],https://github.com/uTox/uTox/pull/664,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/664#issuecomment-275868556,"I can consistently get uTox to segv without this patchwork solution. Still need to fix whatever's setting the file status to ~uint16_max.


This change is‚ÄÇ","I'm going to pretend this doesn't happen anymore in develop.
If anyone sees this, let me know, and I'll debug myself",True,{}
uTox/uTox,https://github.com/uTox/uTox,666,2017-01-24T19:39:33Z,2017-01-27T23:33:20Z,2017-08-26T13:09:01Z,MERGED,True,2,2,1,https://github.com/robinlinden,Decrease minimum width.,1,[],https://github.com/uTox/uTox/pull/666,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/666,"I like to have the uTox window as small as possible along the horizontal axis. A problem with this is that it cuts off the end of the nospam message. In my opinion that's fine as you can expand the window to read it the one time you need to.
I would like to make it even smaller horizontally, but at that point the Tox ID starts getting cut off and users might be confused by that.

Fixes #663


This change is‚ÄÇ","I like to have the uTox window as small as possible along the horizontal axis. A problem with this is that it cuts off the end of the nospam message. In my opinion that's fine as you can expand the window to read it the one time you need to.
I would like to make it even smaller horizontally, but at that point the Tox ID starts getting cut off and users might be confused by that.

Fixes #663


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,666,2017-01-24T19:39:33Z,2017-01-27T23:33:20Z,2017-08-26T13:09:01Z,MERGED,True,2,2,1,https://github.com/robinlinden,Decrease minimum width.,1,[],https://github.com/uTox/uTox/pull/666,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/666#issuecomment-274935323,"I like to have the uTox window as small as possible along the horizontal axis. A problem with this is that it cuts off the end of the nospam message. In my opinion that's fine as you can expand the window to read it the one time you need to.
I would like to make it even smaller horizontally, but at that point the Tox ID starts getting cut off and users might be confused by that.

Fixes #663


This change is‚ÄÇ","we can also make that two lines
eg, like the password warning",True,{}
uTox/uTox,https://github.com/uTox/uTox,666,2017-01-24T19:39:33Z,2017-01-27T23:33:20Z,2017-08-26T13:09:01Z,MERGED,True,2,2,1,https://github.com/robinlinden,Decrease minimum width.,1,[],https://github.com/uTox/uTox/pull/666,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/666#issuecomment-274935537,"I like to have the uTox window as small as possible along the horizontal axis. A problem with this is that it cuts off the end of the nospam message. In my opinion that's fine as you can expand the window to read it the one time you need to.
I would like to make it even smaller horizontally, but at that point the Tox ID starts getting cut off and users might be confused by that.

Fixes #663


This change is‚ÄÇ","also, I fixed the GUI hang bug so we can make it much smaller as well",True,{}
uTox/uTox,https://github.com/uTox/uTox,666,2017-01-24T19:39:33Z,2017-01-27T23:33:20Z,2017-08-26T13:09:01Z,MERGED,True,2,2,1,https://github.com/robinlinden,Decrease minimum width.,1,[],https://github.com/uTox/uTox/pull/666,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/666#issuecomment-275075652,"I like to have the uTox window as small as possible along the horizontal axis. A problem with this is that it cuts off the end of the nospam message. In my opinion that's fine as you can expand the window to read it the one time you need to.
I would like to make it even smaller horizontally, but at that point the Tox ID starts getting cut off and users might be confused by that.

Fixes #663


This change is‚ÄÇ","or we can make it smaller now too

Review status: 0 of 1 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,666,2017-01-24T19:39:33Z,2017-01-27T23:33:20Z,2017-08-26T13:09:01Z,MERGED,True,2,2,1,https://github.com/robinlinden,Decrease minimum width.,1,[],https://github.com/uTox/uTox/pull/666,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/666#issuecomment-275075661,"I like to have the uTox window as small as possible along the horizontal axis. A problem with this is that it cuts off the end of the nospam message. In my opinion that's fine as you can expand the window to read it the one time you need to.
I would like to make it even smaller horizontally, but at that point the Tox ID starts getting cut off and users might be confused by that.

Fixes #663


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,666,2017-01-24T19:39:33Z,2017-01-27T23:33:20Z,2017-08-26T13:09:01Z,MERGED,True,2,2,1,https://github.com/robinlinden,Decrease minimum width.,1,[],https://github.com/uTox/uTox/pull/666,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/666#issuecomment-275149718,"I like to have the uTox window as small as possible along the horizontal axis. A problem with this is that it cuts off the end of the nospam message. In my opinion that's fine as you can expand the window to read it the one time you need to.
I would like to make it even smaller horizontally, but at that point the Tox ID starts getting cut off and users might be confused by that.

Fixes #663


This change is‚ÄÇ","You'd hide most of the settings tabs before the client gets to thin that the UI chat hang problem comes into effect. This is the smallest width possibly without starting to hide the Tox ID.
We might want to make this change and then make a larger PR adding ellipses when part of the Tox ID is covered, maybe reduce the padding of the settings tabs, wrap the warning texts, and other things that would enable us to make the interface less wide without breaking things.",True,{'THUMBS_UP': ['https://github.com/redmanmale']}
uTox/uTox,https://github.com/uTox/uTox,666,2017-01-24T19:39:33Z,2017-01-27T23:33:20Z,2017-08-26T13:09:01Z,MERGED,True,2,2,1,https://github.com/robinlinden,Decrease minimum width.,1,[],https://github.com/uTox/uTox/pull/666,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/666#issuecomment-275604705,"I like to have the uTox window as small as possible along the horizontal axis. A problem with this is that it cuts off the end of the nospam message. In my opinion that's fine as you can expand the window to read it the one time you need to.
I would like to make it even smaller horizontally, but at that point the Tox ID starts getting cut off and users might be confused by that.

Fixes #663


This change is‚ÄÇ","UI chat hang problem comes into effect. This is the smallest width possibly without starting to hide the Tox ID.

This is fixed already. (About a week ago.)
So the only question left is; are we okay with obsecuring the ToxID at all? I'm okay with that if we can find a reasonable min? Perhaps the min width for the settings tabs?
Then: OOS maybe we should detect that width, and user shorter names?",True,{}
uTox/uTox,https://github.com/uTox/uTox,666,2017-01-24T19:39:33Z,2017-01-27T23:33:20Z,2017-08-26T13:09:01Z,MERGED,True,2,2,1,https://github.com/robinlinden,Decrease minimum width.,1,[],https://github.com/uTox/uTox/pull/666,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/666#issuecomment-275781982,"I like to have the uTox window as small as possible along the horizontal axis. A problem with this is that it cuts off the end of the nospam message. In my opinion that's fine as you can expand the window to read it the one time you need to.
I would like to make it even smaller horizontally, but at that point the Tox ID starts getting cut off and users might be confused by that.

Fixes #663


This change is‚ÄÇ","Yeah, what I meant was that we probably couldn't encounter the UI hang without breaking all settings menus first.
Min width that the settings tabs is  700 < 750px iirc. (That's what I was going to do originally before I noticed that that cut off the end of the Tox ID.)
Adding the logic for all of this is OOS for this PR. Let's merge this for 0.12.2 and open a new one with a lower width and the UI fixes.",True,{}
uTox/uTox,https://github.com/uTox/uTox,666,2017-01-24T19:39:33Z,2017-01-27T23:33:20Z,2017-08-26T13:09:01Z,MERGED,True,2,2,1,https://github.com/robinlinden,Decrease minimum width.,1,[],https://github.com/uTox/uTox/pull/666,https://github.com/fcore117,9,https://github.com/uTox/uTox/pull/666#issuecomment-275782728,"I like to have the uTox window as small as possible along the horizontal axis. A problem with this is that it cuts off the end of the nospam message. In my opinion that's fine as you can expand the window to read it the one time you need to.
I would like to make it even smaller horizontally, but at that point the Tox ID starts getting cut off and users might be confused by that.

Fixes #663


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,666,2017-01-24T19:39:33Z,2017-01-27T23:33:20Z,2017-08-26T13:09:01Z,MERGED,True,2,2,1,https://github.com/robinlinden,Decrease minimum width.,1,[],https://github.com/uTox/uTox/pull/666,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/666#issuecomment-275783741,"I like to have the uTox window as small as possible along the horizontal axis. A problem with this is that it cuts off the end of the nospam message. In my opinion that's fine as you can expand the window to read it the one time you need to.
I would like to make it even smaller horizontally, but at that point the Tox ID starts getting cut off and users might be confused by that.

Fixes #663


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/669,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/669#issuecomment-275185277,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/file_transfers.c, line 113 at r1 (raw file):

    }
    /* If the UI is reading this data, we need to wait */
    unsigned wait = 100;

Maybe decrease this to 10 and increase yieldcpu to 10? You'd spam the console 10 times instead of 100 and wait the same amount of time.

src/messages.c, line 1301 at r1 (raw file):

                uint32_t ft_number = msg->via.ft.file_number;
                if (ft_number >= (1 << 16)) {
                    ft = &(f->file_transfers_incoming[ft_number]); // TODO, abstraction needed

Remove parentheses.

src/tox.c, line 298 at r1 (raw file):

static void log_callback(Tox *UNUSED(tox), TOX_LOG_LEVEL level, const char *file, uint32_t line,
                         const char *func, const char *message, void *UNUSED(user_data)) {
    if (utox_verbosity() <= 8 ) {

Now instead of 5 levels, we have 8? What level would you say this is? Trace?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/669#issuecomment-275230200,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Yeah, this is hacky but needed. It'll go away in the debug branch. Because it's SO noisy it's goona be lib_trace",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/669#issuecomment-275780822,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Reviewed 10 of 10 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/fcore117,5,https://github.com/uTox/uTox/pull/669#issuecomment-275781280,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","sending and receiving files looks solid to me

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/fcore117,6,https://github.com/uTox/uTox/pull/669#issuecomment-275781330,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Reviewed 10 of 10 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/669#issuecomment-275781824,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/file_transfers.c, line 113 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Maybe decrease this to 10 and increase yieldcpu to 10? You'd spam the console 10 times instead of 100 and wait the same amount of time.

removed

src/messages.c, line 1301 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Remove parentheses.

Done.

src/tox.c, line 298 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Now instead of 5 levels, we have 8? What level would you say this is? Trace?

_TRACE_TOXCORE, or something... It's the MOST annoying level
Either way, I'll get it done in #656

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/669#issuecomment-275784921,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/tox.c, line 298 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
_TRACE_TOXCORE, or something... It's the MOST annoying level
Either way, I'll get it done in #656

Yeah.. It created a uTox log file that was >100 MB before I noticed how spammy it was. :D Happy surprise.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/669#issuecomment-275784958,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/669#issuecomment-275790655,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Reviewed 10 of 10 files at r3, 4 of 4 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/windows/main.c, line 75 at r3 (raw file):

    if (GetOpenFileName(&ofn)) {
        FRIEND *f = flist_get_selected()->data;
        UTOX_MSG_FT *msg = calloc(1, sizeof(UTOX_MSG_FT));

Make sure memory was allocated for msg.

src/windows/main.c, line 76 at r3 (raw file):

        FRIEND *f = flist_get_selected()->data;
        UTOX_MSG_FT *msg = calloc(1, sizeof(UTOX_MSG_FT));
        msg->file = fopen(filepath, ""rb"");

Make sure the file was opened.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/fcore117,11,https://github.com/uTox/uTox/pull/669#issuecomment-275803268,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Reviewed 1 of 4 files at r4, 13 of 13 files at r5.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/669#issuecomment-275803582,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/tox.c, line 298 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Yeah.. It created a uTox log file that was >100 MB before I noticed how spammy it was. :D Happy surprise.

lol NICE!

src/windows/main.c, line 75 at r3 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Make sure memory was allocated for msg.

Done.

src/windows/main.c, line 76 at r3 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Make sure the file was opened.

That's done in the receiving code, in file_transfers.c

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/endoffile78,13,https://github.com/uTox/uTox/pull/669#issuecomment-275806685,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Reviewed 9 of 13 files at r5, 5 of 5 files at r6.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/fcore117,14,https://github.com/uTox/uTox/pull/669#issuecomment-275807346,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","After tests in second round looks ok, no crash

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/fcore117,15,https://github.com/uTox/uTox/pull/669#issuecomment-275807376,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Reviewed 5 of 5 files at r6.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,669,2017-01-25T10:35:21Z,2017-01-28T01:54:19Z,2017-01-28T03:46:35Z,MERGED,True,243,141,17,https://github.com/GrayHatter,Windows FT fixes,13,[],https://github.com/uTox/uTox/pull/669,https://github.com/robinlinden,16,https://github.com/uTox/uTox/pull/669#issuecomment-275817885,"I don't like the solution inside ft_decon... we might even be able to drop the wait command now (that I added make_file_transfer()) If it turns out we can't drop it. We need to just delete it and come up with a better solution in general.


This change is‚ÄÇ","Reviewed 1 of 4 files at r4, 9 of 13 files at r5, 5 of 5 files at r6.
Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,671,2017-01-25T16:06:43Z,2017-01-27T23:40:13Z,2017-08-26T13:09:04Z,MERGED,True,199,184,17,https://github.com/robinlinden,Cleanup utoxav,9,[],https://github.com/uTox/uTox/pull/671,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/671,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,671,2017-01-25T16:06:43Z,2017-01-27T23:40:13Z,2017-08-26T13:09:04Z,MERGED,True,199,184,17,https://github.com/robinlinden,Cleanup utoxav,9,[],https://github.com/uTox/uTox/pull/671,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/671#issuecomment-275541996,This change is‚ÄÇ,"Reviewed 10 of 10 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/av/audio.c, line 559 at r1 (raw file):

    #define PREVIEW_BUFFER_SIZE (UTOX_DEFAULT_SAMPLE_RATE_A / 2)
    int16_t *preview_buffer = calloc(PREVIEW_BUFFER_SIZE, 2);

Make sure memory was allocated for preview_buffer.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,671,2017-01-25T16:06:43Z,2017-01-27T23:40:13Z,2017-08-26T13:09:04Z,MERGED,True,199,184,17,https://github.com/robinlinden,Cleanup utoxav,9,[],https://github.com/uTox/uTox/pull/671,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/671#issuecomment-275545666,This change is‚ÄÇ,"Review status: 7 of 16 files reviewed at latest revision, 1 unresolved discussion.

src/av/audio.c, line 559 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Make sure memory was allocated for preview_buffer.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,671,2017-01-25T16:06:43Z,2017-01-27T23:40:13Z,2017-08-26T13:09:04Z,MERGED,True,199,184,17,https://github.com/robinlinden,Cleanup utoxav,9,[],https://github.com/uTox/uTox/pull/671,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/671#issuecomment-275552058,This change is‚ÄÇ,"Reviewed 9 of 9 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,671,2017-01-25T16:06:43Z,2017-01-27T23:40:13Z,2017-08-26T13:09:04Z,MERGED,True,199,184,17,https://github.com/robinlinden,Cleanup utoxav,9,[],https://github.com/uTox/uTox/pull/671,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/671#issuecomment-275606409,This change is‚ÄÇ,"theres' a pull on your repo, merge or ignore, either way 

Reviewed 7 of 10 files at r1, 8 of 9 files at r2, 1 of 1 files at r3, 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/tox.c, line 18 at r4 (raw file):

#include ""utox.h""

#include ""av/audio.h""

Why are we including these at all?
We should only need to use postmessage_utoxav

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,671,2017-01-25T16:06:43Z,2017-01-27T23:40:13Z,2017-08-26T13:09:04Z,MERGED,True,199,184,17,https://github.com/robinlinden,Cleanup utoxav,9,[],https://github.com/uTox/uTox/pull/671,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/671#issuecomment-275784261,This change is‚ÄÇ,"Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,671,2017-01-25T16:06:43Z,2017-01-27T23:40:13Z,2017-08-26T13:09:04Z,MERGED,True,199,184,17,https://github.com/robinlinden,Cleanup utoxav,9,[],https://github.com/uTox/uTox/pull/671,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/671#issuecomment-275787018,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/tox.c, line 18 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Why are we including these at all?
We should only need to use postmessage_utoxav

UTOX_DEFAULT_BITRATE_A is defined in audio.h and used for toxav_call

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,672,2017-01-25T20:17:53Z,2017-01-27T07:19:47Z,2017-01-27T07:19:47Z,MERGED,True,1,1,1,https://github.com/fling-,Fix a typo in CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/672,https://github.com/fling-,1,https://github.com/uTox/uTox/pull/672,"The word ""staticlly"" should be ""statically"".


This change is‚ÄÇ","The word ""staticlly"" should be ""statically"".


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,672,2017-01-25T20:17:53Z,2017-01-27T07:19:47Z,2017-01-27T07:19:47Z,MERGED,True,1,1,1,https://github.com/fling-,Fix a typo in CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/672,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/672#issuecomment-275221436,"The word ""staticlly"" should be ""statically"".


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,672,2017-01-25T20:17:53Z,2017-01-27T07:19:47Z,2017-01-27T07:19:47Z,MERGED,True,1,1,1,https://github.com/fling-,Fix a typo in CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/672,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/672#issuecomment-275229869,"The word ""staticlly"" should be ""statically"".


This change is‚ÄÇ",,True,{}
uTox/uTox,https://github.com/uTox/uTox,672,2017-01-25T20:17:53Z,2017-01-27T07:19:47Z,2017-01-27T07:19:47Z,MERGED,True,1,1,1,https://github.com/fling-,Fix a typo in CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/672,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/672#issuecomment-275234244,"The word ""staticlly"" should be ""statically"".


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,672,2017-01-25T20:17:53Z,2017-01-27T07:19:47Z,2017-01-27T07:19:47Z,MERGED,True,1,1,1,https://github.com/fling-,Fix a typo in CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/672,https://github.com/fcore117,5,https://github.com/uTox/uTox/pull/672#issuecomment-275375917,"The word ""staticlly"" should be ""statically"".


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,674,2017-01-25T20:31:26Z,2017-01-27T23:41:33Z,2017-08-26T13:09:04Z,MERGED,True,52,17,3,https://github.com/robinlinden,Fix uTox group chat regressions,3,[],https://github.com/uTox/uTox/pull/674,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/674,"Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ","Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,674,2017-01-25T20:31:26Z,2017-01-27T23:41:33Z,2017-08-26T13:09:04Z,MERGED,True,52,17,3,https://github.com/robinlinden,Fix uTox group chat regressions,3,[],https://github.com/uTox/uTox/pull/674,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/674#issuecomment-275229699,"Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ","No, calloc for an additional block of meh, and assign to msg->via.GRP.author_name (or something similar)",True,{}
uTox/uTox,https://github.com/uTox/uTox,674,2017-01-25T20:31:26Z,2017-01-27T23:41:33Z,2017-08-26T13:09:04Z,MERGED,True,52,17,3,https://github.com/robinlinden,Fix uTox group chat regressions,3,[],https://github.com/uTox/uTox/pull/674,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/674#issuecomment-275232609,"Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ",So the members of the group chats should be a list of group messages now? All code related to them still uses GROUP_PEER.,True,{}
uTox/uTox,https://github.com/uTox/uTox,674,2017-01-25T20:31:26Z,2017-01-27T23:41:33Z,2017-08-26T13:09:04Z,MERGED,True,52,17,3,https://github.com/robinlinden,Fix uTox group chat regressions,3,[],https://github.com/uTox/uTox/pull/674,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/674#issuecomment-275498179,"Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ",After the 2nd commit in this PR joining group chats no longer segv uTox.,True,{}
uTox/uTox,https://github.com/uTox/uTox,674,2017-01-25T20:31:26Z,2017-01-27T23:41:33Z,2017-08-26T13:09:04Z,MERGED,True,52,17,3,https://github.com/robinlinden,Fix uTox group chat regressions,3,[],https://github.com/uTox/uTox/pull/674,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/674#issuecomment-275516870,"Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/groups.c, line 73 at r2 (raw file):

    msg->via.grp.author = calloc(1, peer->name_length);
    if (!msg->via.grp.author) {
        debug_error(""Groupchat:\tUnable to allocate space for author nickname.\n"");

Shouldn't there be a return after this.

src/groups.c, line 78 at r2 (raw file):

    msg->via.grp.msg = calloc(1, length);
    if (!msg->via.grp.msg) {
        debug_error(""Groupchat:\tUnable to allocate space for message.\n"");

Shouldn't there be a return after this.

src/groups.c, line 98 at r2 (raw file):

    // Allocate space for the struct and the dynamic array holding the peer's name.
    peer = calloc(1, sizeof(GROUP_PEER) + 10); // 10 is strlen(""<unknown>"") + \0

Add a check to make sure memory was allocated for it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,674,2017-01-25T20:31:26Z,2017-01-27T23:41:33Z,2017-08-26T13:09:04Z,MERGED,True,52,17,3,https://github.com/robinlinden,Fix uTox group chat regressions,3,[],https://github.com/uTox/uTox/pull/674,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/674#issuecomment-275539021,"Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ","Review status: 0 of 3 files reviewed at latest revision, 3 unresolved discussions.

src/groups.c, line 73 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Shouldn't there be a return after this.

I wasn't sure what to return on failure since there are no docs for this function. Added docs and this function now returns UINT32_MAX on failure.

src/groups.c, line 78 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Shouldn't there be a return after this.

Done.

src/groups.c, line 98 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Add a check to make sure memory was allocated for it.

Good catch. I forgot about this one.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,674,2017-01-25T20:31:26Z,2017-01-27T23:41:33Z,2017-08-26T13:09:04Z,MERGED,True,52,17,3,https://github.com/robinlinden,Fix uTox group chat regressions,3,[],https://github.com/uTox/uTox/pull/674,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/674#issuecomment-275539333,"Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ",This should be ready to be merged after reviews now. Group chats no longer cause segfaults and the peer names are displayed again.,True,{}
uTox/uTox,https://github.com/uTox/uTox,674,2017-01-25T20:31:26Z,2017-01-27T23:41:33Z,2017-08-26T13:09:04Z,MERGED,True,52,17,3,https://github.com/robinlinden,Fix uTox group chat regressions,3,[],https://github.com/uTox/uTox/pull/674,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/674#issuecomment-275624378,"Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ","Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/groups.c, line 112 at r3 (raw file):

        exit(42); // TODO: Header file for exit codes. This is just silly.
    }
    strcpy2(peer->name, default_peer_name);

you're allocing for data+nullterm but strcpy2 doesn't include a null term. Do one or the other. (I'd rather drop that shit macro... a long term goal is to make everything nullterm, but never depend on it)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,674,2017-01-25T20:31:26Z,2017-01-27T23:41:33Z,2017-08-26T13:09:04Z,MERGED,True,52,17,3,https://github.com/robinlinden,Fix uTox group chat regressions,3,[],https://github.com/uTox/uTox/pull/674,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/674#issuecomment-275644388,"Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/groups.c, line 112 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
you're allocing for data+nullterm but strcpy2 doesn't include a null term. Do one or the other. (I'd rather drop that shit macro... a long term goal is to make everything nullterm, but never depend on it)

calloc adds the nullterm for me, but I'll push a commit dropping the macro and setting the nullterm explicitly later today.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,674,2017-01-25T20:31:26Z,2017-01-27T23:41:33Z,2017-08-26T13:09:04Z,MERGED,True,52,17,3,https://github.com/robinlinden,Fix uTox group chat regressions,3,[],https://github.com/uTox/uTox/pull/674,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/674#issuecomment-275786497,"Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ","Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,674,2017-01-25T20:31:26Z,2017-01-27T23:41:33Z,2017-08-26T13:09:04Z,MERGED,True,52,17,3,https://github.com/robinlinden,Fix uTox group chat regressions,3,[],https://github.com/uTox/uTox/pull/674,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/674#issuecomment-275804096,"Thank you @fling- for reporting the problem along with the logs that made fixing it trivial.
Fixes #673
Fixes #675


This change is‚ÄÇ","Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,677,2017-01-25T22:03:05Z,2017-01-27T07:21:14Z,2017-01-27T07:21:14Z,MERGED,True,7,0,1,https://github.com/fling-,Fix executable stack,1,[],https://github.com/uTox/uTox/pull/677,https://github.com/fling-,1,https://github.com/uTox/uTox/pull/677,"ELFs should not have executable stack.
Resolves #676.


This change is‚ÄÇ","ELFs should not have executable stack.
Resolves #676.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,677,2017-01-25T22:03:05Z,2017-01-27T07:21:14Z,2017-01-27T07:21:14Z,MERGED,True,7,0,1,https://github.com/fling-,Fix executable stack,1,[],https://github.com/uTox/uTox/pull/677,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/677#issuecomment-275329191,"ELFs should not have executable stack.
Resolves #676.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,677,2017-01-25T22:03:05Z,2017-01-27T07:21:14Z,2017-01-27T07:21:14Z,MERGED,True,7,0,1,https://github.com/fling-,Fix executable stack,1,[],https://github.com/uTox/uTox/pull/677,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/677#issuecomment-275515945,"ELFs should not have executable stack.
Resolves #676.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,681,2017-01-26T08:51:29Z,2017-01-27T23:39:00Z,2017-08-26T13:09:03Z,MERGED,True,28,12,4,https://github.com/robinlinden,Fix memory leaks in chatlog code and minor cleanup in messages,1,[],https://github.com/uTox/uTox/pull/681,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/681,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,681,2017-01-26T08:51:29Z,2017-01-27T23:39:00Z,2017-08-26T13:09:03Z,MERGED,True,28,12,4,https://github.com/robinlinden,Fix memory leaks in chatlog code and minor cleanup in messages,1,[],https://github.com/uTox/uTox/pull/681,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/681#issuecomment-275626161,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,681,2017-01-26T08:51:29Z,2017-01-27T23:39:00Z,2017-08-26T13:09:03Z,MERGED,True,28,12,4,https://github.com/robinlinden,Fix memory leaks in chatlog code and minor cleanup in messages,1,[],https://github.com/uTox/uTox/pull/681,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/681#issuecomment-275794067,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,688,2017-01-27T13:16:49Z,2017-01-27T22:35:59Z,2017-01-27T22:35:59Z,MERGED,True,2,2,1,https://github.com/fling-,Fix missing initializer for field ‚Äòi18nal‚Äô,1,[],https://github.com/uTox/uTox/pull/688,https://github.com/fling-,1,https://github.com/uTox/uTox/pull/688,"Resolves #687


This change is‚ÄÇ","Resolves #687


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,688,2017-01-27T13:16:49Z,2017-01-27T22:35:59Z,2017-01-27T22:35:59Z,MERGED,True,2,2,1,https://github.com/fling-,Fix missing initializer for field ‚Äòi18nal‚Äô,1,[],https://github.com/uTox/uTox/pull/688,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/688#issuecomment-275772778,"Resolves #687


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,688,2017-01-27T13:16:49Z,2017-01-27T22:35:59Z,2017-01-27T22:35:59Z,MERGED,True,2,2,1,https://github.com/fling-,Fix missing initializer for field ‚Äòi18nal‚Äô,1,[],https://github.com/uTox/uTox/pull/688,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/688#issuecomment-275780951,"Resolves #687


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,690,2017-01-28T04:32:42Z,2017-02-23T18:34:17Z,2017-04-24T04:39:26Z,CLOSED,False,123,33,6,https://github.com/GrayHatter,Add compiler support for dbus,2,[],https://github.com/uTox/uTox/pull/690,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/690,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,690,2017-01-28T04:32:42Z,2017-02-23T18:34:17Z,2017-04-24T04:39:26Z,CLOSED,False,123,33,6,https://github.com/GrayHatter,Add compiler support for dbus,2,[],https://github.com/uTox/uTox/pull/690,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/690#issuecomment-275826871,This change is‚ÄÇ,"Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,690,2017-01-28T04:32:42Z,2017-02-23T18:34:17Z,2017-04-24T04:39:26Z,CLOSED,False,123,33,6,https://github.com/GrayHatter,Add compiler support for dbus,2,[],https://github.com/uTox/uTox/pull/690,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/690#issuecomment-275852563,This change is‚ÄÇ,"Reviewed 4 of 5 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,690,2017-01-28T04:32:42Z,2017-02-23T18:34:17Z,2017-04-24T04:39:26Z,CLOSED,False,123,33,6,https://github.com/GrayHatter,Add compiler support for dbus,2,[],https://github.com/uTox/uTox/pull/690,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/690#issuecomment-276318624,This change is‚ÄÇ,@GrayHatter do something like this https://github.com/TokTok/c-toxcore/blob/master/cmake/Dependencies.cmake#L52,True,{}
uTox/uTox,https://github.com/uTox/uTox,690,2017-01-28T04:32:42Z,2017-02-23T18:34:17Z,2017-04-24T04:39:26Z,CLOSED,False,123,33,6,https://github.com/GrayHatter,Add compiler support for dbus,2,[],https://github.com/uTox/uTox/pull/690,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/690#issuecomment-280987134,This change is‚ÄÇ,rebased,True,{}
uTox/uTox,https://github.com/uTox/uTox,690,2017-01-28T04:32:42Z,2017-02-23T18:34:17Z,2017-04-24T04:39:26Z,CLOSED,False,123,33,6,https://github.com/GrayHatter,Add compiler support for dbus,2,[],https://github.com/uTox/uTox/pull/690,https://github.com/cebe,6,https://github.com/uTox/uTox/pull/690#issuecomment-281023241,This change is‚ÄÇ,"Reviewed 1 of 5 files at r1, 1 of 2 files at r2, 4 of 4 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/xlib/CMakeLists.txt, line 11 at r3 (raw file):

    add_cflag(""-DHAVE_DBUS=1"")
else()
    add_cflag(""-DNO_DBUS=1"")

this is not needed, we only check for #ifdef HAVE_DBUS in the code.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,691,2017-01-28T04:55:45Z,2017-01-28T19:17:45Z,2017-02-12T21:33:48Z,MERGED,True,59,18,5,https://github.com/endoffile78,Small improvements to groups,1,[],https://github.com/uTox/uTox/pull/691,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/691,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,691,2017-01-28T04:55:45Z,2017-01-28T19:17:45Z,2017-02-12T21:33:48Z,MERGED,True,59,18,5,https://github.com/endoffile78,Small improvements to groups,1,[],https://github.com/uTox/uTox/pull/691,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/691#issuecomment-275829477,This change is‚ÄÇ,"Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,691,2017-01-28T04:55:45Z,2017-01-28T19:17:45Z,2017-02-12T21:33:48Z,MERGED,True,59,18,5,https://github.com/endoffile78,Small improvements to groups,1,[],https://github.com/uTox/uTox/pull/691,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/691#issuecomment-275852411,This change is‚ÄÇ,"Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,692,2017-01-28T10:08:57Z,2017-01-28T23:18:01Z,2017-01-28T23:18:08Z,MERGED,True,11,8,5,https://github.com/GrayHatter,Version Tick v0.12.1 to v0.12.2,1,[],https://github.com/uTox/uTox/pull/692,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/692,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,692,2017-01-28T10:08:57Z,2017-01-28T23:18:01Z,2017-01-28T23:18:08Z,MERGED,True,11,8,5,https://github.com/GrayHatter,Version Tick v0.12.1 to v0.12.2,1,[],https://github.com/uTox/uTox/pull/692,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/692#issuecomment-275852652,This change is‚ÄÇ,Was the inclusion of the dbus commits in this PR intentional?,True,{}
uTox/uTox,https://github.com/uTox/uTox,692,2017-01-28T10:08:57Z,2017-01-28T23:18:01Z,2017-01-28T23:18:08Z,MERGED,True,11,8,5,https://github.com/GrayHatter,Version Tick v0.12.1 to v0.12.2,1,[],https://github.com/uTox/uTox/pull/692,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/692#issuecomment-275867777,This change is‚ÄÇ,@robinlinden nope,True,{}
uTox/uTox,https://github.com/uTox/uTox,692,2017-01-28T10:08:57Z,2017-01-28T23:18:01Z,2017-01-28T23:18:08Z,MERGED,True,11,8,5,https://github.com/GrayHatter,Version Tick v0.12.1 to v0.12.2,1,[],https://github.com/uTox/uTox/pull/692,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/692#issuecomment-275869012,This change is‚ÄÇ,"Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,692,2017-01-28T10:08:57Z,2017-01-28T23:18:01Z,2017-01-28T23:18:08Z,MERGED,True,11,8,5,https://github.com/GrayHatter,Version Tick v0.12.1 to v0.12.2,1,[],https://github.com/uTox/uTox/pull/692,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/692#issuecomment-275871295,This change is‚ÄÇ,"Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,693,2017-01-28T10:09:54Z,2017-01-28T23:22:11Z,2017-01-28T23:22:11Z,MERGED,True,2594,2356,102,https://github.com/GrayHatter,Push Develop to master,85,[],https://github.com/uTox/uTox/pull/693,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/693,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,693,2017-01-28T10:09:54Z,2017-01-28T23:22:11Z,2017-01-28T23:22:11Z,MERGED,True,2594,2356,102,https://github.com/GrayHatter,Push Develop to master,85,[],https://github.com/uTox/uTox/pull/693,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/693#issuecomment-275868936,This change is‚ÄÇ,"Reviewed 98 of 98 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,693,2017-01-28T10:09:54Z,2017-01-28T23:22:11Z,2017-01-28T23:22:11Z,MERGED,True,2594,2356,102,https://github.com/GrayHatter,Push Develop to master,85,[],https://github.com/uTox/uTox/pull/693,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/693#issuecomment-275869827,This change is‚ÄÇ,"Reviewed 98 of 98 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,698,2017-01-28T23:54:32Z,2017-02-04T14:40:21Z,2017-04-24T04:39:23Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Use GNUInstallDirs in cmake,1,[],https://github.com/uTox/uTox/pull/698,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/698,"@NicoHood @f8l


This change is‚ÄÇ","@NicoHood @f8l


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,698,2017-01-28T23:54:32Z,2017-02-04T14:40:21Z,2017-04-24T04:39:23Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Use GNUInstallDirs in cmake,1,[],https://github.com/uTox/uTox/pull/698,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/698#issuecomment-275895604,"@NicoHood @f8l


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,698,2017-01-28T23:54:32Z,2017-02-04T14:40:21Z,2017-04-24T04:39:23Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Use GNUInstallDirs in cmake,1,[],https://github.com/uTox/uTox/pull/698,https://github.com/f8l,3,https://github.com/uTox/uTox/pull/698#issuecomment-276756735,"@NicoHood @f8l


This change is‚ÄÇ",I have already applied this change to pkgsrc-wip package. It works as desired at least for NetBSD.,True,{}
uTox/uTox,https://github.com/uTox/uTox,698,2017-01-28T23:54:32Z,2017-02-04T14:40:21Z,2017-04-24T04:39:23Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Use GNUInstallDirs in cmake,1,[],https://github.com/uTox/uTox/pull/698,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/698#issuecomment-276782042,"@NicoHood @f8l


This change is‚ÄÇ",@NicoHood does this break Arch?,True,{}
uTox/uTox,https://github.com/uTox/uTox,698,2017-01-28T23:54:32Z,2017-02-04T14:40:21Z,2017-04-24T04:39:23Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Use GNUInstallDirs in cmake,1,[],https://github.com/uTox/uTox/pull/698,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/698#issuecomment-276810852,"@NicoHood @f8l


This change is‚ÄÇ","works on debian

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,698,2017-01-28T23:54:32Z,2017-02-04T14:40:21Z,2017-04-24T04:39:23Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Use GNUInstallDirs in cmake,1,[],https://github.com/uTox/uTox/pull/698,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/698#issuecomment-276813311,"@NicoHood @f8l


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,698,2017-01-28T23:54:32Z,2017-02-04T14:40:21Z,2017-04-24T04:39:23Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Use GNUInstallDirs in cmake,1,[],https://github.com/uTox/uTox/pull/698,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/698#issuecomment-277445032,"@NicoHood @f8l


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,702,2017-01-30T05:05:54Z,2017-01-30T22:15:11Z,2017-01-30T22:15:15Z,MERGED,True,7,7,2,https://github.com/GrayHatter,button.c gen fixups,1,[],https://github.com/uTox/uTox/pull/702,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/702,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,702,2017-01-30T05:05:54Z,2017-01-30T22:15:11Z,2017-01-30T22:15:15Z,MERGED,True,7,7,2,https://github.com/GrayHatter,button.c gen fixups,1,[],https://github.com/uTox/uTox/pull/702,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/702#issuecomment-276106482,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,702,2017-01-30T05:05:54Z,2017-01-30T22:15:11Z,2017-01-30T22:15:15Z,MERGED,True,7,7,2,https://github.com/GrayHatter,button.c gen fixups,1,[],https://github.com/uTox/uTox/pull/702,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/702#issuecomment-276207368,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,704,2017-01-30T19:48:36Z,2017-01-30T23:54:08Z,2017-08-26T13:09:05Z,MERGED,True,1,0,1,https://github.com/robinlinden,Fix chatlogs being set to read-only on Windows.,1,[],https://github.com/uTox/uTox/pull/704,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/704,"Might want to consider pushing a hotfix release with this or we're leaving chatlogs on Windows broken for another 3 weeks.
Fixes #682

This change is‚ÄÇ","Might want to consider pushing a hotfix release with this or we're leaving chatlogs on Windows broken for another 3 weeks.
Fixes #682

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,704,2017-01-30T19:48:36Z,2017-01-30T23:54:08Z,2017-08-26T13:09:05Z,MERGED,True,1,0,1,https://github.com/robinlinden,Fix chatlogs being set to read-only on Windows.,1,[],https://github.com/uTox/uTox/pull/704,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/704#issuecomment-276203639,"Might want to consider pushing a hotfix release with this or we're leaving chatlogs on Windows broken for another 3 weeks.
Fixes #682

This change is‚ÄÇ",I'd like to try to NOT push a v0.12.3 unless it's to include the updater functions on windows. But broken chatlogs are pretty bad. @robinlinden does this include existing chatlogs too? Or is it only NEW chatlogs.,True,{}
uTox/uTox,https://github.com/uTox/uTox,704,2017-01-30T19:48:36Z,2017-01-30T23:54:08Z,2017-08-26T13:09:05Z,MERGED,True,1,0,1,https://github.com/robinlinden,Fix chatlogs being set to read-only on Windows.,1,[],https://github.com/uTox/uTox/pull/704,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/704#issuecomment-276203915,"Might want to consider pushing a hotfix release with this or we're leaving chatlogs on Windows broken for another 3 weeks.
Fixes #682

This change is‚ÄÇ","+@endoffile78

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,704,2017-01-30T19:48:36Z,2017-01-30T23:54:08Z,2017-08-26T13:09:05Z,MERGED,True,1,0,1,https://github.com/robinlinden,Fix chatlogs being set to read-only on Windows.,1,[],https://github.com/uTox/uTox/pull/704,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/704#issuecomment-276207124,"Might want to consider pushing a hotfix release with this or we're leaving chatlogs on Windows broken for another 3 weeks.
Fixes #682

This change is‚ÄÇ","No existing chatlogs are broken. The problem is that uTox opens them in read-only mode, so it can't add anything new.",True,{}
uTox/uTox,https://github.com/uTox/uTox,704,2017-01-30T19:48:36Z,2017-01-30T23:54:08Z,2017-08-26T13:09:05Z,MERGED,True,1,0,1,https://github.com/robinlinden,Fix chatlogs being set to read-only on Windows.,1,[],https://github.com/uTox/uTox/pull/704,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/704#issuecomment-276209061,"Might want to consider pushing a hotfix release with this or we're leaving chatlogs on Windows broken for another 3 weeks.
Fixes #682

This change is‚ÄÇ",v0.12.3 it is then :/,True,{}
uTox/uTox,https://github.com/uTox/uTox,704,2017-01-30T19:48:36Z,2017-01-30T23:54:08Z,2017-08-26T13:09:05Z,MERGED,True,1,0,1,https://github.com/robinlinden,Fix chatlogs being set to read-only on Windows.,1,[],https://github.com/uTox/uTox/pull/704,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/704#issuecomment-276229996,"Might want to consider pushing a hotfix release with this or we're leaving chatlogs on Windows broken for another 3 weeks.
Fixes #682

This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,705,2017-01-30T22:57:12Z,2017-01-31T10:32:22Z,2017-01-31T10:32:22Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix SIGTRAP on clearing chat backlog.,2,[],https://github.com/uTox/uTox/pull/705,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/705,"Thank you @fcore117 for the detailed bug report that made this trivial to find and fix.


This change is‚ÄÇ","Thank you @fcore117 for the detailed bug report that made this trivial to find and fix.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,705,2017-01-30T22:57:12Z,2017-01-31T10:32:22Z,2017-01-31T10:32:22Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix SIGTRAP on clearing chat backlog.,2,[],https://github.com/uTox/uTox/pull/705,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/705#issuecomment-276230719,"Thank you @fcore117 for the detailed bug report that made this trivial to find and fix.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,705,2017-01-30T22:57:12Z,2017-01-31T10:32:22Z,2017-01-31T10:32:22Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix SIGTRAP on clearing chat backlog.,2,[],https://github.com/uTox/uTox/pull/705,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/705#issuecomment-276312455,"Thank you @fcore117 for the detailed bug report that made this trivial to find and fix.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,705,2017-01-30T22:57:12Z,2017-01-31T10:32:22Z,2017-01-31T10:32:22Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix SIGTRAP on clearing chat backlog.,2,[],https://github.com/uTox/uTox/pull/705,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/705#issuecomment-276320336,"Thank you @fcore117 for the detailed bug report that made this trivial to find and fix.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,705,2017-01-30T22:57:12Z,2017-01-31T10:32:22Z,2017-01-31T10:32:22Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix SIGTRAP on clearing chat backlog.,2,[],https://github.com/uTox/uTox/pull/705,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/705#issuecomment-276322344,"Thank you @fcore117 for the detailed bug report that made this trivial to find and fix.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,705,2017-01-30T22:57:12Z,2017-01-31T10:32:22Z,2017-01-31T10:32:22Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix SIGTRAP on clearing chat backlog.,2,[],https://github.com/uTox/uTox/pull/705,https://github.com/cebe,6,https://github.com/uTox/uTox/pull/705#issuecomment-276322986,"Thank you @fcore117 for the detailed bug report that made this trivial to find and fix.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,706,2017-02-01T16:13:29Z,2017-02-03T21:56:26Z,2017-08-26T13:09:07Z,MERGED,True,25,8,2,https://github.com/robinlinden,Fix a few memory leaks in messages.c,3,[],https://github.com/uTox/uTox/pull/706,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/706,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,706,2017-02-01T16:13:29Z,2017-02-03T21:56:26Z,2017-08-26T13:09:07Z,MERGED,True,25,8,2,https://github.com/robinlinden,Fix a few memory leaks in messages.c,3,[],https://github.com/uTox/uTox/pull/706,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/706#issuecomment-276781390,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/messages.c, line 1643 at r1 (raw file):

void message_free(MSG_HEADER *msg) {
    // The group messages are free()d in groups.c (group_free(GROUPCHAT *g))
    switch (msg->msg_type) {

why wasn't this throwing a warning once we switched in to a typdef enum?

src/messages.h, line 75 at r1 (raw file):

/* Generic Message type */
typedef struct msg_header {
    uint8_t msg_type;

fix this bug

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,706,2017-02-01T16:13:29Z,2017-02-03T21:56:26Z,2017-08-26T13:09:07Z,MERGED,True,25,8,2,https://github.com/robinlinden,Fix a few memory leaks in messages.c,3,[],https://github.com/uTox/uTox/pull/706,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/706#issuecomment-276784418,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,706,2017-02-01T16:13:29Z,2017-02-03T21:56:26Z,2017-08-26T13:09:07Z,MERGED,True,25,8,2,https://github.com/robinlinden,Fix a few memory leaks in messages.c,3,[],https://github.com/uTox/uTox/pull/706,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/706#issuecomment-276814765,This change is‚ÄÇ,"Review status: 1 of 2 files reviewed at latest revision, 2 unresolved discussions.

src/messages.c, line 1643 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why wasn't this throwing a warning once we switched in to a typdef enum?

It was never switched to being a typedef enum.

src/messages.h, line 75 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
fix this bug

It is now a typedef enum.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,706,2017-02-01T16:13:29Z,2017-02-03T21:56:26Z,2017-08-26T13:09:07Z,MERGED,True,25,8,2,https://github.com/robinlinden,Fix a few memory leaks in messages.c,3,[],https://github.com/uTox/uTox/pull/706,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/706#issuecomment-276837073,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,706,2017-02-01T16:13:29Z,2017-02-03T21:56:26Z,2017-08-26T13:09:07Z,MERGED,True,25,8,2,https://github.com/robinlinden,Fix a few memory leaks in messages.c,3,[],https://github.com/uTox/uTox/pull/706,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/706#issuecomment-276869278,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,707,2017-02-01T20:31:51Z,2017-02-03T23:36:34Z,2017-08-26T13:09:06Z,MERGED,True,15,12,4,https://github.com/robinlinden,Fix pgup/pgdown not redrawing chat screen.,1,[],https://github.com/uTox/uTox/pull/707,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/707,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,707,2017-02-01T20:31:51Z,2017-02-03T23:36:34Z,2017-08-26T13:09:06Z,MERGED,True,15,12,4,https://github.com/robinlinden,Fix pgup/pgdown not redrawing chat screen.,1,[],https://github.com/uTox/uTox/pull/707,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/707#issuecomment-276781777,This change is‚ÄÇ,"No cocoa or android?

Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,707,2017-02-01T20:31:51Z,2017-02-03T23:36:34Z,2017-08-26T13:09:06Z,MERGED,True,15,12,4,https://github.com/robinlinden,Fix pgup/pgdown not redrawing chat screen.,1,[],https://github.com/uTox/uTox/pull/707,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/707#issuecomment-276786109,This change is‚ÄÇ,Neither cocoa nor Android ever calls messages_char() and I'm not going to try to add it in right now. We should probably make an issue for it.,True,{}
uTox/uTox,https://github.com/uTox/uTox,707,2017-02-01T20:31:51Z,2017-02-03T23:36:34Z,2017-08-26T13:09:06Z,MERGED,True,15,12,4,https://github.com/robinlinden,Fix pgup/pgdown not redrawing chat screen.,1,[],https://github.com/uTox/uTox/pull/707,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/707#issuecomment-277392273,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,710,2017-02-02T22:27:55Z,2017-02-04T14:40:47Z,2018-03-10T18:28:46Z,MERGED,True,8,10,1,https://github.com/endoffile78,Update OSX build instructions,1,[],https://github.com/uTox/uTox/pull/710,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/710,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,710,2017-02-02T22:27:55Z,2017-02-04T14:40:47Z,2018-03-10T18:28:46Z,MERGED,True,8,10,1,https://github.com/endoffile78,Update OSX build instructions,1,[],https://github.com/uTox/uTox/pull/710,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/710#issuecomment-277408602,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,710,2017-02-02T22:27:55Z,2017-02-04T14:40:47Z,2018-03-10T18:28:46Z,MERGED,True,8,10,1,https://github.com/endoffile78,Update OSX build instructions,1,[],https://github.com/uTox/uTox/pull/710,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/710#issuecomment-277445006,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,714,2017-02-04T20:19:32Z,2017-02-05T20:32:08Z,2017-08-26T13:09:07Z,MERGED,True,2,2,1,https://github.com/robinlinden,Fix loading of avatars. (Patch courtesy of @flussence.),1,[],https://github.com/uTox/uTox/pull/714,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/714,"Thanks again, @flussence for both the bug report and the patch fixing the loading of avatars.
Fixes #713


This change is‚ÄÇ","Thanks again, @flussence for both the bug report and the patch fixing the loading of avatars.
Fixes #713


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,714,2017-02-04T20:19:32Z,2017-02-05T20:32:08Z,2017-08-26T13:09:07Z,MERGED,True,2,2,1,https://github.com/robinlinden,Fix loading of avatars. (Patch courtesy of @flussence.),1,[],https://github.com/uTox/uTox/pull/714,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/714#issuecomment-277474837,"Thanks again, @flussence for both the bug report and the patch fixing the loading of avatars.
Fixes #713


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,714,2017-02-04T20:19:32Z,2017-02-05T20:32:08Z,2017-08-26T13:09:07Z,MERGED,True,2,2,1,https://github.com/robinlinden,Fix loading of avatars. (Patch courtesy of @flussence.),1,[],https://github.com/uTox/uTox/pull/714,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/714#issuecomment-277502102,"Thanks again, @flussence for both the bug report and the patch fixing the loading of avatars.
Fixes #713


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/715,"Fixes #615

This change is‚ÄÇ","Fixes #615

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/715#issuecomment-277481877,"Fixes #615

This change is‚ÄÇ","Reviewed 11 of 11 files at r1.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/flist.c, line 354 at r1 (raw file):

            f->edit_history_length = edit_msg.history_length;

            panel_chat.disabled                    = true;

Do we not have a function to disable all panels? (I'm not 100% on this, but I think I've seen one like it.)

src/ui/draw_helpers.c, line 285 at r1 (raw file):

void draw_friend_deletion(int UNUSED(x), int UNUSED(y), int UNUSED(w), int UNUSED(height)) {
    FRIEND *f = (flist_get_selected()->data);

Remove superfluous parentheses.

src/ui/draw_helpers.c, line 290 at r1 (raw file):

    setfont(FONT_SELF_NAME);

    const int push = UTOX_STR_WIDTH(DELETE_MESSAGE);

This is great. This is what we should be doing. :D

src/ui/draw_helpers.c, line 292 at r1 (raw file):

    const int push = UTOX_STR_WIDTH(DELETE_MESSAGE);
    drawstr(MAIN_LEFT + SCALE(10), SCALE(70), DELETE_MESSAGE);
    drawtextrange(push + MAIN_LEFT + SCALE(20), settings.window_width, SCALE(70), f->name, f->name_length);

Do we need to add a question-mark after this?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/715#issuecomment-277502527,"Fixes #615

This change is‚ÄÇ","Reviewed 2 of 11 files at r1.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/ui.c, line 306 at r1 (raw file):

    /* Confirm deletion */
    CREATE_BUTTON(confirm_deletion, SCALE(10), MAIN_TOP + SCALE(40), SCALE(10), SCALE(40));

the button width is broken on my xlib, buttons will auto resize by the text, copy the width/height from how the ""copy"" button next to the ToxID.
Line 115 according to reviewable.

src/ui/buttons.c, line 671 at r1 (raw file):

    .tooltip_text = {.i18nal = STR_YES},
    .button_text  = {.i18nal = STR_YES},
    .on_mup       = button_confirm_deletion_on_mup,

Both colors shouldn't be green.
Also consider adding additional text; Yes -- Really delete.  No -- keep friend English is confusing enough, but other languages have different rules/traditions about, answering questions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/715#issuecomment-277546767,"Fixes #615

This change is‚ÄÇ","Review status: 6 of 11 files reviewed at latest revision, 6 unresolved discussions.

src/flist.c, line 354 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Do we not have a function to disable all panels? (I'm not 100% on this, but I think I've seen one like it.)

There doesn't seem to be function that does that.

src/ui.c, line 306 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
the button width is broken on my xlib, buttons will auto resize by the text, copy the width/height from how the ""copy"" button next to the ToxID.
Line 115 according to reviewable.

Done.

src/ui/buttons.c, line 671 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Both colors shouldn't be green.
Also consider adding additional text; Yes -- Really delete.  No -- keep friend English is confusing enough, but other languages have different rules/traditions about, answering questions.

Done.

src/ui/draw_helpers.c, line 285 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Remove superfluous parentheses.

Done.

src/ui/draw_helpers.c, line 290 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This is great. This is what we should be doing. :D

I think grayhatter was the first to do it. I just copied it. :P

src/ui/draw_helpers.c, line 292 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Do we need to add a question-mark after this?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/715#issuecomment-277547284,"Fixes #615

This change is‚ÄÇ","Reviewed 5 of 5 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/715#issuecomment-277550544,"Fixes #615

This change is‚ÄÇ","Reviewed 6 of 11 files at r1, 5 of 5 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/ui/draw_helpers.c, line 285 at r2 (raw file):

void draw_friend_deletion(int UNUSED(x), int UNUSED(y), int UNUSED(w), int UNUSED(height)) {
    FRIEND *f = flist_get_selected()->data;

make sure a friend is currently selected or you'll segv

src/ui/draw_helpers.c, line 291 at r2 (raw file):

    char str[f->name_length + 1];
    sprintf(str, ""%s?"", f->name);

use snprintf, && this will overrun

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/715#issuecomment-277576958,"Fixes #615

This change is‚ÄÇ","Review status: 10 of 11 files reviewed at latest revision, 2 unresolved discussions.

src/ui/draw_helpers.c, line 285 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
make sure a friend is currently selected or you'll segv

Done.

src/ui/draw_helpers.c, line 291 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
use snprintf, && this will overrun

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/715#issuecomment-277578959,"Fixes #615

This change is‚ÄÇ","Review status: 10 of 11 files reviewed at latest revision, 1 unresolved discussion.

src/ui/draw_helpers.c, line 286 at r3 (raw file):

void draw_friend_deletion(int UNUSED(x), int UNUSED(y), int UNUSED(w), int UNUSED(height)) {
    FRIEND *f = flist_get_selected()->data;
    if (f == NULL) {

if (f == NULL || flist_get_selected()->item != ITEM_FRIEND) {

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/715#issuecomment-277578971,"Fixes #615

This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/715#issuecomment-277581721,"Fixes #615

This change is‚ÄÇ","Review status: 10 of 11 files reviewed at latest revision, 1 unresolved discussion.

src/ui/draw_helpers.c, line 286 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
if (f == NULL || flist_get_selected()->item != ITEM_FRIEND) {

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/715#issuecomment-277581863,"Fixes #615

This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,715,2017-02-04T21:48:06Z,2017-02-07T02:49:13Z,2018-03-10T18:28:45Z,MERGED,True,88,11,11,https://github.com/endoffile78,Add confirmation to deleting friends,1,[],https://github.com/uTox/uTox/pull/715,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/715#issuecomment-277879787,"Fixes #615

This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,716,2017-02-05T00:25:28Z,2017-02-05T20:32:57Z,2017-08-26T13:09:09Z,MERGED,True,263,210,4,https://github.com/robinlinden,Refactor themes a bit.,3,[],https://github.com/uTox/uTox/pull/716,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/716,"Move functions from main to theme and clean theme up.
Fix segv trying to load custom theme that doesn't exist.


This change is‚ÄÇ","Move functions from main to theme and clean theme up.
Fix segv trying to load custom theme that doesn't exist.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,716,2017-02-05T00:25:28Z,2017-02-05T20:32:57Z,2017-08-26T13:09:09Z,MERGED,True,263,210,4,https://github.com/robinlinden,Refactor themes a bit.,3,[],https://github.com/uTox/uTox/pull/716,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/716#issuecomment-277502207,"Move functions from main to theme and clean theme up.
Fix segv trying to load custom theme that doesn't exist.


This change is‚ÄÇ","https://travis-ci.org/uTox/uTox/jobs/198449432#L636
https://travis-ci.org/uTox/uTox/jobs/198449435#L1683

Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,716,2017-02-05T00:25:28Z,2017-02-05T20:32:57Z,2017-08-26T13:09:09Z,MERGED,True,263,210,4,https://github.com/robinlinden,Refactor themes a bit.,3,[],https://github.com/uTox/uTox/pull/716,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/716#issuecomment-277543643,"Move functions from main to theme and clean theme up.
Fix segv trying to load custom theme that doesn't exist.


This change is‚ÄÇ","Reviewed 3 of 4 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,716,2017-02-05T00:25:28Z,2017-02-05T20:32:57Z,2017-08-26T13:09:09Z,MERGED,True,263,210,4,https://github.com/robinlinden,Refactor themes a bit.,3,[],https://github.com/uTox/uTox/pull/716,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/716#issuecomment-277543715,"Move functions from main to theme and clean theme up.
Fix segv trying to load custom theme that doesn't exist.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/723,"Fixes #708

This change is‚ÄÇ","Fixes #708

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/723#issuecomment-278188744,"Fixes #708

This change is‚ÄÇ","Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/723#issuecomment-278561109,"Fixes #708

This change is‚ÄÇ","nightmare conflict with #550 (Custom Windows and Notifications popups)

Reviewed 3 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/723#issuecomment-278561144,"Fixes #708

This change is‚ÄÇ","Reviewed 2 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/723#issuecomment-280137031,"Fixes #708

This change is‚ÄÇ","probably can't be rebased, likely needs a manual rewrite sorry @endoffile78",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/723#issuecomment-280967430,"Fixes #708

This change is‚ÄÇ","Reviewed 3 of 6 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/723#issuecomment-280985622,"Fixes #708

This change is‚ÄÇ","Reviewed 2 of 6 files at r2.
Review status: 2 of 3 files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/layout/settings.c, line 576 at r3 (raw file):

static void button_change_nospam_on_mup(void) {
    button_revert_nospam.disabled = false;
    long int nospam = rand() + rand();

don't you mean rand() | rand() << 16?

src/layout/settings.c, line 1105 at r3 (raw file):

            edit_proxy_port_data[8],
            edit_profile_password_data[65535],
            edit_nospam_data[sizeof(uint8_t) * 2];

sizeof u16

src/layout/settings.c, line 1220 at r3 (raw file):

EDIT edit_nospam = {
    .maxlength            = sizeof(uint32_t) * 2,

NOPE NOPE NOPE, nahuhh

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/723#issuecomment-280987181,"Fixes #708

This change is‚ÄÇ","Review status: 2 of 3 files reviewed at latest revision, 3 unresolved discussions.

src/layout/settings.c, line 576 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
don't you mean rand() | rand() << 16?

Done.

src/layout/settings.c, line 1105 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
sizeof u16

Should of been uin32_t not sure what I was thinking.

src/layout/settings.c, line 1220 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
NOPE NOPE NOPE, nahuhh

AFAIK that is the right length. Nospam size is uint32_t.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/723#issuecomment-280987281,"Fixes #708

This change is‚ÄÇ","Review status: 2 of 3 files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/layout/settings.c, line 1220 at r3 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
AFAIK that is the right length. Nospam size is uint32_t.

yeah, you fixed this by the above, still could go out of sync. how about sizeof edit_nospam_data

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/723#issuecomment-280987454,"Fixes #708

This change is‚ÄÇ","Review status: 2 of 3 files reviewed at latest revision, 1 unresolved discussion.

src/layout/settings.c, line 1220 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
yeah, you fixed this by the above, still could go out of sync. how about sizeof edit_nospam_data

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/723#issuecomment-280987873,"Fixes #708

This change is‚ÄÇ","Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/layout/settings.c, line 1216 at r5 (raw file):

        return;
    }
    postmessage_toxcore(TOX_SELF_CHANGE_NOSPAM, nospam, 0, NULL);

This is u16 on windows, you'll have to malloc and send the pointer, or do some bitshift magic :/
Or you can just do the strtol in the toxcore thread, sending the pointer to edit_nospam_data, but that's asking for a bug

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/723#issuecomment-280988079,"Fixes #708

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/layout/settings.c, line 1216 at r5 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This is u16 on windows, you'll have to malloc and send the pointer, or do some bitshift magic :/
Or you can just do the strtol in the toxcore thread, sending the pointer to edit_nospam_data, but that's asking for a bug

LGTM, I confused postmessage_toxcore with postmessage_utox

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,723,2017-02-07T02:00:10Z,2017-02-20T09:12:08Z,2018-03-10T18:28:58Z,MERGED,True,22,14,3,https://github.com/endoffile78,Allow changing nospam manually,1,[],https://github.com/uTox/uTox/pull/723,https://github.com/cebe,13,https://github.com/uTox/uTox/pull/723#issuecomment-281022015,"Fixes #708

This change is‚ÄÇ","Reviewed 2 of 6 files at r2, 1 of 1 files at r5.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,724,2017-02-07T02:46:16Z,2017-02-20T04:05:56Z,2018-03-10T18:29:00Z,MERGED,True,160,52,7,https://github.com/endoffile78,"Add flist_get_friend, flist_get_groupchat, and flist_get_type",1,[],https://github.com/uTox/uTox/pull/724,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/724,"Fixes #722


This change is‚ÄÇ","Fixes #722


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,724,2017-02-07T02:46:16Z,2017-02-20T04:05:56Z,2018-03-10T18:29:00Z,MERGED,True,160,52,7,https://github.com/endoffile78,"Add flist_get_friend, flist_get_groupchat, and flist_get_type",1,[],https://github.com/uTox/uTox/pull/724,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/724#issuecomment-278178204,"Fixes #722


This change is‚ÄÇ","Reviewed 7 of 7 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,724,2017-02-07T02:46:16Z,2017-02-20T04:05:56Z,2018-03-10T18:29:00Z,MERGED,True,160,52,7,https://github.com/endoffile78,"Add flist_get_friend, flist_get_groupchat, and flist_get_type",1,[],https://github.com/uTox/uTox/pull/724,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/724#issuecomment-278559384,"Fixes #722


This change is‚ÄÇ","this generates a ""nice"" merge conflict with #550

Reviewed 7 of 7 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,724,2017-02-07T02:46:16Z,2017-02-20T04:05:56Z,2018-03-10T18:29:00Z,MERGED,True,160,52,7,https://github.com/endoffile78,"Add flist_get_friend, flist_get_groupchat, and flist_get_type",1,[],https://github.com/uTox/uTox/pull/724,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/724#issuecomment-280137232,"Fixes #722


This change is‚ÄÇ","probably needs a manual rewrite... sorry @endoffile78
hopefully it'll just be a simple copy/paste and grep",True,{}
uTox/uTox,https://github.com/uTox/uTox,724,2017-02-07T02:46:16Z,2017-02-20T04:05:56Z,2018-03-10T18:29:00Z,MERGED,True,160,52,7,https://github.com/endoffile78,"Add flist_get_friend, flist_get_groupchat, and flist_get_type",1,[],https://github.com/uTox/uTox/pull/724,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/724#issuecomment-280750602,"Fixes #722


This change is‚ÄÇ","Reviewed 5 of 11 files at r2.
Review status: 5 of 7 files reviewed at latest revision, 5 unresolved discussions.

src/layout/friend.c, line 86 at r2 (raw file):

static void draw_friend_deletion(int UNUSED(x), int UNUSED(y), int UNUSED(w), int UNUSED(height)) {
    FRIEND *f = flist_get_friend();
    if (f == NULL || flist_get_type() != ITEM_FRIEND) {

drop this second check, is must be ITEM_FRIEND if f != null

src/layout/friend.c, line 574 at r2 (raw file):

static void switchfxn_autoaccept_ft(void) {
    FRIEND *f = flist_get_friend();
    if (f != NULL && flist_get_type() == ITEM_FRIEND) {

2nd check not needed

src/layout/friend.c, line 720 at r2 (raw file):

    FRIEND *f = flist_get_friend();
    if (f != NULL && flist_get_type() == ITEM_FRIEND) {

2nd check not needed

src/layout/friend.c, line 733 at r2 (raw file):

static void e_chat_msg_onchange(EDIT *UNUSED(edit)) {
    FRIEND *f = flist_get_friend();
    if (f != NULL && flist_get_type() == ITEM_FRIEND) {

ditto, no more comments

src/layout/group.c, line 427 at r2 (raw file):

    GROUPCHAT *g = flist_get_groupchat();
    if (g != NULL && flist_get_type() == ITEM_GROUP) {

2nd check

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,724,2017-02-07T02:46:16Z,2017-02-20T04:05:56Z,2018-03-10T18:29:00Z,MERGED,True,160,52,7,https://github.com/endoffile78,"Add flist_get_friend, flist_get_groupchat, and flist_get_type",1,[],https://github.com/uTox/uTox/pull/724,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/724#issuecomment-280821463,"Fixes #722


This change is‚ÄÇ","Review status: 3 of 7 files reviewed at latest revision, 5 unresolved discussions.

src/layout/friend.c, line 86 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
drop this second check, is must be ITEM_FRIEND if f != null

Done.

src/layout/friend.c, line 574 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
2nd check not needed

Done.

src/layout/friend.c, line 720 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
2nd check not needed

Done.

src/layout/friend.c, line 733 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
ditto, no more comments

Done.

src/layout/group.c, line 427 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
2nd check

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,724,2017-02-07T02:46:16Z,2017-02-20T04:05:56Z,2018-03-10T18:29:00Z,MERGED,True,160,52,7,https://github.com/endoffile78,"Add flist_get_friend, flist_get_groupchat, and flist_get_type",1,[],https://github.com/uTox/uTox/pull/724,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/724#issuecomment-280966359,"Fixes #722


This change is‚ÄÇ","Reviewed 3 of 11 files at r2, 4 of 4 files at r3.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,724,2017-02-07T02:46:16Z,2017-02-20T04:05:56Z,2018-03-10T18:29:00Z,MERGED,True,160,52,7,https://github.com/endoffile78,"Add flist_get_friend, flist_get_groupchat, and flist_get_type",1,[],https://github.com/uTox/uTox/pull/724,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/724#issuecomment-280980812,"Fixes #722


This change is‚ÄÇ","Reviewed 4 of 4 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,725,2017-02-07T23:19:06Z,2017-02-16T05:32:13Z,2017-08-26T13:09:31Z,MERGED,True,15,15,5,https://github.com/robinlinden,Make fread more samey across uTox.,1,[],https://github.com/uTox/uTox/pull/725,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/725,"This fixes uTox not being able to read custom themes.
(if (fread(data, 1, *out, fp) != 1) { in theme.c tried to read *out elements of size 1 and compares the number of bytes read with 1 to decide if we could load the theme. (This only works if the theme file is 1 byte.))
This PR modifies all fread calls in uTox to try to read 1 element of whatever size we want instead of size elements of size 1.


This change is‚ÄÇ","This fixes uTox not being able to read custom themes.
(if (fread(data, 1, *out, fp) != 1) { in theme.c tried to read *out elements of size 1 and compares the number of bytes read with 1 to decide if we could load the theme. (This only works if the theme file is 1 byte.))
This PR modifies all fread calls in uTox to try to read 1 element of whatever size we want instead of size elements of size 1.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,725,2017-02-07T23:19:06Z,2017-02-16T05:32:13Z,2017-08-26T13:09:31Z,MERGED,True,15,15,5,https://github.com/robinlinden,Make fread more samey across uTox.,1,[],https://github.com/uTox/uTox/pull/725,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/725#issuecomment-278181418,"This fixes uTox not being able to read custom themes.
(if (fread(data, 1, *out, fp) != 1) { in theme.c tried to read *out elements of size 1 and compares the number of bytes read with 1 to decide if we could load the theme. (This only works if the theme file is 1 byte.))
This PR modifies all fread calls in uTox to try to read 1 element of whatever size we want instead of size elements of size 1.


This change is‚ÄÇ","Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,725,2017-02-07T23:19:06Z,2017-02-16T05:32:13Z,2017-08-26T13:09:31Z,MERGED,True,15,15,5,https://github.com/robinlinden,Make fread more samey across uTox.,1,[],https://github.com/uTox/uTox/pull/725,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/725#issuecomment-278559893,"This fixes uTox not being able to read custom themes.
(if (fread(data, 1, *out, fp) != 1) { in theme.c tried to read *out elements of size 1 and compares the number of bytes read with 1 to decide if we could load the theme. (This only works if the theme file is 1 byte.))
This PR modifies all fread calls in uTox to try to read 1 element of whatever size we want instead of size elements of size 1.


This change is‚ÄÇ","Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,725,2017-02-07T23:19:06Z,2017-02-16T05:32:13Z,2017-08-26T13:09:31Z,MERGED,True,15,15,5,https://github.com/robinlinden,Make fread more samey across uTox.,1,[],https://github.com/uTox/uTox/pull/725,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/725#issuecomment-280136798,"This fixes uTox not being able to read custom themes.
(if (fread(data, 1, *out, fp) != 1) { in theme.c tried to read *out elements of size 1 and compares the number of bytes read with 1 to decide if we could load the theme. (This only works if the theme file is 1 byte.))
This PR modifies all fread calls in uTox to try to read 1 element of whatever size we want instead of size elements of size 1.


This change is‚ÄÇ",needs rebase,True,{}
uTox/uTox,https://github.com/uTox/uTox,725,2017-02-07T23:19:06Z,2017-02-16T05:32:13Z,2017-08-26T13:09:31Z,MERGED,True,15,15,5,https://github.com/robinlinden,Make fread more samey across uTox.,1,[],https://github.com/uTox/uTox/pull/725,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/725#issuecomment-280165932,"This fixes uTox not being able to read custom themes.
(if (fread(data, 1, *out, fp) != 1) { in theme.c tried to read *out elements of size 1 and compares the number of bytes read with 1 to decide if we could load the theme. (This only works if the theme file is 1 byte.))
This PR modifies all fread calls in uTox to try to read 1 element of whatever size we want instead of size elements of size 1.


This change is‚ÄÇ",Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,725,2017-02-07T23:19:06Z,2017-02-16T05:32:13Z,2017-08-26T13:09:31Z,MERGED,True,15,15,5,https://github.com/robinlinden,Make fread more samey across uTox.,1,[],https://github.com/uTox/uTox/pull/725,https://github.com/cebe,6,https://github.com/uTox/uTox/pull/725#issuecomment-280180877,"This fixes uTox not being able to read custom themes.
(if (fread(data, 1, *out, fp) != 1) { in theme.c tried to read *out elements of size 1 and compares the number of bytes read with 1 to decide if we could load the theme. (This only works if the theme file is 1 byte.))
This PR modifies all fread calls in uTox to try to read 1 element of whatever size we want instead of size elements of size 1.


This change is‚ÄÇ","Reviewed 3 of 5 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,725,2017-02-07T23:19:06Z,2017-02-16T05:32:13Z,2017-08-26T13:09:31Z,MERGED,True,15,15,5,https://github.com/robinlinden,Make fread more samey across uTox.,1,[],https://github.com/uTox/uTox/pull/725,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/725#issuecomment-280235227,"This fixes uTox not being able to read custom themes.
(if (fread(data, 1, *out, fp) != 1) { in theme.c tried to read *out elements of size 1 and compares the number of bytes read with 1 to decide if we could load the theme. (This only works if the theme file is 1 byte.))
This PR modifies all fread calls in uTox to try to read 1 element of whatever size we want instead of size elements of size 1.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,727,2017-02-10T01:07:53Z,2017-02-16T06:33:43Z,2017-08-26T13:09:19Z,MERGED,True,53,65,5,https://github.com/robinlinden,Fix utf8 copy-paste everywhere.,1,[],https://github.com/uTox/uTox/pull/727,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/727,"This was going to be a Windows cleanup PR, but it got away from me..
The file you'll want to focus on is ui/edit.c.
I also (unrelated to fixing the copy-paste) changed the 2-byte utf8 condition from (uint8_t)data[i] == 0xC2 && (uint8_t)data[i + 1] <= 0xBF) to ending with <= 0x9F since as far as I can see, 0xBF would include a bunch of valid utf8 characters.
Fixes #583


This change is‚ÄÇ","This was going to be a Windows cleanup PR, but it got away from me..
The file you'll want to focus on is ui/edit.c.
I also (unrelated to fixing the copy-paste) changed the 2-byte utf8 condition from (uint8_t)data[i] == 0xC2 && (uint8_t)data[i + 1] <= 0xBF) to ending with <= 0x9F since as far as I can see, 0xBF would include a bunch of valid utf8 characters.
Fixes #583


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,727,2017-02-10T01:07:53Z,2017-02-16T06:33:43Z,2017-08-26T13:09:19Z,MERGED,True,53,65,5,https://github.com/robinlinden,Fix utf8 copy-paste everywhere.,1,[],https://github.com/uTox/uTox/pull/727,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/727#issuecomment-278846545,"This was going to be a Windows cleanup PR, but it got away from me..
The file you'll want to focus on is ui/edit.c.
I also (unrelated to fixing the copy-paste) changed the 2-byte utf8 condition from (uint8_t)data[i] == 0xC2 && (uint8_t)data[i + 1] <= 0xBF) to ending with <= 0x9F since as far as I can see, 0xBF would include a bunch of valid utf8 characters.
Fixes #583


This change is‚ÄÇ","Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,727,2017-02-10T01:07:53Z,2017-02-16T06:33:43Z,2017-08-26T13:09:19Z,MERGED,True,53,65,5,https://github.com/robinlinden,Fix utf8 copy-paste everywhere.,1,[],https://github.com/uTox/uTox/pull/727,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/727#issuecomment-280137692,"This was going to be a Windows cleanup PR, but it got away from me..
The file you'll want to focus on is ui/edit.c.
I also (unrelated to fixing the copy-paste) changed the 2-byte utf8 condition from (uint8_t)data[i] == 0xC2 && (uint8_t)data[i + 1] <= 0xBF) to ending with <= 0x9F since as far as I can see, 0xBF would include a bunch of valid utf8 characters.
Fixes #583


This change is‚ÄÇ",needs rebase,True,{}
uTox/uTox,https://github.com/uTox/uTox,727,2017-02-10T01:07:53Z,2017-02-16T06:33:43Z,2017-08-26T13:09:19Z,MERGED,True,53,65,5,https://github.com/robinlinden,Fix utf8 copy-paste everywhere.,1,[],https://github.com/uTox/uTox/pull/727,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/727#issuecomment-280163042,"This was going to be a Windows cleanup PR, but it got away from me..
The file you'll want to focus on is ui/edit.c.
I also (unrelated to fixing the copy-paste) changed the 2-byte utf8 condition from (uint8_t)data[i] == 0xC2 && (uint8_t)data[i + 1] <= 0xBF) to ending with <= 0x9F since as far as I can see, 0xBF would include a bunch of valid utf8 characters.
Fixes #583


This change is‚ÄÇ",Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,727,2017-02-10T01:07:53Z,2017-02-16T06:33:43Z,2017-08-26T13:09:19Z,MERGED,True,53,65,5,https://github.com/robinlinden,Fix utf8 copy-paste everywhere.,1,[],https://github.com/uTox/uTox/pull/727,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/727#issuecomment-280183456,"This was going to be a Windows cleanup PR, but it got away from me..
The file you'll want to focus on is ui/edit.c.
I also (unrelated to fixing the copy-paste) changed the 2-byte utf8 condition from (uint8_t)data[i] == 0xC2 && (uint8_t)data[i + 1] <= 0xBF) to ending with <= 0x9F since as far as I can see, 0xBF would include a bunch of valid utf8 characters.
Fixes #583


This change is‚ÄÇ","Reviewed 2 of 5 files at r1, 3 of 3 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,727,2017-02-10T01:07:53Z,2017-02-16T06:33:43Z,2017-08-26T13:09:19Z,MERGED,True,53,65,5,https://github.com/robinlinden,Fix utf8 copy-paste everywhere.,1,[],https://github.com/uTox/uTox/pull/727,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/727#issuecomment-280236290,"This was going to be a Windows cleanup PR, but it got away from me..
The file you'll want to focus on is ui/edit.c.
I also (unrelated to fixing the copy-paste) changed the 2-byte utf8 condition from (uint8_t)data[i] == 0xC2 && (uint8_t)data[i + 1] <= 0xBF) to ending with <= 0x9F since as far as I can see, 0xBF would include a bunch of valid utf8 characters.
Fixes #583


This change is‚ÄÇ","Reviewed 2 of 3 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,727,2017-02-10T01:07:53Z,2017-02-16T06:33:43Z,2017-08-26T13:09:19Z,MERGED,True,53,65,5,https://github.com/robinlinden,Fix utf8 copy-paste everywhere.,1,[],https://github.com/uTox/uTox/pull/727,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/727#issuecomment-280244081,"This was going to be a Windows cleanup PR, but it got away from me..
The file you'll want to focus on is ui/edit.c.
I also (unrelated to fixing the copy-paste) changed the 2-byte utf8 condition from (uint8_t)data[i] == 0xC2 && (uint8_t)data[i + 1] <= 0xBF) to ending with <= 0x9F since as far as I can see, 0xBF would include a bunch of valid utf8 characters.
Fixes #583


This change is‚ÄÇ","Reviewed 2 of 5 files at r1, 3 of 3 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/ui/edit.c, line 784 at r2 (raw file):

        const bool is_delete = data[i] == 0x7F;

        if (is_delete || is_control_char) {

It's not str8c magic if you explain how everything works...

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,727,2017-02-10T01:07:53Z,2017-02-16T06:33:43Z,2017-08-26T13:09:19Z,MERGED,True,53,65,5,https://github.com/robinlinden,Fix utf8 copy-paste everywhere.,1,[],https://github.com/uTox/uTox/pull/727,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/727#issuecomment-280244137,"This was going to be a Windows cleanup PR, but it got away from me..
The file you'll want to focus on is ui/edit.c.
I also (unrelated to fixing the copy-paste) changed the 2-byte utf8 condition from (uint8_t)data[i] == 0xC2 && (uint8_t)data[i + 1] <= 0xBF) to ending with <= 0x9F since as far as I can see, 0xBF would include a bunch of valid utf8 characters.
Fixes #583


This change is‚ÄÇ","Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,731,2017-02-12T17:20:01Z,2017-02-20T04:34:13Z,2019-01-21T09:09:05Z,MERGED,True,4,1,1,https://github.com/Axaprj,Update CMakeLists.txt,2,[],https://github.com/uTox/uTox/pull/731,https://github.com/Axaprj,1,https://github.com/uTox/uTox/pull/731,"openal-soft generates always OpenAL32 when builds for Windows.
https://cmake.org/cmake/help/v3.5/variable/WIN32.html

WIN32
True on Windows systems, including Win64.
Set to true when the target system is Windows.



This change is‚ÄÇ","openal-soft generates always OpenAL32 when builds for Windows.
https://cmake.org/cmake/help/v3.5/variable/WIN32.html

WIN32
True on Windows systems, including Win64.
Set to true when the target system is Windows.



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,731,2017-02-12T17:20:01Z,2017-02-20T04:34:13Z,2019-01-21T09:09:05Z,MERGED,True,4,1,1,https://github.com/Axaprj,Update CMakeLists.txt,2,[],https://github.com/uTox/uTox/pull/731,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/731#issuecomment-279243410,"openal-soft generates always OpenAL32 when builds for Windows.
https://cmake.org/cmake/help/v3.5/variable/WIN32.html

WIN32
True on Windows systems, including Win64.
Set to true when the target system is Windows.



This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,731,2017-02-12T17:20:01Z,2017-02-20T04:34:13Z,2019-01-21T09:09:05Z,MERGED,True,4,1,1,https://github.com/Axaprj,Update CMakeLists.txt,2,[],https://github.com/uTox/uTox/pull/731,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/731#issuecomment-279245350,"openal-soft generates always OpenAL32 when builds for Windows.
https://cmake.org/cmake/help/v3.5/variable/WIN32.html

WIN32
True on Windows systems, including Win64.
Set to true when the target system is Windows.



This change is‚ÄÇ","We need to make changes to Travis, the utox.io builds, and the build.tox.chat builds when we merge this. Currently all of the above rename OpenAL32 to openal to fix this bug. This is a nicer solution and should be merged.",True,{}
uTox/uTox,https://github.com/uTox/uTox,731,2017-02-12T17:20:01Z,2017-02-20T04:34:13Z,2019-01-21T09:09:05Z,MERGED,True,4,1,1,https://github.com/Axaprj,Update CMakeLists.txt,2,[],https://github.com/uTox/uTox/pull/731,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/731#issuecomment-279248749,"openal-soft generates always OpenAL32 when builds for Windows.
https://cmake.org/cmake/help/v3.5/variable/WIN32.html

WIN32
True on Windows systems, including Win64.
Set to true when the target system is Windows.



This change is‚ÄÇ",just change the mv command in windows-before.sh to cp,True,{}
uTox/uTox,https://github.com/uTox/uTox,731,2017-02-12T17:20:01Z,2017-02-20T04:34:13Z,2019-01-21T09:09:05Z,MERGED,True,4,1,1,https://github.com/Axaprj,Update CMakeLists.txt,2,[],https://github.com/uTox/uTox/pull/731,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/731#issuecomment-280138113,"openal-soft generates always OpenAL32 when builds for Windows.
https://cmake.org/cmake/help/v3.5/variable/WIN32.html

WIN32
True on Windows systems, including Win64.
Set to true when the target system is Windows.



This change is‚ÄÇ","per IRC, someone on the devel team needs to write the fix for this.
My suggestion is that we pre-patch, and then merge this on top of that. (Or maybe we can then get @Axaprj to rebase on that patch)",True,{}
uTox/uTox,https://github.com/uTox/uTox,731,2017-02-12T17:20:01Z,2017-02-20T04:34:13Z,2019-01-21T09:09:05Z,MERGED,True,4,1,1,https://github.com/Axaprj,Update CMakeLists.txt,2,[],https://github.com/uTox/uTox/pull/731,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/731#issuecomment-280597012,"openal-soft generates always OpenAL32 when builds for Windows.
https://cmake.org/cmake/help/v3.5/variable/WIN32.html

WIN32
True on Windows systems, including Win64.
Set to true when the target system is Windows.



This change is‚ÄÇ","@Axaprj if you can rebase this on develop, it should pass travis, and we can merge this.",True,{}
uTox/uTox,https://github.com/uTox/uTox,731,2017-02-12T17:20:01Z,2017-02-20T04:34:13Z,2019-01-21T09:09:05Z,MERGED,True,4,1,1,https://github.com/Axaprj,Update CMakeLists.txt,2,[],https://github.com/uTox/uTox/pull/731,https://github.com/Axaprj,7,https://github.com/uTox/uTox/pull/731#issuecomment-280865437,"openal-soft generates always OpenAL32 when builds for Windows.
https://cmake.org/cmake/help/v3.5/variable/WIN32.html

WIN32
True on Windows systems, including Win64.
Set to true when the target system is Windows.



This change is‚ÄÇ","we can easy avoid this fix by adding into building script following:

ln -s /usr/lib/libOpenAL32.a /usr/lib/libopenal.a

I don't know which solution will be better...",True,{}
uTox/uTox,https://github.com/uTox/uTox,731,2017-02-12T17:20:01Z,2017-02-20T04:34:13Z,2019-01-21T09:09:05Z,MERGED,True,4,1,1,https://github.com/Axaprj,Update CMakeLists.txt,2,[],https://github.com/uTox/uTox/pull/731,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/731#issuecomment-280942866,"openal-soft generates always OpenAL32 when builds for Windows.
https://cmake.org/cmake/help/v3.5/variable/WIN32.html

WIN32
True on Windows systems, including Win64.
Set to true when the target system is Windows.



This change is‚ÄÇ",@Axaprj we have fixed the build script. Can you rebase please.,True,{}
uTox/uTox,https://github.com/uTox/uTox,735,2017-02-12T20:18:16Z,2017-02-15T20:43:42Z,2017-08-26T13:09:10Z,MERGED,True,44,24,1,https://github.com/robinlinden,Louder errors and more checks for saving things.,1,[],https://github.com/uTox/uTox/pull/735,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/735,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,735,2017-02-12T20:18:16Z,2017-02-15T20:43:42Z,2017-08-26T13:09:10Z,MERGED,True,44,24,1,https://github.com/robinlinden,Louder errors and more checks for saving things.,1,[],https://github.com/uTox/uTox/pull/735,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/735#issuecomment-279247505,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,735,2017-02-12T20:18:16Z,2017-02-15T20:43:42Z,2017-08-26T13:09:10Z,MERGED,True,44,24,1,https://github.com/robinlinden,Louder errors and more checks for saving things.,1,[],https://github.com/uTox/uTox/pull/735,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/735#issuecomment-279248612,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,736,2017-02-13T21:38:50Z,2017-02-13T23:00:02Z,2017-08-26T13:09:17Z,CLOSED,False,2,2,2,https://github.com/robinlinden,Log to stderr on Windows and Xlib.,1,[],https://github.com/uTox/uTox/pull/736,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/736,"Also silences a ton of warnings re: unused computed value when compiling on Windows.
(That's what the cast to void does.)


This change is‚ÄÇ","Also silences a ton of warnings re: unused computed value when compiling on Windows.
(That's what the cast to void does.)


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,736,2017-02-13T21:38:50Z,2017-02-13T23:00:02Z,2017-08-26T13:09:17Z,CLOSED,False,2,2,2,https://github.com/robinlinden,Log to stderr on Windows and Xlib.,1,[],https://github.com/uTox/uTox/pull/736,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/736#issuecomment-279533681,"Also silences a ton of warnings re: unused computed value when compiling on Windows.
(That's what the cast to void does.)


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,736,2017-02-13T21:38:50Z,2017-02-13T23:00:02Z,2017-08-26T13:09:17Z,CLOSED,False,2,2,2,https://github.com/robinlinden,Log to stderr on Windows and Xlib.,1,[],https://github.com/uTox/uTox/pull/736,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/736#issuecomment-279533902,"Also silences a ton of warnings re: unused computed value when compiling on Windows.
(That's what the cast to void does.)


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,736,2017-02-13T21:38:50Z,2017-02-13T23:00:02Z,2017-08-26T13:09:17Z,CLOSED,False,2,2,2,https://github.com/robinlinden,Log to stderr on Windows and Xlib.,1,[],https://github.com/uTox/uTox/pull/736,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/736#issuecomment-279551671,"Also silences a ton of warnings re: unused computed value when compiling on Windows.
(That's what the cast to void does.)


This change is‚ÄÇ",Closing this PR in favour of #737,True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/737,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/737#issuecomment-279552682,This change is‚ÄÇ,"Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/737#issuecomment-279704301,This change is‚ÄÇ,"Reviewed 8 of 9 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/logging.c, line 17 at r1 (raw file):

    if (settings.debug_file) {
        file = fopen(settings.debug_file, ""a+"");

this would mean to open and close the file each time a message is logged, right? that would mean a lot of IO, we should better open that file once and then append to it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/737#issuecomment-279845805,This change is‚ÄÇ,"Review status: 5 of 11 files reviewed at latest revision, 1 unresolved discussion.

src/logging.c, line 17 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
this would mean to open and close the file each time a message is logged, right? that would mean a lot of IO, we should better open that file once and then append to it.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/737#issuecomment-279864282,This change is‚ÄÇ,"Reviewed 6 of 6 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/737#issuecomment-280041031,This change is‚ÄÇ,"Reviewed 6 of 6 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/737#issuecomment-280124754,This change is‚ÄÇ,"I need to review this, IIRC there's a better way to do this",True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/737#issuecomment-280434927,This change is‚ÄÇ,"Reviewed 4 of 9 files at r1, 4 of 6 files at r2.
Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

src/logging.c, line 14 at r2 (raw file):

void debug(const char *fmt, ...){
    va_list list;
    FILE *file = stderr;

drop this, just use settings.debug_file through out this function

src/main.c, line 257 at r2 (raw file):

                settings.debug_file = fopen(optarg, ""a+"");
                if (!settings.debug_file) {
                    LOG_NORM(""Could not open %s. Logging to stderr.\n"", optarg);

and then reset to stdout

src/settings.c, line 60 at r2 (raw file):

    .verbose = LOG_LVL_ERROR,
    .debug_file = NULL,

this is where you set it to stdout

src/cocoa/main.m, line 482 at r2 (raw file):

    LOG_TRACE(__FILE__, ""clean exit"" );

    if (settings.debug_file) {

DRY create utox_raze(void);in src/main.c and then add it just before each main() exits.

src/windows/main.c, line 1102 at r2 (raw file):

    LOG_INFO(""uTox"", ""Clean exit."" );

    if (settings.debug_file) {

DRY use utox_raze()

src/xlib/main.c, line 1025 at r2 (raw file):

    LOG_ERR(""XLIB"", ""XLIB main:\tClean exit\n"");

    if (settings.debug_file) {

DRY

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/737#issuecomment-280448748,This change is‚ÄÇ,"Review status: 4 of 13 files reviewed at latest revision, 6 unresolved discussions.

src/logging.c, line 14 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
drop this, just use settings.debug_file through out this function

Done.

src/main.c, line 257 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
and then reset to stdout

Done.

src/settings.c, line 60 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this is where you set it to stdout

Done.

src/cocoa/main.m, line 482 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
DRY create utox_raze(void);in src/main.c and then add it just before each main() exits.

Done.

src/windows/main.c, line 1102 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
DRY use utox_raze()

Done.

src/xlib/main.c, line 1025 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
DRY

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/737#issuecomment-280451587,This change is‚ÄÇ,"Reviewed 1 of 6 files at r2, 9 of 9 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/737#issuecomment-280495417,This change is‚ÄÇ,@endoffile78 you broke windows,True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/737#issuecomment-280747571,This change is‚ÄÇ,"Reviewed 8 of 9 files at r3, 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 647 at r4 (raw file):

    bool   skip_updater, from_updater;

    // Load settings before calling utox_init()

Is this a TODO?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,737,2017-02-13T22:27:14Z,2017-02-17T19:51:28Z,2017-02-17T19:51:28Z,MERGED,True,62,35,13,https://github.com/endoffile78,Allow users to log errors to a file,1,[],https://github.com/uTox/uTox/pull/737,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/737#issuecomment-280748180,This change is‚ÄÇ,"Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 647 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Is this a TODO?

no, I'll remove it in my sweep

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/738,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/738#issuecomment-279569388,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/738#issuecomment-280135379,This change is‚ÄÇ,"+@GrayHatter

Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/messages.c, line 38 at r1 (raw file):

    switch (msg->msg_type) {
        case MSG_TYPE_NULL: {
            LOG_ERR(__FILE__, ""Invalid message type in msgheight."");

replace every __FILE__ with ""Messages""

src/messages.c, line 1431 at r1 (raw file):

            case MSG_TYPE_IMAGE: {
                MSG_IMG *img = (MSG_IMG *)msg;

I think this is wrong. Do you want to find out and fix it or should I?

src/messages.c, line 1457 at r1 (raw file):

    }

    static UTOX_I18N_STR menu_copy[] = { STR_COPY, STR_COPY_WITH_NAMES };

can be static const and have it's scope reduced

src/messages.c, line 1481 at r1 (raw file):

    }

    // This should be dead code, but the compiler can't tell for whatever reason.

let's fatal error here then as well, if msg->msg_type isn't caught by the above switch, (it can happen) that's a memory error, and possible exploit
[[we have this issue else where, and how we want to handle it is a discussion we should have at some point]]

src/messages.c, line 1548 at r1 (raw file):

        if (names && (i != m->sel_start_msg || m->sel_start_position == 0)) {
            if (m->is_groupchat) {
                MSG_GROUP *grp = (MSG_GROUP *)msg;

ditto as the above MSG_IMG

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/738#issuecomment-280178317,This change is‚ÄÇ,"Reviewed 1 of 2 files at r1.
Review status: all files reviewed at latest revision, 7 unresolved discussions.

src/messages.c, line 1431 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I think this is wrong. Do you want to find out and fix it or should I?

this corresponds to a bug I noticed in inline images... instead of casting msg, it should access msg->via. In the lines below:
msg->via.img.zoom should be used instead of img->zoom as far as I see.

src/messages.c, line 1486 at r1 (raw file):

bool messages_mwheel(PANEL *UNUSED(panel), int UNUSED(height), double UNUSED(d), bool UNUSED(smooth)) {
    return 0;

return false;

src/messages.c, line 1528 at r1 (raw file):

bool messages_mleave(PANEL *UNUSED(m)) {
    return 0;

return false;

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/738#issuecomment-280237428,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 7 unresolved discussions.

src/messages.c, line 1431 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
this corresponds to a bug I noticed in inline images... instead of casting msg, it should access msg->via. In the lines below:
msg->via.img.zoom should be used instead of img->zoom as far as I see.

Yeah, with the addition of the union, there should be no need for any typecasts with messages. (I hope)
BTW, it's my goal that all typecasts get a comment. Typecasts telling the compiler it's assumptions are wrong. So we also need to tell the humans why it's wrong.

Comments from Reviewable",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/738#issuecomment-280453150,This change is‚ÄÇ,@robinlinden,True,{}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/738#issuecomment-280523655,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 7 unresolved discussions.

src/messages.c, line 38 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
replace every __FILE__ with ""Messages""

Done.

src/messages.c, line 1431 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Yeah, with the addition of the union, there should be no need for any typecasts with messages. (I hope)
BTW, it's my goal that all typecasts get a comment. Typecasts telling the compiler it's assumptions are wrong. So we also need to tell the humans why it's wrong.

Done.

src/messages.c, line 1457 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
can be static const and have it's scope reduced

Had to make some changes in contextmenu.c/h, but done.

src/messages.c, line 1481 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
let's fatal error here then as well, if msg->msg_type isn't caught by the above switch, (it can happen) that's a memory error, and possible exploit
[[we have this issue else where, and how we want to handle it is a discussion we should have at some point]]

Done.

src/messages.c, line 1486 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
return false;

Done.

src/messages.c, line 1528 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
return false;

Done.

src/messages.c, line 1548 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
ditto as the above MSG_IMG

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/738#issuecomment-280531260,This change is‚ÄÇ,"Reviewed 1 of 2 files at r2, 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 7 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/738#issuecomment-280752676,This change is‚ÄÇ,"Reviewed 1 of 2 files at r2, 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/messages.c, line 1485 at r3 (raw file):

    }

    LOG_FATAL_ERR(1, ""Messages"", ""Congratulations, you've reached dead code. Please report this."");

BTW I want this to be a #define and the default comment. it's awesome.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/738#issuecomment-280752915,This change is‚ÄÇ,"+@cebe

Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/cebe,11,https://github.com/uTox/uTox/pull/738#issuecomment-280768943,This change is‚ÄÇ,"Reviewed 1 of 2 files at r2, 3 of 3 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,738,2017-02-13T23:48:05Z,2017-02-17T21:21:33Z,2017-08-26T13:09:28Z,MERGED,True,150,56,4,https://github.com/robinlinden,Fix warnings related to message types.,3,[],https://github.com/uTox/uTox/pull/738,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/738#issuecomment-280769483,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/739,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/739#issuecomment-279585692,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/filesys.c, line 69 at r1 (raw file):

    }

    uint8_t *tmp_path = calloc(1, strlen((char *)name) + 1);

Is this ever freed?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/739#issuecomment-279587437,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","Review status: 5 of 7 files reviewed at latest revision, 1 unresolved discussion.

src/windows/filesys.c, line 69 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Is this ever freed?

It is now. Good catch!

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/739#issuecomment-279590908,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/739#issuecomment-280137627,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ",needs rebase,True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/739#issuecomment-280453233,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ",@endoffile78,True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/739#issuecomment-280528697,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ",Rebased and also fixed the const problem in src/main.c.,True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/739#issuecomment-280531801,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","Reviewed 5 of 6 files at r3, 2 of 2 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/739#issuecomment-280757057,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","Reviewed 1 of 6 files at r1, 5 of 6 files at r3, 2 of 2 files at r4.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/windows/dnd.c, line 94 at r4 (raw file):

            }

            uint8_t *path = calloc(1, UTOX_FILE_NAME_LENGTH * sizeof(uint8_t));

why is this better?

src/windows/filesys.c, line 69 at r4 (raw file):

    }

    uint8_t *tmp_path = calloc(1, strlen((char *)name) + 1);

way too many typecasts below, make this char, and typecast once at the end.

src/windows/filesys.c, line 70 at r4 (raw file):

    uint8_t *tmp_path = calloc(1, strlen((char *)name) + 1);
    strcpy((char *)tmp_path, (char *)name);

no strdup()

src/windows/main.c, line 807 at r4 (raw file):

        int          len = GetModuleFileName(hModule, path, MAX_PATH);
        unsigned int i;
        for (i = len - 1; path[i] != '\\'; --i)

these make me nervous, comment pls

src/windows/main.c, line 947 at r4 (raw file):

    LOG_INFO(""uTox"", ""Clean exit."" );

    // TODO: This should be a non-zero value determined by a message's wParam.

That's stupid... oh windoof, okay makes sense then :P

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/739#issuecomment-280961815,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","Review status: 2 of 15 files reviewed at latest revision, 4 unresolved discussions.

src/windows/dnd.c, line 94 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why is this better?

I think it's nicer to allocate for 1 string of x characters rather than strlen() allocations of size 1. It's even prettier if you need to allocate for more than 1 string.

src/windows/filesys.c, line 69 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
way too many typecasts below, make this char, and typecast once at the end.

Done.

src/windows/filesys.c, line 70 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
no strdup()

I forgot that function exists. Switching it over does some weird things. (Maybe Windows-only behaviour?) I preferred the original solution, but up to you.

src/windows/main.c, line 807 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
these make me nervous, comment pls

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/739#issuecomment-280962787,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","Reviewed 4 of 5 files at r5, 9 of 9 files at r6.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/cebe,12,https://github.com/uTox/uTox/pull/739#issuecomment-280965841,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","This conflicts with my test PR (#757), will rebase after this one is merged.

Reviewed 1 of 6 files at r3, 1 of 2 files at r4, 4 of 5 files at r5, 8 of 9 files at r6.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/messages.c, line 1554 at r6 (raw file):

        if (names && (i != m->sel_start_msg || m->sel_start_position == 0)) {
            if (m->is_groupchat) {
                memcpy(p, msg->via.grp.msg, msg->via.grp.author_length);

I am not sure what this code is doing in detail but copying msg with the author_length instead of msg_length looks really wrong to me.
If this is correct, it should have a comment explaining what is going on.

src/windows/dnd.c, line 94 at r4 (raw file):

sizeof(uint8_t)

isn't this per definition 1?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/739#issuecomment-280968073,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/messages.c, line 1554 at r6 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
I am not sure what this code is doing in detail but copying msg with the author_length instead of msg_length looks really wrong to me.
If this is correct, it should have a comment explaining what is going on.

Good catch! And fixed! That's a bug in develop that no one has noticed. :D

src/windows/dnd.c, line 94 at r4 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶

sizeof(uint8_t)

isn't this per definition 1?

It is. Dropped that part.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/739#issuecomment-280983352,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","Reviewed 3 of 5 files at r5, 8 of 9 files at r6, 2 of 2 files at r7.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/messages.c, line 1554 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Good catch! And fixed! That's a bug in develop that no one has noticed. :D

FYI
It wasn't a bug until messages.h got the union. That's a VERY nice catch @cebe thank you!

src/windows/filesys.c, line 70 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I forgot that function exists. Switching it over does some weird things. (Maybe Windows-only behaviour?) I preferred the original solution, but up to you.

LGTM either way, do what you'd like, or think is easier to read/maintain.

src/windows/main.c, line 807 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Done.

LGTM, in the future, it can be a ; // trailing comment Fewer lines of source it always better :P

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/739#issuecomment-280985774,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","+@cebe merge when ready

Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/endoffile78,16,https://github.com/uTox/uTox/pull/739#issuecomment-280992926,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","Reviewed 2 of 2 files at r7.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,739,2017-02-14T01:50:50Z,2017-02-20T08:12:40Z,2017-02-20T08:12:40Z,MERGED,True,99,70,15,https://github.com/robinlinden,Fix Windows warnings and exporting chatlogs as plaintext on Windows.,8,[],https://github.com/uTox/uTox/pull/739,https://github.com/cebe,17,https://github.com/uTox/uTox/pull/739#issuecomment-281008833,"The problem with exporting chatlogs was that Windows uTox was using the friend_number instead of the id_str.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,744,2017-02-15T20:00:16Z,2017-02-15T20:27:41Z,2017-04-24T04:39:21Z,MERGED,True,6674,4672,118,https://github.com/GrayHatter,Need to start travis,80,[],https://github.com/uTox/uTox/pull/744,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/744,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,745,2017-02-15T22:57:09Z,2017-02-16T05:34:22Z,2017-08-26T13:09:30Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix logic in pausing file always being true.,1,[],https://github.com/uTox/uTox/pull/745,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/745,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,745,2017-02-15T22:57:09Z,2017-02-16T05:34:22Z,2017-08-26T13:09:30Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix logic in pausing file always being true.,1,[],https://github.com/uTox/uTox/pull/745,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/745#issuecomment-280185869,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,745,2017-02-15T22:57:09Z,2017-02-16T05:34:22Z,2017-08-26T13:09:30Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix logic in pausing file always being true.,1,[],https://github.com/uTox/uTox/pull/745,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/745#issuecomment-280235686,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,746,2017-02-16T00:39:16Z,2017-02-16T19:25:56Z,2017-08-26T13:09:29Z,MERGED,True,28,18,1,https://github.com/robinlinden,Don't leak memory if realloc fails.,1,[],https://github.com/uTox/uTox/pull/746,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/746,"Doesn't really matter at this point, but maybe in the future, we don't want to exit() uTox when groupchats can't realloc.
Also adds more error-checks.


This change is‚ÄÇ","Doesn't really matter at this point, but maybe in the future, we don't want to exit() uTox when groupchats can't realloc.
Also adds more error-checks.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,746,2017-02-16T00:39:16Z,2017-02-16T19:25:56Z,2017-08-26T13:09:29Z,MERGED,True,28,18,1,https://github.com/robinlinden,Don't leak memory if realloc fails.,1,[],https://github.com/uTox/uTox/pull/746,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/746#issuecomment-280191343,"Doesn't really matter at this point, but maybe in the future, we don't want to exit() uTox when groupchats can't realloc.
Also adds more error-checks.


This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/groups.c, line 185 at r1 (raw file):

            free(peer);
            LOG_ERR(""Groupchat"", ""Couldn't realloc for group peer name!"");
            exit(40);

shouldn't this be LOG_FATAL_ERR with exit code then? Also how do you decide for the 40, random?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,746,2017-02-16T00:39:16Z,2017-02-16T19:25:56Z,2017-08-26T13:09:29Z,MERGED,True,28,18,1,https://github.com/robinlinden,Don't leak memory if realloc fails.,1,[],https://github.com/uTox/uTox/pull/746,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/746#issuecomment-280194577,"Doesn't really matter at this point, but maybe in the future, we don't want to exit() uTox when groupchats can't realloc.
Also adds more error-checks.


This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/groups.c, line 185 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
shouldn't this be LOG_FATAL_ERR with exit code then? Also how do you decide for the 40, random?

You're right. We should also fix LOG_FATAL_ERR so it does its thing even if the verbosity level is 0. Right now it's just a worse LOG_ERR since we have to write the exit code twice.
Right now we don't have a system for error codes. A TODO is to add them to the debug header.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,746,2017-02-16T00:39:16Z,2017-02-16T19:25:56Z,2017-08-26T13:09:29Z,MERGED,True,28,18,1,https://github.com/robinlinden,Don't leak memory if realloc fails.,1,[],https://github.com/uTox/uTox/pull/746,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/746#issuecomment-280236037,"Doesn't really matter at this point, but maybe in the future, we don't want to exit() uTox when groupchats can't realloc.
Also adds more error-checks.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,746,2017-02-16T00:39:16Z,2017-02-16T19:25:56Z,2017-08-26T13:09:29Z,MERGED,True,28,18,1,https://github.com/robinlinden,Don't leak memory if realloc fails.,1,[],https://github.com/uTox/uTox/pull/746,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/746#issuecomment-280243039,"Doesn't really matter at this point, but maybe in the future, we don't want to exit() uTox when groupchats can't realloc.
Also adds more error-checks.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/groups.c, line 185 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You're right. We should also fix LOG_FATAL_ERR so it does its thing even if the verbosity level is 0. Right now it's just a worse LOG_ERR since we have to write the exit code twice.
Right now we don't have a system for error codes. A TODO is to add them to the debug header.

We should use FATAL_ERR() then.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,746,2017-02-16T00:39:16Z,2017-02-16T19:25:56Z,2017-08-26T13:09:29Z,MERGED,True,28,18,1,https://github.com/robinlinden,Don't leak memory if realloc fails.,1,[],https://github.com/uTox/uTox/pull/746,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/746#issuecomment-280388605,"Doesn't really matter at this point, but maybe in the future, we don't want to exit() uTox when groupchats can't realloc.
Also adds more error-checks.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/groups.c, line 185 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
We should use FATAL_ERR() then.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,747,2017-02-16T16:46:24Z,2017-02-16T23:26:15Z,2017-02-16T23:29:59Z,MERGED,True,180,94,5,https://github.com/GrayHatter,Fix FT threading issues,5,['PR: READY'],https://github.com/uTox/uTox/pull/747,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/747,"Xlib has a full featured queue system. That makes it hard to cheat.
Thus, we actually have to give it it's own copy. It' more expesive, but
it's safer.


This change is‚ÄÇ","Xlib has a full featured queue system. That makes it hard to cheat.
Thus, we actually have to give it it's own copy. It' more expesive, but
it's safer.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,747,2017-02-16T16:46:24Z,2017-02-16T23:26:15Z,2017-02-16T23:29:59Z,MERGED,True,180,94,5,https://github.com/GrayHatter,Fix FT threading issues,5,['PR: READY'],https://github.com/uTox/uTox/pull/747,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/747#issuecomment-280405918,"Xlib has a full featured queue system. That makes it hard to cheat.
Thus, we actually have to give it it's own copy. It' more expesive, but
it's safer.


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,747,2017-02-16T16:46:24Z,2017-02-16T23:26:15Z,2017-02-16T23:29:59Z,MERGED,True,180,94,5,https://github.com/GrayHatter,Fix FT threading issues,5,['PR: READY'],https://github.com/uTox/uTox/pull/747,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/747#issuecomment-280433678,"Xlib has a full featured queue system. That makes it hard to cheat.
Thus, we actually have to give it it's own copy. It' more expesive, but
it's safer.


This change is‚ÄÇ","Reviewed 5 of 5 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,747,2017-02-16T16:46:24Z,2017-02-16T23:26:15Z,2017-02-16T23:29:59Z,MERGED,True,180,94,5,https://github.com/GrayHatter,Fix FT threading issues,5,['PR: READY'],https://github.com/uTox/uTox/pull/747,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/747#issuecomment-280435794,"Xlib has a full featured queue system. That makes it hard to cheat.
Thus, we actually have to give it it's own copy. It' more expesive, but
it's safer.


This change is‚ÄÇ","Reviewed 1 of 2 files at r1, 4 of 5 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 138 at r2 (raw file):

    }

    if (ft->incoming) {

Will (almost) always be false or dereference null. (You're doing memset(ft, 0, sizeof(FILE_TRANSFER)); before this. Move this to before the memset.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,747,2017-02-16T16:46:24Z,2017-02-16T23:26:15Z,2017-02-16T23:29:59Z,MERGED,True,180,94,5,https://github.com/GrayHatter,Fix FT threading issues,5,['PR: READY'],https://github.com/uTox/uTox/pull/747,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/747#issuecomment-280437498,"Xlib has a full featured queue system. That makes it hard to cheat.
Thus, we actually have to give it it's own copy. It' more expesive, but
it's safer.


This change is‚ÄÇ","Review status: 4 of 5 files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 138 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Will (almost) always be false or dereference null. (You're doing memset(ft, 0, sizeof(FILE_TRANSFER)); before this. Move this to before the memset.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,747,2017-02-16T16:46:24Z,2017-02-16T23:26:15Z,2017-02-16T23:29:59Z,MERGED,True,180,94,5,https://github.com/GrayHatter,Fix FT threading issues,5,['PR: READY'],https://github.com/uTox/uTox/pull/747,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/747#issuecomment-280437787,"Xlib has a full featured queue system. That makes it hard to cheat.
Thus, we actually have to give it it's own copy. It' more expesive, but
it's safer.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,747,2017-02-16T16:46:24Z,2017-02-16T23:26:15Z,2017-02-16T23:29:59Z,MERGED,True,180,94,5,https://github.com/GrayHatter,Fix FT threading issues,5,['PR: READY'],https://github.com/uTox/uTox/pull/747,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/747#issuecomment-280437967,"Xlib has a full featured queue system. That makes it hard to cheat.
Thus, we actually have to give it it's own copy. It' more expesive, but
it's safer.


This change is‚ÄÇ","Reviewed 1 of 5 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,747,2017-02-16T16:46:24Z,2017-02-16T23:26:15Z,2017-02-16T23:29:59Z,MERGED,True,180,94,5,https://github.com/GrayHatter,Fix FT threading issues,5,['PR: READY'],https://github.com/uTox/uTox/pull/747,https://github.com/cebe,8,https://github.com/uTox/uTox/pull/747#issuecomment-280448208,"Xlib has a full featured queue system. That makes it hard to cheat.
Thus, we actually have to give it it's own copy. It' more expesive, but
it's safer.


This change is‚ÄÇ","Reviewed 4 of 5 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks pending.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,749,2017-02-16T19:29:48Z,2017-02-17T08:40:52Z,2017-02-17T08:55:51Z,MERGED,True,88,89,26,https://github.com/cebe,removed superflous newlines in log messages,1,[],https://github.com/uTox/uTox/pull/749,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/749,"not needed because ""\n"" is appended to each log message anyway.


This change is‚ÄÇ","not needed because ""\n"" is appended to each log message anyway.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,749,2017-02-16T19:29:48Z,2017-02-17T08:40:52Z,2017-02-17T08:55:51Z,MERGED,True,88,89,26,https://github.com/cebe,removed superflous newlines in log messages,1,[],https://github.com/uTox/uTox/pull/749,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/749#issuecomment-280436964,"not needed because ""\n"" is appended to each log message anyway.


This change is‚ÄÇ","Reviewed 26 of 26 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,749,2017-02-16T19:29:48Z,2017-02-17T08:40:52Z,2017-02-17T08:55:51Z,MERGED,True,88,89,26,https://github.com/cebe,removed superflous newlines in log messages,1,[],https://github.com/uTox/uTox/pull/749,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/749#issuecomment-280454478,"not needed because ""\n"" is appended to each log message anyway.


This change is‚ÄÇ","Reviewed 26 of 26 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,749,2017-02-16T19:29:48Z,2017-02-17T08:40:52Z,2017-02-17T08:55:51Z,MERGED,True,88,89,26,https://github.com/cebe,removed superflous newlines in log messages,1,[],https://github.com/uTox/uTox/pull/749,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/749#issuecomment-280584667,"not needed because ""\n"" is appended to each log message anyway.


This change is‚ÄÇ",rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,749,2017-02-16T19:29:48Z,2017-02-17T08:40:52Z,2017-02-17T08:55:51Z,MERGED,True,88,89,26,https://github.com/cebe,removed superflous newlines in log messages,1,[],https://github.com/uTox/uTox/pull/749,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/749#issuecomment-280585587,"not needed because ""\n"" is appended to each log message anyway.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,749,2017-02-16T19:29:48Z,2017-02-17T08:40:52Z,2017-02-17T08:55:51Z,MERGED,True,88,89,26,https://github.com/cebe,removed superflous newlines in log messages,1,[],https://github.com/uTox/uTox/pull/749,https://github.com/mannol,6,https://github.com/uTox/uTox/pull/749#issuecomment-280588893,"not needed because ""\n"" is appended to each log message anyway.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,749,2017-02-16T19:29:48Z,2017-02-17T08:40:52Z,2017-02-17T08:55:51Z,MERGED,True,88,89,26,https://github.com/cebe,removed superflous newlines in log messages,1,[],https://github.com/uTox/uTox/pull/749,https://github.com/mannol,7,https://github.com/uTox/uTox/pull/749#issuecomment-280588922,"not needed because ""\n"" is appended to each log message anyway.


This change is‚ÄÇ","Reviewed 24 of 26 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,750,2017-02-16T19:32:56Z,2017-02-17T22:10:27Z,2018-03-10T18:28:45Z,MERGED,True,24,31,14,https://github.com/endoffile78,Remove old debug macros,1,[],https://github.com/uTox/uTox/pull/750,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/750,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,750,2017-02-16T19:32:56Z,2017-02-17T22:10:27Z,2018-03-10T18:28:45Z,MERGED,True,24,31,14,https://github.com/endoffile78,Remove old debug macros,1,[],https://github.com/uTox/uTox/pull/750,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/750#issuecomment-280438216,This change is‚ÄÇ,"will conflict with @cebe's pull, but it'll be trival. No reason not to merge

Reviewed 14 of 14 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,750,2017-02-16T19:32:56Z,2017-02-17T22:10:27Z,2018-03-10T18:28:45Z,MERGED,True,24,31,14,https://github.com/endoffile78,Remove old debug macros,1,[],https://github.com/uTox/uTox/pull/750,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/750#issuecomment-280450836,This change is‚ÄÇ,"@GrayHatter merge this, I will rebase my PR then.

Reviewed 14 of 14 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,750,2017-02-16T19:32:56Z,2017-02-17T22:10:27Z,2018-03-10T18:28:45Z,MERGED,True,24,31,14,https://github.com/endoffile78,Remove old debug macros,1,[],https://github.com/uTox/uTox/pull/750,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/750#issuecomment-280451406,This change is‚ÄÇ,"Reviewed 14 of 14 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks pending.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,750,2017-02-16T19:32:56Z,2017-02-17T22:10:27Z,2018-03-10T18:28:45Z,MERGED,True,24,31,14,https://github.com/endoffile78,Remove old debug macros,1,[],https://github.com/uTox/uTox/pull/750,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/750#issuecomment-280595090,This change is‚ÄÇ,@endoffile78 re-rebase?,True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/751,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ","made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/751#issuecomment-280451736,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ","Reviewed 16 of 16 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/751#issuecomment-280452829,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ","conflicts with @endoffile78's pull to log to a file, we want to accept @endoffile78's version of LOG_FATAR, where theres' no ? exit() : exit()

Reviewed 16 of 16 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/751#issuecomment-280512900,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ","Reviewed 15 of 16 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/debug.h, line 7 at r1 (raw file):

#ifndef EXIT_SUCCESS // should be defined in stdlib.h
#define	EXIT_SUCCESS	0	/* Successful exit status.  */

Uses tabs instead of spaces.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/751#issuecomment-280513180,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ","Reviewed 1 of 16 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/cebe,6,https://github.com/uTox/uTox/pull/751#issuecomment-280520629,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/debug.h, line 7 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Uses tabs instead of spaces.

I like tabs :)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/751#issuecomment-280595389,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ",rebase or merge needed,True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/cebe,8,https://github.com/uTox/uTox/pull/751#issuecomment-280600587,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ","blocked by #737, should be rebased after that one is merged.",True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/751#issuecomment-280748886,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ",@cebe it's going now,True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/cebe,10,https://github.com/uTox/uTox/pull/751#issuecomment-280777441,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ",rebased and adjusted to latest code changes.,True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/751#issuecomment-280779268,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ","Reviewed 10 of 11 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/debug.h, line 7 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
I like tabs :)

Yeah, I don't care one way or the other. I only mentioned it because I don't see tabs in uTox's codebase. :P

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,751,2017-02-16T20:05:19Z,2017-02-20T04:31:39Z,2017-02-20T08:50:56Z,MERGED,True,36,48,15,https://github.com/cebe,"Always exit on LOG_FATAL_ERR, and convert exiting LOG_ERRs",1,[],https://github.com/uTox/uTox/pull/751,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/751#issuecomment-280779706,"made LOG_FATAL_ERR always print the error and always exit.
cleanup exit codes and use LOG_FATAL_ERR in case LOG_ERR was used with exit()
some other minor log message cleanups

fixes #748


This change is‚ÄÇ","Reviewed 10 of 11 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/debug.h, line 7 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Yeah, I don't care one way or the other. I only mentioned it because I don't see tabs in uTox's codebase. :P

tabs are evil :D

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,753,2017-02-17T06:48:01Z,2017-02-17T08:03:49Z,2017-02-17T08:26:18Z,MERGED,True,3,3,2,https://github.com/GrayHatter,Update travis script for win*,2,[],https://github.com/uTox/uTox/pull/753,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/753,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,753,2017-02-17T06:48:01Z,2017-02-17T08:03:49Z,2017-02-17T08:26:18Z,MERGED,True,3,3,2,https://github.com/GrayHatter,Update travis script for win*,2,[],https://github.com/uTox/uTox/pull/753,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/753#issuecomment-280576879,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,753,2017-02-17T06:48:01Z,2017-02-17T08:03:49Z,2017-02-17T08:26:18Z,MERGED,True,3,3,2,https://github.com/GrayHatter,Update travis script for win*,2,[],https://github.com/uTox/uTox/pull/753,https://github.com/mannol,3,https://github.com/uTox/uTox/pull/753#issuecomment-280581706,This change is‚ÄÇ,Comments from Reviewable,True,{}
uTox/uTox,https://github.com/uTox/uTox,753,2017-02-17T06:48:01Z,2017-02-17T08:03:49Z,2017-02-17T08:26:18Z,MERGED,True,3,3,2,https://github.com/GrayHatter,Update travis script for win*,2,[],https://github.com/uTox/uTox/pull/753,https://github.com/mannol,4,https://github.com/uTox/uTox/pull/753#issuecomment-280581763,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,753,2017-02-17T06:48:01Z,2017-02-17T08:03:49Z,2017-02-17T08:26:18Z,MERGED,True,3,3,2,https://github.com/GrayHatter,Update travis script for win*,2,[],https://github.com/uTox/uTox/pull/753,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/753#issuecomment-280581814,This change is‚ÄÇ,"I'm a cheater

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,754,2017-02-17T18:07:29Z,2017-02-18T04:47:18Z,2017-08-26T13:09:28Z,MERGED,True,87,64,6,https://github.com/robinlinden,Cleanup and bugfixes,4,[],https://github.com/uTox/uTox/pull/754,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/754,"The infinite loop in chatlog.c was because we were getting an int from fgetc and storing it in a char. This means that a comparison with EOF might not ever succeed on some platforms.

This change is‚ÄÇ","The infinite loop in chatlog.c was because we were getting an int from fgetc and storing it in a char. This means that a comparison with EOF might not ever succeed on some platforms.

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,754,2017-02-17T18:07:29Z,2017-02-18T04:47:18Z,2017-08-26T13:09:28Z,MERGED,True,87,64,6,https://github.com/robinlinden,Cleanup and bugfixes,4,[],https://github.com/uTox/uTox/pull/754,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/754#issuecomment-280749545,"The infinite loop in chatlog.c was because we were getting an int from fgetc and storing it in a char. This means that a comparison with EOF might not ever succeed on some platforms.

This change is‚ÄÇ","Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,754,2017-02-17T18:07:29Z,2017-02-18T04:47:18Z,2017-08-26T13:09:28Z,MERGED,True,87,64,6,https://github.com/robinlinden,Cleanup and bugfixes,4,[],https://github.com/uTox/uTox/pull/754,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/754#issuecomment-280749575,"The infinite loop in chatlog.c was because we were getting an int from fgetc and storing it in a char. This means that a comparison with EOF might not ever succeed on some platforms.

This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,754,2017-02-17T18:07:29Z,2017-02-18T04:47:18Z,2017-08-26T13:09:28Z,MERGED,True,87,64,6,https://github.com/robinlinden,Cleanup and bugfixes,4,[],https://github.com/uTox/uTox/pull/754,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/754#issuecomment-280821645,"The infinite loop in chatlog.c was because we were getting an int from fgetc and storing it in a char. This means that a comparison with EOF might not ever succeed on some platforms.

This change is‚ÄÇ","Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,756,2017-02-18T05:32:09Z,2017-02-20T04:05:56Z,2017-02-20T04:05:57Z,MERGED,True,8,8,2,https://github.com/romantic668,Update documentation,2,[],https://github.com/uTox/uTox/pull/756,https://github.com/romantic668,1,https://github.com/uTox/uTox/pull/756,"I am doing a technical writing project. I just feel readers like concise documentation more.


This change is‚ÄÇ","I am doing a technical writing project. I just feel readers like concise documentation more.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,756,2017-02-18T05:32:09Z,2017-02-20T04:05:56Z,2017-02-20T04:05:57Z,MERGED,True,8,8,2,https://github.com/romantic668,Update documentation,2,[],https://github.com/uTox/uTox/pull/756,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/756#issuecomment-280825104,"I am doing a technical writing project. I just feel readers like concise documentation more.


This change is‚ÄÇ","I am doing a technical writing project. I just feel readers like concise documentation more.

When writing from a technical stand point, or when trying to get someone else to accept your suggestion. It's generally better to avoid the word feel, instead I suggest

Concise documentation makes it easier on the reader to find the information they need without getting lost.

Either way, thank you very much! Your version is much better, and we'll merge it once we get our CI (Travis) working again.
And good luck on your project!",True,{}
uTox/uTox,https://github.com/uTox/uTox,756,2017-02-18T05:32:09Z,2017-02-20T04:05:56Z,2017-02-20T04:05:57Z,MERGED,True,8,8,2,https://github.com/romantic668,Update documentation,2,[],https://github.com/uTox/uTox/pull/756,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/756#issuecomment-280965720,"I am doing a technical writing project. I just feel readers like concise documentation more.


This change is‚ÄÇ","- I like this. Less fluff in the docs is always good. Good luck with the course!

Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,756,2017-02-18T05:32:09Z,2017-02-20T04:05:56Z,2017-02-20T04:05:57Z,MERGED,True,8,8,2,https://github.com/romantic668,Update documentation,2,[],https://github.com/uTox/uTox/pull/756,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/756#issuecomment-280966608,"I am doing a technical writing project. I just feel readers like concise documentation more.


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,757,2017-02-19T04:04:05Z,2017-02-23T18:34:17Z,2017-02-23T18:34:17Z,CLOSED,False,519,168,35,https://github.com/cebe,The first unit test,2,"['pla:xlib', 'cat:build_system']",https://github.com/uTox/uTox/pull/757,https://github.com/cebe,1,https://github.com/uTox/uTox/pull/757,"Here comes the first uTox unit test! ‚ú®
Adding a test for chatlog writing and make it possible by moving some filesystem related methods around. Added a few TODOs as the current solution is a bit hacky, these should be cleaned up. May be done in this PR or later, as you prefer.
Currently these run only on linux. Run tests after building by invoking the run_tests.sh. script.


This change is‚ÄÇ","Here comes the first uTox unit test! ‚ú®
Adding a test for chatlog writing and make it possible by moving some filesystem related methods around. Added a few TODOs as the current solution is a bit hacky, these should be cleaned up. May be done in this PR or later, as you prefer.
Currently these run only on linux. Run tests after building by invoking the run_tests.sh. script.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,757,2017-02-19T04:04:05Z,2017-02-23T18:34:17Z,2017-02-23T18:34:17Z,CLOSED,False,519,168,35,https://github.com/cebe,The first unit test,2,"['pla:xlib', 'cat:build_system']",https://github.com/uTox/uTox/pull/757,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/757#issuecomment-280894625,"Here comes the first uTox unit test! ‚ú®
Adding a test for chatlog writing and make it possible by moving some filesystem related methods around. Added a few TODOs as the current solution is a bit hacky, these should be cleaned up. May be done in this PR or later, as you prefer.
Currently these run only on linux. Run tests after building by invoking the run_tests.sh. script.


This change is‚ÄÇ","Oh well, forgot to comment that example test that is failing on purpose: https://travis-ci.org/uTox/uTox/jobs/203080553#L724 will fix that later.",True,{}
uTox/uTox,https://github.com/uTox/uTox,757,2017-02-19T04:04:05Z,2017-02-23T18:34:17Z,2017-02-23T18:34:17Z,CLOSED,False,519,168,35,https://github.com/cebe,The first unit test,2,"['pla:xlib', 'cat:build_system']",https://github.com/uTox/uTox/pull/757,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/757#issuecomment-280965540,"Here comes the first uTox unit test! ‚ú®
Adding a test for chatlog writing and make it possible by moving some filesystem related methods around. Added a few TODOs as the current solution is a bit hacky, these should be cleaned up. May be done in this PR or later, as you prefer.
Currently these run only on linux. Run tests after building by invoking the run_tests.sh. script.


This change is‚ÄÇ","Reviewed 35 of 35 files at r1.
Review status: all files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

src/filesys.h, line 27 at r1 (raw file):

 *
 * @param name file name, relative to utox storage folder.
 * @param size size of name.

This variable is written to by the function. Can be NULL if you don't care about the size.

src/settings.c, line 257 at r1 (raw file):

UTOX_SAVE *utox_data_load_utox(void) {
    size_t size = 0;
    const FILE *fp = utox_get_file((uint8_t *)""utox_save"", &size, UTOX_FILE_OPTS_READ);

Shouldn't be const. (I know, I caused this.) This is fixed in #739

src/settings.c, line 263 at r1 (raw file):

    }

    const UTOX_SAVE *save = calloc(1, size + 1);

Shouldn't be const.

tests/test_chatlog.c, line 10 at r1 (raw file):

void native_export_chatlog_init(uint32_t friend_number) {
    char* name = strdup(""chatlog_export.txt"");

Nitpick: This is never free()d.

tests/test_chatlog.c, line 23 at r1 (raw file):

int main() {

Nitpick: No blank lines after { or before }

tests/test_chatlog.c, line 36 at r1 (raw file):

    memset(&header, 0, sizeof(header));

    char* author = strdup(""tox user"");

Nitpick: This is never free()d. Same for all other strdup() strings you get.

tests/mock/mock_settings.c, line 1 at r1 (raw file):

#include ""settings.h""

Nit: These aren't sorted.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,757,2017-02-19T04:04:05Z,2017-02-23T18:34:17Z,2017-02-23T18:34:17Z,CLOSED,False,519,168,35,https://github.com/cebe,The first unit test,2,"['pla:xlib', 'cat:build_system']",https://github.com/uTox/uTox/pull/757,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/757#issuecomment-280993197,"Here comes the first uTox unit test! ‚ú®
Adding a test for chatlog writing and make it possible by moving some filesystem related methods around. Added a few TODOs as the current solution is a bit hacky, these should be cleaned up. May be done in this PR or later, as you prefer.
Currently these run only on linux. Run tests after building by invoking the run_tests.sh. script.


This change is‚ÄÇ","Reviewed 35 of 35 files at r1.
Review status: all files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,758,2017-02-19T19:55:07Z,2017-02-20T08:49:27Z,2019-01-21T09:09:05Z,MERGED,True,6,6,2,https://github.com/endoffile78,Move finding freetype to xlib's CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/758,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/758,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,758,2017-02-19T19:55:07Z,2017-02-20T08:49:27Z,2019-01-21T09:09:05Z,MERGED,True,6,6,2,https://github.com/endoffile78,Move finding freetype to xlib's CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/758,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/758#issuecomment-280985924,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,758,2017-02-19T19:55:07Z,2017-02-20T08:49:27Z,2019-01-21T09:09:05Z,MERGED,True,6,6,2,https://github.com/endoffile78,Move finding freetype to xlib's CMakeLists.txt,1,[],https://github.com/uTox/uTox/pull/758,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/758#issuecomment-281018310,This change is‚ÄÇ,"verified, seems to work. Binary is linked correctly on debian.

Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,759,2017-02-20T02:38:11Z,2017-02-21T05:42:32Z,2017-08-26T13:09:28Z,MERGED,True,29,20,2,https://github.com/robinlinden,Stop uTox from segfaulting when a peer is missing from gc.,2,[],https://github.com/uTox/uTox/pull/759,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/759,"Also fixes incorrect calloc size (we want a list of pointers to GROUP_PEER) and makes it portable. sizeof(void) is a gcc extension and invalid standard C. It should generate a compile-time error.
This doesn't fix the root cause of the groupchat crash which is that if a uTox user creates a groupchat, his own peer number is never added to the groupchat.


This change is‚ÄÇ","Also fixes incorrect calloc size (we want a list of pointers to GROUP_PEER) and makes it portable. sizeof(void) is a gcc extension and invalid standard C. It should generate a compile-time error.
This doesn't fix the root cause of the groupchat crash which is that if a uTox user creates a groupchat, his own peer number is never added to the groupchat.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,759,2017-02-20T02:38:11Z,2017-02-21T05:42:32Z,2017-08-26T13:09:28Z,MERGED,True,29,20,2,https://github.com/robinlinden,Stop uTox from segfaulting when a peer is missing from gc.,2,[],https://github.com/uTox/uTox/pull/759,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/759#issuecomment-280978335,"Also fixes incorrect calloc size (we want a list of pointers to GROUP_PEER) and makes it portable. sizeof(void) is a gcc extension and invalid standard C. It should generate a compile-time error.
This doesn't fix the root cause of the groupchat crash which is that if a uTox user creates a groupchat, his own peer number is never added to the groupchat.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/groups.c, line 69 at r1 (raw file):

uint32_t group_add_message(GROUPCHAT *g, uint32_t peer_id, const uint8_t *message, size_t length, uint8_t m_type) {
    pthread_mutex_lock(&messages_lock); /* make sure that messages has posted before we continue */
    const GROUP_PEER *peer = g->peer[peer_id];

Should we also make sure peer_id is less than MAX_GROUP_PEERS.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,759,2017-02-20T02:38:11Z,2017-02-21T05:42:32Z,2017-08-26T13:09:28Z,MERGED,True,29,20,2,https://github.com/robinlinden,Stop uTox from segfaulting when a peer is missing from gc.,2,[],https://github.com/uTox/uTox/pull/759,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/759#issuecomment-280985361,"Also fixes incorrect calloc size (we want a list of pointers to GROUP_PEER) and makes it portable. sizeof(void) is a gcc extension and invalid standard C. It should generate a compile-time error.
This doesn't fix the root cause of the groupchat crash which is that if a uTox user creates a groupchat, his own peer number is never added to the groupchat.


This change is‚ÄÇ","LGTM once +@endoffile78's comment is fixed

Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,759,2017-02-20T02:38:11Z,2017-02-21T05:42:32Z,2017-08-26T13:09:28Z,MERGED,True,29,20,2,https://github.com/robinlinden,Stop uTox from segfaulting when a peer is missing from gc.,2,[],https://github.com/uTox/uTox/pull/759,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/759#issuecomment-281219294,"Also fixes incorrect calloc size (we want a list of pointers to GROUP_PEER) and makes it portable. sizeof(void) is a gcc extension and invalid standard C. It should generate a compile-time error.
This doesn't fix the root cause of the groupchat crash which is that if a uTox user creates a groupchat, his own peer number is never added to the groupchat.


This change is‚ÄÇ","Review status: 0 of 2 files reviewed at latest revision, 1 unresolved discussion.

src/groups.c, line 69 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Should we also make sure peer_id is less than MAX_GROUP_PEERS.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,759,2017-02-20T02:38:11Z,2017-02-21T05:42:32Z,2017-08-26T13:09:28Z,MERGED,True,29,20,2,https://github.com/robinlinden,Stop uTox from segfaulting when a peer is missing from gc.,2,[],https://github.com/uTox/uTox/pull/759,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/759#issuecomment-281229067,"Also fixes incorrect calloc size (we want a list of pointers to GROUP_PEER) and makes it portable. sizeof(void) is a gcc extension and invalid standard C. It should generate a compile-time error.
This doesn't fix the root cause of the groupchat crash which is that if a uTox user creates a groupchat, his own peer number is never added to the groupchat.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,759,2017-02-20T02:38:11Z,2017-02-21T05:42:32Z,2017-08-26T13:09:28Z,MERGED,True,29,20,2,https://github.com/robinlinden,Stop uTox from segfaulting when a peer is missing from gc.,2,[],https://github.com/uTox/uTox/pull/759,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/759#issuecomment-281243305,"Also fixes incorrect calloc size (we want a list of pointers to GROUP_PEER) and makes it portable. sizeof(void) is a gcc extension and invalid standard C. It should generate a compile-time error.
This doesn't fix the root cause of the groupchat crash which is that if a uTox user creates a groupchat, his own peer number is never added to the groupchat.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,760,2017-02-20T09:10:10Z,2017-02-21T06:04:52Z,2017-02-21T08:56:07Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Simple flow fixes for chatlog reading,0,[],https://github.com/uTox/uTox/pull/760,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/760,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,760,2017-02-20T09:10:10Z,2017-02-21T06:04:52Z,2017-02-21T08:56:07Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Simple flow fixes for chatlog reading,0,[],https://github.com/uTox/uTox/pull/760,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/760#issuecomment-281024798,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,760,2017-02-20T09:10:10Z,2017-02-21T06:04:52Z,2017-02-21T08:56:07Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Simple flow fixes for chatlog reading,0,[],https://github.com/uTox/uTox/pull/760,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/760#issuecomment-281100836,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,760,2017-02-20T09:10:10Z,2017-02-21T06:04:52Z,2017-02-21T08:56:07Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Simple flow fixes for chatlog reading,0,[],https://github.com/uTox/uTox/pull/760,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/760#issuecomment-281208751,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,760,2017-02-20T09:10:10Z,2017-02-21T06:04:52Z,2017-02-21T08:56:07Z,CLOSED,False,0,0,0,https://github.com/GrayHatter,Simple flow fixes for chatlog reading,0,[],https://github.com/uTox/uTox/pull/760,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/760#issuecomment-281253530,This change is‚ÄÇ,rebased and merged out of order,True,{}
uTox/uTox,https://github.com/uTox/uTox,761,2017-02-20T17:53:47Z,2017-02-21T06:09:09Z,2018-03-10T18:28:56Z,MERGED,True,9,0,2,https://github.com/endoffile78,Add an option to allow disable the updater,1,[],https://github.com/uTox/uTox/pull/761,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/761,"Fixes #683

This change is‚ÄÇ","Fixes #683

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,761,2017-02-20T17:53:47Z,2017-02-21T06:09:09Z,2018-03-10T18:28:56Z,MERGED,True,9,0,2,https://github.com/endoffile78,Add an option to allow disable the updater,1,[],https://github.com/uTox/uTox/pull/761,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/761#issuecomment-281145514,"Fixes #683

This change is‚ÄÇ",,True,{}
uTox/uTox,https://github.com/uTox/uTox,761,2017-02-20T17:53:47Z,2017-02-21T06:09:09Z,2018-03-10T18:28:56Z,MERGED,True,9,0,2,https://github.com/endoffile78,Add an option to allow disable the updater,1,[],https://github.com/uTox/uTox/pull/761,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/761#issuecomment-281165225,"Fixes #683

This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,761,2017-02-20T17:53:47Z,2017-02-21T06:09:09Z,2018-03-10T18:28:56Z,MERGED,True,9,0,2,https://github.com/endoffile78,Add an option to allow disable the updater,1,[],https://github.com/uTox/uTox/pull/761,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/761#issuecomment-281253947,"Fixes #683

This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,762,2017-02-20T18:25:19Z,2017-02-20T19:02:03Z,2017-02-20T19:02:03Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Fix outgoing images,1,[],https://github.com/uTox/uTox/pull/762,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/762,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,762,2017-02-20T18:25:19Z,2017-02-20T19:02:03Z,2017-02-20T19:02:03Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Fix outgoing images,1,[],https://github.com/uTox/uTox/pull/762,https://github.com/fcore117,2,https://github.com/uTox/uTox/pull/762#issuecomment-281150438,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,762,2017-02-20T18:25:19Z,2017-02-20T19:02:03Z,2017-02-20T19:02:03Z,MERGED,True,4,2,1,https://github.com/GrayHatter,Fix outgoing images,1,[],https://github.com/uTox/uTox/pull/762,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/762#issuecomment-281150659,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,763,2017-02-20T19:53:19Z,2017-02-21T05:41:54Z,2017-04-24T04:39:17Z,MERGED,True,27,20,1,https://github.com/GrayHatter,FT make file counting more roubust,1,[],https://github.com/uTox/uTox/pull/763,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/763,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,763,2017-02-20T19:53:19Z,2017-02-21T05:41:54Z,2017-04-24T04:39:17Z,MERGED,True,27,20,1,https://github.com/GrayHatter,FT make file counting more roubust,1,[],https://github.com/uTox/uTox/pull/763,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/763#issuecomment-281168757,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,763,2017-02-20T19:53:19Z,2017-02-21T05:41:54Z,2017-04-24T04:39:17Z,MERGED,True,27,20,1,https://github.com/GrayHatter,FT make file counting more roubust,1,[],https://github.com/uTox/uTox/pull/763,https://github.com/fcore117,3,https://github.com/uTox/uTox/pull/763#issuecomment-281200362,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,763,2017-02-20T19:53:19Z,2017-02-21T05:41:54Z,2017-04-24T04:39:17Z,MERGED,True,27,20,1,https://github.com/GrayHatter,FT make file counting more roubust,1,[],https://github.com/uTox/uTox/pull/763,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/763#issuecomment-281226743,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,763,2017-02-20T19:53:19Z,2017-02-21T05:41:54Z,2017-04-24T04:39:17Z,MERGED,True,27,20,1,https://github.com/GrayHatter,FT make file counting more roubust,1,[],https://github.com/uTox/uTox/pull/763,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/763#issuecomment-281228450,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,766,2017-02-21T03:07:02Z,2017-02-21T05:44:57Z,2017-08-26T13:09:28Z,MERGED,True,28,10,5,https://github.com/robinlinden,Release v0.13.0,1,[],https://github.com/uTox/uTox/pull/766,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/766,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,766,2017-02-21T03:07:02Z,2017-02-21T05:44:57Z,2017-08-26T13:09:28Z,MERGED,True,28,10,5,https://github.com/robinlinden,Release v0.13.0,1,[],https://github.com/uTox/uTox/pull/766,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/766#issuecomment-281243454,This change is‚ÄÇ,"Update the version in the man file too.

Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,766,2017-02-21T03:07:02Z,2017-02-21T05:44:57Z,2017-08-26T13:09:28Z,MERGED,True,28,10,5,https://github.com/robinlinden,Release v0.13.0,1,[],https://github.com/uTox/uTox/pull/766,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/766#issuecomment-281250977,This change is‚ÄÇ,"Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,767,2017-02-21T05:45:37Z,2017-02-21T05:48:27Z,2017-02-21T05:48:27Z,MERGED,True,8664,6127,159,https://github.com/GrayHatter,v0.13.0 ,171,[],https://github.com/uTox/uTox/pull/767,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/767,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,767,2017-02-21T05:45:37Z,2017-02-21T05:48:27Z,2017-02-21T05:48:27Z,MERGED,True,8664,6127,159,https://github.com/GrayHatter,v0.13.0 ,171,[],https://github.com/uTox/uTox/pull/767,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/767#issuecomment-281251187,This change is‚ÄÇ,"Reviewed 159 of 159 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,767,2017-02-21T05:45:37Z,2017-02-21T05:48:27Z,2017-02-21T05:48:27Z,MERGED,True,8664,6127,159,https://github.com/GrayHatter,v0.13.0 ,171,[],https://github.com/uTox/uTox/pull/767,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/767#issuecomment-281251369,This change is‚ÄÇ,"Reviewed 159 of 159 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,772,2017-02-23T18:34:03Z,2017-04-07T04:15:03Z,2017-04-07T04:15:08Z,CLOSED,False,3777,1876,140,https://github.com/GrayHatter,uTox has moved to Gitlab.org as a trial for v0.14,137,[],https://github.com/uTox/uTox/pull/772,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/772,"https://gitlab.com/uTox/uTox
DO NOT MERGE


This change is‚ÄÇ","https://gitlab.com/uTox/uTox
DO NOT MERGE


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,773,2017-02-23T19:04:19Z,2017-02-23T21:02:27Z,2017-02-23T21:02:27Z,MERGED,True,686,77,28,https://github.com/GrayHatter,Gitlab,21,[],https://github.com/uTox/uTox/pull/773,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/773,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,773,2017-02-23T19:04:19Z,2017-02-23T21:02:27Z,2017-02-23T21:02:27Z,MERGED,True,686,77,28,https://github.com/GrayHatter,Gitlab,21,[],https://github.com/uTox/uTox/pull/773,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/773#issuecomment-282089289,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

.gitlab-ci.yml, line 24 at r1 (raw file):

    - ./travis/windows-before.sh
  script:
    - ./travis/windows-script.sh

why is osx not in here?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,773,2017-02-23T19:04:19Z,2017-02-23T21:02:27Z,2017-02-23T21:02:27Z,MERGED,True,686,77,28,https://github.com/GrayHatter,Gitlab,21,[],https://github.com/uTox/uTox/pull/773,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/773#issuecomment-282093683,This change is‚ÄÇ,"Review status: 0 of 28 files reviewed at latest revision, 1 unresolved discussion.

.gitlab-ci.yml, line 24 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
why is osx not in here?

is now

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,773,2017-02-23T19:04:19Z,2017-02-23T21:02:27Z,2017-02-23T21:02:27Z,MERGED,True,686,77,28,https://github.com/GrayHatter,Gitlab,21,[],https://github.com/uTox/uTox/pull/773,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/773#issuecomment-282093978,This change is‚ÄÇ,"Reviewed 36 of 40 files at r2.
Review status: 24 of 28 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,773,2017-02-23T19:04:19Z,2017-02-23T21:02:27Z,2017-02-23T21:02:27Z,MERGED,True,686,77,28,https://github.com/GrayHatter,Gitlab,21,[],https://github.com/uTox/uTox/pull/773,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/773#issuecomment-282094963,This change is‚ÄÇ,"Reviewed 40 of 40 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,773,2017-02-23T19:04:19Z,2017-02-23T21:02:27Z,2017-02-23T21:02:27Z,MERGED,True,686,77,28,https://github.com/GrayHatter,Gitlab,21,[],https://github.com/uTox/uTox/pull/773,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/773#issuecomment-282119332,This change is‚ÄÇ,"Reviewed 40 of 40 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

extra/travis/env.sh, line 6 at r2 (raw file):

export TOXCORE_REPO=TokTok/c-toxcore
export CACHE_DIR=$CACHE_DIR

Should still be $HOME/cache if Travis is to function, but per IRC with @GrayHatter, that won't be done in this PR.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,774,2017-02-23T19:05:15Z,2017-02-23T21:24:26Z,2017-02-23T21:24:26Z,MERGED,True,698,87,31,https://github.com/GrayHatter,v0.13.1 to master,23,[],https://github.com/uTox/uTox/pull/774,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/774,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,774,2017-02-23T19:05:15Z,2017-02-23T21:24:26Z,2017-02-23T21:24:26Z,MERGED,True,698,87,31,https://github.com/GrayHatter,v0.13.1 to master,23,[],https://github.com/uTox/uTox/pull/774,https://github.com/cebe,2,https://github.com/uTox/uTox/pull/774#issuecomment-282089631,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,774,2017-02-23T19:05:15Z,2017-02-23T21:24:26Z,2017-02-23T21:24:26Z,MERGED,True,698,87,31,https://github.com/GrayHatter,v0.13.1 to master,23,[],https://github.com/uTox/uTox/pull/774,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/774#issuecomment-282089658,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,774,2017-02-23T19:05:15Z,2017-02-23T21:24:26Z,2017-02-23T21:24:26Z,MERGED,True,698,87,31,https://github.com/GrayHatter,v0.13.1 to master,23,[],https://github.com/uTox/uTox/pull/774,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/774#issuecomment-282120182,This change is‚ÄÇ,@robinlinden @cebe,True,{}
uTox/uTox,https://github.com/uTox/uTox,774,2017-02-23T19:05:15Z,2017-02-23T21:24:26Z,2017-02-23T21:24:26Z,MERGED,True,698,87,31,https://github.com/GrayHatter,v0.13.1 to master,23,[],https://github.com/uTox/uTox/pull/774,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/774#issuecomment-282120277,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1, 1 of 2 files at r2, 40 of 40 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,774,2017-02-23T19:05:15Z,2017-02-23T21:24:26Z,2017-02-23T21:24:26Z,MERGED,True,698,87,31,https://github.com/GrayHatter,v0.13.1 to master,23,[],https://github.com/uTox/uTox/pull/774,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/774#issuecomment-282122698,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1, 1 of 2 files at r2, 40 of 40 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,785,2017-03-12T13:04:13Z,2017-03-12T18:25:32Z,2017-03-12T18:25:32Z,MERGED,True,2091,1213,85,https://github.com/robinlinden,Mirror changes done on GitLab to GitHub.,53,[],https://github.com/uTox/uTox/pull/785,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/785,"This is mainly so that the build.tox.chat static analysers will have a recent-ish version of the code.

This change is‚ÄÇ","This is mainly so that the build.tox.chat static analysers will have a recent-ish version of the code.

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,785,2017-03-12T13:04:13Z,2017-03-12T18:25:32Z,2017-03-12T18:25:32Z,MERGED,True,2091,1213,85,https://github.com/robinlinden,Mirror changes done on GitLab to GitHub.,53,[],https://github.com/uTox/uTox/pull/785,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/785#issuecomment-285943355,"This is mainly so that the build.tox.chat static analysers will have a recent-ish version of the code.

This change is‚ÄÇ","Reviewed 85 of 85 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,785,2017-03-12T13:04:13Z,2017-03-12T18:25:32Z,2017-03-12T18:25:32Z,MERGED,True,2091,1213,85,https://github.com/robinlinden,Mirror changes done on GitLab to GitHub.,53,[],https://github.com/uTox/uTox/pull/785,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/785#issuecomment-285943388,"This is mainly so that the build.tox.chat static analysers will have a recent-ish version of the code.

This change is‚ÄÇ",travis will fail...,True,{}
uTox/uTox,https://github.com/uTox/uTox,785,2017-03-12T13:04:13Z,2017-03-12T18:25:32Z,2017-03-12T18:25:32Z,MERGED,True,2091,1213,85,https://github.com/robinlinden,Mirror changes done on GitLab to GitHub.,53,[],https://github.com/uTox/uTox/pull/785,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/785#issuecomment-285957893,"This is mainly so that the build.tox.chat static analysers will have a recent-ish version of the code.

This change is‚ÄÇ",make sure to not create a merge commit from this one so gitlab and github have the same commit hashes.,True,{}
uTox/uTox,https://github.com/uTox/uTox,785,2017-03-12T13:04:13Z,2017-03-12T18:25:32Z,2017-03-12T18:25:32Z,MERGED,True,2091,1213,85,https://github.com/robinlinden,Mirror changes done on GitLab to GitHub.,53,[],https://github.com/uTox/uTox/pull/785,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/785#issuecomment-285963519,"This is mainly so that the build.tox.chat static analysers will have a recent-ish version of the code.

This change is‚ÄÇ","Reviewed 85 of 85 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,786,2017-03-13T14:24:47Z,2017-03-20T17:45:50Z,2017-03-20T17:45:50Z,MERGED,True,18,4,1,https://github.com/robinlinden,Mirror @cebe's build fixes for gcc from GitLab to GitHub,2,[],https://github.com/uTox/uTox/pull/786,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/786,"This should fix our .deb packaging.


This change is‚ÄÇ","This should fix our .deb packaging.


This change is‚ÄÇ",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,786,2017-03-13T14:24:47Z,2017-03-20T17:45:50Z,2017-03-20T17:45:50Z,MERGED,True,18,4,1,https://github.com/robinlinden,Mirror @cebe's build fixes for gcc from GitLab to GitHub,2,[],https://github.com/uTox/uTox/pull/786,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/786#issuecomment-286203322,"This should fix our .deb packaging.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,786,2017-03-13T14:24:47Z,2017-03-20T17:45:50Z,2017-03-20T17:45:50Z,MERGED,True,18,4,1,https://github.com/robinlinden,Mirror @cebe's build fixes for gcc from GitLab to GitHub,2,[],https://github.com/uTox/uTox/pull/786,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/786#issuecomment-286204469,"This should fix our .deb packaging.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

CMakeLists.txt, line 90 at r1 (raw file):

    # Have ld strip the symbols from Release and MinSizeRel build types.
    set(CMAKE_C_FLAGS_RELEASE ""${CMAKE_C_FLAGS_RELEASE} -Os"")
    set(CMAKE_C_FLAGS_MINSIZEREL ""${CMAKE_C_FLAGS_RELEASE} -Os"")

oh, this is wrong!

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,786,2017-03-13T14:24:47Z,2017-03-20T17:45:50Z,2017-03-20T17:45:50Z,MERGED,True,18,4,1,https://github.com/robinlinden,Mirror @cebe's build fixes for gcc from GitLab to GitHub,2,[],https://github.com/uTox/uTox/pull/786,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/786#issuecomment-286204650,"This should fix our .deb packaging.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

CMakeLists.txt, line 100 at r1 (raw file):

    # Have ld strip the symbols from MinSizeRel build types. (-Oz is clang specific)
    set(CMAKE_C_FLAGS_RELEASE ""${CMAKE_C_FLAGS_RELEASE} -Os"")
    set(CMAKE_C_FLAGS_MINSIZEREL ""${CMAKE_C_FLAGS_RELEASE} -Oz"")

same here! reviewable diffs are much nicer than gitlab...

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,786,2017-03-13T14:24:47Z,2017-03-20T17:45:50Z,2017-03-20T17:45:50Z,MERGED,True,18,4,1,https://github.com/robinlinden,Mirror @cebe's build fixes for gcc from GitLab to GitHub,2,[],https://github.com/uTox/uTox/pull/786,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/786#issuecomment-286214685,"This should fix our .deb packaging.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

CMakeLists.txt, line 90 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
oh, this is wrong!

fixed by https://gitlab.com/uTox/uTox/merge_requests/796/diffs pull the commit into this branch before we merge it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,786,2017-03-13T14:24:47Z,2017-03-20T17:45:50Z,2017-03-20T17:45:50Z,MERGED,True,18,4,1,https://github.com/robinlinden,Mirror @cebe's build fixes for gcc from GitLab to GitHub,2,[],https://github.com/uTox/uTox/pull/786,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/786#issuecomment-286218667,"This should fix our .deb packaging.


This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 90 at r1 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
fixed by https://gitlab.com/uTox/uTox/merge_requests/796/diffs pull the commit into this branch before we merge it.

Done. This should be ready to merge now.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,786,2017-03-13T14:24:47Z,2017-03-20T17:45:50Z,2017-03-20T17:45:50Z,MERGED,True,18,4,1,https://github.com/robinlinden,Mirror @cebe's build fixes for gcc from GitLab to GitHub,2,[],https://github.com/uTox/uTox/pull/786,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/786#issuecomment-286224682,"This should fix our .deb packaging.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

CMakeLists.txt, line 106 at r2 (raw file):

    # Have ld strip the symbols from Release and MinSizeRel build types. (-Oz is clang specific)
    set(CMAKE_C_FLAGS_RELEASE ""${CMAKE_C_FLAGS_RELEASE} -Os"")

FYI, this can be lifted one indent, it's the same on GCC and clang

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,786,2017-03-13T14:24:47Z,2017-03-20T17:45:50Z,2017-03-20T17:45:50Z,MERGED,True,18,4,1,https://github.com/robinlinden,Mirror @cebe's build fixes for gcc from GitLab to GitHub,2,[],https://github.com/uTox/uTox/pull/786,https://github.com/cebe,8,https://github.com/uTox/uTox/pull/786#issuecomment-286238263,"This should fix our .deb packaging.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 106 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
FYI, this can be lifted one indent, it's the same on GCC and clang

yes but we'd need to duplicate the comment and it would be far away from the MINSIZEREL line so one would not notice they are related. I'd keep it like this.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,786,2017-03-13T14:24:47Z,2017-03-20T17:45:50Z,2017-03-20T17:45:50Z,MERGED,True,18,4,1,https://github.com/robinlinden,Mirror @cebe's build fixes for gcc from GitLab to GitHub,2,[],https://github.com/uTox/uTox/pull/786,https://github.com/cebe,9,https://github.com/uTox/uTox/pull/786#issuecomment-286238286,"This should fix our .deb packaging.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/Quix0r,1,https://github.com/uTox/uTox/pull/791,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ",True,{'THUMBS_UP': ['https://github.com/endoffile78']}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/791#issuecomment-292011189,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","please be aware of the following pulls on gitlab
I don't think any are blocking, and I'm planning to merge this when it's ready, I just want you to be aware of the other work that's not yet on github
https://gitlab.com/uTox/uTox/merge_requests/817
https://gitlab.com/uTox/uTox/merge_requests/779
https://gitlab.com/uTox/uTox/merge_requests/828
https://gitlab.com/uTox/uTox/merge_requests/827
https://gitlab.com/uTox/uTox/merge_requests/789",True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/791#issuecomment-292095933,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","Reviewed 15 of 15 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks broke.

CMakeLists.txt, line 299 at r1 (raw file):

target_link_libraries(utox
        ${TOXCORE_LIBRARY}

this is duplicate with ${TOX_LIBS} below.

cmake/FindToxcore.cmake, line 33 at r1 (raw file):

    /usr
    /opt
    /usr/local

order of lib directories should be the same as order of headers to make sure the headers match the lib.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/Quix0r,4,https://github.com/uTox/uTox/pull/791#issuecomment-292197197,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","I did not know how to deal with TOX_LIBS. Okay, that directory order needs fixing (in Simgear, too then).
See logfile:
https://s3.amazonaws.com/archive.travis-ci.org/jobs/219042528/log.txt
Now I know, why filter_audio.h is not there ... ;-) And can Travis do out-of-source builds?",True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/Quix0r,5,https://github.com/uTox/uTox/pull/791#issuecomment-292260011,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","Okay, sorted libs/includes. But how should I deal with TOX_LIBS? Removing mine will make the whole cmake module needless which I try to rewrite here. I need more input than this.
Having development on two places makes it even harder. :-(",True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/791#issuecomment-292649779,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ",FYI develop was just updated to v0.14,True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/791#issuecomment-292683145,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","Enforcing out-of-source builds would be great, but this fails on Windows with the message about Toxcore not being found.",True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/791#issuecomment-292683212,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","Reviewed 14 of 15 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/Quix0r,9,https://github.com/uTox/uTox/pull/791#issuecomment-292751321,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","Oh, conflicts again ... Will solve them tomorrow. Maybe Windows needs another approach of finding Toxcore? Does someone know how? No expert here. :-)",True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/Quix0r,10,https://github.com/uTox/uTox/pull/791#issuecomment-292751838,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ",Fixed conflicts. Looks like CMakeList.txt has changed where the configure summary is being written.,True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/791#issuecomment-292752009,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","Reviewed 2 of 15 files at r1, 6 of 6 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{'THUMBS_UP': ['https://github.com/Quix0r']}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/791#issuecomment-292752132,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","I'm not 100% sure how to do it on Windows either. What we came up for when we tried to do this with libsodium for toktok/c-toxcore is this: https://github.com/TokTok/c-toxcore/blob/master/cmake/Dependencies.cmake#L38
Might be of some help. :) Right now, we're dumping the Windows libraries in $UTOX_ROOT/libs/windows-x64/",True,{'THUMBS_UP': ['https://github.com/Quix0r']}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/Quix0r,13,https://github.com/uTox/uTox/pull/791#issuecomment-292752289,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","Can then someone write that for Toxcore? I would like to have the detection of it modularized, so distributions can take the cmake module and place it in their typical path.
Or at least can someone give me directions? I don't do Windows. ;-)
How can I tag or label it? ""improvement needed"" or ""help wanted"" or both?",True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/endoffile78,14,https://github.com/uTox/uTox/pull/791#issuecomment-292795911,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ",@Quix0r I added a Help Needed label.,True,{'THUMBS_UP': ['https://github.com/Quix0r']}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/Quix0r,15,https://github.com/uTox/uTox/pull/791#issuecomment-294169189,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ",@endoffile78 Thank you. :-),True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/publicarray,16,https://github.com/uTox/uTox/pull/791#issuecomment-296839547,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ",I had an attempt at writing a find toxcore module here. I used the cmake wiki for inspiration : https://cmake.org/Wiki/CMake:How_To_Find_Libraries#Writing_find_modules. Unfortunately I don't have windows so I can't test this.,True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/Quix0r,17,https://github.com/uTox/uTox/pull/791#issuecomment-302165508,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","Uff, now is pre-summer time ... Not lost from radar!",True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/GrayHatter,18,https://github.com/uTox/uTox/pull/791#issuecomment-323605050,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","anyone want to take ownership of this
@E0F maybe?",True,{}
uTox/uTox,https://github.com/uTox/uTox,791,2017-04-05T20:59:52Z,2019-03-10T11:54:12Z,2019-03-10T11:54:12Z,CLOSED,False,25,0,2,https://github.com/Quix0r,[WIP] Prevent in-source builds and enforce out-of-source builds,3,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/791,https://github.com/Quix0r,19,https://github.com/uTox/uTox/pull/791#issuecomment-326124728,"This PR changes the following this:

cmake module added for detection of toxcore
CMakeLists.txt is now ""scanning"" cmake/ directory for modules (not recursive)
moved Windows-related cmake files to sub-folder (to have them away for above mentioned loader)
removed + ignored auto-generated files as this leads to dirty checkout directory
I don't know if GNUInstallDirs is really changing somthing, but FlightGear uses it?
Toxcore now must be found (indeed needed)
DO NOT MERGE! WIP!



This change is‚ÄÇ","I would be cool to have it, preventing checkout directory being polluted by build files.",True,{}
uTox/uTox,https://github.com/uTox/uTox,792,2017-04-07T04:16:15Z,2017-04-07T20:50:23Z,2017-04-24T04:39:11Z,MERGED,True,3693,1990,154,https://github.com/GrayHatter,Update develop with develop from gitlab (We're back),164,[],https://github.com/uTox/uTox/pull/792,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/792,"@robinlinden @endoffile78 @cebe


This change is‚ÄÇ","@robinlinden @endoffile78 @cebe


This change is‚ÄÇ",True,{'CONFUSED': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,792,2017-04-07T04:16:15Z,2017-04-07T20:50:23Z,2017-04-24T04:39:11Z,MERGED,True,3693,1990,154,https://github.com/GrayHatter,Update develop with develop from gitlab (We're back),164,[],https://github.com/uTox/uTox/pull/792,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/792#issuecomment-292431482,"@robinlinden @endoffile78 @cebe


This change is‚ÄÇ","Reviewed 156 of 156 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,792,2017-04-07T04:16:15Z,2017-04-07T20:50:23Z,2017-04-24T04:39:11Z,MERGED,True,3693,1990,154,https://github.com/GrayHatter,Update develop with develop from gitlab (We're back),164,[],https://github.com/uTox/uTox/pull/792,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/792#issuecomment-292619863,"@robinlinden @endoffile78 @cebe


This change is‚ÄÇ","Reviewed 156 of 156 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,796,2017-04-07T20:48:18Z,2017-04-07T20:56:17Z,2017-04-07T23:05:46Z,CLOSED,False,3923,2111,156,https://github.com/robinlinden,Fix a lot of the issues found on coverity.,170,[],https://github.com/uTox/uTox/pull/796,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/796,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,797,2017-04-07T22:06:21Z,2017-04-07T23:05:33Z,2017-04-07T23:05:45Z,MERGED,True,191,92,11,https://github.com/robinlinden,Fix a lot of the issues found on coverity.,2,[],https://github.com/uTox/uTox/pull/797,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/797,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,797,2017-04-07T22:06:21Z,2017-04-07T23:05:33Z,2017-04-07T23:05:45Z,MERGED,True,191,92,11,https://github.com/robinlinden,Fix a lot of the issues found on coverity.,2,[],https://github.com/uTox/uTox/pull/797,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/797#issuecomment-292665180,This change is‚ÄÇ,"Reviewed 11 of 11 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/filesys.c, line 21 at r1 (raw file):

}

void *file_raw(char *path, uint32_t *size) {

fyi #798

src/friend.c, line 357 at r1 (raw file):

        memcpy(f->alias, alias, length);
        f->alias_length           = length;
        f->alias[f->alias_length] = 0;

why was this dropped?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,797,2017-04-07T22:06:21Z,2017-04-07T23:05:33Z,2017-04-07T23:05:45Z,MERGED,True,191,92,11,https://github.com/robinlinden,Fix a lot of the issues found on coverity.,2,[],https://github.com/uTox/uTox/pull/797,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/797#issuecomment-292667143,This change is‚ÄÇ,"Reviewed 11 of 11 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,797,2017-04-07T22:06:21Z,2017-04-07T23:05:33Z,2017-04-07T23:05:45Z,MERGED,True,191,92,11,https://github.com/robinlinden,Fix a lot of the issues found on coverity.,2,[],https://github.com/uTox/uTox/pull/797,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/797#issuecomment-292667225,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/filesys.c, line 21 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
fyi #798

Will open a second PR doing that unless someone beats me to it.

src/friend.c, line 357 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why was this dropped?

calloc zeros it for us. I can add it back if you want to make it extra clear that it's a null-terminated string.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,797,2017-04-07T22:06:21Z,2017-04-07T23:05:33Z,2017-04-07T23:05:45Z,MERGED,True,191,92,11,https://github.com/robinlinden,Fix a lot of the issues found on coverity.,2,[],https://github.com/uTox/uTox/pull/797,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/797#issuecomment-292671664,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks broke.

src/friend.c, line 357 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
calloc zeros it for us. I can add it back if you want to make it extra clear that it's a null-terminated string.

nope, we're good!

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,799,2017-04-07T23:02:05Z,2017-04-17T01:51:03Z,2018-03-10T18:28:55Z,MERGED,True,105,128,15,https://github.com/endoffile78,Fix travis,3,[],https://github.com/uTox/uTox/pull/799,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/799,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,799,2017-04-07T23:02:05Z,2017-04-17T01:51:03Z,2018-03-10T18:28:55Z,MERGED,True,105,128,15,https://github.com/endoffile78,Fix travis,3,[],https://github.com/uTox/uTox/pull/799,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/799#issuecomment-292673161,This change is‚ÄÇ,"Reviewed 7 of 7 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,799,2017-04-07T23:02:05Z,2017-04-17T01:51:03Z,2018-03-10T18:28:55Z,MERGED,True,105,128,15,https://github.com/endoffile78,Fix travis,3,[],https://github.com/uTox/uTox/pull/799,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/799#issuecomment-292674029,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: 7 of 8 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,799,2017-04-07T23:02:05Z,2017-04-17T01:51:03Z,2018-03-10T18:28:55Z,MERGED,True,105,128,15,https://github.com/endoffile78,Fix travis,3,[],https://github.com/uTox/uTox/pull/799,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/799#issuecomment-292674354,This change is‚ÄÇ,"Reviewed 6 of 7 files at r1, 1 of 1 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,799,2017-04-07T23:02:05Z,2017-04-17T01:51:03Z,2018-03-10T18:28:55Z,MERGED,True,105,128,15,https://github.com/endoffile78,Fix travis,3,[],https://github.com/uTox/uTox/pull/799,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/799#issuecomment-292710032,This change is‚ÄÇ,"Reviewed 5 of 5 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,799,2017-04-07T23:02:05Z,2017-04-17T01:51:03Z,2018-03-10T18:28:55Z,MERGED,True,105,128,15,https://github.com/endoffile78,Fix travis,3,[],https://github.com/uTox/uTox/pull/799,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/799#issuecomment-294266467,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3, 1 of 5 files at r4, 6 of 6 files at r5.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

extra/common/filter_audio.sh, line 5 at r5 (raw file):

set -eux

. ./extra/travis/env.sh

don't include travis/ from common

extra/travis/windows-before.sh, line 75 at r5 (raw file):

# filter_audio
export CC=x86_64-w64-mingw32-gcc

I'm not sure about this, let me look into it

src/tox.c, line 36 at r5 (raw file):

#include <stdlib.h>
#include <string.h>
#include <tox/tox.h>

why wasn't this failing before?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,799,2017-04-07T23:02:05Z,2017-04-17T01:51:03Z,2018-03-10T18:28:55Z,MERGED,True,105,128,15,https://github.com/endoffile78,Fix travis,3,[],https://github.com/uTox/uTox/pull/799,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/799#issuecomment-294266834,This change is‚ÄÇ,"Reviewed 1 of 1 files at r6.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

extra/common/filter_audio.sh, line 5 at r5 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
don't include travis/ from common

LGTM

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,799,2017-04-07T23:02:05Z,2017-04-17T01:51:03Z,2018-03-10T18:28:55Z,MERGED,True,105,128,15,https://github.com/endoffile78,Fix travis,3,[],https://github.com/uTox/uTox/pull/799,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/799#issuecomment-294266851,This change is‚ÄÇ,"Reviewed 1 of 5 files at r4.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,799,2017-04-07T23:02:05Z,2017-04-17T01:51:03Z,2018-03-10T18:28:55Z,MERGED,True,105,128,15,https://github.com/endoffile78,Fix travis,3,[],https://github.com/uTox/uTox/pull/799,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/799#issuecomment-294266869,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks broke.

extra/common/filter_audio.sh, line 5 at r5 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
don't include travis/ from common

Done.

extra/travis/windows-before.sh, line 75 at r5 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I'm not sure about this, let me look into it

Yeah I'm not really sure why its that way I just copied that part over from the gitlab script.

src/tox.c, line 36 at r5 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why wasn't this failing before?

This actually isnt needed main.h includes tox.h. I added it when I was trying to find the fix for the toxencryptsave linker error. I can get rid of if you want me to.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,799,2017-04-07T23:02:05Z,2017-04-17T01:51:03Z,2018-03-10T18:28:55Z,MERGED,True,105,128,15,https://github.com/endoffile78,Fix travis,3,[],https://github.com/uTox/uTox/pull/799,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/799#issuecomment-294358037,This change is‚ÄÇ,"Reviewed 5 of 6 files at r5, 1 of 1 files at r6, 2 of 2 files at r7.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,799,2017-04-07T23:02:05Z,2017-04-17T01:51:03Z,2018-03-10T18:28:55Z,MERGED,True,105,128,15,https://github.com/endoffile78,Fix travis,3,[],https://github.com/uTox/uTox/pull/799,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/799#issuecomment-294388670,This change is‚ÄÇ,"Reviewed 2 of 2 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,800,2017-04-07T23:11:03Z,2017-04-08T05:14:01Z,2017-08-26T13:09:26Z,MERGED,True,33,25,1,https://github.com/robinlinden,Drop deprecated function `file_raw` from Windows.,1,[],https://github.com/uTox/uTox/pull/800,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/800,"Fixes the Windows part of #798

This change is‚ÄÇ","Fixes the Windows part of #798

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,800,2017-04-07T23:11:03Z,2017-04-08T05:14:01Z,2017-08-26T13:09:26Z,MERGED,True,33,25,1,https://github.com/robinlinden,Drop deprecated function `file_raw` from Windows.,1,[],https://github.com/uTox/uTox/pull/800,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/800#issuecomment-292673415,"Fixes the Windows part of #798

This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,800,2017-04-07T23:11:03Z,2017-04-08T05:14:01Z,2017-08-26T13:09:26Z,MERGED,True,33,25,1,https://github.com/robinlinden,Drop deprecated function `file_raw` from Windows.,1,[],https://github.com/uTox/uTox/pull/800,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/800#issuecomment-292693756,"Fixes the Windows part of #798

This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/801,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ",True,{'THUMBS_UP': ['https://github.com/endoffile78']}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/801#issuecomment-294223192,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Review status: 0 of 10 files reviewed at latest revision, 1 unresolved discussion, some commit checks broke.

cmake/toolchain-freebsd.cmake, line 7 at r4 (raw file):

set(CMAKE_EXE_LINKER_FLAGS ""${CMAKE_EXE_LINKER_FLAGS} -L/usr/local/lib"" CACHE STRING """" FORCE)

set(ENABLE_TESTS OFF CACHE STRING """" FORCE)

parent scope?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/801#issuecomment-294225674,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Reviewed 4 of 6 files at r3, 6 of 6 files at r4.
Review status: all files reviewed at latest revision, 11 unresolved discussions, some commit checks broke.

CMakeLists.txt, line 38 at r4 (raw file):

endif()

if(WIN32)

check for windows
check for osx
check for unix
-> check for type of unix

cmake/toolchain-openbsd.cmake, line 4 at r4 (raw file):

UNSET(CMAKE_C_FLAGS CACHE)

set(CMAKE_C_FLAGS ""${CMAKE_C_FLAGS} -I/usr/local/include -L/usr/local/lib -I/usr/X11R6/include -L/usr/X11R6/lib -std=c99"" CACHE STRING """" FORCE)

this is likely to be system specific, are you sure this is right?
If you're not sure, add a comment

src/dns.c, line 27 at r4 (raw file):

#include <netinet/in.h>
#include <sys/types.h>
#else

this else needs a comment

src/main.h, line 56 at r4 (raw file):

 ***  TODO fix them?
#if !defined (__OBJC__) && !defined (__NetBSD__)
#define volatile(x) (*((volatile typeof(x)*)&x))

FYI #827

src/updater.c, line 23 at r4 (raw file):

#ifdef __WIN32__
#include <winsock2.h>
#include <ws2tcpip.h>

are you sure, IIRC this order matters?

src/av/CMakeLists.txt, line 11 at r4 (raw file):

if(WIN32)
    target_link_libraries(utoxAV OpenAL32)
elseif(NOT APPLE)

this isn't okay. You can't if, if not, if, else
at least not without a bunch of comments

src/xlib/CMakeLists.txt, line 78 at r4 (raw file):

        )

if(CMAKE_SYSTEM_NAME MATCHES "".*Linux"")

switch the order with the one below, it's generally better to go from specific to general.

src/xlib/CMakeLists.txt, line 85 at r4 (raw file):

endif()

if(CMAKE_SYSTEM_NAME MATCHES "".*Linux"" OR CMAKE_SYSTEM_NAME MATCHES ""kNetBSD.*|NetBSD.*"")

handle the error case of openbsd instead of trying to limit what already works?

src/xlib/main.c, line 93 at r4 (raw file):

    }
    // Only Linux has KEY_LEFTCTRL and KEY_MAX.
#ifdef __linux__

I don't like #ifdef inside functions.
extern this block of code, then add
    #ifdef __linux__
        return linux_check_ptt();
    #else
        return bsd_check_ptt();
    #endif

and wrap the definition of each function in the same ifdef

src/xlib/v4l.c, line 12 at r4 (raw file):

#include <sys/mman.h>
#ifdef __linux__

are you sure you're ALWAYS gonna get linux here?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/801#issuecomment-294226896,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 11 unresolved discussions, some commit checks broke.

src/xlib/v4l.c, line 12 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
are you sure you're ALWAYS gonna get linux here?

There's an else for which is needed for OpenBSD. For FreeBSD you can install v4l.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/801#issuecomment-294227887,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 11 unresolved discussions, some commit checks broke.

cmake/toolchain-freebsd.cmake, line 7 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
parent scope?

Not needed. I did it this way in the Windows toolchains and they work as intended.

src/xlib/CMakeLists.txt, line 78 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
switch the order with the one below, it's generally better to go from specific to general.

We should probably use the SYSTEM variables we set in the main CMakeLists.txt here. (If they're available?)

src/xlib/v4l.c, line 12 at r4 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
There's an else for which is needed for OpenBSD. For FreeBSD you can install v4l.

I'm pretty sure linux/videodev2.h is a Linux thing. (__linux__ should be set by all compilers on all Linux distros)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/801#issuecomment-294230220,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 11 unresolved discussions, some commit checks broke.

src/xlib/v4l.c, line 12 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I'm pretty sure linux/videodev2.h is a Linux thing. (__linux__ should be set by all compilers on all Linux distros)

It is on FreeBSD after installing libv4l v4l-utils and v4l_compat I have a linux folder in my includes I forgot to add the check for FreeBSD

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/801#issuecomment-294233991,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 10 unresolved discussions, some commit checks broke.

src/xlib/CMakeLists.txt, line 78 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
We should probably use the SYSTEM variables we set in the main CMakeLists.txt here. (If they're available?)

yeah, do that

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/801#issuecomment-294236370,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Review status: 2 of 10 files reviewed at latest revision, 10 unresolved discussions.

CMakeLists.txt, line 38 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
check for windows
check for osx
check for unix
-> check for type of unix

Done

cmake/toolchain-openbsd.cmake, line 4 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this is likely to be system specific, are you sure this is right?
If you're not sure, add a comment

Done

src/dns.c, line 27 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this else needs a comment

Done

src/av/CMakeLists.txt, line 11 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this isn't okay. You can't if, if not, if, else
at least not without a bunch of comments

Done

src/xlib/main.c, line 93 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I don't like #ifdef inside functions.
extern this block of code, then add
    #ifdef __linux__
        return linux_check_ptt();
    #else
        return bsd_check_ptt();
    #endif

and wrap the definition of each function in the same ifdef

Done

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/801#issuecomment-294236866,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Review status: 2 of 10 files reviewed at latest revision, 10 unresolved discussions, some commit checks broke.

src/xlib/v4l.c, line 12 at r4 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
It is on FreeBSD after installing libv4l v4l-utils and v4l_compat I have a linux folder in my includes I forgot to add the check for FreeBSD

Added the FreeBSD check.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/801#issuecomment-294237145,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Review status: 2 of 10 files reviewed at latest revision, 10 unresolved discussions.

src/xlib/CMakeLists.txt, line 78 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
yeah, do that

Changed it to use the variables and switched order.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/cebe,11,https://github.com/uTox/uTox/pull/801#issuecomment-294246998,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Reviewed 2 of 6 files at r3, 8 of 8 files at r5.
Review status: all files reviewed at latest revision, 11 unresolved discussions, some commit checks broke.

cmake/toolchain-freebsd.cmake, line 10 at r5 (raw file):

set(ENABLE_TESTS OFF CACHE STRING """" FORCE)
set(ENABLE_DBUS OFF CACHE STRING """" FORCE)
set(ENABLE_FILTERAUDIO OFF CACHE STRING """" FORCE)

Why are you using CACHE STRING """" FORCE?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/endoffile78,12,https://github.com/uTox/uTox/pull/801#issuecomment-294247465,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 11 unresolved discussions, some commit checks broke.

cmake/toolchain-freebsd.cmake, line 10 at r5 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
Why are you using CACHE STRING """" FORCE?

To override the variables in the main CMakeLists.txt file.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/801#issuecomment-294266781,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Reviewed 8 of 8 files at r5.
Review status: all files reviewed at latest revision, 7 unresolved discussions, some commit checks broke.

src/av/CMakeLists.txt, line 11 at r4 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Done

LGTM, don't change it... but I'm still uncomfortable with if true, if false, else

src/xlib/CMakeLists.txt, line 85 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
handle the error case of openbsd instead of trying to limit what already works?

LGTM

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/robinlinden,14,https://github.com/uTox/uTox/pull/801#issuecomment-294301472,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks broke.

src/updater.c, line 23 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
are you sure, IIRC this order matters?

Yeah, this compiles without warnings on Windows.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/801#issuecomment-294329951,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Reviewed 1 of 1 files at r6.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/cebe,16,https://github.com/uTox/uTox/pull/801#issuecomment-294975305,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Reviewed 1 of 1 files at r6.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks broke.

cmake/toolchain-freebsd.cmake, line 10 at r5 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
To override the variables in the main CMakeLists.txt file.

that also means you can not specify them on the command line, but its probably fine for these.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,801,2017-04-07T23:54:14Z,2017-04-19T18:53:23Z,2017-05-24T20:53:48Z,MERGED,True,114,59,10,https://github.com/robinlinden,"Support for OpenBSD, NetBSD and FreeBSD.",9,[],https://github.com/uTox/uTox/pull/801,https://github.com/GrayHatter,17,https://github.com/uTox/uTox/pull/801#issuecomment-295389307,"A join effort between me and @endoffile78
Fixes #809


This change is‚ÄÇ","Reviewed 4 of 4 files at r7.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/802,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/802#issuecomment-292710387,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks broke.

src/groups.c, line 289 at r1 (raw file):

    }

    if (group) {

free(NULL) does nothing, so you can drop this check. If you expect this function to be called more than once you can also set group to NULL after freeing it.

src/groups.c, line 298 at r1 (raw file):

                               //there is a pr open for saving them

    group = calloc(self.groups_list_size, sizeof(GROUPCHAT));

What happens when you allocate 0 memory is up to the implementation. This might return a nullpointer depending on where it was compiled.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/802#issuecomment-292807712,This change is‚ÄÇ,"Review status: 1 of 4 files reviewed at latest revision, 2 unresolved discussions.

src/groups.c, line 289 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
free(NULL) does nothing, so you can drop this check. If you expect this function to be called more than once you can also set group to NULL after freeing it.

Done.

src/groups.c, line 298 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
What happens when you allocate 0 memory is up to the implementation. This might return a nullpointer depending on where it was compiled.

Done. I changed it to 1, it may not be the best way but I think its better than the old groupchats array because it uses less memory. If you know of a better way let me know and I do it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/802#issuecomment-292811695,This change is‚ÄÇ,"Reviewed 1 of 4 files at r1, 3 of 3 files at r2.
Review status: all files reviewed at latest revision, 10 unresolved discussions, some commit checks broke.

src/groups.c, line 298 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Done. I changed it to 1, it may not be the best way but I think its better than the old groupchats array because it uses less memory. If you know of a better way let me know and I do it.

set the size to 0, and if (size == 0)  {return}
I'm confused about what this function is trying to do?
Also, you can realloc(NULL, ) it'll == malloc() in that case.

src/groups.c, line 26 at r2 (raw file):

GROUPCHAT *get_group(uint32_t group_number) {
    if (group_number >= self.groups_list_size) {

might be uninitialized at start. add memset(0); to self.c@init_self()

src/groups.c, line 34 at r2 (raw file):

}

GROUPCHAT *group_make(uint32_t group_number) {

can this be static?

src/groups.c, line 85 at r2 (raw file):

    flist_select_last();

    self.groups_list_count++;

this belongs in make_group()

src/groups.c, line 259 at r2 (raw file):

void group_free(GROUPCHAT *g) {
    LOG_WARN(""Groupchats"", ""Freeing group %u"", g->number);

LOG_INFO

src/groups.c, line 277 at r2 (raw file):

    memset(g, 0, sizeof(GROUPCHAT));

    self.groups_list_count--;

ditto

src/groups.c, line 280 at r2 (raw file):

}

void free_groups(void) {

free_group() and raze_groups(), free and raze have different uses/meanings

src/groups.h, line 87 at r2 (raw file):

/*
 * Create a new slot for the group if group_number is greater than self.groups_list_size and return a pointer to it
 * If gorup_number is less than self.groups_list_size return a pointer to that slot

group

src/groups.h, line 94 at r2 (raw file):

void free_groups(void);

/* Initalize the groupchats array */

if it's only called once even, who do we expect to call it?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/802#issuecomment-292842365,This change is‚ÄÇ,"Review status: 1 of 4 files reviewed at latest revision, 9 unresolved discussions.

src/groups.c, line 298 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
set the size to 0, and if (size == 0)  {return}
I'm confused about what this function is trying to do?
Also, you can realloc(NULL, ) it'll == malloc() in that case.

Done. I didnt know reallocating NULL would act like malloc. This function is going to initialize the users groups when groups can be saved.

src/groups.c, line 26 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
might be uninitialized at start. add memset(0); to self.c@init_self()

self.groups_list_size is set in init_groups which is called right after tox is created so it shouldn't be uninitialized.

src/groups.c, line 34 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
can this be static?

Not right now. It needs to be called in tox.c@1047. If init_group is changed to create the group itself rather than being passed the group as an argument it can be static. I'm planning on doing that unless you don't want me to/don't think its necessary.

src/groups.c, line 85 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this belongs in make_group()

I put it here because after calling gorup_make there is room for another group but it doesn't exist. After group_init is called the group actually exists and can be used. If you still don't agree with it being here tell me and I'll change it.

src/groups.c, line 259 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
LOG_INFO

Done.

src/groups.c, line 277 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
ditto

?

src/groups.c, line 280 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
free_group() and raze_groups(), free and raze have different uses/meanings

Done.

src/groups.h, line 87 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
group

Done.

src/groups.h, line 94 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
if it's only called once even, who do we expect to call it?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/802#issuecomment-292851288,This change is‚ÄÇ,"Reviewed 2 of 3 files at r3.
Review status: 3 of 4 files reviewed at latest revision, 5 unresolved discussions, some commit checks broke.

src/groups.c, line 26 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
self.groups_list_size is set in init_groups which is called right after tox is created so it shouldn't be uninitialized.

LGTM

src/groups.c, line 34 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Not right now. It needs to be called in tox.c@1047. If init_group is changed to create the group itself rather than being passed the group as an argument it can be static. I'm planning on doing that unless you don't want me to/don't think its necessary.

let's make this static, and add group_create() that the callbacks can call with all the data. so there's only one file that will have access to this function.

src/groups.c, line 85 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
I put it here because after calling gorup_make there is room for another group but it doesn't exist. After group_init is called the group actually exists and can be used. If you still don't agree with it being here tell me and I'll change it.

yeah, it needs to be in side group_make(), this code could change and this line is very likely to go missing. Also, divide the responsibility of the functions to ONLY where they need to be. if you're making a group, group_make() should be the one to provision, and do the housekeeping for that group.

src/groups.c, line 277 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
?

LGTM
my bad, I read this as count++ and I would have wanted this in side group_make(). But this is correct here
OOS: but at some point we need to make a design decision about what threads are allowed to call what functions, or add more thread mutex calls through out

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/802#issuecomment-293098875,This change is‚ÄÇ,"Review status: 3 of 4 files reviewed at latest revision, 3 unresolved discussions, some commit checks broke.

src/groups.c, line 34 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
let's make this static, and add group_create() that the callbacks can call with all the data. so there's only one file that will have access to this function.

Done.

src/groups.c, line 85 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
yeah, it needs to be in side group_make(), this code could change and this line is very likely to go missing. Also, divide the responsibility of the functions to ONLY where they need to be. if you're making a group, group_make() should be the one to provision, and do the housekeeping for that group.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/802#issuecomment-296367599,This change is‚ÄÇ,"Reviewed 1 of 3 files at r2, 4 of 4 files at r4.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/groups.c, line 322 at r4 (raw file):

    }

    for(size_t i = 0; i < self.groups_list_size; i++){

Nit: Needs a space before ( and after ).

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/802#issuecomment-296390574,This change is‚ÄÇ,"Reviewed 2 of 2 files at r5.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/802#issuecomment-297501621,This change is‚ÄÇ,"Reviewed 2 of 4 files at r4, 2 of 2 files at r5.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/flist.c, line 420 at r5 (raw file):

            panel_chat.disabled  = true;
            panel_group.disabled = true;

these two still need to happen, even when g == NULL

src/flist.c, line 513 at r5 (raw file):

            if (!g) {
                LOG_ERR(""F-List"", ""Could not get group %u"", i->id_number);
                return;

this will leave uTox in a ""broken"" state. If a user clicks on a group that no-longer exists, what should happen? (My best guess is that uTox will overrun, or segv. So anything you suggest will be better than that)

src/groups.c, line 322 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Nit: Needs a space before ( and after ).

1TBS

src/groups.c, line 43 at r5 (raw file):

        GROUPCHAT *tmp = realloc(group, sizeof(GROUPCHAT) * (group_number + 1));
        if (!tmp) {
            LOG_ERR(""Groupchats"", ""Could not reallocate groupchat array to %u."", group_number + 1);

groups are buggy enough as it is. Let's make this a fatal error.
I'm open to other suggestions as well

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/802#issuecomment-297866628,This change is‚ÄÇ,"Review status: 2 of 4 files reviewed at latest revision, 4 unresolved discussions.

src/flist.c, line 420 at r5 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
these two still need to happen, even when g == NULL

Done.

src/flist.c, line 513 at r5 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this will leave uTox in a ""broken"" state. If a user clicks on a group that no-longer exists, what should happen? (My best guess is that uTox will overrun, or segv. So anything you suggest will be better than that)

Done. I made it a fatal error.

src/groups.c, line 322 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
1TBS

Done.

src/groups.c, line 43 at r5 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
groups are buggy enough as it is. Let's make this a fatal error.
I'm open to other suggestions as well

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/802#issuecomment-297914182,This change is‚ÄÇ,"+@robinlinden

Reviewed 2 of 2 files at r6.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,802,2017-04-08T00:58:04Z,2017-04-28T11:54:59Z,2017-06-18T15:35:51Z,MERGED,True,110,23,4,https://github.com/endoffile78,Dynamic groups,7,[],https://github.com/uTox/uTox/pull/802,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/802#issuecomment-297915613,This change is‚ÄÇ,"Reviewed 2 of 2 files at r6.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,805,2017-04-08T04:16:33Z,2017-04-08T21:59:28Z,2017-04-24T04:39:38Z,MERGED,True,87,51,10,https://github.com/GrayHatter,Fixes for video not showing up on windows,2,[],https://github.com/uTox/uTox/pull/805,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/805,"closes #804


This change is‚ÄÇ","closes #804


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,805,2017-04-08T04:16:33Z,2017-04-08T21:59:28Z,2017-04-24T04:39:38Z,MERGED,True,87,51,10,https://github.com/GrayHatter,Fixes for video not showing up on windows,2,[],https://github.com/uTox/uTox/pull/805,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/805#issuecomment-292693668,"closes #804


This change is‚ÄÇ","also
closes #790",True,{}
uTox/uTox,https://github.com/uTox/uTox,805,2017-04-08T04:16:33Z,2017-04-08T21:59:28Z,2017-04-24T04:39:38Z,MERGED,True,87,51,10,https://github.com/GrayHatter,Fixes for video not showing up on windows,2,[],https://github.com/uTox/uTox/pull/805,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/805#issuecomment-292693995,"closes #804


This change is‚ÄÇ","Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks broke.

src/windows/os_video.c, line 87 at r1 (raw file):

void video_end(uint32_t id) {
    if (id == UINT16_MAX) {

Should == be >=?

src/windows/window.c, line 85 at r1 (raw file):

    if (!win) {
        LOG_ERR(""Windows WM"", ""ERROR trying to create video window"");
        LOG_ERR(""debug"", ""%u"", GetLastError());

Should there be a return here?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,805,2017-04-08T04:16:33Z,2017-04-08T21:59:28Z,2017-04-24T04:39:38Z,MERGED,True,87,51,10,https://github.com/GrayHatter,Fixes for video not showing up on windows,2,[],https://github.com/uTox/uTox/pull/805,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/805#issuecomment-292695822,"closes #804


This change is‚ÄÇ","Review status: 8 of 10 files reviewed at latest revision, 2 unresolved discussions.

src/windows/os_video.c, line 87 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Should == be >=?

Done.

src/windows/window.c, line 85 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Should there be a return here?

No, win is a null pointer, which is what I'd return anyways. so there's no point

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,805,2017-04-08T04:16:33Z,2017-04-08T21:59:28Z,2017-04-24T04:39:38Z,MERGED,True,87,51,10,https://github.com/GrayHatter,Fixes for video not showing up on windows,2,[],https://github.com/uTox/uTox/pull/805,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/805#issuecomment-292709948,"closes #804


This change is‚ÄÇ","Reviewed 8 of 9 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks broke.

src/native/video.h, line 13 at r2 (raw file):

 * @param id          The id number of the friend
 *                    Use UINT16_MAX for the preview window
 *                    currently any value > UINT16_MAX will be treaded as the

Nit: s/treaded/treated
(Feel free to leave nits and someone can fix it the next time they touch the file.)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,805,2017-04-08T04:16:33Z,2017-04-08T21:59:28Z,2017-04-24T04:39:38Z,MERGED,True,87,51,10,https://github.com/GrayHatter,Fixes for video not showing up on windows,2,[],https://github.com/uTox/uTox/pull/805,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/805#issuecomment-292717153,"closes #804


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,806,2017-04-09T22:02:02Z,2017-04-16T18:53:32Z,2017-08-26T13:09:26Z,MERGED,True,102,79,8,https://github.com/robinlinden,Fix autoaccepting file transfers on Windows,5,[],https://github.com/uTox/uTox/pull/806,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/806,"Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ","Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,806,2017-04-09T22:02:02Z,2017-04-16T18:53:32Z,2017-08-26T13:09:26Z,MERGED,True,102,79,8,https://github.com/robinlinden,Fix autoaccepting file transfers on Windows,5,[],https://github.com/uTox/uTox/pull/806,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/806#issuecomment-292864063,"Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ","Reviewed 7 of 9 files at r1.
Review status: 7 of 9 files reviewed at latest revision, 3 unresolved discussions, some commit checks broke.

CMakeLists.txt, line 177 at r1 (raw file):

if (ENABLE_ASAN)
    set(CMAKE_C_FLAGS_DEBUG ""${CMAKE_C_FLAGS_DEBUG} -fno-omit-frame-pointer"")
    if (NOT UTOX_STATIC)

message(SEND_ERROR ""You can't UTOX_STATIC and ENABLE_ASAN"")
don't do magic when there's incompatible settings

src/messages.c, line 580 at r1 (raw file):

                        LOG_TRACE(""Messages"", ""Updating first message -> disk_offset is %lu"" , msg->disk_offset);
                        utox_update_chatlog(hex, msg->disk_offset, data, length);
                    } else if (settings.logging_enabled) {

why?
Ixf this is really needed, it should be higher

src/windows/main.7.c, line 84 at r1 (raw file):

    if (settings.portable_mode) {
        autoaccept_folder = calloc(1, UTOX_FILE_NAME_LENGTH);

UTOX_FILE_NAME_LENGTH, sizeof(wchar_t)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,806,2017-04-09T22:02:02Z,2017-04-16T18:53:32Z,2017-08-26T13:09:26Z,MERGED,True,102,79,8,https://github.com/robinlinden,Fix autoaccepting file transfers on Windows,5,[],https://github.com/uTox/uTox/pull/806,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/806#issuecomment-292865720,"Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ","Reviewed 1 of 9 files at r1.
Review status: 8 of 9 files reviewed at latest revision, 4 unresolved discussions, some commit checks broke.

src/windows/main.7.c, line 140 at r1 (raw file):

            path_length += 2;

            // 2 bytes per wchar_t

nope, this is wrong. The code is correct, it it's allocating UTOX_FILE_NAME_LENGTH 2 but it shouldn't be, and array of [size] of wchar is already size2 bytes, but all the sizes in this area are expecting 2bytes, so it's all just wrong
what ever you do, don't read the git blame

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,806,2017-04-09T22:02:02Z,2017-04-16T18:53:32Z,2017-08-26T13:09:26Z,MERGED,True,102,79,8,https://github.com/robinlinden,Fix autoaccepting file transfers on Windows,5,[],https://github.com/uTox/uTox/pull/806,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/806#issuecomment-293071565,"Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ","Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks broke.

src/windows/main.XP.c, line 77 at r1 (raw file):

void native_autoselect_dir_ft(uint32_t fid, FILE_TRANSFER *file) {
    wchar_t *autoaccept_folder = calloc(1, MAX_PATH);

Make sure memory was allocated.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,806,2017-04-09T22:02:02Z,2017-04-16T18:53:32Z,2017-08-26T13:09:26Z,MERGED,True,102,79,8,https://github.com/robinlinden,Fix autoaccepting file transfers on Windows,5,[],https://github.com/uTox/uTox/pull/806,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/806#issuecomment-294301111,"Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ","Review status: 5 of 8 files reviewed at latest revision, 5 unresolved discussions.

src/messages.c, line 580 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why?
Ixf this is really needed, it should be higher

It was to fix uTox complaining about not being able to update chatlogs on every message even if you had them disabled. It shouldn't be done in this PR and it wasn't the proper way to do it. I'm opening an issue for it instead.

src/windows/main.7.c, line 84 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
UTOX_FILE_NAME_LENGTH, sizeof(wchar_t)

Done.

src/windows/main.7.c, line 140 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
nope, this is wrong. The code is correct, it it's allocating UTOX_FILE_NAME_LENGTH 2 but it shouldn't be, and array of [size] of wchar is already size2 bytes, but all the sizes in this area are expecting 2bytes, so it's all just wrong
what ever you do, don't read the git blame

Yeah, I didn't really read through this code carefully. Just fixed the few obvious problems I saw. The comment was moved because the line was >120 characters.

src/windows/main.XP.c, line 77 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Make sure memory was allocated.

Done.

CMakeLists.txt, line 177 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
message(SEND_ERROR ""You can't UTOX_STATIC and ENABLE_ASAN"")
don't do magic when there's incompatible settings

Done, but moved to a separate PR.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,806,2017-04-09T22:02:02Z,2017-04-16T18:53:32Z,2017-08-26T13:09:26Z,MERGED,True,102,79,8,https://github.com/robinlinden,Fix autoaccepting file transfers on Windows,5,[],https://github.com/uTox/uTox/pull/806,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/806#issuecomment-294307802,"Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,806,2017-04-09T22:02:02Z,2017-04-16T18:53:32Z,2017-08-26T13:09:26Z,MERGED,True,102,79,8,https://github.com/robinlinden,Fix autoaccepting file transfers on Windows,5,[],https://github.com/uTox/uTox/pull/806,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/806#issuecomment-294330263,"Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks broke.

src/windows/main.7.c, line 84 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Done.

LGTM
no, I meant calloc(UTOX_FILE_NAME_LENGTH, sizeof(wchat_t));It's the same either way

src/windows/main.XP.c, line 83 at r2 (raw file):

    }

    if (settings.portable_mode) {

FYI #830

src/windows/main.XP.c, line 91 at r2 (raw file):

    } else if (SHGetFolderPath(NULL, CSIDL_DESKTOP, NULL, 0, autoaccept_folder) != S_OK) {
        LOG_ERR(""WinXP"", ""Unable to get auto accept file folder!"");
        return;

autoaccept_folder leaks

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,806,2017-04-09T22:02:02Z,2017-04-16T18:53:32Z,2017-08-26T13:09:26Z,MERGED,True,102,79,8,https://github.com/robinlinden,Fix autoaccepting file transfers on Windows,5,[],https://github.com/uTox/uTox/pull/806,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/806#issuecomment-294330275,"Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,806,2017-04-09T22:02:02Z,2017-04-16T18:53:32Z,2017-08-26T13:09:26Z,MERGED,True,102,79,8,https://github.com/robinlinden,Fix autoaccepting file transfers on Windows,5,[],https://github.com/uTox/uTox/pull/806,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/806#issuecomment-294357563,"Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ","Review status: 7 of 8 files reviewed at latest revision, 2 unresolved discussions.

src/windows/main.XP.c, line 91 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
autoaccept_folder leaks

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,806,2017-04-09T22:02:02Z,2017-04-16T18:53:32Z,2017-08-26T13:09:26Z,MERGED,True,102,79,8,https://github.com/robinlinden,Fix autoaccepting file transfers on Windows,5,[],https://github.com/uTox/uTox/pull/806,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/806#issuecomment-294361308,"Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,806,2017-04-09T22:02:02Z,2017-04-16T18:53:32Z,2017-08-26T13:09:26Z,MERGED,True,102,79,8,https://github.com/robinlinden,Fix autoaccepting file transfers on Windows,5,[],https://github.com/uTox/uTox/pull/806,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/806#issuecomment-294366420,"Fix autoaccept path when in portable mode.
Minor cleanup because I looked at a lot of code. (Sorry.)
Fixes #811


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,807,2017-04-09T22:22:05Z,2017-04-10T03:30:53Z,2019-01-21T09:09:05Z,MERGED,True,11,12,3,https://github.com/GrayHatter,Fix double free in edit_do on friend_free(),1,[],https://github.com/uTox/uTox/pull/807,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/807,"closes #723


This change is‚ÄÇ","closes #723


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,807,2017-04-09T22:22:05Z,2017-04-10T03:30:53Z,2019-01-21T09:09:05Z,MERGED,True,11,12,3,https://github.com/GrayHatter,Fix double free in edit_do on friend_free(),1,[],https://github.com/uTox/uTox/pull/807,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/807#issuecomment-292818431,"closes #723


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,807,2017-04-09T22:22:05Z,2017-04-10T03:30:53Z,2019-01-21T09:09:05Z,MERGED,True,11,12,3,https://github.com/GrayHatter,Fix double free in edit_do on friend_free(),1,[],https://github.com/uTox/uTox/pull/807,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/807#issuecomment-292839513,"closes #723


This change is‚ÄÇ","Reviewed 2 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,808,2017-04-10T05:36:15Z,2017-04-10T05:40:26Z,2017-04-10T05:40:26Z,CLOSED,False,62,124,13,https://github.com/GrayHatter,Travis :<,5,[],https://github.com/uTox/uTox/pull/808,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/808,"#799


This change is‚ÄÇ","#799


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,808,2017-04-10T05:36:15Z,2017-04-10T05:40:26Z,2017-04-10T05:40:26Z,CLOSED,False,62,124,13,https://github.com/GrayHatter,Travis :<,5,[],https://github.com/uTox/uTox/pull/808,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/808#issuecomment-292854427,"#799


This change is‚ÄÇ","added a commit, that seeming made thing worse :< nevermind",True,{}
uTox/uTox,https://github.com/uTox/uTox,813,2017-04-10T17:52:44Z,2017-04-11T04:47:40Z,2017-04-11T04:48:42Z,MERGED,True,1,1,1,https://github.com/GrayHatter,Fix for bad redraw size on windows,1,[],https://github.com/uTox/uTox/pull/813,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/813,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,813,2017-04-10T17:52:44Z,2017-04-11T04:47:40Z,2017-04-11T04:48:42Z,MERGED,True,1,1,1,https://github.com/GrayHatter,Fix for bad redraw size on windows,1,[],https://github.com/uTox/uTox/pull/813,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/813#issuecomment-293027368,This change is‚ÄÇ,note that master is the target branch,True,{}
uTox/uTox,https://github.com/uTox/uTox,813,2017-04-10T17:52:44Z,2017-04-11T04:47:40Z,2017-04-11T04:48:42Z,MERGED,True,1,1,1,https://github.com/GrayHatter,Fix for bad redraw size on windows,1,[],https://github.com/uTox/uTox/pull/813,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/813#issuecomment-293027512,This change is‚ÄÇ,fixes #810,True,{}
uTox/uTox,https://github.com/uTox/uTox,813,2017-04-10T17:52:44Z,2017-04-11T04:47:40Z,2017-04-11T04:48:42Z,MERGED,True,1,1,1,https://github.com/GrayHatter,Fix for bad redraw size on windows,1,[],https://github.com/uTox/uTox/pull/813,https://github.com/fcore117,4,https://github.com/uTox/uTox/pull/813#issuecomment-293030028,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,813,2017-04-10T17:52:44Z,2017-04-11T04:47:40Z,2017-04-11T04:48:42Z,MERGED,True,1,1,1,https://github.com/GrayHatter,Fix for bad redraw size on windows,1,[],https://github.com/uTox/uTox/pull/813,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/813#issuecomment-293063726,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,813,2017-04-10T17:52:44Z,2017-04-11T04:47:40Z,2017-04-11T04:48:42Z,MERGED,True,1,1,1,https://github.com/GrayHatter,Fix for bad redraw size on windows,1,[],https://github.com/uTox/uTox/pull/813,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/813#issuecomment-293068855,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,817,2017-04-12T11:36:02Z,2017-04-13T21:15:54Z,2017-04-13T21:15:54Z,MERGED,True,4,14,2,https://github.com/nurupo,Fix markdown formatting,1,[],https://github.com/uTox/uTox/pull/817,https://github.com/nurupo,1,https://github.com/uTox/uTox/pull/817,"Fixed broken formatting of some markdown files which resulted from GitHub changing spec of their Markdown parser, which removed support for custom anchors.


This change is‚ÄÇ","Fixed broken formatting of some markdown files which resulted from GitHub changing spec of their Markdown parser, which removed support for custom anchors.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,817,2017-04-12T11:36:02Z,2017-04-13T21:15:54Z,2017-04-13T21:15:54Z,MERGED,True,4,14,2,https://github.com/nurupo,Fix markdown formatting,1,[],https://github.com/uTox/uTox/pull/817,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/817#issuecomment-293649324,"Fixed broken formatting of some markdown files which resulted from GitHub changing spec of their Markdown parser, which removed support for custom anchors.


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,817,2017-04-12T11:36:02Z,2017-04-13T21:15:54Z,2017-04-13T21:15:54Z,MERGED,True,4,14,2,https://github.com/nurupo,Fix markdown formatting,1,[],https://github.com/uTox/uTox/pull/817,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/817#issuecomment-294012866,"Fixed broken formatting of some markdown files which resulted from GitHub changing spec of their Markdown parser, which removed support for custom anchors.


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,819,2017-04-12T17:41:42Z,2017-04-13T20:35:56Z,2017-04-23T19:59:24Z,MERGED,True,48,6,3,https://github.com/redmanmale,Fix langs,2,[],https://github.com/uTox/uTox/pull/819,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/819,"Partially fixes #818.


This change is‚ÄÇ","Partially fixes #818.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,819,2017-04-12T17:41:42Z,2017-04-13T20:35:56Z,2017-04-23T19:59:24Z,MERGED,True,48,6,3,https://github.com/redmanmale,Fix langs,2,[],https://github.com/uTox/uTox/pull/819,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/819#issuecomment-293654929,"Partially fixes #818.


This change is‚ÄÇ","Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,819,2017-04-12T17:41:42Z,2017-04-13T20:35:56Z,2017-04-23T19:59:24Z,MERGED,True,48,6,3,https://github.com/redmanmale,Fix langs,2,[],https://github.com/uTox/uTox/pull/819,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/819#issuecomment-293655755,"Partially fixes #818.


This change is‚ÄÇ",,True,{}
uTox/uTox,https://github.com/uTox/uTox,819,2017-04-12T17:41:42Z,2017-04-13T20:35:56Z,2017-04-23T19:59:24Z,MERGED,True,48,6,3,https://github.com/redmanmale,Fix langs,2,[],https://github.com/uTox/uTox/pull/819,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/819#issuecomment-293657353,"Partially fixes #818.


This change is‚ÄÇ","Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,820,2017-04-12T18:03:51Z,2017-04-14T14:00:09Z,2019-01-21T09:09:05Z,MERGED,True,54,0,1,https://github.com/redmanmale,Python script to find missing translations,3,[],https://github.com/uTox/uTox/pull/820,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/820,"To make it easier to fix #818.


This change is‚ÄÇ","To make it easier to fix #818.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,820,2017-04-12T18:03:51Z,2017-04-14T14:00:09Z,2019-01-21T09:09:05Z,MERGED,True,54,0,1,https://github.com/redmanmale,Python script to find missing translations,3,[],https://github.com/uTox/uTox/pull/820,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/820#issuecomment-293661401,"To make it easier to fix #818.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,820,2017-04-12T18:03:51Z,2017-04-14T14:00:09Z,2019-01-21T09:09:05Z,MERGED,True,54,0,1,https://github.com/redmanmale,Python script to find missing translations,3,[],https://github.com/uTox/uTox/pull/820,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/820#issuecomment-293686181,"To make it easier to fix #818.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,820,2017-04-12T18:03:51Z,2017-04-14T14:00:09Z,2019-01-21T09:09:05Z,MERGED,True,54,0,1,https://github.com/redmanmale,Python script to find missing translations,3,[],https://github.com/uTox/uTox/pull/820,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/820#issuecomment-293694700,"To make it easier to fix #818.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,820,2017-04-12T18:03:51Z,2017-04-14T14:00:09Z,2019-01-21T09:09:05Z,MERGED,True,54,0,1,https://github.com/redmanmale,Python script to find missing translations,3,[],https://github.com/uTox/uTox/pull/820,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/820#issuecomment-294013987,"To make it easier to fix #818.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,828,2017-04-15T14:53:03Z,2017-04-22T21:06:17Z,2017-08-26T13:09:24Z,MERGED,True,12,1,2,https://github.com/robinlinden,Improve cmake ASAN behaviour.,1,[],https://github.com/uTox/uTox/pull/828,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/828,"Now ASAN will be enabled in all build types if you specify -DENABLE_ASAN=1
Windows will warn about ASAN+static compilation and allow compilation with the default settings on all build types. (Previously, it would fail for debug builds since that's the only place where ASAN was enabled.)


This change is‚ÄÇ","Now ASAN will be enabled in all build types if you specify -DENABLE_ASAN=1
Windows will warn about ASAN+static compilation and allow compilation with the default settings on all build types. (Previously, it would fail for debug builds since that's the only place where ASAN was enabled.)


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,828,2017-04-15T14:53:03Z,2017-04-22T21:06:17Z,2017-08-26T13:09:24Z,MERGED,True,12,1,2,https://github.com/robinlinden,Improve cmake ASAN behaviour.,1,[],https://github.com/uTox/uTox/pull/828,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/828#issuecomment-294298351,"Now ASAN will be enabled in all build types if you specify -DENABLE_ASAN=1
Windows will warn about ASAN+static compilation and allow compilation with the default settings on all build types. (Previously, it would fail for debug builds since that's the only place where ASAN was enabled.)


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,828,2017-04-15T14:53:03Z,2017-04-22T21:06:17Z,2017-08-26T13:09:24Z,MERGED,True,12,1,2,https://github.com/robinlinden,Improve cmake ASAN behaviour.,1,[],https://github.com/uTox/uTox/pull/828,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/828#issuecomment-296390611,"Now ASAN will be enabled in all build types if you specify -DENABLE_ASAN=1
Windows will warn about ASAN+static compilation and allow compilation with the default settings on all build types. (Previously, it would fail for debug builds since that's the only place where ASAN was enabled.)


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,828,2017-04-15T14:53:03Z,2017-04-22T21:06:17Z,2017-08-26T13:09:24Z,MERGED,True,12,1,2,https://github.com/robinlinden,Improve cmake ASAN behaviour.,1,[],https://github.com/uTox/uTox/pull/828,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/828#issuecomment-296401444,"Now ASAN will be enabled in all build types if you specify -DENABLE_ASAN=1
Windows will warn about ASAN+static compilation and allow compilation with the default settings on all build types. (Previously, it would fail for debug builds since that's the only place where ASAN was enabled.)


This change is‚ÄÇ","Reviewed 1 of 2 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,831,2017-04-16T15:21:08Z,2017-04-28T17:40:33Z,2017-08-26T13:09:24Z,MERGED,True,77,81,12,https://github.com/robinlinden,Create native/window.h,2,[],https://github.com/uTox/uTox/pull/831,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/831,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,831,2017-04-16T15:21:08Z,2017-04-28T17:40:33Z,2017-08-26T13:09:24Z,MERGED,True,77,81,12,https://github.com/robinlinden,Create native/window.h,2,[],https://github.com/uTox/uTox/pull/831,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/831#issuecomment-294389299,This change is‚ÄÇ,"Reviewed 12 of 12 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,831,2017-04-16T15:21:08Z,2017-04-28T17:40:33Z,2017-08-26T13:09:24Z,MERGED,True,77,81,12,https://github.com/robinlinden,Create native/window.h,2,[],https://github.com/uTox/uTox/pull/831,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/831#issuecomment-294390887,This change is‚ÄÇ,"Reviewed 12 of 12 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks broke.

src/cocoa/window.c, line 31 at r1 (raw file):

}

UTOX_WINDOW *native_window_create_notify(int x, int y, int w, int h, PANEL* panel) {

pointer asterisk

src/native/window.h, line 39 at r1 (raw file):

// These deal with platform-specific structures

#if defined __WIN32__ || defined _WIN32 || defined __CYGWIN__

LGTM but open an issue if this is merged, there shouldn't be any reason all the native functions can't share a type.

src/xlib/window.c, line 161 at r1 (raw file):

}

UTOX_WINDOW *native_window_create_notify(int x, int y, int w, int h, PANEL* panel) {

pointer asterisk is name attached

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,831,2017-04-16T15:21:08Z,2017-04-28T17:40:33Z,2017-08-26T13:09:24Z,MERGED,True,77,81,12,https://github.com/robinlinden,Create native/window.h,2,[],https://github.com/uTox/uTox/pull/831,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/831#issuecomment-296367080,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks broke.

src/cocoa/window.c, line 31 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
pointer asterisk

Done.

src/native/window.h, line 39 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
LGTM but open an issue if this is merged, there shouldn't be any reason all the native functions can't share a type.

Ack. Will open an issue and fix it in the next step of the native refactor where I'll actually be modifying the .c files.

src/xlib/window.c, line 161 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
pointer asterisk is name attached

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,831,2017-04-16T15:21:08Z,2017-04-28T17:40:33Z,2017-08-26T13:09:24Z,MERGED,True,77,81,12,https://github.com/robinlinden,Create native/window.h,2,[],https://github.com/uTox/uTox/pull/831,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/831#issuecomment-296390699,This change is‚ÄÇ,"Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,831,2017-04-16T15:21:08Z,2017-04-28T17:40:33Z,2017-08-26T13:09:24Z,MERGED,True,77,81,12,https://github.com/robinlinden,Create native/window.h,2,[],https://github.com/uTox/uTox/pull/831,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/831#issuecomment-297497874,This change is‚ÄÇ,"Reviewed 3 of 4 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/native/window.h, line 39 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Ack. Will open an issue and fix it in the next step of the native refactor where I'll actually be modifying the .c files.

FYI, consider adding a macro for #if UTOX_PLATFORM_{NIX,OSX,WIN,BSD,AND}

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,831,2017-04-16T15:21:08Z,2017-04-28T17:40:33Z,2017-08-26T13:09:24Z,MERGED,True,77,81,12,https://github.com/robinlinden,Create native/window.h,2,[],https://github.com/uTox/uTox/pull/831,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/831#issuecomment-298061345,This change is‚ÄÇ,"Reviewed 1 of 4 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/832,This change is‚ÄÇ,This change is‚ÄÇ,True,"{'THUMBS_UP': ['https://github.com/endoffile78', 'https://github.com/robinlinden', 'https://github.com/redmanmale']}"
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/832#issuecomment-294413544,This change is‚ÄÇ,"Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/832#issuecomment-294520247,This change is‚ÄÇ,"Review status: 6 of 9 files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/av/video.c, line 308 at r2 (raw file):

            pthread_mutex_unlock(&video_thread_lock);
            yieldcpu(200); /* 60fps = 16.666ms || 25 fps = 40ms || the data quality is SO much better at 25... */

Sure about this? 5 fps seems a bit low.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/832#issuecomment-294545862,This change is‚ÄÇ,"Review status: 6 of 9 files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/av/video.c, line 308 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Sure about this? 5 fps seems a bit low.

never happened :D

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/832#issuecomment-294585306,This change is‚ÄÇ,"Reviewed 3 of 3 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/832#issuecomment-296367941,This change is‚ÄÇ,"Reviewed 4 of 9 files at r1, 2 of 3 files at r2, 1 of 1 files at r3, 3 of 3 files at r4.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/devices.c, line 127 at r4 (raw file):

    uint16_t i;
    for (i = 0; i < self.device_list_count; ++i) {
        EDIT   *edit = calloc(1, sizeof(EDIT));

Change wasn't made in this PR, but I really don't like EDIT   (lots of spaces)   *. Now I'll have to use regex when finding all pointers to EDIT. :<

src/devices.c, line 130 at r4 (raw file):

        BUTTON *del  = calloc(1, sizeof(BUTTON));

        if (!edit) {

!edit || !del

src/devices.c, line 179 at r4 (raw file):

    if (!length_cleaned) {
        addfriend_status = 4; // ADDF_NONAME == 4 in dns.h which I'm not willing to include;

Should the ADDF_ stuff be moved to somewhere else? addfriend_status definitely should be moved.

src/devices.c, line 185 at r4 (raw file):

    uint8_t id[TOX_ADDRESS_SIZE];

    if (length_cleaned == TOX_ADDRESS_SIZE * 2 && string_to_id(id, (char*)name_cleaned)) {

Nit: Should be char *

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/832#issuecomment-296394214,This change is‚ÄÇ,"Reviewed 3 of 3 files at r4.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/832#issuecomment-297863378,This change is‚ÄÇ,"Reviewed 9 of 9 files at r5.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/832#issuecomment-298172891,This change is‚ÄÇ,"Reviewed 8 of 9 files at r5.
Review status: all files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

src/devices.c, line 59 at r5 (raw file):

};

void devices_add_new(char *name, uint16_t length, uint8_t *addr) {

const char * and const uint8_t *

src/devices.c, line 168 at r5 (raw file):

        edit->maxlength = TOX_PUBLIC_KEY_SIZE * 2;
        edit->data = devices[i].pubkey_hex;
        edit->readonly = 1;

Nit: Prefer true/false when dealing with bools.

src/friend.h, line 162 at r5 (raw file):

 */
void binid_to_hex(char *dest, uint8_t *src);
#define cid_to_string binid_to_hex

I don't like this. Can't you just find-and-replace them or something? Or is there a reason you did it this way?

src/cocoa/Info.plist, line 30 at r5 (raw file):

	<string>$(MACOSX_DEPLOYMENT_TARGET)</string>
	<key>NSHumanReadableCopyright</key>
	<string>Copyright ¬© 2015-2017 Tox project. All rights reserved.</string>

These changes shouldn't've been committed, but it'll be fixed next time you merge develop into this PR, so no change required.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/832#issuecomment-299023975,This change is‚ÄÇ,"Reviewed 1 of 9 files at r5.
Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

src/devices.c, line 204 at r5 (raw file):

    if (!length_cleaned) {
        addfriend_status = 4; // ADDF_NONAME == 4 in dns.h which I'm not willing to include;

https://reviewable.io/reviews/utox/utox/896#-KjELjfmo40SWLc1Yxn4

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/832#issuecomment-300421634,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 10 unresolved discussions, some commit checks failed.

src/devices.c, line 127 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Change wasn't made in this PR, but I really don't like EDIT   (lots of spaces)   *. Now I'll have to use regex when finding all pointers to EDIT. :<

fixed now

src/devices.c, line 130 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
!edit || !del

Done.

src/devices.c, line 179 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Should the ADDF_ stuff be moved to somewhere else? addfriend_status definitely should be moved.

no, it should be replaced with something better

src/devices.c, line 185 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Nit: Should be char *

Done.

src/devices.c, line 59 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
const char * and const uint8_t *

Done.

src/devices.c, line 168 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Nit: Prefer true/false when dealing with bools.

Done.

src/devices.c, line 204 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
https://reviewable.io/reviews/utox/utox/896#-KjELjfmo40SWLc1Yxn4

I don't wanna block this for that...

src/friend.h, line 162 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I don't like this. Can't you just find-and-replace them or something? Or is there a reason you did it this way?

because I don't want to touch EVERY file for this merge.
Open an issue and assign me, I'll open a new pull for it.
Added a comment in the meantime

src/cocoa/Info.plist, line 30 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
These changes shouldn't've been committed, but it'll be fixed next time you merge develop into this PR, so no change required.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,832,2017-04-17T01:56:24Z,2019-04-16T18:59:22Z,2019-04-16T18:59:22Z,CLOSED,False,166,89,10,https://github.com/GrayHatter,[WIP] Updating Multi-Device,6,['--WIP--'],https://github.com/uTox/uTox/pull/832,https://github.com/endoffile78,12,https://github.com/uTox/uTox/pull/832#issuecomment-300965960,This change is‚ÄÇ,"Reviewed 8 of 8 files at r6.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,833,2017-04-17T04:00:58Z,2017-04-17T04:35:02Z,2018-03-10T18:28:53Z,MERGED,True,26,14,16,https://github.com/endoffile78,Remove unneeded includes from main.h,2,[],https://github.com/uTox/uTox/pull/833,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/833,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,833,2017-04-17T04:00:58Z,2017-04-17T04:35:02Z,2018-03-10T18:28:53Z,MERGED,True,26,14,16,https://github.com/endoffile78,Remove unneeded includes from main.h,2,[],https://github.com/uTox/uTox/pull/833,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/833#issuecomment-294403303,This change is‚ÄÇ,"Reviewed 16 of 16 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,834,2017-04-17T05:12:09Z,2017-04-17T05:17:03Z,2017-04-17T05:17:14Z,MERGED,True,34,34,4,https://github.com/GrayHatter,Fix the updater tests,1,[],https://github.com/uTox/uTox/pull/834,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/834,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,834,2017-04-17T05:12:09Z,2017-04-17T05:17:03Z,2017-04-17T05:17:14Z,MERGED,True,34,34,4,https://github.com/GrayHatter,Fix the updater tests,1,[],https://github.com/uTox/uTox/pull/834,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/834#issuecomment-294406623,This change is‚ÄÇ,closes #829,True,{}
uTox/uTox,https://github.com/uTox/uTox,834,2017-04-17T05:12:09Z,2017-04-17T05:17:03Z,2017-04-17T05:17:14Z,MERGED,True,34,34,4,https://github.com/GrayHatter,Fix the updater tests,1,[],https://github.com/uTox/uTox/pull/834,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/834#issuecomment-294406760,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/835,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ",True,"{'HOORAY': ['https://github.com/robinlinden'], 'THUMBS_UP': ['https://github.com/robinlinden', 'https://github.com/endoffile78'], 'HEART': ['https://github.com/cebe']}"
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/835#issuecomment-294609992,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/layout/settings.c, line 263 at r1 (raw file):

    drawstr(MAIN_LEFT + UI_OFFSET_X*2 + BM_SWITCH_WIDTH, y + top_offset + UI_OFFSET_Y*3,  PROXY);
    drawtext(MAIN_LEFT + UI_OFFSET_X*2 + BM_SWITCH_WIDTH + SCALE(274), y + top_offset + UI_OFFSET_Y*3, "":"", 1); // Little addr port separator
    drawstr(MAIN_LEFT + UI_OFFSET_X*2 + BM_SWITCH_WIDTH, y + top_offset + UI_OFFSET_Y*4, PROXY_FORCE); // TODO draw ONLY when settings.use_proxy = true

Try to keep lines <= 120 characters long.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/835#issuecomment-294657392,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/835#issuecomment-294970874,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","@robinlinden per my comment, let's try to get magic finished and merged in the next 48

Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/ui.h, line 197 at r1 (raw file):

#define MAIN_LEFT SCALE(230)
#define MAIN_TOP SCALE(60)
#define PANEL_SETTINGS_OFFSET_Y SCALE(32)

we're not using ""static"" defines in headers anymore, this is fixed is the magic branch. can you rebase off that
(I'd might be easier to just copy paste what you want to change, I think using git to rebase will just cause more work)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/835#issuecomment-294977163,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","src/layout/settings.c, line 263 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Try to keep lines <= 120 characters long.

Fixed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/835#issuecomment-294978375,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","src/ui.c, line 166 at r2 (raw file):

    uint16_t start_draw_y = UI_OFFSET_Y + SCALE(5);
    uint16_t button_offset_y = SCALE(245);

I'm not sure about that.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/835#issuecomment-294985629,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","src/ui.h, line 197 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
we're not using ""static"" defines in headers anymore, this is fixed is the magic branch. can you rebase off that
(I'd might be easier to just copy paste what you want to change, I think using git to rebase will just cause more work)

I tried to rebase, but it seems that almost all my changes are opposite to yours.
So I'll redesign it all over again probably.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/835#issuecomment-295102107,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","yeah, it's a huge UI refactor -_- sorry about that.
But it fixes a good number of the UI glitches between systems",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/835#issuecomment-296399617,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","I did it again from scratch and force updated my branch, but it looks like Reviewable have gone crazy a little bit.",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/835#issuecomment-296399734,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","Reviewed 4 of 4 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/835#issuecomment-296399963,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","Youre awesome man!!

If you can consider joining us in IRC too
‚Ä¶
On Apr 22, 2017 1:34 PM, ""Robin Lind√©n"" ***@***.***> wrote:
 Reviewed 4 of 4 files at r3.
 Review status: all files reviewed at latest revision, 2 unresolved
 discussions.
 ------------------------------

 *Comments from Reviewable
 <https://reviewable.io:443/reviews/utox/utox/835>*

 ‚Äî
 You are receiving this because you commented.
 Reply to this email directly, view it on GitHub
 <#835 (comment)>, or mute
 the thread
 <https://github.com/notifications/unsubscribe-auth/AAO20PqS8MazAYXNd7CKcqyt8tc2bwrTks5rymRUgaJpZM4M_oFr>
 .",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/835#issuecomment-296400227,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","Tested on Windows with and without password at 90%, 100%, and 110% DPI. Looks great. You did an amazing job with this. :)


Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/endoffile78,13,https://github.com/uTox/uTox/pull/835#issuecomment-296400632,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","Reviewed 4 of 4 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,835,2017-04-17T22:03:37Z,2017-04-22T20:51:55Z,2017-04-22T20:55:52Z,MERGED,True,87,71,3,https://github.com/redmanmale,UI redesign,1,[],https://github.com/uTox/uTox/pull/835,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/835#issuecomment-296400719,"Moved switches, fixed controls alignment.
Fixed #823, #821 and #850.
It looks like this now:



This change is‚ÄÇ","Reviewed 4 of 4 files at r3.
Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,836,2017-04-18T02:50:25Z,2017-04-18T05:43:24Z,2018-03-10T18:28:13Z,MERGED,True,37,41,16,https://github.com/endoffile78,Move somethings out of main.h,2,[],https://github.com/uTox/uTox/pull/836,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/836,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,836,2017-04-18T02:50:25Z,2017-04-18T05:43:24Z,2018-03-10T18:28:13Z,MERGED,True,37,41,16,https://github.com/endoffile78,Move somethings out of main.h,2,[],https://github.com/uTox/uTox/pull/836,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/836#issuecomment-294668408,This change is‚ÄÇ,"Reviewed 16 of 16 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,836,2017-04-18T02:50:25Z,2017-04-18T05:43:24Z,2018-03-10T18:28:13Z,MERGED,True,37,41,16,https://github.com/endoffile78,Move somethings out of main.h,2,[],https://github.com/uTox/uTox/pull/836,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/836#issuecomment-294691571,This change is‚ÄÇ,"Reviewed 16 of 16 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,837,2017-04-18T03:46:03Z,2017-04-18T05:46:49Z,2018-03-10T18:28:13Z,MERGED,True,26,25,8,https://github.com/endoffile78,Remove unneeded includes from xlib/main.h,1,[],https://github.com/uTox/uTox/pull/837,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/837,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,837,2017-04-18T03:46:03Z,2017-04-18T05:46:49Z,2018-03-10T18:28:13Z,MERGED,True,26,25,8,https://github.com/endoffile78,Remove unneeded includes from xlib/main.h,1,[],https://github.com/uTox/uTox/pull/837,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/837#issuecomment-294668793,This change is‚ÄÇ,"Reviewed 8 of 8 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,837,2017-04-18T03:46:03Z,2017-04-18T05:46:49Z,2018-03-10T18:28:13Z,MERGED,True,26,25,8,https://github.com/endoffile78,Remove unneeded includes from xlib/main.h,1,[],https://github.com/uTox/uTox/pull/837,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/837#issuecomment-294692331,This change is‚ÄÇ,"Reviewed 8 of 8 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,839,2017-04-18T04:13:13Z,2017-04-18T05:47:48Z,2017-04-18T05:47:48Z,MERGED,True,17,1,2,https://github.com/endoffile78,Fix some coverity warnings,2,[],https://github.com/uTox/uTox/pull/839,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/839,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,839,2017-04-18T04:13:13Z,2017-04-18T05:47:48Z,2017-04-18T05:47:48Z,MERGED,True,17,1,2,https://github.com/endoffile78,Fix some coverity warnings,2,[],https://github.com/uTox/uTox/pull/839,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/839#issuecomment-294673460,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,839,2017-04-18T04:13:13Z,2017-04-18T05:47:48Z,2017-04-18T05:47:48Z,MERGED,True,17,1,2,https://github.com/endoffile78,Fix some coverity warnings,2,[],https://github.com/uTox/uTox/pull/839,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/839#issuecomment-294691833,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 415 at r1 (raw file):

    XImage *img = XCreateImage(display, CopyFromParent, 8, ZPixmap, 0, data, width, height, 8, 0);

    if (bm < 0){

this needs to be before XCreateImage

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,839,2017-04-18T04:13:13Z,2017-04-18T05:47:48Z,2017-04-18T05:47:48Z,MERGED,True,17,1,2,https://github.com/endoffile78,Fix some coverity warnings,2,[],https://github.com/uTox/uTox/pull/839,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/839#issuecomment-294692309,This change is‚ÄÇ,"Review status: 1 of 2 files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 415 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this needs to be before XCreateImage

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,839,2017-04-18T04:13:13Z,2017-04-18T05:47:48Z,2017-04-18T05:47:48Z,MERGED,True,17,1,2,https://github.com/endoffile78,Fix some coverity warnings,2,[],https://github.com/uTox/uTox/pull/839,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/839#issuecomment-294692670,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,840,2017-04-18T06:10:41Z,2017-04-18T06:20:01Z,2018-03-10T18:28:10Z,MERGED,True,1,0,1,https://github.com/endoffile78,Fix xlib,1,[],https://github.com/uTox/uTox/pull/840,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/840,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,840,2017-04-18T06:10:41Z,2017-04-18T06:20:01Z,2018-03-10T18:28:10Z,MERGED,True,1,0,1,https://github.com/endoffile78,Fix xlib,1,[],https://github.com/uTox/uTox/pull/840,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/840#issuecomment-294698315,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,840,2017-04-18T06:10:41Z,2017-04-18T06:20:01Z,2018-03-10T18:28:10Z,MERGED,True,1,0,1,https://github.com/endoffile78,Fix xlib,1,[],https://github.com/uTox/uTox/pull/840,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/840#issuecomment-294698609,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,842,2017-04-18T20:28:40Z,2017-04-21T19:32:34Z,2017-04-24T04:39:40Z,MERGED,True,775,688,28,https://github.com/GrayHatter,UI refactor to make things cool and stuff,30,[],https://github.com/uTox/uTox/pull/842,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/842,"fixes #810

This change is‚ÄÇ","fixes #810

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,842,2017-04-18T20:28:40Z,2017-04-21T19:32:34Z,2017-04-24T04:39:40Z,MERGED,True,775,688,28,https://github.com/GrayHatter,UI refactor to make things cool and stuff,30,[],https://github.com/uTox/uTox/pull/842,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/842#issuecomment-295003917,"fixes #810

This change is‚ÄÇ","Reviewed 24 of 24 files at r1, 1 of 10 files at r2.
Review status: 16 of 25 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,842,2017-04-18T20:28:40Z,2017-04-21T19:32:34Z,2017-04-24T04:39:40Z,MERGED,True,775,688,28,https://github.com/GrayHatter,UI refactor to make things cool and stuff,30,[],https://github.com/uTox/uTox/pull/842,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/842#issuecomment-295004125,"fixes #810

This change is‚ÄÇ","Reviewed 9 of 10 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,842,2017-04-18T20:28:40Z,2017-04-21T19:32:34Z,2017-04-24T04:39:40Z,MERGED,True,775,688,28,https://github.com/GrayHatter,UI refactor to make things cool and stuff,30,[],https://github.com/uTox/uTox/pull/842,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/842#issuecomment-295384075,"fixes #810

This change is‚ÄÇ","Reviewed 15 of 24 files at r1, 10 of 10 files at r2, 1 of 3 files at r3.
Review status: 24 of 26 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,842,2017-04-18T20:28:40Z,2017-04-21T19:32:34Z,2017-04-24T04:39:40Z,MERGED,True,775,688,28,https://github.com/GrayHatter,UI refactor to make things cool and stuff,30,[],https://github.com/uTox/uTox/pull/842,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/842#issuecomment-295646111,"fixes #810

This change is‚ÄÇ","On Ubuntu 16.04 there's a glitch of status icon:

Also on Windows at DPI more than 100%:


Censorship is mine, glitches ‚Äî are not.",True,{}
uTox/uTox,https://github.com/uTox/uTox,842,2017-04-18T20:28:40Z,2017-04-21T19:32:34Z,2017-04-24T04:39:40Z,MERGED,True,775,688,28,https://github.com/GrayHatter,UI refactor to make things cool and stuff,30,[],https://github.com/uTox/uTox/pull/842,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/842#issuecomment-295789527,"fixes #810

This change is‚ÄÇ","New (and only) warning when compiling this on Windows.
/cygdrive/d/Projects/Tox/uTox/src/windows/main.7.c: In function ‚Äòlaunch_at_startup‚Äô:
/cygdrive/d/Projects/Tox/uTox/src/windows/main.7.c:142:56: warning: passing argument 3 of ‚ÄòRegSetKeyValueW‚Äô from incompatible pointer type [-Wincompatible-pointer-types]
             uint16_t ret = RegSetKeyValueW(hKey, NULL, L""uTox"", REG_SZ, path, path_length * 2);
                                                        ^
In file included from /usr/x86_64-w64-mingw32/sys-root/mingw/include/windows.h:76:0,
                 from /cygdrive/d/Projects/Tox/uTox/src/windows/main.h:30,
                 from /cygdrive/d/Projects/Tox/uTox/src/windows/main.7.c:7:
/usr/x86_64-w64-mingw32/sys-root/mingw/include/winreg.h:371:23: note: expected ‚ÄòLPCSTR {aka const char *}‚Äô but argument is of type ‚Äòshort unsigned int *‚Äô
 WINADVAPI LONG WINAPI RegSetKeyValueW(
                       ^",True,{}
uTox/uTox,https://github.com/uTox/uTox,842,2017-04-18T20:28:40Z,2017-04-21T19:32:34Z,2017-04-24T04:39:40Z,MERGED,True,775,688,28,https://github.com/GrayHatter,UI refactor to make things cool and stuff,30,[],https://github.com/uTox/uTox/pull/842,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/842#issuecomment-295808441,"fixes #810

This change is‚ÄÇ",@redmanmale do the size of the UI glitches with the buttons change with the DPI?,True,{}
uTox/uTox,https://github.com/uTox/uTox,842,2017-04-18T20:28:40Z,2017-04-21T19:32:34Z,2017-04-24T04:39:40Z,MERGED,True,775,688,28,https://github.com/GrayHatter,UI refactor to make things cool and stuff,30,[],https://github.com/uTox/uTox/pull/842,https://github.com/redmanmale,8,https://github.com/uTox/uTox/pull/842#issuecomment-295824635,"fixes #810

This change is‚ÄÇ","@GrayHatter
Size of glitches is corresponding with controls.
Higher DPI => bigger controls => bigger absolute size of glitches, but relative size is the same.",True,{}
uTox/uTox,https://github.com/uTox/uTox,842,2017-04-18T20:28:40Z,2017-04-21T19:32:34Z,2017-04-24T04:39:40Z,MERGED,True,775,688,28,https://github.com/GrayHatter,UI refactor to make things cool and stuff,30,[],https://github.com/uTox/uTox/pull/842,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/842#issuecomment-296285210,"fixes #810

This change is‚ÄÇ","Reviewed 2 of 3 files at r3, 1 of 3 files at r4, 1 of 1 files at r5, 2 of 2 files at r6.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,843,2017-04-19T12:12:01Z,2017-04-19T17:34:39Z,2017-04-19T17:34:39Z,MERGED,True,345,59,1,https://github.com/v2e,Ukrainian translation update for v.0.14.0,1,[],https://github.com/uTox/uTox/pull/843,https://github.com/v2e,1,https://github.com/uTox/uTox/pull/843,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,843,2017-04-19T12:12:01Z,2017-04-19T17:34:39Z,2017-04-19T17:34:39Z,MERGED,True,345,59,1,https://github.com/v2e,Ukrainian translation update for v.0.14.0,1,[],https://github.com/uTox/uTox/pull/843,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/843#issuecomment-295341845,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,843,2017-04-19T12:12:01Z,2017-04-19T17:34:39Z,2017-04-19T17:34:39Z,MERGED,True,345,59,1,https://github.com/v2e,Ukrainian translation update for v.0.14.0,1,[],https://github.com/uTox/uTox/pull/843,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/843#issuecomment-295346026,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,845,2017-04-20T20:34:41Z,2017-04-28T18:54:22Z,2017-08-26T13:09:24Z,CLOSED,False,911,900,65,https://github.com/robinlinden,Make logging pedantic and change the format.,1,[],https://github.com/uTox/uTox/pull/845,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/845,"New format follows file:line \n \t log_message \n \n
If you're not happy with the new format, I can revert that change and only make logging pedantic.
Sample:
robinli@nsa-hq /cygdrive/d/Projects/Tox/uTox/build
$ ./utox.exe -p -vvvv
/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:876
        Normal windows build

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:888
        Not skipping updater

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:726
        Starting

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:727
        Root D:\Projects\Tox\uTox\build\utox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:731
        Not the updater -- D:\Projects\Tox\uTox\build\utox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:775
        Starting

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:803
        No updater waiting for us

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:805
        Bad file name -- D:\Projects\Tox\uTox\build\next_uTox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/events.c:159
        WM_CREATE

/cygdrive/d/Projects/Tox/uTox/src/tox.c:297
        Using unencrypted save file; this could be insecure!

/cygdrive/d/Projects/Tox/uTox/src/tox.c:381
        Creating New Toxcore instance.
                IPv6 : 1
                UDP  : 1
                Proxy: 0  0

/cygdrive/d/Projects/Tox/uTox/src/friend.c:291
        Initializing friend list.

/cygdrive/d/Projects/Tox/uTox/src/friend.c:303
        Friendlist sucessfully initialized with 0 friends.

/cygdrive/d/Projects/Tox/uTox/src/avatar.c:87
        Unable to get saved avatar from disk for friend 44C99FFED31EE27F8E297D26740D08385849BA0A2A1E371B05A5244CD1128B54

/cygdrive/d/Projects/Tox/uTox/src/av/audio.c:548
        Audio Filtering and Echo cancellation enabled in this build

/cygdrive/d/Projects/Tox/uTox/src/av/video.c:58
        video init done!

/cygdrive/d/Projects/Tox/uTox/src/windows/audio.c:135
        Audio_init fail: 0

/cygdrive/d/Projects/Tox/uTox/src/settings.c:250
        Writing uTox Save

/cygdrive/d/Projects/Tox/uTox/src/main.c:287
        Clean exit.



This change is‚ÄÇ","New format follows file:line \n \t log_message \n \n
If you're not happy with the new format, I can revert that change and only make logging pedantic.
Sample:
robinli@nsa-hq /cygdrive/d/Projects/Tox/uTox/build
$ ./utox.exe -p -vvvv
/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:876
        Normal windows build

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:888
        Not skipping updater

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:726
        Starting

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:727
        Root D:\Projects\Tox\uTox\build\utox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:731
        Not the updater -- D:\Projects\Tox\uTox\build\utox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:775
        Starting

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:803
        No updater waiting for us

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:805
        Bad file name -- D:\Projects\Tox\uTox\build\next_uTox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/events.c:159
        WM_CREATE

/cygdrive/d/Projects/Tox/uTox/src/tox.c:297
        Using unencrypted save file; this could be insecure!

/cygdrive/d/Projects/Tox/uTox/src/tox.c:381
        Creating New Toxcore instance.
                IPv6 : 1
                UDP  : 1
                Proxy: 0  0

/cygdrive/d/Projects/Tox/uTox/src/friend.c:291
        Initializing friend list.

/cygdrive/d/Projects/Tox/uTox/src/friend.c:303
        Friendlist sucessfully initialized with 0 friends.

/cygdrive/d/Projects/Tox/uTox/src/avatar.c:87
        Unable to get saved avatar from disk for friend 44C99FFED31EE27F8E297D26740D08385849BA0A2A1E371B05A5244CD1128B54

/cygdrive/d/Projects/Tox/uTox/src/av/audio.c:548
        Audio Filtering and Echo cancellation enabled in this build

/cygdrive/d/Projects/Tox/uTox/src/av/video.c:58
        video init done!

/cygdrive/d/Projects/Tox/uTox/src/windows/audio.c:135
        Audio_init fail: 0

/cygdrive/d/Projects/Tox/uTox/src/settings.c:250
        Writing uTox Save

/cygdrive/d/Projects/Tox/uTox/src/main.c:287
        Clean exit.



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,845,2017-04-20T20:34:41Z,2017-04-28T18:54:22Z,2017-08-26T13:09:24Z,CLOSED,False,911,900,65,https://github.com/robinlinden,Make logging pedantic and change the format.,1,[],https://github.com/uTox/uTox/pull/845,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/845#issuecomment-296454815,"New format follows file:line \n \t log_message \n \n
If you're not happy with the new format, I can revert that change and only make logging pedantic.
Sample:
robinli@nsa-hq /cygdrive/d/Projects/Tox/uTox/build
$ ./utox.exe -p -vvvv
/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:876
        Normal windows build

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:888
        Not skipping updater

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:726
        Starting

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:727
        Root D:\Projects\Tox\uTox\build\utox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:731
        Not the updater -- D:\Projects\Tox\uTox\build\utox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:775
        Starting

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:803
        No updater waiting for us

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:805
        Bad file name -- D:\Projects\Tox\uTox\build\next_uTox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/events.c:159
        WM_CREATE

/cygdrive/d/Projects/Tox/uTox/src/tox.c:297
        Using unencrypted save file; this could be insecure!

/cygdrive/d/Projects/Tox/uTox/src/tox.c:381
        Creating New Toxcore instance.
                IPv6 : 1
                UDP  : 1
                Proxy: 0  0

/cygdrive/d/Projects/Tox/uTox/src/friend.c:291
        Initializing friend list.

/cygdrive/d/Projects/Tox/uTox/src/friend.c:303
        Friendlist sucessfully initialized with 0 friends.

/cygdrive/d/Projects/Tox/uTox/src/avatar.c:87
        Unable to get saved avatar from disk for friend 44C99FFED31EE27F8E297D26740D08385849BA0A2A1E371B05A5244CD1128B54

/cygdrive/d/Projects/Tox/uTox/src/av/audio.c:548
        Audio Filtering and Echo cancellation enabled in this build

/cygdrive/d/Projects/Tox/uTox/src/av/video.c:58
        video init done!

/cygdrive/d/Projects/Tox/uTox/src/windows/audio.c:135
        Audio_init fail: 0

/cygdrive/d/Projects/Tox/uTox/src/settings.c:250
        Writing uTox Save

/cygdrive/d/Projects/Tox/uTox/src/main.c:287
        Clean exit.



This change is‚ÄÇ","Reviewed 65 of 65 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/debug.h, line 42 at r1 (raw file):

#define LOG_FATAL_ERR(ex, ...) \
    printf(""%s:%d\n\t"", __FILE__, __LINE__); debug(__VA_ARGS__); exit(ex)

If you set a log file only the arguments are wrote to the file and they are clobbered together.

src/logging.c, line 23 at r1 (raw file):

    va_end(list);

    printf(""\n\n"");

This should be fprintf(settings.debug_file, ""\n\n"");

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,845,2017-04-20T20:34:41Z,2017-04-28T18:54:22Z,2017-08-26T13:09:24Z,CLOSED,False,911,900,65,https://github.com/robinlinden,Make logging pedantic and change the format.,1,[],https://github.com/uTox/uTox/pull/845,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/845#issuecomment-297499763,"New format follows file:line \n \t log_message \n \n
If you're not happy with the new format, I can revert that change and only make logging pedantic.
Sample:
robinli@nsa-hq /cygdrive/d/Projects/Tox/uTox/build
$ ./utox.exe -p -vvvv
/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:876
        Normal windows build

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:888
        Not skipping updater

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:726
        Starting

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:727
        Root D:\Projects\Tox\uTox\build\utox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:731
        Not the updater -- D:\Projects\Tox\uTox\build\utox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:775
        Starting

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:803
        No updater waiting for us

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:805
        Bad file name -- D:\Projects\Tox\uTox\build\next_uTox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/events.c:159
        WM_CREATE

/cygdrive/d/Projects/Tox/uTox/src/tox.c:297
        Using unencrypted save file; this could be insecure!

/cygdrive/d/Projects/Tox/uTox/src/tox.c:381
        Creating New Toxcore instance.
                IPv6 : 1
                UDP  : 1
                Proxy: 0  0

/cygdrive/d/Projects/Tox/uTox/src/friend.c:291
        Initializing friend list.

/cygdrive/d/Projects/Tox/uTox/src/friend.c:303
        Friendlist sucessfully initialized with 0 friends.

/cygdrive/d/Projects/Tox/uTox/src/avatar.c:87
        Unable to get saved avatar from disk for friend 44C99FFED31EE27F8E297D26740D08385849BA0A2A1E371B05A5244CD1128B54

/cygdrive/d/Projects/Tox/uTox/src/av/audio.c:548
        Audio Filtering and Echo cancellation enabled in this build

/cygdrive/d/Projects/Tox/uTox/src/av/video.c:58
        video init done!

/cygdrive/d/Projects/Tox/uTox/src/windows/audio.c:135
        Audio_init fail: 0

/cygdrive/d/Projects/Tox/uTox/src/settings.c:250
        Writing uTox Save

/cygdrive/d/Projects/Tox/uTox/src/main.c:287
        Clean exit.



This change is‚ÄÇ","@robinlinden per irc -> revert the formatting change
+@endoffile78

Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,845,2017-04-20T20:34:41Z,2017-04-28T18:54:22Z,2017-08-26T13:09:24Z,CLOSED,False,911,900,65,https://github.com/robinlinden,Make logging pedantic and change the format.,1,[],https://github.com/uTox/uTox/pull/845,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/845#issuecomment-298079076,"New format follows file:line \n \t log_message \n \n
If you're not happy with the new format, I can revert that change and only make logging pedantic.
Sample:
robinli@nsa-hq /cygdrive/d/Projects/Tox/uTox/build
$ ./utox.exe -p -vvvv
/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:876
        Normal windows build

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:888
        Not skipping updater

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:726
        Starting

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:727
        Root D:\Projects\Tox\uTox\build\utox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:731
        Not the updater -- D:\Projects\Tox\uTox\build\utox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:775
        Starting

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:803
        No updater waiting for us

/cygdrive/d/Projects/Tox/uTox/src/windows/main.c:805
        Bad file name -- D:\Projects\Tox\uTox\build\next_uTox.exe

/cygdrive/d/Projects/Tox/uTox/src/windows/events.c:159
        WM_CREATE

/cygdrive/d/Projects/Tox/uTox/src/tox.c:297
        Using unencrypted save file; this could be insecure!

/cygdrive/d/Projects/Tox/uTox/src/tox.c:381
        Creating New Toxcore instance.
                IPv6 : 1
                UDP  : 1
                Proxy: 0  0

/cygdrive/d/Projects/Tox/uTox/src/friend.c:291
        Initializing friend list.

/cygdrive/d/Projects/Tox/uTox/src/friend.c:303
        Friendlist sucessfully initialized with 0 friends.

/cygdrive/d/Projects/Tox/uTox/src/avatar.c:87
        Unable to get saved avatar from disk for friend 44C99FFED31EE27F8E297D26740D08385849BA0A2A1E371B05A5244CD1128B54

/cygdrive/d/Projects/Tox/uTox/src/av/audio.c:548
        Audio Filtering and Echo cancellation enabled in this build

/cygdrive/d/Projects/Tox/uTox/src/av/video.c:58
        video init done!

/cygdrive/d/Projects/Tox/uTox/src/windows/audio.c:135
        Audio_init fail: 0

/cygdrive/d/Projects/Tox/uTox/src/settings.c:250
        Writing uTox Save

/cygdrive/d/Projects/Tox/uTox/src/main.c:287
        Clean exit.



This change is‚ÄÇ",Probably not going to fix this PR. The format change made it trivial to make logging pedantic. Will reopen if I change my mind or feel like spending more time on this.,True,{}
uTox/uTox,https://github.com/uTox/uTox,846,2017-04-21T02:21:38Z,2017-04-23T17:52:29Z,2017-04-23T17:52:29Z,MERGED,True,192,0,5,https://github.com/endoffile78,Initial version of chrono,3,[],https://github.com/uTox/uTox/pull/846,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/846,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,846,2017-04-21T02:21:38Z,2017-04-23T17:52:29Z,2017-04-23T17:52:29Z,MERGED,True,192,0,5,https://github.com/endoffile78,Initial version of chrono,3,[],https://github.com/uTox/uTox/pull/846,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/846#issuecomment-296078348,This change is‚ÄÇ,"This is a good start.
Then next function I need is a simple sleep with a basic callback when done. I'll add more information to IRC later, but it should be able to replace the tooltip threads we're using now.

Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/chrono.c, line 15 at r1 (raw file):

    chrono_thread_init = true;
    CHRONO_INFO *info = args;
    while(!info->finished) {

for the first one I want to use, I need something like while (info->current != info->target) ...
It won't work for every case, but let's start with that one.

src/chrono.h, line 10 at r1 (raw file):

    uint8_t *ptr;
    int step;
    uint32_t interval;

interval should probably be int32 so we can use it to decrement without changing chrono.c internals.

src/chrono.h, line 27 at r1 (raw file):

/*
 * Ehds the chrono thread

Ends

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,846,2017-04-21T02:21:38Z,2017-04-23T17:52:29Z,2017-04-23T17:52:29Z,MERGED,True,192,0,5,https://github.com/endoffile78,Initial version of chrono,3,[],https://github.com/uTox/uTox/pull/846,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/846#issuecomment-296320870,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/chrono.c, line 15 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
for the first one I want to use, I need something like while (info->current != info->target) ...
It won't work for every case, but let's start with that one.

Done.

src/chrono.h, line 10 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
interval should probably be int32 so we can use it to decrement without changing chrono.c internals.

interval is how long it will sleep. step is what increments/decrements the pointer.

src/chrono.h, line 27 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Ends

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,846,2017-04-21T02:21:38Z,2017-04-23T17:52:29Z,2017-04-23T17:52:29Z,MERGED,True,192,0,5,https://github.com/endoffile78,Initial version of chrono,3,[],https://github.com/uTox/uTox/pull/846,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/846#issuecomment-296327540,This change is‚ÄÇ,"+@GrayHatter

Reviewed 1 of 3 files at r2.
Review status: 3 of 5 files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/chrono.h, line 10 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
interval is how long it will sleep. step is what increments/decrements the pointer.

LGTM oh... yeah I would have realized that if I could read :/

src/chrono.h, line 35 at r2 (raw file):

 * Sleep and then
 */
void sleep_callback(uint32_t ms, void func(void *), void *funcargs);

chrono_callback() instead?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,846,2017-04-21T02:21:38Z,2017-04-23T17:52:29Z,2017-04-23T17:52:29Z,MERGED,True,192,0,5,https://github.com/endoffile78,Initial version of chrono,3,[],https://github.com/uTox/uTox/pull/846,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/846#issuecomment-296366862,This change is‚ÄÇ,"Reviewed 2 of 5 files at r1, 3 of 3 files at r2.
Review status: all files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

src/chrono.c, line 1 at r2 (raw file):

#include ""chrono.h""

Nit: Blank line after main include and sort the includes.

src/chrono.h, line 5 at r2 (raw file):

#include <stdint.h>
#include <stdbool.h>

Nit: Not sorted.

src/chrono.h, line 10 at r2 (raw file):

    uint8_t *ptr, *target;
    int step;
    uint32_t interval; // in milliseconds

You could rename this to interval_ms and drop the comment.

src/chrono.h, line 16 at r2 (raw file):

typedef struct chrono_info CHRONO_INFO;

bool chrono_thread_init = false;

extern bool chrono_thread_init in chrono.h and bool chrono_thread_init = false in chrono.c

tests/test_chrono.c, line 12 at r2 (raw file):

START_TEST (test_chrono_finished)
{
    CHRONO_INFO *info = malloc(sizeof(CHRONO_INFO*));

I think you meant sizeof(CHRONO_INFO)

tests/test_chrono.c, line 37 at r2 (raw file):

START_TEST(test_chrono_target)
{
    CHRONO_INFO *info = malloc(sizeof(CHRONO_INFO*));

I think you meant sizeof(CHRONO_INFO). Otherwise you're only getting the size of a pointer. (Probably way less than you want to allocate.)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,846,2017-04-21T02:21:38Z,2017-04-23T17:52:29Z,2017-04-23T17:52:29Z,MERGED,True,192,0,5,https://github.com/endoffile78,Initial version of chrono,3,[],https://github.com/uTox/uTox/pull/846,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/846#issuecomment-296389920,This change is‚ÄÇ,"Review status: 2 of 5 files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

src/chrono.c, line 1 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Nit: Blank line after main include and sort the includes.

Done.

src/chrono.h, line 5 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Nit: Not sorted.

Done.

src/chrono.h, line 10 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You could rename this to interval_ms and drop the comment.

Done.

src/chrono.h, line 16 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
extern bool chrono_thread_init in chrono.h and bool chrono_thread_init = false in chrono.c

Done.

src/chrono.h, line 35 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
chrono_callback() instead?

Done.

tests/test_chrono.c, line 12 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I think you meant sizeof(CHRONO_INFO)

Done.

tests/test_chrono.c, line 37 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I think you meant sizeof(CHRONO_INFO). Otherwise you're only getting the size of a pointer. (Probably way less than you want to allocate.)

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,846,2017-04-21T02:21:38Z,2017-04-23T17:52:29Z,2017-04-23T17:52:29Z,MERGED,True,192,0,5,https://github.com/endoffile78,Initial version of chrono,3,[],https://github.com/uTox/uTox/pull/846,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/846#issuecomment-296450196,This change is‚ÄÇ,"Reviewed 5 of 5 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,846,2017-04-21T02:21:38Z,2017-04-23T17:52:29Z,2017-04-23T17:52:29Z,MERGED,True,192,0,5,https://github.com/endoffile78,Initial version of chrono,3,[],https://github.com/uTox/uTox/pull/846,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/846#issuecomment-296466904,This change is‚ÄÇ,"Reviewed 5 of 5 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,847,2017-04-21T03:01:28Z,2017-04-21T19:33:22Z,2018-03-10T18:28:11Z,MERGED,True,61,2,2,https://github.com/endoffile78,Add OpenBSD and FreeBSD instructions to BUILD.md and INSTALL.md,1,[],https://github.com/uTox/uTox/pull/847,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/847,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,848,2017-04-21T21:26:40Z,2017-04-21T21:33:31Z,2017-04-21T21:33:31Z,MERGED,True,2,2,1,https://github.com/nurupo,Fix dbus includes,1,[],https://github.com/uTox/uTox/pull/848,https://github.com/nurupo,1,https://github.com/uTox/uTox/pull/848,"It should have been DIRS, not DIR (see).


This change is‚ÄÇ","It should have been DIRS, not DIR (see).


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,848,2017-04-21T21:26:40Z,2017-04-21T21:33:31Z,2017-04-21T21:33:31Z,MERGED,True,2,2,1,https://github.com/nurupo,Fix dbus includes,1,[],https://github.com/uTox/uTox/pull/848,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/848#issuecomment-296310179,"It should have been DIRS, not DIR (see).


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,848,2017-04-21T21:26:40Z,2017-04-21T21:33:31Z,2017-04-21T21:33:31Z,MERGED,True,2,2,1,https://github.com/nurupo,Fix dbus includes,1,[],https://github.com/uTox/uTox/pull/848,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/848#issuecomment-296310514,"It should have been DIRS, not DIR (see).


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,848,2017-04-21T21:26:40Z,2017-04-21T21:33:31Z,2017-04-21T21:33:31Z,MERGED,True,2,2,1,https://github.com/nurupo,Fix dbus includes,1,[],https://github.com/uTox/uTox/pull/848,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/848#issuecomment-296310530,"It should have been DIRS, not DIR (see).


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved, some commit checks pending.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,849,2017-04-21T22:42:47Z,2017-04-22T11:18:22Z,2017-04-22T11:18:22Z,MERGED,True,11,8,4,https://github.com/nurupo,Enable updater test only when updater is enabled,3,[],https://github.com/uTox/uTox/pull/849,https://github.com/nurupo,1,https://github.com/uTox/uTox/pull/849,"Also includes a commit trying to enable dbus on Travis. I can split it in a separate PR if needed.


This change is‚ÄÇ","Also includes a commit trying to enable dbus on Travis. I can split it in a separate PR if needed.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,849,2017-04-21T22:42:47Z,2017-04-22T11:18:22Z,2017-04-22T11:18:22Z,MERGED,True,11,8,4,https://github.com/nurupo,Enable updater test only when updater is enabled,3,[],https://github.com/uTox/uTox/pull/849,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/849#issuecomment-296326971,"Also includes a commit trying to enable dbus on Travis. I can split it in a separate PR if needed.


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

.travis.yml, line 19 at r1 (raw file):

      - check
      - pkg-config
      - libdbus-1-dev

IIRC this is already installed?

extra/travis/linux-script.sh, line 6 at r1 (raw file):

. ./extra/travis/env.sh
pkg-config --cflags dbus-1
cmake . -DCMAKE_INCLUDE_PATH=""$CACHE_DIR/usr/lib"" -DENABLE_TESTS=ON -DENABLE_WERROR=ON -DENABLE_DBUS=ON -DENABLE_AUTOUPDATE=ON

BTW, if you have to touch this file again, can you split each define onto it's own line
    -DCMAKE_INCLUDE_PATH=""$CACHE_DIR/usr/lib"" \
    -DENABLE_TESTS=ON \
    -DENABLE_WERROR=ON \
    -DENABLE_DBUS=ON \
    -DENABLE_AUTOUPDATE=ON


tests/CMakeLists.txt, line 39 at r1 (raw file):

make_test(chatlog)

if(${ENABLE_AUTOUPDATE})

I don't think you need the ${} for cmake do you?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,849,2017-04-21T22:42:47Z,2017-04-22T11:18:22Z,2017-04-22T11:18:22Z,MERGED,True,11,8,4,https://github.com/nurupo,Enable updater test only when updater is enabled,3,[],https://github.com/uTox/uTox/pull/849,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/849#issuecomment-296327713,"Also includes a commit trying to enable dbus on Travis. I can split it in a separate PR if needed.


This change is‚ÄÇ","Review status: 2 of 3 files reviewed at latest revision, 3 unresolved discussions.

.travis.yml, line 19 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
IIRC this is already installed?

LGTM
nope, I'm wrong, it's needed

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,849,2017-04-21T22:42:47Z,2017-04-22T11:18:22Z,2017-04-22T11:18:22Z,MERGED,True,11,8,4,https://github.com/nurupo,Enable updater test only when updater is enabled,3,[],https://github.com/uTox/uTox/pull/849,https://github.com/nurupo,4,https://github.com/uTox/uTox/pull/849#issuecomment-296332126,"Also includes a commit trying to enable dbus on Travis. I can split it in a separate PR if needed.


This change is‚ÄÇ","Review status: 0 of 4 files reviewed at latest revision, 3 unresolved discussions.

extra/travis/linux-script.sh, line 6 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
BTW, if you have to touch this file again, can you split each define onto it's own line
    -DCMAKE_INCLUDE_PATH=""$CACHE_DIR/usr/lib"" \
    -DENABLE_TESTS=ON \
    -DENABLE_WERROR=ON \
    -DENABLE_DBUS=ON \
    -DENABLE_AUTOUPDATE=ON


Done

tests/CMakeLists.txt, line 39 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I don't think you need the ${} for cmake do you?

I guess it works both ways. Removed${}.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,849,2017-04-21T22:42:47Z,2017-04-22T11:18:22Z,2017-04-22T11:18:22Z,MERGED,True,11,8,4,https://github.com/nurupo,Enable updater test only when updater is enabled,3,[],https://github.com/uTox/uTox/pull/849,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/849#issuecomment-296342376,"Also includes a commit trying to enable dbus on Travis. I can split it in a separate PR if needed.


This change is‚ÄÇ","Reviewed 3 of 4 files at r2.
Review status: 3 of 4 files reviewed at latest revision, 2 unresolved discussions.

extra/common/env.sh, line 19 at r2 (raw file):

export LD_LIBRARY_PATH=""${CACHE_DIR}/usr/lib:/usr/lib""

export PKG_CONFIG_PATH=""${CACHE_DIR}/usr/lib/pkgconfig""

does this break the OSX docker build?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,849,2017-04-21T22:42:47Z,2017-04-22T11:18:22Z,2017-04-22T11:18:22Z,MERGED,True,11,8,4,https://github.com/nurupo,Enable updater test only when updater is enabled,3,[],https://github.com/uTox/uTox/pull/849,https://github.com/nurupo,6,https://github.com/uTox/uTox/pull/849#issuecomment-296342551,"Also includes a commit trying to enable dbus on Travis. I can split it in a separate PR if needed.


This change is‚ÄÇ","Review status: 3 of 4 files reviewed at latest revision, 2 unresolved discussions.

extra/common/env.sh, line 19 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
does this break the OSX docker build?

No idea what the ""OSX docker build"" is. All Travis builds seem to pass, if that's what you are about.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,849,2017-04-21T22:42:47Z,2017-04-22T11:18:22Z,2017-04-22T11:18:22Z,MERGED,True,11,8,4,https://github.com/nurupo,Enable updater test only when updater is enabled,3,[],https://github.com/uTox/uTox/pull/849,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/849#issuecomment-296342659,"Also includes a commit trying to enable dbus on Travis. I can split it in a separate PR if needed.


This change is‚ÄÇ","Reviewed 1 of 4 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

extra/common/env.sh, line 19 at r2 (raw file):
Previously, nurupo wrote‚Ä¶
No idea what the ""OSX docker build"" is. All Travis builds seem to pass, if that's what you are about.

LGTM No, the OSX docker build runs on our gitlab CI, it does pass however.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,849,2017-04-21T22:42:47Z,2017-04-22T11:18:22Z,2017-04-22T11:18:22Z,MERGED,True,11,8,4,https://github.com/nurupo,Enable updater test only when updater is enabled,3,[],https://github.com/uTox/uTox/pull/849,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/849#issuecomment-296366386,"Also includes a commit trying to enable dbus on Travis. I can split it in a separate PR if needed.


This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/852,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/852#issuecomment-296392186,This change is‚ÄÇ,"Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/v2e,3,https://github.com/uTox/uTox/pull/852#issuecomment-296398786,This change is‚ÄÇ,Is there a way for an actual translation to get into the current release? It would be a bit strange to always translate the greetings and changelog for the previous version.,True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/852#issuecomment-296399372,This change is‚ÄÇ,"@v2e Heh. Yeah, that is true. We could add you to the uTox org and I'll tick the box that allow you to push a commit to this branch with the Ukrainian translation. Would that be okay? Alternatively, you could provide a patch or something and I'll add it to the commit I made.",True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/852#issuecomment-296401065,This change is‚ÄÇ,"Reviewed 4 of 5 files at r1, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/852#issuecomment-296402647,This change is‚ÄÇ,"Russian translation for latest changelog.
https://gist.github.com/redmanmale/43bd7bffc1c628f1897ef7f71e7e7e9b",True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/v2e,7,https://github.com/uTox/uTox/pull/852#issuecomment-296402690,This change is‚ÄÇ,@robinlinden What is the best way to do it? I am not sure what the title of this pull request actually means. Does it mean nothing will be added to v.0.15.0 after it is merged?,True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/852#issuecomment-296403234,This change is‚ÄÇ,"@v2e You could join IRC for easier communication. :P Other than that, we're happy with whatever way you think is convenient.
Yeah, nothing will be added to 0.15.0 after this is merged. We're going to start having a longer lead time on the release PRs so people have time to translate the changelog and stuff if they want to starting next release.",True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/852#issuecomment-296405035,This change is‚ÄÇ,"Reviewed 2 of 2 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/v2e,10,https://github.com/uTox/uTox/pull/852#issuecomment-296405481,This change is‚ÄÇ,Here is a patch for v.0.15.0: https://gist.github.com/v2e/f4207749f166e7e7ad9c40183166b626,True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/852#issuecomment-296405892,This change is‚ÄÇ,"Thank you so much, @v2e! If you want, we'll add you to the uTox org and the translation team so we can tag you in releases. (If you want to continue contributing, of course.) :P",True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/v2e,12,https://github.com/uTox/uTox/pull/852#issuecomment-296406101,This change is‚ÄÇ,"@robinlinden I am not sure what exactly the 'tagging' means, but yes, I would like to contribute to uTox in the future.",True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/852#issuecomment-296406268,This change is‚ÄÇ,"Reviewed 4 of 4 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/redmanmale,14,https://github.com/uTox/uTox/pull/852#issuecomment-296406414,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,852,2017-04-22T17:38:09Z,2017-04-22T22:47:22Z,2017-04-22T22:47:27Z,MERGED,True,61,13,7,https://github.com/robinlinden,Release v0.15.0,1,[],https://github.com/uTox/uTox/pull/852,https://github.com/redmanmale,15,https://github.com/uTox/uTox/pull/852#issuecomment-296406466,This change is‚ÄÇ,"Reviewed 3 of 5 files at r1, 4 of 4 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,853,2017-04-22T23:31:18Z,2017-04-23T02:13:37Z,2017-04-23T02:13:37Z,MERGED,True,2177,1350,99,https://github.com/GrayHatter,v0.15.0,91,[],https://github.com/uTox/uTox/pull/853,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/853,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,853,2017-04-22T23:31:18Z,2017-04-23T02:13:37Z,2017-04-23T02:13:37Z,MERGED,True,2177,1350,99,https://github.com/GrayHatter,v0.15.0,91,[],https://github.com/uTox/uTox/pull/853,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/853#issuecomment-296408635,This change is‚ÄÇ,"Reviewed 100 of 100 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,853,2017-04-22T23:31:18Z,2017-04-23T02:13:37Z,2017-04-23T02:13:37Z,MERGED,True,2177,1350,99,https://github.com/GrayHatter,v0.15.0,91,[],https://github.com/uTox/uTox/pull/853,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/853#issuecomment-296412224,This change is‚ÄÇ,"Reviewed 100 of 100 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/854,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/publicarray,2,https://github.com/uTox/uTox/pull/854#issuecomment-296418076,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ",Pinging @stal888 any objections?,True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/stal888,3,https://github.com/uTox/uTox/pull/854#issuecomment-296418464,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","not an objection, but can't we find toxcore headers with pkgconfig?",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/publicarray,4,https://github.com/uTox/uTox/pull/854#issuecomment-296419235,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ",I think that is a good idea. I just have to figure out how to do it :),True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/stal888,5,https://github.com/uTox/uTox/pull/854#issuecomment-296420846,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","I don't know how to operate cmake, so I'll leave the final review to @GrayHatter .",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/publicarray,6,https://github.com/uTox/uTox/pull/854#issuecomment-296421924,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ",@stal888 I think it would be better to do it in a separate pull request. It would make sense to use pkgconfig for filter_audio as well.,True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/854#issuecomment-296424330,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","I only know cmake enough to break it.
@cebe or @endoffile78 who seem to fix cmake files when I break them.",True,"{'LAUGH': ['https://github.com/redmanmale', 'https://github.com/publicarray']}"
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/854#issuecomment-296424696,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","I agree with @stal888, using pkg-config would be better. But I can't test it out, so this is better than it was!
Needs one more LGTM before merge
@publicarray if you're willing to keep contributing and helping out. We can add you to the dev list if you'd like. It'd make it easier to work on uTox, when you can merge your own branches. And we could really use an OSX dev üòÅ

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

CMakeLists.txt, line 279 at r1 (raw file):

    # Make apple icon
    set(APPLE_ICON utox.icns)
    add_custom_command(OUTPUT utox.icns

add_custom_command will delete the created files with make clean. Is this what you want? or is this something we might want to commit to the repo. (This is a question. There's no reason we can't do both)

CMakeLists.txt, line 357 at r1 (raw file):

set_property(TARGET utox PROPERTY C_STANDARD 11)
if(APPLE)
    set_target_properties(utox PROPERTIES MACOSX_BUNDLE_BUNDLE_VERSION ${PROJECT_VERSION})

Does this still work if we put it all in the cocoa/CMakeLists.txt file?
I'm going to asume it won't but I'd still like to try it?

CMakeLists.txt, line 362 at r1 (raw file):

    set_target_properties(utox PROPERTIES MACOSX_BUNDLE_GUI_IDENTIFIER ""org.utox.future"")
    set_target_properties(utox PROPERTIES MACOSX_BUNDLE_BUNDLE_NAME ""uTox"")
    set_target_properties(utox PROPERTIES MACOSX_BUNDLE_COPYRIGHT ""Copyright ¬© 2015-2017 Tox project. All rights reserved."")

Copyright 2017 uTox Contributors, Some Rights Reserved

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/854#issuecomment-296450025,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

CMakeLists.txt, line 357 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Does this still work if we put it all in the cocoa/CMakeLists.txt file?
I'm going to asume it won't but I'd still like to try it?

We could put it in a separate file and include(cmake/osx.cmake) or something along those lines. (Or I think that should work.)

CMakeLists.txt, line 360 at r1 (raw file):

    set_target_properties(utox PROPERTIES MACOSX_BUNDLE_SHORT_VERSION_STRING ${PROJECT_VERSION})
    set_target_properties(utox PROPERTIES MACOSX_BUNDLE_LONG_VERSION_STRING ${PROJECT_VERSION})
    set_target_properties(utox PROPERTIES MACOSX_BUNDLE_GUI_IDENTIFIER ""org.utox.future"")

Our domain is utox.io, so this should probably be io.utox.future
(Assuming this works the same as it does for Android packages and that stuff.)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/854#issuecomment-296451806,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/854#issuecomment-296467160,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ",@publicarray To use pkg-config you need to add something like find_packge(Toxcore REQUIRED) and then you will probably have to write a FindToxcore.cmake and put it in the cmake directory. But what you have done is better than what we had so if you dont want to do that thats fine.,True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/854#issuecomment-296467338,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 4 unresolved discussions.

CMakeLists.txt, line 357 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
We could put it in a separate file and include(cmake/osx.cmake) or something along those lines. (Or I think that should work.)

nah, here is fine if it doesn't work in the cocoa dir

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/publicarray,13,https://github.com/uTox/uTox/pull/854#issuecomment-296489386,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","Review status: 0 of 2 files reviewed at latest revision, 4 unresolved discussions.

CMakeLists.txt, line 279 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
add_custom_command will delete the created files with make clean. Is this what you want? or is this something we might want to commit to the repo. (This is a question. There's no reason we can't do both)

hm I don't mind either way but adding it to the repo seems unnecessary when the file can be generated (on every mac)

CMakeLists.txt, line 357 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
nah, here is fine if it doesn't work in the cocoa dir

Unfortunately set_targe_properties requires the target to be defined beforehand. +1 on the seperate files for platform specific build stuff though. Your decision of course :)

CMakeLists.txt, line 362 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Copyright 2017 uTox Contributors, Some Rights Reserved

I've just copied from cocoa/Info.plist should I change it there too?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/publicarray,14,https://github.com/uTox/uTox/pull/854#issuecomment-296490414,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","@endoffile78 thanks for the info after a little goggling I had an attempt at pkg-config stuff. https://github.com/publicarray/uTox/tree/pkgconfig
@GrayHatter and @robinlinden Thanks for asking me to be a dev on this awesome project. I'm just afraid of messing something up with git üòá  But I'm happy to help out, also I don't have much experience. but I see what I can do.",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/854#issuecomment-296491326,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","@publicarray you don't have to worry about messing anything up, everything in uTox gets review by at least 1 extra developer, so there's no risk of messing anything up. (At least no additional risk, if everyone messes up the review, it was gonna happen no matter what)
Meanwhile now uTox builds on OSX again.

Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

CMakeLists.txt, line 279 at r1 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
hm I don't mind either way but adding it to the repo seems unnecessary when the file can be generated (on every mac)

LGTM then

CMakeLists.txt, line 357 at r1 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Unfortunately set_targe_properties requires the target to be defined beforehand. +1 on the seperate files for platform specific build stuff though. Your decision of course :)

OK, it's a setting on the final binary. It needs to be here. and if it becomes to messy, we can add more comments.

CMakeLists.txt, line 362 at r1 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
I've just copied from cocoa/Info.plist should I change it there too?

yes please

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/GrayHatter,16,https://github.com/uTox/uTox/pull/854#issuecomment-296492009,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","+@robinlinden

Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/GrayHatter,17,https://github.com/uTox/uTox/pull/854#issuecomment-296492078,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","-@robinlinden +@endoffile78

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/publicarray,18,https://github.com/uTox/uTox/pull/854#issuecomment-296492273,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","@GrayHatter OK than. You convinced me :)

Review status: all files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 362 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
yes please

done :)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/publicarray,19,https://github.com/uTox/uTox/pull/854#issuecomment-296492613,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ",Sorry I didn't realise that I just added unnecessary overhead with my comment on Reviewable.,True,{}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/robinlinden,20,https://github.com/uTox/uTox/pull/854#issuecomment-296492688,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","but I still think we should try to move platform-specific CMakeMagic to files we include in order to keep the main one clean. Can be done after this PR if anyone feels like it though.

Reviewed 2 of 2 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{'THUMBS_UP': ['https://github.com/publicarray']}
uTox/uTox,https://github.com/uTox/uTox,854,2017-04-23T03:42:12Z,2017-04-24T00:19:13Z,2017-04-24T03:20:34Z,MERGED,True,29,9,3,https://github.com/publicarray,Improve macOS Builds,7,[],https://github.com/uTox/uTox/pull/854,https://github.com/stal888,21,https://github.com/uTox/uTox/pull/854#issuecomment-296515838,"Both make and Xcode now create valid Info.plist files but only Xcode builds get the nice app icon, not quite sure why. The inclusion of more search paths for mac builds should make it easier to build the project.


This change is‚ÄÇ","closing thoughts: i miss the old bundle identifier, future.utox",True,{}
uTox/uTox,https://github.com/uTox/uTox,856,2017-04-23T15:59:32Z,2017-04-23T18:38:32Z,2017-04-23T18:38:32Z,MERGED,True,321,155,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/856,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/856,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,856,2017-04-23T15:59:32Z,2017-04-23T18:38:32Z,2017-04-23T18:38:32Z,MERGED,True,321,155,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/856,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/856#issuecomment-296463521,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,856,2017-04-23T15:59:32Z,2017-04-23T18:38:32Z,2017-04-23T18:38:32Z,MERGED,True,321,155,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/856,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/856#issuecomment-296473609,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,857,2017-04-23T18:19:19Z,2017-05-10T06:09:36Z,2018-03-10T18:28:17Z,MERGED,True,19,1,7,https://github.com/endoffile78,Fix problems detected by coverity,1,[],https://github.com/uTox/uTox/pull/857,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/857,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,857,2017-04-23T18:19:19Z,2017-05-10T06:09:36Z,2018-03-10T18:28:17Z,MERGED,True,19,1,7,https://github.com/endoffile78,Fix problems detected by coverity,1,[],https://github.com/uTox/uTox/pull/857,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/857#issuecomment-296473559,This change is‚ÄÇ,"Reviewed 7 of 7 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,857,2017-04-23T18:19:19Z,2017-05-10T06:09:36Z,2018-03-10T18:28:17Z,MERGED,True,19,1,7,https://github.com/endoffile78,Fix problems detected by coverity,1,[],https://github.com/uTox/uTox/pull/857,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/857#issuecomment-296486050,This change is‚ÄÇ,"Reviewed 6 of 7 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/chatlog.c, line 155 at r1 (raw file):

            if (!msg) {
                LOG_ERR(""Chatlog"", ""Unable to malloc... sorry!"");
                free(start);

did you do an indepth review on chatlog.c to make sure we're not trying to free a pointer after changing it's location with *p++?
If not, just drop the chatlog.c changes because I'm concerned it really needs a full line by line review (and then obviously a refactor to split some of it into separate functions), and that this will fix the warning, but not the root issue... which I don't want to go ignored.
With this rare memleak left in place, we'll still have a reminder it needs real work.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,857,2017-04-23T18:19:19Z,2017-05-10T06:09:36Z,2018-03-10T18:28:17Z,MERGED,True,19,1,7,https://github.com/endoffile78,Fix problems detected by coverity,1,[],https://github.com/uTox/uTox/pull/857,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/857#issuecomment-298164364,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/chatlog.c, line 155 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
did you do an indepth review on chatlog.c to make sure we're not trying to free a pointer after changing it's location with *p++?
If not, just drop the chatlog.c changes because I'm concerned it really needs a full line by line review (and then obviously a refactor to split some of it into separate functions), and that this will fix the warning, but not the root issue... which I don't want to go ignored.
With this rare memleak left in place, we'll still have a reminder it needs real work.

start is what we got back from calloc ~40 lines earlier in this function. I wouldn't say an indepth review or anything is required. This is all local to this function. The pointer we're moving is data.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,857,2017-04-23T18:19:19Z,2017-05-10T06:09:36Z,2018-03-10T18:28:17Z,MERGED,True,19,1,7,https://github.com/endoffile78,Fix problems detected by coverity,1,[],https://github.com/uTox/uTox/pull/857,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/857#issuecomment-300384290,This change is‚ÄÇ,"Reviewed 1 of 7 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,858,2017-04-23T18:25:05Z,2017-04-23T18:31:03Z,2017-04-23T18:31:03Z,MERGED,True,0,1,1,https://github.com/xsleonard,Remove #include <malloc.h> from tests,1,[],https://github.com/uTox/uTox/pull/858,https://github.com/xsleonard,1,https://github.com/uTox/uTox/pull/858,"#include <malloc.h> breaks OS X builds, and is redundant with #include <stdlib.h>


This change is‚ÄÇ","#include <malloc.h> breaks OS X builds, and is redundant with #include <stdlib.h>


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,858,2017-04-23T18:25:05Z,2017-04-23T18:31:03Z,2017-04-23T18:31:03Z,MERGED,True,0,1,1,https://github.com/xsleonard,Remove #include <malloc.h> from tests,1,[],https://github.com/uTox/uTox/pull/858,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/858#issuecomment-296473227,"#include <malloc.h> breaks OS X builds, and is redundant with #include <stdlib.h>


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,858,2017-04-23T18:25:05Z,2017-04-23T18:31:03Z,2017-04-23T18:31:03Z,MERGED,True,0,1,1,https://github.com/xsleonard,Remove #include <malloc.h> from tests,1,[],https://github.com/uTox/uTox/pull/858,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/858#issuecomment-296473355,"#include <malloc.h> breaks OS X builds, and is redundant with #include <stdlib.h>


This change is‚ÄÇ",Thanks for the fix! Really appreciated. :),True,{}
uTox/uTox,https://github.com/uTox/uTox,858,2017-04-23T18:25:05Z,2017-04-23T18:31:03Z,2017-04-23T18:31:03Z,MERGED,True,0,1,1,https://github.com/xsleonard,Remove #include <malloc.h> from tests,1,[],https://github.com/uTox/uTox/pull/858,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/858#issuecomment-296473440,"#include <malloc.h> breaks OS X builds, and is redundant with #include <stdlib.h>


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,859,2017-04-23T18:40:44Z,2017-04-23T21:52:28Z,2018-03-10T18:29:09Z,MERGED,True,3,1,2,https://github.com/endoffile78,Enable tests on OSX,1,[],https://github.com/uTox/uTox/pull/859,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/859,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,859,2017-04-23T18:40:44Z,2017-04-23T21:52:28Z,2018-03-10T18:29:09Z,MERGED,True,3,1,2,https://github.com/endoffile78,Enable tests on OSX,1,[],https://github.com/uTox/uTox/pull/859,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/859#issuecomment-296483504,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,859,2017-04-23T18:40:44Z,2017-04-23T21:52:28Z,2018-03-10T18:29:09Z,MERGED,True,3,1,2,https://github.com/endoffile78,Enable tests on OSX,1,[],https://github.com/uTox/uTox/pull/859,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/859#issuecomment-296491376,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,860,2017-04-23T19:46:34Z,2017-05-01T06:21:51Z,2017-06-18T15:35:53Z,MERGED,True,684,408,16,https://github.com/GrayHatter,Merge in android fixes,16,[],https://github.com/uTox/uTox/pull/860,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/860,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,860,2017-04-23T19:46:34Z,2017-05-01T06:21:51Z,2017-06-18T15:35:53Z,MERGED,True,684,408,16,https://github.com/GrayHatter,Merge in android fixes,16,[],https://github.com/uTox/uTox/pull/860,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/860#issuecomment-296484608,This change is‚ÄÇ,"Reviewed 19 of 19 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/main_native.h, line 1 at r1 (raw file):

#ifndef NATIVE_MAIN_H

Use native/*.h

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,860,2017-04-23T19:46:34Z,2017-05-01T06:21:51Z,2017-06-18T15:35:53Z,MERGED,True,684,408,16,https://github.com/GrayHatter,Merge in android fixes,16,[],https://github.com/uTox/uTox/pull/860,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/860#issuecomment-296484646,This change is‚ÄÇ,"Reviewed 18 of 19 files at r1.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/main_native.h, line 1 at r1 (raw file):

#ifndef NATIVE_MAIN_H

This really shouldn't be added back. This has been split into sane pieces and is now in native/*.h

src/android/freetype.h, line 13 at r1 (raw file):

    uint32_t ucs4;
    int16_t  x, y;
    uint16_t width, height, xadvance, xxxx;

What's xxxx?

src/android/gl.h, line 9 at r1 (raw file):

#include <GLES2/gl2.h>
#define _GNU_SOURCE

Gross. What's this needed for?

src/android/windows.h, line 0 at r1 (raw file):
Why commit this?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,860,2017-04-23T19:46:34Z,2017-05-01T06:21:51Z,2017-06-18T15:35:53Z,MERGED,True,684,408,16,https://github.com/GrayHatter,Merge in android fixes,16,[],https://github.com/uTox/uTox/pull/860,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/860#issuecomment-296491899,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/main_native.h, line 1 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Use native/*.h

removed

src/main_native.h, line 1 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This really shouldn't be added back. This has been split into sane pieces and is now in native/*.h

removed

src/android/freetype.h, line 13 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
What's xxxx?

no idea, I didn't add it... or at least I don't remember adding it.

src/android/gl.h, line 9 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Gross. What's this needed for?

https://i.imgur.com/iZcUNxH.gif

src/android/windows.h, line  at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Why commit this?

deleted

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,860,2017-04-23T19:46:34Z,2017-05-01T06:21:51Z,2017-06-18T15:35:53Z,MERGED,True,684,408,16,https://github.com/GrayHatter,Merge in android fixes,16,[],https://github.com/uTox/uTox/pull/860,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/860#issuecomment-296492557,This change is‚ÄÇ,"Reviewed 1 of 19 files at r1, 4 of 5 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,860,2017-04-23T19:46:34Z,2017-05-01T06:21:51Z,2017-06-18T15:35:53Z,MERGED,True,684,408,16,https://github.com/GrayHatter,Merge in android fixes,16,[],https://github.com/uTox/uTox/pull/860,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/860#issuecomment-297202185,This change is‚ÄÇ,"Reviewed 2 of 5 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,860,2017-04-23T19:46:34Z,2017-05-01T06:21:51Z,2017-06-18T15:35:53Z,MERGED,True,684,408,16,https://github.com/GrayHatter,Merge in android fixes,16,[],https://github.com/uTox/uTox/pull/860,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/860#issuecomment-298164453,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/android/gl.h, line 9 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
https://i.imgur.com/iZcUNxH.gif

I'd prefer if we could avoid relying on non-standard extensions where possible. If we can't drop this, we should at least have a comment on what we're using that isn't following the C standard.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,860,2017-04-23T19:46:34Z,2017-05-01T06:21:51Z,2017-06-18T15:35:53Z,MERGED,True,684,408,16,https://github.com/GrayHatter,Merge in android fixes,16,[],https://github.com/uTox/uTox/pull/860,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/860#issuecomment-298191663,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/android/gl.h, line 9 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I'd prefer if we could avoid relying on non-standard extensions where possible. If we can't drop this, we should at least have a comment on what we're using that isn't following the C standard.

Okay, never mind. We already define this in Android's main.h, so I guess it's all GNU already. LGTM.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,864,2017-04-23T20:12:16Z,2017-04-28T17:42:12Z,2019-01-21T09:09:05Z,MERGED,True,47,36,3,https://github.com/endoffile78,Improve chrono test,4,[],https://github.com/uTox/uTox/pull/864,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/864,"Get rid of the malloc and fix the test failing on travis sometimes if the thread didnt have enough time to die.
Fixes #881


This change is‚ÄÇ","Get rid of the malloc and fix the test failing on travis sometimes if the thread didnt have enough time to die.
Fixes #881


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,864,2017-04-23T20:12:16Z,2017-04-28T17:42:12Z,2019-01-21T09:09:05Z,MERGED,True,47,36,3,https://github.com/endoffile78,Improve chrono test,4,[],https://github.com/uTox/uTox/pull/864,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/864#issuecomment-297499214,"Get rid of the malloc and fix the test failing on travis sometimes if the thread didnt have enough time to die.
Fixes #881


This change is‚ÄÇ","Reviewed 3 of 3 files at r2.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/chrono.c, line 19 at r2 (raw file):

    CHRONO_INFO *info = args;
    chrono_thread_init = true;
    while(info->ptr != info->target) {

1TBS

src/chrono.c, line 20 at r2 (raw file):

    chrono_thread_init = true;
    while(info->ptr != info->target) {
        (*info).ptr += info->step;

info->ptr +=

src/chrono.h, line 13 at r2 (raw file):

    bool finished;
    void (*callback)(void *);
    void *args;

Rename to cb_data? ...otherwise working on toxcore is going to confuse me.
Your call

tests/test_chrono.c, line 37 at r2 (raw file):

START_TEST(test_chrono_target)
{
    CHRONO_INFO info;

add a comment why allocation on the stack is safe here. (this function can't exit while the thread is running), but real code should *alloc.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,864,2017-04-23T20:12:16Z,2017-04-28T17:42:12Z,2019-01-21T09:09:05Z,MERGED,True,47,36,3,https://github.com/endoffile78,Improve chrono test,4,[],https://github.com/uTox/uTox/pull/864,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/864#issuecomment-297499352,"Get rid of the malloc and fix the test failing on travis sometimes if the thread didnt have enough time to die.
Fixes #881


This change is‚ÄÇ","+@GrayHatter

Review status: all files reviewed at latest revision, 5 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,864,2017-04-23T20:12:16Z,2017-04-28T17:42:12Z,2019-01-21T09:09:05Z,MERGED,True,47,36,3,https://github.com/endoffile78,Improve chrono test,4,[],https://github.com/uTox/uTox/pull/864,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/864#issuecomment-297510296,"Get rid of the malloc and fix the test failing on travis sometimes if the thread didnt have enough time to die.
Fixes #881


This change is‚ÄÇ","Reviewed 3 of 3 files at r2.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,864,2017-04-23T20:12:16Z,2017-04-28T17:42:12Z,2019-01-21T09:09:05Z,MERGED,True,47,36,3,https://github.com/endoffile78,Improve chrono test,4,[],https://github.com/uTox/uTox/pull/864,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/864#issuecomment-297611291,"Get rid of the malloc and fix the test failing on travis sometimes if the thread didnt have enough time to die.
Fixes #881


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/chrono.c, line 19 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
1TBS

Done.

src/chrono.c, line 20 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
info->ptr +=

Done.

src/chrono.h, line 13 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Rename to cb_data? ...otherwise working on toxcore is going to confuse me.
Your call

Done.

tests/test_chrono.c, line 37 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
add a comment why allocation on the stack is safe here. (this function can't exit while the thread is running), but real code should *alloc.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,864,2017-04-23T20:12:16Z,2017-04-28T17:42:12Z,2019-01-21T09:09:05Z,MERGED,True,47,36,3,https://github.com/endoffile78,Improve chrono test,4,[],https://github.com/uTox/uTox/pull/864,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/864#issuecomment-297612359,"Get rid of the malloc and fix the test failing on travis sometimes if the thread didnt have enough time to die.
Fixes #881


This change is‚ÄÇ","Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,864,2017-04-23T20:12:16Z,2017-04-28T17:42:12Z,2019-01-21T09:09:05Z,MERGED,True,47,36,3,https://github.com/endoffile78,Improve chrono test,4,[],https://github.com/uTox/uTox/pull/864,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/864#issuecomment-297614807,"Get rid of the malloc and fix the test failing on travis sometimes if the thread didnt have enough time to die.
Fixes #881


This change is‚ÄÇ","Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

tests/test_chrono.c, line 44 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I don't like this.
It's better than before, but the real fix is using the callback, or guessing at how long it should take. (Which is a really good test to run). If it doesn't exit within 10% of the expected time, that's clearly an error, (even on a non-realtime os).
If you want to see what I mean, write another test that start a 2nd chrono thread, one that should take 5 times longer. The first will exit as expect, but the 2nd thread will fail because it hasn't finished yet.

This comment is blocking even though you LGTM'd.

tests/test_chrono.c, line 7 at r3 (raw file):

#include <time.h>
#include <stdlib.h>
#include <inttypes.h>

Nit: stdint is enough.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,864,2017-04-23T20:12:16Z,2017-04-28T17:42:12Z,2019-01-21T09:09:05Z,MERGED,True,47,36,3,https://github.com/endoffile78,Improve chrono test,4,[],https://github.com/uTox/uTox/pull/864,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/864#issuecomment-297856981,"Get rid of the malloc and fix the test failing on travis sometimes if the thread didnt have enough time to die.
Fixes #881


This change is‚ÄÇ","Review status: 2 of 3 files reviewed at latest revision, 2 unresolved discussions.

tests/test_chrono.c, line 7 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Nit: stdint is enough.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,864,2017-04-23T20:12:16Z,2017-04-28T17:42:12Z,2019-01-21T09:09:05Z,MERGED,True,47,36,3,https://github.com/endoffile78,Improve chrono test,4,[],https://github.com/uTox/uTox/pull/864,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/864#issuecomment-297912497,"Get rid of the malloc and fix the test failing on travis sometimes if the thread didnt have enough time to die.
Fixes #881


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,864,2017-04-23T20:12:16Z,2017-04-28T17:42:12Z,2019-01-21T09:09:05Z,MERGED,True,47,36,3,https://github.com/endoffile78,Improve chrono test,4,[],https://github.com/uTox/uTox/pull/864,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/864#issuecomment-298053228,"Get rid of the malloc and fix the test failing on travis sometimes if the thread didnt have enough time to die.
Fixes #881


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

tests/test_chrono.c, line 44 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This comment is blocking even though you LGTM'd.

LGTM, but now @robinlinden is blocking :D

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,866,2017-04-24T03:07:48Z,2017-04-24T03:53:14Z,2017-04-24T03:56:04Z,MERGED,True,1,0,1,https://github.com/publicarray,fix #841,1,[],https://github.com/uTox/uTox/pull/866,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/866,"After many sleepless nights with my best friend, the Xcode debugger and plenty of üçï & üç∑  . I have found a solution. jks


This change is‚ÄÇ","After many sleepless nights with my best friend, the Xcode debugger and plenty of üçï & üç∑  . I have found a solution. jks


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,866,2017-04-24T03:07:48Z,2017-04-24T03:53:14Z,2017-04-24T03:56:04Z,MERGED,True,1,0,1,https://github.com/publicarray,fix #841,1,[],https://github.com/uTox/uTox/pull/866,https://github.com/publicarray,2,https://github.com/uTox/uTox/pull/866#issuecomment-296514685,"After many sleepless nights with my best friend, the Xcode debugger and plenty of üçï & üç∑  . I have found a solution. jks


This change is‚ÄÇ",The San Francisco font is still needed on macOS Sierra though.,True,{}
uTox/uTox,https://github.com/uTox/uTox,866,2017-04-24T03:07:48Z,2017-04-24T03:53:14Z,2017-04-24T03:56:04Z,MERGED,True,1,0,1,https://github.com/publicarray,fix #841,1,[],https://github.com/uTox/uTox/pull/866,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/866#issuecomment-296515211,"After many sleepless nights with my best friend, the Xcode debugger and plenty of üçï & üç∑  . I have found a solution. jks


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,866,2017-04-24T03:07:48Z,2017-04-24T03:53:14Z,2017-04-24T03:56:04Z,MERGED,True,1,0,1,https://github.com/publicarray,fix #841,1,[],https://github.com/uTox/uTox/pull/866,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/866#issuecomment-296518857,"After many sleepless nights with my best friend, the Xcode debugger and plenty of üçï & üç∑  . I have found a solution. jks


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,866,2017-04-24T03:07:48Z,2017-04-24T03:53:14Z,2017-04-24T03:56:04Z,MERGED,True,1,0,1,https://github.com/publicarray,fix #841,1,[],https://github.com/uTox/uTox/pull/866,https://github.com/publicarray,5,https://github.com/uTox/uTox/pull/866#issuecomment-296519410,"After many sleepless nights with my best friend, the Xcode debugger and plenty of üçï & üç∑  . I have found a solution. jks


This change is‚ÄÇ",Thanks that was quick.,True,{}
uTox/uTox,https://github.com/uTox/uTox,867,2017-04-24T10:09:24Z,2017-04-24T10:10:48Z,2017-04-24T10:10:48Z,CLOSED,False,0,0,0,https://github.com/fcore117,v6,5,[],https://github.com/uTox/uTox/pull/867,https://github.com/fcore117,1,https://github.com/uTox/uTox/pull/867,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,867,2017-04-24T10:09:24Z,2017-04-24T10:10:48Z,2017-04-24T10:10:48Z,CLOSED,False,0,0,0,https://github.com/fcore117,v6,5,[],https://github.com/uTox/uTox/pull/867,https://github.com/fcore117,2,https://github.com/uTox/uTox/pull/867#issuecomment-296605047,This change is‚ÄÇ,sorry delete that,True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/870,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/870#issuecomment-296923332,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","There's a few more switches that were missed in the last one as well.
I don't remember which ones, but make sure you take a look at audio filtering, auto-update, and sidebar auto hide.",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/870#issuecomment-296924456,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","I also added you to the dev's list. You now have write access to uTox/uTox
Don't push anything to master or develop without a pgp signature. Otherwise, go nuts, and be nice.",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/870#issuecomment-296929127,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","I'll take a look and fix them if I could find any.
Thank you!",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/870#issuecomment-297161126,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Review status: 0 of 8 files reviewed at latest revision, 1 unresolved discussion.

src/ui.c, line 338 at r2 (raw file):

    /* Confirm deletion */
    CREATE_BUTTON(confirm_deletion, 10, MAIN_TOP + 40, _BM_SBUTTON_WIDTH, _BM_SBUTTON_HEIGHT);

There's some black magic with this button.
I don't know why, but only for english at DPI more than ~150% this button breaks (last couple of pixels are cut off).
I checked any other language - the problem is gone.
I tried to change text on this button - the problem is gone.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/870#issuecomment-297319442,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","I figured out that this button is broken only at odd DPI values (90%, 110%, 130%), so it's some rounding error obviously.",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/870#issuecomment-297494705,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","@uTox/i18n new strings were added

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/870#issuecomment-297497039,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Reviewed 3 of 4 files at r1, 5 of 5 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/ui.c, line 338 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
There's some black magic with this button.
I don't know why, but only for english at DPI more than ~150% this button breaks (cut last couple of pixels).
I checked any other language - the problem is gone.
I tried change text on this button - the problem is gone.

OK, It's not blocking, but let me know if you need me to take a look at it too.

src/layout/friend.c, line 123 at r2 (raw file):

    setcolor(COLOR_MAIN_TEXT_SUBTEXT);
    setfont(FONT_TEXT);
    drawstr(x + SCALE(10), SCALE(MAIN_TOP + 10), TOXID);

FYI #871

src/layout/settings.c, line 473 at r2 (raw file):

static void update_show_nospam_button_text(void) {
    if(panel_nospam_settings.disabled) {

as pedantic as this is, I'm going to require 1TBS https://en.wikipedia.org/wiki/Indent_style#Variant:_1TBS_.28OTBS.29

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/870#issuecomment-297497358,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","@robinlinden or @endoffile78
your turn",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/870#issuecomment-297506660,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Reviewed 3 of 4 files at r1, 5 of 5 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/870#issuecomment-297519568,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/layout/friend.c, line 123 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
FYI #871

I'm a little confused; should I use function arguments (x, y) don't?
So everywhere in functions it should be drawstr(x + SCALE(10), y + SCALE(70), TOXID);
or drawstr(SCALE(10), SCALE(70), TOXID);

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/redmanmale,12,https://github.com/uTox/uTox/pull/870#issuecomment-297520411,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/ui.c, line 338 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
OK, It's not blocking, but let me know if you need me to take a look at it too.

I've given up at this one, so if you could spare some time, it would be really helpful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/870#issuecomment-297520895,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/ui.c, line 338 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
I've given up at this one, so if you could spare some time, it would be really helpful.

cool, I'll look at it next time I'm in this code. For now this LGTM

src/layout/friend.c, line 123 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
I'm a little confused; should I use function arguments (x, y) don't?
So everywhere in functions it should be drawstr(x + SCALE(10), y + SCALE(70), TOXID);
or drawstr(SCALE(10), SCALE(70), TOXID);

you don't have to do anything here. It was broken before, and you made it a bit better. I only commented with that issue so everyone is aware that we're trying to get away from ROOT offsets.
In this case you should do nothing because it's out of scope for this pull request. (OOS) I just want everyone to know if they touch or move this code, they shouldn't try to keep MAIN_TOP because eventually it will go away üòÅ

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/redmanmale,14,https://github.com/uTox/uTox/pull/870#issuecomment-297521181,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Review status: 7 of 8 files reviewed at latest revision, 2 unresolved discussions.

src/layout/settings.c, line 473 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
as pedantic as this is, I'm going to require 1TBS https://en.wikipedia.org/wiki/Indent_style#Variant:_1TBS_.28OTBS.29

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/870#issuecomment-297521450,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Travis fails on the chrono test, we can ignore that failure because @endoffile78 is fixing that issue in #864",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/GrayHatter,16,https://github.com/uTox/uTox/pull/870#issuecomment-297521833,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Review status: 7 of 8 files reviewed at latest revision, 2 unresolved discussions.

src/layout/settings.c, line 473 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Done.

you also need a space between the if and the (, here and below

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/redmanmale,17,https://github.com/uTox/uTox/pull/870#issuecomment-297523144,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Review status: 7 of 8 files reviewed at latest revision, 2 unresolved discussions.

src/layout/settings.c, line 473 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
you also need a space between the if and the (, here and below

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/GrayHatter,18,https://github.com/uTox/uTox/pull/870#issuecomment-297531313,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/endoffile78,19,https://github.com/uTox/uTox/pull/870#issuecomment-297611947,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Reviewed 3 of 4 files at r1, 4 of 5 files at r2, 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/robinlinden,20,https://github.com/uTox/uTox/pull/870#issuecomment-297918517,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/redmanmale,21,https://github.com/uTox/uTox/pull/870#issuecomment-297922096,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","If I would merge this via GitHub would this merge-commit be signed? Or I have to merge this via git and push?
I've just never faced with this before.",True,{}
uTox/uTox,https://github.com/uTox/uTox,870,2017-04-24T22:21:38Z,2017-04-28T16:10:47Z,2017-08-25T16:49:55Z,MERGED,True,75,29,8,https://github.com/redmanmale,Fixes UI glitches,8,[],https://github.com/uTox/uTox/pull/870,https://github.com/robinlinden,22,https://github.com/uTox/uTox/pull/870#issuecomment-297927803,"Fix for #667.
Fixed alignment of profile password input.
Partially fix for #868.



This change is‚ÄÇ","You have to merge on the cmdline. :P If you're not sure about it, just
leave it and I'll merge it after work or walk you through how to do it.
‚Ä¶
On Fri, 28 Apr 2017, 08:51 redmanmale, ***@***.***> wrote:
 If I would merge this via GitHub would this merge-commit be signed? Or I
 have to merge this via git and push?

 I've just never faced with this before.

 ‚Äî
 You are receiving this because you were mentioned.


 Reply to this email directly, view it on GitHub
 <#870 (comment)>, or mute
 the thread
 <https://github.com/notifications/unsubscribe-auth/AH63Tv26cFn0W3Oew9Iwwc86pu-on6Iwks5r0YyCgaJpZM4NGyP->
 .",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/872,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/872#issuecomment-297607036,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

CMakeLists.txt, line 93 at r1 (raw file):

               ${uTox_SOURCE_DIR}/src/branding.h)
configure_file(${uTox_SOURCE_DIR}/src/cocoa/Info.plist.in
               ${uTox_SOURCE_DIR}/src/cocoa/Info.plist)

Why was this removed?

CMakeLists.txt, line 276 at r1 (raw file):

    find_package(libtoxcore REQUIRED)
    find_package(libfilteraudio REQUIRED)

Add a if(ENABLE_FILTERAUDIO)  around this. Filteraudio isn't required to build uTox.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,3,https://github.com/uTox/uTox/pull/872#issuecomment-297613683,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

CMakeLists.txt, line 93 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Why was this removed?

Ah so all of the set_target_properties(utox PROPERTIES MACOSX_BUNDLE_FOO BAR) work is that it leaves cmake to generate the Info.plist from scratch. So the one generated here is ignored.
I think the way it was, was better. I'll make a commit to change it back.
I keep learning more things about cmake.. there are so many different ways to do similar things.

CMakeLists.txt, line 276 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Add a if(ENABLE_FILTERAUDIO)  around this. Filteraudio isn't required to build uTox.

Thanks I missed that :) should the 2 lines be in an APPLE only block or could they be put up to where the
if(ENABLE_FILTERAUDIO)
    add_cflag(""-DAUDIO_FILTERING"")
endif()

block is?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/872#issuecomment-297862427,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 3 of 3 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 276 at r1 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Thanks I missed that :) should the 2 lines be in an APPLE only block or could they be put up to where the
if(ENABLE_FILTERAUDIO)
    add_cflag(""-DAUDIO_FILTERING"")
endif()

block is?

Yeah lets try it there. Also move the toxcore one out the if statement. It might now work on windows but lets try.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,5,https://github.com/uTox/uTox/pull/872#issuecomment-297877999,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Review status: 2 of 5 files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 276 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Yeah lets try it there. Also move the toxcore one out the if statement. It might now work on windows but lets try.

It builds fine with travis on all platforms, however my detection for filter-audio is incorrect. So please don't merge yet thanks. The CMakeLists looks a little bit cleaner now too :)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,6,https://github.com/uTox/uTox/pull/872#issuecomment-297878298,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Review status: 2 of 5 files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 276 at r1 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
It builds fine with travis on all platforms, however my detection for filter-audio is incorrect. So please don't merge yet thanks. The CMakeLists looks a little bit cleaner now too :)

for reference: https://travis-ci.org/uTox/uTox/jobs/226633530#L553

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/872#issuecomment-297991182,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 5 of 5 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/872#issuecomment-298096152,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 2 of 3 files at r2, 5 of 5 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

cmake/Findlibfilteraudio.cmake, line 1 at r3 (raw file):

# - Try to find ToxCore

Comments still have to be updated.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,9,https://github.com/uTox/uTox/pull/872#issuecomment-298137760,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Review status: 2 of 5 files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

cmake/Findlibfilteraudio.cmake, line 1 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Comments still have to be updated.

Thanks!

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/872#issuecomment-298154403,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 2 of 5 files at r3, 3 of 3 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,11,https://github.com/uTox/uTox/pull/872#issuecomment-298858308,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","@stal888 I have made a static build using cmake. I would appreciate if you could quickly test out the binary. The build runs smoothly on my machine. But I prefer if someone else took a look üôâ
https://seby.io/download/
Also what version of macOS are you running?",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/stal888,12,https://github.com/uTox/uTox/pull/872#issuecomment-298953367,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","The build works on Sierra (sometimes it just exits immediately, but I don't know why).
I see that LC_VERSION_MIN_MACOSX is set to 10.12. You may want to set it lower (I use 10.6) just to be safe. You can do that by passing -mmacosx-version-min=10.6 to the compiler/linker.",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/872#issuecomment-298973702,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","@stal888 @robinlinden 'found' a bug in incoming avatars, I'd put money on that being the crash you're seeing. Once we squish that bug, we should try again just to make sure.",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,14,https://github.com/uTox/uTox/pull/872#issuecomment-301300347,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ",@endoffile78 I'm a bit stumped by the build log in travis. üòì. I can build uTox on my mac but Travis just prints write error. üòï Any ideas?,True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,15,https://github.com/uTox/uTox/pull/872#issuecomment-301322266,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ",@publicarray This might be the problem: travis-ci/travis-ci#4704. Try it without VERBOSE=1 on the OSX build.,True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,16,https://github.com/uTox/uTox/pull/872#issuecomment-301323067,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 1 of 5 files at r3, 2 of 10 files at r5, 1 of 2 files at r8, 8 of 10 files at r9, 3 of 3 files at r10.
Review status: 14 of 15 files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

extra/travis/osx-script.sh, line 10 at r10 (raw file):

  -DCMAKE_LIBRARY_PATH=""$CACHE_DIR/usr/lib"" \
  -DENABLE_WERROR=OFF
make VERBOSE=1

Get rid of VERBOSE=1 and see if the write error still happens.

src/cocoa/Makefile, line 25 at r10 (raw file):

LDFLAGS += $(shell pkg-config --libs $(DEPS))

DESTDIR ?=

This file can probably be deleted.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,17,https://github.com/uTox/uTox/pull/872#issuecomment-301323085,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 1 of 10 files at r9.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,18,https://github.com/uTox/uTox/pull/872#issuecomment-301337540,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Review status: 12 of 13 files reviewed at latest revision, 2 unresolved discussions.

extra/travis/osx-script.sh, line 10 at r10 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Get rid of VERBOSE=1 and see if the write error still happens.

Thanks! That has solved the problem for now

src/cocoa/Makefile, line 25 at r10 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
This file can probably be deleted.

I agree, but it could be used as a fallback? maybe? ü§î
If we do remove it I would also remove all related files as well [find_static.sh, make_dmg.sh, make_info_plist.sh, frozen_dmg.tar.bz2]

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,19,https://github.com/uTox/uTox/pull/872#issuecomment-301337597,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ",Should I cleanup my git history? It's a bit of a mess.,True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,20,https://github.com/uTox/uTox/pull/872#issuecomment-301338267,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ",@publicarray Sure. squash it to whatever you think is appropriate.,True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/GrayHatter,21,https://github.com/uTox/uTox/pull/872#issuecomment-301340680,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","+@endoffile78

Review status: 12 of 13 files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,22,https://github.com/uTox/uTox/pull/872#issuecomment-301344175,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ",I think this PR is up for review üëè  and @endoffile78 thanks so much for your help.,True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,23,https://github.com/uTox/uTox/pull/872#issuecomment-301345480,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Review status: 11 of 23 files reviewed at latest revision, 2 unresolved discussions.

src/cocoa/Makefile, line 25 at r10 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
I agree, but it could be used as a fallback? maybe? ü§î
If we do remove it I would also remove all related files as well [find_static.sh, make_dmg.sh, make_info_plist.sh, frozen_dmg.tar.bz2]

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,24,https://github.com/uTox/uTox/pull/872#issuecomment-301915045,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 7 of 9 files at r11, 5 of 5 files at r12.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,25,https://github.com/uTox/uTox/pull/872#issuecomment-302223955,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ",@GrayHatter and @robinlinden can one of you guys review this when you get the time.,True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/robinlinden,26,https://github.com/uTox/uTox/pull/872#issuecomment-302230348,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","I had a look, but was unable to get uTox compiling on Windows with this merged. I'll look into it more this weekend if I have time.
I tried setting CMAKE_PREFIX_PATH, CMAKE_INCLUDE_PATH, CMAKE_LIBRARY_PATH, and probably some other things I can't think of off of the top of my head.",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,27,https://github.com/uTox/uTox/pull/872#issuecomment-303269837,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","There's an issue with cross compiling, it tries to use the linux version of pkg-config instead of the mingw. This could be just an issue with cmake though.
-- Found PkgConfig: /usr/bin/pkg-config (found version ""0.29.2"") 
-- Found libtox: /usr/local/lib/libtoxencryptsave.a;/usr/local/lib/libtoxdns.a;/usr/local/lib/libtoxav.a;/usr/local/lib/libtoxcore.a  
-- Configuring incomplete, errors occurred!
See also ""/home/endoffile/src/github/tox/utox/build-win/CMakeFiles/CMakeOutput.log"".",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,28,https://github.com/uTox/uTox/pull/872#issuecomment-303277938,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Thanks @robinlinden and  @endoffile78 for investigating.
@robinlinden I'll see If I can dust off my old windows VM. From memory I had a problem with it connecting to the internet but I'm going to try and fix that.
@endoffile78
Would setting the PKG_CONFIG_PATH environment variable help? FYI travis also used /usr/bin/pkg-config and passed",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,29,https://github.com/uTox/uTox/pull/872#issuecomment-304415788,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ",oops I was messing with my local repo. Or so I thought...,True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/GrayHatter,30,https://github.com/uTox/uTox/pull/872#issuecomment-304435973,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","This commit history is gonna need a rewrite (I know, I can't believe I'm saying this either...) All I care about is that you squash down the renames, and add/deletes.
If you need help battling with git, find me on IRC

Reviewed 3 of 10 files at r9, 7 of 9 files at r11, 4 of 5 files at r12, 4 of 4 files at r13.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

cmake/Findlibtox.cmake, line 1 at r13 (raw file):

# - Try to find Tox

BTW This might be a nice file to send upstream to toxcore as well :D

src/av/CMakeLists.txt, line 22 at r13 (raw file):

if(ENABLE_FILTERAUDIO)
    find_package(libfilteraudio REQUIRED)

it's not required, it's optional

src/cocoa/Info.plist, line 8 at r13 (raw file):

	<string>en</string>
	<key>CFBundleExecutable</key>
	<string>utox</string>

This change seems wrong. are you sure this is correct?
If not, revert this change, and add this file to the .gitignore file.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,31,https://github.com/uTox/uTox/pull/872#issuecomment-304438050,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/av/CMakeLists.txt, line 22 at r13 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
it's not required, it's optional

Yea I assumed with the ENABLE_FILTERAUDIO set to true that we should require it? otherwise we silently ignore the user wishes and dreams of filtered audio. IMH I would prefer to be told that I'm missing the lib or that the flag should be turned off.

src/cocoa/Info.plist, line 8 at r13 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This change seems wrong. are you sure this is correct?
If not, revert this change, and add this file to the .gitignore file.

Yea the file is auto generated must have missed this in the merge

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/GrayHatter,32,https://github.com/uTox/uTox/pull/872#issuecomment-304438133,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/av/CMakeLists.txt, line 22 at r13 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Yea I assumed with the ENABLE_FILTERAUDIO set to true that we should require it? otherwise we silently ignore the user wishes and dreams of filtered audio. IMH I would prefer to be told that I'm missing the lib or that the flag should be turned off.

Oh I totally missed that. You're 100% right 

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,33,https://github.com/uTox/uTox/pull/872#issuecomment-305745435,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","@GrayHatter Agreed! I made a big mess üòõ Now that I have VM's I don't have to guess anymore. I'll clean it up ASAP

Review status: 18 of 23 files reviewed at latest revision, 2 unresolved discussions.

src/cocoa/Info.plist, line 8 at r13 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Yea the file is auto generated must have missed this in the merge

Since the file is generated at every build. The source is Info.plist.in.  IMHO we can remove it from git and move the generated files into the current build directory (same with AndroidManifest and branding.h) using ${PROJECT_BINARY_DIR} that way git is clean even after a build. what do you guys think?
i.e from
configure_file(${uTox_SOURCE_DIR}/src/cocoa/Info.plist.in
               ${uTox_SOURCE_DIR}/src/cocoa/Info.plist)

to
configure_file(${uTox_SOURCE_DIR}/src/cocoa/Info.plist.in
               ${PROJECT_BINARY_DIR}/Info.plist)


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,34,https://github.com/uTox/uTox/pull/872#issuecomment-305967400,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Review status: 18 of 23 files reviewed at latest revision, 2 unresolved discussions.

src/cocoa/Info.plist, line 8 at r13 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Since the file is generated at every build. The source is Info.plist.in.  IMHO we can remove it from git and move the generated files into the current build directory (same with AndroidManifest and branding.h) using (${PROJECT_BINARY_DIR}){https://cmake.org/Wiki/CMake_Useful_Variables#Locations} that way git is clean even after a build. what do you guys think?
i.e from
configure_file(${uTox_SOURCE_DIR}/src/cocoa/Info.plist.in
               ${uTox_SOURCE_DIR}/src/cocoa/Info.plist)

to
configure_file(${uTox_SOURCE_DIR}/src/cocoa/Info.plist.in
               ${PROJECT_BINARY_DIR}/Info.plist)


I'm happy to reverse this change. What ever the decision it should probably be handled in a separate Pull Request anyway

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,35,https://github.com/uTox/uTox/pull/872#issuecomment-306016173,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 1 of 5 files at r3, 3 of 4 files at r13, 6 of 6 files at r14.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/cocoa/Info.plist, line 8 at r13 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
I'm happy to reverse this change. What ever the decision it should probably be handled in a separate Pull Request anyway

That was done at one point but it ended up getting reverted. I'm OK with them being in the .gitignore.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,36,https://github.com/uTox/uTox/pull/872#issuecomment-310806518,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Review status: 20 of 24 files reviewed at latest revision, 2 unresolved discussions.

src/cocoa/Info.plist, line 8 at r13 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
That was done at one point but it ended up getting reverted. I'm OK with them being in the .gitignore.

Done.
Because the file is already tracked in git git update-index --assume-unchanged src/cocoa/Info.plist will ""untrack"" the file locally

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,37,https://github.com/uTox/uTox/pull/872#issuecomment-310981090,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ",Are there any issues or nitpicks I should fix or are we all happy :),True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/GrayHatter,38,https://github.com/uTox/uTox/pull/872#issuecomment-310986606,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 1 of 5 files at r3, 1 of 5 files at r12, 4 of 6 files at r14, 3 of 3 files at r15, 1 of 1 files at r16.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,39,https://github.com/uTox/uTox/pull/872#issuecomment-311149189,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 3 of 3 files at r15, 1 of 1 files at r16.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/robinlinden,40,https://github.com/uTox/uTox/pull/872#issuecomment-321074945,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 1 of 5 files at r3, 1 of 10 files at r5, 1 of 2 files at r8, 8 of 10 files at r9, 1 of 3 files at r10, 7 of 9 files at r11, 5 of 5 files at r12, 2 of 4 files at r13, 4 of 6 files at r14, 3 of 3 files at r15, 1 of 1 files at r16.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/robinlinden,41,https://github.com/uTox/uTox/pull/872#issuecomment-321075140,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ",@publicarray Sorry about this not having been merged yet. Can you check the box that allows me to rebase it or do it yourself?,True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,42,https://github.com/uTox/uTox/pull/872#issuecomment-321127632,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","@robinlinden That's fine. I'd love to, but am I going mad or is that checkbox gone? üòï  Anyway I did a rebase I just hope I didn't mess something up üòâ",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,43,https://github.com/uTox/uTox/pull/872#issuecomment-321281398,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 4 of 4 files at r17.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/GrayHatter,44,https://github.com/uTox/uTox/pull/872#issuecomment-321324507,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 4 of 4 files at r17.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/cocoa/Info.plist, line 8 at r13 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Done.
Because the file is already tracked in git git update-index --assume-unchanged src/cocoa/Info.plist will ""untrack"" the file locally

let's delete it from the repo, add it to .gitignore and make sure it's being generated correctly (i.e. make clean should leave the files intact)
@robinlinden can do this if you don't want to

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/publicarray,45,https://github.com/uTox/uTox/pull/872#issuecomment-321417564,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ",@robinlinden I figured it out and I'm not going mad. Because the branch pkgconfig is in uTox/uTox you already have the necessary permissions to rebase or otherwise change this PR.,True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/robinlinden,46,https://github.com/uTox/uTox/pull/872#issuecomment-321651626,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","@publicarray Whoops. Sorry, not used to PRs from uTox to uTox. :P",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/endoffile78,47,https://github.com/uTox/uTox/pull/872#issuecomment-323602983,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Reviewed 2 of 2 files at r18.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,872,2017-04-27T03:16:30Z,2017-08-20T20:16:13Z,2017-08-20T21:12:48Z,MERGED,True,302,238,24,https://github.com/publicarray,update cmake - use find modules and pkg-config - enable static build for macOS and dmg,7,[],https://github.com/uTox/uTox/pull/872,https://github.com/GrayHatter,48,https://github.com/uTox/uTox/pull/872#issuecomment-323603441,"copy_and_fixup_bundle copies and fixes links on dependent libs so it
becomes a redistributeable app.
The mac app can now be compiled as to a static binary with cmake.
WIP because it requires testing on other platforms.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/cocoa/Info.plist, line 8 at r13 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
let's delete it from the repo, add it to .gitignore and make sure it's being generated correctly (i.e. make clean should leave the files intact)
@robinlinden can do this if you don't want to

done

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,876,2017-04-28T12:39:33Z,2017-04-28T19:09:15Z,2018-03-10T18:28:25Z,CLOSED,False,8,1,2,https://github.com/endoffile78,Fix crash on video preview,2,[],https://github.com/uTox/uTox/pull/876,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/876,"Fixes (#873)


This change is‚ÄÇ","Fixes (#873)


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,876,2017-04-28T12:39:33Z,2017-04-28T19:09:15Z,2018-03-10T18:28:25Z,CLOSED,False,8,1,2,https://github.com/endoffile78,Fix crash on video preview,2,[],https://github.com/uTox/uTox/pull/876,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/876#issuecomment-297993498,"Fixes (#873)


This change is‚ÄÇ","Awesome job finding and fixing this! 

Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/video.c, line 69 at r1 (raw file):

    if (id >= 32) {
        LOG_ERR(""Videp"", ""id is too large. Got %u exptected it to be less than 32"", id);

Typos: video, expected

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,876,2017-04-28T12:39:33Z,2017-04-28T19:09:15Z,2018-03-10T18:28:25Z,CLOSED,False,8,1,2,https://github.com/endoffile78,Fix crash on video preview,2,[],https://github.com/uTox/uTox/pull/876,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/876#issuecomment-297994262,"Fixes (#873)


This change is‚ÄÇ","Review status: 1 of 2 files reviewed at latest revision, 1 unresolved discussion.

src/xlib/video.c, line 69 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Typos: video, expected

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,876,2017-04-28T12:39:33Z,2017-04-28T19:09:15Z,2018-03-10T18:28:25Z,CLOSED,False,8,1,2,https://github.com/endoffile78,Fix crash on video preview,2,[],https://github.com/uTox/uTox/pull/876,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/876#issuecomment-297999907,"Fixes (#873)


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,876,2017-04-28T12:39:33Z,2017-04-28T19:09:15Z,2018-03-10T18:28:25Z,CLOSED,False,8,1,2,https://github.com/endoffile78,Fix crash on video preview,2,[],https://github.com/uTox/uTox/pull/876,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/876#issuecomment-298053537,"Fixes (#873)


This change is‚ÄÇ","This fix is backwards, UINT16_MAX is the preview window. Else friend number 0 will conflict with the preview window.

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,877,2017-04-28T13:12:10Z,2017-04-28T15:16:30Z,2018-03-10T18:28:20Z,MERGED,True,0,121,1,https://github.com/endoffile78,Delete cygwin-compile.sh,1,[],https://github.com/uTox/uTox/pull/877,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/877,"cygwin-compile.sh is outdated and it is much easier to use cmake.


This change is‚ÄÇ","cygwin-compile.sh is outdated and it is much easier to use cmake.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,877,2017-04-28T13:12:10Z,2017-04-28T15:16:30Z,2018-03-10T18:28:20Z,MERGED,True,0,121,1,https://github.com/endoffile78,Delete cygwin-compile.sh,1,[],https://github.com/uTox/uTox/pull/877,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/877#issuecomment-297999651,"cygwin-compile.sh is outdated and it is much easier to use cmake.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,877,2017-04-28T13:12:10Z,2017-04-28T15:16:30Z,2018-03-10T18:28:20Z,MERGED,True,0,121,1,https://github.com/endoffile78,Delete cygwin-compile.sh,1,[],https://github.com/uTox/uTox/pull/877,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/877#issuecomment-298012861,"cygwin-compile.sh is outdated and it is much easier to use cmake.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,878,2017-04-28T15:54:15Z,2017-04-28T17:41:36Z,2018-03-10T18:29:05Z,MERGED,True,1,1,1,https://github.com/endoffile78,Add badge for irc channel to README,1,[],https://github.com/uTox/uTox/pull/878,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/878,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,878,2017-04-28T15:54:15Z,2017-04-28T17:41:36Z,2018-03-10T18:29:05Z,MERGED,True,1,1,1,https://github.com/endoffile78,Add badge for irc channel to README,1,[],https://github.com/uTox/uTox/pull/878,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/878#issuecomment-298041371,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,878,2017-04-28T15:54:15Z,2017-04-28T17:41:36Z,2018-03-10T18:29:05Z,MERGED,True,1,1,1,https://github.com/endoffile78,Add badge for irc channel to README,1,[],https://github.com/uTox/uTox/pull/878,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/878#issuecomment-298060189,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/880,"Fix for #869.
It looks like this:



This change is‚ÄÇ","Fix for #869.
It looks like this:



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/880#issuecomment-298052551,"Fix for #869.
It looks like this:



This change is‚ÄÇ","Review status: 0 of 6 files reviewed at latest revision, 1 unresolved discussion.

src/windows/utox.rc, line 9 at r1 (raw file):


// TODO FIXME: That's not OK, I know.
#include <../../../src/branding.h>


I know it's bad, but I couldn't done it differently.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/880#issuecomment-298061217,"Fix for #869.
It looks like this:



This change is‚ÄÇ","Reviewed 5 of 6 files at r1.
Review status: 5 of 6 files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/windows/utox.rc, line 9 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
I know it's bad, but I couldn't done it differently.

this fails travis, try just #include ""../branding.h"" and see if that makes travis happy

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/880#issuecomment-298066807,"Fix for #869.
It looks like this:



This change is‚ÄÇ","Review status: 5 of 6 files reviewed at latest revision, 1 unresolved discussion.

src/windows/utox.rc, line 9 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this fails travis, try just #include ""../branding.h"" and see if that makes travis happy

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/880#issuecomment-298079341,"Fix for #869.
It looks like this:



This change is‚ÄÇ","+@robinlinden confirm and merge

Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/880#issuecomment-298079732,"Fix for #869.
It looks like this:



This change is‚ÄÇ","Reviewed 5 of 6 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/branding.h.in, line 20 at r2 (raw file):

// Assembly info
#define UTOX_FILE_DESCRIPTION ""The lightweight Tox client""
#define UTOX_COPYRIGHT ""Copyleft 2017 uTox Contributors. Some Rights Reserved.""


Is it intentional that every word is capitalized? Looks really odd in my opinion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/880#issuecomment-298080785,"Fix for #869.
It looks like this:



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/branding.h.in, line 20 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Is it intentional that every word is capitalized? Looks really odd in my opinion.

No, I just copied that part from the macos info.
Is Copyleft 2017 uTox contributors. Some rights reserved. better?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/880#issuecomment-298081028,"Fix for #869.
It looks like this:



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/branding.h.in, line 20 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
No, I just copied that part from the macos info.
Is Copyleft 2017 uTox contributors. Some rights reserved. better?

I like that version more. :P

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/880#issuecomment-298081804,"Fix for #869.
It looks like this:



This change is‚ÄÇ","Tried it. Works fine. 

Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/redmanmale,10,https://github.com/uTox/uTox/pull/880#issuecomment-298082553,"Fix for #869.
It looks like this:



This change is‚ÄÇ","Review status: 4 of 6 files reviewed at latest revision, 1 unresolved discussion.

src/branding.h.in, line 20 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I like that version more. :P

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/880#issuecomment-298082795,"Fix for #869.
It looks like this:



This change is‚ÄÇ","Reviewed 2 of 2 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,880,2017-04-28T16:58:37Z,2017-04-28T19:14:34Z,2017-08-25T16:49:52Z,MERGED,True,45,4,6,https://github.com/redmanmale,Add assembly info on Windows,3,[],https://github.com/uTox/uTox/pull/880,https://github.com/endoffile78,12,https://github.com/uTox/uTox/pull/880#issuecomment-298083070,"Fix for #869.
It looks like this:



This change is‚ÄÇ","Reviewed 3 of 6 files at r1, 1 of 1 files at r2, 2 of 2 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/thorpelawrence,1,https://github.com/uTox/uTox/pull/882,"Fixes #862


This change is‚ÄÇ","Fixes #862


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/882#issuecomment-298085089,"Fixes #862


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/882#issuecomment-298092167,"Fixes #862


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/882#issuecomment-298164028,"Fixes #862


This change is‚ÄÇ","Thanks for fixing this! 

Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/thorpelawrence,5,https://github.com/uTox/uTox/pull/882#issuecomment-298168860,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 84 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Did you try swprintf?

Fixed, now uses swprintf, thanks

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/882#issuecomment-298192379,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, all commit checks successful.

src/windows/window.c, line 83 at r2 (raw file):

    wchar_t title[128];
    swprintf(title, 128, L""%S"", S(WINDOW_TITLE_VIDEO_PREVIEW));

needs to be L""%s"" not L""%S"" it's a wchat taking a char.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/thorpelawrence,7,https://github.com/uTox/uTox/pull/882#issuecomment-298226694,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 83 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
needs to be L""%s"" not L""%S"" it's a wchat taking a char.

Tried with %s but didn't work, shouldn't %S be used with a char in swprintf as %s is for wchar?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/882#issuecomment-298981599,"Fixes #862


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 83 at r2 (raw file):
Previously, thorpelawrence (Lawrence Thorpe) wrote‚Ä¶
Tried with %s but didn't work, shouldn't %S be used with a char in swprintf as %s is for wchar?

I'm very sorry for the delay in reply, somehow this fell off my todo list... I didn't mean to leave you hanging for so long.
I just double checked and according to http://en.cppreference.com/w/cpp/io/c/fwprintf %s reads from a char string, where %ls reads from a wchar string. All of the i18n strings in utox are just char. see also https://linux.die.net/man/3/wprintf
man 3 snprintf also says %S is an alias for %ls Don't use. So no matter what, we shouldn't use %S

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/thorpelawrence,9,https://github.com/uTox/uTox/pull/882#issuecomment-298989485,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 83 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I'm very sorry for the delay in reply, somehow this fell off my todo list... I didn't mean to leave you hanging for so long.
I just double checked and according to http://en.cppreference.com/w/cpp/io/c/fwprintf %s reads from a char string, where %ls reads from a wchar string. All of the i18n strings in utox are just char. see also https://linux.die.net/man/3/wprintf
man 3 snprintf also says %S is an alias for %ls Don't use. So no matter what, we shouldn't use %S

No worries, so if they're all char should it just use swprintf(""%ls"") or try something different, or use the original fwprintf?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/882#issuecomment-298995582,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 83 at r2 (raw file):
Previously, thorpelawrence (Lawrence Thorpe) wrote‚Ä¶
No worries, so if they're all char should it just use swprintf(""%ls"") or try something different, or use the original fwprintf?

use swprintf(""%s"")

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/thorpelawrence,11,https://github.com/uTox/uTox/pull/882#issuecomment-299002502,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 83 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
use swprintf(""%s"")

That was the original issue I had with it displaying the wrong title, since as you say they are just char strings couldn't fwprintf(""%s"") be used?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/882#issuecomment-299004019,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 83 at r2 (raw file):
Previously, thorpelawrence (Lawrence Thorpe) wrote‚Ä¶
That was the original issue I had with it displaying the wrong title, since as you say they are just char strings couldn't fwprintf(""%s"") be used?

what's the problem with swprintf()?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/thorpelawrence,13,https://github.com/uTox/uTox/pull/882#issuecomment-299007260,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 83 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
what's the problem with swprintf()?

With swprintf(""%s"") the characters are garbled


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/thorpelawrence,14,https://github.com/uTox/uTox/pull/882#issuecomment-299007436,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 83 at r2 (raw file):
Previously, thorpelawrence (Lawrence Thorpe) wrote‚Ä¶
With swprintf(""%s"") the characters are garbled


With the previous attempt it was showing 'Video preview'

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/882#issuecomment-299008304,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 83 at r2 (raw file):
Previously, thorpelawrence (Lawrence Thorpe) wrote‚Ä¶
With the previous attempt it was showing 'Video preview'

if %ls works use that, and I'll look into what's wrong later, add a // TODO grayhatter as well so I'll remember this thread

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/thorpelawrence,16,https://github.com/uTox/uTox/pull/882#issuecomment-299011190,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 83 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
if %ls works use that, and I'll look into what's wrong later, add a // TODO grayhatter as well so I'll remember this thread

Doesn't seem that %ls is an alias for %S with swprintf, so looks like I may have to use swprintf with %S

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/thorpelawrence,17,https://github.com/uTox/uTox/pull/882#issuecomment-299011392,"Fixes #862


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/window.c, line 83 at r2 (raw file):
Previously, thorpelawrence (Lawrence Thorpe) wrote‚Ä¶
Doesn't seem that %ls is an alias for %S with swprintf, so looks like I may have to use swprintf with %S

swprintf(title, 128, L""%ls"", S(WINDOW_TITLE_VIDEO_PREVIEW));
has a different result to
swprintf(title, 128, L""%S"", S(WINDOW_TITLE_VIDEO_PREVIEW));

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/robinlinden,18,https://github.com/uTox/uTox/pull/882#issuecomment-299013489,"Fixes #862


This change is‚ÄÇ","It's a Microsoft thing.
https://msdn.microsoft.com/en-us/library/aa272865(v=vs.60).aspx
""The types C and S, and the behavior of  c and s with printf functions, are Microsoft extensions and are not ANSI-compatible.""
%s in wprintf-functions means it's using a wide string. %S means it's using a single-byte character string.
You should be using %S as you were.
Edit: And please add a comment about the non-standard behaviour. :P",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/GrayHatter,19,https://github.com/uTox/uTox/pull/882#issuecomment-299016033,"Fixes #862


This change is‚ÄÇ",Windows quality API there...,True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/thorpelawrence,20,https://github.com/uTox/uTox/pull/882#issuecomment-299019923,"Fixes #862


This change is‚ÄÇ","That's where I originally saw the %S behavior, should work now

Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/GrayHatter,21,https://github.com/uTox/uTox/pull/882#issuecomment-299021651,"Fixes #862


This change is‚ÄÇ","My apologies again, if you ever have API docs to back up the decisions you've made, link them and I'll shutup üòÅ
 

Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/robinlinden,22,https://github.com/uTox/uTox/pull/882#issuecomment-299022605,"Fixes #862


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/thorpelawrence,23,https://github.com/uTox/uTox/pull/882#issuecomment-299023409,"Fixes #862


This change is‚ÄÇ","No problem, strange that Microsoft does it differently so was scratching my head there for a bit

Review status: all files reviewed at latest revision, all discussions resolved, some commit checks pending.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,882,2017-04-28T18:18:56Z,2017-05-03T20:35:47Z,2019-01-21T09:09:06Z,MERGED,True,7,1,1,https://github.com/thorpelawrence,Fix video window title for Windows,3,[],https://github.com/uTox/uTox/pull/882,https://github.com/GrayHatter,24,https://github.com/uTox/uTox/pull/882#issuecomment-299027532,"Fixes #862


This change is‚ÄÇ",@thorpelawrence thanks mate it's fixed now!,True,{}
uTox/uTox,https://github.com/uTox/uTox,883,2017-04-28T19:47:12Z,2017-04-28T20:12:36Z,2017-08-26T13:09:22Z,MERGED,True,59,58,9,https://github.com/robinlinden,Update deprecated debug calls.,1,[],https://github.com/uTox/uTox/pull/883,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/883,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,883,2017-04-28T19:47:12Z,2017-04-28T20:12:36Z,2017-08-26T13:09:22Z,MERGED,True,59,58,9,https://github.com/robinlinden,Update deprecated debug calls.,1,[],https://github.com/uTox/uTox/pull/883,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/883#issuecomment-298091666,This change is‚ÄÇ,"Review status: 0 of 9 files reviewed at latest revision, 1 unresolved discussion.

src/windows/os_video.c, line 539 at r1 (raw file):

    if (FAILED(pGraph->lpVtbl->RemoveFilter(pGraph, pFilter))) {
        LOG_ERR(""Video"", ""Failed to close webcam (1)."");

Here and below are used a little different formatting (dot at the end).

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,883,2017-04-28T19:47:12Z,2017-04-28T20:12:36Z,2017-08-26T13:09:22Z,MERGED,True,59,58,9,https://github.com/robinlinden,Update deprecated debug calls.,1,[],https://github.com/uTox/uTox/pull/883,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/883#issuecomment-298091706,This change is‚ÄÇ,"Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,883,2017-04-28T19:47:12Z,2017-04-28T20:12:36Z,2017-08-26T13:09:22Z,MERGED,True,59,58,9,https://github.com/robinlinden,Update deprecated debug calls.,1,[],https://github.com/uTox/uTox/pull/883,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/883#issuecomment-298092070,This change is‚ÄÇ,"Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,883,2017-04-28T19:47:12Z,2017-04-28T20:12:36Z,2017-08-26T13:09:22Z,MERGED,True,59,58,9,https://github.com/robinlinden,Update deprecated debug calls.,1,[],https://github.com/uTox/uTox/pull/883,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/883#issuecomment-298093753,This change is‚ÄÇ,"Review status: 8 of 9 files reviewed at latest revision, 1 unresolved discussion.

src/windows/os_video.c, line 539 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Here and below are used a little different formatting (dot at the end).

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,883,2017-04-28T19:47:12Z,2017-04-28T20:12:36Z,2017-08-26T13:09:22Z,MERGED,True,59,58,9,https://github.com/robinlinden,Update deprecated debug calls.,1,[],https://github.com/uTox/uTox/pull/883,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/883#issuecomment-298093994,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,883,2017-04-28T19:47:12Z,2017-04-28T20:12:36Z,2017-08-26T13:09:22Z,MERGED,True,59,58,9,https://github.com/robinlinden,Update deprecated debug calls.,1,[],https://github.com/uTox/uTox/pull/883,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/883#issuecomment-298095024,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,884,2017-04-28T20:01:55Z,2017-04-30T17:01:57Z,2017-08-26T13:09:40Z,MERGED,True,10,7,3,https://github.com/robinlinden,Move copyright info to cmake.,1,[],https://github.com/uTox/uTox/pull/884,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/884,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,884,2017-04-28T20:01:55Z,2017-04-30T17:01:57Z,2017-08-26T13:09:40Z,MERGED,True,10,7,3,https://github.com/robinlinden,Move copyright info to cmake.,1,[],https://github.com/uTox/uTox/pull/884,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/884#issuecomment-298095668,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,884,2017-04-28T20:01:55Z,2017-04-30T17:01:57Z,2017-08-26T13:09:40Z,MERGED,True,10,7,3,https://github.com/robinlinden,Move copyright info to cmake.,1,[],https://github.com/uTox/uTox/pull/884,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/884#issuecomment-298127756,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,884,2017-04-28T20:01:55Z,2017-04-30T17:01:57Z,2017-08-26T13:09:40Z,MERGED,True,10,7,3,https://github.com/robinlinden,Move copyright info to cmake.,1,[],https://github.com/uTox/uTox/pull/884,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/884#issuecomment-298193436,This change is‚ÄÇ,"Reviewed 1 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,884,2017-04-28T20:01:55Z,2017-04-30T17:01:57Z,2017-08-26T13:09:40Z,MERGED,True,10,7,3,https://github.com/robinlinden,Move copyright info to cmake.,1,[],https://github.com/uTox/uTox/pull/884,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/884#issuecomment-298206249,This change is‚ÄÇ,"why?

Reviewed 2 of 4 files at r1, 1 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,884,2017-04-28T20:01:55Z,2017-04-30T17:01:57Z,2017-08-26T13:09:40Z,MERGED,True,10,7,3,https://github.com/robinlinden,Move copyright info to cmake.,1,[],https://github.com/uTox/uTox/pull/884,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/884#issuecomment-298249134,This change is‚ÄÇ,"We had the copyright notice in multiple places and they were starting to diverge. Better to make it easy for everyone and move it to one central location. :P

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,885,2017-04-28T20:10:49Z,2017-04-28T23:17:02Z,2017-08-26T13:09:22Z,MERGED,True,5,112,4,https://github.com/robinlinden,Remove files generated by cmake from git.,1,[],https://github.com/uTox/uTox/pull/885,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/885,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,885,2017-04-28T20:10:49Z,2017-04-28T23:17:02Z,2017-08-26T13:09:22Z,MERGED,True,5,112,4,https://github.com/robinlinden,Remove files generated by cmake from git.,1,[],https://github.com/uTox/uTox/pull/885,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/885#issuecomment-298096054,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,885,2017-04-28T20:10:49Z,2017-04-28T23:17:02Z,2017-08-26T13:09:22Z,MERGED,True,5,112,4,https://github.com/robinlinden,Remove files generated by cmake from git.,1,[],https://github.com/uTox/uTox/pull/885,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/885#issuecomment-298096372,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,885,2017-04-28T20:10:49Z,2017-04-28T23:17:02Z,2017-08-26T13:09:22Z,MERGED,True,5,112,4,https://github.com/robinlinden,Remove files generated by cmake from git.,1,[],https://github.com/uTox/uTox/pull/885,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/885#issuecomment-298205604,This change is‚ÄÇ,"This shouldn't have been merged.
The android file is used outside of cmake.
The branding file is greppable and should be committed to the repo.
No comment on the macOS file, but likely ditto of the above.",True,{}
uTox/uTox,https://github.com/uTox/uTox,885,2017-04-28T20:10:49Z,2017-04-28T23:17:02Z,2017-08-26T13:09:22Z,MERGED,True,5,112,4,https://github.com/robinlinden,Remove files generated by cmake from git.,1,[],https://github.com/uTox/uTox/pull/885,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/885#issuecomment-298212061,This change is‚ÄÇ,#895,True,{}
uTox/uTox,https://github.com/uTox/uTox,886,2017-04-28T20:54:08Z,2017-04-28T23:17:25Z,2017-08-26T13:09:21Z,MERGED,True,2,2,1,https://github.com/robinlinden,Reduce size of MinSizeRel builds.,1,[],https://github.com/uTox/uTox/pull/886,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/886,"Thanks to @fcore117 for the suggestion!


This change is‚ÄÇ","Thanks to @fcore117 for the suggestion!


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,886,2017-04-28T20:54:08Z,2017-04-28T23:17:25Z,2017-08-26T13:09:21Z,MERGED,True,2,2,1,https://github.com/robinlinden,Reduce size of MinSizeRel builds.,1,[],https://github.com/uTox/uTox/pull/886,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/886#issuecomment-298105931,"Thanks to @fcore117 for the suggestion!


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,886,2017-04-28T20:54:08Z,2017-04-28T23:17:25Z,2017-08-26T13:09:21Z,MERGED,True,2,2,1,https://github.com/robinlinden,Reduce size of MinSizeRel builds.,1,[],https://github.com/uTox/uTox/pull/886,https://github.com/fcore117,3,https://github.com/uTox/uTox/pull/886#issuecomment-298107546,"Thanks to @fcore117 for the suggestion!


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,887,2017-04-29T01:12:53Z,2017-04-29T20:40:00Z,2017-04-29T20:44:37Z,MERGED,True,59,5,2,https://github.com/publicarray,update macOS instructions,2,[],https://github.com/uTox/uTox/pull/887,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/887,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,887,2017-04-29T01:12:53Z,2017-04-29T20:40:00Z,2017-04-29T20:44:37Z,MERGED,True,59,5,2,https://github.com/publicarray,update macOS instructions,2,[],https://github.com/uTox/uTox/pull/887,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/887#issuecomment-298154316,This change is‚ÄÇ,"Reviewed 1 of 2 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,887,2017-04-29T01:12:53Z,2017-04-29T20:40:00Z,2017-04-29T20:44:37Z,MERGED,True,59,5,2,https://github.com/publicarray,update macOS instructions,2,[],https://github.com/uTox/uTox/pull/887,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/887#issuecomment-298192605,This change is‚ÄÇ,"Reviewed 1 of 2 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,888,2017-04-29T11:41:29Z,2017-04-29T20:40:40Z,2017-08-26T13:09:21Z,MERGED,True,3,1,2,https://github.com/robinlinden,Remove log spam when video is running.,1,[],https://github.com/uTox/uTox/pull/888,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/888,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,888,2017-04-29T11:41:29Z,2017-04-29T20:40:40Z,2017-08-26T13:09:21Z,MERGED,True,3,1,2,https://github.com/robinlinden,Remove log spam when video is running.,1,[],https://github.com/uTox/uTox/pull/888,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/888#issuecomment-298192062,This change is‚ÄÇ,"What we really should do, is call video_begin() from within the AV thread, and then make sure the button actions and the avthread, open the video as needed.

Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,888,2017-04-29T11:41:29Z,2017-04-29T20:40:40Z,2017-08-26T13:09:21Z,MERGED,True,3,1,2,https://github.com/robinlinden,Remove log spam when video is running.,1,[],https://github.com/uTox/uTox/pull/888,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/888#issuecomment-298192660,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,888,2017-04-29T11:41:29Z,2017-04-29T20:40:40Z,2017-08-26T13:09:21Z,MERGED,True,3,1,2,https://github.com/robinlinden,Remove log spam when video is running.,1,[],https://github.com/uTox/uTox/pull/888,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/888#issuecomment-298205460,This change is‚ÄÇ,"What we really should do, is call video_begin() from within the AV thread, and then make sure the button actions and the avthread, open the video as needed.

Err, this is wrong. What I should have said was make sure the buttons postmessage to the AV thread, then the AV thread can open as needed.",True,{}
uTox/uTox,https://github.com/uTox/uTox,889,2017-04-29T12:43:04Z,2017-05-26T05:32:38Z,2017-08-26T13:09:41Z,MERGED,True,10,4,2,https://github.com/robinlinden,Fix Linux static jenkins builds.,1,[],https://github.com/uTox/uTox/pull/889,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/889,"I tried to test this on GitLab, but it seems that most of those builds were broken before this PR.
These fixes are already in the jenkins builds (I had to use sed to fix them.)


This change is‚ÄÇ","I tried to test this on GitLab, but it seems that most of those builds were broken before this PR.
These fixes are already in the jenkins builds (I had to use sed to fix them.)


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,889,2017-04-29T12:43:04Z,2017-05-26T05:32:38Z,2017-08-26T13:09:41Z,MERGED,True,10,4,2,https://github.com/robinlinden,Fix Linux static jenkins builds.,1,[],https://github.com/uTox/uTox/pull/889,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/889#issuecomment-298192799,"I tried to test this on GitLab, but it seems that most of those builds were broken before this PR.
These fixes are already in the jenkins builds (I had to use sed to fix them.)


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,889,2017-04-29T12:43:04Z,2017-05-26T05:32:38Z,2017-08-26T13:09:41Z,MERGED,True,10,4,2,https://github.com/robinlinden,Fix Linux static jenkins builds.,1,[],https://github.com/uTox/uTox/pull/889,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/889#issuecomment-298205921,"I tried to test this on GitLab, but it seems that most of those builds were broken before this PR.
These fixes are already in the jenkins builds (I had to use sed to fix them.)


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

CMakeLists.txt, line 216 at r1 (raw file):

if(UTOX_STATIC)
    if(UNIX)
        add_cflag(""-Wl -Bstatic -lopus -lopenal -lfilteraudio -Bdynamic -lrt -lm -lpthread -ldl"")

what about this?

CMakeLists.txt, line 297 at r1 (raw file):

    add_definitions(""-x objective-c"")
    add_subdirectory(src/cocoa)
    set(LIBRARIES ""opus"")

Is this still needed here then?

CMakeLists.txt, line 358 at r1 (raw file):

if(LINUX)
    # Required for v4l (at least in the Linux static builds on Jenkins)
    target_link_libraries(utox rt)

this should be added to ${LIBRARIES} instead

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,889,2017-04-29T12:43:04Z,2017-05-26T05:32:38Z,2017-08-26T13:09:41Z,MERGED,True,10,4,2,https://github.com/robinlinden,Fix Linux static jenkins builds.,1,[],https://github.com/uTox/uTox/pull/889,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/889#issuecomment-298975331,"I tried to test this on GitLab, but it seems that most of those builds were broken before this PR.
These fixes are already in the jenkins builds (I had to use sed to fix them.)


This change is‚ÄÇ",@robinlinden,True,{}
uTox/uTox,https://github.com/uTox/uTox,889,2017-04-29T12:43:04Z,2017-05-26T05:32:38Z,2017-08-26T13:09:41Z,MERGED,True,10,4,2,https://github.com/robinlinden,Fix Linux static jenkins builds.,1,[],https://github.com/uTox/uTox/pull/889,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/889#issuecomment-300098759,"I tried to test this on GitLab, but it seems that most of those builds were broken before this PR.
These fixes are already in the jenkins builds (I had to use sed to fix them.)


This change is‚ÄÇ",@robinlinden comments,True,{}
uTox/uTox,https://github.com/uTox/uTox,889,2017-04-29T12:43:04Z,2017-05-26T05:32:38Z,2017-08-26T13:09:41Z,MERGED,True,10,4,2,https://github.com/robinlinden,Fix Linux static jenkins builds.,1,[],https://github.com/uTox/uTox/pull/889,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/889#issuecomment-301240593,"I tried to test this on GitLab, but it seems that most of those builds were broken before this PR.
These fixes are already in the jenkins builds (I had to use sed to fix them.)


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions.

CMakeLists.txt, line 216 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
what about this?

Not sure what you're asking. This part works on the Jenkins static Linux builds without modification.

CMakeLists.txt, line 297 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Is this still needed here then?

I don't know. I didn't touch OS X in this PR.

CMakeLists.txt, line 358 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this should be added to ${LIBRARIES} instead

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,889,2017-04-29T12:43:04Z,2017-05-26T05:32:38Z,2017-08-26T13:09:41Z,MERGED,True,10,4,2,https://github.com/robinlinden,Fix Linux static jenkins builds.,1,[],https://github.com/uTox/uTox/pull/889,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/889#issuecomment-301320168,"I tried to test this on GitLab, but it seems that most of those builds were broken before this PR.
These fixes are already in the jenkins builds (I had to use sed to fix them.)


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,889,2017-04-29T12:43:04Z,2017-05-26T05:32:38Z,2017-08-26T13:09:41Z,MERGED,True,10,4,2,https://github.com/robinlinden,Fix Linux static jenkins builds.,1,[],https://github.com/uTox/uTox/pull/889,https://github.com/publicarray,8,https://github.com/uTox/uTox/pull/889#issuecomment-301358837,"I tried to test this on GitLab, but it seems that most of those builds were broken before this PR.
These fixes are already in the jenkins builds (I had to use sed to fix them.)


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions.

CMakeLists.txt, line 297 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I don't know. I didn't touch OS X in this PR.

FYI it is removed in #872

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,889,2017-04-29T12:43:04Z,2017-05-26T05:32:38Z,2017-08-26T13:09:41Z,MERGED,True,10,4,2,https://github.com/robinlinden,Fix Linux static jenkins builds.,1,[],https://github.com/uTox/uTox/pull/889,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/889#issuecomment-304194024,"I tried to test this on GitLab, but it seems that most of those builds were broken before this PR.
These fixes are already in the jenkins builds (I had to use sed to fix them.)


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

CMakeLists.txt, line 216 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Not sure what you're asking. This part works on the Jenkins static Linux builds without modification.

shit, now I don't remember either

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,889,2017-04-29T12:43:04Z,2017-05-26T05:32:38Z,2017-08-26T13:09:41Z,MERGED,True,10,4,2,https://github.com/robinlinden,Fix Linux static jenkins builds.,1,[],https://github.com/uTox/uTox/pull/889,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/889#issuecomment-304194112,"I tried to test this on GitLab, but it seems that most of those builds were broken before this PR.
These fixes are already in the jenkins builds (I had to use sed to fix them.)


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,890,2017-04-29T13:47:20Z,2017-05-03T17:10:55Z,2017-08-26T13:09:39Z,MERGED,True,33,67,12,https://github.com/robinlinden,Make uTox save the language you set.,1,[],https://github.com/uTox/uTox/pull/890,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/890,"Fixes #96 (I didn't even know that was assigned to me. :x )

This change is‚ÄÇ","Fixes #96 (I didn't even know that was assigned to me. :x )

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,890,2017-04-29T13:47:20Z,2017-05-03T17:10:55Z,2017-08-26T13:09:39Z,MERGED,True,33,67,12,https://github.com/robinlinden,Make uTox save the language you set.,1,[],https://github.com/uTox/uTox/pull/890,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/890#issuecomment-298244189,"Fixes #96 (I didn't even know that was assigned to me. :x )

This change is‚ÄÇ","Reviewed 12 of 12 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,890,2017-04-29T13:47:20Z,2017-05-03T17:10:55Z,2017-08-26T13:09:39Z,MERGED,True,33,67,12,https://github.com/robinlinden,Make uTox save the language you set.,1,[],https://github.com/uTox/uTox/pull/890,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/890#issuecomment-298292553,"Fixes #96 (I didn't even know that was assigned to me. :x )

This change is‚ÄÇ","Reviewed 12 of 12 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/settings.c, line 90 at r1 (raw file):

// TODO refactor to match same order in main.h
UTOX_SAVE *config_load(void) {

Consider refactoring and doing the sanity checks in this function, then calling a new static function to do the actual setting of the state.

src/settings.c, line 125 at r1 (raw file):

    /* UX Settings */

    dropdown_language.selected = dropdown_language.over = settings.language = save->language;

What if it's NULL? Will this reset the system default?

src/layout/settings.c, line 1097 at r1 (raw file):

static void dropdown_language_onselect(uint16_t i, const DROPDOWN *UNUSED(dm)) {
    settings.language = (UTOX_LANG)i;

Is this typecast needed?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,890,2017-04-29T13:47:20Z,2017-05-03T17:10:55Z,2017-08-26T13:09:39Z,MERGED,True,33,67,12,https://github.com/robinlinden,Make uTox save the language you set.,1,[],https://github.com/uTox/uTox/pull/890,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/890#issuecomment-298314328,"Fixes #96 (I didn't even know that was assigned to me. :x )

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/settings.c, line 90 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Consider refactoring and doing the sanity checks in this function, then calling a new static function to do the actual setting of the state.

Out of scope for this PR.

src/settings.c, line 125 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
What if it's NULL? Will this reset the system default?

NULL is English. We never saved the system default, so it doesn't reset anything. We could add a button that sets the dropdown to the system default or alternatively add a language to the dropdown that always uses the system default.

src/layout/settings.c, line 1097 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Is this typecast needed?

Yes. settings.language is a UTOX_LANG and i is an uint16_t.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,890,2017-04-29T13:47:20Z,2017-05-03T17:10:55Z,2017-08-26T13:09:39Z,MERGED,True,33,67,12,https://github.com/robinlinden,Make uTox save the language you set.,1,[],https://github.com/uTox/uTox/pull/890,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/890#issuecomment-298329968,"Fixes #96 (I didn't even know that was assigned to me. :x )

This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/891,"Fixes #879
Fixes #905

This change is‚ÄÇ","Fixes #879
Fixes #905

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/fcore117,2,https://github.com/uTox/uTox/pull/891#issuecomment-298177862,"Fixes #879
Fixes #905

This change is‚ÄÇ","Tested by compiling and ran tests, looks like option now is remembered.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/891#issuecomment-298192170,"Fixes #879
Fixes #905

This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/friend.c, line 213 at r1 (raw file):

    }

    if (size < sizeof(*metadata)) {

why did you drop this check?

src/layout/friend.c, line 583 at r1 (raw file):

    if (f) {
        f->ft_autoaccept = !f->ft_autoaccept;
        utox_write_metadata(f);

we should also call this on clean exit, for each friend

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/891#issuecomment-298192707,"Fixes #879
Fixes #905

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/friend.c, line 213 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why did you drop this check?

If we don't get the complete metadata, read_meta is set to false and we never get this far. It wasn't a case that could happen.

src/layout/friend.c, line 583 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
we should also call this on clean exit, for each friend

Seems like a waste when we're already calling it after changing the metadata for the friend we modify.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/891#issuecomment-298195796,"Fixes #879
Fixes #905

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/friend.c, line 213 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
If we don't get the complete metadata, read_meta is set to false and we never get this far. It wasn't a case that could happen.

..It wasn't a case that could happen until I fixed that we were allocating ~2x the memory required to hold the metadata. Will add this back in.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/891#issuecomment-298196208,"Fixes #879
Fixes #905

This change is‚ÄÇ","Review status: 1 of 2 files reviewed at latest revision, 2 unresolved discussions.

src/friend.c, line 213 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
..It wasn't a case that could happen until I fixed that we were allocating ~2x the memory required to hold the metadata. Will add this back in.

Added back a check checking if we read at least sizeof(FRIEND_META_DATA)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/891#issuecomment-298206216,"Fixes #879
Fixes #905

This change is‚ÄÇ","+@endoffile78

Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/layout/friend.c, line 583 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Seems like a waste when we're already calling it after changing the metadata for the friend we modify.

OK, but that's what we 'were' doing before :/

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/891#issuecomment-298802139,"Fixes #879
Fixes #905

This change is‚ÄÇ","Fails to build on linux

Reviewed 1 of 2 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/891#issuecomment-298976306,"Fixes #879
Fixes #905

This change is‚ÄÇ","https://travis-ci.org/uTox/uTox/jobs/227230710#L702

/home/travis/build/uTox/uTox/src/friend.c:155:37: error: missing field 'ft_autoaccept' initializer [-Werror,-Wmissing-field-initializers]

Do we want to suppress this warning? @robinlinden @endoffile78 @cebe",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/891#issuecomment-298977877,"Fixes #879
Fixes #905

This change is‚ÄÇ","That behaviour is well defined in the C standard and there is a bug open
against clang to silence that warning for the case when you use `{0}`. It
should be silenced for Clang at least. If we want to detect legitimate
instances of missing initialisers we should add a gcc build since they had
the same bug but fixed it.
‚Ä¶
On Wed, 3 May 2017, 19:16 Gregory Mullen, ***@***.***> wrote:
 https://travis-ci.org/uTox/uTox/jobs/227230710#L702

 /home/travis/build/uTox/uTox/src/friend.c:155:37: error: missing field
 'ft_autoaccept' initializer [-Werror,-Wmissing-field-initializers]

 Do we want to suppress this warning? @robinlinden
 <https://github.com/robinlinden> @endoffile78
 <https://github.com/endoffile78> @cebe <https://github.com/cebe>

 ‚Äî
 You are receiving this because you were mentioned.


 Reply to this email directly, view it on GitHub
 <#891 (comment)>, or mute
 the thread
 <https://github.com/notifications/unsubscribe-auth/AH63Tj3EL05TW2Oj8tTR3sWM_exClgqmks5r2LZVgaJpZM4NMQ_q>
 .",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/891#issuecomment-300099187,"Fixes #879
Fixes #905

This change is‚ÄÇ","@robinlinden let's supress the warning and add a # TODO 2017 JULY remove this warning suppression
maybe clang will have fixed it by then üòÅ",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/891#issuecomment-300100065,"Fixes #879
Fixes #905

This change is‚ÄÇ","@cebe if you wanna push that fix, @endoffile78 and I can review that change without @robinlinden",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/endoffile78,13,https://github.com/uTox/uTox/pull/891#issuecomment-300290243,"Fixes #879
Fixes #905

This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,891,2017-04-29T14:13:23Z,2017-05-10T05:56:13Z,2017-05-10T06:03:46Z,MERGED,True,28,26,2,https://github.com/robinlinden,Fix autoaccept setting not triggering metadata save.,1,[],https://github.com/uTox/uTox/pull/891,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/891#issuecomment-300381892,"Fixes #879
Fixes #905

This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,892,2017-04-29T15:09:08Z,2017-04-30T17:00:29Z,2017-08-26T13:09:39Z,MERGED,True,2,2,1,https://github.com/robinlinden,Only error asan+static compilation on Windows.,1,[],https://github.com/uTox/uTox/pull/892,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/892,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,892,2017-04-29T15:09:08Z,2017-04-30T17:00:29Z,2017-08-26T13:09:39Z,MERGED,True,2,2,1,https://github.com/robinlinden,Only error asan+static compilation on Windows.,1,[],https://github.com/uTox/uTox/pull/892,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/892#issuecomment-298192995,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,892,2017-04-29T15:09:08Z,2017-04-30T17:00:29Z,2017-08-26T13:09:39Z,MERGED,True,2,2,1,https://github.com/robinlinden,Only error asan+static compilation on Windows.,1,[],https://github.com/uTox/uTox/pull/892,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/892#issuecomment-298207345,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/894,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/894#issuecomment-298206680,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Next time make 2 commits, one for your changes, the 2nd for stbi?

Reviewed 6 of 17 files at r1.
Review status: 6 of 17 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/894#issuecomment-298206748,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Reviewed 11 of 17 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/native/audio.h, line 14 at r1 (raw file):

#if defined __ANDROID__

why is this in a new ifdef?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/894#issuecomment-298225300,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/native/audio.h, line 14 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why is this in a new ifdef?

It's not. We use that in 9 places across 8 files.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/894#issuecomment-298243262,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Reviewed 16 of 17 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/894#issuecomment-298376405,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Reviewed 1 of 1 files at r2, 29 of 29 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/native/audio.h, line 14 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
It's not. We use that in 9 places across 8 files.

no, I mean, does it need to be in an ifdef?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/894#issuecomment-298976525,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","+@endoffile78

Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/894#issuecomment-299095027,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Reviewed 29 of 29 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/894#issuecomment-299989101,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ",Needs to be rebased,True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/894#issuecomment-300098392,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/native/audio.h, line 14 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
no, I mean, does it need to be in an ifdef?

@robinlinden

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/894#issuecomment-301240815,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/native/audio.h, line 14 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
@robinlinden

This code doesn't have to be behind an ifdef, but trying to use them anywhere that isn't Android-only wouldn't compile.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/endoffile78,12,https://github.com/uTox/uTox/pull/894#issuecomment-304170121,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ",Needs to be rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/894#issuecomment-304194392,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/native/audio.h, line 14 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This code doesn't have to be behind an ifdef, but trying to use them anywhere that isn't Android-only wouldn't compile.

OK, this is fine for now then

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/894#issuecomment-304194434,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","merging is fine too

Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/894#issuecomment-323603564,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Reviewed 26 of 26 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/GrayHatter,16,https://github.com/uTox/uTox/pull/894#issuecomment-323603612,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","changing assignes
-@robinlinden
+@GrayHatter

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,894,2017-04-29T20:39:37Z,2017-08-20T18:52:09Z,2017-08-20T19:51:39Z,MERGED,True,288,178,42,https://github.com/robinlinden,Remove more things from main.h,2,[],https://github.com/uTox/uTox/pull/894,https://github.com/endoffile78,17,https://github.com/uTox/uTox/pull/894#issuecomment-323603899,"Remove more things from main.h
Decrease minimum width
Update stb and follow the instructions for it.
Drop a few main.h includes


This change is‚ÄÇ","Reviewed 26 of 26 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,895,2017-04-30T05:17:00Z,2017-05-01T06:21:24Z,2018-03-10T18:26:10Z,MERGED,True,112,5,4,https://github.com/endoffile78,"Revert ""Remove files generated by cmake from git.""",1,[],https://github.com/uTox/uTox/pull/895,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/895,"This reverts commit 17d61c1.


This change is‚ÄÇ","This reverts commit 17d61c1.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,895,2017-04-30T05:17:00Z,2017-05-01T06:21:24Z,2018-03-10T18:26:10Z,MERGED,True,112,5,4,https://github.com/endoffile78,"Revert ""Remove files generated by cmake from git.""",1,[],https://github.com/uTox/uTox/pull/895,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/895#issuecomment-298212070,"This reverts commit 17d61c1.


This change is‚ÄÇ","+@robinlinden

Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,895,2017-04-30T05:17:00Z,2017-05-01T06:21:24Z,2018-03-10T18:26:10Z,MERGED,True,112,5,4,https://github.com/endoffile78,"Revert ""Remove files generated by cmake from git.""",1,[],https://github.com/uTox/uTox/pull/895,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/895#issuecomment-298225217,"This reverts commit 17d61c1.


This change is‚ÄÇ",I don't agree with adding back branding.h or Plist.info. Fair enough with AndroidManifest.xml since it can be used without cmake.,True,{}
uTox/uTox,https://github.com/uTox/uTox,896,2017-04-30T14:31:24Z,2017-08-20T19:07:00Z,2017-08-20T19:51:20Z,MERGED,True,51,48,36,https://github.com/robinlinden,Clean up header files.,1,[],https://github.com/uTox/uTox/pull/896,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/896,"The main difference is that now filesys.h isn't included everywhere filetransfer.h is. I also dropped a lot of system includes that weren't used.


This change is‚ÄÇ","The main difference is that now filesys.h isn't included everywhere filetransfer.h is. I also dropped a lot of system includes that weren't used.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,896,2017-04-30T14:31:24Z,2017-08-20T19:07:00Z,2017-08-20T19:51:20Z,MERGED,True,51,48,36,https://github.com/robinlinden,Clean up header files.,1,[],https://github.com/uTox/uTox/pull/896,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/896#issuecomment-298243602,"The main difference is that now filesys.h isn't included everywhere filetransfer.h is. I also dropped a lot of system includes that weren't used.


This change is‚ÄÇ","Reviewed 20 of 20 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,896,2017-04-30T14:31:24Z,2017-08-20T19:07:00Z,2017-08-20T19:51:20Z,MERGED,True,51,48,36,https://github.com/robinlinden,Clean up header files.,1,[],https://github.com/uTox/uTox/pull/896,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/896#issuecomment-298801912,"The main difference is that now filesys.h isn't included everywhere filetransfer.h is. I also dropped a lot of system includes that weren't used.


This change is‚ÄÇ","Reviewed 14 of 14 files at r2, 3 of 3 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,896,2017-04-30T14:31:24Z,2017-08-20T19:07:00Z,2017-08-20T19:51:20Z,MERGED,True,51,48,36,https://github.com/robinlinden,Clean up header files.,1,[],https://github.com/uTox/uTox/pull/896,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/896#issuecomment-298979978,"The main difference is that now filesys.h isn't included everywhere filetransfer.h is. I also dropped a lot of system includes that weren't used.


This change is‚ÄÇ","Reviewed 20 of 20 files at r1, 14 of 14 files at r2, 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/file_transfers.h, line 44 at r3 (raw file):

    UTOX_FILE_TRANSFER_STATUS status;

    uint8_t path[1024]; // UTOX_FILE_NAME_LENGTH

nope... I understand why... still nope...

src/xlib/filesys.c, line 8 at r2 (raw file):

#include ""../debug.h""
#include ""../file_transfers.h""
#include ""../filesys.h""

filesys.h should be before include main, because it's the header for this file.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,896,2017-04-30T14:31:24Z,2017-08-20T19:07:00Z,2017-08-20T19:51:20Z,MERGED,True,51,48,36,https://github.com/robinlinden,Clean up header files.,1,[],https://github.com/uTox/uTox/pull/896,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/896#issuecomment-300100508,"The main difference is that now filesys.h isn't included everywhere filetransfer.h is. I also dropped a lot of system includes that weren't used.


This change is‚ÄÇ",@robinlinden,True,{}
uTox/uTox,https://github.com/uTox/uTox,896,2017-04-30T14:31:24Z,2017-08-20T19:07:00Z,2017-08-20T19:51:20Z,MERGED,True,51,48,36,https://github.com/robinlinden,Clean up header files.,1,[],https://github.com/uTox/uTox/pull/896,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/896#issuecomment-300889382,"The main difference is that now filesys.h isn't included everywhere filetransfer.h is. I also dropped a lot of system includes that weren't used.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/file_transfers.h, line 44 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
nope... I understand why... still nope...

So you want the change dropping filesys.h reverted?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,896,2017-04-30T14:31:24Z,2017-08-20T19:07:00Z,2017-08-20T19:51:20Z,MERGED,True,51,48,36,https://github.com/robinlinden,Clean up header files.,1,[],https://github.com/uTox/uTox/pull/896,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/896#issuecomment-300891148,"The main difference is that now filesys.h isn't included everywhere filetransfer.h is. I also dropped a lot of system includes that weren't used.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/file_transfers.h, line 44 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
So you want the change dropping filesys.h reverted?

yeah, anything including file_transfers.h is allowed to know the file system is a thing

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,896,2017-04-30T14:31:24Z,2017-08-20T19:07:00Z,2017-08-20T19:51:20Z,MERGED,True,51,48,36,https://github.com/robinlinden,Clean up header files.,1,[],https://github.com/uTox/uTox/pull/896,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/896#issuecomment-323603372,"The main difference is that now filesys.h isn't included everywhere filetransfer.h is. I also dropped a lot of system includes that weren't used.


This change is‚ÄÇ","Reviewed 19 of 20 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,896,2017-04-30T14:31:24Z,2017-08-20T19:07:00Z,2017-08-20T19:51:20Z,MERGED,True,51,48,36,https://github.com/robinlinden,Clean up header files.,1,[],https://github.com/uTox/uTox/pull/896,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/896#issuecomment-323604219,"The main difference is that now filesys.h isn't included everywhere filetransfer.h is. I also dropped a lot of system includes that weren't used.


This change is‚ÄÇ","Reviewed 19 of 20 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,896,2017-04-30T14:31:24Z,2017-08-20T19:07:00Z,2017-08-20T19:51:20Z,MERGED,True,51,48,36,https://github.com/robinlinden,Clean up header files.,1,[],https://github.com/uTox/uTox/pull/896,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/896#issuecomment-323604791,"The main difference is that now filesys.h isn't included everywhere filetransfer.h is. I also dropped a lot of system includes that weren't used.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/file_transfers.h, line 44 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
yeah, anything including file_transfers.h is allowed to know the file system is a thing

resolved

src/xlib/filesys.c, line 8 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
filesys.h should be before include main, because it's the header for this file.

resolved

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,899,2017-05-02T22:07:48Z,2017-05-09T08:35:50Z,2017-05-10T20:11:45Z,MERGED,True,106,69,15,https://github.com/robinlinden,Fix notifications.,2,[],https://github.com/uTox/uTox/pull/899,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/899,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,899,2017-05-02T22:07:48Z,2017-05-09T08:35:50Z,2017-05-10T20:11:45Z,MERGED,True,106,69,15,https://github.com/robinlinden,Fix notifications.,2,[],https://github.com/uTox/uTox/pull/899,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/899#issuecomment-298802858,This change is‚ÄÇ,"Doesn't compile on OSX.

Reviewed 15 of 15 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,899,2017-05-02T22:07:48Z,2017-05-09T08:35:50Z,2017-05-10T20:11:45Z,MERGED,True,106,69,15,https://github.com/robinlinden,Fix notifications.,2,[],https://github.com/uTox/uTox/pull/899,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/899#issuecomment-298977519,This change is‚ÄÇ,@robinlinden https://travis-ci.org/uTox/uTox/jobs/228133681#L2351 have_focus isn't exposed to osx,True,{}
uTox/uTox,https://github.com/uTox/uTox,899,2017-05-02T22:07:48Z,2017-05-09T08:35:50Z,2017-05-10T20:11:45Z,MERGED,True,106,69,15,https://github.com/robinlinden,Fix notifications.,2,[],https://github.com/uTox/uTox/pull/899,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/899#issuecomment-299012014,This change is‚ÄÇ,"Fixed. I forgot to add it back after I git checkout --'d some changes I decided I didn't like. :<

Review status: 14 of 15 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,899,2017-05-02T22:07:48Z,2017-05-09T08:35:50Z,2017-05-10T20:11:45Z,MERGED,True,106,69,15,https://github.com/robinlinden,Fix notifications.,2,[],https://github.com/uTox/uTox/pull/899,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/899#issuecomment-299028400,This change is‚ÄÇ,,True,{}
uTox/uTox,https://github.com/uTox/uTox,899,2017-05-02T22:07:48Z,2017-05-09T08:35:50Z,2017-05-10T20:11:45Z,MERGED,True,106,69,15,https://github.com/robinlinden,Fix notifications.,2,[],https://github.com/uTox/uTox/pull/899,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/899#issuecomment-299095145,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,899,2017-05-02T22:07:48Z,2017-05-09T08:35:50Z,2017-05-10T20:11:45Z,MERGED,True,106,69,15,https://github.com/robinlinden,Fix notifications.,2,[],https://github.com/uTox/uTox/pull/899,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/899#issuecomment-299978027,This change is‚ÄÇ,"Reviewed 14 of 15 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/main.c, line 74 at r2 (raw file):

}

static FILE *   ptt_keyboard_handle;

attach pls

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,900,2017-05-03T22:01:26Z,2017-05-08T21:02:12Z,2017-08-26T13:09:41Z,MERGED,True,5,1,1,https://github.com/robinlinden,Disable missing field initialiser warning for Clang.,1,[],https://github.com/uTox/uTox/pull/900,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/900,"Unblocks #891

This change is‚ÄÇ","Unblocks #891

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,900,2017-05-03T22:01:26Z,2017-05-08T21:02:12Z,2017-08-26T13:09:41Z,MERGED,True,5,1,1,https://github.com/robinlinden,Disable missing field initialiser warning for Clang.,1,[],https://github.com/uTox/uTox/pull/900,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/900#issuecomment-299095235,"Unblocks #891

This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,900,2017-05-03T22:01:26Z,2017-05-08T21:02:12Z,2017-08-26T13:09:41Z,MERGED,True,5,1,1,https://github.com/robinlinden,Disable missing field initialiser warning for Clang.,1,[],https://github.com/uTox/uTox/pull/900,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/900#issuecomment-299098208,"Unblocks #891

This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,902,2017-05-04T04:20:31Z,,2019-04-16T20:59:53Z,OPEN,False,53,21,10,https://github.com/endoffile78,Add linux build that uses gcc,8,[],https://github.com/uTox/uTox/pull/902,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/902,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,902,2017-05-04T04:20:31Z,,2019-04-16T20:59:53Z,OPEN,False,53,21,10,https://github.com/endoffile78,Add linux build that uses gcc,8,[],https://github.com/uTox/uTox/pull/902,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/902#issuecomment-300100164,This change is‚ÄÇ,"@endoffile78 let's disable tests for now, and see what happens",True,{}
uTox/uTox,https://github.com/uTox/uTox,902,2017-05-04T04:20:31Z,,2019-04-16T20:59:53Z,OPEN,False,53,21,10,https://github.com/endoffile78,Add linux build that uses gcc,8,[],https://github.com/uTox/uTox/pull/902,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/902#issuecomment-483826000,This change is‚ÄÇ,@endoffile78 all builds fail,True,{}
uTox/uTox,https://github.com/uTox/uTox,903,2017-05-04T19:35:56Z,2019-04-16T20:05:14Z,2019-04-16T20:05:15Z,CLOSED,False,218,71,10,https://github.com/GrayHatter,Converted uTox Tray on xlib to PANEL tree struct,1,['--WIP--'],https://github.com/uTox/uTox/pull/903,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/903,"you can do cool things now like, change the color, or add a background image, or different buttons/actions at different locations, or right mouse click to get a drop down menu.


This change is‚ÄÇ","you can do cool things now like, change the color, or add a background image, or different buttons/actions at different locations, or right mouse click to get a drop down menu.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,906,2017-05-09T08:29:10Z,2017-05-10T05:56:55Z,2017-06-18T15:35:58Z,MERGED,True,1,1,1,https://github.com/GrayHatter,Reduce scope for tox pointer,1,[],https://github.com/uTox/uTox/pull/906,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/906,"Was geting null derefs, this change shouldn't have fixed it, but did. Either
way this is better.


This change is‚ÄÇ","Was geting null derefs, this change shouldn't have fixed it, but did. Either
way this is better.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,906,2017-05-09T08:29:10Z,2017-05-10T05:56:55Z,2017-06-18T15:35:58Z,MERGED,True,1,1,1,https://github.com/GrayHatter,Reduce scope for tox pointer,1,[],https://github.com/uTox/uTox/pull/906,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/906#issuecomment-300289814,"Was geting null derefs, this change shouldn't have fixed it, but did. Either
way this is better.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/909,"closes #873


This change is‚ÄÇ","closes #873


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/909#issuecomment-300966957,"closes #873


This change is‚ÄÇ","Reviewed 7 of 7 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/909#issuecomment-300985982,"closes #873


This change is‚ÄÇ","@cebe @robinlinden @redmanmale I just assigned all of you, you can fight for the 2nd",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/909#issuecomment-301133284,"closes #873


This change is‚ÄÇ",#874 as well,True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/909#issuecomment-301605549,"closes #873


This change is‚ÄÇ","Reviewed 7 of 7 files at r1.
Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

CMakeLists.txt, line 179 at r1 (raw file):

    # Enable Link Time Optimization on Clang
    if(ENABLE_LTO)
        set(SAVE_CMAKE_REQUIRED_LIBRARIES ""${CMAKE_REQUIRED_LIBRARIES}"")

You should add a comment on what you're doing here. This looks really wrong.

src/xlib/main.h, line 87 at r1 (raw file):

// Brute Force, the video window we got a close command on (xlib/video.c)
uint32_t brtfrs_video_windows(Window w);

""brtfrs"" doesn't make any sense. find_video_window or something similar? You should also mention what uint32_max and uint16_max as return values mean.

src/xlib/video.c, line 22 at r1 (raw file):

#include <sys/shm.h>

Window video_win[32]; // TODO we should allocate this dynamically but this'll work for now

These look like they could be static.

src/xlib/video.c, line 42 at r1 (raw file):

void video_frame(uint32_t id, uint8_t *img_data, uint16_t width, uint16_t height, bool resize) {
    Window *win = &video_win[id];

Sure video_win[UINT16_MAX] is a good idea? Maybe you should assign null here and give it a value in an if .. else .. construct instead.

src/xlib/video.c, line 93 at r1 (raw file):

void video_begin(uint32_t id, char *name, uint16_t name_length, uint16_t width, uint16_t height) {
    Window *win = &video_win[id];

Same as above.

src/xlib/video.c, line 122 at r1 (raw file):

void video_end(uint32_t id) {
    Window *win = &video_win[id];

Same as above.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/909#issuecomment-309505704,"closes #873


This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/909#issuecomment-309517492,"closes #873


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

CMakeLists.txt, line 179 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You should add a comment on what you're doing here. This looks really wrong.

Done.

src/xlib/main.h, line 87 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
""brtfrs"" doesn't make any sense. find_video_window or something similar? You should also mention what uint32_max and uint16_max as return values mean.

Done.

src/xlib/video.c, line 22 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
These look like they could be static.

Done.

src/xlib/video.c, line 42 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Sure video_win[UINT16_MAX] is a good idea? Maybe you should assign null here and give it a value in an if .. else .. construct instead.

id is a number, it can't be null, and 0 is the start of the array. -1 or UINT_MAX is the right thing to use here.

src/xlib/video.c, line 93 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Same as above.

id is a number, it can't be null, and 0 is the start of the array. -1 or UINT_MAX is the right thing to use here.

src/xlib/video.c, line 122 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Same as above.

id is a number, it can't be null, and 0 is the start of the array. -1 or UINT_MAX is the right thing to use here.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/909#issuecomment-309519180,"closes #873


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 6 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/909#issuecomment-309552642,"closes #873


This change is‚ÄÇ","Reviewed 3 of 4 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/video.c, line 42 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
id is a number, it can't be null, and 0 is the start of the array. -1 or UINT_MAX is the right thing to use here.

Per IRC -1 would be uint32_max and break everything.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/909#issuecomment-309557605,"closes #873


This change is‚ÄÇ","Review status: 5 of 14 files reviewed at latest revision, 1 unresolved discussion.

src/xlib/video.c, line 42 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Per IRC -1 would be uint32_max and break everything.

whoopsies, fixed.
thanks @robinlinden

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/909#issuecomment-309560601,"closes #873


This change is‚ÄÇ","Reviewed 9 of 9 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/909#issuecomment-309560693,"closes #873


This change is‚ÄÇ","Reviewed 8 of 9 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/909#issuecomment-309560971,"closes #873


This change is‚ÄÇ","Reviewed 1 of 9 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/endoffile78,14,https://github.com/uTox/uTox/pull/909#issuecomment-309563549,"closes #873


This change is‚ÄÇ","Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,909,2017-05-10T08:41:03Z,2017-06-19T22:12:01Z,2017-06-19T22:12:09Z,MERGED,True,106,59,14,https://github.com/GrayHatter,Fix webcam issues on XLIB,6,[],https://github.com/uTox/uTox/pull/909,https://github.com/robinlinden,15,https://github.com/uTox/uTox/pull/909#issuecomment-309584685,"closes #873


This change is‚ÄÇ","Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,910,2017-05-13T22:25:56Z,2017-05-14T21:40:31Z,2017-05-15T21:57:24Z,MERGED,True,4,4,4,https://github.com/robinlinden,Correctly include mingw stuff as system includes.,2,[],https://github.com/uTox/uTox/pull/910,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/910,"This will probably let us compile Windows on Travis with -Werror again.


This change is‚ÄÇ","This will probably let us compile Windows on Travis with -Werror again.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,910,2017-05-13T22:25:56Z,2017-05-14T21:40:31Z,2017-05-15T21:57:24Z,MERGED,True,4,4,4,https://github.com/robinlinden,Correctly include mingw stuff as system includes.,2,[],https://github.com/uTox/uTox/pull/910,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/910#issuecomment-301320223,"This will probably let us compile Windows on Travis with -Werror again.


This change is‚ÄÇ","Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,910,2017-05-13T22:25:56Z,2017-05-14T21:40:31Z,2017-05-15T21:57:24Z,MERGED,True,4,4,4,https://github.com/robinlinden,Correctly include mingw stuff as system includes.,2,[],https://github.com/uTox/uTox/pull/910,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/910#issuecomment-301341814,"This will probably let us compile Windows on Travis with -Werror again.


This change is‚ÄÇ","Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/916,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/916#issuecomment-302784263,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","The code overall looks good with a few nits. Test doesn't link on OS X because force_redraw isn't a thing on that platform right now.

Reviewed 6 of 11 files at r1, 6 of 6 files at r2.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/chrono.c, line 25 at r2 (raw file):

        *info->ptr += info->step;
        yieldcpu(info->interval_ms);
        force_redraw();

Should chrono really be doing UI stuff? Isn't this the job of the callback function if it's needed?

src/devices.h, line 12 at r2 (raw file):

#ifndef ENABLE_MULTIDEVICE
// typedef uint8_t TOX_DEVICE_STATUS;

You can delete this.

src/ui.c, line 49 at r2 (raw file):

static bool background_mdbl(PANEL *UNUSED(p), bool triclick) {
    LOG_ERR(""UI root"", ""bg dblclick %u"", triclick);

Remove this.

src/ui.c, line 53 at r2 (raw file):

    int step = 0;

    if (!sidebar_chrono) { //sidebar_chrono has not been initialzed

Comment isn't needed because of the LOG_.

src/layout/sidebar.h, line 4 at r2 (raw file):

#define LAYOUT_SIDEBAR_H

#include <stdbool.h>

This file doesn't use bool.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/916#issuecomment-302784502,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Oh, and (optionally) the commit history could do with some cleanup if you feel like it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/916#issuecomment-302903161,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Review status: 6 of 15 files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/chrono.c, line 25 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Should chrono really be doing UI stuff? Isn't this the job of the callback function if it's needed?

I changed it to use chrono_callback which is yieldcpu with a callback.

src/ui.c, line 53 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Comment isn't needed because of the LOG_.

Done.

src/devices.h, line 12 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You can delete this.

Done.

src/layout/sidebar.h, line 4 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This file doesn't use bool.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/916#issuecomment-303505150,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Reviewed 11 of 11 files at r3, 4 of 5 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/ui.c, line 638 at r4 (raw file):

        case PANEL_NONE: {
            draw = background_mdbl(p, triclick);
            return draw;

Why was this change made? Do PANEL_NONE never have subpanels?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/916#issuecomment-303510744,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Review status: 14 of 15 files reviewed at latest revision, 2 unresolved discussions.

src/ui.c, line 49 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Remove this.

Done.

src/ui.c, line 638 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Why was this change made? Do PANEL_NONE never have subpanels?

I did this because it wasn't working everytime i tried to get the sidebar to slide but i just reverted it and tried and it seemed to be working everytime. I'll revert this.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/916#issuecomment-303537878,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/916#issuecomment-357781447,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Reviewed 1 of 11 files at r3, 10 of 10 files at r6.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

CMakeLists.txt, line 248 at r6 (raw file):

if (ENABLE_ASAN)
    if (UTOX_STATIC)
        message(""ASAN is incompatible with static compilation, on some systems."")

This change doesn't belong in this PR.

src/flist.c, line 178 at r6 (raw file):

                    flist_draw_status_icon(status, w - SCALE(15), y + box_height / 2, f->unread_msg);
                }

Kill this line.

src/layout/settings.c, line 701 at r6 (raw file):

}

#include ""../chrono.h""

It doesn't look like any changes in this PR would affect which headers this file needs.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/916#issuecomment-357784164,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Review status: 12 of 15 files reviewed at latest revision, 3 unresolved discussions.

CMakeLists.txt, line 248 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This change doesn't belong in this PR.

Done.

src/flist.c, line 178 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Kill this line.

Done.

src/layout/settings.c, line 701 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
It doesn't look like any changes in this PR would affect which headers this file needs.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/916#issuecomment-357786530,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Reviewed 3 of 3 files at r7.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/layout/settings.c, line 701 at r6 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Done.

Is the other header added required? Because there are no changes to this file aside from adding the two headers.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/916#issuecomment-357788185,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/layout/settings.c, line 701 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Is the other header added required? Because there are no changes to this file aside from adding the two headers.

It doesn't look like it's needed I don't know why it was added.  I removed it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/redmanmale,12,https://github.com/uTox/uTox/pull/916#issuecomment-357791140,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Reviewed 5 of 11 files at r3, 7 of 10 files at r6, 2 of 3 files at r7.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/flist.c, line 171 at r8 (raw file):

            }

            if (w > 100) {

Maybe introduce some constants for this one and one below?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/916#issuecomment-357791685,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","I tested this on Windows for a bit:
Graphics explode if I toggle the sidebar: https://imgur.com/a/1EGXE
Segv occasionally when double clicking: https://gist.github.com/robinlinden/93573639d4be254798376b242a53e45b",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/916#issuecomment-358442343,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Reviewed 1 of 11 files at r1, 1 of 11 files at r3, 1 of 5 files at r4.
Review status: 14 of 15 files reviewed at latest revision, 4 unresolved discussions, some commit checks broke.

src/ui.c, line 32 at r4 (raw file):

#include ""ui/tooltip.h""

static CHRONO_INFO *sidebar_chrono = NULL;

This scope should be reduced to inside background_mdbl().

src/windows/drawing.c, line 17 at r9 (raw file):

#define MAX_BITMAPS BM_ENDMARKER + 1;

void *bitmap[MAX_BITMAPS];

= {0};

src/windows/drawing.c, line 27 at r9 (raw file):

void drawalpha(int bm, int x, int y, int width, int height, uint32_t color) {
    if (bm > MAX_BITMAPS) {

why isn't this >= BM_ENDMARKER.
IIRC endmarker isn't a SVG we're creating; thus, we would never need to draw endmarker?
See also why we're using END_MARKER +1 we shouldn't need to add 1 to the dummy enum that signals the end number of the enumerated list.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/916#issuecomment-358442575,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Review status: 14 of 15 files reviewed at latest revision, 6 unresolved discussions, some commit checks broke.

src/windows/drawing.c, line 53 at r9 (raw file):

    // create temporary bitmap we'll combine the alpha and colors on
    uint32_t *out_pixel;

windows is fucky, set the value == NULL

src/windows/drawing.c, line 54 at r9 (raw file):

    // create temporary bitmap we'll combine the alpha and colors on
    uint32_t *out_pixel;
    HBITMAP   temp = CreateDIBSection(curr->mem_DC, &bmi, DIB_RGB_COLORS, (void **)&out_pixel, NULL, 0);

does this need to be void?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,916,2017-05-17T00:24:01Z,,2018-01-21T23:46:55Z,OPEN,False,169,52,18,https://github.com/endoffile78,Sliding sidebar,14,[],https://github.com/uTox/uTox/pull/916,https://github.com/endoffile78,16,https://github.com/uTox/uTox/pull/916#issuecomment-358473625,"Problems that need to be fixed:

Multiple threads are started after a double click
The sidebar no longer responds to clicks



This change is‚ÄÇ","Review status: 13 of 16 files reviewed at latest revision, 6 unresolved discussions.

src/ui.c, line 32 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This scope should be reduced to inside background_mdbl().

I made it global so memory does'nt have to be allocated everytime the user double clicks.

src/windows/drawing.c, line 17 at r9 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
= {0};

Done.

src/windows/drawing.c, line 27 at r9 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why isn't this >= BM_ENDMARKER.
IIRC endmarker isn't a SVG we're creating; thus, we would never need to draw endmarker?
See also why we're using END_MARKER +1 we shouldn't need to add 1 to the dummy enum that signals the end number of the enumerated list.

Fixed. I don't know why the + 1 is there, BM_ENDMARKER is just the number of bitmaps. It doesn't look necessary but maybe its something weird with windows? I can remove it if you want.

src/windows/drawing.c, line 53 at r9 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
windows is fucky, set the value == NULL

Done.

src/windows/drawing.c, line 54 at r9 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
does this need to be void?

The function is expecting void **'. I'm guessing the cast is there more for suppressing a warning than because it has to be.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,918,2017-05-17T20:49:39Z,2017-05-20T08:06:38Z,2017-08-22T14:37:25Z,MERGED,True,4,4,1,https://github.com/redmanmale,Warning fix,1,[],https://github.com/uTox/uTox/pull/918,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/918,"Fix for #699.


This change is‚ÄÇ","Fix for #699.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,918,2017-05-17T20:49:39Z,2017-05-20T08:06:38Z,2017-08-22T14:37:25Z,MERGED,True,4,4,1,https://github.com/redmanmale,Warning fix,1,[],https://github.com/uTox/uTox/pull/918,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/918#issuecomment-302596565,"Fix for #699.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,918,2017-05-17T20:49:39Z,2017-05-20T08:06:38Z,2017-08-22T14:37:25Z,MERGED,True,4,4,1,https://github.com/redmanmale,Warning fix,1,[],https://github.com/uTox/uTox/pull/918,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/918#issuecomment-302814169,"Fix for #699.


This change is‚ÄÇ","... probably

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,918,2017-05-17T20:49:39Z,2017-05-20T08:06:38Z,2017-08-22T14:37:25Z,MERGED,True,4,4,1,https://github.com/redmanmale,Warning fix,1,[],https://github.com/uTox/uTox/pull/918,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/918#issuecomment-302817061,"Fix for #699.


This change is‚ÄÇ","probably

Is something wrong? Or I can merge this one?",True,{}
uTox/uTox,https://github.com/uTox/uTox,918,2017-05-17T20:49:39Z,2017-05-20T08:06:38Z,2017-08-22T14:37:25Z,MERGED,True,4,4,1,https://github.com/redmanmale,Warning fix,1,[],https://github.com/uTox/uTox/pull/918,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/918#issuecomment-302817972,"Fix for #699.


This change is‚ÄÇ","You can merge it.

Reviewed 1 of 1 files at r1.
Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,919,2017-05-19T21:32:56Z,2017-05-23T20:19:02Z,2019-01-21T09:09:06Z,MERGED,True,49,2,4,https://github.com/redmanmale,Replace forbidden characters in the incoming filename on Windows...,3,[],https://github.com/uTox/uTox/pull/919,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/919,"with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ","with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,919,2017-05-19T21:32:56Z,2017-05-23T20:19:02Z,2019-01-21T09:09:06Z,MERGED,True,49,2,4,https://github.com/redmanmale,Replace forbidden characters in the incoming filename on Windows...,3,[],https://github.com/uTox/uTox/pull/919,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/919#issuecomment-302897928,"with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ","Move it to a file you can include from both main.xp.c and main.7.c.

How about src/windows/utf8.c or src/windows/main.c?

Are there any utf8 characters we need to check for?

At msdn article about naming conventions there is number of forbidden filenames (COM1, COM2, etc), but I don't want to check for all of them.

Can we get utf8 filename here?

What do you mean? Isn't file->name (char*) already utf8?",True,{}
uTox/uTox,https://github.com/uTox/uTox,919,2017-05-19T21:32:56Z,2017-05-23T20:19:02Z,2019-01-21T09:09:06Z,MERGED,True,49,2,4,https://github.com/redmanmale,Replace forbidden characters in the incoming filename on Windows...,3,[],https://github.com/uTox/uTox/pull/919,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/919#issuecomment-302910306,"with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/windows/main.7.c, line 58 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
*filename

this should be
// TODO, add utf8 support
if ( strchr(""<>:/|?*\\\""', filename[i]) {
    ...


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,919,2017-05-19T21:32:56Z,2017-05-23T20:19:02Z,2019-01-21T09:09:06Z,MERGED,True,49,2,4,https://github.com/redmanmale,Replace forbidden characters in the incoming filename on Windows...,3,[],https://github.com/uTox/uTox/pull/919,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/919#issuecomment-302962157,"with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ","Review status: 0 of 4 files reviewed at latest revision, 1 unresolved discussion.

src/windows/main.7.c, line 58 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this should be
// TODO, add utf8 support
if ( strchr(""<>:/|?*\\\""', filename[i]) {
    ...


Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,919,2017-05-19T21:32:56Z,2017-05-23T20:19:02Z,2019-01-21T09:09:06Z,MERGED,True,49,2,4,https://github.com/redmanmale,Replace forbidden characters in the incoming filename on Windows...,3,[],https://github.com/uTox/uTox/pull/919,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/919#issuecomment-303242800,"with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/utf8.c, line 16 at r2 (raw file):

void sanitize_filename(uint8_t *filename) {
    for (size_t i = 0; filename[i] != '\0'; ++i) {
        if ((filename[i] >= 1 && filename[i] <= 31) || strchr(""<>:\""/\\|?*"", filename[i])) {

This should return false, and the caller should abort. If filename[i] is ever less than 32, that's a malicious filename, and it's safe to exit early.
If you want to mark that as OOS open an issue for it, and I'll approve this pull

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,919,2017-05-19T21:32:56Z,2017-05-23T20:19:02Z,2019-01-21T09:09:06Z,MERGED,True,49,2,4,https://github.com/redmanmale,Replace forbidden characters in the incoming filename on Windows...,3,[],https://github.com/uTox/uTox/pull/919,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/919#issuecomment-303255423,"with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,919,2017-05-19T21:32:56Z,2017-05-23T20:19:02Z,2019-01-21T09:09:06Z,MERGED,True,49,2,4,https://github.com/redmanmale,Replace forbidden characters in the incoming filename on Windows...,3,[],https://github.com/uTox/uTox/pull/919,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/919#issuecomment-303311937,"with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ",,True,{}
uTox/uTox,https://github.com/uTox/uTox,919,2017-05-19T21:32:56Z,2017-05-23T20:19:02Z,2019-01-21T09:09:06Z,MERGED,True,49,2,4,https://github.com/redmanmale,Replace forbidden characters in the incoming filename on Windows...,3,[],https://github.com/uTox/uTox/pull/919,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/919#issuecomment-303418978,"with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ","Reviewed 4 of 4 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,919,2017-05-19T21:32:56Z,2017-05-23T20:19:02Z,2019-01-21T09:09:06Z,MERGED,True,49,2,4,https://github.com/redmanmale,Replace forbidden characters in the incoming filename on Windows...,3,[],https://github.com/uTox/uTox/pull/919,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/919#issuecomment-303446106,"with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ","@robinlinden
Could you approve this PR via Reviewable too?",True,{}
uTox/uTox,https://github.com/uTox/uTox,919,2017-05-19T21:32:56Z,2017-05-23T20:19:02Z,2019-01-21T09:09:06Z,MERGED,True,49,2,4,https://github.com/redmanmale,Replace forbidden characters in the incoming filename on Windows...,3,[],https://github.com/uTox/uTox/pull/919,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/919#issuecomment-303503428,"with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ","Of course. Sorry, reviewed on my phone and forgot to do it on here too. 

Reviewed 4 of 4 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,919,2017-05-19T21:32:56Z,2017-05-23T20:19:02Z,2019-01-21T09:09:06Z,MERGED,True,49,2,4,https://github.com/redmanmale,Replace forbidden characters in the incoming filename on Windows...,3,[],https://github.com/uTox/uTox/pull/919,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/919#issuecomment-303514097,"with underscores.
Both for user-accepted and auto-accepted files (#611).


This change is‚ÄÇ","cleared my comment,",True,{}
uTox/uTox,https://github.com/uTox/uTox,920,2017-05-19T22:22:35Z,2017-05-26T05:33:25Z,2017-05-27T20:37:44Z,MERGED,True,8,2,1,https://github.com/robinlinden,Fix null dereference in edit.c,2,[],https://github.com/uTox/uTox/pull/920,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/920,"To reproduce the crash this fixes:
tssx: click between settings tab(no button on off, just between tabs), then right click in friend search tab and press 2 mouse buttons on cut selection



This change is‚ÄÇ","To reproduce the crash this fixes:
tssx: click between settings tab(no button on off, just between tabs), then right click in friend search tab and press 2 mouse buttons on cut selection



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,920,2017-05-19T22:22:35Z,2017-05-26T05:33:25Z,2017-05-27T20:37:44Z,MERGED,True,8,2,1,https://github.com/robinlinden,Fix null dereference in edit.c,2,[],https://github.com/uTox/uTox/pull/920,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/920#issuecomment-302830990,"To reproduce the crash this fixes:
tssx: click between settings tab(no button on off, just between tabs), then right click in friend search tab and press 2 mouse buttons on cut selection



This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,920,2017-05-19T22:22:35Z,2017-05-26T05:33:25Z,2017-05-27T20:37:44Z,MERGED,True,8,2,1,https://github.com/robinlinden,Fix null dereference in edit.c,2,[],https://github.com/uTox/uTox/pull/920,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/920#issuecomment-302857130,"To reproduce the crash this fixes:
tssx: click between settings tab(no button on off, just between tabs), then right click in friend search tab and press 2 mouse buttons on cut selection



This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/ui/edit.c, line 417 at r1 (raw file):

void edit_char(uint32_t ch, bool control, uint8_t flags) {
    if (!active_edit) {
        return;

needs a LOG_ERR

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,920,2017-05-19T22:22:35Z,2017-05-26T05:33:25Z,2017-05-27T20:37:44Z,MERGED,True,8,2,1,https://github.com/robinlinden,Fix null dereference in edit.c,2,[],https://github.com/uTox/uTox/pull/920,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/920#issuecomment-303531790,"To reproduce the crash this fixes:
tssx: click between settings tab(no button on off, just between tabs), then right click in friend search tab and press 2 mouse buttons on cut selection



This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/ui/edit.c, line 417 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
needs a LOG_ERR

There you go.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,920,2017-05-19T22:22:35Z,2017-05-26T05:33:25Z,2017-05-27T20:37:44Z,MERGED,True,8,2,1,https://github.com/robinlinden,Fix null dereference in edit.c,2,[],https://github.com/uTox/uTox/pull/920,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/920#issuecomment-303536676,"To reproduce the crash this fixes:
tssx: click between settings tab(no button on off, just between tabs), then right click in friend search tab and press 2 mouse buttons on cut selection



This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,920,2017-05-19T22:22:35Z,2017-05-26T05:33:25Z,2017-05-27T20:37:44Z,MERGED,True,8,2,1,https://github.com/robinlinden,Fix null dereference in edit.c,2,[],https://github.com/uTox/uTox/pull/920,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/920#issuecomment-303537998,"To reproduce the crash this fixes:
tssx: click between settings tab(no button on off, just between tabs), then right click in friend search tab and press 2 mouse buttons on cut selection



This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,920,2017-05-19T22:22:35Z,2017-05-26T05:33:25Z,2017-05-27T20:37:44Z,MERGED,True,8,2,1,https://github.com/robinlinden,Fix null dereference in edit.c,2,[],https://github.com/uTox/uTox/pull/920,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/920#issuecomment-303538018,"To reproduce the crash this fixes:
tssx: click between settings tab(no button on off, just between tabs), then right click in friend search tab and press 2 mouse buttons on cut selection



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,920,2017-05-19T22:22:35Z,2017-05-26T05:33:25Z,2017-05-27T20:37:44Z,MERGED,True,8,2,1,https://github.com/robinlinden,Fix null dereference in edit.c,2,[],https://github.com/uTox/uTox/pull/920,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/920#issuecomment-304194254,"To reproduce the crash this fixes:
tssx: click between settings tab(no button on off, just between tabs), then right click in friend search tab and press 2 mouse buttons on cut selection



This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,921,2017-05-22T15:37:37Z,2017-05-22T22:54:26Z,2017-08-25T16:49:46Z,MERGED,True,3,1,1,https://github.com/redmanmale,Fix opening url with unicode on Windows,1,[],https://github.com/uTox/uTox/pull/921,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/921,"Fix for #815.


This change is‚ÄÇ","Fix for #815.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,921,2017-05-22T15:37:37Z,2017-05-22T22:54:26Z,2017-08-25T16:49:46Z,MERGED,True,3,1,1,https://github.com/redmanmale,Fix opening url with unicode on Windows,1,[],https://github.com/uTox/uTox/pull/921,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/921#issuecomment-303159558,"Fix for #815.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,921,2017-05-22T15:37:37Z,2017-05-22T22:54:26Z,2017-08-25T16:49:46Z,MERGED,True,3,1,1,https://github.com/redmanmale,Fix opening url with unicode on Windows,1,[],https://github.com/uTox/uTox/pull/921,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/921#issuecomment-303241669,"Fix for #815.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,922,2017-05-23T21:20:05Z,2017-05-25T20:30:53Z,2017-08-26T13:09:42Z,MERGED,True,41,26,2,https://github.com/robinlinden,Fix groupchat problems.,3,[],https://github.com/uTox/uTox/pull/922,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/922,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,922,2017-05-23T21:20:05Z,2017-05-25T20:30:53Z,2017-08-26T13:09:42Z,MERGED,True,41,26,2,https://github.com/robinlinden,Fix groupchat problems.,3,[],https://github.com/uTox/uTox/pull/922,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/922#issuecomment-303537837,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/tox_callbacks.c, line 154 at r1 (raw file):

static void callback_group_invite(Tox *tox, uint32_t fid, TOX_CONFERENCE_TYPE type, const uint8_t *data, size_t length,
                                  void *UNUSED(userdata)) {
    if (type != TOX_CONFERENCE_TYPE_TEXT) {

Add a LOG_ERR saying audio/video groupchats aren't supported currently.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,922,2017-05-23T21:20:05Z,2017-05-25T20:30:53Z,2017-08-26T13:09:42Z,MERGED,True,41,26,2,https://github.com/robinlinden,Fix groupchat problems.,3,[],https://github.com/uTox/uTox/pull/922,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/922#issuecomment-303553318,This change is‚ÄÇ,"Review status: 1 of 2 files reviewed at latest revision, 1 unresolved discussion.

src/tox_callbacks.c, line 154 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Add a LOG_ERR saying audio/video groupchats aren't supported currently.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,922,2017-05-23T21:20:05Z,2017-05-25T20:30:53Z,2017-08-26T13:09:42Z,MERGED,True,41,26,2,https://github.com/robinlinden,Fix groupchat problems.,3,[],https://github.com/uTox/uTox/pull/922,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/922#issuecomment-303553850,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,922,2017-05-23T21:20:05Z,2017-05-25T20:30:53Z,2017-08-26T13:09:42Z,MERGED,True,41,26,2,https://github.com/robinlinden,Fix groupchat problems.,3,[],https://github.com/uTox/uTox/pull/922,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/922#issuecomment-304113892,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/groups.c, line 236 at r2 (raw file):

        if (!new_peer) {
            free(peer);
            LOG_FATAL_ERR(EXIT_MALLOC, ""Groupchat"", ""couldn't realloc for group peer name!"");

Don't we should exit here?

src/groups.c, line 254 at r2 (raw file):

    if (!new_peer) {
        free(peer);
        LOG_FATAL_ERR(EXIT_MALLOC, ""Groupchat"", ""Unable to realloc for group peer who just joined."");

Don't we should exit here?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,922,2017-05-23T21:20:05Z,2017-05-25T20:30:53Z,2017-08-26T13:09:42Z,MERGED,True,41,26,2,https://github.com/robinlinden,Fix groupchat problems.,3,[],https://github.com/uTox/uTox/pull/922,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/922#issuecomment-304114376,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/groups.c, line 236 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Don't we should exit here?

LOG_FATAL_ERR does something like LOG_ERR(message); exit(error_code); so we do exit here. ...If that's what you're asking.

src/groups.c, line 254 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Don't we should exit here?

See the other comment.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,922,2017-05-23T21:20:05Z,2017-05-25T20:30:53Z,2017-08-26T13:09:42Z,MERGED,True,41,26,2,https://github.com/robinlinden,Fix groupchat problems.,3,[],https://github.com/uTox/uTox/pull/922,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/922#issuecomment-304115183,This change is‚ÄÇ,"Reviewed 1 of 2 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/groups.c, line 236 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
LOG_FATAL_ERR does something like LOG_ERR(message); exit(error_code); so we do exit here. ...If that's what you're asking.

OK, that's my bad.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/923,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/923#issuecomment-303936346,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Also there's some Illogical behaviour.
When you are receiving file and select with a FileSaveDialog a different name (for example: https://github.com/uTox/uTox/blob/develop/src/windows/main.7.c#L81) I pass this new name further and opening via ClickToOpen does work fine, but in the chat log filename is old (original).
Is it OK, or I should fix this?",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/923#issuecomment-304144963,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ",@redmanmale You can fix that if you want to.,True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/923#issuecomment-304147310,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Reviewed 14 of 14 files at r1.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/windows/main.7.c, line 51 at r1 (raw file):

    if (GetSaveFileNameW(&ofn)) {
        path = calloc(1, UTOX_FILE_NAME_LENGTH);

path is never freed

src/windows/main.7.c, line 87 at r1 (raw file):

    if (GetSaveFileNameW(&ofn)) {
        char *path = calloc(1, UTOX_FILE_NAME_LENGTH);

path is never freed

src/windows/main.XP.c, line 45 at r1 (raw file):

    if (GetSaveFileNameW(&ofn)) {
        path = calloc(1, UTOX_FILE_NAME_LENGTH);

Why is path calloced more than once here? Path is also never freed .

src/windows/main.XP.c, line 81 at r1 (raw file):

    if (GetSaveFileNameW(&ofn)) {
        char *path = calloc(1, UTOX_FILE_NAME_LENGTH);

Path is never freed although there would probably be a segfault unless it can be freed inside the toxcore thread. If TOX_FILE_ACCEPT is always getting a malloc data then free it there otherwise leave it like it is now and we will figure something out later.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/923#issuecomment-304378027,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Review status: 12 of 14 files reviewed at latest revision, 4 unresolved discussions.

src/windows/main.7.c, line 51 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
path is never freed

Done.

src/windows/main.7.c, line 87 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
path is never freed

It's freed in tox_thread_message: https://github.com/uTox/uTox/blob/develop/src/tox.c#L869

src/windows/main.XP.c, line 45 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Why is path calloced more than once here? Path is also never freed .

Because this variable is reused and to avoid some previous data it's calloced again.
I added freeing.

src/windows/main.XP.c, line 81 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Path is never freed although there would probably be a segfault unless it can be freed inside the toxcore thread. If TOX_FILE_ACCEPT is always getting a malloc data then free it there otherwise leave it like it is now and we will figure something out later.

It's freed in tox_thread_message: https://github.com/uTox/uTox/blob/develop/src/tox.c#L869

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/923#issuecomment-304383106,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/923#issuecomment-304436045,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","+@GrayHatter

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/923#issuecomment-304442414,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Reviewed 12 of 14 files at r1, 1 of 2 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/windows/filesys.c, line 136 at r2 (raw file):

    if (!fp) {
        if (opts > UTOX_FILE_OPTS_READ) {
            LOG_NOTE(""WinFilesys"", ""Could not open %S for writing."", path);

%s if the path is no longer a wide string.

src/windows/main.7.c, line 160 at r2 (raw file):

            // 2 bytes per wchar_t
            uint16_t ret = RegSetKeyValueW(hKey, NULL, ""uTox"", REG_SZ, path, path_length * 2);

This line should be L""uTox"". The warning on this line is from a bug in older versions of mingw-w64.
You can see the commit fixing the bug here: https://sourceforge.net/p/mingw-w64/mingw-w64/ci/761fe1216d0e878ee0fefa887b29a9d5927158f6/
The correct way to fix this warning would be to update mingw-w64 on Travis.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/923#issuecomment-304443440,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Review status: 12 of 14 files reviewed at latest revision, 2 unresolved discussions.

src/windows/filesys.c, line 136 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
%s if the path is no longer a wide string.

Done.

src/windows/main.7.c, line 160 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This line should be L""uTox"". The warning on this line is from a bug in older versions of mingw-w64.
You can see the commit fixing the bug here: https://sourceforge.net/p/mingw-w64/mingw-w64/ci/761fe1216d0e878ee0fefa887b29a9d5927158f6/
The correct way to fix this warning would be to update mingw-w64 on Travis.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/923#issuecomment-304445868,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Reviewed 2 of 2 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/923#issuecomment-304467480,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Don't touch the utf8-native strings for today, +@endoffile78 and +@robinlinden and I will discuss what we want to do.
Either way it needs to be fixed in, or before this pull.

Reviewed 11 of 14 files at r1, 1 of 2 files at r2, 2 of 2 files at r3.
Review status: all files reviewed at latest revision, 18 unresolved discussions.

src/file_transfers.c, line 1344 at r3 (raw file):

}

bool utox_file_start_write(uint32_t friend_number, uint32_t file_number, void *file, bool is_file) {

shouldn't be void without the bool check. This is fine, just change the type to const char*

src/posix/filesys.c, line 42 at r3 (raw file):

}

FILE *native_get_file_simple(const uint8_t *path, UTOX_FILE_OPTS opts) {

should be char* not uint8_t, this is from a previous discussion in which we decided that being fancy is wrong. (The option that reduces the number of typecasts needed is the best option).

src/windows/filesys.c, line 50 at r3 (raw file):

    wchar_t wide_path[UTOX_FILE_NAME_LENGTH] = { 0 };
    utf8_to_nativestr((char *)path, wide_path, UTOX_FILE_NAME_LENGTH);

UTOX_FILE_NAME_LENGTH *2

src/windows/main.7.c, line 30 at r3 (raw file):

    }

    FRIEND *f = get_friend(friend_number);

do this before the calloc call, so we don't have to calloc then free on an existing error.

src/windows/main.7.c, line 40 at r3 (raw file):

    wchar_t filepath[UTOX_FILE_NAME_LENGTH] = { 0 };
    utf8_to_nativestr(path, filepath, UTOX_FILE_NAME_LENGTH);

LENGTH *2

src/windows/main.7.c, line 79 at r3 (raw file):

    wchar_t filepath[UTOX_FILE_NAME_LENGTH] = { 0 };
    utf8_to_nativestr((char *)file->name, filepath, file->name_length);

UTOX_FILE_NAME_LENGTH *2

src/windows/main.7.c, line 95 at r3 (raw file):

        }

        native_to_utf8str(filepath, path, UTOX_FILE_NAME_LENGTH);

UTOX_FILE_NAME_LENGTH *2

src/windows/main.7.c, line 107 at r3 (raw file):

    if (settings.portable_mode) {
        autoaccept_folder = calloc(1, UTOX_FILE_NAME_LENGTH * sizeof(wchar_t));
        utf8_to_nativestr(portable_mode_save_path, autoaccept_folder, strlen(portable_mode_save_path));

UTOX_FILE_NAME_LENGTH *2

src/windows/main.7.c, line 131 at r3 (raw file):

    wchar_t filename[UTOX_FILE_NAME_LENGTH] = { 0 };
    utf8_to_nativestr((char *)file->name, filename, file->name_length);

UTOX_FILE_NAME_LENGTH *2

src/windows/main.XP.c, line 33 at r3 (raw file):

    wchar_t filepath[UTOX_FILE_NAME_LENGTH] = { 0 };
    utf8_to_nativestr(path, filepath, UTOX_FILE_NAME_LENGTH);

UTOX_FILE_NAME_LENGTH *2

src/windows/main.XP.c, line 72 at r3 (raw file):

    wchar_t filepath[UTOX_FILE_NAME_LENGTH] = { 0 };
    utf8_to_nativestr((char *)file->name, filepath, file->name_length);

UTOX_FILE_NAME_LENGTH *2

src/windows/main.XP.c, line 103 at r3 (raw file):

    if (settings.portable_mode) {
        utf8_to_nativestr(portable_mode_save_path, autoaccept_folder, strlen(portable_mode_save_path));

UTOX_FILE_NAME_LENGTH *2

src/windows/main.XP.c, line 123 at r3 (raw file):

    wchar_t filename[UTOX_FILE_NAME_LENGTH] = { 0 };
    utf8_to_nativestr((char *)file->name, filename, file->name_length);

UTOX_FILE_NAME_LENGTH *2

src/windows/utf8.c, line 4 at r3 (raw file):

#include <windows.h>

int utf8tonative(const char *str, wchar_t *out, int length) {

@robinlinden @endoffile78 what do we want to do with these two functions? Maintaining both is not the correct solution, so do we want for force null term strings, or track the length of every string the native system gets, and pass it as needed?

src/windows/utf8.c, line 10 at r3 (raw file):

int utf8_to_nativestr(const char *str, wchar_t *out, int length) {
    /* must be null terminated string                   ‚Üì */
    return MultiByteToWideChar(CP_UTF8, 0, (char *)str, -1, out, length);

drop this typecast

src/windows/utf8.c, line 14 at r3 (raw file):

int native_to_utf8str(const wchar_t *str_in, char *str_out, uint32_t max_size) {
    return WideCharToMultiByte(CP_UTF8, 0, str_in, -1, str_out, max_size, NULL, NULL);

please add a very abreavated verison of the following warning about the difference between characters, and buffer size.
Caution  Using the WideCharToMultiByte function incorrectly can compromise the security of your application. Calling this function can easily cause a buffer overrun because the size of the input buffer indicated by lpWideCharStr equals the number of characters in the Unicode string, while the size of the output buffer indicated by lpMultiByteStr equals the number of bytes. To avoid a buffer overrun, your application must specify a buffer size appropriate for the data type the buffer receives.

Data converted from UTF-16 to non-Unicode encodings is subject to data loss, because a code page might not be able to represent every character used in the specific Unicode data. For more information, see Security Considerations: International Features.


src/windows/utf8.h, line 20 at r3 (raw file):

/**
* @brief Translate an OS native string to UTF-8 char*.

null terminated native string

src/windows/utf8.h, line 24 at r3 (raw file):

* @param str_in native array pointer.
* @param str_out char pointer.
* @param length of input string.

size of output buffer, not input string

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/redmanmale,12,https://github.com/uTox/uTox/pull/923#issuecomment-305281838,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Review status: 2 of 14 files reviewed at latest revision, 18 unresolved discussions.

src/file_transfers.c, line 1344 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
shouldn't be void without the bool check. This is fine, just change the type to const char*

Done.

src/posix/filesys.c, line 42 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
should be char* not uint8_t, this is from a previous discussion in which we decided that being fancy is wrong. (The option that reduces the number of typecasts needed is the best option).

Done.

src/windows/filesys.c, line 50 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
UTOX_FILE_NAME_LENGTH *2

Done.

src/windows/main.7.c, line 30 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
do this before the calloc call, so we don't have to calloc then free on an existing error.

Done.

src/windows/main.7.c, line 40 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
LENGTH *2

Done.

src/windows/main.7.c, line 79 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
UTOX_FILE_NAME_LENGTH *2

Done.

src/windows/main.7.c, line 95 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
UTOX_FILE_NAME_LENGTH *2

Done.

src/windows/main.7.c, line 107 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
UTOX_FILE_NAME_LENGTH *2

Done.

src/windows/main.7.c, line 131 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
UTOX_FILE_NAME_LENGTH *2

Done.

src/windows/main.XP.c, line 33 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
UTOX_FILE_NAME_LENGTH *2

Done.

src/windows/main.XP.c, line 72 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
UTOX_FILE_NAME_LENGTH *2

Done.

src/windows/main.XP.c, line 103 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
UTOX_FILE_NAME_LENGTH *2

Done.

src/windows/main.XP.c, line 123 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
UTOX_FILE_NAME_LENGTH *2

Done.

src/windows/utf8.c, line 10 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
drop this typecast

Done.

src/windows/utf8.c, line 14 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
please add a very abreavated verison of the following warning about the difference between characters, and buffer size.
Caution  Using the WideCharToMultiByte function incorrectly can compromise the security of your application. Calling this function can easily cause a buffer overrun because the size of the input buffer indicated by lpWideCharStr equals the number of characters in the Unicode string, while the size of the output buffer indicated by lpMultiByteStr equals the number of bytes. To avoid a buffer overrun, your application must specify a buffer size appropriate for the data type the buffer receives.

Data converted from UTF-16 to non-Unicode encodings is subject to data loss, because a code page might not be able to represent every character used in the specific Unicode data. For more information, see Security Considerations: International Features.


Done.

src/windows/utf8.h, line 20 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
null terminated native string

Done.

src/windows/utf8.h, line 24 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
size of output buffer, not input string

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/redmanmale,13,https://github.com/uTox/uTox/pull/923#issuecomment-305284436,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Review status: 2 of 14 files reviewed at latest revision, 18 unresolved discussions.

src/windows/utf8.c, line 4 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
@robinlinden @endoffile78 what do we want to do with these two functions? Maintaining both is not the correct solution, so do we want for force null term strings, or track the length of every string the native system gets, and pass it as needed?

This function is used a lot in src\windows\drawing.c and couple other places, so I could not just remove it and use utf8_to_native_str without proper testing.
And it's OOS anyway.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/robinlinden,14,https://github.com/uTox/uTox/pull/923#issuecomment-305307265,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Reviewed 12 of 12 files at r4.
Review status: all files reviewed at latest revision, 18 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/endoffile78,15,https://github.com/uTox/uTox/pull/923#issuecomment-309333219,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Reviewed 12 of 12 files at r4.
Review status: all files reviewed at latest revision, 18 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/GrayHatter,16,https://github.com/uTox/uTox/pull/923#issuecomment-309336113,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","I'll add a tentitive  here.
DO NOT MERGE THIS UNTIL AFTER AN ISSUE IS OPENED FOR THE UTF8 FUNCTIONS.

Reviewed 12 of 12 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/GrayHatter,17,https://github.com/uTox/uTox/pull/923#issuecomment-309336165,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ",@robinlinden,True,{}
uTox/uTox,https://github.com/uTox/uTox,923,2017-05-24T20:51:06Z,2017-07-02T19:12:03Z,2017-08-24T09:18:14Z,MERGED,True,227,155,14,https://github.com/redmanmale,File transfer refactoring,6,[],https://github.com/uTox/uTox/pull/923,https://github.com/robinlinden,18,https://github.com/uTox/uTox/pull/923#issuecomment-309587771,"Added new API for opening file with an absolute path and implemented it for all OS.
Fixed sending and receiving files with Unicode names on Windows, with and without auto accept (#324).
Also #794 was fixed.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/posix/filesys.c, line 48 at r4 (raw file):

    FILE *fp = fopen(path, mode);

    if (!fp && opts & UTOX_FILE_OPTS_READ && opts & UTOX_FILE_OPTS_WRITE) {

We don't want to do this if we only want to open a file for writing?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,924,2017-05-24T21:28:16Z,2017-05-26T05:34:14Z,2017-05-27T17:04:53Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix *BSD file picker.,1,[],https://github.com/uTox/uTox/pull/924,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/924,"libgtk-3.so will be symlinked to whatever gtk-3 version you've got installed, so this should work on all systems.


This change is‚ÄÇ","libgtk-3.so will be symlinked to whatever gtk-3 version you've got installed, so this should work on all systems.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,924,2017-05-24T21:28:16Z,2017-05-26T05:34:14Z,2017-05-27T17:04:53Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix *BSD file picker.,1,[],https://github.com/uTox/uTox/pull/924,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/924#issuecomment-303915159,"libgtk-3.so will be symlinked to whatever gtk-3 version you've got installed, so this should work on all systems.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,924,2017-05-24T21:28:16Z,2017-05-26T05:34:14Z,2017-05-27T17:04:53Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix *BSD file picker.,1,[],https://github.com/uTox/uTox/pull/924,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/924#issuecomment-303915173,"libgtk-3.so will be symlinked to whatever gtk-3 version you've got installed, so this should work on all systems.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,924,2017-05-24T21:28:16Z,2017-05-26T05:34:14Z,2017-05-27T17:04:53Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix *BSD file picker.,1,[],https://github.com/uTox/uTox/pull/924,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/924#issuecomment-304194537,"libgtk-3.so will be symlinked to whatever gtk-3 version you've got installed, so this should work on all systems.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,926,2017-05-26T12:18:37Z,2017-05-26T18:30:26Z,2017-05-27T17:05:08Z,MERGED,True,11,8,5,https://github.com/robinlinden,Fix issues detected by clang-scan.,4,[],https://github.com/uTox/uTox/pull/926,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/926,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,926,2017-05-26T12:18:37Z,2017-05-26T18:30:26Z,2017-05-27T17:05:08Z,MERGED,True,11,8,5,https://github.com/robinlinden,Fix issues detected by clang-scan.,4,[],https://github.com/uTox/uTox/pull/926,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/926#issuecomment-304272765,This change is‚ÄÇ,"Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,926,2017-05-26T12:18:37Z,2017-05-26T18:30:26Z,2017-05-27T17:05:08Z,MERGED,True,11,8,5,https://github.com/robinlinden,Fix issues detected by clang-scan.,4,[],https://github.com/uTox/uTox/pull/926,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/926#issuecomment-304353544,This change is‚ÄÇ,"Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/928,"Fixes #34

This change is‚ÄÇ","Fixes #34

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/928#issuecomment-304530547,"Fixes #34

This change is‚ÄÇ","Reviewed 2 of 10 files at r1, 7 of 9 files at r2, 3 of 3 files at r3.
Review status: 8 of 12 files reviewed at latest revision, 1 unresolved discussion.

src/av/utox_av.c, line 140 at r3 (raw file):

                        LOG_INFO(""uToxAv"", ""Ending group call in groupchat %u"", msg->param1);
                        postmessage_audio(UTOXAUDIO_GROUPCHAT_STOP, msg->param1, msg->param2, NULL);
                        postmessage_audio(UTOXAUDIO_STOP_RINGTONE, msg->param1, msg->param2, NULL);

this might be wrong here :<

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/928#issuecomment-304530586,"Fixes #34

This change is‚ÄÇ","Review status: 8 of 12 files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/928#issuecomment-304531082,"Fixes #34

This change is‚ÄÇ","Reviewed 2 of 10 files at r1, 6 of 9 files at r2, 3 of 3 files at r3, 4 of 4 files at r4, 1 of 1 files at r5.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/928#issuecomment-304531207,"Fixes #34

This change is‚ÄÇ","+@robinlinden

Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/928#issuecomment-304541809,"Fixes #34

This change is‚ÄÇ","Reviewed 1 of 10 files at r1, 3 of 9 files at r2, 3 of 3 files at r3, 4 of 4 files at r6.
Review status: all files reviewed at latest revision, 7 unresolved discussions.

src/tox.c, line 1063 at r6 (raw file):

            uint64_t pkey_to_number = 0;
            int      key_i          = 0;
            for (; key_i < TOX_PUBLIC_KEY_SIZE; ++key_i) {

C99 for loop plz. key_i is never used outside of it.

src/tox.c, line 1070 at r6 (raw file):

            group_peer_add(get_group(g_num), 0, 1, name_color);
            group_peer_name_change(get_group(g_num), 0, (const uint8_t*)self.name, self.name_length);

uint8_t *. Missing a space, and const is implicitly added.

src/av/audio.c, line 565 at r6 (raw file):

void postmessage_audio(uint8_t msg, uint32_t param1, uint32_t param2, void *data) {
    while (audio_thread_msg && utox_audio_thread_init) {

abcdef

src/av/audio.c, line 629 at r6 (raw file):

            switch (m->msg) {
                case UTOXAUDIO_CHANGE_MIC: {
                    while (audio_in_ignore());

Consider adding an empty body for these to make it obvious what you mean to do. (I swear this is what you asked me to do.)

src/av/audio.c, line 922 at r6 (raw file):

    alDeleteBuffers(1, &RingBuffer);

    while (audio_in_device_close());

Consider adding an empty body for these to make it obvious what you mean to do. (I swear this is what you asked me to do.)

src/av/utox_av.c, line 140 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this might be wrong here :<

Yeah, probably.  The ringtone doesn't really have anything to do with us ending an audio call.

src/av/utox_av.h, line 53 at r6 (raw file):

};

typedef struct groupchat GROUPCHAT;

This line can be deleted.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/928#issuecomment-304542192,"Fixes #34

This change is‚ÄÇ","Reviewed 4 of 4 files at r7.
Review status: all files reviewed at latest revision, 7 unresolved discussions.

src/av/audio.c, line 565 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
abcdef

..I'm sure I started on a comment here for a very good reason.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/928#issuecomment-304542587,"Fixes #34

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 7 unresolved discussions.

src/tox.c, line 1063 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
C99 for loop plz. key_i is never used outside of it.

done

src/tox.c, line 1070 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
uint8_t *. Missing a space, and const is implicitly added.

done

src/av/audio.c, line 565 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
..I'm sure I started on a comment here for a very good reason.

lol maybe I fixed it...

src/av/audio.c, line 629 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Consider adding an empty body for these to make it obvious what you mean to do. (I swear this is what you asked me to do.)

done

src/av/audio.c, line 922 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Consider adding an empty body for these to make it obvious what you mean to do. (I swear this is what you asked me to do.)

done

src/av/utox_av.c, line 140 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Yeah, probably.  The ringtone doesn't really have anything to do with us ending an audio call.

removed then

src/av/utox_av.h, line 53 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This line can be deleted.

no it can't

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/928#issuecomment-304542727,"Fixes #34

This change is‚ÄÇ","Reviewed 4 of 4 files at r8.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/av/utox_av.h, line 53 at r6 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
no it can't

Whoops. Missed those lines. You're right.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/928#issuecomment-304555326,"Fixes #34

This change is‚ÄÇ","Reviewed 2 of 4 files at r6, 2 of 4 files at r7, 4 of 4 files at r8.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/928#issuecomment-309336525,"Fixes #34

This change is‚ÄÇ","+@cebe or @robinlinden  need to review this as both @endoffile78 and I have modified the code.
-@GrayHatter

Reviewed 2 of 4 files at r6, 2 of 4 files at r7, 4 of 4 files at r8.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/928#issuecomment-309553111,"Fixes #34

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,928,2017-05-26T19:48:13Z,2017-06-19T20:20:00Z,2018-03-10T18:26:07Z,MERGED,True,368,275,12,https://github.com/endoffile78,Group av,29,[],https://github.com/uTox/uTox/pull/928,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/928#issuecomment-309560862,"Fixes #34

This change is‚ÄÇ","Reviewed 1 of 10 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,930,2017-05-27T04:46:16Z,2017-05-27T17:39:10Z,2017-05-27T17:39:47Z,MERGED,True,5,0,1,https://github.com/publicarray,fix potential crash on macOS when video input == nil,1,[],https://github.com/uTox/uTox/pull/930,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/930,"My webcam in my mac has problems sometimes üòù


This change is‚ÄÇ","My webcam in my mac has problems sometimes üòù


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,930,2017-05-27T04:46:16Z,2017-05-27T17:39:10Z,2017-05-27T17:39:47Z,MERGED,True,5,0,1,https://github.com/publicarray,fix potential crash on macOS when video input == nil,1,[],https://github.com/uTox/uTox/pull/930,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/930#issuecomment-304435436,"My webcam in my mac has problems sometimes üòù


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/cocoa/video.m, line 77 at r1 (raw file):

            }

            NSError *       error = NULL;

BTW While you're working in the OSX code, can you please try and fix these formatting atrocities that clang-format added in?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,930,2017-05-27T04:46:16Z,2017-05-27T17:39:10Z,2017-05-27T17:39:47Z,MERGED,True,5,0,1,https://github.com/publicarray,fix potential crash on macOS when video input == nil,1,[],https://github.com/uTox/uTox/pull/930,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/930#issuecomment-304439879,"My webcam in my mac has problems sometimes üòù


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,930,2017-05-27T04:46:16Z,2017-05-27T17:39:10Z,2017-05-27T17:39:47Z,MERGED,True,5,0,1,https://github.com/publicarray,fix potential crash on macOS when video input == nil,1,[],https://github.com/uTox/uTox/pull/930,https://github.com/publicarray,4,https://github.com/uTox/uTox/pull/930#issuecomment-304440492,"My webcam in my mac has problems sometimes üòù


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/cocoa/video.m, line 77 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
BTW While you're working in the OSX code, can you please try and fix these formatting atrocities that clang-format added in?

I was wondering what this weird formating was. I aim to submit a new PR for format fixes soonish (next few days) ;)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,930,2017-05-27T04:46:16Z,2017-05-27T17:39:10Z,2017-05-27T17:39:47Z,MERGED,True,5,0,1,https://github.com/publicarray,fix potential crash on macOS when video input == nil,1,[],https://github.com/uTox/uTox/pull/930,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/930#issuecomment-304441805,"My webcam in my mac has problems sometimes üòù


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,931,2017-05-27T05:13:38Z,2017-05-28T04:20:08Z,2017-09-19T12:35:25Z,MERGED,True,12,29,1,https://github.com/publicarray,fix mac font issues once and for all,2,[],https://github.com/uTox/uTox/pull/931,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/931,"loops through possible fonts and check if it the exists before getting them.
At the moment I'm not fully convinced that we need this.


This change is‚ÄÇ","loops through possible fonts and check if it the exists before getting them.
At the moment I'm not fully convinced that we need this.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,931,2017-05-27T05:13:38Z,2017-05-28T04:20:08Z,2017-09-19T12:35:25Z,MERGED,True,12,29,1,https://github.com/publicarray,fix mac font issues once and for all,2,[],https://github.com/uTox/uTox/pull/931,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/931#issuecomment-304435392,"loops through possible fonts and check if it the exists before getting them.
At the moment I'm not fully convinced that we need this.


This change is‚ÄÇ",@stal888 thoughts?,True,{}
uTox/uTox,https://github.com/uTox/uTox,931,2017-05-27T05:13:38Z,2017-05-28T04:20:08Z,2017-09-19T12:35:25Z,MERGED,True,12,29,1,https://github.com/publicarray,fix mac font issues once and for all,2,[],https://github.com/uTox/uTox/pull/931,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/931#issuecomment-304442510,"loops through possible fonts and check if it the exists before getting them.
At the moment I'm not fully convinced that we need this.


This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/cocoa/drawing.m, line 376 at r1 (raw file):

    }
    
#undef COCOA_BASE_FONT_NEW

You killed the defines but left the undefs.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,931,2017-05-27T05:13:38Z,2017-05-28T04:20:08Z,2017-09-19T12:35:25Z,MERGED,True,12,29,1,https://github.com/publicarray,fix mac font issues once and for all,2,[],https://github.com/uTox/uTox/pull/931,https://github.com/stal888,4,https://github.com/uTox/uTox/pull/931#issuecomment-304467829,"loops through possible fonts and check if it the exists before getting them.
At the moment I'm not fully convinced that we need this.


This change is‚ÄÇ","Helvetica Neue is available on OS X pre-Yosemite, so the new code would end up using it on those systems (instead of Lucida Grande, which is what we want).",True,{}
uTox/uTox,https://github.com/uTox/uTox,931,2017-05-27T05:13:38Z,2017-05-28T04:20:08Z,2017-09-19T12:35:25Z,MERGED,True,12,29,1,https://github.com/publicarray,fix mac font issues once and for all,2,[],https://github.com/uTox/uTox/pull/931,https://github.com/publicarray,5,https://github.com/uTox/uTox/pull/931#issuecomment-304482766,"loops through possible fonts and check if it the exists before getting them.
At the moment I'm not fully convinced that we need this.


This change is‚ÄÇ","@robinlinden thanks totally missed it
@stal888 so we want to use the default system fonts?",True,{}
uTox/uTox,https://github.com/uTox/uTox,931,2017-05-27T05:13:38Z,2017-05-28T04:20:08Z,2017-09-19T12:35:25Z,MERGED,True,12,29,1,https://github.com/publicarray,fix mac font issues once and for all,2,[],https://github.com/uTox/uTox/pull/931,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/931#issuecomment-304484364,"loops through possible fonts and check if it the exists before getting them.
At the moment I'm not fully convinced that we need this.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,931,2017-05-27T05:13:38Z,2017-05-28T04:20:08Z,2017-09-19T12:35:25Z,MERGED,True,12,29,1,https://github.com/publicarray,fix mac font issues once and for all,2,[],https://github.com/uTox/uTox/pull/931,https://github.com/stal888,7,https://github.com/uTox/uTox/pull/931#issuecomment-304487451,"loops through possible fonts and check if it the exists before getting them.
At the moment I'm not fully convinced that we need this.


This change is‚ÄÇ",Comments from Reviewable,True,{}
uTox/uTox,https://github.com/uTox/uTox,931,2017-05-27T05:13:38Z,2017-05-28T04:20:08Z,2017-09-19T12:35:25Z,MERGED,True,12,29,1,https://github.com/publicarray,fix mac font issues once and for all,2,[],https://github.com/uTox/uTox/pull/931,https://github.com/stal888,8,https://github.com/uTox/uTox/pull/931#issuecomment-304488484,"loops through possible fonts and check if it the exists before getting them.
At the moment I'm not fully convinced that we need this.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/932,"Fixes #586


This change is‚ÄÇ","Fixes #586


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/932#issuecomment-304451177,"Fixes #586


This change is‚ÄÇ","Sweet, thank you! 

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/932#issuecomment-304453174,"Fixes #586


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/dkmoz,4,https://github.com/uTox/uTox/pull/932#issuecomment-304454353,"Fixes #586


This change is‚ÄÇ",Fixes #784,True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/932#issuecomment-304454588,"Fixes #586


This change is‚ÄÇ","@dkmoz
It's better to open a separate PRs for a separate fixes.",True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/dkmoz,6,https://github.com/uTox/uTox/pull/932#issuecomment-304454716,"Fixes #586


This change is‚ÄÇ",Yeah sorry,True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/932#issuecomment-304454784,"Fixes #586


This change is‚ÄÇ","@dkmoz No worries. Feel free to join us on IRC at #uTox on Freenode if you need any help with git or anything. :)
That X11 middle click thing is something that's requested a lot, so it's really great that you found and fixed it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/fcore117,8,https://github.com/uTox/uTox/pull/932#issuecomment-304457639,"Fixes #586


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/932#issuecomment-304458209,"Fixes #586


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/932#issuecomment-304458256,"Fixes #586


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/event.c, line 105 at r2 (raw file):

        }

		case Button2: {

Whitespace needs to be 4 spaces instead of tabs.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/932#issuecomment-304458624,"Fixes #586


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{'THUMBS_UP': ['https://github.com/dkmoz']}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/redmanmale,12,https://github.com/uTox/uTox/pull/932#issuecomment-304459134,"Fixes #586


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,932,2017-05-27T12:58:08Z,2017-05-27T17:21:16Z,2017-05-27T17:21:16Z,MERGED,True,6,1,2,https://github.com/dkmoz,Remove incorrect debug info & fix X11 middle click to paste,3,[],https://github.com/uTox/uTox/pull/932,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/932#issuecomment-304465137,"Fixes #586


This change is‚ÄÇ","Reviewed 1 of 1 files at r1, 1 of 1 files at r3.
Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,933,2017-05-27T16:49:31Z,2017-05-27T18:22:52Z,2017-08-26T13:09:49Z,MERGED,True,20,9,1,https://github.com/robinlinden,Check resumeable file pointer with fstat.,1,[],https://github.com/uTox/uTox/pull/933,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/933,"This hopefully fixes a crash where uTox tries to fseek an invalid file pointer.


This change is‚ÄÇ","This hopefully fixes a crash where uTox tries to fseek an invalid file pointer.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,933,2017-05-27T16:49:31Z,2017-05-27T18:22:52Z,2017-08-26T13:09:49Z,MERGED,True,20,9,1,https://github.com/robinlinden,Check resumeable file pointer with fstat.,1,[],https://github.com/uTox/uTox/pull/933,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/933#issuecomment-304465248,"This hopefully fixes a crash where uTox tries to fseek an invalid file pointer.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 197 at r1 (raw file):

    }

    // This file pointer has a tendency of being both invalid and non-null so we use fstat to check it.

In this case it' getting bad data, which shouldn't be happening. Did you try to find the source of the bad data?
I'm okay with this pull either way, but this seems to be a bandaid, rather than sutures.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,933,2017-05-27T16:49:31Z,2017-05-27T18:22:52Z,2017-08-26T13:09:49Z,MERGED,True,20,9,1,https://github.com/robinlinden,Check resumeable file pointer with fstat.,1,[],https://github.com/uTox/uTox/pull/933,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/933#issuecomment-304466120,"This hopefully fixes a crash where uTox tries to fseek an invalid file pointer.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/file_transfers.c, line 197 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
In this case it' getting bad data, which shouldn't be happening. Did you try to find the source of the bad data?
I'm okay with this pull either way, but this seems to be a bandaid, rather than sutures.

Yeah, I tried to find the source before I resorted to this. I figured fixing the crash while still getting info about how often it is happening is good enough for now.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,933,2017-05-27T16:49:31Z,2017-05-27T18:22:52Z,2017-08-26T13:09:49Z,MERGED,True,20,9,1,https://github.com/robinlinden,Check resumeable file pointer with fstat.,1,[],https://github.com/uTox/uTox/pull/933,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/933#issuecomment-304467531,"This hopefully fixes a crash where uTox tries to fseek an invalid file pointer.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,933,2017-05-27T16:49:31Z,2017-05-27T18:22:52Z,2017-08-26T13:09:49Z,MERGED,True,20,9,1,https://github.com/robinlinden,Check resumeable file pointer with fstat.,1,[],https://github.com/uTox/uTox/pull/933,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/933#issuecomment-304468028,"This hopefully fixes a crash where uTox tries to fseek an invalid file pointer.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,936,2017-05-28T06:14:28Z,2017-06-21T21:54:18Z,2018-03-10T18:26:06Z,MERGED,True,54,27,6,https://github.com/endoffile78,Create filter_audio.c,3,[],https://github.com/uTox/uTox/pull/936,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/936,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,936,2017-05-28T06:14:28Z,2017-06-21T21:54:18Z,2018-03-10T18:26:06Z,MERGED,True,54,27,6,https://github.com/endoffile78,Create filter_audio.c,3,[],https://github.com/uTox/uTox/pull/936,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/936#issuecomment-304531017,This change is‚ÄÇ,"Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/av/filter_audio.c, line 5 at r1 (raw file):

#include ""audio.h""

#include ""../settings.h""

Don't do any state in the file at all, just return what the UI cares about.
That way we can test it later.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,936,2017-05-28T06:14:28Z,2017-06-21T21:54:18Z,2018-03-10T18:26:06Z,MERGED,True,54,27,6,https://github.com/endoffile78,Create filter_audio.c,3,[],https://github.com/uTox/uTox/pull/936,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/936#issuecomment-304573058,This change is‚ÄÇ,"Review status: 2 of 6 files reviewed at latest revision, 1 unresolved discussion.

src/av/filter_audio.c, line 5 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Don't do any state in the file at all, just return what the UI cares about.
That way we can test it later.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,936,2017-05-28T06:14:28Z,2017-06-21T21:54:18Z,2018-03-10T18:26:06Z,MERGED,True,54,27,6,https://github.com/endoffile78,Create filter_audio.c,3,[],https://github.com/uTox/uTox/pull/936,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/936#issuecomment-304576566,This change is‚ÄÇ,"Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/av/filter_audio.c, line 5 at r2 (raw file):

#include ""audio.h""

#include ""../settings.h""

drop this include now

src/av/filter_audio.c, line 22 at r2 (raw file):

            LOG_INFO(""Filter Audio"", ""filter audio failed"" );
            return false;
        } else { // no return is needed for this one because it is already true

no else after return;

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,936,2017-05-28T06:14:28Z,2017-06-21T21:54:18Z,2018-03-10T18:26:06Z,MERGED,True,54,27,6,https://github.com/endoffile78,Create filter_audio.c,3,[],https://github.com/uTox/uTox/pull/936,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/936#issuecomment-304694921,This change is‚ÄÇ,"Review status: 5 of 6 files reviewed at latest revision, 2 unresolved discussions.

src/av/filter_audio.c, line 5 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
drop this include now

It's still needed. Its use in the if and else if and its returned.

src/av/filter_audio.c, line 22 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
no else after return;

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,936,2017-05-28T06:14:28Z,2017-06-21T21:54:18Z,2018-03-10T18:26:06Z,MERGED,True,54,27,6,https://github.com/endoffile78,Create filter_audio.c,3,[],https://github.com/uTox/uTox/pull/936,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/936#issuecomment-304695891,This change is‚ÄÇ,"Reviewed 2 of 5 files at r1, 2 of 4 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,936,2017-05-28T06:14:28Z,2017-06-21T21:54:18Z,2018-03-10T18:26:06Z,MERGED,True,54,27,6,https://github.com/endoffile78,Create filter_audio.c,3,[],https://github.com/uTox/uTox/pull/936,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/936#issuecomment-309336655,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,936,2017-05-28T06:14:28Z,2017-06-21T21:54:18Z,2018-03-10T18:26:06Z,MERGED,True,54,27,6,https://github.com/endoffile78,Create filter_audio.c,3,[],https://github.com/uTox/uTox/pull/936,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/936#issuecomment-310216151,This change is‚ÄÇ,"Reviewed 1 of 4 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/937,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/937#issuecomment-313353381,This change is‚ÄÇ,"What needs to be done before this can be merged is as follows:

Fix OS X with asan (or disable it on OS X again for now.) Fixed in #971
Any actions that restart the Toxcore thread are broken. This absolutely needs to be fixed before we can do a release. Fixed in #960 and #990",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/v2e,3,https://github.com/uTox/uTox/pull/937#issuecomment-313612759,This change is‚ÄÇ,"As the title states, this pull request is related to the new version of uTox. Could you please notify the translators if there are some new strings to be translated before the actual release?",True,"{'THUMBS_UP': ['https://github.com/im-grey', 'https://github.com/robinlinden']}"
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/937#issuecomment-316960869,This change is‚ÄÇ,"@v2e You're right. I completely forgot about that. Thank you!
@uTox/i18n PTAL at the 3 new strings added to https://github.com/uTox/uTox/blob/develop/langs/en.h
(HIDE_UI_PASSWORD, HIDE_UI_PASSWORD_TOOLTIP, and HIDE_NOSPAM.)",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/sfan5,5,https://github.com/uTox/uTox/pull/937#issuecomment-317012377,This change is‚ÄÇ,"Just wanna leave a note here that
msgid(DELETE_MESSAGE)
msgstr(""Are you sure you want to delete "")

is absolute shit for translating. Where are my format strings?",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/937#issuecomment-317018150,This change is‚ÄÇ,"@sfan5 Agreed. I thought about too when fixing up the Swedish translations earlier today. :(
Should be ez to do too since we already have language strings like
msgid(WHERE_TO_SAVE_FILE_PROMPT)
msgstr(""Where do you want to save \""%.*s\""?"")",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/v2e,7,https://github.com/uTox/uTox/pull/937#issuecomment-317201601,This change is‚ÄÇ,"@robinlinden Just two small points:

The Ukrainian language code should be ""uk"", not ""ua"" (in the filename). It is often confused with the county code ""uk"" for United Kingdom.
What about the version name and changelog text for v.0.16?",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/937#issuecomment-317202100,This change is‚ÄÇ,"@v2e Thanks! See #977 (You can do the Ukrainian translation as usual and I'll rebase my PR on top of yours after that's done.)
The version name and changelog are pending until we're ready to make a release. I have a draft done in the release list if you want to have a look. (They need to be updated again since we've merged features since the release started being prepped.)",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/v2e,9,https://github.com/uTox/uTox/pull/937#issuecomment-317203078,This change is‚ÄÇ,"@robinlinden I can see only ""uTox v0.15.0 slowpoke"" on the release list. As far as I understand, this is for the previous release. Maybe, the draft is not visible for all users? In any case, it would be great if I were able to update the translation before the 0.16 release.",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/937#issuecomment-317203583,This change is‚ÄÇ,"@v2e Oh, right. I thought you were a member of the uTox org. I'll try to put together a complete changelog ASAP (likely tomorrow) so you can translate that too if you want.",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/937#issuecomment-317203762,This change is‚ÄÇ,"@robinlinden
I'll be glad to translate changelog into Russian.",True,{'HOORAY': ['https://github.com/im-grey']}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/937#issuecomment-317203924,This change is‚ÄÇ,We'll do a feature-freeze sooner next release so everything is ready for translation when we open the version bump PR.,True,{'THUMBS_UP': ['https://github.com/im-grey']}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/937#issuecomment-317210111,This change is‚ÄÇ,"@sfan5 @robinlinden there's no reason we can't use %s inside translations.
We'd just have to make a 2nd string macro/function to do the formatting before passing it to the gui.",True,{'THUMBS_UP': ['https://github.com/im-grey']}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/robinlinden,14,https://github.com/uTox/uTox/pull/937#issuecomment-317257098,This change is‚ÄÇ,@GrayHatter We already do that. See the example I posted a few comments ago.,True,"{'THUMBS_UP': ['https://github.com/im-grey'], 'LAUGH': ['https://github.com/im-grey']}"
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/robinlinden,15,https://github.com/uTox/uTox/pull/937#issuecomment-318218752,This change is‚ÄÇ,"@uTox/i18n Added changelog and meme to the release PR.
@uTox/devs I'd appreciate it if you could have a quick look and let me know if I missed anything.
The Toxcore restarting issue is still blocking a release. Might (hopefully) get fixed in #960 though.",True,{'THUMBS_UP': ['https://github.com/im-grey']}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/endoffile78,16,https://github.com/uTox/uTox/pull/937#issuecomment-318254718,This change is‚ÄÇ,"The version in the man file should be updated.

Reviewed 4 of 5 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,"{'THUMBS_UP': ['https://github.com/dkmoz', 'https://github.com/im-grey']}"
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/robinlinden,17,https://github.com/uTox/uTox/pull/937#issuecomment-321683455,This change is‚ÄÇ,@endoffile78 Good catch!,True,{'THUMBS_UP': ['https://github.com/im-grey']}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/endoffile78,18,https://github.com/uTox/uTox/pull/937#issuecomment-321700482,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3, 1 of 1 files at r4, 1 of 1 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/GrayHatter,19,https://github.com/uTox/uTox/pull/937#issuecomment-321882108,This change is‚ÄÇ,"@robinlinden add the man.file to the cmake, so the cmake will auto generate the man.file",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/robinlinden,20,https://github.com/uTox/uTox/pull/937#issuecomment-321906489,This change is‚ÄÇ,@GrayHatter I was planning to in a separate PR.,True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/redmanmale,21,https://github.com/uTox/uTox/pull/937#issuecomment-322002267,This change is‚ÄÇ,"robinlinden#3
Translate new changelog and add new strings.",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/GrayHatter,22,https://github.com/uTox/uTox/pull/937#issuecomment-323608650,This change is‚ÄÇ,"Reviewed 1 of 5 files at r1, 1 of 1 files at r3, 1 of 1 files at r4, 1 of 1 files at r7, 1 of 1 files at r8.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/GrayHatter,23,https://github.com/uTox/uTox/pull/937#issuecomment-323609574,This change is‚ÄÇ,"Reviewed 1 of 5 files at r1, 2 of 3 files at r9, 1 of 2 files at r10.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,937,2017-05-28T15:18:26Z,2017-08-20T21:09:02Z,2017-08-21T20:14:55Z,MERGED,True,132,126,6,https://github.com/robinlinden,Release 0.16.0.,7,[],https://github.com/uTox/uTox/pull/937,https://github.com/GrayHatter,24,https://github.com/uTox/uTox/pull/937#issuecomment-323609591,This change is‚ÄÇ,"Reviewed 1 of 1 files at r11.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/942,"Fixes #941

This change is‚ÄÇ","Fixes #941

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/942#issuecomment-305286815,"Fixes #941

This change is‚ÄÇ","Per IRC, move the stb stuff to a separate folder and include it as a system include.

Reviewed 7 of 8 files at r1, 2 of 2 files at r2.
Review status: 5 of 6 files reviewed at latest revision, 2 unresolved discussions.

src/messages.c, line 947 at r1 (raw file):

static void messages_time_change(MESSAGES *m, MSG_HEADER *msg, size_t index, int x, int y, int width, int height) {

No blank lines after { or before }.

src/messages.c, line 984 at r1 (raw file):

    }

    y = messages_draw_text(msg->via.notice.msg, msg->via.notice.length, msg->height,

Dead assignment.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/942#issuecomment-305288876,"Fixes #941

This change is‚ÄÇ","careful with moving stbi,  folders may conflict with .gitignore

Reviewed 6 of 8 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/942#issuecomment-305290404,"Fixes #941

This change is‚ÄÇ","Reviewed 5 of 6 files at r3.
Review status: 8 of 9 files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/942#issuecomment-305291969,"Fixes #941

This change is‚ÄÇ","Review status: 7 of 9 files reviewed at latest revision, 2 unresolved discussions.

src/messages.c, line 947 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
No blank lines after { or before }.

Done.

src/messages.c, line 984 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Dead assignment.

Done. Good catch.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/942#issuecomment-305296680,"Fixes #941

This change is‚ÄÇ","Reviewed 1 of 6 files at r3, 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/942#issuecomment-305897111,"Fixes #941

This change is‚ÄÇ","Reviewed 4 of 6 files at r3, 1 of 1 files at r4, 2 of 2 files at r5.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

CMakeLists.txt, line 257 at r5 (raw file):

endif()

include_directories(SYSTEM src/stb)

Excellent change. I wonder what mastermind placed this here.

src/main.h, line 69 at r5 (raw file):

                       // seems to be unused?

#include <stb_image.h>

This change isn't really required, btw.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/942#issuecomment-323602282,"Fixes #941

This change is‚ÄÇ","Reviewed 2 of 2 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/942#issuecomment-324963071,"Fixes #941

This change is‚ÄÇ",This needs a rebase.,True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/942#issuecomment-325761459,"Fixes #941

This change is‚ÄÇ","Reviewed 2 of 6 files at r3, 8 of 10 files at r6.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/cocoa/Info.plist.in, line 30 at r6 (raw file):

	<string>@CMAKE_OSX_DEPLOYMENT_TARGET@</string>
	<key>NSHumanReadableCopyright</key>
	<string>Copyleft 2017 uTox contributors. Some rights reserved.</string>


This change doesn't look right.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/942#issuecomment-325840382,"Fixes #941

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/cocoa/Info.plist.in, line 30 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This change doesn't look right.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/942#issuecomment-327009903,"Fixes #941

This change is‚ÄÇ","Reviewed 1 of 1 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/942#issuecomment-328215027,"Fixes #941

This change is‚ÄÇ","Reviewed 2 of 6 files at r3, 7 of 10 files at r6.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 289 at r7 (raw file):

set(LIBRARIES ${LIBRARIES} ${LIBSODIUM_LIBRARIES})

include_directories(SYSTEM src/stb)

IIRC we're planning to submodule this. Could we make that change now?
Also, I don't like the idea of marking anything in src a system directory...

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/endoffile78,14,https://github.com/uTox/uTox/pull/942#issuecomment-328281487,"Fixes #941

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 289 at r7 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
IIRC we're planning to submodule this. Could we make that change now?
Also, I don't like the idea of marking anything in src a system directory...

The reason we made it a system header was because we would have to change stb. I think I originally did that but we decided to go with making it a system header instead.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,942,2017-05-31T18:26:47Z,2017-09-09T23:33:10Z,2018-03-10T18:27:33Z,MERGED,True,92,67,7,https://github.com/endoffile78,Fix fallthrough warnings,5,['PR: Needs +1'],https://github.com/uTox/uTox/pull/942,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/942#issuecomment-328309178,"Fixes #941

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 289 at r7 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
The reason we made it a system header was because we would have to change stb. I think I originally did that but we decided to go with making it a system header instead.

LGTM, I think it's a good idea to mark it as a system header, but not if it's in src/ either way. There's already a pending pull for that

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,944,2017-06-03T06:53:01Z,2017-06-03T12:44:35Z,2017-06-03T12:44:35Z,MERGED,True,2,2,1,https://github.com/dkmoz,Fix decryption error messages,1,[],https://github.com/uTox/uTox/pull/944,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/944,"UTOX_ENC_ERR_LENGTH was tested twice and thus it was nagging about an unknown error


This change is‚ÄÇ","UTOX_ENC_ERR_LENGTH was tested twice and thus it was nagging about an unknown error


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,944,2017-06-03T06:53:01Z,2017-06-03T12:44:35Z,2017-06-03T12:44:35Z,MERGED,True,2,2,1,https://github.com/dkmoz,Fix decryption error messages,1,[],https://github.com/uTox/uTox/pull/944,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/944#issuecomment-305956714,"UTOX_ENC_ERR_LENGTH was tested twice and thus it was nagging about an unknown error


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,944,2017-06-03T06:53:01Z,2017-06-03T12:44:35Z,2017-06-03T12:44:35Z,MERGED,True,2,2,1,https://github.com/dkmoz,Fix decryption error messages,1,[],https://github.com/uTox/uTox/pull/944,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/944#issuecomment-305969186,"UTOX_ENC_ERR_LENGTH was tested twice and thus it was nagging about an unknown error


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,945,2017-06-03T16:17:16Z,2017-06-04T03:42:21Z,2017-06-04T03:42:21Z,MERGED,True,4,5,1,https://github.com/dkmoz,Fix memory leaks in xlib/window.c,1,[],https://github.com/uTox/uTox/pull/945,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/945,"Windows should be freed explicitly and title is duplicated in native_window_create so there's no need to allocate memory from heap twice


This change is‚ÄÇ","Windows should be freed explicitly and title is duplicated in native_window_create so there's no need to allocate memory from heap twice


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,945,2017-06-03T16:17:16Z,2017-06-04T03:42:21Z,2017-06-04T03:42:21Z,MERGED,True,4,5,1,https://github.com/dkmoz,Fix memory leaks in xlib/window.c,1,[],https://github.com/uTox/uTox/pull/945,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/945#issuecomment-305987607,"Windows should be freed explicitly and title is duplicated in native_window_create so there's no need to allocate memory from heap twice


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,945,2017-06-03T16:17:16Z,2017-06-04T03:42:21Z,2017-06-04T03:42:21Z,MERGED,True,4,5,1,https://github.com/dkmoz,Fix memory leaks in xlib/window.c,1,[],https://github.com/uTox/uTox/pull/945,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/945#issuecomment-306015925,"Windows should be freed explicitly and title is duplicated in native_window_create so there's no need to allocate memory from heap twice


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,947,2017-06-14T22:33:14Z,2017-06-18T15:34:55Z,2017-06-18T15:35:02Z,MERGED,True,67,705,40,https://github.com/robinlinden,Remove Tox DNS.,3,[],https://github.com/uTox/uTox/pull/947,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/947,"Tox DNS is being stripped from uTox as there are no domains that support it anymore.

This change is‚ÄÇ","Tox DNS is being stripped from uTox as there are no domains that support it anymore.

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,947,2017-06-14T22:33:14Z,2017-06-18T15:34:55Z,2017-06-18T15:35:02Z,MERGED,True,67,705,40,https://github.com/robinlinden,Remove Tox DNS.,3,[],https://github.com/uTox/uTox/pull/947,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/947#issuecomment-308801075,"Tox DNS is being stripped from uTox as there are no domains that support it anymore.

This change is‚ÄÇ","Reviewed 35 of 35 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,947,2017-06-14T22:33:14Z,2017-06-18T15:34:55Z,2017-06-18T15:35:02Z,MERGED,True,67,705,40,https://github.com/robinlinden,Remove Tox DNS.,3,[],https://github.com/uTox/uTox/pull/947,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/947#issuecomment-309098177,"Tox DNS is being stripped from uTox as there are no domains that support it anymore.

This change is‚ÄÇ","Reviewed 35 of 35 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,947,2017-06-14T22:33:14Z,2017-06-18T15:34:55Z,2017-06-18T15:35:02Z,MERGED,True,67,705,40,https://github.com/robinlinden,Remove Tox DNS.,3,[],https://github.com/uTox/uTox/pull/947,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/947#issuecomment-309248291,"Tox DNS is being stripped from uTox as there are no domains that support it anymore.

This change is‚ÄÇ","Reviewed 19 of 19 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,947,2017-06-14T22:33:14Z,2017-06-18T15:34:55Z,2017-06-18T15:35:02Z,MERGED,True,67,705,40,https://github.com/robinlinden,Remove Tox DNS.,3,[],https://github.com/uTox/uTox/pull/947,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/947#issuecomment-309255930,"Tox DNS is being stripped from uTox as there are no domains that support it anymore.

This change is‚ÄÇ","Reviewed 19 of 19 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,948,2017-06-17T15:22:16Z,2017-06-17T16:31:18Z,2017-06-17T16:31:18Z,MERGED,True,3,0,1,https://github.com/dkmoz,Fix x11 double click text copying,1,[],https://github.com/uTox/uTox/pull/948,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/948,"Fixes #353


This change is‚ÄÇ","Fixes #353


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,948,2017-06-17T15:22:16Z,2017-06-17T16:31:18Z,2017-06-17T16:31:18Z,MERGED,True,3,0,1,https://github.com/dkmoz,Fix x11 double click text copying,1,[],https://github.com/uTox/uTox/pull/948,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/948#issuecomment-309223391,"Fixes #353


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,948,2017-06-17T15:22:16Z,2017-06-17T16:31:18Z,2017-06-17T16:31:18Z,MERGED,True,3,0,1,https://github.com/dkmoz,Fix x11 double click text copying,1,[],https://github.com/uTox/uTox/pull/948,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/948#issuecomment-309224363,"Fixes #353


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,949,2017-06-17T15:39:31Z,2017-06-17T17:27:15Z,2017-08-26T13:09:50Z,MERGED,True,22,6,2,https://github.com/robinlinden,Fix autostart switch being a no-op.,1,[],https://github.com/uTox/uTox/pull/949,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/949,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,949,2017-06-17T15:39:31Z,2017-06-17T17:27:15Z,2017-08-26T13:09:50Z,MERGED,True,22,6,2,https://github.com/robinlinden,Fix autostart switch being a no-op.,1,[],https://github.com/uTox/uTox/pull/949,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/949#issuecomment-309223486,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,949,2017-06-17T15:39:31Z,2017-06-17T17:27:15Z,2017-08-26T13:09:50Z,MERGED,True,22,6,2,https://github.com/robinlinden,Fix autostart switch being a no-op.,1,[],https://github.com/uTox/uTox/pull/949,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/949#issuecomment-309228063,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,950,2017-06-18T11:17:25Z,2017-06-18T16:38:56Z,2017-06-18T16:38:56Z,MERGED,True,5,1,1,https://github.com/dkmoz,Fix typing notification not using the contact's alias,2,[],https://github.com/uTox/uTox/pull/950,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/950,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,950,2017-06-18T11:17:25Z,2017-06-18T16:38:56Z,2017-06-18T16:38:56Z,MERGED,True,5,1,1,https://github.com/dkmoz,Fix typing notification not using the contact's alias,2,[],https://github.com/uTox/uTox/pull/950,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/950#issuecomment-309272910,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/layout/friend.c, line 63 at r1 (raw file):

        // @TODO: separate these colors if needed
        setcolor(COLOR_MAIN_TEXT_HINT);
		if (f->alias) {

Replace the tabs with spaces.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,950,2017-06-18T11:17:25Z,2017-06-18T16:38:56Z,2017-06-18T16:38:56Z,MERGED,True,5,1,1,https://github.com/dkmoz,Fix typing notification not using the contact's alias,2,[],https://github.com/uTox/uTox/pull/950,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/950#issuecomment-309274156,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,950,2017-06-18T11:17:25Z,2017-06-18T16:38:56Z,2017-06-18T16:38:56Z,MERGED,True,5,1,1,https://github.com/dkmoz,Fix typing notification not using the contact's alias,2,[],https://github.com/uTox/uTox/pull/950,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/950#issuecomment-309288338,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,953,2017-06-20T17:51:28Z,2017-06-26T18:57:21Z,2017-06-26T18:57:21Z,MERGED,True,26,5,1,https://github.com/dkmoz,Add timestamps to messages in chatlog,4,[],https://github.com/uTox/uTox/pull/953,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/953,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,953,2017-06-20T17:51:28Z,2017-06-26T18:57:21Z,2017-06-26T18:57:21Z,MERGED,True,26,5,1,https://github.com/dkmoz,Add timestamps to messages in chatlog,4,[],https://github.com/uTox/uTox/pull/953,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/953#issuecomment-309840277,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/chatlog.c, line 254 at r1 (raw file):

    FILE *file = chatlog_get_file(hex, false);

    char buffer[128];

Move this to the scope in which it's used.

src/chatlog.c, line 255 at r1 (raw file):

    char buffer[128];
    time_t timetmp = time(NULL);

This doesn't seem to be used.

src/chatlog.c, line 256 at r1 (raw file):

    char buffer[128];
    time_t timetmp = time(NULL);
    struct tm tm_curr, tm_prev = {0, 0, 0, 1, 0, 0, 0, 0};

Initialise this like { .tm_day = 1 }.

src/chatlog.c, line 260 at r1 (raw file):

    while (fread(&header, sizeof(header), 1, file) == 1) {

        localtime_r(&header.time, &tm_curr);

localtime_r isn't defined in the C standard. Would localtime_s work instead?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,953,2017-06-20T17:51:28Z,2017-06-26T18:57:21Z,2017-06-26T18:57:21Z,MERGED,True,26,5,1,https://github.com/dkmoz,Add timestamps to messages in chatlog,4,[],https://github.com/uTox/uTox/pull/953,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/953#issuecomment-309860703,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/chatlog.c, line 256 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Initialise this like { .tm_day = 1 }.

Struct members not initialised are always set to 0, so you only have to initialise day here. (This is up to you though.)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,953,2017-06-20T17:51:28Z,2017-06-26T18:57:21Z,2017-06-26T18:57:21Z,MERGED,True,26,5,1,https://github.com/dkmoz,Add timestamps to messages in chatlog,4,[],https://github.com/uTox/uTox/pull/953,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/953#issuecomment-309862333,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,953,2017-06-20T17:51:28Z,2017-06-26T18:57:21Z,2017-06-26T18:57:21Z,MERGED,True,26,5,1,https://github.com/dkmoz,Add timestamps to messages in chatlog,4,[],https://github.com/uTox/uTox/pull/953,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/953#issuecomment-309866204,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,953,2017-06-20T17:51:28Z,2017-06-26T18:57:21Z,2017-06-26T18:57:21Z,MERGED,True,26,5,1,https://github.com/dkmoz,Add timestamps to messages in chatlog,4,[],https://github.com/uTox/uTox/pull/953,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/953#issuecomment-309869250,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,953,2017-06-20T17:51:28Z,2017-06-26T18:57:21Z,2017-06-26T18:57:21Z,MERGED,True,26,5,1,https://github.com/dkmoz,Add timestamps to messages in chatlog,4,[],https://github.com/uTox/uTox/pull/953,https://github.com/dkmoz,7,https://github.com/uTox/uTox/pull/953#issuecomment-310394318,This change is‚ÄÇ,Not sure what was the deal with gcc and localtime_s but localtime should work,True,{}
uTox/uTox,https://github.com/uTox/uTox,953,2017-06-20T17:51:28Z,2017-06-26T18:57:21Z,2017-06-26T18:57:21Z,MERGED,True,26,5,1,https://github.com/dkmoz,Add timestamps to messages in chatlog,4,[],https://github.com/uTox/uTox/pull/953,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/953#issuecomment-310932019,This change is‚ÄÇ,"Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/chatlog.c, line 263 at r4 (raw file):

    while (fread(&header, sizeof(header), 1, file) == 1) {

        tm_curr = localtime(&header.time);

I would've preferred it if this were struct tm *tm_curr =.., but this is not blocking.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,953,2017-06-20T17:51:28Z,2017-06-26T18:57:21Z,2017-06-26T18:57:21Z,MERGED,True,26,5,1,https://github.com/dkmoz,Add timestamps to messages in chatlog,4,[],https://github.com/uTox/uTox/pull/953,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/953#issuecomment-311149960,This change is‚ÄÇ,"Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,954,2017-06-20T19:46:40Z,2017-06-26T18:55:10Z,2017-06-26T18:55:10Z,MERGED,True,1,1,1,https://github.com/endoffile78,Fix type mismatch warning,1,[],https://github.com/uTox/uTox/pull/954,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/954,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,954,2017-06-20T19:46:40Z,2017-06-26T18:55:10Z,2017-06-26T18:55:10Z,MERGED,True,1,1,1,https://github.com/endoffile78,Fix type mismatch warning,1,[],https://github.com/uTox/uTox/pull/954,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/954#issuecomment-309869641,This change is‚ÄÇ,"Weird. What compiler was this on? gcc? 

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,954,2017-06-20T19:46:40Z,2017-06-26T18:55:10Z,2017-06-26T18:55:10Z,MERGED,True,1,1,1,https://github.com/endoffile78,Fix type mismatch warning,1,[],https://github.com/uTox/uTox/pull/954,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/954#issuecomment-310936546,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,958,2017-06-24T13:32:12Z,2017-07-21T09:54:15Z,2017-07-21T09:54:32Z,CLOSED,False,5,1,2,https://github.com/robinlinden,Add compilation flags to fix OS X asan.,1,['--WIP--'],https://github.com/uTox/uTox/pull/958,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/958,"See google/sanitizers#647

This change is‚ÄÇ","See google/sanitizers#647

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,958,2017-06-24T13:32:12Z,2017-07-21T09:54:15Z,2017-07-21T09:54:32Z,CLOSED,False,5,1,2,https://github.com/robinlinden,Add compilation flags to fix OS X asan.,1,['--WIP--'],https://github.com/uTox/uTox/pull/958,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/958#issuecomment-310850339,"See google/sanitizers#647

This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

extra/travis/osx-script.sh, line 8 at r1 (raw file):

cmake . -DCMAKE_INCLUDE_PATH=$CACHE_DIR/usr/lib -DENABLE_WERROR=OFF
make VERBOSE=1
ASAN_OPTIONS=use_odr_indicator=1 ./run_tests.sh

ASAN still warns during the chatlog test it seems like this ASAN_OPTIONS=detect_odr_violation=0 is the right option.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,958,2017-06-24T13:32:12Z,2017-07-21T09:54:15Z,2017-07-21T09:54:32Z,CLOSED,False,5,1,2,https://github.com/robinlinden,Add compilation flags to fix OS X asan.,1,['--WIP--'],https://github.com/uTox/uTox/pull/958,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/958#issuecomment-316959277,"See google/sanitizers#647

This change is‚ÄÇ",This issue was worked around in #971,True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/960,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Now toxcore can restart without av threads blocking it


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/dkmoz,2,https://github.com/uTox/uTox/pull/960#issuecomment-311192440,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ",Just wanted to point out that if you set audio filtering to false and switch the return value in audio_device_in_close from true to false everything works perfectly.,True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/960#issuecomment-312510685,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/av/audio.c, line 629 at r1 (raw file):

                case UTOXAUDIO_CHANGE_MIC: {
                    while (audio_in_ignore()) { continue; }
                    while (audio_in_device_close()) { continue; }

Change this to !audio_in_device_close() to fix the hang, I guess.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/960#issuecomment-312708657,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/dkmoz,5,https://github.com/uTox/uTox/pull/960#issuecomment-312724407,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/av/audio.c, line 629 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Change this to !audio_in_device_close() to fix the hang, I guess.

didn't work

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/960#issuecomment-316964286,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/av/audio.c, line 629 at r1 (raw file):
Previously, dkmoz wrote‚Ä¶
didn't work

Any idea of how to fix the hang? Or should I go ahead and merge this anyway since it seems to improve things?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/dkmoz,7,https://github.com/uTox/uTox/pull/960#issuecomment-316965460,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/av/audio.c, line 629 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Any idea of how to fix the hang? Or should I go ahead and merge this anyway since it seems to improve things?

If you change the return value in audio_in_device_close to false and set audio filtering to false it seems to work. That's not a long term solution though

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/960#issuecomment-317211824,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Reviewed 4 of 5 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/tox.c, line 18 at r2 (raw file):

#include ""av/audio.h""
#include ""av/utox_av.h""

can we drop utox_av.h now?
or av/audio.h or av/video.h... if not what's blocking that?

src/av/audio.c, line 629 at r1 (raw file):
Previously, dkmoz wrote‚Ä¶
If you change the return value in audio_in_device_close to false and set audio filtering to false it seems to work. That's not a long term solution though

Is the hang when trying to change the mic, or elsewhere?

src/av/audio.c, line 97 at r2 (raw file):

    audio_in_handle = NULL;
    microphone_on = false;
    return true; /* and the audio thread hangs... */

This should return false here.

src/av/utox_av.c, line 54 at r2 (raw file):

                if (av != NULL) {
                    // terminate av threads
                    postmessage_audio(UTOXAUDIO_KILL, 0, 0, NULL);

There's really no reason to kill/restart these threads, just for a new tox instance. Just update the toxav pointer, unless I'm missing something obvious?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/dkmoz,9,https://github.com/uTox/uTox/pull/960#issuecomment-317229816,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/tox.c, line 18 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
can we drop utox_av.h now?
or av/audio.h or av/video.h... if not what's blocking that?

Nope. Toxcore creates the ToxAV instance and sends it to utox_av control thread. audio.c and video.c define utox_default_bitrate_* used by toxcore so nothing can be dropped.

src/av/audio.c, line 629 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Is the hang when trying to change the mic, or elsewhere?

In utox_audio_thread when audio_in_device_close is getting called

src/av/audio.c, line 97 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This should return false here.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/960#issuecomment-320508355,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Reviewed 1 of 1 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/av/audio.c, line 88 at r3 (raw file):

            audio_in_handle = NULL;
            microphone_on = false;
            return false;

Should this be true now? If this function always returns false, why are we bothering calling it in a loop until it's false?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/960#issuecomment-320513078,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Reviewed 1 of 1 files at r2, 5 of 5 files at r4.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/960#issuecomment-320521521,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Reviewed 5 of 5 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/av/audio.c, line 88 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Should this be true now? If this function always returns false, why are we bothering calling it in a loop until it's false?

skel code for opening >1 microphones... we can't yet so we return false (the state of the microphone) because the mic is in deed closed.
in the future, it should return true here, if we count handles to devices.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/960#issuecomment-321068895,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","The av threads are no longer blocking Tox thread restarts, but restarting it still doesn't work well. (Try toggling UDP off and on again ~3 times.)
Any ideas of what the problem is? It might be out of scope, so I'm fine with merging this as is if you're happy with it. Otherwise looking into it would be appreciated.",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/dkmoz,14,https://github.com/uTox/uTox/pull/960#issuecomment-321152669,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","@robinlinden
Yeah that's a weird one. It seems to get stuck in postmessage_toxcore but it's hard to tell whether is out of scope or not.
https://github.com/uTox/uTox/blob/develop/src/tox.c#L59",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/960#issuecomment-323602416,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","kinda, I signed off on this last change without contex. Looks right, but I didn't confirm (a 2nd time) it didn't conflict with other changes in this pull

Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,960,2017-06-26T19:02:09Z,2017-08-20T18:47:03Z,2017-08-20T18:47:04Z,MERGED,True,41,30,7,https://github.com/dkmoz,Move av components,3,[],https://github.com/uTox/uTox/pull/960,https://github.com/endoffile78,16,https://github.com/uTox/uTox/pull/960#issuecomment-323602717,"Now toxcore can restart without av threads blocking it


This change is‚ÄÇ","Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,961,2017-06-26T19:26:01Z,2017-07-03T21:14:50Z,2017-07-03T21:14:50Z,MERGED,True,6,1,1,https://github.com/dkmoz,Set typing state to 0 when message is sent,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/961,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/961,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,961,2017-06-26T19:26:01Z,2017-07-03T21:14:50Z,2017-07-03T21:14:50Z,MERGED,True,6,1,1,https://github.com/dkmoz,Set typing state to 0 when message is sent,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/961,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/961#issuecomment-311158529,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,961,2017-06-26T19:26:01Z,2017-07-03T21:14:50Z,2017-07-03T21:14:50Z,MERGED,True,6,1,1,https://github.com/dkmoz,Set typing state to 0 when message is sent,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/961,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/961#issuecomment-312730511,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/963,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/963#issuecomment-312055514,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/963#issuecomment-316967263,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/chatlog.c, line 294 at r1 (raw file):

            fwrite("">"", 1, 1, dest_file);
        }
        

Stray whitespace.

src/av/utox_av.c, line 124 at r1 (raw file):

                    if (f->call_started != 0) {
                        char notice_msg[64];
                        double duration = difftime(time(NULL), f->call_started);

Maybe make this int duration and cast the return value of difftime since it's always used as an integer anyway. Would let you drop the casts on the coming lines.

src/av/utox_av.c, line 143 at r1 (raw file):

                        f->call_started = 0;
                    }
                    

Stray whitespace.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/963#issuecomment-317044964,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ",The call started and call ended should probably also be translatable language strings.,True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/dkmoz,5,https://github.com/uTox/uTox/pull/963#issuecomment-317159241,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Review status: 1 of 3 files reviewed at latest revision, 3 unresolved discussions.

src/chatlog.c, line 294 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Stray whitespace.

Done.

src/av/utox_av.c, line 124 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Maybe make this int duration and cast the return value of difftime since it's always used as an integer anyway. Would let you drop the casts on the coming lines.

Done.

src/av/utox_av.c, line 143 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Stray whitespace.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/963#issuecomment-321068030,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/av/utox_av.c, line 70 at r2 (raw file):

                    FRIEND *f = get_friend(msg->param1);
                    f->call_started = time(NULL);
                    message_add_type_notice(&f->msg, ""Call started"", 12, true); // log to disk

""Call started"" should be moved to the language file and made translatable.
(If you don't want to do that in this PR, add back the //TODO localization with S() SLEN())

src/av/utox_av.c, line 128 at r2 (raw file):

                        int minutes = (duration / 60) % 60;
                        int seconds = duration % 60;
                        int length = snprintf(notice_msg, 64, ""Call ended:"");

""Call ended:"" should be moved to the language file and made translatable.

src/av/utox_av.c, line 131 at r2 (raw file):

                        if (hours) {
                            length += snprintf(notice_msg + length, 64 - length, "" %d hours"", hours);

Probably print the time in ISO8601 extended format (hh:mm:ss) so you don't have to localise this and add support for single hours, minutes, and seconds. :P
I think printing 00:03:15 for a 3m 15s call would be acceptable and universal.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/dkmoz,7,https://github.com/uTox/uTox/pull/963#issuecomment-321208186,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Review status: 2 of 5 files reviewed at latest revision, 3 unresolved discussions.

src/av/utox_av.c, line 70 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
""Call started"" should be moved to the language file and made translatable.
(If you don't want to do that in this PR, add back the //TODO localization with S() SLEN())

Done.

src/av/utox_av.c, line 128 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
""Call ended:"" should be moved to the language file and made translatable.

Done.

src/av/utox_av.c, line 131 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Probably print the time in ISO8601 extended format (hh:mm:ss) so you don't have to localise this and add support for single hours, minutes, and seconds. :P
I think printing 00:03:15 for a 3m 15s call would be acceptable and universal.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/963#issuecomment-321276865,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Reviewed 1 of 2 files at r2, 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/963#issuecomment-321326300,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Reviewed 1 of 3 files at r1, 1 of 3 files at r3.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/av/utox_av.c, line 70 at r2 (raw file):
Previously, dkmoz wrote‚Ä¶
Done.

no, you need SLEN() instead of 12, otherwise different languages can over/underrun

src/av/utox_av.c, line 126 at r3 (raw file):

                        char notice_msg[64];
                        int duration = difftime(time(NULL), f->call_started);
                        int length = snprintf(notice_msg, 64, ""%s: %02u:%02u:%02u"",

verify that length < 64, if it's not error, and exit early

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/963#issuecomment-321326316,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Reviewed 1 of 2 files at r2, 2 of 3 files at r3.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/dkmoz,11,https://github.com/uTox/uTox/pull/963#issuecomment-321958557,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Review status: 4 of 5 files reviewed at latest revision, 4 unresolved discussions.

src/av/utox_av.c, line 70 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
no, you need SLEN() instead of 12, otherwise different languages can over/underrun

Done.

src/av/utox_av.c, line 126 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
verify that length < 64, if it's not error, and exit early

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/963#issuecomment-322002194,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/av/utox_av.c, line 128 at r4 (raw file):

                        int length = snprintf(notice_msg, 64, ""%s: %02u:%02u:%02u"",
                                S(CALL_ENDED), duration / 3600, (duration / 60) % 60, duration % 60);
						if (length < 64)

if's must have {}, even for single lines

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/dkmoz,13,https://github.com/uTox/uTox/pull/963#issuecomment-322021422,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Review status: 4 of 5 files reviewed at latest revision, 4 unresolved discussions.

src/av/utox_av.c, line 128 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
if's must have {}, even for single lines

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/963#issuecomment-322025584,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/endoffile78,15,https://github.com/uTox/uTox/pull/963#issuecomment-322050941,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/GrayHatter,16,https://github.com/uTox/uTox/pull/963#issuecomment-323604700,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","+@robinlinden

Review status: all files reviewed at latest revision, 3 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/robinlinden,17,https://github.com/uTox/uTox/pull/963#issuecomment-323604863,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ",Leaving this for 0.17.0 since it adds more strings and we've already merged the translations for 0.16.0.,True,{}
uTox/uTox,https://github.com/uTox/uTox,963,2017-06-28T19:03:25Z,2017-08-29T18:59:48Z,2017-08-29T18:59:48Z,MERGED,True,37,10,5,https://github.com/dkmoz,Log call info to disk,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/963,https://github.com/robinlinden,18,https://github.com/uTox/uTox/pull/963#issuecomment-325762211,"Call start, end and the duration is logged. Fixes #322 and #238 (partly)


This change is‚ÄÇ","Reviewed 2 of 3 files at r3, 1 of 1 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/965,"Fixes #793

This change is‚ÄÇ","Fixes #793

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/965#issuecomment-312168922,"Fixes #793

This change is‚ÄÇ","Reviewed 8 of 8 files at r1, 4 of 4 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/965#issuecomment-312518118,"Fixes #793

This change is‚ÄÇ","Reviewed 3 of 8 files at r1, 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

src/settings.c, line 69 at r2 (raw file):

    .magic_flist_enabled    = false,

    .video_fps              = 40, /* 25 fps */

= 25 This is frames, not milliseconds.

src/settings.c, line 211 at r2 (raw file):

    edit_video_fps.length =
        snprintf((char*)edit_video_fps.data, edit_video_fps.maxlength + 1, ""%u"", save->video_fps);

char * (space)

src/settings.c, line 212 at r2 (raw file):

    edit_video_fps.length =
        snprintf((char*)edit_video_fps.data, edit_video_fps.maxlength + 1, ""%u"", save->video_fps);
    if (edit_video_fps.length >= edit_video_fps.maxlength + 1) {

> edit_video_fps.maxlength

src/settings.h, line 125 at r2 (raw file):

    uint16_t language;

    uint32_t video_fps;

Do we really need to allow for a framerate up to ~4 billion? An uint8_t or 16 would be enough in my opinion.

src/layout/settings.c, line 1101 at r2 (raw file):

{
    edit_video_fps.data[edit_video_fps.length] = 0;
    long tmp = strtol((char*)edit_video_fps.data, NULL, 0);

char *

src/layout/settings.c, line 1105 at r2 (raw file):

        settings.video_fps = 25;
        edit_video_fps.length =
            snprintf((char*)edit_video_fps.data, edit_video_fps.maxlength + 1, ""25"");

char *

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/dkmoz,4,https://github.com/uTox/uTox/pull/965#issuecomment-312586619,"Fixes #793

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

src/settings.c, line 69 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
= 25 This is frames, not milliseconds.

Done.

src/settings.c, line 211 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
char * (space)

Done.

src/settings.c, line 212 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
> edit_video_fps.maxlength

Done.

src/settings.h, line 125 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Do we really need to allow for a framerate up to ~4 billion? An uint8_t or 16 would be enough in my opinion.

Done.

src/layout/settings.c, line 1101 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
char *

Done.

src/layout/settings.c, line 1105 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
char *

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/965#issuecomment-312707620,"Fixes #793

This change is‚ÄÇ","Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

src/settings.h, line 126 at r3 (raw file):

    uint8_t  video_fps;
    uint16_t unused[25];

This needs to be bumped back up.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/dkmoz,6,https://github.com/uTox/uTox/pull/965#issuecomment-312720030,"Fixes #793

This change is‚ÄÇ","Reviewed 4 of 8 files at r1, 1 of 4 files at r2, 3 of 3 files at r3.
Review status: 7 of 8 files reviewed at latest revision, 7 unresolved discussions.

src/settings.h, line 126 at r3 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
This needs to be bumped back up.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/965#issuecomment-312724934,"Fixes #793

This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/965#issuecomment-312731451,"Fixes #793

This change is‚ÄÇ","Reviewed 1 of 8 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/settings.c, line 212 at r2 (raw file):
Previously, dkmoz wrote‚Ä¶
Done.

This will run unnecessarily now. You need to change >= to > too. :P It was just a style nit. Sorry for not making that clear.

src/settings.h, line 125 at r2 (raw file):
Previously, dkmoz wrote‚Ä¶
Done.

You also need to add an uint8_t unused; or you'll change the size of the savefile.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/965#issuecomment-312731528,"Fixes #793

This change is‚ÄÇ","Reviewed 2 of 3 files at r3, 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/dkmoz,10,https://github.com/uTox/uTox/pull/965#issuecomment-313309545,"Fixes #793

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/settings.c, line 212 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This will run unnecessarily now. You need to change >= to > too. :P It was just a style nit. Sorry for not making that clear.

Done.

src/settings.h, line 125 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You also need to add an uint8_t unused; or you'll change the size of the savefile.

Add another variable in there (eg unused_half) or change the type of unused to uint8_t?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/dkmoz,11,https://github.com/uTox/uTox/pull/965#issuecomment-313310349,"Fixes #793

This change is‚ÄÇ","Review status: 7 of 8 files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/settings.h, line 125 at r2 (raw file):
Previously, dkmoz wrote‚Ä¶
Add another variable in there (eg unused_half) or change the type of unused to uint8_t?

I think the latter would be cleaner

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/965#issuecomment-313327655,"Fixes #793

This change is‚ÄÇ","I'm fine with you changing the type to `uint8_t`. I think we've done the
half unused thing somewhere else and called them zeros.
‚Ä¶
On Thu, 6 Jul 2017, 08:44 dkmoz, ***@***.***> wrote:
 Review status: 7 of 8 files reviewed at latest revision, 2 unresolved
 discussions, some commit checks failed.
 ------------------------------

 *src/settings.h, line 125 at r2
 <https://reviewable.io:443/reviews/utox/utox/965#-Ko4B5aUqiu4OiI9u2O1:-KoLcvfcyuZ0aR_7orNK:b-v2p5uf>
 (raw file
 <https://github.com/utox/utox/blob/6cb89571613a44819faf592fd527b6d17dd82e3d/src/settings.h#L125>):*
 *Previously, dkmoz wrote‚Ä¶*

 Add another variable in there (eg unused_half) or change the type of
 unused to uint8_t?

 I think the latter would be cleaner
 ------------------------------

 *Comments from Reviewable
 <https://reviewable.io:443/reviews/utox/utox/965>*

 ‚Äî
 You are receiving this because you commented.


 Reply to this email directly, view it on GitHub
 <#965 (comment)>, or mute
 the thread
 <https://github.com/notifications/unsubscribe-auth/AH63TjvQrpfkYThrMTjX2c-g84W1ZFkEks5sLII3gaJpZM4OJuGf>
 .",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/965#issuecomment-315514071,"Fixes #793

This change is‚ÄÇ","Reviewed 1 of 1 files at r5, 1 of 1 files at r6.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/dkmoz,14,https://github.com/uTox/uTox/pull/965#issuecomment-315514179,"Fixes #793

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/settings.h, line 125 at r2 (raw file):
Previously, dkmoz wrote‚Ä¶
I think the latter would be cleaner

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/robinlinden,15,https://github.com/uTox/uTox/pull/965#issuecomment-316965986,"Fixes #793

This change is‚ÄÇ","This looks ~ready to be merged. @endoffile78 can you take another look?
@dkmoz can you rebase this so the CI passes?

Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/layout/settings.c, line 1099 at r6 (raw file):

static void edit_video_fps_onlosefocus(EDIT *UNUSED(edit))
{

This needs to be moved to the line above.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/endoffile78,16,https://github.com/uTox/uTox/pull/965#issuecomment-317044109,"Fixes #793

This change is‚ÄÇ","Reviewed 1 of 1 files at r5, 1 of 1 files at r6, 1 of 1 files at r7.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,965,2017-06-29T18:49:33Z,2017-07-21T16:19:33Z,2017-08-20T18:54:29Z,MERGED,True,49,7,8,https://github.com/dkmoz,Add video fps control to av settings,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/965,https://github.com/robinlinden,17,https://github.com/uTox/uTox/pull/965#issuecomment-317044472,"Fixes #793

This change is‚ÄÇ","Reviewed 1 of 1 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,966,2017-06-29T19:26:37Z,2017-06-29T20:01:26Z,2017-06-29T20:01:26Z,MERGED,True,1,0,1,https://github.com/dkmoz,Add info to readme,1,[],https://github.com/uTox/uTox/pull/966,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/966,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,966,2017-06-29T19:26:37Z,2017-06-29T20:01:26Z,2017-06-29T20:01:26Z,MERGED,True,1,0,1,https://github.com/dkmoz,Add info to readme,1,[],https://github.com/uTox/uTox/pull/966,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/966#issuecomment-312084963,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,966,2017-06-29T19:26:37Z,2017-06-29T20:01:26Z,2017-06-29T20:01:26Z,MERGED,True,1,0,1,https://github.com/dkmoz,Add info to readme,1,[],https://github.com/uTox/uTox/pull/966,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/966#issuecomment-312087764,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,968,2017-06-30T20:06:15Z,2017-10-21T01:40:33Z,2017-10-21T01:40:33Z,MERGED,True,76,9,9,https://github.com/dkmoz,Add friend by public key,3,['PR: READY'],https://github.com/uTox/uTox/pull/968,https://github.com/dkmoz,1,https://github.com/uTox/uTox/pull/968,"Fixes #967


This change is‚ÄÇ","Fixes #967


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,968,2017-06-30T20:06:15Z,2017-10-21T01:40:33Z,2017-10-21T01:40:33Z,MERGED,True,76,9,9,https://github.com/dkmoz,Add friend by public key,3,['PR: READY'],https://github.com/uTox/uTox/pull/968,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/968#issuecomment-312708478,"Fixes #967


This change is‚ÄÇ","Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/friend.c, line 480 at r1 (raw file):

    } else if (length_cleaned == 64) { /* public key length */
        string_to_id(id, (char*)name_cleaned);
        uint8_t *data = calloc(sizeof(uint8_t), TOX_PUBLIC_KEY_SIZE);

Make sure memory was allocated

src/tox.c, line 743 at r1 (raw file):

                char hex_id[TOX_ADDRESS_SIZE * 2];
                id_to_string(hex_id, data);
                LOG_TRACE(""Toxcore"", ""Unable to accept friend %s, error num = %i"" , hex_id, fid);

free data here. It's freed after sending it with postmessage_utox but not if the there is an error.

src/utox.c, line 468 at r1 (raw file):

                FRIEND *f = get_friend(param2);
                if (!f) {
                    LOG_ERR(""uTox"", ""Could not get friend with number: %u"", param2);

free data

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,968,2017-06-30T20:06:15Z,2017-10-21T01:40:33Z,2017-10-21T01:40:33Z,MERGED,True,76,9,9,https://github.com/dkmoz,Add friend by public key,3,['PR: READY'],https://github.com/uTox/uTox/pull/968,https://github.com/dkmoz,3,https://github.com/uTox/uTox/pull/968#issuecomment-312721251,"Fixes #967


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.

src/friend.c, line 480 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Make sure memory was allocated

Done.

src/tox.c, line 743 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
free data here. It's freed after sending it with postmessage_utox but not if the there is an error.

Done.

src/utox.c, line 468 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
free data

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,968,2017-06-30T20:06:15Z,2017-10-21T01:40:33Z,2017-10-21T01:40:33Z,MERGED,True,76,9,9,https://github.com/dkmoz,Add friend by public key,3,['PR: READY'],https://github.com/uTox/uTox/pull/968,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/968#issuecomment-312724012,"Fixes #967


This change is‚ÄÇ","Reviewed 3 of 3 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,968,2017-06-30T20:06:15Z,2017-10-21T01:40:33Z,2017-10-21T01:40:33Z,MERGED,True,76,9,9,https://github.com/dkmoz,Add friend by public key,3,['PR: READY'],https://github.com/uTox/uTox/pull/968,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/968#issuecomment-317048105,"Fixes #967


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,968,2017-06-30T20:06:15Z,2017-10-21T01:40:33Z,2017-10-21T01:40:33Z,MERGED,True,76,9,9,https://github.com/dkmoz,Add friend by public key,3,['PR: READY'],https://github.com/uTox/uTox/pull/968,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/968#issuecomment-321065743,"Fixes #967


This change is‚ÄÇ",Assigning this to 0.17.0 since it adds more strings and we already have translations done for 0.16.0.,True,{}
uTox/uTox,https://github.com/uTox/uTox,968,2017-06-30T20:06:15Z,2017-10-21T01:40:33Z,2017-10-21T01:40:33Z,MERGED,True,76,9,9,https://github.com/dkmoz,Add friend by public key,3,['PR: READY'],https://github.com/uTox/uTox/pull/968,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/968#issuecomment-324438300,"Fixes #967


This change is‚ÄÇ","Reviewed 6 of 9 files at r1, 2 of 3 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/friend.c, line 478 at r3 (raw file):

    if (length_cleaned == TOX_ADDRESS_SIZE * 2 && string_to_id(id, (char *)name_cleaned)) {
        friend_addid(id, msg, msg_length);
    } else if (length_cleaned == 64) { /* public key length */

TOX_PUBLIC_KEY_SIZE * 2

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,968,2017-06-30T20:06:15Z,2017-10-21T01:40:33Z,2017-10-21T01:40:33Z,MERGED,True,76,9,9,https://github.com/dkmoz,Add friend by public key,3,['PR: READY'],https://github.com/uTox/uTox/pull/968,https://github.com/dkmoz,8,https://github.com/uTox/uTox/pull/968#issuecomment-324533934,"Fixes #967


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/friend.c, line 478 at r3 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
TOX_PUBLIC_KEY_SIZE * 2

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,968,2017-06-30T20:06:15Z,2017-10-21T01:40:33Z,2017-10-21T01:40:33Z,MERGED,True,76,9,9,https://github.com/dkmoz,Add friend by public key,3,['PR: READY'],https://github.com/uTox/uTox/pull/968,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/968#issuecomment-324540717,"Fixes #967


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,968,2017-06-30T20:06:15Z,2017-10-21T01:40:33Z,2017-10-21T01:40:33Z,MERGED,True,76,9,9,https://github.com/dkmoz,Add friend by public key,3,['PR: READY'],https://github.com/uTox/uTox/pull/968,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/968#issuecomment-324685108,"Fixes #967


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,969,2017-07-03T18:57:31Z,2017-07-03T19:21:46Z,2018-03-10T18:27:29Z,MERGED,True,8,3,1,https://github.com/endoffile78,Fix false positive,1,[],https://github.com/uTox/uTox/pull/969,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/969,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,969,2017-07-03T18:57:31Z,2017-07-03T19:21:46Z,2018-03-10T18:27:29Z,MERGED,True,8,3,1,https://github.com/endoffile78,Fix false positive,1,[],https://github.com/uTox/uTox/pull/969,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/969#issuecomment-312717620,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,969,2017-07-03T18:57:31Z,2017-07-03T19:21:46Z,2018-03-10T18:27:29Z,MERGED,True,8,3,1,https://github.com/endoffile78,Fix false positive,1,[],https://github.com/uTox/uTox/pull/969,https://github.com/dkmoz,3,https://github.com/uTox/uTox/pull/969#issuecomment-312717736,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,969,2017-07-03T18:57:31Z,2017-07-03T19:21:46Z,2018-03-10T18:27:29Z,MERGED,True,8,3,1,https://github.com/endoffile78,Fix false positive,1,[],https://github.com/uTox/uTox/pull/969,https://github.com/dkmoz,4,https://github.com/uTox/uTox/pull/969#issuecomment-312718001,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,971,2017-07-20T12:42:06Z,2017-07-21T09:53:44Z,2017-07-23T14:35:08Z,MERGED,True,7,1,1,https://github.com/publicarray,Default OS X ASAN to off,1,[],https://github.com/uTox/uTox/pull/971,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/971,"Changes default ASAN option to OFF on macOS.


This change is‚ÄÇ","Changes default ASAN option to OFF on macOS.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,971,2017-07-20T12:42:06Z,2017-07-21T09:53:44Z,2017-07-23T14:35:08Z,MERGED,True,7,1,1,https://github.com/publicarray,Default OS X ASAN to off,1,[],https://github.com/uTox/uTox/pull/971,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/971#issuecomment-316766946,"Changes default ASAN option to OFF on macOS.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 223 at r1 (raw file):

# https://github.com/google/sanitizers/wiki/AddressSanitizer
if (ENABLE_ASAN)
    if (UTOX_STATIC AND WINDOWS)

Can you default it to off on static Windows too?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,971,2017-07-20T12:42:06Z,2017-07-21T09:53:44Z,2017-07-23T14:35:08Z,MERGED,True,7,1,1,https://github.com/publicarray,Default OS X ASAN to off,1,[],https://github.com/uTox/uTox/pull/971,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/971#issuecomment-316772673,"Changes default ASAN option to OFF on macOS.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,971,2017-07-20T12:42:06Z,2017-07-21T09:53:44Z,2017-07-23T14:35:08Z,MERGED,True,7,1,1,https://github.com/publicarray,Default OS X ASAN to off,1,[],https://github.com/uTox/uTox/pull/971,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/971#issuecomment-316958502,"Changes default ASAN option to OFF on macOS.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

CMakeLists.txt, line 223 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Can you default it to off on static Windows too?

I thought about it and I'll merge this as-is. This solves the CI not passing issue so I want it in ASAP. ^ can be a new PR.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,971,2017-07-20T12:42:06Z,2017-07-21T09:53:44Z,2017-07-23T14:35:08Z,MERGED,True,7,1,1,https://github.com/publicarray,Default OS X ASAN to off,1,[],https://github.com/uTox/uTox/pull/971,https://github.com/publicarray,5,https://github.com/uTox/uTox/pull/971#issuecomment-316973205,"Changes default ASAN option to OFF on macOS.


This change is‚ÄÇ","CMakeLists.txt, line 223 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I thought about it and I'll merge this as-is. This solves the CI not passing issue so I want it in ASAP. ^ can be a new PR.

Cool. No worries, I've submitted a new PR for windows.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,974,2017-07-21T10:53:30Z,2017-07-21T16:17:37Z,2017-07-21T21:38:38Z,MERGED,True,21,33,4,https://github.com/publicarray,Disable asan on static Windows builds,2,[],https://github.com/uTox/uTox/pull/974,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/974,"By default disable ASAN on static builds. Sorry for the delay, I had a ton of windows updates on my VM.


This change is‚ÄÇ","By default disable ASAN on static builds. Sorry for the delay, I had a ton of windows updates on my VM.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,974,2017-07-21T10:53:30Z,2017-07-21T16:17:37Z,2017-07-21T21:38:38Z,MERGED,True,21,33,4,https://github.com/publicarray,Disable asan on static Windows builds,2,[],https://github.com/uTox/uTox/pull/974,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/974#issuecomment-316972185,"By default disable ASAN on static builds. Sorry for the delay, I had a ton of windows updates on my VM.


This change is‚ÄÇ","Can you remove the asan magic in cmake/win.cmake too?
And no need to apologise. Thank you so much for the PRs. :P

Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,974,2017-07-21T10:53:30Z,2017-07-21T16:17:37Z,2017-07-21T21:38:38Z,MERGED,True,21,33,4,https://github.com/publicarray,Disable asan on static Windows builds,2,[],https://github.com/uTox/uTox/pull/974,https://github.com/publicarray,3,https://github.com/uTox/uTox/pull/974#issuecomment-316974532,"By default disable ASAN on static builds. Sorry for the delay, I had a ton of windows updates on my VM.


This change is‚ÄÇ","Sure thing.
Thanks for the kind words :P

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,974,2017-07-21T10:53:30Z,2017-07-21T16:17:37Z,2017-07-21T21:38:38Z,MERGED,True,21,33,4,https://github.com/publicarray,Disable asan on static Windows builds,2,[],https://github.com/uTox/uTox/pull/974,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/974#issuecomment-316985651,"By default disable ASAN on static builds. Sorry for the delay, I had a ton of windows updates on my VM.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,974,2017-07-21T10:53:30Z,2017-07-21T16:17:37Z,2017-07-21T21:38:38Z,MERGED,True,21,33,4,https://github.com/publicarray,Disable asan on static Windows builds,2,[],https://github.com/uTox/uTox/pull/974,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/974#issuecomment-317044593,"By default disable ASAN on static builds. Sorry for the delay, I had a ton of windows updates on my VM.


This change is‚ÄÇ","Reviewed 3 of 3 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,974,2017-07-21T10:53:30Z,2017-07-21T16:17:37Z,2017-07-21T21:38:38Z,MERGED,True,21,33,4,https://github.com/publicarray,Disable asan on static Windows builds,2,[],https://github.com/uTox/uTox/pull/974,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/974#issuecomment-317102604,"By default disable ASAN on static builds. Sorry for the delay, I had a ton of windows updates on my VM.


This change is‚ÄÇ","CMakeLists.txt, line 58 at r2 (raw file):

option(TOXCORE_STATIC       ""Build uTox with the static version of Toxcore""                 OFF)

if (APPLE OR (UTOX_STATIC AND WINDOWS)) # disable ASAN for macOS due to ""AddressSanitizer: odr-violation: global"". see #957

I don't like this here, it breaks the options into two blocks, hindering readability

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,974,2017-07-21T10:53:30Z,2017-07-21T16:17:37Z,2017-07-21T21:38:38Z,MERGED,True,21,33,4,https://github.com/publicarray,Disable asan on static Windows builds,2,[],https://github.com/uTox/uTox/pull/974,https://github.com/publicarray,7,https://github.com/uTox/uTox/pull/974#issuecomment-317118499,"By default disable ASAN on static builds. Sorry for the delay, I had a ton of windows updates on my VM.


This change is‚ÄÇ","CMakeLists.txt, line 58 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I don't like this here, it breaks the options into two blocks, hindering readability

Yea good point, I wasn't fond of this either. Would this be any better? or do you have a better suggestion?
option(UTOX_STATIC          ""Link uTox statically""                                          OFF)
option(TOXCORE_STATIC       ""Build uTox with the static version of Toxcore""                 OFF)

option(ENABLE_TESTS         ""Whether to build test binaries (currently linux only)""         ON )
option(ENABLE_WERROR        ""Error on Warning, whether to put -Werror flag to the compiler"" OFF)
option(ENABLE_FILTERAUDIO   ""Enable Filter Audio""                                           ON )
option(ENABLE_AUTOUPDATE    ""Enable Auto-updater""                                           OFF)

option(ENABLE_LTO           ""Enable link time optimizations""                                ON )

# disable ASAN for macOS due to ""AddressSanitizer: odr-violation: global"". see #957
if (APPLE OR (UTOX_STATIC AND WINDOWS))
    set(ASAN_DEFAULT OFF)
else()
    set(ASAN_DEFAULT ON)
endif()

option(ENABLE_ASAN          ""Enable Address Sanitizer on debug builds""          ${ASAN_DEFAULT})

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,975,2017-07-21T12:13:17Z,2017-07-21T16:23:11Z,2017-08-26T13:09:53Z,MERGED,True,476,23,1,https://github.com/robinlinden,Update Swedish translation for 0.16.0,1,[],https://github.com/uTox/uTox/pull/975,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/975,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,975,2017-07-21T12:13:17Z,2017-07-21T16:23:11Z,2017-08-26T13:09:53Z,MERGED,True,476,23,1,https://github.com/robinlinden,Update Swedish translation for 0.16.0,1,[],https://github.com/uTox/uTox/pull/975,https://github.com/dkmoz,2,https://github.com/uTox/uTox/pull/975#issuecomment-317018471,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,975,2017-07-21T12:13:17Z,2017-07-21T16:23:11Z,2017-08-26T13:09:53Z,MERGED,True,476,23,1,https://github.com/robinlinden,Update Swedish translation for 0.16.0,1,[],https://github.com/uTox/uTox/pull/975,https://github.com/dkmoz,3,https://github.com/uTox/uTox/pull/975#issuecomment-317018576,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,975,2017-07-21T12:13:17Z,2017-07-21T16:23:11Z,2017-08-26T13:09:53Z,MERGED,True,476,23,1,https://github.com/robinlinden,Update Swedish translation for 0.16.0,1,[],https://github.com/uTox/uTox/pull/975,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/975#issuecomment-317045835,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,976,2017-07-21T14:15:46Z,2017-07-21T16:25:13Z,2017-07-21T17:40:03Z,MERGED,True,21,0,1,https://github.com/sfan5,Update German translation,1,[],https://github.com/uTox/uTox/pull/976,https://github.com/sfan5,1,https://github.com/uTox/uTox/pull/976,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,976,2017-07-21T14:15:46Z,2017-07-21T16:25:13Z,2017-07-21T17:40:03Z,MERGED,True,21,0,1,https://github.com/sfan5,Update German translation,1,[],https://github.com/uTox/uTox/pull/976,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/976#issuecomment-317016307,This change is‚ÄÇ,"Sweet! Thank you so much! 

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,976,2017-07-21T14:15:46Z,2017-07-21T16:25:13Z,2017-07-21T17:40:03Z,MERGED,True,21,0,1,https://github.com/sfan5,Update German translation,1,[],https://github.com/uTox/uTox/pull/976,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/976#issuecomment-317046258,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,977,2017-07-22T18:34:11Z,2017-07-24T18:45:55Z,2017-08-10T21:39:11Z,MERGED,True,1,1,2,https://github.com/robinlinden,Fix Ukrainian language code.,1,[],https://github.com/uTox/uTox/pull/977,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/977,"Big thanks to @v2e for noticing it!


This change is‚ÄÇ","Big thanks to @v2e for noticing it!


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,977,2017-07-22T18:34:11Z,2017-07-24T18:45:55Z,2017-08-10T21:39:11Z,MERGED,True,1,1,2,https://github.com/robinlinden,Fix Ukrainian language code.,1,[],https://github.com/uTox/uTox/pull/977,https://github.com/dkmoz,2,https://github.com/uTox/uTox/pull/977#issuecomment-317202246,"Big thanks to @v2e for noticing it!


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,977,2017-07-22T18:34:11Z,2017-07-24T18:45:55Z,2017-08-10T21:39:11Z,MERGED,True,1,1,2,https://github.com/robinlinden,Fix Ukrainian language code.,1,[],https://github.com/uTox/uTox/pull/977,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/977#issuecomment-317210177,"Big thanks to @v2e for noticing it!


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,980,2017-07-30T10:00:50Z,2017-08-20T18:25:32Z,2017-08-20T18:25:32Z,CLOSED,False,154,109,41,https://github.com/JamesC1,Typedefs for c99 compilers,3,[],https://github.com/uTox/uTox/pull/980,https://github.com/JamesC1,1,https://github.com/uTox/uTox/pull/980,"Further to:
#979
please find attached a set of commits which (with some hacks to the cmake, which I'm still playing with, and don't link yet) appear to allow me to build all of the source for an X11 version of uTox.


This change is‚ÄÇ","Further to:
#979
please find attached a set of commits which (with some hacks to the cmake, which I'm still playing with, and don't link yet) appear to allow me to build all of the source for an X11 version of uTox.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,980,2017-07-30T10:00:50Z,2017-08-20T18:25:32Z,2017-08-20T18:25:32Z,CLOSED,False,154,109,41,https://github.com/JamesC1,Typedefs for c99 compilers,3,[],https://github.com/uTox/uTox/pull/980,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/980#issuecomment-321646371,"Further to:
#979
please find attached a set of commits which (with some hacks to the cmake, which I'm still playing with, and don't link yet) appear to allow me to build all of the source for an X11 version of uTox.


This change is‚ÄÇ","Per IRC, this needs to be split into multiple files before it can be merged. I'll get to it eventually if no other contributor does.",True,{}
uTox/uTox,https://github.com/uTox/uTox,980,2017-07-30T10:00:50Z,2017-08-20T18:25:32Z,2017-08-20T18:25:32Z,CLOSED,False,154,109,41,https://github.com/JamesC1,Typedefs for c99 compilers,3,[],https://github.com/uTox/uTox/pull/980,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/980#issuecomment-323602536,"Further to:
#979
please find attached a set of commits which (with some hacks to the cmake, which I'm still playing with, and don't link yet) appear to allow me to build all of the source for an X11 version of uTox.


This change is‚ÄÇ","I don't want a typedef.h file. But because this needs to be broken into smaller commits for review, you said you're still working with cmake, and there's been no update in 21 days. I'm going to close this.
Anyone can reopen it for discussion or to continue committing.",True,{}
uTox/uTox,https://github.com/uTox/uTox,983,2017-08-06T10:08:45Z,2017-08-07T20:30:39Z,2017-08-07T20:30:45Z,MERGED,True,50,32,2,https://github.com/robinlinden,Clean up CMakeLists.txt.,1,[],https://github.com/uTox/uTox/pull/983,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/983,"Fixes #978


This change is‚ÄÇ","Fixes #978


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,983,2017-08-06T10:08:45Z,2017-08-07T20:30:39Z,2017-08-07T20:30:45Z,MERGED,True,50,32,2,https://github.com/robinlinden,Clean up CMakeLists.txt.,1,[],https://github.com/uTox/uTox/pull/983,https://github.com/dkmoz,2,https://github.com/uTox/uTox/pull/983#issuecomment-320500564,"Fixes #978


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,983,2017-08-06T10:08:45Z,2017-08-07T20:30:39Z,2017-08-07T20:30:45Z,MERGED,True,50,32,2,https://github.com/robinlinden,Clean up CMakeLists.txt.,1,[],https://github.com/uTox/uTox/pull/983,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/983#issuecomment-320512621,"Fixes #978


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,983,2017-08-06T10:08:45Z,2017-08-07T20:30:39Z,2017-08-07T20:30:45Z,MERGED,True,50,32,2,https://github.com/robinlinden,Clean up CMakeLists.txt.,1,[],https://github.com/uTox/uTox/pull/983,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/983#issuecomment-320512763,"Fixes #978


This change is‚ÄÇ","The windows travis failed.

Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,983,2017-08-06T10:08:45Z,2017-08-07T20:30:39Z,2017-08-07T20:30:45Z,MERGED,True,50,32,2,https://github.com/robinlinden,Clean up CMakeLists.txt.,1,[],https://github.com/uTox/uTox/pull/983,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/983#issuecomment-320524484,"Fixes #978


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,984,2017-08-07T17:27:11Z,2017-08-07T19:18:48Z,2017-08-07T20:21:09Z,MERGED,True,6,4,2,https://github.com/robinlinden,Opus 1.1.4 -> 1.2.1,2,[],https://github.com/uTox/uTox/pull/984,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/984,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,984,2017-08-07T17:27:11Z,2017-08-07T19:18:48Z,2017-08-07T20:21:09Z,MERGED,True,6,4,2,https://github.com/robinlinden,Opus 1.1.4 -> 1.2.1,2,[],https://github.com/uTox/uTox/pull/984,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/984#issuecomment-320727584,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

extra/common/build_opus.sh, line 7 at r1 (raw file):

  curl http://downloads.xiph.org/releases/opus/opus-1.2.1.tar.gz -o opus.tar.gz
  tar xzf opus.tar.gz
  cd opus-1.2.1

should be a $VAR at the top of the file

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,984,2017-08-07T17:27:11Z,2017-08-07T19:18:48Z,2017-08-07T20:21:09Z,MERGED,True,6,4,2,https://github.com/robinlinden,Opus 1.1.4 -> 1.2.1,2,[],https://github.com/uTox/uTox/pull/984,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/984#issuecomment-320731186,This change is‚ÄÇ,"Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,984,2017-08-07T17:27:11Z,2017-08-07T19:18:48Z,2017-08-07T20:21:09Z,MERGED,True,6,4,2,https://github.com/robinlinden,Opus 1.1.4 -> 1.2.1,2,[],https://github.com/uTox/uTox/pull/984,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/984#issuecomment-320741889,This change is‚ÄÇ,"Reviewed 1 of 2 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,984,2017-08-07T17:27:11Z,2017-08-07T19:18:48Z,2017-08-07T20:21:09Z,MERGED,True,6,4,2,https://github.com/robinlinden,Opus 1.1.4 -> 1.2.1,2,[],https://github.com/uTox/uTox/pull/984,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/984#issuecomment-320751168,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

extra/common/build_opus.sh, line 7 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
should be a $VAR at the top of the file

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,984,2017-08-07T17:27:11Z,2017-08-07T19:18:48Z,2017-08-07T20:21:09Z,MERGED,True,6,4,2,https://github.com/robinlinden,Opus 1.1.4 -> 1.2.1,2,[],https://github.com/uTox/uTox/pull/984,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/984#issuecomment-320754811,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,987,2017-08-12T14:49:15Z,2017-08-20T19:02:57Z,2017-08-20T19:51:32Z,MERGED,True,9,1,3,https://github.com/robinlinden,Let cmake update the man file version.,2,[],https://github.com/uTox/uTox/pull/987,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/987,"Month isn't being autogenerated since these files are checked into git and month doesn't only change when we make a new release.


This change is‚ÄÇ","Month isn't being autogenerated since these files are checked into git and month doesn't only change when we make a new release.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,987,2017-08-12T14:49:15Z,2017-08-20T19:02:57Z,2017-08-20T19:51:32Z,MERGED,True,9,1,3,https://github.com/robinlinden,Let cmake update the man file version.,2,[],https://github.com/uTox/uTox/pull/987,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/987#issuecomment-322001897,"Month isn't being autogenerated since these files are checked into git and month doesn't only change when we make a new release.


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/utox.1, line 1 at r1 (raw file):

.TH UTOX ""1"" ""January 2017"" ""¬µTox 0.15.0""

Current month?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,987,2017-08-12T14:49:15Z,2017-08-20T19:02:57Z,2017-08-20T19:51:32Z,MERGED,True,9,1,3,https://github.com/robinlinden,Let cmake update the man file version.,2,[],https://github.com/uTox/uTox/pull/987,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/987#issuecomment-322050812,"Month isn't being autogenerated since these files are checked into git and month doesn't only change when we make a new release.


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,987,2017-08-12T14:49:15Z,2017-08-20T19:02:57Z,2017-08-20T19:51:32Z,MERGED,True,9,1,3,https://github.com/robinlinden,Let cmake update the man file version.,2,[],https://github.com/uTox/uTox/pull/987,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/987#issuecomment-323603239,"Month isn't being autogenerated since these files are checked into git and month doesn't only change when we make a new release.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/utox.1, line 1 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Current month?

done in extra commit

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,987,2017-08-12T14:49:15Z,2017-08-20T19:02:57Z,2017-08-20T19:51:32Z,MERGED,True,9,1,3,https://github.com/robinlinden,Let cmake update the man file version.,2,[],https://github.com/uTox/uTox/pull/987,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/987#issuecomment-323604677,"Month isn't being autogenerated since these files are checked into git and month doesn't only change when we make a new release.


This change is‚ÄÇ","Reviewed 2 of 3 files at r2, 2 of 2 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,987,2017-08-12T14:49:15Z,2017-08-20T19:02:57Z,2017-08-20T19:51:32Z,MERGED,True,9,1,3,https://github.com/robinlinden,Let cmake update the man file version.,2,[],https://github.com/uTox/uTox/pull/987,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/987#issuecomment-323604737,"Month isn't being autogenerated since these files are checked into git and month doesn't only change when we make a new release.


This change is‚ÄÇ","Reviewed 3 of 3 files at r2, 2 of 2 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,988,2017-08-20T18:11:01Z,2017-08-20T18:53:36Z,2017-08-20T18:53:45Z,MERGED,True,10,1,2,https://github.com/GrayHatter,Fix double sending of outgoing files,1,[],https://github.com/uTox/uTox/pull/988,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/988,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,988,2017-08-20T18:11:01Z,2017-08-20T18:53:36Z,2017-08-20T18:53:45Z,MERGED,True,10,1,2,https://github.com/GrayHatter,Fix double sending of outgoing files,1,[],https://github.com/uTox/uTox/pull/988,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/988#issuecomment-323602786,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,988,2017-08-20T18:11:01Z,2017-08-20T18:53:36Z,2017-08-20T18:53:45Z,MERGED,True,10,1,2,https://github.com/GrayHatter,Fix double sending of outgoing files,1,[],https://github.com/uTox/uTox/pull/988,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/988#issuecomment-323603968,This change is‚ÄÇ,@robinlinden,True,{}
uTox/uTox,https://github.com/uTox/uTox,988,2017-08-20T18:11:01Z,2017-08-20T18:53:36Z,2017-08-20T18:53:45Z,MERGED,True,10,1,2,https://github.com/GrayHatter,Fix double sending of outgoing files,1,[],https://github.com/uTox/uTox/pull/988,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/988#issuecomment-323604153,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,990,2017-08-20T19:39:33Z,2017-08-20T19:59:39Z,2017-08-20T19:59:46Z,MERGED,True,13,7,3,https://github.com/GrayHatter,Fix video thread lock on restart,3,[],https://github.com/uTox/uTox/pull/990,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/990,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,990,2017-08-20T19:39:33Z,2017-08-20T19:59:39Z,2017-08-20T19:59:46Z,MERGED,True,13,7,3,https://github.com/GrayHatter,Fix video thread lock on restart,3,[],https://github.com/uTox/uTox/pull/990,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/990#issuecomment-323607580,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,990,2017-08-20T19:39:33Z,2017-08-20T19:59:39Z,2017-08-20T19:59:46Z,MERGED,True,13,7,3,https://github.com/GrayHatter,Fix video thread lock on restart,3,[],https://github.com/uTox/uTox/pull/990,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/990#issuecomment-323607879,This change is‚ÄÇ,fixes #989,True,{}
uTox/uTox,https://github.com/uTox/uTox,990,2017-08-20T19:39:33Z,2017-08-20T19:59:39Z,2017-08-20T19:59:46Z,MERGED,True,13,7,3,https://github.com/GrayHatter,Fix video thread lock on restart,3,[],https://github.com/uTox/uTox/pull/990,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/990#issuecomment-323607919,This change is‚ÄÇ,"Reviewed 1 of 3 files at r2.
Review status: 1 of 3 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,991,2017-08-20T19:46:47Z,2017-08-20T19:54:33Z,2017-08-20T19:59:05Z,CLOSED,False,1,1,1,https://github.com/robinlinden,Fix logging in Windows audio.,1,[],https://github.com/uTox/uTox/pull/991,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/991,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,991,2017-08-20T19:46:47Z,2017-08-20T19:54:33Z,2017-08-20T19:59:05Z,CLOSED,False,1,1,1,https://github.com/robinlinden,Fix logging in Windows audio.,1,[],https://github.com/uTox/uTox/pull/991,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/991#issuecomment-323607695,This change is‚ÄÇ,,True,{}
uTox/uTox,https://github.com/uTox/uTox,991,2017-08-20T19:46:47Z,2017-08-20T19:54:33Z,2017-08-20T19:59:05Z,CLOSED,False,1,1,1,https://github.com/robinlinden,Fix logging in Windows audio.,1,[],https://github.com/uTox/uTox/pull/991,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/991#issuecomment-323607851,This change is‚ÄÇ,rolled into #990,True,{}
uTox/uTox,https://github.com/uTox/uTox,993,2017-08-20T21:16:43Z,2017-08-25T16:33:56Z,2017-08-25T16:34:03Z,MERGED,True,18,17,10,https://github.com/GrayHatter,Fix cmake so linux can cross compile all versions,1,[],https://github.com/uTox/uTox/pull/993,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/993,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,993,2017-08-20T21:16:43Z,2017-08-25T16:33:56Z,2017-08-25T16:34:03Z,MERGED,True,18,17,10,https://github.com/GrayHatter,Fix cmake so linux can cross compile all versions,1,[],https://github.com/uTox/uTox/pull/993,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/993#issuecomment-323621692,This change is‚ÄÇ,"Reviewed 7 of 8 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,993,2017-08-20T21:16:43Z,2017-08-25T16:33:56Z,2017-08-25T16:34:03Z,MERGED,True,18,17,10,https://github.com/GrayHatter,Fix cmake so linux can cross compile all versions,1,[],https://github.com/uTox/uTox/pull/993,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/993#issuecomment-324154946,This change is‚ÄÇ,"Reviewed 7 of 8 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 302 at r2 (raw file):

    ############################################################

    if(WIN32)

Always true here.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,993,2017-08-20T21:16:43Z,2017-08-25T16:33:56Z,2017-08-25T16:34:03Z,MERGED,True,18,17,10,https://github.com/GrayHatter,Fix cmake so linux can cross compile all versions,1,[],https://github.com/uTox/uTox/pull/993,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/993#issuecomment-324949970,This change is‚ÄÇ,"Review status: 7 of 10 files reviewed at latest revision, 1 unresolved discussion.

CMakeLists.txt, line 302 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Always true here.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,993,2017-08-20T21:16:43Z,2017-08-25T16:33:56Z,2017-08-25T16:34:03Z,MERGED,True,18,17,10,https://github.com/GrayHatter,Fix cmake so linux can cross compile all versions,1,[],https://github.com/uTox/uTox/pull/993,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/993#issuecomment-324963839,This change is‚ÄÇ,"Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,993,2017-08-20T21:16:43Z,2017-08-25T16:33:56Z,2017-08-25T16:34:03Z,MERGED,True,18,17,10,https://github.com/GrayHatter,Fix cmake so linux can cross compile all versions,1,[],https://github.com/uTox/uTox/pull/993,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/993#issuecomment-324971713,This change is‚ÄÇ,"Reviewed 3 of 3 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,994,2017-08-20T22:04:42Z,2017-08-22T20:17:42Z,2017-08-26T13:10:24Z,MERGED,True,13,5,2,https://github.com/robinlinden,Fix AV IO dropdowns breaking after Tox-thread restart.,1,[],https://github.com/uTox/uTox/pull/994,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/994,"Fixes #992


This change is‚ÄÇ","Fixes #992


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,994,2017-08-20T22:04:42Z,2017-08-22T20:17:42Z,2017-08-26T13:10:24Z,MERGED,True,13,5,2,https://github.com/robinlinden,Fix AV IO dropdowns breaking after Tox-thread restart.,1,[],https://github.com/uTox/uTox/pull/994,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/994#issuecomment-323621778,"Fixes #992


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,994,2017-08-20T22:04:42Z,2017-08-22T20:17:42Z,2017-08-26T13:10:24Z,MERGED,True,13,5,2,https://github.com/robinlinden,Fix AV IO dropdowns breaking after Tox-thread restart.,1,[],https://github.com/uTox/uTox/pull/994,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/994#issuecomment-324126819,"Fixes #992


This change is‚ÄÇ","Reviewed 1 of 2 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,994,2017-08-20T22:04:42Z,2017-08-22T20:17:42Z,2017-08-26T13:10:24Z,MERGED,True,13,5,2,https://github.com/robinlinden,Fix AV IO dropdowns breaking after Tox-thread restart.,1,[],https://github.com/uTox/uTox/pull/994,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/994#issuecomment-324139418,"Fixes #992


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,995,2017-08-20T22:11:01Z,2017-08-22T20:20:17Z,2017-08-26T13:10:24Z,MERGED,True,7,7,4,https://github.com/robinlinden,Release 0.16.1.,1,[],https://github.com/uTox/uTox/pull/995,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/995,"Merge after #994


This change is‚ÄÇ","Merge after #994


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,995,2017-08-20T22:11:01Z,2017-08-22T20:20:17Z,2017-08-26T13:10:24Z,MERGED,True,7,7,4,https://github.com/robinlinden,Release 0.16.1.,1,[],https://github.com/uTox/uTox/pull/995,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/995#issuecomment-323621870,"Merge after #994


This change is‚ÄÇ","Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,995,2017-08-20T22:11:01Z,2017-08-22T20:20:17Z,2017-08-26T13:10:24Z,MERGED,True,7,7,4,https://github.com/robinlinden,Release 0.16.1.,1,[],https://github.com/uTox/uTox/pull/995,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/995#issuecomment-324126935,"Merge after #994


This change is‚ÄÇ","Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,999,2017-08-21T21:50:39Z,2017-08-27T16:08:05Z,2017-08-27T18:46:32Z,MERGED,True,15,9,2,https://github.com/publicarray,update macOS release link,2,[],https://github.com/uTox/uTox/pull/999,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/999,"also OSX is now macOS
https://www.apple.com/au/macos/sierra/


This change is‚ÄÇ","also OSX is now macOS
https://www.apple.com/au/macos/sierra/


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,999,2017-08-21T21:50:39Z,2017-08-27T16:08:05Z,2017-08-27T18:46:32Z,MERGED,True,15,9,2,https://github.com/publicarray,update macOS release link,2,[],https://github.com/uTox/uTox/pull/999,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/999#issuecomment-324141763,"also OSX is now macOS
https://www.apple.com/au/macos/sierra/


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

README.md, line 18 at r1 (raw file):

 * [static x86](https://build.tox.chat/view/uTox/job/uTox_build_linux_x86_release/lastSuccessfulBuild/artifact/utox_linux_x86.tar.xz)
* **macOS**
 * [Last Updated .dmg](https://github.com/uTox/uTox/releases/download/v0.16.0/uTox-0.16.0.dmg) -- *could be out of date, check the version list below*

Should we add a latest folder for OSX so we dont have to update the link every release?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,999,2017-08-21T21:50:39Z,2017-08-27T16:08:05Z,2017-08-27T18:46:32Z,MERGED,True,15,9,2,https://github.com/publicarray,update macOS release link,2,[],https://github.com/uTox/uTox/pull/999,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/999#issuecomment-324143420,"also OSX is now macOS
https://www.apple.com/au/macos/sierra/


This change is‚ÄÇ",@endoffile78 I think ideally we'd host it on https://utox.io the same way we do for the other builds.,True,"{'THUMBS_UP': ['https://github.com/redmanmale', 'https://github.com/publicarray']}"
uTox/uTox,https://github.com/uTox/uTox,999,2017-08-21T21:50:39Z,2017-08-27T16:08:05Z,2017-08-27T18:46:32Z,MERGED,True,15,9,2,https://github.com/publicarray,update macOS release link,2,[],https://github.com/uTox/uTox/pull/999,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/999#issuecomment-325107604,"also OSX is now macOS
https://www.apple.com/au/macos/sierra/


This change is‚ÄÇ",Update this section too: https://github.com/uTox/uTox/blob/develop/docs/INSTALL.md#os-x,True,{}
uTox/uTox,https://github.com/uTox/uTox,999,2017-08-21T21:50:39Z,2017-08-27T16:08:05Z,2017-08-27T18:46:32Z,MERGED,True,15,9,2,https://github.com/publicarray,update macOS release link,2,[],https://github.com/uTox/uTox/pull/999,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/999#issuecomment-325181411,"also OSX is now macOS
https://www.apple.com/au/macos/sierra/


This change is‚ÄÇ","Reviewed 1 of 1 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,999,2017-08-21T21:50:39Z,2017-08-27T16:08:05Z,2017-08-27T18:46:32Z,MERGED,True,15,9,2,https://github.com/publicarray,update macOS release link,2,[],https://github.com/uTox/uTox/pull/999,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/999#issuecomment-325191884,"also OSX is now macOS
https://www.apple.com/au/macos/sierra/


This change is‚ÄÇ","Reviewed 1 of 1 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1003,2017-08-22T16:38:07Z,2017-08-25T15:56:35Z,2017-08-25T16:49:25Z,MERGED,True,7,1,1,https://github.com/redmanmale,Fix zenburn theme chat text color,1,[],https://github.com/uTox/uTox/pull/1003,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1003,"Fix #997.


This change is‚ÄÇ","Fix #997.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1003,2017-08-22T16:38:07Z,2017-08-25T15:56:35Z,2017-08-25T16:49:25Z,MERGED,True,7,1,1,https://github.com/redmanmale,Fix zenburn theme chat text color,1,[],https://github.com/uTox/uTox/pull/1003,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1003#issuecomment-324141263,"Fix #997.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1003,2017-08-22T16:38:07Z,2017-08-25T15:56:35Z,2017-08-25T16:49:25Z,MERGED,True,7,1,1,https://github.com/redmanmale,Fix zenburn theme chat text color,1,[],https://github.com/uTox/uTox/pull/1003,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1003#issuecomment-324962259,"Fix #997.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1005,2017-08-22T20:28:14Z,2017-08-24T16:17:13Z,2017-08-24T16:17:13Z,MERGED,True,20,12,6,https://github.com/endoffile78,Merge develop into master ,3,[],https://github.com/uTox/uTox/pull/1005,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1005,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1005,2017-08-22T20:28:14Z,2017-08-24T16:17:13Z,2017-08-24T16:17:13Z,MERGED,True,20,12,6,https://github.com/endoffile78,Merge develop into master ,3,[],https://github.com/uTox/uTox/pull/1005,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1005#issuecomment-324142585,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1, 4 of 4 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1006,2017-08-23T03:00:08Z,2017-08-25T15:54:29Z,2018-03-10T18:29:16Z,MERGED,True,136,1,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/1006,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1006,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1006,2017-08-23T03:00:08Z,2017-08-25T15:54:29Z,2018-03-10T18:29:16Z,MERGED,True,136,1,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/1006,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1006#issuecomment-324230426,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1006,2017-08-23T03:00:08Z,2017-08-25T15:54:29Z,2018-03-10T18:29:16Z,MERGED,True,136,1,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/1006,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1006#issuecomment-324961606,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1007,2017-08-23T19:12:17Z,2017-08-25T20:19:11Z,2017-08-25T20:23:38Z,MERGED,True,2,1,1,https://github.com/redmanmale,Update group notifications setting on start,2,[],https://github.com/uTox/uTox/pull/1007,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1007,"Fix #935.


This change is‚ÄÇ","Fix #935.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1007,2017-08-23T19:12:17Z,2017-08-25T20:19:11Z,2017-08-25T20:23:38Z,MERGED,True,2,1,1,https://github.com/redmanmale,Update group notifications setting on start,2,[],https://github.com/uTox/uTox/pull/1007,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1007#issuecomment-324488568,"Fix #935.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1007,2017-08-23T19:12:17Z,2017-08-25T20:19:11Z,2017-08-25T20:23:38Z,MERGED,True,2,1,1,https://github.com/redmanmale,Update group notifications setting on start,2,[],https://github.com/uTox/uTox/pull/1007,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1007#issuecomment-324961161,"Fix #935.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/settings.c, line 150 at r1 (raw file):

    switch_auto_update.switch_on        = save->auto_update;

    dropdown_global_group_notifications.selected = save->group_notifications;

Set this together with settings.group_notifications like how it's done for the theme dropdown and setting.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1007,2017-08-23T19:12:17Z,2017-08-25T20:19:11Z,2017-08-25T20:23:38Z,MERGED,True,2,1,1,https://github.com/redmanmale,Update group notifications setting on start,2,[],https://github.com/uTox/uTox/pull/1007,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1007#issuecomment-324966812,"Fix #935.


This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/settings.c, line 150 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Set this together with settings.group_notifications like how it's done for the theme dropdown and setting.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1007,2017-08-23T19:12:17Z,2017-08-25T20:19:11Z,2017-08-25T20:23:38Z,MERGED,True,2,1,1,https://github.com/redmanmale,Update group notifications setting on start,2,[],https://github.com/uTox/uTox/pull/1007,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/1007#issuecomment-324973153,"Fix #935.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1007,2017-08-23T19:12:17Z,2017-08-25T20:19:11Z,2017-08-25T20:23:38Z,MERGED,True,2,1,1,https://github.com/redmanmale,Update group notifications setting on start,2,[],https://github.com/uTox/uTox/pull/1007,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1007#issuecomment-325018696,"Fix #935.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1008,2017-08-24T17:07:43Z,2017-09-05T20:11:52Z,2017-09-05T20:12:28Z,MERGED,True,35,20,1,https://github.com/redmanmale,Fix save inline image dialog,2,[],https://github.com/uTox/uTox/pull/1008,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1008,"Allow Unicode path and update selected filename in UI.
Fix #1000.


This change is‚ÄÇ","Allow Unicode path and update selected filename in UI.
Fix #1000.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1008,2017-08-24T17:07:43Z,2017-09-05T20:11:52Z,2017-09-05T20:12:28Z,MERGED,True,35,20,1,https://github.com/redmanmale,Fix save inline image dialog,2,[],https://github.com/uTox/uTox/pull/1008,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1008#issuecomment-327011036,"Allow Unicode path and update selected filename in UI.
Fix #1000.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/windows/main.c, line 191 at r1 (raw file):

            fclose(file);

            msg->via.ft.path = calloc(1, UTOX_FILE_NAME_LENGTH);

Is via.ft.path empty for inlines? If not, this leaks whatever was in there before this assignent.

src/windows/main.c, line 192 at r1 (raw file):

            msg->via.ft.path = calloc(1, UTOX_FILE_NAME_LENGTH);
            if(!msg->via.ft.path) {

Space between if and condition.

src/windows/main.c, line 198 at r1 (raw file):

            }

            snprintf((char *) msg->via.ft.path, UTOX_FILE_NAME_LENGTH, ""%s"", path);

You can copy the path over (if it's null-terminated) using strdup.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1008,2017-08-24T17:07:43Z,2017-09-05T20:11:52Z,2017-09-05T20:12:28Z,MERGED,True,35,20,1,https://github.com/redmanmale,Fix save inline image dialog,2,[],https://github.com/uTox/uTox/pull/1008,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1008#issuecomment-327021034,"Allow Unicode path and update selected filename in UI.
Fix #1000.


This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 3 unresolved discussions.

src/windows/main.c, line 191 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Is via.ft.path empty for inlines? If not, this leaks whatever was in there before this assignent.

If I got it right it's null in case of inline.
https://github.com/uTox/uTox/blob/develop/src/messages.c#L379
But I could check for null before this assignment.

src/windows/main.c, line 192 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Space between if and condition.

Done.

src/windows/main.c, line 198 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You can copy the path over (if it's null-terminated) using strdup.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1008,2017-08-24T17:07:43Z,2017-09-05T20:11:52Z,2017-09-05T20:12:28Z,MERGED,True,35,20,1,https://github.com/redmanmale,Fix save inline image dialog,2,[],https://github.com/uTox/uTox/pull/1008,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1008#issuecomment-327021579,"Allow Unicode path and update selected filename in UI.
Fix #1000.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/windows/main.c, line 191 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
If I got it right it's null in case of inline.
https://github.com/uTox/uTox/blob/develop/src/messages.c#L379
But I could check for null before this assignment.

No need to check. You're right.

src/windows/main.c, line 199 at r2 (raw file):

            msg->via.ft.path = (uint8_t *)strdup(path);
            msg->via.ft.name = basename((char *) msg->via.ft.path);

I just realised that this can clobber via.ft.path, so if it's used anywhere else you need to make a copy to give to basename.
See e.g. musl libc's implementation for an example that actually does clobber the string you pass to basename: http://git.musl-libc.org/cgit/musl/tree/src/misc/basename.c

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1008,2017-08-24T17:07:43Z,2017-09-05T20:11:52Z,2017-09-05T20:12:28Z,MERGED,True,35,20,1,https://github.com/redmanmale,Fix save inline image dialog,2,[],https://github.com/uTox/uTox/pull/1008,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1008#issuecomment-327022991,"Allow Unicode path and update selected filename in UI.
Fix #1000.


This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/windows/main.c, line 199 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I just realised that this can clobber via.ft.path, so if it's used anywhere else you need to make a copy to give to basename.
See e.g. musl libc's implementation for an example that actually does clobber the string you pass to basename: http://git.musl-libc.org/cgit/musl/tree/src/misc/basename.c

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1008,2017-08-24T17:07:43Z,2017-09-05T20:11:52Z,2017-09-05T20:12:28Z,MERGED,True,35,20,1,https://github.com/redmanmale,Fix save inline image dialog,2,[],https://github.com/uTox/uTox/pull/1008,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/1008#issuecomment-327027478,"Allow Unicode path and update selected filename in UI.
Fix #1000.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1008,2017-08-24T17:07:43Z,2017-09-05T20:11:52Z,2017-09-05T20:12:28Z,MERGED,True,35,20,1,https://github.com/redmanmale,Fix save inline image dialog,2,[],https://github.com/uTox/uTox/pull/1008,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/1008#issuecomment-327221763,"Allow Unicode path and update selected filename in UI.
Fix #1000.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1008,2017-08-24T17:07:43Z,2017-09-05T20:11:52Z,2017-09-05T20:12:28Z,MERGED,True,35,20,1,https://github.com/redmanmale,Fix save inline image dialog,2,[],https://github.com/uTox/uTox/pull/1008,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/1008#issuecomment-327289105,"Allow Unicode path and update selected filename in UI.
Fix #1000.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1009,2017-08-24T19:45:15Z,2017-08-25T15:46:19Z,2018-03-10T18:27:32Z,MERGED,True,9,3,3,https://github.com/endoffile78,Fix GTK loading,1,[],https://github.com/uTox/uTox/pull/1009,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1009,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1009,2017-08-24T19:45:15Z,2017-08-25T15:46:19Z,2018-03-10T18:27:32Z,MERGED,True,9,3,3,https://github.com/endoffile78,Fix GTK loading,1,[],https://github.com/uTox/uTox/pull/1009,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1009#issuecomment-324740324,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/xlib/gtk.c, line 27 at r1 (raw file):

#include <string.h>

#define LIBGTK_FILENAME ""libgtk-3.so.0""

Revert back to libgtk-3.so, it's primary case.

src/xlib/gtk.c, line 429 at r1 (raw file):

    if (!lib) { //try again with libgtk-3.so.0 if the first one failed
        LOG_INFO(""GTK"", ""Failed loading: %s. Falling back to libgtk-3.so.0"", LIBGTK_FILENAME);
        lib = dlopen(""libgtk-3.so.0"", RTLD_LAZY);

Maybe new const i.e. LIBGTK_FILENAME_FALLBACK.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1009,2017-08-24T19:45:15Z,2017-08-25T15:46:19Z,2018-03-10T18:27:32Z,MERGED,True,9,3,3,https://github.com/endoffile78,Fix GTK loading,1,[],https://github.com/uTox/uTox/pull/1009,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1009#issuecomment-324770000,This change is‚ÄÇ,"Review status: 2 of 3 files reviewed at latest revision, 2 unresolved discussions.

src/xlib/gtk.c, line 27 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Revert back to libgtk-3.so, it's primary case.

Done.

src/xlib/gtk.c, line 429 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Maybe new const i.e. LIBGTK_FILENAME_FALLBACK.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1009,2017-08-24T19:45:15Z,2017-08-25T15:46:19Z,2018-03-10T18:27:32Z,MERGED,True,9,3,3,https://github.com/endoffile78,Fix GTK loading,1,[],https://github.com/uTox/uTox/pull/1009,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1009#issuecomment-324843176,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1009,2017-08-24T19:45:15Z,2017-08-25T15:46:19Z,2018-03-10T18:27:32Z,MERGED,True,9,3,3,https://github.com/endoffile78,Fix GTK loading,1,[],https://github.com/uTox/uTox/pull/1009,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1009#issuecomment-324949591,This change is‚ÄÇ,"Reviewed 2 of 3 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1010,2017-08-25T16:52:52Z,2017-10-31T17:40:30Z,2017-10-31T17:42:32Z,MERGED,True,12,1,3,https://github.com/redmanmale,Reload tray icon after Windows Explorer crash,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1010,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1010,"Fixes #1004.


This change is‚ÄÇ","Fixes #1004.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1010,2017-08-25T16:52:52Z,2017-10-31T17:40:30Z,2017-10-31T17:42:32Z,MERGED,True,12,1,3,https://github.com/redmanmale,Reload tray icon after Windows Explorer crash,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1010,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1010#issuecomment-324989467,"Fixes #1004.


This change is‚ÄÇ","I'd rather register the text when we use it. IIRC the default case isn't called that often so leaving that UINT in the ""global"" scope is 'naughty'",True,{}
uTox/uTox,https://github.com/uTox/uTox,1010,2017-08-25T16:52:52Z,2017-10-31T17:40:30Z,2017-10-31T17:42:32Z,MERGED,True,12,1,3,https://github.com/redmanmale,Reload tray icon after Windows Explorer crash,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1010,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1010#issuecomment-325004000,"Fixes #1004.


This change is‚ÄÇ","Default case is firing pretty often when I'm testing this.
And it doesn't work if that UINT is not static, I tried.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1010,2017-08-25T16:52:52Z,2017-10-31T17:40:30Z,2017-10-31T17:42:32Z,MERGED,True,12,1,3,https://github.com/redmanmale,Reload tray icon after Windows Explorer crash,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1010,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1010#issuecomment-338236870,"Fixes #1004.


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1010,2017-08-25T16:52:52Z,2017-10-31T17:40:30Z,2017-10-31T17:42:32Z,MERGED,True,12,1,3,https://github.com/redmanmale,Reload tray icon after Windows Explorer crash,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1010,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1010#issuecomment-339504977,"Fixes #1004.


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/events.c, line 113 at r1 (raw file):

    static bool mdown = false;
    static int mdown_x, mdown_y;
    static UINT taskbar_created;

don't use UINT, windows macros and typedefs are crap we want to avoid.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1010,2017-08-25T16:52:52Z,2017-10-31T17:40:30Z,2017-10-31T17:42:32Z,MERGED,True,12,1,3,https://github.com/redmanmale,Reload tray icon after Windows Explorer crash,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1010,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1010#issuecomment-340080051,"Fixes #1004.


This change is‚ÄÇ","Review status: 2 of 3 files reviewed at latest revision, 1 unresolved discussion.

src/windows/events.c, line 113 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
don't use UINT, windows macros and typedefs are crap we want to avoid.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1010,2017-08-25T16:52:52Z,2017-10-31T17:40:30Z,2017-10-31T17:42:32Z,MERGED,True,12,1,3,https://github.com/redmanmale,Reload tray icon after Windows Explorer crash,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1010,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/1010#issuecomment-340100981,"Fixes #1004.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1010,2017-08-25T16:52:52Z,2017-10-31T17:40:30Z,2017-10-31T17:42:32Z,MERGED,True,12,1,3,https://github.com/redmanmale,Reload tray icon after Windows Explorer crash,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1010,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/1010#issuecomment-340579432,"Fixes #1004.


This change is‚ÄÇ","Reviewed 1 of 3 files at r1, 1 of 1 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/events.c, line 113 at r3 (raw file):

    static bool mdown = false;
    static int mdown_x, mdown_y;
    static uint16_t taskbar_created;

This should be an unsigned or you're not able to hold all return values of RegisterWindowMessage. (UINT is just a typedef of unsigned and can be anything above 16 bits. On most OSes it will be 32, but it will be 64 on some even today.)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1010,2017-08-25T16:52:52Z,2017-10-31T17:40:30Z,2017-10-31T17:42:32Z,MERGED,True,12,1,3,https://github.com/redmanmale,Reload tray icon after Windows Explorer crash,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1010,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/1010#issuecomment-340589626,"Fixes #1004.


This change is‚ÄÇ","Review status: 2 of 3 files reviewed at latest revision, 1 unresolved discussion.

src/windows/events.c, line 113 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This should be an unsigned or you're not able to hold all return values of RegisterWindowMessage. (UINT is just a typedef of unsigned and can be anything above 16 bits. On most OSes it will be 32, but it will be 64 on some even today.)

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1010,2017-08-25T16:52:52Z,2017-10-31T17:40:30Z,2017-10-31T17:42:32Z,MERGED,True,12,1,3,https://github.com/redmanmale,Reload tray icon after Windows Explorer crash,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1010,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/1010#issuecomment-340593221,"Fixes #1004.


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1010,2017-08-25T16:52:52Z,2017-10-31T17:40:30Z,2017-10-31T17:42:32Z,MERGED,True,12,1,3,https://github.com/redmanmale,Reload tray icon after Windows Explorer crash,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1010,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/1010#issuecomment-340842976,"Fixes #1004.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3, 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1011,2017-08-25T18:33:58Z,2017-12-19T20:37:38Z,2017-12-19T20:37:44Z,MERGED,True,32,32,8,https://github.com/GrayHatter,Fix a potential overflow write,9,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1011,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1011,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1011,2017-08-25T18:33:58Z,2017-12-19T20:37:38Z,2017-12-19T20:37:44Z,MERGED,True,32,32,8,https://github.com/GrayHatter,Fix a potential overflow write,9,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1011,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1011#issuecomment-325106038,This change is‚ÄÇ,"Reviewed 5 of 8 files at r1.
Review status: 5 of 8 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1011,2017-08-25T18:33:58Z,2017-12-19T20:37:38Z,2017-12-19T20:37:44Z,MERGED,True,32,32,8,https://github.com/GrayHatter,Fix a potential overflow write,9,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1011,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1011#issuecomment-325176490,This change is‚ÄÇ,"Reviewed 8 of 8 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/window.c, line 170 at r1 (raw file):

        next = &popup_window;
    } else {
        next = calloc(sizeof(UTOX_WINDOW), 1);

Shouldn't the arguments be switched.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1011,2017-08-25T18:33:58Z,2017-12-19T20:37:38Z,2017-12-19T20:37:44Z,MERGED,True,32,32,8,https://github.com/GrayHatter,Fix a potential overflow write,9,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1011,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1011#issuecomment-325715666,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/window.c, line 170 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Shouldn't the arguments be switched.

yes, they need to be, standby

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1011,2017-08-25T18:33:58Z,2017-12-19T20:37:38Z,2017-12-19T20:37:44Z,MERGED,True,32,32,8,https://github.com/GrayHatter,Fix a potential overflow write,9,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1011,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1011#issuecomment-330342206,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/window.c, line 170 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
yes, they need to be, standby

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1011,2017-08-25T18:33:58Z,2017-12-19T20:37:38Z,2017-12-19T20:37:44Z,MERGED,True,32,32,8,https://github.com/GrayHatter,Fix a potential overflow write,9,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1011,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/1011#issuecomment-330399170,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1011,2017-08-25T18:33:58Z,2017-12-19T20:37:38Z,2017-12-19T20:37:44Z,MERGED,True,32,32,8,https://github.com/GrayHatter,Fix a potential overflow write,9,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1011,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/1011#issuecomment-352877537,This change is‚ÄÇ,"Reviewed 7 of 8 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1012,2017-08-25T22:04:22Z,2017-08-26T19:06:33Z,2019-01-14T21:17:55Z,MERGED,True,8,4,2,https://github.com/robinlinden,Don't require Check.,1,[],https://github.com/uTox/uTox/pull/1012,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1012,"Since testing is enabled by default I've had a lot of complaints about compilation failing because of check. This stops compilation from failing and instead warns about it.


This change is‚ÄÇ","Since testing is enabled by default I've had a lot of complaints about compilation failing because of check. This stops compilation from failing and instead warns about it.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1012,2017-08-25T22:04:22Z,2017-08-26T19:06:33Z,2019-01-14T21:17:55Z,MERGED,True,8,4,2,https://github.com/robinlinden,Don't require Check.,1,[],https://github.com/uTox/uTox/pull/1012,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1012#issuecomment-325064164,"Since testing is enabled by default I've had a lot of complaints about compilation failing because of check. This stops compilation from failing and instead warns about it.


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1012,2017-08-25T22:04:22Z,2017-08-26T19:06:33Z,2019-01-14T21:17:55Z,MERGED,True,8,4,2,https://github.com/robinlinden,Don't require Check.,1,[],https://github.com/uTox/uTox/pull/1012,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1012#issuecomment-325102371,"Since testing is enabled by default I've had a lot of complaints about compilation failing because of check. This stops compilation from failing and instead warns about it.


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1012,2017-08-25T22:04:22Z,2017-08-26T19:06:33Z,2019-01-14T21:17:55Z,MERGED,True,8,4,2,https://github.com/robinlinden,Don't require Check.,1,[],https://github.com/uTox/uTox/pull/1012,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1012#issuecomment-325177088,"Since testing is enabled by default I've had a lot of complaints about compilation failing because of check. This stops compilation from failing and instead warns about it.


This change is‚ÄÇ","CMakeLists.txt, line 412 at r1 (raw file):

        add_subdirectory(tests)
    else()
        message(WARNING ""Testing enabled, but couldn't find Check!"")

I HATE it when scripts ignore what the use told them to do... especially silently.
Does anyone actually think someone will see this warning? This should be an error.
#1017

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1015,2017-08-26T22:03:51Z,2017-08-27T04:23:08Z,2017-08-27T12:01:25Z,MERGED,True,23,23,1,https://github.com/robinlinden,Fix uTox not linking against all required Tox libs.,1,[],https://github.com/uTox/uTox/pull/1015,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1015,"After we added the FindTox Cmake module, Jenkins fails to link against Toxcore unless you find all packages.
For evidence/an example, see the sed magic I did in https://build.tox.chat/view/uTox/job/uTox_build_linux_x86-64_release/ to get it to link.


This change is‚ÄÇ","After we added the FindTox Cmake module, Jenkins fails to link against Toxcore unless you find all packages.
For evidence/an example, see the sed magic I did in https://build.tox.chat/view/uTox/job/uTox_build_linux_x86-64_release/ to get it to link.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1015,2017-08-26T22:03:51Z,2017-08-27T04:23:08Z,2017-08-27T12:01:25Z,MERGED,True,23,23,1,https://github.com/robinlinden,Fix uTox not linking against all required Tox libs.,1,[],https://github.com/uTox/uTox/pull/1015,https://github.com/publicarray,2,https://github.com/uTox/uTox/pull/1015#issuecomment-325164873,"After we added the FindTox Cmake module, Jenkins fails to link against Toxcore unless you find all packages.
For evidence/an example, see the sed magic I did in https://build.tox.chat/view/uTox/job/uTox_build_linux_x86-64_release/ to get it to link.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1015,2017-08-26T22:03:51Z,2017-08-27T04:23:08Z,2017-08-27T12:01:25Z,MERGED,True,23,23,1,https://github.com/robinlinden,Fix uTox not linking against all required Tox libs.,1,[],https://github.com/uTox/uTox/pull/1015,https://github.com/publicarray,3,https://github.com/uTox/uTox/pull/1015#issuecomment-325164902,"After we added the FindTox Cmake module, Jenkins fails to link against Toxcore unless you find all packages.
For evidence/an example, see the sed magic I did in https://build.tox.chat/view/uTox/job/uTox_build_linux_x86-64_release/ to get it to link.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1015,2017-08-26T22:03:51Z,2017-08-27T04:23:08Z,2017-08-27T12:01:25Z,MERGED,True,23,23,1,https://github.com/robinlinden,Fix uTox not linking against all required Tox libs.,1,[],https://github.com/uTox/uTox/pull/1015,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1015#issuecomment-325176297,"After we added the FindTox Cmake module, Jenkins fails to link against Toxcore unless you find all packages.
For evidence/an example, see the sed magic I did in https://build.tox.chat/view/uTox/job/uTox_build_linux_x86-64_release/ to get it to link.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1018,2017-08-27T11:08:34Z,2017-08-29T19:01:38Z,2017-08-29T19:01:43Z,MERGED,True,6,9,3,https://github.com/robinlinden,Revert check,3,[],https://github.com/uTox/uTox/pull/1018,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1018,"Fixes #1017


This change is‚ÄÇ","Fixes #1017


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1018,2017-08-27T11:08:34Z,2017-08-29T19:01:38Z,2017-08-29T19:01:43Z,MERGED,True,6,9,3,https://github.com/robinlinden,Revert check,3,[],https://github.com/uTox/uTox/pull/1018,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1018#issuecomment-325207513,"Fixes #1017


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1018,2017-08-27T11:08:34Z,2017-08-29T19:01:38Z,2017-08-29T19:01:43Z,MERGED,True,6,9,3,https://github.com/robinlinden,Revert check,3,[],https://github.com/uTox/uTox/pull/1018,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1018#issuecomment-325210265,"Fixes #1017


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1020,2017-08-27T22:11:20Z,2017-08-29T18:54:49Z,2017-08-29T18:55:07Z,MERGED,True,16,19,8,https://github.com/robinlinden,Use CMAKE_PREFIX_PATH to find dependencies.,1,[],https://github.com/uTox/uTox/pull/1020,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1020,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1020,2017-08-27T22:11:20Z,2017-08-29T18:54:49Z,2017-08-29T18:55:07Z,MERGED,True,16,19,8,https://github.com/robinlinden,Use CMAKE_PREFIX_PATH to find dependencies.,1,[],https://github.com/uTox/uTox/pull/1020,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1020#issuecomment-325689689,This change is‚ÄÇ,"Reviewed 8 of 8 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1020,2017-08-27T22:11:20Z,2017-08-29T18:54:49Z,2017-08-29T18:55:07Z,MERGED,True,16,19,8,https://github.com/robinlinden,Use CMAKE_PREFIX_PATH to find dependencies.,1,[],https://github.com/uTox/uTox/pull/1020,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1020#issuecomment-325715131,This change is‚ÄÇ,,True,{}
uTox/uTox,https://github.com/uTox/uTox,1020,2017-08-27T22:11:20Z,2017-08-29T18:54:49Z,2017-08-29T18:55:07Z,MERGED,True,16,19,8,https://github.com/robinlinden,Use CMAKE_PREFIX_PATH to find dependencies.,1,[],https://github.com/uTox/uTox/pull/1020,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1020#issuecomment-325727550,This change is‚ÄÇ,"Reviewed 8 of 8 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1028,2017-08-31T16:42:54Z,2017-09-05T20:04:21Z,2017-12-02T10:13:24Z,MERGED,True,106,25,10,https://github.com/redmanmale,Support Tox URI,12,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1028,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1028,"See #326.
After clicking on Tox URI:

if you have contact with such ToxId you will be swiched to chat with him
otherwise a friend request page will be open with filled ToxId

Implemented for all OS that support openurl function (Win, Linux, macOS).


This change is‚ÄÇ","See #326.
After clicking on Tox URI:

if you have contact with such ToxId you will be swiched to chat with him
otherwise a friend request page will be open with filled ToxId

Implemented for all OS that support openurl function (Win, Linux, macOS).


This change is‚ÄÇ",True,{'HOORAY': ['https://github.com/robinlinden']}
uTox/uTox,https://github.com/uTox/uTox,1028,2017-08-31T16:42:54Z,2017-09-05T20:04:21Z,2017-12-02T10:13:24Z,MERGED,True,106,25,10,https://github.com/redmanmale,Support Tox URI,12,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1028,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1028#issuecomment-326802132,"See #326.
After clicking on Tox URI:

if you have contact with such ToxId you will be swiched to chat with him
otherwise a friend request page will be open with filled ToxId

Implemented for all OS that support openurl function (Win, Linux, macOS).


This change is‚ÄÇ","Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/flist.c, line 889 at r1 (raw file):

}

bool get_tox_id_from_uri(const char *str, char *tox_id) {

This function can be static and you may want to add a comment that str has to be null-terminated and tox_id has to be at least TOX_ADDRESS_SIZE * 2 + 1

src/flist.c, line 914 at r1 (raw file):

    if (friend) {
        flist_selectchat(friend->number);
    }

} else if (tox_thread_init == UTOX_TOX_THREAD_INIT_SUCCESS) {

src/friend.c, line 548 at r1 (raw file):

        }

        if (strcmp2(f->id_str, id_str) == 0) {

Does this really work?
#define strcmp2(x, y) (memcmp(x, y, sizeof(y) - 1)) and sizeof(char *) is 4. I think you want to compare using the length TOX_PUBLIC_KEY_SIZE * 2.

src/ui/text.c, line 100 at r1 (raw file):

                && (   (end - a_mark >= 7 && memcmp(a_mark, ""http://"", 7) == 0)
                    || (end - a_mark >= 8 && memcmp(a_mark, ""https://"", 8) == 0)
                    || (end - a_mark >= 8 && memcmp(a_mark, ""tox:"", 4) == 0))

(end - a_mark >= 4

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1028,2017-08-31T16:42:54Z,2017-09-05T20:04:21Z,2017-12-02T10:13:24Z,MERGED,True,106,25,10,https://github.com/redmanmale,Support Tox URI,12,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1028,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1028#issuecomment-326806063,"See #326.
After clicking on Tox URI:

if you have contact with such ToxId you will be swiched to chat with him
otherwise a friend request page will be open with filled ToxId

Implemented for all OS that support openurl function (Win, Linux, macOS).


This change is‚ÄÇ","Review status: 5 of 9 files reviewed at latest revision, 4 unresolved discussions.

src/flist.c, line 889 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This function can be static and you may want to add a comment that str has to be null-terminated and tox_id has to be at least TOX_ADDRESS_SIZE * 2 + 1

Done.

src/flist.c, line 914 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
} else if (tox_thread_init == UTOX_TOX_THREAD_INIT_SUCCESS) {

Done.

src/friend.c, line 548 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Does this really work?
#define strcmp2(x, y) (memcmp(x, y, sizeof(y) - 1)) and sizeof(char *) is 4. I think you want to compare using the length TOX_PUBLIC_KEY_SIZE * 2.

Done.

src/ui/text.c, line 100 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
(end - a_mark >= 4

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1028,2017-08-31T16:42:54Z,2017-09-05T20:04:21Z,2017-12-02T10:13:24Z,MERGED,True,106,25,10,https://github.com/redmanmale,Support Tox URI,12,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1028,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1028#issuecomment-326806360,"See #326.
After clicking on Tox URI:

if you have contact with such ToxId you will be swiched to chat with him
otherwise a friend request page will be open with filled ToxId

Implemented for all OS that support openurl function (Win, Linux, macOS).


This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/messages.c, line 1159 at r2 (raw file):

                cursor             = CURSOR_HAND;
                m->cursor_over_uri = str - message;
            } else if (m->cursor_over_uri == UINT32_MAX && end - str >= 4 && (strncmp(str, ""tox:"", 4) == 0)) {

This change wasn't required, but I prefer it this way. sizeof works the way you expect it to on string literals.
(No change required.)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1028,2017-08-31T16:42:54Z,2017-09-05T20:04:21Z,2017-12-02T10:13:24Z,MERGED,True,106,25,10,https://github.com/redmanmale,Support Tox URI,12,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1028,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1028#issuecomment-326806702,"See #326.
After clicking on Tox URI:

if you have contact with such ToxId you will be swiched to chat with him
otherwise a friend request page will be open with filled ToxId

Implemented for all OS that support openurl function (Win, Linux, macOS).


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

src/messages.c, line 1159 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This change wasn't required, but I prefer it this way. sizeof works the way you expect it to on string literals.
(No change required.)

That macros (strcmp2) commented as hacky and unwanted and since it was the only usage I thought that it would be right time to fix.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1028,2017-08-31T16:42:54Z,2017-09-05T20:04:21Z,2017-12-02T10:13:24Z,MERGED,True,106,25,10,https://github.com/redmanmale,Support Tox URI,12,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1028,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/1028#issuecomment-326807231,"See #326.
After clicking on Tox URI:

if you have contact with such ToxId you will be swiched to chat with him
otherwise a friend request page will be open with filled ToxId

Implemented for all OS that support openurl function (Win, Linux, macOS).


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

src/messages.c, line 1159 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
That macros (strcmp2) commented as hacky and unwanted and since it was the only usage I thought that it would be right time to fix.

Yes, it was a good change. Could you delete the macro too if it's no longer used?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1028,2017-08-31T16:42:54Z,2017-09-05T20:04:21Z,2017-12-02T10:13:24Z,MERGED,True,106,25,10,https://github.com/redmanmale,Support Tox URI,12,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1028,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1028#issuecomment-326807763,"See #326.
After clicking on Tox URI:

if you have contact with such ToxId you will be swiched to chat with him
otherwise a friend request page will be open with filled ToxId

Implemented for all OS that support openurl function (Win, Linux, macOS).


This change is‚ÄÇ","Review status: 9 of 10 files reviewed at latest revision, all discussions resolved.

src/messages.c, line 1159 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Yes, it was a good change. Could you delete the macro too if it's no longer used?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1028,2017-08-31T16:42:54Z,2017-09-05T20:04:21Z,2017-12-02T10:13:24Z,MERGED,True,106,25,10,https://github.com/redmanmale,Support Tox URI,12,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1028,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/1028#issuecomment-326814248,"See #326.
After clicking on Tox URI:

if you have contact with such ToxId you will be swiched to chat with him
otherwise a friend request page will be open with filled ToxId

Implemented for all OS that support openurl function (Win, Linux, macOS).


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1028,2017-08-31T16:42:54Z,2017-09-05T20:04:21Z,2017-12-02T10:13:24Z,MERGED,True,106,25,10,https://github.com/redmanmale,Support Tox URI,12,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1028,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/1028#issuecomment-327287106,"See #326.
After clicking on Tox URI:

if you have contact with such ToxId you will be swiched to chat with him
otherwise a friend request page will be open with filled ToxId

Implemented for all OS that support openurl function (Win, Linux, macOS).


This change is‚ÄÇ","Reviewed 5 of 9 files at r1, 4 of 4 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1031,2017-09-02T22:01:39Z,2017-09-04T17:59:24Z,2017-09-04T17:59:28Z,MERGED,True,16,8,1,https://github.com/publicarray,Fix chat export crash on macOS. Fixes #1030,3,[],https://github.com/uTox/uTox/pull/1031,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/1031,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1031,2017-09-02T22:01:39Z,2017-09-04T17:59:24Z,2017-09-04T17:59:28Z,MERGED,True,16,8,1,https://github.com/publicarray,Fix chat export crash on macOS. Fixes #1030,3,[],https://github.com/uTox/uTox/pull/1031,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1031#issuecomment-326798217,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/cocoa/interaction.m, line 917 at r1 (raw file):

        FILE *file = utox_get_file_simple(destination.path.UTF8String, UTOX_FILE_OPTS_WRITE | UTOX_FILE_OPTS_MKDIR);
        if (!file) {
            LOG_ERR(""Cocoa"", ""Could write to file: %s"", destination.path.UTF8String);

Could not write to file

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1031,2017-09-02T22:01:39Z,2017-09-04T17:59:24Z,2017-09-04T17:59:28Z,MERGED,True,16,8,1,https://github.com/publicarray,Fix chat export crash on macOS. Fixes #1030,3,[],https://github.com/uTox/uTox/pull/1031,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1031#issuecomment-326800840,This change is‚ÄÇ,"(aside from what redmanmale already pointed out)

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1031,2017-09-02T22:01:39Z,2017-09-04T17:59:24Z,2017-09-04T17:59:28Z,MERGED,True,16,8,1,https://github.com/publicarray,Fix chat export crash on macOS. Fixes #1030,3,[],https://github.com/uTox/uTox/pull/1031,https://github.com/publicarray,4,https://github.com/uTox/uTox/pull/1031#issuecomment-326830789,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/cocoa/interaction.m, line 917 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Could not write to file

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1031,2017-09-02T22:01:39Z,2017-09-04T17:59:24Z,2017-09-04T17:59:28Z,MERGED,True,16,8,1,https://github.com/publicarray,Fix chat export crash on macOS. Fixes #1030,3,[],https://github.com/uTox/uTox/pull/1031,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1031#issuecomment-326872025,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1031,2017-09-02T22:01:39Z,2017-09-04T17:59:24Z,2017-09-04T17:59:28Z,MERGED,True,16,8,1,https://github.com/publicarray,Fix chat export crash on macOS. Fixes #1030,3,[],https://github.com/uTox/uTox/pull/1031,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/1031#issuecomment-327009253,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1034,2017-09-04T21:23:07Z,2017-09-05T20:10:17Z,2017-09-19T12:35:10Z,MERGED,True,16,4,1,https://github.com/publicarray,Fix file sending for macOS,2,[],https://github.com/uTox/uTox/pull/1034,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/1034,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1034,2017-09-04T21:23:07Z,2017-09-05T20:10:17Z,2017-09-19T12:35:10Z,MERGED,True,16,4,1,https://github.com/publicarray,Fix file sending for macOS,2,[],https://github.com/uTox/uTox/pull/1034,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1034#issuecomment-327082955,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/cocoa/interaction.m, line 990 at r1 (raw file):

        NSArray * urls = picker.URLs;
        FRIEND *f = flist_get_friend();
        if (!f) {

f is never freed.

src/cocoa/interaction.m, line 994 at r1 (raw file):

            return;
        }
        

Redundant spaces.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1034,2017-09-04T21:23:07Z,2017-09-05T20:10:17Z,2017-09-19T12:35:10Z,MERGED,True,16,4,1,https://github.com/publicarray,Fix file sending for macOS,2,[],https://github.com/uTox/uTox/pull/1034,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1034#issuecomment-327234716,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/cocoa/interaction.m, line 990 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
f is never freed.

Don't free f. It's the memory that holds your contact for the lifetime of the program. :P

src/cocoa/interaction.m, line 996 at r1 (raw file):

        
        for (NSURL *url in urls) {
            UTOX_MSG_FT *msg = malloc(sizeof(UTOX_MSG_FT));

You might want to use calloc so you get zeroed memory. All null checks might (probably will) fail unless you manually set all fields to null with malloc'd memory.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1034,2017-09-04T21:23:07Z,2017-09-05T20:10:17Z,2017-09-19T12:35:10Z,MERGED,True,16,4,1,https://github.com/publicarray,Fix file sending for macOS,2,[],https://github.com/uTox/uTox/pull/1034,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1034#issuecomment-327242280,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/cocoa/interaction.m, line 990 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Don't free f. It's the memory that holds your contact for the lifetime of the program. :P

Sorry about that.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1034,2017-09-04T21:23:07Z,2017-09-05T20:10:17Z,2017-09-19T12:35:10Z,MERGED,True,16,4,1,https://github.com/publicarray,Fix file sending for macOS,2,[],https://github.com/uTox/uTox/pull/1034,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1034#issuecomment-327285823,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1034,2017-09-04T21:23:07Z,2017-09-05T20:10:17Z,2017-09-19T12:35:10Z,MERGED,True,16,4,1,https://github.com/publicarray,Fix file sending for macOS,2,[],https://github.com/uTox/uTox/pull/1034,https://github.com/publicarray,6,https://github.com/uTox/uTox/pull/1034#issuecomment-327286197,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/cocoa/interaction.m, line 994 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Redundant spaces.

Done.  (I also changed the setting in Xcode. Why on earth would this be the default)

src/cocoa/interaction.m, line 996 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You might want to use calloc so you get zeroed memory. All null checks might (probably will) fail unless you manually set all fields to null with malloc'd memory.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1034,2017-09-04T21:23:07Z,2017-09-05T20:10:17Z,2017-09-19T12:35:10Z,MERGED,True,16,4,1,https://github.com/publicarray,Fix file sending for macOS,2,[],https://github.com/uTox/uTox/pull/1034,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/1034#issuecomment-327288389,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1035,2017-09-06T17:02:42Z,2017-09-08T21:25:16Z,2017-12-02T10:11:45Z,MERGED,True,22,12,3,https://github.com/redmanmale,Save force proxy settings,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1035,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1035,"Fixes #712.


This change is‚ÄÇ","Fixes #712.


This change is‚ÄÇ",True,{'HOORAY': ['https://github.com/robinlinden']}
uTox/uTox,https://github.com/uTox/uTox,1035,2017-09-06T17:02:42Z,2017-09-08T21:25:16Z,2017-12-02T10:11:45Z,MERGED,True,22,12,3,https://github.com/redmanmale,Save force proxy settings,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1035,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1035#issuecomment-327551746,"Fixes #712.


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/settings.h, line 127 at r1 (raw file):

    uint16_t language;

    uint8_t force_proxy;

This needs to go after video_fps.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1035,2017-09-06T17:02:42Z,2017-09-08T21:25:16Z,2017-12-02T10:11:45Z,MERGED,True,22,12,3,https://github.com/redmanmale,Save force proxy settings,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1035,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1035#issuecomment-327553669,"Fixes #712.


This change is‚ÄÇ","Review status: 2 of 3 files reviewed at latest revision, 1 unresolved discussion.

src/settings.h, line 127 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This needs to go after video_fps.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1035,2017-09-06T17:02:42Z,2017-09-08T21:25:16Z,2017-12-02T10:11:45Z,MERGED,True,22,12,3,https://github.com/redmanmale,Save force proxy settings,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1035,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1035#issuecomment-327567820,"Fixes #712.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1035,2017-09-06T17:02:42Z,2017-09-08T21:25:16Z,2017-12-02T10:11:45Z,MERGED,True,22,12,3,https://github.com/redmanmale,Save force proxy settings,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1035,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1035#issuecomment-328217498,"Fixes #712.


This change is‚ÄÇ","ASAN reports issues when loading the video device rapidly, this is OOS for this issue. Just want everyone to be aware.


Reviewed 2 of 3 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1036,2017-09-06T17:26:28Z,2017-09-06T20:52:43Z,2017-09-06T20:52:54Z,MERGED,True,15,15,1,https://github.com/redmanmale,Fix README,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1036,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1036,"Because my internal perfectionist couldn't stand it anymore.


This change is‚ÄÇ","Because my internal perfectionist couldn't stand it anymore.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1036,2017-09-06T17:26:28Z,2017-09-06T20:52:43Z,2017-09-06T20:52:54Z,MERGED,True,15,15,1,https://github.com/redmanmale,Fix README,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1036,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1036#issuecomment-327571777,"Because my internal perfectionist couldn't stand it anymore.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1036,2017-09-06T17:26:28Z,2017-09-06T20:52:43Z,2017-09-06T20:52:54Z,MERGED,True,15,15,1,https://github.com/redmanmale,Fix README,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1036,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1036#issuecomment-327607909,"Because my internal perfectionist couldn't stand it anymore.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1041,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1041#issuecomment-328196885,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1041#issuecomment-328236356,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","should be a separate dir (not src/ )

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1041#issuecomment-329252658,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","@GrayHatter
Done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/1041#issuecomment-329342841,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","Reviewed 7 of 7 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/cebe,6,https://github.com/uTox/uTox/pull/1041#issuecomment-329421702,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","all git clone calls in /docs/BUILD.md need the --recursive flag added. Other than that, is looks good.

Reviewed 7 of 7 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/1041#issuecomment-329553229,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ",The Jenkins builds will also have to be updated.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/redmanmale,8,https://github.com/uTox/uTox/pull/1041#issuecomment-329584429,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","@cebe
Done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/1041#issuecomment-330061508,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","Reviewed 2 of 2 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/cebe,10,https://github.com/uTox/uTox/pull/1041#issuecomment-330091388,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","Reviewed 2 of 2 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

docs/BUILD.md, line 166 at r3 (raw file):

### Cygwin setup

- Download Cygwin ([x86](https://cygwin.com/setup-x86_64.exe)/[x64](https://cygwin.com/setup-x86.exe))

link titles do not match the exe name.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/1041#issuecomment-330134969,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","Review status: 7 of 8 files reviewed at latest revision, 1 unresolved discussion.

docs/BUILD.md, line 166 at r3 (raw file):
Previously, cebe (Carsten Brandt) wrote‚Ä¶
link titles do not match the exe name.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/1041#issuecomment-330336105,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","Reviewed 7 of 7 files at r2, 1 of 2 files at r3, 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/endoffile78,13,https://github.com/uTox/uTox/pull/1041#issuecomment-330399687,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1041,2017-09-07T06:48:00Z,2017-09-19T22:06:10Z,2017-09-20T19:03:45Z,MERGED,True,57,8298,8,https://github.com/redmanmale,Use git submodule for stb,2,['PR: READY'],https://github.com/uTox/uTox/pull/1041,https://github.com/cebe,14,https://github.com/uTox/uTox/pull/1041#issuecomment-330471593,"It looks straightforward, so if it's not necessary or it has some pitfalls just close this PR.


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1042,2017-09-07T11:12:25Z,2017-09-07T16:58:31Z,2017-09-07T16:58:40Z,MERGED,True,1,1,1,https://github.com/termac,fix video preview,1,[],https://github.com/uTox/uTox/pull/1042,https://github.com/termac,1,https://github.com/uTox/uTox/pull/1042,"revert unrelated change in 996e2a2 which broke video preview


This change is‚ÄÇ","revert unrelated change in 996e2a2 which broke video preview


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1042,2017-09-07T11:12:25Z,2017-09-07T16:58:31Z,2017-09-07T16:58:40Z,MERGED,True,1,1,1,https://github.com/termac,fix video preview,1,[],https://github.com/uTox/uTox/pull/1042,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1042#issuecomment-327857667,"revert unrelated change in 996e2a2 which broke video preview


This change is‚ÄÇ","Well, shit. I think I fucked up a rebase somewhere. (I could've sworn I only changed headers in that PR.) Thank you so much for fixing it! 

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1042,2017-09-07T11:12:25Z,2017-09-07T16:58:31Z,2017-09-07T16:58:40Z,MERGED,True,1,1,1,https://github.com/termac,fix video preview,1,[],https://github.com/uTox/uTox/pull/1042,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1042#issuecomment-327857986,"revert unrelated change in 996e2a2 which broke video preview


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1045,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1045#issuecomment-328202109,This change is‚ÄÇ,"Reviewed 13 of 13 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/av/video.c, line 278 at r1 (raw file):

                frame->h    = utox_video_frame.h;
                frame->size = utox_video_frame.w * utox_video_frame.h * 4;
                frame->img  = malloc(frame->size);

Make sure memory was allocated.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1045#issuecomment-328277019,This change is‚ÄÇ,"This breaks the inline (on Windows at least.)

This leaks every frame it creates.

^ Is after running the video preview window for a few seconds and closing it.
There's no picture by picture (on Windows at least.)",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1045#issuecomment-328277352,This change is‚ÄÇ,"Reviewed 12 of 13 files at r1, 5 of 5 files at r2.
Review status: all files reviewed at latest revision, 8 unresolved discussions, some commit checks broke.

src/inline_video.c, line 24 at r2 (raw file):

#include ""native/image.h""
#include ""native/thread.h""

This include isn't needed.

src/inline_video.c, line 30 at r2 (raw file):

static UTOX_FRAME_PKG *preview_frame = NULL;
static UTOX_FRAME_PKG *current_frame = NULL;

static variables are always implicitly set to 0/NULL. (No change needed if you like your initialisations explicit.)

src/inline_video.c, line 72 at r2 (raw file):

        clone_frame(preview_frame, frame);
        return true;
    } else {

No else after return.

src/layout/friend.c, line 224 at r2 (raw file):

        (PANEL*)&edit_chat_msg_friend, // this needs to be one of the first, to get events before the others
        (PANEL*)&messages_friend,
        (PANEL*)&panel_friend_header,

You don't have to cast it when it's already a PANEL pointer.

src/layout/friend.c, line 235 at r2 (raw file):

    .disabled = true,
    .child = (PANEL*[]) {
        (PANEL*)&panel_friend_header,

You don't have to cast it when it's already a PANEL pointer.

src/native/drawing.h, line 8 at r1 (raw file):

typedef struct native_window UTOX_WINDOW;

bool draw_set_target(UTOX_WINDOW *new);

Why stick this in native/ when it's xlib only?

src/xlib/drawing.c, line 15 at r2 (raw file):

static UTOX_WINDOW *curr_win = NULL;
bool draw_set_target(UTOX_WINDOW *new) {

Don't use new as a name. It's a keyword in C++ and it'd be nice to keep uTox somewhat compatible with it in case we want to use any nice C++ static analysis tools or testing frameworks.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/1045#issuecomment-328281096,This change is‚ÄÇ,"Reviewed 5 of 5 files at r2.
Review status: all files reviewed at latest revision, 8 unresolved discussions.

src/inline_video.c, line 93 at r2 (raw file):

        clone_frame(current_frame, frame);
        return true;
    } else {

No else after a return

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1045#issuecomment-328309515,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 9 unresolved discussions.

src/inline_video.c, line 30 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
static variables are always implicitly set to 0/NULL. (No change needed if you like your initialisations explicit.)

I like my globals explicit

src/av/video.c, line 278 at r1 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Make sure memory was allocated.

I did, LOG_MALLOC_ERR will exit if malloc fails, that's what we do else where, and I'm okay with that being uTox's default.

src/layout/friend.c, line 224 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You don't have to cast it when it's already a PANEL pointer.

I have to, otherwise the alignment will be off....

src/layout/friend.c, line 235 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You don't have to cast it when it's already a PANEL pointer.

ditto

src/native/drawing.h, line 8 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Why stick this in native/ when it's xlib only?

Because I thought eventually it would need to be ported to windows, and because it's cleaner this way. I don't like doing things differently for one system. (confining this to XLib only)

src/xlib/drawing.c, line 15 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Don't use new as a name. It's a keyword in C++ and it'd be nice to keep uTox somewhat compatible with it in case we want to use any nice C++ static analysis tools or testing frameworks.

we don't -_-
I know, I know....  I'll fix it....

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/1045#issuecomment-328310053,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

src/layout/friend.c, line 224 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I have to, otherwise the alignment will be off....

That's weird. You shouldn't have to since you specify that this is an array of PANEL pointers.. Should you be casting the pointers in the other panels too? (e.g. panel_friend.)

src/native/drawing.h, line 8 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Because I thought eventually it would need to be ported to windows, and because it's cleaner this way. I don't like doing things differently for one system. (confining this to XLib only)

Well, add a comment or #ifdef saying it's xlib only when there's an xlib-only function outside of the xlib folder.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/1045#issuecomment-328386323,This change is‚ÄÇ,"I think I fixed the memory leak, but I don't know why windows is screwy when it's drawing the 2nd frame :/

Review status: 9 of 17 files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

src/inline_video.c, line 24 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This include isn't needed.

Done.

src/inline_video.c, line 72 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
No else after return.

Done.

src/inline_video.c, line 93 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
No else after a return

Done.

src/layout/friend.c, line 224 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
That's weird. You shouldn't have to since you specify that this is an array of PANEL pointers.. Should you be casting the pointers in the other panels too? (e.g. panel_friend.)

the source code alignment, not the memory alignment. :D

src/native/drawing.h, line 8 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Well, add a comment or #ifdef saying it's xlib only when there's an xlib-only function outside of the xlib folder.

Done.
I replaced the ""broken"" function I wrote for windows with the better version I wrote for XLib.

src/xlib/drawing.c, line 15 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
we don't -_-
I know, I know....  I'll fix it....

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/1045#issuecomment-328386494,This change is‚ÄÇ,"scratch that, fixed both!

Review status: 9 of 17 files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/1045#issuecomment-329187131,This change is‚ÄÇ,"Reviewed 7 of 8 files at r3, 3 of 3 files at r4.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/windows/drawing.c, line 14 at r4 (raw file):

static UTOX_WINDOW *curr_win = NULL;
bool draw_set_target(UTOX_WINDOW *next_win) {

OSX and android need this function.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/1045#issuecomment-329965519,This change is‚ÄÇ,"Memory leak is still there, but I think it's leaking memory slower than last commit.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/1045#issuecomment-329965689,This change is‚ÄÇ,"Reviewed 8 of 8 files at r3, 3 of 3 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

src/layout/friend.c, line 224 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
the source code alignment, not the memory alignment. :D

Disgusting. (but no change needed, I guess..)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1045,2017-09-08T19:44:41Z,,2017-11-05T11:57:39Z,OPEN,False,257,150,18,https://github.com/GrayHatter,Add picture by picture support to uTox,8,[],https://github.com/uTox/uTox/pull/1045,https://github.com/GrayHatter,13,https://github.com/uTox/uTox/pull/1045#issuecomment-330336524,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/layout/friend.c, line 224 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Disgusting. (but no change needed, I guess..)

LOL

src/windows/drawing.c, line 14 at r4 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
OSX and android need this function.

What are those again?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1046,2017-09-08T20:22:40Z,2017-09-13T16:52:06Z,2019-01-21T09:09:06Z,MERGED,True,18,4,4,https://github.com/endoffile78,Fix offline message,3,[],https://github.com/uTox/uTox/pull/1046,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1046,"When a user goes offline the offline message is missing the ""e"" in offline.


This change is‚ÄÇ","When a user goes offline the offline message is missing the ""e"" in offline.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1046,2017-09-08T20:22:40Z,2017-09-13T16:52:06Z,2019-01-21T09:09:06Z,MERGED,True,18,4,4,https://github.com/endoffile78,Fix offline message,3,[],https://github.com/uTox/uTox/pull/1046,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1046#issuecomment-328212704,"When a user goes offline the offline message is missing the ""e"" in offline.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/friend.c, line 561 at r1 (raw file):

    }

    int size = UTOX_FRIEND_NAME_LENGTH(f) + 25;

Why it was 20? Why it's now 25?
Maybe it's better to introduce some named const for it?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1046,2017-09-08T20:22:40Z,2017-09-13T16:52:06Z,2019-01-21T09:09:06Z,MERGED,True,18,4,4,https://github.com/endoffile78,Fix offline message,3,[],https://github.com/uTox/uTox/pull/1046,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1046#issuecomment-328218369,"When a user goes offline the offline message is missing the ""e"" in offline.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/friend.c, line 561 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Why it was 20? Why it's now 25?
Maybe it's better to introduce some named const for it?

20 was the length of the string, but it didn't include the size of the null term. Best solution would be to make that string a separate var that we could later localize...

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1046,2017-09-08T20:22:40Z,2017-09-13T16:52:06Z,2019-01-21T09:09:06Z,MERGED,True,18,4,4,https://github.com/endoffile78,Fix offline message,3,[],https://github.com/uTox/uTox/pull/1046,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1046#issuecomment-328283851,"When a user goes offline the offline message is missing the ""e"" in offline.


This change is‚ÄÇ","Review status: 0 of 4 files reviewed at latest revision, 1 unresolved discussion.

src/friend.c, line 561 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
20 was the length of the string, but it didn't include the size of the null term. Best solution would be to make that string a separate var that we could later localize...

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1046,2017-09-08T20:22:40Z,2017-09-13T16:52:06Z,2019-01-21T09:09:06Z,MERGED,True,18,4,4,https://github.com/endoffile78,Fix offline message,3,[],https://github.com/uTox/uTox/pull/1046,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1046#issuecomment-328309541,"When a user goes offline the offline message is missing the ""e"" in offline.


This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1046,2017-09-08T20:22:40Z,2017-09-13T16:52:06Z,2019-01-21T09:09:06Z,MERGED,True,18,4,4,https://github.com/endoffile78,Fix offline message,3,[],https://github.com/uTox/uTox/pull/1046,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/1046#issuecomment-328310375,"When a user goes offline the offline message is missing the ""e"" in offline.


This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

langs/en.h, line 482 at r2 (raw file):

msgid(STATUS_MESSAGE)
msgstr(""uTox %.*s is now %s."")

Can you add a comment so translators know what the 2 variables are without reading through friend.c?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1046,2017-09-08T20:22:40Z,2017-09-13T16:52:06Z,2019-01-21T09:09:06Z,MERGED,True,18,4,4,https://github.com/endoffile78,Fix offline message,3,[],https://github.com/uTox/uTox/pull/1046,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/1046#issuecomment-329190312,"When a user goes offline the offline message is missing the ""e"" in offline.


This change is‚ÄÇ","Review status: 3 of 4 files reviewed at latest revision, 2 unresolved discussions.

langs/en.h, line 482 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Can you add a comment so translators know what the 2 variables are without reading through friend.c?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1046,2017-09-08T20:22:40Z,2017-09-13T16:52:06Z,2019-01-21T09:09:06Z,MERGED,True,18,4,4,https://github.com/endoffile78,Fix offline message,3,[],https://github.com/uTox/uTox/pull/1046,https://github.com/redmanmale,8,https://github.com/uTox/uTox/pull/1046#issuecomment-329192508,"When a user goes offline the offline message is missing the ""e"" in offline.


This change is‚ÄÇ","Reviewed 3 of 4 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1046,2017-09-08T20:22:40Z,2017-09-13T16:52:06Z,2019-01-21T09:09:06Z,MERGED,True,18,4,4,https://github.com/endoffile78,Fix offline message,3,[],https://github.com/uTox/uTox/pull/1046,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/1046#issuecomment-329229123,"When a user goes offline the offline message is missing the ""e"" in offline.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1047,2017-09-08T21:05:48Z,2020-05-20T17:11:17Z,2020-05-25T16:41:51Z,CLOSED,False,258,134,17,https://github.com/GrayHatter,Simplify friend usage in AV macros,5,[],https://github.com/uTox/uTox/pull/1047,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1047,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1047,2017-09-08T21:05:48Z,2020-05-20T17:11:17Z,2020-05-25T16:41:51Z,CLOSED,False,258,134,17,https://github.com/GrayHatter,Simplify friend usage in AV macros,5,[],https://github.com/uTox/uTox/pull/1047,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1047#issuecomment-483827870,This change is‚ÄÇ,@robinlinden review and merge?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1047,2017-09-08T21:05:48Z,2020-05-20T17:11:17Z,2020-05-25T16:41:51Z,CLOSED,False,258,134,17,https://github.com/GrayHatter,Simplify friend usage in AV macros,5,[],https://github.com/uTox/uTox/pull/1047,None,3,https://github.com/uTox/uTox/pull/1047#issuecomment-632042555,This change is‚ÄÇ,Can the branch be deleted?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1048,2017-09-08T22:38:10Z,2019-04-16T20:07:05Z,2019-04-16T20:07:10Z,MERGED,True,179,81,14,https://github.com/GrayHatter,[WIP] add right click skel to Xlib tray,4,[],https://github.com/uTox/uTox/pull/1048,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1048,"closes #1040


This change is‚ÄÇ","closes #1040


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1050,2017-09-11T09:05:03Z,2017-09-13T14:37:29Z,2017-09-13T14:37:29Z,MERGED,True,2,2,1,https://github.com/termac,fix tray icon not showing in Linux,1,[],https://github.com/uTox/uTox/pull/1050,https://github.com/termac,1,https://github.com/uTox/uTox/pull/1050,"The binary icon size was used as pointer instead of using it as the
actual value for the size. Also removed casts for
_binary_icons_utox_128x128_png_start and
_binary_icons_utox_128x128_png_size as they should not be needed here.


This change is‚ÄÇ","The binary icon size was used as pointer instead of using it as the
actual value for the size. Also removed casts for
_binary_icons_utox_128x128_png_start and
_binary_icons_utox_128x128_png_size as they should not be needed here.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1050,2017-09-11T09:05:03Z,2017-09-13T14:37:29Z,2017-09-13T14:37:29Z,MERGED,True,2,2,1,https://github.com/termac,fix tray icon not showing in Linux,1,[],https://github.com/uTox/uTox/pull/1050,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1050#issuecomment-328604219,"The binary icon size was used as pointer instead of using it as the
actual value for the size. Also removed casts for
_binary_icons_utox_128x128_png_start and
_binary_icons_utox_128x128_png_size as they should not be needed here.


This change is‚ÄÇ","Thanks a lot! We've been having issues with the Linux tray for ages now. 

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1050,2017-09-11T09:05:03Z,2017-09-13T14:37:29Z,2017-09-13T14:37:29Z,MERGED,True,2,2,1,https://github.com/termac,fix tray icon not showing in Linux,1,[],https://github.com/uTox/uTox/pull/1050,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1050#issuecomment-329188240,"The binary icon size was used as pointer instead of using it as the
actual value for the size. Also removed casts for
_binary_icons_utox_128x128_png_start and
_binary_icons_utox_128x128_png_size as they should not be needed here.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1051,2017-09-11T18:43:38Z,2020-10-23T21:51:32Z,2020-10-23T21:51:32Z,CLOSED,False,914,67,5,https://github.com/zoff99,Build uTox for Raspberry Pi on CircleCI,14,[],https://github.com/uTox/uTox/pull/1051,https://github.com/zoff99,1,https://github.com/uTox/uTox/pull/1051,"noooo, please god don't look at the build commands! you'll be sorry


This change is‚ÄÇ","noooo, please god don't look at the build commands! you'll be sorry


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1051,2017-09-11T18:43:38Z,2020-10-23T21:51:32Z,2020-10-23T21:51:32Z,CLOSED,False,914,67,5,https://github.com/zoff99,Build uTox for Raspberry Pi on CircleCI,14,[],https://github.com/uTox/uTox/pull/1051,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1051#issuecomment-328621845,"noooo, please god don't look at the build commands! you'll be sorry


This change is‚ÄÇ","Okay, so I asked zoff to open a PR for this. Maybe we can clean it up and build uTox for Raspberry Pi on CircleCI.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1051,2017-09-11T18:43:38Z,2020-10-23T21:51:32Z,2020-10-23T21:51:32Z,CLOSED,False,914,67,5,https://github.com/zoff99,Build uTox for Raspberry Pi on CircleCI,14,[],https://github.com/uTox/uTox/pull/1051,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1051#issuecomment-715606218,"noooo, please god don't look at the build commands! you'll be sorry


This change is‚ÄÇ",I am not going to clean this up.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1053,"Fixes #1037.


This change is‚ÄÇ","Fixes #1037.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1053#issuecomment-330330078,"Fixes #1037.


This change is‚ÄÇ","Has anyone done a cursory style, security, review on the minini header?
+@GrayHatter

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1053#issuecomment-330333926,"Fixes #1037.


This change is‚ÄÇ","Reviewed 7 of 9 files at r1.
Review status: 7 of 9 files reviewed at latest revision, 5 unresolved discussions.

src/settings.c, line 27 at r1 (raw file):

#define MATCH(s, n) strcmp(section, s) == 0 && strcmp(key, n) == 0
#define BOOL_TO_STR(b) b ? ""true"" : ""false""
#define STR_TO_BOOL(s) strcmp(s, ""true"") == 0 ? true : false

can we use strncasecmp instead?
Also, if you wrap in additional (), you can drop the ternary operators, it's already a bool result.

src/settings.c, line 35 at r1 (raw file):

const uint16_t proxy_address_size = 256; // Magic number inside Toxcore.

const char *general_section = ""general"";

'static const' pls

src/settings.c, line 130 at r1 (raw file):

    // general
    if (MATCH(general_section, NAMEOF(config->save_version))) {

can we use switch, and an enum here?
this if tree is unwieldily

src/settings.c, line 312 at r1 (raw file):

    }

    if (!save) {

call a init_default_settings() function here, instead of leaving this code inline.

src/native/filesys.h, line 32 at r1 (raw file):

void native_select_dir_ft(uint32_t fid, uint32_t num, FILE_TRANSFER *file);

char *native_get_filepath(const char *name, bool portable_mode);

filesys.c has access to settings.h, does it need bool portable_mode?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1053#issuecomment-330639127,"Fixes #1037.


This change is‚ÄÇ","Review status: 3 of 10 files reviewed at latest revision, 5 unresolved discussions.

src/settings.c, line 27 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
can we use strncasecmp instead?
Also, if you wrap in additional (), you can drop the ternary operators, it's already a bool result.

Done.

src/settings.c, line 35 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
'static const' pls

Done.

src/settings.c, line 130 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
can we use switch, and an enum here?
this if tree is unwieldily

Done.

src/settings.c, line 312 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
call a init_default_settings() function here, instead of leaving this code inline.

Done.

src/native/filesys.h, line 32 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
filesys.c has access to settings.h, does it need bool portable_mode?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1053#issuecomment-330648573,"Fixes #1037.


This change is‚ÄÇ","I only glanced at the filesys functions, @robinlinden should have a deeper look too.

Reviewed 7 of 7 files at r2.
Review status: all files reviewed at latest revision, 8 unresolved discussions.

src/settings.c, line 126 at r2 (raw file):

}

CONFIG_SECTION get_section(const char* key) {

static CONFIGSECTION

src/settings.c, line 145 at r2 (raw file):

}

void parse_general_section(UTOX_SAVE *config, const char* key, const char* value) {

static

src/settings.c, line 157 at r2 (raw file):

}

void parse_interface_section(UTOX_SAVE *config, const char* key, const char* value) {

static

src/settings.c, line 189 at r2 (raw file):

}

void parse_av_section(UTOX_SAVE *config, const char* key, const char* value) {

static

src/settings.c, line 203 at r2 (raw file):

}

void parse_notifications_section(UTOX_SAVE *config, const char* key, const char* value) {

static

src/settings.c, line 215 at r2 (raw file):

}

void parse_advanced_section(UTOX_SAVE *config, const char* key, const char* value) {

static

src/settings.c, line 233 at r2 (raw file):

}

static int config_parser(const char* section, const char* key, const char* value, void* config_v) {

static

src/settings.c, line 353 at r2 (raw file):

}

UTOX_SAVE *init_default_settings(void) {

static

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1053#issuecomment-330650537,"Fixes #1037.


This change is‚ÄÇ","Review status: 9 of 10 files reviewed at latest revision, 8 unresolved discussions.

src/settings.c, line 126 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
static CONFIGSECTION

Done.

src/settings.c, line 145 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
static

Done.

src/settings.c, line 157 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
static

Done.

src/settings.c, line 189 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
static

Done.

src/settings.c, line 203 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
static

Done.

src/settings.c, line 215 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
static

Done.

src/settings.c, line 233 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
static

Done.

src/settings.c, line 353 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
static

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/1053#issuecomment-330668014,"Fixes #1037.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/1053#issuecomment-330678724,"Fixes #1037.


This change is‚ÄÇ","Reviewed 3 of 9 files at r1, 6 of 7 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 6 unresolved discussions.

src/settings.c, line 2 at r2 (raw file):

#include ""settings.h""
#include ""../minIni/dev/minIni.h""

Suggestion: Add include_directories(SYSTEM minIni/dev/) to the CMakeLists.txt and include this like <minIni.h>.

src/settings.c, line 25 at r3 (raw file):

#include <string.h>

#define MATCH(s) (strcasecmp(key, s) == 0)

Have this take 2 arguments so it doesn't break if there isn't a variable conveniently named key in scope when this is used.

src/settings.c, line 108 at r3 (raw file):

};

void write_config_value_int(const char *filename, const char *section, const char *key, const long value) {

All these should also be static. Nothing outside of settings.c should be writing to our config.

src/settings.c, line 569 at r3 (raw file):

    // TODO: Remove this in ~0.18.0 release
    utox_data_save_utox(save, sizeof(UTOX_SAVE) + proxy_address_size);

No need to keep saving in the old format. Loading is enough.

src/settings.h, line 133 at r3 (raw file):

} UTOX_SAVE;

typedef enum {

Move this to the .c file if no other files need to know about these.

src/windows/filesys.c, line 33 at r3 (raw file):

    snprintf(path + strlen(path), UTOX_FILE_NAME_LENGTH - strlen(path), ""\\Tox\\"");

    if (strlen(path) + strlen((char *)name) >= UTOX_FILE_NAME_LENGTH) {

strlen doesn't need to be able to alter the string.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/1053#issuecomment-330942352,"Fixes #1037.


This change is‚ÄÇ","Review status: 6 of 9 files reviewed at latest revision, 6 unresolved discussions.

src/settings.c, line 2 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Suggestion: Add include_directories(SYSTEM minIni/dev/) to the CMakeLists.txt and include this like <minIni.h>.

Done.

src/settings.c, line 25 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Have this take 2 arguments so it doesn't break if there isn't a variable conveniently named key in scope when this is used.

Done.

src/settings.c, line 108 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
All these should also be static. Nothing outside of settings.c should be writing to our config.

Done.

src/settings.c, line 569 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
No need to keep saving in the old format. Loading is enough.

Done.

src/windows/filesys.c, line 33 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
strlen doesn't need to be able to alter the string.

Err, what do you mean?

src/settings.h, line 133 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Move this to the .c file if no other files need to know about these.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/1053#issuecomment-330953030,"Fixes #1037.


This change is‚ÄÇ","Reviewed 4 of 4 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/filesys.c, line 33 at r3 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Err, what do you mean?

You're casting away const for name before passing it to strlen and that doesn't seem like it should be required.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/1053#issuecomment-330955602,"Fixes #1037.


This change is‚ÄÇ","Review status: 8 of 9 files reviewed at latest revision, 1 unresolved discussion.

src/windows/filesys.c, line 33 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You're casting away const for name before passing it to strlen and that doesn't seem like it should be required.

ü§¶
Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/endoffile78,12,https://github.com/uTox/uTox/pull/1053#issuecomment-338353083,"Fixes #1037.


This change is‚ÄÇ","Reviewed 1 of 9 files at r1, 4 of 7 files at r2, 3 of 4 files at r4, 1 of 1 files at r5.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

.gitmodules, line 4 at r5 (raw file):

	path = stb
	url = https://github.com/nothings/stb.git
[submodule ""minIni""]


Move this to the third-party directory

src/filesys.c, line 64 at r5 (raw file):

}

char *get_filepath(const char *name) {

Rename this utox_get_filepath to be consistent with the other native wrapper functions.

src/settings.c, line 145 at r5 (raw file):

        return GENERAL_SECTION;
    }
    if (MATCH(interface_section, section)) {

Change this and the rest of the if statements to else if statements

src/settings.c, line 361 at r5 (raw file):

    write_config_value_bool(config_path, advanced_section, NAMEOF(config->force_proxy), config->force_proxy);
    write_config_value_bool(config_path, advanced_section, NAMEOF(config->auto_update), config->auto_update);
    // TODO: block_friend_requests

config->block_friend_requests is just a bool was there a problem with saving that one?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/redmanmale,13,https://github.com/uTox/uTox/pull/1053#issuecomment-338382211,"Fixes #1037.


This change is‚ÄÇ","Review status: 3 of 9 files reviewed at latest revision, 4 unresolved discussions.

.gitmodules, line 4 at r5 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Move this to the third-party directory

Done.

src/filesys.c, line 64 at r5 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Rename this utox_get_filepath to be consistent with the other native wrapper functions.

Done.

src/settings.c, line 145 at r5 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Change this and the rest of the if statements to else if statements

Why? There's just return in every section.

src/settings.c, line 361 at r5 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
config->block_friend_requests is just a bool was there a problem with saving that one?

There's no such field in UTOX_SAVE struct and I don't want to add it in this PR.
After we merge this it will be a lot easier to add new options.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/endoffile78,14,https://github.com/uTox/uTox/pull/1053#issuecomment-338394126,"Fixes #1037.


This change is‚ÄÇ","Reviewed 7 of 7 files at r6.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/settings.c, line 145 at r5 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Why? There's just return in every section.

It looks cleaner.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/redmanmale,15,https://github.com/uTox/uTox/pull/1053#issuecomment-338434152,"Fixes #1037.


This change is‚ÄÇ","Review status: 8 of 9 files reviewed at latest revision, 1 unresolved discussion.

src/settings.c, line 145 at r5 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
It looks cleaner.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/endoffile78,16,https://github.com/uTox/uTox/pull/1053#issuecomment-338442895,"Fixes #1037.


This change is‚ÄÇ","Reviewed 1 of 1 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/GrayHatter,17,https://github.com/uTox/uTox/pull/1053#issuecomment-339396317,"Fixes #1037.


This change is‚ÄÇ","Reviewed 4 of 7 files at r6, 2 of 2 files at r8.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

CMakeLists.txt, line 302 at r8 (raw file):

include_directories(SYSTEM third-party/stb)
include_directories(SYSTEM third-party/minini/dev)

see also #1104

src/settings.c, line 38 at r8 (raw file):

static const uint16_t proxy_address_size = 256; // Magic number inside Toxcore.

static const char *general_section       = ""general"";

make this an **array, and use the enum to reference the array positon

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/endoffile78,18,https://github.com/uTox/uTox/pull/1053#issuecomment-339433432,"Fixes #1037.


This change is‚ÄÇ","Reviewed 2 of 2 files at r8.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/redmanmale,19,https://github.com/uTox/uTox/pull/1053#issuecomment-339482921,"Fixes #1037.


This change is‚ÄÇ","Review status: 8 of 9 files reviewed at latest revision, 2 unresolved discussions.

CMakeLists.txt, line 302 at r8 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
see also #1104

I'll wait for review for STB and make a similar for minIni.

src/settings.c, line 38 at r8 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
make this an **array, and use the enum to reference the array positon

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/endoffile78,20,https://github.com/uTox/uTox/pull/1053#issuecomment-339503689,"Fixes #1037.


This change is‚ÄÇ","Reviewed 1 of 1 files at r9.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/settings.c, line 55 at r9 (raw file):

    ""av"",
    ""notifications"",
    ""advanced""

Add NULL as the last element in the array for UNKNOWN_SECTION.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/redmanmale,21,https://github.com/uTox/uTox/pull/1053#issuecomment-339564064,"Fixes #1037.


This change is‚ÄÇ","Review status: 8 of 9 files reviewed at latest revision, 3 unresolved discussions.

src/settings.c, line 55 at r9 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Add NULL as the last element in the array for UNKNOWN_SECTION.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/endoffile78,22,https://github.com/uTox/uTox/pull/1053#issuecomment-339658900,"Fixes #1037.


This change is‚ÄÇ","Reviewed 1 of 1 files at r10.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/robinlinden,23,https://github.com/uTox/uTox/pull/1053#issuecomment-339776161,"Fixes #1037.


This change is‚ÄÇ","Reviewed 1 of 1 files at r5, 4 of 7 files at r6, 2 of 2 files at r8, 1 of 1 files at r10.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1053,2017-09-15T22:03:00Z,2017-10-27T21:10:07Z,2017-10-27T21:10:15Z,MERGED,True,435,85,9,https://github.com/redmanmale,INI config,18,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1053,https://github.com/GrayHatter,24,https://github.com/uTox/uTox/pull/1053#issuecomment-339778185,"Fixes #1037.


This change is‚ÄÇ","@redmanmale for future notice, never use else after returns

Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1056,2017-09-17T09:35:28Z,2017-09-17T17:33:10Z,2017-09-18T21:38:17Z,MERGED,True,20,12,1,https://github.com/robinlinden,Don't look for all Toxcore libs by default.,1,[],https://github.com/uTox/uTox/pull/1056,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1056,"Apparently cmake generates one set of libs and autotools another. This change is required to fix some packaging things for our .debs.


This change is‚ÄÇ","Apparently cmake generates one set of libs and autotools another. This change is required to fix some packaging things for our .debs.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1056,2017-09-17T09:35:28Z,2017-09-17T17:33:10Z,2017-09-18T21:38:17Z,MERGED,True,20,12,1,https://github.com/robinlinden,Don't look for all Toxcore libs by default.,1,[],https://github.com/uTox/uTox/pull/1056,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1056#issuecomment-330061405,"Apparently cmake generates one set of libs and autotools another. This change is required to fix some packaging things for our .debs.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1056,2017-09-17T09:35:28Z,2017-09-17T17:33:10Z,2017-09-18T21:38:17Z,MERGED,True,20,12,1,https://github.com/robinlinden,Don't look for all Toxcore libs by default.,1,[],https://github.com/uTox/uTox/pull/1056,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1056#issuecomment-330063785,"Apparently cmake generates one set of libs and autotools another. This change is required to fix some packaging things for our .debs.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1060,2017-09-18T20:20:36Z,2017-09-19T19:30:11Z,2017-09-19T19:30:18Z,MERGED,True,2,0,1,https://github.com/GrayHatter,Fix travis's IRC noise,1,[],https://github.com/uTox/uTox/pull/1060,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1060,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1060,2017-09-18T20:20:36Z,2017-09-19T19:30:11Z,2017-09-19T19:30:18Z,MERGED,True,2,0,1,https://github.com/GrayHatter,Fix travis's IRC noise,1,[],https://github.com/uTox/uTox/pull/1060,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1060#issuecomment-330399329,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1060,2017-09-18T20:20:36Z,2017-09-19T19:30:11Z,2017-09-19T19:30:18Z,MERGED,True,2,0,1,https://github.com/GrayHatter,Fix travis's IRC noise,1,[],https://github.com/uTox/uTox/pull/1060,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1060#issuecomment-330452468,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1061,2017-09-19T19:11:10Z,2017-10-25T17:25:22Z,2017-10-25T21:14:12Z,MERGED,True,16,12,1,https://github.com/redmanmale,[Windows] Allow multiple portable instances of uTox to run concurrently,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1061,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1061,"Fixes #898.


This change is‚ÄÇ","Fixes #898.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1061,2017-09-19T19:11:10Z,2017-10-25T17:25:22Z,2017-10-25T21:14:12Z,MERGED,True,16,12,1,https://github.com/redmanmale,[Windows] Allow multiple portable instances of uTox to run concurrently,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1061,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1061#issuecomment-330668970,"Fixes #898.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/main.c, line 844 at r1 (raw file):

        GetModuleFileName(hModule, path, MAX_PATH);

        char *utox_folder = dirname(strdup(path));

does this leak?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1061,2017-09-19T19:11:10Z,2017-10-25T17:25:22Z,2017-10-25T21:14:12Z,MERGED,True,16,12,1,https://github.com/redmanmale,[Windows] Allow multiple portable instances of uTox to run concurrently,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1061,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1061#issuecomment-330677122,"Fixes #898.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/main.c, line 844 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
does this leak?

If got it right, it doesn't.
https://linux.die.net/man/3/dirname
Both dirname() and basename() return pointers to null-terminated strings. Do not pass these pointers to free.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1061,2017-09-19T19:11:10Z,2017-10-25T17:25:22Z,2017-10-25T21:14:12Z,MERGED,True,16,12,1,https://github.com/redmanmale,[Windows] Allow multiple portable instances of uTox to run concurrently,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1061,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1061#issuecomment-330680991,"Fixes #898.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/windows/main.c, line 844 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
If got it right, it doesn't.
https://linux.die.net/man/3/dirname
Both dirname() and basename() return pointers to null-terminated strings. Do not pass these pointers to free.

The return value of strdup has to be freed.

src/windows/main.c, line 849 at r1 (raw file):

        strcpy(portable_mode_save_path, utox_folder);
    } else {
        GetModuleFileName(NULL, path, MAX_PATH);

This will still let me open 2 instances of uTox using my %APPDATA%\toxprofile for as long as I open them from different folders. Maybe rename path to instance_id or something and give it ""uTox"" if we're not in portable mode. Or you could always use the path of the tox_save.tox we're loading.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1061,2017-09-19T19:11:10Z,2017-10-25T17:25:22Z,2017-10-25T21:14:12Z,MERGED,True,16,12,1,https://github.com/redmanmale,[Windows] Allow multiple portable instances of uTox to run concurrently,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1061,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/1061#issuecomment-330681072,"Fixes #898.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1061,2017-09-19T19:11:10Z,2017-10-25T17:25:22Z,2017-10-25T21:14:12Z,MERGED,True,16,12,1,https://github.com/redmanmale,[Windows] Allow multiple portable instances of uTox to run concurrently,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1061,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/1061#issuecomment-330687909,"Fixes #898.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1061,2017-09-19T19:11:10Z,2017-10-25T17:25:22Z,2017-10-25T21:14:12Z,MERGED,True,16,12,1,https://github.com/redmanmale,[Windows] Allow multiple portable instances of uTox to run concurrently,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1061,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1061#issuecomment-330943627,"Fixes #898.


This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 2 unresolved discussions.

src/windows/main.c, line 844 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
The return value of strdup has to be freed.

Done.

src/windows/main.c, line 849 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This will still let me open 2 instances of uTox using my %APPDATA%\toxprofile for as long as I open them from different folders. Maybe rename path to instance_id or something and give it ""uTox"" if we're not in portable mode. Or you could always use the path of the tox_save.tox we're loading.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1061,2017-09-19T19:11:10Z,2017-10-25T17:25:22Z,2017-10-25T21:14:12Z,MERGED,True,16,12,1,https://github.com/redmanmale,[Windows] Allow multiple portable instances of uTox to run concurrently,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1061,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/1061#issuecomment-330952235,"Fixes #898.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1061,2017-09-19T19:11:10Z,2017-10-25T17:25:22Z,2017-10-25T21:14:12Z,MERGED,True,16,12,1,https://github.com/redmanmale,[Windows] Allow multiple portable instances of uTox to run concurrently,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1061,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/1061#issuecomment-339206270,"Fixes #898.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1063,2017-09-21T18:18:27Z,2017-09-26T16:54:59Z,2017-09-26T18:09:16Z,MERGED,True,37,33,3,https://github.com/redmanmale,Minor UI fixes,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1063,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1063,"Fix last two from #868.

overlapping message timestamp
boundboxes of buttons in userbadge

If we make boundboxes visible, they were:

and now they are:



This change is‚ÄÇ","Fix last two from #868.

overlapping message timestamp
boundboxes of buttons in userbadge

If we make boundboxes visible, they were:

and now they are:



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1063,2017-09-21T18:18:27Z,2017-09-26T16:54:59Z,2017-09-26T18:09:16Z,MERGED,True,37,33,3,https://github.com/redmanmale,Minor UI fixes,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1063,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1063#issuecomment-331636794,"Fix last two from #868.

overlapping message timestamp
boundboxes of buttons in userbadge

If we make boundboxes visible, they were:

and now they are:



This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1063,2017-09-21T18:18:27Z,2017-09-26T16:54:59Z,2017-09-26T18:09:16Z,MERGED,True,37,33,3,https://github.com/redmanmale,Minor UI fixes,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1063,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1063#issuecomment-332077977,"Fix last two from #868.

overlapping message timestamp
boundboxes of buttons in userbadge

If we make boundboxes visible, they were:

and now they are:



This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1063,2017-09-21T18:18:27Z,2017-09-26T16:54:59Z,2017-09-26T18:09:16Z,MERGED,True,37,33,3,https://github.com/redmanmale,Minor UI fixes,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1063,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1063#issuecomment-332284975,"Fix last two from #868.

overlapping message timestamp
boundboxes of buttons in userbadge

If we make boundboxes visible, they were:

and now they are:



This change is‚ÄÇ",üëç thanks @redmanmale,True,{}
uTox/uTox,https://github.com/uTox/uTox,1066,2017-09-23T11:28:52Z,2017-09-23T12:43:07Z,2017-09-24T11:05:59Z,MERGED,True,2,2,1,https://github.com/termac,"tray icon fix in d505cb8f was not correct, cleanup",1,[],https://github.com/uTox/uTox/pull/1066,https://github.com/termac,1,https://github.com/uTox/uTox/pull/1066,"Commit d505cb8 tried to read the icon_size directly from
_binary_icons_utox_128x128_png_size which is wrong.
The way it was done before via &_binary_icons_utox_128x128_png_size is
the correct way to do it.
Unfortunately this is not working anymore on systems with PIE (position
independent executable) enabled by default. This causes the loader to
relocate the absolute symbol _binary_icons_utox_128x128_png_size, which
defeats the purpose of the symbol being absolute.
(See discussion here: [1])
A proper fix would be not to use ld to generate the object file but to
serialize the png file to C code via a helper programm during the build
process. I will look into that.
For now just calculate the icon size from the symbols
_binary_icons_utox_128x128_png_start and
_binary_icons_utox_128x128_png_end.
[1] https://www.reddit.com/r/C_Programming/comments/71qx7t/reading_the_size_of_linked_binary_object_file/)


This change is‚ÄÇ","Commit d505cb8 tried to read the icon_size directly from
_binary_icons_utox_128x128_png_size which is wrong.
The way it was done before via &_binary_icons_utox_128x128_png_size is
the correct way to do it.
Unfortunately this is not working anymore on systems with PIE (position
independent executable) enabled by default. This causes the loader to
relocate the absolute symbol _binary_icons_utox_128x128_png_size, which
defeats the purpose of the symbol being absolute.
(See discussion here: [1])
A proper fix would be not to use ld to generate the object file but to
serialize the png file to C code via a helper programm during the build
process. I will look into that.
For now just calculate the icon size from the symbols
_binary_icons_utox_128x128_png_start and
_binary_icons_utox_128x128_png_end.
[1] https://www.reddit.com/r/C_Programming/comments/71qx7t/reading_the_size_of_linked_binary_object_file/)


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1066,2017-09-23T11:28:52Z,2017-09-23T12:43:07Z,2017-09-24T11:05:59Z,MERGED,True,2,2,1,https://github.com/termac,"tray icon fix in d505cb8f was not correct, cleanup",1,[],https://github.com/uTox/uTox/pull/1066,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1066#issuecomment-331629818,"Commit d505cb8 tried to read the icon_size directly from
_binary_icons_utox_128x128_png_size which is wrong.
The way it was done before via &_binary_icons_utox_128x128_png_size is
the correct way to do it.
Unfortunately this is not working anymore on systems with PIE (position
independent executable) enabled by default. This causes the loader to
relocate the absolute symbol _binary_icons_utox_128x128_png_size, which
defeats the purpose of the symbol being absolute.
(See discussion here: [1])
A proper fix would be not to use ld to generate the object file but to
serialize the png file to C code via a helper programm during the build
process. I will look into that.
For now just calculate the icon size from the symbols
_binary_icons_utox_128x128_png_start and
_binary_icons_utox_128x128_png_end.
[1] https://www.reddit.com/r/C_Programming/comments/71qx7t/reading_the_size_of_linked_binary_object_file/)


This change is‚ÄÇ","Thanks for fixing it! 

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1066,2017-09-23T11:28:52Z,2017-09-23T12:43:07Z,2017-09-24T11:05:59Z,MERGED,True,2,2,1,https://github.com/termac,"tray icon fix in d505cb8f was not correct, cleanup",1,[],https://github.com/uTox/uTox/pull/1066,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1066#issuecomment-331630540,"Commit d505cb8 tried to read the icon_size directly from
_binary_icons_utox_128x128_png_size which is wrong.
The way it was done before via &_binary_icons_utox_128x128_png_size is
the correct way to do it.
Unfortunately this is not working anymore on systems with PIE (position
independent executable) enabled by default. This causes the loader to
relocate the absolute symbol _binary_icons_utox_128x128_png_size, which
defeats the purpose of the symbol being absolute.
(See discussion here: [1])
A proper fix would be not to use ld to generate the object file but to
serialize the png file to C code via a helper programm during the build
process. I will look into that.
For now just calculate the icon size from the symbols
_binary_icons_utox_128x128_png_start and
_binary_icons_utox_128x128_png_end.
[1] https://www.reddit.com/r/C_Programming/comments/71qx7t/reading_the_size_of_linked_binary_object_file/)


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1068,2017-09-24T21:47:47Z,2017-10-30T19:29:56Z,2019-01-14T21:18:01Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allow loading a 0 fps setting from save.,1,[],https://github.com/uTox/uTox/pull/1068,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1068,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1068,2017-09-24T21:47:47Z,2017-10-30T19:29:56Z,2019-01-14T21:18:01Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allow loading a 0 fps setting from save.,1,[],https://github.com/uTox/uTox/pull/1068,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1068#issuecomment-331780178,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/settings.c, line 215 at r1 (raw file):

    settings.send_version           = save->send_version;

    settings.video_fps = save->video_fps == 0 ? 25 : save->video_fps;

     settings.video_fps = save->video_fps ? save->video_fps : 25;

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1068,2017-09-24T21:47:47Z,2017-10-30T19:29:56Z,2019-01-14T21:18:01Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allow loading a 0 fps setting from save.,1,[],https://github.com/uTox/uTox/pull/1068,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1068#issuecomment-331781114,This change is‚ÄÇ,"I did that at first but changed it to this after looking at the other
places this construct was used.
‚Ä¶
On Mon, 25 Sep 2017, 07:25 Gregory Mullen ***@***.***> wrote:
 Review status: 0 of 1 files reviewed at latest revision, 1 unresolved
 discussion.
 ------------------------------

 *src/settings.c, line 215 at r1
 <https://reviewable.io:443/reviews/utox/utox/1068#-KurUf4l3LYMX-HriEdc:-KurUf4l3LYMX-HriEdd:b-71qrej>
 (raw file
 <https://github.com/utox/utox/blob/7f376bb7668bfe5609012999e5e471e0ff947212/src/settings.c#L215>):*

     settings.send_version           = save->send_version;

     settings.video_fps = save->video_fps == 0 ? 25 : save->video_fps;

 settings.video_fps = save->video_fps ? save->video_fps : 25;
 ------------------------------

 *Comments from Reviewable
 <https://reviewable.io:443/reviews/utox/utox/1068>*

 ‚Äî
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#1068 (comment)>, or mute
 the thread
 <https://github.com/notifications/unsubscribe-auth/AH63TjSWRQbvD2JIfS_bk0bPFKLHqaSgks5slzlAgaJpZM4PiCoP>
 .",True,{}
uTox/uTox,https://github.com/uTox/uTox,1068,2017-09-24T21:47:47Z,2017-10-30T19:29:56Z,2019-01-14T21:18:01Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allow loading a 0 fps setting from save.,1,[],https://github.com/uTox/uTox/pull/1068,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1068#issuecomment-331781262,This change is‚ÄÇ,the other places are wrong then,True,{}
uTox/uTox,https://github.com/uTox/uTox,1068,2017-09-24T21:47:47Z,2017-10-30T19:29:56Z,2019-01-14T21:18:01Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allow loading a 0 fps setting from save.,1,[],https://github.com/uTox/uTox/pull/1068,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1068#issuecomment-331787470,This change is‚ÄÇ,"video_fps is integer, is it not considered an implicit use of number as boolean bad? Explicit comparison is better in such cases, isn't?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1068,2017-09-24T21:47:47Z,2017-10-30T19:29:56Z,2019-01-14T21:18:01Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allow loading a 0 fps setting from save.,1,[],https://github.com/uTox/uTox/pull/1068,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1068#issuecomment-331794660,This change is‚ÄÇ,"Maybe in some languages, but in iso c; bool really isn't a thing. The smallest form of memory is 8 bits. thus even a bool == uint8_t. Where 0 == false, and everything else is true.
Simply the ? is just if not 0, use what's before the :, else use what's after the :",True,{}
uTox/uTox,https://github.com/uTox/uTox,1068,2017-09-24T21:47:47Z,2017-10-30T19:29:56Z,2019-01-14T21:18:01Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allow loading a 0 fps setting from save.,1,[],https://github.com/uTox/uTox/pull/1068,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1068#issuecomment-331808926,This change is‚ÄÇ,"Roger that, thanks.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1068,2017-09-24T21:47:47Z,2017-10-30T19:29:56Z,2019-01-14T21:18:01Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allow loading a 0 fps setting from save.,1,[],https://github.com/uTox/uTox/pull/1068,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/1068#issuecomment-332078072,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1068,2017-09-24T21:47:47Z,2017-10-30T19:29:56Z,2019-01-14T21:18:01Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allow loading a 0 fps setting from save.,1,[],https://github.com/uTox/uTox/pull/1068,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/1068#issuecomment-340292760,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/settings.c, line 215 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
     settings.video_fps = save->video_fps ? save->video_fps : 25;

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1068,2017-09-24T21:47:47Z,2017-10-30T19:29:56Z,2019-01-14T21:18:01Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allow loading a 0 fps setting from save.,1,[],https://github.com/uTox/uTox/pull/1068,https://github.com/redmanmale,10,https://github.com/uTox/uTox/pull/1068#issuecomment-340293119,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1068,2017-09-24T21:47:47Z,2017-10-30T19:29:56Z,2019-01-14T21:18:01Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allow loading a 0 fps setting from save.,1,[],https://github.com/uTox/uTox/pull/1068,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/1068#issuecomment-340557184,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1069,2017-09-25T16:45:53Z,2017-10-05T20:22:46Z,2017-12-02T10:10:44Z,MERGED,True,17,1,1,https://github.com/redmanmale,Graceful shutdown,1,['PR: READY'],https://github.com/uTox/uTox/pull/1069,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1069,"Handle termination signals (SIGINT and others) and shutdown uTox gracefully (for example save settings).
Closes #901.


This change is‚ÄÇ","Handle termination signals (SIGINT and others) and shutdown uTox gracefully (for example save settings).
Closes #901.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1069,2017-09-25T16:45:53Z,2017-10-05T20:22:46Z,2017-12-02T10:10:44Z,MERGED,True,17,1,1,https://github.com/redmanmale,Graceful shutdown,1,['PR: READY'],https://github.com/uTox/uTox/pull/1069,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1069#issuecomment-331944159,"Handle termination signals (SIGINT and others) and shutdown uTox gracefully (for example save settings).
Closes #901.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/xlib/main.c, line 48 at r1 (raw file):

XIC xic = NULL;
static XSizeHints *xsh = NULL;
static volatile bool shutdown = false;

Doesn't need to be volatile.

src/xlib/main.c, line 678 at r1 (raw file):

static void signal_handler(int UNUSED (signal))
{
    LOG_INFO(""Main"", ""Graceful shutdown"");

This should print the signal received

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1069,2017-09-25T16:45:53Z,2017-10-05T20:22:46Z,2017-12-02T10:10:44Z,MERGED,True,17,1,1,https://github.com/redmanmale,Graceful shutdown,1,['PR: READY'],https://github.com/uTox/uTox/pull/1069,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1069#issuecomment-331952763,"Handle termination signals (SIGINT and others) and shutdown uTox gracefully (for example save settings).
Closes #901.


This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 2 unresolved discussions.

src/xlib/main.c, line 48 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Doesn't need to be volatile.

Done.

src/xlib/main.c, line 678 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This should print the signal received

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1069,2017-09-25T16:45:53Z,2017-10-05T20:22:46Z,2017-12-02T10:10:44Z,MERGED,True,17,1,1,https://github.com/redmanmale,Graceful shutdown,1,['PR: READY'],https://github.com/uTox/uTox/pull/1069,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1069#issuecomment-331959061,"Handle termination signals (SIGINT and others) and shutdown uTox gracefully (for example save settings).
Closes #901.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1069,2017-09-25T16:45:53Z,2017-10-05T20:22:46Z,2017-12-02T10:10:44Z,MERGED,True,17,1,1,https://github.com/redmanmale,Graceful shutdown,1,['PR: READY'],https://github.com/uTox/uTox/pull/1069,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/1069#issuecomment-332077515,"Handle termination signals (SIGINT and others) and shutdown uTox gracefully (for example save settings).
Closes #901.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1070,2017-09-25T17:55:39Z,2017-09-26T18:27:58Z,2017-09-26T18:28:44Z,MERGED,True,16,7,3,https://github.com/redmanmale,Language fixes,2,[],https://github.com/uTox/uTox/pull/1070,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1070,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1070,2017-09-25T17:55:39Z,2017-09-26T18:27:58Z,2017-09-26T18:28:44Z,MERGED,True,16,7,3,https://github.com/redmanmale,Language fixes,2,[],https://github.com/uTox/uTox/pull/1070,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1070#issuecomment-332077821,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1070,2017-09-25T17:55:39Z,2017-09-26T18:27:58Z,2017-09-26T18:28:44Z,MERGED,True,16,7,3,https://github.com/redmanmale,Language fixes,2,[],https://github.com/uTox/uTox/pull/1070,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1070#issuecomment-332284638,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1070,2017-09-25T17:55:39Z,2017-09-26T18:27:58Z,2017-09-26T18:28:44Z,MERGED,True,16,7,3,https://github.com/redmanmale,Language fixes,2,[],https://github.com/uTox/uTox/pull/1070,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1070#issuecomment-332291229,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1.
Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1071,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1071#issuecomment-334886500,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","@publicarray
Could you help me with macOS part?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/publicarray,3,https://github.com/uTox/uTox/pull/1071#issuecomment-334905756,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ",@redmanmale Yea I'll look into it. Do you want me to add commits to this pr?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/publicarray,4,https://github.com/uTox/uTox/pull/1071#issuecomment-334908279,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ",There is a race condition when the status has switched to idle (due to inactivity) and the user quickly  (before the code switches the status) presses the status button to become online. The idle code will no longer switch to idle status automatically.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1071#issuecomment-334916586,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ",Thank you very much @publicarray!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/publicarray,6,https://github.com/uTox/uTox/pull/1071#issuecomment-334916882,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ",You are very welcome üòÑ Love to help.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/publicarray,7,https://github.com/uTox/uTox/pull/1071#issuecomment-334921696,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ",This is just a guess but I don't think !PLATFORM_ANDROID is needed. Isn't the file only included on MacOS? Thanks for fixing my spelling!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/redmanmale,8,https://github.com/uTox/uTox/pull/1071#issuecomment-334925241,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","Yes, it's a little overkill, but I want to use the same condition !DISABLE_IDLE_STATUS && !PLATFORM_ANDROID everywhere.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/publicarray,9,https://github.com/uTox/uTox/pull/1071#issuecomment-334987891,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ",IMHO I prefer to keep platform specific stuff tied to that platform and not sprinkle it over to other platforms.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/1071#issuecomment-337307612,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","I'll re-review once there's not an #ifdef in every file.
+@GrayHatter

Reviewed 3 of 11 files at r1.
Review status: 3 of 12 files reviewed at latest revision, 4 unresolved discussions.

langs/en.h, line 495 at r3 (raw file):

 * Status name (Away) should be the same as STATUS_AWAY
 */
#if !DISABLE_IDLE_STATUS && !PLATFORM_ANDROID

don't add an #if here

langs/i18n_decls.h, line 169 at r3 (raw file):

    STR_SETTINGS_UI_AUTO_HIDE_SIDEBAR,

    #if !DISABLE_IDLE_STATUS && !PLATFORM_ANDROID

these should always exist. Even if they're not used no a platform...
poor android...

langs/ru.h, line 416 at r3 (raw file):

 * –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (–Ω–µ –Ω–∞ –º–µ—Å—Ç–µ) –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–∞–∫–∏–º –∂–µ, –∫–∞–∫ STATUS_AWAY
 */
#if !DISABLE_IDLE_STATUS && !PLATFORM_ANDROID

no #if

src/settings.c, line 73 at r3 (raw file):

    .magic_flist_enabled    = false,

    #if !DISABLE_IDLE_STATUS && !PLATFORM_ANDROID

I'm gonna stop commenting but I don't like #if's unless they're features you have a strong reason to compile in/out. X11 must exist, so Xss is a fine dependency to add.
If you really want to be pedantic, you could detect for the existence of Xss, and then just disable the option via the UI

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/1071#issuecomment-337363862,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","@GrayHatter
Can I just drop DISABLE_IDLE_STATUS option and always require X11 package?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/redmanmale,12,https://github.com/uTox/uTox/pull/1071#issuecomment-337694589,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","Review status: 0 of 12 files reviewed at latest revision, 4 unresolved discussions.

langs/en.h, line 495 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
don't add an #if here

Done.

langs/i18n_decls.h, line 169 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
these should always exist. Even if they're not used no a platform...
poor android...

Done.

langs/ru.h, line 416 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
no #if

Done.

src/settings.c, line 73 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I'm gonna stop commenting but I don't like #if's unless they're features you have a strong reason to compile in/out. X11 must exist, so Xss is a fine dependency to add.
If you really want to be pedantic, you could detect for the existence of Xss, and then just disable the option via the UI

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/endoffile78,13,https://github.com/uTox/uTox/pull/1071#issuecomment-338235864,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","Reviewed 12 of 12 files at r4.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/1071#issuecomment-339776683,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","@redmanmale I think you have dropped DISABLE_IDLE_STATUS, which is fine. But this is going to take me some time to review. I'm not convinced XNextEventTimed is the best way to go about this, so I'll have to do a little research.
If you want to merge this sooner, you can wrap the xlib stuff in an #ifdef 0 and comments as to why, then I can just review the Windows stuff which on first glance looks fine.

Reviewed 2 of 12 files at r4, 2 of 6 files at r5.
Review status: 8 of 12 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/redmanmale,15,https://github.com/uTox/uTox/pull/1071#issuecomment-340084932,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","I don't like to merge unfinished features so I'll wait for your review.
But I hope we'll have this in next release (0.17.0), otherwise I'd prefer to comment out Xlib part as you said.

Review status: 8 of 12 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/robinlinden,16,https://github.com/uTox/uTox/pull/1071#issuecomment-341984040,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","Reviewed 6 of 12 files at r4, 6 of 6 files at r5.
Review status: all files reviewed at latest revision, 9 unresolved discussions.

CMakeLists.txt, line 301 at r5 (raw file):

set(LIBRARIES ${LIBRARIES} ${LIBSODIUM_LIBRARIES})

if(UNIX AND NOT APPLE)

@endoffile78 Can you test this on whateverBSD?

langs/en.h, line 499 at r5 (raw file):

 */
msgid(SETTINGS_IDLE_STATUS)
msgstr(""Show me as Away after"")

You should probably combine this string with the one below and add a %u format specifier for the number to make localisation less of a chore.

src/settings.c, line 73 at r5 (raw file):

    .magic_flist_enabled    = false,

    // TODO: Add to save

Can this be done now that the .ini PR is merged?

src/cocoa/main.m, line 41 at r5 (raw file):

#define DEFAULT_HEIGHT (320 * DEFAULT_SCALE)

struct utox_self *tox_self; // reference to self from self.h

Make this static.

src/layout/settings.c, line 1419 at r5 (raw file):

static void edit_idle_interval_onenter(EDIT *UNUSED(edit)) {
    edit_idle_interval.data[edit_idle_interval.length] = 0;
    settings.idle_interval = strtol((char *)edit_idle_interval.data, NULL, 0);

What happens when settings.idle_interval is set to 0? (If strtol fails.) Should we do some sanity/bound checking here?

src/windows/main.c, line 813 at r5 (raw file):

static void CALLBACK idle_handler(HWND UNUSED(hwnd), UINT UNUSED(message), UINT UNUSED(idTimer), DWORD dwTime)
{

Move this to the line above. (1TBS)

src/windows/main.c, line 823 at r5 (raw file):

    GetLastInputInfo(&last_active);

    if (dwTime - last_active.dwTime > (uint16_t)(settings.idle_interval * 1000 * 60)) {

This should probably not be cast to an uint16_t since 2 seconds would mean that the number we're casting is 120 000 and a bit bigger than what an uint16 can contain.

src/xlib/main.c, line 753 at r5 (raw file):

            tv->tv_usec = 0;
            return false;
        } else {

You can let this fall through to the end of the function where this code also exists.

src/xlib/main.c, line 757 at r5 (raw file):

            return true;
        }
    } else {

No else after return.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/GrayHatter,17,https://github.com/uTox/uTox/pull/1071#issuecomment-363515140,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ",bump,True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/redmanmale,18,https://github.com/uTox/uTox/pull/1071#issuecomment-363531338,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","Review status: 0 of 12 files reviewed at latest revision, 9 unresolved discussions.

langs/en.h, line 499 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You should probably combine this string with the one below and add a %u format specifier for the number to make localisation less of a chore.

I can't do it just like that because it used in the different UI labels.

src/settings.c, line 73 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Can this be done now that the .ini PR is merged?

Done.

src/cocoa/main.m, line 41 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Make this static.

Done.

src/layout/settings.c, line 1419 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
What happens when settings.idle_interval is set to 0? (If strtol fails.) Should we do some sanity/bound checking here?

Done.

src/windows/main.c, line 813 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Move this to the line above. (1TBS)

Done.

src/windows/main.c, line 823 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This should probably not be cast to an uint16_t since 2 seconds would mean that the number we're casting is 120 000 and a bit bigger than what an uint16 can contain.

Done.

src/xlib/main.c, line 753 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You can let this fall through to the end of the function where this code also exists.

Done.

src/xlib/main.c, line 757 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
No else after return.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/redmanmale,19,https://github.com/uTox/uTox/pull/1071#issuecomment-397306217,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ",It's been a while... Can we merge this?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/GrayHatter,20,https://github.com/uTox/uTox/pull/1071#issuecomment-397408260,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","Robin is away on vacation, he'll have to take a look when he gets back.

Reviewed 2 of 12 files at r6.
Review status: 12 files need 2 more reviewers, 9 open discussions remaining, 1 assignee LGTMs are missing, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/GrayHatter,21,https://github.com/uTox/uTox/pull/1071#issuecomment-399516293,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","Reviewed 2 of 8 files at r7.
Review status: 12 files need 2 more reviewers, 10 open discussions remaining, 1 assignee LGTMs are missing, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

src/ui.c, line 147 at r7 (raw file):

    CREATE_SWITCH(auto_startup,      10, 150, _BM_SWITCH_WIDTH, _BM_SWITCH_HEIGHT);
    CREATE_SWITCH(mini_contacts,     10, 180, _BM_SWITCH_WIDTH, _BM_SWITCH_HEIGHT);
    CREATE_EDIT(idle_interval, _BM_SWITCH_WIDTH + 25 + UN_SCALE(UTOX_STR_WIDTH(SETTINGS_IDLE_STATUS)), 211, 50, 24);

this isn't supposed to be in here anymore. It belongs in the layout dir

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/GrayHatter,22,https://github.com/uTox/uTox/pull/1071#issuecomment-399516823,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","Reviewed 1 of 12 files at r6, 2 of 8 files at r7.
Review status: 12 files need 2 more reviewers, 11 open discussions remaining, 1 assignee LGTMs are missing, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

src/settings.h, line 20 at r7 (raw file):

 * Period (in seconds) for check is user idle or not.
 */
static const uint16_t idle_check_period = 1;

I defines in headers make me nervous... ESPECIALLY when you make them static as well.
Plus, wouldn't time_t be better here?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1071,2017-09-27T17:32:33Z,,2018-10-11T21:39:18Z,OPEN,False,312,25,12,https://github.com/redmanmale,Idle status,18,[],https://github.com/uTox/uTox/pull/1071,https://github.com/redmanmale,23,https://github.com/uTox/uTox/pull/1071#issuecomment-399686528,"aka auto away (#325) aka presence state (#167).
After some configurable time of inactivity (no mousemoves or keystrokes) your status will be automatically changed to away. In case of activity it will be changed back to online.

save settings
UI: switch for on/off, label and input for value
Windows: timer to check for last user activity
Linux: select() and check for last user activity via x11 screensaver extensions libxss-dev (it's used everywhere)
macOS: timer to check for last user activity (implemented by @publicarray)



This change is‚ÄÇ","Review status: 12 files need 2 more reviewers, 11 open discussions remaining, 1 assignee LGTMs are missing, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

src/settings.h, line 20 at r7 (raw file):

I defines in headers make me nervous... ESPECIALLY when you make them static as well.

What do you mean? Is there a better place for it? Or something else?

wouldn't time_t be better here

On macOS it's double for seconds, on Win it's uint for milliseconds.
Only on Linux it's time_t.

src/ui.c, line 147 at r7 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this isn't supposed to be in here anymore. It belongs in the layout dir

IIRC I tried but failed.
It couldn't be done because of the macros UN_SCALE and UTOX_STR_WIDTH, panel struct definition allows only constans.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1073,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1073#issuecomment-333334109,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","Haven't tested this yet, but the code .

Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1073#issuecomment-338353676,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","Reviewed 1 of 3 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1073#issuecomment-339404952,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","Reviewed 1 of 3 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/utox.c, line 475 at r2 (raw file):

                memcpy(f->id_bin, data, TOX_PUBLIC_KEY_SIZE);

                char *request_message = strdup(edit_add_new_friend_msg.data);

can fail, and will segv in message_add_type_text

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1073#issuecomment-339478851,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","Review status: 2 of 3 files reviewed at latest revision, 1 unresolved discussion.

src/utox.c, line 475 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
can fail, and will segv in message_add_type_text

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1073#issuecomment-339781365,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/1073#issuecomment-339789034,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/1073#issuecomment-339792634,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","@redmanmale check the CI, it doesn't compile",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/1073#issuecomment-339883648,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","That's strange.
I can compile just fine and in the CI log there's an error with code that didn't exist anymore.
Maybe some caching, can we just re-run?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/robinlinden,10,https://github.com/uTox/uTox/pull/1073#issuecomment-340089442,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","Reviewed 1 of 2 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks pending.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/1073#issuecomment-342224785,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1073,2017-09-30T13:32:51Z,2017-11-07T15:15:34Z,2017-11-07T15:31:33Z,MERGED,True,28,7,3,https://github.com/redmanmale,Friend request improvements,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1073,https://github.com/endoffile78,12,https://github.com/uTox/uTox/pull/1073#issuecomment-342513255,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1074,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","I don't remember where I was on this, but it's not done.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1074#issuecomment-333937083,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 3 of 15 files at r1, 26 of 38 files at r2.
Review status: 29 of 47 files reviewed at latest revision, 2 unresolved discussions.

langs/en.h, line 338 at r2 (raw file):

msgid(GROUP_INVITE_FRIEND)
msgstr(""%s invites you to the chat"")

we don't allow null termination from data that could come from untrusted users.

src/layout/group.c, line 65 at r2 (raw file):

            }

            unsigned w = textwidth(buf, text_length);

this can overrun.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1074#issuecomment-333965073,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Review status: 27 of 47 files reviewed at latest revision, 2 unresolved discussions.

langs/en.h, line 338 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
we don't allow null termination from data that could come from untrusted users.

Done.

src/layout/group.c, line 65 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this can overrun.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1074#issuecomment-334931164,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 8 of 15 files at r1, 32 of 38 files at r2, 7 of 7 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/1074#issuecomment-334956298,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 3 unresolved discussions.

langs/en.h, line 335 at r3 (raw file):

msgid(GROUP_INVITE)
msgstr(""Chat invite"")

I'm not a fan of the change from groupchat to chat. Is this something we want to do?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/1074#issuecomment-334997214,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 18 of 18 files at r4.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/1074#issuecomment-342016112,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 1 of 15 files at r1, 1 of 38 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/layout/group_invite.c, line 23 at r4 (raw file):

static void button_group_invite_reject_on_mup(void);

void group_invite_draw(void);

This declaration isn't needed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/redmanmale,8,https://github.com/uTox/uTox/pull/1074#issuecomment-342107848,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Review status: 46 of 47 files reviewed at latest revision, 2 unresolved discussions.

src/layout/group_invite.c, line 23 at r4 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This declaration isn't needed.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/robinlinden,9,https://github.com/uTox/uTox/pull/1074#issuecomment-342225382,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/1074#issuecomment-349461485,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 8 of 15 files at r1, 18 of 38 files at r2, 2 of 7 files at r3, 18 of 18 files at r4, 1 of 1 files at r5.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/group_invite.c, line 30 at r5 (raw file):

}

static void group_invite_free(const uint8_t invite_id) {

Add a check to make sure invite_id is less than 16

src/group_invite.c, line 123 at r5 (raw file):

}

uint32_t group_invite_get_friend_id(const uint8_t invite_id) {

Add a check to make sure invite_id is less than 16

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/im-grey,11,https://github.com/uTox/uTox/pull/1074#issuecomment-349490056,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ",Thank you for all your hard work.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/redmanmale,12,https://github.com/uTox/uTox/pull/1074#issuecomment-349707191,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Review status: 32 of 48 files reviewed at latest revision, 3 unresolved discussions.

src/group_invite.c, line 30 at r5 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Add a check to make sure invite_id is less than 16

Done.

src/group_invite.c, line 123 at r5 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Add a check to make sure invite_id is less than 16

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/endoffile78,13,https://github.com/uTox/uTox/pull/1074#issuecomment-349709377,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 14 of 14 files at r6, 2 of 2 files at r7.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/1074#issuecomment-352864995,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","""TOUCH ALL THE FILES"" -- @robinlinden probably
round 1 review

Reviewed 2 of 15 files at r1, 13 of 18 files at r4, 8 of 14 files at r6, 1 of 2 files at r7.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

langs/en.h, line 335 at r3 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I'm not a fan of the change from groupchat to chat. Is this something we want to do?

Not in this pull, but we should change everything to conference. Per the toxcore change.
Then groups, and conferences can live side by side. Both with a different feature set.

langs/i18n_decls.h, line 107 at r2 (raw file):

    STR_GROUP_MESSAGE_INVITE,
    STR_GROUP_MESSAGE_JOIN,
    STR_GROUP_MESSAGE_CHANGE_NAME,

Do we want to add a suffix for strings that required additional params?
@robinlinden

src/ui.c, line 314 at r7 (raw file):

    /* Group Settings */
    CREATE_EDIT(group_topic, 10, 95, -10, 24);
    CREATE_DROPDOWN(notify_groupchats, 10, 150, 24, 100);

We don't use this macro anymore. Move it to the UI file.

src/ui.c, line 344 at r7 (raw file):

    CREATE_BUTTON(deny_deletion,    110, MAIN_TOP + 40, _BM_SBUTTON_WIDTH, _BM_SBUTTON_HEIGHT);

    group_invite_draw();

NTS: what is this?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/redmanmale,15,https://github.com/uTox/uTox/pull/1074#issuecomment-352882186,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Review status: 46 of 48 files reviewed at latest revision, 5 unresolved discussions.

src/ui.c, line 314 at r7 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
We don't use this macro anymore. Move it to the UI file.

This whole commit moved to #1079.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/endoffile78,16,https://github.com/uTox/uTox/pull/1074#issuecomment-358738581,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 2 of 2 files at r8.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/GrayHatter,17,https://github.com/uTox/uTox/pull/1074#issuecomment-360256294,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/layout/group.c, line 65 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Done.

Sorry, this is gonna take me some time to review. This being safe depends on how each platform searches string length, + where/how each func counts bytes, vs utf8-chars.
First glance your code looks correct, but I need to make sure all the other functions are being used correctly as well.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/redmanmale,18,https://github.com/uTox/uTox/pull/1074#issuecomment-360276600,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 3 of 15 files at r1, 13 of 38 files at r2, 1 of 7 files at r3, 13 of 18 files at r4, 1 of 1 files at r5, 13 of 14 files at r6, 2 of 2 files at r7, 2 of 2 files at r8.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.

src/layout/group.c, line 65 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Sorry, this is gonna take me some time to review. This being safe depends on how each platform searches string length, + where/how each func counts bytes, vs utf8-chars.
First glance your code looks correct, but I need to make sure all the other functions are being used correctly as well.

OK, but I did'n touch this at all.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/GrayHatter,19,https://github.com/uTox/uTox/pull/1074#issuecomment-360290188,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","@redmanmale You're right, but I can't LGTM a section that might be wrong. Hence the apology, through no fault of your own, I have to make you wait for code that's likely fine.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/redmanmale,20,https://github.com/uTox/uTox/pull/1074#issuecomment-361265576,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","@GrayHatter
Looks like it's what you are afraid of.
#1165 (comment)",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/GrayHatter,21,https://github.com/uTox/uTox/pull/1074#issuecomment-363523568,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","src/layout/group.c, line 65 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
OK, but I did'n touch this at all.

This is unsafe (not really your fault), windows uses a wchar buffer in utf8tonative()
It's likely broken throughout uTox... see src/windows/drawing.c@textwidth
@robinlinden @endoffile78 @cebe

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/GrayHatter,22,https://github.com/uTox/uTox/pull/1074#issuecomment-363525519,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","src/layout/group.c, line 65 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This is unsafe (not really your fault), windows uses a wchar buffer in utf8tonative()
It's likely broken throughout uTox... see src/windows/drawing.c@textwidth
@robinlinden @endoffile78 @cebe

LGTM
per IRC... I'm an idiot. I confused the xlib, and windows implementations.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/GrayHatter,23,https://github.com/uTox/uTox/pull/1074#issuecomment-363529706,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 1 of 15 files at r1, 1 of 38 files at r2, 1 of 7 files at r3, 1 of 1 files at r5, 3 of 14 files at r6, 1 of 2 files at r8.
Review status: all files reviewed at latest revision, 7 unresolved discussions, some commit checks failed.

src/messages.c, line 194 at r8 (raw file):

        GROUPCHAT *g = flist_get_groupchat();

        if (g && g == get_group(m->id)) {

what is this section trying to do?

src/layout/group_invite.c, line 27 at r8 (raw file):

    .button_text = { .i18nal = STR_ACCEPT },
    .on_mup      = button_group_invite_accept_on_mup,
    .update      = button_setcolors_success,

how often is .update called?

src/layout/group_invite.c, line 88 at r8 (raw file):

void group_invite_draw(void) {
    CREATE_BUTTON(group_invite_accept, -MAIN_TOP, -80, _BM_SBUTTON_WIDTH, _BM_SBUTTON_HEIGHT);

add the positions to the structs above, and this doesn't' need to exist. (The goal is to remove this MACRO)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/redmanmale,24,https://github.com/uTox/uTox/pull/1074#issuecomment-364645575,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Review status: 40 of 47 files reviewed at latest revision, 7 unresolved discussions, some commit checks broke.

src/messages.c, line 194 at r8 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
what is this section trying to do?

Getting current group to scroll its content; if you're asking why I touched this at all it's because old code (flist_get_groupchat() == get_group(m->id)) was causing a SEGV and I fixed it.

src/layout/group_invite.c, line 27 at r8 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
how often is .update called?

On every UI event; but we do this thing (update = button_setcolors_success) pretty often.

src/layout/group_invite.c, line 88 at r8 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
add the positions to the structs above, and this doesn't' need to exist. (The goal is to remove this MACRO)

Done.

src/ui.c, line 344 at r7 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
NTS: what is this?

Done. Moved to UI definition.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/GrayHatter,25,https://github.com/uTox/uTox/pull/1074#issuecomment-368288435,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 1 of 14 files at r6, 3 of 4 files at r9, 3 of 5 files at r10.
Review status: 45 of 47 files reviewed at latest revision, 5 unresolved discussions, some commit checks broke.

src/layout/group_invite.c, line 27 at r8 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
On every UI event; but we do this thing (update = button_setcolors_success) pretty often.

LGTM but I'd also like to see // TODO: OPTIMIZE comments when we're doing something the easy way that is a good target for micro optimization.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/redmanmale,26,https://github.com/uTox/uTox/pull/1074#issuecomment-397810642,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Review status: 18 files need 2 more reviewers, 3 open discussions remaining, 1 assignee LGTMs are missing, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

src/layout/group_invite.c, line 27 at r8 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
LGTM but I'd also like to see // TODO: OPTIMIZE comments when we're doing something the easy way that is a good target for micro optimization.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/endoffile78,27,https://github.com/uTox/uTox/pull/1074#issuecomment-397938186,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Reviewed 1 of 4 files at r9, 2 of 5 files at r10, 17 of 17 files at r11.
Review status: 17 files need 1 more reviewer, 3 open discussions remaining, 1 assignee LGTMs are missing, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,https://github.com/redmanmale,28,https://github.com/uTox/uTox/pull/1074#issuecomment-420660723,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","If no one mind it, I'd like to merge it. Are there any problems?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,None,29,https://github.com/uTox/uTox/pull/1074#issuecomment-420781770,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","I want to take a look, too. And push translations for Polish, too. And German.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,None,30,https://github.com/uTox/uTox/pull/1074#issuecomment-421816302,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","I don't like the current screen.


When invited, the groupchat invitation appears on the friend list in a practically unnoticable fashion, even when you learned that it appears there, it is really hard to discover. It should be immediately obvious.


The screen is inconsistent with other screens. It should probably look like the delete-friend screen; bold font and the buttons immediately below and next to each other. The buttons being at opposing ends of the window is not so cool. And the buttons being at the bottom of the window, with the query being at the top, is not that cool, either.


The ignore button is shorter than its text.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,None,31,https://github.com/uTox/uTox/pull/1074#issuecomment-421823458,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","Also, there should be a setting for auto-accepting group invitations.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,None,32,https://github.com/uTox/uTox/pull/1074#issuecomment-421833196,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ",Next I'm translating to German and Polish.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1074,2017-09-30T21:18:16Z,,2019-01-21T09:09:07Z,OPEN,False,701,292,47,https://github.com/robinlinden,Implement a groupchat accept screen.,26,['--WIP--'],https://github.com/uTox/uTox/pull/1074,None,33,https://github.com/uTox/uTox/pull/1074#issuecomment-421971139,"I don't remember where I was on this, but it's not done.


This change is‚ÄÇ","@cebe, you can please look at my translation.
I am not sure about LEAVE_GROUP. I find ""Gruppe verlassen"" better, but then it's not consistent with GROUP_CREATE, if that is even so important. I find just ""Gruppe"" to be better, shorter, more natural, easier to read.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1076,2017-10-03T19:45:43Z,2017-10-05T20:19:52Z,2017-10-06T13:18:49Z,MERGED,True,1,0,1,https://github.com/redmanmale,Update team,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1076,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1076,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1076,2017-10-03T19:45:43Z,2017-10-05T20:19:52Z,2017-10-06T13:18:49Z,MERGED,True,1,0,1,https://github.com/redmanmale,Update team,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1076,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1076#issuecomment-334243952,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1076,2017-10-03T19:45:43Z,2017-10-05T20:19:52Z,2017-10-06T13:18:49Z,MERGED,True,1,0,1,https://github.com/redmanmale,Update team,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1076,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1076#issuecomment-334580283,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1079,2017-10-04T17:42:38Z,,2019-04-16T19:28:19Z,OPEN,False,248,105,18,https://github.com/redmanmale,Group chats logging,7,[],https://github.com/uTox/uTox/pull/1079,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1079,"Fixes #231.
Since we haven't persistent chats yet, chat log could not be loaded.
So the only case when we need that log is export as plain text which was implemented in that PR.
Also I added unique pseudo-identifier for each new chat. If you are not okay with that I'm looking forward to your options for this.
Merge after #1074 (there will be group settings layout update).


This change is‚ÄÇ","Fixes #231.
Since we haven't persistent chats yet, chat log could not be loaded.
So the only case when we need that log is export as plain text which was implemented in that PR.
Also I added unique pseudo-identifier for each new chat. If you are not okay with that I'm looking forward to your options for this.
Merge after #1074 (there will be group settings layout update).


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1079,2017-10-04T17:42:38Z,,2019-04-16T19:28:19Z,OPEN,False,248,105,18,https://github.com/redmanmale,Group chats logging,7,[],https://github.com/uTox/uTox/pull/1079,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1079#issuecomment-340293667,"Fixes #231.
Since we haven't persistent chats yet, chat log could not be loaded.
So the only case when we need that log is export as plain text which was implemented in that PR.
Also I added unique pseudo-identifier for each new chat. If you are not okay with that I'm looking forward to your options for this.
Merge after #1074 (there will be group settings layout update).


This change is‚ÄÇ","Reviewed 16 of 16 files at r1.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/chatlog.c, line 242 at r1 (raw file):

}

void utox_export_chatlog_init(uint32_t chat_number, bool is_chat) {

I'd prefer is_group or is_groupchat instead of is_chat.

src/groups.c, line 96 at r1 (raw file):

    uint8_t random[TOX_PUBLIC_KEY_SIZE];
    for (uint8_t i = 0; i < TOX_PUBLIC_KEY_SIZE; ++i)
    {

This goes on the line above. (1tbs)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1079,2017-10-04T17:42:38Z,,2019-04-16T19:28:19Z,OPEN,False,248,105,18,https://github.com/redmanmale,Group chats logging,7,[],https://github.com/uTox/uTox/pull/1079,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1079#issuecomment-340541790,"Fixes #231.
Since we haven't persistent chats yet, chat log could not be loaded.
So the only case when we need that log is export as plain text which was implemented in that PR.
Also I added unique pseudo-identifier for each new chat. If you are not okay with that I'm looking forward to your options for this.
Merge after #1074 (there will be group settings layout update).


This change is‚ÄÇ","Review status: 5 of 19 files reviewed at latest revision, 2 unresolved discussions.

src/chatlog.c, line 242 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I'd prefer is_group or is_groupchat instead of is_chat.

Done.

src/groups.c, line 96 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This goes on the line above. (1tbs)

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1079,2017-10-04T17:42:38Z,,2019-04-16T19:28:19Z,OPEN,False,248,105,18,https://github.com/redmanmale,Group chats logging,7,[],https://github.com/uTox/uTox/pull/1079,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1079#issuecomment-342571745,"Fixes #231.
Since we haven't persistent chats yet, chat log could not be loaded.
So the only case when we need that log is export as plain text which was implemented in that PR.
Also I added unique pseudo-identifier for each new chat. If you are not okay with that I'm looking forward to your options for this.
Merge after #1074 (there will be group settings layout update).


This change is‚ÄÇ","Review status: 3 of 19 files reviewed at latest revision, 3 unresolved discussions.

src/xlib/gtk.c, line 330 at r2 (raw file):

            LOG_ERR(""GTK"", ""Could not get group with number: %u"", chat->chat_number);
            free(chat);
            utoxGTK_open = false;

Add fix like in #1113.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1079,2017-10-04T17:42:38Z,,2019-04-16T19:28:19Z,OPEN,False,248,105,18,https://github.com/redmanmale,Group chats logging,7,[],https://github.com/uTox/uTox/pull/1079,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1079#issuecomment-345181496,"Fixes #231.
Since we haven't persistent chats yet, chat log could not be loaded.
So the only case when we need that log is export as plain text which was implemented in that PR.
Also I added unique pseudo-identifier for each new chat. If you are not okay with that I'm looking forward to your options for this.
Merge after #1074 (there will be group settings layout update).


This change is‚ÄÇ","4ac6ce4 is bad. And it needs to be reverted and fixed.
When I merge these to functions (for Win7 and WinXP) in one they were completely the same.
But they should not be.
In WinXP UTOX_FILE_NAME_LENGTH (1024) should not exits because MAX_MATH is 260.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1079,2017-10-04T17:42:38Z,,2019-04-16T19:28:19Z,OPEN,False,248,105,18,https://github.com/redmanmale,Group chats logging,7,[],https://github.com/uTox/uTox/pull/1079,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1079#issuecomment-352334894,"Fixes #231.
Since we haven't persistent chats yet, chat log could not be loaded.
So the only case when we need that log is export as plain text which was implemented in that PR.
Also I added unique pseudo-identifier for each new chat. If you are not okay with that I'm looking forward to your options for this.
Merge after #1074 (there will be group settings layout update).


This change is‚ÄÇ","Reviewed 1 of 16 files at r1, 2 of 16 files at r2.
Review status: 5 of 18 files reviewed at latest revision, 4 unresolved discussions.

src/ui.c, line 313 at r4 (raw file):

    /* Group Settings */
    CREATE_EDIT(group_topic, 10, 95, -10, 24);
    CREATE_BUTTON(export_chatlog_group, 10, 125, _BM_SBUTTON_WIDTH, _BM_SBUTTON_HEIGHT); //TODO: Move to layout and fix position

I'm gonna block on this one. Solve the TODO before we merge this.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1079,2017-10-04T17:42:38Z,,2019-04-16T19:28:19Z,OPEN,False,248,105,18,https://github.com/redmanmale,Group chats logging,7,[],https://github.com/uTox/uTox/pull/1079,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1079#issuecomment-352878501,"Fixes #231.
Since we haven't persistent chats yet, chat log could not be loaded.
So the only case when we need that log is export as plain text which was implemented in that PR.
Also I added unique pseudo-identifier for each new chat. If you are not okay with that I'm looking forward to your options for this.
Merge after #1074 (there will be group settings layout update).


This change is‚ÄÇ","Review status: 3 of 18 files reviewed at latest revision, 4 unresolved discussions.

src/ui.c, line 313 at r4 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I'm gonna block on this one. Solve the TODO before we merge this.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1082,2017-10-05T17:19:29Z,2017-10-05T20:21:12Z,2017-10-06T13:18:44Z,MERGED,True,4,0,1,https://github.com/redmanmale,Fix filter audio option in CMake,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1082,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1082,"Fixes #1081.


This change is‚ÄÇ","Fixes #1081.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1082,2017-10-05T17:19:29Z,2017-10-05T20:21:12Z,2017-10-06T13:18:44Z,MERGED,True,4,0,1,https://github.com/redmanmale,Fix filter audio option in CMake,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1082,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1082#issuecomment-334563108,"Fixes #1081.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1082,2017-10-05T17:19:29Z,2017-10-05T20:21:12Z,2017-10-06T13:18:44Z,MERGED,True,4,0,1,https://github.com/redmanmale,Fix filter audio option in CMake,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1082,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1082#issuecomment-334579644,"Fixes #1081.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1083,2017-10-05T17:28:59Z,2017-10-15T02:33:03Z,2017-10-15T09:01:19Z,MERGED,True,28,9,3,https://github.com/redmanmale,Minor UI fixes,4,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1083,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1083,"disable panel when Decline button is hidden (#445)
language dependent position for nospam buttons (#639)
fix click though context menu (#893, pt. 1)
fix revert nospam button disabled state (#996)



This change is‚ÄÇ","disable panel when Decline button is hidden (#445)
language dependent position for nospam buttons (#639)
fix click though context menu (#893, pt. 1)
fix revert nospam button disabled state (#996)



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1083,2017-10-05T17:28:59Z,2017-10-15T02:33:03Z,2017-10-15T09:01:19Z,MERGED,True,28,9,3,https://github.com/redmanmale,Minor UI fixes,4,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1083,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1083#issuecomment-334580007,"disable panel when Decline button is hidden (#445)
language dependent position for nospam buttons (#639)
fix click though context menu (#893, pt. 1)
fix revert nospam button disabled state (#996)



This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1083,2017-10-05T17:28:59Z,2017-10-15T02:33:03Z,2017-10-15T09:01:19Z,MERGED,True,28,9,3,https://github.com/redmanmale,Minor UI fixes,4,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1083,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1083#issuecomment-334931301,"disable panel when Decline button is hidden (#445)
language dependent position for nospam buttons (#639)
fix click though context menu (#893, pt. 1)
fix revert nospam button disabled state (#996)



This change is‚ÄÇ","Reviewed 1 of 2 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1083,2017-10-05T17:28:59Z,2017-10-15T02:33:03Z,2017-10-15T09:01:19Z,MERGED,True,28,9,3,https://github.com/redmanmale,Minor UI fixes,4,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1083,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1083#issuecomment-336681577,"disable panel when Decline button is hidden (#445)
language dependent position for nospam buttons (#639)
fix click though context menu (#893, pt. 1)
fix revert nospam button disabled state (#996)



This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1084,2017-10-05T20:14:47Z,2017-10-07T08:09:11Z,2017-10-07T08:09:11Z,MERGED,True,2,0,1,https://github.com/endoffile78,Fix no output for --help and --version,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1084,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1084,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1084,2017-10-05T20:14:47Z,2017-10-07T08:09:11Z,2017-10-07T08:09:11Z,MERGED,True,2,0,1,https://github.com/endoffile78,Fix no output for --help and --version,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1084,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1084#issuecomment-334584357,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1084,2017-10-05T20:14:47Z,2017-10-07T08:09:11Z,2017-10-07T08:09:11Z,MERGED,True,2,0,1,https://github.com/endoffile78,Fix no output for --help and --version,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1084,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1084#issuecomment-334915412,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1086,"instead of uint.


This change is‚ÄÇ","instead of uint.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1086#issuecomment-336670097,"instead of uint.


This change is‚ÄÇ","Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1086#issuecomment-337302314,"instead of uint.


This change is‚ÄÇ","Reviewed 8 of 9 files at r1.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/self.h, line 12 at r1 (raw file):

    USER_STATUS_AWAY_IDLE,
    USER_STATUS_DO_NOT_DISTURB,
    USER_STATUS_OFFLINE

offline should be first (zero)

src/self.h, line 13 at r1 (raw file):

    USER_STATUS_DO_NOT_DISTURB,
    USER_STATUS_OFFLINE
} USER_STATUS;

add an INVALID canary to the end as well, see later comment

src/layout/sidebar.c, line 83 at r1 (raw file):

                  BM_STATUSAREA_WIDTH, BM_STATUSAREA_HEIGHT,
                  button_usr_state.mouseover ? COLOR_BKGRND_LIST_HOVER : COLOR_BKGRND_LIST);
        uint8_t status = tox_connected ? self.status : USER_STATUS_OFFLINE;

BTW pedantic: don't create a u8 here. just drop the ?: into the array selector
(you don't really need to change this)

src/layout/userbadge.c, line 75 at r1 (raw file):

static void button_status_on_mup(void) {
    self.status++;
    if (self.status == USER_STATUS_OFFLINE) {

if >= _INVALID; then set AVAILABLE

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1086#issuecomment-337354260,"instead of uint.


This change is‚ÄÇ","Review status: 5 of 13 files reviewed at latest revision, 4 unresolved discussions.

src/self.h, line 12 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
offline should be first (zero)

Done.

src/self.h, line 13 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
add an INVALID canary to the end as well, see later comment

Done.

src/layout/sidebar.c, line 83 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
BTW pedantic: don't create a u8 here. just drop the ?: into the array selector
(you don't really need to change this)

Done.

src/layout/userbadge.c, line 75 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
if >= _INVALID; then set AVAILABLE

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1086#issuecomment-337355017,"instead of uint.


This change is‚ÄÇ","Review status: 5 of 13 files reviewed at latest revision, 4 unresolved discussions.

src/self.c, line 43 at r2 (raw file):

USER_STATUS to_utox_user_status(TOX_USER_STATUS tox_user_status) {
    return (USER_STATUS)(tox_user_status + 1);
}

If you don't mind I create a conversion functions to avoid spreading that logic over all places where it used.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/1086#issuecomment-338443064,"instead of uint.


This change is‚ÄÇ","Reviewed 8 of 8 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/1086#issuecomment-338774158,"instead of uint.


This change is‚ÄÇ","Reviewed 1 of 9 files at r1, 7 of 8 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/self.c, line 43 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
If you don't mind I create a conversion functions to avoid spreading that logic over all places where it used.

do you think user_status_to_tox and user_status_to_utox would be better names?

src/theme.c, line 563 at r3 (raw file):

    }

    status_color[0] = COLOR_STATUS_BUSY;

do we not have an offline color defined?
should we?

src/theme.h, line 102 at r3 (raw file):

void theme_load(const THEME loadtheme);

uint32_t status_color[5];

you can use the enum invalid value here, then it'll never go out of date

src/layout/sidebar.c, line 84 at r3 (raw file):

                  button_usr_state.mouseover ? COLOR_BKGRND_LIST_HOVER : COLOR_BKGRND_LIST);

        drawalpha(tox_connected ? self.status : BM_OFFLINE,

tox_connected ? (BM_ONLINE + self.status - 1) :  BM_OFFLINE
But that's gross... the best options are: revert this change and add the U8 back, or even better, reorder the enum in svg.h to match the user status enum.
If you reorder the svg.h enum, make sure you do that in it's very own commit. (Touching svg.h is dangerous, so keeping it in it's own commit will allow git bisect to work later on)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/redmanmale,8,https://github.com/uTox/uTox/pull/1086#issuecomment-338781875,"instead of uint.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/layout/sidebar.c, line 84 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
tox_connected ? (BM_ONLINE + self.status - 1) :  BM_OFFLINE
But that's gross... the best options are: revert this change and add the U8 back, or even better, reorder the enum in svg.h to match the user status enum.
If you reorder the svg.h enum, make sure you do that in it's very own commit. (Touching svg.h is dangerous, so keeping it in it's own commit will allow git bisect to work later on)

Hm, there's not such code here anymore.
But I agreed that reordering colours would be better.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/1086#issuecomment-339048172,"instead of uint.


This change is‚ÄÇ","Review status: 8 of 14 files reviewed at latest revision, 4 unresolved discussions.

src/self.c, line 43 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
do you think user_status_to_tox and user_status_to_utox would be better names?

Done.

src/theme.c, line 563 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
do we not have an offline color defined?
should we?

Nope for both.

src/theme.h, line 102 at r3 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
you can use the enum invalid value here, then it'll never go out of date

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/1086#issuecomment-339079627,"instead of uint.


This change is‚ÄÇ","Reviewed 6 of 6 files at r4.
Review status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.

src/theme.h, line 102 at r4 (raw file):

void theme_load(const THEME loadtheme);

uint32_t status_color[USER_STATUS_INVALID];

You need to include self.h so USER_STATUS_INVALID can be used.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/1086#issuecomment-339107043,"instead of uint.


This change is‚ÄÇ","Review status: 13 of 14 files reviewed at latest revision, 5 unresolved discussions.

src/theme.h, line 102 at r4 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
You need to include self.h so USER_STATUS_INVALID can be used.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/1086#issuecomment-339111545,"instead of uint.


This change is‚ÄÇ","Reviewed 1 of 8 files at r2, 5 of 6 files at r4, 1 of 1 files at r5.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/flist.c, line 114 at r5 (raw file):

    x -= BM_STATUS_WIDTH / 2;

    drawalpha(status == USER_STATUS_OFFLINE ? BM_OFFLINE : status,

this could easily go out of scope, we need to do something different here.
same as sidebar.c

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/1086#issuecomment-342015693,"instead of uint.


This change is‚ÄÇ","Reviewed 5 of 9 files at r1, 3 of 8 files at r2, 5 of 6 files at r4, 1 of 1 files at r5.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/endoffile78,14,https://github.com/uTox/uTox/pull/1086#issuecomment-342017109,"instead of uint.


This change is‚ÄÇ","Reviewed 1 of 1 files at r5.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/1086#issuecomment-346985456,"instead of uint.


This change is‚ÄÇ",@redmanmale still waiting on a fix for my comment.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1086,2017-10-08T18:52:07Z,,2017-11-26T09:13:33Z,OPEN,False,66,41,14,https://github.com/redmanmale,Make user status enum,5,['--WIP--'],https://github.com/uTox/uTox/pull/1086,https://github.com/redmanmale,16,https://github.com/uTox/uTox/pull/1086#issuecomment-346994469,"instead of uint.


This change is‚ÄÇ","I'm aware of this, but don't have any ideas yet how to fix it properly.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1087,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ",True,"{'THUMBS_UP': ['https://github.com/endoffile78', 'https://github.com/robinlinden', 'https://github.com/GrayHatter']}"
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1087#issuecomment-337300483,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","This is clearly better. We should merge this!
Should we simply detect if there's an existing empty groupchat, if so show the add audio toggle at the top of the group chat screen. And then once they try to add a user to it, only then mark it as used, and send the command to toxcore to create the group. Then followed by inviting that user?

Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

src/ui.c, line 338 at r1 (raw file):

    CREATE_BUTTON(deny_deletion,    110, MAIN_TOP + 40, _BM_SBUTTON_WIDTH, _BM_SBUTTON_HEIGHT);

    group_create_draw();

per other comments, delete this line.

src/layout/group.c, line 28 at r1 (raw file):

#include <tox/tox.h>

static void draw_group_create(int x, int y, int UNUSED(width), int UNUSED(height));

delete

src/layout/group.c, line 104 at r1 (raw file):

}

void group_create_draw() {

delete

src/layout/group.c, line 584 at r1 (raw file):

};

BUTTON button_create_group = {

add the size settings to the .panel struct here
https://github.com/uTox/uTox/blob/develop/src/layout/settings.c#L911 is the new ""correct"" way of adding UI systems

src/layout/group.c, line 592 at r1 (raw file):

};

UISWITCH switch_group_type = {

add the UI size stuff here too.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1087#issuecomment-337318021,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","Reviewed 9 of 9 files at r1.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1087#issuecomment-337359859,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","Review status: 6 of 8 files reviewed at latest revision, 5 unresolved discussions.

src/layout/group.c, line 28 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
delete

Done.

src/layout/group.c, line 104 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
delete

Done.

src/layout/group.c, line 584 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
add the size settings to the .panel struct here
https://github.com/uTox/uTox/blob/develop/src/layout/settings.c#L911 is the new ""correct"" way of adding UI systems

Done.

src/layout/group.c, line 592 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
add the UI size stuff here too.

Done.

src/ui.c, line 338 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
per other comments, delete this line.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/1087#issuecomment-338350809,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","Reviewed 3 of 3 files at r2.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1087#issuecomment-339400231,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","the toggle switch either needs a text element to tell the user it'll change voice, or, alternatively, just use 2 buttons.

Reviewed 3 of 3 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/1087#issuecomment-339400287,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","please also merge develop

Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/1087#issuecomment-339400411,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","+@GrayHatter

Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/1087#issuecomment-339473255,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","When switch is changing text on the button is changing too. Don't this enough?

please also merge develop

Rebase onto develop? But there's no conflicts.

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/1087#issuecomment-339771334,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","Sure, if you know what the toggle is going to do.
Normal users wont click on that toggle without knowing what it will do. Meaning they'd never see the name of the button change. I like the current way better, but only when you already know what the toggle is going to do, which most users wont.
I wanted develop merged first because of the dependency conflict between the two. I'll never ask you to rebase, a simple git merge develop should be much easier, and is what I'd prefer.

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/1087#issuecomment-340090311,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","Any ideas how it should look like? Can it be just tooltip something like ""Toggle to change groupchat type""?

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/GrayHatter,12,https://github.com/uTox/uTox/pull/1087#issuecomment-340096541,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","[ switch ] Enable Audio
[ button ] // should still change the button text when the switch is changed",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/1087#issuecomment-342015444,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","Reviewed 6 of 9 files at r1, 1 of 3 files at r2, 7 of 8 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/layout/group.c, line 2 at r1 (raw file):

#include ""create.h""
#include ""group.h""

The primary header should be at the top, so this should be:
group.h

create.h

../commands.h
../debug.h
[..]


Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/endoffile78,14,https://github.com/uTox/uTox/pull/1087#issuecomment-342017212,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","Reviewed 7 of 8 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/redmanmale,15,https://github.com/uTox/uTox/pull/1087#issuecomment-342108321,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","Review status: 10 of 11 files reviewed at latest revision, 2 unresolved discussions.

src/layout/group.c, line 2 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
The primary header should be at the top, so this should be:
group.h

create.h

../commands.h
../debug.h
[..]


Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/robinlinden,16,https://github.com/uTox/uTox/pull/1087#issuecomment-342225014,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/endoffile78,17,https://github.com/uTox/uTox/pull/1087#issuecomment-342514124,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1087,2017-10-08T21:43:02Z,2018-06-14T16:50:03Z,2018-06-15T06:58:15Z,MERGED,True,159,115,11,https://github.com/redmanmale,Groupchat creating page,6,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1087,https://github.com/redmanmale,18,https://github.com/uTox/uTox/pull/1087#issuecomment-397306056,"I think that separate page is much butter to use than current right-click-and-context-menu thing.
It looks like this:

There are old strings that will be updated in groupchat accept invite PR.


This change is‚ÄÇ",It's been a while... Can we merge this?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1090,2017-10-12T16:57:49Z,2017-10-15T02:28:53Z,2017-10-15T02:28:53Z,MERGED,True,1,0,1,https://github.com/eclipseo,Update INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1090,https://github.com/eclipseo,1,https://github.com/uTox/uTox/pull/1090,"Add Opus dependency.


This change is‚ÄÇ","Add Opus dependency.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1090,2017-10-12T16:57:49Z,2017-10-15T02:28:53Z,2017-10-15T02:28:53Z,MERGED,True,1,0,1,https://github.com/eclipseo,Update INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1090,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1090#issuecomment-336521481,"Add Opus dependency.


This change is‚ÄÇ","@eclipseo welcome, and thanks for the PR.
Is opus a uTox dependency, or only a toxcore one? @redmanmale @robinlinden do you guys know off the top of your head?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1090,2017-10-12T16:57:49Z,2017-10-15T02:28:53Z,2017-10-15T02:28:53Z,MERGED,True,1,0,1,https://github.com/eclipseo,Update INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1090,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1090#issuecomment-336662315,"Add Opus dependency.


This change is‚ÄÇ",Opus is required by toxcore if you need audio/video support.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1090,2017-10-12T16:57:49Z,2017-10-15T02:28:53Z,2017-10-15T02:28:53Z,MERGED,True,1,0,1,https://github.com/eclipseo,Update INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1090,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1090#issuecomment-336662488,"Add Opus dependency.


This change is‚ÄÇ","@GrayHatter We do require it: https://github.com/uTox/uTox/blob/develop/src/av/CMakeLists.txt#L18
@eclipseo Thank you very much for the PR!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1090,2017-10-12T16:57:49Z,2017-10-15T02:28:53Z,2017-10-15T02:28:53Z,MERGED,True,1,0,1,https://github.com/eclipseo,Update INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1090,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/1090#issuecomment-336662509,"Add Opus dependency.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1090,2017-10-12T16:57:49Z,2017-10-15T02:28:53Z,2017-10-15T02:28:53Z,MERGED,True,1,0,1,https://github.com/eclipseo,Update INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1090,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/1090#issuecomment-336670026,"Add Opus dependency.


This change is‚ÄÇ",@eclipseo Can you check the box in the bottom right that will allow me to make changes to your branch? I need to rebase it so Travis passes.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1090,2017-10-12T16:57:49Z,2017-10-15T02:28:53Z,2017-10-15T02:28:53Z,MERGED,True,1,0,1,https://github.com/eclipseo,Update INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1090,https://github.com/eclipseo,7,https://github.com/uTox/uTox/pull/1090#issuecomment-336671223,"Add Opus dependency.


This change is‚ÄÇ","Done, I think.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1090,2017-10-12T16:57:49Z,2017-10-15T02:28:53Z,2017-10-15T02:28:53Z,MERGED,True,1,0,1,https://github.com/eclipseo,Update INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1090,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/1090#issuecomment-336671378,"Add Opus dependency.


This change is‚ÄÇ","@eclipseo Yeah, that did it. Thank you very much. :) Travis should pass now.
Edit: It will pass once #1095 is merged.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1090,2017-10-12T16:57:49Z,2017-10-15T02:28:53Z,2017-10-15T02:28:53Z,MERGED,True,1,0,1,https://github.com/eclipseo,Update INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1090,https://github.com/endoffile78,9,https://github.com/uTox/uTox/pull/1090#issuecomment-336681422,"Add Opus dependency.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1091,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ","Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1091#issuecomment-336239423,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1091#issuecomment-336301802,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ",+@GrayHatter,True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1091#issuecomment-339210415,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1091#issuecomment-339397806,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/messages.c, line 1072 at r1 (raw file):

            if (draw_author) {
                if (msg->our_msg != lastauthor || y < SCALE(MAIN_TOP) + font_small_lineheight) {
                    int msg_y;

msg_y = y, remove the following else

src/messages.c, line 1074 at r1 (raw file):

                    int msg_y;

                    if (y < SCALE(MAIN_TOP) + font_small_lineheight) {

what's this section doing?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1091#issuecomment-339476979,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/messages.c, line 1072 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
msg_y = y, remove the following else

We can assign it here, but then in the positive if case it would be re-assigned.
Why if-else is bad and why this two-assign-option is better?

src/messages.c, line 1074 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
what's this section doing?

If y position of message is less than top side of message window, draw filled rectangle with background colour to overdraw the previous author name.
If we don't do this author names would superpose new over old ones.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/1091#issuecomment-339773724,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/messages.c, line 1072 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
We can assign it here, but then in the positive if case it would be re-assigned.
Why if-else is bad and why this two-assign-option is better?

I don't like leaving uninitialized variables, so if you'd prefer the if-else, I'm still gonna make you initialize to 0.
But as for why it's better; removing the else also makes the code easier to read/maintain, and prove the correctness of. The state is xyz, and will only change (via this complex operation) if (complex_condition) is true, and when (complex_condition) is false it will change (via this DIFFERENT operation) , is harder to understand than, The state is xyz, and if (complex_conditon) will change (via this complex operation).

src/messages.c, line 1074 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
If y position of message is less than top side of message window, draw filled rectangle with background colour to overdraw the previous author name.
If we don't do this author names would superpose new over old ones.

can't we skip drawing the old name knowing we'll just be able to draw the new one?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/redmanmale,8,https://github.com/uTox/uTox/pull/1091#issuecomment-339884429,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/messages.c, line 1072 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
I don't like leaving uninitialized variables, so if you'd prefer the if-else, I'm still gonna make you initialize to 0.
But as for why it's better; removing the else also makes the code easier to read/maintain, and prove the correctness of. The state is xyz, and will only change (via this complex operation) if (complex_condition) is true, and when (complex_condition) is false it will change (via this DIFFERENT operation) , is harder to understand than, The state is xyz, and if (complex_conditon) will change (via this complex operation).

Got it. Will do.

src/messages.c, line 1074 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
can't we skip drawing the old name knowing we'll just be able to draw the new one?

We iterate through messages and we don't know what will be the next position and is there will be a new one until the take that next step and than we have already draw old author.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/1091#issuecomment-340070920,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ","Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/messages.c, line 1074 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
We iterate through messages and we don't know what will be the next position and is there will be a new one until the take that next step and than we have already draw old author.

Add a comment explaining that too then please.
I don't like it, but you're right, this is likely the best/simplest way to go about it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/redmanmale,10,https://github.com/uTox/uTox/pull/1091#issuecomment-340082982,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ","Review status: 0 of 1 files reviewed at latest revision, 2 unresolved discussions.

src/messages.c, line 1072 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Got it. Will do.

Done.

src/messages.c, line 1074 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Add a comment explaining that too then please.
I don't like it, but you're right, this is likely the best/simplest way to go about it.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/1091#issuecomment-340100127,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1091,2017-10-12T19:05:42Z,2017-10-29T20:37:10Z,2017-10-29T20:41:05Z,MERGED,True,22,11,1,https://github.com/redmanmale,More UI fixes,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1091,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/1091#issuecomment-340292131,"Fix messages will draw the name too high (#300)
Fix wrong cursor type above the scrollbar (#925)



This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1092,2017-10-14T19:53:22Z,2017-10-14T21:59:15Z,2017-10-14T21:59:37Z,MERGED,True,8,11,4,https://github.com/redmanmale,Remove deprecated cid field from friend,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1092,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1092,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1092,2017-10-14T19:53:22Z,2017-10-14T21:59:15Z,2017-10-14T21:59:37Z,MERGED,True,8,11,4,https://github.com/redmanmale,Remove deprecated cid field from friend,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1092,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1092#issuecomment-336662925,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1092,2017-10-14T19:53:22Z,2017-10-14T21:59:15Z,2017-10-14T21:59:37Z,MERGED,True,8,11,4,https://github.com/redmanmale,Remove deprecated cid field from friend,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1092,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1092#issuecomment-336670255,This change is‚ÄÇ,"Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1093,2017-10-14T21:10:28Z,2017-10-15T02:38:10Z,2017-10-15T09:04:38Z,MERGED,True,62,21,2,https://github.com/redmanmale,Fix dropdown,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1093,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1093,"Don't close dropdowns on mouse up: let user use them effortlessly.
Fixes #545 and #789 (pt. 1; pt. 2 is a feature, not a bug).


This change is‚ÄÇ","Don't close dropdowns on mouse up: let user use them effortlessly.
Fixes #545 and #789 (pt. 1; pt. 2 is a feature, not a bug).


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1093,2017-10-14T21:10:28Z,2017-10-15T02:38:10Z,2017-10-15T09:04:38Z,MERGED,True,62,21,2,https://github.com/redmanmale,Fix dropdown,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1093,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1093#issuecomment-336668003,"Don't close dropdowns on mouse up: let user use them effortlessly.
Fixes #545 and #789 (pt. 1; pt. 2 is a feature, not a bug).


This change is‚ÄÇ","Really awesome job! 

Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1093,2017-10-14T21:10:28Z,2017-10-15T02:38:10Z,2017-10-15T09:04:38Z,MERGED,True,62,21,2,https://github.com/redmanmale,Fix dropdown,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1093,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1093#issuecomment-336681798,"Don't close dropdowns on mouse up: let user use them effortlessly.
Fixes #545 and #789 (pt. 1; pt. 2 is a feature, not a bug).


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1094,2017-10-14T21:41:52Z,2017-10-14T21:51:33Z,2019-01-14T21:17:59Z,MERGED,True,2,0,1,https://github.com/robinlinden,Fix macOS Travis.,1,[],https://github.com/uTox/uTox/pull/1094,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1094,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1094,2017-10-14T21:41:52Z,2017-10-14T21:51:33Z,2019-01-14T21:17:59Z,MERGED,True,2,0,1,https://github.com/robinlinden,Fix macOS Travis.,1,[],https://github.com/uTox/uTox/pull/1094,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1094#issuecomment-336669794,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1094,2017-10-14T21:41:52Z,2017-10-14T21:51:33Z,2019-01-14T21:17:59Z,MERGED,True,2,0,1,https://github.com/robinlinden,Fix macOS Travis.,1,[],https://github.com/uTox/uTox/pull/1094,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1094#issuecomment-336669832,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1095,2017-10-14T22:26:40Z,2017-10-15T10:27:51Z,2019-01-14T21:18:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Remove references to removed member variables.,1,[],https://github.com/uTox/uTox/pull/1095,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1095,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1095,2017-10-14T22:26:40Z,2017-10-15T10:27:51Z,2019-01-14T21:18:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Remove references to removed member variables.,1,[],https://github.com/uTox/uTox/pull/1095,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1095#issuecomment-336679187,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1095,2017-10-14T22:26:40Z,2017-10-15T10:27:51Z,2019-01-14T21:18:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Remove references to removed member variables.,1,[],https://github.com/uTox/uTox/pull/1095,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1095#issuecomment-336696593,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1095,2017-10-14T22:26:40Z,2017-10-15T10:27:51Z,2019-01-14T21:18:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Remove references to removed member variables.,1,[],https://github.com/uTox/uTox/pull/1095,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1095#issuecomment-336696628,This change is‚ÄÇ,I'm sorry I missed that in my PR.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1095,2017-10-14T22:26:40Z,2017-10-15T10:27:51Z,2019-01-14T21:18:00Z,MERGED,True,1,1,1,https://github.com/robinlinden,Remove references to removed member variables.,1,[],https://github.com/uTox/uTox/pull/1095,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/1095#issuecomment-336699054,This change is‚ÄÇ,"Don't worry about it, that happens. It's why we generally should never
merge things when we don't have a working CI system.
‚Ä¶
On Sun, 15 Oct 2017, 11:04 redmanmale, ***@***.***> wrote:
 I'm sorry I missed that in my PR.

 ‚Äî
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#1095 (comment)>, or mute
 the thread
 <https://github.com/notifications/unsubscribe-auth/AH63TkOxAKNLZjuKDEbVQr8cDxuKP_Zdks5sscqegaJpZM4P5jPv>
 .",True,{}
uTox/uTox,https://github.com/uTox/uTox,1096,2017-10-17T02:24:56Z,2017-10-20T23:51:10Z,2017-10-20T23:51:10Z,MERGED,True,5,0,1,https://github.com/endoffile78,Don't build release builds with ASAN,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1096,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1096,"closes #1026


This change is‚ÄÇ","closes #1026


This change is‚ÄÇ",True,{'THUMBS_UP': ['https://github.com/cebe']}
uTox/uTox,https://github.com/uTox/uTox,1096,2017-10-17T02:24:56Z,2017-10-20T23:51:10Z,2017-10-20T23:51:10Z,MERGED,True,5,0,1,https://github.com/endoffile78,Don't build release builds with ASAN,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1096,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1096#issuecomment-337133412,"closes #1026


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1096,2017-10-17T02:24:56Z,2017-10-20T23:51:10Z,2017-10-20T23:51:10Z,MERGED,True,5,0,1,https://github.com/endoffile78,Don't build release builds with ASAN,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1096,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1096#issuecomment-337295976,"closes #1026


This change is‚ÄÇ","see also
#897
#940",True,{}
uTox/uTox,https://github.com/uTox/uTox,1096,2017-10-17T02:24:56Z,2017-10-20T23:51:10Z,2017-10-20T23:51:10Z,MERGED,True,5,0,1,https://github.com/endoffile78,Don't build release builds with ASAN,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1096,https://github.com/cebe,4,https://github.com/uTox/uTox/pull/1096#issuecomment-337390741,"closes #1026


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1096,2017-10-17T02:24:56Z,2017-10-20T23:51:10Z,2017-10-20T23:51:10Z,MERGED,True,5,0,1,https://github.com/endoffile78,Don't build release builds with ASAN,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1096,https://github.com/fcore117,5,https://github.com/uTox/uTox/pull/1096#issuecomment-337646567,"closes #1026


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1096,2017-10-17T02:24:56Z,2017-10-20T23:51:10Z,2017-10-20T23:51:10Z,MERGED,True,5,0,1,https://github.com/endoffile78,Don't build release builds with ASAN,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1096,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1096#issuecomment-337805916,"closes #1026


This change is‚ÄÇ","@endoffile78 confirm you can override this setting with a command line flag, and I'll LGTM this.

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1096,2017-10-17T02:24:56Z,2017-10-20T23:51:10Z,2017-10-20T23:51:10Z,MERGED,True,5,0,1,https://github.com/endoffile78,Don't build release builds with ASAN,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1096,https://github.com/cebe,7,https://github.com/uTox/uTox/pull/1096#issuecomment-337821620,"closes #1026


This change is‚ÄÇ","@GrayHatter
$ cmake -DENABLE_ASAN=OFF ..
...
- Add ASAN:                OFF
...

$ cmake -DENABLE_ASAN=ON ..
...
- Add ASAN:                ON
...",True,{}
uTox/uTox,https://github.com/uTox/uTox,1096,2017-10-17T02:24:56Z,2017-10-20T23:51:10Z,2017-10-20T23:51:10Z,MERGED,True,5,0,1,https://github.com/endoffile78,Don't build release builds with ASAN,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1096,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/1096#issuecomment-337826975,"closes #1026


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1096,2017-10-17T02:24:56Z,2017-10-20T23:51:10Z,2017-10-20T23:51:10Z,MERGED,True,5,0,1,https://github.com/endoffile78,Don't build release builds with ASAN,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1096,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/1096#issuecomment-338302086,"closes #1026


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1097,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ",True,"{'THUMBS_UP': ['https://github.com/endoffile78', 'https://github.com/robinlinden']}"
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1097#issuecomment-338025002,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Review status: 0 of 17 files reviewed at latest revision, 1 unresolved discussion.

src/cocoa/interaction.m, line 980 at r1 (raw file):

}

bool native_save_image_png(const char *name, const uint8_t *image, const int image_size) {

@publicarray
Could you please take a look at macOS implementation? At least try it out! ;)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/publicarray,3,https://github.com/uTox/uTox/pull/1097#issuecomment-338059253,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Review status: 0 of 17 files reviewed at latest revision, 2 unresolved discussions.

src/self.c, line 42 at r1 (raw file):

    const uint8_t channel_number = 3;

    char tox_uri[TOX_ADDRESS_SIZE * 2 + tox_uri_scheme_length];

Needs one extra space for the null character

src/cocoa/interaction.m, line 980 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
@publicarray
Could you please take a look at macOS implementation? At least try it out! ;)

Will do :)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/publicarray,4,https://github.com/uTox/uTox/pull/1097#issuecomment-338077655,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","There is an issue with the scale on MacOS.


Reviewed 10 of 17 files at r1.
Review status: 10 of 17 files reviewed at latest revision, 3 unresolved discussions.

src/cocoa/interaction.m, line 980 at r1 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Will do :)

LGTM

src/cocoa/interaction.m, line 981 at r1 (raw file):

bool native_save_image_png(const char *name, const uint8_t *image, const int image_size) {
    NSSavePanel *picker = [NSSavePanel savePanel];

Could you please add
NSArray *file_types = [NSArray arrayWithObject:@""png""];
picker.allowedFileTypes = file_types;

so the file extension is added to the file name. Thanks.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1097#issuecomment-338118952,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","There is an issue with the scale on MacOS.

I could not find the reason for such behavior. On Windows and Linux it works just fine.
Is the saved QR normal? Or it's overscaled too?
If it's normal than problem could be in rendering QR into NATIVE_IMAGE, but I used the same function what is used for avatars and on your screenshot they are fine.

Review status: 9 of 17 files reviewed at latest revision, 3 unresolved discussions.

src/self.c, line 42 at r1 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Needs one extra space for the null character

Done.

src/cocoa/interaction.m, line 981 at r1 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Could you please add
NSArray *file_types = [NSArray arrayWithObject:@""png""];
picker.allowedFileTypes = file_types;

so the file extension is added to the file name. Thanks.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/publicarray,6,https://github.com/uTox/uTox/pull/1097#issuecomment-338322096,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Yea the saved file is without scaling, I went through with the debugger and I believe I found the problem.

Reviewed 1 of 17 files at r1, 3 of 3 files at r2.
Review status: 13 of 17 files reviewed at latest revision, 2 unresolved discussions.

src/layout/settings.c, line 155 at r2 (raw file):

        // Enlarge original QR for better recognition
        const double image_scale = SCALE(4);
        const uint32_t image_size = self.qr_data_size * image_scale;

Changing it to self.qr_image_size fixes the scale issue.
Image_size is now 148, instead of 3308

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1097#issuecomment-338326475,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Review status: 12 of 17 files reviewed at latest revision, 1 unresolved discussion.

src/layout/settings.c, line 155 at r2 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Changing it to self.qr_image_size fixes the scale issue.
Image_size is now 148, instead of 3308

Done. Nice catch!

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/1097#issuecomment-338350628,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Reviewed 14 of 17 files at r1, 2 of 3 files at r2, 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/xlib/filesys.c, line 235 at r3 (raw file):

bool native_save_image_png(char *name, uint8_t *image, int image_size) {
    if (libgtk) {
        FILE_IMAGE *file_image = calloc(1, sizeof(FILE_IMAGE));

Make sure memory is allocated.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/1097#issuecomment-338377828,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Review status: 16 of 17 files reviewed at latest revision, 2 unresolved discussions.

src/xlib/filesys.c, line 235 at r3 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Make sure memory is allocated.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/1097#issuecomment-338393936,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/publicarray,11,https://github.com/uTox/uTox/pull/1097#issuecomment-338440800,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/robinlinden,12,https://github.com/uTox/uTox/pull/1097#issuecomment-340291985,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Reviewed 7 of 17 files at r1, 2 of 3 files at r2, 1 of 1 files at r3, 1 of 1 files at r4, 6 of 6 files at r5.
Review status: all files reviewed at latest revision, 9 unresolved discussions.

src/self.c, line 18 at r5 (raw file):

#include <string.h>

static bool generate_qr(const char *text, uint8_t *qrcode) {

I'd prefer to see all of these new functions moved to a separate set of files.

src/self.c, line 19 at r5 (raw file):

static bool generate_qr(const char *text, uint8_t *qrcode) {
    uint8_t tempBuffer[qrcodegen_BUFFER_LEN_MAX];

I think we use snake_case for all of our variables.

src/self.c, line 24 at r5 (raw file):

}

static void convert_qr_to_rgb(uint8_t *qrcode, uint8_t size, uint8_t *pixels) {

qrcode should be const.

src/self.c, line 29 at r5 (raw file):

        for (uint8_t x = 0; x < size; x++) {
            bool black = qrcodegen_getModule(qrcode, x, y);
            pixels[i] = black ? 0x00 : 0xFF;

Not sure if it's prettier, but you could chain these like pixels[i] = pixels[i + 1] = pixels[i + 2] = black ? 0x00 : 0xFF;. Up to you.

src/windows/main.c, line 243 at r5 (raw file):

            free(path);
            return true;
        } else {

In general we don't want else after returns in uTox code.

src/xlib/filesys.c, line 247 at r5 (raw file):

        ugtk_file_save_image_png(file_image);
        return true;
    } else {

No else after return.

src/xlib/gtk.c, line 351 at r5 (raw file):

}

void ugtk_save_image_png_thread(void *args) {

This should be a static function.

src/xlib/gtk.h, line 11 at r5 (raw file):

typedef struct {
    char    *name;

char * so it's easy to search for all pointers of any type without resorting to regex.

src/xlib/gtk.h, line 26 at r5 (raw file):

void ugtk_save_chatlog(uint32_t friend_number);

void ugtk_file_save_image_png(FILE_IMAGE *file_image);

Add a comment saying this takes ownership of the FILE_IMAGE *.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/robinlinden,13,https://github.com/uTox/uTox/pull/1097#issuecomment-340292027,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ",And awesome job adding this! It's a great feature to have. :),True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/redmanmale,14,https://github.com/uTox/uTox/pull/1097#issuecomment-340534474,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Review status: 10 of 19 files reviewed at latest revision, 9 unresolved discussions.

src/self.c, line 18 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I'd prefer to see all of these new functions moved to a separate set of files.

Done.

src/self.c, line 24 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
qrcode should be const.

Done.

src/self.c, line 29 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Not sure if it's prettier, but you could chain these like pixels[i] = pixels[i + 1] = pixels[i + 2] = black ? 0x00 : 0xFF;. Up to you.

Done.

src/windows/main.c, line 243 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
In general we don't want else after returns in uTox code.

Done.

src/xlib/filesys.c, line 247 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
No else after return.

Done.

src/xlib/gtk.c, line 351 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This should be a static function.

Done.

src/xlib/gtk.h, line 11 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
char * so it's easy to search for all pointers of any type without resorting to regex.

Done.

src/xlib/gtk.h, line 26 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Add a comment saying this takes ownership of the FILE_IMAGE *.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/redmanmale,15,https://github.com/uTox/uTox/pull/1097#issuecomment-340534534,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Review status: 10 of 19 files reviewed at latest revision, 8 unresolved discussions.

src/self.c, line 19 at r5 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I think we use snake_case for all of our variables.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/robinlinden,16,https://github.com/uTox/uTox/pull/1097#issuecomment-340854949,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Reviewed 9 of 9 files at r6.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/qr.c, line 33 at r6 (raw file):

              NATIVE_IMAGE **qr_image,
              int *qr_image_size) {
    const char *tox_uri_scheme = ""tox:"";

You can define this as const char tox_uri_scheme[] = ""tox:""; and then use sizeof tox_uri_scheme instead of manually calculating the length.

src/qr.h, line 2 at r6 (raw file):

#include ""tox.h""
#include ""native/image.h""

A forward-declaration of NATIVE_IMAGE is enough, and you don't need tox.h in here at all.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/redmanmale,17,https://github.com/uTox/uTox/pull/1097#issuecomment-340874574,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Review status: 17 of 19 files reviewed at latest revision, 2 unresolved discussions.

src/qr.c, line 33 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You can define this as const char tox_uri_scheme[] = ""tox:""; and then use sizeof tox_uri_scheme instead of manually calculating the length.

Done.

src/qr.h, line 2 at r6 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
A forward-declaration of NATIVE_IMAGE is enough, and you don't need tox.h in here at all.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/robinlinden,18,https://github.com/uTox/uTox/pull/1097#issuecomment-340876690,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Reviewed 2 of 2 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1097,2017-10-19T20:11:42Z,2017-11-21T21:34:41Z,2017-11-21T21:35:35Z,MERGED,True,352,3,19,https://github.com/redmanmale,Tox ID as QR code,7,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1097,https://github.com/endoffile78,19,https://github.com/uTox/uTox/pull/1097#issuecomment-346167272,"Closes #1055.
QR code is generated from Tox ID (as Tox URI) on init and stored in self struct.
On the settings page added button to show/hide QR code.

There's a context menu on QR code itself with one item: save to file (implemented for all platforms except Android).
QR generation is made by QR-Code-generator. It's lightweight fast str8c lib.
I've added it as submodule to third-party folder (where we should move all other libs such as stb and minini).


This change is‚ÄÇ","Reviewed 4 of 6 files at r5, 7 of 9 files at r6, 2 of 2 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1099,2017-10-21T00:19:50Z,2017-10-23T18:52:44Z,2018-03-10T18:26:52Z,MERGED,True,7,7,5,https://github.com/endoffile78,Move the stb submodule to third-party directory,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1099,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1099,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1099,2017-10-21T00:19:50Z,2017-10-23T18:52:44Z,2018-03-10T18:26:52Z,MERGED,True,7,7,5,https://github.com/endoffile78,Move the stb submodule to third-party directory,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1099,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1099#issuecomment-338377351,This change is‚ÄÇ,"Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1099,2017-10-21T00:19:50Z,2017-10-23T18:52:44Z,2018-03-10T18:26:52Z,MERGED,True,7,7,5,https://github.com/endoffile78,Move the stb submodule to third-party directory,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1099,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1099#issuecomment-338754166,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1099,2017-10-21T00:19:50Z,2017-10-23T18:52:44Z,2018-03-10T18:26:52Z,MERGED,True,7,7,5,https://github.com/endoffile78,Move the stb submodule to third-party directory,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1099,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1099#issuecomment-338754187,This change is‚ÄÇ,"Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1101,2017-10-24T16:26:38Z,2017-10-29T20:46:07Z,2017-10-29T20:47:10Z,MERGED,True,2,4,1,https://github.com/redmanmale,Allow to override saved theme from cmd args even when it's default,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1101,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1101,"Fix broken utox -t default.


This change is‚ÄÇ","Fix broken utox -t default.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1101,2017-10-24T16:26:38Z,2017-10-29T20:46:07Z,2017-10-29T20:47:10Z,MERGED,True,2,4,1,https://github.com/redmanmale,Allow to override saved theme from cmd args even when it's default,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1101,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1101#issuecomment-339050249,"Fix broken utox -t default.


This change is‚ÄÇ","what happens when it loads an empty profile?
i.e. what happens when theme is set to -1u

Review status: 0 of 1 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1101,2017-10-24T16:26:38Z,2017-10-29T20:46:07Z,2017-10-29T20:47:10Z,MERGED,True,2,4,1,https://github.com/redmanmale,Allow to override saved theme from cmd args even when it's default,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1101,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1101#issuecomment-339052196,"Fix broken utox -t default.


This change is‚ÄÇ","Default value for save->theme in empty profile is 0, so theme would be set to 0.

Review status: 0 of 1 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1101,2017-10-24T16:26:38Z,2017-10-29T20:46:07Z,2017-10-29T20:47:10Z,MERGED,True,2,4,1,https://github.com/redmanmale,Allow to override saved theme from cmd args even when it's default,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1101,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1101#issuecomment-339080869,"Fix broken utox -t default.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1101,2017-10-24T16:26:38Z,2017-10-29T20:46:07Z,2017-10-29T20:47:10Z,MERGED,True,2,4,1,https://github.com/redmanmale,Allow to override saved theme from cmd args even when it's default,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1101,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/1101#issuecomment-340087315,"Fix broken utox -t default.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1101,2017-10-24T16:26:38Z,2017-10-29T20:46:07Z,2017-10-29T20:47:10Z,MERGED,True,2,4,1,https://github.com/redmanmale,Allow to override saved theme from cmd args even when it's default,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1101,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/1101#issuecomment-340222041,"Fix broken utox -t default.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1101,2017-10-24T16:26:38Z,2017-10-29T20:46:07Z,2017-10-29T20:47:10Z,MERGED,True,2,4,1,https://github.com/redmanmale,Allow to override saved theme from cmd args even when it's default,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1101,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/1101#issuecomment-340292921,"Fix broken utox -t default.


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{'THUMBS_UP': ['https://github.com/im-grey']}
uTox/uTox,https://github.com/uTox/uTox,1102,2017-10-25T05:19:09Z,2019-04-16T20:37:07Z,2019-04-16T20:37:07Z,MERGED,True,33,6,5,https://github.com/endoffile78,Add --allow-root option,1,[],https://github.com/uTox/uTox/pull/1102,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1102,"Closes #587


This change is‚ÄÇ","Closes #587


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1102,2017-10-25T05:19:09Z,2019-04-16T20:37:07Z,2019-04-16T20:37:07Z,MERGED,True,33,6,5,https://github.com/endoffile78,Add --allow-root option,1,[],https://github.com/uTox/uTox/pull/1102,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1102#issuecomment-339402702,"Closes #587


This change is‚ÄÇ","Reviewed 5 of 5 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/main.c, line 830 at r1 (raw file):

    int8_t should_launch_at_startup, set_show_window;
    bool   skip_updater, allow_root;
    parse_args(argc, argv, &skip_updater, &should_launch_at_startup, &set_show_window, &allow_root);

allow_root is meaninless on windows, pass NULL instead

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1102,2017-10-25T05:19:09Z,2019-04-16T20:37:07Z,2019-04-16T20:37:07Z,MERGED,True,33,6,5,https://github.com/endoffile78,Add --allow-root option,1,[],https://github.com/uTox/uTox/pull/1102,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1102#issuecomment-339431296,"Closes #587


This change is‚ÄÇ","Review status: 4 of 5 files reviewed at latest revision, 1 unresolved discussion.

src/windows/main.c, line 830 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
allow_root is meaninless on windows, pass NULL instead

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1102,2017-10-25T05:19:09Z,2019-04-16T20:37:07Z,2019-04-16T20:37:07Z,MERGED,True,33,6,5,https://github.com/endoffile78,Add --allow-root option,1,[],https://github.com/uTox/uTox/pull/1102,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1102#issuecomment-340088123,"Closes #587


This change is‚ÄÇ","The code all looks good, but I don't think this is a thing uTox needs or should have. I don't mind enough to block it, but I think it's complexity for no benefit.

Reviewed 4 of 5 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/main.c, line 132 at r2 (raw file):

        { ""verbose"", no_argument, NULL, 'v' },          { ""help"", no_argument, NULL, 'h' },
        { ""debug"", required_argument, NULL, 1 },        { ""allow-root"", no_argument, NULL, 2 },
		{ 0, 0, 0, 0 }

These tabs should be spaces.

src/main.h, line 71 at r2 (raw file):

                int8_t *should_launch_at_startup,
                int8_t *set_show_window,
	            bool *allow_root);

This tab should be spaces.

src/cocoa/main.m, line 533 at r2 (raw file):

    if (getuid() == 0 && !allow_root) {
        LOG_FATAL_ERR(EXIT_FAILURE, ""XLIB MAIN"", ""You can't run uTox as root unless --allow-root is set."");

""XLIB MAIN""?

Comments from Reviewable",True,{'THUMBS_UP': ['https://github.com/redmanmale']}
uTox/uTox,https://github.com/uTox/uTox,1102,2017-10-25T05:19:09Z,2019-04-16T20:37:07Z,2019-04-16T20:37:07Z,MERGED,True,33,6,5,https://github.com/endoffile78,Add --allow-root option,1,[],https://github.com/uTox/uTox/pull/1102,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/1102#issuecomment-340221933,"Closes #587


This change is‚ÄÇ","Review status: 1 of 5 files reviewed at latest revision, 4 unresolved discussions.

src/main.c, line 132 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
These tabs should be spaces.

Done.

src/main.h, line 71 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
This tab should be spaces.

Done.

src/cocoa/main.m, line 533 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
""XLIB MAIN""?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1102,2017-10-25T05:19:09Z,2019-04-16T20:37:07Z,2019-04-16T20:37:07Z,MERGED,True,33,6,5,https://github.com/endoffile78,Add --allow-root option,1,[],https://github.com/uTox/uTox/pull/1102,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1102#issuecomment-340224016,"Closes #587


This change is‚ÄÇ","Reviewed 1 of 5 files at r1, 4 of 4 files at r3.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1103,2017-10-25T05:31:29Z,2019-04-16T20:12:27Z,2019-04-16T20:12:27Z,CLOSED,False,17,2,6,https://github.com/endoffile78,Add utox_preinit(),1,[],https://github.com/uTox/uTox/pull/1103,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1103,"This is useful for settings.debug_file right now its set in parse_args. It really should be set before because there could be errors before parse_args is called which would result in no output.


This change is‚ÄÇ","This is useful for settings.debug_file right now its set in parse_args. It really should be set before because there could be errors before parse_args is called which would result in no output.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1103,2017-10-25T05:31:29Z,2019-04-16T20:12:27Z,2019-04-16T20:12:27Z,CLOSED,False,17,2,6,https://github.com/endoffile78,Add utox_preinit(),1,[],https://github.com/uTox/uTox/pull/1103,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1103#issuecomment-339402000,"This is useful for settings.debug_file right now its set in parse_args. It really should be set before because there could be errors before parse_args is called which would result in no output.


This change is‚ÄÇ","No, lets refactor init to make sure it can be called before parse_args.
@robinlinden @cebe anyone remember why parse_args needed to be called first? If so that's the problem we should fix

Review status: 0 of 6 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1103,2017-10-25T05:31:29Z,2019-04-16T20:12:27Z,2019-04-16T20:12:27Z,CLOSED,False,17,2,6,https://github.com/endoffile78,Add utox_preinit(),1,[],https://github.com/uTox/uTox/pull/1103,https://github.com/cebe,3,https://github.com/uTox/uTox/pull/1103#issuecomment-339482585,"This is useful for settings.debug_file right now its set in parse_args. It really should be set before because there could be errors before parse_args is called which would result in no output.


This change is‚ÄÇ","not sure I understand what you mean, settings.debug_file must be set before parse_args because parse_args will overwrite it, if you specify a file.

Review status: 0 of 6 files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1103,2017-10-25T05:31:29Z,2019-04-16T20:12:27Z,2019-04-16T20:12:27Z,CLOSED,False,17,2,6,https://github.com/endoffile78,Add utox_preinit(),1,[],https://github.com/uTox/uTox/pull/1103,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1103#issuecomment-339502914,"This is useful for settings.debug_file right now its set in parse_args. It really should be set before because there could be errors before parse_args is called which would result in no output.


This change is‚ÄÇ","@GrayHatter I think utox_init is called before parse_args because of the splashcreen check. I agree though it would be beter to just change utox_init
@cebe There could be an error message before parse_args is called meaning there would be no output. For example right now if this check fails:
    if (!XInitThreads()) {
        LOG_FATAL_ERR(EXIT_FAILURE, ""XLIB MAIN"", ""XInitThreads failed."");
    }
then there would be no output it would look like uTox just closed.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1103,2017-10-25T05:31:29Z,2019-04-16T20:12:27Z,2019-04-16T20:12:27Z,CLOSED,False,17,2,6,https://github.com/endoffile78,Add utox_preinit(),1,[],https://github.com/uTox/uTox/pull/1103,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/1103#issuecomment-339514024,"This is useful for settings.debug_file right now its set in parse_args. It really should be set before because there could be errors before parse_args is called which would result in no output.


This change is‚ÄÇ","I understand the change, I did not understand what @GrayHatter said. But I think I got it now.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1103,2017-10-25T05:31:29Z,2019-04-16T20:12:27Z,2019-04-16T20:12:27Z,CLOSED,False,17,2,6,https://github.com/endoffile78,Add utox_preinit(),1,[],https://github.com/uTox/uTox/pull/1103,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1103#issuecomment-483825533,"This is useful for settings.debug_file right now its set in parse_args. It really should be set before because there could be errors before parse_args is called which would result in no output.


This change is‚ÄÇ","closing, preinit is the wrong way to go about it.... refactor pending... eventually...",True,{}
uTox/uTox,https://github.com/uTox/uTox,1104,2017-10-25T16:46:13Z,2019-04-16T19:30:40Z,2019-04-20T20:58:33Z,MERGED,True,10,0,1,https://github.com/GrayHatter,Auto 'clone' STB with cmake,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1104,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1104,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1104,2017-10-25T16:46:13Z,2019-04-16T19:30:40Z,2019-04-20T20:58:33Z,MERGED,True,10,0,1,https://github.com/GrayHatter,Auto 'clone' STB with cmake,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1104,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1104#issuecomment-339394893,This change is‚ÄÇ,closes #1059,True,{}
uTox/uTox,https://github.com/uTox/uTox,1104,2017-10-25T16:46:13Z,2019-04-16T19:30:40Z,2019-04-20T20:58:33Z,MERGED,True,10,0,1,https://github.com/GrayHatter,Auto 'clone' STB with cmake,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1104,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1104#issuecomment-339434731,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1106,2017-10-25T17:37:43Z,2020-05-20T17:11:56Z,2020-05-25T16:40:21Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,MAX_PATH is bad,1,[],https://github.com/uTox/uTox/pull/1106,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1106,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1106,2017-10-25T17:37:43Z,2020-05-20T17:11:56Z,2020-05-25T16:40:21Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,MAX_PATH is bad,1,[],https://github.com/uTox/uTox/pull/1106,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1106#issuecomment-339423179,This change is‚ÄÇ,closes #1105,True,{}
uTox/uTox,https://github.com/uTox/uTox,1106,2017-10-25T17:37:43Z,2020-05-20T17:11:56Z,2020-05-25T16:40:21Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,MAX_PATH is bad,1,[],https://github.com/uTox/uTox/pull/1106,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1106#issuecomment-339435860,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1106,2017-10-25T17:37:43Z,2020-05-20T17:11:56Z,2020-05-25T16:40:21Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,MAX_PATH is bad,1,[],https://github.com/uTox/uTox/pull/1106,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1106#issuecomment-339473779,This change is‚ÄÇ,Why is MAX_PATH bad? Why is replacing MAX_PATH with an even bigger number (on some systems) better?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1106,2017-10-25T17:37:43Z,2020-05-20T17:11:56Z,2020-05-25T16:40:21Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,MAX_PATH is bad,1,[],https://github.com/uTox/uTox/pull/1106,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1106#issuecomment-339504432,This change is‚ÄÇ,"MAX_PATH is 260*, but it's not at all tied to the actual value of the max path for the OS.
UTOX_FILE_NAME_LENGTH likely isn't much better. But it wont give a false sense of correctness.

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1106,2017-10-25T17:37:43Z,2020-05-20T17:11:56Z,2020-05-25T16:40:21Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,MAX_PATH is bad,1,[],https://github.com/uTox/uTox/pull/1106,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1106#issuecomment-339563233,This change is‚ÄÇ,"Why can't we use real MAX_PATH value for each platform and set it in #if-defs?
For Windows XP it's 260, Windows 7-8 it's 32767 and from one of the builds of Windows 10 there's no limit at all.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1106,2017-10-25T17:37:43Z,2020-05-20T17:11:56Z,2020-05-25T16:40:21Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,MAX_PATH is bad,1,[],https://github.com/uTox/uTox/pull/1106,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/1106#issuecomment-339780523,This change is‚ÄÇ,"@redmanmale I like that idea better, but it's out of scope for the time I have.

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1106,2017-10-25T17:37:43Z,2020-05-20T17:11:56Z,2020-05-25T16:40:21Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,MAX_PATH is bad,1,[],https://github.com/uTox/uTox/pull/1106,https://github.com/redmanmale,8,https://github.com/uTox/uTox/pull/1106#issuecomment-339935001,This change is‚ÄÇ,"But on Windows XP max path is limited by current MAX_PATH (260) and using bigger number (UTOX_FILE_NAME_LENGTH which is 1024) could cause errors.

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,"{'THUMBS_UP': ['https://github.com/GrayHatter', 'https://github.com/robinlinden']}"
uTox/uTox,https://github.com/uTox/uTox,1106,2017-10-25T17:37:43Z,2020-05-20T17:11:56Z,2020-05-25T16:40:21Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,MAX_PATH is bad,1,[],https://github.com/uTox/uTox/pull/1106,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/1106#issuecomment-340070239,This change is‚ÄÇ,"@redmanmale good catch, I'll give it some thought.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1106,2017-10-25T17:37:43Z,2020-05-20T17:11:56Z,2020-05-25T16:40:21Z,CLOSED,False,2,2,2,https://github.com/GrayHatter,MAX_PATH is bad,1,[],https://github.com/uTox/uTox/pull/1106,None,10,https://github.com/uTox/uTox/pull/1106#issuecomment-632042680,This change is‚ÄÇ,Can the branch be deleted?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1109,2017-10-27T21:28:30Z,2017-10-27T22:00:17Z,2017-10-29T20:11:35Z,MERGED,True,1,1,1,https://github.com/robinlinden,Update Opus download link.,1,[],https://github.com/uTox/uTox/pull/1109,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1109,"This should fix Travis failing.


This change is‚ÄÇ","This should fix Travis failing.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1109,2017-10-27T21:28:30Z,2017-10-27T22:00:17Z,2017-10-29T20:11:35Z,MERGED,True,1,1,1,https://github.com/robinlinden,Update Opus download link.,1,[],https://github.com/uTox/uTox/pull/1109,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1109#issuecomment-340094425,"This should fix Travis failing.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1109,2017-10-27T21:28:30Z,2017-10-27T22:00:17Z,2017-10-29T20:11:35Z,MERGED,True,1,1,1,https://github.com/robinlinden,Update Opus download link.,1,[],https://github.com/uTox/uTox/pull/1109,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1109#issuecomment-340095206,"This should fix Travis failing.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1109,2017-10-27T21:28:30Z,2017-10-27T22:00:17Z,2017-10-29T20:11:35Z,MERGED,True,1,1,1,https://github.com/robinlinden,Update Opus download link.,1,[],https://github.com/uTox/uTox/pull/1109,https://github.com/zoff99,4,https://github.com/uTox/uTox/pull/1109#issuecomment-340154979,"This should fix Travis failing.


This change is‚ÄÇ","@robinlinden why not use github?
https://github.com/xiph/opus/archive/v1.2.1.tar.gz",True,{}
uTox/uTox,https://github.com/uTox/uTox,1109,2017-10-27T21:28:30Z,2017-10-27T22:00:17Z,2017-10-29T20:11:35Z,MERGED,True,1,1,1,https://github.com/robinlinden,Update Opus download link.,1,[],https://github.com/uTox/uTox/pull/1109,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/1109#issuecomment-340290459,"This should fix Travis failing.


This change is‚ÄÇ",@zoff99 No reason in particular. I got this link off of their website.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1110,2017-10-27T22:13:04Z,2017-10-27T23:36:59Z,2017-10-27T23:36:59Z,CLOSED,False,24,6,3,https://github.com/redmanmale,Friend requests improvements [2],3,[],https://github.com/uTox/uTox/pull/1110,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1110,"Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ","Fixes #143 (for contact list sorting part there's another issue).

add incoming friend request message to chat
add outcoming friend request message to chat
after adding friend switch to chat with him



This change is‚ÄÇ",True,{'HOORAY': ['https://github.com/im-grey']}
uTox/uTox,https://github.com/uTox/uTox,1113,2017-11-05T15:15:49Z,2017-11-05T16:09:44Z,2017-11-05T16:14:18Z,MERGED,True,4,2,1,https://github.com/robinlinden,Fix bug that would put uToxGTK in a bad state,1,[],https://github.com/uTox/uTox/pull/1113,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1113,"If uTox starts reporting a friend as offline at the wrong time the GTK
code will never set utoxGTK_open back to false and always instantly return
when called after this point.


This change is‚ÄÇ","If uTox starts reporting a friend as offline at the wrong time the GTK
code will never set utoxGTK_open back to false and always instantly return
when called after this point.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1113,2017-11-05T15:15:49Z,2017-11-05T16:09:44Z,2017-11-05T16:14:18Z,MERGED,True,4,2,1,https://github.com/robinlinden,Fix bug that would put uToxGTK in a bad state,1,[],https://github.com/uTox/uTox/pull/1113,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1113#issuecomment-341980984,"If uTox starts reporting a friend as offline at the wrong time the GTK
code will never set utoxGTK_open back to false and always instantly return
when called after this point.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1113,2017-11-05T15:15:49Z,2017-11-05T16:09:44Z,2017-11-05T16:14:18Z,MERGED,True,4,2,1,https://github.com/robinlinden,Fix bug that would put uToxGTK in a bad state,1,[],https://github.com/uTox/uTox/pull/1113,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1113#issuecomment-341984265,"If uTox starts reporting a friend as offline at the wrong time the GTK
code will never set utoxGTK_open back to false and always instantly return
when called after this point.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1116,2017-11-14T17:28:11Z,2017-11-18T17:44:14Z,2017-12-13T21:58:16Z,MERGED,True,6,0,2,https://github.com/redmanmale,Save datetime format settings,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1116,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1116,"Fixes #1058.

This change is‚ÄÇ","Fixes #1058.

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1116,2017-11-14T17:28:11Z,2017-11-18T17:44:14Z,2017-12-13T21:58:16Z,MERGED,True,6,0,2,https://github.com/redmanmale,Save datetime format settings,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1116,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1116#issuecomment-344745929,"Fixes #1058.

This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1116,2017-11-14T17:28:11Z,2017-11-18T17:44:14Z,2017-12-13T21:58:16Z,MERGED,True,6,0,2,https://github.com/redmanmale,Save datetime format settings,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1116,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1116#issuecomment-345458168,"Fixes #1058.

This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1116,2017-11-14T17:28:11Z,2017-11-18T17:44:14Z,2017-12-13T21:58:16Z,MERGED,True,6,0,2,https://github.com/redmanmale,Save datetime format settings,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1116,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1116#issuecomment-351537060,"Fixes #1058.

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, all commit checks successful.

src/settings.h, line 128 at r1 (raw file):

    uint8_t  video_fps;
    uint8_t force_proxy;
    uint8_t use_long_time_msg;

why not bool?
if you want to be pedantic, why not `uint8_t use_long_time_msg : 1;'

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1116,2017-11-14T17:28:11Z,2017-11-18T17:44:14Z,2017-12-13T21:58:16Z,MERGED,True,6,0,2,https://github.com/redmanmale,Save datetime format settings,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1116,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1116#issuecomment-351538346,"Fixes #1058.

This change is‚ÄÇ",There's no any other bool in UTOX_SAVE struct; and we're planning to deprecate the whole struct soon.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1118,2017-11-15T22:07:19Z,2017-11-23T18:14:42Z,2017-12-02T10:09:30Z,MERGED,True,33,66,3,https://github.com/redmanmale,Drop file_raw,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1118,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1118,"Fixes #798 (macOS part).


This change is‚ÄÇ","Fixes #798 (macOS part).


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1118,2017-11-15T22:07:19Z,2017-11-23T18:14:42Z,2017-12-02T10:09:30Z,MERGED,True,33,66,3,https://github.com/redmanmale,Drop file_raw,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1118,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1118#issuecomment-345036553,"Fixes #798 (macOS part).


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1118,2017-11-15T22:07:19Z,2017-11-23T18:14:42Z,2017-12-02T10:09:30Z,MERGED,True,33,66,3,https://github.com/redmanmale,Drop file_raw,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1118,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1118#issuecomment-346343293,"Fixes #798 (macOS part).


This change is‚ÄÇ","@publicarray
Could you please take a look?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1118,2017-11-15T22:07:19Z,2017-11-23T18:14:42Z,2017-12-02T10:09:30Z,MERGED,True,33,66,3,https://github.com/redmanmale,Drop file_raw,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1118,https://github.com/publicarray,4,https://github.com/uTox/uTox/pull/1118#issuecomment-346485165,"Fixes #798 (macOS part).


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/cocoa/interaction.m, line 1037 at r1 (raw file):

    if (ret == NSFileHandlingPanelOKButton) {
        int width, height, bpp, size;

Just a small nit. What is bpp? bits per pixel?
The only info I could find is in stb_image.h
n = # 8-bit components per pixel ...
//    // ... replace '0' with '1'..'4' to force that many components per pixel
//    // ... but 'n' will always be the number that it would have been if you said 0

Maybe add a small comment but I leave it to you if you think it is necessary. It is also in the windows implementation.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1118,2017-11-15T22:07:19Z,2017-11-23T18:14:42Z,2017-12-02T10:09:30Z,MERGED,True,33,66,3,https://github.com/redmanmale,Drop file_raw,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1118,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1118#issuecomment-346487735,"Fixes #798 (macOS part).


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/cocoa/interaction.m, line 1037 at r1 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Just a small nit. What is bpp? bits per pixel?
The only info I could find is in stb_image.h
n = # 8-bit components per pixel ...
//    // ... replace '0' with '1'..'4' to force that many components per pixel
//    // ... but 'n' will always be the number that it would have been if you said 0

Maybe add a small comment but I leave it to you if you think it is necessary. It is also in the windows implementation.

I didn't touch naming but yeah it's bits per pixel.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1118,2017-11-15T22:07:19Z,2017-11-23T18:14:42Z,2017-12-02T10:09:30Z,MERGED,True,33,66,3,https://github.com/redmanmale,Drop file_raw,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1118,https://github.com/publicarray,6,https://github.com/uTox/uTox/pull/1118#issuecomment-346488313,"Fixes #798 (macOS part).


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/cocoa/interaction.m, line 1037 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
I didn't touch naming but yeah it's bits per pixel.

LGTM Thanks

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1120,2017-11-16T22:24:53Z,2017-12-19T19:29:58Z,2017-12-19T19:29:58Z,MERGED,True,1,1,1,None,"Get rid of redundant flags, OpenBSD",1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1120,None,1,https://github.com/uTox/uTox/pull/1120,"clang and gcc use C99 standard by default anyway


This change is‚ÄÇ","clang and gcc use C99 standard by default anyway


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1120,2017-11-16T22:24:53Z,2017-12-19T19:29:58Z,2017-12-19T19:29:58Z,MERGED,True,1,1,1,None,"Get rid of redundant flags, OpenBSD",1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1120,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1120#issuecomment-345091159,"clang and gcc use C99 standard by default anyway


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1120,2017-11-16T22:24:53Z,2017-12-19T19:29:58Z,2017-12-19T19:29:58Z,MERGED,True,1,1,1,None,"Get rid of redundant flags, OpenBSD",1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1120,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1120#issuecomment-352333150,"clang and gcc use C99 standard by default anyway


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1130,2017-11-26T22:28:04Z,2017-12-19T20:51:27Z,2018-02-19T23:26:08Z,MERGED,True,16,3,1,https://github.com/endoffile78,Better error checking for xlib/video.c,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1130,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1130,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1130,2017-11-26T22:28:04Z,2017-12-19T20:51:27Z,2018-02-19T23:26:08Z,MERGED,True,16,3,1,https://github.com/endoffile78,Better error checking for xlib/video.c,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1130,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1130#issuecomment-347149619,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/xlib/video.c, line 88 at r1 (raw file):

        new_data = malloc(attrs.width * attrs.height * 4);
        if (!new_data) {
            LOG_DEBUG(""Video"", ""Could not allocate memory for scaled imeage."");

Typo: imeage

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1130,2017-11-26T22:28:04Z,2017-12-19T20:51:27Z,2018-02-19T23:26:08Z,MERGED,True,16,3,1,https://github.com/endoffile78,Better error checking for xlib/video.c,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1130,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1130#issuecomment-347167291,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/xlib/video.c, line 88 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Typo: imeage

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1130,2017-11-26T22:28:04Z,2017-12-19T20:51:27Z,2018-02-19T23:26:08Z,MERGED,True,16,3,1,https://github.com/endoffile78,Better error checking for xlib/video.c,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1130,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1130#issuecomment-351536114,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/xlib/video.c, line 88 at r2 (raw file):

        new_data = malloc(attrs.width * attrs.height * 4);
        if (!new_data) {
            LOG_DEBUG(""Video"", ""Could not allocate memory for scaled image."");

this is a malloc error, use the fatal_err here
theres' a branch somewhere with a macro that makes this easy, anyone remember where?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1130,2017-11-26T22:28:04Z,2017-12-19T20:51:27Z,2018-02-19T23:26:08Z,MERGED,True,16,3,1,https://github.com/endoffile78,Better error checking for xlib/video.c,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1130,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/1130#issuecomment-352860758,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/xlib/video.c, line 88 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this is a malloc error, use the fatal_err here
theres' a branch somewhere with a macro that makes this easy, anyone remember where?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1130,2017-11-26T22:28:04Z,2017-12-19T20:51:27Z,2018-02-19T23:26:08Z,MERGED,True,16,3,1,https://github.com/endoffile78,Better error checking for xlib/video.c,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1130,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1130#issuecomment-352863234,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1130,2017-11-26T22:28:04Z,2017-12-19T20:51:27Z,2018-02-19T23:26:08Z,MERGED,True,16,3,1,https://github.com/endoffile78,Better error checking for xlib/video.c,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1130,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1130#issuecomment-352864002,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1132,2017-11-27T17:51:41Z,2018-02-10T00:59:38Z,2019-01-21T09:09:06Z,MERGED,True,5,4,3,https://github.com/redmanmale,[Windows] Fix copy to clipboard,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1132,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1132,"Fixes #1107.


This change is‚ÄÇ","Fixes #1107.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1132,2017-11-27T17:51:41Z,2018-02-10T00:59:38Z,2019-01-21T09:09:06Z,MERGED,True,5,4,3,https://github.com/redmanmale,[Windows] Fix copy to clipboard,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1132,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1132#issuecomment-347299476,"Fixes #1107.


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1132,2017-11-27T17:51:41Z,2018-02-10T00:59:38Z,2019-01-21T09:09:06Z,MERGED,True,5,4,3,https://github.com/redmanmale,[Windows] Fix copy to clipboard,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1132,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1132#issuecomment-363515902,"Fixes #1107.


This change is‚ÄÇ","You left in the TODO comments?
How hard would it be to malloc here as needed?

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1132,2017-11-27T17:51:41Z,2018-02-10T00:59:38Z,2019-01-21T09:09:06Z,MERGED,True,5,4,3,https://github.com/redmanmale,[Windows] Fix copy to clipboard,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1132,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1132#issuecomment-363758129,"Fixes #1107.


This change is‚ÄÇ","I left them as they were before.
Maybe not that hard but I didn't really think about it.
This was supposed to be a quick small fix.

Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1132,2017-11-27T17:51:41Z,2018-02-10T00:59:38Z,2019-01-21T09:09:06Z,MERGED,True,5,4,3,https://github.com/redmanmale,[Windows] Fix copy to clipboard,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1132,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1132#issuecomment-363904161,"Fixes #1107.


This change is‚ÄÇ",I can't LGTM with comments that are out of date :/,True,{}
uTox/uTox,https://github.com/uTox/uTox,1132,2017-11-27T17:51:41Z,2018-02-10T00:59:38Z,2019-01-21T09:09:06Z,MERGED,True,5,4,3,https://github.com/redmanmale,[Windows] Fix copy to clipboard,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1132,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1132#issuecomment-364024702,"Fixes #1107.


This change is‚ÄÇ",These comments are about de-hardcoding buffers' sizes and it haven't done yet.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1132,2017-11-27T17:51:41Z,2018-02-10T00:59:38Z,2019-01-21T09:09:06Z,MERGED,True,5,4,3,https://github.com/redmanmale,[Windows] Fix copy to clipboard,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1132,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/1132#issuecomment-364554807,"Fixes #1107.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/windows/main.c, line 294 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
I can rewrite this without such value but there will be some -1s instead.

no, it's fine here, it's just something that should make any reviewer tense up a bit when reading it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1132,2017-11-27T17:51:41Z,2018-02-10T00:59:38Z,2019-01-21T09:09:06Z,MERGED,True,5,4,3,https://github.com/redmanmale,[Windows] Fix copy to clipboard,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1132,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/1132#issuecomment-364554866,"Fixes #1107.


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1134,2017-11-28T17:54:23Z,2017-11-29T15:17:13Z,2017-11-29T15:17:13Z,MERGED,True,1,1,1,https://github.com/redmanmale,Update qr library,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1134,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1134,"Update qr library to fix some its warnings.
See nayuki/QR-Code-generator#22.


This change is‚ÄÇ","Update qr library to fix some its warnings.
See nayuki/QR-Code-generator#22.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1134,2017-11-28T17:54:23Z,2017-11-29T15:17:13Z,2017-11-29T15:17:13Z,MERGED,True,1,1,1,https://github.com/redmanmale,Update qr library,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1134,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1134#issuecomment-347628112,"Update qr library to fix some its warnings.
See nayuki/QR-Code-generator#22.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1134,2017-11-28T17:54:23Z,2017-11-29T15:17:13Z,2017-11-29T15:17:13Z,MERGED,True,1,1,1,https://github.com/redmanmale,Update qr library,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1134,https://github.com/fcore117,3,https://github.com/uTox/uTox/pull/1134#issuecomment-347844323,"Update qr library to fix some its warnings.
See nayuki/QR-Code-generator#22.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

I tested by compiling uTox with updated qr code library with Cygwin on Windows 10 and did not see warning anymore.
Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1135,2017-11-28T18:04:48Z,2017-12-06T15:41:37Z,2017-12-18T06:14:15Z,MERGED,True,68,16,4,https://github.com/redmanmale,[Windows] Fix garbage at the end of notification,4,['PR: READY'],https://github.com/uTox/uTox/pull/1135,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1135,"Fixed #1108.


This change is‚ÄÇ","Fixed #1108.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1135,2017-11-28T18:04:48Z,2017-12-06T15:41:37Z,2017-12-18T06:14:15Z,MERGED,True,68,16,4,https://github.com/redmanmale,[Windows] Fix garbage at the end of notification,4,['PR: READY'],https://github.com/uTox/uTox/pull/1135,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1135#issuecomment-347629055,"Fixed #1108.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1135,2017-11-28T18:04:48Z,2017-12-06T15:41:37Z,2017-12-18T06:14:15Z,MERGED,True,68,16,4,https://github.com/redmanmale,[Windows] Fix garbage at the end of notification,4,['PR: READY'],https://github.com/uTox/uTox/pull/1135,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1135#issuecomment-347631226,"Fixed #1108.


This change is‚ÄÇ","Sorry, I forgot about another part of this issue. It's done now.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1135,2017-11-28T18:04:48Z,2017-12-06T15:41:37Z,2017-12-18T06:14:15Z,MERGED,True,68,16,4,https://github.com/redmanmale,[Windows] Fix garbage at the end of notification,4,['PR: READY'],https://github.com/uTox/uTox/pull/1135,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1135#issuecomment-347633001,"Fixed #1108.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1135,2017-11-28T18:04:48Z,2017-12-06T15:41:37Z,2017-12-18T06:14:15Z,MERGED,True,68,16,4,https://github.com/redmanmale,[Windows] Fix garbage at the end of notification,4,['PR: READY'],https://github.com/uTox/uTox/pull/1135,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/1135#issuecomment-349138115,"Fixed #1108.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

src/layout/settings.c, line 1333 at r2 (raw file):

    uint16_t length = edit->length;

    memset(self.name, 0, length);

Why did you make this change? This will write n bytes which then will be overwritten by memcpy writing n bytes. If you meant to null-terminate, you need 1 more byte in the memset.

src/layout/settings.c, line 1354 at r2 (raw file):

    if (length) {
        length = (length <= TOX_MAX_STATUS_MESSAGE_LENGTH) ? length : TOX_MAX_STATUS_MESSAGE_LENGTH;
        memset(self.statusmsg, 0, length);

Why did you make this change? This will write n bytes which then will be overwritten by memcpy writing n bytes. If you meant to null-terminate, you need 1 more byte in the memset.

src/windows/main.c, line 555 at r2 (raw file):

                      self.statusmsg_length, self.statusmsg);
    uint16_t msg_len = 0;
    while (msg_len < length)

Curly brace goes on this line.

src/windows/notify.c, line 58 at r2 (raw file):

    uint16_t msg_len = 0;
    while (msg_len < msg_length)

The curly brace needs to go on this line.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1135,2017-11-28T18:04:48Z,2017-12-06T15:41:37Z,2017-12-18T06:14:15Z,MERGED,True,68,16,4,https://github.com/redmanmale,[Windows] Fix garbage at the end of notification,4,['PR: READY'],https://github.com/uTox/uTox/pull/1135,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1135#issuecomment-349448158,"Fixed #1108.


This change is‚ÄÇ","Review status: 0 of 4 files reviewed at latest revision, 4 unresolved discussions.

src/windows/main.c, line 555 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Curly brace goes on this line.

Done.

src/windows/notify.c, line 58 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
The curly brace needs to go on this line.

Done.

src/layout/settings.c, line 1333 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Why did you make this change? This will write n bytes which then will be overwritten by memcpy writing n bytes. If you meant to null-terminate, you need 1 more byte in the memset.

Yeah, you're right. It's just pointless.

src/layout/settings.c, line 1354 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
Why did you make this change? This will write n bytes which then will be overwritten by memcpy writing n bytes. If you meant to null-terminate, you need 1 more byte in the memset.

Same.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1135,2017-11-28T18:04:48Z,2017-12-06T15:41:37Z,2017-12-18T06:14:15Z,MERGED,True,68,16,4,https://github.com/redmanmale,[Windows] Fix garbage at the end of notification,4,['PR: READY'],https://github.com/uTox/uTox/pull/1135,https://github.com/robinlinden,7,https://github.com/uTox/uTox/pull/1135#issuecomment-349449085,"Fixed #1108.


This change is‚ÄÇ","Reviewed 5 of 5 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1135,2017-11-28T18:04:48Z,2017-12-06T15:41:37Z,2017-12-18T06:14:15Z,MERGED,True,68,16,4,https://github.com/redmanmale,[Windows] Fix garbage at the end of notification,4,['PR: READY'],https://github.com/uTox/uTox/pull/1135,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/1135#issuecomment-349450965,"Fixed #1108.


This change is‚ÄÇ","Reviewed 4 of 5 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1135,2017-11-28T18:04:48Z,2017-12-06T15:41:37Z,2017-12-18T06:14:15Z,MERGED,True,68,16,4,https://github.com/redmanmale,[Windows] Fix garbage at the end of notification,4,['PR: READY'],https://github.com/uTox/uTox/pull/1135,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/1135#issuecomment-352335300,"Fixed #1108.


This change is‚ÄÇ","It's pretty important we get this code right... @robinlinden @endoffile78 how deep did you read into this new function?

Review status:  all files reviewed at latest revision, all discussions resolved, all commit checks successful.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1138,2017-11-29T18:38:41Z,2017-12-05T21:45:49Z,2017-12-13T22:04:56Z,MERGED,True,53,9,8,https://github.com/redmanmale,Password too short warning,4,[],https://github.com/uTox/uTox/pull/1138,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1138,"Fixes #825.
Show a message box with localized text when trying to set a password less then 4 characters. Clear password field after that.
Implemented for all platforms (except Android).


This change is‚ÄÇ","Fixes #825.
Show a message box with localized text when trying to set a password less then 4 characters. Clear password field after that.
Implemented for all platforms (except Android).


This change is‚ÄÇ",True,"{'HEART': ['https://github.com/endoffile78'], 'THUMBS_UP': ['https://github.com/robinlinden']}"
uTox/uTox,https://github.com/uTox/uTox,1138,2017-11-29T18:38:41Z,2017-12-05T21:45:49Z,2017-12-13T22:04:56Z,MERGED,True,53,9,8,https://github.com/redmanmale,Password too short warning,4,[],https://github.com/uTox/uTox/pull/1138,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1138#issuecomment-347975234,"Fixes #825.
Show a message box with localized text when trying to set a password less then 4 characters. Clear password field after that.
Implemented for all platforms (except Android).


This change is‚ÄÇ","Reviewed 8 of 8 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1138,2017-11-29T18:38:41Z,2017-12-05T21:45:49Z,2017-12-13T22:04:56Z,MERGED,True,53,9,8,https://github.com/redmanmale,Password too short warning,4,[],https://github.com/uTox/uTox/pull/1138,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1138#issuecomment-349451018,"Fixes #825.
Show a message box with localized text when trying to set a password less then 4 characters. Clear password field after that.
Implemented for all platforms (except Android).


This change is‚ÄÇ","Reviewed 8 of 8 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1138,2017-11-29T18:38:41Z,2017-12-05T21:45:49Z,2017-12-13T22:04:56Z,MERGED,True,53,9,8,https://github.com/redmanmale,Password too short warning,4,[],https://github.com/uTox/uTox/pull/1138,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1138#issuecomment-350341369,"Fixes #825.
Show a message box with localized text when trying to set a password less then 4 characters. Clear password field after that.
Implemented for all platforms (except Android).


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, all commit checks successful.

src/xlib/gtk.c, line 218 at r1 (raw file):

}

void show_messagebox(const char *UNUSED(caption), uint16_t UNUSED(caption_length),

what happens when a user doesn't' have GTK installed?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1138,2017-11-29T18:38:41Z,2017-12-05T21:45:49Z,2017-12-13T22:04:56Z,MERGED,True,53,9,8,https://github.com/redmanmale,Password too short warning,4,[],https://github.com/uTox/uTox/pull/1138,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1138#issuecomment-351539035,"Fixes #825.
Show a message box with localized text when trying to set a password less then 4 characters. Clear password field after that.
Implemented for all platforms (except Android).


This change is‚ÄÇ","I haven't add any new code for GTK handling.
And uTox will no work without GTK, right?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1138,2017-11-29T18:38:41Z,2017-12-05T21:45:49Z,2017-12-13T22:04:56Z,MERGED,True,53,9,8,https://github.com/redmanmale,Password too short warning,4,[],https://github.com/uTox/uTox/pull/1138,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1138#issuecomment-351540125,"Fixes #825.
Show a message box with localized text when trying to set a password less then 4 characters. Clear password field after that.
Implemented for all platforms (except Android).


This change is‚ÄÇ","uTox used to, and needs to work without GTK.
It will be missing features, but the reason we're loading GTK at run time is so uTox can work on systems with out GTK.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1139,2017-11-30T21:17:36Z,2017-12-05T21:49:23Z,2017-12-06T07:06:51Z,MERGED,True,13,13,2,https://github.com/redmanmale,Fix send offline ui,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1139,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1139,"Fixes #1125.


This change is‚ÄÇ","Fixes #1125.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1139,2017-11-30T21:17:36Z,2017-12-05T21:49:23Z,2017-12-06T07:06:51Z,MERGED,True,13,13,2,https://github.com/redmanmale,Fix send offline ui,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1139,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1139#issuecomment-349138670,"Fixes #1125.


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1139,2017-11-30T21:17:36Z,2017-12-05T21:49:23Z,2017-12-06T07:06:51Z,MERGED,True,13,13,2,https://github.com/redmanmale,Fix send offline ui,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1139,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1139#issuecomment-349452770,"Fixes #1125.


This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1140,2017-12-01T21:24:21Z,2017-12-04T23:01:54Z,2017-12-05T08:27:47Z,MERGED,True,22,22,2,https://github.com/redmanmale,Fix chat layout for different DPI,1,[],https://github.com/uTox/uTox/pull/1140,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1140,"Before:

After:



This change is‚ÄÇ","Before:

After:



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1140,2017-12-01T21:24:21Z,2017-12-04T23:01:54Z,2017-12-05T08:27:47Z,MERGED,True,22,22,2,https://github.com/redmanmale,Fix chat layout for different DPI,1,[],https://github.com/uTox/uTox/pull/1140,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1140#issuecomment-348619335,"Before:

After:



This change is‚ÄÇ","we should see if we can't remove MESSAGES_X and start text at 0,0 in a new panel
but this change 

Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1140,2017-12-01T21:24:21Z,2017-12-04T23:01:54Z,2017-12-05T08:27:47Z,MERGED,True,22,22,2,https://github.com/redmanmale,Fix chat layout for different DPI,1,[],https://github.com/uTox/uTox/pull/1140,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1140#issuecomment-349135663,"Before:

After:



This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1141,2017-12-04T18:53:18Z,2017-12-05T21:52:57Z,2019-01-14T21:18:02Z,MERGED,True,738,0,3,https://github.com/robinlinden,Add Estonian language support,1,[],https://github.com/uTox/uTox/pull/1141,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1141,"Big thanks to @fcore117 for the translation!

This change is‚ÄÇ","Big thanks to @fcore117 for the translation!

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1141,2017-12-04T18:53:18Z,2017-12-05T21:52:57Z,2019-01-14T21:18:02Z,MERGED,True,738,0,3,https://github.com/robinlinden,Add Estonian language support,1,[],https://github.com/uTox/uTox/pull/1141,https://github.com/fcore117,2,https://github.com/uTox/uTox/pull/1141#issuecomment-349067943,"Big thanks to @fcore117 for the translation!

This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1141,2017-12-04T18:53:18Z,2017-12-05T21:52:57Z,2019-01-14T21:18:02Z,MERGED,True,738,0,3,https://github.com/robinlinden,Add Estonian language support,1,[],https://github.com/uTox/uTox/pull/1141,https://github.com/fcore117,3,https://github.com/uTox/uTox/pull/1141#issuecomment-349068498,"Big thanks to @fcore117 for the translation!

This change is‚ÄÇ",Someone with better English<>Estonian skill is always welcome to fix mistakes or add translation to changelog.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1141,2017-12-04T18:53:18Z,2017-12-05T21:52:57Z,2019-01-14T21:18:02Z,MERGED,True,738,0,3,https://github.com/robinlinden,Add Estonian language support,1,[],https://github.com/uTox/uTox/pull/1141,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1141#issuecomment-349453700,"Big thanks to @fcore117 for the translation!

This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1143,2017-12-05T21:11:42Z,2017-12-06T15:40:18Z,2017-12-06T16:36:41Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allocate too much memory for group peers,1,['PR: READY'],https://github.com/uTox/uTox/pull/1143,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1143,"Now we allocate sizeof(GROUP_PEER) + name_length + 1 instead of sizeof(GROUP_PEER) + name_length * sizeof(void *).


This change is‚ÄÇ","Now we allocate sizeof(GROUP_PEER) + name_length + 1 instead of sizeof(GROUP_PEER) + name_length * sizeof(void *).


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1143,2017-12-05T21:11:42Z,2017-12-06T15:40:18Z,2017-12-06T16:36:41Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allocate too much memory for group peers,1,['PR: READY'],https://github.com/uTox/uTox/pull/1143,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1143#issuecomment-349450509,"Now we allocate sizeof(GROUP_PEER) + name_length + 1 instead of sizeof(GROUP_PEER) + name_length * sizeof(void *).


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1143,2017-12-05T21:11:42Z,2017-12-06T15:40:18Z,2017-12-06T16:36:41Z,MERGED,True,1,1,1,https://github.com/robinlinden,Don't allocate too much memory for group peers,1,['PR: READY'],https://github.com/uTox/uTox/pull/1143,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1143#issuecomment-349558586,"Now we allocate sizeof(GROUP_PEER) + name_length + 1 instead of sizeof(GROUP_PEER) + name_length * sizeof(void *).


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1144,2017-12-06T17:36:17Z,2019-04-16T20:27:46Z,2019-04-16T20:27:47Z,MERGED,True,43,3,4,https://github.com/endoffile78,Fix ignoring friend requests,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1144,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1144,"Fixes #719


This change is‚ÄÇ","Fixes #719


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1144,2017-12-06T17:36:17Z,2019-04-16T20:27:46Z,2019-04-16T20:27:47Z,MERGED,True,43,3,4,https://github.com/endoffile78,Fix ignoring friend requests,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1144,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1144#issuecomment-349718926,"Fixes #719


This change is‚ÄÇ","Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/ui.c, line 302 at r1 (raw file):

                  _BM_SBUTTON_HEIGHT);
    CREATE_BUTTON(accept_friend, -140, -80, _BM_SBUTTON_WIDTH, _BM_SBUTTON_HEIGHT);
    CREATE_BUTTON(ignore_friend, -80, -80, _BM_SBUTTON_WIDTH, _BM_SBUTTON_HEIGHT)

There's a new 'correct' way to do it in layout: https://github.com/uTox/uTox/blob/develop/src/layout/settings.c#L797

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1144,2017-12-06T17:36:17Z,2019-04-16T20:27:46Z,2019-04-16T20:27:47Z,MERGED,True,43,3,4,https://github.com/endoffile78,Fix ignoring friend requests,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1144,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1144#issuecomment-397807520,"Fixes #719


This change is‚ÄÇ","@endoffile78
Are you planning to finish it?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1144,2017-12-06T17:36:17Z,2019-04-16T20:27:46Z,2019-04-16T20:27:47Z,MERGED,True,43,3,4,https://github.com/endoffile78,Fix ignoring friend requests,2,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1144,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1144#issuecomment-429115113,"Fixes #719


This change is‚ÄÇ",I could probably finish it if @endoffile78 don't mind...,True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1148,"Fixes #1146.


This change is‚ÄÇ","Fixes #1146.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1148#issuecomment-350848561,"Fixes #1146.


This change is‚ÄÇ",The problem with FPS desktop capture is more complex than I thought. Let's fix it in a separate PR.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1148#issuecomment-352337716,"Fixes #1146.


This change is‚ÄÇ","Review status: 0 of 3 files reviewed at latest revision, 4 unresolved discussions.

src/settings.c, line 216 at r2 (raw file):

        config->audio_device_out = atoi(value);
    } else if (MATCH(NAMEOF(config->video_fps), key)) {
        int value_int = atoi(value);

can you use strtol here instead?

src/settings.h, line 128 at r2 (raw file):

    uint16_t language;
    uint16_t video_fps;

you can't change the size of this struct.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1148#issuecomment-352879431,"Fixes #1146.


This change is‚ÄÇ","Review status: 0 of 3 files reviewed at latest revision, 4 unresolved discussions.

src/settings.h, line 128 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
you can't change the size of this struct.

If I can't do this then all other changes are useless because fps value would be shrink here.
Maybe limit it to UINT8_MAX (until we'll drop this struct, for example) to fit into this existing field?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/1148#issuecomment-352880742,"Fixes #1146.


This change is‚ÄÇ","Review status: 0 of 3 files reviewed at latest revision, 4 unresolved discussions.

src/settings.h, line 128 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
If I can't do this then all other changes are useless because fps value would be shrink here.
Maybe limit it to UINT8_MAX (until we'll drop this struct, for example) to fit into this existing field?

You can save it to the new settings file and place it in the settings struct, just don't touch the old save struct. This is only here so that we can load old saves. It's not meant to hold our state after we've started uTox and initialised our settings.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1148#issuecomment-352882767,"Fixes #1146.


This change is‚ÄÇ","Review status: 0 of 3 files reviewed at latest revision, 4 unresolved discussions.

src/settings.h, line 128 at r2 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
You can save it to the new settings file and place it in the settings struct, just don't touch the old save struct. This is only here so that we can load old saves. It's not meant to hold our state after we've started uTox and initialised our settings.

But we load settings from INI-file into that old struct (UTOX_SAVE).
And only after that copy them into settings struct.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1148#issuecomment-359931462,"Fixes #1146.


This change is‚ÄÇ","Review status: 0 of 3 files reviewed at latest revision, 4 unresolved discussions.

src/settings.c, line 216 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
can you use strtol here instead?

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/1148#issuecomment-359959025,"Fixes #1146.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2, 3 of 3 files at r3.
Review status: all files reviewed at latest revision, 4 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/1148#issuecomment-360250785,"Fixes #1146.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks broke.

src/windows/os_video.c, line 563 at r1 (raw file):
Previously, zoff99 (Zoff) wrote‚Ä¶
if deltatime is 0.7us less than 30303030, every second frame will be skipped and you get about 16fps instead

We don't even need to make this check here anymore.
This is legacy from when *_getframe was called every iteration without any delay. Because the video thread will sleep per the frame rate, this can be deleted.

src/xlib/video.c, line 270 at r1 (raw file):
Previously, zoff99 (Zoff) wrote‚Ä¶
same here

ditto

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/1148#issuecomment-363515399,"Fixes #1146.


This change is‚ÄÇ","what are we doing with this PR?

Review status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/1148#issuecomment-363521609,"Fixes #1146.


This change is‚ÄÇ",I made this fix as unobtrusive as possible without any breaking backward-compatibility.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/redmanmale,12,https://github.com/uTox/uTox/pull/1148#issuecomment-397306040,"Fixes #1146.


This change is‚ÄÇ",It's been a while... Can we merge this?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/endoffile78,13,https://github.com/uTox/uTox/pull/1148#issuecomment-397363069,"Fixes #1146.


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: 3 files need 1 more reviewer, 4 open discussions remaining, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/GrayHatter,14,https://github.com/uTox/uTox/pull/1148#issuecomment-397410072,"Fixes #1146.


This change is‚ÄÇ","Reviewed 1 of 3 files at r3, 1 of 1 files at r4.
Dismissed @zoff99 from 2 discussions.
Review status: 1 file needs 1 more reviewer, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/GrayHatter,15,https://github.com/uTox/uTox/pull/1148#issuecomment-397412337,"Fixes #1146.


This change is‚ÄÇ","Reviewed 1 of 3 files at r3.
Review status: missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1148,2017-12-11T14:03:19Z,2018-06-16T07:33:35Z,2019-01-21T09:09:06Z,MERGED,True,33,16,3,https://github.com/redmanmale,FPS validation,2,[],https://github.com/uTox/uTox/pull/1148,https://github.com/GrayHatter,16,https://github.com/uTox/uTox/pull/1148#issuecomment-397412393,"Fixes #1146.


This change is‚ÄÇ","Review status: missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1151,2017-12-13T22:34:25Z,2017-12-14T00:11:40Z,2017-12-14T10:22:06Z,MERGED,True,1,1,1,https://github.com/redmanmale,Fix struct size,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1151,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1151,"Forgot it in #1116.


This change is‚ÄÇ","Forgot it in #1116.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1151,2017-12-13T22:34:25Z,2017-12-14T00:11:40Z,2017-12-14T10:22:06Z,MERGED,True,1,1,1,https://github.com/redmanmale,Fix struct size,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1151,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1151#issuecomment-351549325,"Forgot it in #1116.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1151,2017-12-13T22:34:25Z,2017-12-14T00:11:40Z,2017-12-14T10:22:06Z,MERGED,True,1,1,1,https://github.com/redmanmale,Fix struct size,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1151,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1151#issuecomment-351554508,"Forgot it in #1116.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1153,2017-12-23T23:29:09Z,2018-03-10T18:37:58Z,2018-03-10T18:38:02Z,CLOSED,False,5,11,3,https://github.com/robinlinden,Don't use old Toxcore,2,['PR: READY'],https://github.com/uTox/uTox/pull/1153,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1153,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1153,2017-12-23T23:29:09Z,2018-03-10T18:37:58Z,2018-03-10T18:38:02Z,CLOSED,False,5,11,3,https://github.com/robinlinden,Don't use old Toxcore,2,['PR: READY'],https://github.com/uTox/uTox/pull/1153,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1153#issuecomment-353755428,This change is‚ÄÇ,No,True,{}
uTox/uTox,https://github.com/uTox/uTox,1153,2017-12-23T23:29:09Z,2018-03-10T18:37:58Z,2018-03-10T18:38:02Z,CLOSED,False,5,11,3,https://github.com/robinlinden,Don't use old Toxcore,2,['PR: READY'],https://github.com/uTox/uTox/pull/1153,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1153#issuecomment-358818209,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1153,2017-12-23T23:29:09Z,2018-03-10T18:37:58Z,2018-03-10T18:38:02Z,CLOSED,False,5,11,3,https://github.com/robinlinden,Don't use old Toxcore,2,['PR: READY'],https://github.com/uTox/uTox/pull/1153,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1153#issuecomment-359159318,This change is‚ÄÇ,"Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1153,2017-12-23T23:29:09Z,2018-03-10T18:37:58Z,2018-03-10T18:38:02Z,CLOSED,False,5,11,3,https://github.com/robinlinden,Don't use old Toxcore,2,['PR: READY'],https://github.com/uTox/uTox/pull/1153,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/1153#issuecomment-371353908,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1153,2017-12-23T23:29:09Z,2018-03-10T18:37:58Z,2018-03-10T18:38:02Z,CLOSED,False,5,11,3,https://github.com/robinlinden,Don't use old Toxcore,2,['PR: READY'],https://github.com/uTox/uTox/pull/1153,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/1153#issuecomment-372053692,This change is‚ÄÇ,This PR is part of #1157 now.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1154,2017-12-23T23:48:14Z,2017-12-24T03:49:08Z,2019-01-14T21:18:03Z,MERGED,True,2,2,1,https://github.com/robinlinden,Fix Travis,1,[],https://github.com/uTox/uTox/pull/1154,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1154,"The new image on Travis apparently doesn't have gcc-5.


This change is‚ÄÇ","The new image on Travis apparently doesn't have gcc-5.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1154,2017-12-23T23:48:14Z,2017-12-24T03:49:08Z,2019-01-14T21:18:03Z,MERGED,True,2,2,1,https://github.com/robinlinden,Fix Travis,1,[],https://github.com/uTox/uTox/pull/1154,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1154#issuecomment-353757691,"The new image on Travis apparently doesn't have gcc-5.


This change is‚ÄÇ","f***ing travis.
builds.utox.io when?
 

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1154,2017-12-23T23:48:14Z,2017-12-24T03:49:08Z,2019-01-14T21:18:03Z,MERGED,True,2,2,1,https://github.com/robinlinden,Fix Travis,1,[],https://github.com/uTox/uTox/pull/1154,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1154#issuecomment-353763627,"The new image on Travis apparently doesn't have gcc-5.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1155,2017-12-24T20:49:15Z,2019-04-16T20:16:42Z,2019-04-16T20:16:42Z,CLOSED,False,201,201,6,https://github.com/Vehemos,Removed mix of Spaces+Tabs and switched to tabs only,6,[],https://github.com/uTox/uTox/pull/1155,https://github.com/Vehemos,1,https://github.com/uTox/uTox/pull/1155,"@redmanmale refrened this issue here (#1111)


This change is‚ÄÇ","@redmanmale refrened this issue here (#1111)


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1155,2017-12-24T20:49:15Z,2019-04-16T20:16:42Z,2019-04-16T20:16:42Z,CLOSED,False,201,201,6,https://github.com/Vehemos,Removed mix of Spaces+Tabs and switched to tabs only,6,[],https://github.com/uTox/uTox/pull/1155,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1155#issuecomment-353803776,"@redmanmale refrened this issue here (#1111)


This change is‚ÄÇ","I don't want to touch files for only whitespace changes.
Also, I don't like the changes the comment block formatting.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1155,2017-12-24T20:49:15Z,2019-04-16T20:16:42Z,2019-04-16T20:16:42Z,CLOSED,False,201,201,6,https://github.com/Vehemos,Removed mix of Spaces+Tabs and switched to tabs only,6,[],https://github.com/uTox/uTox/pull/1155,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1155#issuecomment-353804940,"@redmanmale refrened this issue here (#1111)


This change is‚ÄÇ","@GrayHatter
Do you think it's better to leave things as they are?
@Vehemos
Also Info.plist please.

Reviewed 6 of 6 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1155,2017-12-24T20:49:15Z,2019-04-16T20:16:42Z,2019-04-16T20:16:42Z,CLOSED,False,201,201,6,https://github.com/Vehemos,Removed mix of Spaces+Tabs and switched to tabs only,6,[],https://github.com/uTox/uTox/pull/1155,https://github.com/Vehemos,4,https://github.com/uTox/uTox/pull/1155#issuecomment-353805103,"@redmanmale refrened this issue here (#1111)


This change is‚ÄÇ","@GrayHatter I just changed the the block to have equal number of characters in all rows not aligning *s, but I can change it back if you want.
@redmanmale ummm Info.plist doesn't exist? I tried searching for it before, but only Info.plist.in exists not Info.plist",True,{}
uTox/uTox,https://github.com/uTox/uTox,1155,2017-12-24T20:49:15Z,2019-04-16T20:16:42Z,2019-04-16T20:16:42Z,CLOSED,False,201,201,6,https://github.com/Vehemos,Removed mix of Spaces+Tabs and switched to tabs only,6,[],https://github.com/uTox/uTox/pull/1155,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1155#issuecomment-353805678,"@redmanmale refrened this issue here (#1111)


This change is‚ÄÇ","@Vehemos
Yea, you're right.


Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1155,2017-12-24T20:49:15Z,2019-04-16T20:16:42Z,2019-04-16T20:16:42Z,CLOSED,False,201,201,6,https://github.com/Vehemos,Removed mix of Spaces+Tabs and switched to tabs only,6,[],https://github.com/uTox/uTox/pull/1155,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1155#issuecomment-483826925,"@redmanmale refrened this issue here (#1111)


This change is‚ÄÇ",We can't accept any external patches that are white space only changes,True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1157,"This won't pass Travis without #1153.

This change is‚ÄÇ","This won't pass Travis without #1153.

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1157#issuecomment-354565943,"This won't pass Travis without #1153.

This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/fcore117,3,https://github.com/uTox/uTox/pull/1157#issuecomment-356350863,"This won't pass Travis without #1153.

This change is‚ÄÇ","Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1157#issuecomment-358812530,"This won't pass Travis without #1153.

This change is‚ÄÇ",Rebased on top of #1153.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/1157#issuecomment-358818041,"This won't pass Travis without #1153.

This change is‚ÄÇ","Reviewed 4 of 4 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1157#issuecomment-359159405,"This won't pass Travis without #1153.

This change is‚ÄÇ","Reviewed 2 of 2 files at r1, 4 of 4 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/1157#issuecomment-360252363,"This won't pass Travis without #1153.

This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks broke.

src/main.h, line 23 at r2 (raw file):

Requires version 2


Error says requires version 1

Devs: http://i.imgur.com/cHpJWos.gif
Users: https://i.pinimg.com/736x/c2/af/1b/c2af1bab21e977e1967947148ee73494.jpg
Me: http://i.imgur.com/76Eq9gj.gif

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/robinlinden,8,https://github.com/uTox/uTox/pull/1157#issuecomment-364203087,"This won't pass Travis without #1153.

This change is‚ÄÇ","Review status: 5 of 6 files reviewed at latest revision, 1 unresolved discussion.

src/main.h, line 23 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶

Requires version 2


Error says requires version 1

Devs: http://i.imgur.com/cHpJWos.gif
Users: https://i.pinimg.com/736x/c2/af/1b/c2af1bab21e977e1967947148ee73494.jpg
Me: http://i.imgur.com/76Eq9gj.gif

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/1157#issuecomment-364554398,"This won't pass Travis without #1153.

This change is‚ÄÇ","I don't approve of this change, I don't think toktok/c-toxcore is safe. You have enough votes to merge it either way, just know that means you're taking over as lead developer.

Review status: 5 of 6 files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/iphydf,10,https://github.com/uTox/uTox/pull/1157#issuecomment-364563357,"This won't pass Travis without #1153.

This change is‚ÄÇ",I'd recommend against using unsafe libraries.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/1157#issuecomment-364644499,"This won't pass Travis without #1153.

This change is‚ÄÇ","I don't approve of this change, I don't think toktok/c-toxcore is safe.

I'm confused a little. Since when core Tox library is not safe for using in the Tox clients?
We're using Toxcore v.0.1.4 right now and it's pretty outdated, why do we keep using it?
All our builds are broken now; we need to either move to new Tox core or fix using old one.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/fcore117,12,https://github.com/uTox/uTox/pull/1157#issuecomment-364742670,"This won't pass Travis without #1153.

This change is‚ÄÇ","How it is fixable, what patches are needed for new toxcore? what are current security risk in simple layman terms?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/Piraty,13,https://github.com/uTox/uTox/pull/1157#issuecomment-369506732,"This won't pass Travis without #1153.

This change is‚ÄÇ","@iphydf as you originally stated toxcore was unsafe, and while you actively promoted toxcore's 0.2.0 release, what is the current stance on utox and toxcore 0.2?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/iphydf,14,https://github.com/uTox/uTox/pull/1157#issuecomment-369622104,"This won't pass Travis without #1153.

This change is‚ÄÇ","I tried to understand your question, and I'm showing you the process below so you may reword your question in a way I can understand.
I can ignore the first and second clause of your question and only speak on ""the current stance of the toxcore maintainer on utox' adoption of toxcore 0.2 API changes"". The answer to that is: I don't care. I strongly believe in individual freedom to the extent where it doesn't harm others' freedom. I do what I think is right, and if a particular client team has an incompatible view of what's right, they are free to go an alternative route.
If you'd like a more precise answer that considers the first two clauses, please reword your question.

Parsing:

I originally stated toxcore is unsafe.
I actively promoted toxcore's 0.2.0 release.
What is the current stance on utox and toxcore 0.2?

Analysis and reasoning:

Since I'm not actively involved in utox maintenance, I assume that (3) is asking me as the maintainer of toktok/c-toxcore.
The question is predicated on (1). I can't remember having stated that, so can you point me at a comment or email thread where I did?
The question is also predicated on (2) via ""and"".
I interpret ""while"" as ""although"".
I interpret ""as"" as ""because"".
I interpret ""utox and toxcore 0.2"" as ""the adoption of toxcore 0.2 API changes in utox"".

Interpretation:
predicate(
  and(
    ""because: I originally stated toxcore was unsafe"",
    ""although: I promoted toxcore 0.2.0 release"",
  ),
  ""what is the toxcore maintainer's stance on the adoption of toxcore 0.2 API changes in utox"",
)

Logic error.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/iphydf,15,https://github.com/uTox/uTox/pull/1157#issuecomment-370372368,"This won't pass Travis without #1153.

This change is‚ÄÇ","My recommendation for projects that don't trust the TokTok version is to keep maintaining a fork and update that fork to upstream API changes, i.e. make it compatible, so that users can choose to use either and you don't need to maintain two forks of the client.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/yurivict,16,https://github.com/uTox/uTox/pull/1157#issuecomment-370896530,"This won't pass Travis without #1153.

This change is‚ÄÇ",@GrayHatter What do you mean when you say that c-toxcore is unsafe?  They just released 0.2. Is it not a good release?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/endoffile78,17,https://github.com/uTox/uTox/pull/1157#issuecomment-372054160,"This won't pass Travis without #1153.

This change is‚ÄÇ","Reviewed 1 of 1 files at r3, 1 of 1 files at r4, 7 of 7 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/redmanmale,18,https://github.com/uTox/uTox/pull/1157#issuecomment-372374191,"This won't pass Travis without #1153.

This change is‚ÄÇ","Reviewed 1 of 1 files at r3, 1 of 1 files at r4, 7 of 7 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/eclipseo,19,https://github.com/uTox/uTox/pull/1157#issuecomment-372496172,"This won't pass Travis without #1153.

This change is‚ÄÇ",Any chance of a release using toxcore 0.2.0 soon?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/robinlinden,20,https://github.com/uTox/uTox/pull/1157#issuecomment-372779986,"This won't pass Travis without #1153.

This change is‚ÄÇ","Yeah, I'll merge this as soon as Travis passes. Then we can test it for a few days and tag a release if nothing major's wrong.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/endoffile78,21,https://github.com/uTox/uTox/pull/1157#issuecomment-372786794,"This won't pass Travis without #1153.

This change is‚ÄÇ",@robinlinden Some of the travis builds are still building against 0.1.4.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/robinlinden,22,https://github.com/uTox/uTox/pull/1157#issuecomment-372788570,"This won't pass Travis without #1153.

This change is‚ÄÇ","Thanks. I could've sworn I fixed all of them, but I guess I deleted XP from the fork I did that in.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/endoffile78,23,https://github.com/uTox/uTox/pull/1157#issuecomment-372838924,"This won't pass Travis without #1153.

This change is‚ÄÇ","Reviewed 1 of 1 files at r6.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/Piraty,24,https://github.com/uTox/uTox/pull/1157#issuecomment-372965470,"This won't pass Travis without #1153.

This change is‚ÄÇ","@iphydf sorry for that unclear question.
ofc @GrayHatter originally stated that toktok/c-toxcore were unsafe and you didn't seem to object. i guess you don't share this view, so the question should have been addressed to @GrayHatter.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/robinlinden,25,https://github.com/uTox/uTox/pull/1157#issuecomment-374403235,"This won't pass Travis without #1153.

This change is‚ÄÇ",@GrayHatter @endoffile78 @redmanmale This passes CI now. Review status?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/endoffile78,26,https://github.com/uTox/uTox/pull/1157#issuecomment-374458662,"This won't pass Travis without #1153.

This change is‚ÄÇ","Reviewed 1 of 1 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/redmanmale,27,https://github.com/uTox/uTox/pull/1157#issuecomment-374507858,"This won't pass Travis without #1153.

This change is‚ÄÇ","Reviewed 1 of 1 files at r6, 1 of 1 files at r7.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/farseerfc,28,https://github.com/uTox/uTox/pull/1157#issuecomment-378809217,"This won't pass Travis without #1153.

This change is‚ÄÇ","Hi, sorry for asking questions in a PR. I want to ask when will this support be included in a future release? I don't see this PR tagged with 0.17 milestone, so may I assume that this will release as a 0.16.x before 0.17 ?
I tried to apply this PR as a patch onto 0.16.1 but resulted a lot of conflicts.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1157,2017-12-30T20:05:35Z,2018-03-20T20:49:29Z,2018-04-05T17:48:02Z,MERGED,True,125,200,14,https://github.com/robinlinden,Support Toxcore 0.2.0,12,['PR: READY'],https://github.com/uTox/uTox/pull/1157,https://github.com/endoffile78,29,https://github.com/uTox/uTox/pull/1157#issuecomment-379020314,"This won't pass Travis without #1153.

This change is‚ÄÇ",@farseerfc The next release most likely will be 0.17 and if you want this now you can build the develop branch. Instructions on how to compile uTox are here: https://github.com/uTox/uTox/blob/develop/docs/BUILD.md and if you need any help you can ask in #utox on freenode.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1161,2018-01-10T21:22:07Z,2018-02-13T03:19:00Z,2018-02-13T03:19:00Z,MERGED,True,1,1,1,https://github.com/endoffile78,Use $TOXCORE_REPO_BRANCH in linux-before.sh,1,['PR: READY'],https://github.com/uTox/uTox/pull/1161,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1161,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1161,2018-01-10T21:22:07Z,2018-02-13T03:19:00Z,2018-02-13T03:19:00Z,MERGED,True,1,1,1,https://github.com/endoffile78,Use $TOXCORE_REPO_BRANCH in linux-before.sh,1,['PR: READY'],https://github.com/uTox/uTox/pull/1161,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1161#issuecomment-356740926,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1161,2018-01-10T21:22:07Z,2018-02-13T03:19:00Z,2018-02-13T03:19:00Z,MERGED,True,1,1,1,https://github.com/endoffile78,Use $TOXCORE_REPO_BRANCH in linux-before.sh,1,['PR: READY'],https://github.com/uTox/uTox/pull/1161,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1161#issuecomment-364983509,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1163,2018-01-11T18:36:16Z,2018-01-12T00:43:42Z,2018-03-10T18:27:01Z,MERGED,True,9,0,1,https://github.com/endoffile78,Add issue template,1,[],https://github.com/uTox/uTox/pull/1163,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1163,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1163,2018-01-11T18:36:16Z,2018-01-12T00:43:42Z,2018-03-10T18:27:01Z,MERGED,True,9,0,1,https://github.com/endoffile78,Add issue template,1,[],https://github.com/uTox/uTox/pull/1163,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1163#issuecomment-357041699,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1163,2018-01-11T18:36:16Z,2018-01-12T00:43:42Z,2018-03-10T18:27:01Z,MERGED,True,9,0,1,https://github.com/endoffile78,Add issue template,1,[],https://github.com/uTox/uTox/pull/1163,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1163#issuecomment-357042909,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1164,2018-01-14T15:39:08Z,2018-02-10T11:45:12Z,2018-02-10T11:45:12Z,CLOSED,False,71,72,1,https://github.com/t1011,Update ru.h,1,[],https://github.com/uTox/uTox/pull/1164,https://github.com/t1011,1,https://github.com/uTox/uTox/pull/1164,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1164,2018-01-14T15:39:08Z,2018-02-10T11:45:12Z,2018-02-10T11:45:12Z,CLOSED,False,71,72,1,https://github.com/t1011,Update ru.h,1,[],https://github.com/uTox/uTox/pull/1164,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1164#issuecomment-357523425,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 9 unresolved discussions.

langs/ru.h, line 26 at r1 (raw file):

msgstr(
""\n  –í–ê–ñ–ù–û–ï –ó–ê–ú–ï–ß–ê–ù–ò–ï –î–õ–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô WINDOWS\n""
""    –í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∏–º–µ–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å .exe-—Ñ–∞–π–ª–∞–º–∏.\n""

–ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è -> –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

langs/ru.h, line 42 at r1 (raw file):

""    –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–≤–æ–π–Ω–æ–≥–æ –∫–ª–∏–∫–∞ —Å—Ä–µ–¥–Ω–µ–π –∫–ª–∞–≤–∏—à–∏ –º—ã—à–∏ –≤ X11. (–°–ø–∞—Å–∏–±–æ @dkmoz!)\n""
""    –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–∞–º —Å –Æ–Ω–∏–∫–æ–¥-—Å–∏–º–≤–æ–ª–∞–º–∏ –≤ Windows.\n""
""    –ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ñ–∞–π–ª–æ–≤ –∏—Ö –∏–º–µ–Ω–∞ –æ—á–∏—â–∞—é—Ç—Å—è –æ—Ç –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –≤ Windows.\n""

Don't replace —ë with –µ here and below.

langs/ru.h, line 44 at r1 (raw file):

""    –ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ñ–∞–π–ª–æ–≤ –∏—Ö –∏–º–µ–Ω–∞ –æ—á–∏—â–∞—é—Ç—Å—è –æ—Ç –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –≤ Windows.\n""
""    –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∏–µ–º–∞ —Ñ–∞–π–ª–æ–≤.\n""
""    –ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∑–∞–∫—Ä—ã—Ç–æ –æ–∫–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã uTox.\n""

–ù–µ –≤ —Ñ–æ–∫—É—Å–µ != –∑–∞–∫—Ä—ã—Ç–æ. Revert this part.

langs/ru.h, line 46 at r1 (raw file):

""    –ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∑–∞–∫—Ä—ã—Ç–æ –æ–∫–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã uTox.\n""
""    –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–º–µ—á–∞—é—Ç—Å—è –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º–∏, –µ—Å–ª–∏ –æ–Ω–∏ –ø—Ä–∏—à–ª–∏, –∫–æ–≥–¥–∞ —á–∞—Ç –±—ã–ª –æ—Ç–∫—Ä—ã—Ç.\n""
""    –í—ã–±–æ—Ä —Ñ–∞–π–ª–∞ GTK —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å OpenBSD –∏ NetBSD.\n""

Not —Å, but –≤.

langs/ru.h, line 58 at r1 (raw file):

""    –û–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤.\n""
""\n""
""    –ó–Ω–∞–µ—Ç–µ –¥—Ä—É–≥–æ–π —è–∑—ã–∫? –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–≤–æ–µ–º —è–∑—ã–∫–µ?\n""

Revert –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ. –ü—Ä–∏—è—Ç–Ω–µ–µ is more suited here and below.

langs/ru.h, line 98 at r1 (raw file):

msgid(REQ_SENT)
msgstr(""–ó–∞–ø—Ä–æ—Å –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–∞–∫—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω. –í–∞—à —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–µ—Ç–∏ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –∑–∞—è–≤–∫–∞ –±—É–¥–µ—Ç –ø—Ä–∏–Ω—è—Ç–∞."")

It's –ó–∞–ø—Ä–æ—Åin the first part, but –∑–∞—è–≤–∫–∞ in the second. It's better to use one term for one entity. Revert.

langs/ru.h, line 306 at r1 (raw file):

msgid(PROFILE_PW_WARNING)
msgstr(""–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: ¬µTox –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å —ç—Ç–∏–º –ø–∞—Ä–æ–ª–µ–º."")

–Ω–∞—á–Ω—ë—Ç sounds like it's a long process. But it's almost instant. –∑–∞—à–∏—Ñ—Ä—É–µ—Ç is more suited here, imo. Revert.

langs/ru.h, line 416 at r1 (raw file):

msgid(NOT_CONNECTED)
msgstr(""–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"")

It's –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, but —Å–µ—Ç—å is everywhere else. Revert or try to fix all other uses of this term.

langs/ru.h, line 725 at r1 (raw file):

msgid(MUTE)
msgstr(""–ü—Ä–∏–≥–ª—É—à–∏—Ç—å"")

–ü—Ä–∏–≥–ª—É—à–∏—Ç—å means to reduce, not disable. But this command is to disable sound at all. Revert.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1164,2018-01-14T15:39:08Z,2018-02-10T11:45:12Z,2018-02-10T11:45:12Z,CLOSED,False,71,72,1,https://github.com/t1011,Update ru.h,1,[],https://github.com/uTox/uTox/pull/1164,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1164#issuecomment-364645974,This change is‚ÄÇ,"I'm going to close this because there are very little worthy changes here.
If you are willing to, you could fix all flaws and open a new PR.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1166,2018-01-17T22:23:35Z,2018-01-17T22:30:52Z,2018-01-17T22:30:52Z,MERGED,True,741,117,1,https://github.com/Reckku,Update bg.h,1,[],https://github.com/uTox/uTox/pull/1166,https://github.com/Reckku,1,https://github.com/uTox/uTox/pull/1166,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1166,2018-01-17T22:23:35Z,2018-01-17T22:30:52Z,2018-01-17T22:30:52Z,MERGED,True,741,117,1,https://github.com/Reckku,Update bg.h,1,[],https://github.com/uTox/uTox/pull/1166,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1166#issuecomment-358469419,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1166,2018-01-17T22:23:35Z,2018-01-17T22:30:52Z,2018-01-17T22:30:52Z,MERGED,True,741,117,1,https://github.com/Reckku,Update bg.h,1,[],https://github.com/uTox/uTox/pull/1166,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1166#issuecomment-358470573,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1166,2018-01-17T22:23:35Z,2018-01-17T22:30:52Z,2018-01-17T22:30:52Z,MERGED,True,741,117,1,https://github.com/Reckku,Update bg.h,1,[],https://github.com/uTox/uTox/pull/1166,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1166#issuecomment-358470734,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1170,2018-01-20T02:34:44Z,2018-02-06T16:38:36Z,2018-03-10T18:27:57Z,MERGED,True,10,0,2,https://github.com/endoffile78,Add error checks to windows and osx video.c,1,['PR: READY'],https://github.com/uTox/uTox/pull/1170,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1170,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1170,2018-01-20T02:34:44Z,2018-02-06T16:38:36Z,2018-03-10T18:27:57Z,MERGED,True,10,0,2,https://github.com/endoffile78,Add error checks to windows and osx video.c,1,['PR: READY'],https://github.com/uTox/uTox/pull/1170,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1170#issuecomment-359159255,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1170,2018-01-20T02:34:44Z,2018-02-06T16:38:36Z,2018-03-10T18:27:57Z,MERGED,True,10,0,2,https://github.com/endoffile78,Add error checks to windows and osx video.c,1,['PR: READY'],https://github.com/uTox/uTox/pull/1170,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1170#issuecomment-359175430,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1170,2018-01-20T02:34:44Z,2018-02-06T16:38:36Z,2018-03-10T18:27:57Z,MERGED,True,10,0,2,https://github.com/endoffile78,Add error checks to windows and osx video.c,1,['PR: READY'],https://github.com/uTox/uTox/pull/1170,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1170#issuecomment-360251368,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1171,2018-01-22T03:04:40Z,2018-02-14T18:32:44Z,2018-02-14T18:32:44Z,MERGED,True,29,0,1,https://github.com/endoffile78,Add error checks to messages.c,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1171,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1171,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1171,2018-01-22T03:04:40Z,2018-02-14T18:32:44Z,2018-02-14T18:32:44Z,MERGED,True,29,0,1,https://github.com/endoffile78,Add error checks to messages.c,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1171,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1171#issuecomment-359360820,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1171,2018-01-22T03:04:40Z,2018-02-14T18:32:44Z,2018-02-14T18:32:44Z,MERGED,True,29,0,1,https://github.com/endoffile78,Add error checks to messages.c,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1171,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1171#issuecomment-360251236,This change is‚ÄÇ,"src/messages.c, line 245 at r1 (raw file):

    MSG_HEADER *msg = calloc(1, sizeof(MSG_HEADER));
    if (!msg) {
        LOG_DEBUG(""Messages"", ""Could not allocate memory for a message."");

This isn't a debug, it's more likely a fatal error

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1171,2018-01-22T03:04:40Z,2018-02-14T18:32:44Z,2018-02-14T18:32:44Z,MERGED,True,29,0,1,https://github.com/endoffile78,Add error checks to messages.c,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1171,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1171#issuecomment-363484481,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 1 unresolved discussion.

src/messages.c, line 245 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This isn't a debug, it's more likely a fatal error

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1171,2018-01-22T03:04:40Z,2018-02-14T18:32:44Z,2018-02-14T18:32:44Z,MERGED,True,29,0,1,https://github.com/endoffile78,Add error checks to messages.c,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1171,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1171#issuecomment-363513290,This change is‚ÄÇ,"Reviewed 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks broke.

src/messages.c, line 246 at r2 (raw file):

    if (!msg) {
        LOG_FATAL_ERR(EXIT_MALLOC, ""Messages"", ""Could not allocate memory for a message."");
        return UINT32_MAX;

BTW return after exit... lol wut

src/messages.c, line 293 at r2 (raw file):

    MSG_HEADER *msg = calloc(1, sizeof(MSG_HEADER));
    if (!msg) {
        LOG_DEBUG(""Messages"", ""Could not get message header."");

fatal

src/messages.c, line 303 at r2 (raw file):

    msg->via.action.msg = calloc(1, length);
    if (!msg->via.action.msg) {
        LOG_DEBUG(""Messages"", ""Could not allocate memory for message."");

fatal

src/messages.c, line 369 at r2 (raw file):

    MSG_HEADER *msg = calloc(1, sizeof(MSG_HEADER));
    if (!msg) {
        LOG_DEBUG(""Messages"", ""Could not allocate memory for message header"");

fatal

src/messages.c, line 393 at r2 (raw file):

    MSG_HEADER *msg = calloc(1, sizeof(MSG_HEADER));
    if (!msg) {
        LOG_DEBUG(""Messages"", ""Could not allocate memory for message header"");

fatal

src/messages.c, line 419 at r2 (raw file):

        msg->via.ft.path = calloc(1, UTOX_FILE_NAME_LENGTH);
        if (!msg->via.ft.path) {
            LOG_DEBUG(""Messages"", ""Could not allocate memory for file path."");

fatal

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1171,2018-01-22T03:04:40Z,2018-02-14T18:32:44Z,2018-02-14T18:32:44Z,MERGED,True,29,0,1,https://github.com/endoffile78,Add error checks to messages.c,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1171,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/1171#issuecomment-365331653,This change is‚ÄÇ,"Review status: 0 of 1 files reviewed at latest revision, 6 unresolved discussions.

src/messages.c, line 246 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
BTW return after exit... lol wut

Done.

src/messages.c, line 293 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
fatal

Done.

src/messages.c, line 303 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
fatal

Done.

src/messages.c, line 369 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
fatal

Done.

src/messages.c, line 393 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
fatal

Done.

src/messages.c, line 419 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
fatal

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1171,2018-01-22T03:04:40Z,2018-02-14T18:32:44Z,2018-02-14T18:32:44Z,MERGED,True,29,0,1,https://github.com/endoffile78,Add error checks to messages.c,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1171,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1171#issuecomment-365434442,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 5 unresolved discussions.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1171,2018-01-22T03:04:40Z,2018-02-14T18:32:44Z,2018-02-14T18:32:44Z,MERGED,True,29,0,1,https://github.com/endoffile78,Add error checks to messages.c,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1171,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/1171#issuecomment-365554531,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1173,2018-01-23T21:13:45Z,2018-02-06T16:39:38Z,2018-02-10T11:05:55Z,MERGED,True,5,0,1,https://github.com/redmanmale,Draw tooltip within window,1,['PR: READY'],https://github.com/uTox/uTox/pull/1173,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1173,"Fixes #571.


This change is‚ÄÇ","Fixes #571.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1173,2018-01-23T21:13:45Z,2018-02-06T16:39:38Z,2018-02-10T11:05:55Z,MERGED,True,5,0,1,https://github.com/redmanmale,Draw tooltip within window,1,['PR: READY'],https://github.com/uTox/uTox/pull/1173,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1173#issuecomment-359959182,"Fixes #571.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1173,2018-01-23T21:13:45Z,2018-02-06T16:39:38Z,2018-02-10T11:05:55Z,MERGED,True,5,0,1,https://github.com/redmanmale,Draw tooltip within window,1,['PR: READY'],https://github.com/uTox/uTox/pull/1173,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1173#issuecomment-360249660,"Fixes #571.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1174,2018-01-24T16:35:13Z,2018-06-23T17:04:49Z,2018-06-24T09:56:39Z,MERGED,True,52,16,4,https://github.com/redmanmale,Add error checks to A/V and Xlib drawing,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1174,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1174,"Probably fixes some crashes in A/V.


This change is‚ÄÇ","Probably fixes some crashes in A/V.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1174,2018-01-24T16:35:13Z,2018-06-23T17:04:49Z,2018-06-24T09:56:39Z,MERGED,True,52,16,4,https://github.com/redmanmale,Add error checks to A/V and Xlib drawing,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1174,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1174#issuecomment-360248988,"Probably fixes some crashes in A/V.


This change is‚ÄÇ","2 issues
1 note

Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, 3 unresolved discussions.

src/av/audio.c, line 874 at r1 (raw file):

                            if (!f) {
                                LOG_ERR(""uToxAV"", ""Unable to get friend when sending audio frame %u"", i);
                                break;

continue here

src/av/utox_av.c, line 492 at r1 (raw file):

    FRIEND *f = get_friend(friend_number);
    if (!f) {
        LOG_ERR(""uToxAV"", ""Unable to get friend when A/V call accepted %u"", friend_number);

FYI Consider making this fatal

src/av/video.c, line 295 at r1 (raw file):

                        FRIEND *f = get_friend(i);
                        if (!f) {
                            LOG_DEBUG(""uToxVideo"", ""Could not get friend to send him video frame %lu"", i);

This should at the very least be err_warn.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1174,2018-01-24T16:35:13Z,2018-06-23T17:04:49Z,2018-06-24T09:56:39Z,MERGED,True,52,16,4,https://github.com/redmanmale,Add error checks to A/V and Xlib drawing,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1174,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1174#issuecomment-360555211,"Probably fixes some crashes in A/V.


This change is‚ÄÇ","Review status: 2 of 4 files reviewed at latest revision, 3 unresolved discussions.

src/av/audio.c, line 874 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
continue here

Done.

src/av/utox_av.c, line 492 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
FYI Consider making this fatal

I think it's better not to crash.

src/av/video.c, line 295 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
This should at the very least be err_warn.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1174,2018-01-24T16:35:13Z,2018-06-23T17:04:49Z,2018-06-24T09:56:39Z,MERGED,True,52,16,4,https://github.com/redmanmale,Add error checks to A/V and Xlib drawing,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1174,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1174#issuecomment-361022981,"Probably fixes some crashes in A/V.


This change is‚ÄÇ","Reviewed 2 of 4 files at r1, 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1174,2018-01-24T16:35:13Z,2018-06-23T17:04:49Z,2018-06-24T09:56:39Z,MERGED,True,52,16,4,https://github.com/redmanmale,Add error checks to A/V and Xlib drawing,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1174,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1174#issuecomment-363514857,"Probably fixes some crashes in A/V.


This change is‚ÄÇ","Reviewed 2 of 2 files at r2.
Review status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks broke.

src/av/utox_av.c, line 492 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
I think it's better not to crash.

crash != exit.
But I can't think of a valid state uTox could enter where toxcore would send us a callback for a friend we don't know exists. At the very least this would be an error state we need to handle, so what do you think is the best way to solve for this invalid state?

src/av/video.c, line 294 at r2 (raw file):

                        FRIEND *f = get_friend(i);
                        if (!f) {

this will never happen, SEND_VIDEO_FRAME uses get_friend(i)
@robinlinden @endoffile78 thoughts on how we should handle this issue?
I suggest get_friend() should emit a warning if it's called and no friend is found. We'd still need to handle said error states elsewhere, but issues like line 288 above won't be silently ignored.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1174,2018-01-24T16:35:13Z,2018-06-23T17:04:49Z,2018-06-24T09:56:39Z,MERGED,True,52,16,4,https://github.com/redmanmale,Add error checks to A/V and Xlib drawing,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1174,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1174#issuecomment-397306029,"Probably fixes some crashes in A/V.


This change is‚ÄÇ",It's been a while... Can we merge this?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1174,2018-01-24T16:35:13Z,2018-06-23T17:04:49Z,2018-06-24T09:56:39Z,MERGED,True,52,16,4,https://github.com/redmanmale,Add error checks to A/V and Xlib drawing,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1174,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/1174#issuecomment-397362150,"Probably fixes some crashes in A/V.


This change is‚ÄÇ","Review status: 2 open discussions remaining

src/av/video.c, line 294 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
this will never happen, SEND_VIDEO_FRAME uses get_friend(i)
@robinlinden @endoffile78 thoughts on how we should handle this issue?
I suggest get_friend() should emit a warning if it's called and no friend is found. We'd still need to handle said error states elsewhere, but issues like line 288 above won't be silently ignored.

get_friend already has a warning, if a friend isn't found than it does a LOG_WARN.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1174,2018-01-24T16:35:13Z,2018-06-23T17:04:49Z,2018-06-24T09:56:39Z,MERGED,True,52,16,4,https://github.com/redmanmale,Add error checks to A/V and Xlib drawing,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1174,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/1174#issuecomment-397408874,"Probably fixes some crashes in A/V.


This change is‚ÄÇ","Review status: 1 open discussion remaining

src/av/utox_av.c, line 492 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
crash != exit.
But I can't think of a valid state uTox could enter where toxcore would send us a callback for a friend we don't know exists. At the very least this would be an error state we need to handle, so what do you think is the best way to solve for this invalid state?

Yeah, this needs to be fatal error.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1174,2018-01-24T16:35:13Z,2018-06-23T17:04:49Z,2018-06-24T09:56:39Z,MERGED,True,52,16,4,https://github.com/redmanmale,Add error checks to A/V and Xlib drawing,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1174,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/1174#issuecomment-397531442,"Probably fixes some crashes in A/V.


This change is‚ÄÇ","Review status: 1 file needs 2 more reviewers, 1 open discussion remaining, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

src/av/utox_av.c, line 492 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
Yeah, this needs to be fatal error.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1174,2018-01-24T16:35:13Z,2018-06-23T17:04:49Z,2018-06-24T09:56:39Z,MERGED,True,52,16,4,https://github.com/redmanmale,Add error checks to A/V and Xlib drawing,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1174,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/1174#issuecomment-399514791,"Probably fixes some crashes in A/V.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: 1 file needs 1 more reviewer, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1174,2018-01-24T16:35:13Z,2018-06-23T17:04:49Z,2018-06-24T09:56:39Z,MERGED,True,52,16,4,https://github.com/redmanmale,Add error checks to A/V and Xlib drawing,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1174,https://github.com/endoffile78,11,https://github.com/uTox/uTox/pull/1174#issuecomment-399693340,"Probably fixes some crashes in A/V.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status:  complete! undefined

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1180,2018-02-12T20:59:53Z,2018-02-13T16:45:27Z,2018-02-13T22:57:04Z,MERGED,True,5,13,3,https://github.com/redmanmale,Fix Travis build,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1180,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1180,"Contains #1161.


This change is‚ÄÇ","Contains #1161.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1180,2018-02-12T20:59:53Z,2018-02-13T16:45:27Z,2018-02-13T22:57:04Z,MERGED,True,5,13,3,https://github.com/redmanmale,Fix Travis build,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1180,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1180#issuecomment-365160201,"Contains #1161.


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1180,2018-02-12T20:59:53Z,2018-02-13T16:45:27Z,2018-02-13T22:57:04Z,MERGED,True,5,13,3,https://github.com/redmanmale,Fix Travis build,3,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1180,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1180#issuecomment-365326307,"Contains #1161.


This change is‚ÄÇ","Reviewed 3 of 3 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1181,2018-02-14T21:42:08Z,,2022-02-24T11:00:18Z,OPEN,False,2,3,1,https://github.com/endoffile78,Allow passing libraries to make_test that need to be linked to the,1,[],https://github.com/uTox/uTox/pull/1181,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1181,"test


This change is‚ÄÇ","test


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1181,2018-02-14T21:42:08Z,,2022-02-24T11:00:18Z,OPEN,False,2,3,1,https://github.com/endoffile78,Allow passing libraries to make_test that need to be linked to the,1,[],https://github.com/uTox/uTox/pull/1181,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1181#issuecomment-483833289,"test


This change is‚ÄÇ","The proper thing would be to, instead of doing things like #include ""../src/updater.c to test the updater, you do something like target_link_library(test_updater library_containing_updater), and you'd get all dependencies and header files automagically.
Basically, we'd have to rewrite our main CMakeLists to create a utox_core library or something similar.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1181,2018-02-14T21:42:08Z,,2022-02-24T11:00:18Z,OPEN,False,2,3,1,https://github.com/endoffile78,Allow passing libraries to make_test that need to be linked to the,1,[],https://github.com/uTox/uTox/pull/1181,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1181#issuecomment-483833668,"test


This change is‚ÄÇ",@robinlinden meson when?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1181,2018-02-14T21:42:08Z,,2022-02-24T11:00:18Z,OPEN,False,2,3,1,https://github.com/endoffile78,Allow passing libraries to make_test that need to be linked to the,1,[],https://github.com/uTox/uTox/pull/1181,None,4,https://github.com/uTox/uTox/pull/1181#issuecomment-725834318,"test


This change is‚ÄÇ",@endoffile78 please rebase and please give some sort of summary in commit message of why your shit is great.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1182,2018-02-20T23:45:18Z,2018-02-28T23:17:33Z,2018-02-28T23:49:56Z,MERGED,True,34,32,2,https://github.com/publicarray,fix #1156,3,[],https://github.com/uTox/uTox/pull/1182,https://github.com/publicarray,1,https://github.com/uTox/uTox/pull/1182,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1182,2018-02-20T23:45:18Z,2018-02-28T23:17:33Z,2018-02-28T23:49:56Z,MERGED,True,34,32,2,https://github.com/publicarray,fix #1156,3,[],https://github.com/uTox/uTox/pull/1182,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1182#issuecomment-367260390,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: all files reviewed at latest revision, 6 unresolved discussions.

src/posix/filesys.c, line 15 at r1 (raw file):

#include <sys/stat.h>

bool native_create_dir_tree(const uint8_t *path) {

Maybe use char* to avoid unnecessary casts?

src/posix/filesys.c, line 17 at r1 (raw file):

bool native_create_dir_tree(const uint8_t *path) {
    size_t size = strlen((const char *)path);
    if (size <= 2) {

Some comment about why 2.

src/posix/filesys.c, line 21 at r1 (raw file):

    }

    uint8_t *buff = calloc(1, size);

Make sure memory was allocated.

src/posix/filesys.c, line 24 at r1 (raw file):

    for (size_t i = 1; i < size; ++i) { // i = 1 to skip root '/'
        if (path[i] == '/') {
            memcpy(buff, path, i+1);

Spacing: i + 1

src/posix/filesys.c, line 25 at r1 (raw file):

        if (path[i] == '/') {
            memcpy(buff, path, i+1);
            if (native_create_dir(buff) == false) {

Could be simplified: just drop == false.

src/posix/filesys.c, line 56 at r1 (raw file):

    }

    if (native_create_dir_tree((unsigned char *)path) == false) {

Could be simplified.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1182,2018-02-20T23:45:18Z,2018-02-28T23:17:33Z,2018-02-28T23:49:56Z,MERGED,True,34,32,2,https://github.com/publicarray,fix #1156,3,[],https://github.com/uTox/uTox/pull/1182,https://github.com/publicarray,3,https://github.com/uTox/uTox/pull/1182#issuecomment-367506131,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 6 unresolved discussions.

src/posix/filesys.c, line 15 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Maybe use char* to avoid unnecessary casts?

Done.

src/posix/filesys.c, line 17 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Some comment about why 2.

Done.

src/posix/filesys.c, line 21 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Make sure memory was allocated.

Done.

src/posix/filesys.c, line 24 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Spacing: i + 1

Done.

src/posix/filesys.c, line 25 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Could be simplified: just drop == false.

Done.

src/posix/filesys.c, line 56 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Could be simplified.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1182,2018-02-20T23:45:18Z,2018-02-28T23:17:33Z,2018-02-28T23:49:56Z,MERGED,True,34,32,2,https://github.com/publicarray,fix #1156,3,[],https://github.com/uTox/uTox/pull/1182,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1182#issuecomment-367540673,This change is‚ÄÇ,"Reviewed 1 of 2 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.

src/posix/filesys.c, line 30 at r2 (raw file):

        if (path[i] == '/') {
            memcpy(buff, path, i + 1);
            if (!native_create_dir(buff)) {

Cast buff to uint8_t *

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1182,2018-02-20T23:45:18Z,2018-02-28T23:17:33Z,2018-02-28T23:49:56Z,MERGED,True,34,32,2,https://github.com/publicarray,fix #1156,3,[],https://github.com/uTox/uTox/pull/1182,https://github.com/publicarray,5,https://github.com/uTox/uTox/pull/1182#issuecomment-367597939,This change is‚ÄÇ,"Review status: 1 of 2 files reviewed at latest revision, 7 unresolved discussions.

src/posix/filesys.c, line 30 at r2 (raw file):
Previously, endoffile78 (Endoffile) wrote‚Ä¶
Cast buff to uint8_t *

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1182,2018-02-20T23:45:18Z,2018-02-28T23:17:33Z,2018-02-28T23:49:56Z,MERGED,True,34,32,2,https://github.com/publicarray,fix #1156,3,[],https://github.com/uTox/uTox/pull/1182,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1182#issuecomment-367604338,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 2 unresolved discussions.

src/posix/filesys.c, line 17 at r1 (raw file):
Previously, publicarray (Sebastian Schmidt) wrote‚Ä¶
Done.

It's still not quite clear why this limit.
Why path can't be something like /a?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1182,2018-02-20T23:45:18Z,2018-02-28T23:17:33Z,2018-02-28T23:49:56Z,MERGED,True,34,32,2,https://github.com/publicarray,fix #1156,3,[],https://github.com/uTox/uTox/pull/1182,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/1182#issuecomment-367746162,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1182,2018-02-20T23:45:18Z,2018-02-28T23:17:33Z,2018-02-28T23:49:56Z,MERGED,True,34,32,2,https://github.com/publicarray,fix #1156,3,[],https://github.com/uTox/uTox/pull/1182,https://github.com/publicarray,8,https://github.com/uTox/uTox/pull/1182#issuecomment-369156524,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion.

src/posix/filesys.c, line 17 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
It's still not quite clear why this limit.
Why path can't be something like /a?

I've removed the = in the last commit. before it was size <= 2 and you are correct in that we should allow one character folders /a and before it would not allow that. Thanks for pointing that out üòÑ

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1182,2018-02-20T23:45:18Z,2018-02-28T23:17:33Z,2018-02-28T23:49:56Z,MERGED,True,34,32,2,https://github.com/publicarray,fix #1156,3,[],https://github.com/uTox/uTox/pull/1182,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/1182#issuecomment-369161205,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1182,2018-02-20T23:45:18Z,2018-02-28T23:17:33Z,2018-02-28T23:49:56Z,MERGED,True,34,32,2,https://github.com/publicarray,fix #1156,3,[],https://github.com/uTox/uTox/pull/1182,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/1182#issuecomment-369417765,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1192,2018-03-19T10:32:14Z,2020-05-24T21:52:27Z,2020-05-24T21:52:51Z,CLOSED,False,30,39,1,https://github.com/xfm00mm,Update ja.h Update Japanese translation,1,[],https://github.com/uTox/uTox/pull/1192,https://github.com/xfm00mm,1,https://github.com/uTox/uTox/pull/1192,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1192,2018-03-19T10:32:14Z,2020-05-24T21:52:27Z,2020-05-24T21:52:51Z,CLOSED,False,30,39,1,https://github.com/xfm00mm,Update ja.h Update Japanese translation,1,[],https://github.com/uTox/uTox/pull/1192,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1192#issuecomment-374347569,This change is‚ÄÇ,"Thank you! 

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1192,2018-03-19T10:32:14Z,2020-05-24T21:52:27Z,2020-05-24T21:52:51Z,CLOSED,False,30,39,1,https://github.com/xfm00mm,Update ja.h Update Japanese translation,1,[],https://github.com/uTox/uTox/pull/1192,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1192#issuecomment-374458476,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

langs/ja.h, line 235 at r1 (raw file):

//msgstr(""Desktop"")

TODO: Localize or remove.

Remove this line.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1192,2018-03-19T10:32:14Z,2020-05-24T21:52:27Z,2020-05-24T21:52:51Z,CLOSED,False,30,39,1,https://github.com/xfm00mm,Update ja.h Update Japanese translation,1,[],https://github.com/uTox/uTox/pull/1192,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1192#issuecomment-484969082,This change is‚ÄÇ,"@endoffile78 can you pull down this patch, and fixit please?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1192,2018-03-19T10:32:14Z,2020-05-24T21:52:27Z,2020-05-24T21:52:51Z,CLOSED,False,30,39,1,https://github.com/xfm00mm,Update ja.h Update Japanese translation,1,[],https://github.com/uTox/uTox/pull/1192,https://github.com/endoffile78,5,https://github.com/uTox/uTox/pull/1192#issuecomment-633306180,This change is‚ÄÇ,Superseded by #1466,True,{}
uTox/uTox,https://github.com/uTox/uTox,1193,2018-03-22T19:58:48Z,2018-05-12T17:14:47Z,2018-06-15T06:58:04Z,MERGED,True,106,5,4,https://github.com/redmanmale,Appveyor (Windows CI),4,[],https://github.com/uTox/uTox/pull/1193,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1193,"Set up Appveyor CI integration: build uTox on Windows (via Cygwin) and allow to download a result artefact for each build (link).
It's pointed to my fork and project at Appveyor, so someone with owner access (@GrayHatter probably) needs to login with his GitHub profile to Appveyor and create uTox organization project (with url like https://ci.appveyor.com/project/utox/utox).
After that you need to update readme badge link with this new projectId.
Also in appveyor.yml you need you to uncomment last few strings to build only develop/master/PR.
I've disabled it for now to show that all is working.
And we probably could add Appveyor build success as GitHub PR check.
And I updated build instructions a bit.
I wrote a script to put a BIG FAT WARNING into this artefacts and I hope it's verbose enough.



This change is‚ÄÇ","Set up Appveyor CI integration: build uTox on Windows (via Cygwin) and allow to download a result artefact for each build (link).
It's pointed to my fork and project at Appveyor, so someone with owner access (@GrayHatter probably) needs to login with his GitHub profile to Appveyor and create uTox organization project (with url like https://ci.appveyor.com/project/utox/utox).
After that you need to update readme badge link with this new projectId.
Also in appveyor.yml you need you to uncomment last few strings to build only develop/master/PR.
I've disabled it for now to show that all is working.
And we probably could add Appveyor build success as GitHub PR check.
And I updated build instructions a bit.
I wrote a script to put a BIG FAT WARNING into this artefacts and I hope it's verbose enough.



This change is‚ÄÇ",True,"{'THUMBS_UP': ['https://github.com/Sami32', 'https://github.com/zoff99'], 'HEART': ['https://github.com/Sami32']}"
uTox/uTox,https://github.com/uTox/uTox,1193,2018-03-22T19:58:48Z,2018-05-12T17:14:47Z,2018-06-15T06:58:04Z,MERGED,True,106,5,4,https://github.com/redmanmale,Appveyor (Windows CI),4,[],https://github.com/uTox/uTox/pull/1193,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1193#issuecomment-377768049,"Set up Appveyor CI integration: build uTox on Windows (via Cygwin) and allow to download a result artefact for each build (link).
It's pointed to my fork and project at Appveyor, so someone with owner access (@GrayHatter probably) needs to login with his GitHub profile to Appveyor and create uTox organization project (with url like https://ci.appveyor.com/project/utox/utox).
After that you need to update readme badge link with this new projectId.
Also in appveyor.yml you need you to uncomment last few strings to build only develop/master/PR.
I've disabled it for now to show that all is working.
And we probably could add Appveyor build success as GitHub PR check.
And I updated build instructions a bit.
I wrote a script to put a BIG FAT WARNING into this artefacts and I hope it's verbose enough.



This change is‚ÄÇ","Okay, I'm more or less in... Convince @robinlinden too and I'll add it to the org",True,{}
uTox/uTox,https://github.com/uTox/uTox,1193,2018-03-22T19:58:48Z,2018-05-12T17:14:47Z,2018-06-15T06:58:04Z,MERGED,True,106,5,4,https://github.com/redmanmale,Appveyor (Windows CI),4,[],https://github.com/uTox/uTox/pull/1193,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1193#issuecomment-377808630,"Set up Appveyor CI integration: build uTox on Windows (via Cygwin) and allow to download a result artefact for each build (link).
It's pointed to my fork and project at Appveyor, so someone with owner access (@GrayHatter probably) needs to login with his GitHub profile to Appveyor and create uTox organization project (with url like https://ci.appveyor.com/project/utox/utox).
After that you need to update readme badge link with this new projectId.
Also in appveyor.yml you need you to uncomment last few strings to build only develop/master/PR.
I've disabled it for now to show that all is working.
And we probably could add Appveyor build success as GitHub PR check.
And I updated build instructions a bit.
I wrote a script to put a BIG FAT WARNING into this artefacts and I hope it's verbose enough.



This change is‚ÄÇ","Yeah, I'm fine with this. @GrayHatter please add it to the org. :>",True,{}
uTox/uTox,https://github.com/uTox/uTox,1193,2018-03-22T19:58:48Z,2018-05-12T17:14:47Z,2018-06-15T06:58:04Z,MERGED,True,106,5,4,https://github.com/redmanmale,Appveyor (Windows CI),4,[],https://github.com/uTox/uTox/pull/1193,https://github.com/Sami32,4,https://github.com/uTox/uTox/pull/1193#issuecomment-387183857,"Set up Appveyor CI integration: build uTox on Windows (via Cygwin) and allow to download a result artefact for each build (link).
It's pointed to my fork and project at Appveyor, so someone with owner access (@GrayHatter probably) needs to login with his GitHub profile to Appveyor and create uTox organization project (with url like https://ci.appveyor.com/project/utox/utox).
After that you need to update readme badge link with this new projectId.
Also in appveyor.yml you need you to uncomment last few strings to build only develop/master/PR.
I've disabled it for now to show that all is working.
And we probably could add Appveyor build success as GitHub PR check.
And I updated build instructions a bit.
I wrote a script to put a BIG FAT WARNING into this artefacts and I hope it's verbose enough.



This change is‚ÄÇ","It look a great idea to me üëç
Sorry for not having saw that thread before.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1193,2018-03-22T19:58:48Z,2018-05-12T17:14:47Z,2018-06-15T06:58:04Z,MERGED,True,106,5,4,https://github.com/redmanmale,Appveyor (Windows CI),4,[],https://github.com/uTox/uTox/pull/1193,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1193#issuecomment-387287660,"Set up Appveyor CI integration: build uTox on Windows (via Cygwin) and allow to download a result artefact for each build (link).
It's pointed to my fork and project at Appveyor, so someone with owner access (@GrayHatter probably) needs to login with his GitHub profile to Appveyor and create uTox organization project (with url like https://ci.appveyor.com/project/utox/utox).
After that you need to update readme badge link with this new projectId.
Also in appveyor.yml you need you to uncomment last few strings to build only develop/master/PR.
I've disabled it for now to show that all is working.
And we probably could add Appveyor build success as GitHub PR check.
And I updated build instructions a bit.
I wrote a script to put a BIG FAT WARNING into this artefacts and I hope it's verbose enough.



This change is‚ÄÇ","I'll add this once I'm able to look into the security it's asking for. I'm too tired tonight, so someone should remind me some time this weekend",True,{'THUMBS_UP': ['https://github.com/Sami32']}
uTox/uTox,https://github.com/uTox/uTox,1193,2018-03-22T19:58:48Z,2018-05-12T17:14:47Z,2018-06-15T06:58:04Z,MERGED,True,106,5,4,https://github.com/redmanmale,Appveyor (Windows CI),4,[],https://github.com/uTox/uTox/pull/1193,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1193#issuecomment-388568536,"Set up Appveyor CI integration: build uTox on Windows (via Cygwin) and allow to download a result artefact for each build (link).
It's pointed to my fork and project at Appveyor, so someone with owner access (@GrayHatter probably) needs to login with his GitHub profile to Appveyor and create uTox organization project (with url like https://ci.appveyor.com/project/utox/utox).
After that you need to update readme badge link with this new projectId.
Also in appveyor.yml you need you to uncomment last few strings to build only develop/master/PR.
I've disabled it for now to show that all is working.
And we probably could add Appveyor build success as GitHub PR check.
And I updated build instructions a bit.
I wrote a script to put a BIG FAT WARNING into this artefacts and I hope it's verbose enough.



This change is‚ÄÇ","Reviewed 3 of 4 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1193,2018-03-22T19:58:48Z,2018-05-12T17:14:47Z,2018-06-15T06:58:04Z,MERGED,True,106,5,4,https://github.com/redmanmale,Appveyor (Windows CI),4,[],https://github.com/uTox/uTox/pull/1193,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/1193#issuecomment-388569563,"Set up Appveyor CI integration: build uTox on Windows (via Cygwin) and allow to download a result artefact for each build (link).
It's pointed to my fork and project at Appveyor, so someone with owner access (@GrayHatter probably) needs to login with his GitHub profile to Appveyor and create uTox organization project (with url like https://ci.appveyor.com/project/utox/utox).
After that you need to update readme badge link with this new projectId.
Also in appveyor.yml you need you to uncomment last few strings to build only develop/master/PR.
I've disabled it for now to show that all is working.
And we probably could add Appveyor build success as GitHub PR check.
And I updated build instructions a bit.
I wrote a script to put a BIG FAT WARNING into this artefacts and I hope it's verbose enough.



This change is‚ÄÇ","Reviewed 3 of 4 files at r1, 1 of 1 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1195,2018-03-26T11:09:18Z,2018-03-30T07:57:25Z,2018-03-30T07:57:41Z,CLOSED,False,11,1,1,https://github.com/cwilling,Also find libtoxav & libtoxencryptsave,1,[],https://github.com/uTox/uTox/pull/1195,https://github.com/cwilling,1,https://github.com/uTox/uTox/pull/1195,"Linking fails at the moment because the cmake generated link.txt file contains no reference to libtoxav or libtoxencryptsave (part of new c-toxcore-0.2.1). This patch enables finding and adding these libraries so that link phase of compilation can succeed.
Signed-off-by: Christoph Willing chris.willing@linux.com


This change is‚ÄÇ","Linking fails at the moment because the cmake generated link.txt file contains no reference to libtoxav or libtoxencryptsave (part of new c-toxcore-0.2.1). This patch enables finding and adding these libraries so that link phase of compilation can succeed.
Signed-off-by: Christoph Willing chris.willing@linux.com


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1200,2018-04-08T11:50:00Z,2018-04-18T20:40:03Z,2019-01-21T09:09:06Z,MERGED,True,233,18,6,https://github.com/robinlinden,Release 0.17.0,5,[],https://github.com/uTox/uTox/pull/1200,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1200,"I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ","I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1200,2018-04-08T11:50:00Z,2018-04-18T20:40:03Z,2019-01-21T09:09:06Z,MERGED,True,233,18,6,https://github.com/robinlinden,Release 0.17.0,5,[],https://github.com/uTox/uTox/pull/1200,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1200#issuecomment-379544184,"I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ",@uTox/i18n Anyone up for translating a new release?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1200,2018-04-08T11:50:00Z,2018-04-18T20:40:03Z,2019-01-21T09:09:06Z,MERGED,True,233,18,6,https://github.com/robinlinden,Release 0.17.0,5,[],https://github.com/uTox/uTox/pull/1200,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1200#issuecomment-379548543,"I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ","Changelog traslation into Russian.
https://gist.github.com/redmanmale/b1490eeb62a919679668cd42b2175264

Reviewed 4 of 4 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

src/branding.h, line 20 at r1 (raw file):

// Assembly info
#define UTOX_FILE_DESCRIPTION ""The lightweight Tox client""
#define UTOX_COPYRIGHT ""Copyleft 2017 uTox contributors. Some rights reserved.""

Update year.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1200,2018-04-08T11:50:00Z,2018-04-18T20:40:03Z,2019-01-21T09:09:06Z,MERGED,True,233,18,6,https://github.com/robinlinden,Release 0.17.0,5,[],https://github.com/uTox/uTox/pull/1200,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1200#issuecomment-379549541,"I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ","Review status: 2 of 5 files reviewed at latest revision, 1 unresolved discussion.

src/branding.h, line 20 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Update year.

Done.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1200,2018-04-08T11:50:00Z,2018-04-18T20:40:03Z,2019-01-21T09:09:06Z,MERGED,True,233,18,6,https://github.com/robinlinden,Release 0.17.0,5,[],https://github.com/uTox/uTox/pull/1200,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1200#issuecomment-379558457,"I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ","Reviewed 3 of 3 files at r2.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1200,2018-04-08T11:50:00Z,2018-04-18T20:40:03Z,2019-01-21T09:09:06Z,MERGED,True,233,18,6,https://github.com/robinlinden,Release 0.17.0,5,[],https://github.com/uTox/uTox/pull/1200,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1200#issuecomment-379574895,"I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ",,True,{}
uTox/uTox,https://github.com/uTox/uTox,1200,2018-04-08T11:50:00Z,2018-04-18T20:40:03Z,2019-01-21T09:09:06Z,MERGED,True,233,18,6,https://github.com/robinlinden,Release 0.17.0,5,[],https://github.com/uTox/uTox/pull/1200,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/1200#issuecomment-379597204,"I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ","Reviewed 2 of 4 files at r1, 3 of 3 files at r2.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1200,2018-04-08T11:50:00Z,2018-04-18T20:40:03Z,2019-01-21T09:09:06Z,MERGED,True,233,18,6,https://github.com/robinlinden,Release 0.17.0,5,[],https://github.com/uTox/uTox/pull/1200,https://github.com/redmanmale,8,https://github.com/uTox/uTox/pull/1200#issuecomment-380864827,"I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ","Reviewed 1 of 1 files at r3.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

langs/uk.h, line 507 at r3 (raw file):

msgid(STATUS_OFFLINE)
msgstr(""Offline"")

Remove or translate please.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1200,2018-04-08T11:50:00Z,2018-04-18T20:40:03Z,2019-01-21T09:09:06Z,MERGED,True,233,18,6,https://github.com/robinlinden,Release 0.17.0,5,[],https://github.com/uTox/uTox/pull/1200,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/1200#issuecomment-381762382,"I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1200,2018-04-08T11:50:00Z,2018-04-18T20:40:03Z,2019-01-21T09:09:06Z,MERGED,True,233,18,6,https://github.com/robinlinden,Release 0.17.0,5,[],https://github.com/uTox/uTox/pull/1200,https://github.com/endoffile78,10,https://github.com/uTox/uTox/pull/1200#issuecomment-382495231,"I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ","Reviewed 1 of 1 files at r4.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1200,2018-04-08T11:50:00Z,2018-04-18T20:40:03Z,2019-01-21T09:09:06Z,MERGED,True,233,18,6,https://github.com/robinlinden,Release 0.17.0,5,[],https://github.com/uTox/uTox/pull/1200,https://github.com/robinlinden,11,https://github.com/uTox/uTox/pull/1200#issuecomment-382520997,"I think I put everything relevant in the changelog, but it'd be nice if someone could check that I got everything.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

CMakeLists.txt, line 14 at r2 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Than fix it or drop it.

Should've been done when the licence was changed then and it's not something I want to start messing with in the release PR. I'll open a separate PR changing it.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1208,2018-04-21T18:13:58Z,2018-05-22T18:16:46Z,2018-05-22T18:16:46Z,MERGED,True,4168,9227,104,https://github.com/endoffile78,Merge develop into master,232,[],https://github.com/uTox/uTox/pull/1208,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1208,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1208,2018-04-21T18:13:58Z,2018-05-22T18:16:46Z,2018-05-22T18:16:46Z,MERGED,True,4168,9227,104,https://github.com/endoffile78,Merge develop into master,232,[],https://github.com/uTox/uTox/pull/1208,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1208#issuecomment-383340637,This change is‚ÄÇ,"Reviewed 101 of 101 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1208,2018-04-21T18:13:58Z,2018-05-22T18:16:46Z,2018-05-22T18:16:46Z,MERGED,True,4168,9227,104,https://github.com/endoffile78,Merge develop into master,232,[],https://github.com/uTox/uTox/pull/1208,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1208#issuecomment-383407512,This change is‚ÄÇ,"Reviewed 101 of 101 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1208,2018-04-21T18:13:58Z,2018-05-22T18:16:46Z,2018-05-22T18:16:46Z,MERGED,True,4168,9227,104,https://github.com/endoffile78,Merge develop into master,232,[],https://github.com/uTox/uTox/pull/1208,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1208#issuecomment-390736337,This change is‚ÄÇ,"Reviewed 92 of 101 files at r1, 4 of 12 files at r4, 8 of 8 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1208,2018-04-21T18:13:58Z,2018-05-22T18:16:46Z,2018-05-22T18:16:46Z,MERGED,True,4168,9227,104,https://github.com/endoffile78,Merge develop into master,232,[],https://github.com/uTox/uTox/pull/1208,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1208#issuecomment-391088605,This change is‚ÄÇ,"Reviewed 92 of 101 files at r1, 4 of 12 files at r4, 8 of 8 files at r5.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1208,2018-04-21T18:13:58Z,2018-05-22T18:16:46Z,2018-05-22T18:16:46Z,MERGED,True,4168,9227,104,https://github.com/endoffile78,Merge develop into master,232,[],https://github.com/uTox/uTox/pull/1208,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1208#issuecomment-391088756,This change is‚ÄÇ,,True,{}
uTox/uTox,https://github.com/uTox/uTox,1209,2018-04-21T18:26:27Z,2018-04-25T15:40:41Z,2018-04-25T15:40:41Z,MERGED,True,166,1,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/1209,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1209,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1209,2018-04-21T18:26:27Z,2018-04-25T15:40:41Z,2018-04-25T15:40:41Z,MERGED,True,166,1,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/1209,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1209#issuecomment-383340671,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1209,2018-04-21T18:26:27Z,2018-04-25T15:40:41Z,2018-04-25T15:40:41Z,MERGED,True,166,1,1,https://github.com/endoffile78,Update changelog,1,[],https://github.com/uTox/uTox/pull/1209,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1209#issuecomment-383407440,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1212,2018-04-28T20:16:13Z,2019-04-16T20:25:54Z,2019-10-27T22:34:04Z,MERGED,True,9,1,1,https://github.com/robinlinden,Don't pass -1 to _fdopen,1,[],https://github.com/uTox/uTox/pull/1212,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1212,"This fixes Windows uTox getting spammed with Invalid parameter passed to C runtime function.


This change is‚ÄÇ","This fixes Windows uTox getting spammed with Invalid parameter passed to C runtime function.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1212,2018-04-28T20:16:13Z,2019-04-16T20:25:54Z,2019-10-27T22:34:04Z,MERGED,True,9,1,1,https://github.com/robinlinden,Don't pass -1 to _fdopen,1,[],https://github.com/uTox/uTox/pull/1212,https://github.com/endoffile78,2,https://github.com/uTox/uTox/pull/1212#issuecomment-385202845,"This fixes Windows uTox getting spammed with Invalid parameter passed to C runtime function.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1212,2018-04-28T20:16:13Z,2019-04-16T20:25:54Z,2019-10-27T22:34:04Z,MERGED,True,9,1,1,https://github.com/robinlinden,Don't pass -1 to _fdopen,1,[],https://github.com/uTox/uTox/pull/1212,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1212#issuecomment-385226115,"This fixes Windows uTox getting spammed with Invalid parameter passed to C runtime function.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

src/windows/filesys.c, line 80 at r1 (raw file):

    const int handle = _open_osfhandle((intptr_t)winFile, 0);
    if (handle == -1) {
        return NULL;

needs log_err

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1212,2018-04-28T20:16:13Z,2019-04-16T20:25:54Z,2019-10-27T22:34:04Z,MERGED,True,9,1,1,https://github.com/robinlinden,Don't pass -1 to _fdopen,1,[],https://github.com/uTox/uTox/pull/1212,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1212#issuecomment-385226120,"This fixes Windows uTox getting spammed with Invalid parameter passed to C runtime function.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1212,2018-04-28T20:16:13Z,2019-04-16T20:25:54Z,2019-10-27T22:34:04Z,MERGED,True,9,1,1,https://github.com/robinlinden,Don't pass -1 to _fdopen,1,[],https://github.com/uTox/uTox/pull/1212,https://github.com/robinlinden,5,https://github.com/uTox/uTox/pull/1212#issuecomment-385251686,"This fixes Windows uTox getting spammed with Invalid parameter passed to C runtime function.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/windows/filesys.c, line 80 at r1 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
needs log_err

I intentionally didn't put LOG_ERR there since this function is called to check if files exist too. If not finding a file is an error, that should be checked where this is called.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1212,2018-04-28T20:16:13Z,2019-04-16T20:25:54Z,2019-10-27T22:34:04Z,MERGED,True,9,1,1,https://github.com/robinlinden,Don't pass -1 to _fdopen,1,[],https://github.com/uTox/uTox/pull/1212,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1212#issuecomment-385298194,"This fixes Windows uTox getting spammed with Invalid parameter passed to C runtime function.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

src/windows/filesys.c, line 80 at r1 (raw file):
Previously, robinlinden (Robin Lind√©n) wrote‚Ä¶
I intentionally didn't put LOG_ERR there since this function is called to check if files exist too. If not finding a file is an error, that should be checked where this is called.

Is it better to check the error state of CreateFileW then?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1215,2018-05-03T10:31:31Z,2018-05-09T17:25:24Z,2018-05-12T21:34:25Z,MERGED,True,21,6,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1215,None,1,https://github.com/uTox/uTox/pull/1215,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1215,2018-05-03T10:31:31Z,2018-05-09T17:25:24Z,2018-05-12T21:34:25Z,MERGED,True,21,6,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1215,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1215#issuecomment-387012269,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

langs/de.h, line 390 at r1 (raw file):

msgid(COPY_TOX_ID)
msgstr(""Kopieren"")

Same as just Copy?

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1215,2018-05-03T10:31:31Z,2018-05-09T17:25:24Z,2018-05-12T21:34:25Z,MERGED,True,21,6,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1215,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1215#issuecomment-387159252,This change is‚ÄÇ,"+@cebe

Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1215,2018-05-03T10:31:31Z,2018-05-09T17:25:24Z,2018-05-12T21:34:25Z,MERGED,True,21,6,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1215,None,4,https://github.com/uTox/uTox/pull/1215#issuecomment-387216778,This change is‚ÄÇ,"Same as just Copy?

Yes, I did this intentionally, because I find that ""als Text kopieren"" sounds much weirder than in English. And I find that ""copy"" is associated with text anyway, especially in this case which seems to make it obvious enough.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1215,2018-05-03T10:31:31Z,2018-05-09T17:25:24Z,2018-05-12T21:34:25Z,MERGED,True,21,6,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1215,https://github.com/cebe,5,https://github.com/uTox/uTox/pull/1215#issuecomment-387674464,This change is‚ÄÇ,"Reviewed 1 of 1 files at r1.
Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1215,2018-05-03T10:31:31Z,2018-05-09T17:25:24Z,2018-05-12T21:34:25Z,MERGED,True,21,6,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1215,https://github.com/cebe,6,https://github.com/uTox/uTox/pull/1215#issuecomment-387674774,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, 1 unresolved discussion, some commit checks failed.

langs/de.h, line 390 at r1 (raw file):
Previously, redmanmale (redmanmale) wrote‚Ä¶
Same as just Copy?

it's fine in that context

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1215,2018-05-03T10:31:31Z,2018-05-09T17:25:24Z,2018-05-12T21:34:25Z,MERGED,True,21,6,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1215,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1215#issuecomment-387677301,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1215,2018-05-03T10:31:31Z,2018-05-09T17:25:24Z,2018-05-12T21:34:25Z,MERGED,True,21,6,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1215,None,8,https://github.com/uTox/uTox/pull/1215#issuecomment-387857176,This change is‚ÄÇ,"Missing msgids:
REQ_ADDED_NO_FREQ_SENT
CALL_ENDED
STATUS_MESSAGE
Why the colons here? Doesn't seem to make sense:
msgid(IPV6)
msgstr(""IPv6:"")
msgid(UDP)
msgstr(""UDP:"")

For the english version, I would also write ""QR code"" as opposed to only ""QR"", even if it may be colloquial speech, since it's as wrong as only ""IP"" when ""IP address"" is meant, and as wrong as ""LCD display"".
msgid(DELETE_MESSAGE)
msgstr(""Are you sure you want to delete "")

I found no german translation for this so that the friend is at the end of the sentence.
Possible translation:
Bist du sicher, dass du %s l√∂schen m√∂chtest?
What's the difference between REMOVE_FRIEND and DELETE_FRIEND?
Should I open a new issue with this?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1215,2018-05-03T10:31:31Z,2018-05-09T17:25:24Z,2018-05-12T21:34:25Z,MERGED,True,21,6,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1215,https://github.com/cebe,9,https://github.com/uTox/uTox/pull/1215#issuecomment-388584599,This change is‚ÄÇ,"Should I open a new issue with this?

yes, please. comments on closed issues are likely to be forgotten soon.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1219,2018-05-12T17:42:40Z,2019-04-19T17:46:15Z,2019-04-19T17:46:15Z,CLOSED,False,10,7,3,https://github.com/redmanmale,Fix AppVeyor and Travis,3,[],https://github.com/uTox/uTox/pull/1219,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1219,"build only master and develop
update badge link
disable updater test (it doesn't work)



This change is‚ÄÇ","build only master and develop
update badge link
disable updater test (it doesn't work)



This change is‚ÄÇ",True,"{'THUMBS_UP': ['https://github.com/Sami32', 'https://github.com/Nadahar']}"
uTox/uTox,https://github.com/uTox/uTox,1219,2018-05-12T17:42:40Z,2019-04-19T17:46:15Z,2019-04-19T17:46:15Z,CLOSED,False,10,7,3,https://github.com/redmanmale,Fix AppVeyor and Travis,3,[],https://github.com/uTox/uTox/pull/1219,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1219#issuecomment-388612775,"build only master and develop
update badge link
disable updater test (it doesn't work)



This change is‚ÄÇ","Please no... if you're going to comment out large blocks of code, first be VERY sure you actually want to do that. (You don't in this case), then use #if 0 ... #endif via the preprocesser, that way you're not touching every line in the git blame.
Also, if you want to fix travis, instead of disabling tests, you could create a fake file that you could test against, (probably the best way). Or in this case, add an extra travis job that runs the tests, and allows failure, and then only run the tests in that job.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1219,2018-05-12T17:42:40Z,2019-04-19T17:46:15Z,2019-04-19T17:46:15Z,CLOSED,False,10,7,3,https://github.com/redmanmale,Fix AppVeyor and Travis,3,[],https://github.com/uTox/uTox/pull/1219,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1219#issuecomment-388631310,"build only master and develop
update badge link
disable updater test (it doesn't work)



This change is‚ÄÇ",If someone fix Travis settings I can just drop the last commit.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1219,2018-05-12T17:42:40Z,2019-04-19T17:46:15Z,2019-04-19T17:46:15Z,CLOSED,False,10,7,3,https://github.com/redmanmale,Fix AppVeyor and Travis,3,[],https://github.com/uTox/uTox/pull/1219,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1219#issuecomment-391495747,"build only master and develop
update badge link
disable updater test (it doesn't work)



This change is‚ÄÇ","@robinlinden
Can you take a look?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1219,2018-05-12T17:42:40Z,2019-04-19T17:46:15Z,2019-04-19T17:46:15Z,CLOSED,False,10,7,3,https://github.com/redmanmale,Fix AppVeyor and Travis,3,[],https://github.com/uTox/uTox/pull/1219,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1219#issuecomment-397306013,"build only master and develop
update badge link
disable updater test (it doesn't work)



This change is‚ÄÇ",It's been a while... Can we merge this?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1219,2018-05-12T17:42:40Z,2019-04-19T17:46:15Z,2019-04-19T17:46:15Z,CLOSED,False,10,7,3,https://github.com/redmanmale,Fix AppVeyor and Travis,3,[],https://github.com/uTox/uTox/pull/1219,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1219#issuecomment-397407658,"build only master and develop
update badge link
disable updater test (it doesn't work)



This change is‚ÄÇ","I'll LGTM this, but again, I really don't like this. We should create a build job that's allowed to fail, instead of just disabling tests.
Right now, tests pretends to run, and reports no errors. Thus when anyone looks to see if the test errors, they'll believe that there's no problem.
 

Reviewed 2 of 2 files at r1, 1 of 1 files at r2.
Review status: 3 files need 1 more reviewer, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1219,2018-05-12T17:42:40Z,2019-04-19T17:46:15Z,2019-04-19T17:46:15Z,CLOSED,False,10,7,3,https://github.com/redmanmale,Fix AppVeyor and Travis,3,[],https://github.com/uTox/uTox/pull/1219,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1219#issuecomment-429128974,"build only master and develop
update badge link
disable updater test (it doesn't work)



This change is‚ÄÇ","What will we do with this?
I've taken a quick look at the Travis stages but they are badly compatible with matrix thing.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1219,2018-05-12T17:42:40Z,2019-04-19T17:46:15Z,2019-04-19T17:46:15Z,CLOSED,False,10,7,3,https://github.com/redmanmale,Fix AppVeyor and Travis,3,[],https://github.com/uTox/uTox/pull/1219,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/1219#issuecomment-484968840,"build only master and develop
update badge link
disable updater test (it doesn't work)



This change is‚ÄÇ",it's stale and @endoffile78 is working on adding new travis builds,True,{}
uTox/uTox,https://github.com/uTox/uTox,1222,2018-05-18T06:36:52Z,2020-10-24T01:07:47Z,2020-10-24T01:07:47Z,CLOSED,False,2,2,1,https://github.com/fling-,Document the static builds are outdated.,1,[],https://github.com/uTox/uTox/pull/1222,https://github.com/fling-,1,https://github.com/uTox/uTox/pull/1222,"Resolves #1220


This change is‚ÄÇ","Resolves #1220


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1222,2018-05-18T06:36:52Z,2020-10-24T01:07:47Z,2020-10-24T01:07:47Z,CLOSED,False,2,2,1,https://github.com/fling-,Document the static builds are outdated.,1,[],https://github.com/uTox/uTox/pull/1222,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1222#issuecomment-390735562,"Resolves #1220


This change is‚ÄÇ","I'm torn on this, it's a trivial merge, but I don't see a real benefit, I'd rather drop the lines if we're not going to maintain build.tox.chat, or fix build.tox.chat if we are
@robinlinden",True,{'THUMBS_UP': ['https://github.com/redmanmale']}
uTox/uTox,https://github.com/uTox/uTox,1222,2018-05-18T06:36:52Z,2020-10-24T01:07:47Z,2020-10-24T01:07:47Z,CLOSED,False,2,2,1,https://github.com/fling-,Document the static builds are outdated.,1,[],https://github.com/uTox/uTox/pull/1222,https://github.com/fling-,3,https://github.com/uTox/uTox/pull/1222#issuecomment-390796076,"Resolves #1220


This change is‚ÄÇ",The older binary is still good if you can't build one.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1222,2018-05-18T06:36:52Z,2020-10-24T01:07:47Z,2020-10-24T01:07:47Z,CLOSED,False,2,2,1,https://github.com/fling-,Document the static builds are outdated.,1,[],https://github.com/uTox/uTox/pull/1222,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1222#issuecomment-391062656,"Resolves #1220


This change is‚ÄÇ","iirc, they're currently broken because of the git submodules not being included in the source Jenkins provides. I'd like to just fix them rather than dropping them.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1222,2018-05-18T06:36:52Z,2020-10-24T01:07:47Z,2020-10-24T01:07:47Z,CLOSED,False,2,2,1,https://github.com/fling-,Document the static builds are outdated.,1,[],https://github.com/uTox/uTox/pull/1222,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1222#issuecomment-484968587,"Resolves #1220


This change is‚ÄÇ",good luck @robinlinden,True,{}
uTox/uTox,https://github.com/uTox/uTox,1222,2018-05-18T06:36:52Z,2020-10-24T01:07:47Z,2020-10-24T01:07:47Z,CLOSED,False,2,2,1,https://github.com/fling-,Document the static builds are outdated.,1,[],https://github.com/uTox/uTox/pull/1222,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/1222#issuecomment-715607034,"Resolves #1220


This change is‚ÄÇ",I'm not going to fix this. :( Maybe just drop the lines?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1222,2018-05-18T06:36:52Z,2020-10-24T01:07:47Z,2020-10-24T01:07:47Z,CLOSED,False,2,2,1,https://github.com/fling-,Document the static builds are outdated.,1,[],https://github.com/uTox/uTox/pull/1222,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/1222#issuecomment-715649042,"Resolves #1220


This change is‚ÄÇ","Branch conflict, with different solution than this PR",True,{}
uTox/uTox,https://github.com/uTox/uTox,1229,2018-05-28T18:43:10Z,2018-05-28T18:48:54Z,2018-05-28T18:48:54Z,MERGED,True,15,14,1,https://github.com/endoffile78,Update dependencies in INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1229,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1229,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1229,2018-05-28T18:43:10Z,2018-05-28T18:48:54Z,2018-05-28T18:48:54Z,MERGED,True,15,14,1,https://github.com/endoffile78,Update dependencies in INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1229,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1229#issuecomment-392585424,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1229,2018-05-28T18:43:10Z,2018-05-28T18:48:54Z,2018-05-28T18:48:54Z,MERGED,True,15,14,1,https://github.com/endoffile78,Update dependencies in INSTALL.md,1,[],https://github.com/uTox/uTox/pull/1229,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1229#issuecomment-392585654,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1230,2018-05-28T20:07:24Z,2018-06-23T16:58:12Z,2018-06-23T16:58:12Z,MERGED,True,104,29,3,https://github.com/endoffile78,Add DEPENDENCIES.md,2,[],https://github.com/uTox/uTox/pull/1230,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1230,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1230,2018-05-28T20:07:24Z,2018-06-23T16:58:12Z,2018-06-23T16:58:12Z,MERGED,True,104,29,3,https://github.com/endoffile78,Add DEPENDENCIES.md,2,[],https://github.com/uTox/uTox/pull/1230,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1230#issuecomment-392596101,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1230,2018-05-28T20:07:24Z,2018-06-23T16:58:12Z,2018-06-23T16:58:12Z,MERGED,True,104,29,3,https://github.com/endoffile78,Add DEPENDENCIES.md,2,[],https://github.com/uTox/uTox/pull/1230,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1230#issuecomment-392596545,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1230,2018-05-28T20:07:24Z,2018-06-23T16:58:12Z,2018-06-23T16:58:12Z,MERGED,True,104,29,3,https://github.com/endoffile78,Add DEPENDENCIES.md,2,[],https://github.com/uTox/uTox/pull/1230,https://github.com/endoffile78,4,https://github.com/uTox/uTox/pull/1230#issuecomment-392599654,This change is‚ÄÇ,@publicarray Can you make sure all the OSX dependencies are listed.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1230,2018-05-28T20:07:24Z,2018-06-23T16:58:12Z,2018-06-23T16:58:12Z,MERGED,True,104,29,3,https://github.com/endoffile78,Add DEPENDENCIES.md,2,[],https://github.com/uTox/uTox/pull/1230,https://github.com/publicarray,5,https://github.com/uTox/uTox/pull/1230#issuecomment-392748877,This change is‚ÄÇ,"on MacOS. Just one question, aren't we missing libsodium?

Review status: 2 of 3 files reviewed at latest revision, all discussions resolved, some commit checks failed.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1230,2018-05-28T20:07:24Z,2018-06-23T16:58:12Z,2018-06-23T16:58:12Z,MERGED,True,104,29,3,https://github.com/endoffile78,Add DEPENDENCIES.md,2,[],https://github.com/uTox/uTox/pull/1230,https://github.com/publicarray,6,https://github.com/uTox/uTox/pull/1230#issuecomment-394144047,This change is‚ÄÇ,"Review status: all files reviewed at latest revision, all discussions resolved, some commit checks broke.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1230,2018-05-28T20:07:24Z,2018-06-23T16:58:12Z,2018-06-23T16:58:12Z,MERGED,True,104,29,3,https://github.com/endoffile78,Add DEPENDENCIES.md,2,[],https://github.com/uTox/uTox/pull/1230,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1230#issuecomment-397806750,This change is‚ÄÇ,"Reviewed 1 of 3 files at r1, 1 of 1 files at r3, 1 of 1 files at r4.
Review status: missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1230,2018-05-28T20:07:24Z,2018-06-23T16:58:12Z,2018-06-23T16:58:12Z,MERGED,True,104,29,3,https://github.com/endoffile78,Add DEPENDENCIES.md,2,[],https://github.com/uTox/uTox/pull/1230,https://github.com/GrayHatter,8,https://github.com/uTox/uTox/pull/1230#issuecomment-399518258,This change is‚ÄÇ,"Reviewed 1 of 1 files at r3, 1 of 1 files at r4.
Review status: missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1232,2018-05-29T21:02:47Z,2018-06-01T16:02:16Z,2018-06-01T16:02:16Z,MERGED,True,0,1,1,https://github.com/endoffile78,Remove extra increment,1,[],https://github.com/uTox/uTox/pull/1232,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1232,"call_count is incremented twice which seems wrong. Thanks to @robinlinden for pointing it out.


This change is‚ÄÇ","call_count is incremented twice which seems wrong. Thanks to @robinlinden for pointing it out.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1232,2018-05-29T21:02:47Z,2018-06-01T16:02:16Z,2018-06-01T16:02:16Z,MERGED,True,0,1,1,https://github.com/endoffile78,Remove extra increment,1,[],https://github.com/uTox/uTox/pull/1232,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1232#issuecomment-392946791,"call_count is incremented twice which seems wrong. Thanks to @robinlinden for pointing it out.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1232,2018-05-29T21:02:47Z,2018-06-01T16:02:16Z,2018-06-01T16:02:16Z,MERGED,True,0,1,1,https://github.com/endoffile78,Remove extra increment,1,[],https://github.com/uTox/uTox/pull/1232,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1232#issuecomment-392947392,"call_count is incremented twice which seems wrong. Thanks to @robinlinden for pointing it out.


This change is‚ÄÇ","Review status: all files reviewed at latest revision, all discussions resolved.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1239,2018-06-15T22:05:38Z,2018-07-31T01:24:50Z,2019-01-21T09:09:06Z,MERGED,True,6,0,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1239,None,1,https://github.com/uTox/uTox/pull/1239,"Translate GROUP_CREATE_WITH_AUDIO
Translate PROXY_EDIT_HINT_IP


This change is‚ÄÇ","Translate GROUP_CREATE_WITH_AUDIO
Translate PROXY_EDIT_HINT_IP


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1239,2018-06-15T22:05:38Z,2018-07-31T01:24:50Z,2019-01-21T09:09:06Z,MERGED,True,6,0,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1239,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1239#issuecomment-397794097,"Translate GROUP_CREATE_WITH_AUDIO
Translate PROXY_EDIT_HINT_IP


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: 1 file needs 1 more reviewer, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1239,2018-06-15T22:05:38Z,2018-07-31T01:24:50Z,2019-01-21T09:09:06Z,MERGED,True,6,0,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1239,None,3,https://github.com/uTox/uTox/pull/1239#issuecomment-397871176,"Translate GROUP_CREATE_WITH_AUDIO
Translate PROXY_EDIT_HINT_IP


This change is‚ÄÇ","I'm not done, yet. I'll add PROXY_EDIT_HINT_IP, too.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1239,2018-06-15T22:05:38Z,2018-07-31T01:24:50Z,2019-01-21T09:09:06Z,MERGED,True,6,0,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1239,None,4,https://github.com/uTox/uTox/pull/1239#issuecomment-397873379,"Translate GROUP_CREATE_WITH_AUDIO
Translate PROXY_EDIT_HINT_IP


This change is‚ÄÇ",Done.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1239,2018-06-15T22:05:38Z,2018-07-31T01:24:50Z,2019-01-21T09:09:06Z,MERGED,True,6,0,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1239,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1239#issuecomment-399341898,"Translate GROUP_CREATE_WITH_AUDIO
Translate PROXY_EDIT_HINT_IP


This change is‚ÄÇ","Reviewed 1 of 1 files at r2.
Review status: 1 file needs 1 more reviewer, 1 assignee LGTMs are missing, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1239,2018-06-15T22:05:38Z,2018-07-31T01:24:50Z,2019-01-21T09:09:06Z,MERGED,True,6,0,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1239,None,6,https://github.com/uTox/uTox/pull/1239#issuecomment-399925746,"Translate GROUP_CREATE_WITH_AUDIO
Translate PROXY_EDIT_HINT_IP


This change is‚ÄÇ",Done.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1239,2018-06-15T22:05:38Z,2018-07-31T01:24:50Z,2019-01-21T09:09:06Z,MERGED,True,6,0,1,None,Update de.h,1,[],https://github.com/uTox/uTox/pull/1239,https://github.com/cebe,7,https://github.com/uTox/uTox/pull/1239#issuecomment-404970423,"Translate GROUP_CREATE_WITH_AUDIO
Translate PROXY_EDIT_HINT_IP


This change is‚ÄÇ","wow, what's wrong with the reviewable message?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1240,2018-06-15T22:17:27Z,2018-07-31T02:58:44Z,2018-07-31T03:03:45Z,MERGED,True,88,20,1,None,Update pl.h,1,[],https://github.com/uTox/uTox/pull/1240,None,1,https://github.com/uTox/uTox/pull/1240,"Translate:
GROUP_CREATE_WITH_AUDIO
REQ_ADDED_NO_FREQ_SENT
CALL_ENDED
ADVANCED_BUTTON
NOTIFICATIONS_BUTTON
AUTO_UPDATE
STATUS_OFFLINE
STATUS_MESSAGE
SHOW_UI_PASSWORD_TOOLTIP
HIDE_UI_PASSWORD
HIDE_UI_PASSWORD_TOOLTIP
PASSWORD_TOO_SHORT
PROXY_FORCE
SHOW_QR
HIDE_QR
SAVE_QR
COPY_TOX_ID
STATUS_NOTIFICATIONS
RANDOMIZE_NOSPAM
REVERT_NOSPAM
NOSPAM_WARNING
BLOCK_FRIEND_REQUESTS
SHOW_NOSPAM
HIDE_NOSPAM
DELETE_FRIEND
DELETE_MESSAGE
KEEP

Change:
REQ_SENT
REQ_SELF_ID
FRIEND_EXPORT_CHATLOG
GROUP_TOPIC
FRIENDREQUEST
PUSH_TO_TALK
STATUS_ONLINE
SHOW_UI_PASSWORD
SAVELOCATION
WARNING
PROXY_EDIT_HINT_IP
SEND_TYPING_NOTIFICATIONS

Remove:
STATUS
DPI
PROXY_EDIT_HINT_PORT

TODO:
SETTINGS_UI_AUTO_HIDE_SIDEBAR
NOT_CONNECTED_SETTINGS



This change is‚ÄÇ","Translate:
GROUP_CREATE_WITH_AUDIO
REQ_ADDED_NO_FREQ_SENT
CALL_ENDED
ADVANCED_BUTTON
NOTIFICATIONS_BUTTON
AUTO_UPDATE
STATUS_OFFLINE
STATUS_MESSAGE
SHOW_UI_PASSWORD_TOOLTIP
HIDE_UI_PASSWORD
HIDE_UI_PASSWORD_TOOLTIP
PASSWORD_TOO_SHORT
PROXY_FORCE
SHOW_QR
HIDE_QR
SAVE_QR
COPY_TOX_ID
STATUS_NOTIFICATIONS
RANDOMIZE_NOSPAM
REVERT_NOSPAM
NOSPAM_WARNING
BLOCK_FRIEND_REQUESTS
SHOW_NOSPAM
HIDE_NOSPAM
DELETE_FRIEND
DELETE_MESSAGE
KEEP

Change:
REQ_SENT
REQ_SELF_ID
FRIEND_EXPORT_CHATLOG
GROUP_TOPIC
FRIENDREQUEST
PUSH_TO_TALK
STATUS_ONLINE
SHOW_UI_PASSWORD
SAVELOCATION
WARNING
PROXY_EDIT_HINT_IP
SEND_TYPING_NOTIFICATIONS

Remove:
STATUS
DPI
PROXY_EDIT_HINT_PORT

TODO:
SETTINGS_UI_AUTO_HIDE_SIDEBAR
NOT_CONNECTED_SETTINGS



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1240,2018-06-15T22:17:27Z,2018-07-31T02:58:44Z,2018-07-31T03:03:45Z,MERGED,True,88,20,1,None,Update pl.h,1,[],https://github.com/uTox/uTox/pull/1240,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1240#issuecomment-397794062,"Translate:
GROUP_CREATE_WITH_AUDIO
REQ_ADDED_NO_FREQ_SENT
CALL_ENDED
ADVANCED_BUTTON
NOTIFICATIONS_BUTTON
AUTO_UPDATE
STATUS_OFFLINE
STATUS_MESSAGE
SHOW_UI_PASSWORD_TOOLTIP
HIDE_UI_PASSWORD
HIDE_UI_PASSWORD_TOOLTIP
PASSWORD_TOO_SHORT
PROXY_FORCE
SHOW_QR
HIDE_QR
SAVE_QR
COPY_TOX_ID
STATUS_NOTIFICATIONS
RANDOMIZE_NOSPAM
REVERT_NOSPAM
NOSPAM_WARNING
BLOCK_FRIEND_REQUESTS
SHOW_NOSPAM
HIDE_NOSPAM
DELETE_FRIEND
DELETE_MESSAGE
KEEP

Change:
REQ_SENT
REQ_SELF_ID
FRIEND_EXPORT_CHATLOG
GROUP_TOPIC
FRIENDREQUEST
PUSH_TO_TALK
STATUS_ONLINE
SHOW_UI_PASSWORD
SAVELOCATION
WARNING
PROXY_EDIT_HINT_IP
SEND_TYPING_NOTIFICATIONS

Remove:
STATUS
DPI
PROXY_EDIT_HINT_PORT

TODO:
SETTINGS_UI_AUTO_HIDE_SIDEBAR
NOT_CONNECTED_SETTINGS



This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: 1 file needs 1 more reviewer, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1240,2018-06-15T22:17:27Z,2018-07-31T02:58:44Z,2018-07-31T03:03:45Z,MERGED,True,88,20,1,None,Update pl.h,1,[],https://github.com/uTox/uTox/pull/1240,None,3,https://github.com/uTox/uTox/pull/1240#issuecomment-397873959,"Translate:
GROUP_CREATE_WITH_AUDIO
REQ_ADDED_NO_FREQ_SENT
CALL_ENDED
ADVANCED_BUTTON
NOTIFICATIONS_BUTTON
AUTO_UPDATE
STATUS_OFFLINE
STATUS_MESSAGE
SHOW_UI_PASSWORD_TOOLTIP
HIDE_UI_PASSWORD
HIDE_UI_PASSWORD_TOOLTIP
PASSWORD_TOO_SHORT
PROXY_FORCE
SHOW_QR
HIDE_QR
SAVE_QR
COPY_TOX_ID
STATUS_NOTIFICATIONS
RANDOMIZE_NOSPAM
REVERT_NOSPAM
NOSPAM_WARNING
BLOCK_FRIEND_REQUESTS
SHOW_NOSPAM
HIDE_NOSPAM
DELETE_FRIEND
DELETE_MESSAGE
KEEP

Change:
REQ_SENT
REQ_SELF_ID
FRIEND_EXPORT_CHATLOG
GROUP_TOPIC
FRIENDREQUEST
PUSH_TO_TALK
STATUS_ONLINE
SHOW_UI_PASSWORD
SAVELOCATION
WARNING
PROXY_EDIT_HINT_IP
SEND_TYPING_NOTIFICATIONS

Remove:
STATUS
DPI
PROXY_EDIT_HINT_PORT

TODO:
SETTINGS_UI_AUTO_HIDE_SIDEBAR
NOT_CONNECTED_SETTINGS



This change is‚ÄÇ","Not done, yet. I have a full translation that I'd like to include here.
(Also considering this: https://github.com/uTox/uTox/pull/411/files)",True,{}
uTox/uTox,https://github.com/uTox/uTox,1240,2018-06-15T22:17:27Z,2018-07-31T02:58:44Z,2018-07-31T03:03:45Z,MERGED,True,88,20,1,None,Update pl.h,1,[],https://github.com/uTox/uTox/pull/1240,None,4,https://github.com/uTox/uTox/pull/1240#issuecomment-401599719,"Translate:
GROUP_CREATE_WITH_AUDIO
REQ_ADDED_NO_FREQ_SENT
CALL_ENDED
ADVANCED_BUTTON
NOTIFICATIONS_BUTTON
AUTO_UPDATE
STATUS_OFFLINE
STATUS_MESSAGE
SHOW_UI_PASSWORD_TOOLTIP
HIDE_UI_PASSWORD
HIDE_UI_PASSWORD_TOOLTIP
PASSWORD_TOO_SHORT
PROXY_FORCE
SHOW_QR
HIDE_QR
SAVE_QR
COPY_TOX_ID
STATUS_NOTIFICATIONS
RANDOMIZE_NOSPAM
REVERT_NOSPAM
NOSPAM_WARNING
BLOCK_FRIEND_REQUESTS
SHOW_NOSPAM
HIDE_NOSPAM
DELETE_FRIEND
DELETE_MESSAGE
KEEP

Change:
REQ_SENT
REQ_SELF_ID
FRIEND_EXPORT_CHATLOG
GROUP_TOPIC
FRIENDREQUEST
PUSH_TO_TALK
STATUS_ONLINE
SHOW_UI_PASSWORD
SAVELOCATION
WARNING
PROXY_EDIT_HINT_IP
SEND_TYPING_NOTIFICATIONS

Remove:
STATUS
DPI
PROXY_EDIT_HINT_PORT

TODO:
SETTINGS_UI_AUTO_HIDE_SIDEBAR
NOT_CONNECTED_SETTINGS



This change is‚ÄÇ","I don't have an idea how to translate ""sidebar"" to Polish.
NOT_CONNECTED_SETTINGS (""Adjust network settings"") is a suggestion to the user to change his network settings because he can't connect? So simply ""Zmie≈Ñ ustawienia sieci"" is right?
Other than those two points, I am done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1241,2018-06-15T22:45:05Z,2018-06-16T19:14:48Z,2018-06-16T20:58:28Z,MERGED,True,8,8,1,None,Update en.h,1,[],https://github.com/uTox/uTox/pull/1241,None,1,https://github.com/uTox/uTox/pull/1241,"Changes:
GROUP_CREATE_TEXT
GROUP_CREATE_VOICE
IPV6
UDP
SHOW_QR
HIDE_QR
SAVE_QR
PROXY_EDIT_HINT_IP
See my comment in PR #1215.


This change is‚ÄÇ","Changes:
GROUP_CREATE_TEXT
GROUP_CREATE_VOICE
IPV6
UDP
SHOW_QR
HIDE_QR
SAVE_QR
PROXY_EDIT_HINT_IP
See my comment in PR #1215.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1241,2018-06-15T22:45:05Z,2018-06-16T19:14:48Z,2018-06-16T20:58:28Z,MERGED,True,8,8,1,None,Update en.h,1,[],https://github.com/uTox/uTox/pull/1241,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1241#issuecomment-397794019,"Changes:
GROUP_CREATE_TEXT
GROUP_CREATE_VOICE
IPV6
UDP
SHOW_QR
HIDE_QR
SAVE_QR
PROXY_EDIT_HINT_IP
See my comment in PR #1215.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: 1 file needs 1 more reviewer, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1241,2018-06-15T22:45:05Z,2018-06-16T19:14:48Z,2018-06-16T20:58:28Z,MERGED,True,8,8,1,None,Update en.h,1,[],https://github.com/uTox/uTox/pull/1241,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1241#issuecomment-397833361,"Changes:
GROUP_CREATE_TEXT
GROUP_CREATE_VOICE
IPV6
UDP
SHOW_QR
HIDE_QR
SAVE_QR
PROXY_EDIT_HINT_IP
See my comment in PR #1215.


This change is‚ÄÇ","Reviewed 1 of 1 files at r1.
Review status: missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1243,2018-06-16T00:53:06Z,2018-06-22T03:41:51Z,2018-06-23T15:12:31Z,MERGED,True,25,20,2,None,"Move Language setting from ""Profile"" to ""User Interface"" tab",2,[],https://github.com/uTox/uTox/pull/1243,None,1,https://github.com/uTox/uTox/pull/1243,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1243,2018-06-16T00:53:06Z,2018-06-22T03:41:51Z,2018-06-23T15:12:31Z,MERGED,True,25,20,2,None,"Move Language setting from ""Profile"" to ""User Interface"" tab",2,[],https://github.com/uTox/uTox/pull/1243,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1243#issuecomment-397806586,This change is‚ÄÇ,"Reviewed 2 of 2 files at r1.
Review status: 2 files need 1 more reviewer, 1 open discussion remaining, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

src/ui.c, line 136 at r1 (raw file):

    panel_settings_ui.y            = 32;

    CREATE_DROPDOWN(language, 10, 30, 24, -10);

There is a new way to declare UI elements.
You could just add a panel with x,y,height,width (see https://github.com/uTox/uTox/blob/develop/src/layout/settings.c#L960) to the language dropdown declaration (https://github.com/uTox/uTox/blob/develop/src/layout/settings.c#L1258).
And then just drop this line.

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1243,2018-06-16T00:53:06Z,2018-06-22T03:41:51Z,2018-06-23T15:12:31Z,MERGED,True,25,20,2,None,"Move Language setting from ""Profile"" to ""User Interface"" tab",2,[],https://github.com/uTox/uTox/pull/1243,None,3,https://github.com/uTox/uTox/pull/1243#issuecomment-397811586,This change is‚ÄÇ,"Can't I just use this line (CREATE_DROPDOWN(language, 10, 30, 24, -10);) in the dropdown_language declaration? Or shouldn't those macros be used for now/that?
Ok, I see.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1243,2018-06-16T00:53:06Z,2018-06-22T03:41:51Z,2018-06-23T15:12:31Z,MERGED,True,25,20,2,None,"Move Language setting from ""Profile"" to ""User Interface"" tab",2,[],https://github.com/uTox/uTox/pull/1243,None,4,https://github.com/uTox/uTox/pull/1243#issuecomment-397811911,This change is‚ÄÇ,And why is CREATE_DROPDOWN the only macro with width and height switched around?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1243,2018-06-16T00:53:06Z,2018-06-22T03:41:51Z,2018-06-23T15:12:31Z,MERGED,True,25,20,2,None,"Move Language setting from ""Profile"" to ""User Interface"" tab",2,[],https://github.com/uTox/uTox/pull/1243,None,5,https://github.com/uTox/uTox/pull/1243#issuecomment-397812798,This change is‚ÄÇ,"Like this, right?
Should I squash those commits?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1243,2018-06-16T00:53:06Z,2018-06-22T03:41:51Z,2018-06-23T15:12:31Z,MERGED,True,25,20,2,None,"Move Language setting from ""Profile"" to ""User Interface"" tab",2,[],https://github.com/uTox/uTox/pull/1243,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1243#issuecomment-397902119,This change is‚ÄÇ,"And why is CREATE_DROPDOWN the only macro with width and height switched around?

I don't know. Could be a next small fix.

Should I squash those commits?

It's up to you but not necessary.


Reviewed 2 of 2 files at r2.
Review status: 2 files need 1 more reviewer, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1243,2018-06-16T00:53:06Z,2018-06-22T03:41:51Z,2018-06-23T15:12:31Z,MERGED,True,25,20,2,None,"Move Language setting from ""Profile"" to ""User Interface"" tab",2,[],https://github.com/uTox/uTox/pull/1243,None,7,https://github.com/uTox/uTox/pull/1243#issuecomment-397909704,This change is‚ÄÇ,"It's up to you but not necessary.

Actually, I think it's fine like that. So I'm done here.

There is a new way to declare UI elements.

Does that mean that the other elements should be converted to the ""panel-in-declaration"" method, too?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1243,2018-06-16T00:53:06Z,2018-06-22T03:41:51Z,2018-06-23T15:12:31Z,MERGED,True,25,20,2,None,"Move Language setting from ""Profile"" to ""User Interface"" tab",2,[],https://github.com/uTox/uTox/pull/1243,https://github.com/endoffile78,8,https://github.com/uTox/uTox/pull/1243#issuecomment-397937875,This change is‚ÄÇ,"Reviewed 2 of 2 files at r2.
Review status: missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1243,2018-06-16T00:53:06Z,2018-06-22T03:41:51Z,2018-06-23T15:12:31Z,MERGED,True,25,20,2,None,"Move Language setting from ""Profile"" to ""User Interface"" tab",2,[],https://github.com/uTox/uTox/pull/1243,https://github.com/GrayHatter,9,https://github.com/uTox/uTox/pull/1243#issuecomment-399520631,This change is‚ÄÇ,"I don't like that this was merged.
I FULLY agree that it belongs is the UI tab. But if you can't read the language, good luck figuring out where to click.
Instead of reverting this, anyone wanna create a command line flag?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1243,2018-06-16T00:53:06Z,2018-06-22T03:41:51Z,2018-06-23T15:12:31Z,MERGED,True,25,20,2,None,"Move Language setting from ""Profile"" to ""User Interface"" tab",2,[],https://github.com/uTox/uTox/pull/1243,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/1243#issuecomment-399521304,This change is‚ÄÇ,"Or, perhaps a first run welcome page that allows users to select a language when the settings file doesn't exist? Similar to the current change log page?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1243,2018-06-16T00:53:06Z,2018-06-22T03:41:51Z,2018-06-23T15:12:31Z,MERGED,True,25,20,2,None,"Move Language setting from ""Profile"" to ""User Interface"" tab",2,[],https://github.com/uTox/uTox/pull/1243,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/1243#issuecomment-399685500,This change is‚ÄÇ,"I don't mind any of your proposals but I think it might me overkill.
Default language is english and without it user couldn't even download uTox at all.
And if user changes uTox language on purpose than he knows where to find it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1248,2018-06-16T15:19:36Z,2018-07-31T11:24:56Z,2018-07-31T11:28:51Z,MERGED,True,17,17,1,None,Sort languages enum by their native names alphabetically,1,[],https://github.com/uTox/uTox/pull/1248,None,1,https://github.com/uTox/uTox/pull/1248,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1248,2018-06-16T15:19:36Z,2018-07-31T11:24:56Z,2018-07-31T11:28:51Z,MERGED,True,17,17,1,None,Sort languages enum by their native names alphabetically,1,[],https://github.com/uTox/uTox/pull/1248,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1248#issuecomment-397904548,This change is‚ÄÇ,"I'm sorry but this is not an alphabetical order.

Reviewed 1 of 1 files at r1.
Review status: 1 file needs 1 more reviewer, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1248,2018-06-16T15:19:36Z,2018-07-31T11:24:56Z,2018-07-31T11:28:51Z,MERGED,True,17,17,1,None,Sort languages enum by their native names alphabetically,1,[],https://github.com/uTox/uTox/pull/1248,None,3,https://github.com/uTox/uTox/pull/1248#issuecomment-397911145,This change is‚ÄÇ,"It is sorted alphabetically by the native names of the languages. Not by the language codes. So what this achieves is that the languages are sorted in the user interface, not merely the code. For example, if you sort by the language codes, you would get
Portugu√™s brasileiro
ÁÆÄ‰Ωì‰∏≠Êñá
ƒåe≈°tina
‚Ä¶
Êó•Êú¨Ë™û
‚Ä¶
Portugu√™s
‚Ä¶
ÁπÅÈ´î‰∏≠Êñá

which clearly makes no sense.
I used the sort tool to sort the native names. The order is now:
English
ƒåe≈°tina
Dansk
Deutsch
Eesti
Espa√±ol
Esperanto
Fran√ßais
Hindi
hrvatski
Italiano
Latvie≈°u
Magyar
Nederlands
Norsk
Polski
Rom√¢nƒÉ
Svenska
T√ºrk
–ë—ä–ª–≥–∞—Ä—Å–∫–∏
–†—É—Å—Å–∫–∏–π
–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞
Êó•Êú¨Ë™û
ÁÆÄ‰Ωì‰∏≠Êñá
ÁπÅÈ´î‰∏≠Êñá

English on the first position is intentional.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1248,2018-06-16T15:19:36Z,2018-07-31T11:24:56Z,2018-07-31T11:28:51Z,MERGED,True,17,17,1,None,Sort languages enum by their native names alphabetically,1,[],https://github.com/uTox/uTox/pull/1248,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1248#issuecomment-397974447,This change is‚ÄÇ,"I'm sorry once again; just didn't get it at first.


Review status: 1 file needs 1 more reviewer, missing Admin LGTM at current revision. (waiting on @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, @undefined, and @undefined)

Comments from Reviewable",True,{}
uTox/uTox,https://github.com/uTox/uTox,1257,2018-06-27T17:38:18Z,2018-06-28T18:41:55Z,2018-07-13T18:31:53Z,MERGED,True,1,1,1,https://github.com/robinlinden,Fix incorrect maxlength in edit_video_fps,1,[],https://github.com/uTox/uTox/pull/1257,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1257,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1260,2018-07-17T18:30:48Z,2018-07-31T14:39:50Z,2018-07-31T14:41:22Z,MERGED,True,8,17,1,None,Fix END key,3,[],https://github.com/uTox/uTox/pull/1260,None,1,https://github.com/uTox/uTox/pull/1260,"Refactor the KEY_END case a bit and make ctrl+shift+end work.


This change is‚ÄÇ","Refactor the KEY_END case a bit and make ctrl+shift+end work.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1261,2018-07-17T22:03:40Z,2018-07-31T16:29:36Z,2018-07-31T16:35:20Z,MERGED,True,24,5,1,None,Fix HOME key,1,[],https://github.com/uTox/uTox/pull/1261,None,1,https://github.com/uTox/uTox/pull/1261,"Closes #1245


This change is‚ÄÇ","Closes #1245


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1262,2018-07-18T11:36:11Z,2018-07-31T17:06:10Z,2018-07-31T17:07:14Z,MERGED,True,12,8,2,None,Fix selection bug,1,[],https://github.com/uTox/uTox/pull/1262,None,1,https://github.com/uTox/uTox/pull/1262,"Now, when the user doubleclicks the first or last word in a line of a multiline message, the selection doesn't leak into the neighbouring line.


This change is‚ÄÇ","Now, when the user doubleclicks the first or last word in a line of a multiline message, the selection doesn't leak into the neighbouring line.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1264,2018-07-20T23:05:06Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,74,5,11,None,"Implement ""Paste as quote"" feature",1,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/1264,None,1,https://github.com/uTox/uTox/pull/1264,"Added entry to context menu
Bound function to ctrl+shift+v
Added translations for de.h and pl.h

Closes #1218


This change is‚ÄÇ","Added entry to context menu
Bound function to ctrl+shift+v
Added translations for de.h and pl.h

Closes #1218


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1264,2018-07-20T23:05:06Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,74,5,11,None,"Implement ""Paste as quote"" feature",1,"['HELP_NEEDED', '--WIP--']",https://github.com/uTox/uTox/pull/1264,None,2,https://github.com/uTox/uTox/pull/1264#issuecomment-406747929,"Added entry to context menu
Bound function to ctrl+shift+v
Added translations for de.h and pl.h

Closes #1218


This change is‚ÄÇ",I need help with the platform-specific stuff.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1267,2018-07-31T19:05:57Z,2018-08-21T11:17:06Z,2018-08-21T11:19:03Z,MERGED,True,2,8,1,None,Fix minor issue with HOME and END keys,1,[],https://github.com/uTox/uTox/pull/1267,None,1,https://github.com/uTox/uTox/pull/1267,"This fixes a non-standard behaviour of the HOME and END keys.
Now, when HOME/END is pressed while there is also a selection, the cursor goes to the beginning or end of line, instead of only to the beginning or end of the selection. Going to the beginning/end of the selection is correct behaviour for LEFT and RIGHT, but not for HOME/END.
This also fixes a premature break bug.


This change is‚ÄÇ","This fixes a non-standard behaviour of the HOME and END keys.
Now, when HOME/END is pressed while there is also a selection, the cursor goes to the beginning or end of line, instead of only to the beginning or end of the selection. Going to the beginning/end of the selection is correct behaviour for LEFT and RIGHT, but not for HOME/END.
This also fixes a premature break bug.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1269,2018-08-02T00:10:47Z,2018-08-21T10:33:42Z,2018-08-21T11:13:56Z,MERGED,True,10,22,1,None,Simplify cases zZyY in edit_char(),1,[],https://github.com/uTox/uTox/pull/1269,None,1,https://github.com/uTox/uTox/pull/1269,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1271,2018-08-08T22:45:38Z,,2022-03-14T04:09:02Z,OPEN,False,344,136,15,https://github.com/endoffile78,WIP: Implement new groupchats,10,[],https://github.com/uTox/uTox/pull/1271,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1271,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1271,2018-08-08T22:45:38Z,,2022-03-14T04:09:02Z,OPEN,False,344,136,15,https://github.com/endoffile78,WIP: Implement new groupchats,10,[],https://github.com/uTox/uTox/pull/1271,None,2,https://github.com/uTox/uTox/pull/1271#issuecomment-619596022,This change is‚ÄÇ,"Thanks for starting this!
Try to keep your log clean from the start.
And please stay within 80 char line length.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1273,2018-08-23T04:42:25Z,2018-09-02T22:19:30Z,2018-09-22T18:55:07Z,MERGED,True,12,14,2,None,Fix FPS value input field,4,[],https://github.com/uTox/uTox/pull/1273,None,1,https://github.com/uTox/uTox/pull/1273,"snprintf() takes the /size of the buffer/ as argument
snprintf() returns ""the number of bytes that would be written to s had n been sufficiently large""



This change is‚ÄÇ","snprintf() takes the /size of the buffer/ as argument
snprintf() returns ""the number of bytes that would be written to s had n been sufficiently large""



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1273,2018-08-23T04:42:25Z,2018-09-02T22:19:30Z,2018-09-22T18:55:07Z,MERGED,True,12,14,2,None,Fix FPS value input field,4,[],https://github.com/uTox/uTox/pull/1273,None,2,https://github.com/uTox/uTox/pull/1273#issuecomment-415294195,"snprintf() takes the /size of the buffer/ as argument
snprintf() returns ""the number of bytes that would be written to s had n been sufficiently large""



This change is‚ÄÇ",Done.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1273,2018-08-23T04:42:25Z,2018-09-02T22:19:30Z,2018-09-22T18:55:07Z,MERGED,True,12,14,2,None,Fix FPS value input field,4,[],https://github.com/uTox/uTox/pull/1273,None,3,https://github.com/uTox/uTox/pull/1273#issuecomment-417908045,"snprintf() takes the /size of the buffer/ as argument
snprintf() returns ""the number of bytes that would be written to s had n been sufficiently large""



This change is‚ÄÇ","Per our IRC conversation, length is a measure of something human readable maxlength should be renamed to bufsize, but that's WAY out side scope for this patch.
But I'm torn about what to do here, options are nothing, accept the patch as is, with the magic that makes it harder to understand. Or change the +1 from here and the -1 from settings.c:1399... I'm not sure which idea is worse.

Seeing how there is another line (
  
    
      uTox/src/settings.c
    
    
         Line 479
      in
      da56fd6
    
  
  
    

        
          
           snprintf((char *)edit_proxy_port.data, edit_proxy_port.maxlength + 1, ""%u"", save->proxy_port); 
        
    
  

) in that file using maxlength that way, I would say to do nothing about it in this patch, to keep the consistency, and fix every occurence of maxlength in another PR. It's logically another issue, anyway.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1276,2018-09-03T13:29:28Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,50,89,6,None,Unicode documentation and cleanup,8,"['cat:unicode', '--WIP--']",https://github.com/uTox/uTox/pull/1276,None,1,https://github.com/uTox/uTox/pull/1276,"I want to review every Unicode-related function.
I'll leave this much for now, to see if someone disagrees so far.


This change is‚ÄÇ","I want to review every Unicode-related function.
I'll leave this much for now, to see if someone disagrees so far.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1276,2018-09-03T13:29:28Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,50,89,6,None,Unicode documentation and cleanup,8,"['cat:unicode', '--WIP--']",https://github.com/uTox/uTox/pull/1276,None,2,https://github.com/uTox/uTox/pull/1276#issuecomment-427087243,"I want to review every Unicode-related function.
I'll leave this much for now, to see if someone disagrees so far.


This change is‚ÄÇ","5506711 triggers the warning in utf8_len_read() about invalid UTF-8 characters.
Whoever wrote or understands utf8_validate() can please look at that commit (the documentation of the function) and check if I understood it correctly.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1276,2018-09-03T13:29:28Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,50,89,6,None,Unicode documentation and cleanup,8,"['cat:unicode', '--WIP--']",https://github.com/uTox/uTox/pull/1276,None,3,https://github.com/uTox/uTox/pull/1276#issuecomment-427180062,"I want to review every Unicode-related function.
I'll leave this much for now, to see if someone disagrees so far.


This change is‚ÄÇ","The problem seems to be that the warning is simply wrong. That code is not unreachable, and it is not bad, that it is not unreachable. It just means that it's not a valid UTF-8 character, but it also does not have to be.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1276,2018-09-03T13:29:28Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,50,89,6,None,Unicode documentation and cleanup,8,"['cat:unicode', '--WIP--']",https://github.com/uTox/uTox/pull/1276,None,4,https://github.com/uTox/uTox/pull/1276#issuecomment-427305828,"I want to review every Unicode-related function.
I'll leave this much for now, to see if someone disagrees so far.


This change is‚ÄÇ","src/text.c, line 88 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
why did you delete this cases?

Maximum UTF-8 character size is 4 bytes.
Unicode 11.0.0, chapter 2.5 Encoding Forms: ""In UTF-8, a character may be expressed with one, two, three, or four bytes""",True,{}
uTox/uTox,https://github.com/uTox/uTox,1277,2018-09-03T16:44:54Z,2018-09-22T19:32:22Z,2018-09-22T19:33:22Z,MERGED,True,44,38,8,None,Change maxlength to data_size,1,[],https://github.com/uTox/uTox/pull/1277,None,1,https://github.com/uTox/uTox/pull/1277,"The meaning of data_size is obvious, unlike maxlength.
size_t data_size;
Also fixes a segfault related to the password input field.
Closes #1275


This change is‚ÄÇ","The meaning of data_size is obvious, unlike maxlength.
size_t data_size;
Also fixes a segfault related to the password input field.
Closes #1275


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1277,2018-09-03T16:44:54Z,2018-09-22T19:32:22Z,2018-09-22T19:33:22Z,MERGED,True,44,38,8,None,Change maxlength to data_size,1,[],https://github.com/uTox/uTox/pull/1277,None,2,https://github.com/uTox/uTox/pull/1277#issuecomment-418160874,"The meaning of data_size is obvious, unlike maxlength.
size_t data_size;
Also fixes a segfault related to the password input field.
Closes #1275


This change is‚ÄÇ","src/ui/edit.c:745:50: warning: comparison of integer expressions of different signedness: 'int' and 'size_t' {aka 'long unsigned int'} [-Wsign-compare]
         if (edit->length - edit_sel.length + len < edit->data_size) {
                                                  ^

I have no idea why this is. When I looked, all variables seemed to be unsigned.
Also, this actually deletes maxlength from struct edit.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1281,2018-09-10T23:36:46Z,2018-09-13T17:54:34Z,2019-01-21T09:09:06Z,MERGED,True,194,70,13,None,Some fixes for *BSD systems.,1,[],https://github.com/uTox/uTox/pull/1281,None,1,https://github.com/uTox/uTox/pull/1281,"Depend on find_package() function, do not manually pass -I and -L flags to both compiler and linker.
Allow to build with both D-Bus and filteraudio.
Allow to build and run tests.
Polish build documentation, mention NetBSD and DragonFlyBSD.
Do not set CMAKE_OSX_DEPLOYMENT_TARGET on non-OSX systems.
Fix link-time error at FreeBSD.
Ignore *.orig files, they are generated by patch(1) utility as backup files.
Remove unused OPENBSD variable from CMakeLists.txt.
Do not print ""Enable DBus"" and ""Enable Tests"" at Windows and do not print ""WIndows Legacy"" at not Windows systems.
Enable tests by default.
Fix DragonFlyBSD build.
Make uTox more portable!


This change is‚ÄÇ","Depend on find_package() function, do not manually pass -I and -L flags to both compiler and linker.
Allow to build with both D-Bus and filteraudio.
Allow to build and run tests.
Polish build documentation, mention NetBSD and DragonFlyBSD.
Do not set CMAKE_OSX_DEPLOYMENT_TARGET on non-OSX systems.
Fix link-time error at FreeBSD.
Ignore *.orig files, they are generated by patch(1) utility as backup files.
Remove unused OPENBSD variable from CMakeLists.txt.
Do not print ""Enable DBus"" and ""Enable Tests"" at Windows and do not print ""WIndows Legacy"" at not Windows systems.
Enable tests by default.
Fix DragonFlyBSD build.
Make uTox more portable!


This change is‚ÄÇ",True,{'HEART': ['https://github.com/endoffile78']}
uTox/uTox,https://github.com/uTox/uTox,1281,2018-09-10T23:36:46Z,2018-09-13T17:54:34Z,2019-01-21T09:09:06Z,MERGED,True,194,70,13,None,Some fixes for *BSD systems.,1,[],https://github.com/uTox/uTox/pull/1281,None,2,https://github.com/uTox/uTox/pull/1281#issuecomment-420491624,"Depend on find_package() function, do not manually pass -I and -L flags to both compiler and linker.
Allow to build with both D-Bus and filteraudio.
Allow to build and run tests.
Polish build documentation, mention NetBSD and DragonFlyBSD.
Do not set CMAKE_OSX_DEPLOYMENT_TARGET on non-OSX systems.
Fix link-time error at FreeBSD.
Ignore *.orig files, they are generated by patch(1) utility as backup files.
Remove unused OPENBSD variable from CMakeLists.txt.
Do not print ""Enable DBus"" and ""Enable Tests"" at Windows and do not print ""WIndows Legacy"" at not Windows systems.
Enable tests by default.
Fix DragonFlyBSD build.
Make uTox more portable!


This change is‚ÄÇ",I am super porter!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1284,2018-09-21T21:39:16Z,2018-09-25T19:33:28Z,2018-09-25T19:33:28Z,MERGED,True,4,1,1,https://github.com/cyisfor,Fixing a nasty reallocation bug,1,[],https://github.com/uTox/uTox/pull/1284,https://github.com/cyisfor,1,https://github.com/uTox/uTox/pull/1284,"uTox was crashing my client randomly, growing increasingly unstable when deleting text. Problem seems to be a memory access issue in edit_do, where something like this occurs:
history = realloc(edit->history, ...);
dolotsofstuffwith(edit->history, *edit->history, edit->history[++i]);
edit->history = history;
No more crashes while typing/deleting so far, for me at least.


This change is‚ÄÇ","uTox was crashing my client randomly, growing increasingly unstable when deleting text. Problem seems to be a memory access issue in edit_do, where something like this occurs:
history = realloc(edit->history, ...);
dolotsofstuffwith(edit->history, *edit->history, edit->history[++i]);
edit->history = history;
No more crashes while typing/deleting so far, for me at least.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1284,2018-09-21T21:39:16Z,2018-09-25T19:33:28Z,2018-09-25T19:33:28Z,MERGED,True,4,1,1,https://github.com/cyisfor,Fixing a nasty reallocation bug,1,[],https://github.com/uTox/uTox/pull/1284,None,2,https://github.com/uTox/uTox/pull/1284#issuecomment-423696418,"uTox was crashing my client randomly, growing increasingly unstable when deleting text. Problem seems to be a memory access issue in edit_do, where something like this occurs:
history = realloc(edit->history, ...);
dolotsofstuffwith(edit->history, *edit->history, edit->history[++i]);
edit->history = history;
No more crashes while typing/deleting so far, for me at least.


This change is‚ÄÇ","Thank you for your contribution! It looks good to me, but will review more in-depth and test later.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1284,2018-09-21T21:39:16Z,2018-09-25T19:33:28Z,2018-09-25T19:33:28Z,MERGED,True,4,1,1,https://github.com/cyisfor,Fixing a nasty reallocation bug,1,[],https://github.com/uTox/uTox/pull/1284,https://github.com/cyisfor,3,https://github.com/uTox/uTox/pull/1284#issuecomment-423705976,"uTox was crashing my client randomly, growing increasingly unstable when deleting text. Problem seems to be a memory access issue in edit_do, where something like this occurs:
history = realloc(edit->history, ...);
dolotsofstuffwith(edit->history, *edit->history, edit->history[++i]);
edit->history = history;
No more crashes while typing/deleting so far, for me at least.


This change is‚ÄÇ","Sure, no problem. But it is seriously bad to access memory that has been passed to realloc, so don't take too long.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1284,2018-09-21T21:39:16Z,2018-09-25T19:33:28Z,2018-09-25T19:33:28Z,MERGED,True,4,1,1,https://github.com/cyisfor,Fixing a nasty reallocation bug,1,[],https://github.com/uTox/uTox/pull/1284,None,4,https://github.com/uTox/uTox/pull/1284#issuecomment-423710061,"uTox was crashing my client randomly, growing increasingly unstable when deleting text. Problem seems to be a memory access issue in edit_do, where something like this occurs:
history = realloc(edit->history, ...);
dolotsofstuffwith(edit->history, *edit->history, edit->history[++i]);
edit->history = history;
No more crashes while typing/deleting so far, for me at least.


This change is‚ÄÇ","Can you please test and verify that this fixes the crashes for you? Because it does not for me.
Regardless whether it fixes it for you or not, our use of realloc was buggy, thank you for pointing it out.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1284,2018-09-21T21:39:16Z,2018-09-25T19:33:28Z,2018-09-25T19:33:28Z,MERGED,True,4,1,1,https://github.com/cyisfor,Fixing a nasty reallocation bug,1,[],https://github.com/uTox/uTox/pull/1284,None,5,https://github.com/uTox/uTox/pull/1284#issuecomment-423715755,"uTox was crashing my client randomly, growing increasingly unstable when deleting text. Problem seems to be a memory access issue in edit_do, where something like this occurs:
history = realloc(edit->history, ...);
dolotsofstuffwith(edit->history, *edit->history, edit->history[++i]);
edit->history = history;
No more crashes while typing/deleting so far, for me at least.


This change is‚ÄÇ","Here is how to reproduce:

A
AA
AAA
AAAA
AAAAA
AAAAAA
AAAAAAA
AAAAAAAA
AAAAAAA
AAAAAA
AAAAA
AAAA
AAA
AA
A

Z

i seems to always be 4, so edit->history[3] was an invalid pointer.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1284,2018-09-21T21:39:16Z,2018-09-25T19:33:28Z,2018-09-25T19:33:28Z,MERGED,True,4,1,1,https://github.com/cyisfor,Fixing a nasty reallocation bug,1,[],https://github.com/uTox/uTox/pull/1284,None,6,https://github.com/uTox/uTox/pull/1284#issuecomment-423716784,"uTox was crashing my client randomly, growing increasingly unstable when deleting text. Problem seems to be a memory access issue in edit_do, where something like this occurs:
history = realloc(edit->history, ...);
dolotsofstuffwith(edit->history, *edit->history, edit->history[++i]);
edit->history = history;
No more crashes while typing/deleting so far, for me at least.


This change is‚ÄÇ","Maybe related:
(gdb) bt
#0  0x00007ffff496b1e2 in tcache_get (tc_idx=0) at malloc.c:2978
#1  0x00007ffff3e117fe in  () at /usr/lib/libxcb.so.1
#2  0x00007ffff3e0f3b8 in  () at /usr/lib/libxcb.so.1
#3  0x00007ffff3e0f7e5 in  () at /usr/lib/libxcb.so.1
#4  0x00007ffff3e0f86d in xcb_writev () at /usr/lib/libxcb.so.1
#5  0x00007ffff5a33d5e in _XSend () at /usr/lib/libX11.so.6
#6  0x00007ffff5a340d0 in _XFlush () at /usr/lib/libX11.so.6
#7  0x00007ffff5a159ea in XFlush () at /usr/lib/libX11.so.6
#8  0x00007ffff5a56f58 in  () at /usr/lib/libX11.so.6
#9  0x00007ffff5a524c0 in  () at /usr/lib/libX11.so.6
#10 0x0000555555656c5c in doevent (event=...) at [‚Ä¶]/uTox/src/xlib/event.c:264
#11 0x000055555565f607 in main (argc=2, argv=0x7fffffffe3e8) at [‚Ä¶]/uTox/src/xlib/main.c:837",True,{}
uTox/uTox,https://github.com/uTox/uTox,1284,2018-09-21T21:39:16Z,2018-09-25T19:33:28Z,2018-09-25T19:33:28Z,MERGED,True,4,1,1,https://github.com/cyisfor,Fixing a nasty reallocation bug,1,[],https://github.com/uTox/uTox/pull/1284,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/1284#issuecomment-423718159,"uTox was crashing my client randomly, growing increasingly unstable when deleting text. Problem seems to be a memory access issue in edit_do, where something like this occurs:
history = realloc(edit->history, ...);
dolotsofstuffwith(edit->history, *edit->history, edit->history[++i]);
edit->history = history;
No more crashes while typing/deleting so far, for me at least.


This change is‚ÄÇ",can we lock before we call edit_do(...)?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1284,2018-09-21T21:39:16Z,2018-09-25T19:33:28Z,2018-09-25T19:33:28Z,MERGED,True,4,1,1,https://github.com/cyisfor,Fixing a nasty reallocation bug,1,[],https://github.com/uTox/uTox/pull/1284,None,8,https://github.com/uTox/uTox/pull/1284#issuecomment-423737226,"uTox was crashing my client randomly, growing increasingly unstable when deleting text. Problem seems to be a memory access issue in edit_do, where something like this occurs:
history = realloc(edit->history, ...);
dolotsofstuffwith(edit->history, *edit->history, edit->history[++i]);
edit->history = history;
No more crashes while typing/deleting so far, for me at least.


This change is‚ÄÇ","Perhaps the bug is in edit_change_do. The only controversial line I found in edit_do is the calloc; sizeof(EDIT_CHANGE) + 1 == 7, but sizeof(*new) == 6. I don't know if that's a limitation of sizeof, or what.
Either way, the invalid pointer that is tried to be freed is often 0x31 or 0x21, I haven't seen a value wider than 1 byte, yet. If that is any clue.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1284,2018-09-21T21:39:16Z,2018-09-25T19:33:28Z,2018-09-25T19:33:28Z,MERGED,True,4,1,1,https://github.com/cyisfor,Fixing a nasty reallocation bug,1,[],https://github.com/uTox/uTox/pull/1284,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/1284#issuecomment-423845160,"uTox was crashing my client randomly, growing increasingly unstable when deleting text. Problem seems to be a memory access issue in edit_do, where something like this occurs:
history = realloc(edit->history, ...);
dolotsofstuffwith(edit->history, *edit->history, edit->history[++i]);
edit->history = history;
No more crashes while typing/deleting so far, for me at least.


This change is‚ÄÇ",Same #1072.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1284,2018-09-21T21:39:16Z,2018-09-25T19:33:28Z,2018-09-25T19:33:28Z,MERGED,True,4,1,1,https://github.com/cyisfor,Fixing a nasty reallocation bug,1,[],https://github.com/uTox/uTox/pull/1284,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/1284#issuecomment-424460981,"uTox was crashing my client randomly, growing increasingly unstable when deleting text. Problem seems to be a memory access issue in edit_do, where something like this occurs:
history = realloc(edit->history, ...);
dolotsofstuffwith(edit->history, *edit->history, edit->history[++i]);
edit->history = history;
No more crashes while typing/deleting so far, for me at least.


This change is‚ÄÇ","There's obviously somethings we can do to fix up edit_do() but this is a good change, and there's no reason to block here.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1288,2018-09-29T00:30:07Z,2018-10-04T11:57:22Z,2019-01-21T09:09:07Z,MERGED,True,212,181,3,None,Styles and fixes,11,[],https://github.com/uTox/uTox/pull/1288,None,1,https://github.com/uTox/uTox/pull/1288,"Fixed two memory leaks
Checked return values of all callocs in messages.c
Reduced nesting



This change is‚ÄÇ","Fixed two memory leaks
Checked return values of all callocs in messages.c
Reduced nesting



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1291,2018-10-01T21:57:22Z,2018-10-02T20:10:05Z,2018-10-02T20:10:05Z,MERGED,True,1,1,1,None,Fix readme :),1,[],https://github.com/uTox/uTox/pull/1291,None,1,https://github.com/uTox/uTox/pull/1291,"8 systems! Woohoo!


This change is‚ÄÇ","8 systems! Woohoo!


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1292,2018-10-03T01:16:27Z,2018-10-03T21:38:51Z,2019-01-21T09:08:57Z,MERGED,True,6,1,1,None,Push to talk works at DragonFlyBSD and FreeBSD,1,[],https://github.com/uTox/uTox/pull/1292,None,1,https://github.com/uTox/uTox/pull/1292,"OpenBSD and NetBSD suck :)


This change is‚ÄÇ","OpenBSD and NetBSD suck :)


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1292,2018-10-03T01:16:27Z,2018-10-03T21:38:51Z,2019-01-21T09:08:57Z,MERGED,True,6,1,1,None,Push to talk works at DragonFlyBSD and FreeBSD,1,[],https://github.com/uTox/uTox/pull/1292,None,2,https://github.com/uTox/uTox/pull/1292#issuecomment-426481964,"OpenBSD and NetBSD suck :)


This change is‚ÄÇ",If Linux has <dev/misc/evdev/input.h> we can have less tests.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1292,2018-10-03T01:16:27Z,2018-10-03T21:38:51Z,2019-01-21T09:08:57Z,MERGED,True,6,1,1,None,Push to talk works at DragonFlyBSD and FreeBSD,1,[],https://github.com/uTox/uTox/pull/1292,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1292#issuecomment-426811898,"OpenBSD and NetBSD suck :)


This change is‚ÄÇ",Linux doesn't have that header.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1292,2018-10-03T01:16:27Z,2018-10-03T21:38:51Z,2019-01-21T09:08:57Z,MERGED,True,6,1,1,None,Push to talk works at DragonFlyBSD and FreeBSD,1,[],https://github.com/uTox/uTox/pull/1292,None,4,https://github.com/uTox/uTox/pull/1292#issuecomment-426814729,"OpenBSD and NetBSD suck :)


This change is‚ÄÇ","@endoffile78 huh, *BSD systems have a stupid habit to rename headers taken from Linux. OpenBSD and NetBSD don't have evdev, but somehow Mumble supports push-to-talk there.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1293,2018-10-03T21:04:19Z,2018-10-03T21:37:28Z,2018-10-03T21:50:13Z,MERGED,True,34,31,1,https://github.com/robinlinden,Simplify save loading code,1,[],https://github.com/uTox/uTox/pull/1293,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1293,"This makes the saving code obviously never return -2 if we see a tox.save or any variant of it. Before this PR, it (at least) looks like you can reach the end of this block 
  
    
      uTox/src/tox.c
    
    
         Line 294
      in
      6a995f2
    
  
  
    

        
          
           } 
        
    
  

 and return -2 even if we saw a tox.save on disk. It looks like it's impossible, but probably better to make it obviously impossible.

This change is‚ÄÇ","This makes the saving code obviously never return -2 if we see a tox.save or any variant of it. Before this PR, it (at least) looks like you can reach the end of this block 
  
    
      uTox/src/tox.c
    
    
         Line 294
      in
      6a995f2
    
  
  
    

        
          
           } 
        
    
  

 and return -2 even if we saw a tox.save on disk. It looks like it's impossible, but probably better to make it obviously impossible.

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1293,2018-10-03T21:04:19Z,2018-10-03T21:37:28Z,2018-10-03T21:50:13Z,MERGED,True,34,31,1,https://github.com/robinlinden,Simplify save loading code,1,[],https://github.com/uTox/uTox/pull/1293,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1293#issuecomment-426807064,"This makes the saving code obviously never return -2 if we see a tox.save or any variant of it. Before this PR, it (at least) looks like you can reach the end of this block 
  
    
      uTox/src/tox.c
    
    
         Line 294
      in
      6a995f2
    
  
  
    

        
          
           } 
        
    
  

 and return -2 even if we saw a tox.save on disk. It looks like it's impossible, but probably better to make it obviously impossible.

This change is‚ÄÇ",,True,{}
uTox/uTox,https://github.com/uTox/uTox,1296,2018-10-09T06:31:46Z,2019-04-16T20:18:30Z,2020-04-18T12:33:31Z,MERGED,True,38,10,5,https://github.com/redmanmale,Close dropdowns on changing tabs,1,[],https://github.com/uTox/uTox/pull/1296,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1296,"Fixes #1244.


This change is‚ÄÇ","Fixes #1244.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1296,2018-10-09T06:31:46Z,2019-04-16T20:18:30Z,2020-04-18T12:33:31Z,MERGED,True,38,10,5,https://github.com/redmanmale,Close dropdowns on changing tabs,1,[],https://github.com/uTox/uTox/pull/1296,None,2,https://github.com/uTox/uTox/pull/1296#issuecomment-428139195,"Fixes #1244.


This change is‚ÄÇ","Yes, it closes dropdowns when changing setting tabs. But it doesn't close dropdowns when clicking on a friend on the friend list.
Also the password and nospam buttons that I mentioned in the issue; they bug when you switch to a friend, too. I wasn't clear enough, sorry.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1296,2018-10-09T06:31:46Z,2019-04-16T20:18:30Z,2020-04-18T12:33:31Z,MERGED,True,38,10,5,https://github.com/redmanmale,Close dropdowns on changing tabs,1,[],https://github.com/uTox/uTox/pull/1296,None,3,https://github.com/uTox/uTox/pull/1296#issuecomment-428953516,"Fixes #1244.


This change is‚ÄÇ","Tested, works.
Here are two more dropdown-related bugs, if you want to continue: #1299",True,{}
uTox/uTox,https://github.com/uTox/uTox,1296,2018-10-09T06:31:46Z,2019-04-16T20:18:30Z,2020-04-18T12:33:31Z,MERGED,True,38,10,5,https://github.com/redmanmale,Close dropdowns on changing tabs,1,[],https://github.com/uTox/uTox/pull/1296,None,4,https://github.com/uTox/uTox/pull/1296#issuecomment-428959553,"Fixes #1244.


This change is‚ÄÇ","close_dropdowns_recursively: I would s/_recursively//; I would write it as a comment, rather than encode it in the name.
Perhaps the while could be a for and be a little more idiomatic?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1296,2018-10-09T06:31:46Z,2019-04-16T20:18:30Z,2020-04-18T12:33:31Z,MERGED,True,38,10,5,https://github.com/redmanmale,Close dropdowns on changing tabs,1,[],https://github.com/uTox/uTox/pull/1296,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1296#issuecomment-455852593,"Fixes #1244.


This change is‚ÄÇ","@robinlinden
Could you take a look?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1296,2018-10-09T06:31:46Z,2019-04-16T20:18:30Z,2020-04-18T12:33:31Z,MERGED,True,38,10,5,https://github.com/redmanmale,Close dropdowns on changing tabs,1,[],https://github.com/uTox/uTox/pull/1296,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1296#issuecomment-478365835,"Fixes #1244.


This change is‚ÄÇ",Bump.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1300,2018-10-11T16:44:50Z,2020-04-15T22:54:27Z,2020-04-15T22:54:28Z,CLOSED,False,10,8,5,https://github.com/robinlinden,Work around mingw missing symbols,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1300,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1300,"Fixes #1297


This change is‚ÄÇ","Fixes #1297


This change is‚ÄÇ",True,{'HOORAY': ['https://github.com/redmanmale']}
uTox/uTox,https://github.com/uTox/uTox,1300,2018-10-11T16:44:50Z,2020-04-15T22:54:27Z,2020-04-15T22:54:28Z,CLOSED,False,10,8,5,https://github.com/robinlinden,Work around mingw missing symbols,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1300,https://github.com/codedokode,2,https://github.com/uTox/uTox/pull/1300#issuecomment-431633058,"Fixes #1297


This change is‚ÄÇ","I think this patch could be edited.
Regarding this change, I think it is unnecessary:
#if defined(__MINGW32__) && __MINGW32_MAJOR_VERSION == 3 && __MINGW32_MINOR_VERSION == 11
    // mingw forgot to include SHGetKnownFolderPath in this version.
My version of MinGW (GCC version 5.4.0) includes SHGetKnownFolderPath (it is defined in \usr\i686-w64-mingw32\sys-root\mingw\include\shlobj.h and available if _WIN32_WINNT is set properly). Can you please check your MinGW version? Maybe it is too outdated?
The successful build on Travis includes call to this function: 
  
    
      uTox/src/windows/main.7.c
    
    
         Line 105
      in
      951234f
    
  
  
    

        
          
           } else if (SHGetKnownFolderPath((REFKNOWNFOLDERID)&FOLDERID_Downloads, 
        
    
  



This should probably go to another issue, but I just wanted to share. Instead of renaming library files would not it be better to fix corresponding CMake files? I also had problems with finding libraries when compiling uTox for WinXP (under Cygwin if that is important) and here is the change that I had to do:
--- a/src/av/CMakeLists.txt
+++ b/src/av/CMakeLists.txt
@@ -8,7 +8,13 @@ add_library(utoxAV STATIC
     )

 if(WIN32)
-    target_link_libraries(utoxAV OpenAL32) # Windows needs to be linked against OpenAL32
+    find_package(OpenAL REQUIRED)
+    include_directories(${OPENAL_INCLUDE_DIR})
+    target_link_libraries(utoxAV ${OPENAL_LIBRARY})
+    # target_link_libraries(utoxAV OpenAL32) # Windows needs to be linked against OpenAL32
 elseif(APPLE)
I have changed OpenAL32 to ${OPENAL_LIBRARY}, this variable is set by find_package() (I just copied the code from Linux branch). Maybe we could try it instead of renaming library files and remove cp command alltogether?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1300,2018-10-11T16:44:50Z,2020-04-15T22:54:27Z,2020-04-15T22:54:28Z,CLOSED,False,10,8,5,https://github.com/robinlinden,Work around mingw missing symbols,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1300,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1300#issuecomment-614319672,"Fixes #1297


This change is‚ÄÇ",This is probably stale. Will fix again if needed.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1301,2018-10-11T20:24:45Z,2018-11-07T23:11:12Z,2018-11-08T06:41:19Z,MERGED,True,2,1,1,https://github.com/redmanmale,Update build docs,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1301,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1301,"As @ArkYk pointed out there was a mistake in build guide for Windows;
I've checked build guide on Ubuntu 18.04 and updated version in docs.



This change is‚ÄÇ","As @ArkYk pointed out there was a mistake in build guide for Windows;
I've checked build guide on Ubuntu 18.04 and updated version in docs.



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1301,2018-10-11T20:24:45Z,2018-11-07T23:11:12Z,2018-11-08T06:41:19Z,MERGED,True,2,1,1,https://github.com/redmanmale,Update build docs,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1301,https://github.com/ArkYk,2,https://github.com/uTox/uTox/pull/1301#issuecomment-429173211,"As @ArkYk pointed out there was a mistake in build guide for Windows;
I've checked build guide on Ubuntu 18.04 and updated version in docs.



This change is‚ÄÇ","Ê≠£Â¶Ç@ArkYkÊâÄÊåáÂá∫ÁöÑÔºåWindowsÁöÑÊûÑÂª∫ÊåáÂçó‰∏≠Â≠òÂú®ÈîôËØØ;
ÊàëÂ∑≤ÁªèÊ£ÄÊü•‰∫ÜUbuntu 18.04‰∏äÁöÑÊûÑÂª∫ÊåáÂçóÂíåÊñáÊ°£‰∏≠ÁöÑÊõ¥Êñ∞ÁâàÊú¨„ÄÇ

ËøôÁßçÂèòÂåñÊòØ‚ÄÇ

Thank you for your help! :)",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1302,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,None,2,https://github.com/uTox/uTox/pull/1302#issuecomment-429568086,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","`file_pos()` should return `off_t`, not `size_t`.

Otherwise, looks good.
Also good idea with the brackets.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1302#issuecomment-429574231,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ",It doesn't work if I change it to off_t.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,None,4,https://github.com/uTox/uTox/pull/1302#issuecomment-429575692,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ",Works for me on musl. What's the issue?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1302#issuecomment-429576719,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","https://github.com/redmanmale/uTox/blob/fix-get-file-size/src/file_transfers.c#L1119
If this size is off_s everything stops working. Wrong value after cast somehow.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,None,6,https://github.com/uTox/uTox/pull/1302#issuecomment-429578466,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","I don't see why that would happen. What's the size of the file? Have you tested on POSIX, too?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1302#issuecomment-429578925,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","Commited code works both on Windows and Ubuntu.
After that I'm testing only on Windows without success.
Maybe I'm doing something wrong? Could you publish your changes to some branch and I'll test it on Windows myself?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,None,8,https://github.com/uTox/uTox/pull/1302#issuecomment-429582086,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","This is all I meant to do: avoidr/uTox@5d8fe5f

Note that I did not test myself, but I do not see how that would break anything.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,https://github.com/redmanmale,9,https://github.com/uTox/uTox/pull/1302#issuecomment-429607970,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","Just checked, your version does not work.
I suspect it was caused by this cast https://github.com/avoidr/uTox/blob/5d8fe5f7cf181101b12e773ba3edca65363a2181/src/windows/filesys.c#L95",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,None,10,https://github.com/uTox/uTox/pull/1302#issuecomment-429611266,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","I really have no explanation for that. I see nothing. How do you test? Is the failure that it behaves just like without any patches?

It seems to me that off_t is something too small, even though it says ""Represents file-offset value"". _ftelli64() returns __int64, which coincides with what ftello() returns (currently).
Seeing how tox_file_send() takes a uint64_t for the file size, I think returning a uint64_t would be the next correct thing. I don't think size_t is really correct semantically.
Or, how about an #ifdef for the Windows-specific file_pos() signature?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/1302#issuecomment-429611587,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","I just run uTox with and without this change.
And there's a correct file size in UI without it and the wrong one with it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,https://github.com/redmanmale,12,https://github.com/uTox/uTox/pull/1302#issuecomment-429955196,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ",Works fine with uint64_t,True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,https://github.com/redmanmale,13,https://github.com/uTox/uTox/pull/1302#issuecomment-455852385,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ",It's different approach now.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,https://github.com/redmanmale,14,https://github.com/uTox/uTox/pull/1302#issuecomment-478365820,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ",Bump.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,https://github.com/redmanmale,15,https://github.com/uTox/uTox/pull/1302#issuecomment-614150267,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ",Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,https://github.com/redmanmale,16,https://github.com/uTox/uTox/pull/1302#issuecomment-614829900,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ",Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,None,17,https://github.com/uTox/uTox/pull/1302#issuecomment-614959246,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","Please rebase when you're done. That's because I don't want the forest that we once had. We have a linear git log now, except when a branch consists of multiple commits, then we merge --no-ff to ""group"" those changes. Easier to skip them when skimming the log.
I'd rebase that stuff myself, but then signatures get lost.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,None,18,https://github.com/uTox/uTox/pull/1302#issuecomment-615852123,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","Exactly like that, thanks.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,None,19,https://github.com/uTox/uTox/pull/1302#issuecomment-615863358,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","Rebase again, then I can finally merge.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1302,2018-10-13T18:09:48Z,2020-04-18T13:22:28Z,2020-04-18T14:43:06Z,MERGED,True,6,2,2,https://github.com/redmanmale,Fix large file transfers on Windows,2,[],https://github.com/uTox/uTox/pull/1302,None,20,https://github.com/uTox/uTox/pull/1302#issuecomment-615870613,"as @Vityacv proposed. Fixes #1298.
Also add parentheses to file size format: filename [1 GiB]


This change is‚ÄÇ","Merged, thanks!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1306,2018-10-25T21:56:52Z,2018-11-07T23:05:47Z,2018-11-08T06:41:39Z,MERGED,True,16,5,3,https://github.com/redmanmale,Fix group settings layout,1,[],https://github.com/uTox/uTox/pull/1306,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1306,"Fixes #1077.


This change is‚ÄÇ","Fixes #1077.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1307,2018-10-27T13:19:38Z,,2019-04-17T15:32:12Z,OPEN,False,12,2,2,https://github.com/redmanmale,[Windows] Wait until window is inited before coping ToxID from Toxcore,1,[],https://github.com/uTox/uTox/pull/1307,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1307,"Fixes #592.


This change is‚ÄÇ","Fixes #592.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1307,2018-10-27T13:19:38Z,,2019-04-17T15:32:12Z,OPEN,False,12,2,2,https://github.com/redmanmale,[Windows] Wait until window is inited before coping ToxID from Toxcore,1,[],https://github.com/uTox/uTox/pull/1307,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1307#issuecomment-433648763,"Fixes #592.


This change is‚ÄÇ","What's the goal of this?
I hate the idea of blocking on toxcore thread waiting for the main thread...",True,{}
uTox/uTox,https://github.com/uTox/uTox,1307,2018-10-27T13:19:38Z,,2019-04-17T15:32:12Z,OPEN,False,12,2,2,https://github.com/redmanmale,[Windows] Wait until window is inited before coping ToxID from Toxcore,1,[],https://github.com/uTox/uTox/pull/1307,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1307#issuecomment-433649762,"Fixes #592.


This change is‚ÄÇ","The goal is to avoid this thing from happening.
In that case user is unable to see or copy his ToxID.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1307,2018-10-27T13:19:38Z,,2019-04-17T15:32:12Z,OPEN,False,12,2,2,https://github.com/redmanmale,[Windows] Wait until window is inited before coping ToxID from Toxcore,1,[],https://github.com/uTox/uTox/pull/1307,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1307#issuecomment-433650808,"Fixes #592.


This change is‚ÄÇ","how about preloading that text entry field with ""Loading ToxID..."" instead?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1307,2018-10-27T13:19:38Z,,2019-04-17T15:32:12Z,OPEN,False,12,2,2,https://github.com/redmanmale,[Windows] Wait until window is inited before coping ToxID from Toxcore,1,[],https://github.com/uTox/uTox/pull/1307,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1307#issuecomment-433652121,"Fixes #592.


This change is‚ÄÇ",I'll try. Just didn't think about it.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1307,2018-10-27T13:19:38Z,,2019-04-17T15:32:12Z,OPEN,False,12,2,2,https://github.com/redmanmale,[Windows] Wait until window is inited before coping ToxID from Toxcore,1,[],https://github.com/uTox/uTox/pull/1307,https://github.com/GrayHatter,6,https://github.com/uTox/uTox/pull/1307#issuecomment-483828684,"Fixes #592.


This change is‚ÄÇ",@redmanmale bump,True,{}
uTox/uTox,https://github.com/uTox/uTox,1307,2018-10-27T13:19:38Z,,2019-04-17T15:32:12Z,OPEN,False,12,2,2,https://github.com/redmanmale,[Windows] Wait until window is inited before coping ToxID from Toxcore,1,[],https://github.com/uTox/uTox/pull/1307,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1307#issuecomment-484141188,"Fixes #592.


This change is‚ÄÇ","Got it, I'm planning to finish this.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1310,2018-11-01T19:35:47Z,2018-11-07T23:03:27Z,2018-11-08T11:34:48Z,MERGED,True,8,2,1,None,Fix a crash when Tox savedata is too large for the stack,1,['PR: Needs +1'],https://github.com/uTox/uTox/pull/1310,None,1,https://github.com/uTox/uTox/pull/1310,"Fixes #1309


This change is‚ÄÇ","Fixes #1309


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1312,2018-11-09T16:15:13Z,2020-08-11T19:02:32Z,2020-08-11T19:02:32Z,CLOSED,False,52,19,4,https://github.com/FragmentedCurve,This fixes uTox crashing from switching the proxy on or off,6,[],https://github.com/uTox/uTox/pull/1312,https://github.com/FragmentedCurve,1,https://github.com/uTox/uTox/pull/1312,"I'm still becoming familiar with the uTox codebase. Let me know if something breaks conventions or isn't in line with the project's style.
Switching the proxy button on or off would crash uTox. This pull request fixes that issue.


This change is‚ÄÇ","I'm still becoming familiar with the uTox codebase. Let me know if something breaks conventions or isn't in line with the project's style.
Switching the proxy button on or off would crash uTox. This pull request fixes that issue.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1312,2018-11-09T16:15:13Z,2020-08-11T19:02:32Z,2020-08-11T19:02:32Z,CLOSED,False,52,19,4,https://github.com/FragmentedCurve,This fixes uTox crashing from switching the proxy on or off,6,[],https://github.com/uTox/uTox/pull/1312,None,2,https://github.com/uTox/uTox/pull/1312#issuecomment-437583845,"I'm still becoming familiar with the uTox codebase. Let me know if something breaks conventions or isn't in line with the project's style.
Switching the proxy button on or off would crash uTox. This pull request fixes that issue.


This change is‚ÄÇ","Hello, thank you a lot for this PR! It indeed fixes #1252.

Few minor points from me:
- case UTOXAV_INCOMING_CALL_PENDING has two tabs at the beginning of the
line
- the settings variable assignments are grouped oddly?
- I wish you had been more specific in your commit message as to what
issue #1252 is. That info is lost once you change your bug tracker.
   * GUI fix for the force proxy switch
What exactly does that fix?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1316,2018-11-19T19:27:24Z,2018-11-23T09:52:30Z,2018-11-23T09:52:30Z,MERGED,True,24,2,1,https://github.com/endoffile78,Improve the safety of the newitem  function,2,[],https://github.com/uTox/uTox/pull/1316,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1316,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1317,2018-11-19T20:05:01Z,2019-03-30T20:06:06Z,2019-03-30T20:06:06Z,MERGED,True,50,10,6,https://github.com/endoffile78,Add support for loading groupchats,5,[],https://github.com/uTox/uTox/pull/1317,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1317,"Currently it loads the groups but when you try to send a message it fails.
Toxcore doesn't allow messages to be sent to a groupchat with only one person in it, this just needs to be tested with a groupchat with more than one person in it.

This change is‚ÄÇ","Currently it loads the groups but when you try to send a message it fails.
Toxcore doesn't allow messages to be sent to a groupchat with only one person in it, this just needs to be tested with a groupchat with more than one person in it.

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1317,2018-11-19T20:05:01Z,2019-03-30T20:06:06Z,2019-03-30T20:06:06Z,MERGED,True,50,10,6,https://github.com/endoffile78,Add support for loading groupchats,5,[],https://github.com/uTox/uTox/pull/1317,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1317#issuecomment-454174452,"Currently it loads the groups but when you try to send a message it fails.
Toxcore doesn't allow messages to be sent to a groupchat with only one person in it, this just needs to be tested with a groupchat with more than one person in it.

This change is‚ÄÇ",I've tested the PR a bit with a few different groups and it seems to work well.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1318,2018-11-20T18:59:59Z,2018-11-22T08:04:02Z,2018-11-22T08:04:02Z,MERGED,True,1,1,1,https://github.com/endoffile78,Update irc nickname,1,[],https://github.com/uTox/uTox/pull/1318,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1318,"I used both nicknames. endoffile is my desktop, e0f is my laptop. I mainly use my desktop so if you guys want I can just change it to endoffile.


This change is‚ÄÇ","I used both nicknames. endoffile is my desktop, e0f is my laptop. I mainly use my desktop so if you guys want I can just change it to endoffile.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1319,2019-01-13T05:27:57Z,2019-01-14T21:20:25Z,2019-01-14T21:20:25Z,MERGED,True,43,43,1,None,Update sv.po,1,[],https://github.com/uTox/uTox/pull/1319,None,1,https://github.com/uTox/uTox/pull/1319,"Fixed some Swedish misspellings.


This change is‚ÄÇ","Fixed some Swedish misspellings.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1320,2019-01-21T02:55:13Z,2019-01-21T05:04:21Z,2019-01-24T18:06:28Z,CLOSED,False,3,11,1,None,Use evdev only if it's present.,1,[],https://github.com/uTox/uTox/pull/1320,None,1,https://github.com/uTox/uTox/pull/1320,"Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ","Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1320,2019-01-21T02:55:13Z,2019-01-21T05:04:21Z,2019-01-24T18:06:28Z,CLOSED,False,3,11,1,None,Use evdev only if it's present.,1,[],https://github.com/uTox/uTox/pull/1320,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1320#issuecomment-455936240,"Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ",why?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1320,2019-01-21T02:55:13Z,2019-01-21T05:04:21Z,2019-01-24T18:06:28Z,CLOSED,False,3,11,1,None,Use evdev only if it's present.,1,[],https://github.com/uTox/uTox/pull/1320,None,3,https://github.com/uTox/uTox/pull/1320#issuecomment-455936503,"Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ",@GrayHatter why was evdev even used if existing Xlib code just works?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1320,2019-01-21T02:55:13Z,2019-01-21T05:04:21Z,2019-01-24T18:06:28Z,CLOSED,False,3,11,1,None,Use evdev only if it's present.,1,[],https://github.com/uTox/uTox/pull/1320,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1320#issuecomment-455938119,"Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ","because evdev works on both wayland and x11, and that code was written before I knew/was willing to use libinput.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1320,2019-01-21T02:55:13Z,2019-01-21T05:04:21Z,2019-01-24T18:06:28Z,CLOSED,False,3,11,1,None,Use evdev only if it's present.,1,[],https://github.com/uTox/uTox/pull/1320,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1320#issuecomment-455938283,"Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ",And evdev is is A LOT faster than xlib.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1320,2019-01-21T02:55:13Z,2019-01-21T05:04:21Z,2019-01-24T18:06:28Z,CLOSED,False,3,11,1,None,Use evdev only if it's present.,1,[],https://github.com/uTox/uTox/pull/1320,None,6,https://github.com/uTox/uTox/pull/1320#issuecomment-455939003,"Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ","@GrayHatter damn you, if you want to support Wayland, why do you support it in Xlib module? Also evdev is Linux-specific thing which both FreeBSD and DragonFlyBSD borrow.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1320,2019-01-21T02:55:13Z,2019-01-21T05:04:21Z,2019-01-24T18:06:28Z,CLOSED,False,3,11,1,None,Use evdev only if it's present.,1,[],https://github.com/uTox/uTox/pull/1320,https://github.com/GrayHatter,7,https://github.com/uTox/uTox/pull/1320#issuecomment-455939440,"Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ","Because I wasn't ready to write all the xlib code when I was implementing PTT, so that was the best location at the time.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1320,2019-01-21T02:55:13Z,2019-01-21T05:04:21Z,2019-01-24T18:06:28Z,CLOSED,False,3,11,1,None,Use evdev only if it's present.,1,[],https://github.com/uTox/uTox/pull/1320,None,8,https://github.com/uTox/uTox/pull/1320#issuecomment-455941819,"Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ","@GrayHatter the best thing I've done today was removing code to not use shit called evdev at all. But then you made me do the worst thing: use evdev only at Linux, FreeBSD and DragonFlyBSD, at other systems use only Xlib.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1320,2019-01-21T02:55:13Z,2019-01-21T05:04:21Z,2019-01-24T18:06:28Z,CLOSED,False,3,11,1,None,Use evdev only if it's present.,1,[],https://github.com/uTox/uTox/pull/1320,None,9,https://github.com/uTox/uTox/pull/1320#issuecomment-455951201,"Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ","@GrayHatter oh, I see the quality of uTox doesn't matter to you at all.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1320,2019-01-21T02:55:13Z,2019-01-21T05:04:21Z,2019-01-24T18:06:28Z,CLOSED,False,3,11,1,None,Use evdev only if it's present.,1,[],https://github.com/uTox/uTox/pull/1320,https://github.com/GrayHatter,10,https://github.com/uTox/uTox/pull/1320#issuecomment-455998010,"Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ",If you'd actually work just a little to understand why the current code base actually exists before making PRs I'd be happy to accept them. But I have no interest in wasting time on low effort commits that fix nothing. Especially considering the arrogance from conversation the doesn't match the quality of the patch. If that means it lowers the quality in your opinion. Then nothing of value is lost.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1320,2019-01-21T02:55:13Z,2019-01-21T05:04:21Z,2019-01-24T18:06:28Z,CLOSED,False,3,11,1,None,Use evdev only if it's present.,1,[],https://github.com/uTox/uTox/pull/1320,https://github.com/GrayHatter,11,https://github.com/uTox/uTox/pull/1320#issuecomment-457297273,"Otherwise fallback to Xlib at every X11 platform, but support push-to-talk everywhere!


This change is‚ÄÇ","I just remembered another reason we us edev. X allows another app to take exclusive control of the keyboard. this way, even if there's an app that has exclusive control of the keyboard, ptt in uTox will still work.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1321,2019-01-27T16:54:56Z,2019-01-28T03:40:55Z,2019-01-28T03:40:55Z,MERGED,True,515,18,1,https://github.com/baloo79,Hungarian translation updated,1,[],https://github.com/uTox/uTox/pull/1321,https://github.com/baloo79,1,https://github.com/uTox/uTox/pull/1321,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1322,2019-01-29T03:57:49Z,2019-01-29T06:15:41Z,2019-01-29T06:15:41Z,MERGED,True,6,6,1,None,Update sv.h,1,[],https://github.com/uTox/uTox/pull/1322,None,1,https://github.com/uTox/uTox/pull/1322,"Some more corrections to the Swedish translation. Please merge.


This change is‚ÄÇ","Some more corrections to the Swedish translation. Please merge.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1325,2019-02-13T20:56:28Z,2019-02-13T21:00:09Z,2019-02-13T21:00:10Z,CLOSED,False,1648,691,46,https://github.com/ColumPaget,Fix for buffer overflow on app startup,91,[],https://github.com/uTox/uTox/pull/1325,https://github.com/ColumPaget,1,https://github.com/uTox/uTox/pull/1325,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1325,2019-02-13T20:56:28Z,2019-02-13T21:00:09Z,2019-02-13T21:00:10Z,CLOSED,False,1648,691,46,https://github.com/ColumPaget,Fix for buffer overflow on app startup,91,[],https://github.com/uTox/uTox/pull/1325,https://github.com/ColumPaget,2,https://github.com/uTox/uTox/pull/1325#issuecomment-463368287,This change is‚ÄÇ,What the hell? Something seems to have gone very wrong with this pull request? Where did all this stuff come from? I'm only changing one file!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1326,2019-02-13T21:21:04Z,2019-03-30T20:16:06Z,2019-03-31T10:44:55Z,MERGED,True,28,17,1,https://github.com/ColumPaget,Fix for buffer overflow on app startup,2,[],https://github.com/uTox/uTox/pull/1326,https://github.com/ColumPaget,1,https://github.com/uTox/uTox/pull/1326,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1326,2019-02-13T21:21:04Z,2019-03-30T20:16:06Z,2019-03-31T10:44:55Z,MERGED,True,28,17,1,https://github.com/ColumPaget,Fix for buffer overflow on app startup,2,[],https://github.com/uTox/uTox/pull/1326,None,2,https://github.com/uTox/uTox/pull/1326#issuecomment-478330470,This change is‚ÄÇ,The last if should have been inverted. My bad.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1327,2019-02-13T22:41:49Z,2019-04-11T01:18:35Z,2019-04-11T01:18:35Z,CLOSED,False,27,17,1,https://github.com/ColumPaget,"fix for buffer overflow at startup, v2 with requested changes",1,[],https://github.com/uTox/uTox/pull/1327,https://github.com/ColumPaget,1,https://github.com/uTox/uTox/pull/1327,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1328,2019-02-21T00:20:45Z,,2020-04-15T22:27:11Z,OPEN,False,32,17,2,None,Make push-to-talk work at every X11 platform.,1,[],https://github.com/uTox/uTox/pull/1328,None,1,https://github.com/uTox/uTox/pull/1328,"DragonFly BSD changed location for evdev input.h file, FreeBSD has different location from the beginning. Note that DragonFly BSD is compiled without evdev support by default, but it still has that header.


This change is‚ÄÇ","DragonFly BSD changed location for evdev input.h file, FreeBSD has different location from the beginning. Note that DragonFly BSD is compiled without evdev support by default, but it still has that header.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1328,2019-02-21T00:20:45Z,,2020-04-15T22:27:11Z,OPEN,False,32,17,2,None,Make push-to-talk work at every X11 platform.,1,[],https://github.com/uTox/uTox/pull/1328,None,2,https://github.com/uTox/uTox/pull/1328#issuecomment-494302046,"DragonFly BSD changed location for evdev input.h file, FreeBSD has different location from the beginning. Note that DragonFly BSD is compiled without evdev support by default, but it still has that header.


This change is‚ÄÇ","@GrayHatter please remind me the link to branch, I can't find it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1334,2019-03-05T08:54:39Z,2019-03-07T18:14:26Z,2019-03-07T18:14:39Z,MERGED,True,2,2,1,https://github.com/bmwiedemann,Use cmake timestamp function,1,[],https://github.com/uTox/uTox/pull/1334,https://github.com/bmwiedemann,1,https://github.com/uTox/uTox/pull/1334,"Use cmake timestamp function:
This makes it simpler, work on more platforms
and allows for reproducible builds.
See https://reproducible-builds.org/ for why this is good.
Without this patch, I got such diffs
/usr/share/man/man1/utox.1.gz
@@ -1,4 +1,4 @@
-.TH UTOX ""1"" ""March 2019"" ""¬µTox 0.17.0""
+.TH UTOX ""1"" ""April 2034"" ""¬µTox 0.17.0""
This PR was done while working on reproducible builds for openSUSE.


This change is‚ÄÇ","Use cmake timestamp function:
This makes it simpler, work on more platforms
and allows for reproducible builds.
See https://reproducible-builds.org/ for why this is good.
Without this patch, I got such diffs
/usr/share/man/man1/utox.1.gz
@@ -1,4 +1,4 @@
-.TH UTOX ""1"" ""March 2019"" ""¬µTox 0.17.0""
+.TH UTOX ""1"" ""April 2034"" ""¬µTox 0.17.0""
This PR was done while working on reproducible builds for openSUSE.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1334,2019-03-05T08:54:39Z,2019-03-07T18:14:26Z,2019-03-07T18:14:39Z,MERGED,True,2,2,1,https://github.com/bmwiedemann,Use cmake timestamp function,1,[],https://github.com/uTox/uTox/pull/1334,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1334#issuecomment-470635650,"Use cmake timestamp function:
This makes it simpler, work on more platforms
and allows for reproducible builds.
See https://reproducible-builds.org/ for why this is good.
Without this patch, I got such diffs
/usr/share/man/man1/utox.1.gz
@@ -1,4 +1,4 @@
-.TH UTOX ""1"" ""March 2019"" ""¬µTox 0.17.0""
+.TH UTOX ""1"" ""April 2034"" ""¬µTox 0.17.0""
This PR was done while working on reproducible builds for openSUSE.


This change is‚ÄÇ","Cheers mate, thanks!!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1338,2019-04-06T16:27:45Z,2019-04-06T16:37:07Z,2019-04-06T16:37:12Z,MERGED,True,16,22,3,https://github.com/GrayHatter,Style and safety fixes for qr code generation,1,[],https://github.com/uTox/uTox/pull/1338,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1338,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1339,2019-04-11T01:12:14Z,2019-04-19T21:43:35Z,2019-04-19T21:44:37Z,MERGED,True,12,23,1,None,qr_setup() fixes,4,[],https://github.com/uTox/uTox/pull/1339,None,1,https://github.com/uTox/uTox/pull/1339,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1339,2019-04-11T01:12:14Z,2019-04-19T21:43:35Z,2019-04-19T21:44:37Z,MERGED,True,12,23,1,None,qr_setup() fixes,4,[],https://github.com/uTox/uTox/pull/1339,None,2,https://github.com/uTox/uTox/pull/1339#issuecomment-484236345,This change is‚ÄÇ,"alternitivlly, maybe tox_uri should exist on the stack?

Yeah, that's best, especially since its size is a constant.

memory alloc fails are usually fatal. Do you want to make this fatal, or should we reconsider that SOP?

This is what I was thinking: It feels intuitively wrong to me to exit the program because of what is essentially only a convenience feature. QR is not crucial to the main goal of utox. Therefore I don't see it as a reason to panic everything.
Also, it would just look like utox is unstable, and nobody likes that.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1339,2019-04-11T01:12:14Z,2019-04-19T21:43:35Z,2019-04-19T21:44:37Z,MERGED,True,12,23,1,None,qr_setup() fixes,4,[],https://github.com/uTox/uTox/pull/1339,None,3,https://github.com/uTox/uTox/pull/1339#issuecomment-484294335,This change is‚ÄÇ,I'm done.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1339,2019-04-11T01:12:14Z,2019-04-19T21:43:35Z,2019-04-19T21:44:37Z,MERGED,True,12,23,1,None,qr_setup() fixes,4,[],https://github.com/uTox/uTox/pull/1339,None,4,https://github.com/uTox/uTox/pull/1339#issuecomment-484689238,This change is‚ÄÇ,"optionally prefer sizeof(""tox:"") + ... because that'll include the null term.

I did it intentionally like this because I dislike VLA and I like being explicit. Anyone (even me) can immediately see that it's correct.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1343,2019-04-17T23:33:26Z,2019-04-18T23:10:28Z,2019-04-18T23:27:14Z,MERGED,True,6,0,2,None,Translate STR_EXIT to Polish and German,2,[],https://github.com/uTox/uTox/pull/1343,None,1,https://github.com/uTox/uTox/pull/1343,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1344,2019-04-18T19:11:38Z,2020-05-20T17:10:26Z,2020-05-25T16:42:00Z,CLOSED,False,70,27,8,https://github.com/GrayHatter,Fix travis,8,[],https://github.com/uTox/uTox/pull/1344,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1344,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1344,2019-04-18T19:11:38Z,2020-05-20T17:10:26Z,2020-05-25T16:42:00Z,CLOSED,False,70,27,8,https://github.com/GrayHatter,Fix travis,8,[],https://github.com/uTox/uTox/pull/1344,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1344#issuecomment-614322960,This change is‚ÄÇ,"I don't recall what this PR was fixing, but Travis seems to pass at HEAD of develop. @GrayHatter do you remember what was going on with Travis back here?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1344,2019-04-18T19:11:38Z,2020-05-20T17:10:26Z,2020-05-25T16:42:00Z,CLOSED,False,70,27,8,https://github.com/GrayHatter,Fix travis,8,[],https://github.com/uTox/uTox/pull/1344,None,3,https://github.com/uTox/uTox/pull/1344#issuecomment-632245983,This change is‚ÄÇ,"And here, delete branch?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1345,2019-04-18T20:06:39Z,2019-04-19T17:41:02Z,2019-04-19T17:41:03Z,MERGED,True,7,7,1,https://github.com/GrayHatter,disable incorrect updater test,1,[],https://github.com/uTox/uTox/pull/1345,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1345,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,1,https://github.com/uTox/uTox/pull/1346,"Closes #1282


This change is‚ÄÇ","Closes #1282


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,2,https://github.com/uTox/uTox/pull/1346#issuecomment-485236954,"Closes #1282


This change is‚ÄÇ","I have to look again today, I think there will be more fixes here.
I'm warming up to that UTF-8 branch, thank you for asking!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,3,https://github.com/uTox/uTox/pull/1346#issuecomment-485283883,"Closes #1282


This change is‚ÄÇ",Done.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,4,https://github.com/uTox/uTox/pull/1346#issuecomment-485660839,"Closes #1282


This change is‚ÄÇ","src/messages.c, line 933 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
declare here

It actually is used a line above snprintf. And I'd like it split up in this case, since they're on consecutive lines, and to keep the line shorter.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,5,https://github.com/uTox/uTox/pull/1346#issuecomment-485660995,"Closes #1282


This change is‚ÄÇ","src/avatar.c, line 81 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
declare name_len here

Done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,6,https://github.com/uTox/uTox/pull/1346#issuecomment-485661043,"Closes #1282


This change is‚ÄÇ","src/friend.c, line 412 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
declare here

Done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,7,https://github.com/uTox/uTox/pull/1346#issuecomment-485661081,"Closes #1282


This change is‚ÄÇ","src/friend.c, line 317 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
declare here

Done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,8,https://github.com/uTox/uTox/pull/1346#issuecomment-485661116,"Closes #1282


This change is‚ÄÇ","src/friend.c, line 582 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
declare here

Done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,9,https://github.com/uTox/uTox/pull/1346#issuecomment-485661170,"Closes #1282


This change is‚ÄÇ","src/groups.c, line 348 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
declare here

Done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,10,https://github.com/uTox/uTox/pull/1346#issuecomment-485661299,"Closes #1282


This change is‚ÄÇ","src/av/utox_av.c, line 154 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
declare here

Done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,11,https://github.com/uTox/uTox/pull/1346#issuecomment-485661339,"Closes #1282


This change is‚ÄÇ","src/layout/group.c, line 64 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
declare here

Done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,12,https://github.com/uTox/uTox/pull/1346#issuecomment-485661431,"Closes #1282


This change is‚ÄÇ","src/layout/settings.c, line 182 at r2 (raw file):
Previously, GrayHatter (Gregory Mullen) wrote‚Ä¶
str_len isn't used prior, It should be declared here as well.

Done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,13,https://github.com/uTox/uTox/pull/1346#issuecomment-486382297,"Closes #1282


This change is‚ÄÇ","Does this overwrite the file name?

Good catch! Fixed it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,14,https://github.com/uTox/uTox/pull/1346#issuecomment-486417807,"Closes #1282


This change is‚ÄÇ","And rebased.
All done now.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1346,2019-04-19T21:20:13Z,2019-05-13T05:20:14Z,2019-05-13T05:20:58Z,MERGED,True,75,60,9,None,Fix snprintf,4,[],https://github.com/uTox/uTox/pull/1346,None,15,https://github.com/uTox/uTox/pull/1346#issuecomment-490580163,"Closes #1282


This change is‚ÄÇ",Is this good to merge now?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1347,2019-04-20T19:59:56Z,2019-04-20T20:48:38Z,2019-04-20T20:48:38Z,MERGED,True,11,8,2,https://github.com/GrayHatter,Travis win64 make cmake command explicit,1,[],https://github.com/uTox/uTox/pull/1347,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1347,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1347,2019-04-20T19:59:56Z,2019-04-20T20:48:38Z,2019-04-20T20:48:38Z,MERGED,True,11,8,2,https://github.com/GrayHatter,Travis win64 make cmake command explicit,1,[],https://github.com/uTox/uTox/pull/1347,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1347#issuecomment-485168881,This change is‚ÄÇ,I hate ubuntu!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1348,2019-04-20T20:54:05Z,2019-04-21T22:01:13Z,2019-04-21T22:01:13Z,MERGED,True,3,3,1,https://github.com/endoffile78,Fix close_dropdowns,1,[],https://github.com/uTox/uTox/pull/1348,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1348,"Closes #1342

This change is‚ÄÇ","Closes #1342

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1349,2019-04-20T21:08:14Z,2019-04-20T21:55:09Z,2020-05-25T21:59:41Z,MERGED,True,16,20,2,https://github.com/GrayHatter,Trivial travis changes,1,[],https://github.com/uTox/uTox/pull/1349,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1349,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1349,2019-04-20T21:08:14Z,2019-04-20T21:55:09Z,2020-05-25T21:59:41Z,MERGED,True,16,20,2,https://github.com/GrayHatter,Trivial travis changes,1,[],https://github.com/uTox/uTox/pull/1349,None,2,https://github.com/uTox/uTox/pull/1349#issuecomment-633727167,This change is‚ÄÇ,"This branch can be deleted, too. (I don't like touching other people's stuff.)",True,{}
uTox/uTox,https://github.com/uTox/uTox,1350,2019-04-21T23:23:42Z,2019-05-08T05:53:33Z,2019-05-08T05:59:43Z,MERGED,True,9,0,1,None,Prevent crash when Window ID is too large,1,[],https://github.com/uTox/uTox/pull/1350,None,1,https://github.com/uTox/uTox/pull/1350,"Bound-check video_win[]
See #1279


This change is‚ÄÇ","Bound-check video_win[]
See #1279


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1350,2019-04-21T23:23:42Z,2019-05-08T05:53:33Z,2019-05-08T05:59:43Z,MERGED,True,9,0,1,None,Prevent crash when Window ID is too large,1,[],https://github.com/uTox/uTox/pull/1350,None,2,https://github.com/uTox/uTox/pull/1350#issuecomment-489712004,"Bound-check video_win[]
See #1279


This change is‚ÄÇ","I am aware that it doesn't solve the root problem, but I am not trying to here. I just don't want it to crash.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1352,2019-04-22T10:59:04Z,2019-04-22T21:34:27Z,2019-04-22T21:39:46Z,MERGED,True,63,10,6,None,Check return values of allocations,7,[],https://github.com/uTox/uTox/pull/1352,None,1,https://github.com/uTox/uTox/pull/1352,"This much for now, for this PR.
Note that in most cases I just made it FATAL, but I can't judge if it's right.
Feel free to fix it up yourself, might be easier (branch is on this repo).
$ ack --color '[mce]alloc\(' | cut -d':' -f1 | uniq -c | sort -n


This change is‚ÄÇ","This much for now, for this PR.
Note that in most cases I just made it FATAL, but I can't judge if it's right.
Feel free to fix it up yourself, might be easier (branch is on this repo).
$ ack --color '[mce]alloc\(' | cut -d':' -f1 | uniq -c | sort -n


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1352,2019-04-22T10:59:04Z,2019-04-22T21:34:27Z,2019-04-22T21:39:46Z,MERGED,True,63,10,6,None,Check return values of allocations,7,[],https://github.com/uTox/uTox/pull/1352,None,2,https://github.com/uTox/uTox/pull/1352#issuecomment-485461235,"This much for now, for this PR.
Note that in most cases I just made it FATAL, but I can't judge if it's right.
Feel free to fix it up yourself, might be easier (branch is on this repo).
$ ack --color '[mce]alloc\(' | cut -d':' -f1 | uniq -c | sort -n


This change is‚ÄÇ","I did consider \n there. But then this one check stole focus and takes up 50% of the block. Didn't find that pretty, either. Whatchu think?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1352,2019-04-22T10:59:04Z,2019-04-22T21:34:27Z,2019-04-22T21:39:46Z,MERGED,True,63,10,6,None,Check return values of allocations,7,[],https://github.com/uTox/uTox/pull/1352,None,3,https://github.com/uTox/uTox/pull/1352#issuecomment-485461620,"This much for now, for this PR.
Note that in most cases I just made it FATAL, but I can't judge if it's right.
Feel free to fix it up yourself, might be easier (branch is on this repo).
$ ack --color '[mce]alloc\(' | cut -d':' -f1 | uniq -c | sort -n


This change is‚ÄÇ","But I guess if only the braces are a problem in this case, then I'd like that best, single line and no braces.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1355,2019-05-11T13:45:09Z,2019-05-15T08:23:11Z,2019-05-15T08:25:02Z,MERGED,True,10,4,1,None,Add border to QR code,1,[],https://github.com/uTox/uTox/pull/1355,None,1,https://github.com/uTox/uTox/pull/1355,"This is necessary for contrast, so that the QR code becomes readable on any background.
Fixes #1351


This change is‚ÄÇ","This is necessary for contrast, so that the QR code becomes readable on any background.
Fixes #1351


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1355,2019-05-11T13:45:09Z,2019-05-15T08:23:11Z,2019-05-15T08:25:02Z,MERGED,True,10,4,1,None,Add border to QR code,1,[],https://github.com/uTox/uTox/pull/1355,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1355#issuecomment-491896978,"This is necessary for contrast, so that the QR code becomes readable on any background.
Fixes #1351


This change is‚ÄÇ",Some screenshots would be nice.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1355,2019-05-11T13:45:09Z,2019-05-15T08:23:11Z,2019-05-15T08:25:02Z,MERGED,True,10,4,1,None,Add border to QR code,1,[],https://github.com/uTox/uTox/pull/1355,None,3,https://github.com/uTox/uTox/pull/1355#issuecomment-492002309,"This is necessary for contrast, so that the QR code becomes readable on any background.
Fixes #1351


This change is‚ÄÇ","This is how it looks now:

But the thing is, now it's actually a correct QR code. The border thing is called Quiet Zone and it's a necessary part. And the width is recommended to be 4 modules wide.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1356,2019-05-11T18:06:08Z,2019-09-10T00:07:14Z,2019-09-10T00:08:11Z,MERGED,True,2,0,1,None,openurl(): Reap last child process,1,[],https://github.com/uTox/uTox/pull/1356,None,1,https://github.com/uTox/uTox/pull/1356,"Prevents pollution of kernel's process table by limiting zombies to 1.


This change is‚ÄÇ","Prevents pollution of kernel's process table by limiting zombies to 1.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1358,2019-05-12T18:01:57Z,2019-09-16T10:36:29Z,2019-09-16T10:37:18Z,MERGED,True,24,19,1,None,Fix segfault when changing to a video input device that fails to init,2,[],https://github.com/uTox/uTox/pull/1358,None,1,https://github.com/uTox/uTox/pull/1358,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1359,2019-05-17T10:27:03Z,2020-05-23T21:54:42Z,2020-05-24T00:22:18Z,CLOSED,False,4,4,1,None,"Simplfy regexes that match MacOS, Linux, NetBSD and FreeBSD",1,[],https://github.com/uTox/uTox/pull/1359,None,1,https://github.com/uTox/uTox/pull/1359,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1359,2019-05-17T10:27:03Z,2020-05-23T21:54:42Z,2020-05-24T00:22:18Z,CLOSED,False,4,4,1,None,"Simplfy regexes that match MacOS, Linux, NetBSD and FreeBSD",1,[],https://github.com/uTox/uTox/pull/1359,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1359#issuecomment-614322349,This change is‚ÄÇ,"So the account that made this PR is now gone, but I'm not convinced this is correct?
For reference: https://skia.googlesource.com/third_party/sdl/+/refs/heads/master/CMakeLists.txt#84
This is how a lot of other projects detect which platform they're building on.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1359,2019-05-17T10:27:03Z,2020-05-23T21:54:42Z,2020-05-24T00:22:18Z,CLOSED,False,4,4,1,None,"Simplfy regexes that match MacOS, Linux, NetBSD and FreeBSD",1,[],https://github.com/uTox/uTox/pull/1359,None,3,https://github.com/uTox/uTox/pull/1359#issuecomment-614340158,This change is‚ÄÇ,@goleo108,True,{}
uTox/uTox,https://github.com/uTox/uTox,1359,2019-05-17T10:27:03Z,2020-05-23T21:54:42Z,2020-05-24T00:22:18Z,CLOSED,False,4,4,1,None,"Simplfy regexes that match MacOS, Linux, NetBSD and FreeBSD",1,[],https://github.com/uTox/uTox/pull/1359,None,4,https://github.com/uTox/uTox/pull/1359#issuecomment-614961631,This change is‚ÄÇ,"@robinlinden @avoidr regular expressions are designed to match substrings, having a string ""kbgkfafdsfnas"" and regexp ""faf"" will match ""faf"", having regexp "".*faf"" will match ""kbgkfaf"", regexp ""faf.*"" will match ""fafdsfnas"" and regexp "".*faf.*"" will match entire string ""kbgkfafdsfnas""
edit: I forgot github formats markdown",True,{}
uTox/uTox,https://github.com/uTox/uTox,1359,2019-05-17T10:27:03Z,2020-05-23T21:54:42Z,2020-05-24T00:22:18Z,CLOSED,False,4,4,1,None,"Simplfy regexes that match MacOS, Linux, NetBSD and FreeBSD",1,[],https://github.com/uTox/uTox/pull/1359,None,5,https://github.com/uTox/uTox/pull/1359#issuecomment-616983805,This change is‚ÄÇ,"just to be clear: there is no need to match entire string. matching only part of the string is enough, pattern ""FreeBSD"" will match any string containing ""FreeBSD"", for example, ""kFreeBSD 12.0-STABLE some version info"", you don't need extra patterns like ""^k?FreeBSD [0-9]+\.[0-9]+-(RELEASE|STABLE|CURRENT) .+$""",True,{'THUMBS_UP': ['https://github.com/robinlinden']}
uTox/uTox,https://github.com/uTox/uTox,1359,2019-05-17T10:27:03Z,2020-05-23T21:54:42Z,2020-05-24T00:22:18Z,CLOSED,False,4,4,1,None,"Simplfy regexes that match MacOS, Linux, NetBSD and FreeBSD",1,[],https://github.com/uTox/uTox/pull/1359,None,6,https://github.com/uTox/uTox/pull/1359#issuecomment-633145460,This change is‚ÄÇ,"I merged it, thanks @goleo108! Sorry it took so long.
Btw, how do you want to be credited in release notes? Old nick, new nick, something else?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1359,2019-05-17T10:27:03Z,2020-05-23T21:54:42Z,2020-05-24T00:22:18Z,CLOSED,False,4,4,1,None,"Simplfy regexes that match MacOS, Linux, NetBSD and FreeBSD",1,[],https://github.com/uTox/uTox/pull/1359,None,7,https://github.com/uTox/uTox/pull/1359#issuecomment-633155988,This change is‚ÄÇ,@avoidr may it be like everyone else: point to my current gh account,True,{}
uTox/uTox,https://github.com/uTox/uTox,1359,2019-05-17T10:27:03Z,2020-05-23T21:54:42Z,2020-05-24T00:22:18Z,CLOSED,False,4,4,1,None,"Simplfy regexes that match MacOS, Linux, NetBSD and FreeBSD",1,[],https://github.com/uTox/uTox/pull/1359,None,8,https://github.com/uTox/uTox/pull/1359#issuecomment-633158165,This change is‚ÄÇ,Sure thing.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1366,2019-09-08T21:24:01Z,2019-09-10T00:24:36Z,2019-09-10T00:28:01Z,CLOSED,False,0,0,0,None,Don't flip video preview button status if preview fails,0,[],https://github.com/uTox/uTox/pull/1366,None,1,https://github.com/uTox/uTox/pull/1366,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1367,2019-09-08T22:03:38Z,2019-09-09T23:39:04Z,2019-09-09T23:43:45Z,MERGED,True,4,1,1,None,utox.1.in: Document --allow-root,1,[],https://github.com/uTox/uTox/pull/1367,None,1,https://github.com/uTox/uTox/pull/1367,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1368,2019-09-08T22:08:15Z,2019-09-09T23:39:04Z,2019-09-09T23:44:01Z,MERGED,True,1,1,1,None,utox.1.in: Fix --unset,1,[],https://github.com/uTox/uTox/pull/1368,None,1,https://github.com/uTox/uTox/pull/1368,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1369,2019-09-12T19:00:22Z,2019-09-15T21:39:11Z,2019-09-15T21:39:54Z,MERGED,True,62,50,2,None,"flist: Fix bounds-check, put items into heap",6,[],https://github.com/uTox/uTox/pull/1369,None,1,https://github.com/uTox/uTox/pull/1369,"Closes #1365


This change is‚ÄÇ","Closes #1365


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1369,2019-09-12T19:00:22Z,2019-09-15T21:39:11Z,2019-09-15T21:39:54Z,MERGED,True,62,50,2,None,"flist: Fix bounds-check, put items into heap",6,[],https://github.com/uTox/uTox/pull/1369,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1369#issuecomment-531437137,"Closes #1365


This change is‚ÄÇ","I approve of this PR, but it's gonna take me some time to review... keep poking me on IRC and I'll get it done",True,{}
uTox/uTox,https://github.com/uTox/uTox,1369,2019-09-12T19:00:22Z,2019-09-15T21:39:11Z,2019-09-15T21:39:54Z,MERGED,True,62,50,2,None,"flist: Fix bounds-check, put items into heap",6,[],https://github.com/uTox/uTox/pull/1369,None,3,https://github.com/uTox/uTox/pull/1369#issuecomment-531477545,"Closes #1365


This change is‚ÄÇ",Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1370,2019-09-21T04:55:08Z,2019-09-30T17:51:34Z,2019-09-30T17:51:37Z,MERGED,True,1,3,1,https://github.com/t6,Use correct evdev header on FreeBSD,1,[],https://github.com/uTox/uTox/pull/1370,https://github.com/t6,1,https://github.com/uTox/uTox/pull/1370,"There is no dev/misc/evdev/input.h on FreeBSD.  There is a
dev/evdev/input.h.  However in general it is recommended to use
linux/input.h from the evdev-proto package instead since can
be updated more quickly.  Switch to it to not cause future problems.
AFAICT DragonFlyBSD also does not have a dev/misc/evdev/input.h.
DPorts has an evdev-proto package too, so it should be fine to use
linux/input.h there as well.


This change is‚ÄÇ","There is no dev/misc/evdev/input.h on FreeBSD.  There is a
dev/evdev/input.h.  However in general it is recommended to use
linux/input.h from the evdev-proto package instead since can
be updated more quickly.  Switch to it to not cause future problems.
AFAICT DragonFlyBSD also does not have a dev/misc/evdev/input.h.
DPorts has an evdev-proto package too, so it should be fine to use
linux/input.h there as well.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1370,2019-09-21T04:55:08Z,2019-09-30T17:51:34Z,2019-09-30T17:51:37Z,MERGED,True,1,3,1,https://github.com/t6,Use correct evdev header on FreeBSD,1,[],https://github.com/uTox/uTox/pull/1370,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1370#issuecomment-536674410,"There is no dev/misc/evdev/input.h on FreeBSD.  There is a
dev/evdev/input.h.  However in general it is recommended to use
linux/input.h from the evdev-proto package instead since can
be updated more quickly.  Switch to it to not cause future problems.
AFAICT DragonFlyBSD also does not have a dev/misc/evdev/input.h.
DPorts has an evdev-proto package too, so it should be fine to use
linux/input.h there as well.


This change is‚ÄÇ","LGTM, cheers @t6 thanks!",True,{'HOORAY': ['https://github.com/t6']}
uTox/uTox,https://github.com/uTox/uTox,1374,2019-10-01T04:20:57Z,2019-10-02T20:49:10Z,2019-10-02T20:50:52Z,MERGED,True,49,50,33,https://github.com/yangfl,Fix typo,1,[],https://github.com/uTox/uTox/pull/1374,https://github.com/yangfl,1,https://github.com/uTox/uTox/pull/1374,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1374,2019-10-01T04:20:57Z,2019-10-02T20:49:10Z,2019-10-02T20:50:52Z,MERGED,True,49,50,33,https://github.com/yangfl,Fix typo,1,[],https://github.com/uTox/uTox/pull/1374,None,2,https://github.com/uTox/uTox/pull/1374#issuecomment-537674889,This change is‚ÄÇ,"Merged, thanks!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1375,2019-10-03T13:55:37Z,2019-10-03T18:04:02Z,2019-10-03T18:04:57Z,MERGED,True,4,2,1,https://github.com/yangfl,Fix FTBFS on GNU/kFreebsd,1,[],https://github.com/uTox/uTox/pull/1375,https://github.com/yangfl,1,https://github.com/uTox/uTox/pull/1375,"Fix https://buildd.debian.org/status/fetch.php?pkg=utox&arch=kfreebsd-amd64&ver=0.17.1-1&stamp=1569780395&raw=0


This change is‚ÄÇ","Fix https://buildd.debian.org/status/fetch.php?pkg=utox&arch=kfreebsd-amd64&ver=0.17.1-1&stamp=1569780395&raw=0


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1375,2019-10-03T13:55:37Z,2019-10-03T18:04:02Z,2019-10-03T18:04:57Z,MERGED,True,4,2,1,https://github.com/yangfl,Fix FTBFS on GNU/kFreebsd,1,[],https://github.com/uTox/uTox/pull/1375,None,2,https://github.com/uTox/uTox/pull/1375#issuecomment-538059241,"Fix https://buildd.debian.org/status/fetch.php?pkg=utox&arch=kfreebsd-amd64&ver=0.17.1-1&stamp=1569780395&raw=0


This change is‚ÄÇ","Merged, thank you!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1381,2019-10-19T22:49:05Z,2019-10-20T20:43:13Z,2019-10-20T20:43:13Z,CLOSED,False,17,1,3,None,Implement code backticks for monospaced text in chat,1,['--WIP--'],https://github.com/uTox/uTox/pull/1381,None,1,https://github.com/uTox/uTox/pull/1381,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1381,2019-10-19T22:49:05Z,2019-10-20T20:43:13Z,2019-10-20T20:43:13Z,CLOSED,False,17,1,3,None,Implement code backticks for monospaced text in chat,1,['--WIP--'],https://github.com/uTox/uTox/pull/1381,None,2,https://github.com/uTox/uTox/pull/1381#issuecomment-544290679,This change is‚ÄÇ,This needs a different approach.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1382,2019-10-27T13:59:51Z,2019-11-02T12:16:15Z,2019-11-02T12:17:02Z,CLOSED,False,34,22,1,None,Focus message input field when starting to type,8,[],https://github.com/uTox/uTox/pull/1382,None,1,https://github.com/uTox/uTox/pull/1382,"Closes #1142


This change is‚ÄÇ","Closes #1142


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1382,2019-10-27T13:59:51Z,2019-11-02T12:16:15Z,2019-11-02T12:17:02Z,CLOSED,False,34,22,1,None,Focus message input field when starting to type,8,[],https://github.com/uTox/uTox/pull/1382,None,2,https://github.com/uTox/uTox/pull/1382#issuecomment-547673544,"Closes #1142


This change is‚ÄÇ",Not yet.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1382,2019-10-27T13:59:51Z,2019-11-02T12:16:15Z,2019-11-02T12:17:02Z,CLOSED,False,34,22,1,None,Focus message input field when starting to type,8,[],https://github.com/uTox/uTox/pull/1382,None,3,https://github.com/uTox/uTox/pull/1382#issuecomment-548982966,"Closes #1142


This change is‚ÄÇ","I will clean the history in another PR/branch before I merge, but here is my result. I think I'm done now.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1382,2019-10-27T13:59:51Z,2019-11-02T12:16:15Z,2019-11-02T12:17:02Z,CLOSED,False,34,22,1,None,Focus message input field when starting to type,8,[],https://github.com/uTox/uTox/pull/1382,None,4,https://github.com/uTox/uTox/pull/1382#issuecomment-549038518,"Closes #1142


This change is‚ÄÇ",Cleaned up and merged.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1386,2019-11-02T19:17:20Z,2019-11-04T11:18:39Z,2019-11-04T11:18:39Z,CLOSED,False,25,0,3,None,Handle Home & End key in friend list,2,[],https://github.com/uTox/uTox/pull/1386,None,1,https://github.com/uTox/uTox/pull/1386,"Now - additionally to ctrl+Pg{Up,Dn} - you can:
ctrl+Home: go to the first item shown in the friend list
ctrl+End:  go to the last  item shown in the friend list


This change is‚ÄÇ","Now - additionally to ctrl+Pg{Up,Dn} - you can:
ctrl+Home: go to the first item shown in the friend list
ctrl+End:  go to the last  item shown in the friend list


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1386,2019-11-02T19:17:20Z,2019-11-04T11:18:39Z,2019-11-04T11:18:39Z,CLOSED,False,25,0,3,None,Handle Home & End key in friend list,2,[],https://github.com/uTox/uTox/pull/1386,None,2,https://github.com/uTox/uTox/pull/1386#issuecomment-549310890,"Now - additionally to ctrl+Pg{Up,Dn} - you can:
ctrl+Home: go to the first item shown in the friend list
ctrl+End:  go to the last  item shown in the friend list


This change is‚ÄÇ",Merged.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1387,2019-11-02T19:20:53Z,2019-11-04T11:10:08Z,2019-11-04T11:35:28Z,CLOSED,False,10,0,1,None,Handle Home & End key in messages panel,1,[],https://github.com/uTox/uTox/pull/1387,None,1,https://github.com/uTox/uTox/pull/1387,"Home now scrolls to top    of message log
End  now scrolls to bottom of message log


This change is‚ÄÇ","Home now scrolls to top    of message log
End  now scrolls to bottom of message log


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1387,2019-11-02T19:20:53Z,2019-11-04T11:10:08Z,2019-11-04T11:35:28Z,CLOSED,False,10,0,1,None,Handle Home & End key in messages panel,1,[],https://github.com/uTox/uTox/pull/1387,None,2,https://github.com/uTox/uTox/pull/1387#issuecomment-549308086,"Home now scrolls to top    of message log
End  now scrolls to bottom of message log


This change is‚ÄÇ",Merged.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1388,2019-11-02T19:22:02Z,2019-11-04T11:32:58Z,2019-11-04T11:35:44Z,MERGED,True,20,8,2,None,Implement ontab and onshifttab callbacks for text fields in add friend page,2,[],https://github.com/uTox/uTox/pull/1388,None,1,https://github.com/uTox/uTox/pull/1388,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1391,2019-11-07T21:03:13Z,2019-11-09T19:16:34Z,2019-11-09T19:17:43Z,MERGED,True,1,1,1,None,Fix Up key,1,[],https://github.com/uTox/uTox/pull/1391,None,1,https://github.com/uTox/uTox/pull/1391,"Now, pressing Up when the cursor is already on the first line makes the cursor go to the beginning of the line.


This change is‚ÄÇ","Now, pressing Up when the cursor is already on the first line makes the cursor go to the beginning of the line.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1391,2019-11-07T21:03:13Z,2019-11-09T19:16:34Z,2019-11-09T19:17:43Z,MERGED,True,1,1,1,None,Fix Up key,1,[],https://github.com/uTox/uTox/pull/1391,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1391#issuecomment-552125744,"Now, pressing Up when the cursor is already on the first line makes the cursor go to the beginning of the line.


This change is‚ÄÇ",,True,{}
uTox/uTox,https://github.com/uTox/uTox,1392,2019-11-07T22:45:46Z,2019-11-10T23:18:11Z,2019-11-10T23:20:22Z,MERGED,True,17,16,1,None,edit_draw(): Remove a branch,2,[],https://github.com/uTox/uTox/pull/1392,None,1,https://github.com/uTox/uTox/pull/1392,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1392,2019-11-07T22:45:46Z,2019-11-10T23:18:11Z,2019-11-10T23:20:22Z,MERGED,True,17,16,1,None,edit_draw(): Remove a branch,2,[],https://github.com/uTox/uTox/pull/1392,None,2,https://github.com/uTox/uTox/pull/1392#issuecomment-552132412,This change is‚ÄÇ,Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1395,2019-11-17T16:46:42Z,2019-11-22T09:31:01Z,2019-11-22T09:31:46Z,MERGED,True,5,1,1,None,flist: Don't filter selected friends and friends with unread messages,3,[],https://github.com/uTox/uTox/pull/1395,None,1,https://github.com/uTox/uTox/pull/1395,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1397,2019-11-17T21:12:18Z,2019-11-24T19:02:09Z,2019-11-24T19:08:13Z,MERGED,True,12,7,1,None,flist: Search friend list also by Tox ID,3,[],https://github.com/uTox/uTox/pull/1397,None,1,https://github.com/uTox/uTox/pull/1397,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1397,2019-11-17T21:12:18Z,2019-11-24T19:02:09Z,2019-11-24T19:08:13Z,MERGED,True,12,7,1,None,flist: Search friend list also by Tox ID,3,[],https://github.com/uTox/uTox/pull/1397,None,2,https://github.com/uTox/uTox/pull/1397#issuecomment-557464360,This change is‚ÄÇ,Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1401,2019-11-30T16:16:11Z,2019-12-03T20:05:06Z,2019-12-03T20:06:40Z,MERGED,True,5,1,1,https://github.com/t6,Unbreak build with OpenAL 1.20.0,1,[],https://github.com/uTox/uTox/pull/1401,https://github.com/t6,1,https://github.com/uTox/uTox/pull/1401,"In file included from /home/tobias/src/github.com/uTox/uTox/src/av/audio.c:33:
/usr/local/include/AL/alc.h:34:26: error: typedef redefinition with different types
      ('struct ALCdevice' vs 'struct ALCdevice_struct')
typedef struct ALCdevice ALCdevice;
                         ^
/home/tobias/src/github.com/uTox/uTox/src/av/audio.h:8:33: note: previous definition is here
typedef struct ALCdevice_struct ALCdevice;
                                ^
1 error generated.



This change is‚ÄÇ","In file included from /home/tobias/src/github.com/uTox/uTox/src/av/audio.c:33:
/usr/local/include/AL/alc.h:34:26: error: typedef redefinition with different types
      ('struct ALCdevice' vs 'struct ALCdevice_struct')
typedef struct ALCdevice ALCdevice;
                         ^
/home/tobias/src/github.com/uTox/uTox/src/av/audio.h:8:33: note: previous definition is here
typedef struct ALCdevice_struct ALCdevice;
                                ^
1 error generated.



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1401,2019-11-30T16:16:11Z,2019-12-03T20:05:06Z,2019-12-03T20:06:40Z,MERGED,True,5,1,1,https://github.com/t6,Unbreak build with OpenAL 1.20.0,1,[],https://github.com/uTox/uTox/pull/1401,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1401#issuecomment-560543265,"In file included from /home/tobias/src/github.com/uTox/uTox/src/av/audio.c:33:
/usr/local/include/AL/alc.h:34:26: error: typedef redefinition with different types
      ('struct ALCdevice' vs 'struct ALCdevice_struct')
typedef struct ALCdevice ALCdevice;
                         ^
/home/tobias/src/github.com/uTox/uTox/src/av/audio.h:8:33: note: previous definition is here
typedef struct ALCdevice_struct ALCdevice;
                                ^
1 error generated.



This change is‚ÄÇ",,True,{}
uTox/uTox,https://github.com/uTox/uTox,1401,2019-11-30T16:16:11Z,2019-12-03T20:05:06Z,2019-12-03T20:06:40Z,MERGED,True,5,1,1,https://github.com/t6,Unbreak build with OpenAL 1.20.0,1,[],https://github.com/uTox/uTox/pull/1401,None,3,https://github.com/uTox/uTox/pull/1401#issuecomment-561334750,"In file included from /home/tobias/src/github.com/uTox/uTox/src/av/audio.c:33:
/usr/local/include/AL/alc.h:34:26: error: typedef redefinition with different types
      ('struct ALCdevice' vs 'struct ALCdevice_struct')
typedef struct ALCdevice ALCdevice;
                         ^
/home/tobias/src/github.com/uTox/uTox/src/av/audio.h:8:33: note: previous definition is here
typedef struct ALCdevice_struct ALCdevice;
                                ^
1 error generated.



This change is‚ÄÇ",Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1403,2019-12-08T14:38:53Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,10,0,2,None,Ontab to search,2,[],https://github.com/uTox/uTox/pull/1403,None,1,https://github.com/uTox/uTox/pull/1403,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1403,2019-12-08T14:38:53Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,10,0,2,None,Ontab to search,2,[],https://github.com/uTox/uTox/pull/1403,None,2,https://github.com/uTox/uTox/pull/1403#issuecomment-595394462,This change is‚ÄÇ,Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1403,2019-12-08T14:38:53Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,10,0,2,None,Ontab to search,2,[],https://github.com/uTox/uTox/pull/1403,None,3,https://github.com/uTox/uTox/pull/1403#issuecomment-595394825,This change is‚ÄÇ,"onshifttab callback doesn't work in group, if the group is empty.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1404,2019-12-08T14:39:21Z,2020-03-05T12:35:41Z,2020-03-05T12:36:52Z,MERGED,True,12,0,1,None,Ctrl+f,2,[],https://github.com/uTox/uTox/pull/1404,None,1,https://github.com/uTox/uTox/pull/1404,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1404,2019-12-08T14:39:21Z,2020-03-05T12:35:41Z,2020-03-05T12:36:52Z,MERGED,True,12,0,1,None,Ctrl+f,2,[],https://github.com/uTox/uTox/pull/1404,None,2,https://github.com/uTox/uTox/pull/1404#issuecomment-595203517,This change is‚ÄÇ,Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1407,2019-12-15T00:11:34Z,2019-12-21T21:41:31Z,2020-04-14T22:44:28Z,MERGED,True,3,404,12,None,Remove WinXP support,1,[],https://github.com/uTox/uTox/pull/1407,None,1,https://github.com/uTox/uTox/pull/1407,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1407,2019-12-15T00:11:34Z,2019-12-21T21:41:31Z,2020-04-14T22:44:28Z,MERGED,True,3,404,12,None,Remove WinXP support,1,[],https://github.com/uTox/uTox/pull/1407,None,2,https://github.com/uTox/uTox/pull/1407#issuecomment-568193923,This change is‚ÄÇ,Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1407,2019-12-15T00:11:34Z,2019-12-21T21:41:31Z,2020-04-14T22:44:28Z,MERGED,True,3,404,12,None,Remove WinXP support,1,[],https://github.com/uTox/uTox/pull/1407,None,3,https://github.com/uTox/uTox/pull/1407#issuecomment-568193992,This change is‚ÄÇ,"LInes deleted: 404
Perfect.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1407,2019-12-15T00:11:34Z,2019-12-21T21:41:31Z,2020-04-14T22:44:28Z,MERGED,True,3,404,12,None,Remove WinXP support,1,[],https://github.com/uTox/uTox/pull/1407,None,4,https://github.com/uTox/uTox/pull/1407#issuecomment-613459874,This change is‚ÄÇ,"petition to include a compillable old version that works with xp.
me and other folks (username1565) have been trying unsuccesfully to do that for a while, but now this decision fucks us up even more in the try while you offer little to no help in that regard.
to date it is near to impossible to compile from source any past version.
thanks for your comprehension",True,{}
uTox/uTox,https://github.com/uTox/uTox,1407,2019-12-15T00:11:34Z,2019-12-21T21:41:31Z,2020-04-14T22:44:28Z,MERGED,True,3,404,12,None,Remove WinXP support,1,[],https://github.com/uTox/uTox/pull/1407,None,5,https://github.com/uTox/uTox/pull/1407#issuecomment-613567644,This change is‚ÄÇ,"Microsoft dropped support for Windows XP. So the right place to complain is at Microsoft.
uTox is software with a strong focus on security. Supporting an obsolete and rotting operating system would send bad signals and put our users at risk, and Tox users as a whole. uTox won't be responsible for that. uTox will never support Windows XP anymore.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1407,2019-12-15T00:11:34Z,2019-12-21T21:41:31Z,2020-04-14T22:44:28Z,MERGED,True,3,404,12,None,Remove WinXP support,1,[],https://github.com/uTox/uTox/pull/1407,https://github.com/robinlinden,6,https://github.com/uTox/uTox/pull/1407#issuecomment-613578023,This change is‚ÄÇ,"@victordesfe If you want a version of uTox that compiles for Windows XP, your best bet is to check out 0bcfead and build that. It's the commit before the one that removed support for Windows XP.",True,{'THUMBS_UP': ['https://github.com/endoffile78']}
uTox/uTox,https://github.com/uTox/uTox,1407,2019-12-15T00:11:34Z,2019-12-21T21:41:31Z,2020-04-14T22:44:28Z,MERGED,True,3,404,12,None,Remove WinXP support,1,[],https://github.com/uTox/uTox/pull/1407,https://github.com/endoffile78,7,https://github.com/uTox/uTox/pull/1407#issuecomment-613717249,This change is‚ÄÇ,@victordesfe If possible please consider upgrading to a new version of Windows. Windows XP is no longer supported by Microsoft and does not receive security update putting yourself at risk to being the victim of exploits found after Microsoft quit supporting XP. If you do not like newer versions of Windows or they don't run well with the hardware you have then consider switching to Linux. Ubunutu or Linux Minut would be a good beginner distro.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1413,2020-01-23T18:14:24Z,2020-03-01T00:22:24Z,2020-03-01T00:23:00Z,MERGED,True,476,275,20,https://github.com/eclipseo,Mark global variable as extern,2,[],https://github.com/uTox/uTox/pull/1413,https://github.com/eclipseo,1,https://github.com/uTox/uTox/pull/1413,"GCC now defaults to -fno-common. As a result, global variable accesses
are more efficient on various targets. In C, global variables with
multiple tentative definitions now result in linker errors.
Fix #1412
Signed-off-by: Robert-Andr√© Mauchin zebob.m@gmail.com


This change is‚ÄÇ","GCC now defaults to -fno-common. As a result, global variable accesses
are more efficient on various targets. In C, global variables with
multiple tentative definitions now result in linker errors.
Fix #1412
Signed-off-by: Robert-Andr√© Mauchin zebob.m@gmail.com


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1413,2020-01-23T18:14:24Z,2020-03-01T00:22:24Z,2020-03-01T00:23:00Z,MERGED,True,476,275,20,https://github.com/eclipseo,Mark global variable as extern,2,[],https://github.com/uTox/uTox/pull/1413,None,2,https://github.com/uTox/uTox/pull/1413#issuecomment-592995998,"GCC now defaults to -fno-common. As a result, global variable accesses
are more efficient on various targets. In C, global variables with
multiple tentative definitions now result in linker errors.
Fix #1412
Signed-off-by: Robert-Andr√© Mauchin zebob.m@gmail.com


This change is‚ÄÇ",Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1413,2020-01-23T18:14:24Z,2020-03-01T00:22:24Z,2020-03-01T00:23:00Z,MERGED,True,476,275,20,https://github.com/eclipseo,Mark global variable as extern,2,[],https://github.com/uTox/uTox/pull/1413,None,3,https://github.com/uTox/uTox/pull/1413#issuecomment-593019969,"GCC now defaults to -fno-common. As a result, global variable accesses
are more efficient on various targets. In C, global variables with
multiple tentative definitions now result in linker errors.
Fix #1412
Signed-off-by: Robert-Andr√© Mauchin zebob.m@gmail.com


This change is‚ÄÇ",Thanks!,True,{'THUMBS_UP': ['https://github.com/eclipseo']}
uTox/uTox,https://github.com/uTox/uTox,1422,2020-03-01T08:37:39Z,2020-03-01T09:55:11Z,2020-03-01T09:56:13Z,CLOSED,False,1,2,1,None,Travis: Linux: disable test_updater,1,[],https://github.com/uTox/uTox/pull/1422,None,1,https://github.com/uTox/uTox/pull/1422,"The test now fails due to the utox.io domain being expired.


This change is‚ÄÇ","The test now fails due to the utox.io domain being expired.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1422,2020-03-01T08:37:39Z,2020-03-01T09:55:11Z,2020-03-01T09:56:13Z,CLOSED,False,1,2,1,None,Travis: Linux: disable test_updater,1,[],https://github.com/uTox/uTox/pull/1422,None,2,https://github.com/uTox/uTox/pull/1422#issuecomment-593077459,"The test now fails due to the utox.io domain being expired.


This change is‚ÄÇ",Merged.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1425,2020-03-06T20:20:32Z,2020-03-11T08:59:48Z,2020-03-11T09:05:08Z,MERGED,True,22,5,3,None,Static toxcore,4,[],https://github.com/uTox/uTox/pull/1425,None,1,https://github.com/uTox/uTox/pull/1425,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1425,2020-03-06T20:20:32Z,2020-03-11T08:59:48Z,2020-03-11T09:05:08Z,MERGED,True,22,5,3,None,Static toxcore,4,[],https://github.com/uTox/uTox/pull/1425,None,2,https://github.com/uTox/uTox/pull/1425#issuecomment-597224883,This change is‚ÄÇ,"Rebased, done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1425,2020-03-06T20:20:32Z,2020-03-11T08:59:48Z,2020-03-11T09:05:08Z,MERGED,True,22,5,3,None,Static toxcore,4,[],https://github.com/uTox/uTox/pull/1425,None,3,https://github.com/uTox/uTox/pull/1425#issuecomment-597517263,This change is‚ÄÇ,Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1426,2020-03-09T22:15:45Z,2020-03-10T11:18:41Z,2020-03-10T19:09:28Z,MERGED,True,0,3,1,https://github.com/robinlinden,Don't pass 2 of every flags in CFLAGS,1,[],https://github.com/uTox/uTox/pull/1426,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1426,"The variable CMAKE_C_FLAGS is initialised from CFLAGS by CMake, see:
https://cmake.org/cmake/help/latest/variable/CMAKE_LANG_FLAGS.html


This change is‚ÄÇ","The variable CMAKE_C_FLAGS is initialised from CFLAGS by CMake, see:
https://cmake.org/cmake/help/latest/variable/CMAKE_LANG_FLAGS.html


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1426,2020-03-09T22:15:45Z,2020-03-10T11:18:41Z,2020-03-10T19:09:28Z,MERGED,True,0,3,1,https://github.com/robinlinden,Don't pass 2 of every flags in CFLAGS,1,[],https://github.com/uTox/uTox/pull/1426,None,2,https://github.com/uTox/uTox/pull/1426#issuecomment-597034411,"The variable CMAKE_C_FLAGS is initialised from CFLAGS by CMake, see:
https://cmake.org/cmake/help/latest/variable/CMAKE_LANG_FLAGS.html


This change is‚ÄÇ",Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1427,2020-03-10T00:03:16Z,2020-04-15T22:24:02Z,2020-04-15T22:24:02Z,CLOSED,False,122,52,24,https://github.com/robinlinden,WIP: Use FetchContent to pull in third-party dependencies,3,[],https://github.com/uTox/uTox/pull/1427,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1427,"Not sure if this is something we want to do, but I wanted to have a look at how our CMake would look like without building random libraries into main uTox.
Per https://cmake.org/cmake/help/latest/module/FetchContent.html you can e.g. set FETCHCONTENT_SOURCE_DIR_libname to an alternative source dir to stop CMake from downloading anything. Another improvement might be to add a variable to use Findlibname instead of the FetchContent-stuff.


This change is‚ÄÇ","Not sure if this is something we want to do, but I wanted to have a look at how our CMake would look like without building random libraries into main uTox.
Per https://cmake.org/cmake/help/latest/module/FetchContent.html you can e.g. set FETCHCONTENT_SOURCE_DIR_libname to an alternative source dir to stop CMake from downloading anything. Another improvement might be to add a variable to use Findlibname instead of the FetchContent-stuff.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1427,2020-03-10T00:03:16Z,2020-04-15T22:24:02Z,2020-04-15T22:24:02Z,CLOSED,False,122,52,24,https://github.com/robinlinden,WIP: Use FetchContent to pull in third-party dependencies,3,[],https://github.com/uTox/uTox/pull/1427,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1427#issuecomment-614310021,"Not sure if this is something we want to do, but I wanted to have a look at how our CMake would look like without building random libraries into main uTox.
Per https://cmake.org/cmake/help/latest/module/FetchContent.html you can e.g. set FETCHCONTENT_SOURCE_DIR_libname to an alternative source dir to stop CMake from downloading anything. Another improvement might be to add a variable to use Findlibname instead of the FetchContent-stuff.


This change is‚ÄÇ",Closing. Will reopen if this is something we want to do at some point in the future.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1428,2020-03-13T18:06:13Z,2020-03-15T22:47:26Z,2020-03-15T22:48:24Z,MERGED,True,90,44,17,None,Static libs,6,[],https://github.com/uTox/uTox/pull/1428,None,1,https://github.com/uTox/uTox/pull/1428,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1428,2020-03-13T18:06:13Z,2020-03-15T22:47:26Z,2020-03-15T22:48:24Z,MERGED,True,90,44,17,None,Static libs,6,[],https://github.com/uTox/uTox/pull/1428,None,2,https://github.com/uTox/uTox/pull/1428#issuecomment-599144964,This change is‚ÄÇ,This batch is done now.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1432,2020-04-01T03:51:50Z,2020-04-06T20:45:01Z,2020-04-12T17:32:49Z,MERGED,True,155,196,19,None,Remove globals.c,2,[],https://github.com/uTox/uTox/pull/1432,None,1,https://github.com/uTox/uTox/pull/1432,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1432,2020-04-01T03:51:50Z,2020-04-06T20:45:01Z,2020-04-12T17:32:49Z,MERGED,True,155,196,19,None,Remove globals.c,2,[],https://github.com/uTox/uTox/pull/1432,None,2,https://github.com/uTox/uTox/pull/1432#issuecomment-608055264,This change is‚ÄÇ,Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1432,2020-04-01T03:51:50Z,2020-04-06T20:45:01Z,2020-04-12T17:32:49Z,MERGED,True,155,196,19,None,Remove globals.c,2,[],https://github.com/uTox/uTox/pull/1432,https://github.com/GrayHatter,3,https://github.com/uTox/uTox/pull/1432#issuecomment-612650022,This change is‚ÄÇ,üëç,True,{}
uTox/uTox,https://github.com/uTox/uTox,1433,2020-04-01T04:58:44Z,2020-04-01T21:53:40Z,2020-04-01T22:40:15Z,CLOSED,False,8,0,1,None,add installation instructions using Guix package manager,1,[],https://github.com/uTox/uTox/pull/1433,None,1,https://github.com/uTox/uTox/pull/1433,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1434,2020-04-01T05:57:47Z,2020-04-06T21:19:28Z,2020-04-12T22:09:31Z,MERGED,True,22,740,32,None,Remove auto-updater,1,[],https://github.com/uTox/uTox/pull/1434,None,1,https://github.com/uTox/uTox/pull/1434,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1434,2020-04-01T05:57:47Z,2020-04-06T21:19:28Z,2020-04-12T22:09:31Z,MERGED,True,22,740,32,None,Remove auto-updater,1,[],https://github.com/uTox/uTox/pull/1434,None,2,https://github.com/uTox/uTox/pull/1434#issuecomment-608056773,This change is‚ÄÇ,Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1434,2020-04-01T05:57:47Z,2020-04-06T21:19:28Z,2020-04-12T22:09:31Z,MERGED,True,22,740,32,None,Remove auto-updater,1,[],https://github.com/uTox/uTox/pull/1434,None,3,https://github.com/uTox/uTox/pull/1434#issuecomment-610035573,This change is‚ÄÇ,Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1434,2020-04-01T05:57:47Z,2020-04-06T21:19:28Z,2020-04-12T22:09:31Z,MERGED,True,22,740,32,None,Remove auto-updater,1,[],https://github.com/uTox/uTox/pull/1434,None,4,https://github.com/uTox/uTox/pull/1434#issuecomment-610037079,This change is‚ÄÇ,Squashed.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1434,2020-04-01T05:57:47Z,2020-04-06T21:19:28Z,2020-04-12T22:09:31Z,MERGED,True,22,740,32,None,Remove auto-updater,1,[],https://github.com/uTox/uTox/pull/1434,https://github.com/GrayHatter,5,https://github.com/uTox/uTox/pull/1434#issuecomment-612649835,This change is‚ÄÇ,"I'm not sure I would have approved this change...
Why was deleting everything better than trying to fix it, or comment it out?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1434,2020-04-01T05:57:47Z,2020-04-06T21:19:28Z,2020-04-12T22:09:31Z,MERGED,True,22,740,32,None,Remove auto-updater,1,[],https://github.com/uTox/uTox/pull/1434,None,6,https://github.com/uTox/uTox/pull/1434#issuecomment-612683544,This change is‚ÄÇ,"Windows is unmaintained and there are no updates to uTox, anyway. Nobody would have fixed it for a long time (if ever) and we don't even own that domain anymore. And I don't want to kid anybody. It's just one more broken promise that disappoints and makes a bad impression. And I don't want to see uTox in such a bad state, either.
For the little activity that uTox is seeing, @robinlinden may build binaries for releases. Speaking of releases, I want to do them more often and more regularly, too.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1435,2020-04-01T21:50:36Z,2020-04-02T18:53:43Z,2020-04-02T19:39:00Z,MERGED,True,10,0,1,https://github.com/metallicmole,doc: add instructions to install from Guix,1,[],https://github.com/uTox/uTox/pull/1435,https://github.com/metallicmole,1,https://github.com/uTox/uTox/pull/1435,"This PR replaces #1433.


This change is‚ÄÇ","This PR replaces #1433.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1435,2020-04-01T21:50:36Z,2020-04-02T18:53:43Z,2020-04-02T19:39:00Z,MERGED,True,10,0,1,https://github.com/metallicmole,doc: add instructions to install from Guix,1,[],https://github.com/uTox/uTox/pull/1435,https://github.com/metallicmole,2,https://github.com/uTox/uTox/pull/1435#issuecomment-608035709,"This PR replaces #1433.


This change is‚ÄÇ",Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1436,2020-04-02T00:59:57Z,2020-04-02T18:09:26Z,2020-04-02T18:16:57Z,MERGED,True,25,0,1,https://github.com/metallicmole,doc: add keybindings to manpage,1,[],https://github.com/uTox/uTox/pull/1436,https://github.com/metallicmole,1,https://github.com/uTox/uTox/pull/1436,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1439,2020-04-12T20:24:18Z,2020-04-12T22:29:48Z,2020-04-12T22:32:49Z,MERGED,True,10,4,1,None,Fix a crash when adding a friend to a group,1,[],https://github.com/uTox/uTox/pull/1439,None,1,https://github.com/uTox/uTox/pull/1439,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1440,2020-04-13T22:51:50Z,2020-04-14T21:10:05Z,2020-04-14T21:10:48Z,MERGED,True,2,0,2,https://github.com/robinlinden,Fix implicit fallthrough warnings in Windows,1,[],https://github.com/uTox/uTox/pull/1440,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1440,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1440,2020-04-13T22:51:50Z,2020-04-14T21:10:05Z,2020-04-14T21:10:48Z,MERGED,True,2,0,2,https://github.com/robinlinden,Fix implicit fallthrough warnings in Windows,1,[],https://github.com/uTox/uTox/pull/1440,None,2,https://github.com/uTox/uTox/pull/1440#issuecomment-613683370,This change is‚ÄÇ,Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1442,2020-04-14T17:31:49Z,2020-04-18T15:09:34Z,2020-04-18T15:32:11Z,MERGED,True,3,3,1,https://github.com/redmanmale,Fix offset of the typing notification,1,[],https://github.com/uTox/uTox/pull/1442,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1442,"Before - after:



This change is‚ÄÇ","Before - after:



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1442,2020-04-14T17:31:49Z,2020-04-18T15:09:34Z,2020-04-18T15:32:11Z,MERGED,True,3,3,1,https://github.com/redmanmale,Fix offset of the typing notification,1,[],https://github.com/uTox/uTox/pull/1442,None,2,https://github.com/uTox/uTox/pull/1442#issuecomment-615876584,"Before - after:



This change is‚ÄÇ","It's good, please rebase!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1442,2020-04-14T17:31:49Z,2020-04-18T15:09:34Z,2020-04-18T15:32:11Z,MERGED,True,3,3,1,https://github.com/redmanmale,Fix offset of the typing notification,1,[],https://github.com/uTox/uTox/pull/1442,None,3,https://github.com/uTox/uTox/pull/1442#issuecomment-615887035,"Before - after:



This change is‚ÄÇ",Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1444,2020-04-15T12:35:43Z,2020-04-16T22:12:36Z,2020-04-17T18:42:22Z,MERGED,True,4,4,2,https://github.com/redmanmale,Fix Windows build docs,2,[],https://github.com/uTox/uTox/pull/1444,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1444,"Also update Appveyor build.
This flag needs to avoid showing cmd window when running uTox.
Fixes #1443


This change is‚ÄÇ","Also update Appveyor build.
This flag needs to avoid showing cmd window when running uTox.
Fixes #1443


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1444,2020-04-15T12:35:43Z,2020-04-16T22:12:36Z,2020-04-17T18:42:22Z,MERGED,True,4,4,2,https://github.com/redmanmale,Fix Windows build docs,2,[],https://github.com/uTox/uTox/pull/1444,None,2,https://github.com/uTox/uTox/pull/1444#issuecomment-614342151,"Also update Appveyor build.
This flag needs to avoid showing cmd window when running uTox.
Fixes #1443


This change is‚ÄÇ",Looks good! Please rebase.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1444,2020-04-15T12:35:43Z,2020-04-16T22:12:36Z,2020-04-17T18:42:22Z,MERGED,True,4,4,2,https://github.com/redmanmale,Fix Windows build docs,2,[],https://github.com/uTox/uTox/pull/1444,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1444#issuecomment-614829841,"Also update Appveyor build.
This flag needs to avoid showing cmd window when running uTox.
Fixes #1443


This change is‚ÄÇ",Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1444,2020-04-15T12:35:43Z,2020-04-16T22:12:36Z,2020-04-17T18:42:22Z,MERGED,True,4,4,2,https://github.com/redmanmale,Fix Windows build docs,2,[],https://github.com/uTox/uTox/pull/1444,None,4,https://github.com/uTox/uTox/pull/1444#issuecomment-614923939,"Also update Appveyor build.
This flag needs to avoid showing cmd window when running uTox.
Fixes #1443


This change is‚ÄÇ",Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1445,2020-04-15T19:13:37Z,2020-04-15T23:43:28Z,2020-04-15T23:43:28Z,MERGED,True,101,57,23,https://github.com/robinlinden,Give third-party libraries their own targets,1,[],https://github.com/uTox/uTox/pull/1445,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1445,"Not sure what include style to go with, but overall I think this is fine. After this I can probably enable -Werror on Windows as I can selectively disable warnings in third-party code without it affecting any other part of uTox. This change also makes it explicit (in CMake) what depends on the third-party code as you have to depend on the target to pull in the headers.
I renamed the third-party folder to third_party in part because git wouldn't let me add submodules under where the old ones lived, and in part because third_party seems more common(?).


This change is‚ÄÇ","Not sure what include style to go with, but overall I think this is fine. After this I can probably enable -Werror on Windows as I can selectively disable warnings in third-party code without it affecting any other part of uTox. This change also makes it explicit (in CMake) what depends on the third-party code as you have to depend on the target to pull in the headers.
I renamed the third-party folder to third_party in part because git wouldn't let me add submodules under where the old ones lived, and in part because third_party seems more common(?).


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1446,2020-04-15T21:27:22Z,2020-04-15T22:40:39Z,2020-04-15T22:40:42Z,MERGED,True,19,12,4,https://github.com/robinlinden,Allow building Windows w/ -fno-common,1,[],https://github.com/uTox/uTox/pull/1446,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1446,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1448,2020-04-16T07:40:53Z,2020-04-18T12:17:16Z,2020-04-18T12:17:16Z,MERGED,True,7,16,6,https://github.com/robinlinden,Fix Travis,4,[],https://github.com/uTox/uTox/pull/1448,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1448,"I broke it in the last PR, and when trying to fix it it couldn't download libshell32 from cmdline.org and it seems to build without that download anyway?
We should re-enable the pre-merge Travis check. :D


This change is‚ÄÇ","I broke it in the last PR, and when trying to fix it it couldn't download libshell32 from cmdline.org and it seems to build without that download anyway?
We should re-enable the pre-merge Travis check. :D


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1448,2020-04-16T07:40:53Z,2020-04-18T12:17:16Z,2020-04-18T12:17:16Z,MERGED,True,7,16,6,https://github.com/robinlinden,Fix Travis,4,[],https://github.com/uTox/uTox/pull/1448,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1448#issuecomment-615844154,"I broke it in the last PR, and when trying to fix it it couldn't download libshell32 from cmdline.org and it seems to build without that download anyway?
We should re-enable the pre-merge Travis check. :D


This change is‚ÄÇ",Are these switches on in uTox project settings on Travis?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1448,2020-04-16T07:40:53Z,2020-04-18T12:17:16Z,2020-04-18T12:17:16Z,MERGED,True,7,16,6,https://github.com/robinlinden,Fix Travis,4,[],https://github.com/uTox/uTox/pull/1448,https://github.com/robinlinden,3,https://github.com/uTox/uTox/pull/1448#issuecomment-615852541,"I broke it in the last PR, and when trying to fix it it couldn't download libshell32 from cmdline.org and it seems to build without that download anyway?
We should re-enable the pre-merge Travis check. :D


This change is‚ÄÇ","Yeah, it's all enabled and it builds on every PR, we just don't get the status here. :(
https://travis-ci.org/github/uTox/uTox
Travis is an optional check on PRs though. I'll try making it mandatory and see if that helps it run.
Edit: I don't have permissions to do anything. I've pinged grayhatter about it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1449,2020-04-17T21:03:34Z,2020-04-18T11:23:24Z,2020-06-20T09:35:36Z,CLOSED,False,2,2,2,https://github.com/redmanmale,Update Cygwin packages for Windows build,1,[],https://github.com/uTox/uTox/pull/1449,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1449,"to be able to build dependencies with Cmake after #1445.
The Appveyor build haven't fail because it has already pre-installed this package.


This change is‚ÄÇ","to be able to build dependencies with Cmake after #1445.
The Appveyor build haven't fail because it has already pre-installed this package.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1449,2020-04-17T21:03:34Z,2020-04-18T11:23:24Z,2020-06-20T09:35:36Z,CLOSED,False,2,2,2,https://github.com/redmanmale,Update Cygwin packages for Windows build,1,[],https://github.com/uTox/uTox/pull/1449,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1449#issuecomment-615493271,"to be able to build dependencies with Cmake after #1445.
The Appveyor build haven't fail because it has already pre-installed this package.


This change is‚ÄÇ",This is fixed by #1448. The dependency to a C++ compiler was a mistake and Travis caught it and sent me an email. I'm not sure why Travis doesn't run on PRs anymore. :(,True,{}
uTox/uTox,https://github.com/uTox/uTox,1449,2020-04-17T21:03:34Z,2020-04-18T11:23:24Z,2020-06-20T09:35:36Z,CLOSED,False,2,2,2,https://github.com/redmanmale,Update Cygwin packages for Windows build,1,[],https://github.com/uTox/uTox/pull/1449,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1449#issuecomment-615845163,"to be able to build dependencies with Cmake after #1445.
The Appveyor build haven't fail because it has already pre-installed this package.


This change is‚ÄÇ","Got it!
I've spent couple of hours yesterday trying to fix my local uTox build.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1450,2020-04-18T17:43:53Z,2020-04-18T21:20:43Z,2020-04-18T21:22:14Z,MERGED,True,29,23,1,None,Update German translation,1,[],https://github.com/uTox/uTox/pull/1450,None,1,https://github.com/uTox/uTox/pull/1450,"This is an email submission.


This change is‚ÄÇ","This is an email submission.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1451,2020-04-19T17:55:32Z,2020-04-20T19:48:17Z,2020-04-20T19:55:15Z,MERGED,True,176,198,3,https://github.com/redmanmale,Remove separate Windows main for Win7,3,[],https://github.com/uTox/uTox/pull/1451,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1451,"After dropping Windows XP support and removing main.XP.c there's no point for having some Windows functions in the separate main.7.c

all functions moved from main.7.c to main.c for Windows
small logging cleanup
couple minor style fixes
removed unused includes from main.c



This change is‚ÄÇ","After dropping Windows XP support and removing main.XP.c there's no point for having some Windows functions in the separate main.7.c

all functions moved from main.7.c to main.c for Windows
small logging cleanup
couple minor style fixes
removed unused includes from main.c



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1451,2020-04-19T17:55:32Z,2020-04-20T19:48:17Z,2020-04-20T19:55:15Z,MERGED,True,176,198,3,https://github.com/redmanmale,Remove separate Windows main for Win7,3,[],https://github.com/uTox/uTox/pull/1451,None,2,https://github.com/uTox/uTox/pull/1451#issuecomment-616220493,"After dropping Windows XP support and removing main.XP.c there's no point for having some Windows functions in the separate main.7.c

all functions moved from main.7.c to main.c for Windows
small logging cleanup
couple minor style fixes
removed unused includes from main.c



This change is‚ÄÇ","Wasn't the commit message supposed to be ""NATIVE -> Windows""? Do you want to change it?
Otherwise looks good to me.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1451,2020-04-19T17:55:32Z,2020-04-20T19:48:17Z,2020-04-20T19:55:15Z,MERGED,True,176,198,3,https://github.com/redmanmale,Remove separate Windows main for Win7,3,[],https://github.com/uTox/uTox/pull/1451,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1451#issuecomment-616374850,"After dropping Windows XP support and removing main.XP.c there's no point for having some Windows functions in the separate main.7.c

all functions moved from main.7.c to main.c for Windows
small logging cleanup
couple minor style fixes
removed unused includes from main.c



This change is‚ÄÇ","Wasn't the commit message supposed to be ""NATIVE -> Windows""?

Yeah, you're right. My bad.
Fixed.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1451,2020-04-19T17:55:32Z,2020-04-20T19:48:17Z,2020-04-20T19:55:15Z,MERGED,True,176,198,3,https://github.com/redmanmale,Remove separate Windows main for Win7,3,[],https://github.com/uTox/uTox/pull/1451,None,4,https://github.com/uTox/uTox/pull/1451#issuecomment-616737045,"After dropping Windows XP support and removing main.XP.c there's no point for having some Windows functions in the separate main.7.c

all functions moved from main.7.c to main.c for Windows
small logging cleanup
couple minor style fixes
removed unused includes from main.c



This change is‚ÄÇ","Thanks, @GrayHatter!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1452,2020-04-20T23:37:08Z,2020-04-21T17:22:25Z,2020-05-14T18:24:45Z,MERGED,True,79,79,18,None,Rename some flist functions,4,[],https://github.com/uTox/uTox/pull/1452,None,1,https://github.com/uTox/uTox/pull/1452,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1452,2020-04-20T23:37:08Z,2020-04-21T17:22:25Z,2020-05-14T18:24:45Z,MERGED,True,79,79,18,None,Rename some flist functions,4,[],https://github.com/uTox/uTox/pull/1452,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1452#issuecomment-628809617,This change is‚ÄÇ,"@avoidr selected != current. you have have selected one friend, but a different one could be current
e.g.
mouse down selects
utox can do something else (validate state)
mouse up changes the current from old -> new

I don't think you should change it, I'm just being pedantic.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1453,2020-04-21T19:17:43Z,2020-04-23T23:20:21Z,2020-04-23T23:24:35Z,CLOSED,False,7,9,1,None,Minor indentation fix,2,[],https://github.com/uTox/uTox/pull/1453,None,1,https://github.com/uTox/uTox/pull/1453,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1453,2020-04-21T19:17:43Z,2020-04-23T23:20:21Z,2020-04-23T23:24:35Z,CLOSED,False,7,9,1,None,Minor indentation fix,2,[],https://github.com/uTox/uTox/pull/1453,None,2,https://github.com/uTox/uTox/pull/1453#issuecomment-618719733,This change is‚ÄÇ,I am not touching that fucking code.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1455,2020-04-23T20:42:41Z,2020-04-24T18:44:09Z,2020-04-24T19:04:28Z,MERGED,True,11,10,2,https://github.com/redmanmale,Update build docs for Windows x86,2,[],https://github.com/uTox/uTox/pull/1455,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1455,"update build docs for Windows x86
point Appveyor badge to official uTox repo



This change is‚ÄÇ","update build docs for Windows x86
point Appveyor badge to official uTox repo



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1455,2020-04-23T20:42:41Z,2020-04-24T18:44:09Z,2020-04-24T19:04:28Z,MERGED,True,11,10,2,https://github.com/redmanmale,Update build docs for Windows x86,2,[],https://github.com/uTox/uTox/pull/1455,None,2,https://github.com/uTox/uTox/pull/1455#issuecomment-619181996,"update build docs for Windows x86
point Appveyor badge to official uTox repo



This change is‚ÄÇ",Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1456,2020-04-25T09:21:48Z,2020-04-25T19:41:23Z,2020-04-25T19:42:01Z,MERGED,True,4,0,3,None,CHANGELOG.md: redirect to release_notes/,1,[],https://github.com/uTox/uTox/pull/1456,None,1,https://github.com/uTox/uTox/pull/1456,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1456,2020-04-25T09:21:48Z,2020-04-25T19:41:23Z,2020-04-25T19:42:01Z,MERGED,True,4,0,3,None,CHANGELOG.md: redirect to release_notes/,1,[],https://github.com/uTox/uTox/pull/1456,https://github.com/redmanmale,2,https://github.com/uTox/uTox/pull/1456#issuecomment-619351424,This change is‚ÄÇ,Why?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1456,2020-04-25T09:21:48Z,2020-04-25T19:41:23Z,2020-04-25T19:42:01Z,MERGED,True,4,0,3,None,CHANGELOG.md: redirect to release_notes/,1,[],https://github.com/uTox/uTox/pull/1456,None,3,https://github.com/uTox/uTox/pull/1456#issuecomment-619365942,This change is‚ÄÇ,"Because our release notes are actually user-friendly and user-relevant. And our linear/grouped git log is now actually useful for developers, too.
And our changelog‚Ä¶ is just a dump of whatever happened on github. And the script that generates it isn't even deterministic, last I remember.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1456,2020-04-25T09:21:48Z,2020-04-25T19:41:23Z,2020-04-25T19:42:01Z,MERGED,True,4,0,3,None,CHANGELOG.md: redirect to release_notes/,1,[],https://github.com/uTox/uTox/pull/1456,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1456#issuecomment-619377374,This change is‚ÄÇ,"Maybe you're right.
But I've got some thoughts on the release notes format.
Commit Id (or multiple) at the end of the line doesn't look very user-friendly and it's not easy to use them since you have to copy-paste it by hand.
I think links to fixed issues and PRs in the Fixes and Features sections respectively look much more nice and handy.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1456,2020-04-25T09:21:48Z,2020-04-25T19:41:23Z,2020-04-25T19:42:01Z,MERGED,True,4,0,3,None,CHANGELOG.md: redirect to release_notes/,1,[],https://github.com/uTox/uTox/pull/1456,None,5,https://github.com/uTox/uTox/pull/1456#issuecomment-619394374,This change is‚ÄÇ,"But what's the real benefit of linking to github issues and PRs? All the relevant info and conclusions should be included in the git log. Otherwise it's a documentation problem. If git log has the info, it should be enough to just give the relevant commit IDs.
I put only the commit hashes at the end, because they are forge-independent, and forges (or at least the one we're currently on, github), automatically make links of them to commits, anyway, and that independence goes away if we made the link explicit. And if you're reading those release notes locally, likely those URLs to a website are of no use to you and you don't need that clutter that comes with them. That would make it actually unusable for the people for whom that info is primarily for.
Basically, by not making the links explicit and absolute, they are always relative, and in my opinion appropriate for the UI they're viewed on.
By the way, my current process of creating release notes is copying relevant lines from git log (--format=format:""%s (@%an) (%H) %H"" --graph <tag>..¬π), perhaps adjusting the title to add context for users. That's trivial and easy enough to do mechanically ‚Äî and redo, consistently and easily verifiably ‚Äî even on the last day before release after months of slacking around. Making that process more tedious again would get us back to square one (no releases for a long time).
¬π Note that the trailing %H is just for easy selecting the commit hash with a double-click, while creating the notes.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1458,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,2,https://github.com/uTox/uTox/pull/1458#issuecomment-622947701,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","I think with d309844 you can also remove DEFAULT_{WIDTH,HEIGHT} and perhaps even DEFAULT_SCALE.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,https://github.com/redmanmale,3,https://github.com/uTox/uTox/pull/1458#issuecomment-622958253,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","I think with d309844 you can also remove DEFAULT_{WIDTH,HEIGHT} and perhaps even DEFAULT_SCALE.

Done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,4,https://github.com/uTox/uTox/pull/1458#issuecomment-622993937,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","I see you have a lot of style fixes here: 48bb461
Can you please keep them in a separate commit?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,https://github.com/redmanmale,5,https://github.com/uTox/uTox/pull/1458#issuecomment-623022442,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","Can you please keep them in a separate commit?

I almost completely rewrote settings .h and .c with new codestyle.
And to keep this two changes separated I would have to do it all again.
So if you don't insist I'd like not do it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,6,https://github.com/uTox/uTox/pull/1458#issuecomment-623871975,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","If you don't mind, I'll split the style changes myself on my own branch, then you can take them if you like it. I'll do that and review later today.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,https://github.com/redmanmale,7,https://github.com/uTox/uTox/pull/1458#issuecomment-623966170,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","Ohh, now I feel a little embarrassed.
And yeah, it would be great, thanks mate!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,8,https://github.com/uTox/uTox/pull/1458#issuecomment-624479209,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","No, it's not like that! It's just that I don't like bothering people with stuff that I want. I would feel awkward myself :P So I prefer to help out a bit rather than make you do annoying things after all this effort you already did.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,9,https://github.com/uTox/uTox/pull/1458#issuecomment-631121523,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","I've split the commit in my branch: avoidr/uTox:save-file-refactoring
I've made the new commit have the same timestamp as the original one. Take a look.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,10,https://github.com/uTox/uTox/pull/1458#issuecomment-631131664,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ",What do you think about creating macros for the write_config_value_* functions?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,https://github.com/redmanmale,11,https://github.com/uTox/uTox/pull/1458#issuecomment-631595175,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","What do you think about creating macros for the write_config_value_* functions?

I'm not sure I understand how to write it.
These funcs have different arg types and differs inside.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,12,https://github.com/uTox/uTox/pull/1458#issuecomment-631596640,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","Yeah, I meant one macro for each function. I believe the lines will be halved and much easier to read and verify with such macros.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,13,https://github.com/uTox/uTox/pull/1458#issuecomment-632435776,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","Generally, your commit messages don't have some info that you put in this PR. Priority should be on commit messages.
For example Refactoring save and load uTox settings is huge and could be split into some smaller pieces. But I don't think we're going to do that. We're going to go with amending commit message to at least mention that config is now written before Tox thread kills. And some other thing I saw.
Remove unused function ‚Üí Remove unused function config_osdefaults()",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,14,https://github.com/uTox/uTox/pull/1458#issuecomment-633159760,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ",Wrote the macros here: d8ad7e9,True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,15,https://github.com/uTox/uTox/pull/1458#issuecomment-641598974,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ",I've split c1e1a5b (Refactoring save and load uTox settings) one last time on my branch: [avoidr/uTox:save-file-refactoring](https://github.com/avoidr/uTox/tree/save-file-refactoring),True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,16,https://github.com/uTox/uTox/pull/1458#issuecomment-641611818,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","I think it would also be good if in Refactoring save and load uTox settings you mentioned that you bumped UTOX_SAVE_VERSION, and that UTOX_SAVE was dropped. Or maybe not. I don't know anymore. It's not a requirement.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,17,https://github.com/uTox/uTox/pull/1458#issuecomment-646224240,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","> -    save->force_proxy                   = settings.force_proxy;
 -
 -    save->audio_device_in               = dropdown_audio_in.selected;
 -    save->audio_device_out              = dropdown_audio_out.selected;
 -    save->theme                         = settings.theme;
 -
 -    save->utox_last_version             = settings.curr_version;
 -    save->group_notifications           = settings.group_notifications;
 -    save->status_notifications          = settings.status_notifications;
 -
 -    save->language                      = settings.language;
 -
 -    memcpy(save->proxy_ip, proxy_address, proxy_address_size);
 +void config_save(void) {
 +    settings.save_version = UTOX_SAVE_VERSION;
 +    settings.filter = flist_get_filter() == 1;

 I thing it's better to keep that way. Explicit is better than implicit and all that.
But `!!` is safer. `flist_get_filter` returns an int, and you only test for one positive value, leaving all other positive values to become 0. So the closest correct thing should be `!= 0`, but that's awkward. `!!` does the right thing, regardless of what type the function returns.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,https://github.com/redmanmale,18,https://github.com/uTox/uTox/pull/1458#issuecomment-646542963,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","I'll make this change.
But personally I don't like treating bool like int. Or vice-versa.
It has only two possible values: 0 and 1. I'd rather make it bool.
But we should see in the future where we could have more values...
I think since this is our code and not some library API we should keep it as simple as it could be.
Two values? Bool.
Third is on the way? No problem, we'll make it int or some enum.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,19,https://github.com/uTox/uTox/pull/1458#issuecomment-646749032,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","But personally I don't like treating bool like int. Or vice-versa.
 It has only two possible values: 0 and 1. I'd better make it bool.
Yes, I think I agree. It's also more specific, so it's auto-documenting. Both, for humans, and compilers.
 But we should see in the future where we could have more values...
 I think since this is our code and not some library API we should keep it as simple as it could be.
 Two values? Bool.
 Third is on the way? No problem, we'll make it int or some enum.
Yes, yes.

I think after this `!!` we're finally done here. Let's make this bool change separately.

Btw, if `flist_get_filter` should really only return 0 or 1, then maybe it can be renamed to something that sounds more like bool‚Ä¶ or maybe it should be something entirely else, I don't know, haven't looked at this function recently.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1458,2020-04-29T20:15:09Z,2020-06-20T08:15:40Z,2020-06-20T09:32:29Z,MERGED,True,351,581,17,https://github.com/redmanmale,Refactoring save and load settings,10,[],https://github.com/uTox/uTox/pull/1458,None,20,https://github.com/uTox/uTox/pull/1458#issuecomment-646962946,"drop old and deprecated settings binary format
drop UTOX_SAVE struct because its only purpose was hold data from SETTINGS struct and dump it to the disk
drop unused function config_osdefaults
all fields in the SETTINGS struct renamed to match fields from UTOX_SAVE because they are loaded from the file with NAMEOF macro and we don't want return to the tons of the consts strings
drop unused parameters (auto_update, ...) and add missing (block_friend_requests)
save settings after failed load attempt (uTox first run)
save settings right after begining of the shutdown process (fixes #1457)
enforce codestyle



This change is‚ÄÇ","I rebased and reworded to add a newline after ""Refactoring save and load uTox settings"".",True,{}
uTox/uTox,https://github.com/uTox/uTox,1462,2020-05-14T00:06:51Z,2020-06-11T19:41:08Z,2020-06-11T19:43:53Z,MERGED,True,24,16,4,https://github.com/endoffile78,Improve group_create,1,[],https://github.com/uTox/uTox/pull/1462,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1462,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1462,2020-05-14T00:06:51Z,2020-06-11T19:41:08Z,2020-06-11T19:43:53Z,MERGED,True,24,16,4,https://github.com/endoffile78,Improve group_create,1,[],https://github.com/uTox/uTox/pull/1462,None,2,https://github.com/uTox/uTox/pull/1462#issuecomment-634335455,This change is‚ÄÇ,Please briefly say in commit message what you changed. And also rebase.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1462,2020-05-14T00:06:51Z,2020-06-11T19:41:08Z,2020-06-11T19:43:53Z,MERGED,True,24,16,4,https://github.com/endoffile78,Improve group_create,1,[],https://github.com/uTox/uTox/pull/1462,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1462#issuecomment-642815997,This change is‚ÄÇ,Done,True,{}
uTox/uTox,https://github.com/uTox/uTox,1462,2020-05-14T00:06:51Z,2020-06-11T19:41:08Z,2020-06-11T19:43:53Z,MERGED,True,24,16,4,https://github.com/endoffile78,Improve group_create,1,[],https://github.com/uTox/uTox/pull/1462,None,4,https://github.com/uTox/uTox/pull/1462#issuecomment-642891264,This change is‚ÄÇ,Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1463,2020-05-14T00:20:19Z,2020-05-20T17:09:56Z,2020-05-24T22:50:50Z,MERGED,True,1,1,1,https://github.com/endoffile78,Update fingerprint,1,[],https://github.com/uTox/uTox/pull/1463,https://github.com/endoffile78,1,https://github.com/uTox/uTox/pull/1463,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1463,2020-05-14T00:20:19Z,2020-05-20T17:09:56Z,2020-05-24T22:50:50Z,MERGED,True,1,1,1,https://github.com/endoffile78,Update fingerprint,1,[],https://github.com/uTox/uTox/pull/1463,None,2,https://github.com/uTox/uTox/pull/1463#issuecomment-628490948,This change is‚ÄÇ,Why are you deleting @GrayHatter's fingerprint?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1463,2020-05-14T00:20:19Z,2020-05-20T17:09:56Z,2020-05-24T22:50:50Z,MERGED,True,1,1,1,https://github.com/endoffile78,Update fingerprint,1,[],https://github.com/uTox/uTox/pull/1463,https://github.com/endoffile78,3,https://github.com/uTox/uTox/pull/1463#issuecomment-628791891,This change is‚ÄÇ,"Sorry I accidentally deleted it, fixed it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1463,2020-05-14T00:20:19Z,2020-05-20T17:09:56Z,2020-05-24T22:50:50Z,MERGED,True,1,1,1,https://github.com/endoffile78,Update fingerprint,1,[],https://github.com/uTox/uTox/pull/1463,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1463#issuecomment-628804846,This change is‚ÄÇ,we're not going to merge this for a week or two,True,{}
uTox/uTox,https://github.com/uTox/uTox,1463,2020-05-14T00:20:19Z,2020-05-20T17:09:56Z,2020-05-24T22:50:50Z,MERGED,True,1,1,1,https://github.com/endoffile78,Update fingerprint,1,[],https://github.com/uTox/uTox/pull/1463,None,5,https://github.com/uTox/uTox/pull/1463#issuecomment-633101141,This change is‚ÄÇ,"@endoffile78, are you going to share your keys, too?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1463,2020-05-14T00:20:19Z,2020-05-20T17:09:56Z,2020-05-24T22:50:50Z,MERGED,True,1,1,1,https://github.com/endoffile78,Update fingerprint,1,[],https://github.com/uTox/uTox/pull/1463,https://github.com/endoffile78,6,https://github.com/uTox/uTox/pull/1463#issuecomment-633309661,This change is‚ÄÇ,@avoidr It should be uploaded now.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1463,2020-05-14T00:20:19Z,2020-05-20T17:09:56Z,2020-05-24T22:50:50Z,MERGED,True,1,1,1,https://github.com/endoffile78,Update fingerprint,1,[],https://github.com/uTox/uTox/pull/1463,None,7,https://github.com/uTox/uTox/pull/1463#issuecomment-633312243,This change is‚ÄÇ,"Yes, now it worked, thanks!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1464,2020-05-16T10:04:27Z,2020-05-20T17:19:39Z,2020-06-20T09:36:21Z,MERGED,True,8,11,3,https://github.com/redmanmale,Update Travis builds,2,[],https://github.com/uTox/uTox/pull/1464,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1464,"remove or update obsolete parameters
use one latest Ubuntu dist (18.04 Bionic) for both Linux and Windows
use our Openal fork with fix for modern CMake



This change is‚ÄÇ","remove or update obsolete parameters
use one latest Ubuntu dist (18.04 Bionic) for both Linux and Windows
use our Openal fork with fix for modern CMake



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1466,2020-05-23T21:06:54Z,2020-05-24T22:04:28Z,2020-05-24T22:08:06Z,MERGED,True,21,39,1,None,Update ja.h [v2],1,[],https://github.com/uTox/uTox/pull/1466,None,1,https://github.com/uTox/uTox/pull/1466,"v2 of #1192

This change is‚ÄÇ","v2 of #1192

This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1466,2020-05-23T21:06:54Z,2020-05-24T22:04:28Z,2020-05-24T22:08:06Z,MERGED,True,21,39,1,None,Update ja.h [v2],1,[],https://github.com/uTox/uTox/pull/1466,None,2,https://github.com/uTox/uTox/pull/1466#issuecomment-633307715,"v2 of #1192

This change is‚ÄÇ","@xfm00mm, merged! Sorry it took so long.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1467,2020-05-23T22:47:23Z,2020-05-24T22:38:28Z,2020-05-24T22:38:54Z,MERGED,True,8,2,2,None,Document and simplify filter_audio_check(),1,[],https://github.com/uTox/uTox/pull/1467,None,1,https://github.com/uTox/uTox/pull/1467,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1467,2020-05-23T22:47:23Z,2020-05-24T22:38:28Z,2020-05-24T22:38:54Z,MERGED,True,8,2,2,None,Document and simplify filter_audio_check(),1,[],https://github.com/uTox/uTox/pull/1467,None,2,https://github.com/uTox/uTox/pull/1467#issuecomment-633309727,This change is‚ÄÇ,Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1468,2020-05-24T01:43:48Z,2020-05-24T22:13:16Z,2020-05-24T22:13:43Z,MERGED,True,3,0,1,None,Fix crash when mouse is down on an flist item and goes outside of flist,1,[],https://github.com/uTox/uTox/pull/1468,None,1,https://github.com/uTox/uTox/pull/1468,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1469,2020-05-24T04:07:00Z,2020-05-24T22:20:41Z,2020-05-24T22:21:32Z,MERGED,True,16,14,5,None,Update man page and help text,9,[],https://github.com/uTox/uTox/pull/1469,None,1,https://github.com/uTox/uTox/pull/1469,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1473,2020-06-02T22:50:53Z,2020-06-11T20:27:28Z,2020-06-11T20:38:39Z,MERGED,True,2,1,1,https://github.com/GrayHatter,"aTox is love, aTox is life!",1,[],https://github.com/uTox/uTox/pull/1473,https://github.com/GrayHatter,1,https://github.com/uTox/uTox/pull/1473,"close #1465


This change is‚ÄÇ","close #1465


This change is‚ÄÇ",True,"{'HEART': ['https://github.com/robinlinden'], 'THUMBS_UP': ['https://github.com/endoffile78']}"
uTox/uTox,https://github.com/uTox/uTox,1473,2020-06-02T22:50:53Z,2020-06-11T20:27:28Z,2020-06-11T20:38:39Z,MERGED,True,2,1,1,https://github.com/GrayHatter,"aTox is love, aTox is life!",1,[],https://github.com/uTox/uTox/pull/1473,None,2,https://github.com/uTox/uTox/pull/1473#issuecomment-637859796,"close #1465


This change is‚ÄÇ","Maybe you want to rebase, you're 118 commits behind.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1473,2020-06-02T22:50:53Z,2020-06-11T20:27:28Z,2020-06-11T20:38:39Z,MERGED,True,2,1,1,https://github.com/GrayHatter,"aTox is love, aTox is life!",1,[],https://github.com/uTox/uTox/pull/1473,None,3,https://github.com/uTox/uTox/pull/1473#issuecomment-642914541,"close #1465


This change is‚ÄÇ","Thanks!

Congratulations, @robinlinden!",True,{'HEART': ['https://github.com/robinlinden']}
uTox/uTox,https://github.com/uTox/uTox,1476,2020-06-20T09:57:11Z,2020-06-20T14:06:50Z,2020-06-20T15:32:14Z,MERGED,True,24,29,2,https://github.com/redmanmale,Update REAMDE and INSTALL,3,[],https://github.com/uTox/uTox/pull/1476,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1476,"clean up a bit, drop obsolete links
move Windows section up, fix table of contents



This change is‚ÄÇ","clean up a bit, drop obsolete links
move Windows section up, fix table of contents



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1476,2020-06-20T09:57:11Z,2020-06-20T14:06:50Z,2020-06-20T15:32:14Z,MERGED,True,24,29,2,https://github.com/redmanmale,Update REAMDE and INSTALL,3,[],https://github.com/uTox/uTox/pull/1476,None,2,https://github.com/uTox/uTox/pull/1476#issuecomment-646983984,"clean up a bit, drop obsolete links
move Windows section up, fix table of contents



This change is‚ÄÇ","+Also [Jenkins](https://build.tox.chat) offers automatically compiled binaries.
Are the Jenkins builds still a thing? They are way old. Do we want to point there?
 +Installing on windows isn't really a thing yet... just download and run the latest version: [x64](https://github.com/uTox/uTox/releases/download/v0.17.2/utox_x86_64.exe).
s/windows/Windows/
 +Install uTox from the [Google Play]
s/the //",True,{}
uTox/uTox,https://github.com/uTox/uTox,1479,2020-06-23T22:33:52Z,2020-06-25T12:42:38Z,2020-06-25T12:43:36Z,MERGED,True,47,39,6,None,Rearrange Readme,8,[],https://github.com/uTox/uTox/pull/1479,None,1,https://github.com/uTox/uTox/pull/1479,"This is basically how I would like to see the readme.
Do we want to make the operating systems bold again? I wasn't sure.
Gonna s/peer2peer/peer-to-peer/, too, I think.


This change is‚ÄÇ","This is basically how I would like to see the readme.
Do we want to make the operating systems bold again? I wasn't sure.
Gonna s/peer2peer/peer-to-peer/, too, I think.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1479,2020-06-23T22:33:52Z,2020-06-25T12:42:38Z,2020-06-25T12:43:36Z,MERGED,True,47,39,6,None,Rearrange Readme,8,[],https://github.com/uTox/uTox/pull/1479,None,2,https://github.com/uTox/uTox/pull/1479#issuecomment-648466399,"This is basically how I would like to see the readme.
Do we want to make the operating systems bold again? I wasn't sure.
Gonna s/peer2peer/peer-to-peer/, too, I think.


This change is‚ÄÇ","Oh, and also how to recommend aTox in operating systems. I feel like it should be done.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1479,2020-06-23T22:33:52Z,2020-06-25T12:42:38Z,2020-06-25T12:43:36Z,MERGED,True,47,39,6,None,Rearrange Readme,8,[],https://github.com/uTox/uTox/pull/1479,None,3,https://github.com/uTox/uTox/pull/1479#issuecomment-648953743,"This is basically how I would like to see the readme.
Do we want to make the operating systems bold again? I wasn't sure.
Gonna s/peer2peer/peer-to-peer/, too, I think.


This change is‚ÄÇ","-You shouldn't have to choose a new client for every device: So ¬µTox works everywhere! On every major system **Windows**, **macOS**, **Linux**, **Android**, **FreeBSD**, **NetBSD**, **OpenBSD**, and even **DragonFlyBSD**.
 +Tox is a peer2peer, end-to-end encrypted, instant messaging protocol, with end-to-end encryption as its default and *only* mode.

 I think it should be either peer-to-peer or end2end, not two different ways like now.
Yes, I was thinking the same. I'll make it peer-to-peer.
  Just like Toxcore, ¬µTox is still alpha software, so you may encounter bugs, or maybe a crash or two. ¬µTox also needs your help, if you do encounter any bugs or problems please [open an issue](https://github.com/uTox/uTox/issues/new).
 +If you do not have a GitHub account, you may also send an email directly to avoidr.

 Add your email here or link to contacts at the bottom?
Good idea! I'll link to contacts.
 Maybe we should update our screenshots.
Maybe, though I don't like binary data in code repos, actually. Especially not huge (the win10 screenshot).",True,{}
uTox/uTox,https://github.com/uTox/uTox,1479,2020-06-23T22:33:52Z,2020-06-25T12:42:38Z,2020-06-25T12:43:36Z,MERGED,True,47,39,6,None,Rearrange Readme,8,[],https://github.com/uTox/uTox/pull/1479,None,4,https://github.com/uTox/uTox/pull/1479#issuecomment-648956421,"This is basically how I would like to see the readme.
Do we want to make the operating systems bold again? I wasn't sure.
Gonna s/peer2peer/peer-to-peer/, too, I think.


This change is‚ÄÇ","-[**TokTok Site**](http://toktok.github.io/) **|** [**Installing**](docs/INSTALL.md) **|** [**Changelog**](CHANGELOG.md) **|** [**Compiling**](docs/BUILD.md) **|** [**Toxcore Spec**](https://toktok.github.io/spec)
 +[**Installing**](docs/INSTALL.md) **|** [**Compiling**](docs/BUILD.md) **|** [**Screenshots**](screenshots/INDEX.md) **|** [**Changelog**](CHANGELOG.md) **|** [**TokTok Site**](http://toktok.github.io/) **|** [**Toxcore Spec**](https://toktok.github.io/spec)

 Right now `Changelog` leads to the big fat **deprecated** page.
 Maybe we should link [release note](https://github.com/avoidr/uTox/tree/readme/release_notes) here.
Yeah, I wasn't sure when to make that change. But I think we're good now.

Thanks for your review!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1479,2020-06-23T22:33:52Z,2020-06-25T12:42:38Z,2020-06-25T12:43:36Z,MERGED,True,47,39,6,None,Rearrange Readme,8,[],https://github.com/uTox/uTox/pull/1479,None,5,https://github.com/uTox/uTox/pull/1479#issuecomment-649091997,"This is basically how I would like to see the readme.
Do we want to make the operating systems bold again? I wasn't sure.
Gonna s/peer2peer/peer-to-peer/, too, I think.


This change is‚ÄÇ","- s/peer2peer/peer-to-peer/
- added link to contacts
- replaced changelog with release notes

Added a `release_notes/INDEX.md`, not sure if I like it that way, probably yes, if we're going to use md, anyway. So it all looks the same.

But notice that github broke their markdown presentation, so maybe we don't want to rely on that and use simple text, or whatever. I wanna wait and see if they fix their shit. @Unames don't link to profiles, commit IDs aren't linked anymore, and newlines aren't respected (now newlines behave like in LaTeX). So now we have dumbass plaintext, except without it actually being dumb‚Äîjust ass.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1479,2020-06-23T22:33:52Z,2020-06-25T12:42:38Z,2020-06-25T12:43:36Z,MERGED,True,47,39,6,None,Rearrange Readme,8,[],https://github.com/uTox/uTox/pull/1479,None,6,https://github.com/uTox/uTox/pull/1479#issuecomment-649098194,"This is basically how I would like to see the readme.
Do we want to make the operating systems bold again? I wasn't sure.
Gonna s/peer2peer/peer-to-peer/, too, I think.


This change is‚ÄÇ","I'd rather move it to the same level as others: third list level is overkill.
Ok, like this?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1480,2020-06-26T00:13:38Z,2020-07-01T21:24:52Z,2020-07-01T21:29:47Z,MERGED,True,21,46,5,None,Settings fixes,6,[],https://github.com/uTox/uTox/pull/1480,None,1,https://github.com/uTox/uTox/pull/1480,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1480,2020-06-26T00:13:38Z,2020-07-01T21:24:52Z,2020-07-01T21:29:47Z,MERGED,True,21,46,5,None,Settings fixes,6,[],https://github.com/uTox/uTox/pull/1480,None,2,https://github.com/uTox/uTox/pull/1480#issuecomment-650386130,This change is‚ÄÇ,I'm good here. Just reworded a commit message.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1480,2020-06-26T00:13:38Z,2020-07-01T21:24:52Z,2020-07-01T21:29:47Z,MERGED,True,21,46,5,None,Settings fixes,6,[],https://github.com/uTox/uTox/pull/1480,None,3,https://github.com/uTox/uTox/pull/1480#issuecomment-650555255,This change is‚ÄÇ,"+    uint8_t proxy_ip[255]; /* coincides with TOX_MAX_HOSTNAME_LENGTH from toxcore */

 Make it `char` and all casts will go away.
I was thinking about that, but `char` is misleading. The data that goes in there is not ASCII, it's potentially Unicode. `proxy_ip` is not just an IP address, it may be a hostname. `proxy_ip` needs to be renamed to `proxy_host`, like it is in toxcore, too.
 And vertical alignment.
Thanks!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1480,2020-06-26T00:13:38Z,2020-07-01T21:24:52Z,2020-07-01T21:29:47Z,MERGED,True,21,46,5,None,Settings fixes,6,[],https://github.com/uTox/uTox/pull/1480,None,4,https://github.com/uTox/uTox/pull/1480#issuecomment-651277088,This change is‚ÄÇ,Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1480,2020-06-26T00:13:38Z,2020-07-01T21:24:52Z,2020-07-01T21:29:47Z,MERGED,True,21,46,5,None,Settings fixes,6,[],https://github.com/uTox/uTox/pull/1480,None,5,https://github.com/uTox/uTox/pull/1480#issuecomment-651295084,This change is‚ÄÇ,Are you fine with this PR?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1481,2020-06-27T23:11:28Z,2020-06-27T23:59:50Z,2020-06-28T00:27:53Z,MERGED,True,1,2,1,None,"src/xlib/CMakeLists.txt: compile dbus.{c,h} conditionally",1,[],https://github.com/uTox/uTox/pull/1481,None,1,https://github.com/uTox/uTox/pull/1481,"This fixes the following warning, when -DENABLE_DBUS=OFF:
src/xlib/dbus.c:118: warning: ISO C forbids an empty translation unit [-Wpedantic]



This change is‚ÄÇ","This fixes the following warning, when -DENABLE_DBUS=OFF:
src/xlib/dbus.c:118: warning: ISO C forbids an empty translation unit [-Wpedantic]



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1482,2020-06-28T00:24:53Z,2020-06-29T18:00:17Z,2020-06-29T18:12:09Z,MERGED,True,1,18,5,None,src/xlib/CMakeLists.txt: remove header files from add_library(),1,[],https://github.com/uTox/uTox/pull/1482,None,1,https://github.com/uTox/uTox/pull/1482,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1483,2020-06-28T20:21:27Z,2020-06-29T17:34:48Z,2020-06-29T18:12:25Z,MERGED,True,1,2,1,None,"src/xlib/CMakeLists.txt: compile mmenu.{c,h} conditionally",1,[],https://github.com/uTox/uTox/pull/1483,None,1,https://github.com/uTox/uTox/pull/1483,"This fixes the following warning:
src/xlib/mmenu.c:153: warning: ISO C forbids an empty translation unit [-Wpedantic]



This change is‚ÄÇ","This fixes the following warning:
src/xlib/mmenu.c:153: warning: ISO C forbids an empty translation unit [-Wpedantic]



This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1485,2020-07-10T11:51:55Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,51,325,43,None,Spring Cleaning,4,[],https://github.com/uTox/uTox/pull/1485,None,1,https://github.com/uTox/uTox/pull/1485,"remove includes from headers
 clean up includes
 refactor to remove including from parent directory (not in this PR, if ever)

This resolves cyclic dependencies and should speed up building. Includes will automatically document the .c file, by virtue of only and explicitly including the headers they need.


This change is‚ÄÇ","remove includes from headers
 clean up includes
 refactor to remove including from parent directory (not in this PR, if ever)

This resolves cyclic dependencies and should speed up building. Includes will automatically document the .c file, by virtue of only and explicitly including the headers they need.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1485,2020-07-10T11:51:55Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,51,325,43,None,Spring Cleaning,4,[],https://github.com/uTox/uTox/pull/1485,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1485#issuecomment-660720366,"remove includes from headers
 clean up includes
 refactor to remove including from parent directory (not in this PR, if ever)

This resolves cyclic dependencies and should speed up building. Includes will automatically document the .c file, by virtue of only and explicitly including the headers they need.


This change is‚ÄÇ",ew,True,{}
uTox/uTox,https://github.com/uTox/uTox,1486,2020-07-11T03:23:35Z,2020-08-11T19:02:33Z,2020-08-11T19:04:30Z,MERGED,True,14,17,4,None,Fix crash when changing toxcore-related settings,1,[],https://github.com/uTox/uTox/pull/1486,None,1,https://github.com/uTox/uTox/pull/1486,"uTox killed toxcore without killing toxav first, which led to a crash. Resources should be deallocated in reverse order of their allocation.
utox_av_ctrl_thread was started only once, when uTox was started, so when toxav was killed properly, the thread was never re-created for the next use of Tox. utox_av_ctrl_thread
is now created whenever a new toxcore starts.
Then, the Filter_Audio pointer had to be set to NULL after it's free'd, otherwise it wouldn't get re-initialised, and an invalid pointer would be passed to kill_filter_audio(), causing a crash.
Finally, replaced magic number 0 with TOX_KILL.
Deleted a redundant toxav_thread_msg = false.
Fixes #1478
Fixes #1441
Fixes #1416
Fixes #1376
Fixes #1280
Fixes #1266
Fixes #1252
Closes TokTok/c-toxcore#1149
Closes #1312


This change is‚ÄÇ","uTox killed toxcore without killing toxav first, which led to a crash. Resources should be deallocated in reverse order of their allocation.
utox_av_ctrl_thread was started only once, when uTox was started, so when toxav was killed properly, the thread was never re-created for the next use of Tox. utox_av_ctrl_thread
is now created whenever a new toxcore starts.
Then, the Filter_Audio pointer had to be set to NULL after it's free'd, otherwise it wouldn't get re-initialised, and an invalid pointer would be passed to kill_filter_audio(), causing a crash.
Finally, replaced magic number 0 with TOX_KILL.
Deleted a redundant toxav_thread_msg = false.
Fixes #1478
Fixes #1441
Fixes #1416
Fixes #1376
Fixes #1280
Fixes #1266
Fixes #1252
Closes TokTok/c-toxcore#1149
Closes #1312


This change is‚ÄÇ",True,{'HOORAY': ['https://github.com/redmanmale']}
uTox/uTox,https://github.com/uTox/uTox,1486,2020-07-11T03:23:35Z,2020-08-11T19:02:33Z,2020-08-11T19:04:30Z,MERGED,True,14,17,4,None,Fix crash when changing toxcore-related settings,1,[],https://github.com/uTox/uTox/pull/1486,None,2,https://github.com/uTox/uTox/pull/1486#issuecomment-657215176,"uTox killed toxcore without killing toxav first, which led to a crash. Resources should be deallocated in reverse order of their allocation.
utox_av_ctrl_thread was started only once, when uTox was started, so when toxav was killed properly, the thread was never re-created for the next use of Tox. utox_av_ctrl_thread
is now created whenever a new toxcore starts.
Then, the Filter_Audio pointer had to be set to NULL after it's free'd, otherwise it wouldn't get re-initialised, and an invalid pointer would be passed to kill_filter_audio(), causing a crash.
Finally, replaced magic number 0 with TOX_KILL.
Deleted a redundant toxav_thread_msg = false.
Fixes #1478
Fixes #1441
Fixes #1416
Fixes #1376
Fixes #1280
Fixes #1266
Fixes #1252
Closes TokTok/c-toxcore#1149
Closes #1312


This change is‚ÄÇ","Also linking #558 and #1357, because I suspect they're related.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1487,2020-07-22T16:10:18Z,2020-07-28T21:09:05Z,2020-07-28T21:09:27Z,MERGED,True,8,8,1,https://github.com/w23rd,fix dragging friend list (#1470),1,[],https://github.com/uTox/uTox/pull/1487,https://github.com/w23rd,1,https://github.com/uTox/uTox/pull/1487,"You should show the page for the item that was under the pointer when you clicked, not the one that is when you are moving the pointer.
Fixes #1470


This change is‚ÄÇ","You should show the page for the item that was under the pointer when you clicked, not the one that is when you are moving the pointer.
Fixes #1470


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1487,2020-07-22T16:10:18Z,2020-07-28T21:09:05Z,2020-07-28T21:09:27Z,MERGED,True,8,8,1,https://github.com/w23rd,fix dragging friend list (#1470),1,[],https://github.com/uTox/uTox/pull/1487,None,2,https://github.com/uTox/uTox/pull/1487#issuecomment-665284596,"You should show the page for the item that was under the pointer when you clicked, not the one that is when you are moving the pointer.
Fixes #1470


This change is‚ÄÇ",Thank you very much!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,https://github.com/g4jc,1,https://github.com/uTox/uTox/pull/1488,"Resolves #1072


This change is‚ÄÇ","Resolves #1072


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,None,2,https://github.com/uTox/uTox/pull/1488#issuecomment-683140573,"Resolves #1072


This change is‚ÄÇ",Thanks for the PR! Will take a look shortly!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,None,3,https://github.com/uTox/uTox/pull/1488#issuecomment-687895827,"Resolves #1072


This change is‚ÄÇ",Also fixes #1384.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,None,4,https://github.com/uTox/uTox/pull/1488#issuecomment-687917824,"Resolves #1072


This change is‚ÄÇ","Ok, I've taken a look and I think I understand now.
In your backtrace you can see that the segfault happens at free(). That means you're freeing invalid memory. Probably trying to free already freed memory. And that's what happens.
The while loop partly reimplements realloc(). realloc already freed the whole old memory and returned the address to another memory which is shorter size (if we did some undos, our case here). Trying to free excess history here results in trying to free that has probably never been allocated in the first place. I believe that if you drop the whole block with the while loop, this function will be fixed already (hopefully history editing, too).
Your patch makes the crash go away, because you set length = cur earlier, so the while-loop block is never activated, which avoids the invalid free. However, you set length wrong, so after this function returns, cur will be bigger than length. It might cause trouble in edit_redo().
Your comment isn't right, because history_length isn't reallocated, so there is no issue in accessing it. It's just a simple variable, not a pointer. Maybe the whole comment can be removed later, anyway, have to see more.
So, please amend your commit to undo your changes and just remove the whole block with the while loop in it. Then see if that fixes the crash, too. Thank you.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,None,5,https://github.com/uTox/uTox/pull/1488#issuecomment-688062726,"Resolves #1072


This change is‚ÄÇ","Ok, I think I was wrong, but close.

The while-loop block and free is right, but consider /which/ memory it's trying to free. There is a reason why there is a temporary history variable, it's just not communicated very well.

I hope I'm not wrong a second time.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,https://github.com/g4jc,6,https://github.com/uTox/uTox/pull/1488#issuecomment-688339646,"Resolves #1072


This change is‚ÄÇ","I'll test some more changes, but do please put a hold on this for now. While I am no longer to reproduce the crash on GNU/Linux, the Cygwin build is now crashing. Which it either wasn't before or I never noticed. In either case it's not resolved on all platforms.
Edit: Completely removing the while-loop does avoid the crash on GNU/Linux and redo still works. I'll make a cygwin build later today.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,None,7,https://github.com/uTox/uTox/pull/1488#issuecomment-688404559,"Resolves #1072


This change is‚ÄÇ","Make sure to compile with ASAN enabled. It will make a crash much more likely, if not certain. It should crash on bad code explicitly. Without ASAN, there are no checks and you may get lucky and end up freeing some valid memory.

No worries, we have time. uTox isn't going anywhere.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,https://github.com/g4jc,8,https://github.com/uTox/uTox/pull/1488#issuecomment-689202261,"Resolves #1072


This change is‚ÄÇ","Removing the while loop causes a memory leak on GNU/Linux, and busts Ctrl+Z on Windows. However neither crashes.
==10856==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 232788 byte(s) in 6 object(s) allocated from:
    #0 0x7fa8974bb388 in __interceptor_calloc /var/tmp/portage/sys-devel/gcc-7.3.0-r6/work/gcc-7.3.0/libsanitizer/asan/asan_malloc_linux.cc:70
    #1 0x563a0c2262a0 in utox_data_load_tox /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/main.c:53
    #2 0x563a0c23e4ac in load_toxcore_save /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/tox.c:276
    #3 0x563a0c23eb56 in init_toxcore /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/tox.c:358
    #4 0x563a0c23f46f in toxcore_thread /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/tox.c:464
    #5 0x7fa896f9aece in start_thread (/lib64/libpthread.so.0+0x7ece)

Direct leak of 193585 byte(s) in 5 object(s) allocated from:
    #0 0x7fa8974bb388 in __interceptor_calloc /var/tmp/portage/sys-devel/gcc-7.3.0-r6/work/gcc-7.3.0/libsanitizer/asan/asan_malloc_linux.cc:70
    #1 0x563a0c23e65e in load_toxcore_save /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/tox.c:293
    #2 0x563a0c23eb56 in init_toxcore /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/tox.c:358
    #3 0x563a0c23f46f in toxcore_thread /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/tox.c:464
    #4 0x7fa896f9aece in start_thread (/lib64/libpthread.so.0+0x7ece)

Direct leak of 26656 byte(s) in 196 object(s) allocated from:
    #0 0x7fa8974bb388 in __interceptor_calloc /var/tmp/portage/sys-devel/gcc-7.3.0-r6/work/gcc-7.3.0/libsanitizer/asan/asan_malloc_linux.cc:70
    #1 0x7fa8969a7f12 in XCreateImage (/usr/lib64/libX11.so.6+0x2cf12)

Direct leak of 7360 byte(s) in 230 object(s) allocated from:
    #0 0x7fa8974bb388 in __interceptor_calloc /var/tmp/portage/sys-devel/gcc-7.3.0-r6/work/gcc-7.3.0/libsanitizer/asan/asan_malloc_linux.cc:70
    #1 0x7fa896acb95e  (/usr/lib64/libfontconfig.so.1+0x1095e)

Direct leak of 512 byte(s) in 1 object(s) allocated from:
    #0 0x7fa8974bb580 in __interceptor_realloc /var/tmp/portage/sys-devel/gcc-7.3.0-r6/work/gcc-7.3.0/libsanitizer/asan/asan_malloc_linux.cc:75
    #1 0x7fa896acb563  (/usr/lib64/libfontconfig.so.1+0x10563)

Direct leak of 84 byte(s) in 12 object(s) allocated from:
    #0 0x7fa8974bb388 in __interceptor_calloc /var/tmp/portage/sys-devel/gcc-7.3.0-r6/work/gcc-7.3.0/libsanitizer/asan/asan_malloc_linux.cc:70
    #1 0x563a0c0f75ef in edit_do /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/ui/edit.c:366
    #2 0x563a0c09f94f in edit_char /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/ui/edit.c:766
    #3 0x563a0c0cc478 in doevent /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/xlib/event.c:551
    #4 0x563a0c0dfd7f in main /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/xlib/main.c:855
    #5 0x7fa89727c8e9 in __libc_start_main (/lib64/libc.so.6+0x218e9)

Direct leak of 55 byte(s) in 6 object(s) allocated from:
    #0 0x7fa8974bb1a0 in __interceptor_malloc /var/tmp/portage/sys-devel/gcc-7.3.0-r6/work/gcc-7.3.0/libsanitizer/asan/asan_malloc_linux.cc:62
    #1 0x7fa8969a2748 in XGetAtomName (/usr/lib64/libX11.so.6+0x27748)

Direct leak of 40 byte(s) in 4 object(s) allocated from:
    #0 0x7fa89744eed8 in __interceptor_strdup /var/tmp/portage/sys-devel/gcc-7.3.0-r6/work/gcc-7.3.0/libsanitizer/asan/asan_interceptors.cc:560
    #1 0x7fa8969a26e8 in XGetAtomName (/usr/lib64/libX11.so.6+0x276e8)

Direct leak of 18 byte(s) in 1 object(s) allocated from:
    #0 0x7fa8974bb388 in __interceptor_calloc /var/tmp/portage/sys-devel/gcc-7.3.0-r6/work/gcc-7.3.0/libsanitizer/asan/asan_malloc_linux.cc:70
    #1 0x563a0c0f75ef in edit_do /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/ui/edit.c:366
    #2 0x563a0c09be3f in edit_del /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/ui/edit.c:417
    #3 0x563a0c09ca72 in edit_char /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/ui/edit.c:504
    #4 0x563a0c0cbff7 in doevent /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/xlib/event.c:503
    #5 0x563a0c0dfd7f in main /var/tmp/portage/net-im/utox-9999/work/utox-9999/src/xlib/main.c:855
    #6 0x7fa89727c8e9 in __libc_start_main (/lib64/libc.so.6+0x218e9)

SUMMARY: AddressSanitizer: 461098 byte(s) leaked in 461 allocation(s).",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,None,9,https://github.com/uTox/uTox/pull/1488#issuecomment-689689540,"Resolves #1072


This change is‚ÄÇ","Removing the while loop causes a memory leak on GNU/Linux
Yeah, that's what I expected. But I later mentioned that removing the loop is not the right way to go. But it's good to have my suspicions confirmed.
 and busts Ctrl+Z on Windows.
What does ""busts"" mean?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,https://github.com/g4jc,10,https://github.com/uTox/uTox/pull/1488#issuecomment-689698020,"Resolves #1072


This change is‚ÄÇ","What does ""busts"" mean?

Ctrl+Z and Ctrl+Y did not function at all (simply ignored keys) on my Cygwin build when the loop was removed.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,None,11,https://github.com/uTox/uTox/pull/1488#issuecomment-690761581,"Resolves #1072


This change is‚ÄÇ",Do you understand the problem and what is going wrong?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,https://github.com/g4jc,12,https://github.com/uTox/uTox/pull/1488#issuecomment-691711649,"Resolves #1072


This change is‚ÄÇ","I'm pretty sure I understand that it's it's a use-after-free condition happening in the while loop, but unfortunately I do not have the technical know-how to get this working on all platforms.
Closing for now, may send another PR when/if I can get it fixed. Sorry.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,None,13,https://github.com/uTox/uTox/pull/1488#issuecomment-691740502,"Resolves #1072


This change is‚ÄÇ","Aw, there is no need to close it, we could do it together! You can do it, don't give up!

I remember I thought it was something about freeing wrong memory.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,None,14,https://github.com/uTox/uTox/pull/1488#issuecomment-730037627,"Resolves #1072


This change is‚ÄÇ","@g4jc do you want to take another try at this? It's fine if you don't, no pressure.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,https://github.com/g4jc,15,https://github.com/uTox/uTox/pull/1488#issuecomment-730814844,"Resolves #1072


This change is‚ÄÇ","@avoidr I'm a bit out of my league on cross-platform C, but I am interested in solving this. For now I'm just applying the local patch which works here on Gentoo but breaks on Windows. If you want to try and solve it together I'm available on Tox, IRC, etc.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1488,2020-08-26T04:00:27Z,2020-09-13T19:10:26Z,2020-11-20T11:36:30Z,CLOSED,False,3,3,1,https://github.com/g4jc,Fix Crash on input after Ctrl-Z,1,[],https://github.com/uTox/uTox/pull/1488,None,16,https://github.com/uTox/uTox/pull/1488#issuecomment-731117953,"Resolves #1072


This change is‚ÄÇ","You can send me an email with your contact. I prefer Tox. You can encrypt it with my gpg key, if you want.
We'll do this.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1492,2020-11-24T01:38:17Z,2021-01-20T21:18:44Z,2021-01-20T21:19:14Z,MERGED,True,34,12,4,None,groups: load group topics from Tox save,1,[],https://github.com/uTox/uTox/pull/1492,None,1,https://github.com/uTox/uTox/pull/1492,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1492,2020-11-24T01:38:17Z,2021-01-20T21:18:44Z,2021-01-20T21:19:14Z,MERGED,True,34,12,4,None,groups: load group topics from Tox save,1,[],https://github.com/uTox/uTox/pull/1492,None,2,https://github.com/uTox/uTox/pull/1492#issuecomment-733404287,This change is‚ÄÇ,"By the way, would you const also ints? Or only pointers? And why?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1492,2020-11-24T01:38:17Z,2021-01-20T21:18:44Z,2021-01-20T21:19:14Z,MERGED,True,34,12,4,None,groups: load group topics from Tox save,1,[],https://github.com/uTox/uTox/pull/1492,None,3,https://github.com/uTox/uTox/pull/1492#issuecomment-735747660,This change is‚ÄÇ,Rebased.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1492,2020-11-24T01:38:17Z,2021-01-20T21:18:44Z,2021-01-20T21:19:14Z,MERGED,True,34,12,4,None,groups: load group topics from Tox save,1,[],https://github.com/uTox/uTox/pull/1492,https://github.com/robinlinden,4,https://github.com/uTox/uTox/pull/1492#issuecomment-735796156,This change is‚ÄÇ,"By the way, would you const also ints? Or only pointers? And why?

I think it's more important to const pointers as changes to them aren't local to the function. If it's a non-const pointer, I'd expect the function to write to it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1492,2020-11-24T01:38:17Z,2021-01-20T21:18:44Z,2021-01-20T21:19:14Z,MERGED,True,34,12,4,None,groups: load group topics from Tox save,1,[],https://github.com/uTox/uTox/pull/1492,None,5,https://github.com/uTox/uTox/pull/1492#issuecomment-736727474,This change is‚ÄÇ,"> By the way, would you const also ints? Or only pointers? And why?

 I think it's more important to const pointers as changes to them aren't local to the function. If it's a non-const pointer, I'd expect the function to write to it.
Ok, right, that's what I thought. I had confused constant pointer with
pointer to constant value. Thanks.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1492,2020-11-24T01:38:17Z,2021-01-20T21:18:44Z,2021-01-20T21:19:14Z,MERGED,True,34,12,4,None,groups: load group topics from Tox save,1,[],https://github.com/uTox/uTox/pull/1492,https://github.com/siburec,6,https://github.com/uTox/uTox/pull/1492#issuecomment-761755877,This change is‚ÄÇ,"I have tried this branch and I have seen the following:

If I create a group with  branch and I change the name, when I build the <group_load_topic> branch I can see the modified name.
If I create a new group with <group_load_topic> version, the next time I open utox, the correct name is loaded.
However, if create a group with  branch, build <group_load_topic> version and then open utox and change the name, this name is not detected by utox and continues showing Groupchat #x in the next opening.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1492,2020-11-24T01:38:17Z,2021-01-20T21:18:44Z,2021-01-20T21:19:14Z,MERGED,True,34,12,4,None,groups: load group topics from Tox save,1,[],https://github.com/uTox/uTox/pull/1492,None,7,https://github.com/uTox/uTox/pull/1492#issuecomment-761756737,This change is‚ÄÇ,You mean 3. might be a bug? What exactly do you do? Step by step. And what do you expect?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1492,2020-11-24T01:38:17Z,2021-01-20T21:18:44Z,2021-01-20T21:19:14Z,MERGED,True,34,12,4,None,groups: load group topics from Tox save,1,[],https://github.com/uTox/uTox/pull/1492,None,8,https://github.com/uTox/uTox/pull/1492#issuecomment-761761583,This change is‚ÄÇ,I think I understand. I will take a look at it later. Thanks.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1498,2020-12-07T20:04:39Z,2022-02-24T10:52:23Z,2022-02-24T10:52:23Z,CLOSED,False,38,27,6,None,Fix group notifications,5,[],https://github.com/uTox/uTox/pull/1498,None,1,https://github.com/uTox/uTox/pull/1498,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1499,2020-12-11T19:35:27Z,2020-12-12T17:24:49Z,2020-12-12T17:24:49Z,MERGED,True,2,2,1,https://github.com/timgates42,"docs: fix simple typo, precomplied -> precompiled",1,[],https://github.com/uTox/uTox/pull/1499,https://github.com/timgates42,1,https://github.com/uTox/uTox/pull/1499,"There is a small typo in docs/INSTALL.md.
Should read precompiled rather than precomplied.
Semi-automated pull request generated by
https://github.com/timgates42/meticulous/blob/master/docs/NOTE.md


This change is‚ÄÇ","There is a small typo in docs/INSTALL.md.
Should read precompiled rather than precomplied.
Semi-automated pull request generated by
https://github.com/timgates42/meticulous/blob/master/docs/NOTE.md


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1499,2020-12-11T19:35:27Z,2020-12-12T17:24:49Z,2020-12-12T17:24:49Z,MERGED,True,2,2,1,https://github.com/timgates42,"docs: fix simple typo, precomplied -> precompiled",1,[],https://github.com/uTox/uTox/pull/1499,None,2,https://github.com/uTox/uTox/pull/1499#issuecomment-743425805,"There is a small typo in docs/INSTALL.md.
Should read precompiled rather than precomplied.
Semi-automated pull request generated by
https://github.com/timgates42/meticulous/blob/master/docs/NOTE.md


This change is‚ÄÇ","Thanks! If you want, you can also fix ""Initialzied"" in src/groups.c",True,{'THUMBS_UP': ['https://github.com/timgates42']}
uTox/uTox,https://github.com/uTox/uTox,1501,2020-12-12T18:10:17Z,2020-12-13T23:48:44Z,2020-12-13T23:55:49Z,MERGED,True,8,0,1,https://github.com/garetethan,Add Debian installation instructions,1,[],https://github.com/uTox/uTox/pull/1501,https://github.com/garetethan,1,https://github.com/uTox/uTox/pull/1501,"Fixes #1500
I've used sudo apt install utox to install on Debian 10 with complete success.


This change is‚ÄÇ","Fixes #1500
I've used sudo apt install utox to install on Debian 10 with complete success.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1501,2020-12-12T18:10:17Z,2020-12-13T23:48:44Z,2020-12-13T23:55:49Z,MERGED,True,8,0,1,https://github.com/garetethan,Add Debian installation instructions,1,[],https://github.com/uTox/uTox/pull/1501,None,2,https://github.com/uTox/uTox/pull/1501#issuecomment-743842311,"Fixes #1500
I've used sudo apt install utox to install on Debian 10 with complete success.


This change is‚ÄÇ","Thanks!
Small thing; please add a link to #debian in the ToC above, like #archlinux and #slackware.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1501,2020-12-12T18:10:17Z,2020-12-13T23:48:44Z,2020-12-13T23:55:49Z,MERGED,True,8,0,1,https://github.com/garetethan,Add Debian installation instructions,1,[],https://github.com/uTox/uTox/pull/1501,https://github.com/garetethan,3,https://github.com/uTox/uTox/pull/1501#issuecomment-743888546,"Fixes #1500
I've used sudo apt install utox to install on Debian 10 with complete success.


This change is‚ÄÇ","Whoops, my mistake. Fixed.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1501,2020-12-12T18:10:17Z,2020-12-13T23:48:44Z,2020-12-13T23:55:49Z,MERGED,True,8,0,1,https://github.com/garetethan,Add Debian installation instructions,1,[],https://github.com/uTox/uTox/pull/1501,None,4,https://github.com/uTox/uTox/pull/1501#issuecomment-743895671,"Fixes #1500
I've used sudo apt install utox to install on Debian 10 with complete success.


This change is‚ÄÇ","Yes, exactly like that. Now just please squash the two commits and we're done (git rebase -i HEAD~2)",True,{}
uTox/uTox,https://github.com/uTox/uTox,1501,2020-12-12T18:10:17Z,2020-12-13T23:48:44Z,2020-12-13T23:55:49Z,MERGED,True,8,0,1,https://github.com/garetethan,Add Debian installation instructions,1,[],https://github.com/uTox/uTox/pull/1501,https://github.com/garetethan,5,https://github.com/uTox/uTox/pull/1501#issuecomment-743925021,"Fixes #1500
I've used sudo apt install utox to install on Debian 10 with complete success.


This change is‚ÄÇ","Ok, I think I've got it now. Thank you very much for walking me through that. Still learning this stuff.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1501,2020-12-12T18:10:17Z,2020-12-13T23:48:44Z,2020-12-13T23:55:49Z,MERGED,True,8,0,1,https://github.com/garetethan,Add Debian installation instructions,1,[],https://github.com/uTox/uTox/pull/1501,None,6,https://github.com/uTox/uTox/pull/1501#issuecomment-744091830,"Fixes #1500
I've used sudo apt install utox to install on Debian 10 with complete success.


This change is‚ÄÇ","Yes, you've got it! Thanks! And you're welcome.
I've noticed that you made your commit on your 'develop' branch. It may not have mattered now, but it's a good habit for yourself to make changes on a separate branch and then only merge once you're satisfied. That keeps your working branch untouched and you can just cleanly remove branches if you're not satisfied with them or something. Just saying. (See git branch and git checkout -b)",True,{}
uTox/uTox,https://github.com/uTox/uTox,1502,2020-12-20T16:00:51Z,2020-12-22T20:43:59Z,2020-12-22T20:47:42Z,MERGED,True,1,1,1,None,"travis.yml: update OS to ""focal"" (latest)",1,[],https://github.com/uTox/uTox/pull/1502,None,1,https://github.com/uTox/uTox/pull/1502,"clang       7.0.0
llvm        7.0.0  ‚Üí 10.0.0
gcc         7.5.0  ‚Üí 9.3.0
cmake       3.12.4 ‚Üí 3.16.8
ccache      3.4.1  ‚Üí 3.7.7
shellcheck  0.7.0
shfmt       2.6.3
git      2.27.0 ‚Üí 2.28.0
hg       4.8    ‚Üí 5.3
svn      1.9.7  ‚Üí 1.13.0
https://docs.travis-ci.com/user/reference/linux/
https://docs.travis-ci.com/user/reference/focal/
https://docs.travis-ci.com/user/reference/bionic/


This change is‚ÄÇ","clang       7.0.0
llvm        7.0.0  ‚Üí 10.0.0
gcc         7.5.0  ‚Üí 9.3.0
cmake       3.12.4 ‚Üí 3.16.8
ccache      3.4.1  ‚Üí 3.7.7
shellcheck  0.7.0
shfmt       2.6.3
git      2.27.0 ‚Üí 2.28.0
hg       4.8    ‚Üí 5.3
svn      1.9.7  ‚Üí 1.13.0
https://docs.travis-ci.com/user/reference/linux/
https://docs.travis-ci.com/user/reference/focal/
https://docs.travis-ci.com/user/reference/bionic/


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1504,2020-12-22T21:20:18Z,2020-12-23T11:23:33Z,2020-12-23T11:27:19Z,MERGED,True,1,1,1,https://github.com/redmanmale,Copy text from chat without nicks via CTRL-C in Windows,1,[],https://github.com/uTox/uTox/pull/1504,https://github.com/redmanmale,1,https://github.com/uTox/uTox/pull/1504,"the same as in Unix.


This change is‚ÄÇ","the same as in Unix.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1504,2020-12-22T21:20:18Z,2020-12-23T11:23:33Z,2020-12-23T11:27:19Z,MERGED,True,1,1,1,https://github.com/redmanmale,Copy text from chat without nicks via CTRL-C in Windows,1,[],https://github.com/uTox/uTox/pull/1504,None,2,https://github.com/uTox/uTox/pull/1504#issuecomment-749801480,"the same as in Unix.


This change is‚ÄÇ","Does Windows have ""copy with names"" in its context menu?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1504,2020-12-22T21:20:18Z,2020-12-23T11:23:33Z,2020-12-23T11:27:19Z,MERGED,True,1,1,1,https://github.com/redmanmale,Copy text from chat without nicks via CTRL-C in Windows,1,[],https://github.com/uTox/uTox/pull/1504,None,3,https://github.com/uTox/uTox/pull/1504#issuecomment-749803542,"the same as in Unix.


This change is‚ÄÇ",You can actually say in commit message that it's now the same as in Unix.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1504,2020-12-22T21:20:18Z,2020-12-23T11:23:33Z,2020-12-23T11:27:19Z,MERGED,True,1,1,1,https://github.com/redmanmale,Copy text from chat without nicks via CTRL-C in Windows,1,[],https://github.com/uTox/uTox/pull/1504,https://github.com/redmanmale,4,https://github.com/uTox/uTox/pull/1504#issuecomment-749814683,"the same as in Unix.


This change is‚ÄÇ","Does Windows have ""copy with names"" in its context menu?

Yes, but it's very annoying.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1504,2020-12-22T21:20:18Z,2020-12-23T11:23:33Z,2020-12-23T11:27:19Z,MERGED,True,1,1,1,https://github.com/redmanmale,Copy text from chat without nicks via CTRL-C in Windows,1,[],https://github.com/uTox/uTox/pull/1504,None,5,https://github.com/uTox/uTox/pull/1504#issuecomment-749823005,"the same as in Unix.


This change is‚ÄÇ","What is annoying? I just want to know if users still have a way to copy with names after this patch.
Also, I think s/username/nicks/ could be better. Shorter, and clearer.
And maybe also s/shortcut/ctrl-c/?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1504,2020-12-22T21:20:18Z,2020-12-23T11:23:33Z,2020-12-23T11:27:19Z,MERGED,True,1,1,1,https://github.com/redmanmale,Copy text from chat without nicks via CTRL-C in Windows,1,[],https://github.com/uTox/uTox/pull/1504,https://github.com/redmanmale,6,https://github.com/uTox/uTox/pull/1504#issuecomment-750066684,"the same as in Unix.


This change is‚ÄÇ","I mean ""yes, there's a context menu item to copy with names"". But use it every time I want to google something from chat is annoying.
This patch is to use ""copy without names"" with ctrl-c.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1504,2020-12-22T21:20:18Z,2020-12-23T11:23:33Z,2020-12-23T11:27:19Z,MERGED,True,1,1,1,https://github.com/redmanmale,Copy text from chat without nicks via CTRL-C in Windows,1,[],https://github.com/uTox/uTox/pull/1504,None,7,https://github.com/uTox/uTox/pull/1504#issuecomment-750164994,"the same as in Unix.


This change is‚ÄÇ","My point is, can users still copy with names after this patch? It seems so, via right-click. The sane behaviour is to not copy names via ctrl-c, which this patch does. So this patch is fine and you're free to merge (preferably without merge commit for single commits).",True,{}
uTox/uTox,https://github.com/uTox/uTox,1505,2020-12-25T19:06:21Z,2020-12-29T00:06:29Z,2020-12-29T00:07:18Z,MERGED,True,0,67,11,None,remove libsodium dependency,1,[],https://github.com/uTox/uTox/pull/1505,None,1,https://github.com/uTox/uTox/pull/1505,"After commit 3d1b1df (""Remove auto-updater""), no code uses libsodium
anymore.


This change is‚ÄÇ","After commit 3d1b1df (""Remove auto-updater""), no code uses libsodium
anymore.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1508,2021-01-02T21:39:02Z,2021-01-03T22:44:15Z,2021-01-03T22:44:39Z,MERGED,True,6,3,2,None,Require libsodium only when linking statically,1,[],https://github.com/uTox/uTox/pull/1508,None,1,https://github.com/uTox/uTox/pull/1508,"Fixes: 05ccede (""Remove libsodium dependency"")


This change is‚ÄÇ","Fixes: 05ccede (""Remove libsodium dependency"")


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1510,2021-01-07T03:38:58Z,2021-11-22T08:01:52Z,2021-11-22T08:01:53Z,CLOSED,False,28,20,1,None,Fix loading custom themes,1,[],https://github.com/uTox/uTox/pull/1510,None,1,https://github.com/uTox/uTox/pull/1510,"read_custom_theme() now replaces every '\n' with '\0' as line delimiters
so it's easy to skip lines. (The file data already has a '\0' inserted
at EOF in utox_data_load_custom_theme().)
Added more error messages.
Fixes #1509


This change is‚ÄÇ","read_custom_theme() now replaces every '\n' with '\0' as line delimiters
so it's easy to skip lines. (The file data already has a '\0' inserted
at EOF in utox_data_load_custom_theme().)
Added more error messages.
Fixes #1509


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1511,2021-01-07T18:53:51Z,2021-01-13T18:47:48Z,2021-01-13T18:47:48Z,CLOSED,False,22,5,18,https://github.com/krobelus,Create a compilation database by default,1,[],https://github.com/uTox/uTox/pull/1511,https://github.com/krobelus,1,https://github.com/uTox/uTox/pull/1511,"This is useful for Clang-based tools, in particular language servers like
clangd. I think it's a good idea to provide it by default to improve the
development experience.  I didn't find a good way to detect a development
setup, so I just made it the default and disable it in scripts that are
mostly for CI. Sadly this turned out a bit crazy :(
If CMake read environment variables like Make, then a developer could use
""export CMAKE_EXPORT_COMPILE_COMMANDS=ON"" (once, for all projects).
Is there a proper way to do something like that in CMake?


This change is‚ÄÇ","This is useful for Clang-based tools, in particular language servers like
clangd. I think it's a good idea to provide it by default to improve the
development experience.  I didn't find a good way to detect a development
setup, so I just made it the default and disable it in scripts that are
mostly for CI. Sadly this turned out a bit crazy :(
If CMake read environment variables like Make, then a developer could use
""export CMAKE_EXPORT_COMPILE_COMMANDS=ON"" (once, for all projects).
Is there a proper way to do something like that in CMake?


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1511,2021-01-07T18:53:51Z,2021-01-13T18:47:48Z,2021-01-13T18:47:48Z,CLOSED,False,22,5,18,https://github.com/krobelus,Create a compilation database by default,1,[],https://github.com/uTox/uTox/pull/1511,https://github.com/robinlinden,2,https://github.com/uTox/uTox/pull/1511#issuecomment-756374364,"This is useful for Clang-based tools, in particular language servers like
clangd. I think it's a good idea to provide it by default to improve the
development experience.  I didn't find a good way to detect a development
setup, so I just made it the default and disable it in scripts that are
mostly for CI. Sadly this turned out a bit crazy :(
If CMake read environment variables like Make, then a developer could use
""export CMAKE_EXPORT_COMPILE_COMMANDS=ON"" (once, for all projects).
Is there a proper way to do something like that in CMake?


This change is‚ÄÇ","Funny you mention CMake reading env vars like that! CMAKE_EXPORT_COMPILE_COMMANDS is actually initialized from the env var CMAKE_EXPORT_COMPILE_COMMANDS. :D (In CMake 3.17 and newer)
Edit:
https://cmake.org/cmake/help/latest/variable/CMAKE_EXPORT_COMPILE_COMMANDS.html
https://cmake.org/cmake/help/latest/envvar/CMAKE_EXPORT_COMPILE_COMMANDS.html#envvar:CMAKE_EXPORT_COMPILE_COMMANDS",True,{}
uTox/uTox,https://github.com/uTox/uTox,1511,2021-01-07T18:53:51Z,2021-01-13T18:47:48Z,2021-01-13T18:47:48Z,CLOSED,False,22,5,18,https://github.com/krobelus,Create a compilation database by default,1,[],https://github.com/uTox/uTox/pull/1511,https://github.com/krobelus,3,https://github.com/uTox/uTox/pull/1511#issuecomment-756384121,"This is useful for Clang-based tools, in particular language servers like
clangd. I think it's a good idea to provide it by default to improve the
development experience.  I didn't find a good way to detect a development
setup, so I just made it the default and disable it in scripts that are
mostly for CI. Sadly this turned out a bit crazy :(
If CMake read environment variables like Make, then a developer could use
""export CMAKE_EXPORT_COMPILE_COMMANDS=ON"" (once, for all projects).
Is there a proper way to do something like that in CMake?


This change is‚ÄÇ","Argh, I thought I had tried CMAKE_EXPORT_COMPILE_COMMANDS=ON cmake . (without consulting the docs) but I must have made a mistake.. so it actually works as expected! üòÆ
I'm not really happy with the patch because it's so noisy.
It looks like the default behavior in most projects is to not generate compile_commands.json, so I guess the safe choice would be to reject this change. Then again, it doesn't hurt.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1511,2021-01-07T18:53:51Z,2021-01-13T18:47:48Z,2021-01-13T18:47:48Z,CLOSED,False,22,5,18,https://github.com/krobelus,Create a compilation database by default,1,[],https://github.com/uTox/uTox/pull/1511,None,4,https://github.com/uTox/uTox/pull/1511#issuecomment-759645775,"This is useful for Clang-based tools, in particular language servers like
clangd. I think it's a good idea to provide it by default to improve the
development experience.  I didn't find a good way to detect a development
setup, so I just made it the default and disable it in scripts that are
mostly for CI. Sadly this turned out a bit crazy :(
If CMake read environment variables like Make, then a developer could use
""export CMAKE_EXPORT_COMPILE_COMMANDS=ON"" (once, for all projects).
Is there a proper way to do something like that in CMake?


This change is‚ÄÇ","I will close this, since what this changes is already possible, but thanks for telling me about clangd, I didn't know it before :P
Thanks!",True,{'THUMBS_UP': ['https://github.com/krobelus']}
uTox/uTox,https://github.com/uTox/uTox,1512,2021-01-07T18:53:56Z,2021-01-10T22:09:29Z,2021-01-10T22:09:55Z,MERGED,True,2,0,1,https://github.com/krobelus,Disable -Werror for 3rd party projects,1,[],https://github.com/uTox/uTox/pull/1512,https://github.com/krobelus,1,https://github.com/uTox/uTox/pull/1512,"third_party/stb compiles with (scary) warnings. We should fix that but it
should not prevent a -Werror build.


This change is‚ÄÇ","third_party/stb compiles with (scary) warnings. We should fix that but it
should not prevent a -Werror build.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1512,2021-01-07T18:53:56Z,2021-01-10T22:09:29Z,2021-01-10T22:09:55Z,MERGED,True,2,0,1,https://github.com/krobelus,Disable -Werror for 3rd party projects,1,[],https://github.com/uTox/uTox/pull/1512,None,2,https://github.com/uTox/uTox/pull/1512#issuecomment-757552495,"third_party/stb compiles with (scary) warnings. We should fix that but it
should not prevent a -Werror build.


This change is‚ÄÇ",Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1513,2021-01-07T18:53:59Z,2021-01-10T23:56:01Z,2021-01-10T23:56:02Z,MERGED,True,3,3,1,https://github.com/krobelus,Pass enum value with correct type when cancelling file transfers,1,[],https://github.com/uTox/uTox/pull/1513,https://github.com/krobelus,1,https://github.com/uTox/uTox/pull/1513,"Found by warnings like
src/file_transfers.c: In function ‚Äòincoming_file_callback_request‚Äô:
src/file_transfers.c:881:59: error: implicit conversion from ‚Äòenum ‚Äô to ‚ÄòTOX_FILE_CONTROL‚Äô [-Werror=enum-conversion]
881 |         tox_file_control(tox, friend_number, file_number, TOX_FILE_CANCEL, NULL);
|                                                           ^~~~~~~~~~~~~~~


This change is‚ÄÇ","Found by warnings like
src/file_transfers.c: In function ‚Äòincoming_file_callback_request‚Äô:
src/file_transfers.c:881:59: error: implicit conversion from ‚Äòenum ‚Äô to ‚ÄòTOX_FILE_CONTROL‚Äô [-Werror=enum-conversion]
881 |         tox_file_control(tox, friend_number, file_number, TOX_FILE_CANCEL, NULL);
|                                                           ^~~~~~~~~~~~~~~


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1513,2021-01-07T18:53:59Z,2021-01-10T23:56:01Z,2021-01-10T23:56:02Z,MERGED,True,3,3,1,https://github.com/krobelus,Pass enum value with correct type when cancelling file transfers,1,[],https://github.com/uTox/uTox/pull/1513,None,2,https://github.com/uTox/uTox/pull/1513#issuecomment-757564488,"Found by warnings like
src/file_transfers.c: In function ‚Äòincoming_file_callback_request‚Äô:
src/file_transfers.c:881:59: error: implicit conversion from ‚Äòenum ‚Äô to ‚ÄòTOX_FILE_CONTROL‚Äô [-Werror=enum-conversion]
881 |         tox_file_control(tox, friend_number, file_number, TOX_FILE_CANCEL, NULL);
|                                                           ^~~~~~~~~~~~~~~


This change is‚ÄÇ","This one actually fixes a real bug, thanks!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1514,2021-01-07T18:54:03Z,2021-01-12T21:41:37Z,2021-01-12T21:41:51Z,MERGED,True,7,6,4,https://github.com/krobelus,Use correct type for pthread entry point,1,[],https://github.com/uTox/uTox/pull/1514,https://github.com/krobelus,1,https://github.com/uTox/uTox/pull/1514,"This way we don't need to cast. Seems reasonable given that we want to treat
all warnings as errors. I got this one:
tests/mock/mock_threads.c:8:41: error: cast between incompatible function types from ‚Äòvoid (*)(void )‚Äô to ‚Äòvoid * ()(void *)‚Äô [-Werror=cast-function-type]
8 |     pthread_create(&thread_temp, &attr, (void ()(void *))func, args);


This change is‚ÄÇ","This way we don't need to cast. Seems reasonable given that we want to treat
all warnings as errors. I got this one:
tests/mock/mock_threads.c:8:41: error: cast between incompatible function types from ‚Äòvoid (*)(void )‚Äô to ‚Äòvoid * ()(void *)‚Äô [-Werror=cast-function-type]
8 |     pthread_create(&thread_temp, &attr, (void ()(void *))func, args);


This change is‚ÄÇ",True,{'THUMBS_UP': ['https://github.com/zoff99']}
uTox/uTox,https://github.com/uTox/uTox,1514,2021-01-07T18:54:03Z,2021-01-12T21:41:37Z,2021-01-12T21:41:51Z,MERGED,True,7,6,4,https://github.com/krobelus,Use correct type for pthread entry point,1,[],https://github.com/uTox/uTox/pull/1514,https://github.com/zoff99,2,https://github.com/uTox/uTox/pull/1514#issuecomment-756354488,"This way we don't need to cast. Seems reasonable given that we want to treat
all warnings as errors. I got this one:
tests/mock/mock_threads.c:8:41: error: cast between incompatible function types from ‚Äòvoid (*)(void )‚Äô to ‚Äòvoid * ()(void *)‚Äô [-Werror=cast-function-type]
8 |     pthread_create(&thread_temp, &attr, (void ()(void *))func, args);


This change is‚ÄÇ","thanks for the PR, i recently did this on my local build",True,{'LAUGH': ['https://github.com/krobelus']}
uTox/uTox,https://github.com/uTox/uTox,1514,2021-01-07T18:54:03Z,2021-01-12T21:41:37Z,2021-01-12T21:41:51Z,MERGED,True,7,6,4,https://github.com/krobelus,Use correct type for pthread entry point,1,[],https://github.com/uTox/uTox/pull/1514,None,3,https://github.com/uTox/uTox/pull/1514#issuecomment-759043885,"This way we don't need to cast. Seems reasonable given that we want to treat
all warnings as errors. I got this one:
tests/mock/mock_threads.c:8:41: error: cast between incompatible function types from ‚Äòvoid (*)(void )‚Äô to ‚Äòvoid * ()(void *)‚Äô [-Werror=cast-function-type]
8 |     pthread_create(&thread_temp, &attr, (void ()(void *))func, args);


This change is‚ÄÇ",Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1515,2021-01-07T18:54:07Z,2021-01-12T22:00:33Z,2021-01-12T22:49:40Z,MERGED,True,47,77,3,https://github.com/krobelus,Port Travis configuration to GitHub Actions,1,[],https://github.com/uTox/uTox/pull/1515,https://github.com/krobelus,1,https://github.com/uTox/uTox/pull/1515,"See the equivalent commit in c-toxcore (PR upcoming):

Travis has recently added a relatively low limit on how many minutes you
can use per month and has decided to not offer additional minutes to
open-source projects.

The linux script didn't build nacl/sodium, I don't know how that ever worked.
In combination with some other fixes the builds work, see
https://github.com/krobelus/uTox/actions/runs/469682150


This change is‚ÄÇ","See the equivalent commit in c-toxcore (PR upcoming):

Travis has recently added a relatively low limit on how many minutes you
can use per month and has decided to not offer additional minutes to
open-source projects.

The linux script didn't build nacl/sodium, I don't know how that ever worked.
In combination with some other fixes the builds work, see
https://github.com/krobelus/uTox/actions/runs/469682150


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1515,2021-01-07T18:54:07Z,2021-01-12T22:00:33Z,2021-01-12T22:49:40Z,MERGED,True,47,77,3,https://github.com/krobelus,Port Travis configuration to GitHub Actions,1,[],https://github.com/uTox/uTox/pull/1515,None,2,https://github.com/uTox/uTox/pull/1515#issuecomment-759064119,"See the equivalent commit in c-toxcore (PR upcoming):

Travis has recently added a relatively low limit on how many minutes you
can use per month and has decided to not offer additional minutes to
open-source projects.

The linux script didn't build nacl/sodium, I don't know how that ever worked.
In combination with some other fixes the builds work, see
https://github.com/krobelus/uTox/actions/runs/469682150


This change is‚ÄÇ",Thanks very much for that one!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1515,2021-01-07T18:54:07Z,2021-01-12T22:00:33Z,2021-01-12T22:49:40Z,MERGED,True,47,77,3,https://github.com/krobelus,Port Travis configuration to GitHub Actions,1,[],https://github.com/uTox/uTox/pull/1515,https://github.com/krobelus,3,https://github.com/uTox/uTox/pull/1515#issuecomment-759066394,"See the equivalent commit in c-toxcore (PR upcoming):

Travis has recently added a relatively low limit on how many minutes you
can use per month and has decided to not offer additional minutes to
open-source projects.

The linux script didn't build nacl/sodium, I don't know how that ever worked.
In combination with some other fixes the builds work, see
https://github.com/krobelus/uTox/actions/runs/469682150


This change is‚ÄÇ","Sure thing! Feel free to tag me when there are questions/follow-ups, as I'm not subscribed to the repo.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1515,2021-01-07T18:54:07Z,2021-01-12T22:00:33Z,2021-01-12T22:49:40Z,MERGED,True,47,77,3,https://github.com/krobelus,Port Travis configuration to GitHub Actions,1,[],https://github.com/uTox/uTox/pull/1515,None,4,https://github.com/uTox/uTox/pull/1515#issuecomment-759086964,"See the equivalent commit in c-toxcore (PR upcoming):

Travis has recently added a relatively low limit on how many minutes you
can use per month and has decided to not offer additional minutes to
open-source projects.

The linux script didn't build nacl/sodium, I don't know how that ever worked.
In combination with some other fixes the builds work, see
https://github.com/krobelus/uTox/actions/runs/469682150


This change is‚ÄÇ",Thank you :),True,{}
uTox/uTox,https://github.com/uTox/uTox,1516,2021-01-09T07:41:00Z,2021-01-10T21:21:43Z,2021-01-14T07:34:49Z,MERGED,True,310,20,1,https://github.com/siburec,Improve Spanish support,1,[],https://github.com/uTox/uTox/pull/1516,https://github.com/siburec,1,https://github.com/uTox/uTox/pull/1516,"Improved Spanish support


This change is‚ÄÇ","Improved Spanish support


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1516,2021-01-09T07:41:00Z,2021-01-10T21:21:43Z,2021-01-14T07:34:49Z,MERGED,True,310,20,1,https://github.com/siburec,Improve Spanish support,1,[],https://github.com/uTox/uTox/pull/1516,None,2,https://github.com/uTox/uTox/pull/1516#issuecomment-757264136,"Improved Spanish support


This change is‚ÄÇ","Thanks! Looks like Spanish is almost complete now. I saw that a few translations are missing, most of them simple:
REQ_ADDED_NO_FREQ_SENT
FRIEND_SETTINGS
LOCK
SHOW
HIDE
EXIT
KEEP

Do you mind translating them, too? Then we/you could also add Spanish to the end of the list in the Readme, where it says ¬µTox is multi-lingual.
Please squash your two commits into one (git rebase -i HEAD~2).
I also have a few minor nitpicks.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1516,2021-01-09T07:41:00Z,2021-01-10T21:21:43Z,2021-01-14T07:34:49Z,MERGED,True,310,20,1,https://github.com/siburec,Improve Spanish support,1,[],https://github.com/uTox/uTox/pull/1516,None,3,https://github.com/uTox/uTox/pull/1516#issuecomment-757294011,"Improved Spanish support


This change is‚ÄÇ","Actually, I can fix those up myself, just please translate the rest of the strings if you want and can. If not, it's fine, just tell me, then I'll fix up the rest and merge. Thanks.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1516,2021-01-09T07:41:00Z,2021-01-10T21:21:43Z,2021-01-14T07:34:49Z,MERGED,True,310,20,1,https://github.com/siburec,Improve Spanish support,1,[],https://github.com/uTox/uTox/pull/1516,https://github.com/siburec,4,https://github.com/uTox/uTox/pull/1516#issuecomment-757491710,"Improved Spanish support


This change is‚ÄÇ","Hi avoidr,
it is the first time that I use github and I don't know how to edit without creating a new branch, so I will reply you here.
REQ_INVALID_ID
""Nota: Se ha a√±adido a su amigo, pero no se ha enviado la solictud de amistad (falta nospam)""
FRIEND_SETTINGS
""Configuraci√≥n de amigo""
LOCK -> I am not sure about the most accurate translation. As it is used to set the password, I would say ""Bloquear"" if you mean block, or ""Proteger"" if you think that protect is a more accurate term.
SHOW
""Mostrar""
HIDE
""Ocultar""
EXIT
""Salir""
KEEP
""Mantener""",True,{}
uTox/uTox,https://github.com/uTox/uTox,1516,2021-01-09T07:41:00Z,2021-01-10T21:21:43Z,2021-01-14T07:34:49Z,MERGED,True,310,20,1,https://github.com/siburec,Improve Spanish support,1,[],https://github.com/uTox/uTox/pull/1516,None,5,https://github.com/uTox/uTox/pull/1516#issuecomment-757508218,"Improved Spanish support


This change is‚ÄÇ","Thank you very much! I'll fix it up today and merge.

REQ_INVALID_ID

Surely you mean REQ_ADDED_NO_FREQ_SENT? :P",True,{}
uTox/uTox,https://github.com/uTox/uTox,1516,2021-01-09T07:41:00Z,2021-01-10T21:21:43Z,2021-01-14T07:34:49Z,MERGED,True,310,20,1,https://github.com/siburec,Improve Spanish support,1,[],https://github.com/uTox/uTox/pull/1516,None,6,https://github.com/uTox/uTox/pull/1516#issuecomment-757508644,"Improved Spanish support


This change is‚ÄÇ","Probably ""protect"" is more accurate.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1516,2021-01-09T07:41:00Z,2021-01-10T21:21:43Z,2021-01-14T07:34:49Z,MERGED,True,310,20,1,https://github.com/siburec,Improve Spanish support,1,[],https://github.com/uTox/uTox/pull/1516,https://github.com/siburec,7,https://github.com/uTox/uTox/pull/1516#issuecomment-757527438,"Improved Spanish support


This change is‚ÄÇ","Yes, I meant REQ_ADDED_NO_FREQ_SENT.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1516,2021-01-09T07:41:00Z,2021-01-10T21:21:43Z,2021-01-14T07:34:49Z,MERGED,True,310,20,1,https://github.com/siburec,Improve Spanish support,1,[],https://github.com/uTox/uTox/pull/1516,None,8,https://github.com/uTox/uTox/pull/1516#issuecomment-757546202,"Improved Spanish support


This change is‚ÄÇ","Merged, thanks a lot!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/siburec,1,https://github.com/uTox/uTox/pull/1517,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ",True,"{'THUMBS_UP': ['https://github.com/zoff99', 'https://github.com/clort81']}"
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/siburec,2,https://github.com/uTox/uTox/pull/1517#issuecomment-758762396,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","This pull request should solve the issues #1437 and #1411. The error is caused because after the memory is reallocated to store a new element, the selected_item was still pointing to the old position. I suppose that depending on the compiler the old memory is freed or not, and that is way only some users encounter this problem.
Unfortunately, although the group is created I am still unable to drag a contact to the group, so issue #1408 would not be solved.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,None,3,https://github.com/uTox/uTox/pull/1517#issuecomment-758844953,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","Hmm, that's weird, I thought that was already fixed‚Ä¶
Can you please tell me how to reproduce that? And what OS you're running, please, I would like to reproduce.
Thanks.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,None,4,https://github.com/uTox/uTox/pull/1517#issuecomment-758851442,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","By the way, this is a perfect candidate for a second paragraph of a commit message:

The error is caused because after the memory is reallocated to store a new element, the selected_item was still pointing to the old position. I suppose that depending on the compiler the old memory is freed or not, and that is way only some users encounter this problem.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/siburec,5,https://github.com/uTox/uTox/pull/1517#issuecomment-758915418,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","I am using Ubuntu 20.04 and gcc is on version 9.3. I have compiled following the guide (cmake .., make, sudo checkinstall -y) and I haven't edited any parameter.
In my case, every time I try to create a new group, the program crashes. In the terminal you can see the ""out of bounds"" message, but it is not really causing the crash. In fact, I still get this error with the patch and the program continues working and creates the group.
If you add -DCMAKE_BUILD_TYPE=Debug, you should see that the error happens in the line switch(i->type) of the page_close() function, because the selected_item is pointing to an old position.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/clort81,6,https://github.com/uTox/uTox/pull/1517#issuecomment-759155055,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","I pulled latest uTox from master and built with -DCMAKE_BUILD_TYPE=Debug
Avoidr created a group and invited me
Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 3 receipt_number 2 

Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 4 receipt_number 3 

[New Thread 0xffffe40feef0 (LWP 11502)]
uToxAv:       Trying to end a call when no call is active.
[Thread 0xffffe40feef0 (LWP 11502) exited]
[New Thread 0xffffe3ffdef0 (LWP 11515)]
[Thread 0xffffe3ffdef0 (LWP 11515) exited]
Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 5 receipt_number 4 

[New Thread 0xffffe38feef0 (LWP 11562)]
[Thread 0xffffe38feef0 (LWP 11562) exited]
XLib Event:   Type UTF8_STRING || Prop TARGETS 
Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 6 receipt_number 5 

XLib Event:   Type UTF8_STRING || Prop TARGETS 
Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 2 receipt_number 2 

[New Thread 0xffffe1efeef0 (LWP 11603)]
[Thread 0xffffe1efeef0 (LWP 11603) exited]
Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 7 receipt_number 6 

Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 5 receipt_number 3 

XLib Event:   Type UTF8_STRING || Prop TARGETS 
Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 6 receipt_number 4 

Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 8 receipt_number 5 

=================================================================
==11465==ERROR: AddressSanitizer: heap-use-after-free on address 0xfffff044b048 at pc 0xaaaaaab3a9c8 bp 0xffffffffed20 sp 0xffffffffed38
READ of size 4 at 0xfffff044b048 thread T0
    #0 0xaaaaaab3a9c4 in page_close /pr/uTox/src/flist.c:384
    #1 0xaaaaaab3a9c4 in show_page /pr/uTox/src/flist.c:617
    #2 0xaaaaaab697cc in flist_select_last /pr/uTox/src/flist.c:935
    #3 0xaaaaaab697cc in utox_message_dispatch /pr/uTox/src/utox.c:613
    #4 0xaaaaaab78094 in doevent /pr/uTox/src/xlib/event.c:691
    #5 0xaaaaaab28ec4 in doevent /pr/uTox/src/xlib/event.c:267
    #6 0xaaaaaab28ec4 in main /pr/uTox/src/xlib/main.c:855
    #7 0xfffff6c0f214 in __libc_start_main ../csu/libc-start.c:308
    #8 0xaaaaaab29c3c  (/media/sd/pcbak2/Projects/uTox/build/utox+0x89c3c)

0xfffff044b048 is located 40 bytes inside of 96-byte region [0xfffff044b020,0xfffff044b080)
freed by thread T0 here:
    #0 0xfffff75b81c4 in __interceptor_realloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cpp:164
    #1 0xaaaaaab394fc in newitem /pr/uTox/src/flist.c:286
    #2 0xaaaaaab69708 in flist_add_group /pr/uTox/src/flist.c:718
    #3 0xaaaaaab69708 in utox_message_dispatch /pr/uTox/src/utox.c:612
    #4 0xaaaaaab78094 in doevent /pr/uTox/src/xlib/event.c:691
    #5 0xaaaaaab28ec4 in doevent /pr/uTox/src/xlib/event.c:267
    #6 0xaaaaaab28ec4 in main /pr/uTox/src/xlib/main.c:855
    #7 0xfffff6c0f214 in __libc_start_main ../csu/libc-start.c:308
    #8 0xaaaaaab29c3c  (/media/sd/pcbak2/Projects/uTox/build/utox+0x89c3c)

previously allocated by thread T5 here:
    #0 0xfffff75b800c in __interceptor_calloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cpp:154
    #1 0xaaaaaab39810 in flist_start /pr/uTox/src/flist.c:639
    #2 0xaaaaaab59cc0 in toxcore_thread /pr/uTox/src/tox.c:509
    #3 0xfffff72ea624 in start_thread nptl/pthread_create.c:477
    #4 0xfffff6cc1018  (/lib/aarch64-linux-gnu/libc.so.6+0xd6018)

Thread T5 created by T0 here:
    #0 0xfffff756b9b0 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cpp:214
    #1 0xaaaaaab7ce68 in thread /pr/uTox/src/xlib/main.c:220
    #2 0xaaaaaab28e34 in main /pr/uTox/src/xlib/main.c:849
    #3 0xfffff6c0f214 in __libc_start_main ../csu/libc-start.c:308
    #4 0xaaaaaab29c3c  (/media/sd/pcbak2/Projects/uTox/build/utox+0x89c3c)

SUMMARY: AddressSanitizer: heap-use-after-free /pr/uTox/src/flist.c:384 in page_close
Shadow bytes around the buggy address:
  0x200ffe0895b0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa
  0x200ffe0895c0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa
  0x200ffe0895d0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa
  0x200ffe0895e0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa
  0x200ffe0895f0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa
=>0x200ffe089600: fa fa fa fa fd fd fd fd fd[fd]fd fd fd fd fd fd
  0x200ffe089610: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x200ffe089620: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x200ffe089630: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x200ffe089640: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x200ffe089650: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==11465==ABORTING
[Thread 0xffffe71fcef0 (LWP 11477) exited]
[Thread 0xffffe72fdef0 (LWP 11476) exited]
[Thread 0xffffe73feef0 (LWP 11475) exited]
[Thread 0xffffeaf2cef0 (LWP 11472) exited]
[Thread 0xffffeb72def0 (LWP 11471) exited]
[Thread 0xffffec72fef0 (LWP 11468) exited]
[Thread 0xfffff67f0460 (LWP 11465) exited]
[Inferior 1 (process 11465) exited with code 01]

Running on aarch64,
gcc version 10.2.1 20201224 (Debian 10.2.1-3)
I had no other groups active.
If I can provide more info, let me know.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/clort81,7,https://github.com/uTox/uTox/pull/1517#issuecomment-759157324,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","Another crash log - bt full gives 'No stack'
uTox Audio:   Audio out device set to null.
[Thread 0xffffebf2eef0 (LWP 11840) exited]
Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 3 receipt_number 1 

Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 4 receipt_number 2 

Messages:     Messages:	Unable to update this message...
		msg->disk_offset 0 && m->number 6 receipt_number 3 

get_group:     index: 0 is out of bounds.
=================================================================
==11837==ERROR: AddressSanitizer: heap-use-after-free on address 0xfffff044b020 at pc 0xaaaaaab3a9c8 bp 0xffffffffed20 sp 0xffffffffed38
READ of size 4 at 0xfffff044b020 thread T0
    #0 0xaaaaaab3a9c4 in page_close /pr/uTox/src/flist.c:384
    #1 0xaaaaaab3a9c4 in show_page /pr/uTox/src/flist.c:617
    #2 0xaaaaaab697cc in flist_select_last /pr/uTox/src/flist.c:935
    #3 0xaaaaaab697cc in utox_message_dispatch /pr/uTox/src/utox.c:613
    #4 0xaaaaaab78094 in doevent /pr/uTox/src/xlib/event.c:691
    #5 0xaaaaaab28ec4 in doevent /pr/uTox/src/xlib/event.c:267
    #6 0xaaaaaab28ec4 in main /pr/uTox/src/xlib/main.c:855
    #7 0xfffff6c0f214 in __libc_start_main ../csu/libc-start.c:308
    #8 0xaaaaaab29c3c  (/media/sd/pcbak2/Projects/uTox/build/utox+0x89c3c)

0xfffff044b020 is located 0 bytes inside of 88-byte region [0xfffff044b020,0xfffff044b078)
freed by thread T0 here:
    #0 0xfffff75b81c4 in __interceptor_realloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cpp:164
    #1 0xaaaaaab394fc in newitem /pr/uTox/src/flist.c:286
    #2 0xaaaaaab69708 in flist_add_group /pr/uTox/src/flist.c:718
    #3 0xaaaaaab69708 in utox_message_dispatch /pr/uTox/src/utox.c:612
    #4 0xaaaaaab78094 in doevent /pr/uTox/src/xlib/event.c:691
    #5 0xaaaaaab28ec4 in doevent /pr/uTox/src/xlib/event.c:267
    #6 0xaaaaaab28ec4 in main /pr/uTox/src/xlib/main.c:855
    #7 0xfffff6c0f214 in __libc_start_main ../csu/libc-start.c:308
    #8 0xaaaaaab29c3c  (/media/sd/pcbak2/Projects/uTox/build/utox+0x89c3c)

previously allocated by thread T5 here:
    #0 0xfffff75b800c in __interceptor_calloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cpp:154
    #1 0xaaaaaab39810 in flist_start /pr/uTox/src/flist.c:639
    #2 0xaaaaaab59cc0 in toxcore_thread /pr/uTox/src/tox.c:509
    #3 0xfffff72ea624 in start_thread nptl/pthread_create.c:477
    #4 0xfffff6cc1018  (/lib/aarch64-linux-gnu/libc.so.6+0xd6018)

Thread T5 created by T0 here:
    #0 0xfffff756b9b0 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cpp:214
    #1 0xaaaaaab7ce68 in thread /pr/uTox/src/xlib/main.c:220
    #2 0xaaaaaab28e34 in main /pr/uTox/src/xlib/main.c:849
    #3 0xfffff6c0f214 in __libc_start_main ../csu/libc-start.c:308
    #4 0xaaaaaab29c3c  (/media/sd/pcbak2/Projects/uTox/build/utox+0x89c3c)

SUMMARY: AddressSanitizer: heap-use-after-free /pr/uTox/src/flist.c:384 in page_close
Shadow bytes around the buggy address:
  0x200ffe0895b0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa
  0x200ffe0895c0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa
  0x200ffe0895d0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa
  0x200ffe0895e0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa
  0x200ffe0895f0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fa
=>0x200ffe089600: fa fa fa fa[fd]fd fd fd fd fd fd fd fd fd fd fa
  0x200ffe089610: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x200ffe089620: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x200ffe089630: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x200ffe089640: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x200ffe089650: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==11837==ABORTING
[Thread 0xffffe71fcef0 (LWP 11847) exited]
[Thread 0xffffe72fdef0 (LWP 11846) exited]
[Thread 0xffffe7cfeef0 (LWP 11844) exited]
[Thread 0xffffeaf2cef0 (LWP 11842) exited]
[Thread 0xffffeb72def0 (LWP 11841) exited]
[Thread 0xffffec72fef0 (LWP 11838) exited]
[Thread 0xfffff67f0460 (LWP 11837) exited]
[Inferior 1 (process 11837) exited with code 01]
(gdb) bt full
No stack.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/siburec,8,https://github.com/uTox/uTox/pull/1517#issuecomment-759258656,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","Hi @clort81, your error is happening in the same line as the one I mentioned. Could you download the develop branch and apply my proposed change to see if it gets solved?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/Serphentas,9,https://github.com/uTox/uTox/pull/1517#issuecomment-759717399,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ",@siburec I just tried compiling but it keeps asking for minini and qrcodegen while I've installed the -dev packages on Ubuntu. Any ideas ?,True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,None,10,https://github.com/uTox/uTox/pull/1517#issuecomment-759759415,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","@siburec This is the right approach and I didn't run the code but it should be correct. I'll think a little bit more, then test. In the meantime, do you want to change your commit at all, or shall I do that for you? There are at least style issues (space around operators, space after ';').
@Serphentas You probably need the third patch here: https://sources.debian.org/patches/utox/0.18.0-1/
Or you clone the git subrepositories.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,None,11,https://github.com/uTox/uTox/pull/1517#issuecomment-759760417,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","@clort81 Thanks for the backtraces, it was very helpful!",True,{'THUMBS_UP': ['https://github.com/clort81']}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/siburec,12,https://github.com/uTox/uTox/pull/1517#issuecomment-759992463,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","@avoidr I have only added some style corrections, but I am not sure if it matches your style. Do you have any guideline document ?
Regarding the last modification, I have accidentally had to commit twice and I don't know how to join them.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,None,13,https://github.com/uTox/uTox/pull/1517#issuecomment-760078980,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","Do you use git the command line tool? You can 'squash' commits together with git rebase -i HEAD~2 (for the last two commits relative to your current checkout) and then marking the second commit as ""squash"". You can squash the comment away now.
But generally, I think pushing new commits in PRs are better than force-rewriting the branch, because I can see the progress and the changes better. Technically I'd need to be skeptical of the whole PR anew if you rewrite it. And in the end, those little progress steps can still easily be squashed together.
We don't have a style guide, sorry. You'll have to guess the ""style"" of the surrounding code.
Thanks.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,None,14,https://github.com/uTox/uTox/pull/1517#issuecomment-760551849,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ",Made some more changes. I'll review myself later again. Thanks.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/Serphentas,15,https://github.com/uTox/uTox/pull/1517#issuecomment-760555423,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","@Serphentas You probably need the third patch here: https://sources.debian.org/patches/utox/0.18.0-1/
Or you clone the git subrepositories.

Thanks, full recursive clone did the trick. However, still getting the issue. Would you like a debug log ?",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,None,16,https://github.com/uTox/uTox/pull/1517#issuecomment-760569593,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ",@Serphentas Feel free to open an issue!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/Serphentas,17,https://github.com/uTox/uTox/pull/1517#issuecomment-760585637,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","Nevermind, I forgot to do something on my end which led me to discover another bug :)) Thanks for this PR @siburec",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,None,18,https://github.com/uTox/uTox/pull/1517#issuecomment-761286310,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","I believe this is the final version now. If you could test, that would be great. Thanks.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/siburec,19,https://github.com/uTox/uTox/pull/1517#issuecomment-761575328,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ",I have tried your last version and it is still working fine.,True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,None,20,https://github.com/uTox/uTox/pull/1517#issuecomment-761579853,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","I have tried your last version and it is still working fine.
Awesome! Then I'll merge later today.",True,{'THUMBS_UP': ['https://github.com/siburec']}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,None,21,https://github.com/uTox/uTox/pull/1517#issuecomment-761708299,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","Merged, thanks!
If you (all of you) want, you can test #1492, that would be cool. I don't see any flaw, but it's always good to be confirmed.
Thanks!",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,None,22,https://github.com/uTox/uTox/pull/1517#issuecomment-761708681,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","Right, what #1492 does is load the group titles from the Tox save/profile. The titles are always saved, just uTox hadn't loaded them before. So if you make a group and set a title, when you restart uTox, the titles should be the same as last time instead of just ""Groupchat #n"").",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/siburec,23,https://github.com/uTox/uTox/pull/1517#issuecomment-761755139,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","Right, what #1492 does is load the group titles from the Tox save/profile. The titles are always saved, just uTox hadn't loaded them before. So if you make a group and set a title, when you restart uTox, the titles should be the same as last time instead of just ""Groupchat #n"").

I will respond in the other issue to keep better track of the comments.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1517,2021-01-12T16:01:22Z,2021-01-17T00:54:20Z,2021-01-23T09:17:57Z,MERGED,True,16,1,1,https://github.com/siburec,Create group crash,1,[],https://github.com/uTox/uTox/pull/1517,https://github.com/zoff99,24,https://github.com/uTox/uTox/pull/1517#issuecomment-765893950,"Solved a bug in flist.c that caused a crash for some users during the creation of new groups.


This change is‚ÄÇ","@siburec good catch, thanks for this PR",True,{}
uTox/uTox,https://github.com/uTox/uTox,1518,2021-01-13T00:41:47Z,2021-01-13T18:32:39Z,2021-01-13T18:33:10Z,MERGED,True,13,622,22,None,Langs cleanup,1,[],https://github.com/uTox/uTox/pull/1518,None,1,https://github.com/uTox/uTox/pull/1518,"Will probably squash those two commits.


This change is‚ÄÇ","Will probably squash those two commits.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1519,2021-01-13T00:49:36Z,2021-01-13T01:11:02Z,2021-01-13T01:12:48Z,MERGED,True,1,1,1,None,README.md: Add Spanish to the list of complete translations,1,[],https://github.com/uTox/uTox/pull/1519,None,1,https://github.com/uTox/uTox/pull/1519,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1521,2021-01-16T13:32:51Z,2021-01-23T00:29:46Z,2021-01-23T00:30:30Z,MERGED,True,23,78,5,None,CI cleanup,7,[],https://github.com/uTox/uTox/pull/1521,None,1,https://github.com/uTox/uTox/pull/1521,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1523,2021-01-19T16:21:07Z,2021-01-23T00:46:33Z,2021-01-23T00:49:06Z,MERGED,True,16,21,1,https://github.com/siburec,Solved crash when undoing chat input with ctrl-z,3,[],https://github.com/uTox/uTox/pull/1523,https://github.com/siburec,1,https://github.com/uTox/uTox/pull/1523,"Solved a bug that caused a crash when text from chat was undone using ctrl-z.
It should solve issue #1072.


This change is‚ÄÇ","Solved a bug that caused a crash when text from chat was undone using ctrl-z.
It should solve issue #1072.


This change is‚ÄÇ",True,{'HOORAY': ['https://github.com/redmanmale']}
uTox/uTox,https://github.com/uTox/uTox,1523,2021-01-19T16:21:07Z,2021-01-23T00:46:33Z,2021-01-23T00:49:06Z,MERGED,True,16,21,1,https://github.com/siburec,Solved crash when undoing chat input with ctrl-z,3,[],https://github.com/uTox/uTox/pull/1523,https://github.com/siburec,2,https://github.com/uTox/uTox/pull/1523#issuecomment-762956794,"Solved a bug that caused a crash when text from chat was undone using ctrl-z.
It should solve issue #1072.


This change is‚ÄÇ","If somebody wants to reproduce the error, it happens when there are 2 o more characters written in a chat and ctrl-z is pressed twice and then a new character is written.
It happened because, when a new character is added, edit_do() function is called and it frees the memory of the removed characters. However it is done after reallocating only edit->history_cur + 1 values, so after 2 ctrl-z edit->history_cur = edit->history_length -2 and therefore last value hadn't been reallocated.
For that reason, the memory should be freed before reallocating it.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1523,2021-01-19T16:21:07Z,2021-01-23T00:46:33Z,2021-01-23T00:49:06Z,MERGED,True,16,21,1,https://github.com/siburec,Solved crash when undoing chat input with ctrl-z,3,[],https://github.com/uTox/uTox/pull/1523,None,3,https://github.com/uTox/uTox/pull/1523#issuecomment-763143895,"Solved a bug that caused a crash when text from chat was undone using ctrl-z.
It should solve issue #1072.


This change is‚ÄÇ","Thanks! I will make time in the morning to review.

It happened because, when a new character is added, edit_do() function is called and it frees the memory of the removed characters. However it is done after reallocating only edit->history_cur + 1 values, so after 2 ctrl-z edit->history_cur = edit->history_length -2 and therefore last value hadn't been reallocated.
For that reason, the memory should be freed before reallocating it.

Another perfect candidate for the commit message :P",True,{}
uTox/uTox,https://github.com/uTox/uTox,1523,2021-01-19T16:21:07Z,2021-01-23T00:46:33Z,2021-01-23T00:49:06Z,MERGED,True,16,21,1,https://github.com/siburec,Solved crash when undoing chat input with ctrl-z,3,[],https://github.com/uTox/uTox/pull/1523,None,4,https://github.com/uTox/uTox/pull/1523#issuecomment-765803030,"Solved a bug that caused a crash when text from chat was undone using ctrl-z.
It should solve issue #1072.


This change is‚ÄÇ",Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1525,2021-01-24T14:12:41Z,2021-01-28T15:34:32Z,2021-01-28T21:54:48Z,MERGED,True,7,0,1,https://github.com/robinlinden,Fix double free in flist when changing settings w/ empty flist,1,[],https://github.com/uTox/uTox/pull/1525,https://github.com/robinlinden,1,https://github.com/uTox/uTox/pull/1525,"This pretty much only happens if you double-click e.g. the udp toggle to
trigger a restart of tox twice in rapid succession. The first restart
calls flist_freeall() which empties the flist and leaves old pointers in
item and shown_list and the second flist_freeall() will try to free
the old pointers again.


This change is‚ÄÇ","This pretty much only happens if you double-click e.g. the udp toggle to
trigger a restart of tox twice in rapid succession. The first restart
calls flist_freeall() which empties the flist and leaves old pointers in
item and shown_list and the second flist_freeall() will try to free
the old pointers again.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1525,2021-01-24T14:12:41Z,2021-01-28T15:34:32Z,2021-01-28T21:54:48Z,MERGED,True,7,0,1,https://github.com/robinlinden,Fix double free in flist when changing settings w/ empty flist,1,[],https://github.com/uTox/uTox/pull/1525,None,2,https://github.com/uTox/uTox/pull/1525#issuecomment-766373847,"This pretty much only happens if you double-click e.g. the udp toggle to
trigger a restart of tox twice in rapid succession. The first restart
calls flist_freeall() which empties the flist and leaves old pointers in
item and shown_list and the second flist_freeall() will try to free
the old pointers again.


This change is‚ÄÇ","Maybe we should skip the for-loop altogether if item == NULL? We're only missing the NULL-deref by the fact that itemcount == 0, but that feels very implicit to me. Actually, I think an early return would be the best.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1525,2021-01-24T14:12:41Z,2021-01-28T15:34:32Z,2021-01-28T21:54:48Z,MERGED,True,7,0,1,https://github.com/robinlinden,Fix double free in flist when changing settings w/ empty flist,1,[],https://github.com/uTox/uTox/pull/1525,None,3,https://github.com/uTox/uTox/pull/1525#issuecomment-766385816,"This pretty much only happens if you double-click e.g. the udp toggle to
trigger a restart of tox twice in rapid succession. The first restart
calls flist_freeall() which empties the flist and leaves old pointers in
item and shown_list and the second flist_freeall() will try to free
the old pointers again.


This change is‚ÄÇ",Otherwise perfect. I've been clicking settings furiously for minutes without a single crash!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1525,2021-01-24T14:12:41Z,2021-01-28T15:34:32Z,2021-01-28T21:54:48Z,MERGED,True,7,0,1,https://github.com/robinlinden,Fix double free in flist when changing settings w/ empty flist,1,[],https://github.com/uTox/uTox/pull/1525,https://github.com/GrayHatter,4,https://github.com/uTox/uTox/pull/1525#issuecomment-768822779,"This pretty much only happens if you double-click e.g. the udp toggle to
trigger a restart of tox twice in rapid succession. The first restart
calls flist_freeall() which empties the flist and leaves old pointers in
item and shown_list and the second flist_freeall() will try to free
the old pointers again.


This change is‚ÄÇ",,True,{}
uTox/uTox,https://github.com/uTox/uTox,1525,2021-01-24T14:12:41Z,2021-01-28T15:34:32Z,2021-01-28T21:54:48Z,MERGED,True,7,0,1,https://github.com/robinlinden,Fix double free in flist when changing settings w/ empty flist,1,[],https://github.com/uTox/uTox/pull/1525,None,5,https://github.com/uTox/uTox/pull/1525#issuecomment-769168529,"This pretty much only happens if you double-click e.g. the udp toggle to
trigger a restart of tox twice in rapid succession. The first restart
calls flist_freeall() which empties the flist and leaves old pointers in
item and shown_list and the second flist_freeall() will try to free
the old pointers again.


This change is‚ÄÇ",Thanks!,True,{}
uTox/uTox,https://github.com/uTox/uTox,1526,2021-01-24T23:07:10Z,2021-01-26T17:20:03Z,2021-01-26T17:20:28Z,MERGED,True,8,30,3,None,Docs update,3,[],https://github.com/uTox/uTox/pull/1526,None,1,https://github.com/uTox/uTox/pull/1526,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1526,2021-01-24T23:07:10Z,2021-01-26T17:20:03Z,2021-01-26T17:20:28Z,MERGED,True,8,30,3,None,Docs update,3,[],https://github.com/uTox/uTox/pull/1526,None,2,https://github.com/uTox/uTox/pull/1526#issuecomment-767669647,This change is‚ÄÇ,"Thanks! Will just do minor changes:
- [Install](docs/INSTALL.md) via your package manager, or [build](docs/BUILD.md) it.
+ [Install](docs/INSTALL.md) via your package manager, or [build](docs/BUILD.md).

- If you find that uTox isn't packaged for your distribution, you will want to [build](BUILD.md) it yourself.
+ If you find, that uTox isn't packaged for your distribution, you will want to [build](BUILD.md) it yourself.

I think that would be better.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1526,2021-01-24T23:07:10Z,2021-01-26T17:20:03Z,2021-01-26T17:20:28Z,MERGED,True,8,30,3,None,Docs update,3,[],https://github.com/uTox/uTox/pull/1526,None,3,https://github.com/uTox/uTox/pull/1526#issuecomment-767690134,This change is‚ÄÇ,"Actually, I think the second change is wrong. Will only do the first.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1527,2021-01-28T07:26:27Z,2021-01-28T14:53:34Z,2021-01-28T14:53:34Z,CLOSED,False,3,0,2,None,Fix memleaks,2,[],https://github.com/uTox/uTox/pull/1527,None,1,https://github.com/uTox/uTox/pull/1527,This change is‚ÄÇ,This change is‚ÄÇ,True,{}
uTox/uTox,https://github.com/uTox/uTox,1527,2021-01-28T07:26:27Z,2021-01-28T14:53:34Z,2021-01-28T14:53:34Z,CLOSED,False,3,0,2,None,Fix memleaks,2,[],https://github.com/uTox/uTox/pull/1527,None,2,https://github.com/uTox/uTox/pull/1527#issuecomment-769136755,This change is‚ÄÇ,"Right, that makes sense. I reacted to ""calloc without free"". Lesson learned. Thank you for your review.",True,{}
uTox/uTox,https://github.com/uTox/uTox,1540,2021-07-21T23:08:01Z,2021-07-22T07:39:18Z,2021-10-17T04:38:41Z,MERGED,True,3,3,2,None,IRC: Move to libera.chat away from freenode,1,[],https://github.com/uTox/uTox/pull/1540,None,1,https://github.com/uTox/uTox/pull/1540,"Freenode has become distrustworthy and the channel is no more under our
control.


This change is‚ÄÇ","Freenode has become distrustworthy and the channel is no more under our
control.


This change is‚ÄÇ",True,{}
uTox/uTox,https://github.com/uTox/uTox,1540,2021-07-21T23:08:01Z,2021-07-22T07:39:18Z,2021-10-17T04:38:41Z,MERGED,True,3,3,2,None,IRC: Move to libera.chat away from freenode,1,[],https://github.com/uTox/uTox/pull/1540,https://github.com/GrayHatter,2,https://github.com/uTox/uTox/pull/1540#issuecomment-945048306,"Freenode has become distrustworthy and the channel is no more under our
control.


This change is‚ÄÇ",LGTM,True,{}
uTox/uTox,https://github.com/uTox/uTox,1549,2022-02-10T08:40:14Z,2022-05-09T08:43:44Z,2022-05-09T08:43:44Z,CLOSED,False,1,6,4,https://github.com/FragmentedCurve,Save settings at exit in a platform independent manner.,1,[],https://github.com/uTox/uTox/pull/1549,https://github.com/FragmentedCurve,1,https://github.com/uTox/uTox/pull/1549,"This PR is a fix for #1546.


This change is‚ÄÇ","This PR is a fix for #1546.


This change is‚ÄÇ",True,{}
