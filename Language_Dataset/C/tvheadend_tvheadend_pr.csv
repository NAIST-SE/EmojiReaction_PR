tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,820,2016-03-09T19:58:20Z,2016-03-09T20:51:12Z,2016-03-09T21:25:09Z,CLOSED,False,3,0,1,https://github.com/virtualdj,"atomic.h: add missing returns, fixes #3616",1,[],https://github.com/tvheadend/tvheadend/pull/820,https://github.com/virtualdj,1,https://github.com/tvheadend/tvheadend/pull/820,Please check that I've added the correct return values to the functions; the previous commit didn't compile of course because of them.,Please check that I've added the correct return values to the functions; the previous commit didn't compile of course because of them.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,820,2016-03-09T19:58:20Z,2016-03-09T20:51:12Z,2016-03-09T21:25:09Z,CLOSED,False,3,0,1,https://github.com/virtualdj,"atomic.h: add missing returns, fixes #3616",1,[],https://github.com/tvheadend/tvheadend/pull/820,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/820#issuecomment-194502173,Please check that I've added the correct return values to the functions; the previous commit didn't compile of course because of them.,Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,821,2016-03-12T22:08:53Z,2016-03-16T07:55:43Z,2016-03-16T07:55:43Z,CLOSED,False,1,0,1,https://github.com/Ferni7,Don't request all tiers on every key request from server,1,[],https://github.com/tvheadend/tvheadend/pull/821,https://github.com/Ferni7,1,https://github.com/tvheadend/tvheadend/pull/821,"Change provided here:
https://tvheadend.org/issues/3458#change-17132","Change provided here:
https://tvheadend.org/issues/3458#change-17132",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,821,2016-03-12T22:08:53Z,2016-03-16T07:55:43Z,2016-03-16T07:55:43Z,CLOSED,False,1,0,1,https://github.com/Ferni7,Don't request all tiers on every key request from server,1,[],https://github.com/tvheadend/tvheadend/pull/821,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/821#issuecomment-197201201,"Change provided here:
https://tvheadend.org/issues/3458#change-17132",Added.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,822,2016-03-12T22:14:47Z,2016-03-16T07:55:32Z,2016-03-16T08:44:16Z,CLOSED,False,1,0,1,https://github.com/Ferni7,Don't request all tiers on every key request from server,1,[],https://github.com/tvheadend/tvheadend/pull/822,https://github.com/Ferni7,1,https://github.com/tvheadend/tvheadend/pull/822,"Change provided here:
https://tvheadend.org/issues/3458#change-17132","Change provided here:
https://tvheadend.org/issues/3458#change-17132",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,822,2016-03-12T22:14:47Z,2016-03-16T07:55:32Z,2016-03-16T08:44:16Z,CLOSED,False,1,0,1,https://github.com/Ferni7,Don't request all tiers on every key request from server,1,[],https://github.com/tvheadend/tvheadend/pull/822,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/822#issuecomment-197201170,"Change provided here:
https://tvheadend.org/issues/3458#change-17132",Added.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,822,2016-03-12T22:14:47Z,2016-03-16T07:55:32Z,2016-03-16T08:44:16Z,CLOSED,False,1,0,1,https://github.com/Ferni7,Don't request all tiers on every key request from server,1,[],https://github.com/tvheadend/tvheadend/pull/822,https://github.com/Ferni7,3,https://github.com/tvheadend/tvheadend/pull/822#issuecomment-197214194,"Change provided here:
https://tvheadend.org/issues/3458#change-17132",Was this closed without merging on purpose?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,823,2016-03-16T08:08:25Z,2016-03-23T10:51:57Z,2016-03-23T10:51:57Z,CLOSED,False,3,2,1,None,Small style correct show EPG info,2,[],https://github.com/tvheadend/tvheadend/pull/823,None,1,https://github.com/tvheadend/tvheadend/pull/823,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,823,2016-03-16T08:08:25Z,2016-03-23T10:51:57Z,2016-03-23T10:51:57Z,CLOSED,False,3,2,1,None,Small style correct show EPG info,2,[],https://github.com/tvheadend/tvheadend/pull/823,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/823#issuecomment-197302359,,"Some subjective comments:

colors - no, no...
italic / normal font - I don't have a strong opinion...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,823,2016-03-16T08:08:25Z,2016-03-23T10:51:57Z,2016-03-23T10:51:57Z,CLOSED,False,3,2,1,None,Small style correct show EPG info,2,[],https://github.com/tvheadend/tvheadend/pull/823,None,3,https://github.com/tvheadend/tvheadend/pull/823#issuecomment-197340316,,"Hi
Why colors no ? Ok i can remove but i think that looks better because looks better when program start and finish.
And normal font looks better... Italic is no sync with other...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,823,2016-03-16T08:08:25Z,2016-03-23T10:51:57Z,2016-03-23T10:51:57Z,CLOSED,False,3,2,1,None,Small style correct show EPG info,2,[],https://github.com/tvheadend/tvheadend/pull/823,https://github.com/ProfYaffle,4,https://github.com/tvheadend/tvheadend/pull/823#issuecomment-197349196,,"I'm also no fan of colours... we should use colored icons in the dialog if necessary before we re-paint the text IMO.
Re: italics, I think that's just to separate the program text (description) from the ""metadata"". If it's not italicised, I'd suggest that it needs to be clearly separated in some other way.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,823,2016-03-16T08:08:25Z,2016-03-23T10:51:57Z,2016-03-23T10:51:57Z,CLOSED,False,3,2,1,None,Small style correct show EPG info,2,[],https://github.com/tvheadend/tvheadend/pull/823,None,5,https://github.com/tvheadend/tvheadend/pull/823#issuecomment-197352154,,"But it is separate by line "" hr "". For me italic no looks good on looks all. And i want to add underline title to separate from time...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,823,2016-03-16T08:08:25Z,2016-03-23T10:51:57Z,2016-03-23T10:51:57Z,CLOSED,False,3,2,1,None,Small style correct show EPG info,2,[],https://github.com/tvheadend/tvheadend/pull/823,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/823#issuecomment-200294645,,In master (another way).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,824,2016-03-16T08:09:43Z,2016-03-16T12:43:25Z,2016-03-16T12:43:25Z,CLOSED,False,2,2,1,None,Small style correct show EPG info part 2,2,[],https://github.com/tvheadend/tvheadend/pull/824,None,1,https://github.com/tvheadend/tvheadend/pull/824,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,824,2016-03-16T08:09:43Z,2016-03-16T12:43:25Z,2016-03-16T12:43:25Z,CLOSED,False,2,2,1,None,Small style correct show EPG info part 2,2,[],https://github.com/tvheadend/tvheadend/pull/824,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/824#issuecomment-197301476,,Merge everything into one request.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,825,2016-03-16T08:12:08Z,2016-03-16T12:43:00Z,2016-03-16T12:43:00Z,CLOSED,False,2,2,1,None,Small style correct show EPG info part 3,2,[],https://github.com/tvheadend/tvheadend/pull/825,None,1,https://github.com/tvheadend/tvheadend/pull/825,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,825,2016-03-16T08:12:08Z,2016-03-16T12:43:00Z,2016-03-16T12:43:00Z,CLOSED,False,2,2,1,None,Small style correct show EPG info part 3,2,[],https://github.com/tvheadend/tvheadend/pull/825,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/825#issuecomment-197301310,,Merged everything into one pull request.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,826,2016-03-16T14:47:44Z,2016-03-25T18:37:25Z,2016-03-26T07:46:57Z,CLOSED,False,671,444,9,https://github.com/lekma,libav: try to tidy up the mess that is Makefile.ffmpeg,1,[],https://github.com/tvheadend/tvheadend/pull/826,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/826,"fix broken libx265 build
rename libffmpeg_static to ffmpeg_static
rename libmfx option to qsv (which is what one really wants)
update to ffmpeg 3.0
drop support for non-ffmpeg libav libs (kinda needed for libswresample, but might force users
to upgrade)
drop vdpau config option (unused)
add multiple options (libvpx, libvorbis, ...) to customize builds to one's needs
add libfdk-aac support
add libtheora support
try to cleanup the libav section in Makefile
libx264 now supports swscale and avfilter
patch libmfx to support the correct path to libmfx(s|h)w64.so on ubuntu (other distro users
might not be pleased with that one)","fix broken libx265 build
rename libffmpeg_static to ffmpeg_static
rename libmfx option to qsv (which is what one really wants)
update to ffmpeg 3.0
drop support for non-ffmpeg libav libs (kinda needed for libswresample, but might force users
to upgrade)
drop vdpau config option (unused)
add multiple options (libvpx, libvorbis, ...) to customize builds to one's needs
add libfdk-aac support
add libtheora support
try to cleanup the libav section in Makefile
libx264 now supports swscale and avfilter
patch libmfx to support the correct path to libmfx(s|h)w64.so on ubuntu (other distro users
might not be pleased with that one)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,826,2016-03-16T14:47:44Z,2016-03-25T18:37:25Z,2016-03-26T07:46:57Z,CLOSED,False,671,444,9,https://github.com/lekma,libav: try to tidy up the mess that is Makefile.ffmpeg,1,[],https://github.com/tvheadend/tvheadend/pull/826,https://github.com/lekma,2,https://github.com/tvheadend/tvheadend/pull/826#issuecomment-197367272,"fix broken libx265 build
rename libffmpeg_static to ffmpeg_static
rename libmfx option to qsv (which is what one really wants)
update to ffmpeg 3.0
drop support for non-ffmpeg libav libs (kinda needed for libswresample, but might force users
to upgrade)
drop vdpau config option (unused)
add multiple options (libvpx, libvorbis, ...) to customize builds to one's needs
add libfdk-aac support
add libtheora support
try to cleanup the libav section in Makefile
libx264 now supports swscale and avfilter
patch libmfx to support the correct path to libmfx(s|h)w64.so on ubuntu (other distro users
might not be pleased with that one)","@perexg I'm not absolutely sure you need (or even want) to merge that one, but there are some good bits in here you might be interested in.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,826,2016-03-16T14:47:44Z,2016-03-25T18:37:25Z,2016-03-26T07:46:57Z,CLOSED,False,671,444,9,https://github.com/lekma,libav: try to tidy up the mess that is Makefile.ffmpeg,1,[],https://github.com/tvheadend/tvheadend/pull/826,https://github.com/CvH,3,https://github.com/tvheadend/tvheadend/pull/826#issuecomment-197372209,"fix broken libx265 build
rename libffmpeg_static to ffmpeg_static
rename libmfx option to qsv (which is what one really wants)
update to ffmpeg 3.0
drop support for non-ffmpeg libav libs (kinda needed for libswresample, but might force users
to upgrade)
drop vdpau config option (unused)
add multiple options (libvpx, libvorbis, ...) to customize builds to one's needs
add libfdk-aac support
add libtheora support
try to cleanup the libav section in Makefile
libx264 now supports swscale and avfilter
patch libmfx to support the correct path to libmfx(s|h)w64.so on ubuntu (other distro users
might not be pleased with that one)","@lekma Just out of curiosity, no opus support (aka kind of the best audio codec out there + oss)?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,826,2016-03-16T14:47:44Z,2016-03-25T18:37:25Z,2016-03-26T07:46:57Z,CLOSED,False,671,444,9,https://github.com/lekma,libav: try to tidy up the mess that is Makefile.ffmpeg,1,[],https://github.com/tvheadend/tvheadend/pull/826,https://github.com/lekma,4,https://github.com/tvheadend/tvheadend/pull/826#issuecomment-197378440,"fix broken libx265 build
rename libffmpeg_static to ffmpeg_static
rename libmfx option to qsv (which is what one really wants)
update to ffmpeg 3.0
drop support for non-ffmpeg libav libs (kinda needed for libswresample, but might force users
to upgrade)
drop vdpau config option (unused)
add multiple options (libvpx, libvorbis, ...) to customize builds to one's needs
add libfdk-aac support
add libtheora support
try to cleanup the libav section in Makefile
libx264 now supports swscale and avfilter
patch libmfx to support the correct path to libmfx(s|h)w64.so on ubuntu (other distro users
might not be pleased with that one)",@CvH if it makes sense in a tvheadend context I can add it. It will only be build support though (for the time being).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,826,2016-03-16T14:47:44Z,2016-03-25T18:37:25Z,2016-03-26T07:46:57Z,CLOSED,False,671,444,9,https://github.com/lekma,libav: try to tidy up the mess that is Makefile.ffmpeg,1,[],https://github.com/tvheadend/tvheadend/pull/826,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/826#issuecomment-201410815,"fix broken libx265 build
rename libffmpeg_static to ffmpeg_static
rename libmfx option to qsv (which is what one really wants)
update to ffmpeg 3.0
drop support for non-ffmpeg libav libs (kinda needed for libswresample, but might force users
to upgrade)
drop vdpau config option (unused)
add multiple options (libvpx, libvorbis, ...) to customize builds to one's needs
add libfdk-aac support
add libtheora support
try to cleanup the libav section in Makefile
libx264 now supports swscale and avfilter
patch libmfx to support the correct path to libmfx(s|h)w64.so on ubuntu (other distro users
might not be pleased with that one)",Merged. Many thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,827,2016-03-16T18:01:42Z,2016-03-23T10:51:31Z,2016-03-23T10:51:31Z,CLOSED,False,3,2,1,None,Small correct for EPG and DVR,1,[],https://github.com/tvheadend/tvheadend/pull/827,None,1,https://github.com/tvheadend/tvheadend/pull/827,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,827,2016-03-16T18:01:42Z,2016-03-23T10:51:31Z,2016-03-23T10:51:31Z,CLOSED,False,3,2,1,None,Small correct for EPG and DVR,1,[],https://github.com/tvheadend/tvheadend/pull/827,None,2,https://github.com/tvheadend/tvheadend/pull/827#issuecomment-197519837,,And please update all languages from transifex :) thanks,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,827,2016-03-16T18:01:42Z,2016-03-23T10:51:31Z,2016-03-23T10:51:31Z,CLOSED,False,3,2,1,None,Small correct for EPG and DVR,1,[],https://github.com/tvheadend/tvheadend/pull/827,None,3,https://github.com/tvheadend/tvheadend/pull/827#issuecomment-199492750,,please merged it,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,827,2016-03-16T18:01:42Z,2016-03-23T10:51:31Z,2016-03-23T10:51:31Z,CLOSED,False,3,2,1,None,Small correct for EPG and DVR,1,[],https://github.com/tvheadend/tvheadend/pull/827,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/827#issuecomment-200294468,,I did this a little bit differently. Check latest. Closing.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,828,2016-03-22T09:06:43Z,2016-03-23T10:53:56Z,2016-03-23T10:53:56Z,CLOSED,False,13,22,3,https://github.com/BenEfrati,Support Android 5.1,5,[],https://github.com/tvheadend/tvheadend/pull/828,https://github.com/BenEfrati,1,https://github.com/tvheadend/tvheadend/pull/828,Fix some compilation error when compiling with android-21.,Fix some compilation error when compiling with android-21.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,828,2016-03-22T09:06:43Z,2016-03-23T10:53:56Z,2016-03-23T10:53:56Z,CLOSED,False,13,22,3,https://github.com/BenEfrati,Support Android 5.1,5,[],https://github.com/tvheadend/tvheadend/pull/828,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/828#issuecomment-200295041,Fix some compilation error when compiling with android-21.,Merged all patches into one and pushed to master. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,829,2016-03-24T21:22:02Z,2016-03-25T11:44:39Z,2016-03-25T11:48:27Z,CLOSED,False,1,1,1,https://github.com/herrnst,webui: Fix display of signal strength if scale differs from SNR scale,1,[],https://github.com/tvheadend/tvheadend/pull/829,https://github.com/herrnst,1,https://github.com/tvheadend/tvheadend/pull/829,"Typo or C/P probably, resulting in wrong display of the signal strength column. If the SNR property reports FE_SCALE_DECIBEL but the strength property reports FE_SCALE_RELATIVE, strength is shown as dBm instead of a percentage bar.","Typo or C/P probably, resulting in wrong display of the signal strength column. If the SNR property reports FE_SCALE_DECIBEL but the strength property reports FE_SCALE_RELATIVE, strength is shown as dBm instead of a percentage bar.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,829,2016-03-24T21:22:02Z,2016-03-25T11:44:39Z,2016-03-25T11:48:27Z,CLOSED,False,1,1,1,https://github.com/herrnst,webui: Fix display of signal strength if scale differs from SNR scale,1,[],https://github.com/tvheadend/tvheadend/pull/829,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/829#issuecomment-201247143,"Typo or C/P probably, resulting in wrong display of the signal strength column. If the SNR property reports FE_SCALE_DECIBEL but the strength property reports FE_SCALE_RELATIVE, strength is shown as dBm instead of a percentage bar.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,830,2016-03-26T08:20:30Z,2016-03-26T14:12:05Z,2016-03-27T06:43:20Z,CLOSED,False,6,6,1,https://github.com/lekma,fix .doozer.json to reflect recent changes to configure,1,[],https://github.com/tvheadend/tvheadend/pull/830,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/830,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,830,2016-03-26T08:20:30Z,2016-03-26T14:12:05Z,2016-03-27T06:43:20Z,CLOSED,False,6,6,1,https://github.com/lekma,fix .doozer.json to reflect recent changes to configure,1,[],https://github.com/tvheadend/tvheadend/pull/830,https://github.com/lekma,2,https://github.com/tvheadend/tvheadend/pull/830#issuecomment-201733481,,"@perexg it seems my search for libffmpeg_static ignored hidden files, sorry about that",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,830,2016-03-26T08:20:30Z,2016-03-26T14:12:05Z,2016-03-27T06:43:20Z,CLOSED,False,6,6,1,https://github.com/lekma,fix .doozer.json to reflect recent changes to configure,1,[],https://github.com/tvheadend/tvheadend/pull/830,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/830#issuecomment-201831740,,Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,830,2016-03-26T08:20:30Z,2016-03-26T14:12:05Z,2016-03-27T06:43:20Z,CLOSED,False,6,6,1,https://github.com/lekma,fix .doozer.json to reflect recent changes to configure,1,[],https://github.com/tvheadend/tvheadend/pull/830,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/830#issuecomment-201831907,,BTW: The builds are failing - https://tvheadend.org/builds/tvheadend .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,830,2016-03-26T08:20:30Z,2016-03-26T14:12:05Z,2016-03-27T06:43:20Z,CLOSED,False,6,6,1,https://github.com/lekma,fix .doozer.json to reflect recent changes to configure,1,[],https://github.com/tvheadend/tvheadend/pull/830,https://github.com/lekma,5,https://github.com/tvheadend/tvheadend/pull/830#issuecomment-201882337,,@perexg try disabling parallel building for ffmpeg_static,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,830,2016-03-26T08:20:30Z,2016-03-26T14:12:05Z,2016-03-27T06:43:20Z,CLOSED,False,6,6,1,https://github.com/lekma,fix .doozer.json to reflect recent changes to configure,1,[],https://github.com/tvheadend/tvheadend/pull/830,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/830#issuecomment-201908272,,"It won't help. Parallel build is fine. I found this for precise:
CMake 2.8.8 or higher is required.  You are running version 2.8.7",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,830,2016-03-26T08:20:30Z,2016-03-26T14:12:05Z,2016-03-27T06:43:20Z,CLOSED,False,6,6,1,https://github.com/lekma,fix .doozer.json to reflect recent changes to configure,1,[],https://github.com/tvheadend/tvheadend/pull/830,https://github.com/perexg,7,https://github.com/tvheadend/tvheadend/pull/830#issuecomment-201910933,,"OK, the $(LIB_ROOT)/$(FFMPEG)/.tvh_tmp is the culprit.. What's this?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,830,2016-03-26T08:20:30Z,2016-03-26T14:12:05Z,2016-03-27T06:43:20Z,CLOSED,False,6,6,1,https://github.com/lekma,fix .doozer.json to reflect recent changes to configure,1,[],https://github.com/tvheadend/tvheadend/pull/830,https://github.com/lekma,8,https://github.com/tvheadend/tvheadend/pull/830#issuecomment-202001625,,"@perexg  .tvh_tmp is a temp build of ffmpeg needed by libx264 to enable swscale and avfilter.
Now that you seem to have a handle on the automatic builds would you mind putting it back (at least  to confirm it was the culprit)?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,831,2016-03-27T21:39:30Z,2016-03-28T07:48:21Z,2016-03-28T07:48:21Z,CLOSED,False,2,2,1,https://github.com/mpmc,Correct counf.,1,[],https://github.com/tvheadend/tvheadend/pull/831,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/831,:),:),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,831,2016-03-27T21:39:30Z,2016-03-28T07:48:21Z,2016-03-28T07:48:21Z,CLOSED,False,2,2,1,https://github.com/mpmc,Correct counf.,1,[],https://github.com/tvheadend/tvheadend/pull/831,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/831#issuecomment-202288346,:),Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,832,2016-03-28T07:59:43Z,2016-03-28T10:54:22Z,2016-03-28T11:03:54Z,CLOSED,False,5,1,2,https://github.com/lekma,transcoding: disable swscale and avfilter support in libx264,2,[],https://github.com/tvheadend/tvheadend/pull/832,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/832,it seems the way I implemented it broke parallel building :( (might be worth investigating why later),it seems the way I implemented it broke parallel building :( (might be worth investigating why later),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,832,2016-03-28T07:59:43Z,2016-03-28T10:54:22Z,2016-03-28T11:03:54Z,CLOSED,False,5,1,2,https://github.com/lekma,transcoding: disable swscale and avfilter support in libx264,2,[],https://github.com/tvheadend/tvheadend/pull/832,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/832#issuecomment-202340149,it seems the way I implemented it broke parallel building :( (might be worth investigating why later),Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,833,2016-03-28T09:19:04Z,2016-03-28T10:55:05Z,2016-04-01T16:55:39Z,CLOSED,False,7,2,2,https://github.com/mpmc,Tooltips and a small fix.,2,[],https://github.com/tvheadend/tvheadend/pull/833,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/833,Small note: also created PR to add config_memoryinfo.md on tvheadend-documentation,Small note: also created PR to add config_memoryinfo.md on tvheadend-documentation,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,833,2016-03-28T09:19:04Z,2016-03-28T10:55:05Z,2016-04-01T16:55:39Z,CLOSED,False,7,2,2,https://github.com/mpmc,Tooltips and a small fix.,2,[],https://github.com/tvheadend/tvheadend/pull/833,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/833#issuecomment-202340213,Small note: also created PR to add config_memoryinfo.md on tvheadend-documentation,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,834,2016-03-29T08:33:50Z,2016-03-30T08:09:12Z,2016-03-30T10:11:35Z,CLOSED,False,1,1,1,https://github.com/lekma,git: ignore compressed css,1,[],https://github.com/tvheadend/tvheadend/pull/834,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/834,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,834,2016-03-29T08:33:50Z,2016-03-30T08:09:12Z,2016-03-30T10:11:35Z,CLOSED,False,1,1,1,https://github.com/lekma,git: ignore compressed css,1,[],https://github.com/tvheadend/tvheadend/pull/834,https://github.com/lekma,2,https://github.com/tvheadend/tvheadend/pull/834#issuecomment-202777467,,is this right?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,834,2016-03-29T08:33:50Z,2016-03-30T08:09:12Z,2016-03-30T10:11:35Z,CLOSED,False,1,1,1,https://github.com/lekma,git: ignore compressed css,1,[],https://github.com/tvheadend/tvheadend/pull/834,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/834#issuecomment-203310787,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,835,2016-03-31T10:39:46Z,2016-04-01T15:12:25Z,2016-04-01T15:12:25Z,CLOSED,False,1,0,1,https://github.com/axfree,Fix epggrab to close accepted socket after grabbing,1,[],https://github.com/tvheadend/tvheadend/pull/835,https://github.com/axfree,1,https://github.com/tvheadend/tvheadend/pull/835,"This patch fixes #3678
https://tvheadend.org/issues/3678","This patch fixes #3678
https://tvheadend.org/issues/3678",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,835,2016-03-31T10:39:46Z,2016-04-01T15:12:25Z,2016-04-01T15:12:25Z,CLOSED,False,1,0,1,https://github.com/axfree,Fix epggrab to close accepted socket after grabbing,1,[],https://github.com/tvheadend/tvheadend/pull/835,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/835#issuecomment-204433614,"This patch fixes #3678
https://tvheadend.org/issues/3678",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,836,2016-03-31T21:43:26Z,2016-04-01T15:11:42Z,2016-04-01T15:11:42Z,CLOSED,False,1,2,1,https://github.com/Glenn-1990,Do not crash on retention overflow.,1,[],https://github.com/tvheadend/tvheadend/pull/836,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/836,"When a user enters for example '10000' in the dvr retention/removal field (on a 32-bit machine), tvheadend will crash due to an overflow when the recording finishes.
With the abort() removed, an overflow would be handled as forever.
Also there was a small typo.
@perexg","When a user enters for example '10000' in the dvr retention/removal field (on a 32-bit machine), tvheadend will crash due to an overflow when the recording finishes.
With the abort() removed, an overflow would be handled as forever.
Also there was a small typo.
@perexg",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,836,2016-03-31T21:43:26Z,2016-04-01T15:11:42Z,2016-04-01T15:11:42Z,CLOSED,False,1,2,1,https://github.com/Glenn-1990,Do not crash on retention overflow.,1,[],https://github.com/tvheadend/tvheadend/pull/836,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/836#issuecomment-204433398,"When a user enters for example '10000' in the dvr retention/removal field (on a 32-bit machine), tvheadend will crash due to an overflow when the recording finishes.
With the abort() removed, an overflow would be handled as forever.
Also there was a small typo.
@perexg",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,837,2016-04-02T15:55:20Z,2016-04-02T16:22:21Z,2016-04-02T16:27:08Z,CLOSED,False,34,5,4,https://github.com/mpmc,Markdown help additions and changes.,4,[],https://github.com/tvheadend/tvheadend/pull/837,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/837,"@perexg: Please don't commit these unless they're correct if not please point out any mistakes 😄.
I think I may be doing this backwards.. Should I be adding docs to docs/class/<title>.md?","@perexg: Please don't commit these unless they're correct if not please point out any mistakes 😄.
I think I may be doing this backwards.. Should I be adding docs to docs/class/<title>.md?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,837,2016-04-02T15:55:20Z,2016-04-02T16:22:21Z,2016-04-02T16:27:08Z,CLOSED,False,34,5,4,https://github.com/mpmc,Markdown help additions and changes.,4,[],https://github.com/tvheadend/tvheadend/pull/837,https://github.com/mpmc,2,https://github.com/tvheadend/tvheadend/pull/837#issuecomment-204750713,"@perexg: Please don't commit these unless they're correct if not please point out any mistakes 😄.
I think I may be doing this backwards.. Should I be adding docs to docs/class/<title>.md?","OK I've figured it out, I am doing it backwards!
md_to_c.py does generate the docs_inc.c file!
Closing for now :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,838,2016-04-02T17:15:11Z,2016-10-22T07:58:59Z,2016-10-22T07:59:10Z,CLOSED,False,7,7,1,https://github.com/bkuhls,ffmpeg: revert minimum required version numbers,1,[],https://github.com/tvheadend/tvheadend/pull/838,https://github.com/bkuhls,1,https://github.com/tvheadend/tvheadend/pull/838,"This commit reverts the minimum version numbers required by configure to
the values before
1359eff#diff-e2d5a00791bce9a01f99bc6fd613a39dL486
in order to allow compilation with older versions of ffmpeg again.
Please note that the previous version numbers of all ffmpeg libs, with
the exception of libavfilter, are those of ffmpeg 2.0.7:
https://ffmpeg.org/olddownload.html
Therefore I synced the minimum version number required for libavfilter to
3.79.101 and not to 4.0.0 as previous in tvheadend's configure script.
Signed-off-by: Bernd Kuhls bernd.kuhls@t-online.de","This commit reverts the minimum version numbers required by configure to
the values before
1359eff#diff-e2d5a00791bce9a01f99bc6fd613a39dL486
in order to allow compilation with older versions of ffmpeg again.
Please note that the previous version numbers of all ffmpeg libs, with
the exception of libavfilter, are those of ffmpeg 2.0.7:
https://ffmpeg.org/olddownload.html
Therefore I synced the minimum version number required for libavfilter to
3.79.101 and not to 4.0.0 as previous in tvheadend's configure script.
Signed-off-by: Bernd Kuhls bernd.kuhls@t-online.de",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,838,2016-04-02T17:15:11Z,2016-10-22T07:58:59Z,2016-10-22T07:59:10Z,CLOSED,False,7,7,1,https://github.com/bkuhls,ffmpeg: revert minimum required version numbers,1,[],https://github.com/tvheadend/tvheadend/pull/838,https://github.com/lekma,2,https://github.com/tvheadend/tvheadend/pull/838#issuecomment-204981928,"This commit reverts the minimum version numbers required by configure to
the values before
1359eff#diff-e2d5a00791bce9a01f99bc6fd613a39dL486
in order to allow compilation with older versions of ffmpeg again.
Please note that the previous version numbers of all ffmpeg libs, with
the exception of libavfilter, are those of ffmpeg 2.0.7:
https://ffmpeg.org/olddownload.html
Therefore I synced the minimum version number required for libavfilter to
3.79.101 and not to 4.0.0 as previous in tvheadend's configure script.
Signed-off-by: Bernd Kuhls bernd.kuhls@t-online.de",did you test transcoding with these specific old libs?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,838,2016-04-02T17:15:11Z,2016-10-22T07:58:59Z,2016-10-22T07:59:10Z,CLOSED,False,7,7,1,https://github.com/bkuhls,ffmpeg: revert minimum required version numbers,1,[],https://github.com/tvheadend/tvheadend/pull/838,https://github.com/bkuhls,3,https://github.com/tvheadend/tvheadend/pull/838#issuecomment-204985007,"This commit reverts the minimum version numbers required by configure to
the values before
1359eff#diff-e2d5a00791bce9a01f99bc6fd613a39dL486
in order to allow compilation with older versions of ffmpeg again.
Please note that the previous version numbers of all ffmpeg libs, with
the exception of libavfilter, are those of ffmpeg 2.0.7:
https://ffmpeg.org/olddownload.html
Therefore I synced the minimum version number required for libavfilter to
3.79.101 and not to 4.0.0 as previous in tvheadend's configure script.
Signed-off-by: Bernd Kuhls bernd.kuhls@t-online.de","@lekma: No, until two weeks ago I used ffmpeg 2.8.6 but I reverted to the version numbers in use before so I guess they were ok. Otoh we could change the required version to ffmpeg 2.8.6 as present in Debian stretch.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,838,2016-04-02T17:15:11Z,2016-10-22T07:58:59Z,2016-10-22T07:59:10Z,CLOSED,False,7,7,1,https://github.com/bkuhls,ffmpeg: revert minimum required version numbers,1,[],https://github.com/tvheadend/tvheadend/pull/838,https://github.com/bkuhls,4,https://github.com/tvheadend/tvheadend/pull/838#issuecomment-255513867,"This commit reverts the minimum version numbers required by configure to
the values before
1359eff#diff-e2d5a00791bce9a01f99bc6fd613a39dL486
in order to allow compilation with older versions of ffmpeg again.
Please note that the previous version numbers of all ffmpeg libs, with
the exception of libavfilter, are those of ffmpeg 2.0.7:
https://ffmpeg.org/olddownload.html
Therefore I synced the minimum version number required for libavfilter to
3.79.101 and not to 4.0.0 as previous in tvheadend's configure script.
Signed-off-by: Bernd Kuhls bernd.kuhls@t-online.de","Closing this PR after buildroot bumped ffmpeg to 3.1, this commit is not needed anymore from my POV.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,839,2016-04-03T13:04:09Z,2016-04-03T14:15:06Z,2016-04-03T14:15:06Z,CLOSED,False,13,7,6,https://github.com/mpmc,Various fixes/changes & mdhelp additions,3,[],https://github.com/tvheadend/tvheadend/pull/839,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/839,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,839,2016-04-03T13:04:09Z,2016-04-03T14:15:06Z,2016-04-03T14:15:06Z,CLOSED,False,13,7,6,https://github.com/mpmc,Various fixes/changes & mdhelp additions,3,[],https://github.com/tvheadend/tvheadend/pull/839,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/839#issuecomment-204984402,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,840,2016-04-03T14:41:52Z,2016-04-03T14:49:14Z,2016-04-03T14:49:14Z,CLOSED,False,2,2,1,https://github.com/mpmc,wizard: fix logo path and remove space in markdown,1,[],https://github.com/tvheadend/tvheadend/pull/840,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/840,As title..,As title..,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,840,2016-04-03T14:41:52Z,2016-04-03T14:49:14Z,2016-04-03T14:49:14Z,CLOSED,False,2,2,1,https://github.com/mpmc,wizard: fix logo path and remove space in markdown,1,[],https://github.com/tvheadend/tvheadend/pull/840,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/840#issuecomment-204992130,As title..,Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,841,2016-04-03T22:55:38Z,2016-04-04T16:37:17Z,2016-04-04T22:04:36Z,CLOSED,False,35,6,1,https://github.com/axfree,Enabling multiple channel names and adding a channel number to the XMLTV EPG grabber,4,[],https://github.com/tvheadend/tvheadend/pull/841,https://github.com/axfree,1,https://github.com/tvheadend/tvheadend/pull/841,"This patch enables xmltv epg to have a channel number and mutiple channel names.
http://wiki.xmltv.org/index.php/XMLTVFormat
Example:
<display-name>21 JTBC Sports</display-name>
=> channel number: 21
=> channel name: ""JTBC Sports""

<display-name>21</display-name>
=> channel number: 21

<display-name>JTBC Sports</display-name>
=> channel name: ""JTBC Sports""","This patch enables xmltv epg to have a channel number and mutiple channel names.
http://wiki.xmltv.org/index.php/XMLTVFormat
Example:
<display-name>21 JTBC Sports</display-name>
=> channel number: 21
=> channel name: ""JTBC Sports""

<display-name>21</display-name>
=> channel number: 21

<display-name>JTBC Sports</display-name>
=> channel name: ""JTBC Sports""",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,841,2016-04-03T22:55:38Z,2016-04-04T16:37:17Z,2016-04-04T22:04:36Z,CLOSED,False,35,6,1,https://github.com/axfree,Enabling multiple channel names and adding a channel number to the XMLTV EPG grabber,4,[],https://github.com/tvheadend/tvheadend/pull/841,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/841#issuecomment-205383862,"This patch enables xmltv epg to have a channel number and mutiple channel names.
http://wiki.xmltv.org/index.php/XMLTVFormat
Example:
<display-name>21 JTBC Sports</display-name>
=> channel number: 21
=> channel name: ""JTBC Sports""

<display-name>21</display-name>
=> channel number: 21

<display-name>JTBC Sports</display-name>
=> channel name: ""JTBC Sports""",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,841,2016-04-03T22:55:38Z,2016-04-04T16:37:17Z,2016-04-04T22:04:36Z,CLOSED,False,35,6,1,https://github.com/axfree,Enabling multiple channel names and adding a channel number to the XMLTV EPG grabber,4,[],https://github.com/tvheadend/tvheadend/pull/841,https://github.com/agitate,3,https://github.com/tvheadend/tvheadend/pull/841#issuecomment-205448446,"This patch enables xmltv epg to have a channel number and mutiple channel names.
http://wiki.xmltv.org/index.php/XMLTVFormat
Example:
<display-name>21 JTBC Sports</display-name>
=> channel number: 21
=> channel name: ""JTBC Sports""

<display-name>21</display-name>
=> channel number: 21

<display-name>JTBC Sports</display-name>
=> channel name: ""JTBC Sports""","My XMLTV has a display-name like this:
<display-name lang=""en"">5 USA</display-name>
but it isn't channel number 5 (it is channel 21). I also have these in my XMLTV:
<display-name lang=""en"">102.2 Smooth Radio</display-name>
<display-name lang=""en"">5*</display-name>
<display-name lang=""en"">96-106 Capital FM</display-name>
From what I can see, from the XMLTV spec, you can have multiple display-name elements, but the content doesn't seem to be interpreted in any way other than as a string to represent the display-name. What do you think?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,841,2016-04-03T22:55:38Z,2016-04-04T16:37:17Z,2016-04-04T22:04:36Z,CLOSED,False,35,6,1,https://github.com/axfree,Enabling multiple channel names and adding a channel number to the XMLTV EPG grabber,4,[],https://github.com/tvheadend/tvheadend/pull/841,https://github.com/axfree,4,https://github.com/tvheadend/tvheadend/pull/841#issuecomment-205516857,"This patch enables xmltv epg to have a channel number and mutiple channel names.
http://wiki.xmltv.org/index.php/XMLTVFormat
Example:
<display-name>21 JTBC Sports</display-name>
=> channel number: 21
=> channel name: ""JTBC Sports""

<display-name>21</display-name>
=> channel number: 21

<display-name>JTBC Sports</display-name>
=> channel name: ""JTBC Sports""","These are not treated as channel number. only numbers followed by space is treated as such.
<display-name lang=""en"">102.2 Smooth Radio</display-name>
<display-name lang=""en"">5*</display-name>
<display-name lang=""en"">96-106 Capital FM</display-name>

But this one is not what I expected :)
<display-name lang=""en"">5 USA</display-name> 
To handle that case, I've decided not to extract channel number if it's uncertain.
Channel number extraction is now done only if there's a channel number only <display-name> exists like this.
<display-name lang=""en"">5 USA</display-name>
<display-name lang=""en"">5</display-name>

This is how I done. code is little messy, but works.
axfree@af78b32",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,842,2016-04-05T03:40:51Z,2016-04-05T06:58:49Z,2016-04-05T08:23:53Z,CLOSED,False,47,6,1,https://github.com/axfree,[xmltv] fixed not to extract channel number from display name if it's uncertain,5,[],https://github.com/tvheadend/tvheadend/pull/842,https://github.com/axfree,1,https://github.com/tvheadend/tvheadend/pull/842,"https://tvheadend.org/issues/3692
See also:
#841
Thanks.","https://tvheadend.org/issues/3692
See also:
#841
Thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,842,2016-04-05T03:40:51Z,2016-04-05T06:58:49Z,2016-04-05T08:23:53Z,CLOSED,False,47,6,1,https://github.com/axfree,[xmltv] fixed not to extract channel number from display name if it's uncertain,5,[],https://github.com/tvheadend/tvheadend/pull/842,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/842#issuecomment-205684864,"https://tvheadend.org/issues/3692
See also:
#841
Thanks.",I don't like this. I made this extraction configurable in 929517e and also added possibility to extract numbers only when display-name tag contains only digits in 3b0db57 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,842,2016-04-05T03:40:51Z,2016-04-05T06:58:49Z,2016-04-05T08:23:53Z,CLOSED,False,47,6,1,https://github.com/axfree,[xmltv] fixed not to extract channel number from display name if it's uncertain,5,[],https://github.com/tvheadend/tvheadend/pull/842,https://github.com/axfree,3,https://github.com/tvheadend/tvheadend/pull/842#issuecomment-205717115,"https://tvheadend.org/issues/3692
See also:
#841
Thanks.",I didn't noticed that change. Having an option is a good idea. I second that 👍,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,843,2016-04-05T10:54:14Z,2016-04-05T10:59:22Z,2016-04-05T10:59:22Z,CLOSED,False,27,21,6,https://github.com/mpmc,Mdhelp,6,[],https://github.com/tvheadend/tvheadend/pull/843,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/843,Another bunch of changes and clean-up :),Another bunch of changes and clean-up :),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,843,2016-04-05T10:54:14Z,2016-04-05T10:59:22Z,2016-04-05T10:59:22Z,CLOSED,False,27,21,6,https://github.com/mpmc,Mdhelp,6,[],https://github.com/tvheadend/tvheadend/pull/843,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/843#issuecomment-205755966,Another bunch of changes and clean-up :),Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,844,2016-04-05T21:50:07Z,2016-04-06T15:46:19Z,2016-04-06T15:46:19Z,CLOSED,False,72,30,2,https://github.com/mpmc,Mdhelp,7,[],https://github.com/tvheadend/tvheadend/pull/844,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/844,:),:),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,844,2016-04-05T21:50:07Z,2016-04-06T15:46:19Z,2016-04-06T15:46:19Z,CLOSED,False,72,30,2,https://github.com/mpmc,Mdhelp,7,[],https://github.com/tvheadend/tvheadend/pull/844,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/844#issuecomment-206436511,:),Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,845,2016-04-07T08:40:26Z,2016-04-07T09:40:33Z,2016-04-07T17:01:00Z,CLOSED,False,14,14,1,https://github.com/lekma,webui: spinner fix,1,[],https://github.com/tvheadend/tvheadend/pull/845,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/845,"fix spinnerfield when min = 0
trailing spaces","fix spinnerfield when min = 0
trailing spaces",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,845,2016-04-07T08:40:26Z,2016-04-07T09:40:33Z,2016-04-07T17:01:00Z,CLOSED,False,14,14,1,https://github.com/lekma,webui: spinner fix,1,[],https://github.com/tvheadend/tvheadend/pull/845,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/845#issuecomment-206786531,"fix spinnerfield when min = 0
trailing spaces","Merged, Thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,846,2016-04-07T14:41:53Z,2016-04-07T16:07:52Z,2016-04-07T16:07:52Z,CLOSED,False,264,24,15,https://github.com/mpmc,Markdown help additions and changes (again).,7,[],https://github.com/tvheadend/tvheadend/pull/846,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/846,As title..,As title..,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,846,2016-04-07T14:41:53Z,2016-04-07T16:07:52Z,2016-04-07T16:07:52Z,CLOSED,False,264,24,15,https://github.com/mpmc,Markdown help additions and changes (again).,7,[],https://github.com/tvheadend/tvheadend/pull/846,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/846#issuecomment-206972103,As title..,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,847,2016-04-09T21:29:47Z,2016-04-17T17:16:39Z,2016-04-17T17:16:39Z,CLOSED,False,4,2,1,https://github.com/Glenn-1990,Clients should be able to split radio and tv properly,1,[],https://github.com/tvheadend/tvheadend/pull/847,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/847,"With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review","With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,847,2016-04-09T21:29:47Z,2016-04-17T17:16:39Z,2016-04-17T17:16:39Z,CLOSED,False,4,2,1,https://github.com/Glenn-1990,Clients should be able to split radio and tv properly,1,[],https://github.com/tvheadend/tvheadend/pull/847,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/847#issuecomment-208202938,"With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review","Won't be better to copy whole ""info"" list with stream descriptions  to the htsp client instead create new flags? The A/V streams can be distinguished using a presence check of 'audio_type' and 'aspect_num' fields.
Also regarding channel check removal - the problem is that I can imagine a scenario which allows to use selected channels from other users (all DVR) with using the channel tag / number restrictions from ACL. The question is what to do if channel disappears. I think that we should allow to use these records only when user has no channel restrictions (tag, number) otherwise admin should do an action.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,847,2016-04-09T21:29:47Z,2016-04-17T17:16:39Z,2016-04-17T17:16:39Z,CLOSED,False,4,2,1,https://github.com/Glenn-1990,Clients should be able to split radio and tv properly,1,[],https://github.com/tvheadend/tvheadend/pull/847,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/847#issuecomment-208240291,"With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review","After some deep thinking, we cannot do this complicated scheme and you're right that webui behaves differently (no channel access verification - only when the entry is created). I pushed your first three patches to repo, waiting for comments about hasaudio/hasvideo flags.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,847,2016-04-09T21:29:47Z,2016-04-17T17:16:39Z,2016-04-17T17:16:39Z,CLOSED,False,4,2,1,https://github.com/Glenn-1990,Clients should be able to split radio and tv properly,1,[],https://github.com/tvheadend/tvheadend/pull/847,https://github.com/Glenn-1990,4,https://github.com/tvheadend/tvheadend/pull/847#issuecomment-208245623,"With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review","Yes I'm ok to pass the full info to the htsp client, will try to update my PR this evening.
Any comments about HEVC vs UHD? and service codes 0x17 and 0x1A?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,847,2016-04-09T21:29:47Z,2016-04-17T17:16:39Z,2016-04-17T17:16:39Z,CLOSED,False,4,2,1,https://github.com/Glenn-1990,Clients should be able to split radio and tv properly,1,[],https://github.com/tvheadend/tvheadend/pull/847,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/847#issuecomment-208252162,"With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review","Yep, it looks that there are gaps in the table - added to 048c63e .",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,847,2016-04-09T21:29:47Z,2016-04-17T17:16:39Z,2016-04-17T17:16:39Z,CLOSED,False,4,2,1,https://github.com/Glenn-1990,Clients should be able to split radio and tv properly,1,[],https://github.com/tvheadend/tvheadend/pull/847,https://github.com/Glenn-1990,6,https://github.com/tvheadend/tvheadend/pull/847#issuecomment-209038891,"With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review","Ok, thanks!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,847,2016-04-09T21:29:47Z,2016-04-17T17:16:39Z,2016-04-17T17:16:39Z,CLOSED,False,4,2,1,https://github.com/Glenn-1990,Clients should be able to split radio and tv properly,1,[],https://github.com/tvheadend/tvheadend/pull/847,https://github.com/Glenn-1990,7,https://github.com/tvheadend/tvheadend/pull/847#issuecomment-209039065,"With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review","@perexg
Dropped the hasvideo and hasaudio flags",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,847,2016-04-09T21:29:47Z,2016-04-17T17:16:39Z,2016-04-17T17:16:39Z,CLOSED,False,4,2,1,https://github.com/Glenn-1990,Clients should be able to split radio and tv properly,1,[],https://github.com/tvheadend/tvheadend/pull/847,https://github.com/perexg,8,https://github.com/tvheadend/tvheadend/pull/847#issuecomment-209332564,"With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,847,2016-04-09T21:29:47Z,2016-04-17T17:16:39Z,2016-04-17T17:16:39Z,CLOSED,False,4,2,1,https://github.com/Glenn-1990,Clients should be able to split radio and tv properly,1,[],https://github.com/tvheadend/tvheadend/pull/847,https://github.com/Glenn-1990,9,https://github.com/tvheadend/tvheadend/pull/847#issuecomment-209622336,"With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review","@perexg
Seems that I cherry picked the wrong commit last time, I updated the PR to fix this",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,847,2016-04-09T21:29:47Z,2016-04-17T17:16:39Z,2016-04-17T17:16:39Z,CLOSED,False,4,2,1,https://github.com/Glenn-1990,Clients should be able to split radio and tv properly,1,[],https://github.com/tvheadend/tvheadend/pull/847,https://github.com/Glenn-1990,10,https://github.com/tvheadend/tvheadend/pull/847#issuecomment-211006695,"With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review",@perexg any chance to get the last commit in?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,847,2016-04-09T21:29:47Z,2016-04-17T17:16:39Z,2016-04-17T17:16:39Z,CLOSED,False,4,2,1,https://github.com/Glenn-1990,Clients should be able to split radio and tv properly,1,[],https://github.com/tvheadend/tvheadend/pull/847,https://github.com/perexg,11,https://github.com/tvheadend/tvheadend/pull/847#issuecomment-211061927,"With Kodi 17 there are some problems with the separation between radio and tv.
(recordings where not separated before v17)

User or bouquet update deletes a channel. Result, Kodi has no way to determine it is dealing with a radio or tv recording anymore. This can be solved when adding hasvideo/hasaudio flags for each dvr filename (don't know if this is the best solution).
When working on 1), I realized that recordings with an empty channel filed where not send to the client, this was working with tvh3.4 (no channel check).
Simply removing the channel acces check fixes this and brings the functionality in line with the webui (which has no channel check for dvr) .
Generally: The user is prevented to add a dvr on channels without acces, so why checking afterwards?
Also the current code ignores the ""dvr all"" setting (when channel limit set), it could even lead to problems like an owner that can't watch it's own recording.
Separating radio and tv channels is currently done by parsing the ""type"", this returns a non api specified string which can be changed over time. Here I introduced the ""content field"". Also there are some channels where the type frequently changes from radio to other or tv and back. I suppose this be caused by undefined service type codes, which leads to 4).
There are some service codes we don not handle, page 97 in the doc below.
https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf
One of them is HEVC (0x1F), but I'm not sure what to assign to it, HD, UHD? Most times it will be UHD, but there can be exceptions?
Also there are some time shifted services (0x17 and 0x1A), I suppose these are the +1 channels?

@perexg Please review",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,848,2016-04-09T23:27:43Z,2016-04-10T20:08:02Z,2016-04-10T20:08:02Z,CLOSED,False,82,41,9,https://github.com/mpmc,More changes & additions to mdhelp plus a small 'fix' for the webui,4,[],https://github.com/tvheadend/tvheadend/pull/848,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/848,"As title..
Not sure you'll agree with the messagebox fix but it was starting to bother me a little ;)","As title..
Not sure you'll agree with the messagebox fix but it was starting to bother me a little ;)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,848,2016-04-09T23:27:43Z,2016-04-10T20:08:02Z,2016-04-10T20:08:02Z,CLOSED,False,82,41,9,https://github.com/mpmc,More changes & additions to mdhelp plus a small 'fix' for the webui,4,[],https://github.com/tvheadend/tvheadend/pull/848,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/848#issuecomment-208057037,"As title..
Not sure you'll agree with the messagebox fix but it was starting to bother me a little ;)",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,849,2016-04-10T08:19:08Z,2016-04-10T09:05:16Z,2016-04-10T09:09:02Z,CLOSED,False,29,29,7,https://github.com/lekma,webui: change property->get_opts() signature to accept a property ptr argument,1,[],https://github.com/tvheadend/tvheadend/pull/849,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/849,"this would allow us to extend property options.
ex.:
uint32_t
my_get_opts(void *obj, const property_t *prop)
{
    uint32_t opts = prop->opts;

    if (obj && !(((mystruct *)obj)->enabled)) {
        opts |= PO_RDONLY;
    }
    return opts;
}

@perexg: please do not merge if you feel/know there is a better way to achieve the same result.","this would allow us to extend property options.
ex.:
uint32_t
my_get_opts(void *obj, const property_t *prop)
{
    uint32_t opts = prop->opts;

    if (obj && !(((mystruct *)obj)->enabled)) {
        opts |= PO_RDONLY;
    }
    return opts;
}

@perexg: please do not merge if you feel/know there is a better way to achieve the same result.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,849,2016-04-10T08:19:08Z,2016-04-10T09:05:16Z,2016-04-10T09:09:02Z,CLOSED,False,29,29,7,https://github.com/lekma,webui: change property->get_opts() signature to accept a property ptr argument,1,[],https://github.com/tvheadend/tvheadend/pull/849,https://github.com/lekma,2,https://github.com/tvheadend/tvheadend/pull/849#issuecomment-207948422,"this would allow us to extend property options.
ex.:
uint32_t
my_get_opts(void *obj, const property_t *prop)
{
    uint32_t opts = prop->opts;

    if (obj && !(((mystruct *)obj)->enabled)) {
        opts |= PO_RDONLY;
    }
    return opts;
}

@perexg: please do not merge if you feel/know there is a better way to achieve the same result.","After thinking about it, I think there is something better to do here.
Closing.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,850,2016-04-10T19:22:25Z,2016-04-11T10:45:51Z,2016-04-11T10:45:51Z,CLOSED,False,38,12,3,https://github.com/mamarley,input: tvhdhomerun: Handle the device changing IP addresses,1,[],https://github.com/tvheadend/tvheadend/pull/850,https://github.com/mamarley,1,https://github.com/tvheadend/tvheadend/pull/850,"Previously the device detection loop would always ignore HDHomeRuns
with the same UID as devices that had already been detected.  This
would not detect if an HDHomeRun changed IPs for any reason (e.g.
APIPA, misconfigured DHCP server) while TVHeadend was running,
requiring a restart to resume functionality.  Instead, if
a newly detected device has the same UID as an previously-detected
one but a different IP address, destroy the old device and recreate
it with the new IP address.","Previously the device detection loop would always ignore HDHomeRuns
with the same UID as devices that had already been detected.  This
would not detect if an HDHomeRun changed IPs for any reason (e.g.
APIPA, misconfigured DHCP server) while TVHeadend was running,
requiring a restart to resume functionality.  Instead, if
a newly detected device has the same UID as an previously-detected
one but a different IP address, destroy the old device and recreate
it with the new IP address.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,850,2016-04-10T19:22:25Z,2016-04-11T10:45:51Z,2016-04-11T10:45:51Z,CLOSED,False,38,12,3,https://github.com/mamarley,input: tvhdhomerun: Handle the device changing IP addresses,1,[],https://github.com/tvheadend/tvheadend/pull/850,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/850#issuecomment-208181333,"Previously the device detection loop would always ignore HDHomeRuns
with the same UID as devices that had already been detected.  This
would not detect if an HDHomeRun changed IPs for any reason (e.g.
APIPA, misconfigured DHCP server) while TVHeadend was running,
requiring a restart to resume functionality.  Instead, if
a newly detected device has the same UID as an previously-detected
one but a different IP address, destroy the old device and recreate
it with the new IP address.","Re to IRC: See - http://stackoverflow.com/questions/16010622/reasoning-behind-c-sockets-sockaddr-and-sockaddr-storage . You may retype between struct sockaddr_storage , sockaddr , struct sockaddr_in and struct sockaddr_in6 (according family value).
If you like to compare IPv4 - use sin_addr member from sockaddr_in .
I also suggest to fill sockaddr_storage with zeroes before first use.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,850,2016-04-10T19:22:25Z,2016-04-11T10:45:51Z,2016-04-11T10:45:51Z,CLOSED,False,38,12,3,https://github.com/mamarley,input: tvhdhomerun: Handle the device changing IP addresses,1,[],https://github.com/tvheadend/tvheadend/pull/850,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/850#issuecomment-208279209,"Previously the device detection loop would always ignore HDHomeRuns
with the same UID as devices that had already been detected.  This
would not detect if an HDHomeRun changed IPs for any reason (e.g.
APIPA, misconfigured DHCP server) while TVHeadend was running,
requiring a restart to resume functionality.  Instead, if
a newly detected device has the same UID as an previously-detected
one but a different IP address, destroy the old device and recreate
it with the new IP address.",Merged. Thanks for this contribution.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,851,2016-04-12T15:43:49Z,2016-04-13T09:29:00Z,2016-04-13T09:29:00Z,CLOSED,False,21,6,1,https://github.com/ViGill,Support lang selection for transcoded streams,1,[],https://github.com/tvheadend/tvheadend/pull/851,https://github.com/ViGill,1,https://github.com/tvheadend/tvheadend/pull/851,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,851,2016-04-12T15:43:49Z,2016-04-13T09:29:00Z,2016-04-13T09:29:00Z,CLOSED,False,21,6,1,https://github.com/ViGill,Support lang selection for transcoded streams,1,[],https://github.com/tvheadend/tvheadend/pull/851,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/851#issuecomment-209333514,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,852,2016-04-13T13:04:54Z,2016-04-13T14:46:23Z,2016-04-13T14:46:23Z,CLOSED,False,277,219,14,https://github.com/mpmc,mdhelp,6,[],https://github.com/tvheadend/tvheadend/pull/852,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/852,"Some more changes!
I decided that it's better to have the upcoming, finished and failed tab markdown in one file as they're near enough the same and they use the same property class/items. Not sure what you guys will make of it but it can always be reverted if you don't agree. :)","Some more changes!
I decided that it's better to have the upcoming, finished and failed tab markdown in one file as they're near enough the same and they use the same property class/items. Not sure what you guys will make of it but it can always be reverted if you don't agree. :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,852,2016-04-13T13:04:54Z,2016-04-13T14:46:23Z,2016-04-13T14:46:23Z,CLOSED,False,277,219,14,https://github.com/mpmc,mdhelp,6,[],https://github.com/tvheadend/tvheadend/pull/852,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/852#issuecomment-209483624,"Some more changes!
I decided that it's better to have the upcoming, finished and failed tab markdown in one file as they're near enough the same and they use the same property class/items. Not sure what you guys will make of it but it can always be reverted if you don't agree. :)",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,853,2016-04-13T19:49:41Z,2016-04-14T10:12:22Z,2016-04-14T10:12:22Z,CLOSED,False,3,2,1,https://github.com/oliv3r,settings: minor code cleanup,1,[],https://github.com/tvheadend/tvheadend/pull/853,https://github.com/oliv3r,1,https://github.com/tvheadend/tvheadend/pull/853,"Fixes a whitespace issue and puts a variable declaration at the start
of its scope rather then mid-scope which can improve portability.","Fixes a whitespace issue and puts a variable declaration at the start
of its scope rather then mid-scope which can improve portability.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,853,2016-04-13T19:49:41Z,2016-04-14T10:12:22Z,2016-04-14T10:12:22Z,CLOSED,False,3,2,1,https://github.com/oliv3r,settings: minor code cleanup,1,[],https://github.com/tvheadend/tvheadend/pull/853,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/853#issuecomment-209864523,"Fixes a whitespace issue and puts a variable declaration at the start
of its scope rather then mid-scope which can improve portability.",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,854,2016-04-14T06:48:10Z,2016-04-14T08:01:42Z,2016-04-14T08:01:42Z,CLOSED,False,153,14,12,https://github.com/mpmc,Mdhelp (again!),3,[],https://github.com/tvheadend/tvheadend/pull/854,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/854,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,854,2016-04-14T06:48:10Z,2016-04-14T08:01:42Z,2016-04-14T08:01:42Z,CLOSED,False,153,14,12,https://github.com/mpmc,Mdhelp (again!),3,[],https://github.com/tvheadend/tvheadend/pull/854,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/854#issuecomment-209811722,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,855,2016-04-16T03:33:58Z,2016-04-17T23:24:29Z,2016-04-17T23:24:29Z,CLOSED,False,0,0,0,https://github.com/mpmc,Mdhelp,0,[],https://github.com/tvheadend/tvheadend/pull/855,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/855,"More changes to the help docs :)
I know I said I'd have to slow down due to giving myself an RSI but I can't help myself, besides I'm drugged up on Ibuprofen 😆.
I suppose at least it gives me something to do while being up all night 🌔","More changes to the help docs :)
I know I said I'd have to slow down due to giving myself an RSI but I can't help myself, besides I'm drugged up on Ibuprofen 😆.
I suppose at least it gives me something to do while being up all night 🌔",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,855,2016-04-16T03:33:58Z,2016-04-17T23:24:29Z,2016-04-17T23:24:29Z,CLOSED,False,0,0,0,https://github.com/mpmc,Mdhelp,0,[],https://github.com/tvheadend/tvheadend/pull/855,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/855#issuecomment-211061997,"More changes to the help docs :)
I know I said I'd have to slow down due to giving myself an RSI but I can't help myself, besides I'm drugged up on Ibuprofen 😆.
I suppose at least it gives me something to do while being up all night 🌔",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,856,2016-04-19T12:05:24Z,2016-04-26T06:46:25Z,2016-04-26T06:46:25Z,CLOSED,False,358,36,36,https://github.com/mpmc,Mdhelp,8,[],https://github.com/tvheadend/tvheadend/pull/856,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/856,"More help docs 😄
@perexg You may want to check this one over before committing as I think I've missed some classes / made mistakes etc.","More help docs 😄
@perexg You may want to check this one over before committing as I think I've missed some classes / made mistakes etc.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,856,2016-04-19T12:05:24Z,2016-04-26T06:46:25Z,2016-04-26T06:46:25Z,CLOSED,False,358,36,36,https://github.com/mpmc,Mdhelp,8,[],https://github.com/tvheadend/tvheadend/pull/856,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/856#issuecomment-214635939,"More help docs 😄
@perexg You may want to check this one over before committing as I think I've missed some classes / made mistakes etc.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,857,2016-04-26T06:53:48Z,2016-05-08T07:26:39Z,2016-05-08T07:26:39Z,CLOSED,False,71,46,4,https://github.com/lekma,webui: small improvements?,1,[],https://github.com/tvheadend/tvheadend/pull/857,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/857,"split stream profiles from filters
group filters under one tab","split stream profiles from filters
group filters under one tab",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,858,2016-05-03T21:12:29Z,2016-05-04T11:11:46Z,2016-05-04T11:11:46Z,CLOSED,False,511,93,48,https://github.com/mpmc,More markdown help doc changes and additions!,15,[],https://github.com/tvheadend/tvheadend/pull/858,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/858,As title..,As title..,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,858,2016-05-03T21:12:29Z,2016-05-04T11:11:46Z,2016-05-04T11:11:46Z,CLOSED,False,511,93,48,https://github.com/mpmc,More markdown help doc changes and additions!,15,[],https://github.com/tvheadend/tvheadend/pull/858,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/858#issuecomment-216830707,As title..,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,859,2016-05-05T08:59:58Z,2016-05-05T15:25:55Z,2016-05-05T15:25:55Z,CLOSED,False,3,0,1,https://github.com/BenEfrati,Fix compilation error with Android NDK,3,[],https://github.com/tvheadend/tvheadend/pull/859,https://github.com/BenEfrati,1,https://github.com/tvheadend/tvheadend/pull/859,"pthread_yield is not implemented on Android NDK.
Using sched_yield instead","pthread_yield is not implemented on Android NDK.
Using sched_yield instead",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,859,2016-05-05T08:59:58Z,2016-05-05T15:25:55Z,2016-05-05T15:25:55Z,CLOSED,False,3,0,1,https://github.com/BenEfrati,Fix compilation error with Android NDK,3,[],https://github.com/tvheadend/tvheadend/pull/859,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/859#issuecomment-217119760,"pthread_yield is not implemented on Android NDK.
Using sched_yield instead","Pls, put this code to src/compat.h .",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,859,2016-05-05T08:59:58Z,2016-05-05T15:25:55Z,2016-05-05T15:25:55Z,CLOSED,False,3,0,1,https://github.com/BenEfrati,Fix compilation error with Android NDK,3,[],https://github.com/tvheadend/tvheadend/pull/859,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/859#issuecomment-217185083,"pthread_yield is not implemented on Android NDK.
Using sched_yield instead",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,860,2016-05-07T11:31:33Z,2016-05-07T17:58:40Z,2016-05-07T17:58:40Z,CLOSED,False,406,477,57,https://github.com/mpmc,Markdown help & wizard fixes,10,[],https://github.com/tvheadend/tvheadend/pull/860,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/860,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,860,2016-05-07T11:31:33Z,2016-05-07T17:58:40Z,2016-05-07T17:58:40Z,CLOSED,False,406,477,57,https://github.com/mpmc,Markdown help & wizard fixes,10,[],https://github.com/tvheadend/tvheadend/pull/860,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/860#issuecomment-217656325,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,861,2016-05-11T10:15:25Z,2016-05-11T19:13:47Z,2016-05-11T19:13:47Z,CLOSED,False,874,352,91,https://github.com/mpmc,Markdown help (yet again!),20,[],https://github.com/tvheadend/tvheadend/pull/861,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/861,"These commits mostly complete the help docs, even if they're basic. Some things do need adding and no doubt there are a number of mistakes I haven't caught 😆 .
@perexg you may want to review these fully before committing.
The ""webui: display an error message when help doc is not available/fails to load"" commit is one you may want to omit if you don't think it's a good idea.","These commits mostly complete the help docs, even if they're basic. Some things do need adding and no doubt there are a number of mistakes I haven't caught 😆 .
@perexg you may want to review these fully before committing.
The ""webui: display an error message when help doc is not available/fails to load"" commit is one you may want to omit if you don't think it's a good idea.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,861,2016-05-11T10:15:25Z,2016-05-11T19:13:47Z,2016-05-11T19:13:47Z,CLOSED,False,874,352,91,https://github.com/mpmc,Markdown help (yet again!),20,[],https://github.com/tvheadend/tvheadend/pull/861,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/861#issuecomment-218560365,"These commits mostly complete the help docs, even if they're basic. Some things do need adding and no doubt there are a number of mistakes I haven't caught 😆 .
@perexg you may want to review these fully before committing.
The ""webui: display an error message when help doc is not available/fails to load"" commit is one you may want to omit if you don't think it's a good idea.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,862,2016-05-12T22:29:17Z,2016-05-31T15:38:55Z,2016-05-31T15:38:56Z,CLOSED,False,1,1,1,https://github.com/clandmeter,replace pthread_yield with POSIX sched_yield,1,[],https://github.com/tvheadend/tvheadend/pull/862,https://github.com/clandmeter,1,https://github.com/tvheadend/tvheadend/pull/862,See: http://linux.die.net/man/3/pthread_yield,See: http://linux.die.net/man/3/pthread_yield,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,862,2016-05-12T22:29:17Z,2016-05-31T15:38:55Z,2016-05-31T15:38:56Z,CLOSED,False,1,1,1,https://github.com/clandmeter,replace pthread_yield with POSIX sched_yield,1,[],https://github.com/tvheadend/tvheadend/pull/862,https://github.com/clandmeter,2,https://github.com/tvheadend/tvheadend/pull/862#issuecomment-219713451,See: http://linux.die.net/man/3/pthread_yield,"@perexg I forgot to mention this change will prevent the following error on musl libc.
src/api/api_idnode.c: In function 'api_idnode_handler':
src/api/api_idnode.c:654:9: error: implicit declaration of function 'pthread_yield' [-Werror=implicit-function-declaration]
         pthread_yield(); /* delete penalty */
         ^",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,862,2016-05-12T22:29:17Z,2016-05-31T15:38:55Z,2016-05-31T15:38:56Z,CLOSED,False,1,1,1,https://github.com/clandmeter,replace pthread_yield with POSIX sched_yield,1,[],https://github.com/tvheadend/tvheadend/pull/862,https://github.com/clandmeter,3,https://github.com/tvheadend/tvheadend/pull/862#issuecomment-222718029,See: http://linux.die.net/man/3/pthread_yield,"@perexg any reason this is not being merged, other then you are too busy?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,862,2016-05-12T22:29:17Z,2016-05-31T15:38:55Z,2016-05-31T15:38:56Z,CLOSED,False,1,1,1,https://github.com/clandmeter,replace pthread_yield with POSIX sched_yield,1,[],https://github.com/tvheadend/tvheadend/pull/862,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/862#issuecomment-222728427,See: http://linux.die.net/man/3/pthread_yield,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,863,2016-05-17T03:14:12Z,2016-05-17T06:31:24Z,2016-05-17T06:31:24Z,CLOSED,False,6,0,1,https://github.com/mpmc,"webui: use a failback if browser language detection fails, fixes #3805",1,[],https://github.com/tvheadend/tvheadend/pull/863,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/863,As title.,As title.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,863,2016-05-17T03:14:12Z,2016-05-17T06:31:24Z,2016-05-17T06:31:24Z,CLOSED,False,6,0,1,https://github.com/mpmc,"webui: use a failback if browser language detection fails, fixes #3805",1,[],https://github.com/tvheadend/tvheadend/pull/863,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/863#issuecomment-219630930,As title.,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,864,2016-05-17T09:20:15Z,2016-05-18T08:37:02Z,2016-05-18T08:38:47Z,CLOSED,False,116,84,16,https://github.com/lekma,Transcoding: preliminary work for codec settings/profile,4,[],https://github.com/tvheadend/tvheadend/pull/864,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/864,"These are needed for the upcoming codec settings.
All of it has minimal impact, the only visible change is the grouping of esfilters under one tab.","These are needed for the upcoming codec settings.
All of it has minimal impact, the only visible change is the grouping of esfilters under one tab.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,864,2016-05-17T09:20:15Z,2016-05-18T08:37:02Z,2016-05-18T08:38:47Z,CLOSED,False,116,84,16,https://github.com/lekma,Transcoding: preliminary work for codec settings/profile,4,[],https://github.com/tvheadend/tvheadend/pull/864,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/864#issuecomment-219668803,"These are needed for the upcoming codec settings.
All of it has minimal impact, the only visible change is the grouping of esfilters under one tab.","@lekma as you doing work at transcoding - it would be nice if you could drop an eye to the new ffmpeg where


VAAPI-accelerated H.264/HEVC/MJPEG encoding
VAAPI-accelerated format conversion and scaling
libnpp/CUDA-accelerated format conversion and scaling


is included -> drop mfx dispatcher and it could be used at ""all"" Intels with vaapi support. This would be a major improvement and work out of the box :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,864,2016-05-17T09:20:15Z,2016-05-18T08:37:02Z,2016-05-18T08:38:47Z,CLOSED,False,116,84,16,https://github.com/lekma,Transcoding: preliminary work for codec settings/profile,4,[],https://github.com/tvheadend/tvheadend/pull/864,https://github.com/lekma,3,https://github.com/tvheadend/tvheadend/pull/864#issuecomment-219670263,"These are needed for the upcoming codec settings.
All of it has minimal impact, the only visible change is the grouping of esfilters under one tab.","drop mfx dispatcher and it could be used at ""all"" Intels with vaapi support

that's the plan :) (not to drop libmfx right now though)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,864,2016-05-17T09:20:15Z,2016-05-18T08:37:02Z,2016-05-18T08:38:47Z,CLOSED,False,116,84,16,https://github.com/lekma,Transcoding: preliminary work for codec settings/profile,4,[],https://github.com/tvheadend/tvheadend/pull/864,https://github.com/CvH,4,https://github.com/tvheadend/tvheadend/pull/864#issuecomment-219673991,"These are needed for the upcoming codec settings.
All of it has minimal impact, the only visible change is the grouping of esfilters under one tab.",@lekma is intel qsv still needed? It should work through the intel gpu driver obviously. It is more likely that ppl have a gpu driver then qsv/mfx installed ;),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,864,2016-05-17T09:20:15Z,2016-05-18T08:37:02Z,2016-05-18T08:38:47Z,CLOSED,False,116,84,16,https://github.com/lekma,Transcoding: preliminary work for codec settings/profile,4,[],https://github.com/tvheadend/tvheadend/pull/864,https://github.com/lekma,5,https://github.com/tvheadend/tvheadend/pull/864#issuecomment-219678926,"These are needed for the upcoming codec settings.
All of it has minimal impact, the only visible change is the grouping of esfilters under one tab.","@CvH I agree, but I think we'll drop qsv only when vaapi has had a good test drive. Right now I'm still working out kinks when frames go through filters. That's why I needed a way to set up codecs ""dynamically"" to test out various combination of settings (hence the upcoming codec settings/profile tab). Unfortunately all that work does take a lot of time and I only have so much to spare.",True,{'THUMBS_UP': ['https://github.com/CvH']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,864,2016-05-17T09:20:15Z,2016-05-18T08:37:02Z,2016-05-18T08:38:47Z,CLOSED,False,116,84,16,https://github.com/lekma,Transcoding: preliminary work for codec settings/profile,4,[],https://github.com/tvheadend/tvheadend/pull/864,https://github.com/lekma,6,https://github.com/tvheadend/tvheadend/pull/864#issuecomment-219961699,"These are needed for the upcoming codec settings.
All of it has minimal impact, the only visible change is the grouping of esfilters under one tab.","closing for missing parts :(
(too many local test trees -> mixups are bound to happen)
sorry",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,865,2016-05-24T19:06:42Z,2016-05-31T15:38:02Z,2016-05-31T23:12:55Z,CLOSED,False,5,2,1,https://github.com/sielicki,Fix C/Ku Label and Change switch frequency,1,[],https://github.com/tvheadend/tvheadend/pull/865,https://github.com/sielicki,1,https://github.com/tvheadend/tvheadend/pull/865,"The C/Ku label was 5150/11700, in spite of the fact that the local
oscillator frequencies were 5150/10750. This label is now changed to
reflect the correct frequencies. Just to be clear: the frequencies
themselves are unchanged, still at 5150/10750. Only the description
changed.
To accomodate feeds operating outside of the standardized band
(11.7GHz - 12.2Ghz), (eg: 11175 V 4200 @ 71.8W,) the switch is now set
to operate at an arbitrary midpoint of 7.95, rather than the lower
edge of the standard Ku freq.

Signed-off-by: Nicholas Sielicki sielicki@bitwise","The C/Ku label was 5150/11700, in spite of the fact that the local
oscillator frequencies were 5150/10750. This label is now changed to
reflect the correct frequencies. Just to be clear: the frequencies
themselves are unchanged, still at 5150/10750. Only the description
changed.
To accomodate feeds operating outside of the standardized band
(11.7GHz - 12.2Ghz), (eg: 11175 V 4200 @ 71.8W,) the switch is now set
to operate at an arbitrary midpoint of 7.95, rather than the lower
edge of the standard Ku freq.

Signed-off-by: Nicholas Sielicki sielicki@bitwise",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,865,2016-05-24T19:06:42Z,2016-05-31T15:38:02Z,2016-05-31T23:12:55Z,CLOSED,False,5,2,1,https://github.com/sielicki,Fix C/Ku Label and Change switch frequency,1,[],https://github.com/tvheadend/tvheadend/pull/865,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/865#issuecomment-222728163,"The C/Ku label was 5150/11700, in spite of the fact that the local
oscillator frequencies were 5150/10750. This label is now changed to
reflect the correct frequencies. Just to be clear: the frequencies
themselves are unchanged, still at 5150/10750. Only the description
changed.
To accomodate feeds operating outside of the standardized band
(11.7GHz - 12.2Ghz), (eg: 11175 V 4200 @ 71.8W,) the switch is now set
to operate at an arbitrary midpoint of 7.95, rather than the lower
edge of the standard Ku freq.

Signed-off-by: Nicholas Sielicki sielicki@bitwise",Merged (only half) - see 70c39f5 .,True,{'THUMBS_UP': ['https://github.com/sielicki']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,865,2016-05-24T19:06:42Z,2016-05-31T15:38:02Z,2016-05-31T23:12:55Z,CLOSED,False,5,2,1,https://github.com/sielicki,Fix C/Ku Label and Change switch frequency,1,[],https://github.com/tvheadend/tvheadend/pull/865,https://github.com/sielicki,3,https://github.com/tvheadend/tvheadend/pull/865#issuecomment-222848782,"The C/Ku label was 5150/11700, in spite of the fact that the local
oscillator frequencies were 5150/10750. This label is now changed to
reflect the correct frequencies. Just to be clear: the frequencies
themselves are unchanged, still at 5150/10750. Only the description
changed.
To accomodate feeds operating outside of the standardized band
(11.7GHz - 12.2Ghz), (eg: 11175 V 4200 @ 71.8W,) the switch is now set
to operate at an arbitrary midpoint of 7.95, rather than the lower
edge of the standard Ku freq.

Signed-off-by: Nicholas Sielicki sielicki@bitwise",I'm fine with that. Thanks much.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,866,2016-05-27T14:45:11Z,2016-05-27T16:15:00Z,2016-05-27T16:15:00Z,CLOSED,False,225,113,32,https://github.com/mpmc,Mdhelp,10,[],https://github.com/tvheadend/tvheadend/pull/866,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/866,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,866,2016-05-27T14:45:11Z,2016-05-27T16:15:00Z,2016-05-27T16:15:00Z,CLOSED,False,225,113,32,https://github.com/mpmc,Mdhelp,10,[],https://github.com/tvheadend/tvheadend/pull/866,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/866#issuecomment-222188991,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,867,2016-06-01T08:53:45Z,2016-06-01T10:38:11Z,2016-06-02T06:13:53Z,CLOSED,False,1,1,1,https://github.com/lekma,webui: fix spinner field increment in forms,1,[],https://github.com/tvheadend/tvheadend/pull/867,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/867,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,867,2016-06-01T08:53:45Z,2016-06-01T10:38:11Z,2016-06-02T06:13:53Z,CLOSED,False,1,1,1,https://github.com/lekma,webui: fix spinner field increment in forms,1,[],https://github.com/tvheadend/tvheadend/pull/867,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/867#issuecomment-222955862,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,868,2016-06-03T07:01:17Z,2016-06-04T08:47:19Z,2016-06-04T08:47:19Z,CLOSED,False,15,4,1,https://github.com/beralt,tvhdhomerun: fix full mux pid filter,2,[],https://github.com/tvheadend/tvheadend/pull/868,https://github.com/beralt,1,https://github.com/tvheadend/tvheadend/pull/868,"I came across a warning message during some debugging that caught my attention. The original code performed a check for raw (full) PID subscriptions that did not work, and moreover the resulting call to the hdhomerun API failed because it simply refuses to subscribe to PIDs above 0x1FFF.
My proposed fix: detect the full mux subscription correctly, set the PID filter to 0x0 - 0x1FFF in that case. I also added a mask to prevent specific subscriptions above 0x1FFF, those will not work anyway.","I came across a warning message during some debugging that caught my attention. The original code performed a check for raw (full) PID subscriptions that did not work, and moreover the resulting call to the hdhomerun API failed because it simply refuses to subscribe to PIDs above 0x1FFF.
My proposed fix: detect the full mux subscription correctly, set the PID filter to 0x0 - 0x1FFF in that case. I also added a mask to prevent specific subscriptions above 0x1FFF, those will not work anyway.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,868,2016-06-03T07:01:17Z,2016-06-04T08:47:19Z,2016-06-04T08:47:19Z,CLOSED,False,15,4,1,https://github.com/beralt,tvhdhomerun: fix full mux pid filter,2,[],https://github.com/tvheadend/tvheadend/pull/868,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/868#issuecomment-223744685,"I came across a warning message during some debugging that caught my attention. The original code performed a check for raw (full) PID subscriptions that did not work, and moreover the resulting call to the hdhomerun API failed because it simply refuses to subscribe to PIDs above 0x1FFF.
My proposed fix: detect the full mux subscription correctly, set the PID filter to 0x0 - 0x1FFF in that case. I also added a mask to prevent specific subscriptions above 0x1FFF, those will not work anyway.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,869,2016-06-04T05:23:45Z,2016-06-04T08:47:42Z,2016-06-04T08:47:42Z,CLOSED,False,18,3,6,https://github.com/mpmc,Updates to the help docs to reflect recent changes.,2,[],https://github.com/tvheadend/tvheadend/pull/869,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/869,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,869,2016-06-04T05:23:45Z,2016-06-04T08:47:42Z,2016-06-04T08:47:42Z,CLOSED,False,18,3,6,https://github.com/mpmc,Updates to the help docs to reflect recent changes.,2,[],https://github.com/tvheadend/tvheadend/pull/869,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/869#issuecomment-223744694,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,870,2016-06-04T15:20:02Z,2016-06-06T10:50:15Z,2016-06-06T10:50:42Z,CLOSED,False,164,98,20,https://github.com/lekma,webui: codec settings preliminary work,7,[],https://github.com/tvheadend/tvheadend/pull/870,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/870,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,871,2016-06-09T05:39:55Z,2016-06-13T12:53:20Z,2016-06-13T12:53:20Z,CLOSED,False,1,1,1,https://github.com/mpmc,"config: set http digest auth to off by default, fixes #3848",1,[],https://github.com/tvheadend/tvheadend/pull/871,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/871,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,871,2016-06-09T05:39:55Z,2016-06-13T12:53:20Z,2016-06-13T12:53:20Z,CLOSED,False,1,1,1,https://github.com/mpmc,"config: set http digest auth to off by default, fixes #3848",1,[],https://github.com/tvheadend/tvheadend/pull/871,https://github.com/mpmc,2,https://github.com/tvheadend/tvheadend/pull/871#issuecomment-225572135,,"Closing as a proper fix has been found, thanks @perexg  :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,872,2016-06-14T18:30:18Z,2016-06-14T18:38:35Z,2016-06-14T18:39:56Z,CLOSED,False,22,19,6,https://github.com/ViGill,satip client: new muxconf option to allow partial match for muxes,1,[],https://github.com/tvheadend/tvheadend/pull/872,https://github.com/ViGill,1,https://github.com/tvheadend/tvheadend/pull/872,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,872,2016-06-14T18:30:18Z,2016-06-14T18:38:35Z,2016-06-14T18:39:56Z,CLOSED,False,22,19,6,https://github.com/ViGill,satip client: new muxconf option to allow partial match for muxes,1,[],https://github.com/tvheadend/tvheadend/pull/872,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/872#issuecomment-225976008,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,873,2016-06-19T09:16:42Z,2016-08-11T13:46:33Z,2016-08-28T06:13:57Z,CLOSED,False,7,5,1,https://github.com/AlexMekkering,"htsmsg: fix code indentation, fixes #3788",1,[],https://github.com/tvheadend/tvheadend/pull/873,https://github.com/AlexMekkering,1,https://github.com/tvheadend/tvheadend/pull/873,Would you please apply the fix for code intentation to the release/4.0 branch also? It is cherry picked from 9ddcb8d.,Would you please apply the fix for code intentation to the release/4.0 branch also? It is cherry picked from 9ddcb8d.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,873,2016-06-19T09:16:42Z,2016-08-11T13:46:33Z,2016-08-28T06:13:57Z,CLOSED,False,7,5,1,https://github.com/AlexMekkering,"htsmsg: fix code indentation, fixes #3788",1,[],https://github.com/tvheadend/tvheadend/pull/873,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/873#issuecomment-239165271,Would you please apply the fix for code intentation to the release/4.0 branch also? It is cherry picked from 9ddcb8d.,Done.  bf276e0,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,874,2016-06-19T17:18:53Z,2016-09-23T12:15:18Z,2016-09-23T12:15:18Z,CLOSED,False,14,0,2,https://github.com/Leyorus,webui: add program image (when available) to epg detailed window,1,[],https://github.com/tvheadend/tvheadend/pull/874,https://github.com/Leyorus,1,https://github.com/tvheadend/tvheadend/pull/874,Show the program image in the EPG detailed window if available (depending on XMLTV grabber used),Show the program image in the EPG detailed window if available (depending on XMLTV grabber used),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,874,2016-06-19T17:18:53Z,2016-09-23T12:15:18Z,2016-09-23T12:15:18Z,CLOSED,False,14,0,2,https://github.com/Leyorus,webui: add program image (when available) to epg detailed window,1,[],https://github.com/tvheadend/tvheadend/pull/874,https://github.com/Saentist,2,https://github.com/tvheadend/tvheadend/pull/874#issuecomment-227009485,Show the program image in the EPG detailed window if available (depending on XMLTV grabber used),"This will need free tuner when not on same mux/transponder and will take 3-5 seconds
This usual is used in multicast streamers",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,874,2016-06-19T17:18:53Z,2016-09-23T12:15:18Z,2016-09-23T12:15:18Z,CLOSED,False,14,0,2,https://github.com/Leyorus,webui: add program image (when available) to epg detailed window,1,[],https://github.com/tvheadend/tvheadend/pull/874,https://github.com/Leyorus,3,https://github.com/tvheadend/tvheadend/pull/874#issuecomment-227010817,Show the program image in the EPG detailed window if available (depending on XMLTV grabber used),"The idea is to use the program image provided by some XMLTV grabbers (see https://tvheadend.org/issues/3108) in the web UI.
The feature to retain the image URL was implement some months ago, but
the image was not exploited in web ui.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,874,2016-06-19T17:18:53Z,2016-09-23T12:15:18Z,2016-09-23T12:15:18Z,CLOSED,False,14,0,2,https://github.com/Leyorus,webui: add program image (when available) to epg detailed window,1,[],https://github.com/tvheadend/tvheadend/pull/874,https://github.com/Saentist,4,https://github.com/tvheadend/tvheadend/pull/874#issuecomment-227017719,Show the program image in the EPG detailed window if available (depending on XMLTV grabber used),"Program Icon aka logo/picon is totally different from image aka zap (image taken from live stream).
In https://tvheadend.org/issues/3108 is request for program logo (in your picture Canal+)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,874,2016-06-19T17:18:53Z,2016-09-23T12:15:18Z,2016-09-23T12:15:18Z,CLOSED,False,14,0,2,https://github.com/Leyorus,webui: add program image (when available) to epg detailed window,1,[],https://github.com/tvheadend/tvheadend/pull/874,https://github.com/Leyorus,5,https://github.com/tvheadend/tvheadend/pull/874#issuecomment-227523530,Show the program image in the EPG detailed window if available (depending on XMLTV grabber used),"In Feature #3108, Phil Tu refers to a program icon provided by its XMLTV grabber (see his second post).
I confirm that some XMLTV grabbers provide this information (e.g. tv_grab_fr_telerama).
In both our situation, it is in fact a program image preview.
In my example, it corresponds to the Judoka's picture (while Canal+ is the channel logo).
The image URL is currently stored by tvheadend and even forwarded to the front end (Kodi), but not exploited in the web ui. This can be improved easily by implementing something inspired by my proposal.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,874,2016-06-19T17:18:53Z,2016-09-23T12:15:18Z,2016-09-23T12:15:18Z,CLOSED,False,14,0,2,https://github.com/Leyorus,webui: add program image (when available) to epg detailed window,1,[],https://github.com/tvheadend/tvheadend/pull/874,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/874#issuecomment-227704261,Show the program image in the EPG detailed window if available (depending on XMLTV grabber used),"If someone comes with a little more design-like solution, I'll include it. For example - the image may be be smaller bellow the channel logo and it may be resized to EPG window info size when the mouse pointer hovers in the small image or on click etc.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,874,2016-06-19T17:18:53Z,2016-09-23T12:15:18Z,2016-09-23T12:15:18Z,CLOSED,False,14,0,2,https://github.com/Leyorus,webui: add program image (when available) to epg detailed window,1,[],https://github.com/tvheadend/tvheadend/pull/874,https://github.com/tunip,7,https://github.com/tvheadend/tvheadend/pull/874#issuecomment-235592302,Show the program image in the EPG detailed window if available (depending on XMLTV grabber used),"Something like this?

mouse over on program image",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,874,2016-06-19T17:18:53Z,2016-09-23T12:15:18Z,2016-09-23T12:15:18Z,CLOSED,False,14,0,2,https://github.com/Leyorus,webui: add program image (when available) to epg detailed window,1,[],https://github.com/tvheadend/tvheadend/pull/874,https://github.com/perexg,8,https://github.com/tvheadend/tvheadend/pull/874#issuecomment-237812818,Show the program image in the EPG detailed window if available (depending on XMLTV grabber used),"Yes, it looks nice.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,874,2016-06-19T17:18:53Z,2016-09-23T12:15:18Z,2016-09-23T12:15:18Z,CLOSED,False,14,0,2,https://github.com/Leyorus,webui: add program image (when available) to epg detailed window,1,[],https://github.com/tvheadend/tvheadend/pull/874,https://github.com/tunip,9,https://github.com/tvheadend/tvheadend/pull/874#issuecomment-249163852,Show the program image in the EPG detailed window if available (depending on XMLTV grabber used),see #892,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,874,2016-06-19T17:18:53Z,2016-09-23T12:15:18Z,2016-09-23T12:15:18Z,CLOSED,False,14,0,2,https://github.com/Leyorus,webui: add program image (when available) to epg detailed window,1,[],https://github.com/tvheadend/tvheadend/pull/874,https://github.com/perexg,10,https://github.com/tvheadend/tvheadend/pull/874#issuecomment-249176379,Show the program image in the EPG detailed window if available (depending on XMLTV grabber used),Merged #892.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,875,2016-06-20T17:48:11Z,2016-06-21T06:21:19Z,2016-06-21T06:21:19Z,CLOSED,False,56,26,6,https://github.com/mpmc,mdhelp: clean-up and add superuser access info,1,[],https://github.com/tvheadend/tvheadend/pull/875,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/875,Some more minor edits and additions!,Some more minor edits and additions!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,875,2016-06-20T17:48:11Z,2016-06-21T06:21:19Z,2016-06-21T06:21:19Z,CLOSED,False,56,26,6,https://github.com/mpmc,mdhelp: clean-up and add superuser access info,1,[],https://github.com/tvheadend/tvheadend/pull/875,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/875#issuecomment-227350729,Some more minor edits and additions!,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,876,2016-06-23T06:34:47Z,2016-06-23T06:42:23Z,2016-06-23T06:57:08Z,CLOSED,False,10,10,1,https://github.com/lekma,webui: fix idnode_filter_fields,1,[],https://github.com/tvheadend/tvheadend/pull/876,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/876,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,876,2016-06-23T06:34:47Z,2016-06-23T06:42:23Z,2016-06-23T06:57:08Z,CLOSED,False,10,10,1,https://github.com/lekma,webui: fix idnode_filter_fields,1,[],https://github.com/tvheadend/tvheadend/pull/876,https://github.com/lekma,2,https://github.com/tvheadend/tvheadend/pull/876#issuecomment-227962819,,the fix is in the r.splice() call,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,876,2016-06-23T06:34:47Z,2016-06-23T06:42:23Z,2016-06-23T06:57:08Z,CLOSED,False,10,10,1,https://github.com/lekma,webui: fix idnode_filter_fields,1,[],https://github.com/tvheadend/tvheadend/pull/876,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/876#issuecomment-227963506,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,877,2016-06-27T15:02:44Z,2016-07-01T07:35:28Z,2016-07-01T07:35:28Z,CLOSED,False,2,2,1,https://github.com/tajson,Upgrade ffmpeg to 3.1,1,[],https://github.com/tvheadend/tvheadend/pull/877,https://github.com/tajson,1,https://github.com/tvheadend/tvheadend/pull/877,Tested using my various transcoding profiles.,Tested using my various transcoding profiles.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,877,2016-06-27T15:02:44Z,2016-07-01T07:35:28Z,2016-07-01T07:35:28Z,CLOSED,False,2,2,1,https://github.com/tajson,Upgrade ffmpeg to 3.1,1,[],https://github.com/tvheadend/tvheadend/pull/877,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/877#issuecomment-228825250,Tested using my various transcoding profiles.,"Any news about the vaapi hw acceleration Implementation @lekma @perexg ?
An widely usable hw acceleration would be very appreciated (nearly every Intel and RPi could use it).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,877,2016-06-27T15:02:44Z,2016-07-01T07:35:28Z,2016-07-01T07:35:28Z,CLOSED,False,2,2,1,https://github.com/tajson,Upgrade ffmpeg to 3.1,1,[],https://github.com/tvheadend/tvheadend/pull/877,https://github.com/piotrasd,3,https://github.com/tvheadend/tvheadend/pull/877#issuecomment-229553905,Tested using my various transcoding profiles.,"Some of the most noticeable features of the new version include:
Generic OpenMAX IL H.264 & MPEG4 encoders for Raspberry Pi
VA-API accelerated H.264/HEVC/MJPEG encoding
VAAPI-accelerated format conversion and scaling
Native Android MediaCodec API H.264 decoding
CUDA (CUVID) HEVC & H.264 decoders
CUDA accelerated format conversion and scaling
DXVA2 accelerated HEVC Main10 decoding on Windows
Many new muxers/demuxers
A variety of new filters",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,877,2016-06-27T15:02:44Z,2016-07-01T07:35:28Z,2016-07-01T07:35:28Z,CLOSED,False,2,2,1,https://github.com/tajson,Upgrade ffmpeg to 3.1,1,[],https://github.com/tvheadend/tvheadend/pull/877,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/877#issuecomment-229877713,Tested using my various transcoding profiles.,Merged and enabled h264 and hevc encoders - 601537a .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,878,2016-06-29T16:01:35Z,2016-08-08T15:49:44Z,2016-08-08T15:49:44Z,CLOSED,False,29,4,1,https://github.com/lekma,(not for merging) webui: editor form customization,1,[],https://github.com/tvheadend/tvheadend/pull/878,https://github.com/lekma,1,https://github.com/tvheadend/tvheadend/pull/878,"@perexg I thought that if you saw some code my needs might get clearer.
So, in codec profiles (wip) I rely heavily on form customization to setup field max/range/list (you can see examples here or here).
Now some of those fields exist for some codecs but not for others so I need them to be hidden by default and shown if and only if we know the codec exists and is enabled (see here), unfortunately at profile creation time (in the gui) we don't know yet. But, I still want some customization to happen see genericCBRvsVBR for example, so I need all the fields to be in the form even though some of them won't be shown.
That's  the short explanation for it (the long one involves explaining why I didn't make a different customization function for creation even though I allow for it here (lazyness?)).
Anyway, I hope those links will make my irc ramblings more obvious.","@perexg I thought that if you saw some code my needs might get clearer.
So, in codec profiles (wip) I rely heavily on form customization to setup field max/range/list (you can see examples here or here).
Now some of those fields exist for some codecs but not for others so I need them to be hidden by default and shown if and only if we know the codec exists and is enabled (see here), unfortunately at profile creation time (in the gui) we don't know yet. But, I still want some customization to happen see genericCBRvsVBR for example, so I need all the fields to be in the form even though some of them won't be shown.
That's  the short explanation for it (the long one involves explaining why I didn't make a different customization function for creation even though I allow for it here (lazyness?)).
Anyway, I hope those links will make my irc ramblings more obvious.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,879,2016-07-20T18:13:06Z,2016-08-11T13:43:16Z,2016-08-14T17:33:37Z,CLOSED,False,1,1,1,https://github.com/virtualdj,Fix 'integer constant is too large' in x86 build (http.c),1,[],https://github.com/tvheadend/tvheadend/pull/879,https://github.com/virtualdj,1,https://github.com/tvheadend/tvheadend/pull/879,I'm unable to build on debian-x86 without this fix.,I'm unable to build on debian-x86 without this fix.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,879,2016-07-20T18:13:06Z,2016-08-11T13:43:16Z,2016-08-14T17:33:37Z,CLOSED,False,1,1,1,https://github.com/virtualdj,Fix 'integer constant is too large' in x86 build (http.c),1,[],https://github.com/tvheadend/tvheadend/pull/879,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/879#issuecomment-239164364,I'm unable to build on debian-x86 without this fix.,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,880,2016-07-30T07:36:18Z,2016-08-11T13:42:39Z,2016-08-11T13:42:39Z,CLOSED,False,14,14,12,https://github.com/melmorabity,Fix FSF address,1,[],https://github.com/tvheadend/tvheadend/pull/880,https://github.com/melmorabity,1,https://github.com/tvheadend/tvheadend/pull/880,The license headers have old addresses for the FSF. This trivial patch fixes such addresses.,The license headers have old addresses for the FSF. This trivial patch fixes such addresses.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,880,2016-07-30T07:36:18Z,2016-08-11T13:42:39Z,2016-08-11T13:42:39Z,CLOSED,False,14,14,12,https://github.com/melmorabity,Fix FSF address,1,[],https://github.com/tvheadend/tvheadend/pull/880,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/880#issuecomment-239164189,The license headers have old addresses for the FSF. This trivial patch fixes such addresses.,"Merged. Thanks.
BTW: If you can prepare 4.1 packages for rpmfusion, it would be great.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,881,2016-08-05T16:35:14Z,2016-10-06T07:46:19Z,2016-10-06T07:46:19Z,CLOSED,False,14,1,1,https://github.com/carpa5,Fix timeshift hangs.,1,[],https://github.com/tvheadend/tvheadend/pull/881,https://github.com/carpa5,1,https://github.com/tvheadend/tvheadend/pull/881,"This patch simply skips a packet if it finds a MPEG transport or continuity error.
This is with respect to: https://tvheadend.org/issues/3899
I guessing this is the correct way to have my changes reviewed","This patch simply skips a packet if it finds a MPEG transport or continuity error.
This is with respect to: https://tvheadend.org/issues/3899
I guessing this is the correct way to have my changes reviewed",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,881,2016-08-05T16:35:14Z,2016-10-06T07:46:19Z,2016-10-06T07:46:19Z,CLOSED,False,14,1,1,https://github.com/carpa5,Fix timeshift hangs.,1,[],https://github.com/tvheadend/tvheadend/pull/881,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/881#issuecomment-238044119,"This patch simply skips a packet if it finds a MPEG transport or continuity error.
This is with respect to: https://tvheadend.org/issues/3899
I guessing this is the correct way to have my changes reviewed","Unfortunately, this patch is not correct. The MPEG-TS error packets should be delivered, because it's upon the decoder what to do with them.
Could you try this one line patch?
diff --git a/src/parsers/parsers.c b/src/parsers/parsers.c
index 793ffcb..0f06920 100644
--- a/src/parsers/parsers.c
+++ b/src/parsers/parsers.c
@@ -176,6 +176,7 @@ parse_mpeg_ts(service_t *t, elementary_stream_t *st, const uint8_t *data,
     if (start)
       parser_deliver_error(t, st);
     sbuf_err(&st->es_buf, 1);
+    return;
   }
 
   if (data_noise(data, len))",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,881,2016-08-05T16:35:14Z,2016-10-06T07:46:19Z,2016-10-06T07:46:19Z,CLOSED,False,14,1,1,https://github.com/carpa5,Fix timeshift hangs.,1,[],https://github.com/tvheadend/tvheadend/pull/881,https://github.com/carpa5,3,https://github.com/tvheadend/tvheadend/pull/881#issuecomment-238196101,"This patch simply skips a packet if it finds a MPEG transport or continuity error.
This is with respect to: https://tvheadend.org/issues/3899
I guessing this is the correct way to have my changes reviewed","I applied the patch, but the problem persists.
TVH log:
2016-08-08 05:58:52.687 [   INFO] tvhdhomerun: tuning to auto:189028615
2016-08-08 05:58:52.691 [   INFO] subscription: 0007: ""10.1.1.55 [  | Kodi Media Center ]"" subscribing on channel ""CTV"", weight: 150, adapter: ""HDHomeRun ATSC-T Tuner #0 (10.1.1.30)"", network: ""hdhr"", mux: ""189.028MHz"", service: ""CFTO"", profile=""htsp"", hostname=""10.1.1.55"", username=""10.1.1.55"", client=""Kodi Media Center""
2016-08-08 06:03:24.187 [WARNING] TS: hdhr/189.028MHz/CFTO Transport error indicator (total 1)
2016-08-08 06:03:24.187 [WARNING] TS: hdhr/189.028MHz/CFTO: MPEG2VIDEO @ #49 Continuity counter error (total 1)
2016-08-08 06:03:39.744 [WARNING] TS: hdhr/189.028MHz/CFTO Transport error indicator (total 14)
2016-08-08 06:03:39.752 [WARNING] TS: hdhr/189.028MHz/CFTO: MPEG2VIDEO @ #49 Continuity counter error (total 10)
2016-08-08 06:03:39.752 [WARNING] TS: hdhr/189.028MHz/CFTO: AC3 @ #51 Continuity counter error (total 1)
Timeshift buffers:
tvh@r:~$ ls -altr /big/time-shift/buffer/6/
total 1368432
drwx------ 3 tvh tvh      4096 Aug  8 05:58 ..
-rw------- 1 tvh tvh 132414640 Aug  8 05:59 tvh-0
-rw------- 1 tvh tvh 133677916 Aug  8 06:00 tvh-60075911
-rw------- 1 tvh tvh 133935087 Aug  8 06:01 tvh-120035811
-rw------- 1 tvh tvh 133866167 Aug  8 06:02 tvh-180095811
-rw------- 1 tvh tvh  69627797 Aug  8 06:03 tvh-240055711
drwx------ 2 tvh tvh      4096 Aug  8 06:03 .
-rw------- 1 tvh tvh 797731675 Aug  8 06:09 tvh-29114878477
As one can see the time offset is incorrect on the last buffer",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,881,2016-08-05T16:35:14Z,2016-10-06T07:46:19Z,2016-10-06T07:46:19Z,CLOSED,False,14,1,1,https://github.com/carpa5,Fix timeshift hangs.,1,[],https://github.com/tvheadend/tvheadend/pull/881,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/881#issuecomment-251890626,"This patch simply skips a packet if it finds a MPEG transport or continuity error.
This is with respect to: https://tvheadend.org/issues/3899
I guessing this is the correct way to have my changes reviewed",This was almost fixed - https://tvheadend.org/issues/3899 . Closing.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,882,2016-08-05T18:43:23Z,2016-08-10T13:29:28Z,2016-09-04T08:48:45Z,CLOSED,False,4,12,1,https://github.com/cykedev,SAT>IP: reached max_pids_count force pids=all,1,[],https://github.com/tvheadend/tvheadend/pull/882,https://github.com/cykedev,1,https://github.com/tvheadend/tvheadend/pull/882,"When the configured max number of pids is reached, pids=all are requested.
This fixes https://tvheadend.org/issues/3903","When the configured max number of pids is reached, pids=all are requested.
This fixes https://tvheadend.org/issues/3903",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,882,2016-08-05T18:43:23Z,2016-08-10T13:29:28Z,2016-09-04T08:48:45Z,CLOSED,False,4,12,1,https://github.com/cykedev,SAT>IP: reached max_pids_count force pids=all,1,[],https://github.com/tvheadend/tvheadend/pull/882,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/882#issuecomment-238043867,"When the configured max number of pids is reached, pids=all are requested.
This fixes https://tvheadend.org/issues/3903","Thanks. I tried to fix this a little bit differently, but the behaviour should be same. Could you test latest (commit 11d1ea7) ?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,882,2016-08-05T18:43:23Z,2016-08-10T13:29:28Z,2016-09-04T08:48:45Z,CLOSED,False,4,12,1,https://github.com/cykedev,SAT>IP: reached max_pids_count force pids=all,1,[],https://github.com/tvheadend/tvheadend/pull/882,https://github.com/cykedev,3,https://github.com/tvheadend/tvheadend/pull/882#issuecomment-238044341,"When the configured max number of pids is reached, pids=all are requested.
This fixes https://tvheadend.org/issues/3903",The commit looks good to me. Need to set up another system first to try this.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,882,2016-08-05T18:43:23Z,2016-08-10T13:29:28Z,2016-09-04T08:48:45Z,CLOSED,False,4,12,1,https://github.com/cykedev,SAT>IP: reached max_pids_count force pids=all,1,[],https://github.com/tvheadend/tvheadend/pull/882,https://github.com/cykedev,4,https://github.com/tvheadend/tvheadend/pull/882#issuecomment-238044462,"When the configured max number of pids is reached, pids=all are requested.
This fixes https://tvheadend.org/issues/3903",@xdarklight could you please have a look too?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,882,2016-08-05T18:43:23Z,2016-08-10T13:29:28Z,2016-09-04T08:48:45Z,CLOSED,False,4,12,1,https://github.com/cykedev,SAT>IP: reached max_pids_count force pids=all,1,[],https://github.com/tvheadend/tvheadend/pull/882,https://github.com/cykedev,5,https://github.com/tvheadend/tvheadend/pull/882#issuecomment-238099093,"When the configured max number of pids is reached, pids=all are requested.
This fixes https://tvheadend.org/issues/3903","I don't get the master branch running on FreeBSD, as I have to patch the 4.0.8_1 port. Have to set this up on another machine ...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,882,2016-08-05T18:43:23Z,2016-08-10T13:29:28Z,2016-09-04T08:48:45Z,CLOSED,False,4,12,1,https://github.com/cykedev,SAT>IP: reached max_pids_count force pids=all,1,[],https://github.com/tvheadend/tvheadend/pull/882,https://github.com/cykedev,6,https://github.com/tvheadend/tvheadend/pull/882#issuecomment-238538058,"When the configured max number of pids is reached, pids=all are requested.
This fixes https://tvheadend.org/issues/3903",@perexg I successfully tested your commit,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,882,2016-08-05T18:43:23Z,2016-08-10T13:29:28Z,2016-09-04T08:48:45Z,CLOSED,False,4,12,1,https://github.com/cykedev,SAT>IP: reached max_pids_count force pids=all,1,[],https://github.com/tvheadend/tvheadend/pull/882,https://github.com/xdarklight,7,https://github.com/tvheadend/tvheadend/pull/882#issuecomment-238661222,"When the configured max number of pids is reached, pids=all are requested.
This fixes https://tvheadend.org/issues/3903","I just had a closer look at 11d1ea7 and it seems fine to me 👍
The initial problem (just in case anyone reads this) was that when enabling ""many"" (probably all) PIDs on one transponder @cykedev's satip dish stopped sending any data (traffic goes down to 0b/s).
However, the ""else if"" in satip_frontend_pid_changed always requested more pids from the satip dish which seems to have a limit of max allowed pids in add/del mode. This ""else if"" part did not check whether the number of pids exceed the limit so the satip dish started crying and stopped sending data.
11d1ea7 adds the pid count (and ""all"" mode supported) check to the mentioned ""else if"" statement, which now makes tvheadend request pids=all from the satip dish (which makes the dish happy).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,883,2016-08-16T19:20:27Z,2016-08-16T19:35:50Z,2016-09-04T08:48:31Z,CLOSED,False,1,1,1,https://github.com/cykedev,SAT>IP: manufacturer optional on SAT>IP discovery,1,[],https://github.com/tvheadend/tvheadend/pull/883,https://github.com/cykedev,1,https://github.com/tvheadend/tvheadend/pull/883,"As the XML element „manufacturer“ seems to be optional, treat it as optional.
This is the discovery.xml from my SelfSat Dish. It was not found by the discovery after the last Firmware update, which seems to include an empty  tag.
<root xmlns=""urn:schemas-upnp-org:device-1-0"" configId=""0"">
    <specVersion>
        <major>1</major>
        <minor>1</minor>
    </specVersion>
    <device>
        <deviceType>urn:ses-com:device:SatIPServer:1</deviceType>
        <friendlyName>SELFSAT-IP</friendlyName>
        <manufacturer/>
        <manufacturerURL/>
        <modelDescription>This is GMIM-8000 SAT>IP server</modelDescription>
        <modelName>GMIM-8000</modelName>
        <modelNumber>1.0</modelNumber>
        <modelURL/>
        <serialNumber>manufacturer's serial number</serialNumber>
        <UDN>uuid:213ef372-1dd2-11b2-afd5-8093d24cb32d</UDN>
        <UPC>123456789012</UPC>
        <iconList>
            <icon>
                <mimetype>image/jpeg</mimetype>
                <width>48</width>
                <height>48</height>
                <depth>24</depth>
                <url>small.jpg</url>
            </icon>
            <icon>
                <mimetype>image/jpeg</mimetype>
                <width>120</width>
                <height>120</height>
                <depth>24</depth>
                <url>large.jpg</url>
            </icon>
            <icon>
                <mimetype>image/png</mimetype>
                <width>48</width>
                <height>48</height>
                <depth>32</depth>
                <url>small.png</url>
            </icon>
            <icon>
                <mimetype>image/png</mimetype>
                <width>120</width>
                <height>120</height>
                <depth>32</depth>
                <url>large.png</url>
            </icon>
        </iconList>
        <presentationURL>index.html</presentationURL>
        <satip:X_SATIPCAP xmlns:satip=""urn:ses-com:satip"">DVBS2-8</satip:X_SATIPCAP>
    </device>
</root>","As the XML element „manufacturer“ seems to be optional, treat it as optional.
This is the discovery.xml from my SelfSat Dish. It was not found by the discovery after the last Firmware update, which seems to include an empty  tag.
<root xmlns=""urn:schemas-upnp-org:device-1-0"" configId=""0"">
    <specVersion>
        <major>1</major>
        <minor>1</minor>
    </specVersion>
    <device>
        <deviceType>urn:ses-com:device:SatIPServer:1</deviceType>
        <friendlyName>SELFSAT-IP</friendlyName>
        <manufacturer/>
        <manufacturerURL/>
        <modelDescription>This is GMIM-8000 SAT>IP server</modelDescription>
        <modelName>GMIM-8000</modelName>
        <modelNumber>1.0</modelNumber>
        <modelURL/>
        <serialNumber>manufacturer's serial number</serialNumber>
        <UDN>uuid:213ef372-1dd2-11b2-afd5-8093d24cb32d</UDN>
        <UPC>123456789012</UPC>
        <iconList>
            <icon>
                <mimetype>image/jpeg</mimetype>
                <width>48</width>
                <height>48</height>
                <depth>24</depth>
                <url>small.jpg</url>
            </icon>
            <icon>
                <mimetype>image/jpeg</mimetype>
                <width>120</width>
                <height>120</height>
                <depth>24</depth>
                <url>large.jpg</url>
            </icon>
            <icon>
                <mimetype>image/png</mimetype>
                <width>48</width>
                <height>48</height>
                <depth>32</depth>
                <url>small.png</url>
            </icon>
            <icon>
                <mimetype>image/png</mimetype>
                <width>120</width>
                <height>120</height>
                <depth>32</depth>
                <url>large.png</url>
            </icon>
        </iconList>
        <presentationURL>index.html</presentationURL>
        <satip:X_SATIPCAP xmlns:satip=""urn:ses-com:satip"">DVBS2-8</satip:X_SATIPCAP>
    </device>
</root>",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,883,2016-08-16T19:20:27Z,2016-08-16T19:35:50Z,2016-09-04T08:48:31Z,CLOSED,False,1,1,1,https://github.com/cykedev,SAT>IP: manufacturer optional on SAT>IP discovery,1,[],https://github.com/tvheadend/tvheadend/pull/883,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/883#issuecomment-240213186,"As the XML element „manufacturer“ seems to be optional, treat it as optional.
This is the discovery.xml from my SelfSat Dish. It was not found by the discovery after the last Firmware update, which seems to include an empty  tag.
<root xmlns=""urn:schemas-upnp-org:device-1-0"" configId=""0"">
    <specVersion>
        <major>1</major>
        <minor>1</minor>
    </specVersion>
    <device>
        <deviceType>urn:ses-com:device:SatIPServer:1</deviceType>
        <friendlyName>SELFSAT-IP</friendlyName>
        <manufacturer/>
        <manufacturerURL/>
        <modelDescription>This is GMIM-8000 SAT>IP server</modelDescription>
        <modelName>GMIM-8000</modelName>
        <modelNumber>1.0</modelNumber>
        <modelURL/>
        <serialNumber>manufacturer's serial number</serialNumber>
        <UDN>uuid:213ef372-1dd2-11b2-afd5-8093d24cb32d</UDN>
        <UPC>123456789012</UPC>
        <iconList>
            <icon>
                <mimetype>image/jpeg</mimetype>
                <width>48</width>
                <height>48</height>
                <depth>24</depth>
                <url>small.jpg</url>
            </icon>
            <icon>
                <mimetype>image/jpeg</mimetype>
                <width>120</width>
                <height>120</height>
                <depth>24</depth>
                <url>large.jpg</url>
            </icon>
            <icon>
                <mimetype>image/png</mimetype>
                <width>48</width>
                <height>48</height>
                <depth>32</depth>
                <url>small.png</url>
            </icon>
            <icon>
                <mimetype>image/png</mimetype>
                <width>120</width>
                <height>120</height>
                <depth>32</depth>
                <url>large.png</url>
            </icon>
        </iconList>
        <presentationURL>index.html</presentationURL>
        <satip:X_SATIPCAP xmlns:satip=""urn:ses-com:satip"">DVBS2-8</satip:X_SATIPCAP>
    </device>
</root>",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,884,2016-08-17T00:04:44Z,2016-08-17T12:29:56Z,2016-08-17T12:29:56Z,CLOSED,False,315,252,23,https://github.com/mpmc,More mdhelp changes/additions!,8,[],https://github.com/tvheadend/tvheadend/pull/884,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/884,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,884,2016-08-17T00:04:44Z,2016-08-17T12:29:56Z,2016-08-17T12:29:56Z,CLOSED,False,315,252,23,https://github.com/mpmc,More mdhelp changes/additions!,8,[],https://github.com/tvheadend/tvheadend/pull/884,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/884#issuecomment-240396474,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,885,2016-08-17T08:59:52Z,2016-08-17T12:30:05Z,2016-08-17T12:30:05Z,CLOSED,False,13,3,1,https://github.com/ckarrie,fixing HMF datatypes,2,[],https://github.com/tvheadend/tvheadend/pull/885,https://github.com/ckarrie,1,https://github.com/tvheadend/tvheadend/pull/885,"added HMF_BOOL support
changed misleading ""map"" to dict (map is a python funtion - not a datatype)","added HMF_BOOL support
changed misleading ""map"" to dict (map is a python funtion - not a datatype)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,885,2016-08-17T08:59:52Z,2016-08-17T12:30:05Z,2016-08-17T12:30:05Z,CLOSED,False,13,3,1,https://github.com/ckarrie,fixing HMF datatypes,2,[],https://github.com/tvheadend/tvheadend/pull/885,https://github.com/ckarrie,2,https://github.com/tvheadend/tvheadend/pull/885#issuecomment-240356224,"added HMF_BOOL support
changed misleading ""map"" to dict (map is a python funtion - not a datatype)","Oh no, I forget 2 lines of code...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,885,2016-08-17T08:59:52Z,2016-08-17T12:30:05Z,2016-08-17T12:30:05Z,CLOSED,False,13,3,1,https://github.com/ckarrie,fixing HMF datatypes,2,[],https://github.com/tvheadend/tvheadend/pull/885,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/885#issuecomment-240396518,"added HMF_BOOL support
changed misleading ""map"" to dict (map is a python funtion - not a datatype)",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,886,2016-08-18T08:51:15Z,2016-10-06T07:45:11Z,2016-10-06T07:45:11Z,CLOSED,False,842,798,5,https://github.com/ckarrie,"python pep8 updates, additional functions",1,[],https://github.com/tvheadend/tvheadend/pull/886,https://github.com/ckarrie,1,https://github.com/tvheadend/tvheadend/pull/886,"added uuid2int to htsmsg
added disconnect to HTSPClient","added uuid2int to htsmsg
added disconnect to HTSPClient",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,886,2016-08-18T08:51:15Z,2016-10-06T07:45:11Z,2016-10-06T07:45:11Z,CLOSED,False,842,798,5,https://github.com/ckarrie,"python pep8 updates, additional functions",1,[],https://github.com/tvheadend/tvheadend/pull/886,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/886#issuecomment-251890414,"added uuid2int to htsmsg
added disconnect to HTSPClient",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,887,2016-08-19T16:16:46Z,2016-08-20T14:49:46Z,2016-08-20T14:49:46Z,CLOSED,False,4,0,1,https://github.com/OliverO2,dvb: fix loss of SNR display (bug #3927),1,[],https://github.com/tvheadend/tvheadend/pull/887,https://github.com/OliverO2,1,https://github.com/tvheadend/tvheadend/pull/887,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,887,2016-08-19T16:16:46Z,2016-08-20T14:49:46Z,2016-08-20T14:49:46Z,CLOSED,False,4,0,1,https://github.com/OliverO2,dvb: fix loss of SNR display (bug #3927),1,[],https://github.com/tvheadend/tvheadend/pull/887,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/887#issuecomment-241204207,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/Hypfer,1,https://github.com/tvheadend/tvheadend/pull/888,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,True,"{'THUMBS_UP': ['https://github.com/buzzzzer', 'https://github.com/piotrasd', 'https://github.com/bkuhls']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/piotrasd,2,https://github.com/tvheadend/tvheadend/pull/888#issuecomment-244783417,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,+1 to merge,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/DJBenson,3,https://github.com/tvheadend/tvheadend/pull/888#issuecomment-245121866,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,+2 👍,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/ulope,4,https://github.com/tvheadend/tvheadend/pull/888#issuecomment-249683027,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,Yes please! This would make streaming satellite radio so much easier.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/nightwatcher74,5,https://github.com/tvheadend/tvheadend/pull/888#issuecomment-250586334,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,+3 👍,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/888#issuecomment-251974204,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,"Merged with cleanups and extensions. Please, report any bugs to the bugtracker. Thanks.",True,{'THUMBS_UP': ['https://github.com/Hypfer']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/ulope,7,https://github.com/tvheadend/tvheadend/pull/888#issuecomment-252510488,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,Works perfectly. Thanks!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/piotrasd,8,https://github.com/tvheadend/tvheadend/pull/888#issuecomment-253984453,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,"for me too, One question ... there is any way to save audio track to any other format/container than .bin ??? and why there is no option to choose ? :(
@Hypfer @perexg
I enabled option
""Tag files with metadata""
but nothing help - still audio track is saved as bin and i must use media codec info to check what is inside ... :/",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/perexg,9,https://github.com/tvheadend/tvheadend/pull/888#issuecomment-254000577,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,@piotrasd : The mime / suffix auto detection did't work. It's fixed in 37ef4b8 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/piotrasd,10,https://github.com/tvheadend/tvheadend/pull/888#issuecomment-254000656,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,@perexg nice reaction !!! wow ! and big thanks for fix !,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/snickers2k,11,https://github.com/tvheadend/tvheadend/pull/888#issuecomment-304988927,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,"is this also possible for mp3? i can't find an option for mp3, but need this for Fritz!Fon (DECT Fon with mp3 Radio-Support). thanks",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,888,2016-08-25T19:42:39Z,2016-10-06T14:13:40Z,2017-05-31T06:06:12Z,CLOSED,False,399,1,8,https://github.com/Hypfer,Audio-only MPEG elementary stream muxer,2,[],https://github.com/tvheadend/tvheadend/pull/888,https://github.com/perexg,12,https://github.com/tvheadend/tvheadend/pull/888#issuecomment-305092756,To implement Feature #3953 I've taken this old PR ( #263 ) and made it work with the current tree.,"@snickers2k : If you have any issue, create a bug with a description what does not work for you.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/889,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg","The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg",True,{'THUMBS_UP': ['https://github.com/ksooo']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/DJBenson,2,https://github.com/tvheadend/tvheadend/pull/889#issuecomment-242992867,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg","There is already a 'DVR log file retention period' setting under the DVR profiles tab which (I think) does exactly this. By default, it's set to 'on file removal' but if you change it to something else, the log file will be kept for that period but you can still delete the recordings - that way, TVH maintains the state of previously recorded (but deleted) programmes so that they aren't recorded again once watched then deleted.
p.s. I've never used this functionality (although I never knew what I'd use it for, but now you've explained the use case, I might change from the default to something like 3 months).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/Glenn-1990,3,https://github.com/tvheadend/tvheadend/pull/889#issuecomment-242993344,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg","@DJBenson Yes, that's right, but that behaviour only applies to automatically deleted recordings (i.e. space needed or removal period expired). When pressing delete in kodi or the webui, both the log file and video file will be deleted, no matter what the retention and removal settings are.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/ksooo,4,https://github.com/tvheadend/tvheadend/pull/889#issuecomment-244964628,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg","Any chance not to have the entries for the recordings the user has deleted intentinally on the ""failed recordings"" tab? Actually they are not ""failed"", imo. It's just that the user has watched the recording, deletes the respective entry (using tvh webui or htsp) to save disk space and never again wants an autorec to record this event.
Just asking as I'm aware that this PR is still wip.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/Glenn-1990,5,https://github.com/tvheadend/tvheadend/pull/889#issuecomment-246196585,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg","@ksooo Can you test the current implementation? There is a new setting in the dvr config to set a minimum retention. I'd like to keep things simple, but simple doesn't exist in this case :p
Using the existing retention setting for manually deleted recording could lead into problems as never deleted log files when using removal ""maintain space""",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/889#issuecomment-251172575,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/ksooo,7,https://github.com/tvheadend/tvheadend/pull/889#issuecomment-251217107,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg","@Glenn-1990 @perexg if i set the new setting ""Minimal log retention period"" to something else than ""disabled"" i cannot delete recordings using tvh webui any more (tried failed recordings tab and finished recordings tab).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/ksooo,8,https://github.com/tvheadend/tvheadend/pull/889#issuecomment-251220371,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg","2016-10-03 22:29:14.291 dvr: delete entry 2286de05fea8898a0750a5c87920afa2 ""ZDF-History"" on ""ZDFinfo HD"" start time 2016-10-03 05:35:00, scheduled for recording by ""kodi"", retention ""1096 days"" removal ""1 days""
2016-10-03 22:29:14.291 dvr: delete entry 2286de05fea8898a0750a5c87920afa2 not allowed ""ZDF-History"" on ""ZDFinfo HD"", current retention period 0, minimal retention period 366

This does not look good. i cant remember to have set something to 1 day removal, for instance.
before i try to delete the recording, the settings look like this:

after the failed attempt to delete it, the props look different:",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/Glenn-1990,9,https://github.com/tvheadend/tvheadend/pull/889#issuecomment-251225977,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg","@ksooo Your files should be deleted but this is not clearly visible as deleting the dvr logfile is prevented now. On a manual delete, the files are removed and the minimal retention gets checked. When the minimal retention doesn't allow a logfile delete, the retention will be modified to the minimal retention. (in your case, the logfile will be deleted automatically after 1 year according to picture 2). The file retention (removal) will also be modified to reflect the time of the manual deletion. (0 is invalid, that's why there is '1 day')
Currently the webui and htsp client can only do a soft delete, meaning that they can't ignore the minimal retention setting. This is something that might need some improvements. Also that the fact that the play and download buttons stay enabled for deleted recordings as well.
EDIT: play and download should be disabled already with the current code",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/ksooo,10,https://github.com/tvheadend/tvheadend/pull/889#issuecomment-251296125,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg","Okay, maybe that technically everything is correct, but my problem is that the ""deleted"" log entry stays visible in the tvh webui. For the user it seems nothing happened! In combination with the errors in the log file this is not good.
Of course the ""deleted"" log entry should vanish from the list if recordings in the webui immediately and there should be no errors written to the logs.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/Glenn-1990,11,https://github.com/tvheadend/tvheadend/pull/889#issuecomment-251361915,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg","@ksooo Yes, I know it isn't perfect yet, that's why there is a ""wip"" in the title.
The big problem with vanishing is that the entries still exist but are undeletable. For example, an upcoming show is detected as duplicate because of a ""vanished"" recording. The user still wants to record the show by deleting the old dvr entry which is vanished -> not possible.
https://github.com/Glenn-1990/tvheadend/commits/minimal_ret_par2
Can you test this approach?
Principle:

lets say minimal retention is set to 365 days.
delete finished recording after 10 days -> recorded files will be removed -> retention will be set to 355 (365-10)days  -> dvr will be transferred to failed recordings.
delete failed recording -> minimal retention will be ignored and the db entry will be deleted

@perexg Would it be save to make virtually deleted recordings invisible? Or should we put them with the failed recordings or even make a new tab with ""deleted recordings"".",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,889,2016-08-28T16:24:26Z,2016-10-03T17:39:10Z,2016-10-04T13:45:01Z,CLOSED,False,227,137,9,https://github.com/Glenn-1990,Improve handling of a manual deleted dvr [WIP],2,[],https://github.com/tvheadend/tvheadend/pull/889,https://github.com/ksooo,12,https://github.com/tvheadend/tvheadend/pull/889#issuecomment-251391741,"The following user case is not handled correctly with the current code:

Autorec rule with duplicate prevention is set up.
Let's say that there are 5 upcoming identical episodes.
The first one will be recorded and the others not (detected as rerun of)
Now, the user watches that first recording and deletes it afterwards.
The video file and logfile are deleted.
Now the rerun detection fails because of the missing logfile and the show will be recorded again.

My idea was to keep the logfile when the user deletes a recording (htsp or webui).
For the webui, the dvr file will be moved to the failed recordings with the comment that the user deleted the file.
However I'm not familiar with the new stuff as parent, child, don't reschedule and don't rerecord. Maybe one of those are meant to prevent this issue? @perexg Can you please explain these methods a bit?
@perexg","Yes, I know it isn't perfect yet, that's why there is a ""wip"" in the title.

yeah, i was really astonished to see this merged yesterday, tbh.
@perexg maybe we can revert the merge until things got sorted out? I'm afraid that in current state no user will understand the feature and even experienced insiders will have problems. This is all just to complicated if you ask me. 3 settings, all dealing somehow with retention of recordings, and such...
why dont we just have
a) file retention

value in days describes when to automatically delete the recording file, relative to the time the recording finished
other values:
-- keep forever
-- if disk space is needed

b) log retention

describes when to automatically delete the log entry that belongs to a recording file, relative to the time the recording file gets deleted (automatically or manually makes no difference)
other values:
-- keep forever (even after file got deleted)
-- on recording file delete (no matter whether the file got deleted automatically or manually)


Can you test this approach?

the bad thing is that i have very limited time for testing, atm. :-(",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,890,2016-09-03T11:10:48Z,2016-09-04T12:14:44Z,2016-09-04T12:14:44Z,CLOSED,False,0,0,0,https://github.com/mpmc,More help additions / change cache scheme,0,[],https://github.com/tvheadend/tvheadend/pull/890,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/890,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,891,2016-09-12T15:08:24Z,2016-10-18T18:39:41Z,2016-10-18T18:39:41Z,CLOSED,False,193,87,8,https://github.com/Glenn-1990,Added playcount/playposition + HTSP fixes,6,[],https://github.com/tvheadend/tvheadend/pull/891,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/891,"Implemented last played position and playcount, useful when using multiple clients.
Some htsp fixes and improvements.

@perexg","Implemented last played position and playcount, useful when using multiple clients.
Some htsp fixes and improvements.

@perexg",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,891,2016-09-12T15:08:24Z,2016-10-18T18:39:41Z,2016-10-18T18:39:41Z,CLOSED,False,193,87,8,https://github.com/Glenn-1990,Added playcount/playposition + HTSP fixes,6,[],https://github.com/tvheadend/tvheadend/pull/891,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/891#issuecomment-252171337,"Implemented last played position and playcount, useful when using multiple clients.
Some htsp fixes and improvements.

@perexg",For discussion: The playback position should be probably maintaned per user which makes things a lot more complicated..,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,891,2016-09-12T15:08:24Z,2016-10-18T18:39:41Z,2016-10-18T18:39:41Z,CLOSED,False,193,87,8,https://github.com/Glenn-1990,Added playcount/playposition + HTSP fixes,6,[],https://github.com/tvheadend/tvheadend/pull/891,https://github.com/Glenn-1990,3,https://github.com/tvheadend/tvheadend/pull/891#issuecomment-254599996,"Implemented last played position and playcount, useful when using multiple clients.
Some htsp fixes and improvements.

@perexg","Indeed, I'll think about a solution",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,892,2016-09-23T11:04:18Z,2016-09-23T12:15:52Z,2016-09-23T12:15:52Z,CLOSED,False,22,1,2,https://github.com/tunip,webui: add program poster (when available) to epg detailed window,2,[],https://github.com/tvheadend/tvheadend/pull/892,https://github.com/tunip,1,https://github.com/tvheadend/tvheadend/pull/892,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,892,2016-09-23T11:04:18Z,2016-09-23T12:15:52Z,2016-09-23T12:15:52Z,CLOSED,False,22,1,2,https://github.com/tunip,webui: add program poster (when available) to epg detailed window,2,[],https://github.com/tvheadend/tvheadend/pull/892,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/892#issuecomment-249176413,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,893,2016-09-25T13:31:14Z,2016-10-06T07:44:15Z,2016-10-12T11:12:35Z,CLOSED,False,1,1,1,https://github.com/oliverhenshaw,Correct the documented default config path,1,[],https://github.com/tvheadend/tvheadend/pull/893,https://github.com/oliverhenshaw,1,https://github.com/tvheadend/tvheadend/pull/893,"The documentation of the default for the config path option is wrong.
This can cause problems when migrating the location of the config path, e.g. when moving from a self-built tvheadend run with the default location to the fedora package, which is run with ""-c /var/lib/tvheadend/config"", as I need to know what the default path actually is to rename it. Moving/renaming $HOME/.hts does not pick up my settings whereas moving $HOME/.hts/tvheadend does.","The documentation of the default for the config path option is wrong.
This can cause problems when migrating the location of the config path, e.g. when moving from a self-built tvheadend run with the default location to the fedora package, which is run with ""-c /var/lib/tvheadend/config"", as I need to know what the default path actually is to rename it. Moving/renaming $HOME/.hts does not pick up my settings whereas moving $HOME/.hts/tvheadend does.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,893,2016-09-25T13:31:14Z,2016-10-06T07:44:15Z,2016-10-12T11:12:35Z,CLOSED,False,1,1,1,https://github.com/oliverhenshaw,Correct the documented default config path,1,[],https://github.com/tvheadend/tvheadend/pull/893,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/893#issuecomment-251890225,"The documentation of the default for the config path option is wrong.
This can cause problems when migrating the location of the config path, e.g. when moving from a self-built tvheadend run with the default location to the fedora package, which is run with ""-c /var/lib/tvheadend/config"", as I need to know what the default path actually is to rename it. Moving/renaming $HOME/.hts does not pick up my settings whereas moving $HOME/.hts/tvheadend does.",Thanks. Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,894,2016-09-29T13:48:50Z,2016-10-02T10:43:46Z,2016-10-02T10:43:46Z,CLOSED,False,0,0,0,https://github.com/ProfYaffle,Update DVB EPG Categories,0,[],https://github.com/tvheadend/tvheadend/pull/894,https://github.com/ProfYaffle,1,https://github.com/tvheadend/tvheadend/pull/894,"This PR primarily adds in a few missing EPG sub-categories.
Additionally, each major category has a number of ""reserved for future use"" and ""user-defined"" sub-categories. In tvheadend, some (not all) of the EPG categories padded these reserved items with whatever category was the highest-defined value. Some also didn't have the right number of sub-categories - all should have 16 (0x00 to 0x0F).
This PR makes this consistent across all categories (all 16 defined in each) and pads out the reserved sub-categories with the official category name. As an example, ""Education/Science/Factual topics"" is used for reserved values 0x09/0x08 to 0x09/0x0F as per this extract from the spec.:
Education/Science/Factual topics:
0x9 0x0 education/science/factual topics (general)
0x9 0x1 nature/animals/environment
0x9 0x2 technology/natural sciences
0x9 0x3 medicine/physiology/psychology
0x9 0x4 foreign countries/expeditions
0x9 0x5 social/spiritual sciences
0x9 0x6 further education
0x9 0x7 languages
0x9 0x8 to 0xE reserved for future use
0x9 0xF user defined
http://www.etsi.org/deliver/etsi_en/300400_300499/300468/01.11.01_60/en_300468v011101p.pdf
Separate commits to allow a degree of cherry-picking if required.","This PR primarily adds in a few missing EPG sub-categories.
Additionally, each major category has a number of ""reserved for future use"" and ""user-defined"" sub-categories. In tvheadend, some (not all) of the EPG categories padded these reserved items with whatever category was the highest-defined value. Some also didn't have the right number of sub-categories - all should have 16 (0x00 to 0x0F).
This PR makes this consistent across all categories (all 16 defined in each) and pads out the reserved sub-categories with the official category name. As an example, ""Education/Science/Factual topics"" is used for reserved values 0x09/0x08 to 0x09/0x0F as per this extract from the spec.:
Education/Science/Factual topics:
0x9 0x0 education/science/factual topics (general)
0x9 0x1 nature/animals/environment
0x9 0x2 technology/natural sciences
0x9 0x3 medicine/physiology/psychology
0x9 0x4 foreign countries/expeditions
0x9 0x5 social/spiritual sciences
0x9 0x6 further education
0x9 0x7 languages
0x9 0x8 to 0xE reserved for future use
0x9 0xF user defined
http://www.etsi.org/deliver/etsi_en/300400_300499/300468/01.11.01_60/en_300468v011101p.pdf
Separate commits to allow a degree of cherry-picking if required.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,895,2016-10-02T10:45:59Z,2016-10-06T07:42:11Z,2017-07-28T15:13:10Z,CLOSED,False,96,61,1,https://github.com/ProfYaffle,Update DVB EPG Categories,3,[],https://github.com/tvheadend/tvheadend/pull/895,https://github.com/ProfYaffle,1,https://github.com/tvheadend/tvheadend/pull/895,"This PR primarily adds in a few missing EPG sub-categories. Replaces PR 894 because I screwed up my branches... otherwise identical.
Additionally, each major category has a number of ""reserved for future use"" and ""user-defined"" sub-categories. In tvheadend, some (not all) of the EPG categories padded these reserved items with whatever category was the highest-defined value. Some also didn't have the right number of sub-categories - all should have 16 (0x00 to 0x0F).
This PR makes this consistent across all categories (all 16 defined in each) and pads out the reserved sub-categories with the official category name. As an example, ""Education/Science/Factual topics"" is used for reserved values 0x09/0x08 to 0x09/0x0F as per this extract from the spec.:
Education/Science/Factual topics:
0x9 0x0 education/science/factual topics (general)
0x9 0x1 nature/animals/environment
0x9 0x2 technology/natural sciences
0x9 0x3 medicine/physiology/psychology
0x9 0x4 foreign countries/expeditions
0x9 0x5 social/spiritual sciences
0x9 0x6 further education
0x9 0x7 languages
0x9 0x8 to 0xE reserved for future use
0x9 0xF user defined
http://www.etsi.org/deliver/etsi_en/300400_300499/300468/01.11.01_60/en_300468v011101p.pdf
Separate commits to allow a degree of cherry-picking if required.","This PR primarily adds in a few missing EPG sub-categories. Replaces PR 894 because I screwed up my branches... otherwise identical.
Additionally, each major category has a number of ""reserved for future use"" and ""user-defined"" sub-categories. In tvheadend, some (not all) of the EPG categories padded these reserved items with whatever category was the highest-defined value. Some also didn't have the right number of sub-categories - all should have 16 (0x00 to 0x0F).
This PR makes this consistent across all categories (all 16 defined in each) and pads out the reserved sub-categories with the official category name. As an example, ""Education/Science/Factual topics"" is used for reserved values 0x09/0x08 to 0x09/0x0F as per this extract from the spec.:
Education/Science/Factual topics:
0x9 0x0 education/science/factual topics (general)
0x9 0x1 nature/animals/environment
0x9 0x2 technology/natural sciences
0x9 0x3 medicine/physiology/psychology
0x9 0x4 foreign countries/expeditions
0x9 0x5 social/spiritual sciences
0x9 0x6 further education
0x9 0x7 languages
0x9 0x8 to 0xE reserved for future use
0x9 0xF user defined
http://www.etsi.org/deliver/etsi_en/300400_300499/300468/01.11.01_60/en_300468v011101p.pdf
Separate commits to allow a degree of cherry-picking if required.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,895,2016-10-02T10:45:59Z,2016-10-06T07:42:11Z,2017-07-28T15:13:10Z,CLOSED,False,96,61,1,https://github.com/ProfYaffle,Update DVB EPG Categories,3,[],https://github.com/tvheadend/tvheadend/pull/895,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/895#issuecomment-251889812,"This PR primarily adds in a few missing EPG sub-categories. Replaces PR 894 because I screwed up my branches... otherwise identical.
Additionally, each major category has a number of ""reserved for future use"" and ""user-defined"" sub-categories. In tvheadend, some (not all) of the EPG categories padded these reserved items with whatever category was the highest-defined value. Some also didn't have the right number of sub-categories - all should have 16 (0x00 to 0x0F).
This PR makes this consistent across all categories (all 16 defined in each) and pads out the reserved sub-categories with the official category name. As an example, ""Education/Science/Factual topics"" is used for reserved values 0x09/0x08 to 0x09/0x0F as per this extract from the spec.:
Education/Science/Factual topics:
0x9 0x0 education/science/factual topics (general)
0x9 0x1 nature/animals/environment
0x9 0x2 technology/natural sciences
0x9 0x3 medicine/physiology/psychology
0x9 0x4 foreign countries/expeditions
0x9 0x5 social/spiritual sciences
0x9 0x6 further education
0x9 0x7 languages
0x9 0x8 to 0xE reserved for future use
0x9 0xF user defined
http://www.etsi.org/deliver/etsi_en/300400_300499/300468/01.11.01_60/en_300468v011101p.pdf
Separate commits to allow a degree of cherry-picking if required.",Thanks. Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,896,2016-10-04T21:16:56Z,2016-10-06T07:41:35Z,2016-10-20T07:53:36Z,CLOSED,False,192,105,8,https://github.com/Glenn-1990,"Implemented ""moved recordings"" in order to improve the user experience, fixup #889",1,[],https://github.com/tvheadend/tvheadend/pull/896,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/896,"@perexg, @ksooo
This PR is a fixup for #889 (which was actually not ready for merging yet)
Behavior with this PR:

assume retention is set to something different than ""on file removal"" (this is still an expert setting)
recording finished -> recording is showing in the"" finished recordings"" list now
now the remove (instead of delete) button is showed, this will remove the stored files and place the recording in the ""removed recordings"" list.
when going to the ""removed recordings"" page (only in expert mode!), the user can delete the database entry. Otherwise the ""removed recording"" will be deleted automatically after the retention time has expired.

There are no changes in functioning or GUI when using basic or advanced mode.","@perexg, @ksooo
This PR is a fixup for #889 (which was actually not ready for merging yet)
Behavior with this PR:

assume retention is set to something different than ""on file removal"" (this is still an expert setting)
recording finished -> recording is showing in the"" finished recordings"" list now
now the remove (instead of delete) button is showed, this will remove the stored files and place the recording in the ""removed recordings"" list.
when going to the ""removed recordings"" page (only in expert mode!), the user can delete the database entry. Otherwise the ""removed recording"" will be deleted automatically after the retention time has expired.

There are no changes in functioning or GUI when using basic or advanced mode.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,896,2016-10-04T21:16:56Z,2016-10-06T07:41:35Z,2016-10-20T07:53:36Z,CLOSED,False,192,105,8,https://github.com/Glenn-1990,"Implemented ""moved recordings"" in order to improve the user experience, fixup #889",1,[],https://github.com/tvheadend/tvheadend/pull/896,https://github.com/ksooo,2,https://github.com/tvheadend/tvheadend/pull/896#issuecomment-251517678,"@perexg, @ksooo
This PR is a fixup for #889 (which was actually not ready for merging yet)
Behavior with this PR:

assume retention is set to something different than ""on file removal"" (this is still an expert setting)
recording finished -> recording is showing in the"" finished recordings"" list now
now the remove (instead of delete) button is showed, this will remove the stored files and place the recording in the ""removed recordings"" list.
when going to the ""removed recordings"" page (only in expert mode!), the user can delete the database entry. Otherwise the ""removed recording"" will be deleted automatically after the retention time has expired.

There are no changes in functioning or GUI when using basic or advanced mode.",yeah. i like this.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,896,2016-10-04T21:16:56Z,2016-10-06T07:41:35Z,2016-10-20T07:53:36Z,CLOSED,False,192,105,8,https://github.com/Glenn-1990,"Implemented ""moved recordings"" in order to improve the user experience, fixup #889",1,[],https://github.com/tvheadend/tvheadend/pull/896,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/896#issuecomment-251593960,"@perexg, @ksooo
This PR is a fixup for #889 (which was actually not ready for merging yet)
Behavior with this PR:

assume retention is set to something different than ""on file removal"" (this is still an expert setting)
recording finished -> recording is showing in the"" finished recordings"" list now
now the remove (instead of delete) button is showed, this will remove the stored files and place the recording in the ""removed recordings"" list.
when going to the ""removed recordings"" page (only in expert mode!), the user can delete the database entry. Otherwise the ""removed recording"" will be deleted automatically after the retention time has expired.

There are no changes in functioning or GUI when using basic or advanced mode.","I think that dvr_entry_cancel() fcn should be kept for a consistency. Your implementation basically does two things (and one of them does not really mean 'cancel'). Create a new fcn dvr_entry_cancel_remove() plus /api/dvr/entry/remove API. Don't forget to call this fcn in htsp_method_deleteDvrEntry() , too.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,896,2016-10-04T21:16:56Z,2016-10-06T07:41:35Z,2016-10-20T07:53:36Z,CLOSED,False,192,105,8,https://github.com/Glenn-1990,"Implemented ""moved recordings"" in order to improve the user experience, fixup #889",1,[],https://github.com/tvheadend/tvheadend/pull/896,https://github.com/Glenn-1990,4,https://github.com/tvheadend/tvheadend/pull/896#issuecomment-251623736,"@perexg, @ksooo
This PR is a fixup for #889 (which was actually not ready for merging yet)
Behavior with this PR:

assume retention is set to something different than ""on file removal"" (this is still an expert setting)
recording finished -> recording is showing in the"" finished recordings"" list now
now the remove (instead of delete) button is showed, this will remove the stored files and place the recording in the ""removed recordings"" list.
when going to the ""removed recordings"" page (only in expert mode!), the user can delete the database entry. Otherwise the ""removed recording"" will be deleted automatically after the retention time has expired.

There are no changes in functioning or GUI when using basic or advanced mode.","@perexg Can you explain what means and should do for finished recordings then?
According to the htsp wiki cancel = ""Cancel an existing recording, but don't remove the entry from the database."" but the cancel function will definitely delete the database and not the stored files with the current implementation. https://github.com/tvheadend/tvheadend/blob/master/src/dvr/dvr_db.c#L3555
Or should we limit cancel to schedules and running recordings only?
This looks not right as storage might fill up while the files are deleted according tvheadend.
For the moment ""cancel"" was never triggered for completed recordings.
EDIT: maybe better to rename ""cancel"" to ""cancel_remove""? currently cancel don't gets called for finished recordings, only for active and upcoming (checked the code).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,896,2016-10-04T21:16:56Z,2016-10-06T07:41:35Z,2016-10-20T07:53:36Z,CLOSED,False,192,105,8,https://github.com/Glenn-1990,"Implemented ""moved recordings"" in order to improve the user experience, fixup #889",1,[],https://github.com/tvheadend/tvheadend/pull/896,https://github.com/Glenn-1990,5,https://github.com/tvheadend/tvheadend/pull/896#issuecomment-251675346,"@perexg, @ksooo
This PR is a fixup for #889 (which was actually not ready for merging yet)
Behavior with this PR:

assume retention is set to something different than ""on file removal"" (this is still an expert setting)
recording finished -> recording is showing in the"" finished recordings"" list now
now the remove (instead of delete) button is showed, this will remove the stored files and place the recording in the ""removed recordings"" list.
when going to the ""removed recordings"" page (only in expert mode!), the user can delete the database entry. Otherwise the ""removed recording"" will be deleted automatically after the retention time has expired.

There are no changes in functioning or GUI when using basic or advanced mode.","@perexg Implemented a 'cancel_remove' function as you suggested.
Also modified the 'cancel' function a bit as it may not delete database entries for finished recording, otherwise recorded files will become undeletable.
so:
cancel               -> cancel upcoming or abort active recording
cancel_delete   -> cancel upcoming and delete active and finished recordings (not visible anywhere)
cancel_remove -> cancel upcoming and remove active and finished recordings (visible as removed recording)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,896,2016-10-04T21:16:56Z,2016-10-06T07:41:35Z,2016-10-20T07:53:36Z,CLOSED,False,192,105,8,https://github.com/Glenn-1990,"Implemented ""moved recordings"" in order to improve the user experience, fixup #889",1,[],https://github.com/tvheadend/tvheadend/pull/896,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/896#issuecomment-251889702,"@perexg, @ksooo
This PR is a fixup for #889 (which was actually not ready for merging yet)
Behavior with this PR:

assume retention is set to something different than ""on file removal"" (this is still an expert setting)
recording finished -> recording is showing in the"" finished recordings"" list now
now the remove (instead of delete) button is showed, this will remove the stored files and place the recording in the ""removed recordings"" list.
when going to the ""removed recordings"" page (only in expert mode!), the user can delete the database entry. Otherwise the ""removed recording"" will be deleted automatically after the retention time has expired.

There are no changes in functioning or GUI when using basic or advanced mode.",Thanks. Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,896,2016-10-04T21:16:56Z,2016-10-06T07:41:35Z,2016-10-20T07:53:36Z,CLOSED,False,192,105,8,https://github.com/Glenn-1990,"Implemented ""moved recordings"" in order to improve the user experience, fixup #889",1,[],https://github.com/tvheadend/tvheadend/pull/896,https://github.com/ksooo,7,https://github.com/tvheadend/tvheadend/pull/896#issuecomment-255034500,"@perexg, @ksooo
This PR is a fixup for #889 (which was actually not ready for merging yet)
Behavior with this PR:

assume retention is set to something different than ""on file removal"" (this is still an expert setting)
recording finished -> recording is showing in the"" finished recordings"" list now
now the remove (instead of delete) button is showed, this will remove the stored files and place the recording in the ""removed recordings"" list.
when going to the ""removed recordings"" page (only in expert mode!), the user can delete the database entry. Otherwise the ""removed recording"" will be deleted automatically after the retention time has expired.

There are no changes in functioning or GUI when using basic or advanced mode.",@Glenn-1990 just want to say thank you for this feature. Very valueable. Much appreciated.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,897,2016-10-16T19:15:33Z,2016-10-18T13:22:33Z,2016-10-18T13:22:33Z,CLOSED,False,14,7,4,https://github.com/Glenn-1990,Fixed: UHD was not handled in tags and stream profiles,1,[],https://github.com/tvheadend/tvheadend/pull/897,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/897,"Also renamed ""radio"" to ""radio channels"" in order to be consistent with ""tv channels"".
@perexg","Also renamed ""radio"" to ""radio channels"" in order to be consistent with ""tv channels"".
@perexg",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,897,2016-10-16T19:15:33Z,2016-10-18T13:22:33Z,2016-10-18T13:22:33Z,CLOSED,False,14,7,4,https://github.com/Glenn-1990,Fixed: UHD was not handled in tags and stream profiles,1,[],https://github.com/tvheadend/tvheadend/pull/897,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/897#issuecomment-254505714,"Also renamed ""radio"" to ""radio channels"" in order to be consistent with ""tv channels"".
@perexg",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,898,2016-10-18T19:27:18Z,2016-10-21T07:21:02Z,2016-10-21T07:21:03Z,CLOSED,False,139,72,21,https://github.com/Glenn-1990,Uilevel polish,12,[],https://github.com/tvheadend/tvheadend/pull/898,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/898,"Flaws with the current code:

inconsistency between dvr, autorec and timerec: Some parameters are tagged as basic for autorec while they are tagged as expert for timerecs. Also parameters are listed in different orders and might not be visible at all. -> see screenshot
when adding a entry of any kind (channel,mux,bouquet,acces,etc), it should be enabled as creating a disabled entry doesn't make sense.
in many places there are no or almost no differences between the advanced and expert level
the user should be able to set up tvheadend when using ""basic"" mode. This is not always possible. example: adding a channel is possible but assigning a service not, this leaves the user with an unplayable channel.


Changes with this PR

addressed flaws described above
prevent the htsp profile for recordings and set the default to ""pass"" instead of ""dvr"" (which is an old leftover I guess).
Basic ui level: (= beginner level) This level should be similar to normal STB's, the user can scan channels, watch them and record them. OTA epg is enabled but the user should not bother (enabled by default)
Advanced ui level: (= level for users familiar with tvheadend) The user can acces some settings that require more knowledge from tvheadend (internal/external epg grabber for example).
Expert ui level (= level for computer/dvb/tcpIp experts) This settings should not be used in 99% of the cases. Everything with string formatting is tagged as expert, as well settings that might harm things or are very experimental,...

@perexg","Flaws with the current code:

inconsistency between dvr, autorec and timerec: Some parameters are tagged as basic for autorec while they are tagged as expert for timerecs. Also parameters are listed in different orders and might not be visible at all. -> see screenshot
when adding a entry of any kind (channel,mux,bouquet,acces,etc), it should be enabled as creating a disabled entry doesn't make sense.
in many places there are no or almost no differences between the advanced and expert level
the user should be able to set up tvheadend when using ""basic"" mode. This is not always possible. example: adding a channel is possible but assigning a service not, this leaves the user with an unplayable channel.


Changes with this PR

addressed flaws described above
prevent the htsp profile for recordings and set the default to ""pass"" instead of ""dvr"" (which is an old leftover I guess).
Basic ui level: (= beginner level) This level should be similar to normal STB's, the user can scan channels, watch them and record them. OTA epg is enabled but the user should not bother (enabled by default)
Advanced ui level: (= level for users familiar with tvheadend) The user can acces some settings that require more knowledge from tvheadend (internal/external epg grabber for example).
Expert ui level (= level for computer/dvb/tcpIp experts) This settings should not be used in 99% of the cases. Everything with string formatting is tagged as expert, as well settings that might harm things or are very experimental,...

@perexg",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,898,2016-10-18T19:27:18Z,2016-10-21T07:21:02Z,2016-10-21T07:21:03Z,CLOSED,False,139,72,21,https://github.com/Glenn-1990,Uilevel polish,12,[],https://github.com/tvheadend/tvheadend/pull/898,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/898#issuecomment-254630470,"Flaws with the current code:

inconsistency between dvr, autorec and timerec: Some parameters are tagged as basic for autorec while they are tagged as expert for timerecs. Also parameters are listed in different orders and might not be visible at all. -> see screenshot
when adding a entry of any kind (channel,mux,bouquet,acces,etc), it should be enabled as creating a disabled entry doesn't make sense.
in many places there are no or almost no differences between the advanced and expert level
the user should be able to set up tvheadend when using ""basic"" mode. This is not always possible. example: adding a channel is possible but assigning a service not, this leaves the user with an unplayable channel.


Changes with this PR

addressed flaws described above
prevent the htsp profile for recordings and set the default to ""pass"" instead of ""dvr"" (which is an old leftover I guess).
Basic ui level: (= beginner level) This level should be similar to normal STB's, the user can scan channels, watch them and record them. OTA epg is enabled but the user should not bother (enabled by default)
Advanced ui level: (= level for users familiar with tvheadend) The user can acces some settings that require more knowledge from tvheadend (internal/external epg grabber for example).
Expert ui level (= level for computer/dvb/tcpIp experts) This settings should not be used in 99% of the cases. Everything with string formatting is tagged as expert, as well settings that might harm things or are very experimental,...

@perexg","@Glenn-1990

I think Image Cache options should be expert, users tend to play there unnecessarily and normally you won't need it
Timeshift ram only should be at least advanced because it is a decision like timeshift yes/no if you want it at hdd/ssd or ram (I guess you make it expert because a too high setting could kill your machine)
debugging should be advanced, this should be as simple as possible without to annoy basic users (idk why but ppl have huge problems to find and use it)
rolloff should be expert I think, this isn't something you should change normally, same for pls_mode (not too sure)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,898,2016-10-18T19:27:18Z,2016-10-21T07:21:02Z,2016-10-21T07:21:03Z,CLOSED,False,139,72,21,https://github.com/Glenn-1990,Uilevel polish,12,[],https://github.com/tvheadend/tvheadend/pull/898,https://github.com/Glenn-1990,3,https://github.com/tvheadend/tvheadend/pull/898#issuecomment-254790030,"Flaws with the current code:

inconsistency between dvr, autorec and timerec: Some parameters are tagged as basic for autorec while they are tagged as expert for timerecs. Also parameters are listed in different orders and might not be visible at all. -> see screenshot
when adding a entry of any kind (channel,mux,bouquet,acces,etc), it should be enabled as creating a disabled entry doesn't make sense.
in many places there are no or almost no differences between the advanced and expert level
the user should be able to set up tvheadend when using ""basic"" mode. This is not always possible. example: adding a channel is possible but assigning a service not, this leaves the user with an unplayable channel.


Changes with this PR

addressed flaws described above
prevent the htsp profile for recordings and set the default to ""pass"" instead of ""dvr"" (which is an old leftover I guess).
Basic ui level: (= beginner level) This level should be similar to normal STB's, the user can scan channels, watch them and record them. OTA epg is enabled but the user should not bother (enabled by default)
Advanced ui level: (= level for users familiar with tvheadend) The user can acces some settings that require more knowledge from tvheadend (internal/external epg grabber for example).
Expert ui level (= level for computer/dvb/tcpIp experts) This settings should not be used in 99% of the cases. Everything with string formatting is tagged as expert, as well settings that might harm things or are very experimental,...

@perexg",@CvH added a comment for your suggestions ;-),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,898,2016-10-18T19:27:18Z,2016-10-21T07:21:02Z,2016-10-21T07:21:03Z,CLOSED,False,139,72,21,https://github.com/Glenn-1990,Uilevel polish,12,[],https://github.com/tvheadend/tvheadend/pull/898,https://github.com/CvH,4,https://github.com/tvheadend/tvheadend/pull/898#issuecomment-254790473,"Flaws with the current code:

inconsistency between dvr, autorec and timerec: Some parameters are tagged as basic for autorec while they are tagged as expert for timerecs. Also parameters are listed in different orders and might not be visible at all. -> see screenshot
when adding a entry of any kind (channel,mux,bouquet,acces,etc), it should be enabled as creating a disabled entry doesn't make sense.
in many places there are no or almost no differences between the advanced and expert level
the user should be able to set up tvheadend when using ""basic"" mode. This is not always possible. example: adding a channel is possible but assigning a service not, this leaves the user with an unplayable channel.


Changes with this PR

addressed flaws described above
prevent the htsp profile for recordings and set the default to ""pass"" instead of ""dvr"" (which is an old leftover I guess).
Basic ui level: (= beginner level) This level should be similar to normal STB's, the user can scan channels, watch them and record them. OTA epg is enabled but the user should not bother (enabled by default)
Advanced ui level: (= level for users familiar with tvheadend) The user can acces some settings that require more knowledge from tvheadend (internal/external epg grabber for example).
Expert ui level (= level for computer/dvb/tcpIp experts) This settings should not be used in 99% of the cases. Everything with string formatting is tagged as expert, as well settings that might harm things or are very experimental,...

@perexg",I'am happy with it 👍,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,898,2016-10-18T19:27:18Z,2016-10-21T07:21:02Z,2016-10-21T07:21:03Z,CLOSED,False,139,72,21,https://github.com/Glenn-1990,Uilevel polish,12,[],https://github.com/tvheadend/tvheadend/pull/898,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/898#issuecomment-255312018,"Flaws with the current code:

inconsistency between dvr, autorec and timerec: Some parameters are tagged as basic for autorec while they are tagged as expert for timerecs. Also parameters are listed in different orders and might not be visible at all. -> see screenshot
when adding a entry of any kind (channel,mux,bouquet,acces,etc), it should be enabled as creating a disabled entry doesn't make sense.
in many places there are no or almost no differences between the advanced and expert level
the user should be able to set up tvheadend when using ""basic"" mode. This is not always possible. example: adding a channel is possible but assigning a service not, this leaves the user with an unplayable channel.


Changes with this PR

addressed flaws described above
prevent the htsp profile for recordings and set the default to ""pass"" instead of ""dvr"" (which is an old leftover I guess).
Basic ui level: (= beginner level) This level should be similar to normal STB's, the user can scan channels, watch them and record them. OTA epg is enabled but the user should not bother (enabled by default)
Advanced ui level: (= level for users familiar with tvheadend) The user can acces some settings that require more knowledge from tvheadend (internal/external epg grabber for example).
Expert ui level (= level for computer/dvb/tcpIp experts) This settings should not be used in 99% of the cases. Everything with string formatting is tagged as expert, as well settings that might harm things or are very experimental,...

@perexg",Merged. Thanks for your work.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,899,2016-11-03T17:38:40Z,2016-11-10T13:17:49Z,2016-11-10T13:17:49Z,CLOSED,False,228,214,23,https://github.com/mpmc,Help documentation changes,11,[],https://github.com/tvheadend/tvheadend/pull/899,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/899,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,899,2016-11-03T17:38:40Z,2016-11-10T13:17:49Z,2016-11-10T13:17:49Z,CLOSED,False,228,214,23,https://github.com/mpmc,Help documentation changes,11,[],https://github.com/tvheadend/tvheadend/pull/899,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/899#issuecomment-259687418,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,900,2016-11-04T06:20:26Z,2016-11-04T11:14:41Z,2016-11-04T11:14:41Z,CLOSED,False,81,8,6,https://github.com/galeneca,epggrab: test code for only tuning muxes that require it,1,[],https://github.com/tvheadend/tvheadend/pull/900,https://github.com/galeneca,1,https://github.com/tvheadend/tvheadend/pull/900,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,900,2016-11-04T06:20:26Z,2016-11-04T11:14:41Z,2016-11-04T11:14:41Z,CLOSED,False,81,8,6,https://github.com/galeneca,epggrab: test code for only tuning muxes that require it,1,[],https://github.com/tvheadend/tvheadend/pull/900,https://github.com/galeneca,2,https://github.com/tvheadend/tvheadend/pull/900#issuecomment-258388025,,"src/epggrab.h
src/epggrab/module/eit.c
src/epggrab/module/opentv.c
src/epggrab/otamux.c
src/epggrab/private.h
src/input/mpegts.h",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,901,2016-11-04T06:28:17Z,2016-11-04T11:38:37Z,2016-11-04T11:38:37Z,CLOSED,False,2328,767,151,https://github.com/galeneca,Release/4.0,192,[],https://github.com/tvheadend/tvheadend/pull/901,https://github.com/galeneca,1,https://github.com/tvheadend/tvheadend/pull/901,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,901,2016-11-04T06:28:17Z,2016-11-04T11:38:37Z,2016-11-04T11:38:37Z,CLOSED,False,2328,767,151,https://github.com/galeneca,Release/4.0,192,[],https://github.com/tvheadend/tvheadend/pull/901,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/901#issuecomment-258410150,,@galeneca : STOP DOING THAT !!! YOU ARE TRYING TO PROPOSE INVALID PULL REQUESTS TO THE MAIN TVHEADEND REPOSITORY !!!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,902,2016-11-04T06:36:16Z,2016-11-04T11:28:10Z,2016-11-04T11:28:10Z,CLOSED,False,214,71,12,https://github.com/galeneca,channel: added support for getting icons from underlying services,1,[],https://github.com/tvheadend/tvheadend/pull/902,https://github.com/galeneca,1,https://github.com/tvheadend/tvheadend/pull/902,Also added an initial implementation of picon support.,Also added an initial implementation of picon support.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,903,2016-11-04T06:48:54Z,2016-11-04T11:38:19Z,2016-11-04T11:38:19Z,CLOSED,False,697917,36343,871,https://github.com/galeneca,Merge pull request #1 from seirsandyk/master,4194,[],https://github.com/tvheadend/tvheadend/pull/903,https://github.com/galeneca,1,https://github.com/tvheadend/tvheadend/pull/903,Ivan,Ivan,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,903,2016-11-04T06:48:54Z,2016-11-04T11:38:19Z,2016-11-04T11:38:19Z,CLOSED,False,697917,36343,871,https://github.com/galeneca,Merge pull request #1 from seirsandyk/master,4194,[],https://github.com/tvheadend/tvheadend/pull/903,https://github.com/galeneca,2,https://github.com/tvheadend/tvheadend/pull/903#issuecomment-258360039,Ivan,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,903,2016-11-04T06:48:54Z,2016-11-04T11:38:19Z,2016-11-04T11:38:19Z,CLOSED,False,697917,36343,871,https://github.com/galeneca,Merge pull request #1 from seirsandyk/master,4194,[],https://github.com/tvheadend/tvheadend/pull/903,https://github.com/galeneca,3,https://github.com/tvheadend/tvheadend/pull/903#issuecomment-258360173,Ivan,__,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,903,2016-11-04T06:48:54Z,2016-11-04T11:38:19Z,2016-11-04T11:38:19Z,CLOSED,False,697917,36343,871,https://github.com/galeneca,Merge pull request #1 from seirsandyk/master,4194,[],https://github.com/tvheadend/tvheadend/pull/903,https://github.com/galeneca,4,https://github.com/tvheadend/tvheadend/pull/903#issuecomment-258361922,Ivan,tvheadend-3.4patch1.tar.gz,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,903,2016-11-04T06:48:54Z,2016-11-04T11:38:19Z,2016-11-04T11:38:19Z,CLOSED,False,697917,36343,871,https://github.com/galeneca,Merge pull request #1 from seirsandyk/master,4194,[],https://github.com/tvheadend/tvheadend/pull/903,https://github.com/CvH,5,https://github.com/tvheadend/tvheadend/pull/903#issuecomment-258363540,Ivan,"@galeneca could you pls stop spamming the official tvheadend github repo?
I guess you do something wrong !",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,903,2016-11-04T06:48:54Z,2016-11-04T11:38:19Z,2016-11-04T11:38:19Z,CLOSED,False,697917,36343,871,https://github.com/galeneca,Merge pull request #1 from seirsandyk/master,4194,[],https://github.com/tvheadend/tvheadend/pull/903,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/903#issuecomment-258410107,Ivan,@galeneca : STOP DOING THAT !!! YOU ARE TRYING TO PROPOSE INVALID PULL REQUESTS TO THE MAIN TVHEADEND REPOSITORY !!!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,904,2016-11-04T07:05:31Z,2016-11-04T11:38:01Z,2016-11-04T11:38:01Z,CLOSED,False,697921,36344,871,https://github.com/galeneca,cla@tvheadend.org,4194,[],https://github.com/tvheadend/tvheadend/pull/904,https://github.com/galeneca,1,https://github.com/tvheadend/tvheadend/pull/904,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,904,2016-11-04T07:05:31Z,2016-11-04T11:38:01Z,2016-11-04T11:38:01Z,CLOSED,False,697921,36344,871,https://github.com/galeneca,cla@tvheadend.org,4194,[],https://github.com/tvheadend/tvheadend/pull/904,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/904#issuecomment-258410049,,@galeneca : STOP DOING THAT !!! YOU ARE TRYING TO PROPOSE INVALID PULL REQUESTS TO THE MAIN TVHEADEND REPOSITORY !!!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,905,2016-11-04T09:49:43Z,2016-11-04T11:37:47Z,2016-11-06T05:38:46Z,CLOSED,False,0,0,0,https://github.com/galeneca,Merge pull request #1 from seirsandyk/master,1,[],https://github.com/tvheadend/tvheadend/pull/905,https://github.com/galeneca,1,https://github.com/tvheadend/tvheadend/pull/905,Ivan,Ivan,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,905,2016-11-04T09:49:43Z,2016-11-04T11:37:47Z,2016-11-06T05:38:46Z,CLOSED,False,0,0,0,https://github.com/galeneca,Merge pull request #1 from seirsandyk/master,1,[],https://github.com/tvheadend/tvheadend/pull/905,https://github.com/galeneca,2,https://github.com/tvheadend/tvheadend/pull/905#issuecomment-258385795,Ivan,Ivan,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,905,2016-11-04T09:49:43Z,2016-11-04T11:37:47Z,2016-11-06T05:38:46Z,CLOSED,False,0,0,0,https://github.com/galeneca,Merge pull request #1 from seirsandyk/master,1,[],https://github.com/tvheadend/tvheadend/pull/905,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/905#issuecomment-258410012,Ivan,@galeneca : STOP DOING THAT !!! YOU ARE TRYING TO PROPOSE INVALID PULL REQUESTS TO THE MAIN TVHEADEND REPOSITORY !!!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,906,2016-11-04T12:04:54Z,2016-11-04T12:07:57Z,2016-11-04T12:16:10Z,CLOSED,False,652958,110080,4977,https://github.com/galeneca,Release/4.0,3562,[],https://github.com/tvheadend/tvheadend/pull/906,https://github.com/galeneca,1,https://github.com/tvheadend/tvheadend/pull/906,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,906,2016-11-04T12:04:54Z,2016-11-04T12:07:57Z,2016-11-04T12:16:10Z,CLOSED,False,652958,110080,4977,https://github.com/galeneca,Release/4.0,3562,[],https://github.com/tvheadend/tvheadend/pull/906,https://github.com/ProfYaffle,2,https://github.com/tvheadend/tvheadend/pull/906#issuecomment-258416503,,"@galeneca You've been asked several times now - please stop raising PRs for old code against the main tvheadend tree.
If you're trying to simply bring your local fork up to date, just do a fresh git pull, as I don't see any unique code in your branch (unless it's hiding). Otherwise, can you PLEASE check your source and destination repositories before raising any more pull requests.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,907,2016-11-04T15:19:30Z,2016-12-02T19:46:03Z,2016-12-02T19:46:03Z,CLOSED,False,237,107,8,https://github.com/Glenn-1990,Fixes +  improvements,8,[],https://github.com/tvheadend/tvheadend/pull/907,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/907,"Whats changed/fixed:

HTSP clients can hold old data (epg, channels, tags) while not having acces to it anymore . Sending ""channelDelete"", ""tagDelete"", ""eventDelete"" to all clients (without checking access) should overcome this problem.
Disabling tags and channels does not disable them in htsp clients.
Duplicate detection should honor disabled dvr entries.
Playcount/playposition is implemented in a bit different way than my previous PR. Owner can set and get the position and count. Other users can only get when ""all dvr read"" is enabled. When ""all dvr read/write"" is enabled, other users can also set playcount/position. Feel free to drop this commit if it doesn't fit in the tvheadend structure.
Webui list the wrong filesize when the recording was split up.
Send access right to clients so that they can inform users about limited access and such.
some minors

While the filesize for DVR entries is correct now, there is still an issue. Only the newest file is playable through htsp or downloadable from the webui.
Example:

Start recording ""show A"", filename=""show A.ts""
Interrupt recording with an other higher priority one for a short time (so steal the tuner device from show A)
Recording ""show A"" resumes, filename=""show A-1.ts""
When playing ""show A"" only the second file gets played (htsp and webui)!

@perexg","Whats changed/fixed:

HTSP clients can hold old data (epg, channels, tags) while not having acces to it anymore . Sending ""channelDelete"", ""tagDelete"", ""eventDelete"" to all clients (without checking access) should overcome this problem.
Disabling tags and channels does not disable them in htsp clients.
Duplicate detection should honor disabled dvr entries.
Playcount/playposition is implemented in a bit different way than my previous PR. Owner can set and get the position and count. Other users can only get when ""all dvr read"" is enabled. When ""all dvr read/write"" is enabled, other users can also set playcount/position. Feel free to drop this commit if it doesn't fit in the tvheadend structure.
Webui list the wrong filesize when the recording was split up.
Send access right to clients so that they can inform users about limited access and such.
some minors

While the filesize for DVR entries is correct now, there is still an issue. Only the newest file is playable through htsp or downloadable from the webui.
Example:

Start recording ""show A"", filename=""show A.ts""
Interrupt recording with an other higher priority one for a short time (so steal the tuner device from show A)
Recording ""show A"" resumes, filename=""show A-1.ts""
When playing ""show A"" only the second file gets played (htsp and webui)!

@perexg",True,"{'THUMBS_UP': ['https://github.com/ckarrie', 'https://github.com/ksooo']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,907,2016-11-04T15:19:30Z,2016-12-02T19:46:03Z,2016-12-02T19:46:03Z,CLOSED,False,237,107,8,https://github.com/Glenn-1990,Fixes +  improvements,8,[],https://github.com/tvheadend/tvheadend/pull/907,https://github.com/mpmc,2,https://github.com/tvheadend/tvheadend/pull/907#issuecomment-259792220,"Whats changed/fixed:

HTSP clients can hold old data (epg, channels, tags) while not having acces to it anymore . Sending ""channelDelete"", ""tagDelete"", ""eventDelete"" to all clients (without checking access) should overcome this problem.
Disabling tags and channels does not disable them in htsp clients.
Duplicate detection should honor disabled dvr entries.
Playcount/playposition is implemented in a bit different way than my previous PR. Owner can set and get the position and count. Other users can only get when ""all dvr read"" is enabled. When ""all dvr read/write"" is enabled, other users can also set playcount/position. Feel free to drop this commit if it doesn't fit in the tvheadend structure.
Webui list the wrong filesize when the recording was split up.
Send access right to clients so that they can inform users about limited access and such.
some minors

While the filesize for DVR entries is correct now, there is still an issue. Only the newest file is playable through htsp or downloadable from the webui.
Example:

Start recording ""show A"", filename=""show A.ts""
Interrupt recording with an other higher priority one for a short time (so steal the tuner device from show A)
Recording ""show A"" resumes, filename=""show A-1.ts""
When playing ""show A"" only the second file gets played (htsp and webui)!

@perexg","While the filesize for DVR entries is correct now, there is still an issue. Only the newest file is playable through htsp or downloadable from the webui.

For htsp playback couldn't Tvheadend just play the files back-to-back in order? And for downloads use a dialog that lists all available files for the entry (if there are more than one)?

I really like these changes, especially ""Duplicate detection should honor disabled dvr entries."". Some nice improvements! Keep it up!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,907,2016-11-04T15:19:30Z,2016-12-02T19:46:03Z,2016-12-02T19:46:03Z,CLOSED,False,237,107,8,https://github.com/Glenn-1990,Fixes +  improvements,8,[],https://github.com/tvheadend/tvheadend/pull/907,https://github.com/Glenn-1990,3,https://github.com/tvheadend/tvheadend/pull/907#issuecomment-259817775,"Whats changed/fixed:

HTSP clients can hold old data (epg, channels, tags) while not having acces to it anymore . Sending ""channelDelete"", ""tagDelete"", ""eventDelete"" to all clients (without checking access) should overcome this problem.
Disabling tags and channels does not disable them in htsp clients.
Duplicate detection should honor disabled dvr entries.
Playcount/playposition is implemented in a bit different way than my previous PR. Owner can set and get the position and count. Other users can only get when ""all dvr read"" is enabled. When ""all dvr read/write"" is enabled, other users can also set playcount/position. Feel free to drop this commit if it doesn't fit in the tvheadend structure.
Webui list the wrong filesize when the recording was split up.
Send access right to clients so that they can inform users about limited access and such.
some minors

While the filesize for DVR entries is correct now, there is still an issue. Only the newest file is playable through htsp or downloadable from the webui.
Example:

Start recording ""show A"", filename=""show A.ts""
Interrupt recording with an other higher priority one for a short time (so steal the tuner device from show A)
Recording ""show A"" resumes, filename=""show A-1.ts""
When playing ""show A"" only the second file gets played (htsp and webui)!

@perexg","@mpmc Yes indeed, playing the files in order will be the best solution and it's a bit strange that tvheadend wasn't designed to do so. It's a relative big problem that htsp clients can't play all recorded files when the recording was split up.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,907,2016-11-04T15:19:30Z,2016-12-02T19:46:03Z,2016-12-02T19:46:03Z,CLOSED,False,237,107,8,https://github.com/Glenn-1990,Fixes +  improvements,8,[],https://github.com/tvheadend/tvheadend/pull/907,https://github.com/ksooo,4,https://github.com/tvheadend/tvheadend/pull/907#issuecomment-261729559,"Whats changed/fixed:

HTSP clients can hold old data (epg, channels, tags) while not having acces to it anymore . Sending ""channelDelete"", ""tagDelete"", ""eventDelete"" to all clients (without checking access) should overcome this problem.
Disabling tags and channels does not disable them in htsp clients.
Duplicate detection should honor disabled dvr entries.
Playcount/playposition is implemented in a bit different way than my previous PR. Owner can set and get the position and count. Other users can only get when ""all dvr read"" is enabled. When ""all dvr read/write"" is enabled, other users can also set playcount/position. Feel free to drop this commit if it doesn't fit in the tvheadend structure.
Webui list the wrong filesize when the recording was split up.
Send access right to clients so that they can inform users about limited access and such.
some minors

While the filesize for DVR entries is correct now, there is still an issue. Only the newest file is playable through htsp or downloadable from the webui.
Example:

Start recording ""show A"", filename=""show A.ts""
Interrupt recording with an other higher priority one for a short time (so steal the tuner device from show A)
Recording ""show A"" resumes, filename=""show A-1.ts""
When playing ""show A"" only the second file gets played (htsp and webui)!

@perexg",@Glenn-1990 cool. keep up the good work.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,907,2016-11-04T15:19:30Z,2016-12-02T19:46:03Z,2016-12-02T19:46:03Z,CLOSED,False,237,107,8,https://github.com/Glenn-1990,Fixes +  improvements,8,[],https://github.com/tvheadend/tvheadend/pull/907,https://github.com/ksooo,5,https://github.com/tvheadend/tvheadend/pull/907#issuecomment-262752158,"Whats changed/fixed:

HTSP clients can hold old data (epg, channels, tags) while not having acces to it anymore . Sending ""channelDelete"", ""tagDelete"", ""eventDelete"" to all clients (without checking access) should overcome this problem.
Disabling tags and channels does not disable them in htsp clients.
Duplicate detection should honor disabled dvr entries.
Playcount/playposition is implemented in a bit different way than my previous PR. Owner can set and get the position and count. Other users can only get when ""all dvr read"" is enabled. When ""all dvr read/write"" is enabled, other users can also set playcount/position. Feel free to drop this commit if it doesn't fit in the tvheadend structure.
Webui list the wrong filesize when the recording was split up.
Send access right to clients so that they can inform users about limited access and such.
some minors

While the filesize for DVR entries is correct now, there is still an issue. Only the newest file is playable through htsp or downloadable from the webui.
Example:

Start recording ""show A"", filename=""show A.ts""
Interrupt recording with an other higher priority one for a short time (so steal the tuner device from show A)
Recording ""show A"" resumes, filename=""show A-1.ts""
When playing ""show A"" only the second file gets played (htsp and webui)!

@perexg",@perexg any chance to get your review for this anytime soon?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,907,2016-11-04T15:19:30Z,2016-12-02T19:46:03Z,2016-12-02T19:46:03Z,CLOSED,False,237,107,8,https://github.com/Glenn-1990,Fixes +  improvements,8,[],https://github.com/tvheadend/tvheadend/pull/907,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/907#issuecomment-263218130,"Whats changed/fixed:

HTSP clients can hold old data (epg, channels, tags) while not having acces to it anymore . Sending ""channelDelete"", ""tagDelete"", ""eventDelete"" to all clients (without checking access) should overcome this problem.
Disabling tags and channels does not disable them in htsp clients.
Duplicate detection should honor disabled dvr entries.
Playcount/playposition is implemented in a bit different way than my previous PR. Owner can set and get the position and count. Other users can only get when ""all dvr read"" is enabled. When ""all dvr read/write"" is enabled, other users can also set playcount/position. Feel free to drop this commit if it doesn't fit in the tvheadend structure.
Webui list the wrong filesize when the recording was split up.
Send access right to clients so that they can inform users about limited access and such.
some minors

While the filesize for DVR entries is correct now, there is still an issue. Only the newest file is playable through htsp or downloadable from the webui.
Example:

Start recording ""show A"", filename=""show A.ts""
Interrupt recording with an other higher priority one for a short time (so steal the tuner device from show A)
Recording ""show A"" resumes, filename=""show A-1.ts""
When playing ""show A"" only the second file gets played (htsp and webui)!

@perexg",Merged all except the filesize (commit  27de533). The splitted files should be handled somehow differently.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,908,2016-11-06T03:22:58Z,2016-11-10T13:16:04Z,2016-11-10T13:16:04Z,CLOSED,False,0,0,0,https://github.com/galeneca,Merge pull request #1 from seirsandyk/master,1,[],https://github.com/tvheadend/tvheadend/pull/908,https://github.com/galeneca,1,https://github.com/tvheadend/tvheadend/pull/908,Ivan,Ivan,True,{'THUMBS_DOWN': ['https://github.com/CvH']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,909,2016-11-17T05:46:38Z,2016-11-17T08:11:52Z,2016-11-17T08:11:52Z,CLOSED,False,24,14,1,https://github.com/matthera,Bug #3843,2,[],https://github.com/tvheadend/tvheadend/pull/909,https://github.com/matthera,1,https://github.com/tvheadend/tvheadend/pull/909,"This is a fix for bug #3843.
https://tvheadend.org/issues/3843#change-20135
I think it was a race condition in http_client_unpause. It was being triggered from a timer thread, but it was possible that the httpc thread could reach the pause check in http_client_run0 before hc_pause was reset.
I've tested on my changes on g817f67e (2236) on Fedora 24 ARM 32, and it seems good.","This is a fix for bug #3843.
https://tvheadend.org/issues/3843#change-20135
I think it was a race condition in http_client_unpause. It was being triggered from a timer thread, but it was possible that the httpc thread could reach the pause check in http_client_run0 before hc_pause was reset.
I've tested on my changes on g817f67e (2236) on Fedora 24 ARM 32, and it seems good.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,909,2016-11-17T05:46:38Z,2016-11-17T08:11:52Z,2016-11-17T08:11:52Z,CLOSED,False,24,14,1,https://github.com/matthera,Bug #3843,2,[],https://github.com/tvheadend/tvheadend/pull/909,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/909#issuecomment-261182016,"This is a fix for bug #3843.
https://tvheadend.org/issues/3843#change-20135
I think it was a race condition in http_client_unpause. It was being triggered from a timer thread, but it was possible that the httpc thread could reach the pause check in http_client_run0 before hc_pause was reset.
I've tested on my changes on g817f67e (2236) on Fedora 24 ARM 32, and it seems good.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,910,2016-11-25T20:44:44Z,2016-11-28T09:05:28Z,2016-11-28T09:05:28Z,CLOSED,False,49,49,3,https://github.com/Glenn-1990,Removed recordings tweaks,2,[],https://github.com/tvheadend/tvheadend/pull/910,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/910,"List recordings with missing files as ""removed"", files may be deleted externally with the file manager, are saved on external storage, etc
Keep the old recording status for removed recordings in order to keep recording errors visible.
Moved finished/failed/removed recording check to one central place to prevent inconsistencies.

@perexg","List recordings with missing files as ""removed"", files may be deleted externally with the file manager, are saved on external storage, etc
Keep the old recording status for removed recordings in order to keep recording errors visible.
Moved finished/failed/removed recording check to one central place to prevent inconsistencies.

@perexg",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,910,2016-11-25T20:44:44Z,2016-11-28T09:05:28Z,2016-11-28T09:05:28Z,CLOSED,False,49,49,3,https://github.com/Glenn-1990,Removed recordings tweaks,2,[],https://github.com/tvheadend/tvheadend/pull/910,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/910#issuecomment-263217601,"List recordings with missing files as ""removed"", files may be deleted externally with the file manager, are saved on external storage, etc
Keep the old recording status for removed recordings in order to keep recording errors visible.
Moved finished/failed/removed recording check to one central place to prevent inconsistencies.

@perexg",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,911,2016-11-30T11:09:47Z,2016-11-30T17:19:17Z,2016-11-30T17:19:17Z,CLOSED,False,10,7,1,https://github.com/dave-p,Update dvr_autorec.c,1,[],https://github.com/tvheadend/tvheadend/pull/911,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/911,"This PR is a suggested fix for my #4087
At present, in order for a 'Series Link' event to be recorded, not only must the series CRIDs match, but also the title of the event must (regex) match the title of the first event recorded in the series. This is not always the case, leading to recordings being missed. A current example on UK Freeview is the series ""Who Do You Think You Are?"", where each episode has the name of the 'star' added to the title.
This patch has only been tested on UK Freeview.","This PR is a suggested fix for my #4087
At present, in order for a 'Series Link' event to be recorded, not only must the series CRIDs match, but also the title of the event must (regex) match the title of the first event recorded in the series. This is not always the case, leading to recordings being missed. A current example on UK Freeview is the series ""Who Do You Think You Are?"", where each episode has the name of the 'star' added to the title.
This patch has only been tested on UK Freeview.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,911,2016-11-30T11:09:47Z,2016-11-30T17:19:17Z,2016-11-30T17:19:17Z,CLOSED,False,10,7,1,https://github.com/dave-p,Update dvr_autorec.c,1,[],https://github.com/tvheadend/tvheadend/pull/911,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/911#issuecomment-263880255,"This PR is a suggested fix for my #4087
At present, in order for a 'Series Link' event to be recorded, not only must the series CRIDs match, but also the title of the event must (regex) match the title of the first event recorded in the series. This is not always the case, leading to recordings being missed. A current example on UK Freeview is the series ""Who Do You Think You Are?"", where each episode has the name of the 'star' added to the title.
This patch has only been tested on UK Freeview.",Could you test my fix in b93b557 ? This fix does not skip other checks like the time inverval.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,911,2016-11-30T11:09:47Z,2016-11-30T17:19:17Z,2016-11-30T17:19:17Z,CLOSED,False,10,7,1,https://github.com/dave-p,Update dvr_autorec.c,1,[],https://github.com/tvheadend/tvheadend/pull/911,https://github.com/dave-p,3,https://github.com/tvheadend/tvheadend/pull/911#issuecomment-263935312,"This PR is a suggested fix for my #4087
At present, in order for a 'Series Link' event to be recorded, not only must the series CRIDs match, but also the title of the event must (regex) match the title of the first event recorded in the series. This is not always the case, leading to recordings being missed. A current example on UK Freeview is the series ""Who Do You Think You Are?"", where each episode has the name of the 'star' added to the title.
This patch has only been tested on UK Freeview.","It will be a few days before the next series link with varying titles fires, but I see no problem with your code changes. Many thanks for your help.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,912,2016-12-06T00:15:48Z,2016-12-06T08:08:37Z,2016-12-06T09:19:21Z,CLOSED,False,1,1,1,https://github.com/fedux,Fix m3u parsing for extended  #EXTM3U header,1,[],https://github.com/tvheadend/tvheadend/pull/912,https://github.com/fedux,1,https://github.com/tvheadend/tvheadend/pull/912,"Some .m3u files have extendend parameters. For example:
#EXTM3U url-tvg=""http://xxx/"" m3uautoload=1 cache=500 deinterlace=1
Compare only the first 7 chars to allow this kind of headers.
Fixes iptv: unknown playlist format for network '' when the file is valid.","Some .m3u files have extendend parameters. For example:
#EXTM3U url-tvg=""http://xxx/"" m3uautoload=1 cache=500 deinterlace=1
Compare only the first 7 chars to allow this kind of headers.
Fixes iptv: unknown playlist format for network '' when the file is valid.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,912,2016-12-06T00:15:48Z,2016-12-06T08:08:37Z,2016-12-06T09:19:21Z,CLOSED,False,1,1,1,https://github.com/fedux,Fix m3u parsing for extended  #EXTM3U header,1,[],https://github.com/tvheadend/tvheadend/pull/912,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/912#issuecomment-265086581,"Some .m3u files have extendend parameters. For example:
#EXTM3U url-tvg=""http://xxx/"" m3uautoload=1 cache=500 deinterlace=1
Compare only the first 7 chars to allow this kind of headers.
Fixes iptv: unknown playlist format for network '' when the file is valid.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,913,2016-12-16T15:54:11Z,2016-12-16T17:50:54Z,2016-12-16T17:50:54Z,CLOSED,False,48,18,5,https://github.com/mpmc,"mdhelp: clean up the access doc, update screenshots",2,[],https://github.com/tvheadend/tvheadend/pull/913,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/913,As title :),As title :),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,913,2016-12-16T15:54:11Z,2016-12-16T17:50:54Z,2016-12-16T17:50:54Z,CLOSED,False,48,18,5,https://github.com/mpmc,"mdhelp: clean up the access doc, update screenshots",2,[],https://github.com/tvheadend/tvheadend/pull/913,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/913#issuecomment-267654106,As title :),Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,914,2016-12-17T18:02:39Z,2016-12-20T08:59:43Z,2016-12-20T08:59:43Z,CLOSED,False,1,1,1,https://github.com/dmarion,intl: remove duplicate languages,1,[],https://github.com/tvheadend/tvheadend/pull/914,https://github.com/dmarion,1,https://github.com/tvheadend/tvheadend/pull/914,Signed-off-by: Damjan Marion damjan.marion@gmail.com,Signed-off-by: Damjan Marion damjan.marion@gmail.com,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,914,2016-12-17T18:02:39Z,2016-12-20T08:59:43Z,2016-12-20T08:59:43Z,CLOSED,False,1,1,1,https://github.com/dmarion,intl: remove duplicate languages,1,[],https://github.com/tvheadend/tvheadend/pull/914,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/914#issuecomment-268190055,Signed-off-by: Damjan Marion damjan.marion@gmail.com,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/915,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-268190390,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg",Merged. Thanks. Retention - I don't have any strong opinion about the default value.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/ksooo,3,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-269994576,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","@Glenn-1990 not 100% sure, but could you please check that this PR does not break aborting recordings in progress via htsp? Seems, that recording gets stopped correctly on server, but htsp client gets not notified.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/Glenn-1990,4,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270013425,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","@ksooo tested with ""stop recording"" and ""disable recording"" in both cases the timer vanishes in Kodi, this is correct right?
Do you have some steps to reproduce? Or are you running pvr.hts with htsp v26 support?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/ksooo,5,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270018892,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","@Glenn-1990 start a recording from kodi, stop it from kodi while still recording, it vanishes in tvheadend webui, but not in kodi.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/Glenn-1990,6,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270020376,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg",@ksooo Do you have a debug log from kodi?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/ksooo,7,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270055169,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","Can you reproduce it? Should be easy. No log at hand atm, and I doubt it will really help. I think, the htsp command succeeds, but no timer update is notified to pvr.hts.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/Glenn-1990,8,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270178755,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","@ksooo I'm not able to reproduce...
AddOnLog: Tvheadend HTSP Client: pvr.hts - recording id:1774021302, state:completed
Is it possible that you do not have ""failed dvr"" access enabled? An aborted recording is handled as failed by tvheadend and that would prevent updates when that setting is disabled. Although not related to this PR as the excising ""abort recording"" button in the webui behaves the same.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/ksooo,9,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270200727,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","Is it possible that you do not have ""failed dvr"" access enabled?

Hmm, that did the trick. Honestly, this is a real trap. I never noticed this ""failed view"" access thingy and it was actually switched off (because that's the default I guess). Works now, but can we do better (with the default, for instance)?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/Glenn-1990,10,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270208005,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","@ksooo You probably created the access entry before this was in?
7c89ca0
The default should be ""on"" for new entries now. I'll look into this but it's on low priority as the default is ok now.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/ksooo,11,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270216474,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","You probably created the access entry before this was in?

Yes, I did.

The default should be ""on"" for new entries now. I'll look into this but it's on low priority as the default is ok now.

I guess many people will run into this problem after upgrading tvheadend. Not sure this is really low priority.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/ProfYaffle,12,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270222924,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","Just a comment... I wonder if it's actually something that should be handled by any tvh upgrade routines, then? ""here are some old profiles, here are some new settings, these are the defaults we'd like you to have""?
I don't actually know that there are any upgrade routines, that said, but...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/Glenn-1990,13,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270225120,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","@ksooo @ProfYaffle  It's only a problem for users who created an access entry when the default value was ""false"". Upgrading from older tvheadend versions (before the failed dvr option was implemented) should work properly and set the flag to true.
This issue with htsp and ""failed dvr"" is present since its implementation, but somehow nobody reported this until now :-) But I'll think about a fix ;-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/ProfYaffle,14,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270231016,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","Okay - so upgrade is only an issue for folks on an earlier master version, but stable-to-stable will work. Perhaps worth thinking about what versions have been in OE/LE as probably the biggest ""regular user"" population of pre-release code, though, if that is the case.
I'll vanish again now :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,915,2016-12-18T20:31:23Z,2016-12-20T09:01:25Z,2017-01-03T21:36:05Z,CLOSED,False,72,43,8,https://github.com/Glenn-1990,Small fixes and polishing,6,[],https://github.com/tvheadend/tvheadend/pull/915,https://github.com/ksooo,15,https://github.com/tvheadend/tvheadend/pull/915#issuecomment-270231624,"The major changes:

Removed some restrictions regarding retention.
When setting removal to ""maintain space"" the retention was forced to ""on file removal"".
This means that the database entry will be deleted as soon as the file gets deleted. This can cause an unexpected rerecord by duplicate detection.
The solution is to remove the retention restrictions and postpone it if necessary (when retention < removal).
@perexg Maybe we can set the default retention to some fixed value like ""1 month"" or so?
Disabling an active recording is equal as aborting now, before disabling didn't have any effect.
Duplicate detection should ignore failed recordings (also the deleted ones)
Don't pass unplayable channels to htsp clients

@perexg","Okay - so upgrade is only an issue for folks on an earlier master version, but stable-to-stable will work.

If this is the case, all is fine. Thanks guys. :-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,916,2016-12-22T21:03:07Z,2016-12-25T16:24:44Z,2016-12-25T16:24:44Z,CLOSED,False,1,1,1,https://github.com/enilfodne,Fix for compiling fdk-aac with GCC6,1,[],https://github.com/tvheadend/tvheadend/pull/916,https://github.com/enilfodne,1,https://github.com/tvheadend/tvheadend/pull/916,"As noted in issue 4043, compiling tvheadend with GCC6 fails as the standard defaults to a newer version. The suggested solution, to disable ffmpeg is unfeasible for some setups.
As the original project is rarely updated (noted in mstorsjo/fdk-aac#45), i've implemented a hackish fix until the library is updated.
Feel free to revert/remove this PR, once the library is updated.","As noted in issue 4043, compiling tvheadend with GCC6 fails as the standard defaults to a newer version. The suggested solution, to disable ffmpeg is unfeasible for some setups.
As the original project is rarely updated (noted in mstorsjo/fdk-aac#45), i've implemented a hackish fix until the library is updated.
Feel free to revert/remove this PR, once the library is updated.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,916,2016-12-22T21:03:07Z,2016-12-25T16:24:44Z,2016-12-25T16:24:44Z,CLOSED,False,1,1,1,https://github.com/enilfodne,Fix for compiling fdk-aac with GCC6,1,[],https://github.com/tvheadend/tvheadend/pull/916,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/916#issuecomment-268893624,"As noted in issue 4043, compiling tvheadend with GCC6 fails as the standard defaults to a newer version. The suggested solution, to disable ffmpeg is unfeasible for some setups.
As the original project is rarely updated (noted in mstorsjo/fdk-aac#45), i've implemented a hackish fix until the library is updated.
Feel free to revert/remove this PR, once the library is updated.","we have used this ""hack"" to make it work
the current fdk-aac master from https://github.com/mstorsjo/fdk-aac/ should also work (this is the upstream git for the fdk-aac project)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,916,2016-12-22T21:03:07Z,2016-12-25T16:24:44Z,2016-12-25T16:24:44Z,CLOSED,False,1,1,1,https://github.com/enilfodne,Fix for compiling fdk-aac with GCC6,1,[],https://github.com/tvheadend/tvheadend/pull/916,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/916#issuecomment-269128965,"As noted in issue 4043, compiling tvheadend with GCC6 fails as the standard defaults to a newer version. The suggested solution, to disable ffmpeg is unfeasible for some setups.
As the original project is rarely updated (noted in mstorsjo/fdk-aac#45), i've implemented a hackish fix until the library is updated.
Feel free to revert/remove this PR, once the library is updated.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,917,2016-12-30T23:12:19Z,2016-12-31T14:43:43Z,2017-01-01T13:32:09Z,CLOSED,False,1,1,1,https://github.com/caveman99,Make SAT>IP requests for pids=all work,1,[],https://github.com/tvheadend/tvheadend/pull/917,https://github.com/caveman99,1,https://github.com/tvheadend/tvheadend/pull/917,pids=all would result in only pid 0 being sent. transedit uses this to analyze ts content which is again possible with this patch.,pids=all would result in only pid 0 being sent. transedit uses this to analyze ts content which is again possible with this patch.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,917,2016-12-30T23:12:19Z,2016-12-31T14:43:43Z,2017-01-01T13:32:09Z,CLOSED,False,1,1,1,https://github.com/caveman99,Make SAT>IP requests for pids=all work,1,[],https://github.com/tvheadend/tvheadend/pull/917,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/917#issuecomment-269867916,pids=all would result in only pid 0 being sent. transedit uses this to analyze ts content which is again possible with this patch.,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,918,2017-01-05T23:29:25Z,2017-01-06T09:13:04Z,2017-01-06T09:13:04Z,CLOSED,False,51,41,7,https://github.com/mpmc,mdhelp: additions and some clean up,3,[],https://github.com/tvheadend/tvheadend/pull/918,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/918,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,918,2017-01-05T23:29:25Z,2017-01-06T09:13:04Z,2017-01-06T09:13:04Z,CLOSED,False,51,41,7,https://github.com/mpmc,mdhelp: additions and some clean up,3,[],https://github.com/tvheadend/tvheadend/pull/918,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/918#issuecomment-270862192,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,919,2017-01-13T00:44:25Z,2017-01-13T08:15:54Z,2017-01-13T08:15:54Z,CLOSED,False,1,1,1,https://github.com/ricopt5,Fix weird channel numbers,1,[],https://github.com/tvheadend/tvheadend/pull/919,https://github.com/ricopt5,1,https://github.com/tvheadend/tvheadend/pull/919,"When selecting ""Use service IDs as channel numbers"" in the network settings, the s_dvb_service_id (uint16) multiplied by CHANNEL_SPLIT (int64), would produce a value that would overflow the r variable (int) if the service id is was high enough, causing the result to be weird numbers.","When selecting ""Use service IDs as channel numbers"" in the network settings, the s_dvb_service_id (uint16) multiplied by CHANNEL_SPLIT (int64), would produce a value that would overflow the r variable (int) if the service id is was high enough, causing the result to be weird numbers.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,919,2017-01-13T00:44:25Z,2017-01-13T08:15:54Z,2017-01-13T08:15:54Z,CLOSED,False,1,1,1,https://github.com/ricopt5,Fix weird channel numbers,1,[],https://github.com/tvheadend/tvheadend/pull/919,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/919#issuecomment-272385793,"When selecting ""Use service IDs as channel numbers"" in the network settings, the s_dvb_service_id (uint16) multiplied by CHANNEL_SPLIT (int64), would produce a value that would overflow the r variable (int) if the service id is was high enough, causing the result to be weird numbers.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,920,2017-01-22T16:36:21Z,,2019-10-14T11:31:37Z,OPEN,False,693,177,7,https://github.com/Glenn-1990,Fixes,4,[],https://github.com/tvheadend/tvheadend/pull/920,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/920,"Biggest changes:


Recordings will now be aborted when running out of space, also when the user does not have any ""maintain free space"" recordings.  Without this, tvheadend will keep recording until file writing fails, at this point the OS can become very unstable.


Improved htsp async methods. The add/update/delete methods are very inconsistent due to different access right. Under some circumstances ""update"" was sent instead of ""add"", ""delete"" was sent to clients which never received the ""add"", ""delete"" was never sent due to access right changes,..
This does also fix the issue @ksooo reported: failed dvr access is off -> abort recording -> recording is marked as failed so the user does not have access anymore -> because of no access, ""dvrEntryDelete"" won't be sent to the client -> client thinks it's still recording.


@perexg Do you agree with the solution of keeping a local copy from all added dvrs/tags/channesl/events? In this way we can properly determine when to send add, update or delete.
I also added a fixme as dvr_rec.c calls some htsp functions without global lock, not related to this PR.","Biggest changes:


Recordings will now be aborted when running out of space, also when the user does not have any ""maintain free space"" recordings.  Without this, tvheadend will keep recording until file writing fails, at this point the OS can become very unstable.


Improved htsp async methods. The add/update/delete methods are very inconsistent due to different access right. Under some circumstances ""update"" was sent instead of ""add"", ""delete"" was sent to clients which never received the ""add"", ""delete"" was never sent due to access right changes,..
This does also fix the issue @ksooo reported: failed dvr access is off -> abort recording -> recording is marked as failed so the user does not have access anymore -> because of no access, ""dvrEntryDelete"" won't be sent to the client -> client thinks it's still recording.


@perexg Do you agree with the solution of keeping a local copy from all added dvrs/tags/channesl/events? In this way we can properly determine when to send add, update or delete.
I also added a fixme as dvr_rec.c calls some htsp functions without global lock, not related to this PR.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,920,2017-01-22T16:36:21Z,,2019-10-14T11:31:37Z,OPEN,False,693,177,7,https://github.com/Glenn-1990,Fixes,4,[],https://github.com/tvheadend/tvheadend/pull/920,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/920#issuecomment-278336190,"Biggest changes:


Recordings will now be aborted when running out of space, also when the user does not have any ""maintain free space"" recordings.  Without this, tvheadend will keep recording until file writing fails, at this point the OS can become very unstable.


Improved htsp async methods. The add/update/delete methods are very inconsistent due to different access right. Under some circumstances ""update"" was sent instead of ""add"", ""delete"" was sent to clients which never received the ""add"", ""delete"" was never sent due to access right changes,..
This does also fix the issue @ksooo reported: failed dvr access is off -> abort recording -> recording is marked as failed so the user does not have access anymore -> because of no access, ""dvrEntryDelete"" won't be sent to the client -> client thinks it's still recording.


@perexg Do you agree with the solution of keeping a local copy from all added dvrs/tags/channesl/events? In this way we can properly determine when to send add, update or delete.
I also added a fixme as dvr_rec.c calls some htsp functions without global lock, not related to this PR.",Applied 'dvr: properly abort recordings when running out of free disk space' and 'htsp: pass failed dvr right'. The timer fix is useless and I need to think about the async id filtering more.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,921,2017-01-23T03:23:19Z,2017-02-08T12:38:18Z,2017-02-08T12:38:18Z,CLOSED,False,4,4,1,https://github.com/ricopt5,Implement service_refresh_channel method in service.c,1,[],https://github.com/tvheadend/tvheadend/pull/921,https://github.com/ricopt5,1,https://github.com/tvheadend/tvheadend/pull/921,"Correct me if I'm wrong, but without this, HTSP clients will not get notified of changes to the service from the provider like name, number, etc","Correct me if I'm wrong, but without this, HTSP clients will not get notified of changes to the service from the provider like name, number, etc",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,921,2017-01-23T03:23:19Z,2017-02-08T12:38:18Z,2017-02-08T12:38:18Z,CLOSED,False,4,4,1,https://github.com/ricopt5,Implement service_refresh_channel method in service.c,1,[],https://github.com/tvheadend/tvheadend/pull/921,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/921#issuecomment-278318189,"Correct me if I'm wrong, but without this, HTSP clients will not get notified of changes to the service from the provider like name, number, etc",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,922,2017-01-23T16:21:50Z,2017-02-08T12:37:40Z,2017-02-08T14:46:37Z,CLOSED,False,1,1,1,https://github.com/r15ch13,Allow Authorization Header,1,[],https://github.com/tvheadend/tvheadend/pull/922,https://github.com/r15ch13,1,https://github.com/tvheadend/tvheadend/pull/922,"Allows Authorization Header to be used by XMLHttpRequest.
If the Authorization Header is not allowed, it's not possible to use Basic-Authentication from Javascript requests in the Browser (Ajax).
A Browser will throw this error: XMLHttpRequest cannot load http://tvheadend/. Request header field Authorization is not allowed by Access-Control-Allow-Headers in preflight response.","Allows Authorization Header to be used by XMLHttpRequest.
If the Authorization Header is not allowed, it's not possible to use Basic-Authentication from Javascript requests in the Browser (Ajax).
A Browser will throw this error: XMLHttpRequest cannot load http://tvheadend/. Request header field Authorization is not allowed by Access-Control-Allow-Headers in preflight response.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,922,2017-01-23T16:21:50Z,2017-02-08T12:37:40Z,2017-02-08T14:46:37Z,CLOSED,False,1,1,1,https://github.com/r15ch13,Allow Authorization Header,1,[],https://github.com/tvheadend/tvheadend/pull/922,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/922#issuecomment-278318047,"Allows Authorization Header to be used by XMLHttpRequest.
If the Authorization Header is not allowed, it's not possible to use Basic-Authentication from Javascript requests in the Browser (Ajax).
A Browser will throw this error: XMLHttpRequest cannot load http://tvheadend/. Request header field Authorization is not allowed by Access-Control-Allow-Headers in preflight response.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,923,2017-01-29T16:24:13Z,2017-02-08T13:16:08Z,2017-02-08T13:16:08Z,CLOSED,False,13,6,2,https://github.com/Glenn-1990,Fix crash in DVR thread ,2,[],https://github.com/tvheadend/tvheadend/pull/923,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/923,"Fix crash when recording subscription gets overridden.
`Mutex not held at src/main.c:258

Program received signal SIGABRT, Aborted.
[Switching to Thread 0x7fffd97fa700 (LWP 19941)]
0x00007ffff6265c37 in raise () from /lib/x86_64-linux-gnu/libc.so.6
(gdb) bt full
#0  0x00007ffff6265c37 in raise () from /lib/x86_64-linux-gnu/libc.so.6
No symbol table info available.
#1  0x00007ffff6269028 in abort () from /lib/x86_64-linux-gnu/libc.so.6
No symbol table info available.
#2  0x0000555555679e58 in lock_assert0 (l=0x555555b1cbc0 <global_lock>, file=0x55555578ac78 ""src/main.c"", line=258) at src/tvheadend.h:101
file = 0x55555578ac78 ""src/main.c""
l = 0x555555b1cbc0 <global_lock>
#3  mtimer_arm_abs (mti=0x555555b16c00 <save_timer>, callback=0x55555567b7c0 <idnode_save_trigger_thread_cb>, opaque=0x0, when=41244493167) at src/main.c:258
No locals.
#4  0x000055555567bc6d in idnode_save_queue (self=0x555555d9b840) at src/idnode.c:1153
ise = 0x7fff78001600
#5  0x0000555555680619 in idnode_save_queue (self=) at src/idnode.c:1206
No locals.
#6  idnode_changed (self=) at src/idnode.c:1205
No locals.
#7  0x00005555557013b2 in dvr_thread (aux=) at src/dvr/dvr_rec.c:1450`

Htsp clients get not informed when descrambling is not possible.

@perexg","Fix crash when recording subscription gets overridden.
`Mutex not held at src/main.c:258

Program received signal SIGABRT, Aborted.
[Switching to Thread 0x7fffd97fa700 (LWP 19941)]
0x00007ffff6265c37 in raise () from /lib/x86_64-linux-gnu/libc.so.6
(gdb) bt full
#0  0x00007ffff6265c37 in raise () from /lib/x86_64-linux-gnu/libc.so.6
No symbol table info available.
#1  0x00007ffff6269028 in abort () from /lib/x86_64-linux-gnu/libc.so.6
No symbol table info available.
#2  0x0000555555679e58 in lock_assert0 (l=0x555555b1cbc0 <global_lock>, file=0x55555578ac78 ""src/main.c"", line=258) at src/tvheadend.h:101
file = 0x55555578ac78 ""src/main.c""
l = 0x555555b1cbc0 <global_lock>
#3  mtimer_arm_abs (mti=0x555555b16c00 <save_timer>, callback=0x55555567b7c0 <idnode_save_trigger_thread_cb>, opaque=0x0, when=41244493167) at src/main.c:258
No locals.
#4  0x000055555567bc6d in idnode_save_queue (self=0x555555d9b840) at src/idnode.c:1153
ise = 0x7fff78001600
#5  0x0000555555680619 in idnode_save_queue (self=) at src/idnode.c:1206
No locals.
#6  idnode_changed (self=) at src/idnode.c:1205
No locals.
#7  0x00005555557013b2 in dvr_thread (aux=) at src/dvr/dvr_rec.c:1450`

Htsp clients get not informed when descrambling is not possible.

@perexg",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,923,2017-01-29T16:24:13Z,2017-02-08T13:16:08Z,2017-02-08T13:16:08Z,CLOSED,False,13,6,2,https://github.com/Glenn-1990,Fix crash in DVR thread ,2,[],https://github.com/tvheadend/tvheadend/pull/923,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/923#issuecomment-278325834,"Fix crash when recording subscription gets overridden.
`Mutex not held at src/main.c:258

Program received signal SIGABRT, Aborted.
[Switching to Thread 0x7fffd97fa700 (LWP 19941)]
0x00007ffff6265c37 in raise () from /lib/x86_64-linux-gnu/libc.so.6
(gdb) bt full
#0  0x00007ffff6265c37 in raise () from /lib/x86_64-linux-gnu/libc.so.6
No symbol table info available.
#1  0x00007ffff6269028 in abort () from /lib/x86_64-linux-gnu/libc.so.6
No symbol table info available.
#2  0x0000555555679e58 in lock_assert0 (l=0x555555b1cbc0 <global_lock>, file=0x55555578ac78 ""src/main.c"", line=258) at src/tvheadend.h:101
file = 0x55555578ac78 ""src/main.c""
l = 0x555555b1cbc0 <global_lock>
#3  mtimer_arm_abs (mti=0x555555b16c00 <save_timer>, callback=0x55555567b7c0 <idnode_save_trigger_thread_cb>, opaque=0x0, when=41244493167) at src/main.c:258
No locals.
#4  0x000055555567bc6d in idnode_save_queue (self=0x555555d9b840) at src/idnode.c:1153
ise = 0x7fff78001600
#5  0x0000555555680619 in idnode_save_queue (self=) at src/idnode.c:1206
No locals.
#6  idnode_changed (self=) at src/idnode.c:1205
No locals.
#7  0x00005555557013b2 in dvr_thread (aux=) at src/dvr/dvr_rec.c:1450`

Htsp clients get not informed when descrambling is not possible.

@perexg",Merged the second commit and applied a bit different fix: b3fcc03,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,924,2017-02-08T22:54:15Z,2017-02-15T10:41:16Z,2017-02-15T10:41:16Z,CLOSED,False,18,20,9,https://github.com/mpmc,Help changes,4,[],https://github.com/tvheadend/tvheadend/pull/924,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/924,As title..,As title..,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,924,2017-02-08T22:54:15Z,2017-02-15T10:41:16Z,2017-02-15T10:41:16Z,CLOSED,False,18,20,9,https://github.com/mpmc,Help changes,4,[],https://github.com/tvheadend/tvheadend/pull/924,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/924#issuecomment-279976765,As title..,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,925,2017-02-15T08:00:24Z,2017-02-15T10:40:32Z,2017-02-15T10:40:32Z,CLOSED,False,5,3,3,https://github.com/joeusercz,Make separate log category for EMM messages,1,[],https://github.com/tvheadend/tvheadend/pull/925,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/925,"When tracing descrambler, quite often the provider is sending many EMM messages which end up flooding the trace log. Separating EMM messages allows you to choose whether or not to include them in the log.","When tracing descrambler, quite often the provider is sending many EMM messages which end up flooding the trace log. Separating EMM messages allows you to choose whether or not to include them in the log.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,925,2017-02-15T08:00:24Z,2017-02-15T10:40:32Z,2017-02-15T10:40:32Z,CLOSED,False,5,3,3,https://github.com/joeusercz,Make separate log category for EMM messages,1,[],https://github.com/tvheadend/tvheadend/pull/925,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/925#issuecomment-279976601,"When tracing descrambler, quite often the provider is sending many EMM messages which end up flooding the trace log. Separating EMM messages allows you to choose whether or not to include them in the log.",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,926,2017-02-15T17:25:35Z,2017-04-04T19:49:24Z,2017-04-04T19:59:33Z,CLOSED,False,0,0,1166,https://github.com/CvH,use png optimized images,4,[],https://github.com/tvheadend/tvheadend/pull/926,https://github.com/CvH,1,https://github.com/tvheadend/tvheadend/pull/926,"AUTOBUILD_CONFIGURE_EXTRA=--enable-bundle ./Autobuild.sh -t precise-amd64
19155958 tvheadend_4.1-2435~g6129d04~precise_amd64.deb
12501500 tvheadend_4.1-2439~ga436633~precise_amd64-with-png-commit.deb

saves ~35% (6,5mb) size overall at no real quality loss at the pics
you can use pngquant from os repo or compile yourself from gh
./pngquant --quality=85-90 --speed 1 --ext=.png --force *.png

to optimize these pngs.
@perexg and @mpmc would be nice if this is the new ""default"" because it saves so much size without visible quality drop","AUTOBUILD_CONFIGURE_EXTRA=--enable-bundle ./Autobuild.sh -t precise-amd64
19155958 tvheadend_4.1-2435~g6129d04~precise_amd64.deb
12501500 tvheadend_4.1-2439~ga436633~precise_amd64-with-png-commit.deb

saves ~35% (6,5mb) size overall at no real quality loss at the pics
you can use pngquant from os repo or compile yourself from gh
./pngquant --quality=85-90 --speed 1 --ext=.png --force *.png

to optimize these pngs.
@perexg and @mpmc would be nice if this is the new ""default"" because it saves so much size without visible quality drop",True,"{'THUMBS_UP': ['https://github.com/Saentist', 'https://github.com/Trujulu']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,926,2017-02-15T17:25:35Z,2017-04-04T19:49:24Z,2017-04-04T19:59:33Z,CLOSED,False,0,0,1166,https://github.com/CvH,use png optimized images,4,[],https://github.com/tvheadend/tvheadend/pull/926,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/926#issuecomment-286729161,"AUTOBUILD_CONFIGURE_EXTRA=--enable-bundle ./Autobuild.sh -t precise-amd64
19155958 tvheadend_4.1-2435~g6129d04~precise_amd64.deb
12501500 tvheadend_4.1-2439~ga436633~precise_amd64-with-png-commit.deb

saves ~35% (6,5mb) size overall at no real quality loss at the pics
you can use pngquant from os repo or compile yourself from gh
./pngquant --quality=85-90 --speed 1 --ext=.png --force *.png

to optimize these pngs.
@perexg and @mpmc would be nice if this is the new ""default"" because it saves so much size without visible quality drop",rebased,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,926,2017-02-15T17:25:35Z,2017-04-04T19:49:24Z,2017-04-04T19:59:33Z,CLOSED,False,0,0,1166,https://github.com/CvH,use png optimized images,4,[],https://github.com/tvheadend/tvheadend/pull/926,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/926#issuecomment-291612042,"AUTOBUILD_CONFIGURE_EXTRA=--enable-bundle ./Autobuild.sh -t precise-amd64
19155958 tvheadend_4.1-2435~g6129d04~precise_amd64.deb
12501500 tvheadend_4.1-2439~ga436633~precise_amd64-with-png-commit.deb

saves ~35% (6,5mb) size overall at no real quality loss at the pics
you can use pngquant from os repo or compile yourself from gh
./pngquant --quality=85-90 --speed 1 --ext=.png --force *.png

to optimize these pngs.
@perexg and @mpmc would be nice if this is the new ""default"" because it saves so much size without visible quality drop","I don't like this solution, but I added on-the-fly png optimizations for the bundle builds in v4.1-2506-g8bf3932 - 8bf3932 . It's few lines of code :-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,926,2017-02-15T17:25:35Z,2017-04-04T19:49:24Z,2017-04-04T19:59:33Z,CLOSED,False,0,0,1166,https://github.com/CvH,use png optimized images,4,[],https://github.com/tvheadend/tvheadend/pull/926,https://github.com/CvH,4,https://github.com/tvheadend/tvheadend/pull/926#issuecomment-291614649,"AUTOBUILD_CONFIGURE_EXTRA=--enable-bundle ./Autobuild.sh -t precise-amd64
19155958 tvheadend_4.1-2435~g6129d04~precise_amd64.deb
12501500 tvheadend_4.1-2439~ga436633~precise_amd64-with-png-commit.deb

saves ~35% (6,5mb) size overall at no real quality loss at the pics
you can use pngquant from os repo or compile yourself from gh
./pngquant --quality=85-90 --speed 1 --ext=.png --force *.png

to optimize these pngs.
@perexg and @mpmc would be nice if this is the new ""default"" because it saves so much size without visible quality drop",@perexg an even better solution :) 👍,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,927,2017-02-16T13:26:29Z,2017-03-27T15:49:57Z,2017-03-27T16:00:18Z,CLOSED,False,4,2,3,https://github.com/mpmc,Various little fixes.,3,[],https://github.com/tvheadend/tvheadend/pull/927,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/927,"I noticed that the ""Basic"" streaming and DVR options weren't set when creating users via the wizard setup. This commit adds those options as default.
Edit: Additional fixes.. I noticed some browsers will try and login using cached details sometimes causing a login loop when clicking the ""Default Login"" link, replacing it with /logout should hopefully prevent this.","I noticed that the ""Basic"" streaming and DVR options weren't set when creating users via the wizard setup. This commit adds those options as default.
Edit: Additional fixes.. I noticed some browsers will try and login using cached details sometimes causing a login loop when clicking the ""Default Login"" link, replacing it with /logout should hopefully prevent this.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,927,2017-02-16T13:26:29Z,2017-03-27T15:49:57Z,2017-03-27T16:00:18Z,CLOSED,False,4,2,3,https://github.com/mpmc,Various little fixes.,3,[],https://github.com/tvheadend/tvheadend/pull/927,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/927#issuecomment-289496110,"I noticed that the ""Basic"" streaming and DVR options weren't set when creating users via the wizard setup. This commit adds those options as default.
Edit: Additional fixes.. I noticed some browsers will try and login using cached details sometimes causing a login loop when clicking the ""Default Login"" link, replacing it with /logout should hopefully prevent this.",The permissions fix was not correct. I tried to fix this in b86ac23 . Applied the other two commits. Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,927,2017-02-16T13:26:29Z,2017-03-27T15:49:57Z,2017-03-27T16:00:18Z,CLOSED,False,4,2,3,https://github.com/mpmc,Various little fixes.,3,[],https://github.com/tvheadend/tvheadend/pull/927,https://github.com/mpmc,3,https://github.com/tvheadend/tvheadend/pull/927#issuecomment-289498821,"I noticed that the ""Basic"" streaming and DVR options weren't set when creating users via the wizard setup. This commit adds those options as default.
Edit: Additional fixes.. I noticed some browsers will try and login using cached details sometimes causing a login loop when clicking the ""Default Login"" link, replacing it with /logout should hopefully prevent this.","I had a feeling it wasn't right, but it seemed to work when I tried it, but hey-ho I'm no C developer (and it shows! 🤣 ). I really appreciate you fixing it and letting me know that I goofed!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,928,2017-02-19T10:25:47Z,,2019-10-14T11:31:36Z,OPEN,False,7,4,2,https://github.com/Glenn-1990,"Timeshift broken on stream restart, issue #4096",1,[],https://github.com/tvheadend/tvheadend/pull/928,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/928,"When a subscription gets overridden (and possible in other ""stop"" cases too), the timeshift reader and writer threads gets closed. The subscription stays running in idle state, but when it resumes (free tuner for example), timeshift won't be restarted.
This causes 2 problems:

subscription hangs and never resumes on the client after an subscription override (or other stop code), even if it is ""running"" according to the tvheadend status tab.
""sm_code"" messages not sent to clients when SMT_NOSTART is issued. So the user is left in the dark why playback stopped.

Related to:
https://tvheadend.org/issues/4096#change-20566
@perexg I'm not sure if this is a ""correct"" fix, please give your opinion","When a subscription gets overridden (and possible in other ""stop"" cases too), the timeshift reader and writer threads gets closed. The subscription stays running in idle state, but when it resumes (free tuner for example), timeshift won't be restarted.
This causes 2 problems:

subscription hangs and never resumes on the client after an subscription override (or other stop code), even if it is ""running"" according to the tvheadend status tab.
""sm_code"" messages not sent to clients when SMT_NOSTART is issued. So the user is left in the dark why playback stopped.

Related to:
https://tvheadend.org/issues/4096#change-20566
@perexg I'm not sure if this is a ""correct"" fix, please give your opinion",True,{'THUMBS_UP': ['https://github.com/rkkoszewski']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,928,2017-02-19T10:25:47Z,,2019-10-14T11:31:36Z,OPEN,False,7,4,2,https://github.com/Glenn-1990,"Timeshift broken on stream restart, issue #4096",1,[],https://github.com/tvheadend/tvheadend/pull/928,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/928#issuecomment-281023589,"When a subscription gets overridden (and possible in other ""stop"" cases too), the timeshift reader and writer threads gets closed. The subscription stays running in idle state, but when it resumes (free tuner for example), timeshift won't be restarted.
This causes 2 problems:

subscription hangs and never resumes on the client after an subscription override (or other stop code), even if it is ""running"" according to the tvheadend status tab.
""sm_code"" messages not sent to clients when SMT_NOSTART is issued. So the user is left in the dark why playback stopped.

Related to:
https://tvheadend.org/issues/4096#change-20566
@perexg I'm not sure if this is a ""correct"" fix, please give your opinion","The buffers (all previous data) must be removed in this case, otherwise the PTS timing will break.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,928,2017-02-19T10:25:47Z,,2019-10-14T11:31:36Z,OPEN,False,7,4,2,https://github.com/Glenn-1990,"Timeshift broken on stream restart, issue #4096",1,[],https://github.com/tvheadend/tvheadend/pull/928,https://github.com/Glenn-1990,3,https://github.com/tvheadend/tvheadend/pull/928#issuecomment-281167329,"When a subscription gets overridden (and possible in other ""stop"" cases too), the timeshift reader and writer threads gets closed. The subscription stays running in idle state, but when it resumes (free tuner for example), timeshift won't be restarted.
This causes 2 problems:

subscription hangs and never resumes on the client after an subscription override (or other stop code), even if it is ""running"" according to the tvheadend status tab.
""sm_code"" messages not sent to clients when SMT_NOSTART is issued. So the user is left in the dark why playback stopped.

Related to:
https://tvheadend.org/issues/4096#change-20566
@perexg I'm not sure if this is a ""correct"" fix, please give your opinion",But this means that we won't be able to skip over the gaps in the timeshift buffer?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,928,2017-02-19T10:25:47Z,,2019-10-14T11:31:36Z,OPEN,False,7,4,2,https://github.com/Glenn-1990,"Timeshift broken on stream restart, issue #4096",1,[],https://github.com/tvheadend/tvheadend/pull/928,https://github.com/Saentist,4,https://github.com/tvheadend/tvheadend/pull/928#issuecomment-312712175,"When a subscription gets overridden (and possible in other ""stop"" cases too), the timeshift reader and writer threads gets closed. The subscription stays running in idle state, but when it resumes (free tuner for example), timeshift won't be restarted.
This causes 2 problems:

subscription hangs and never resumes on the client after an subscription override (or other stop code), even if it is ""running"" according to the tvheadend status tab.
""sm_code"" messages not sent to clients when SMT_NOSTART is issued. So the user is left in the dark why playback stopped.

Related to:
https://tvheadend.org/issues/4096#change-20566
@perexg I'm not sure if this is a ""correct"" fix, please give your opinion","Its more good to be added timer ""zero clients live time""
where if client X disconnect from stream and same client X isnt change channel to have Y time to reuse stream and time shift, else timeshift buffer to be destroyed .",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,928,2017-02-19T10:25:47Z,,2019-10-14T11:31:36Z,OPEN,False,7,4,2,https://github.com/Glenn-1990,"Timeshift broken on stream restart, issue #4096",1,[],https://github.com/tvheadend/tvheadend/pull/928,https://github.com/ljalves,5,https://github.com/tvheadend/tvheadend/pull/928#issuecomment-529158002,"When a subscription gets overridden (and possible in other ""stop"" cases too), the timeshift reader and writer threads gets closed. The subscription stays running in idle state, but when it resumes (free tuner for example), timeshift won't be restarted.
This causes 2 problems:

subscription hangs and never resumes on the client after an subscription override (or other stop code), even if it is ""running"" according to the tvheadend status tab.
""sm_code"" messages not sent to clients when SMT_NOSTART is issued. So the user is left in the dark why playback stopped.

Related to:
https://tvheadend.org/issues/4096#change-20566
@perexg I'm not sure if this is a ""correct"" fix, please give your opinion","@perexg
""...otherwise the PTS timing will break.""
Doesn't that already happens when a scrambled channel fails to decode for a couple of seconds and continue to decode later on?
I believe most players can recover from a PTS discontinuity and resume playback, right?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,929,2017-02-24T15:01:21Z,2017-02-24T19:25:38Z,2017-02-24T19:25:38Z,CLOSED,False,11,6,1,https://github.com/mpmc,mdhelp: tweak timeshift property descriptions,1,[],https://github.com/tvheadend/tvheadend/pull/929,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/929,As title.,As title.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,929,2017-02-24T15:01:21Z,2017-02-24T19:25:38Z,2017-02-24T19:25:38Z,CLOSED,False,11,6,1,https://github.com/mpmc,mdhelp: tweak timeshift property descriptions,1,[],https://github.com/tvheadend/tvheadend/pull/929,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/929#issuecomment-282381393,As title.,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,930,2017-03-02T12:50:19Z,2017-03-08T13:54:15Z,2017-03-08T13:54:15Z,CLOSED,False,6,5,1,https://github.com/joeusercz,Append adapter number (An) to adapter name,1,[],https://github.com/tvheadend/tvheadend/pull/930,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/930,"When people have more than one identical adapter installed, it is sometimes hard to tell which adapter is being referenced in the logs. Especially if they assign the same network to both adapters (Dual LNB, etc...)","When people have more than one identical adapter installed, it is sometimes hard to tell which adapter is being referenced in the logs. Especially if they assign the same network to both adapters (Dual LNB, etc...)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,930,2017-03-02T12:50:19Z,2017-03-08T13:54:15Z,2017-03-08T13:54:15Z,CLOSED,False,6,5,1,https://github.com/joeusercz,Append adapter number (An) to adapter name,1,[],https://github.com/tvheadend/tvheadend/pull/930,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/930#issuecomment-285046086,"When people have more than one identical adapter installed, it is sometimes hard to tell which adapter is being referenced in the logs. Especially if they assign the same network to both adapters (Dual LNB, etc...)",Merged. Thanks.  Following cosmetic changes are in 82cfcc7 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,931,2017-03-06T20:33:54Z,2017-03-06T20:38:41Z,2017-03-06T20:38:41Z,CLOSED,False,6,6,1,https://github.com/Trujulu,Update ffmpeg & x265 & x264,1,[],https://github.com/tvheadend/tvheadend/pull/931,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/931,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,932,2017-03-06T20:39:37Z,2017-03-08T13:54:43Z,2017-03-08T13:54:43Z,CLOSED,False,2,2,1,https://github.com/Trujulu,Update ffmpeg,1,[],https://github.com/tvheadend/tvheadend/pull/932,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/932,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,932,2017-03-06T20:39:37Z,2017-03-08T13:54:43Z,2017-03-08T13:54:43Z,CLOSED,False,2,2,1,https://github.com/Trujulu,Update ffmpeg,1,[],https://github.com/tvheadend/tvheadend/pull/932,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/932#issuecomment-285046183,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,933,2017-03-13T12:56:37Z,2017-03-13T13:37:29Z,2017-03-13T13:37:29Z,CLOSED,False,70,25,9,https://github.com/mpmc,Mdhelp / Offsets,2,[],https://github.com/tvheadend/tvheadend/pull/933,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/933,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,933,2017-03-13T12:56:37Z,2017-03-13T13:37:29Z,2017-03-13T13:37:29Z,CLOSED,False,70,25,9,https://github.com/mpmc,Mdhelp / Offsets,2,[],https://github.com/tvheadend/tvheadend/pull/933,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/933#issuecomment-286108712,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,934,2017-03-14T18:36:00Z,2017-11-29T19:56:47Z,2017-11-29T19:56:47Z,CLOSED,False,298,5,9,https://github.com/mgriesslehner,macOS compatibility modifications,3,[],https://github.com/tvheadend/tvheadend/pull/934,https://github.com/mgriesslehner,1,https://github.com/tvheadend/tvheadend/pull/934,"As discussed in #4279 i will share my workaround to compile tvheadend on macOS with you. The timing_mach.c and timing_mach.h i have downloaded from another github project ""PosixMachTiming "" from ""ChisholmKyle "" (https://github.com/ChisholmKyle/PosixMachTiming).","As discussed in #4279 i will share my workaround to compile tvheadend on macOS with you. The timing_mach.c and timing_mach.h i have downloaded from another github project ""PosixMachTiming "" from ""ChisholmKyle "" (https://github.com/ChisholmKyle/PosixMachTiming).",True,{'THUMBS_UP': ['https://github.com/martimarkov']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,934,2017-03-14T18:36:00Z,2017-11-29T19:56:47Z,2017-11-29T19:56:47Z,CLOSED,False,298,5,9,https://github.com/mgriesslehner,macOS compatibility modifications,3,[],https://github.com/tvheadend/tvheadend/pull/934,https://github.com/vicegold,2,https://github.com/tvheadend/tvheadend/pull/934#issuecomment-307562287,"As discussed in #4279 i will share my workaround to compile tvheadend on macOS with you. The timing_mach.c and timing_mach.h i have downloaded from another github project ""PosixMachTiming "" from ""ChisholmKyle "" (https://github.com/ChisholmKyle/PosixMachTiming).","@mgriesslehner Could you provide a compiled build? I can't compile it on macOS, even with your changes.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,934,2017-03-14T18:36:00Z,2017-11-29T19:56:47Z,2017-11-29T19:56:47Z,CLOSED,False,298,5,9,https://github.com/mgriesslehner,macOS compatibility modifications,3,[],https://github.com/tvheadend/tvheadend/pull/934,https://github.com/Trujulu,3,https://github.com/tvheadend/tvheadend/pull/934#issuecomment-307562473,"As discussed in #4279 i will share my workaround to compile tvheadend on macOS with you. The timing_mach.c and timing_mach.h i have downloaded from another github project ""PosixMachTiming "" from ""ChisholmKyle "" (https://github.com/ChisholmKyle/PosixMachTiming).","As @perexg told me, these commits has something wrong...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,934,2017-03-14T18:36:00Z,2017-11-29T19:56:47Z,2017-11-29T19:56:47Z,CLOSED,False,298,5,9,https://github.com/mgriesslehner,macOS compatibility modifications,3,[],https://github.com/tvheadend/tvheadend/pull/934,https://github.com/mgriesslehner,4,https://github.com/tvheadend/tvheadend/pull/934#issuecomment-307569083,"As discussed in #4279 i will share my workaround to compile tvheadend on macOS with you. The timing_mach.c and timing_mach.h i have downloaded from another github project ""PosixMachTiming "" from ""ChisholmKyle "" (https://github.com/ChisholmKyle/PosixMachTiming).","Dear Laurids,

it Is nice to hear that anyone else is interesting to run tvheadend on macOS. Unfortunately I cannot provide any binaries, but perhaps I can help if you are able to share some details about the error with me.
About three months ago i have canceled my attempts to get running tvheadend on macOS, because I was not able to fix the architecture-error while compiling: https://tvheadend.org/issues/4284 <https://tvheadend.org/issues/4284>.

Nice greetings from Austria,
Markus
…
 Am 10.06.2017 um 14:29 schrieb Laurids Düllmann ***@***.***>:

 @mgriesslehner <https://github.com/mgriesslehner> Could you provide a compiled build? I can't compile it on macOS, even with your changes.

 —
 You are receiving this because you were mentioned.
 Reply to this email directly, view it on GitHub <#934 (comment)>, or mute the thread <https://github.com/notifications/unsubscribe-auth/APCuDqUloDhge4Eow_lFf-h9xj9bCh8Dks5sCowMgaJpZM4Mc_Fi>.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,934,2017-03-14T18:36:00Z,2017-11-29T19:56:47Z,2017-11-29T19:56:47Z,CLOSED,False,298,5,9,https://github.com/mgriesslehner,macOS compatibility modifications,3,[],https://github.com/tvheadend/tvheadend/pull/934,https://github.com/chris299,5,https://github.com/tvheadend/tvheadend/pull/934#issuecomment-342009176,"As discussed in #4279 i will share my workaround to compile tvheadend on macOS with you. The timing_mach.c and timing_mach.h i have downloaded from another github project ""PosixMachTiming "" from ""ChisholmKyle "" (https://github.com/ChisholmKyle/PosixMachTiming).","@mgriesslehner did you get it to work? I would be interessted in your solution...
kind regards from Germany
Christoph",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,934,2017-03-14T18:36:00Z,2017-11-29T19:56:47Z,2017-11-29T19:56:47Z,CLOSED,False,298,5,9,https://github.com/mgriesslehner,macOS compatibility modifications,3,[],https://github.com/tvheadend/tvheadend/pull/934,https://github.com/Vaoske,6,https://github.com/tvheadend/tvheadend/pull/934#issuecomment-342010486,"As discussed in #4279 i will share my workaround to compile tvheadend on macOS with you. The timing_mach.c and timing_mach.h i have downloaded from another github project ""PosixMachTiming "" from ""ChisholmKyle "" (https://github.com/ChisholmKyle/PosixMachTiming).","Hi Christoph,

I takes al lot of time, but no results. I ‘m now using dvblink with OSCAM and MDJAPI plugins (http://forum.dvblogic.com/viewtopic.php?f=56&t=31946 <http://forum.dvblogic.com/viewtopic.php?f=56&t=31946>) which works great!

Greets from The Netherlands,

Remko Faes
…
 Op 5 nov. 2017, om 22:57 heeft Christoph Winkler ***@***.***> het volgende geschreven:

 @mgriesslehner <https://github.com/mgriesslehner> did you get it to work? I would be interessted in your solution...

 kind regards from Germany
 Christoph

 —
 You are receiving this because you are subscribed to this thread.
 Reply to this email directly, view it on GitHub <#934 (comment)>, or mute the thread <https://github.com/notifications/unsubscribe-auth/Ab9N96A7U8QEPyNarPdY8yOM23m31QLRks5szi9XgaJpZM4Mc_Fi>.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,934,2017-03-14T18:36:00Z,2017-11-29T19:56:47Z,2017-11-29T19:56:47Z,CLOSED,False,298,5,9,https://github.com/mgriesslehner,macOS compatibility modifications,3,[],https://github.com/tvheadend/tvheadend/pull/934,https://github.com/perexg,7,https://github.com/tvheadend/tvheadend/pull/934#issuecomment-347977596,"As discussed in #4279 i will share my workaround to compile tvheadend on macOS with you. The timing_mach.c and timing_mach.h i have downloaded from another github project ""PosixMachTiming "" from ""ChisholmKyle "" (https://github.com/ChisholmKyle/PosixMachTiming).",I merged more complete solution: #1043 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,935,2017-03-16T11:42:34Z,2017-04-04T13:44:07Z,2021-04-05T12:09:45Z,CLOSED,False,88,0,5,https://github.com/ap-satip,enable PROXY protocol and X-Forwarded-For,1,[],https://github.com/tvheadend/tvheadend/pull/935,https://github.com/ap-satip,1,https://github.com/tvheadend/tvheadend/pull/935,"As discussed in #4247
http://www.tvheadend.org/issues/4247
This supersedes Pull request #640
http://github.com/tvheadend/tvheadend/pull/640","As discussed in #4247
http://www.tvheadend.org/issues/4247
This supersedes Pull request #640
http://github.com/tvheadend/tvheadend/pull/640",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,935,2017-03-16T11:42:34Z,2017-04-04T13:44:07Z,2021-04-05T12:09:45Z,CLOSED,False,88,0,5,https://github.com/ap-satip,enable PROXY protocol and X-Forwarded-For,1,[],https://github.com/tvheadend/tvheadend/pull/935,https://github.com/ap-satip,2,https://github.com/tvheadend/tvheadend/pull/935#issuecomment-287289786,"As discussed in #4247
http://www.tvheadend.org/issues/4247
This supersedes Pull request #640
http://github.com/tvheadend/tvheadend/pull/640","Hi @perexg ,
Please, can you accept the PR and then include your suggestions?
We fully agree with your comments, but we like to focus in other issues/functions.
As you know your code very well, it will be easy to adapt it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,935,2017-03-16T11:42:34Z,2017-04-04T13:44:07Z,2021-04-05T12:09:45Z,CLOSED,False,88,0,5,https://github.com/ap-satip,enable PROXY protocol and X-Forwarded-For,1,[],https://github.com/tvheadend/tvheadend/pull/935,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/935#issuecomment-291503798,"As discussed in #4247
http://www.tvheadend.org/issues/4247
This supersedes Pull request #640
http://github.com/tvheadend/tvheadend/pull/640",Merged with heavy modifications. 366b0dd c2ec95c,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,935,2017-03-16T11:42:34Z,2017-04-04T13:44:07Z,2021-04-05T12:09:45Z,CLOSED,False,88,0,5,https://github.com/ap-satip,enable PROXY protocol and X-Forwarded-For,1,[],https://github.com/tvheadend/tvheadend/pull/935,https://github.com/ap-satip,4,https://github.com/tvheadend/tvheadend/pull/935#issuecomment-291510746,"As discussed in #4247
http://www.tvheadend.org/issues/4247
This supersedes Pull request #640
http://github.com/tvheadend/tvheadend/pull/640","Tahnk you!
We will check it. If something is wrong, then we will open a ticket.
From my point of view, all modifications are fine... the new implementation also supports IPv6.
Great!
Regards.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,935,2017-03-16T11:42:34Z,2017-04-04T13:44:07Z,2021-04-05T12:09:45Z,CLOSED,False,88,0,5,https://github.com/ap-satip,enable PROXY protocol and X-Forwarded-For,1,[],https://github.com/tvheadend/tvheadend/pull/935,https://github.com/sly-net,5,https://github.com/tvheadend/tvheadend/pull/935#issuecomment-813362444,"As discussed in #4247
http://www.tvheadend.org/issues/4247
This supersedes Pull request #640
http://github.com/tvheadend/tvheadend/pull/640","Hello,
I'm sorry to write this here but I was unable to create an account on tvheadend.org to submit the following issue (never received the validation email, even after checking spams).
I just wanted to report the following issue: 9154ea3#commitcomment-49111889",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,936,2017-03-17T21:06:30Z,2017-04-24T19:29:35Z,2017-04-24T19:29:35Z,CLOSED,False,6,15,5,https://github.com/m4tt075,PPC Compilation Fixes,2,[],https://github.com/tvheadend/tvheadend/pull/936,https://github.com/m4tt075,1,https://github.com/tvheadend/tvheadend/pull/936,"This PR fixes compilation issues for PowerPC platforms for the Synocommunity spksrc cross-compilation framework.
Three kind of problems have been identified and are tackled in separate commits. The changes might break compilation of other platforms though, so please review carefully.","This PR fixes compilation issues for PowerPC platforms for the Synocommunity spksrc cross-compilation framework.
Three kind of problems have been identified and are tackled in separate commits. The changes might break compilation of other platforms though, so please review carefully.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,936,2017-03-17T21:06:30Z,2017-04-24T19:29:35Z,2017-04-24T19:29:35Z,CLOSED,False,6,15,5,https://github.com/m4tt075,PPC Compilation Fixes,2,[],https://github.com/tvheadend/tvheadend/pull/936,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/936#issuecomment-291824740,"This PR fixes compilation issues for PowerPC platforms for the Synocommunity spksrc cross-compilation framework.
Three kind of problems have been identified and are tackled in separate commits. The changes might break compilation of other platforms though, so please review carefully.",Could you test latest - ef1d24e ?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,936,2017-03-17T21:06:30Z,2017-04-24T19:29:35Z,2017-04-24T19:29:35Z,CLOSED,False,6,15,5,https://github.com/m4tt075,PPC Compilation Fixes,2,[],https://github.com/tvheadend/tvheadend/pull/936,https://github.com/m4tt075,3,https://github.com/tvheadend/tvheadend/pull/936#issuecomment-291955860,"This PR fixes compilation issues for PowerPC platforms for the Synocommunity spksrc cross-compilation framework.
Three kind of problems have been identified and are tackled in separate commits. The changes might break compilation of other platforms though, so please review carefully.","Thanks, Jaroslav. Tested. PPC compilation fails with the ""include sequencing"" errors, i.e. here:

CC              src/tcp.o
src/tcp.c: In function 'socket_set_dscp':
src/tcp.c:63: error: 'IPTOS_DSCP_MASK' undeclared (first use in this function)
src/tcp.c:63: error: (Each undeclared identifier is reported only once
src/tcp.c:63: error: for each function it appears in.)
Makefile:628: recipe for target '/home/me/builds/spksrc/spk/tvheadend/work-qoriq-5.2/tvheadend-master/build.linux/src/tcp.o' failed
make[3]: *** [/home/me/builds/spksrc/spk/tvheadend/work-qoriq-5.2/tvheadend-master/build.linux/src/tcp.o] Error 1
make[3]: Leaving directory '/home/me/builds/spksrc/spk/tvheadend/work-qoriq-5.2/tvheadend-master'
../../mk/spksrc.compile.mk:36: recipe for target 'compile_target' failed
make[2]: *** [compile_target] Error 2
make[2]: Leaving directory '/home/me/builds/spksrc/cross/tvheadend'
../../mk/spksrc.depend.mk:44: recipe for target 'depend_target' failed
make[1]: *** [depend_target] Error 2
make[1]: Leaving directory '/home/me/builds/spksrc/spk/tvheadend'
../../mk/spksrc.spk.mk:418: recipe for target 'arch-qoriq-5.2' failed
make: [arch-qoriq-5.2] Error 2 (ignored)

...and analogously again with config.c. I have no clue why the sequence matters. If this is an issue with the spksrc cross-compilation framework, please don't worry and I will patch it out downstream.
Fixing those (like before), I get the llabs error again:

CC              src/dvr/dvr_db.o
cc1: warnings being treated as errors
src/dvr/dvr_db.c: In function 'dvr_entry_fuzzy_match':
src/dvr/dvr_db.c:840: error: implicit declaration of function 'llabs'
src/dvr/dvr_db.c:840: error: incompatible implicit declaration of built-in function 'llabs'
Makefile:628: recipe for target '/home/me/builds/spksrc/spk/tvheadend/work-qoriq-5.2/tvheadend-master/build.linux/src/dvr/dvr_db.o' failed
make[3]: *** [/home/me/builds/spksrc/spk/tvheadend/work-qoriq-5.2/tvheadend-master/build.linux/src/dvr/dvr_db.o] Error 1
make[3]: Leaving directory '/home/me/builds/spksrc/spk/tvheadend/work-qoriq-5.2/tvheadend-master'
../../mk/spksrc.compile.mk:36: recipe for target 'compile_target' failed
make[2]: *** [compile_target] Error 2
make[2]: Leaving directory '/home/me/builds/spksrc/cross/tvheadend'
../../mk/spksrc.depend.mk:44: recipe for target 'depend_target' failed
make[1]: *** [depend_target] Error 2
make[1]: Leaving directory '/home/me/builds/spksrc/spk/tvheadend'
../../mk/spksrc.spk.mk:418: recipe for target 'arch-qoriq-5.2' failed
make: [arch-qoriq-5.2] Error 2 (ignored)

Fixing that (as before) I encounter the next error in rtp.c, because the #define COMPAT_IPTOS and
#include ""compat.h""lines are missing there.
However, the inotify and epoll issues are solved now!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,936,2017-03-17T21:06:30Z,2017-04-24T19:29:35Z,2017-04-24T19:29:35Z,CLOSED,False,6,15,5,https://github.com/m4tt075,PPC Compilation Fixes,2,[],https://github.com/tvheadend/tvheadend/pull/936,https://github.com/m4tt075,4,https://github.com/tvheadend/tvheadend/pull/936#issuecomment-292734361,"This PR fixes compilation issues for PowerPC platforms for the Synocommunity spksrc cross-compilation framework.
Three kind of problems have been identified and are tackled in separate commits. The changes might break compilation of other platforms though, so please review carefully.",Rebased and obsolete commit removed...,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,936,2017-03-17T21:06:30Z,2017-04-24T19:29:35Z,2017-04-24T19:29:35Z,CLOSED,False,6,15,5,https://github.com/m4tt075,PPC Compilation Fixes,2,[],https://github.com/tvheadend/tvheadend/pull/936,https://github.com/m4tt075,5,https://github.com/tvheadend/tvheadend/pull/936#issuecomment-292771605,"This PR fixes compilation issues for PowerPC platforms for the Synocommunity spksrc cross-compilation framework.
Three kind of problems have been identified and are tackled in separate commits. The changes might break compilation of other platforms though, so please review carefully.","Fix for compilation issues.
@perexg: The llabs issue already appeared in 2012 in tvhtime.c and was fixed via commit 9c325854 then. I propose the same solution. If you prefer to fix it differently (e.g. via compat.h), you might want to revert that commit, too...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,936,2017-03-17T21:06:30Z,2017-04-24T19:29:35Z,2017-04-24T19:29:35Z,CLOSED,False,6,15,5,https://github.com/m4tt075,PPC Compilation Fixes,2,[],https://github.com/tvheadend/tvheadend/pull/936,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/936#issuecomment-292807591,"This PR fixes compilation issues for PowerPC platforms for the Synocommunity spksrc cross-compilation framework.
Three kind of problems have been identified and are tackled in separate commits. The changes might break compilation of other platforms though, so please review carefully.","OK, next round - check 9fca900 . The IPTOS issue should be fixed. I don't like llabs fix - please, look to configure output if llabs is somehow detected:
checking for cc llabs ...                         ok
Then we should fix configure for this platform.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,936,2017-03-17T21:06:30Z,2017-04-24T19:29:35Z,2017-04-24T19:29:35Z,CLOSED,False,6,15,5,https://github.com/m4tt075,PPC Compilation Fixes,2,[],https://github.com/tvheadend/tvheadend/pull/936,https://github.com/m4tt075,7,https://github.com/tvheadend/tvheadend/pull/936#issuecomment-292818920,"This PR fixes compilation issues for PowerPC platforms for the Synocommunity spksrc cross-compilation framework.
Three kind of problems have been identified and are tackled in separate commits. The changes might break compilation of other platforms though, so please review carefully.","Thank You, @perexg. I can confirm that the sequencing of the compat.h includes does no longer matter. You just missed the satip/rtp.c file, where the problem occurs as well. But adding your two-line fix to that file as well (see e.g. my updated commit) fixes the IPTOS problem completely.
I can also confirm your second guess:
Checking cc for llabs ... OK is what I see in the output, so your inline define is apparently never picked up.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,936,2017-03-17T21:06:30Z,2017-04-24T19:29:35Z,2017-04-24T19:29:35Z,CLOSED,False,6,15,5,https://github.com/m4tt075,PPC Compilation Fixes,2,[],https://github.com/tvheadend/tvheadend/pull/936,https://github.com/m4tt075,8,https://github.com/tvheadend/tvheadend/pull/936#issuecomment-295383586,"This PR fixes compilation issues for PowerPC platforms for the Synocommunity spksrc cross-compilation framework.
Three kind of problems have been identified and are tackled in separate commits. The changes might break compilation of other platforms though, so please review carefully.",Rebased and adapted.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,936,2017-03-17T21:06:30Z,2017-04-24T19:29:35Z,2017-04-24T19:29:35Z,CLOSED,False,6,15,5,https://github.com/m4tt075,PPC Compilation Fixes,2,[],https://github.com/tvheadend/tvheadend/pull/936,https://github.com/perexg,9,https://github.com/tvheadend/tvheadend/pull/936#issuecomment-296797703,"This PR fixes compilation issues for PowerPC platforms for the Synocommunity spksrc cross-compilation framework.
Three kind of problems have been identified and are tackled in separate commits. The changes might break compilation of other platforms though, so please review carefully.","OK. I removed inlined llabs() because it's not required (custom workaround) and all other issues were resolved. Closing. Reopen a new PR, if you have something more.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,937,2017-03-18T11:29:53Z,2017-03-20T08:50:32Z,2017-03-20T08:50:32Z,CLOSED,False,0,10,2,https://github.com/mpmc,mdhelp: update grabber modules screenshot and remove superfluous NZ g…,1,[],https://github.com/tvheadend/tvheadend/pull/937,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/937,…rabber note,…rabber note,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,937,2017-03-18T11:29:53Z,2017-03-20T08:50:32Z,2017-03-20T08:50:32Z,CLOSED,False,0,10,2,https://github.com/mpmc,mdhelp: update grabber modules screenshot and remove superfluous NZ g…,1,[],https://github.com/tvheadend/tvheadend/pull/937,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/937#issuecomment-287702661,…rabber note,Applied. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,938,2017-03-27T13:14:19Z,2017-03-27T16:01:58Z,2017-03-27T16:01:58Z,CLOSED,False,60,29,4,https://github.com/duncanthrax,[Feature #4229] IPTV/RTP input: handle source specific multicast (SSM),2,[],https://github.com/tvheadend/tvheadend/pull/938,https://github.com/duncanthrax,1,https://github.com/tvheadend/tvheadend/pull/938,This adds support for source-specific multicast (SSM) for IPTV RTP input. Reference: https://tvheadend.org/issues/4229,This adds support for source-specific multicast (SSM) for IPTV RTP input. Reference: https://tvheadend.org/issues/4229,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,938,2017-03-27T13:14:19Z,2017-03-27T16:01:58Z,2017-03-27T16:01:58Z,CLOSED,False,60,29,4,https://github.com/duncanthrax,[Feature #4229] IPTV/RTP input: handle source specific multicast (SSM),2,[],https://github.com/tvheadend/tvheadend/pull/938,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/938#issuecomment-289499689,This adds support for source-specific multicast (SSM) for IPTV RTP input. Reference: https://tvheadend.org/issues/4229,Applied. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,939,2017-03-28T12:19:05Z,2017-04-05T14:05:32Z,2017-04-05T14:05:32Z,CLOSED,False,1,1,1,https://github.com/Trujulu,Update Copyright year (2017),1,[],https://github.com/tvheadend/tvheadend/pull/939,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/939,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,939,2017-03-28T12:19:05Z,2017-04-05T14:05:32Z,2017-04-05T14:05:32Z,CLOSED,False,1,1,1,https://github.com/Trujulu,Update Copyright year (2017),1,[],https://github.com/tvheadend/tvheadend/pull/939,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/939#issuecomment-291871969,,Applied.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,940,2017-04-05T17:13:53Z,2017-04-19T16:58:19Z,2017-04-19T16:58:20Z,CLOSED,False,164,31,9,https://github.com/mpmc,Doozer update,4,[],https://github.com/tvheadend/tvheadend/pull/940,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/940,These commits change the doozer.json to include new targets & output deb packages.,These commits change the doozer.json to include new targets & output deb packages.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,940,2017-04-05T17:13:53Z,2017-04-19T16:58:19Z,2017-04-19T16:58:20Z,CLOSED,False,164,31,9,https://github.com/mpmc,Doozer update,4,[],https://github.com/tvheadend/tvheadend/pull/940,https://github.com/mpmc,2,https://github.com/tvheadend/tvheadend/pull/940#issuecomment-291935493,These commits change the doozer.json to include new targets & output deb packages.,"@perexg
There is an issue with wget on Ubuntu 12.04 that prevents the download of ffmpeg due to certificate issues, hence the failed build on precise:i386. I did do a commit that resolved it by replacing wget with curl. However, I decided to leave it as is & let the builds fail as no one should really be using 12.04 now.
But to prevent this in the future, would it be possible for you to change the Makefile.ffmpeg to include some sort of logic that'll attempt to download the packages using curl (if available) when wget fails due to cert issues? I would've done it myself, but I'm no bash expert & more than likely would've got it completely wrong. 🤣",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,940,2017-04-05T17:13:53Z,2017-04-19T16:58:19Z,2017-04-19T16:58:20Z,CLOSED,False,164,31,9,https://github.com/mpmc,Doozer update,4,[],https://github.com/tvheadend/tvheadend/pull/940,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/940#issuecomment-291941961,These commits change the doozer.json to include new targets & output deb packages.,"It's enough to pass '--no-check-certificate' to wget . But it's  a question, if we trust this source. Only fdk-aac requires this. I tried to fix this in 9f12730 . Perhaps, you can remove curl again :-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,940,2017-04-05T17:13:53Z,2017-04-19T16:58:19Z,2017-04-19T16:58:20Z,CLOSED,False,164,31,9,https://github.com/mpmc,Doozer update,4,[],https://github.com/tvheadend/tvheadend/pull/940,https://github.com/mpmc,4,https://github.com/tvheadend/tvheadend/pull/940#issuecomment-291944071,These commits change the doozer.json to include new targets & output deb packages.,"curl was already listed in the build dependencies, so I decided to leave as is. Plus I didn't want to screw with the Makefile ffmpeg in case it breaks on other distros!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,940,2017-04-05T17:13:53Z,2017-04-19T16:58:19Z,2017-04-19T16:58:20Z,CLOSED,False,164,31,9,https://github.com/mpmc,Doozer update,4,[],https://github.com/tvheadend/tvheadend/pull/940,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/940#issuecomment-292208983,These commits change the doozer.json to include new targets & output deb packages.,I think that curl should be removed. The RPM packaging does not use it at all.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,940,2017-04-05T17:13:53Z,2017-04-19T16:58:19Z,2017-04-19T16:58:20Z,CLOSED,False,164,31,9,https://github.com/mpmc,Doozer update,4,[],https://github.com/tvheadend/tvheadend/pull/940,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/940#issuecomment-292582930,These commits change the doozer.json to include new targets & output deb packages.,"libcurl4-gnutls-dev package is not probably required, too",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,941,2017-04-07T17:50:05Z,2017-04-10T07:12:04Z,2017-04-10T07:12:04Z,CLOSED,False,127,518,159,https://github.com/mpmc,mdhelp: This is a major overhaul of the documentation,1,[],https://github.com/tvheadend/tvheadend/pull/941,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/941,"I've removed unnecessary sections in many of the docs describing how to
add, edit and delete entries. We're just repeating ourselves, the
general web interface guide covers most situations anyway.


Clean up the documentation image directory. This took a while as things
were all over the place, I've deleted unused files and put all images in
separate folders..


I've tried to add little bits here and there - still lots more things
need improving but hopefully this is a start!","I've removed unnecessary sections in many of the docs describing how to
add, edit and delete entries. We're just repeating ourselves, the
general web interface guide covers most situations anyway.


Clean up the documentation image directory. This took a while as things
were all over the place, I've deleted unused files and put all images in
separate folders..


I've tried to add little bits here and there - still lots more things
need improving but hopefully this is a start!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,941,2017-04-07T17:50:05Z,2017-04-10T07:12:04Z,2017-04-10T07:12:04Z,CLOSED,False,127,518,159,https://github.com/mpmc,mdhelp: This is a major overhaul of the documentation,1,[],https://github.com/tvheadend/tvheadend/pull/941,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/941#issuecomment-292867679,"I've removed unnecessary sections in many of the docs describing how to
add, edit and delete entries. We're just repeating ourselves, the
general web interface guide covers most situations anyway.


Clean up the documentation image directory. This took a while as things
were all over the place, I've deleted unused files and put all images in
separate folders..


I've tried to add little bits here and there - still lots more things
need improving but hopefully this is a start!",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,942,2017-04-10T17:05:00Z,2017-04-24T16:35:38Z,2017-04-24T16:35:38Z,CLOSED,False,59,0,3,https://github.com/Den4t,Ability to selectively transcode video stream in trancoding streaming profile.,9,[],https://github.com/tvheadend/tvheadend/pull/942,https://github.com/Den4t,1,https://github.com/tvheadend/tvheadend/pull/942,"Ability to selectively transcode video stream in trancoding streaming profile.
New option added in transcoding page: Source video codec,
can be selected from list or separated with "" ;,|"", in case of codec match,
do transcode with profile settings, else pass with copy codec..","Ability to selectively transcode video stream in trancoding streaming profile.
New option added in transcoding page: Source video codec,
can be selected from list or separated with "" ;,|"", in case of codec match,
do transcode with profile settings, else pass with copy codec..",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,942,2017-04-10T17:05:00Z,2017-04-24T16:35:38Z,2017-04-24T16:35:38Z,CLOSED,False,59,0,3,https://github.com/Den4t,Ability to selectively transcode video stream in trancoding streaming profile.,9,[],https://github.com/tvheadend/tvheadend/pull/942,https://github.com/Den4t,2,https://github.com/tvheadend/tvheadend/pull/942#issuecomment-293212354,"Ability to selectively transcode video stream in trancoding streaming profile.
New option added in transcoding page: Source video codec,
can be selected from list or separated with "" ;,|"", in case of codec match,
do transcode with profile settings, else pass with copy codec..",Fixed in 5f8c0c9.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,942,2017-04-10T17:05:00Z,2017-04-24T16:35:38Z,2017-04-24T16:35:38Z,CLOSED,False,59,0,3,https://github.com/Den4t,Ability to selectively transcode video stream in trancoding streaming profile.,9,[],https://github.com/tvheadend/tvheadend/pull/942,https://github.com/CvH,3,https://github.com/tvheadend/tvheadend/pull/942#issuecomment-293258744,"Ability to selectively transcode video stream in trancoding streaming profile.
New option added in transcoding page: Source video codec,
can be selected from list or separated with "" ;,|"", in case of codec match,
do transcode with profile settings, else pass with copy codec..","@Den4t if you need inspiration to fill your free time you can head over to https://github.com/lekma/tvheadend/tree/codecs - sadly this is unfinished till date :/
(""proper"" codec profiles + gpu acceleration for Tvh - basically the last main feature Tvh still misses)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,942,2017-04-10T17:05:00Z,2017-04-24T16:35:38Z,2017-04-24T16:35:38Z,CLOSED,False,59,0,3,https://github.com/Den4t,Ability to selectively transcode video stream in trancoding streaming profile.,9,[],https://github.com/tvheadend/tvheadend/pull/942,https://github.com/Den4t,4,https://github.com/tvheadend/tvheadend/pull/942#issuecomment-293317687,"Ability to selectively transcode video stream in trancoding streaming profile.
New option added in transcoding page: Source video codec,
can be selected from list or separated with "" ;,|"", in case of codec match,
do transcode with profile settings, else pass with copy codec..","One test was failed, but it is not a compile error,
problem with certificate at doozer. How to run test again ?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,942,2017-04-10T17:05:00Z,2017-04-24T16:35:38Z,2017-04-24T16:35:38Z,CLOSED,False,59,0,3,https://github.com/Den4t,Ability to selectively transcode video stream in trancoding streaming profile.,9,[],https://github.com/tvheadend/tvheadend/pull/942,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/942#issuecomment-296733355,"Ability to selectively transcode video stream in trancoding streaming profile.
New option added in transcoding page: Source video codec,
can be selected from list or separated with "" ;,|"", in case of codec match,
do transcode with profile settings, else pass with copy codec..",Merged to 4.2 and 4.3 . Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,943,2017-04-16T19:19:59Z,2017-04-24T14:57:28Z,2017-04-24T14:57:28Z,CLOSED,False,74,11,3,https://github.com/Glenn-1990,Htsp playstatus improvement,3,[],https://github.com/tvheadend/tvheadend/pull/943,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/943,"Currently the implemented htsp playstatus methods are kind of useless for some clients.
This for the following reasons:
a) The client might want to set playcount/playposition by itself. For example, some clients do this after 'x' percent/minutes of the show was watched.
b) The property ""watched count"" is past tense, so strictly speaking we should increase the count after watching and not before (so on file close instead of file open).
c) The auto increment conflicts with ""htsp_method_updateDvrEntry"", they both can increase the playcount and that can cause issues as playcount +2 instead of +1.
a) This will be handled with some new constants, ""HTSP_DVR_PLAYCOUNT_KEEP "" will ignore tvheadends auto increment when the client wants to set the playcount by itself.
b) Auto increment (when desired) will be done on file closing.
c) Also handled with 1)
@perexg","Currently the implemented htsp playstatus methods are kind of useless for some clients.
This for the following reasons:
a) The client might want to set playcount/playposition by itself. For example, some clients do this after 'x' percent/minutes of the show was watched.
b) The property ""watched count"" is past tense, so strictly speaking we should increase the count after watching and not before (so on file close instead of file open).
c) The auto increment conflicts with ""htsp_method_updateDvrEntry"", they both can increase the playcount and that can cause issues as playcount +2 instead of +1.
a) This will be handled with some new constants, ""HTSP_DVR_PLAYCOUNT_KEEP "" will ignore tvheadends auto increment when the client wants to set the playcount by itself.
b) Auto increment (when desired) will be done on file closing.
c) Also handled with 1)
@perexg",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,943,2017-04-16T19:19:59Z,2017-04-24T14:57:28Z,2017-04-24T14:57:28Z,CLOSED,False,74,11,3,https://github.com/Glenn-1990,Htsp playstatus improvement,3,[],https://github.com/tvheadend/tvheadend/pull/943,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/943#issuecomment-296695160,"Currently the implemented htsp playstatus methods are kind of useless for some clients.
This for the following reasons:
a) The client might want to set playcount/playposition by itself. For example, some clients do this after 'x' percent/minutes of the show was watched.
b) The property ""watched count"" is past tense, so strictly speaking we should increase the count after watching and not before (so on file close instead of file open).
c) The auto increment conflicts with ""htsp_method_updateDvrEntry"", they both can increase the playcount and that can cause issues as playcount +2 instead of +1.
a) This will be handled with some new constants, ""HTSP_DVR_PLAYCOUNT_KEEP "" will ignore tvheadends auto increment when the client wants to set the playcount by itself.
b) Auto increment (when desired) will be done on file closing.
c) Also handled with 1)
@perexg",The code and idea looks good. Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,944,2017-04-24T16:38:54Z,2017-04-24T18:40:57Z,2017-04-24T18:40:57Z,CLOSED,False,15,1,1,https://github.com/mpmc,mdhelp: add note about service probing for IPTV Automatic Network,1,[],https://github.com/tvheadend/tvheadend/pull/944,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/944,This could be added to release/4.2 if needed.,This could be added to release/4.2 if needed.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,944,2017-04-24T16:38:54Z,2017-04-24T18:40:57Z,2017-04-24T18:40:57Z,CLOSED,False,15,1,1,https://github.com/mpmc,mdhelp: add note about service probing for IPTV Automatic Network,1,[],https://github.com/tvheadend/tvheadend/pull/944,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/944#issuecomment-296785329,This could be added to release/4.2 if needed.,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,945,2017-04-27T21:25:03Z,2017-05-11T07:08:22Z,2017-05-11T07:08:22Z,CLOSED,False,2,1,1,https://github.com/mpmc,bintray.py: add component env override,1,[],https://github.com/tvheadend/tvheadend/pull/945,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/945,"I've been working on getting a spare rpi2 of mine to build tvh in a chroot so I can push the debs to bintray, atleast until doozer supports  jessie ""raspbian""/armhf. Because these builds are tests, I didn't want to make them available to the stable, unstable and release components until I'd had time to test them, but I also wanted to be sure they worked fine via apt/bintray.
This commit modifies bintray.py to allow the component to be overridden. There is no version formatting. I suppose I could modify the get_component method & add a hint param to override {release-, stable-, unstable}, which is a lot nicer but this'll do for now.
@perexg
This doesn't have to be committed if you think it doesn't have any value. While my initial intention for this commit is for rpi builds, it could be useful for providing ""light"" or bundled builds of tvheadend in the future.
Any input on this would be greatly appreciated!","I've been working on getting a spare rpi2 of mine to build tvh in a chroot so I can push the debs to bintray, atleast until doozer supports  jessie ""raspbian""/armhf. Because these builds are tests, I didn't want to make them available to the stable, unstable and release components until I'd had time to test them, but I also wanted to be sure they worked fine via apt/bintray.
This commit modifies bintray.py to allow the component to be overridden. There is no version formatting. I suppose I could modify the get_component method & add a hint param to override {release-, stable-, unstable}, which is a lot nicer but this'll do for now.
@perexg
This doesn't have to be committed if you think it doesn't have any value. While my initial intention for this commit is for rpi builds, it could be useful for providing ""light"" or bundled builds of tvheadend in the future.
Any input on this would be greatly appreciated!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,945,2017-04-27T21:25:03Z,2017-05-11T07:08:22Z,2017-05-11T07:08:22Z,CLOSED,False,2,1,1,https://github.com/mpmc,bintray.py: add component env override,1,[],https://github.com/tvheadend/tvheadend/pull/945,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/945#issuecomment-300702230,"I've been working on getting a spare rpi2 of mine to build tvh in a chroot so I can push the debs to bintray, atleast until doozer supports  jessie ""raspbian""/armhf. Because these builds are tests, I didn't want to make them available to the stable, unstable and release components until I'd had time to test them, but I also wanted to be sure they worked fine via apt/bintray.
This commit modifies bintray.py to allow the component to be overridden. There is no version formatting. I suppose I could modify the get_component method & add a hint param to override {release-, stable-, unstable}, which is a lot nicer but this'll do for now.
@perexg
This doesn't have to be committed if you think it doesn't have any value. While my initial intention for this commit is for rpi builds, it could be useful for providing ""light"" or bundled builds of tvheadend in the future.
Any input on this would be greatly appreciated!",Merged. 5e8b67c,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,946,2017-05-11T05:02:04Z,2017-05-11T06:45:36Z,2017-05-11T06:45:36Z,CLOSED,False,1,1,1,https://github.com/catalinii,fix detecting number of atsc-t satip tuners,1,[],https://github.com/tvheadend/tvheadend/pull/946,https://github.com/catalinii,1,https://github.com/tvheadend/tvheadend/pull/946,"Hi,
tvheadend does not detect correctly the number of atsc-t tuners.
Thank you","Hi,
tvheadend does not detect correctly the number of atsc-t tuners.
Thank you",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,946,2017-05-11T05:02:04Z,2017-05-11T06:45:36Z,2017-05-11T06:45:36Z,CLOSED,False,1,1,1,https://github.com/catalinii,fix detecting number of atsc-t satip tuners,1,[],https://github.com/tvheadend/tvheadend/pull/946,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/946#issuecomment-300698062,"Hi,
tvheadend does not detect correctly the number of atsc-t tuners.
Thank you","Merged, Thanks. 6e99e14",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,947,2017-05-12T23:01:22Z,2017-05-13T06:37:10Z,2017-05-13T06:37:10Z,CLOSED,False,56,20,2,https://github.com/mpmc,mdhelp: add caclient_capmt tab screenshot + a few other minor changes,1,[],https://github.com/tvheadend/tvheadend/pull/947,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/947,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,947,2017-05-12T23:01:22Z,2017-05-13T06:37:10Z,2017-05-13T06:37:10Z,CLOSED,False,56,20,2,https://github.com/mpmc,mdhelp: add caclient_capmt tab screenshot + a few other minor changes,1,[],https://github.com/tvheadend/tvheadend/pull/947,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/947#issuecomment-301229319,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,948,2017-05-15T10:26:25Z,2017-05-16T10:33:25Z,2017-05-16T10:33:25Z,CLOSED,False,4,106,2,https://github.com/kotope,transcoding: updated ffmpeg and libx264,1,[],https://github.com/tvheadend/tvheadend/pull/948,https://github.com/kotope,1,https://github.com/tvheadend/tvheadend/pull/948,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,948,2017-05-15T10:26:25Z,2017-05-16T10:33:25Z,2017-05-16T10:33:25Z,CLOSED,False,4,106,2,https://github.com/kotope,transcoding: updated ffmpeg and libx264,1,[],https://github.com/tvheadend/tvheadend/pull/948,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/948#issuecomment-301742137,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,949,2017-05-15T20:13:06Z,2017-05-19T13:18:54Z,2017-05-19T13:18:54Z,CLOSED,False,2036,4,11,https://github.com/ljalves,Add cccam CA client,5,[],https://github.com/tvheadend/tvheadend/pull/949,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/949,"Based on cwc.c and oscam cccam module.
Still needs a few enhancements, being the major:

extended mode - multiple requests at once (does not mean ""no multiple channels"" - it means that to send a new ecm/emm request, it has to wait for the answer to the previous one)
emm's

Tested on my side and seems to work good","Based on cwc.c and oscam cccam module.
Still needs a few enhancements, being the major:

extended mode - multiple requests at once (does not mean ""no multiple channels"" - it means that to send a new ecm/emm request, it has to wait for the answer to the previous one)
emm's

Tested on my side and seems to work good",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,949,2017-05-15T20:13:06Z,2017-05-19T13:18:54Z,2017-05-19T13:18:54Z,CLOSED,False,2036,4,11,https://github.com/ljalves,Add cccam CA client,5,[],https://github.com/tvheadend/tvheadend/pull/949,https://github.com/ljalves,2,https://github.com/tvheadend/tvheadend/pull/949#issuecomment-301638261,"Based on cwc.c and oscam cccam module.
Still needs a few enhancements, being the major:

extended mode - multiple requests at once (does not mean ""no multiple channels"" - it means that to send a new ecm/emm request, it has to wait for the answer to the previous one)
emm's

Tested on my side and seems to work good","Some fixes added:

Added a proper client nodeid (also to webui)
Added client cccam version config
Keepalive messages are now sent - default is disabled (interval = 0). If the cccam server has the option ""Keep clients connected"" disabled, this interval should be as low as 1sec.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,949,2017-05-15T20:13:06Z,2017-05-19T13:18:54Z,2017-05-19T13:18:54Z,CLOSED,False,2036,4,11,https://github.com/ljalves,Add cccam CA client,5,[],https://github.com/tvheadend/tvheadend/pull/949,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/949#issuecomment-302700454,"Based on cwc.c and oscam cccam module.
Still needs a few enhancements, being the major:

extended mode - multiple requests at once (does not mean ""no multiple channels"" - it means that to send a new ecm/emm request, it has to wait for the answer to the previous one)
emm's

Tested on my side and seems to work good",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,950,2017-05-16T13:46:03Z,2017-05-16T15:35:22Z,2017-05-16T15:35:22Z,CLOSED,False,7,7,2,https://github.com/mpmc,Debian: add libpcre3-dev build dep to control file,2,[],https://github.com/tvheadend/tvheadend/pull/950,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/950,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,950,2017-05-16T13:46:03Z,2017-05-16T15:35:22Z,2017-05-16T15:35:22Z,CLOSED,False,7,7,2,https://github.com/mpmc,Debian: add libpcre3-dev build dep to control file,2,[],https://github.com/tvheadend/tvheadend/pull/950,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/950#issuecomment-301814416,,Note that 'libpcre2' (version 10.0+) is NEWER than 'libpcre3' (version 8.0+)... !!!! It should be probably libpcre2-dev ..,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,950,2017-05-16T13:46:03Z,2017-05-16T15:35:22Z,2017-05-16T15:35:22Z,CLOSED,False,7,7,2,https://github.com/mpmc,Debian: add libpcre3-dev build dep to control file,2,[],https://github.com/tvheadend/tvheadend/pull/950,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/950#issuecomment-301821633,,Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,951,2017-05-16T15:44:30Z,2017-05-17T10:26:07Z,2017-05-17T10:26:07Z,CLOSED,False,0,0,0,https://github.com/mpmc,Debian: add libpcre3-dev build dep to control file (with doozer fix),0,[],https://github.com/tvheadend/tvheadend/pull/951,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/951,Here's the doozer.json fixes that I missed :/,Here's the doozer.json fixes that I missed :/,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,952,2017-05-16T17:37:29Z,2017-05-16T21:32:24Z,2017-05-16T21:32:24Z,CLOSED,False,2,2,1,https://github.com/Lolipero,Improve package description,2,[],https://github.com/tvheadend/tvheadend/pull/952,https://github.com/Lolipero,1,https://github.com/tvheadend/tvheadend/pull/952,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,953,2017-05-18T15:56:12Z,2017-05-19T13:17:24Z,2017-05-19T13:17:24Z,CLOSED,False,1,1,1,https://github.com/mpmc,"Autobuild: add raspbian ""jessie"" armhf",1,[],https://github.com/tvheadend/tvheadend/pull/953,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/953,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,953,2017-05-18T15:56:12Z,2017-05-19T13:17:24Z,2017-05-19T13:17:24Z,CLOSED,False,1,1,1,https://github.com/mpmc,"Autobuild: add raspbian ""jessie"" armhf",1,[],https://github.com/tvheadend/tvheadend/pull/953,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/953#issuecomment-302700112,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,954,2017-05-18T19:56:11Z,2017-05-19T13:15:03Z,2017-05-19T13:15:03Z,CLOSED,False,1,1,1,https://github.com/UllrichKossow,Fixed compile error if pcre is not installed.,1,[],https://github.com/tvheadend/tvheadend/pull/954,https://github.com/UllrichKossow,1,https://github.com/tvheadend/tvheadend/pull/954,"Not tested, but compile clean with and without pcre library installed.","Not tested, but compile clean with and without pcre library installed.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,954,2017-05-18T19:56:11Z,2017-05-19T13:15:03Z,2017-05-19T13:15:03Z,CLOSED,False,1,1,1,https://github.com/UllrichKossow,Fixed compile error if pcre is not installed.,1,[],https://github.com/tvheadend/tvheadend/pull/954,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/954#issuecomment-302699607,"Not tested, but compile clean with and without pcre library installed.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,955,2017-05-21T13:39:29Z,2017-05-23T08:11:24Z,2017-05-23T08:11:24Z,CLOSED,False,5,0,1,https://github.com/mpmc,Wizard: prevent the SOH character from appearing in the wizard text -…,1,[],https://github.com/tvheadend/tvheadend/pull/955,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/955,"… fixes #4282
Maybe not the best way to fix it but it works!","… fixes #4282
Maybe not the best way to fix it but it works!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,955,2017-05-21T13:39:29Z,2017-05-23T08:11:24Z,2017-05-23T08:11:24Z,CLOSED,False,5,0,1,https://github.com/mpmc,Wizard: prevent the SOH character from appearing in the wizard text -…,1,[],https://github.com/tvheadend/tvheadend/pull/955,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/955#issuecomment-303323296,"… fixes #4282
Maybe not the best way to fix it but it works!",Fixed in e3b90de and aea3be8 . But thanks for this PR - it directed me to the right place !,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,956,2017-05-23T18:30:27Z,2017-06-05T11:23:37Z,2017-06-05T11:23:37Z,CLOSED,False,1,1,1,https://github.com/mastacheata,HTSP Python: function < integer will never return false,1,[],https://github.com/tvheadend/tvheadend/pull/956,https://github.com/mastacheata,1,https://github.com/tvheadend/tvheadend/pull/956,"Sorry, if this is a strange Python thing I don't understand, but to me it looks like this has at best undefined behaviour and will at worst be completely useless because len < nlen+dlen will never be able to return false. (len is a function and needs a parameter to return any useful numeric information)","Sorry, if this is a strange Python thing I don't understand, but to me it looks like this has at best undefined behaviour and will at worst be completely useless because len < nlen+dlen will never be able to return false. (len is a function and needs a parameter to return any useful numeric information)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,956,2017-05-23T18:30:27Z,2017-06-05T11:23:37Z,2017-06-05T11:23:37Z,CLOSED,False,1,1,1,https://github.com/mastacheata,HTSP Python: function < integer will never return false,1,[],https://github.com/tvheadend/tvheadend/pull/956,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/956#issuecomment-306165187,"Sorry, if this is a strange Python thing I don't understand, but to me it looks like this has at best undefined behaviour and will at worst be completely useless because len < nlen+dlen will never be able to return false. (len is a function and needs a parameter to return any useful numeric information)","Applied, thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,957,2017-05-27T06:33:04Z,2017-06-20T07:41:10Z,2017-06-20T07:41:10Z,CLOSED,False,5,5,1,https://github.com/cafs78,small fixes in markdown,1,[],https://github.com/tvheadend/tvheadend/pull/957,https://github.com/cafs78,1,https://github.com/tvheadend/tvheadend/pull/957,small fixes in markdown,small fixes in markdown,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,957,2017-05-27T06:33:04Z,2017-06-20T07:41:10Z,2017-06-20T07:41:10Z,CLOSED,False,5,5,1,https://github.com/cafs78,small fixes in markdown,1,[],https://github.com/tvheadend/tvheadend/pull/957,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/957#issuecomment-309671219,small fixes in markdown,I merged #960 . Thanks anyway for your contribution.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,958,2017-05-30T15:10:46Z,2017-06-05T11:23:49Z,2017-06-05T11:23:49Z,CLOSED,False,2,2,1,https://github.com/AlexMekkering,libhdhomerun: upgrade to 20161117,1,[],https://github.com/tvheadend/tvheadend/pull/958,https://github.com/AlexMekkering,1,https://github.com/tvheadend/tvheadend/pull/958,upgrade to libhdhomerun_20161117,upgrade to libhdhomerun_20161117,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,958,2017-05-30T15:10:46Z,2017-06-05T11:23:49Z,2017-06-05T11:23:49Z,CLOSED,False,2,2,1,https://github.com/AlexMekkering,libhdhomerun: upgrade to 20161117,1,[],https://github.com/tvheadend/tvheadend/pull/958,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/958#issuecomment-306165221,upgrade to libhdhomerun_20161117,Applied. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,959,2017-06-08T14:11:08Z,2017-06-08T15:02:39Z,2017-06-08T16:13:52Z,CLOSED,False,8,8,4,https://github.com/ksooo,Fix dvr priorities after 33cc05b,1,[],https://github.com/tvheadend/tvheadend/pull/959,https://github.com/ksooo,1,https://github.com/tvheadend/tvheadend/pull/959,"Use new DVR_PRIO_DEFAULT wherever it should be used (HTSP, API, ...).","Use new DVR_PRIO_DEFAULT wherever it should be used (HTSP, API, ...).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,959,2017-06-08T14:11:08Z,2017-06-08T15:02:39Z,2017-06-08T16:13:52Z,CLOSED,False,8,8,4,https://github.com/ksooo,Fix dvr priorities after 33cc05b,1,[],https://github.com/tvheadend/tvheadend/pull/959,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/959#issuecomment-307131165,"Use new DVR_PRIO_DEFAULT wherever it should be used (HTSP, API, ...).","Applied as 8d3bd9d . The _dvr_entry_update() argument DVR_PRIO_NOTSET looks fine in my eyes (the priority should not change in those cases), so I removed this from your commit.
Thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,959,2017-06-08T14:11:08Z,2017-06-08T15:02:39Z,2017-06-08T16:13:52Z,CLOSED,False,8,8,4,https://github.com/ksooo,Fix dvr priorities after 33cc05b,1,[],https://github.com/tvheadend/tvheadend/pull/959,https://github.com/ksooo,3,https://github.com/tvheadend/tvheadend/pull/959#issuecomment-307152415,"Use new DVR_PRIO_DEFAULT wherever it should be used (HTSP, API, ...).","Ah, okay. Thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,960,2017-06-14T11:32:28Z,2017-06-20T07:40:49Z,2017-06-20T07:40:49Z,CLOSED,False,219,221,67,https://github.com/mpmc,mdhelp & property changes,1,[],https://github.com/tvheadend/tvheadend/pull/960,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/960,"As noted by @cafs78 in #957 many of the headers in markdown didn't have spaces, this can cause an issue with some markdown editors. This unfortunately overrides #957 (sorry @cafs78).
I've also changed a couple of the property names/descriptions to (hopefully) try and make them a little clearer (and not so long winded 😉 ).
@perexg If you're happy with the changes to the names/descriptions, please let me know & I'll update the screenshots next :)","As noted by @cafs78 in #957 many of the headers in markdown didn't have spaces, this can cause an issue with some markdown editors. This unfortunately overrides #957 (sorry @cafs78).
I've also changed a couple of the property names/descriptions to (hopefully) try and make them a little clearer (and not so long winded 😉 ).
@perexg If you're happy with the changes to the names/descriptions, please let me know & I'll update the screenshots next :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,960,2017-06-14T11:32:28Z,2017-06-20T07:40:49Z,2017-06-20T07:40:49Z,CLOSED,False,219,221,67,https://github.com/mpmc,mdhelp & property changes,1,[],https://github.com/tvheadend/tvheadend/pull/960,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/960#issuecomment-309671139,"As noted by @cafs78 in #957 many of the headers in markdown didn't have spaces, this can cause an issue with some markdown editors. This unfortunately overrides #957 (sorry @cafs78).
I've also changed a couple of the property names/descriptions to (hopefully) try and make them a little clearer (and not so long winded 😉 ).
@perexg If you're happy with the changes to the names/descriptions, please let me know & I'll update the screenshots next :)",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,961,2017-06-15T08:37:16Z,2017-06-20T07:39:11Z,2017-06-20T18:27:09Z,CLOSED,False,32,0,2,https://github.com/m4tt075,Compatibility fix: Adding atomic32 support,1,[],https://github.com/tvheadend/tvheadend/pull/961,https://github.com/m4tt075,1,https://github.com/tvheadend/tvheadend/pull/961,"This compatibility fix has been around as patch for older platforms for a couple of years now. I don't know who came up with this. Anyways, looks clean to me, so I was wondering whether it can be upstreamed...","This compatibility fix has been around as patch for older platforms for a couple of years now. I don't know who came up with this. Anyways, looks clean to me, so I was wondering whether it can be upstreamed...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,961,2017-06-15T08:37:16Z,2017-06-20T07:39:11Z,2017-06-20T18:27:09Z,CLOSED,False,32,0,2,https://github.com/m4tt075,Compatibility fix: Adding atomic32 support,1,[],https://github.com/tvheadend/tvheadend/pull/961,https://github.com/m4tt075,2,https://github.com/tvheadend/tvheadend/pull/961#issuecomment-308738967,"This compatibility fix has been around as patch for older platforms for a couple of years now. I don't know who came up with this. Anyways, looks clean to me, so I was wondering whether it can be upstreamed...","Forgot to adapt variable names. Fixed, squashed and force pushed. Should be ok now.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,961,2017-06-15T08:37:16Z,2017-06-20T07:39:11Z,2017-06-20T18:27:09Z,CLOSED,False,32,0,2,https://github.com/m4tt075,Compatibility fix: Adding atomic32 support,1,[],https://github.com/tvheadend/tvheadend/pull/961,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/961#issuecomment-309670788,"This compatibility fix has been around as patch for older platforms for a couple of years now. I don't know who came up with this. Anyways, looks clean to me, so I was wondering whether it can be upstreamed...",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,962,2017-06-15T22:46:16Z,2017-06-20T07:41:57Z,2017-06-20T07:41:57Z,CLOSED,False,7,3,1,https://github.com/mpmc,bintray: don't automatically publish dirty builds,1,[],https://github.com/tvheadend/tvheadend/pull/962,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/962,"bintray: allow org override
@perexg, this should prevent apt getting confused :)","bintray: allow org override
@perexg, this should prevent apt getting confused :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,962,2017-06-15T22:46:16Z,2017-06-20T07:41:57Z,2017-06-20T07:41:57Z,CLOSED,False,7,3,1,https://github.com/mpmc,bintray: don't automatically publish dirty builds,1,[],https://github.com/tvheadend/tvheadend/pull/962,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/962#issuecomment-309671374,"bintray: allow org override
@perexg, this should prevent apt getting confused :)",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,963,2017-06-18T18:34:37Z,2017-06-20T07:42:35Z,2017-06-20T07:42:35Z,CLOSED,False,2,2,1,https://github.com/Trujulu,Cosmetics: peer address and port,1,[],https://github.com/tvheadend/tvheadend/pull/963,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/963,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,963,2017-06-18T18:34:37Z,2017-06-20T07:42:35Z,2017-06-20T07:42:35Z,CLOSED,False,2,2,1,https://github.com/Trujulu,Cosmetics: peer address and port,1,[],https://github.com/tvheadend/tvheadend/pull/963,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/963#issuecomment-309671516,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,964,2017-06-20T18:51:26Z,2017-07-01T13:50:33Z,2017-07-01T16:45:51Z,CLOSED,False,6,0,1,https://github.com/m4tt075,Compatibility fix for undefined _SC_IOV_MAX,1,[],https://github.com/tvheadend/tvheadend/pull/964,https://github.com/m4tt075,1,https://github.com/tvheadend/tvheadend/pull/964,"This is the last compatibility fix, which has been included in the spksrc cross-compilation framework for tvheadend (downstream) for years.
To be honest, technically I can see what it does, but I do not know what symptoms it fixes: There might be different reasons for this. Either, because I just do not have an architecture which exposes the corresponding problems, or, because this patch is actually no longer needed. I don't know. With this in mind...
@perexg, can you carefully review, please, and let me know what you think?","This is the last compatibility fix, which has been included in the spksrc cross-compilation framework for tvheadend (downstream) for years.
To be honest, technically I can see what it does, but I do not know what symptoms it fixes: There might be different reasons for this. Either, because I just do not have an architecture which exposes the corresponding problems, or, because this patch is actually no longer needed. I don't know. With this in mind...
@perexg, can you carefully review, please, and let me know what you think?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,964,2017-06-20T18:51:26Z,2017-07-01T13:50:33Z,2017-07-01T16:45:51Z,CLOSED,False,6,0,1,https://github.com/m4tt075,Compatibility fix for undefined _SC_IOV_MAX,1,[],https://github.com/tvheadend/tvheadend/pull/964,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/964#issuecomment-312433259,"This is the last compatibility fix, which has been included in the spksrc cross-compilation framework for tvheadend (downstream) for years.
To be honest, technically I can see what it does, but I do not know what symptoms it fixes: There might be different reasons for this. Either, because I just do not have an architecture which exposes the corresponding problems, or, because this patch is actually no longer needed. I don't know. With this in mind...
@perexg, can you carefully review, please, and let me know what you think?",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,965,2017-06-21T16:16:48Z,2017-07-01T13:50:21Z,2017-07-01T13:50:21Z,CLOSED,False,2,1,2,https://github.com/decke,Small build fixes for FreeBSD support,2,[],https://github.com/tvheadend/tvheadend/pull/965,https://github.com/decke,1,https://github.com/tvheadend/tvheadend/pull/965,Submitted fixes were created when compiling tvheadend 4.2.2 on FreeBSD. Please also see the commit logs for more details.,Submitted fixes were created when compiling tvheadend 4.2.2 on FreeBSD. Please also see the commit logs for more details.,True,"{'THUMBS_UP': ['https://github.com/dreamcat4', 'https://github.com/mpmc']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,965,2017-06-21T16:16:48Z,2017-07-01T13:50:21Z,2017-07-01T13:50:21Z,CLOSED,False,2,1,2,https://github.com/decke,Small build fixes for FreeBSD support,2,[],https://github.com/tvheadend/tvheadend/pull/965,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/965#issuecomment-312433249,Submitted fixes were created when compiling tvheadend 4.2.2 on FreeBSD. Please also see the commit logs for more details.,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,966,2017-06-23T17:01:08Z,2017-06-23T19:52:57Z,2017-06-23T20:17:34Z,CLOSED,False,4,0,1,https://github.com/herrnst,linuxdvb: catch FE_SCALE_NOT_AVAILABLE in DVBv5 signal strength,1,[],https://github.com/tvheadend/tvheadend/pull/966,https://github.com/herrnst,1,https://github.com/tvheadend/tvheadend/pull/966,"If the scale is reported as FE_SCALE_NOT_AVAILABLE, signal strength shouldn't be marked bad, but rather be retried later since this is a valid state. Currently, when FE_SCALE_NOT_AVAILABLE is reported, one won't see any signal strength at all in the webui, however, some drivers might start reporting this ""later"" (e.g. when it's done tuning). Change linuxdvb_frontend_monitor to catch FE_SCALE_NOT_AVAILABLE for signalstrength aswell, like for snr.
EDIT: candidate for backport?
EDIT2 (semi-offtopic): With latest master (probably since the statistics multiplier stuff is in), signal strength is now reported in the 42xxx.y dBm range, whereas it should be e.g. -30.0dBm. Driver reports this properly in DVBv5 format. Config values (multiplier) is set to the default of 100. Looks like a sign flip or so.","If the scale is reported as FE_SCALE_NOT_AVAILABLE, signal strength shouldn't be marked bad, but rather be retried later since this is a valid state. Currently, when FE_SCALE_NOT_AVAILABLE is reported, one won't see any signal strength at all in the webui, however, some drivers might start reporting this ""later"" (e.g. when it's done tuning). Change linuxdvb_frontend_monitor to catch FE_SCALE_NOT_AVAILABLE for signalstrength aswell, like for snr.
EDIT: candidate for backport?
EDIT2 (semi-offtopic): With latest master (probably since the statistics multiplier stuff is in), signal strength is now reported in the 42xxx.y dBm range, whereas it should be e.g. -30.0dBm. Driver reports this properly in DVBv5 format. Config values (multiplier) is set to the default of 100. Looks like a sign flip or so.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,966,2017-06-23T17:01:08Z,2017-06-23T19:52:57Z,2017-06-23T20:17:34Z,CLOSED,False,4,0,1,https://github.com/herrnst,linuxdvb: catch FE_SCALE_NOT_AVAILABLE in DVBv5 signal strength,1,[],https://github.com/tvheadend/tvheadend/pull/966,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/966#issuecomment-310758025,"If the scale is reported as FE_SCALE_NOT_AVAILABLE, signal strength shouldn't be marked bad, but rather be retried later since this is a valid state. Currently, when FE_SCALE_NOT_AVAILABLE is reported, one won't see any signal strength at all in the webui, however, some drivers might start reporting this ""later"" (e.g. when it's done tuning). Change linuxdvb_frontend_monitor to catch FE_SCALE_NOT_AVAILABLE for signalstrength aswell, like for snr.
EDIT: candidate for backport?
EDIT2 (semi-offtopic): With latest master (probably since the statistics multiplier stuff is in), signal strength is now reported in the 42xxx.y dBm range, whereas it should be e.g. -30.0dBm. Driver reports this properly in DVBv5 format. Config values (multiplier) is set to the default of 100. Looks like a sign flip or so.",Merged. Thanks. Signess fix is in: a2d32a7 and d053ba9,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,967,2017-06-23T20:09:42Z,2017-06-23T20:12:58Z,2017-06-23T20:17:43Z,CLOSED,False,1,1,1,https://github.com/herrnst,linuxdvb: snr_scale -> signal_scale,1,[],https://github.com/tvheadend/tvheadend/pull/967,https://github.com/herrnst,1,https://github.com/tvheadend/tvheadend/pull/967,"copy/paste monster, sorry for this :/","copy/paste monster, sorry for this :/",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,967,2017-06-23T20:09:42Z,2017-06-23T20:12:58Z,2017-06-23T20:17:43Z,CLOSED,False,1,1,1,https://github.com/herrnst,linuxdvb: snr_scale -> signal_scale,1,[],https://github.com/tvheadend/tvheadend/pull/967,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/967#issuecomment-310761990,"copy/paste monster, sorry for this :/",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,968,2017-06-27T18:02:10Z,2017-07-01T13:50:10Z,2017-07-01T13:50:10Z,CLOSED,False,85,49,19,https://github.com/mpmc,Mdhelp - More changes!,3,[],https://github.com/tvheadend/tvheadend/pull/968,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/968,"@perexg Could you check to make sure the Change parameters info/table is correct?
Thanks.","@perexg Could you check to make sure the Change parameters info/table is correct?
Thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,968,2017-06-27T18:02:10Z,2017-07-01T13:50:10Z,2017-07-01T13:50:10Z,CLOSED,False,85,49,19,https://github.com/mpmc,Mdhelp - More changes!,3,[],https://github.com/tvheadend/tvheadend/pull/968,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/968#issuecomment-312433237,"@perexg Could you check to make sure the Change parameters info/table is correct?
Thanks.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,969,2017-07-01T09:02:00Z,2017-07-01T13:49:38Z,2017-07-01T13:49:38Z,CLOSED,False,5,5,1,https://github.com/bmwiedemann,sort file lists,1,[],https://github.com/tvheadend/tvheadend/pull/969,https://github.com/bmwiedemann,1,https://github.com/tvheadend/tvheadend/pull/969,"to generate docs_inc.c reproducibly
See https://reproducible-builds.org/ for why this matters","to generate docs_inc.c reproducibly
See https://reproducible-builds.org/ for why this matters",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,969,2017-07-01T09:02:00Z,2017-07-01T13:49:38Z,2017-07-01T13:49:38Z,CLOSED,False,5,5,1,https://github.com/bmwiedemann,sort file lists,1,[],https://github.com/tvheadend/tvheadend/pull/969,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/969#issuecomment-312433213,"to generate docs_inc.c reproducibly
See https://reproducible-builds.org/ for why this matters",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,970,2017-07-01T09:14:43Z,2017-07-01T13:49:58Z,2017-07-01T13:49:58Z,CLOSED,False,7,1,1,https://github.com/bmwiedemann,Allow to override build date,1,[],https://github.com/tvheadend/tvheadend/pull/970,https://github.com/bmwiedemann,1,https://github.com/tvheadend/tvheadend/pull/970,"to enable reproducible builds
See https://reproducible-builds.org/ for why this is good
and https://reproducible-builds.org/specs/source-date-epoch/
for the definition of this variable.
The date calls are designed to work with both GNU date and BSD date
The alternative would be to drop the build timestamps
in favour of version numbers and/or git commit hashes.","to enable reproducible builds
See https://reproducible-builds.org/ for why this is good
and https://reproducible-builds.org/specs/source-date-epoch/
for the definition of this variable.
The date calls are designed to work with both GNU date and BSD date
The alternative would be to drop the build timestamps
in favour of version numbers and/or git commit hashes.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,970,2017-07-01T09:14:43Z,2017-07-01T13:49:58Z,2017-07-01T13:49:58Z,CLOSED,False,7,1,1,https://github.com/bmwiedemann,Allow to override build date,1,[],https://github.com/tvheadend/tvheadend/pull/970,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/970#issuecomment-312433223,"to enable reproducible builds
See https://reproducible-builds.org/ for why this is good
and https://reproducible-builds.org/specs/source-date-epoch/
for the definition of this variable.
The date calls are designed to work with both GNU date and BSD date
The alternative would be to drop the build timestamps
in favour of version numbers and/or git commit hashes.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,971,2017-07-01T13:16:19Z,2017-07-01T13:49:48Z,2017-07-29T23:15:24Z,CLOSED,False,3,5,1,https://github.com/mpmc,Update README.md,1,[],https://github.com/tvheadend/tvheadend/pull/971,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/971,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,971,2017-07-01T13:16:19Z,2017-07-01T13:49:48Z,2017-07-29T23:15:24Z,CLOSED,False,3,5,1,https://github.com/mpmc,Update README.md,1,[],https://github.com/tvheadend/tvheadend/pull/971,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/971#issuecomment-312433217,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,972,2017-07-02T06:23:11Z,2017-07-04T16:40:55Z,2017-07-04T17:17:07Z,CLOSED,False,5,5,1,https://github.com/mpmc,Correct the line breaks in README.md,1,[],https://github.com/tvheadend/tvheadend/pull/972,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/972,Use a list * instead of >,Use a list * instead of >,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,972,2017-07-02T06:23:11Z,2017-07-04T16:40:55Z,2017-07-04T17:17:07Z,CLOSED,False,5,5,1,https://github.com/mpmc,Correct the line breaks in README.md,1,[],https://github.com/tvheadend/tvheadend/pull/972,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/972#issuecomment-312917167,Use a list * instead of >,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,973,2017-07-03T10:51:52Z,2017-07-04T16:41:28Z,2017-07-06T08:26:46Z,CLOSED,False,15,1,2,https://github.com/ksooo,Fix _dvr_entry_update to allow update of more props for finished and ongoing recordings,1,[],https://github.com/tvheadend/tvheadend/pull/973,https://github.com/ksooo,1,https://github.com/tvheadend/tvheadend/pull/973,"Fix _dvr_entry_update to allow update of retention, removal, title and subtitle for finished and ongoing recordings. htsp version bump to v28 needed to allow clients to identify the fix.
@Glenn-1990 fyi","Fix _dvr_entry_update to allow update of retention, removal, title and subtitle for finished and ongoing recordings. htsp version bump to v28 needed to allow clients to identify the fix.
@Glenn-1990 fyi",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,973,2017-07-03T10:51:52Z,2017-07-04T16:41:28Z,2017-07-06T08:26:46Z,CLOSED,False,15,1,2,https://github.com/ksooo,Fix _dvr_entry_update to allow update of more props for finished and ongoing recordings,1,[],https://github.com/tvheadend/tvheadend/pull/973,https://github.com/ksooo,2,https://github.com/tvheadend/tvheadend/pull/973#issuecomment-312614743,"Fix _dvr_entry_update to allow update of retention, removal, title and subtitle for finished and ongoing recordings. htsp version bump to v28 needed to allow clients to identify the fix.
@Glenn-1990 fyi",Please backport to release/4.2,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,973,2017-07-03T10:51:52Z,2017-07-04T16:41:28Z,2017-07-06T08:26:46Z,CLOSED,False,15,1,2,https://github.com/ksooo,Fix _dvr_entry_update to allow update of more props for finished and ongoing recordings,1,[],https://github.com/tvheadend/tvheadend/pull/973,https://github.com/Glenn-1990,3,https://github.com/tvheadend/tvheadend/pull/973#issuecomment-312718528,"Fix _dvr_entry_update to allow update of retention, removal, title and subtitle for finished and ongoing recordings. htsp version bump to v28 needed to allow clients to identify the fix.
@Glenn-1990 fyi","@ksooo seems valid
It's a good moment to look into this as we need to bump the api version already.
kodi-pvr/pvr.hts#316
I can look into this later this week.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,973,2017-07-03T10:51:52Z,2017-07-04T16:41:28Z,2017-07-06T08:26:46Z,CLOSED,False,15,1,2,https://github.com/ksooo,Fix _dvr_entry_update to allow update of more props for finished and ongoing recordings,1,[],https://github.com/tvheadend/tvheadend/pull/973,https://github.com/ksooo,4,https://github.com/tvheadend/tvheadend/pull/973#issuecomment-312729919,"Fix _dvr_entry_update to allow update of retention, removal, title and subtitle for finished and ongoing recordings. htsp version bump to v28 needed to allow clients to identify the fix.
@Glenn-1990 fyi","It's a good moment to look into this as we need to bump the api version already.

Guess where I'm coming from. ;-) Not yet pushed, but kodi support already working.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,973,2017-07-03T10:51:52Z,2017-07-04T16:41:28Z,2017-07-06T08:26:46Z,CLOSED,False,15,1,2,https://github.com/ksooo,Fix _dvr_entry_update to allow update of more props for finished and ongoing recordings,1,[],https://github.com/tvheadend/tvheadend/pull/973,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/973#issuecomment-312917253,"Fix _dvr_entry_update to allow update of retention, removal, title and subtitle for finished and ongoing recordings. htsp version bump to v28 needed to allow clients to identify the fix.
@Glenn-1990 fyi",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,973,2017-07-03T10:51:52Z,2017-07-04T16:41:28Z,2017-07-06T08:26:46Z,CLOSED,False,15,1,2,https://github.com/ksooo,Fix _dvr_entry_update to allow update of more props for finished and ongoing recordings,1,[],https://github.com/tvheadend/tvheadend/pull/973,https://github.com/ksooo,6,https://github.com/tvheadend/tvheadend/pull/973#issuecomment-312922363,"Fix _dvr_entry_update to allow update of retention, removal, title and subtitle for finished and ongoing recordings. htsp version bump to v28 needed to allow clients to identify the fix.
@Glenn-1990 fyi",@perexg thanks. Can you please apply this to the release/4.2 branch as well?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,973,2017-07-03T10:51:52Z,2017-07-04T16:41:28Z,2017-07-06T08:26:46Z,CLOSED,False,15,1,2,https://github.com/ksooo,Fix _dvr_entry_update to allow update of more props for finished and ongoing recordings,1,[],https://github.com/tvheadend/tvheadend/pull/973,https://github.com/ksooo,7,https://github.com/tvheadend/tvheadend/pull/973#issuecomment-313330537,"Fix _dvr_entry_update to allow update of retention, removal, title and subtitle for finished and ongoing recordings. htsp version bump to v28 needed to allow clients to identify the fix.
@Glenn-1990 fyi",@perexg Can you please apply this to the release/4.2 branch as well or at least give me a headsup if you don't plan to do so? Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,974,2017-07-13T23:07:25Z,2017-07-26T07:01:25Z,2017-07-26T07:01:25Z,CLOSED,False,7,0,1,https://github.com/ObvB,"epggrab xmltv: support grabbing ""summary"" field",2,[],https://github.com/tvheadend/tvheadend/pull/974,https://github.com/ObvB,1,https://github.com/tvheadend/tvheadend/pull/974,"""summary"" field should be supported by XMLTV EPG grabber (https://tvheadend.org/projects/tvheadend/wiki/Epgdb)
This fix adds support that according to documentation should have already been there.","""summary"" field should be supported by XMLTV EPG grabber (https://tvheadend.org/projects/tvheadend/wiki/Epgdb)
This fix adds support that according to documentation should have already been there.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,974,2017-07-13T23:07:25Z,2017-07-26T07:01:25Z,2017-07-26T07:01:25Z,CLOSED,False,7,0,1,https://github.com/ObvB,"epggrab xmltv: support grabbing ""summary"" field",2,[],https://github.com/tvheadend/tvheadend/pull/974,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/974#issuecomment-317966696,"""summary"" field should be supported by XMLTV EPG grabber (https://tvheadend.org/projects/tvheadend/wiki/Epgdb)
This fix adds support that according to documentation should have already been there.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,975,2017-07-17T20:08:01Z,2017-07-26T07:01:14Z,2017-07-26T07:01:14Z,CLOSED,False,55,0,2,https://github.com/LubosD,"Add ""Now"" view mode in EPG (#3411)",1,[],https://github.com/tvheadend/tvheadend/pull/975,https://github.com/LubosD,1,https://github.com/tvheadend/tvheadend/pull/975,"The EPG viewer in the web interface isn't currently what I would expect as a user. It basically cannot be used to show what is currently being broadcast on all channels, sorted by channel number (i.e. something TVHClient on Android does).
I've implemented such view mode, and I'm looking forward to hearing your comments.
I'd event suggest make this view mode default, but I'll leave it up to you.","The EPG viewer in the web interface isn't currently what I would expect as a user. It basically cannot be used to show what is currently being broadcast on all channels, sorted by channel number (i.e. something TVHClient on Android does).
I've implemented such view mode, and I'm looking forward to hearing your comments.
I'd event suggest make this view mode default, but I'll leave it up to you.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,975,2017-07-17T20:08:01Z,2017-07-26T07:01:14Z,2017-07-26T07:01:14Z,CLOSED,False,55,0,2,https://github.com/LubosD,"Add ""Now"" view mode in EPG (#3411)",1,[],https://github.com/tvheadend/tvheadend/pull/975,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/975#issuecomment-317966657,"The EPG viewer in the web interface isn't currently what I would expect as a user. It basically cannot be used to show what is currently being broadcast on all channels, sorted by channel number (i.e. something TVHClient on Android does).
I've implemented such view mode, and I'm looking forward to hearing your comments.
I'd event suggest make this view mode default, but I'll leave it up to you.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,976,2017-07-17T21:48:17Z,2017-07-26T07:01:03Z,2017-07-26T07:01:03Z,CLOSED,False,28,4,2,https://github.com/LubosD,Add a button to quickly play a channel in EPG view (#3926),1,[],https://github.com/tvheadend/tvheadend/pull/976,https://github.com/LubosD,1,https://github.com/tvheadend/tvheadend/pull/976,"When scrolling through EPG view, I miss a button that would quickly open ""Watch TV"" with given channel. This implements such a feature.","When scrolling through EPG view, I miss a button that would quickly open ""Watch TV"" with given channel. This implements such a feature.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,976,2017-07-17T21:48:17Z,2017-07-26T07:01:03Z,2017-07-26T07:01:03Z,CLOSED,False,28,4,2,https://github.com/LubosD,Add a button to quickly play a channel in EPG view (#3926),1,[],https://github.com/tvheadend/tvheadend/pull/976,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/976#issuecomment-317966622,"When scrolling through EPG view, I miss a button that would quickly open ""Watch TV"" with given channel. This implements such a feature.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,977,2017-07-18T10:56:07Z,2017-11-01T00:20:11Z,2017-11-01T00:20:11Z,CLOSED,False,4,4,1,https://github.com/BKPepe,Upgrade version of x264-snapshot,2,[],https://github.com/tvheadend/tvheadend/pull/977,https://github.com/BKPepe,1,https://github.com/tvheadend/tvheadend/pull/977,"To the latest available according to: http://ftp.videolan.org/x264/snapshots/
//EDIT: I leave it here, but it's not necessary. I thought as it is in commit's comment it helped, but it didn't. I compiled it probably w/o ffmpeg. That's the reason, why I thought it helped me. (Funny, right?
:D) There is no button to remove it. Only close, but it's up to you. :-)
Maybe it would be better to use stable?","To the latest available according to: http://ftp.videolan.org/x264/snapshots/
//EDIT: I leave it here, but it's not necessary. I thought as it is in commit's comment it helped, but it didn't. I compiled it probably w/o ffmpeg. That's the reason, why I thought it helped me. (Funny, right?
:D) There is no button to remove it. Only close, but it's up to you. :-)
Maybe it would be better to use stable?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,977,2017-07-18T10:56:07Z,2017-11-01T00:20:11Z,2017-11-01T00:20:11Z,CLOSED,False,4,4,1,https://github.com/BKPepe,Upgrade version of x264-snapshot,2,[],https://github.com/tvheadend/tvheadend/pull/977,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/977#issuecomment-317724987,"To the latest available according to: http://ftp.videolan.org/x264/snapshots/
//EDIT: I leave it here, but it's not necessary. I thought as it is in commit's comment it helped, but it didn't. I compiled it probably w/o ffmpeg. That's the reason, why I thought it helped me. (Funny, right?
:D) There is no button to remove it. Only close, but it's up to you. :-)
Maybe it would be better to use stable?","Unfortunately, the dependency on newer nasm version breaks the debian builds (check the Travis CI).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,978,2017-07-24T12:38:29Z,2017-07-25T12:28:13Z,2017-07-25T12:28:13Z,CLOSED,False,17,1,3,https://github.com/dave-p,Add Delete Autorec to API,5,[],https://github.com/tvheadend/tvheadend/pull/978,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/978,This PR adds the ability to delete an Autorec via the HTTP API using the new URL api/dvr/autorec/cancel. Tested on UK Freeview using 'Series Link' autorecs.,This PR adds the ability to delete an Autorec via the HTTP API using the new URL api/dvr/autorec/cancel. Tested on UK Freeview using 'Series Link' autorecs.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,978,2017-07-24T12:38:29Z,2017-07-25T12:28:13Z,2017-07-25T12:28:13Z,CLOSED,False,17,1,3,https://github.com/dave-p,Add Delete Autorec to API,5,[],https://github.com/tvheadend/tvheadend/pull/978,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/978#issuecomment-317721954,This PR adds the ability to delete an Autorec via the HTTP API using the new URL api/dvr/autorec/cancel. Tested on UK Freeview using 'Series Link' autorecs.,Use api/idnode/delete to destroy an idnode object. You just wrote the identical code. Closing.,True,{'THUMBS_UP': ['https://github.com/imiroslavov']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,979,2017-07-26T12:29:36Z,2017-07-28T08:26:30Z,2017-07-28T15:11:41Z,CLOSED,False,2,0,1,https://github.com/ProfYaffle,WebUI: add return to sort-by-date when toggling back to 'All' from 'Now',1,[],https://github.com/tvheadend/tvheadend/pull/979,https://github.com/ProfYaffle,1,https://github.com/tvheadend/tvheadend/pull/979,".. as discussed on 620c50b#commitcomment-23309464
... this forces an EPG sort by start time when toggling back to ""All"" view from ""Now"" (currently-running) view. Without it, the sort remains by channel number; a quick test suggests that simply removing any sort order and the EPG defaults to sorting by duration, which is unlikely to be useful.",".. as discussed on 620c50b#commitcomment-23309464
... this forces an EPG sort by start time when toggling back to ""All"" view from ""Now"" (currently-running) view. Without it, the sort remains by channel number; a quick test suggests that simply removing any sort order and the EPG defaults to sorting by duration, which is unlikely to be useful.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,979,2017-07-26T12:29:36Z,2017-07-28T08:26:30Z,2017-07-28T15:11:41Z,CLOSED,False,2,0,1,https://github.com/ProfYaffle,WebUI: add return to sort-by-date when toggling back to 'All' from 'Now',1,[],https://github.com/tvheadend/tvheadend/pull/979,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/979#issuecomment-318591294,".. as discussed on 620c50b#commitcomment-23309464
... this forces an EPG sort by start time when toggling back to ""All"" view from ""Now"" (currently-running) view. Without it, the sort remains by channel number; a quick test suggests that simply removing any sort order and the EPG defaults to sorting by duration, which is unlikely to be useful.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,979,2017-07-26T12:29:36Z,2017-07-28T08:26:30Z,2017-07-28T15:11:41Z,CLOSED,False,2,0,1,https://github.com/ProfYaffle,WebUI: add return to sort-by-date when toggling back to 'All' from 'Now',1,[],https://github.com/tvheadend/tvheadend/pull/979,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/979#issuecomment-318593172,".. as discussed on 620c50b#commitcomment-23309464
... this forces an EPG sort by start time when toggling back to ""All"" view from ""Now"" (currently-running) view. Without it, the sort remains by channel number; a quick test suggests that simply removing any sort order and the EPG defaults to sorting by duration, which is unlikely to be useful.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,981,2017-07-30T13:09:28Z,2017-08-01T07:56:51Z,2017-08-01T07:56:51Z,CLOSED,False,11,5,4,https://github.com/mpmc,Travis-ci: correctly detect version & more,1,[],https://github.com/tvheadend/tvheadend/pull/981,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/981,"Changelog: add last 5 commits to changelog output
Autobuild: add raspbianjessie to libpcre2-dev/libpcre3-dev check","Changelog: add last 5 commits to changelog output
Autobuild: add raspbianjessie to libpcre2-dev/libpcre3-dev check",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,981,2017-07-30T13:09:28Z,2017-08-01T07:56:51Z,2017-08-01T07:56:51Z,CLOSED,False,11,5,4,https://github.com/mpmc,Travis-ci: correctly detect version & more,1,[],https://github.com/tvheadend/tvheadend/pull/981,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/981#issuecomment-319297134,"Changelog: add last 5 commits to changelog output
Autobuild: add raspbianjessie to libpcre2-dev/libpcre3-dev check",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,982,2017-07-30T15:27:40Z,2017-08-01T07:56:38Z,2017-08-01T07:56:38Z,CLOSED,False,10,1,1,https://github.com/ksooo,Add series link support to htsp autorec methods.,1,[],https://github.com/tvheadend/tvheadend/pull/982,https://github.com/ksooo,1,https://github.com/tvheadend/tvheadend/pull/982,"I need this to be able to schedule series link autorecs via htsp client (Kodi HTSP PVR Addon - pvr.hts, in this case).","I need this to be able to schedule series link autorecs via htsp client (Kodi HTSP PVR Addon - pvr.hts, in this case).",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,982,2017-07-30T15:27:40Z,2017-08-01T07:56:38Z,2017-08-01T07:56:38Z,CLOSED,False,10,1,1,https://github.com/ksooo,Add series link support to htsp autorec methods.,1,[],https://github.com/tvheadend/tvheadend/pull/982,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/982#issuecomment-319297085,"I need this to be able to schedule series link autorecs via htsp client (Kodi HTSP PVR Addon - pvr.hts, in this case).",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,983,2017-08-05T13:10:36Z,2017-08-06T15:50:18Z,2017-08-06T15:50:18Z,CLOSED,False,1,1,1,https://github.com/JF6,Issue in Fr translation,1,[],https://github.com/tvheadend/tvheadend/pull/983,https://github.com/JF6,1,https://github.com/tvheadend/tvheadend/pull/983,"For autorec, Sat means Saturday (Samedi in French), not Satellite.
Changed the string into Sam (""Samedi"" abreviated)","For autorec, Sat means Saturday (Samedi in French), not Satellite.
Changed the string into Sam (""Samedi"" abreviated)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,983,2017-08-05T13:10:36Z,2017-08-06T15:50:18Z,2017-08-06T15:50:18Z,CLOSED,False,1,1,1,https://github.com/JF6,Issue in Fr translation,1,[],https://github.com/tvheadend/tvheadend/pull/983,https://github.com/Saentist,2,https://github.com/tvheadend/tvheadend/pull/983#issuecomment-320464877,"For autorec, Sat means Saturday (Samedi in French), not Satellite.
Changed the string into Sam (""Samedi"" abreviated)","Translation is not in this Git it is located in
https://www.transifex.com/tvheadend-foundation-cic/tvheadend/dashboard/
there is located all translations
(synchronisation is other question)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,983,2017-08-05T13:10:36Z,2017-08-06T15:50:18Z,2017-08-06T15:50:18Z,CLOSED,False,1,1,1,https://github.com/JF6,Issue in Fr translation,1,[],https://github.com/tvheadend/tvheadend/pull/983,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/983#issuecomment-320515035,"For autorec, Sat means Saturday (Samedi in French), not Satellite.
Changed the string into Sam (""Samedi"" abreviated)","Yes, please, make all language specific changes on transifex. We will import texts before new 4.2.x release.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,984,2017-08-16T11:53:37Z,2017-08-16T11:54:01Z,2017-08-16T11:54:01Z,CLOSED,False,464,105,14,https://github.com/Makintos,Merge remote-tracking branch 'upstream/master',12,[],https://github.com/tvheadend/tvheadend/pull/984,https://github.com/Makintos,1,https://github.com/tvheadend/tvheadend/pull/984,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,985,2017-08-17T09:44:17Z,2017-08-22T08:28:24Z,2017-08-31T14:22:23Z,CLOSED,False,3,0,1,https://github.com/mpmc,Autobuild: add raspbian stretch target ready for doozer.,1,[],https://github.com/tvheadend/tvheadend/pull/985,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/985,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,985,2017-08-17T09:44:17Z,2017-08-22T08:28:24Z,2017-08-31T14:22:23Z,CLOSED,False,3,0,1,https://github.com/mpmc,Autobuild: add raspbian stretch target ready for doozer.,1,[],https://github.com/tvheadend/tvheadend/pull/985,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/985#issuecomment-323956467,,"It seems like a dup of #986, closing.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,986,2017-08-17T09:44:53Z,2017-08-22T08:27:58Z,2017-09-18T19:13:50Z,CLOSED,False,3,0,1,https://github.com/mpmc,Autobuild: add raspbian stretch target ready for doozer.,1,[],https://github.com/tvheadend/tvheadend/pull/986,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/986,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,986,2017-08-17T09:44:53Z,2017-08-22T08:27:58Z,2017-09-18T19:13:50Z,CLOSED,False,3,0,1,https://github.com/mpmc,Autobuild: add raspbian stretch target ready for doozer.,1,[],https://github.com/tvheadend/tvheadend/pull/986,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/986#issuecomment-323956357,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,987,2017-08-31T20:39:01Z,2017-09-03T13:41:45Z,2017-09-03T13:41:45Z,CLOSED,False,113,2,2,https://github.com/azlm8t,DVR: Record segmented programmes identified by EIT (issue 1303),1,[],https://github.com/tvheadend/tvheadend/pull/987,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/987,"A broadcaster can split a programme in to multiple segments. These
are identified by the segments having a CRID containing an IMI
(a hash character followed by an ID). Segments have identical
values for this CRID and IMI and the segments start within three
hours of the end of the previous segment.
These rules are documented in this spec in section 7.1.7:
http://www.freeviewnz.tv/media/1055/freeview_dtt_transmission_rules_2_1.pdf
This document is based on the UK transmission specification.
For example, a movie may be broadcast as:
21:00--22:00 movie segment 1
22:00--22:05 five minute news
22:05--23:30 movie segment 2
The xmltv guides typically merges this segments in to one
programme such as:
21:00--23:30 movie (including news)
In theory, a programme can be split in to numerous segments.
In practice I have only seen a programme split in to two
segments as shown above.
To simplify recording these programmes, we identify segmented
programmes and extend the stop time. So, in the above case,
if the user records the 9pm showing then we will automatically
extend the stop time to be 23:30 instead of 22:00.
This patch explicitly disables ""epg running state"" for stopping
the recording. This is because the recording is tied to the first
showing and we don't want the recording to stop at 22:00 in the
above example.
We cache the calculated stop time to avoid any overheads, but
explicitly recalculate it at the start of the programme. This ensures
we detect any recent changes.
No modification is done of the actual EPG data to attempt to
merge the programme segments.
The consequence of this is that the EPG will only show a ""recording""
marker against the first segment of the programme and not against
the second segment, which is unfortunate, however it is consistent
with recordings which have an extra stop time. The upcoming
recordings tab correctly shows the end time.
The duration of the finished recording is currently incorrectly
reported due to #3706. So the movie above would be reported as
60 minutes instead of 2h30.
Although the CRID processing is believed to be a global standard,
if other countries do not follow the UK/NZ specification then
the dvr_entry_get_segment_stop_extra could be updated to check a
(bitmask) config variable to enable/disable specific CRID processing.
I believe the overhead of the strcmp for the CRID check is minimal,
even on low-spec machines. If necessary we could cache to indicate
the CRID check has failed.
There are three extra info logs to verify correct behaviour: when
calculating the extra duration, when starting a recording for any
programme, and when stopping an extended recording.
Issue: #1303","A broadcaster can split a programme in to multiple segments. These
are identified by the segments having a CRID containing an IMI
(a hash character followed by an ID). Segments have identical
values for this CRID and IMI and the segments start within three
hours of the end of the previous segment.
These rules are documented in this spec in section 7.1.7:
http://www.freeviewnz.tv/media/1055/freeview_dtt_transmission_rules_2_1.pdf
This document is based on the UK transmission specification.
For example, a movie may be broadcast as:
21:00--22:00 movie segment 1
22:00--22:05 five minute news
22:05--23:30 movie segment 2
The xmltv guides typically merges this segments in to one
programme such as:
21:00--23:30 movie (including news)
In theory, a programme can be split in to numerous segments.
In practice I have only seen a programme split in to two
segments as shown above.
To simplify recording these programmes, we identify segmented
programmes and extend the stop time. So, in the above case,
if the user records the 9pm showing then we will automatically
extend the stop time to be 23:30 instead of 22:00.
This patch explicitly disables ""epg running state"" for stopping
the recording. This is because the recording is tied to the first
showing and we don't want the recording to stop at 22:00 in the
above example.
We cache the calculated stop time to avoid any overheads, but
explicitly recalculate it at the start of the programme. This ensures
we detect any recent changes.
No modification is done of the actual EPG data to attempt to
merge the programme segments.
The consequence of this is that the EPG will only show a ""recording""
marker against the first segment of the programme and not against
the second segment, which is unfortunate, however it is consistent
with recordings which have an extra stop time. The upcoming
recordings tab correctly shows the end time.
The duration of the finished recording is currently incorrectly
reported due to #3706. So the movie above would be reported as
60 minutes instead of 2h30.
Although the CRID processing is believed to be a global standard,
if other countries do not follow the UK/NZ specification then
the dvr_entry_get_segment_stop_extra could be updated to check a
(bitmask) config variable to enable/disable specific CRID processing.
I believe the overhead of the strcmp for the CRID check is minimal,
even on low-spec machines. If necessary we could cache to indicate
the CRID check has failed.
There are three extra info logs to verify correct behaviour: when
calculating the extra duration, when starting a recording for any
programme, and when stopping an extended recording.
Issue: #1303",True,{'THUMBS_UP': ['https://github.com/kwirk']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,987,2017-08-31T20:39:01Z,2017-09-03T13:41:45Z,2017-09-03T13:41:45Z,CLOSED,False,113,2,2,https://github.com/azlm8t,DVR: Record segmented programmes identified by EIT (issue 1303),1,[],https://github.com/tvheadend/tvheadend/pull/987,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/987#issuecomment-326805736,"A broadcaster can split a programme in to multiple segments. These
are identified by the segments having a CRID containing an IMI
(a hash character followed by an ID). Segments have identical
values for this CRID and IMI and the segments start within three
hours of the end of the previous segment.
These rules are documented in this spec in section 7.1.7:
http://www.freeviewnz.tv/media/1055/freeview_dtt_transmission_rules_2_1.pdf
This document is based on the UK transmission specification.
For example, a movie may be broadcast as:
21:00--22:00 movie segment 1
22:00--22:05 five minute news
22:05--23:30 movie segment 2
The xmltv guides typically merges this segments in to one
programme such as:
21:00--23:30 movie (including news)
In theory, a programme can be split in to numerous segments.
In practice I have only seen a programme split in to two
segments as shown above.
To simplify recording these programmes, we identify segmented
programmes and extend the stop time. So, in the above case,
if the user records the 9pm showing then we will automatically
extend the stop time to be 23:30 instead of 22:00.
This patch explicitly disables ""epg running state"" for stopping
the recording. This is because the recording is tied to the first
showing and we don't want the recording to stop at 22:00 in the
above example.
We cache the calculated stop time to avoid any overheads, but
explicitly recalculate it at the start of the programme. This ensures
we detect any recent changes.
No modification is done of the actual EPG data to attempt to
merge the programme segments.
The consequence of this is that the EPG will only show a ""recording""
marker against the first segment of the programme and not against
the second segment, which is unfortunate, however it is consistent
with recordings which have an extra stop time. The upcoming
recordings tab correctly shows the end time.
The duration of the finished recording is currently incorrectly
reported due to #3706. So the movie above would be reported as
60 minutes instead of 2h30.
Although the CRID processing is believed to be a global standard,
if other countries do not follow the UK/NZ specification then
the dvr_entry_get_segment_stop_extra could be updated to check a
(bitmask) config variable to enable/disable specific CRID processing.
I believe the overhead of the strcmp for the CRID check is minimal,
even on low-spec machines. If necessary we could cache to indicate
the CRID check has failed.
There are three extra info logs to verify correct behaviour: when
calculating the extra duration, when starting a recording for any
programme, and when stopping an extended recording.
Issue: #1303",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,988,2017-09-03T12:19:27Z,2017-09-03T13:40:05Z,2017-09-03T13:40:05Z,CLOSED,False,3,3,2,https://github.com/blablack,Av desync,9,[],https://github.com/tvheadend/tvheadend/pull/988,https://github.com/blablack,1,https://github.com/tvheadend/tvheadend/pull/988,"From the dev's comments, I understand this is not a clean fix for https://tvheadend.org/issues/4507 - but can we still integrate this workaround until a proper solution is put in place?","From the dev's comments, I understand this is not a clean fix for https://tvheadend.org/issues/4507 - but can we still integrate this workaround until a proper solution is put in place?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,988,2017-09-03T12:19:27Z,2017-09-03T13:40:05Z,2017-09-03T13:40:05Z,CLOSED,False,3,3,2,https://github.com/blablack,Av desync,9,[],https://github.com/tvheadend/tvheadend/pull/988,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/988#issuecomment-326805629,"From the dev's comments, I understand this is not a clean fix for https://tvheadend.org/issues/4507 - but can we still integrate this workaround until a proper solution is put in place?",Fixed in 8a43edd except the reversed no_audio check.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,989,2017-09-05T16:24:21Z,2017-09-06T09:26:18Z,2017-09-06T09:26:18Z,CLOSED,False,7,5,1,https://github.com/mpmc,"configure: only enable nvenc if asked, not by default.",1,[],https://github.com/tvheadend/tvheadend/pull/989,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/989,"Not sure if this is correct, I assume so. Please tell me if otherwise.","Not sure if this is correct, I assume so. Please tell me if otherwise.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,990,2017-09-07T20:18:25Z,2017-09-08T07:25:26Z,2017-09-08T07:25:26Z,CLOSED,False,414,94,10,https://github.com/azlm8t,4287 scrape episode from ota eit,6,[],https://github.com/tvheadend/tvheadend/pull/990,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/990,"This patch allows optional scraping of season, episode, and airdate information
from the EIT summary data for EIT-based parsers (uk, nz, etc. not psip
nor opentv).
Broadcasters often include season and episode number in the summary
text in the OTA EIT. For example UK broadcasters often have a
description of ""Lorem ipsum (S5 Ep 8)"" or ""Lorem ipsum (S3 Ep 4/9)"" or
""Lorem ipsum (Ep 4)"", and movies have an airdate such as ""Lorem (1998)"".
So this can be extracted using regex.
The main logic is only about ten lines in commit 2 and is based
on the opentv logic.
The rest of the commits are re-factoring of existing regular expression parsing
in to a separate file (commit 1) and adding GUI configuration to enable/disable the
processing. Modifications to the other parsers is to pass a flag to
indicate whether they support scraping.
The regular expressions are loaded from a configuration file based
on the module name such as uk_freesat. If that file does not exist
then it tries the first component before the underscore, so ""uk""
or ""nz"". Alternatively, the user can override the configuration file
in the GUI, which is useful for the generic ""eit"" module.
The GUI also has a tick box to enable the scraping. The intention is
that in the future we might have other optional functionality such as
""tidy title to remove the 'New:' prefix"" which some users might not
want.
To enable the functionality, go to Configuration->Channel->EPG Grabber
Modules->Over the Air. Enable ""Scrape episode"". In the generic ""DVB
Grabber"" I enter ""uk"" to cause it to load the uk configuration since I have
generic ""DVB Grabber"" enabled along with freeview and freesat.
I've only supplied the uk configuration. I can see issue 4509 which appears
to be for Bulsatcom and can request some more information if the pull
request is accepted.
The scraping can be disabled so should have no impact on very low
spec machines.
One minor issue I noticed is that on one of my minor channels and the sister +1 timeshift channel
broadcast the same programme with the same crid but with different description: one with
season/episode information and one without. Since tvh lookups are by crid,
that means tvh constantly overwrites the description depending on the last one parsed.
Previously it wouldn't really be noticed by anyone that the description constantly changes.
However, this means sometimes the GUI shows a description containing season/episode when
you click info, but the season/episode field is blank due to tvh parsing the other
description in the interim. So not a bug, just an existing annoyance that I'll mention
since it looks unexpected and took a while to track down.","This patch allows optional scraping of season, episode, and airdate information
from the EIT summary data for EIT-based parsers (uk, nz, etc. not psip
nor opentv).
Broadcasters often include season and episode number in the summary
text in the OTA EIT. For example UK broadcasters often have a
description of ""Lorem ipsum (S5 Ep 8)"" or ""Lorem ipsum (S3 Ep 4/9)"" or
""Lorem ipsum (Ep 4)"", and movies have an airdate such as ""Lorem (1998)"".
So this can be extracted using regex.
The main logic is only about ten lines in commit 2 and is based
on the opentv logic.
The rest of the commits are re-factoring of existing regular expression parsing
in to a separate file (commit 1) and adding GUI configuration to enable/disable the
processing. Modifications to the other parsers is to pass a flag to
indicate whether they support scraping.
The regular expressions are loaded from a configuration file based
on the module name such as uk_freesat. If that file does not exist
then it tries the first component before the underscore, so ""uk""
or ""nz"". Alternatively, the user can override the configuration file
in the GUI, which is useful for the generic ""eit"" module.
The GUI also has a tick box to enable the scraping. The intention is
that in the future we might have other optional functionality such as
""tidy title to remove the 'New:' prefix"" which some users might not
want.
To enable the functionality, go to Configuration->Channel->EPG Grabber
Modules->Over the Air. Enable ""Scrape episode"". In the generic ""DVB
Grabber"" I enter ""uk"" to cause it to load the uk configuration since I have
generic ""DVB Grabber"" enabled along with freeview and freesat.
I've only supplied the uk configuration. I can see issue 4509 which appears
to be for Bulsatcom and can request some more information if the pull
request is accepted.
The scraping can be disabled so should have no impact on very low
spec machines.
One minor issue I noticed is that on one of my minor channels and the sister +1 timeshift channel
broadcast the same programme with the same crid but with different description: one with
season/episode information and one without. Since tvh lookups are by crid,
that means tvh constantly overwrites the description depending on the last one parsed.
Previously it wouldn't really be noticed by anyone that the description constantly changes.
However, this means sometimes the GUI shows a description containing season/episode when
you click info, but the season/episode field is blank due to tvh parsing the other
description in the interim. So not a bug, just an existing annoyance that I'll mention
since it looks unexpected and took a while to track down.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,990,2017-09-07T20:18:25Z,2017-09-08T07:25:26Z,2017-09-08T07:25:26Z,CLOSED,False,414,94,10,https://github.com/azlm8t,4287 scrape episode from ota eit,6,[],https://github.com/tvheadend/tvheadend/pull/990,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/990#issuecomment-328023123,"This patch allows optional scraping of season, episode, and airdate information
from the EIT summary data for EIT-based parsers (uk, nz, etc. not psip
nor opentv).
Broadcasters often include season and episode number in the summary
text in the OTA EIT. For example UK broadcasters often have a
description of ""Lorem ipsum (S5 Ep 8)"" or ""Lorem ipsum (S3 Ep 4/9)"" or
""Lorem ipsum (Ep 4)"", and movies have an airdate such as ""Lorem (1998)"".
So this can be extracted using regex.
The main logic is only about ten lines in commit 2 and is based
on the opentv logic.
The rest of the commits are re-factoring of existing regular expression parsing
in to a separate file (commit 1) and adding GUI configuration to enable/disable the
processing. Modifications to the other parsers is to pass a flag to
indicate whether they support scraping.
The regular expressions are loaded from a configuration file based
on the module name such as uk_freesat. If that file does not exist
then it tries the first component before the underscore, so ""uk""
or ""nz"". Alternatively, the user can override the configuration file
in the GUI, which is useful for the generic ""eit"" module.
The GUI also has a tick box to enable the scraping. The intention is
that in the future we might have other optional functionality such as
""tidy title to remove the 'New:' prefix"" which some users might not
want.
To enable the functionality, go to Configuration->Channel->EPG Grabber
Modules->Over the Air. Enable ""Scrape episode"". In the generic ""DVB
Grabber"" I enter ""uk"" to cause it to load the uk configuration since I have
generic ""DVB Grabber"" enabled along with freeview and freesat.
I've only supplied the uk configuration. I can see issue 4509 which appears
to be for Bulsatcom and can request some more information if the pull
request is accepted.
The scraping can be disabled so should have no impact on very low
spec machines.
One minor issue I noticed is that on one of my minor channels and the sister +1 timeshift channel
broadcast the same programme with the same crid but with different description: one with
season/episode information and one without. Since tvh lookups are by crid,
that means tvh constantly overwrites the description depending on the last one parsed.
Previously it wouldn't really be noticed by anyone that the description constantly changes.
However, this means sometimes the GUI shows a description containing season/episode when
you click info, but the season/episode field is blank due to tvh parsing the other
description in the interim. So not a bug, just an existing annoyance that I'll mention
since it looks unexpected and took a while to track down.",Merged. thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,991,2017-09-08T01:17:55Z,2017-09-08T07:25:41Z,2017-09-08T07:25:41Z,CLOSED,False,4,2,1,https://github.com/azlm8t,DVR: Prefer autorec rule name if comment field is empty (#4500),1,[],https://github.com/tvheadend/tvheadend/pull/991,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/991,"Currently the Upcoming recordings tab has a comment field that says
""Auto recording"" or ""Auto recording: comment from autorec rule"".
This helps to identify why a recording is scheduled.
This patch ensures we continue to use the autorec comment field if
it is non-empty (keeping existing behaviour), but fallback to using
the recording rule name. If both are empty then we keep the
existing behaviour of fallback to an empty string.
This avoids the user having to duplicate the rule name in to
the comment string for manually created autorec rules.
So, in the above case it would be ""Auto recording: comment"",
""Auto recording: rule name"", otherwise ""Auto recording"".
Issue: #4500.","Currently the Upcoming recordings tab has a comment field that says
""Auto recording"" or ""Auto recording: comment from autorec rule"".
This helps to identify why a recording is scheduled.
This patch ensures we continue to use the autorec comment field if
it is non-empty (keeping existing behaviour), but fallback to using
the recording rule name. If both are empty then we keep the
existing behaviour of fallback to an empty string.
This avoids the user having to duplicate the rule name in to
the comment string for manually created autorec rules.
So, in the above case it would be ""Auto recording: comment"",
""Auto recording: rule name"", otherwise ""Auto recording"".
Issue: #4500.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,991,2017-09-08T01:17:55Z,2017-09-08T07:25:41Z,2017-09-08T07:25:41Z,CLOSED,False,4,2,1,https://github.com/azlm8t,DVR: Prefer autorec rule name if comment field is empty (#4500),1,[],https://github.com/tvheadend/tvheadend/pull/991,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/991#issuecomment-328023187,"Currently the Upcoming recordings tab has a comment field that says
""Auto recording"" or ""Auto recording: comment from autorec rule"".
This helps to identify why a recording is scheduled.
This patch ensures we continue to use the autorec comment field if
it is non-empty (keeping existing behaviour), but fallback to using
the recording rule name. If both are empty then we keep the
existing behaviour of fallback to an empty string.
This avoids the user having to duplicate the rule name in to
the comment string for manually created autorec rules.
So, in the above case it would be ""Auto recording: comment"",
""Auto recording: rule name"", otherwise ""Auto recording"".
Issue: #4500.",Merged. Thanks.,True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,992,2017-09-09T02:44:56Z,2017-09-16T11:56:13Z,2017-09-16T11:56:13Z,CLOSED,False,90,9,5,https://github.com/azlm8t,eit: scrape sub-title for uk freeview freesat (#4578),5,[],https://github.com/tvheadend/tvheadend/pull/992,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/992,"The Freeview/Freesat frequently have a subtitle as part of the
summary. So we have ""Treehouse of Horror IX: Three scary
stories.""  from which we can deduce the subtitle as ""Treehouse of
Horror IX"".
So allow scraping of this and use it as the subtitle. If we
cannot scrape a subtitle then we continue the existing practice
of using the summary buffer for the subtitle.
The subtitle is currently NOT removed from the summary. I experimented with removing it but the logic for tidying up the summary was becoming ugly for relatively little benefit.
This scraping is configurable via Configuration->Channel->EPG Grabber Module->Scrape Subtitle.
This ensures that people who rely on the existing dup detect for subtitle are not affected by the change unless they specifically opt-in.
I also added a bit more clarification to the documentation of scraping to indicate that they don't access the Internet, and fixed up the regex so they are parsable by JSON for the upcoming test harness.
Issue: #4578","The Freeview/Freesat frequently have a subtitle as part of the
summary. So we have ""Treehouse of Horror IX: Three scary
stories.""  from which we can deduce the subtitle as ""Treehouse of
Horror IX"".
So allow scraping of this and use it as the subtitle. If we
cannot scrape a subtitle then we continue the existing practice
of using the summary buffer for the subtitle.
The subtitle is currently NOT removed from the summary. I experimented with removing it but the logic for tidying up the summary was becoming ugly for relatively little benefit.
This scraping is configurable via Configuration->Channel->EPG Grabber Module->Scrape Subtitle.
This ensures that people who rely on the existing dup detect for subtitle are not affected by the change unless they specifically opt-in.
I also added a bit more clarification to the documentation of scraping to indicate that they don't access the Internet, and fixed up the regex so they are parsable by JSON for the upcoming test harness.
Issue: #4578",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,992,2017-09-09T02:44:56Z,2017-09-16T11:56:13Z,2017-09-16T11:56:13Z,CLOSED,False,90,9,5,https://github.com/azlm8t,eit: scrape sub-title for uk freeview freesat (#4578),5,[],https://github.com/tvheadend/tvheadend/pull/992,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/992#issuecomment-329964135,"The Freeview/Freesat frequently have a subtitle as part of the
summary. So we have ""Treehouse of Horror IX: Three scary
stories.""  from which we can deduce the subtitle as ""Treehouse of
Horror IX"".
So allow scraping of this and use it as the subtitle. If we
cannot scrape a subtitle then we continue the existing practice
of using the summary buffer for the subtitle.
The subtitle is currently NOT removed from the summary. I experimented with removing it but the logic for tidying up the summary was becoming ugly for relatively little benefit.
This scraping is configurable via Configuration->Channel->EPG Grabber Module->Scrape Subtitle.
This ensures that people who rely on the existing dup detect for subtitle are not affected by the change unless they specifically opt-in.
I also added a bit more clarification to the documentation of scraping to indicate that they don't access the Internet, and fixed up the regex so they are parsable by JSON for the upcoming test harness.
Issue: #4578",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,993,2017-09-09T18:40:44Z,2017-09-24T07:09:45Z,2017-09-24T07:09:45Z,CLOSED,False,339,0,5,https://github.com/azlm8t,EIT scraper basic test harness (#4577),3,[],https://github.com/tvheadend/tvheadend/pull/993,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/993,"(Please leave bug open for further commits as people work out their scraper settings, but if code is acceptable then commit, thanks).
This is an initial implementation of a simple Python test harness for the EIT scraping behaviour. This is done to make it easier to verify changes going forward and make it easier for non-programmers to add test cases for scrapers.
It takes the Tvheadend scraper configuration file as input and a JSON test harness file containing data similar to a broadcaster's summary and the season/episode we expect to scrape from it. It then just outputs a simple OK or FAIL for each case.
I'm hoping the syntax is easy enough that non-programmers can write examples of what they expected from what they see in the EIT.
I've added the Bulsatcom_39E test harness file but have not included the configuration file since it is still being discussed in #4509, but committing the test harness file will allow the two other people in that thread to hopefully test their local changes to the config file more easily.
The uk test harness file only works against the uk Tvheadend file in #4578 since Python had problems parsing the file. I've not added it to this patch since there would be merge conflicts.","(Please leave bug open for further commits as people work out their scraper settings, but if code is acceptable then commit, thanks).
This is an initial implementation of a simple Python test harness for the EIT scraping behaviour. This is done to make it easier to verify changes going forward and make it easier for non-programmers to add test cases for scrapers.
It takes the Tvheadend scraper configuration file as input and a JSON test harness file containing data similar to a broadcaster's summary and the season/episode we expect to scrape from it. It then just outputs a simple OK or FAIL for each case.
I'm hoping the syntax is easy enough that non-programmers can write examples of what they expected from what they see in the EIT.
I've added the Bulsatcom_39E test harness file but have not included the configuration file since it is still being discussed in #4509, but committing the test harness file will allow the two other people in that thread to hopefully test their local changes to the config file more easily.
The uk test harness file only works against the uk Tvheadend file in #4578 since Python had problems parsing the file. I've not added it to this patch since there would be merge conflicts.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,993,2017-09-09T18:40:44Z,2017-09-24T07:09:45Z,2017-09-24T07:09:45Z,CLOSED,False,339,0,5,https://github.com/azlm8t,EIT scraper basic test harness (#4577),3,[],https://github.com/tvheadend/tvheadend/pull/993,https://github.com/Saentist,2,https://github.com/tvheadend/tvheadend/pull/993#issuecomment-328296810,"(Please leave bug open for further commits as people work out their scraper settings, but if code is acceptable then commit, thanks).
This is an initial implementation of a simple Python test harness for the EIT scraping behaviour. This is done to make it easier to verify changes going forward and make it easier for non-programmers to add test cases for scrapers.
It takes the Tvheadend scraper configuration file as input and a JSON test harness file containing data similar to a broadcaster's summary and the season/episode we expect to scrape from it. It then just outputs a simple OK or FAIL for each case.
I'm hoping the syntax is easy enough that non-programmers can write examples of what they expected from what they see in the EIT.
I've added the Bulsatcom_39E test harness file but have not included the configuration file since it is still being discussed in #4509, but committing the test harness file will allow the two other people in that thread to hopefully test their local changes to the config file more easily.
The uk test harness file only works against the uk Tvheadend file in #4578 since Python had problems parsing the file. I've not added it to this patch since there would be merge conflicts.","Let's rename ""Bulsatcom_39E"" to ""bg""
it apply to almost every Bulgarian DVB-T/C/S operators
This is wrong
   {
        ""comment"": ""Culinary show, episode 3"",
        ""summary"": ""кулинарно предаване, 3 епизода"",
        ""season"": null, ""episode"": ""3""
    },

3 епизода mean 3 episodeS not episode 3 aka 3 episodes one by one",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,993,2017-09-09T18:40:44Z,2017-09-24T07:09:45Z,2017-09-24T07:09:45Z,CLOSED,False,339,0,5,https://github.com/azlm8t,EIT scraper basic test harness (#4577),3,[],https://github.com/tvheadend/tvheadend/pull/993,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/993#issuecomment-328304710,"(Please leave bug open for further commits as people work out their scraper settings, but if code is acceptable then commit, thanks).
This is an initial implementation of a simple Python test harness for the EIT scraping behaviour. This is done to make it easier to verify changes going forward and make it easier for non-programmers to add test cases for scrapers.
It takes the Tvheadend scraper configuration file as input and a JSON test harness file containing data similar to a broadcaster's summary and the season/episode we expect to scrape from it. It then just outputs a simple OK or FAIL for each case.
I'm hoping the syntax is easy enough that non-programmers can write examples of what they expected from what they see in the EIT.
I've added the Bulsatcom_39E test harness file but have not included the configuration file since it is still being discussed in #4509, but committing the test harness file will allow the two other people in that thread to hopefully test their local changes to the config file more easily.
The uk test harness file only works against the uk Tvheadend file in #4578 since Python had problems parsing the file. I've not added it to this patch since there would be merge conflicts.","Thanks, I've applied those changes.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,993,2017-09-09T18:40:44Z,2017-09-24T07:09:45Z,2017-09-24T07:09:45Z,CLOSED,False,339,0,5,https://github.com/azlm8t,EIT scraper basic test harness (#4577),3,[],https://github.com/tvheadend/tvheadend/pull/993,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/993#issuecomment-331691954,"(Please leave bug open for further commits as people work out their scraper settings, but if code is acceptable then commit, thanks).
This is an initial implementation of a simple Python test harness for the EIT scraping behaviour. This is done to make it easier to verify changes going forward and make it easier for non-programmers to add test cases for scrapers.
It takes the Tvheadend scraper configuration file as input and a JSON test harness file containing data similar to a broadcaster's summary and the season/episode we expect to scrape from it. It then just outputs a simple OK or FAIL for each case.
I'm hoping the syntax is easy enough that non-programmers can write examples of what they expected from what they see in the EIT.
I've added the Bulsatcom_39E test harness file but have not included the configuration file since it is still being discussed in #4509, but committing the test harness file will allow the two other people in that thread to hopefully test their local changes to the config file more easily.
The uk test harness file only works against the uk Tvheadend file in #4578 since Python had problems parsing the file. I've not added it to this patch since there would be merge conflicts.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,994,2017-09-18T19:15:38Z,2017-09-24T07:09:58Z,2017-09-24T09:54:31Z,CLOSED,False,12,0,1,https://github.com/mpmc,doozer: 'fix' dirty build issue (4).,1,[],https://github.com/tvheadend/tvheadend/pull/994,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/994,"from (but modified): https://stackoverflow.com/questions/24533390/git-reset-files-with-typechange-status#27461055
Update: CentOS has issues with this apparently :( https://doozer.io/mpmc/tvheadend/build/1255
Feel free to modify/fix (I have no idea why it won't work on centos).","from (but modified): https://stackoverflow.com/questions/24533390/git-reset-files-with-typechange-status#27461055
Update: CentOS has issues with this apparently :( https://doozer.io/mpmc/tvheadend/build/1255
Feel free to modify/fix (I have no idea why it won't work on centos).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,994,2017-09-18T19:15:38Z,2017-09-24T07:09:58Z,2017-09-24T09:54:31Z,CLOSED,False,12,0,1,https://github.com/mpmc,doozer: 'fix' dirty build issue (4).,1,[],https://github.com/tvheadend/tvheadend/pull/994,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/994#issuecomment-331691961,"from (but modified): https://stackoverflow.com/questions/24533390/git-reset-files-with-typechange-status#27461055
Update: CentOS has issues with this apparently :( https://doozer.io/mpmc/tvheadend/build/1255
Feel free to modify/fix (I have no idea why it won't work on centos).",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,995,2017-09-18T21:36:48Z,2017-12-03T22:22:20Z,2017-12-03T22:22:20Z,CLOSED,False,102,9,8,https://github.com/mpmc,Travis: build and publish targets including those not currently supported by doozer,1,[],https://github.com/tvheadend/tvheadend/pull/995,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/995,"This basically uses Docker on Travis-CI to build various targets, including some not currently supported by Doozer, It's mainly as a backup.
I've been testing this for a while & it seems to work okay, it's not the nicest in the least and may need some fixing, especially the GIT_BRANCH ""hack"" I added which doesn't work right yet, but that can be ignored (or even stripped out).
The uploads are done in docker, so the ENV variables [BINTRAY_USER, BINTRAY_PASS] etc need to be set (securely) in Travis, See the docker run line for the rest. These are slow builds & I mean slow, but that should be fine as a backup as the upload fails with 409 conflict if Doozer uploads first.

This can be rejected if not up to standard, or used as people see fit.","This basically uses Docker on Travis-CI to build various targets, including some not currently supported by Doozer, It's mainly as a backup.
I've been testing this for a while & it seems to work okay, it's not the nicest in the least and may need some fixing, especially the GIT_BRANCH ""hack"" I added which doesn't work right yet, but that can be ignored (or even stripped out).
The uploads are done in docker, so the ENV variables [BINTRAY_USER, BINTRAY_PASS] etc need to be set (securely) in Travis, See the docker run line for the rest. These are slow builds & I mean slow, but that should be fine as a backup as the upload fails with 409 conflict if Doozer uploads first.

This can be rejected if not up to standard, or used as people see fit.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,995,2017-09-18T21:36:48Z,2017-12-03T22:22:20Z,2017-12-03T22:22:20Z,CLOSED,False,102,9,8,https://github.com/mpmc,Travis: build and publish targets including those not currently supported by doozer,1,[],https://github.com/tvheadend/tvheadend/pull/995,https://github.com/mpmc,2,https://github.com/tvheadend/tvheadend/pull/995#issuecomment-348820663,"This basically uses Docker on Travis-CI to build various targets, including some not currently supported by Doozer, It's mainly as a backup.
I've been testing this for a while & it seems to work okay, it's not the nicest in the least and may need some fixing, especially the GIT_BRANCH ""hack"" I added which doesn't work right yet, but that can be ignored (or even stripped out).
The uploads are done in docker, so the ENV variables [BINTRAY_USER, BINTRAY_PASS] etc need to be set (securely) in Travis, See the docker run line for the rest. These are slow builds & I mean slow, but that should be fine as a backup as the upload fails with 409 conflict if Doozer uploads first.

This can be rejected if not up to standard, or used as people see fit.",I don't think this is needed anymore - closing for now :),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,996,2017-09-19T08:40:58Z,2017-09-24T07:06:58Z,2017-09-24T07:06:59Z,CLOSED,False,262,236,2,https://github.com/mpmc,webui: misc changes,2,[],https://github.com/tvheadend/tvheadend/pull/996,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/996,@perexg Let me know what you think :).,@perexg Let me know what you think :).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,996,2017-09-19T08:40:58Z,2017-09-24T07:06:58Z,2017-09-24T07:06:59Z,CLOSED,False,262,236,2,https://github.com/mpmc,webui: misc changes,2,[],https://github.com/tvheadend/tvheadend/pull/996,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/996#issuecomment-331691806,@perexg Let me know what you think :).,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,997,2017-09-20T15:28:05Z,2017-10-09T14:15:20Z,2017-10-09T14:15:20Z,CLOSED,False,861,52,17,https://github.com/azlm8t,"xmltv scrape extra information (credits, keywords, etc) (issue #4441)",9,[],https://github.com/tvheadend/tvheadend/pull/997,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/997,"The xmltv provides additional information about programmes such as
keywords (""Zookeeper"", ""Newscast"", ""Lion"", ""Mystery""), and categories
(""Crime drama"", ""Movie"", ""Series""). It can also provide detailed
information about actors, writers, editors, composers, etc.
We parse this information and allow it to be searched from the GUI.
I've not made any changes to Kodi's pvr.hts to parse this informaiton
since I have no environment configured for compiling and testing it.
We make this scraping configurable since having 20+ actors and
keywords per movie can increase memory usage of the server and the
clients to which we send this information.
We also offer an option to append this information on to the
description. This allows people with old clients to see the
information. So it will append ""Starring: X, Y, Z"", a bit like a
normal tv guide.
We also parse a few more age ratings and prevent underflow that
currently occurs due to one ratings agency using negative numbers.
The date field from the xmltv dtd is also parsed to give a
""copyrightYear"" field. I chose that name because ""finished date"" (used
in the xmltv DTD) sounded too similar to DVR functionality such as
stop time, and the DTD said the date is typically the copyright date anyway.
I added a new file ""string_list"" to keep a sorted unique list of
strings, which required adding a few ""const"" qualifiers to htsmsg.
The htsp has been updated to have the extra information, for example:
{
'category': ['Action', 'Drama', 'Episode', 'Series', 'series'],
'credits': { 'Branscombe Richmond': 'guest',
'Bruce Glover': 'guest',
'Cherie Michan': 'guest',
'Craig R. Baxley': 'director',
'Dennis Franz': 'guest',
'Dirk Benedict': 'actor',
'Dwight Schultz': 'actor',
'Garnett Smith': 'guest',
'George Peppard': 'actor',
'Lloyd Bochner': 'guest',
'Maylo McCashlin': 'guest',
'Mr. T': 'actor'},
'method': 'eventAdd',
...
Example:
{
'category': ['Feature Film', 'Movie', 'Western', 'movie'],
'copyrightYear': 1947,
'credits': { 'Andre de Toth': 'director',
'Arleen Whelan': 'actor',
...
'Veronica Lake': 'actor'},
'keyword': [ '1880s',...
'Tense'],
'method': 'eventUpdate',
...
I did not scrape ""country"" from the xmltv (as suggested by bug) since
I could not see this being currently used by Kodi and it is only one of
the countries used during production, so is probably best just grabbed
from online sources that give all countries.
Also, looking at the original Kodi request, it appears it was only for
EPG information, hence information like ""year"" still can't be passed to it for
recorded programmes.","The xmltv provides additional information about programmes such as
keywords (""Zookeeper"", ""Newscast"", ""Lion"", ""Mystery""), and categories
(""Crime drama"", ""Movie"", ""Series""). It can also provide detailed
information about actors, writers, editors, composers, etc.
We parse this information and allow it to be searched from the GUI.
I've not made any changes to Kodi's pvr.hts to parse this informaiton
since I have no environment configured for compiling and testing it.
We make this scraping configurable since having 20+ actors and
keywords per movie can increase memory usage of the server and the
clients to which we send this information.
We also offer an option to append this information on to the
description. This allows people with old clients to see the
information. So it will append ""Starring: X, Y, Z"", a bit like a
normal tv guide.
We also parse a few more age ratings and prevent underflow that
currently occurs due to one ratings agency using negative numbers.
The date field from the xmltv dtd is also parsed to give a
""copyrightYear"" field. I chose that name because ""finished date"" (used
in the xmltv DTD) sounded too similar to DVR functionality such as
stop time, and the DTD said the date is typically the copyright date anyway.
I added a new file ""string_list"" to keep a sorted unique list of
strings, which required adding a few ""const"" qualifiers to htsmsg.
The htsp has been updated to have the extra information, for example:
{
'category': ['Action', 'Drama', 'Episode', 'Series', 'series'],
'credits': { 'Branscombe Richmond': 'guest',
'Bruce Glover': 'guest',
'Cherie Michan': 'guest',
'Craig R. Baxley': 'director',
'Dennis Franz': 'guest',
'Dirk Benedict': 'actor',
'Dwight Schultz': 'actor',
'Garnett Smith': 'guest',
'George Peppard': 'actor',
'Lloyd Bochner': 'guest',
'Maylo McCashlin': 'guest',
'Mr. T': 'actor'},
'method': 'eventAdd',
...
Example:
{
'category': ['Feature Film', 'Movie', 'Western', 'movie'],
'copyrightYear': 1947,
'credits': { 'Andre de Toth': 'director',
'Arleen Whelan': 'actor',
...
'Veronica Lake': 'actor'},
'keyword': [ '1880s',...
'Tense'],
'method': 'eventUpdate',
...
I did not scrape ""country"" from the xmltv (as suggested by bug) since
I could not see this being currently used by Kodi and it is only one of
the countries used during production, so is probably best just grabbed
from online sources that give all countries.
Also, looking at the original Kodi request, it appears it was only for
EPG information, hence information like ""year"" still can't be passed to it for
recorded programmes.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,997,2017-09-20T15:28:05Z,2017-10-09T14:15:20Z,2017-10-09T14:15:20Z,CLOSED,False,861,52,17,https://github.com/azlm8t,"xmltv scrape extra information (credits, keywords, etc) (issue #4441)",9,[],https://github.com/tvheadend/tvheadend/pull/997,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/997#issuecomment-335171325,"The xmltv provides additional information about programmes such as
keywords (""Zookeeper"", ""Newscast"", ""Lion"", ""Mystery""), and categories
(""Crime drama"", ""Movie"", ""Series""). It can also provide detailed
information about actors, writers, editors, composers, etc.
We parse this information and allow it to be searched from the GUI.
I've not made any changes to Kodi's pvr.hts to parse this informaiton
since I have no environment configured for compiling and testing it.
We make this scraping configurable since having 20+ actors and
keywords per movie can increase memory usage of the server and the
clients to which we send this information.
We also offer an option to append this information on to the
description. This allows people with old clients to see the
information. So it will append ""Starring: X, Y, Z"", a bit like a
normal tv guide.
We also parse a few more age ratings and prevent underflow that
currently occurs due to one ratings agency using negative numbers.
The date field from the xmltv dtd is also parsed to give a
""copyrightYear"" field. I chose that name because ""finished date"" (used
in the xmltv DTD) sounded too similar to DVR functionality such as
stop time, and the DTD said the date is typically the copyright date anyway.
I added a new file ""string_list"" to keep a sorted unique list of
strings, which required adding a few ""const"" qualifiers to htsmsg.
The htsp has been updated to have the extra information, for example:
{
'category': ['Action', 'Drama', 'Episode', 'Series', 'series'],
'credits': { 'Branscombe Richmond': 'guest',
'Bruce Glover': 'guest',
'Cherie Michan': 'guest',
'Craig R. Baxley': 'director',
'Dennis Franz': 'guest',
'Dirk Benedict': 'actor',
'Dwight Schultz': 'actor',
'Garnett Smith': 'guest',
'George Peppard': 'actor',
'Lloyd Bochner': 'guest',
'Maylo McCashlin': 'guest',
'Mr. T': 'actor'},
'method': 'eventAdd',
...
Example:
{
'category': ['Feature Film', 'Movie', 'Western', 'movie'],
'copyrightYear': 1947,
'credits': { 'Andre de Toth': 'director',
'Arleen Whelan': 'actor',
...
'Veronica Lake': 'actor'},
'keyword': [ '1880s',...
'Tense'],
'method': 'eventUpdate',
...
I did not scrape ""country"" from the xmltv (as suggested by bug) since
I could not see this being currently used by Kodi and it is only one of
the countries used during production, so is probably best just grabbed
from online sources that give all countries.
Also, looking at the original Kodi request, it appears it was only for
EPG information, hence information like ""year"" still can't be passed to it for
recorded programmes.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,998,2017-09-21T01:24:12Z,2017-09-24T07:06:01Z,2017-09-24T07:06:01Z,CLOSED,False,123,37,4,https://github.com/azlm8t,eit: Also scrape episode from title and description (issue #4592),2,[],https://github.com/tvheadend/tvheadend/pull/998,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/998,"Previously we scraped the EIT episode information only from the summary. However several countries put this information in the title or description. So we now apply the same regex to these fields.
This is done my moving the existing logic to a separate function and calling it for each field.
I posted a variant of this patch that has been successfully tested for a few days in #4287 by Dietmar Konermann. But I modified the patch slightly since then due to a merge conflict and to rename the enums used for the changed flags.
Also added config for scraping Italy, NZ, and AU based on the opentv config and bug discussion.","Previously we scraped the EIT episode information only from the summary. However several countries put this information in the title or description. So we now apply the same regex to these fields.
This is done my moving the existing logic to a separate function and calling it for each field.
I posted a variant of this patch that has been successfully tested for a few days in #4287 by Dietmar Konermann. But I modified the patch slightly since then due to a merge conflict and to rename the enums used for the changed flags.
Also added config for scraping Italy, NZ, and AU based on the opentv config and bug discussion.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,998,2017-09-21T01:24:12Z,2017-09-24T07:06:01Z,2017-09-24T07:06:01Z,CLOSED,False,123,37,4,https://github.com/azlm8t,eit: Also scrape episode from title and description (issue #4592),2,[],https://github.com/tvheadend/tvheadend/pull/998,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/998#issuecomment-331691758,"Previously we scraped the EIT episode information only from the summary. However several countries put this information in the title or description. So we now apply the same regex to these fields.
This is done my moving the existing logic to a separate function and calling it for each field.
I posted a variant of this patch that has been successfully tested for a few days in #4287 by Dietmar Konermann. But I modified the patch slightly since then due to a merge conflict and to rename the enums used for the changed flags.
Also added config for scraping Italy, NZ, and AU based on the opentv config and bug discussion.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,999,2017-09-21T04:46:32Z,2017-09-24T07:06:29Z,2017-09-24T07:06:29Z,CLOSED,False,6,6,1,https://github.com/razzfazz,fix storage space calculation,1,[],https://github.com/tvheadend/tvheadend/pull/999,https://github.com/razzfazz,1,https://github.com/tvheadend/tvheadend/pull/999,"The f_bfree and f_bavail members in struct statvfs are expressed in
units of f_frsize, not f_bsize (see the statvfs(2) manpage, e.g. here:
https://linux.die.net/man/2/statvfs). The two can differ quite
substantially, e.g. on ZFS.","The f_bfree and f_bavail members in struct statvfs are expressed in
units of f_frsize, not f_bsize (see the statvfs(2) manpage, e.g. here:
https://linux.die.net/man/2/statvfs). The two can differ quite
substantially, e.g. on ZFS.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,999,2017-09-21T04:46:32Z,2017-09-24T07:06:29Z,2017-09-24T07:06:29Z,CLOSED,False,6,6,1,https://github.com/razzfazz,fix storage space calculation,1,[],https://github.com/tvheadend/tvheadend/pull/999,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/999#issuecomment-331691789,"The f_bfree and f_bavail members in struct statvfs are expressed in
units of f_frsize, not f_bsize (see the statvfs(2) manpage, e.g. here:
https://linux.die.net/man/2/statvfs). The two can differ quite
substantially, e.g. on ZFS.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1000,2017-09-23T19:31:36Z,2017-09-24T07:11:04Z,2017-09-24T07:11:04Z,CLOSED,False,93866,79352,304,https://github.com/am-silex,Release/4.2,231,[],https://github.com/tvheadend/tvheadend/pull/1000,https://github.com/am-silex,1,https://github.com/tvheadend/tvheadend/pull/1000,"Hello! Please, increase CWC_NETMSGSIZE variable in cwc.c file to 550  - some provider has such a big key.","Hello! Please, increase CWC_NETMSGSIZE variable in cwc.c file to 550  - some provider has such a big key.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1000,2017-09-23T19:31:36Z,2017-09-24T07:11:04Z,2017-09-24T07:11:04Z,CLOSED,False,93866,79352,304,https://github.com/am-silex,Release/4.2,231,[],https://github.com/tvheadend/tvheadend/pull/1000,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1000#issuecomment-331692007,"Hello! Please, increase CWC_NETMSGSIZE variable in cwc.c file to 550  - some provider has such a big key.",f485c6b,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1001,2017-09-23T21:35:59Z,2017-09-24T07:14:04Z,2017-09-24T07:14:04Z,CLOSED,False,19,0,3,https://github.com/TurboK234,An option to restart the recording if streams get reconfigured.,1,[],https://github.com/tvheadend/tvheadend/pull/1001,https://github.com/TurboK234,1,https://github.com/tvheadend/tvheadend/pull/1001,"This PR implements the patch discussed in issue #4538 (https://tvheadend.org/issues/4538) and allows (but does not force) a workaround for the issue.
I prefer recording to .mkv, as tvh preserves the EPG metadata nicely there. The problem is (at least with the way tvh 4.2 and video player software do it today) that if the stream properties change (audio streams change or get added or dvb_subtitle streams change) the resulting .mkv file is very hard to play (video hangs, seek times are very long...).
The developer JK (see the issue discussion) proposed a one line patch that effectively restores the behaviour tvh had in 4.0.9, that is, the recording restarts if the streams are reconfigured, resulting in file.mkv, file-1.mkv, file-2.mkv etc., with no conflicting streams. Plus I get the actual program with virtually no padding, at least that's how it works here where I live.
This PR adds a tickbox in recording settings tab, just under the padding file options, to restart the recording if the stream is reconfigured.
The underlying cause of the problematic recording of reconfiguring streams is unresolved, and a universal fix might appear in the future.
The PR tries to offer a subtle option to the workaround. I guess it's ready for review, but be warned: I am not a programmer/developer, I don't even really know C. I only had the patch, and I replicated the code used in the other options. So I probably won't be able to turn this in to something more.
One improvement (in the future) might be that if the option to restart recordings is selected, the recording would not be registered in the ""Failed recordings"" at all (due to ""source reconfigured""), but in ""Finished recordings"" instead. But it's really not hard to transfer the recordings manually to ""Finished"". And the user (like me) might still want to know if there was a reconfigured stream.","This PR implements the patch discussed in issue #4538 (https://tvheadend.org/issues/4538) and allows (but does not force) a workaround for the issue.
I prefer recording to .mkv, as tvh preserves the EPG metadata nicely there. The problem is (at least with the way tvh 4.2 and video player software do it today) that if the stream properties change (audio streams change or get added or dvb_subtitle streams change) the resulting .mkv file is very hard to play (video hangs, seek times are very long...).
The developer JK (see the issue discussion) proposed a one line patch that effectively restores the behaviour tvh had in 4.0.9, that is, the recording restarts if the streams are reconfigured, resulting in file.mkv, file-1.mkv, file-2.mkv etc., with no conflicting streams. Plus I get the actual program with virtually no padding, at least that's how it works here where I live.
This PR adds a tickbox in recording settings tab, just under the padding file options, to restart the recording if the stream is reconfigured.
The underlying cause of the problematic recording of reconfiguring streams is unresolved, and a universal fix might appear in the future.
The PR tries to offer a subtle option to the workaround. I guess it's ready for review, but be warned: I am not a programmer/developer, I don't even really know C. I only had the patch, and I replicated the code used in the other options. So I probably won't be able to turn this in to something more.
One improvement (in the future) might be that if the option to restart recordings is selected, the recording would not be registered in the ""Failed recordings"" at all (due to ""source reconfigured""), but in ""Finished recordings"" instead. But it's really not hard to transfer the recordings manually to ""Finished"". And the user (like me) might still want to know if there was a reconfigured stream.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1001,2017-09-23T21:35:59Z,2017-09-24T07:14:04Z,2017-09-24T07:14:04Z,CLOSED,False,19,0,3,https://github.com/TurboK234,An option to restart the recording if streams get reconfigured.,1,[],https://github.com/tvheadend/tvheadend/pull/1001,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1001#issuecomment-331692128,"This PR implements the patch discussed in issue #4538 (https://tvheadend.org/issues/4538) and allows (but does not force) a workaround for the issue.
I prefer recording to .mkv, as tvh preserves the EPG metadata nicely there. The problem is (at least with the way tvh 4.2 and video player software do it today) that if the stream properties change (audio streams change or get added or dvb_subtitle streams change) the resulting .mkv file is very hard to play (video hangs, seek times are very long...).
The developer JK (see the issue discussion) proposed a one line patch that effectively restores the behaviour tvh had in 4.0.9, that is, the recording restarts if the streams are reconfigured, resulting in file.mkv, file-1.mkv, file-2.mkv etc., with no conflicting streams. Plus I get the actual program with virtually no padding, at least that's how it works here where I live.
This PR adds a tickbox in recording settings tab, just under the padding file options, to restart the recording if the stream is reconfigured.
The underlying cause of the problematic recording of reconfiguring streams is unresolved, and a universal fix might appear in the future.
The PR tries to offer a subtle option to the workaround. I guess it's ready for review, but be warned: I am not a programmer/developer, I don't even really know C. I only had the patch, and I replicated the code used in the other options. So I probably won't be able to turn this in to something more.
One improvement (in the future) might be that if the option to restart recordings is selected, the recording would not be registered in the ""Failed recordings"" at all (due to ""source reconfigured""), but in ""Finished recordings"" instead. But it's really not hard to transfer the recordings manually to ""Finished"". And the user (like me) might still want to know if there was a reconfigured stream.","Thank you for your contribution, but the muxer may accept or reject the reconfiguration request. At the present, mkv muxer rejects it (because the header must be updated) or eventually, multi-segment mkv can be created (not implemented). The missing muxer reconfiguration request was an error.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1002,2017-09-23T22:45:55Z,2017-09-24T07:02:28Z,2017-09-24T07:02:28Z,CLOSED,False,35,13,1,https://github.com/azlm8t,xmltv: Parse atsc style numbers in channel tag. (#4615),1,[],https://github.com/tvheadend/tvheadend/pull/1002,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1002,"Previously we only parsed numbers of the format ""445"" and
forced the minor number to be zero. However atsc numbers
have a major and a minor so were not parsed.
We now parse ""39.1"" as major=39 minor=1 so we handle
and correctly associate channel sub-tags such as
<display-name>39.1 KNSDDT</display-name> 
This was tested in the forum thread since I don't have atsc.
One change in behaviour is that we now expect channel number
to be non-zero which I believe to be ok.
Issue: #4615","Previously we only parsed numbers of the format ""445"" and
forced the minor number to be zero. However atsc numbers
have a major and a minor so were not parsed.
We now parse ""39.1"" as major=39 minor=1 so we handle
and correctly associate channel sub-tags such as
<display-name>39.1 KNSDDT</display-name> 
This was tested in the forum thread since I don't have atsc.
One change in behaviour is that we now expect channel number
to be non-zero which I believe to be ok.
Issue: #4615",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1002,2017-09-23T22:45:55Z,2017-09-24T07:02:28Z,2017-09-24T07:02:28Z,CLOSED,False,35,13,1,https://github.com/azlm8t,xmltv: Parse atsc style numbers in channel tag. (#4615),1,[],https://github.com/tvheadend/tvheadend/pull/1002,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1002#issuecomment-331691629,"Previously we only parsed numbers of the format ""445"" and
forced the minor number to be zero. However atsc numbers
have a major and a minor so were not parsed.
We now parse ""39.1"" as major=39 minor=1 so we handle
and correctly associate channel sub-tags such as
<display-name>39.1 KNSDDT</display-name> 
This was tested in the forum thread since I don't have atsc.
One change in behaviour is that we now expect channel number
to be non-zero which I believe to be ok.
Issue: #4615",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1003,2017-09-24T13:45:41Z,2017-09-25T07:39:05Z,2017-09-25T07:39:05Z,CLOSED,False,29,0,1,https://github.com/azlm8t,eit: Add drop-down list for selecting xmltv scraper configuration. (#4626),1,[],https://github.com/tvheadend/tvheadend/pull/1003,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1003,"Suggested by Mark Clarkstone in 4509, previously you had to
enter text in the ""scraper configuration to use"" drop-down on
the EPG grabber modules/Over the air module.
Now we populate a drop-down selection box by loading the configurations
and then getting their names. This is slight overhead compared to just
fb_scandir, but it is only used briefly during GUI configuration and
has the benefit of listing configurations that are valid in case the
user modified the configuration files and caused it to be invalid.
Issue: #4626","Suggested by Mark Clarkstone in 4509, previously you had to
enter text in the ""scraper configuration to use"" drop-down on
the EPG grabber modules/Over the air module.
Now we populate a drop-down selection box by loading the configurations
and then getting their names. This is slight overhead compared to just
fb_scandir, but it is only used briefly during GUI configuration and
has the benefit of listing configurations that are valid in case the
user modified the configuration files and caused it to be invalid.
Issue: #4626",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1003,2017-09-24T13:45:41Z,2017-09-25T07:39:05Z,2017-09-25T07:39:05Z,CLOSED,False,29,0,1,https://github.com/azlm8t,eit: Add drop-down list for selecting xmltv scraper configuration. (#4626),1,[],https://github.com/tvheadend/tvheadend/pull/1003,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1003#issuecomment-331801158,"Suggested by Mark Clarkstone in 4509, previously you had to
enter text in the ""scraper configuration to use"" drop-down on
the EPG grabber modules/Over the air module.
Now we populate a drop-down selection box by loading the configurations
and then getting their names. This is slight overhead compared to just
fb_scandir, but it is only used briefly during GUI configuration and
has the benefit of listing configurations that are valid in case the
user modified the configuration files and caused it to be invalid.
Issue: #4626",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1004,2017-09-25T01:21:27Z,2017-09-25T07:38:31Z,2017-09-25T07:38:31Z,CLOSED,False,30,26,1,https://github.com/azlm8t,xmltv: Only parse channel number from display-name if config allows. (#4615),1,[],https://github.com/tvheadend/tvheadend/pull/1004,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1004,"I'm sorry but my earlier commit (a803e6, parse atsc numbers) accidentally removed the check for user configuration option (chnum) when parsing the display-name in xmltv files. This means that leading digits in an xmltv display-name would always be stripped even if the config is disabled.
The patch is actually just re-adding the test and moving the variables inside the test, but the re-indent shows most lines changed.
I used the same commit issue as the original bug (for parsing atsc numbers).","I'm sorry but my earlier commit (a803e6, parse atsc numbers) accidentally removed the check for user configuration option (chnum) when parsing the display-name in xmltv files. This means that leading digits in an xmltv display-name would always be stripped even if the config is disabled.
The patch is actually just re-adding the test and moving the variables inside the test, but the re-indent shows most lines changed.
I used the same commit issue as the original bug (for parsing atsc numbers).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1004,2017-09-25T01:21:27Z,2017-09-25T07:38:31Z,2017-09-25T07:38:31Z,CLOSED,False,30,26,1,https://github.com/azlm8t,xmltv: Only parse channel number from display-name if config allows. (#4615),1,[],https://github.com/tvheadend/tvheadend/pull/1004,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1004#issuecomment-331801023,"I'm sorry but my earlier commit (a803e6, parse atsc numbers) accidentally removed the check for user configuration option (chnum) when parsing the display-name in xmltv files. This means that leading digits in an xmltv display-name would always be stripped even if the config is disabled.
The patch is actually just re-adding the test and moving the variables inside the test, but the re-indent shows most lines changed.
I used the same commit issue as the original bug (for parsing atsc numbers).",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1005,2017-09-27T22:49:43Z,2017-09-28T17:00:44Z,2017-09-28T17:20:46Z,CLOSED,False,1,1,1,https://github.com/mpmc,webui: fix clear all stats button thinko,1,[],https://github.com/tvheadend/tvheadend/pull/1005,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1005,This explains why the button didn't work! DOH!,This explains why the button didn't work! DOH!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1005,2017-09-27T22:49:43Z,2017-09-28T17:00:44Z,2017-09-28T17:20:46Z,CLOSED,False,1,1,1,https://github.com/mpmc,webui: fix clear all stats button thinko,1,[],https://github.com/tvheadend/tvheadend/pull/1005,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1005#issuecomment-332732810,This explains why the button didn't work! DOH!,"Tested! With this commit works!!! 😀
Thanks @mpmc",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1005,2017-09-27T22:49:43Z,2017-09-28T17:00:44Z,2017-09-28T17:20:46Z,CLOSED,False,1,1,1,https://github.com/mpmc,webui: fix clear all stats button thinko,1,[],https://github.com/tvheadend/tvheadend/pull/1005,https://github.com/mpmc,3,https://github.com/tvheadend/tvheadend/pull/1005#issuecomment-332776589,This explains why the button didn't work! DOH!,"@Trujulu Thanks for the confirmation! I noticed it when I installed it on my main tvh system, initially I thought it was an error with Chromium but then checked other browsers/OSes and they had the same problem.
This goof was entirely my fault 😞 !",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1005,2017-09-27T22:49:43Z,2017-09-28T17:00:44Z,2017-09-28T17:20:46Z,CLOSED,False,1,1,1,https://github.com/mpmc,webui: fix clear all stats button thinko,1,[],https://github.com/tvheadend/tvheadend/pull/1005,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1005#issuecomment-332899741,This explains why the button didn't work! DOH!,Thanks. Applied.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1006,2017-09-28T09:30:27Z,2017-09-28T17:00:26Z,2017-09-28T19:27:05Z,CLOSED,False,25,0,2,https://github.com/azlm8t,webui: Mark upcoming recording duplicates with a line-through in grid (#4632),1,[],https://github.com/tvheadend/tvheadend/pull/1006,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1006,"The advanced and expert views on the upcoming tab have a column for the
duplicate date (""rerun of""). But on the basic view there is no indication of
duplicates unless you click information on the entry.
So we now render title/subtitle for duplicates with a css style that has line-through.
This puts a strikeout line through the title/subtitle and makes it clear they are duplicates
that will not be recorded.
Issue: #4632","The advanced and expert views on the upcoming tab have a column for the
duplicate date (""rerun of""). But on the basic view there is no indication of
duplicates unless you click information on the entry.
So we now render title/subtitle for duplicates with a css style that has line-through.
This puts a strikeout line through the title/subtitle and makes it clear they are duplicates
that will not be recorded.
Issue: #4632",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1006,2017-09-28T09:30:27Z,2017-09-28T17:00:26Z,2017-09-28T19:27:05Z,CLOSED,False,25,0,2,https://github.com/azlm8t,webui: Mark upcoming recording duplicates with a line-through in grid (#4632),1,[],https://github.com/tvheadend/tvheadend/pull/1006,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1006#issuecomment-332899654,"The advanced and expert views on the upcoming tab have a column for the
duplicate date (""rerun of""). But on the basic view there is no indication of
duplicates unless you click information on the entry.
So we now render title/subtitle for duplicates with a css style that has line-through.
This puts a strikeout line through the title/subtitle and makes it clear they are duplicates
that will not be recorded.
Issue: #4632","Applied. Thanks. Perhaps, we can also change the first (left) icon.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1006,2017-09-28T09:30:27Z,2017-09-28T17:00:26Z,2017-09-28T19:27:05Z,CLOSED,False,25,0,2,https://github.com/azlm8t,webui: Mark upcoming recording duplicates with a line-through in grid (#4632),1,[],https://github.com/tvheadend/tvheadend/pull/1006,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1006#issuecomment-332939327,"The advanced and expert views on the upcoming tab have a column for the
duplicate date (""rerun of""). But on the basic view there is no indication of
duplicates unless you click information on the entry.
So we now render title/subtitle for duplicates with a css style that has line-through.
This puts a strikeout line through the title/subtitle and makes it clear they are duplicates
that will not be recorded.
Issue: #4632","I was thinking the same thing about the icon.
I think the iconIndex bit in the GUI code is probably taking the string sched_status and automatically applying that class from the CSS to get the icon to display. So, it's getting DVR_SCHEDULED but should perhaps get DVR_NOSTATE, but that might have a knock-on when checking duplicate start. Perhaps there's a better way to modify the icon displayed client-side. I'll keep looking to see if I can find an example.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1007,2017-09-29T10:08:03Z,2017-10-01T16:37:55Z,2017-10-01T16:37:55Z,CLOSED,False,10,4,1,https://github.com/anthonytex,opentv: opentv provider skyIT support new formats,1,[],https://github.com/tvheadend/tvheadend/pull/1007,https://github.com/anthonytex,1,https://github.com/tvheadend/tvheadend/pull/1007,Recently start to appear new description format so new regex are needed to correctly scarpe Episode/Season number and subtitle.,Recently start to appear new description format so new regex are needed to correctly scarpe Episode/Season number and subtitle.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1007,2017-09-29T10:08:03Z,2017-10-01T16:37:55Z,2017-10-01T16:37:55Z,CLOSED,False,10,4,1,https://github.com/anthonytex,opentv: opentv provider skyIT support new formats,1,[],https://github.com/tvheadend/tvheadend/pull/1007,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1007#issuecomment-333389023,Recently start to appear new description format so new regex are needed to correctly scarpe Episode/Season number and subtitle.,Applied. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1008,2017-10-01T00:33:05Z,2017-10-09T14:11:37Z,2017-10-09T14:11:37Z,CLOSED,False,16,2,4,https://github.com/dollis-developer,Added UK: Cable OTA EPG Grabber,4,[],https://github.com/tvheadend/tvheadend/pull/1008,https://github.com/dollis-developer,1,https://github.com/tvheadend/tvheadend/pull/1008,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1008,2017-10-01T00:33:05Z,2017-10-09T14:11:37Z,2017-10-09T14:11:37Z,CLOSED,False,16,2,4,https://github.com/dollis-developer,Added UK: Cable OTA EPG Grabber,4,[],https://github.com/tvheadend/tvheadend/pull/1008,https://github.com/dollis-developer,2,https://github.com/tvheadend/tvheadend/pull/1008#issuecomment-333363742,,"This is based on the openPli patch by LraiZer
OpenViX/enigma2@ad63408
https://forums.openpli.org/topic/33839-virgen-epg-patch-for-openpli/",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1008,2017-10-01T00:33:05Z,2017-10-09T14:11:37Z,2017-10-09T14:11:37Z,CLOSED,False,16,2,4,https://github.com/dollis-developer,Added UK: Cable OTA EPG Grabber,4,[],https://github.com/tvheadend/tvheadend/pull/1008,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1008#issuecomment-335170263,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1009,2017-10-01T15:28:50Z,2017-10-09T14:12:07Z,2018-03-21T10:27:21Z,CLOSED,False,2,2,1,https://github.com/AlexMekkering,upgrade to libhdhomerun_20170815,1,[],https://github.com/tvheadend/tvheadend/pull/1009,https://github.com/AlexMekkering,1,https://github.com/tvheadend/tvheadend/pull/1009,"This upgrades the static libhdhomerun to 20170815.
If possible, please also merge with the upcoming 4.2.4 release.","This upgrades the static libhdhomerun to 20170815.
If possible, please also merge with the upcoming 4.2.4 release.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1009,2017-10-01T15:28:50Z,2017-10-09T14:12:07Z,2018-03-21T10:27:21Z,CLOSED,False,2,2,1,https://github.com/AlexMekkering,upgrade to libhdhomerun_20170815,1,[],https://github.com/tvheadend/tvheadend/pull/1009,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1009#issuecomment-335170420,"This upgrades the static libhdhomerun to 20170815.
If possible, please also merge with the upcoming 4.2.4 release.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1010,2017-10-02T22:33:00Z,2017-10-09T14:12:35Z,2017-10-09T14:12:35Z,CLOSED,False,52,0,1,https://github.com/mpmc,doozer.io: add raspbian jessie and stretch builds,1,[],https://github.com/tvheadend/tvheadend/pull/1010,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1010,"Doozer can now build for jessie and stretch. This adds those in.
Additionally, commit 049cba9 needs to be applied to release/4.2 to avoid the dirty tagging.  it may need modifying to fit with 4.2 doozer.json, I'm happy to do it if required. Fixed in doozer so no longer required see IRC log","Doozer can now build for jessie and stretch. This adds those in.
Additionally, commit 049cba9 needs to be applied to release/4.2 to avoid the dirty tagging.  it may need modifying to fit with 4.2 doozer.json, I'm happy to do it if required. Fixed in doozer so no longer required see IRC log",True,{'THUMBS_UP': ['https://github.com/Jalle19']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1010,2017-10-02T22:33:00Z,2017-10-09T14:12:35Z,2017-10-09T14:12:35Z,CLOSED,False,52,0,1,https://github.com/mpmc,doozer.io: add raspbian jessie and stretch builds,1,[],https://github.com/tvheadend/tvheadend/pull/1010,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1010#issuecomment-335170568,"Doozer can now build for jessie and stretch. This adds those in.
Additionally, commit 049cba9 needs to be applied to release/4.2 to avoid the dirty tagging.  it may need modifying to fit with 4.2 doozer.json, I'm happy to do it if required. Fixed in doozer so no longer required see IRC log",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1011,2017-10-04T10:14:39Z,2017-10-09T14:13:04Z,2017-10-09T14:13:05Z,CLOSED,False,4,3,1,https://github.com/mpmc,webui: add additional time filters fixes #4649,1,[],https://github.com/tvheadend/tvheadend/pull/1011,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1011,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1011,2017-10-04T10:14:39Z,2017-10-09T14:13:04Z,2017-10-09T14:13:05Z,CLOSED,False,4,3,1,https://github.com/mpmc,webui: add additional time filters fixes #4649,1,[],https://github.com/tvheadend/tvheadend/pull/1011,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1011#issuecomment-335170706,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1012,2017-10-13T16:30:07Z,2017-10-16T18:25:04Z,2017-10-16T18:25:04Z,CLOSED,False,204,5,7,https://github.com/azlm8t,dvr: allow autorec by category (#4665),2,[],https://github.com/tvheadend/tvheadend/pull/1012,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1012,"The xmltv import supports categories such as ""movie"", ""animated"", ""biography"", so allow autorec to record via these categories. Also allow recording with a minimum star rating.
This allows you to record all movies with a rating of 80% that are animated; or all sumo wrestling, etc. and can be combined with the existing regex to filter matches further such as ""all movie, comedy which match full text of Stallone"".
I've not bumped the HTSP_PROTO_VERSION since I have another feature I'll submit tomorrow and then increment the version for both patches so clients know the feature is available rather than having merge conflicts on both patches changing the same version number. I believe this patch could be merged even without incrementing the version, it just means frontends won't yet know the backend supports recording by category.","The xmltv import supports categories such as ""movie"", ""animated"", ""biography"", so allow autorec to record via these categories. Also allow recording with a minimum star rating.
This allows you to record all movies with a rating of 80% that are animated; or all sumo wrestling, etc. and can be combined with the existing regex to filter matches further such as ""all movie, comedy which match full text of Stallone"".
I've not bumped the HTSP_PROTO_VERSION since I have another feature I'll submit tomorrow and then increment the version for both patches so clients know the feature is available rather than having merge conflicts on both patches changing the same version number. I believe this patch could be merged even without incrementing the version, it just means frontends won't yet know the backend supports recording by category.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1012,2017-10-13T16:30:07Z,2017-10-16T18:25:04Z,2017-10-16T18:25:04Z,CLOSED,False,204,5,7,https://github.com/azlm8t,dvr: allow autorec by category (#4665),2,[],https://github.com/tvheadend/tvheadend/pull/1012,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1012#issuecomment-336983525,"The xmltv import supports categories such as ""movie"", ""animated"", ""biography"", so allow autorec to record via these categories. Also allow recording with a minimum star rating.
This allows you to record all movies with a rating of 80% that are animated; or all sumo wrestling, etc. and can be combined with the existing regex to filter matches further such as ""all movie, comedy which match full text of Stallone"".
I've not bumped the HTSP_PROTO_VERSION since I have another feature I'll submit tomorrow and then increment the version for both patches so clients know the feature is available rather than having merge conflicts on both patches changing the same version number. I believe this patch could be merged even without incrementing the version, it just means frontends won't yet know the backend supports recording by category.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1013,2017-10-13T21:28:20Z,2017-10-16T18:24:42Z,2017-10-16T18:24:42Z,CLOSED,False,2,2,1,https://github.com/mamarley,Makefile.hdhomerun: Update to 20170930,1,[],https://github.com/tvheadend/tvheadend/pull/1013,https://github.com/mamarley,1,https://github.com/tvheadend/tvheadend/pull/1013,This adds support for the newly-released HDHR5 models.,This adds support for the newly-released HDHR5 models.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1013,2017-10-13T21:28:20Z,2017-10-16T18:24:42Z,2017-10-16T18:24:42Z,CLOSED,False,2,2,1,https://github.com/mamarley,Makefile.hdhomerun: Update to 20170930,1,[],https://github.com/tvheadend/tvheadend/pull/1013,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1013#issuecomment-336983384,This adds support for the newly-released HDHR5 models.,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1014,2017-10-13T23:34:42Z,2017-10-18T17:24:26Z,2017-10-18T20:35:42Z,CLOSED,False,287,0,6,https://github.com/azlm8t,dvr: Add format specifier to simplify scraping/separate movies and shows (#4667),5,[],https://github.com/tvheadend/tvheadend/pull/1014,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1014,"Add a new format specifier ""$q"" to generate ""queryable"" (scrapable) names for recordings. This relies on good guide data, typically xmltv data that contains ""movie"".
This format specifier helps split movies and shows in to separate hierarchies without needing post-processing and makes it easier for users who want easy setup.
Examples are:

tvmovies/Gladiator (2000)
tvshows/Countdown/Countdown
tvshows/Bones/Bones - S05E11 - The X in the Files

A couple of other modifiers are also added for cases where guide data is not good so recordings can be forced to be movie or tvshow for cases where a user has separate recording profiles for movies and shows.
I'm not too happy with the names for the variants $1q, $2q for forcing a programme to be formatted as a movie or show. I chose those names to make it easy to extend in the future to have other variants as necessary ($3q, $4q) and to avoid any potential confusion with other specifiers. For example having ""$tq"" meaning tvshow queryable would be confused with ""$t"" for title followed by letter q; using $TQ would then remove another letter from future specifiers. So $1q was a compromise.","Add a new format specifier ""$q"" to generate ""queryable"" (scrapable) names for recordings. This relies on good guide data, typically xmltv data that contains ""movie"".
This format specifier helps split movies and shows in to separate hierarchies without needing post-processing and makes it easier for users who want easy setup.
Examples are:

tvmovies/Gladiator (2000)
tvshows/Countdown/Countdown
tvshows/Bones/Bones - S05E11 - The X in the Files

A couple of other modifiers are also added for cases where guide data is not good so recordings can be forced to be movie or tvshow for cases where a user has separate recording profiles for movies and shows.
I'm not too happy with the names for the variants $1q, $2q for forcing a programme to be formatted as a movie or show. I chose those names to make it easy to extend in the future to have other variants as necessary ($3q, $4q) and to avoid any potential confusion with other specifiers. For example having ""$tq"" meaning tvshow queryable would be confused with ""$t"" for title followed by letter q; using $TQ would then remove another letter from future specifiers. So $1q was a compromise.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1014,2017-10-13T23:34:42Z,2017-10-18T17:24:26Z,2017-10-18T20:35:42Z,CLOSED,False,287,0,6,https://github.com/azlm8t,dvr: Add format specifier to simplify scraping/separate movies and shows (#4667),5,[],https://github.com/tvheadend/tvheadend/pull/1014,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1014#issuecomment-337642687,"Add a new format specifier ""$q"" to generate ""queryable"" (scrapable) names for recordings. This relies on good guide data, typically xmltv data that contains ""movie"".
This format specifier helps split movies and shows in to separate hierarchies without needing post-processing and makes it easier for users who want easy setup.
Examples are:

tvmovies/Gladiator (2000)
tvshows/Countdown/Countdown
tvshows/Bones/Bones - S05E11 - The X in the Files

A couple of other modifiers are also added for cases where guide data is not good so recordings can be forced to be movie or tvshow for cases where a user has separate recording profiles for movies and shows.
I'm not too happy with the names for the variants $1q, $2q for forcing a programme to be formatted as a movie or show. I chose those names to make it easy to extend in the future to have other variants as necessary ($3q, $4q) and to avoid any potential confusion with other specifiers. For example having ""$tq"" meaning tvshow queryable would be confused with ""$t"" for title followed by letter q; using $TQ would then remove another letter from future specifiers. So $1q was a compromise.","I've delivered the changes to make the tvshows/tvmovies directory names configurable.
The build failed for an unrelated reason since it could not fetch the build packages. I don't think I can restart the build to verify the merge.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1014,2017-10-13T23:34:42Z,2017-10-18T17:24:26Z,2017-10-18T20:35:42Z,CLOSED,False,287,0,6,https://github.com/azlm8t,dvr: Add format specifier to simplify scraping/separate movies and shows (#4667),5,[],https://github.com/tvheadend/tvheadend/pull/1014,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1014#issuecomment-337664863,"Add a new format specifier ""$q"" to generate ""queryable"" (scrapable) names for recordings. This relies on good guide data, typically xmltv data that contains ""movie"".
This format specifier helps split movies and shows in to separate hierarchies without needing post-processing and makes it easier for users who want easy setup.
Examples are:

tvmovies/Gladiator (2000)
tvshows/Countdown/Countdown
tvshows/Bones/Bones - S05E11 - The X in the Files

A couple of other modifiers are also added for cases where guide data is not good so recordings can be forced to be movie or tvshow for cases where a user has separate recording profiles for movies and shows.
I'm not too happy with the names for the variants $1q, $2q for forcing a programme to be formatted as a movie or show. I chose those names to make it easy to extend in the future to have other variants as necessary ($3q, $4q) and to avoid any potential confusion with other specifiers. For example having ""$tq"" meaning tvshow queryable would be confused with ""$t"" for title followed by letter q; using $TQ would then remove another letter from future specifiers. So $1q was a compromise.",Merged. Thank you for your work. I added little changes to cdd35c8 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1014,2017-10-13T23:34:42Z,2017-10-18T17:24:26Z,2017-10-18T20:35:42Z,CLOSED,False,287,0,6,https://github.com/azlm8t,dvr: Add format specifier to simplify scraping/separate movies and shows (#4667),5,[],https://github.com/tvheadend/tvheadend/pull/1014,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1014#issuecomment-337719896,"Add a new format specifier ""$q"" to generate ""queryable"" (scrapable) names for recordings. This relies on good guide data, typically xmltv data that contains ""movie"".
This format specifier helps split movies and shows in to separate hierarchies without needing post-processing and makes it easier for users who want easy setup.
Examples are:

tvmovies/Gladiator (2000)
tvshows/Countdown/Countdown
tvshows/Bones/Bones - S05E11 - The X in the Files

A couple of other modifiers are also added for cases where guide data is not good so recordings can be forced to be movie or tvshow for cases where a user has separate recording profiles for movies and shows.
I'm not too happy with the names for the variants $1q, $2q for forcing a programme to be formatted as a movie or show. I chose those names to make it easy to extend in the future to have other variants as necessary ($3q, $4q) and to avoid any potential confusion with other specifiers. For example having ""$tq"" meaning tvshow queryable would be confused with ""$t"" for title followed by letter q; using $TQ would then remove another letter from future specifiers. So $1q was a compromise.","Thanks, the changes look good and looks more intuitive with a def.s.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1015,2017-10-14T01:14:45Z,2017-10-16T18:24:24Z,2017-10-16T18:24:24Z,CLOSED,False,216,4,4,https://github.com/azlm8t,dvr: add new dedup method by programid (#4652),4,[],https://github.com/tvheadend/tvheadend/pull/1015,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1015,"This patch implements a new dedup method based on using the unique id from xmltv or the crid from OTA.
The idea is that if the ids are equal then the programmes must be equal. So an xmltvid of MV12345 will always refer to the same movie.
If the entries don't have equal ids then we try and compare various fields for equality to try and just work. So, if they have season and episodes then we can use that as a differentiator.
This dedup method only work for unique programmes, so sports and news typically have non-unique details and so cannot be deduped with this method and the user needs to use existing ""once per day"" methods.
I've also bumped the htsp_protocol_version so clients know the dedup method is supported.
This patch has mostly been tested with xmltv data.","This patch implements a new dedup method based on using the unique id from xmltv or the crid from OTA.
The idea is that if the ids are equal then the programmes must be equal. So an xmltvid of MV12345 will always refer to the same movie.
If the entries don't have equal ids then we try and compare various fields for equality to try and just work. So, if they have season and episodes then we can use that as a differentiator.
This dedup method only work for unique programmes, so sports and news typically have non-unique details and so cannot be deduped with this method and the user needs to use existing ""once per day"" methods.
I've also bumped the htsp_protocol_version so clients know the dedup method is supported.
This patch has mostly been tested with xmltv data.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1015,2017-10-14T01:14:45Z,2017-10-16T18:24:24Z,2017-10-16T18:24:24Z,CLOSED,False,216,4,4,https://github.com/azlm8t,dvr: add new dedup method by programid (#4652),4,[],https://github.com/tvheadend/tvheadend/pull/1015,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1015#issuecomment-336983273,"This patch implements a new dedup method based on using the unique id from xmltv or the crid from OTA.
The idea is that if the ids are equal then the programmes must be equal. So an xmltvid of MV12345 will always refer to the same movie.
If the entries don't have equal ids then we try and compare various fields for equality to try and just work. So, if they have season and episodes then we can use that as a differentiator.
This dedup method only work for unique programmes, so sports and news typically have non-unique details and so cannot be deduped with this method and the user needs to use existing ""once per day"" methods.
I've also bumped the htsp_protocol_version so clients know the dedup method is supported.
This patch has mostly been tested with xmltv data.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1016,2017-10-15T17:09:51Z,2017-10-16T18:23:53Z,2017-10-16T18:23:53Z,CLOSED,False,18,8,1,https://github.com/ProfYaffle,"WebUI: Split EPG details (broadcast details, DVR status) and actions …",1,[],https://github.com/tvheadend/tvheadend/pull/1016,https://github.com/ProfYaffle,1,https://github.com/tvheadend/tvheadend/pull/1016,"…(play) into separate columns
Purely selfish - I've never liked the wall of ""play"" buttons you get in the EPG, especially when I never use them unless I click them by accident.
This PR simply splits the first column into two, then, so you have ""Details"" in one and ""Actions"" (currently only ""Play"", but there's room for future actions as well) in the second. You can then hide the ""Actions"" as required.
@perexg Some advice on the resizing of the second column, please - I'll add a comment to the code.","…(play) into separate columns
Purely selfish - I've never liked the wall of ""play"" buttons you get in the EPG, especially when I never use them unless I click them by accident.
This PR simply splits the first column into two, then, so you have ""Details"" in one and ""Actions"" (currently only ""Play"", but there's room for future actions as well) in the second. You can then hide the ""Actions"" as required.
@perexg Some advice on the resizing of the second column, please - I'll add a comment to the code.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1016,2017-10-15T17:09:51Z,2017-10-16T18:23:53Z,2017-10-16T18:23:53Z,CLOSED,False,18,8,1,https://github.com/ProfYaffle,"WebUI: Split EPG details (broadcast details, DVR status) and actions …",1,[],https://github.com/tvheadend/tvheadend/pull/1016,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1016#issuecomment-336983059,"…(play) into separate columns
Purely selfish - I've never liked the wall of ""play"" buttons you get in the EPG, especially when I never use them unless I click them by accident.
This PR simply splits the first column into two, then, so you have ""Details"" in one and ""Actions"" (currently only ""Play"", but there's room for future actions as well) in the second. You can then hide the ""Actions"" as required.
@perexg Some advice on the resizing of the second column, please - I'll add a comment to the code.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1017,2017-10-15T18:06:16Z,2017-10-16T18:23:39Z,2017-10-16T18:23:39Z,CLOSED,False,1,1,1,https://github.com/flipreverse,libopus: Updated link to new project website,1,[],https://github.com/tvheadend/tvheadend/pull/1017,https://github.com/flipreverse,1,https://github.com/tvheadend/tvheadend/pull/1017,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1017,2017-10-15T18:06:16Z,2017-10-16T18:23:39Z,2017-10-16T18:23:39Z,CLOSED,False,1,1,1,https://github.com/flipreverse,libopus: Updated link to new project website,1,[],https://github.com/tvheadend/tvheadend/pull/1017,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1017#issuecomment-336982963,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1018,2017-10-20T12:54:27Z,,2018-03-30T19:52:27Z,OPEN,False,15,0,1,https://github.com/dave-p,Add dvr disk space function,2,[],https://github.com/tvheadend/tvheadend/pull/1018,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1018,At present there is no way to view the dvr disk utilisation through the HTTP API. This PR allows the free and used disk space to be queried.,At present there is no way to view the dvr disk utilisation through the HTTP API. This PR allows the free and used disk space to be queried.,True,"{'THUMBS_UP': ['https://github.com/mpmc', 'https://github.com/muzena'], 'HOORAY': ['https://github.com/muzena']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1018,2017-10-20T12:54:27Z,,2018-03-30T19:52:27Z,OPEN,False,15,0,1,https://github.com/dave-p,Add dvr disk space function,2,[],https://github.com/tvheadend/tvheadend/pull/1018,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1018#issuecomment-339287998,At present there is no way to view the dvr disk utilisation through the HTTP API. This PR allows the free and used disk space to be queried.,"Actually, there's issue that there can be multiple directories for recordings on different mounts. TVH does not actually handle this so I don't like to add any other APIs until we support multiple mounts. But, please, keep this request open.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1019,2017-10-22T22:37:51Z,2017-10-25T09:44:30Z,2017-10-25T09:44:30Z,CLOSED,False,26,1,2,https://github.com/azlm8t,ui: Send episode image URL to UI for upcoming recordings. (#4681).,1,[],https://github.com/tvheadend/tvheadend/pull/1019,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1019,"Previously the image was only visible in the EPG tab. However it is useful to have it in the upcoming recordings tab too.
Issue: #4681","Previously the image was only visible in the EPG tab. However it is useful to have it in the upcoming recordings tab too.
Issue: #4681",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1019,2017-10-22T22:37:51Z,2017-10-25T09:44:30Z,2017-10-25T09:44:30Z,CLOSED,False,26,1,2,https://github.com/azlm8t,ui: Send episode image URL to UI for upcoming recordings. (#4681).,1,[],https://github.com/tvheadend/tvheadend/pull/1019,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1019#issuecomment-339275261,"Previously the image was only visible in the EPG tab. However it is useful to have it in the upcoming recordings tab too.
Issue: #4681",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1020,2017-10-22T22:50:11Z,2017-12-21T08:21:17Z,2017-12-21T08:21:17Z,CLOSED,False,10,3,2,https://github.com/azlm8t,dvr: Allow scheduled programmes to be stopped (never record). (#4506),1,[],https://github.com/tvheadend/tvheadend/pull/1020,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1020,"Previously you could not stop an upcoming scheduled programme from
recording.
You could delete it, but it would only unschedule that showing and
restarting tvheadend would cause it to be scheduled again, and any
future showings would also be recorded.
So we now allow the user to ""stop"" an upcoming recording to mark
that the user does not want that programme or any future showings
of the programme to be recorded.
We do this by marking it as ""file removed"". This allows you to unschedule
a programme and not have it record. This is useful if an autorec
rule is matching programmes you don't want to record such as episodes
you've already seen.
Once in the file removed section you can re-record it if necessary
by deleting it from the file removed which then causes the autorec
rule to re-match the recording.
The extra check for de->de_s is because we don't have a subscription
stream for upcoming recordings so can't unsubscribe.
Issue: #4506","Previously you could not stop an upcoming scheduled programme from
recording.
You could delete it, but it would only unschedule that showing and
restarting tvheadend would cause it to be scheduled again, and any
future showings would also be recorded.
So we now allow the user to ""stop"" an upcoming recording to mark
that the user does not want that programme or any future showings
of the programme to be recorded.
We do this by marking it as ""file removed"". This allows you to unschedule
a programme and not have it record. This is useful if an autorec
rule is matching programmes you don't want to record such as episodes
you've already seen.
Once in the file removed section you can re-record it if necessary
by deleting it from the file removed which then causes the autorec
rule to re-match the recording.
The extra check for de->de_s is because we don't have a subscription
stream for upcoming recordings so can't unsubscribe.
Issue: #4506",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1020,2017-10-22T22:50:11Z,2017-12-21T08:21:17Z,2017-12-21T08:21:17Z,CLOSED,False,10,3,2,https://github.com/azlm8t,dvr: Allow scheduled programmes to be stopped (never record). (#4506),1,[],https://github.com/tvheadend/tvheadend/pull/1020,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1020#issuecomment-339286601,"Previously you could not stop an upcoming scheduled programme from
recording.
You could delete it, but it would only unschedule that showing and
restarting tvheadend would cause it to be scheduled again, and any
future showings would also be recorded.
So we now allow the user to ""stop"" an upcoming recording to mark
that the user does not want that programme or any future showings
of the programme to be recorded.
We do this by marking it as ""file removed"". This allows you to unschedule
a programme and not have it record. This is useful if an autorec
rule is matching programmes you don't want to record such as episodes
you've already seen.
Once in the file removed section you can re-record it if necessary
by deleting it from the file removed which then causes the autorec
rule to re-match the recording.
The extra check for de->de_s is because we don't have a subscription
stream for upcoming recordings so can't unsubscribe.
Issue: #4506","There's ""enabled"" field for each DVR entry which causes ""Service not enabled"" error when the recording is going to be started. Perhaps, the real fix might be to ask the user when he clicks on ""Stop"" button, if he wants to turn off the future recordings.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1020,2017-10-22T22:50:11Z,2017-12-21T08:21:17Z,2017-12-21T08:21:17Z,CLOSED,False,10,3,2,https://github.com/azlm8t,dvr: Allow scheduled programmes to be stopped (never record). (#4506),1,[],https://github.com/tvheadend/tvheadend/pull/1020,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1020#issuecomment-339600606,"Previously you could not stop an upcoming scheduled programme from
recording.
You could delete it, but it would only unschedule that showing and
restarting tvheadend would cause it to be scheduled again, and any
future showings would also be recorded.
So we now allow the user to ""stop"" an upcoming recording to mark
that the user does not want that programme or any future showings
of the programme to be recorded.
We do this by marking it as ""file removed"". This allows you to unschedule
a programme and not have it record. This is useful if an autorec
rule is matching programmes you don't want to record such as episodes
you've already seen.
Once in the file removed section you can re-record it if necessary
by deleting it from the file removed which then causes the autorec
rule to re-match the recording.
The extra check for de->de_s is because we don't have a subscription
stream for upcoming recordings so can't unsubscribe.
Issue: #4506","The problem is that I want my autorec recording rule to still be active, but want specific recordings that it matches to never be recorded.
For example, say I have a rule to record action film rated 80% or better. But it matches films I've already seen in the past and don't want to see again soon (such as Die Hard), or films I'm just not interested in. So I need to say ""never record Die Hard since I don't want to watch it again"", but I also need the autorec to continue to match ""Die Hard 8"".
I know it's an odd way of recording (rather than looking through guide and saying ""record series"", or ""record this""), but I use it as a ""you might also like..."" feature so I have programmes recorded that might interest me and means I only need to look through a few upcoming tv entries rather than the whole tvguide.
I initially just hit ""delete"" on the entries, but I restart Tvheadend every day and the programmes would then get re-matched.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1020,2017-10-22T22:50:11Z,2017-12-21T08:21:17Z,2017-12-21T08:21:17Z,CLOSED,False,10,3,2,https://github.com/azlm8t,dvr: Allow scheduled programmes to be stopped (never record). (#4506),1,[],https://github.com/tvheadend/tvheadend/pull/1020,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1020#issuecomment-339614692,"Previously you could not stop an upcoming scheduled programme from
recording.
You could delete it, but it would only unschedule that showing and
restarting tvheadend would cause it to be scheduled again, and any
future showings would also be recorded.
So we now allow the user to ""stop"" an upcoming recording to mark
that the user does not want that programme or any future showings
of the programme to be recorded.
We do this by marking it as ""file removed"". This allows you to unschedule
a programme and not have it record. This is useful if an autorec
rule is matching programmes you don't want to record such as episodes
you've already seen.
Once in the file removed section you can re-record it if necessary
by deleting it from the file removed which then causes the autorec
rule to re-match the recording.
The extra check for de->de_s is because we don't have a subscription
stream for upcoming recordings so can't unsubscribe.
Issue: #4506","Thinking about it, perhaps what we need in addition to this patch is an additional button (either on the toolbar or on the info dialog) for ""disable autorec rule"". The button would be enabled if autorec field is not empty. That would satisfy the requirement for disabling all upcoming recordings for a rule.
Or perhaps a new button on the upcoming info dialog could be ""Autorec rule"" and pop-up the autorec dialog so all settings can easily be modified such as autorec priority. I'm not sure if it's easy to do cross-panel calls in the webui for the upcoming panel to open the dialog from the autorec panel.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1020,2017-10-22T22:50:11Z,2017-12-21T08:21:17Z,2017-12-21T08:21:17Z,CLOSED,False,10,3,2,https://github.com/azlm8t,dvr: Allow scheduled programmes to be stopped (never record). (#4506),1,[],https://github.com/tvheadend/tvheadend/pull/1020,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/1020#issuecomment-340268451,"Previously you could not stop an upcoming scheduled programme from
recording.
You could delete it, but it would only unschedule that showing and
restarting tvheadend would cause it to be scheduled again, and any
future showings would also be recorded.
So we now allow the user to ""stop"" an upcoming recording to mark
that the user does not want that programme or any future showings
of the programme to be recorded.
We do this by marking it as ""file removed"". This allows you to unschedule
a programme and not have it record. This is useful if an autorec
rule is matching programmes you don't want to record such as episodes
you've already seen.
Once in the file removed section you can re-record it if necessary
by deleting it from the file removed which then causes the autorec
rule to re-match the recording.
The extra check for de->de_s is because we don't have a subscription
stream for upcoming recordings so can't unsubscribe.
Issue: #4506",There's logic in the autorec code which should preserve the 'enable' field for re-match (based on the EPG event check).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1020,2017-10-22T22:50:11Z,2017-12-21T08:21:17Z,2017-12-21T08:21:17Z,CLOSED,False,10,3,2,https://github.com/azlm8t,dvr: Allow scheduled programmes to be stopped (never record). (#4506),1,[],https://github.com/tvheadend/tvheadend/pull/1020,https://github.com/azlm8t,6,https://github.com/tvheadend/tvheadend/pull/1020#issuecomment-340578398,"Previously you could not stop an upcoming scheduled programme from
recording.
You could delete it, but it would only unschedule that showing and
restarting tvheadend would cause it to be scheduled again, and any
future showings would also be recorded.
So we now allow the user to ""stop"" an upcoming recording to mark
that the user does not want that programme or any future showings
of the programme to be recorded.
We do this by marking it as ""file removed"". This allows you to unschedule
a programme and not have it record. This is useful if an autorec
rule is matching programmes you don't want to record such as episodes
you've already seen.
Once in the file removed section you can re-record it if necessary
by deleting it from the file removed which then causes the autorec
rule to re-match the recording.
The extra check for de->de_s is because we don't have a subscription
stream for upcoming recordings so can't unsubscribe.
Issue: #4506","I've just tried it but I don't think that works for my scenario.
I tried it on a programme which is scheduled at 00:40 and repeated on a +1 timeshift channel at 01:40.
On the upcoming tab, I unticked the enabled button and hit save and the dvr/log is updated with enabled: false for the 00:40 entry. However, when I reloaded the tab then the programme scheduled on the +1 channel is then shown as being scheduled (rather than having the line through it as being a duplicate of the 00:40 entry).
Looking at timestamps in dvr/log, the entry at 00:40 was updated, but the other entries that matched the recording rule aren't updated. I'll have to wait for the record time to be reached, but I think it will record the 01:40 showing since it's not a duplicate of an existing recording.
So, the enabled flag in the upcoming tab's left hand column I believe is permanently disabling a specific showing, but Tvheadend will still record some other match for that rule and the same episode but will exclude that one specific showing and that will persist over a restart.
This is in contrast to the upcoming tab's ""delete"" button which (IIRC) removed the entry completely, didn't disable it, but then on a Tvheadend restart it would then be rescheduled.
And is different to this patch which aims to stop both the showing at 00:40 and the showing at 01:40 and future repeats from recording.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1020,2017-10-22T22:50:11Z,2017-12-21T08:21:17Z,2017-12-21T08:21:17Z,CLOSED,False,10,3,2,https://github.com/azlm8t,dvr: Allow scheduled programmes to be stopped (never record). (#4506),1,[],https://github.com/tvheadend/tvheadend/pull/1020,https://github.com/perexg,7,https://github.com/tvheadend/tvheadend/pull/1020#issuecomment-342888720,"Previously you could not stop an upcoming scheduled programme from
recording.
You could delete it, but it would only unschedule that showing and
restarting tvheadend would cause it to be scheduled again, and any
future showings would also be recorded.
So we now allow the user to ""stop"" an upcoming recording to mark
that the user does not want that programme or any future showings
of the programme to be recorded.
We do this by marking it as ""file removed"". This allows you to unschedule
a programme and not have it record. This is useful if an autorec
rule is matching programmes you don't want to record such as episodes
you've already seen.
Once in the file removed section you can re-record it if necessary
by deleting it from the file removed which then causes the autorec
rule to re-match the recording.
The extra check for de->de_s is because we don't have a subscription
stream for upcoming recordings so can't unsubscribe.
Issue: #4506","@azlm8t : If you like, you can join to our IRC channel #hts . Let me know, if you are interested to co-maintain the tvh's code.",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1020,2017-10-22T22:50:11Z,2017-12-21T08:21:17Z,2017-12-21T08:21:17Z,CLOSED,False,10,3,2,https://github.com/azlm8t,dvr: Allow scheduled programmes to be stopped (never record). (#4506),1,[],https://github.com/tvheadend/tvheadend/pull/1020,https://github.com/azlm8t,8,https://github.com/tvheadend/tvheadend/pull/1020#issuecomment-343228792,"Previously you could not stop an upcoming scheduled programme from
recording.
You could delete it, but it would only unschedule that showing and
restarting tvheadend would cause it to be scheduled again, and any
future showings would also be recorded.
So we now allow the user to ""stop"" an upcoming recording to mark
that the user does not want that programme or any future showings
of the programme to be recorded.
We do this by marking it as ""file removed"". This allows you to unschedule
a programme and not have it record. This is useful if an autorec
rule is matching programmes you don't want to record such as episodes
you've already seen.
Once in the file removed section you can re-record it if necessary
by deleting it from the file removed which then causes the autorec
rule to re-match the recording.
The extra check for de->de_s is because we don't have a subscription
stream for upcoming recordings so can't unsubscribe.
Issue: #4506","Thanks. I don't think I can possibly keep up with the amount of spare time you dedicate, nor your fast turnaround of bugs. But yes, I'd be glad to help out if I can with maintaining the code.",True,"{'THUMBS_UP': ['https://github.com/mpmc', 'https://github.com/Trujulu', 'https://github.com/BKPepe'], 'HOORAY': ['https://github.com/mpmc'], 'HEART': ['https://github.com/Trujulu']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1020,2017-10-22T22:50:11Z,2017-12-21T08:21:17Z,2017-12-21T08:21:17Z,CLOSED,False,10,3,2,https://github.com/azlm8t,dvr: Allow scheduled programmes to be stopped (never record). (#4506),1,[],https://github.com/tvheadend/tvheadend/pull/1020,https://github.com/perexg,9,https://github.com/tvheadend/tvheadend/pull/1020#issuecomment-353287746,"Previously you could not stop an upcoming scheduled programme from
recording.
You could delete it, but it would only unschedule that showing and
restarting tvheadend would cause it to be scheduled again, and any
future showings would also be recorded.
So we now allow the user to ""stop"" an upcoming recording to mark
that the user does not want that programme or any future showings
of the programme to be recorded.
We do this by marking it as ""file removed"". This allows you to unschedule
a programme and not have it record. This is useful if an autorec
rule is matching programmes you don't want to record such as episodes
you've already seen.
Once in the file removed section you can re-record it if necessary
by deleting it from the file removed which then causes the autorec
rule to re-match the recording.
The extra check for de->de_s is because we don't have a subscription
stream for upcoming recordings so can't unsubscribe.
Issue: #4506",I believe that we resolved this issue with a bit different way - the 'previously recorded' state. Closing.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1021,2017-10-23T17:58:39Z,2017-10-25T09:42:44Z,2017-10-25T09:42:44Z,CLOSED,False,3,1,1,https://github.com/alanswanson,Makefile: fix build if iptv disabled and ffmpeg enabled,1,[],https://github.com/tvheadend/tvheadend/pull/1021,https://github.com/alanswanson,1,https://github.com/tvheadend/tvheadend/pull/1021,"Otherwise build failures for undefined references when ffmpeg enabled and iptv disabled by configuration;
tvheadend-9999/build.linux/src/input/mpegts/iptv/iptv_libav.o: In function iptv_libav_start': tvheadend-9999/src/input/mpegts/iptv/iptv_libav.c:189: undefined reference to iptv_input_fd_started'
tvheadend-9999/src/input/mpegts/iptv/iptv_libav.c:195: undefined reference to iptv_input_mux_started' tvheadend-9999/build.linux/src/input/mpegts/iptv/iptv_libav.o: In function iptv_libav_init':
tvheadend-9999/src/input/mpegts/iptv/iptv_libav.c:259: undefined reference to `iptv_handler_register'
collect2: error: ld returned 1 exit status","Otherwise build failures for undefined references when ffmpeg enabled and iptv disabled by configuration;
tvheadend-9999/build.linux/src/input/mpegts/iptv/iptv_libav.o: In function iptv_libav_start': tvheadend-9999/src/input/mpegts/iptv/iptv_libav.c:189: undefined reference to iptv_input_fd_started'
tvheadend-9999/src/input/mpegts/iptv/iptv_libav.c:195: undefined reference to iptv_input_mux_started' tvheadend-9999/build.linux/src/input/mpegts/iptv/iptv_libav.o: In function iptv_libav_init':
tvheadend-9999/src/input/mpegts/iptv/iptv_libav.c:259: undefined reference to `iptv_handler_register'
collect2: error: ld returned 1 exit status",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1021,2017-10-23T17:58:39Z,2017-10-25T09:42:44Z,2017-10-25T09:42:44Z,CLOSED,False,3,1,1,https://github.com/alanswanson,Makefile: fix build if iptv disabled and ffmpeg enabled,1,[],https://github.com/tvheadend/tvheadend/pull/1021,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1021#issuecomment-339274820,"Otherwise build failures for undefined references when ffmpeg enabled and iptv disabled by configuration;
tvheadend-9999/build.linux/src/input/mpegts/iptv/iptv_libav.o: In function iptv_libav_start': tvheadend-9999/src/input/mpegts/iptv/iptv_libav.c:189: undefined reference to iptv_input_fd_started'
tvheadend-9999/src/input/mpegts/iptv/iptv_libav.c:195: undefined reference to iptv_input_mux_started' tvheadend-9999/build.linux/src/input/mpegts/iptv/iptv_libav.o: In function iptv_libav_init':
tvheadend-9999/src/input/mpegts/iptv/iptv_libav.c:259: undefined reference to `iptv_handler_register'
collect2: error: ld returned 1 exit status",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1022,2017-10-23T19:24:22Z,2017-10-25T09:46:58Z,2017-10-25T09:46:59Z,CLOSED,False,201,197,1,https://github.com/mpmc,"webui: reshuffle the dvr config class, rename a few options and change some view-levels - hopefully this tidies it up a little.",1,[],https://github.com/tvheadend/tvheadend/pull/1022,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1022,"I spent a good few hours rejigging this hope people like the changes!
Comments welcome!","I spent a good few hours rejigging this hope people like the changes!
Comments welcome!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1022,2017-10-23T19:24:22Z,2017-10-25T09:46:58Z,2017-10-25T09:46:59Z,CLOSED,False,201,197,1,https://github.com/mpmc,"webui: reshuffle the dvr config class, rename a few options and change some view-levels - hopefully this tidies it up a little.",1,[],https://github.com/tvheadend/tvheadend/pull/1022,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1022#issuecomment-338873652,"I spent a good few hours rejigging this hope people like the changes!
Comments welcome!",Love your cosmetics works <3,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1022,2017-10-23T19:24:22Z,2017-10-25T09:46:58Z,2017-10-25T09:46:59Z,CLOSED,False,201,197,1,https://github.com/mpmc,"webui: reshuffle the dvr config class, rename a few options and change some view-levels - hopefully this tidies it up a little.",1,[],https://github.com/tvheadend/tvheadend/pull/1022,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1022#issuecomment-339275885,"I spent a good few hours rejigging this hope people like the changes!
Comments welcome!",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1023,2017-10-24T22:41:11Z,2017-10-25T09:43:31Z,2017-10-25T09:43:31Z,CLOSED,False,7,1,2,https://github.com/ViGill,Fix Nagra's Provids detection,1,[],https://github.com/tvheadend/tvheadend/pull/1023,https://github.com/ViGill,1,https://github.com/tvheadend/tvheadend/pull/1023,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1023,2017-10-24T22:41:11Z,2017-10-25T09:43:31Z,2017-10-25T09:43:31Z,CLOSED,False,7,1,2,https://github.com/ViGill,Fix Nagra's Provids detection,1,[],https://github.com/tvheadend/tvheadend/pull/1023,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1023#issuecomment-339275009,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1024,2017-10-26T19:00:09Z,2017-10-29T14:15:28Z,2017-10-29T14:40:25Z,CLOSED,False,15,10,4,https://github.com/jasmin-j,dvbcam: Fixed crash when a DVB CAM has been found,2,[],https://github.com/tvheadend/tvheadend/pull/1024,https://github.com/jasmin-j,1,https://github.com/tvheadend/tvheadend/pull/1024,Signed-off-by: Jasmin Jessich jasmin@anw.at,Signed-off-by: Jasmin Jessich jasmin@anw.at,True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1024,2017-10-26T19:00:09Z,2017-10-29T14:15:28Z,2017-10-29T14:40:25Z,CLOSED,False,15,10,4,https://github.com/jasmin-j,dvbcam: Fixed crash when a DVB CAM has been found,2,[],https://github.com/tvheadend/tvheadend/pull/1024,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1024#issuecomment-339990516,Signed-off-by: Jasmin Jessich jasmin@anw.at,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1024,2017-10-26T19:00:09Z,2017-10-29T14:15:28Z,2017-10-29T14:40:25Z,CLOSED,False,15,10,4,https://github.com/jasmin-j,dvbcam: Fixed crash when a DVB CAM has been found,2,[],https://github.com/tvheadend/tvheadend/pull/1024,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1024#issuecomment-340265492,Signed-off-by: Jasmin Jessich jasmin@anw.at,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1025,2017-10-29T14:44:37Z,2017-10-29T14:53:24Z,2017-10-29T17:00:49Z,CLOSED,False,1,0,1,https://github.com/jasmin-j,Added default 1 as DVB CAM limit,1,[],https://github.com/tvheadend/tvheadend/pull/1025,https://github.com/jasmin-j,1,https://github.com/tvheadend/tvheadend/pull/1025,"A CAM can decode at least one service.
Signed-off-by: Jasmin Jessich jasmin@anw.at","A CAM can decode at least one service.
Signed-off-by: Jasmin Jessich jasmin@anw.at",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1025,2017-10-29T14:44:37Z,2017-10-29T14:53:24Z,2017-10-29T17:00:49Z,CLOSED,False,1,0,1,https://github.com/jasmin-j,Added default 1 as DVB CAM limit,1,[],https://github.com/tvheadend/tvheadend/pull/1025,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1025#issuecomment-340267962,"A CAM can decode at least one service.
Signed-off-by: Jasmin Jessich jasmin@anw.at",Fixed in b9df034 (zero should mean no limit).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,1,https://github.com/tvheadend/tvheadend/pull/1026,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-340450749,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.",The point is that this ID should not change when the event is alive. But I see that problem that this ID is fetched from two sources.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,3,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-340470676,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","The eid doesn't change when the event is live it's just that the EIT eid doesn't match the EPG eid.  So what happens is:

User creates a recording entry from the Freesat EPG
A DVR entry is created with the Freesat EPG eid - let's say 1234
With my settings, 10 minutes before the scheduled start time the DVR entry is ""activated"" and, because we're set up to use the EIT running state data, tvh tunes to the required channel and waits for an EIT with eid 1234
But the EIT packets for some UK broadcasters use different eids for the programme when broadcast so tvh is seeing, and ignoring EIT packets for e.g. eid 6789
tvh is already clever enough to match EIT eid 6789 to EPG eid 1234 and, indeed, already updates the EPG eid to 6789 but the problem is that the dvr is still waiting for eid 1234
So when an EIT for event 6789 is seen it is ignored

This patch fixes this by updating the dvr entry at the same time the EPG eid entry is updated so that, when EIT data for eid 6789 is received the dvr entry is matched and started.
I hope that makes sense.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/mpmc,4,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-340500976,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","Heh. I forgot about this!
I did some very basic tests (without this patch) and from what I can tell yes EITp/f doesn't work quite right on some channels. I'll try this patch ASAP.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-340564068,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","@af987 : I really know what you're trying to do, but we should take care about all impacts which this change does mean. Basically, the DVR code takes those values as primary to decide if events match, so if we change ID in any way (ID is not persistent), it's just bad.
I see two cleaner ways - add the source to the ID or keep the source with ID and handle multiple IDs per the recodings entry. The second way is to not fetch the ID from Freeview EPG tables at all. I 'd prefer the first way, but it requires more code.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,6,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-340707563,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","@perexg : I'm not really sure that I see how your second method would work at all.  The Freesat EPG is a full 8-day EPG, the EIT data exists only for a short time before the programme airs.  So using the Freesat EPG I can set a recording today for e.g. next Saturday.  If you didn't use the Freesat EPG event ID, how would the recording get set?  With no event ID at all?  The EIT data for the event next Saturday would only exist a short time before the programme starts so what would you do - would you take the EIT event ID and update the dvr entry at that time?  Isn't that pretty much the same thing?  I think I must be missing something here.
I can see how the first idea would work - I think.  So I set a recording for a programme next Saturday from the Freesat EPG.  The dvr entry explicitly references the event in the Freesat EPG used to create it.  The EIT parser already updates the EPG event id if it doesn't match the EIT event ID with the existing call to ""epg_broadcast_set_dvb_eid"" so then the dvr entries can be checked to make sure that the only one updated is the one set against this specific EPG entry.  I hope I have understood correctly.  If I have then I agree that this is a thorough, belt and braces approach to minimise possible impact of changing the dvr eid erroneously.
I've been trying to get my head around a circumstance where this additional level of precaution would be required.  If I understand correctly, the fear is that there may be some other dvr entry for an entirely different event on a different service which just happens to have the same eid and that this would be incorrectly updated.  Is that correct?
If so, I'm struggling to see the risk in reality.  The EPG entry has already been matched by the call to ""epg_broadcast_find_by_time"" which matches based on time and channel.  And ""dvr_update_dvb_id"" is only checking dvr entries for the channel referenced in the EPG entry.  So, the only circumstance I can see where there may be ambiguity is if I have multiple EPGs for the same channel and therefore potentially the same eid for different programmes on the same channel e.g. Freesat eid for Programme A in Channel Z is 1234 but the Freeview EPG also uses eid 1234 for Programme B on Channel Z.
If this is the concern then why not simply add some additonal checks in dvr_update_dvb_id to match e.g. start/end time between the DVR entry and the EPG entry as well.
Sorry - this comment seems to have become very large.  I'm just keen to understand the concerns and the risks here.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/perexg,7,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341217894,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","Looking to the code, the eid should be updated in _epg_broadcast_updated() -> dvr_event_updated() -> _dvr_entry_update() chain. Perhaps, there's grabber priority issue, so this value is lost?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/mpmc,8,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341282154,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","Yep there is definitely something weird going on.
Use EPG running state: ON



Grabber
Priority




EIT
1


Freesat
2


Sky UK - OpenTV (they sometimes have better data)
3


Freeview
4



2017-11-01 23:24:28.721 [  DEBUG]:dvr: dvr entry 8eb5aaf6b1d2da3f14f2b4adf2e8054f other running event Newsnight on BBC NEWS HD - EPG marking stop
2017-11-01 23:24:28.721 [  DEBUG]:dvr: dvr entry 04f29764c517209513e84ea84f202408 other running event Newsnight on BBC NEWS HD - EPG marking stop
2017-11-01 23:24:30.005 [   INFO]:dvr: ""American Dad!"" on ""ITV2"" recorder starting
2017-11-01 23:24:30.011 [   INFO]:dvr: About to set stop timer for ""American Dad!"" on ""ITV2"" at start 1509579000 and original stop 1509580800 and overall stop at 1509581100
2017-11-01 23:24:30.011 [   INFO]:subscription: 003C: ""DVR: American Dad!"" subscribing on channel ""ITV2"", weight: 500, adapter: ""Silicon Labs Si2168 #3 : DVB-T #0"", network: ""DVB-T - Waltham"", mux: ""737.833MHz"", service: ""ITV2"", profile=""pass""
2017-11-01 23:25:00.030 [  DEBUG]:dvr: File ""/md0/tvheadend/dvr/ITV2/American Dad!2017-11-01.ts"" -- No such file or directory -- Using for recording
2017-11-01 23:25:00.030 [   INFO]:dvr: /md0/tvheadend/dvr/ITV2/American Dad!2017-11-01.ts from adapter: ""Silicon Labs Si2168 #3 : DVB-T #0"", network: ""DVB-T - Waltham"", mux: ""737.833MHz"", provider: ""<N/A>"", service: ""ITV2""
2017-11-01 23:25:00.030 [   INFO]:dvr:  #  type              lang  resolution  aspect ratio  sample rate  channels
2017-11-01 23:25:00.030 [   INFO]:dvr:  1  MPEG2VIDEO              720x576     ?                                    
2017-11-01 23:25:00.030 [   INFO]:dvr:  2  MPEG2AUDIO        eng                             96000        ?         
2017-11-01 23:25:00.030 [   INFO]:dvr:  3  MPEG2AUDIO        eng                             96000        ?         
2017-11-01 23:25:00.030 [   INFO]:dvr:  4  DVBSUB            eng                                                    
2017-11-01 23:27:17.818 [   INFO]:subscription: 0044: ""epggrab"" subscribing to mux ""554MHz"", weight: 4, adapter: ""Sony CXD2820R #1 : DVB-T #0"", network: ""DVB-T - Waltham"", service: ""Raw PID Subscription""
2017-11-01 23:27:21.130 [  DEBUG]:dvr: dvr entry c719c9ebb2e6a086320c2e0dd1776f47 other running event Man Down on Channel 4+1 HD - EPG marking stop
2017-11-01 23:27:21.130 [  DEBUG]:dvr: dvr entry 684dbfb6f4cf38996708de9b5aaf57bd other running event Man Down on Channel 4+1 HD - EPG marking stop
2017-11-01 23:27:21.130 [  DEBUG]:dvr: dvr entry 89b221a2cf08784898edcc0ce21fe788 other running event Man Down on Channel 4+1 HD - EPG marking stop
2017-11-02 00:05:00.003 [   INFO]:subscription: 003C: ""DVR: American Dad!"" unsubscribing from ""ITV2""
2017-11-02 00:05:00.005 [   INFO]:dvr: ""American Dad!"" on ""ITV2"": End of program: Completed OK

There is no running state detected for ""American Dad!"" but there is for other services. ITV2 does have EITp/f so I wonder why it's not being correctly detected here.
🤕",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,9,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341351163,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","@perexg : Just to be clear, would you expect the EIT grabber to have a higher or lower priority than the Freesat grabber?
@mpmc : Is that trace with or without the ""fix"" applied?
I'll do some more testing/tracing today and let you know what I find out.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,10,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341377626,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","Hello All,
To demonstrate the issue, I hacked in a bit of additional tracing to _eit_process_event_one.  This gives the existing EIT trace output (updated to trace under DVR and to add ""GOT EIT For:"" at the beginning) and then a trace of which, if any, EPG event the EIT is matched to by epg_broadcast_find_by_time.  The resulting log file is attached.
dvr.log
You can see that the first mux I tuned to is perfect.  The eid in the EIT matches the eid of the EPG event.  Accurate recording works perfectly for channels on this mux.  The same applies for the second mux.
By the time we get to the thrid mux (Channel 5 and others) we start to see a mis-match between the EIT and EPG eids.  Not for every channel/event but for a good few of them.
The muxes towards the end of the trace are pretty bad.
Hopefully this demonstrates the extent of the issue.
Actually, looking in more detail at the code of _eit_process_event_one ..........

The EIT is received (e.g. eid 1234)
The EIT is matched to an EPG event using epg_broadcast_find_by_time (e.g. eid 5678)
At this point the eids don't match but we ""know"" what EPG event the EIT refers to
The DVR event is associated with the EPG eid (5678)
The existing code then calls epg_broadcast_set_dvb_eid to update the EPG eid (so now it is 1234)
Eventually the existing code calls epg_broadcast_notify_running passing the EPG data (ebc) but the eid has been updated in this and now no longer matches the DVR entry and so the recording is not started

@perexg : You indicated that the dvr eid should be updated by the following chain _epg_broadcast_updated() -> dvr_event_updated() -> _dvr_entry_update() but I couldn't quite work out how that would happen or how it would get triggered.  Can you provide more detail please?
The above sequence of events (steps 1-6) are all in _eit_process_event_one so happen within a fraction of a second of each other.  So if the first EIT that is seen for the event we want to record has a running status of 4 (running now) we've already missed the chance to record it by the time we get to step 6 unless we either (a) don't update the EPG eid until after the call to epg_broadcast_notify_running or (b) we update the DVR eid at the same time as the EPG eid.
I'm not sure what other options there are.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,11,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341381298,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","For the sake of completeness, the code used to produce the trace is as follows.  I only used DVR tracing (LS_DVR) as tracing EIT data is much too verbose for what I wanted to see in the log:
_eit_process_event_one
.......
/* Find broadcast */
ebc  = epg_broadcast_find_by_time(ch, mod, start, stop, 1, &save2, &changes2);
tvhtrace(LS_DVR, ""GOT EIT For: svc='%s', ch='%s', eid=%5d, tbl=%02x, running=%d, start=%s,""
"" stop=%s, ebc=%p"",
svc->s_dvb_svcname ?: ""(null)"",
ch ? channel_get_name(ch, channel_blank_name) : ""(null)"",
eid, tableid, running,
gmtime2local(start, tm1, sizeof(tm1)),
gmtime2local(stop, tm2, sizeof(tm2)), ebc);
if (!ebc) {
tvhtrace(LS_DVR, ""No match found in EPG by epg_broadcast_find_by_time!"");
if (tableid == 0x4e)
  rsonly = 1;
else
  return 0;

} else {
tvhtrace(LS_DVR, ""Matched to EPG event %s on %s  eid=%5d"",
epg_broadcast_get_title(ebc, NULL),
channel_get_name(ebc->channel, channel_blank_name),
ebc->dvb_eid);
}
.....",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/mpmc,12,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341408350,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","@af987

Is that trace with or without the ""fix"" applied?

It's without..
I only did some basic tests to begin with - without logging, then when @perexg said it could be a grabber issue..

Perhaps, there's grabber priority issue, so this value is lost?

I did the tests again but rejigged the grabber priorities (and deleted the epgdb).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/perexg,13,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341411460,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","@af987 : I see probably the culprit. The _epg_broadcast_updated() call is a bit delayed from the event structure update - it's called from epg_update(), but the running status is sent when the EPG event is parsed. We should do things in sync (the _epg_broadcast_updated() should also change the running state).
To be more precise: The update sequence in _epg_broadcast_updated() for DVR should be:
dvr_event_updated() dvr_event_running()",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/perexg,14,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341420212,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","This patch should do things in sync:
perexg@bc54d8c
Could you test? It's epg-running branch in my repo..",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,15,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341433348,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","This patch should do things in sync:
perexg/tvheadend@bc54d8c


Could you test? It's epg-running branch in my repo..

Sure.  Compiled and running.  Will let you know results tomorrow (not around this afternoon unfortunately).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/mpmc,16,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341462191,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.",I also have it build and running. I should be able to give results in an hour or two (waiting for a programme to start :p),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,17,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341489997,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","Okay, so my meeting finished early and I got a chance to test a little.  Results were not encouraging I'm afraid.  Two test recordings never started at all.  Two test recordings started at the pre-recording padding time (10 minutes before the actual programme) instead of waiting for the EITp/f to trigger the start.  One test seemed to work okay.
I haven't had a chance to collect/analyse logs as yet and I have to revert to a working version before the schedules for all of SWMBO's programmes start in a short while.  I should have time to test/analyse in more detail tomorrow and will report back.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/mpmc,18,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341505208,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","@af987
The code seems to react OK for CBS Action on satellite.
2017-11-02 16:54:30.002 [  TRACE]:dvr: entry 39b975020f585d25c1b4f70b9878ba9a - set state - state RECORDING rec_state PENDING error 'OK'
2017-11-02 16:54:30.002 [   INFO]:dvr: ""NCIS: Los Angeles"" on ""CBS Action"" recorder starting
2017-11-02 16:54:30.003 [   INFO]:dvr: About to set stop timer for ""NCIS: Los Angeles"" on ""CBS Action"" at start 1509642000 and original stop 1509645600 and ov$
2017-11-02 16:54:30.003 [   INFO]:mpegts: 11343.5V in DVB-S - Astra 28.2°E - tuning on Montage Technology M88DS3103 #2 : DVB-S #0
2017-11-02 16:54:30.004 [   INFO]:subscription: 007A: ""epggrab"" unsubscribing
2017-11-02 16:54:30.267 [   INFO]:subscription: 0085: ""DVR: NCIS: Los Angeles"" subscribing on channel ""CBS Action"", weight: 500, adapter: ""Montage Technology $
2017-11-02 16:54:33.009 [  TRACE]:dvr: entry 39b975020f585d25c1b4f70b9878ba9a - set state - state RECORDING rec_state EPGWAIT error 'OK'
2017-11-02 16:54:41.201 [  TRACE]:dvr: checking free and used disk space for config ""Default profile"" : OK
2017-11-02 16:54:56.201 [  TRACE]:dvr: checking free and used disk space for config ""Default profile"" : OK
2017-11-02 16:55:00.050 [  TRACE]:dvr: entry 39b975020f585d25c1b4f70b9878ba9a - set state - state RECORDING rec_state RUNNING error 'OK'
2017-11-02 16:55:00.050 [  TRACE]:dvr: entry 39b975020f585d25c1b4f70b9878ba9a - set state - state RECORDING rec_state WAIT error 'OK'
2017-11-02 16:55:00.050 [  TRACE]:dvr: Creating directory ""/md0/tvheadend/dvr/CBS Action"" with octal permissions ""750"" gid -1 uid -1
2017-11-02 16:55:00.050 [  DEBUG]:dvr: File ""/md0/tvheadend/dvr/CBS Action/NCIS_ Los Angeles2017-11-02.ts"" -- No such file or directory -- Using for recording
2017-11-02 16:55:00.051 [   INFO]:dvr: /md0/tvheadend/dvr/CBS Action/NCIS_ Los Angeles2017-11-02.ts from adapter: ""Montage Technology M88DS3103 #2 : DVB-S #0""$
2017-11-02 16:55:00.051 [   INFO]:dvr:  #  type              lang  resolution  aspect ratio  sample rate  channels
2017-11-02 16:55:00.051 [   INFO]:dvr:  1  MPEG2AUDIO        eng                             96000        ?
2017-11-02 16:55:00.051 [   INFO]:dvr:  2  MPEG2VIDEO              544x576     ?
2017-11-02 16:55:00.095 [  TRACE]:dvr: entry 39b975020f585d25c1b4f70b9878ba9a - set state - state RECORDING rec_state RUNNING error 'OK'

I'm just waiting for a recording on ITV HD (ITV News Central) to start to see if I get the EITp/f output. I did do a few other tests but tvh used my dvb-t tuners and I wasn't sure the channel I used (CITV) has EITp/f - I did check the output and there wasn't any, so redoing the tests again.
Update:-
Here's it's starting to record central news.
2017-11-02 17:44:37.872 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 - assign broadcast 29029
2017-11-02 17:44:37.872 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 start 2017-11-02;17:54:30(+0000) stop 2017-11-02;18:35:00(+0000) - set timer
2017-11-02 17:44:37.872 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 start 2017-11-02;17:54:30(+0000) - set timer - schedule
2017-11-02 17:44:37.872 [   INFO]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 ""ITV News Central"" on ""ITV HD"" starting at 2017-11-02 17:54:30, with broadcast id ""crid://onid-2/883526480"", scheduled for recording by ""mark""
2017-11-02 17:44:37.872 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 start 2017-11-02;17:54:30(+0000) stop 2017-11-02;18:35:00(+0000) - set timer
2017-11-02 17:44:37.872 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 start 2017-11-02;17:54:30(+0000) - set timer - schedule
2017-11-02 17:44:37.872 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 start 2017-11-02;17:54:30(+0000) stop 2017-11-02;18:35:00(+0000) - set timer
2017-11-02 17:44:37.872 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 start 2017-11-02;17:54:30(+0000) - set timer - schedule
2017-11-02 17:54:05.915 [   INFO]:mpegts: 10758.5V in DVB-S - Astra 28.2°E - tuning on Montage Technology M88DS3103 #2 : DVB-S #0
2017-11-02 17:54:05.922 [   INFO]:subscription: 00BD: ""epggrab"" subscribing to mux ""10758.5V"", weight: 4, adapter: ""Montage Technology M88DS3103 #2 : DVB-S #0"", network: ""DVB-S - Astra 28.2°E"", service: ""Raw PID Subscription""
2017-11-02 17:54:30.006 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 - set state - state RECORDING rec_state PENDING error 'OK'
2017-11-02 17:54:30.006 [   INFO]:dvr: ""ITV News Central"" on ""ITV HD"" recorder starting
2017-11-02 17:54:30.006 [   INFO]:dvr: About to set stop timer for ""ITV News Central"" on ""ITV HD"" at start 1509645600 and original stop 1509647400 and overall stop at 1509647700
2017-11-02 17:54:30.006 [   INFO]:mpegts: 11097V in DVB-S - Astra 28.2°E - tuning on Montage Technology M88DS3103 #2 : DVB-S #0
2017-11-02 17:54:30.014 [   INFO]:subscription: 00BF: ""DVR: ITV News Central"" subscribing on channel ""ITV HD"", weight: 500, adapter: ""Montage Technology M88DS3103 #2 : DVB-S #0"", network: ""DVB-S - Astra 28.2°E"", mux: ""11097V"", provider: ""BSkyB"", service: ""ITV HD"", profile=""pass""
2017-11-02 17:54:33.010 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 - set state - state RECORDING rec_state EPGWAIT error 'OK'
2017-11-02 17:55:00.002 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 - set state - state RECORDING rec_state RUNNING error 'OK'
2017-11-02 17:55:00.002 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 - set state - state RECORDING rec_state WAIT error 'OK'
2017-11-02 17:55:00.002 [  DEBUG]:dvr: File ""/md0/tvheadend/dvr/ITV HD/ITV News Central2017-11-02.ts"" -- No such file or directory -- Using for recording
2017-11-02 17:55:00.002 [   INFO]:dvr: /md0/tvheadend/dvr/ITV HD/ITV News Central2017-11-02.ts from adapter: ""Montage Technology M88DS3103 #2 : DVB-S #0"", network: ""DVB-S - Astra 28.2°E"", mux: ""11097V"", provider: ""BSkyB"", service: ""ITV HD""
2017-11-02 17:55:00.002 [   INFO]:dvr:  #  type              lang  resolution  aspect ratio  sample rate  channels
2017-11-02 17:55:00.002 [   INFO]:dvr:  1  H264                    1920x1080   ?                                    
2017-11-02 17:55:00.002 [   INFO]:dvr:  2  MPEG2AUDIO        nar                             96000        ?         
2017-11-02 17:55:00.002 [   INFO]:dvr:  3  DVBSUB            eng                                                    
2017-11-02 17:55:00.002 [   INFO]:dvr:  4  TELETEXT                                                                 
2017-11-02 17:55:00.002 [   INFO]:dvr:  5  AC3               eng                             96000        ?         
2017-11-02 17:55:00.002 [   INFO]:dvr:  6  TEXTSUB           eng                                                    
2017-11-02 17:55:00.045 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 - set state - state RECORDING rec_state RUNNING error 'OK'

Have also set another recording for a later programme to see if that is any different. Is there a way to see what grabber the event is coming from? Or is it already there and I haven't noticed? 🤣
Update:2.
Here's what happened when I set it to record ""Emmerdale"" on ITV HD.. I made sure it wasn't a now/next programme & again it triggered fine here.
2017-11-02 18:13:08.266 [   INFO]:subscription: 00BF: ""DVR: ITV News Central"" unsubscribing from ""ITV HD""
2017-11-02 18:13:08.267 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 - set state - state COMPLETED rec_state FINISHED error 'Aborted by user'
2017-11-02 18:13:08.267 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 when 1970-01-01;01:00:00(+0100) - retention arm
2017-11-02 18:13:08.267 [   INFO]:dvr: ""ITV News Central"" on ""ITV HD"": End of program: Aborted by user
2017-11-02 18:13:08.267 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 start 2017-11-02;17:54:30(+0000) stop 2017-11-02;18:35:00(+0000) - set timer
2017-11-02 18:13:08.267 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 when 1970-01-01;01:00:00(+0100) - retention arm
2017-11-02 18:13:08.267 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 when 1970-01-01;01:00:00(+0100) - retention arm
2017-11-02 18:13:08.267 [  TRACE]:dvr: entry de51afce75e15a05a0ac2974f8fe3e16 - retention timer - disarm
2017-11-02 18:13:12.256 [  TRACE]:dvr: checking free and used disk space for config ""Default profile"" : OK
2017-11-02 18:13:15.647 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 - assign broadcast 29031
2017-11-02 18:13:15.647 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 start 2017-11-02;18:54:30(+0000) stop 2017-11-02;19:35:00(+0000) - set timer
2017-11-02 18:13:15.647 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 start 2017-11-02;18:54:30(+0000) - set timer - schedule
2017-11-02 18:13:15.647 [   INFO]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 ""Emmerdale"" on ""ITV HD"" starting at 2017-11-02 18:54:30, with broadcast id ""crid://onid-2/883391262"", scheduled for recording by ""mark""
2017-11-02 18:13:15.647 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 start 2017-11-02;18:54:30(+0000) stop 2017-11-02;19:35:00(+0000) - set timer
2017-11-02 18:13:15.647 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 start 2017-11-02;18:54:30(+0000) - set timer - schedule
2017-11-02 18:13:15.647 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 start 2017-11-02;18:54:30(+0000) stop 2017-11-02;19:35:00(+0000) - set timer
2017-11-02 18:13:15.647 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 start 2017-11-02;18:54:30(+0000) - set timer - schedule
2017-11-02 18:23:20.602 [  TRACE]:dvr: timerec update
2017-11-02 18:54:30.006 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 - set state - state RECORDING rec_state PENDING error 'OK'
2017-11-02 18:54:30.006 [   INFO]:dvr: ""Emmerdale"" on ""ITV HD"" recorder starting
2017-11-02 18:54:30.011 [   INFO]:dvr: About to set stop timer for ""Emmerdale"" on ""ITV HD"" at start 1509649200 and original stop 1509651000 and overall stop at 1509651300
2017-11-02 18:54:30.259 [   INFO]:subscription: 00E4: ""DVR: Emmerdale"" subscribing on channel ""ITV HD"", weight: 500, adapter: ""Montage Technology M88DS3103 #2 : DVB-S #0"", network: ""DVB-S - Astra 28.2°E"", mux: ""11097V"", provider: ""BSkyB"", service: ""ITV HD"", profile=""pass""
2017-11-02 18:54:33.020 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 - set state - state RECORDING rec_state EPGWAIT error 'OK'
2017-11-02 18:55:00.007 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 - set state - state RECORDING rec_state RUNNING error 'OK'
2017-11-02 18:55:00.008 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 - set state - state RECORDING rec_state WAIT error 'OK'
2017-11-02 18:55:00.008 [  DEBUG]:dvr: File ""/md0/tvheadend/dvr/ITV HD/Emmerdale2017-11-02.ts"" -- No such file or directory -- Using for recording
2017-11-02 18:55:00.008 [   INFO]:dvr: /md0/tvheadend/dvr/ITV HD/Emmerdale2017-11-02.ts from adapter: ""Montage Technology M88DS3103 #2 : DVB-S #0"", network: ""DVB-S - Astra 28.2°E"", mux: ""11097V"", provider: ""BSkyB"", service: ""ITV HD""
2017-11-02 18:55:00.008 [   INFO]:dvr:  #  type              lang  resolution  aspect ratio  sample rate  channels
2017-11-02 18:55:00.008 [   INFO]:dvr:  1  H264                    1920x1080   ?                                    
2017-11-02 18:55:00.008 [   INFO]:dvr:  2  MPEG2AUDIO        nar                             96000        ?         
2017-11-02 18:55:00.008 [   INFO]:dvr:  3  DVBSUB            eng                                                    
2017-11-02 18:55:00.008 [   INFO]:dvr:  4  TELETEXT                                                                 
2017-11-02 18:55:00.008 [   INFO]:dvr:  5  AC3               eng                             96000        ?         
2017-11-02 18:55:00.008 [   INFO]:dvr:  6  TEXTSUB           eng                                                    
2017-11-02 18:55:00.054 [  TRACE]:dvr: entry 5d17f75fa3bede3af38d32c7a17f2780 - set state - state RECORDING rec_state RUNNING error 'OK'```",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,19,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341659514,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","@mpmc : those traces don't look right to me.  I'm guessing that you have pre-recording padding set to five minutes.  Either that or your system clock is exactly five minutes slow.  Both recordings seem to have started five minutes before the scheduled programme start time (pre-padding?) as opposed to when the EITp/f running status is received.
I would also have expected to see some ""dvr event running check ....."" traces in the log.
There us definitely an issue with the proposed fix from @perexg.  I think I've worked it out and am just testing a possible fix.  More shortly.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,20,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341669180,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","Hello again.  My initial testing wasn't very positive as reported yesterday so I have done some additional tracing and investigation and believe I have identified an issue.
I think that at least part of the problem is that epg_broadcast_set_running() is not adding the updated object to the ""epg_object_updated"" list in the same way as all other updates to the epg object do.  So, if the ONLY update to the epg object is a running status update triggered by the EITp/f, then when epg_updated() is called the object is not in the list so none of the other actions are triggered (epg_broadcast_updated() for example).
P.S. My ""quick fix"" for this issue didn't work.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/mpmc,21,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341696623,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","those traces don't look right to me. I'm guessing that you have pre-recording padding set to five minutes. Either that or your system clock is exactly five minutes slow. Both recordings seem to have started five minutes before the scheduled programme start time (pre-padding?) as opposed to when the EITp/f running status is received.

You are correct, I did have 5 mins pre/post-padding. I had used it previously with EITp/f and it worked fine - this is showing how much (and how long ago) I used EITp/f 🤣 Unless there was a change to ignore EITp/f when padding is set now?

I would also have expected to see some ""dvr event running check ....."" traces in the log.
Yes, I was wondering that too, but I only had dvr debugging on, so assumed it was that.

Anyway, I turned off the padding, and EIT appears to be working fine as far as I can see.
2017-11-03 12:06:29.552 [  TRACE]:dvr: checking free and used disk space for config ""Default profile"" : OK
2017-11-03 12:06:30.547 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 - assign broadcast 272308
2017-11-03 12:06:30.547 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 start 2017-11-03;12:14:30(+0000) stop 2017-11-03;12:30:00(+0000) - set timer
2017-11-03 12:06:30.547 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 start 2017-11-03;12:14:30(+0000) - set timer - schedule
2017-11-03 12:06:30.547 [   INFO]:dvr: entry 14fd54b6416028f94be119c39fb45211 ""Horrid Henry"" on ""CITV"" starting at 2017-11-03 12:14:30, with broadcast id ""tvh://channel-d3f493335b0e483d10615a92a590fe11/bcast-272308/episode"", scheduled for recording by ""mark""
2017-11-03 12:06:30.547 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 start 2017-11-03;12:14:30(+0000) stop 2017-11-03;12:30:00(+0000) - set timer
2017-11-03 12:06:30.547 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 start 2017-11-03;12:14:30(+0000) - set timer - schedule
2017-11-03 12:06:30.547 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 start 2017-11-03;12:14:30(+0000) stop 2017-11-03;12:30:00(+0000) - set timer
2017-11-03 12:06:30.547 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 start 2017-11-03;12:14:30(+0000) - set timer - schedule
2017-11-03 12:08:20.641 [  TRACE]:dvr: timerec update
2017-11-03 12:08:38.555 [WARNING]:epggrab: UK: Freesat - data completion timeout for iptv.sh - TVI Reality in IPTV
2017-11-03 12:08:38.555 [WARNING]:epggrab: EIT: DVB Grabber - data completion timeout for iptv.sh - TVI Reality in IPTV
2017-11-03 12:14:30.006 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 - set state - state RECORDING rec_state PENDING error 'OK'
2017-11-03 12:14:30.006 [   INFO]:dvr: ""Horrid Henry"" on ""CITV"" recorder starting
2017-11-03 12:14:30.006 [   INFO]:dvr: About to set stop timer for ""Horrid Henry"" on ""CITV"" at start 1509711300 and original stop 1509712200 and overall stop at 1509712200
2017-11-03 12:14:30.006 [   INFO]:mpegts: 10758.5V in DVB-S - Astra 28.2°E - tuning on Montage Technology M88DS3103 #2 : DVB-S #0
2017-11-03 12:14:30.255 [   INFO]:subscription: 042D: ""DVR: Horrid Henry"" subscribing on channel ""CITV"", weight: 500, adapter: ""Montage Technology M88DS3103 #2 : DVB-S #0"", network: ""DVB-S - Astra 28.2°E"", mux: ""10758.5V"", provider: ""BSkyB"", service: ""CITV"", profile=""matroska""
2017-11-03 12:14:34.021 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 - set state - state RECORDING rec_state EPGWAIT error 'OK'
2017-11-03 12:15:00.056 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 - set state - state RECORDING rec_state RUNNING error 'OK'
2017-11-03 12:15:00.056 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 - set state - state RECORDING rec_state WAIT error 'OK'
2017-11-03 12:15:00.056 [  DEBUG]:dvr: File ""/md0/tvheadend/dvr/CITV/Horrid Henry2017-11-03.mkv"" -- No such file or directory -- Using for recording
2017-11-03 12:15:00.107 [   INFO]:dvr: /md0/tvheadend/dvr/CITV/Horrid Henry2017-11-03.mkv from adapter: ""Montage Technology M88DS3103 #2 : DVB-S #0"", network: ""DVB-S - Astra 28.2°E"", mux: ""10758.5V"", provider: ""BSkyB"", service: ""CITV""
2017-11-03 12:15:00.107 [   INFO]:dvr:  #  type              lang  resolution  aspect ratio  sample rate  channels
2017-11-03 12:15:00.107 [   INFO]:dvr:  1  MPEG2VIDEO              720x576     16:9                                 
2017-11-03 12:15:00.107 [   INFO]:dvr:  2  MPEG2AUDIO        nar                             48000        2         
2017-11-03 12:15:00.107 [   INFO]:dvr:  3  MPEG2AUDIO        eng                             48000        2         
2017-11-03 12:15:00.107 [   INFO]:dvr:  4  DVBSUB            eng                                                    
2017-11-03 12:15:00.107 [   INFO]:dvr:  6  TEXTSUB           eng                                                    
2017-11-03 12:15:00.107 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 - set state - state RECORDING rec_state RUNNING error 'OK'
2017-11-03 12:18:01.152 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf - assign broadcast 272330
2017-11-03 12:18:01.152 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf start 2017-11-03;12:29:30(+0000) stop 2017-11-03;13:30:00(+0000) - set timer
2017-11-03 12:18:01.153 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf start 2017-11-03;12:29:30(+0000) - set timer - schedule
2017-11-03 12:18:01.153 [   INFO]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf ""Loose Women"" on ""ITV HD"" starting at 2017-11-03 12:29:30, with broadcast id ""tvh://channel-39c4ba0f041fe759c9232e0e2e7c25b8/bcast-272330/episode"", scheduled for recording by ""mark""
2017-11-03 12:18:01.153 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf start 2017-11-03;12:29:30(+0000) stop 2017-11-03;13:30:00(+0000) - set timer
2017-11-03 12:18:01.153 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf start 2017-11-03;12:29:30(+0000) - set timer - schedule
2017-11-03 12:18:01.153 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf start 2017-11-03;12:29:30(+0000) stop 2017-11-03;13:30:00(+0000) - set timer
2017-11-03 12:18:01.153 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf start 2017-11-03;12:29:30(+0000) - set timer - schedule
2017-11-03 12:29:29.570 [  TRACE]:dvr: checking free and used disk space for config ""Default profile"" : OK
2017-11-03 12:29:30.006 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf - set state - state RECORDING rec_state PENDING error 'OK'
2017-11-03 12:29:30.006 [   INFO]:dvr: ""Loose Women"" on ""ITV HD"" recorder starting
2017-11-03 12:29:30.006 [   INFO]:dvr: About to set stop timer for ""Loose Women"" on ""ITV HD"" at start 1509712200 and original stop 1509715800 and overall stop at 1509715800
2017-11-03 12:29:30.006 [   INFO]:mpegts: 11097V in DVB-S - Astra 28.2°E - tuning on Montage Technology DS3000 #5 : DVB-S #0
2017-11-03 12:29:30.927 [   INFO]:subscription: 0437: ""DVR: Loose Women"" subscribing on channel ""ITV HD"", weight: 500, adapter: ""Montage Technology DS3000 #5 : DVB-S #0"", network: ""DVB-S - Astra 28.2°E"", mux: ""11097V"", provider: ""BSkyB"", service: ""ITV HD"", profile=""matroska""
2017-11-03 12:29:36.042 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf - set state - state RECORDING rec_state EPGWAIT error 'OK'
2017-11-03 12:30:00.005 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 rstart 1970-01-01;01:00:00(+0100) rstop 1970-01-01;01:00:00(+0100) - stop recording timer called
2017-11-03 12:30:00.015 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf - set state - state RECORDING rec_state RUNNING error 'OK'
2017-11-03 12:30:00.100 [   INFO]:subscription: 042D: ""DVR: Horrid Henry"" unsubscribing from ""CITV""
2017-11-03 12:30:00.101 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 - set state - state COMPLETED rec_state FINISHED error 'OK'
2017-11-03 12:30:00.101 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 when 1970-01-01;01:00:00(+0100) - retention arm
2017-11-03 12:30:00.101 [   INFO]:dvr: ""Horrid Henry"" on ""CITV"": End of program: Completed OK
2017-11-03 12:30:00.101 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 start 2017-11-03;12:14:30(+0000) stop 2017-11-03;12:30:00(+0000) - set timer
2017-11-03 12:30:00.101 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 when 1970-01-01;01:00:00(+0100) - retention arm
2017-11-03 12:30:00.101 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 when 1970-01-01;01:00:00(+0100) - retention arm
2017-11-03 12:30:00.101 [  TRACE]:dvr: entry 14fd54b6416028f94be119c39fb45211 - retention timer - disarm
2017-11-03 12:30:00.102 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf - set state - state RECORDING rec_state WAIT error 'OK'
2017-11-03 12:30:00.102 [  DEBUG]:dvr: File ""/md0/tvheadend/dvr/ITV HD/Loose Women2017-11-03.mkv"" -- No such file or directory -- Using for recording
2017-11-03 12:30:00.102 [   INFO]:dvr: /md0/tvheadend/dvr/ITV HD/Loose Women2017-11-03.mkv from adapter: ""Montage Technology DS3000 #5 : DVB-S #0"", network: ""DVB-S - Astra 28.2°E"", mux: ""11097V"", provider: ""BSkyB"", service: ""ITV HD""
2017-11-03 12:30:00.102 [   INFO]:dvr:  #  type              lang  resolution  aspect ratio  sample rate  channels
2017-11-03 12:30:00.102 [   INFO]:dvr:  1  H264                    1920x1080   16:9                                 
2017-11-03 12:30:00.102 [   INFO]:dvr:  2  MPEG2AUDIO        nar                             48000        2         
2017-11-03 12:30:00.102 [   INFO]:dvr:  3  DVBSUB            eng                                                    
2017-11-03 12:30:00.102 [   INFO]:dvr:  5  AC3               eng                             48000        2         
2017-11-03 12:30:00.102 [   INFO]:dvr:  6  TEXTSUB           eng                                                    
2017-11-03 12:30:00.103 [  TRACE]:dvr: entry eba862b6ddca94aea1ab7fa81b1445bf - set state - state RECORDING rec_state RUNNING error 'OK'
2017-11-03 12:30:14.571 [  TRACE]:dvr: checking free and used disk space for config ""Default profile"" : OK

I wonder why it's not working for you 😕 Or am I confusing the issue?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,22,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341701610,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","I'm new to all this and I may well be wrong, but your traces still don't look to me like EITp/f is being used.  It just looks now like the adapter is being fired up 30s before the scheduled programme start time and the recording is starting bang on the scheduled start time.
There are two tell tale signs for me.
Fristly, when EITp/f is beign used, dvr_event_running() would be called and you'd see a dvr trace something like ""dvr event running check for  on  running "" and then you'd see the recorder brought into life.
The second indication is that the recordings are starting bang on the scheduled start time which would be highly unusual.  I don't think I've ever seen the ""running now"" EITp/f broadcast smack bang on the scheduled time - usually 15-20 before or after.
I'm working through, adding LOTS more tracing to try to find out what's going on.
In the short term, I have changed epg_broadcast_set_running() as follows as there is definitely and issue when ONLY the running status is updated as described earlier.
int epg_broadcast_set_running
  ( epg_broadcast_t *broadcast, epg_running_t running )
{
  int save = running != broadcast->running;
  if (running != broadcast->running)
  {
	  broadcast->update_running = running;
	  _epg_object_set_updated(broadcast);
  }
  return save;
}

This change has helped but it's still not right.  I'll continue my investigation.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/mpmc,23,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341708675,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","@af987

I'm new to all this and I may well be wrong, but your traces still don't look to me like EITp/f is being used. It just looks now like the adapter is being fired up 30s before the scheduled programme start time and the recording is starting bang on the scheduled start time.

No, my apologies. It's me who is wrong here. I am confusing DVR state check with running state check lines! I'm embarrassed that I didn't twig onto this before - it's in my previous logs too! Information overload  (debug log) and lack of sleep. Sorry!
Just so you (and anyone else) knows, don't ever be afraid to tell me when I'm wrong. I never take offence to being corrected (T&Cs apply 🤣) - unless you're being an arse about it (You weren't!).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/perexg,24,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341739777,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.",@af987 : I pushed all my changes (including yours with epg_object_set_updated() call) to the master repo..,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/mpmc,25,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341742422,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.",Awesome. Thank you perex!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,26,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341744552,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","I pushed all my changes (including yours with epg_object_set_updated() call) to the master repo..

Thanks @perexg .  Needs a slight change though (discovered in my testing):
int epg_broadcast_set_running
  ( epg_broadcast_t *broadcast, epg_running_t running )
{
  int save = running != broadcast->running;
  broadcast->update_running = running;  
  
  if (broadcast->update_running != broadcast->running)
  {
	  _epg_object_set_updated(broadcast);
  }
  return save;
}

But overall the solution has not fixed the original problem.  I was still getting missed recordings. getting closer to knowing why but haven't yet figured out what has caused this.
So now everything triggers nicely as @perexg wanted.  epg_update() is called which triggers various things including _epg_broadcast_updated which then calls dvr_event_updated().  All good so far.
dvr_event_updated() calls  _dvr_entry_update and hey presto the correct dvr event is updated with the new eid from the updated EPG (broadcast) object.
Well, not quite!!!  The first thing that _dvr_event_updated does is to test whether the dvr_entry_is_editable and ooops - it thinks it isn't, so the eid never gets updated on the dvr event and we are back to square one.  This test is basically whether the dvr entry status is ""Scheduled"" but this is not the case for some reason.  I'm currently setting my recordings from the tvh web interface.
Having hacked _dvr_event_updated to force the dvr eid to be updated even if the dvr event is ""not editable"" then everything seems to be working ...... although much more testing would be required.
Just need to figure out why the dvr entry is not in a ""scheduled"" state casuing it not to get updated first!
Any ideas gratefully received.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/perexg,27,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341749244,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","@af987 : My fix commit is is slightly different: 39895bc , so it should be fine.
The dvr_entry_is_editable() check was added to protect the entry modification when the recordings starts - the recordings is probably in the warm or extra start time state. I believe that the eid change belongs to the !editable condition, too. Could you add the ""if (e && e->dvb_eid != de->de_dvb_eid) { .... }"" block there for a test?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,28,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-341759230,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","Thanks @perexg.  I have added the eid update block into the !editable section of _dvr_event_updated and it seems to be fine.  Will need to revert my epg_boradcast_set_running() to your published version and re-test at some point.  I am going to have to leave this for today fairly soon but looks like we're almost there.
You're correct (of course) in that the dvr event was not editable as it was in a wait state pending the receipt of the EITp/f.
Will try and test some more over the weekend but have limited time unfortunately.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,29,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-342876635,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","Apologies for the radio silence.  Busy weekend and then work got in the way of anything more interesting for the last couple of days!
Just a quick note to say that there have been no issues with my testing.  Everything looks good here.
Still not running the master branch though as there is one more update to be published which is the allowing of the update of the eid in the !editable section of _dvr_entry_update.
@perexg : Any chance this last part of the fix can be published please?
Thanks both for all your help in getting this resolved.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/perexg,30,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-342879170,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.",@af987 : I waited for the feedback. Applied to 2dbcc46.,True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/mpmc,31,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-342886559,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.",Thank you both :),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/perexg,32,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-342888185,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.",@af987 : I forgot to thank you for the analysis and testing. It's really great to work with someone which can do this.,True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/af987,33,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-342893719,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","I forgot to thank you for the analysis and testing. It really great to work with someone which can do this.


Thank you both :)

No problem.  It was an interesting exercise and, although I started it for selfish reasons, it's been interesting to learn a bit more about the inner workings of tvh.  Maybe motivated to look at something else when I get some time.
Out of interest, is the ""simpleui"" web interface going to exist going forward?  Was thinking about looking at some timeline EPG functionality but it's pretty much impossible in Extjs from what I can gather.  I've implemented one for another purpose previously and the simpleui interface gives the functional platform to probably implement something but there's not much point in looking at it if that's not the intended direction of the product.
Just wondering ;)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/perexg,34,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-342899160,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","The simpleui is not much updated for years. You can probably wrap any custom javascript timeline plugin to the extjs view window, too. https://www.sencha.com/blog/integrating-ext-js-with-3rd-party-libraries-2/ , but I'm currently thinking about to replace the extjs with something more ""free"". https://tvheadend.org/issues/3096",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1026,2017-10-30T13:29:05Z,2017-11-08T16:48:31Z,2017-11-08T18:02:29Z,CLOSED,False,26,0,3,https://github.com/af987,Fix uk freesat accurate record,3,[],https://github.com/tvheadend/tvheadend/pull/1026,https://github.com/mpmc,35,https://github.com/tvheadend/tvheadend/pull/1026#issuecomment-342902696,"Fixes a problem with accurate recording (using EIT running status) for certain UK channels when using the UK Freesat EPG.  Root cause of missed recordings is that the event ID in the EIT data does not match the event ID in the Freesat EPG so the recording is missed.  Issue has been discussed in the following forum thread:
https://tvheadend.org/boards/5/topics/29031
It could be argued that there might be neater ways to implement this fix.  For example, it could be argued that eit.c already calls ""epg_broadcast_set_dvb_eid"" to update the EPG event ID so perhaps it should be ""epg_broadcast_set_dvb_eid"" that updates the dvr entry - after all, if the EPG eid has changed then surely you would ALWAYS want to update any dvr entries related to this wouldn't you?  I guess you would but I can't be sure (as I don't know the history of tvh very well).  So to play safe I have implemented this fix during EIT processing which, personally, I think reads fairly well from an understanding the code point of view because the mis-matched eid in the EIT is what has driven the DVR entry to be updated in the first place.
Not my call to determine how this fix is ultimately implemented.  What I can tell you is that prior to this fix, recordings on the UK channel ITV HD using accurate recording and the Freesat EPG were very, very hit and miss.  Since implementing this fix I have recorded more approximately 15 ITV programmes with 100% success rate.","Out of interest, is the ""simpleui"" web interface going to exist going forward? Was thinking about looking at some timeline EPG functionality but it's pretty much impossible in Extjs from what I can gather. I've implemented one for another purpose previously and the simpleui interface gives the functional platform to probably implement something but there's not much point in looking at it if that's not the intended direction of the product.

The webui needs an update TBH, it's starting to look a bit ""long in the tooth"". I'm not keen on ExtJS at all. Would be awesome if something a bit more modern & simpler could be implemented.
There's a Feature request here that discusses possible options. I personally like UIKit. But ultimately it's not down to me, but whoever has the the will to do it, it's just way too over my head (I'm a simple guy :p). What I will say is, I'll try and help out where I can :)
And as I write this @perexg with his lightning fingers says near enough what I've just wrote haha! I often wonder how many arms/fingers you/he has! Either way I (and I'm sure many others) appreciate all the work you put into Tvheadend (and ALSA)!  👍",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1027,2017-11-01T14:23:43Z,2017-11-01T15:32:57Z,2017-11-04T23:29:33Z,CLOSED,False,5,4,1,https://github.com/jasmin-j,Fixed crash on CAM remove,1,[],https://github.com/tvheadend/tvheadend/pull/1027,https://github.com/jasmin-j,1,https://github.com/tvheadend/tvheadend/pull/1027,"When TVH is terminated with  and there is a CAM opened,
dvbcam_unregister_cam is executed prior to dvbcam_service_destroy.
dvbcam_unregister_cam will remove ""as->ac"" so linuxdvb_ca_enqueue_capmt,
executed in dvbcam_service_destroy will crash.
This should also fix a possible crash (not tested), when removing the
CAM with an active stream.
Signed-off-by: Jasmin Jessich jasmin@anw.at","When TVH is terminated with  and there is a CAM opened,
dvbcam_unregister_cam is executed prior to dvbcam_service_destroy.
dvbcam_unregister_cam will remove ""as->ac"" so linuxdvb_ca_enqueue_capmt,
executed in dvbcam_service_destroy will crash.
This should also fix a possible crash (not tested), when removing the
CAM with an active stream.
Signed-off-by: Jasmin Jessich jasmin@anw.at",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1027,2017-11-01T14:23:43Z,2017-11-01T15:32:57Z,2017-11-04T23:29:33Z,CLOSED,False,5,4,1,https://github.com/jasmin-j,Fixed crash on CAM remove,1,[],https://github.com/tvheadend/tvheadend/pull/1027,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1027#issuecomment-341142117,"When TVH is terminated with  and there is a CAM opened,
dvbcam_unregister_cam is executed prior to dvbcam_service_destroy.
dvbcam_unregister_cam will remove ""as->ac"" so linuxdvb_ca_enqueue_capmt,
executed in dvbcam_service_destroy will crash.
This should also fix a possible crash (not tested), when removing the
CAM with an active stream.
Signed-off-by: Jasmin Jessich jasmin@anw.at",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1028,2017-11-03T15:56:39Z,2017-11-08T16:55:42Z,2017-11-08T16:55:42Z,CLOSED,False,44,7,3,https://github.com/azlm8t,Persist image url so it is available for recorded programmes (#4685),3,[],https://github.com/tvheadend/tvheadend/pull/1028,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1028,"The Kodi pvr.hts currently currently uses a channel icon for recorded programmes. Since some xmltv providers supply an image icon, we now persist this URL so it can be sent to the client for recorded programmes.
Example htsp message:
'image': 'https://s3.amazonaws.com/schedulesdirect/assets/p8648012_d_v8_aa.jpg',                                                                                                                 'method': 'dvrEntryAdd', 
I changed the image property to just be HIDDEN, whereas previously it had NOUI, NOSAVE and RDONLY. The other removals I think are correct, but I'm not sure about the removal of RDONLY. It could (presumably) in the future make it possible for the user at the UI to alter the image used such as using a better poster image, so I think removing RDONLY is the right thing.","The Kodi pvr.hts currently currently uses a channel icon for recorded programmes. Since some xmltv providers supply an image icon, we now persist this URL so it can be sent to the client for recorded programmes.
Example htsp message:
'image': 'https://s3.amazonaws.com/schedulesdirect/assets/p8648012_d_v8_aa.jpg',                                                                                                                 'method': 'dvrEntryAdd', 
I changed the image property to just be HIDDEN, whereas previously it had NOUI, NOSAVE and RDONLY. The other removals I think are correct, but I'm not sure about the removal of RDONLY. It could (presumably) in the future make it possible for the user at the UI to alter the image used such as using a better poster image, so I think removing RDONLY is the right thing.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1028,2017-11-03T15:56:39Z,2017-11-08T16:55:42Z,2017-11-08T16:55:42Z,CLOSED,False,44,7,3,https://github.com/azlm8t,Persist image url so it is available for recorded programmes (#4685),3,[],https://github.com/tvheadend/tvheadend/pull/1028,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1028#issuecomment-342853385,"The Kodi pvr.hts currently currently uses a channel icon for recorded programmes. Since some xmltv providers supply an image icon, we now persist this URL so it can be sent to the client for recorded programmes.
Example htsp message:
'image': 'https://s3.amazonaws.com/schedulesdirect/assets/p8648012_d_v8_aa.jpg',                                                                                                                 'method': 'dvrEntryAdd', 
I changed the image property to just be HIDDEN, whereas previously it had NOUI, NOSAVE and RDONLY. The other removals I think are correct, but I'm not sure about the removal of RDONLY. It could (presumably) in the future make it possible for the user at the UI to alter the image used such as using a better poster image, so I think removing RDONLY is the right thing.",Updated to prefer the image from the current broadcast and to add PO_RDONLY to the de_image.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1028,2017-11-03T15:56:39Z,2017-11-08T16:55:42Z,2017-11-08T16:55:42Z,CLOSED,False,44,7,3,https://github.com/azlm8t,Persist image url so it is available for recorded programmes (#4685),3,[],https://github.com/tvheadend/tvheadend/pull/1028,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1028#issuecomment-342881642,"The Kodi pvr.hts currently currently uses a channel icon for recorded programmes. Since some xmltv providers supply an image icon, we now persist this URL so it can be sent to the client for recorded programmes.
Example htsp message:
'image': 'https://s3.amazonaws.com/schedulesdirect/assets/p8648012_d_v8_aa.jpg',                                                                                                                 'method': 'dvrEntryAdd', 
I changed the image property to just be HIDDEN, whereas previously it had NOUI, NOSAVE and RDONLY. The other removals I think are correct, but I'm not sure about the removal of RDONLY. It could (presumably) in the future make it possible for the user at the UI to alter the image used such as using a better poster image, so I think removing RDONLY is the right thing.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1029,2017-11-03T16:33:16Z,2017-11-08T16:57:20Z,2017-11-08T16:57:20Z,CLOSED,False,66,13,1,https://github.com/azlm8t,dvr: allow inotify to track file moves between watched directories (#4702),3,[],https://github.com/tvheadend/tvheadend/pull/1029,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1029,"Currently the inotify rename correctly updates the dvr/log if the filename is in the same directory.
However, if the file is moved to a different watched directory then we currently use from_wd instead of to_wd. This means the directory component isn't updated since it always believes the two directories to be identical.
With this patch, if the ""to"" directory is already watched, then the directory component in dvr/log is also updated.
I've also added support to use realpath when tracking files since inotify always returns a realpath even if the path in the dvr/log passes through symlinks. This meant that some compares did not correctly work since the dvr/log would be ""/a/b/c.ts"" but realpath might be ""/x/y/c.ts"".
I think my newly added ""return"" at line 309 is correct: we failed to find the ""to"" directory so nothing to do since the entry can't be updated, and it is a mirror of the existing functionality at line 249 where we return if the ""from"" directory could not be found.","Currently the inotify rename correctly updates the dvr/log if the filename is in the same directory.
However, if the file is moved to a different watched directory then we currently use from_wd instead of to_wd. This means the directory component isn't updated since it always believes the two directories to be identical.
With this patch, if the ""to"" directory is already watched, then the directory component in dvr/log is also updated.
I've also added support to use realpath when tracking files since inotify always returns a realpath even if the path in the dvr/log passes through symlinks. This meant that some compares did not correctly work since the dvr/log would be ""/a/b/c.ts"" but realpath might be ""/x/y/c.ts"".
I think my newly added ""return"" at line 309 is correct: we failed to find the ""to"" directory so nothing to do since the entry can't be updated, and it is a mirror of the existing functionality at line 249 where we return if the ""from"" directory could not be found.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1029,2017-11-03T16:33:16Z,2017-11-08T16:57:20Z,2017-11-08T16:57:20Z,CLOSED,False,66,13,1,https://github.com/azlm8t,dvr: allow inotify to track file moves between watched directories (#4702),3,[],https://github.com/tvheadend/tvheadend/pull/1029,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1029#issuecomment-341809514,"Currently the inotify rename correctly updates the dvr/log if the filename is in the same directory.
However, if the file is moved to a different watched directory then we currently use from_wd instead of to_wd. This means the directory component isn't updated since it always believes the two directories to be identical.
With this patch, if the ""to"" directory is already watched, then the directory component in dvr/log is also updated.
I've also added support to use realpath when tracking files since inotify always returns a realpath even if the path in the dvr/log passes through symlinks. This meant that some compares did not correctly work since the dvr/log would be ""/a/b/c.ts"" but realpath might be ""/x/y/c.ts"".
I think my newly added ""return"" at line 309 is correct: we failed to find the ""to"" directory so nothing to do since the entry can't be updated, and it is a mirror of the existing functionality at line 249 where we return if the ""from"" directory could not be found.",Not a problem. Moved the variables to top of function/block.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1029,2017-11-03T16:33:16Z,2017-11-08T16:57:20Z,2017-11-08T16:57:20Z,CLOSED,False,66,13,1,https://github.com/azlm8t,dvr: allow inotify to track file moves between watched directories (#4702),3,[],https://github.com/tvheadend/tvheadend/pull/1029,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1029#issuecomment-342882195,"Currently the inotify rename correctly updates the dvr/log if the filename is in the same directory.
However, if the file is moved to a different watched directory then we currently use from_wd instead of to_wd. This means the directory component isn't updated since it always believes the two directories to be identical.
With this patch, if the ""to"" directory is already watched, then the directory component in dvr/log is also updated.
I've also added support to use realpath when tracking files since inotify always returns a realpath even if the path in the dvr/log passes through symlinks. This meant that some compares did not correctly work since the dvr/log would be ""/a/b/c.ts"" but realpath might be ""/x/y/c.ts"".
I think my newly added ""return"" at line 309 is correct: we failed to find the ""to"" directory so nothing to do since the entry can't be updated, and it is a mirror of the existing functionality at line 249 where we return if the ""from"" directory could not be found.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1030,2017-11-05T18:01:49Z,2017-11-08T16:57:29Z,2017-11-09T11:28:11Z,CLOSED,False,89,1,4,https://github.com/azlm8t,channel: Allow optional fuzzy matching when merging services. (#4709),1,[],https://github.com/tvheadend/tvheadend/pull/1030,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1030,"For historical reasons, our DVB-T and DVB-S have different names
for the same channels. They often differ in case and spacing.
So we have 'One' and 'ONE', '5+1HD' and '5 +1HD'.
So allow an optional fuzzy matching checkbox to ignore whitespace
and HD markers. This allows the channels to be merged. The
exact name chosen depends on the order of mapping, so if the
HD channel is mapped first then they would all merge in to this
name, but if a non-HD channel is the first one created then that
name is chosen. However the name could be subsequently modified
by the user if they desire.
This also ensures merging of channels on DVB-T or DVB-S will
allow automatic merging of HD and non-HD channels (""5"" and ""5HD"")
to allow the ""preferred service video type"" to work without needing
manual merging by the user.
Issue: #4709","For historical reasons, our DVB-T and DVB-S have different names
for the same channels. They often differ in case and spacing.
So we have 'One' and 'ONE', '5+1HD' and '5 +1HD'.
So allow an optional fuzzy matching checkbox to ignore whitespace
and HD markers. This allows the channels to be merged. The
exact name chosen depends on the order of mapping, so if the
HD channel is mapped first then they would all merge in to this
name, but if a non-HD channel is the first one created then that
name is chosen. However the name could be subsequently modified
by the user if they desire.
This also ensures merging of channels on DVB-T or DVB-S will
allow automatic merging of HD and non-HD channels (""5"" and ""5HD"")
to allow the ""preferred service video type"" to work without needing
manual merging by the user.
Issue: #4709",True,"{'THUMBS_UP': ['https://github.com/mpmc', 'https://github.com/Trujulu']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1030,2017-11-05T18:01:49Z,2017-11-08T16:57:29Z,2017-11-09T11:28:11Z,CLOSED,False,89,1,4,https://github.com/azlm8t,channel: Allow optional fuzzy matching when merging services. (#4709),1,[],https://github.com/tvheadend/tvheadend/pull/1030,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1030#issuecomment-342881872,"For historical reasons, our DVB-T and DVB-S have different names
for the same channels. They often differ in case and spacing.
So we have 'One' and 'ONE', '5+1HD' and '5 +1HD'.
So allow an optional fuzzy matching checkbox to ignore whitespace
and HD markers. This allows the channels to be merged. The
exact name chosen depends on the order of mapping, so if the
HD channel is mapped first then they would all merge in to this
name, but if a non-HD channel is the first one created then that
name is chosen. However the name could be subsequently modified
by the user if they desire.
This also ensures merging of channels on DVB-T or DVB-S will
allow automatic merging of HD and non-HD channels (""5"" and ""5HD"")
to allow the ""preferred service video type"" to work without needing
manual merging by the user.
Issue: #4709","Merged. Thanks. Perhaps, you can also add 'UHD' check 👍",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1030,2017-11-05T18:01:49Z,2017-11-08T16:57:29Z,2017-11-09T11:28:11Z,CLOSED,False,89,1,4,https://github.com/azlm8t,channel: Allow optional fuzzy matching when merging services. (#4709),1,[],https://github.com/tvheadend/tvheadend/pull/1030,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1030#issuecomment-343126949,"For historical reasons, our DVB-T and DVB-S have different names
for the same channels. They often differ in case and spacing.
So we have 'One' and 'ONE', '5+1HD' and '5 +1HD'.
So allow an optional fuzzy matching checkbox to ignore whitespace
and HD markers. This allows the channels to be merged. The
exact name chosen depends on the order of mapping, so if the
HD channel is mapped first then they would all merge in to this
name, but if a non-HD channel is the first one created then that
name is chosen. However the name could be subsequently modified
by the user if they desire.
This also ensures merging of channels on DVB-T or DVB-S will
allow automatic merging of HD and non-HD channels (""5"" and ""5HD"")
to allow the ""preferred service video type"" to work without needing
manual merging by the user.
Issue: #4709",Good idea about UHD. I'll add it in at the weekend.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/jasmin-j,1,https://github.com/tvheadend/tvheadend/pull/1031,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.",True,"{'THUMBS_UP': ['https://github.com/mpmc', 'https://github.com/Trujulu', 'https://github.com/Saentist', 'https://github.com/tunip'], 'HOORAY': ['https://github.com/CvH', 'https://github.com/tunip', 'https://github.com/herrnst']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-344842838,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","There are some things which should be changed in the core code, but I'll do it.

dynamic PID subscription (subscribe only ECM PIDs for active CAID), the current code subscribes all ECM PIDs which is not optimal
pass always ECM PIDs to descramble_descramble() - to avoid the special conditions for those 'external' decoders in future, the filter in ts_recv_packet0() is enough
with the above change, we may move ECM handling from tables to descramble_descramble() too (softcam)
use 'dr->dr_descramble' callback for standard dvbcam (remove dr->dr_external)

and probably others..",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-344919230,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","Merged with a ton of my changes (previous comment). Please, test.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/herrnst,4,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345035858,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","@perexg @jasmin-j
Even with the additional changes, the assignment issue remains. The neccessary (all CA) PIDs are not reaching the CAM, I guess caused due to the CAM not being assigned correctly - in Jasmin's original code I was able to get things working by modifying 
  
    
      tvheadend/src/input/mpegts/mpegts_input.c
    
    
         Line 730
      in
      9d1f7db
    
  
  
    

        
          
           int is_ddci = dvbcam_is_ddci((service_t*)s); 
        
    
  

 to ""is_ddci = 1"", that ifdef has gone now, though.
debug/trace=en50221,ddci,caclient,descrambler,dvbcam (still) results in this log output when switching to an encrypted channel: https://pastebin.com/y6Y9ux7F
The CAM (AlphaCrypt running One4All) though is (obviously) supposed to decrypt the stream, or at least tell me (after querying the inserted card) via MMI that one doesn't have permission to decrypt the service.
If you need more debug, someone to test patches or whatever, just let me know.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/jasmin-j,5,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345128646,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","Even with the additional changes, the assignment issue remains. The neccessary (all CA) PIDs are not
reaching the CAM

This is true. The reason is, that the nobody is executing ""descrambler_open_emm"" and also the CAT PIDs are not subscribed correctly. I started to implement this with a new ""dvbcam_caid_update"" function, but although the PIDs are opened by mpegts and linuxdvb, they are not sent to the CAM. The even doesn't come out of the dvrX device.
The old code used ""mpegts_input_cat_pass_callback"" to decode the CAT and subscribe the PIDs. This function is still called, but the CAT PIDs are not subscribed.
Also the CAT is not sent to the CAM, but the PAT. The CAM requires the CAT, but not the PAT.
I changed that in ""dvbcam_service_start"" by calling ""mpegts_input_open_service_pid"" with ""DVB_CAT_PID"", but I still doesn't get a picture. And this is, because the CAT PIDs are not subscribed, I guess.
And the CAM needs also the EMM PIDs. I added some code to ""dvbcam_caid_update"", but this seems to be the wrong function. I have to debug this or maybe @perexg can point me in the right direction.

I guess caused due to the CAM not being assigned correctly

No, the assignment of the DD CI to the service works. See above for the root cause.
Do to the recent changes from @perexg the whole PID mapping is done a bit different (better) and the PIDs are attached by ""dvbcam_caid_update"".
BR,
Jasmin",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/Trujulu,6,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345207261,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.",Decription is failing on oscam (dvbapi) for me for some channels now... There is something bad with new changes...,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/herrnst,7,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345310928,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.",FWIW: OSCam via newcamd (cba to change everything to networked dvbapi) still works/decrypts fine with current HEAD.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/perexg,8,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345316358,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","@jasmin-j  , @herrnst : Could you test latest? The CAT issue should be fixed with 23741fb  .",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/Trujulu,9,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345316816,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.",@herrnst I will re-test monday morning. Maybe oscam fault.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/perexg,10,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345317085,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","@Trujulu : Create a new issue with --trace descrambler,capmt , but the changes should not break anything.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/perexg,11,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345320350,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","@jasmin-j, @herrnst : I forgot to add CAT PID to the streaming data : a8fcc4c",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/herrnst,12,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345320412,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","@perexg Current HEAD (23741fb) causes a deadlock when tuning to an encrypted service with the CICAM enabled, last things logged (components as mentioned above):
Nov 17 19:06:52 dvbdev tvheadend[5381]: mpegts: 354MHz in Unitymedia NRW - tuning on ST STV0367 DDB DVB-C/T : DVB-C #0
Nov 17 19:06:52 dvbdev tvheadend[5381]: dvbcam: start service 0x55f1b694e9a0
Nov 17 19:06:52 dvbdev tvheadend[5381]: ddci: CAM ci0 assigned to 0x55f1b694e9a0
Nov 17 19:06:52 dvbdev tvheadend[5381]: descrambler: dvbcam-0-0-1838: key state changed from INIT to READY for ""Unitymedia NRW/354MHz/Fox HD""
Nov 17 19:06:52 dvbdev tvheadend[5381]: descrambler: service ""Unitymedia NRW/354MHz/Fox HD"": 0 descramblers (0 ok 0 failed)`

(EDIT) ... and the WebUI won't respond anymore. With the background/idle/initial EPG scanning active (disabled all of them inbetween to get a clean log, thus timestamp is ""in the past""), the log gets then filled with
Nov 17 19:02:42 dvbdev tvheadend[4993]: mpegts: too much queued table input data (over 2MB), discarding new

EDIT2 You were faster, rebuilding a8fcc4c now.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/herrnst,13,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345322152,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","@perexg a8fcc4c still deadlocks, last things getting logged are the same as posted six minutes earlier.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/herrnst,14,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345325885,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","""gcc -Og -g"" build, gdb bt full and thread apply all bt: https://pastebin.com/yWLJ8Cz4",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/perexg,15,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345425889,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.",@herrnst : 76b77e0,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/herrnst,16,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345429622,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","@perexg Thanks, still no luck though. The deadlock is gone, but still the CAM just sends back the encrypted packets, ie:
Nov 18 10:13:15 dvbdev tvheadend[4542]: ddci: CAM ci0 recv rd(CAM ->):118272, wr:118272
Nov 18 10:13:15 dvbdev tvheadend[4542]: ddci: CAM ci0 got 114309 scrambled packets from CAM

so it looks like it still doesn't get the CA PIDs (not sure how to verify this ATM but the effect remains the same).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/perexg,17,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345430859,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","""--trace mpegts"" - https://tvheadend.org/projects/tvheadend/wiki/Traces",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/herrnst,18,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345431520,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","@perexg https://pastebin.com/6eQEzRbF
PID list on that service (paste from WebUI / service info):
Index	PID	Type	Language	Details
 	0x01ff /   511	PCR	 	 
 	0x0061 /    97	PMT	 	 
1	0x01ff /   511	H264	 	 
2	0x0203 /   515	AC3	ger	 
3	0x0204 /   516	AC3	eng	 
4	0x195e /  6494	CA	 	CAIDS: 1850:000000
5	0x1b5e /  7006	CA	 	CAIDS: 1835:000000
6	0x1c5e /  7262	CA	 	CAIDS: 1838:000000
7	0x1d5e /  7518	CA	 	CAIDS: 1831:000000
8	0x1e5e /  7774	CA	 	CAIDS: 098e:000000
9	0x1500 /  5376	CA	 	CAIDS:
10	0x1502 /  5378	CA	 	CAIDS:
11	0x1503 /  5379	CA	 	CAIDS:
12	0x1504 /  5380	CA	 	CAIDS:
13	0x1505 /  5381	CA	 	CAIDS:
14	0x1506 /  5382	CA	 	CAIDS:
15	0x1507 /  5383	CA	 	CAIDS:

The UM02 card in the AC is Nagra/1838.
(EDIT) The CAM announces these supported CAIDs and this string/mfg IDs:
2017-11-18 10:49:24.597 [  TRACE]:dvbcam: register cam ca 0x55beb2364910 slot 0 num_caids 18
2017-11-18 10:49:24.597 [   INFO]:en50221: CAM slot 0 supported CAIDs:  1838 (NagraVision) 0648 (Irdeto) 1702 (BetaCrypt) 1722 (BetaCrypt)
2017-11-18 10:49:24.597 [   INFO]:en50221: CAM slot 0 supported CAIDs:  1762 (BetaCrypt) 4A20 (0x4a20) 0500 (Viaccess) 0B00 (Conax)
2017-11-18 10:49:24.597 [   INFO]:en50221: CAM slot 0 supported CAIDs:  0100 (Seca) 1833 (NagraVision) 1834 (NagraVision) 0D05 (CryptoWorks)
2017-11-18 10:49:24.598 [   INFO]:en50221: CAM slot 0 supported CAIDs:  0D95 (CryptoWorks ICE) 09C4 (NDS) 093E (NDS) 0963 (NDS)
2017-11-18 10:49:24.598 [   INFO]:en50221: CAM slot 0 supported CAIDs:  0919 (NDS) 09C7 (NDS)
[...]
2017-11-18 10:49:25.660 [   INFO]:en50221: CAM slot 0: Application type: 01, manufacturer: 4a20, Manufacturer code: 4a22
2017-11-18 10:49:25.660 [   INFO]:en50221: CAM slot 0: Menu string: AlphaCrypt

So (from my understanding) it should receive all PIDs matching these CAIDs (so at the very least 1838).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/jasmin-j,19,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345436291,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.","I added some code to subscribe the PIDs (and debugging prints).
Look here  for the current state.
All the PIDs are now sent to the CAM, but still no picture :(
I can see EMMs, but no ECMs. The latter are required for descrambling.
I will continue later (have to work today).
@perexg: If you continue, please send me an eMail, so we will not work both that issue.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1031,2017-11-14T23:23:52Z,2017-11-16T13:15:39Z,2017-11-20T00:22:34Z,CLOSED,False,1217,16,14,https://github.com/jasmin-j,Ddci phase1,3,[],https://github.com/tvheadend/tvheadend/pull/1031,https://github.com/jasmin-j,20,https://github.com/tvheadend/tvheadend/pull/1031#issuecomment-345563013,"I have implemented the support for the Digital Devices CI interfaces (see also issue #4477). Currently only one service can use the dedicated CI at a time. There is no MCD (Multi Channel Decoding) or MTD (Multi Tuner Decoding) implemented.
It is 95% working, but sometimes the CAM doesn't decrypt. This is no problem of the new code, but of the PID selection for CAMs in TVH general, I guess.
The DD CI code is 100% finished and works, if the PIDs are set properly by TVH. This has been already tested by me and another TVH user.",Continued by #1034.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1032,2017-11-16T05:07:00Z,2017-11-16T06:57:11Z,2017-11-16T06:57:11Z,CLOSED,False,1,1,1,https://github.com/samnazarko,configure: Fix libsystemd dependency for Stretch and later,1,[],https://github.com/tvheadend/tvheadend/pull/1032,https://github.com/samnazarko,1,https://github.com/tvheadend/tvheadend/pull/1032,"Debian Stretch now has libsystemd instead of libsystemd-daemon.
This configure update will allow building for older Debian targets as well as newer ones. This has been tested on Debian Jessie and Debian Stretch.
Signed-off-by: Sam Nazarko email@samnazarko.co.uk","Debian Stretch now has libsystemd instead of libsystemd-daemon.
This configure update will allow building for older Debian targets as well as newer ones. This has been tested on Debian Jessie and Debian Stretch.
Signed-off-by: Sam Nazarko email@samnazarko.co.uk",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1032,2017-11-16T05:07:00Z,2017-11-16T06:57:11Z,2017-11-16T06:57:11Z,CLOSED,False,1,1,1,https://github.com/samnazarko,configure: Fix libsystemd dependency for Stretch and later,1,[],https://github.com/tvheadend/tvheadend/pull/1032,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1032#issuecomment-344833130,"Debian Stretch now has libsystemd instead of libsystemd-daemon.
This configure update will allow building for older Debian targets as well as newer ones. This has been tested on Debian Jessie and Debian Stretch.
Signed-off-by: Sam Nazarko email@samnazarko.co.uk",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1033,2017-11-16T12:50:03Z,2017-11-16T13:53:37Z,2017-11-16T13:53:37Z,CLOSED,False,155,9,7,https://github.com/azlm8t,"channel: fuzzy merge channels in bouquet, tidy names, new user api call, fixes #4714, #4715",5,[],https://github.com/tvheadend/tvheadend/pull/1033,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1033,"The fuzzy merge of channels names was previously implemented on the map services. This adds the functionality to bouquets. It also adds an option to ""tidy"" the channel name for automatically stripping HD/UHD suffix so ""History HD"" will just be called ""History"".
As far as I could tell, the existing ""merge bouquet channel by name"" always explicitly created a new channel if bq, so never actually merged. So I added a new function to search for channels on a bouquet and allow merging with that channel on the same bouquet. I don't allow a channel to be merged across bouquets since we'd have to update to have a list of bouquets for channels, and each bouquet could have conflicting mapping options, so I'll wait to see if people need that functionality.
I added a new user-convenience API call to allow users to easily rename channels from an external script. This is based on the dvr filemoved code. This new call allows users to fix-up channels such as channel names that start with a lower-case letter so are sorted incorrectly in many UIs, or other fixups and avoids having large extra logic and numerous checkboxes in the core Tvheadend. I know they could use idnode/save but this allows them to rename without having to fetch a list of channels, parse ids, then form a valid message.","The fuzzy merge of channels names was previously implemented on the map services. This adds the functionality to bouquets. It also adds an option to ""tidy"" the channel name for automatically stripping HD/UHD suffix so ""History HD"" will just be called ""History"".
As far as I could tell, the existing ""merge bouquet channel by name"" always explicitly created a new channel if bq, so never actually merged. So I added a new function to search for channels on a bouquet and allow merging with that channel on the same bouquet. I don't allow a channel to be merged across bouquets since we'd have to update to have a list of bouquets for channels, and each bouquet could have conflicting mapping options, so I'll wait to see if people need that functionality.
I added a new user-convenience API call to allow users to easily rename channels from an external script. This is based on the dvr filemoved code. This new call allows users to fix-up channels such as channel names that start with a lower-case letter so are sorted incorrectly in many UIs, or other fixups and avoids having large extra logic and numerous checkboxes in the core Tvheadend. I know they could use idnode/save but this allows them to rename without having to fetch a list of channels, parse ids, then form a valid message.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1033,2017-11-16T12:50:03Z,2017-11-16T13:53:37Z,2017-11-16T13:53:37Z,CLOSED,False,155,9,7,https://github.com/azlm8t,"channel: fuzzy merge channels in bouquet, tidy names, new user api call, fixes #4714, #4715",5,[],https://github.com/tvheadend/tvheadend/pull/1033,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1033#issuecomment-344928834,"The fuzzy merge of channels names was previously implemented on the map services. This adds the functionality to bouquets. It also adds an option to ""tidy"" the channel name for automatically stripping HD/UHD suffix so ""History HD"" will just be called ""History"".
As far as I could tell, the existing ""merge bouquet channel by name"" always explicitly created a new channel if bq, so never actually merged. So I added a new function to search for channels on a bouquet and allow merging with that channel on the same bouquet. I don't allow a channel to be merged across bouquets since we'd have to update to have a list of bouquets for channels, and each bouquet could have conflicting mapping options, so I'll wait to see if people need that functionality.
I added a new user-convenience API call to allow users to easily rename channels from an external script. This is based on the dvr filemoved code. This new call allows users to fix-up channels such as channel names that start with a lower-case letter so are sorted incorrectly in many UIs, or other fixups and avoids having large extra logic and numerous checkboxes in the core Tvheadend. I know they could use idnode/save but this allows them to rename without having to fetch a list of channels, parse ids, then form a valid message.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,1,https://github.com/tvheadend/tvheadend/pull/1034,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-345598573,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.",:o awesome,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,3,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-345625344,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","but the current solution subscribes only those ECMs which are required by the CAM to descramble the
CAIDs the CAM can support.

Maybe it would be better to send only the ECM PIDs of the currently selected service instead of all the PIDs the CAM supports.
@perexg, how can I determine in the dvbcam_service_start function, which PIDs are required for the actual service only?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-345627358,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.",@jasmin-j : You already filter only ECM PIDs for given service in your code (es_type == SCT_CA and .use flag). You probably mean EMM PIDs (from CAT table). I am working on it right now.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-345748796,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","I pushed your changes with my 'fixes' on top. Basically, we have already PID management routines in tvh (mpegts_apid_t). I added the limit back (per cam now) - we can discuss if it's the best solution.
I reimplemented CAT (EMM) PID management and fixed some bugs (and maybe added others - sorry - no hw to test here). Note that I have to remove TSS_NO_DESCRAMBLER settings - it does not work at all, if you have other descrambling clients enabled. If you have only one DVBCAM/DDCI client and it is not allocated, dr->dr_ca_count should be zero, thus descrambler_descramble() will return 0 and ts_recv_packet1() should set this flag (TSS_NO_DESCRAMBLER) in this case.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,6,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-345790097,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","@perexg @jasmin-j Latest HEAD makes things way worse than before - my CAM (at adapter7/{ca0|sec0}) now even isn't considered anymore when switching to a scrambled channel. On startup or activation via the WebUI, the CAM is initialised, identified as AlphaCrypt and the ddci code initialises the device ""as usual"", but nothing happens furthermore. Log output got reduced to this (disabled the noisy mpegts debug):
2017-11-20 19:44:42.799 [   INFO]:mpegts: 354MHz in Unitymedia NRW - tuning on ST STV0367 DDB DVB-C/T : DVB-C #0
2017-11-20 19:44:42.799 [  TRACE]:dvbcam: start service 0x55590149a930
2017-11-20 19:44:42.799 [   INFO]:subscription: 000A: ""192.168.0.120 [  | Kodi Media Center ]"" subscribing on channel ""Fox HD"", weight: 150, adapter: ""ST STV0367 DDB DVB-C/T : DVB-C #0"", network: ""Unitymedia NRW"", mux: ""354MHz"", provider: ""Unitymedia"", service: ""Fox HD"", profile=""htsp"", hostname=""192.168.0.120"", username=""192.168.0.120"", client=""Kodi Media Center""
2017-11-20 19:44:43.501 [  TRACE]:descrambler: CAT data (len 42)
2017-11-20 19:44:43.501 [  TRACE]:descrambler: [hex dump]
2017-11-20 19:44:43.700 [  TRACE]:dvbcam: cannot find active service entry

and then nothing more. No deadlock or so though since I can unsubscribe the service, use the WebUI normally etc., thats just everything that's printed.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,7,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-345827134,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","Latest HEAD makes things way worse than before

I will have a look tomorrow.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,8,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-345876473,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","we have already PID management routines in tvh (mpegts_apid_t).

mpegts_apids_t -> This is a really cool class!

I added the limit back (per cam now) - we can discuss if it's the best solution.

I will think about it. THX for implementing!

I reimplemented CAT (EMM) PID management and fixed some bugs (and maybe added others - sorry - no
hw to test here).

Maybe you should make a test or devel branch, so that those bigger changes doesn't break existing functionality.

Note that I have to remove TSS_NO_DESCRAMBLER settings

I implemented it according to an eMail advice from you, but your new solution should work. I will test that.
@perexg: Code review of your changes:
mpegts_input.c:
  for (es = TAILQ_FIRST(&s->s_components); es != NULL; es = next) {
    next = TAILQ_NEXT(es, es_link);
    if (es->es_type != SCT_CAT) continue;
    for (c = LIST_FIRST(&es->es_caids); c != NULL; c = cn) {
      cn = LIST_NEXT(c, link);
      if (cn->delete_me) {      <--- shouldn't this be 'c' instead of cn?
        LIST_REMOVE(c, link);
        free(c);
      }
      if (es->es_delete_me)               <--- This 'if' should be outside the loop
        service_stream_destroy(s, es);         otherwise the next iteration will
    }                                          access the deleted 'es'!
  }

dvbcam.c:
  TAILQ_FOREACH(as, &dvbcam_active_services, global_link) {
    if (!as->is_ddci) continue;
    if (as->caid == 0) continue;
    if (((mpegts_service_t *)as->td_service)->s_dvb_mux != mux) continue;
    if (len == as->cat_data_len) continue;               <--- Are you sure this is clever?
    if (memcmp(data, as->cat_data, len) == 0) continue;       If the new data has the same length,
                                                              but a different content the new data
                                                              is ignored

And it crashed:
2017-11-21 00:45:56.836 [ NOTICE] ddci: CAM ci0 assigned to 0x7fd043566190
2017-11-21 00:45:56.836 [   INFO] subscription: 0001: ""HTTP"" subscribing on channel ""ORF1 HD"", weight: 100, adapter: ""STV090x Multistandard #1 : DVB-S #0"", network: ""DVB-S Network"", mux: ""11302.75H"", provider: ""ORF"", service: ""ORF1 HD"", profile=""pass"", hostname=""192.168.23.40"", client=""Videos/1.2.2""
2017-11-21 00:45:57.463 [  ERROR] mpegts: 11302.75H in DVB-S Network - open PID 0001 (1) failed, dupe sub (owner 0x7fd043566190)
2017-11-21 00:45:57.531 [  ERROR] mpegts: 11302.75H in DVB-S Network - open PID 0001 (1) failed, dupe sub (owner 0x7fd043566190)
2017-11-21 00:45:58.211 [  ALERT] CRASH: Signal: 11 in PRG: ./build.linux/tvheadend (4.3-670~geaa7bf5) [8dd3015340e92a3d42f46b4208b23c9c673403df] CWD: /mnt/nfs/hoppel_home_hdd/jasmin/tvheadend/tvheadend  
2017-11-21 00:45:58.211 [  ALERT] CRASH: Fault address (nil) (Address not mapped)
2017-11-21 00:45:58.211 [  ALERT] CRASH: Loaded libraries: /usr/lib/libdvben50221.so /usr/lib/libdvbapi.so /usr/lib/libucsi.so /lib/x86_64-linux-gnu/libssl.so.1.0.0 /lib/x86_64-linux-gnu/libcrypto.so.1.0.0 /lib/x86_64-linux-gnu/libz.so.1 /lib/x86_64-linux-gnu/libpcre.so.3 /usr/lib/liburiparser.so.1 /usr/lib/x86_64-linux-gnu/libavahi-common.so.3 /usr/lib/x86_64-linux-gnu/libavahi-client.so.3 /lib/x86_64-linux-gnu/libdbus-1.so.3 /lib/x86_64-linux-gnu/libdl.so.2 /lib/x86_64-linux-gnu/libpthread.so.0 /lib/x86_64-linux-gnu/libm.so.6 /lib/x86_64-linux-gnu/librt.so.1 /lib/x86_64-linux-gnu/libc.so.6 /lib64/ld-linux-x86-64.so.2  
2017-11-21 00:45:58.211 [  ALERT] CRASH: Register dump [23]: 0000000000000000202020202020202000007fd02c05244000007fd02c05246c00007fd04238903000007fd02c00091000007fd01cde99c000007fd01cde970000007fd02c052420ffff802fd3fadbe000007fd01cde86900000000000000010000000000000004c00007fd02c052420000000000000000000007fd01cde7ef800007fd03db4c596000000000001020200000000000000330000000000000004000000000000000efffffffe7ffbba110000000000000000
2017-11-21 00:45:58.211 [  ALERT] CRASH: STACKTRACE
2017-11-21 00:45:58.322 [  ALERT] CRASH: /tvheadend/tvheadend/src/trap.c:148 0x7fd0404cda95 0x7fd040319000
2017-11-21 00:45:58.355 [  ALERT] CRASH: ??:0 0x7fd03e3a7330 0x7fd03e397000
2017-11-21 00:45:58.389 [  ALERT] CRASH: ??:0 0x7fd03db4c596 0x7fd03dac0000
2017-11-21 00:45:58.422 [  ALERT] CRASH: /tvheadend/tvheadend/src/descrambler/dvbcam.c:555 0x7fd040614f79 0x7fd040319000
2017-11-21 00:45:58.456 [  ALERT] CRASH: /tvheadend/tvheadend/src/descrambler/caclient.c:346 0x7fd040573dd8 0x7fd040319000
2017-11-21 00:45:58.489 [  ALERT] CRASH: /tvheadend/tvheadend/src/descrambler/descrambler.c:1484 0x7fd040572829 0x7fd040319000
2017-11-21 00:45:58.523 [  ALERT] CRASH: /tvheadend/tvheadend/src/input/mpegts/dvb_psi.c:1050 0x7fd040597240 0x7fd040319000
2017-11-21 00:45:58.556 [  ALERT] CRASH: /tvheadend/tvheadend/src/input/mpegts/mpegts_table.c:107 0x7fd040590864 0x7fd040319000
2017-11-21 00:45:58.590 [  ALERT] CRASH: /tvheadend/tvheadend/src/input/mpegts/dvb_psi_lib.c:128 (discriminator 3) 0x7fd040581d35 0x7fd040319000
2017-11-21 00:45:58.624 [  ALERT] CRASH: /tvheadend/tvheadend/src/input/mpegts/dvb_psi_lib.c:173 0x7fd040581f7a 0x7fd040319000
2017-11-21 00:45:58.658 [  ALERT] CRASH: /tvheadend/tvheadend/src/input/mpegts/mpegts_input.c:1263 (discriminator 2) 0x7fd04057c067 0x7fd040319000
2017-11-21 00:45:58.692 [  ALERT] CRASH: /tvheadend/tvheadend/src/input/mpegts/mpegts_input.c:1623 0x7fd04057d451 0x7fd040319000
2017-11-21 00:45:58.725 [  ALERT] CRASH: /tvheadend/tvheadend/src/wrappers.c:161 0x7fd04047a691 0x7fd040319000
./start_tvh_full_trace: line 2:  3254 Segmentation fault      ./build.linux/tvheadend -l tvh.log --trace all,-tbl-eit,-tbl-base,-scanfile,-epg,-idnode,-idnode,-epggrab,-upnp,-access,-http,-descrambler-emm -c ./test-conf


Can't try to fix that now (too late). I guess the fix should be (dvbcam.c/555):
    if (as->cat_data && memcmp(data, as->cat_data, len) == 0) continue;
Because the 'as->cat_data' is NULL at first, I guess.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,9,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-345879863,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","So the code should be:
dvbcam.c:
  TAILQ_FOREACH(as, &dvbcam_active_services, global_link) {
    if (!as->is_ddci) continue;
    if (as->caid == 0) continue;
    if (((mpegts_service_t *)as->td_service)->s_dvb_mux != mux) continue;
    if (as->cat_data && (len == as->cat_data_len) && memcmp(data, as->cat_data, len) == 0) continue;

We need to check the length and the data at once, otherwise changed data may be not detected.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/perexg,10,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-345935276,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","Fixes:
303683b , bcad71b",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,11,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-345958726,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","303683b

There is 'es' still destroyed (freed) when it gets accessed in the 'for' loop:
    for (c = LIST_FIRST(&es->es_caids); c != NULL; c = cn) {
      cn = LIST_NEXT(c, link);
      if (c->delete_me) {
        LIST_REMOVE(c, link);
        free(c);
      }
      if (es->es_delete_me)
        service_stream_destroy(s, es);
    }


The for loops over 'es->es_caids', but 'service_stream_destroy(s, es);' will remove the whole list, so 'cn' points to an already deleted object in the next iteration.
I would suggest to change the code to:
    if (es->es_delete_me) {
      service_stream_destroy(s, es);
      continue;
    }
    for (c = LIST_FIRST(&es->es_caids); c != NULL; c = cn) {
      cn = LIST_NEXT(c, link);
      if (c->delete_me) {
        LIST_REMOVE(c, link);
        free(c);
      }
    }",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/perexg,12,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-345978747,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.",@jasmin-j : I don't see any real benefit for continue. I just moved destroy call outside the es_caids loop. fc40b2f,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,13,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346111676,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","Todays (current) HEAD changed behaviour: Descrambling still doesn't work, but instead of waiting forever with nothing visible happening, Kodi now quickly complains with ""encrypted channel"" (regardless of which one I try), TVH logs this:
2017-11-21 19:02:36.893 [   INFO]:mpegts: 354MHz in Unitymedia NRW - tuning on ST STV0367 DDB DVB-C/T : DVB-C #0
2017-11-21 19:02:36.893 [  TRACE]:dvbcam: start service 0x556df8b5ba80
2017-11-21 19:02:36.893 [   INFO]:subscription: 000F: ""192.168.0.120 [  | Kodi Media Center ]"" subscribing on channel ""Fox HD"", weight: 150, adapter: ""ST STV0367 DDB DVB-C/T : DVB-C #0"", network: ""Unitymedia NRW"", mux: ""354MHz"", provider: ""Unitymedia"", service: ""Fox HD"", profile=""htsp"", hostname=""192.168.0.120"", username=""192.168.0.120"", client=""Kodi Media Center""
2017-11-21 19:02:37.287 [  TRACE]:dvbcam: cannot find active service entry
2017-11-21 19:02:37.566 [  TRACE]:descrambler: CAT data (len 42)
2017-11-21 19:02:37.566 [  TRACE]:descrambler: [hexdump]
2017-11-21 19:02:38.893 [WARNING]:subscription: 000F: service instance is bad, reason: No descrambler
2017-11-21 19:02:38.893 [  TRACE]:descrambler: mux 0x556df8b00500 - flush tables
2017-11-21 19:02:40.893 [ NOTICE]:subscription: 000F: No input source available for subscription ""192.168.0.120 [  | Kodi Media Center ]"" to channel ""Fox HD""

Note the ""no descrambler"" warning (yes, adapter7/ca0 is enabled in the DVB inputs tab and reports ""AlphaCrypt"" and module ready, aswell as ""Config - CAs - Linux DVB CAM"").",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/perexg,14,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346122790,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.",Could you try updated master? I accidently reverted one condition.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,15,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346124658,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","That does CAM assignment again, but shortly after switching to a scrambled service, TVH crashes. gdb bt full in a few moments.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,16,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346126194,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","GDB: https://pastebin.com/RNvVs1ws
TVH crash dump plus preceeding log: https://pastebin.com/46XYGTPS",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/perexg,17,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346127670,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.",Fixed. Could you retest?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,18,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346130477,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","Yep, 2956190 does something (yay). Seems though the CAM won't always get all CA PIDs from the stream. On services which also have ie. the 1722 BetaCrypt CAID, it won't automagically work, but services with 1838 as the primary (in CAT/PAT/whatever table) work, at least in a way the CAM sends an MMI with ""not authorized"". If I define a CA stream filter with 1838 = EXCLUSIVE, things are looking good and promising (in that subscribed channels are descrambled by the CAM, and all others also throw that MMI)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,19,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346134462,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","Looks like TVH subscribes the first (and only the first) CA PID that the CAM also announces. With the AC, that is
2017-11-21 20:15:30.375 [   INFO]:en50221: CAM slot 0 supported CAIDs:  1838 (NagraVision) 0648 (Irdeto) 1702 (BetaCrypt) 1722 (BetaCrypt)
2017-11-21 20:15:30.375 [   INFO]:en50221: CAM slot 0 supported CAIDs:  1762 (BetaCrypt) 4A20 (0x4a20) 0500 (Viaccess) 0B00 (Conax)
2017-11-21 20:15:30.375 [   INFO]:en50221: CAM slot 0 supported CAIDs:  0100 (Seca) 1833 (NagraVision) 1834 (NagraVision) 0D05 (CryptoWorks)
2017-11-21 20:15:30.375 [   INFO]:en50221: CAM slot 0 supported CAIDs:  0D95 (CryptoWorks ICE) 09C4 (NDS) 093E (NDS) 0963 (NDS)
2017-11-21 20:15:30.375 [   INFO]:en50221: CAM slot 0 supported CAIDs:  0919 (NDS) 09C7 (NDS)

If ie. 1722 comes first in the CAT/PAT (you know...) like this (WebUI paste):
Index | PID | Type | Language | Details
-- | -- | -- | -- | --
1 | 0x021f /   543 | MPEG2VIDEO |   |  
2 | 0x0220 /   544 | MPEG2AUDIO | ger |  
3 | 0x0226 /   550 | CA |   | CAIDS: 1831:000000
4 | 0x0227 /   551 | CA |   | CAIDS: 1722:000000
5 | 0x0228 /   552 | CA |   | CAIDS: 1850:000000
6 | 0x09f6 /  2550 | CA |   | CAIDS: 1838:000000
7 | 0x09f8 /  2552 | CA |   | CAIDS: 1835:000000
8 | 0x1e5d /  7773 | CA |   | CAIDS: 098e:000000

then that one will be subscribed and piped to the CAM. My CAM and SC won't care since it's a 1838 Nagra card. If that map looks like this:
Index	PID	Type	Language	Details
1	0x0215 /   533	H264	 	 
2	0x0216 /   534	MPEG2AUDIO	ger	 
3	0x021e /   542	CA	 	CAIDS: 1850:000000
4	0x09ec /  2540	CA	 	CAIDS: 1838:000000
5	0x1e5b /  7771	CA	 	CAIDS: 098e:000000

then 1838 gets through (first match) and CAM and card react and either return CSA keys and thus a descrambled stream, or it's a notfound plus MMI.
Guess if CAID-PID/CAM evaluation won't stop on the first match but rather subscribe everything, all is good.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,20,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346196894,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","Looks like TVH subscribes the first (and only the first) CA PID that the CAM also announces.

Yes, this is how it's done. I never changed the lookup code from the original.
For hard wired CAMs this is OK, because the CAM gets all PIDs anyway. So the CAM selection of a hard wired CAM works good.
For a DD CI CAM, we need to subscribe the required CA descriptor PID from the DVB card to feed it via the ciX/secX device into the CAM.

Guess if CAID-PID/CAM evaluation won't stop on the first match but rather subscribe everything, all is good.

I don't want to do that, because for MTD we need to rewrite all the PIDs from all stream parts including the CAT. So I would like to use the CAID for the CAM selection which is really used. And this CAID is stored in the dvbcam_active_service_t structure and only this single CAID is currently used to select the right ECM PID. We would need to change the code to select the whole list of ECM PIDs and this is really not required to get the CAM decrypting.
But I don't know if there is anywhere the info which CAID the active service is currently using for decryption.
I hope @perexg can answer this.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/perexg,21,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346265028,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","@jasmin-j: The CAID is selected in the first lookup 'check all elementary streams for CAIDs and find CAM'. Indeed, there is an issue for CAMs with multiple CAIDs. Do we have a way to determine which CAID is really used by the CAM (feedback)?
I added code for s_dvb_forcecaid to d85137a . So you can manually select the CAID per service (it's not ideal, I know).
We can also add another option with a preferred CAID list to the dvbcam config. Another way (already implemented) is to sort CAID in the elementary stream filters (Configuration / Stream / CA Stream Filters).
The subscription of all PIDs is really bad idea. The hardware (tuner/bridge) has usually limited count of filters (around 32) so if you use 10-16 PIDs for ECM/EMM (and only 2 of them are really used per service), then you have only rest for PAT/PMT/EIT/A/V streams which is really a small number.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,22,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346281146,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","@perexg @jasmin-j If the CAM just announces one CAID (I don't know what ""official"" provider modules do, guess they only send the CAID they're intended for), this will work ofc. In the AC/One4All case, users at least have to set the CAM from ""MULTI"" to ""SINGLE"" CAID mode (that will result in only having the CAID reported that the inserted card handles), but think about the multicard CAMs (ie. Unicam Dual etc, where people put both their V14 and a HDplus card in), those definitely won't fully work. And if for some reason a provider CAM pops up that also supports (and needs) multiple CAs, this also won't work.
Configuring stream filters isn't a really good option since that's prone to errors and with that will risk that services with other CAIDs won't descramble anymore, and manually configuring stream filters for each service isn't an option at all.
@jasmin-j How does VDR handle this? I can't remember I had to set up anything or even care about PIDs or CAIDs when initially testing and fixing the DD CI hardware during the mainline merge thing, and I didn't have to play with the CAID capability setting of the CAM - that thing just worked with MTD. As VDR does it internally (""outside"" of DDCI), I believe Klaus handles all PIDs or at least those that the CAM announces to support.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,23,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346286939,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","Do we have a way to determine which CAID is really used by the CAM (feedback)?

As @herrnst just said, the AlphaCrypt CAM has a configuration parameter to announce the CAID used by the smart card or all the encryption systems it can decode. The default is the latter, if I remember it correctly.
My old CAM announces only one CAID.

So you can manually select the CAID per service (it's not ideal, I know).

With that you answered my question, if we can determine the really used CAID from the stream, the answer is NO. But I think the solution not bad. I don't think that the encryption method for a service does change very often.

We can also add another option with a preferred CAID list to the dvbcam config.

This would solve the issue completely I guess. But as it is with all user configurations this will increase the support questions.

Another way (already implemented) is to sort CAID in the elementary stream filters

Will not work for CAMs who can really decode more encryption systems.

@jasmin-j How does VDR handle this?
I believe Klaus handles all PIDs or at least those that the CAM announces to support.

You answered it already. VDR selects the PIDs for all CAIDs a CAM does announce. That's the reason you should configure the AC CAM to announce only the CAIDs the smard card can provide.

The subscription of all PIDs is really bad idea. The hardware (tuner/bridge) has usually limited count of filters (around 32)

With that said I would suggest to implement the option with a preferred CAID list to the dvbcam config and dvbcam using all CAIDs it gets from the CAM. Then it depends on the CAM configuration in the first place and a user may override it in the preferred configuration. And of course the just implemented s_dvb_forcecaid will then be the last filter to select only a single CAID.
@perexg, @herrnst is this a solution which would be useful in your opinion?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,24,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346297363,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","[...] the AlphaCrypt CAM has a configuration parameter to announce the CAID used by the smart card or all the encryption systems it can decode. The default is the latter, if I remember it correctly.

Correct. Unfortunately, when only using TVH without any external tools like gnutv, one doesn't have a chance to change the CAM configuration since (as it seems) one can't access the CAM menu, but this is probably subject for a separate feature request, together with matching HTSP and even Kodi integration :-)

The hardware (tuner/bridge) has usually limited count of filters (around 32)

Errrrr... Isn't that done in the DVB Core? At least in ddbridge I haven't seen anything that would do PID filtering in hardware, can't really say how other devices handle this...

[...] is this a solution which would be useful in your opinion?

Sounds like an automagic thing, with the user being able to correct things if something goes wrong, so yes. Another thing: I noticed the AC in MULTI mode announces the card CAID as the first one in the supported list, so maybe change the way things are evaluated to go through the CAMs CAID list and match the PIDs accordingly, that'd probably also help.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/perexg,25,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346313778,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","Ok, I pushed more fine CAID filtering / selection to 9ea470a . You can handle all CAIDs per CAM now, too. I believe that for the first phase, the major issues are resolved, only MTD implementation is missing.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,26,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346409439,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","I'm not sure if I get this correctly now. Isn't the ""All CAIDs"" option supposed to send ALL CAID PIDs to the CAM? If so, something's still missing, because the CAM doesn't decrypt or MMI-complain yet (same with the other two options). Though, if I enter 1838 in the CAID filter list, things just start to work without further ado.
(EDIT) Ah, looks like I got it - those options always take the filter list into account, and require something to be entered into that list/field (EDIT2) else it'll ""fall back"" to the old behaviour and pick whatever comes first and matches first.
Otherwise, can't see any issue like other scrambled channels stealing the currently active one's session (channel stays active - though hadn't seen that issue before).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,27,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346504995,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","I believe that for the first phase, the major issues are resolved, only MTD implementation is missing.

Well, phase 2 would be MCD. For that I need to allow a list of services to be attached to DD CI and maybe some changes in dvbcam also
Phase 3 is then MTD.
But first we need to finish the current implementation.
During my review I found an issue with the ALL mode (or I haven't understood how it is intended).
The current ALL code subscribes all CAIDs of the service, which are also supported by the CAM. In my opinion we had this in a step before, where all ECMs for all CAIDs have been subscribed, even those which are not required by the service.
I would have thought ALL means all CAIDs from the configured list, which are supported by the CAM.
To get this behaviour we simply need to add:
      TAILQ_FOREACH(st, &t->s_filt_components, es_link) {
        if (st->es_type != SCT_CA) continue;
        LIST_FOREACH(c, &st->es_caids, link) {
          if (c->caid != dc->caid_list[i]) continue;     <----- Add this
          if (i >= ARRAY_SIZE(as->caid_list)) {
            tvherror(LS_DVBCAM, ""CAID service list overflow"");
            break;
          }

It is late already and I might be wrong, but when we add the line above I think we can remove the 'if' and the error printing, because both lists have the same size.
And you should add a define for the list size with value 32 and use it in the definition of the lists.
And there is:
    if (dc->caid_select == DVBCAM_SEL_LAST && j > 0) {
      as->caid_list[0] = as->caid_list[j-1];
      as->caid_list[1] = 0;   <----- Termination of the list is missing
    }

But maybe I haven't understood how LAST should work.
What did you intend with the LAST mode?
I don't understand how I can use this.
What is so special with the last entry of the configured list?
The same behaviour could be achieved by only one entry in the configured list.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/perexg,28,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346550397,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","New code: 7f81d72 ; it contains @jasmin-j review fixes .
The LAST mode is just because I wanted to have more than 2 items in the CAID selection method list :) Don't try to find something special behind it :)
@herrnst : If the CAID filter is empty, all CAIDs should be selected (with 'All CAIDs' settings). I added more log code to dvbcam. Could you show me log for your 'All CAIDs' settings? (--trace dvbcam)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,29,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346561396,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","@perexg From what I've seen yesterday, this doesn't seem to be the case (and a bit of semi-random debug output sort-of confirmed this), so ATM: CAIDs in the filter list results in PIDs being subscribed which share common CAIDs with what the CAM announced (mode: all), if the filter list is empty, old behaviour applies (ie. first match, first serve). Will post the log in the evening.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,30,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346702457,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","So, this is the log output with this particular service (WebUI paste ""After filtering and reordering"") channel with current HEAD (d7cab04):
Index | PID | Type | Language | Details
1 | 0x021f /   543 | MPEG2VIDEO |   |  
2 | 0x0220 /   544 | MPEG2AUDIO | ger |  
3 | 0x0226 /   550 | CA |   | CAIDS: 1831:000000
4 | 0x0227 /   551 | CA |   | CAIDS: 1722:000000
5 | 0x0228 /   552 | CA |   | CAIDS: 1850:000000
6 | 0x09f6 /  2550 | CA |   | CAIDS: 1838:000000
7 | 0x09f8 /  2552 | CA |   | CAIDS: 1835:000000
8 | 0x1e5d /  7773 | CA |   | CAIDS: 098e:000000

""All CAIDs"" and an empty filter list (1838 announced by the CAM but missing in the PID selection):
2017-11-23 22:49:07.795 [   INFO]:mpegts: 298MHz in Unitymedia NRW - tuning on ST STV0367 DDB DVB-C/T : DVB-C #0
2017-11-23 22:49:07.795 [  TRACE]:dvbcam: start service 0x557a247d1860
2017-11-23 22:49:07.795 [  TRACE]:dvbcam: dvbca0/0x557a247d1860: match CAID 1722 PID 551 (0227)
2017-11-23 22:49:07.795 [  TRACE]:dvbcam: dvbca0/0x557a247d1860: first CAID 1722 selected
2017-11-23 22:49:07.795 [ NOTICE]:ddci: CAM ci0 assigned to 0x557a247d1860
2017-11-23 22:49:07.795 [  TRACE]:descrambler: dvbcam-0-0-1722: key state changed from INIT to READY for ""Unitymedia NRW/298MHz/BonGusto""
2017-11-23 22:49:07.795 [  TRACE]:descrambler: service ""Unitymedia NRW/298MHz/BonGusto"": 0 descramblers (0 ok 0 failed 0 fatal)
2017-11-23 22:49:07.795 [  TRACE]:dvbcam: dvbca0/0x557a247d1860: add ECM PID 551 (0227) for CAID 1722
2017-11-23 22:49:07.795 [   INFO]:subscription: 00FD: ""192.168.0.120 [  | Kodi Media Center ]"" subscribing on channel ""BonGusto"", weight: 150, adapter: ""ST STV0367 DDB DVB-C/T : DVB-C #0"", network: ""Unitymedia NRW"", mux: ""298MHz"", provider: ""Unitymedia"", service: ""BonGusto"", profile=""htsp"", hostname=""192.168.0.120"", username=""192.168.0.120"", client=""Kodi Media Center""
2017-11-23 22:49:08.191 [  TRACE]:descrambler: CAT data (len 42)
2017-11-23 22:49:08.191 [  TRACE]:descrambler: [...]
2017-11-23 22:49:08.191 [  TRACE]:dvbcam: 0x557a247d1860: add EMM PID 5376 (1500) for CAID 1722
2017-11-23 22:49:08.352 [  TRACE]:en50221: dvbca0: ok_descrambling CAPMT enqueued (only)
2017-11-23 22:49:08.389 [  TRACE]:en50221: dvbca0: ok_descrambling CAPMT sent (only)
2017-11-23 22:49:08.389 [  TRACE]:en50221: [...]
2017-11-23 22:49:09.507 [  TRACE]:ddci: CAM ci0 send buff rd(-> CAM):4355, wr:4355
2017-11-23 22:49:09.507 [  TRACE]:ddci: CAM ci0 recv rd(CAM ->):23520, wr:23520
2017-11-23 22:49:09.507 [  TRACE]:ddci: CAM ci0 got 19557 scrambled packets from CAM
2017-11-23 22:49:13.795 [WARNING]:subscription: 00FD: service instance is bad, reason: No input detected
2017-11-23 22:49:13.795 [  TRACE]:descrambler: mux 0x557a247b8010 - flush tables
2017-11-23 22:49:13.795 [  TRACE]:en50221: dvbca0: not_selected CAPMT enqueued (update)
2017-11-23 22:49:13.795 [ NOTICE]:ddci: CAM ci0 unassigned from 0x557a247d1860
2017-11-23 22:49:13.796 [  TRACE]:ddci: CAM ci0 send buff rd(-> CAM):17696, wr:17696
2017-11-23 22:49:13.845 [  TRACE]:en50221: dvbca0: not_selected CAPMT sent (update)
2017-11-23 22:49:13.845 [  TRACE]:en50221: [...]
2017-11-23 22:49:15.795 [ NOTICE]:subscription: 00FD: No input source available for subscription ""192.168.0.120 [  | Kodi Media Center ]"" to channel ""BonGusto""

Again, ""All CAIDs"", with ""1722,1831,1838,1850"" in the filter list (the MMI at the end is ok since that channel/service isn't subscribed on the card, but it gets it's ECMs):
2017-11-23 22:56:24.162 [   INFO]:mpegts: 298MHz in Unitymedia NRW - tuning on ST STV0367 DDB DVB-C/T : DVB-C #0
2017-11-23 22:56:24.162 [  TRACE]:dvbcam: start service 0x557a247d1860
2017-11-23 22:56:24.162 [  TRACE]:dvbcam: dvbca0/0x557a247d1860: match CAID 1722 PID 551 (0227)
2017-11-23 22:56:24.162 [  TRACE]:dvbcam: dvbca0/0x557a247d1860: add CAID 1722 to selection
2017-11-23 22:56:24.162 [  TRACE]:dvbcam: dvbca0/0x557a247d1860: add CAID 1838 to selection
2017-11-23 22:56:24.162 [ NOTICE]:ddci: CAM ci0 assigned to 0x557a247d1860
2017-11-23 22:56:24.162 [  TRACE]:descrambler: dvbcam-0-0-1722: key state changed from INIT to READY for ""Unitymedia NRW/298MHz/BonGusto""
2017-11-23 22:56:24.162 [  TRACE]:descrambler: service ""Unitymedia NRW/298MHz/BonGusto"": 0 descramblers (0 ok 0 failed 0 fatal)
2017-11-23 22:56:24.162 [  TRACE]:dvbcam: dvbca0/0x557a247d1860: add ECM PID 551 (0227) for CAID 1722
2017-11-23 22:56:24.162 [  TRACE]:dvbcam: dvbca0/0x557a247d1860: add ECM PID 2550 (09F6) for CAID 1838
2017-11-23 22:56:24.162 [   INFO]:subscription: 00FF: ""192.168.0.120 [  | Kodi Media Center ]"" subscribing on channel ""BonGusto"", weight: 150, adapter: ""ST STV0367 DDB DVB-C/T : DVB-C #0"", network: ""Unitymedia NRW"", mux: ""298MHz"", provider: ""Unitymedia"", service: ""BonGusto"", profile=""htsp"", hostname=""192.168.0.120"", username=""192.168.0.120"", client=""Kodi Media Center""
2017-11-23 22:56:24.714 [  TRACE]:descrambler: CAT data (len 42)
2017-11-23 22:56:24.714 [  TRACE]:descrambler: [...]
2017-11-23 22:56:24.714 [  TRACE]:dvbcam: 0x557a247d1860: add EMM PID 5376 (1500) for CAID 1722
2017-11-23 22:56:24.714 [  TRACE]:dvbcam: 0x557a247d1860: add EMM PID 5379 (1503) for CAID 1838
2017-11-23 22:56:24.853 [  TRACE]:en50221: dvbca0: ok_descrambling CAPMT enqueued (only)
2017-11-23 22:56:24.853 [  TRACE]:en50221: dvbca0: ok_descrambling CAPMT sent (only)
2017-11-23 22:56:24.853 [  TRACE]:en50221: [...]
2017-11-23 22:56:29.509 [  TRACE]:ddci: CAM ci0 send buff rd(-> CAM):21885, wr:21885
2017-11-23 22:56:29.509 [  TRACE]:ddci: CAM ci0 recv rd(CAM ->):68544, wr:68544
2017-11-23 22:56:29.509 [  TRACE]:ddci: CAM ci0 got 55712 scrambled packets from CAM
2017-11-23 22:56:30.162 [WARNING]:subscription: 00FF: service instance is bad, reason: No input detected
2017-11-23 22:56:30.162 [  TRACE]:descrambler: mux 0x557a247b8010 - flush tables
2017-11-23 22:56:30.162 [  TRACE]:en50221: dvbca0: not_selected CAPMT enqueued (update)
2017-11-23 22:56:30.162 [ NOTICE]:ddci: CAM ci0 unassigned from 0x557a247d1860
2017-11-23 22:56:30.162 [  TRACE]:ddci: CAM ci0 send buff rd(-> CAM):24723, wr:24723
2017-11-23 22:56:30.212 [  TRACE]:en50221: dvbca0: not_selected CAPMT sent (update)
2017-11-23 22:56:30.212 [  TRACE]:en50221: [...]
2017-11-23 22:56:30.545 [  TRACE]:en50221: dvbca0: 0x00400041 session 6 connecting
2017-11-23 22:56:30.545 [  TRACE]:en50221: dvbca0: 0x00400041 session 6 connected
2017-11-23 22:56:30.863 [  TRACE]:en50221: dvbca0: mmi display ctl cb received for slot 0 session_num 6 cmd_id 0x01 mmi_mode 1
2017-11-23 22:56:31.204 [ NOTICE]:en50221: dvbca0: MMI list from CAM in the slot 0:
2017-11-23 22:56:31.204 [ NOTICE]:en50221: dvbca0:  title:    ▒AlphaCrypt
2017-11-23 22:56:31.204 [ NOTICE]:en50221: dvbca0:  subtitle:
2017-11-23 22:56:31.204 [ NOTICE]:en50221: dvbca0:  item 1:   Sie haben keine Berechtigung
2017-11-23 22:56:31.204 [ NOTICE]:en50221: dvbca0:  item 2:   dieses Programm zu empfangen !
2017-11-23 22:56:31.204 [ NOTICE]:en50221: dvbca0:  bottom:   Dr▒cken Sie OK
2017-11-23 22:56:31.521 [  TRACE]:en50221: dvbca0: 0x00400041 session 6 close
2017-11-23 22:56:32.162 [ NOTICE]:subscription: 00FF: No input source available for subscription ""192.168.0.120 [  | Kodi Media Center ]"" to channel ""BonGusto""",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,31,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346704469,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","I fixed that (and more) already!
Will provide a pull request soon.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/perexg,32,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346704545,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","@jasmin-j : Sorry, I pushed my change few seconds ago :(",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,33,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346704788,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","I will check your changes. I am sure you didn't fix the WEB UI empty list save problem ;)
EDIT:
Funny how different solutions can be ;)
Yours is more elegant than mine. Will post the WEB UI save list problem soon.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,34,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346705430,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","@perexg Quickly rebuilt HEAD, this works as expected now (ie. empty filter list + All CAIDs, CAM gets all PIDs/CAIDs now which match with what's in the service, some CAIDs in the filter list only adds the specified ones, as long as the CAM supports them).
@jasmin-j No, he didn't :)
Great job by both of you of course!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,35,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346706399,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","Will post the WEB UI save list problem soon.

Done, see #1038.
With that we can close this pull request and finish phase 1 of the DD CI support implementation.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/herrnst,36,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346894913,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","@perexg @jasmin-j Even if this PR is closed (and considered done) now, I discovered one related thing while playing a bit with current HEAD as of now:
Had one scrambled channel play for a few minutes, and then switched to another scrambled one (for which no permission/subscription exists though), and TVH crashed with SIGSEGV. That one wasn't easy to reproduce with a -g -Og build and gdb attached, but ""luckily"", it crashed again. The key seems to be to have a channel play for a little bit, anyway, GDB bt full, thread apply all bt and the resulting tvh.log at:
https://pastebin.com/rA1Cu6W4",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1034,2017-11-20T00:21:23Z,2017-11-23T22:50:58Z,2017-11-26T03:09:06Z,CLOSED,False,162,27,1,https://github.com/jasmin-j,Ddci phase1a,3,[],https://github.com/tvheadend/tvheadend/pull/1034,https://github.com/jasmin-j,37,https://github.com/tvheadend/tvheadend/pull/1034#issuecomment-346980871,"After lots of hours debugging. I fixed the root cause of the problem.
The CA descriptor PIDs (ECMs) weren't subscribed by the dvbcam.
I added the ECM pid add/remove handling to dvbcam. There is still some code missing, but as a first step it is ok.
I am not sure if there would have been a simpler solution by using the already existing table handlers, but the current solution subscribes only those ECMs which are required by the CAM to descramble the CAIDs the CAM can support.
NOTE: The stream can't be displayed by VLC or other programs, because there are still some PIDs missing. But the stream can be displayed with ffplay, so the CAM is now fully decrypting the stream.
What is missing to get this fully working are the following PIDs in the output stream:
0x00	PAT
0x11	SDT/BAT
0x???	PMT
This PIDs are sent to the CAM and also are sent back, but they are not streamed to the client. I have no clue where and how I can enable this.
@perexg, please tell me where and how I can subscribe these PIDs, so that they are send to the client.","Hi!
Should be fixed by #1040.
LG JJ",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1035,2017-11-21T13:50:35Z,2017-11-21T18:46:15Z,2017-11-21T18:46:15Z,CLOSED,False,35,6,6,https://github.com/mpmc,debian: add systemd,2,[],https://github.com/tvheadend/tvheadend/pull/1035,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1035,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1035,2017-11-21T13:50:35Z,2017-11-21T18:46:15Z,2017-11-21T18:46:15Z,CLOSED,False,35,6,6,https://github.com/mpmc,debian: add systemd,2,[],https://github.com/tvheadend/tvheadend/pull/1035,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1035#issuecomment-346123035,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1036,2017-11-22T15:30:20Z,2017-11-23T07:59:56Z,2017-11-23T07:59:56Z,CLOSED,False,4,0,1,https://github.com/mpmc,debian: add a note to tvheadend.default explaining where to add/edit args,1,[],https://github.com/tvheadend/tvheadend/pull/1036,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1036,"People seem to be getting confused by the systemd change, this should make it a bit more obvious :)","People seem to be getting confused by the systemd change, this should make it a bit more obvious :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1036,2017-11-22T15:30:20Z,2017-11-23T07:59:56Z,2017-11-23T07:59:56Z,CLOSED,False,4,0,1,https://github.com/mpmc,debian: add a note to tvheadend.default explaining where to add/edit args,1,[],https://github.com/tvheadend/tvheadend/pull/1036,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1036#issuecomment-346550568,"People seem to be getting confused by the systemd change, this should make it a bit more obvious :)",Mertegd. Thanks.,True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1037,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346425277,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.",@azlm8t could you add an screenshot ? :),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346445373,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","DVR upcoming details dialog showing first aired and icons for comedy detective series

EPG details dialog showing martial-arts action mystery and year in brackets:

EPG example with OTA genre rather than SD category and first aired previous day (since ""yesterday"" is a bit misleading when we talk about a programme in the future so I chose ""previous day"" instead):

EPG for channels with categories also showing years in brackets and showing one film is ""new"". You can just about guess the categories such as cactus being for a Western.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346447321,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","Sorry, I uploaded the wrong file for OTA genre. This is the one showing OTA genre instead of SD categories and showing ""new"" being parsed for the OTA channel:",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/mpmc,5,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346538820,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.",This looks awesome!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/Trujulu,6,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346541133,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.",@mpmc Yes!!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/perexg,7,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346550751,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.",Merged. Really thanks for your work. Great extensions.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/mpmc,8,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346560853,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@azlm8t one thing I noticed (on mine) it adds ""Parameters: New"" even if the programme is an obvious repeat.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,9,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346602331,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@mpmc
I don't see that on mine, I get ""parameters: widescreen"" for example on OTA.
I assume this is on EPG info dialog? Is it with the UK grabber? I assume the [new] icon isn't being displayed in the dialog or the grid, just the text at the bottom next to parameter.
The one change in that area is that we now request the 'new' column from the server, and of course we now regex for ""New:"" to set the flag, but if it's not displayed elsewhere then that logic should be ok.
Perhaps we should rename the field 'new' to 'is_new' to avoid any potential conflict with keywords in case your browser is doing something different to mine I'll submit a patch later today if we don't find another cause.
If you have an example that fails then perhaps you could check to see if the server is sending ""new"" (it should only be sending it if an episode is new, and then it has the value 1).
curl http://localhost:9981/api/epg/events/grid?limit=5000 | json_pp | less
Thanks everyone for the comments.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,10,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346615867,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@mpmc
Or if it's OTA if you let me know a programme that is on in a few days and fails and whether it's fv or fs then I can see if I have the same problem.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/mpmc,11,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346650099,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.",It's OTA only. I have all the UK grabbers enabled.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,12,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346672618,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","That looks quite different to mine for OTA for the same programme, for example the 10am is marked as new and has a [new] icon. I'll delete my epgdb and rescan. I remember from an earlier bug that you also have opentv enabled (I don't) and I also recall that there is a oddity I noticed when doing the season episode scraping where if two services are mapped to the same channel but have different data (for example one has season info and one doesn't) then you can have different details in the dialog to the grid. I'll take a look.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/mpmc,13,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346672843,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@azlm8t
Thanks :) I really should get SD tbh, but for my limited viewing OTA will do for now :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,14,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346674862,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@mpmc
OK, I think it may be the OpenTV sending different details. So I had this:

Then after a few minutes more of scanning I had this and note how the ""New:"" for 22:45 disappeared.

So, I think that may be related to why you see ""new"" on programmes that don't have ""new"".
However, I've not managed to get a run that looks like your dialog with S2Ep30. Mine all have ""Robert Peston interviews the key political figures, newsmakers and cultural figures, while Allegra Stratton keeps viewers up to date with the big issues on social media. [S]""
I'll dig a bit more.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/mpmc,15,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346677973,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.",@azlm8t It's probably to do with my ordering as well?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,16,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346684792,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.",Quite likely. I'm not sure if you need OpenTV enabled. I'm still waiting for the epgscan to finish with a config with OpenTV but will probably have to retry tomorrow due to tuner conflict. I still haven't seen an instance with Peston with season and episode.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,17,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346710408,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@mpmc
I've not managed to get any results with Peston with season/episode or the text you have, even with the same grabber priorities as you (eit:10, opentv:30, fs:20, fv:40; scrape episode/scrape subtitle enabled). Very odd.
But the following screenshot shows how if you un-merge the channels then you can see they have different ideas of subtitle. So if they are merged, you could get conflicting information with some thinking an episode is new and some thinking it is not-new.
Also it shows that some channels mark the 22:45 episode as new (although I assume it's a repeat of the 10am) which might explain why you see ""new"" for that episode in the info dialog.

(Channel 4000+ I set up at T2 so I could see difference to S2)
So, I think it's probably just that you have merged channels and perhaps your region's DVB-T has the season/episode number but my DVB-T region doesn't include that information. I think the only way to know for sure would be if you unmerge your channels and, if that doesn't help, remove the is_new from the uk config file to see if programmes are still flagged with the new flag due to some browser difference.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,18,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346797836,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@mpmc
I did some more testing of disabling grabbers. If you only have OpenTV enabled then I can get the Peston with season and episode. What happens is first it populates the titles and later it gets additional information such as description.
If I then enable dvb grabbers then the season/episode remains. But, if all are enabled at the start then I never get season/episode. If I restart with a clean database and have all the grabbers enabled with OpenTV higher priority that uk freesat then I don't get season/episode.
So there may be an issue with grabber priorities and merging/overwriting data since the OpenTV should be clearing the dvb eit information so I should see the same season/episode as you if I have the same priorities, whereas I imagine it's probably that you happen to grab OpenTV first.
This is grab with OpenTV only.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/mpmc,19,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346822609,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","Nope: this is my ordering.



Name
Priority




EIT
1


UK Freesat
2


OpenTV Sky UK
3


UK Freeview
4



Has been for a while.
I'm going to remove/backup the database and see what happens
Removed the database, ""New"" still remains on all programmes, I'll update my banana pi & see if that has the same problem.
EDIT2:
On my Banana Pi I now have the content type/icons in the EPG grid - on my main system I don't see it at all. This is DVB-T - Freeview (prio 5), EIT (prio 1).
OK I'm still seeing the new text for the repeat, but NOT the icon!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,20,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346914651,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@mpmc
I noticed you have B&W icons. If you are running Ubuntu then you can install fonts-emojione to have colour icons.
I've submitted a new pull request to rename the 'new' to 'is_new' which I hope will get rid of the issue since I've tried two OSes and three browsers and can't reproduce it yet. The 'parameters new' logic was pre-existing (but not invoked since we didn't request the field) and it checked 'new' slightly differently to the way I check it to display the icon, so that might explain it.
The ordering I tested I believe is same as yours, but I used different numbers.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/mpmc,21,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346937853,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@azlm8t
I'm using Chromium if that makes any difference (on Ubuntu Budgie). I also installed that font but it changed ALL numbers everywhere which were really hard for me to see, so had to remove it.
I'll be sure to update (when it's committed) and let you know how I get on :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,22,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346943954,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@mpmc
Just tried chromium on Ubuntu and it's ok here with Times New Roman; which fonts do you use? I've been testing Ubuntu a bit more and I noticed that Firefox displays some icons in colour if you have ""serif"" but if you choose ""roboto"" then it renders most in colour from the emojione font but a few in b&w such as heart and smiling face.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/mpmc,23,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346955200,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","This is with the ""Large"" option on as well, If I increase these too much I weird things happen (windows look off), even with these settings I have issues with seeing text sometimes.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,24,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-346981532,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@mpmc
Sorry, about the font. I noticed that the github page for Emojione has this warning ""Note: This requires Bitstream Vera is installed and will change your systems default serif, sans-serif and monospace fonts."", something which the Debian package doesn't mention! So that may explain the numbers issue.
I've been chatting with ProfYaffle about replacing the font with icons in Tvheadend instead.
I tried chromium but, for me, it refuses to resize the fonts on Tvheadend. It resizes them for other websites such as BBC. It may be that it's obeying the ""font-size: 12"" that Tvheadend sends, or perhaps it's some weird interaction with something else. But, hopefully if we put images instead of a font then your B&W icons will disappear.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/mpmc,25,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-347004279,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@azlm8t

Sorry, about the font.

Why are you apologising? It's not your fault I have crappy eyesight :).
Please don't worry about fixing it, I can ignore it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/ProfYaffle,26,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-347008495,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","My $0.02 - we can't go around changing system fonts, it really isn't in the spirit of user choice. It's also creating another dependency (both the emojione and Vera fonts), which perhaps isn't ideal either.
I'll have a look at some icons this week, see if there's anything obvious that starts to make sense across clients.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,27,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-347010866,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.",I've got a proof-of-concept using png images from Google Noto fonts (Apache 2 licence). This is a grab using chromium and only the Google Noto pngs (no local font images):,True,"{'THUMBS_UP': ['https://github.com/mpmc', 'https://github.com/ProfYaffle'], 'HOORAY': ['https://github.com/mpmc']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/ProfYaffle,28,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-347012319,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","With typical understatement, ""yes, that looks like an improvement worth considering"". I saw the Google icons as well, and their licensing seems to be most reasonable (c/f your comments on the other thread), so that's as good a place to start as any.
There are a few notable famfamfam icons that could easily be incorporated if needed, but a quick glance suggests that Google has most things covered.
We should really shift the icon-specific conversation to that other PR, I think, as it's in danger of confusing your new/extra info thread here.
(PS back on topic - what scraper source are you using for the extra metadata? I'm not seeing anything in the OTA or xmltv ones I've tried)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1037,2017-11-22T16:41:09Z,2017-11-23T08:01:10Z,2017-11-26T19:24:50Z,CLOSED,False,576,88,9,https://github.com/azlm8t,"ui/dvr/epg: indicate new programmes in UI, with extra info in UI dialog (#4594)",9,[],https://github.com/tvheadend/tvheadend/pull/1037,https://github.com/azlm8t,29,https://github.com/tvheadend/tvheadend/pull/1037#issuecomment-347031788,"Adds a new column to indicate if a programme is new and to also contain icons for the programme type. For example, a new episode of Simpsons might display icons for ""🆕 📺✏️😀"", indicating new tv show, animated, comedy, which in my browsers are displayed as colourful pictures/emoji of the word new in a box, a tv, a pencil writing, and a laughing face. Some of the mappings are a bit arbitrary, but that's always unavoidable with mappings!
I had initially wanted these to float-right on the title, but it didn't seem compatible between different browsers since some floated it to the end of all columns and others just to the right of the title, so I added it all as a separate column before the title.
The mapping is done inside tvheadend.js. It's based on the top few category names in SD files I have. Other xmltv files I've seen for DK, NO, SE, FI all use English names for categories even though the descriptions are non-English, so it's possible that many grabbers use English for compatibility mapping to genres. So, I don't think those input strings should be subject to i18n, but perhaps we will need to add more categories in the future for other language mappings and maybe move it all to a separate file once it gets too big.
I send extra details to the UI for cast, credits, keywords, first_aired, copyright_year, genre; and renamed copyrightYear to copyright_year to be consistent between EPG and DVR.
I also fixed up the xmltv date parser since it was not correctly parsing the previously-shown dates since they were subset timestamps (YYYYMMDD) without HH:MM.
Titles for movies are now displayed as ""Title (yyyy)"" if the year is known.
A couple of UI fields I changed the CSS class since they were not wrapping in the dialog if the right-hand image was large.
EPG and DVR Upcoming dialogs were updated to have a few more fields such as previously aired, and it tries to make it a nicer date as ""today"" or ""yesterday.""
Also updated the OTA scraper to have a new scraper for detecting new programmes and to populate the copyright_year instead of first_aired. I've left the first_aired variables there in case we populate it in the near future.","@ProfYaffle
I use tv_grab_zz_sdjson_sqlite to grab Schedules Direct data. I have my own version that also populates the image xmltv tag with artwork for the programmes, but the original version grabs all the other extra metadata such as cast and rating.
My version is here: https://github.com/azlm8t/tv_grab_zz_sdjson_sqlite/tree/download-artwork
Then in Tvheadend in the EPGGrabber Modules you click the ""Scrape extra metadata"" tickbox.
For OTA, the only scraping is minimal in the EPGGrabber Module for scraping subtitle, season/episode, and new episode indicator. There's no scraping yet for cast from OTA.",True,{'THUMBS_UP': ['https://github.com/ProfYaffle']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1038,2017-11-23T22:48:03Z,2017-11-24T08:40:58Z,2017-11-24T08:40:58Z,CLOSED,False,4,3,1,https://github.com/jasmin-j,dvbcam: Fixed saving of a cleared dvbcam caid_list (from WEB UI),1,[],https://github.com/tvheadend/tvheadend/pull/1038,https://github.com/jasmin-j,1,https://github.com/tvheadend/tvheadend/pull/1038,WEB UI saving of an empty list didn't work.,WEB UI saving of an empty list didn't work.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1038,2017-11-23T22:48:03Z,2017-11-24T08:40:58Z,2017-11-24T08:40:58Z,CLOSED,False,4,3,1,https://github.com/jasmin-j,dvbcam: Fixed saving of a cleared dvbcam caid_list (from WEB UI),1,[],https://github.com/tvheadend/tvheadend/pull/1038,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1038#issuecomment-346772514,WEB UI saving of an empty list didn't work.,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1039,2017-11-25T02:36:57Z,2017-11-27T11:57:01Z,2017-11-27T11:57:01Z,CLOSED,False,12,3,2,https://github.com/azlm8t,"ui/epg: rename field 'new' to 'is_new', use genre if no category (#4594)",2,[],https://github.com/tvheadend/tvheadend/pull/1039,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1039,"I renamed the ui field 'new' to 'is_new' to avoid any potential confusion with keywords. This may fix the cause of the browser of @mpmc always showing 'parameter: new' in the dialog.
When displaying icons, if categories don't map to any icons then we try genre mappings to icons. Previously we would not do genre mappings if there was a category string even if the category string didn't match any icons.","I renamed the ui field 'new' to 'is_new' to avoid any potential confusion with keywords. This may fix the cause of the browser of @mpmc always showing 'parameter: new' in the dialog.
When displaying icons, if categories don't map to any icons then we try genre mappings to icons. Previously we would not do genre mappings if there was a category string even if the category string didn't match any icons.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1039,2017-11-25T02:36:57Z,2017-11-27T11:57:01Z,2017-11-27T11:57:01Z,CLOSED,False,12,3,2,https://github.com/azlm8t,"ui/epg: rename field 'new' to 'is_new', use genre if no category (#4594)",2,[],https://github.com/tvheadend/tvheadend/pull/1039,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1039#issuecomment-346931567,"I renamed the ui field 'new' to 'is_new' to avoid any potential confusion with keywords. This may fix the cause of the browser of @mpmc always showing 'parameter: new' in the dialog.
When displaying icons, if categories don't map to any icons then we try genre mappings to icons. Previously we would not do genre mappings if there was a category string even if the category string didn't match any icons.","OK, sounds good.
I've removed the rename 'new' to 'is_new' patch and force pushed a new one to check 'new' correctly in the tvheadend.js. I've also appended a second check of ""&& x.new"" since the epg store seems to force new to exist (so ""in"" check works) but it is an empty string and that would cause the icon to always be displayed for me.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1039,2017-11-25T02:36:57Z,2017-11-27T11:57:01Z,2017-11-27T11:57:01Z,CLOSED,False,12,3,2,https://github.com/azlm8t,"ui/epg: rename field 'new' to 'is_new', use genre if no category (#4594)",2,[],https://github.com/tvheadend/tvheadend/pull/1039,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1039#issuecomment-347161014,"I renamed the ui field 'new' to 'is_new' to avoid any potential confusion with keywords. This may fix the cause of the browser of @mpmc always showing 'parameter: new' in the dialog.
When displaying icons, if categories don't map to any icons then we try genre mappings to icons. Previously we would not do genre mappings if there was a category string even if the category string didn't match any icons.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1040,2017-11-26T03:01:35Z,2017-11-27T11:57:32Z,2017-11-27T11:57:32Z,CLOSED,False,3,1,1,https://github.com/jasmin-j,dvbcam: Fix NULL pointer usage,1,[],https://github.com/tvheadend/tvheadend/pull/1040,https://github.com/jasmin-j,1,https://github.com/tvheadend/tvheadend/pull/1040,"When there is already a CAM assigned to the service, we jump to
update_pid. In commit 7f81d72 a
tvhtrace call which prints the CAM name has been added. The name
is accessed by ""ac->ca->lca_name"", which requires ac set to a
proper value.
This commit adds the ac setting before it jumps to ""update_pid"".
Signed-off-by: Jasmin Jessich jasmin@anw.at","When there is already a CAM assigned to the service, we jump to
update_pid. In commit 7f81d72 a
tvhtrace call which prints the CAM name has been added. The name
is accessed by ""ac->ca->lca_name"", which requires ac set to a
proper value.
This commit adds the ac setting before it jumps to ""update_pid"".
Signed-off-by: Jasmin Jessich jasmin@anw.at",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1040,2017-11-26T03:01:35Z,2017-11-27T11:57:32Z,2017-11-27T11:57:32Z,CLOSED,False,3,1,1,https://github.com/jasmin-j,dvbcam: Fix NULL pointer usage,1,[],https://github.com/tvheadend/tvheadend/pull/1040,https://github.com/herrnst,2,https://github.com/tvheadend/tvheadend/pull/1040#issuecomment-347014889,"When there is already a CAM assigned to the service, we jump to
update_pid. In commit 7f81d72 a
tvhtrace call which prints the CAM name has been added. The name
is accessed by ""ac->ca->lca_name"", which requires ac set to a
proper value.
This commit adds the ac setting before it jumps to ""update_pid"".
Signed-off-by: Jasmin Jessich jasmin@anw.at","Looks good wrt #1034 (comment) (added a trace message before e2ba1eb#diff-3618f5de440d54bff5d3e7a1795f92eeR414 and then put some stress on TVH, trace message pops up every now and then, though TVH won't SIGSEGV anymore). Thanks!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1040,2017-11-26T03:01:35Z,2017-11-27T11:57:32Z,2017-11-27T11:57:32Z,CLOSED,False,3,1,1,https://github.com/jasmin-j,dvbcam: Fix NULL pointer usage,1,[],https://github.com/tvheadend/tvheadend/pull/1040,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1040#issuecomment-347161127,"When there is already a CAM assigned to the service, we jump to
update_pid. In commit 7f81d72 a
tvhtrace call which prints the CAM name has been added. The name
is accessed by ""ac->ca->lca_name"", which requires ac set to a
proper value.
This commit adds the ac setting before it jumps to ""update_pid"".
Signed-off-by: Jasmin Jessich jasmin@anw.at",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1041,2017-11-26T14:03:32Z,2017-11-27T11:58:26Z,2017-11-27T11:59:57Z,CLOSED,False,3,3,2,https://github.com/mpmc,"Revert ""debian: bump debhelper compat level""",1,[],https://github.com/tvheadend/tvheadend/pull/1041,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1041,"This reverts commit 698e74b.
fixes #4740 (https://tvheadend.org/issues/4740)","This reverts commit 698e74b.
fixes #4740 (https://tvheadend.org/issues/4740)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1041,2017-11-26T14:03:32Z,2017-11-27T11:58:26Z,2017-11-27T11:59:57Z,CLOSED,False,3,3,2,https://github.com/mpmc,"Revert ""debian: bump debhelper compat level""",1,[],https://github.com/tvheadend/tvheadend/pull/1041,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1041#issuecomment-347161317,"This reverts commit 698e74b.
fixes #4740 (https://tvheadend.org/issues/4740)",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1042,2017-11-27T14:36:51Z,2017-11-29T20:14:28Z,2017-11-29T20:14:29Z,CLOSED,False,502,122,160,https://github.com/azlm8t,ui: replace category characters with png icons (#4594),2,[],https://github.com/tvheadend/tvheadend/pull/1042,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1042,"Although I believed everyone would have fonts containing the characters for category icons, it seems several Ubuntu systems ship without font support.
So, this replaces the font characters with pre-rendered png images from the Google Noto Color Emoji font. The images are Apache v2.0 licence and are apparently the ones Google uses for Gmail, etc. This means the images are consistent across the different browsers and OSes and should have updates going forward for new icons.
I have also increased the http expire timeout for jpg and png images from ten seconds to an hour since the images rarely change. The pre-rendered images are slightly large than the existing silk icons (~5k vs ~600b) but since they are cached it should make no practical difference and sending the image unscaled means they look better when displayed larger in the dialogs. I have not replaced any existing icons.
I've also added a hover to the icons to make them larger when you hover over them to make it clearer what the icons are.
I've put the few icons we use in vendor/noto (copied from the github repository for the font), symlinked them from our icon directory, and added the licence to the Tvheadend about dialog.
I have no problem at all if people want to replace the icons for specific categories with a different mapping, add/alter the mappings, or find better icons to use.
The EPG now looks like this:","Although I believed everyone would have fonts containing the characters for category icons, it seems several Ubuntu systems ship without font support.
So, this replaces the font characters with pre-rendered png images from the Google Noto Color Emoji font. The images are Apache v2.0 licence and are apparently the ones Google uses for Gmail, etc. This means the images are consistent across the different browsers and OSes and should have updates going forward for new icons.
I have also increased the http expire timeout for jpg and png images from ten seconds to an hour since the images rarely change. The pre-rendered images are slightly large than the existing silk icons (~5k vs ~600b) but since they are cached it should make no practical difference and sending the image unscaled means they look better when displayed larger in the dialogs. I have not replaced any existing icons.
I've also added a hover to the icons to make them larger when you hover over them to make it clearer what the icons are.
I've put the few icons we use in vendor/noto (copied from the github repository for the font), symlinked them from our icon directory, and added the licence to the Tvheadend about dialog.
I have no problem at all if people want to replace the icons for specific categories with a different mapping, add/alter the mappings, or find better icons to use.
The EPG now looks like this:",True,"{'THUMBS_UP': ['https://github.com/Trujulu'], 'HEART': ['https://github.com/Trujulu'], 'HOORAY': ['https://github.com/Trujulu']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1042,2017-11-27T14:36:51Z,2017-11-29T20:14:28Z,2017-11-29T20:14:29Z,CLOSED,False,502,122,160,https://github.com/azlm8t,ui: replace category characters with png icons (#4594),2,[],https://github.com/tvheadend/tvheadend/pull/1042,https://github.com/Saentist,2,https://github.com/tvheadend/tvheadend/pull/1042#issuecomment-347449402,"Although I believed everyone would have fonts containing the characters for category icons, it seems several Ubuntu systems ship without font support.
So, this replaces the font characters with pre-rendered png images from the Google Noto Color Emoji font. The images are Apache v2.0 licence and are apparently the ones Google uses for Gmail, etc. This means the images are consistent across the different browsers and OSes and should have updates going forward for new icons.
I have also increased the http expire timeout for jpg and png images from ten seconds to an hour since the images rarely change. The pre-rendered images are slightly large than the existing silk icons (~5k vs ~600b) but since they are cached it should make no practical difference and sending the image unscaled means they look better when displayed larger in the dialogs. I have not replaced any existing icons.
I've also added a hover to the icons to make them larger when you hover over them to make it clearer what the icons are.
I've put the few icons we use in vendor/noto (copied from the github repository for the font), symlinked them from our icon directory, and added the licence to the Tvheadend about dialog.
I have no problem at all if people want to replace the icons for specific categories with a different mapping, add/alter the mappings, or find better icons to use.
The EPG now looks like this:",Please add tool-tip on icons,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1042,2017-11-27T14:36:51Z,2017-11-29T20:14:28Z,2017-11-29T20:14:29Z,CLOSED,False,502,122,160,https://github.com/azlm8t,ui: replace category characters with png icons (#4594),2,[],https://github.com/tvheadend/tvheadend/pull/1042,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1042#issuecomment-347982533,"Although I believed everyone would have fonts containing the characters for category icons, it seems several Ubuntu systems ship without font support.
So, this replaces the font characters with pre-rendered png images from the Google Noto Color Emoji font. The images are Apache v2.0 licence and are apparently the ones Google uses for Gmail, etc. This means the images are consistent across the different browsers and OSes and should have updates going forward for new icons.
I have also increased the http expire timeout for jpg and png images from ten seconds to an hour since the images rarely change. The pre-rendered images are slightly large than the existing silk icons (~5k vs ~600b) but since they are cached it should make no practical difference and sending the image unscaled means they look better when displayed larger in the dialogs. I have not replaced any existing icons.
I've also added a hover to the icons to make them larger when you hover over them to make it clearer what the icons are.
I've put the few icons we use in vendor/noto (copied from the github repository for the font), symlinked them from our icon directory, and added the licence to the Tvheadend about dialog.
I have no problem at all if people want to replace the icons for specific categories with a different mapping, add/alter the mappings, or find better icons to use.
The EPG now looks like this:",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1043,2017-11-29T17:27:24Z,2017-11-29T19:55:49Z,2017-12-01T15:15:51Z,CLOSED,False,67,14,13,https://github.com/macrule,Fixes for FreeBSD and Darwin/macOS,11,[],https://github.com/tvheadend/tvheadend/pull/1043,https://github.com/macrule,1,https://github.com/tvheadend/tvheadend/pull/1043,"These are some fixes to make master compile on macOS (tested on 10.12) and FreeBSD (tested on 11.1).
The two major items:


A working implementation of wrappers.c for macOS that doesn't make the CPU spin needlessly due to a mixup of clocks in pthread_cond_wait().


Fix for a bug in the kqueue implementation that also caused needless busy-waiting on FreeBSD and macOS.


Taken those two together, tvheadend now idles at 0-5% CPU even when receiving a stream from SatIP.","These are some fixes to make master compile on macOS (tested on 10.12) and FreeBSD (tested on 11.1).
The two major items:


A working implementation of wrappers.c for macOS that doesn't make the CPU spin needlessly due to a mixup of clocks in pthread_cond_wait().


Fix for a bug in the kqueue implementation that also caused needless busy-waiting on FreeBSD and macOS.


Taken those two together, tvheadend now idles at 0-5% CPU even when receiving a stream from SatIP.",True,"{'THUMBS_UP': ['https://github.com/mpmc', 'https://github.com/Trujulu']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1043,2017-11-29T17:27:24Z,2017-11-29T19:55:49Z,2017-12-01T15:15:51Z,CLOSED,False,67,14,13,https://github.com/macrule,Fixes for FreeBSD and Darwin/macOS,11,[],https://github.com/tvheadend/tvheadend/pull/1043,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1043#issuecomment-347977336,"These are some fixes to make master compile on macOS (tested on 10.12) and FreeBSD (tested on 11.1).
The two major items:


A working implementation of wrappers.c for macOS that doesn't make the CPU spin needlessly due to a mixup of clocks in pthread_cond_wait().


Fix for a bug in the kqueue implementation that also caused needless busy-waiting on FreeBSD and macOS.


Taken those two together, tvheadend now idles at 0-5% CPU even when receiving a stream from SatIP.",Merged all.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1043,2017-11-29T17:27:24Z,2017-11-29T19:55:49Z,2017-12-01T15:15:51Z,CLOSED,False,67,14,13,https://github.com/macrule,Fixes for FreeBSD and Darwin/macOS,11,[],https://github.com/tvheadend/tvheadend/pull/1043,https://github.com/Trujulu,3,https://github.com/tvheadend/tvheadend/pull/1043#issuecomment-348093496,"These are some fixes to make master compile on macOS (tested on 10.12) and FreeBSD (tested on 11.1).
The two major items:


A working implementation of wrappers.c for macOS that doesn't make the CPU spin needlessly due to a mixup of clocks in pthread_cond_wait().


Fix for a bug in the kqueue implementation that also caused needless busy-waiting on FreeBSD and macOS.


Taken those two together, tvheadend now idles at 0-5% CPU even when receiving a stream from SatIP.","@perexg Could you have a look? I think there is something weird with the descrambling in linux. (Errors on every key update, using oscam)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1044,2017-12-02T23:15:48Z,2017-12-03T08:12:45Z,2017-12-03T08:12:45Z,CLOSED,False,23,3,2,https://github.com/mpmc,mdhelp: add ignore_path property doc.,1,[],https://github.com/tvheadend/tvheadend/pull/1044,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1044,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1044,2017-12-02T23:15:48Z,2017-12-03T08:12:45Z,2017-12-03T08:12:45Z,CLOSED,False,23,3,2,https://github.com/mpmc,mdhelp: add ignore_path property doc.,1,[],https://github.com/tvheadend/tvheadend/pull/1044,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1044#issuecomment-348747939,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1045,2017-12-04T15:48:25Z,2017-12-14T07:20:24Z,2017-12-14T11:11:55Z,CLOSED,False,2048,1910,177,https://github.com/mpmc,Help refresh (part 1),5,[],https://github.com/tvheadend/tvheadend/pull/1045,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1045,"Where to start..

This hopefully cleans up the Help somewhat, & should make a nice base to add more information (some I've started)
This took me a long time, I may have made some mistakes, please point them out, don't be afraid :)
Usability: added a new toolbar and button - at the bottom of the Help window - to jump to the top of the doc (using a hidden div)
Some screenshots still need updating
Cleaned up the wizard pages
Tweaked a few properties
I've reordered the TOC a little so it isn't as long
Moved all buttons info to one location - replaced the old button table in all docs (where it made sense) with an include pointing users to the button table's new location
Tables.. tables.. EVERYWHERE. Because, why not?

Opinions, mistakes, anything are welcome!
Phew!","Where to start..

This hopefully cleans up the Help somewhat, & should make a nice base to add more information (some I've started)
This took me a long time, I may have made some mistakes, please point them out, don't be afraid :)
Usability: added a new toolbar and button - at the bottom of the Help window - to jump to the top of the doc (using a hidden div)
Some screenshots still need updating
Cleaned up the wizard pages
Tweaked a few properties
I've reordered the TOC a little so it isn't as long
Moved all buttons info to one location - replaced the old button table in all docs (where it made sense) with an include pointing users to the button table's new location
Tables.. tables.. EVERYWHERE. Because, why not?

Opinions, mistakes, anything are welcome!
Phew!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1045,2017-12-04T15:48:25Z,2017-12-14T07:20:24Z,2017-12-14T11:11:55Z,CLOSED,False,2048,1910,177,https://github.com/mpmc,Help refresh (part 1),5,[],https://github.com/tvheadend/tvheadend/pull/1045,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1045#issuecomment-351628844,"Where to start..

This hopefully cleans up the Help somewhat, & should make a nice base to add more information (some I've started)
This took me a long time, I may have made some mistakes, please point them out, don't be afraid :)
Usability: added a new toolbar and button - at the bottom of the Help window - to jump to the top of the doc (using a hidden div)
Some screenshots still need updating
Cleaned up the wizard pages
Tweaked a few properties
I've reordered the TOC a little so it isn't as long
Moved all buttons info to one location - replaced the old button table in all docs (where it made sense) with an include pointing users to the button table's new location
Tables.. tables.. EVERYWHERE. Because, why not?

Opinions, mistakes, anything are welcome!
Phew!",Merged. Your work is really appreciated. Thank you.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1046,2017-12-07T00:24:50Z,2017-12-07T14:11:52Z,2017-12-07T14:27:21Z,CLOSED,False,13,7,5,https://github.com/azlm8t,xmltv/core: Fix several memory leaks/make more const correct. (#4773),2,[],https://github.com/tvheadend/tvheadend/pull/1046,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1046,Fix a few places where there are memory leaks. Valgrind only showed a few minor leaks remaining (<2k of memory leaked) from init methods.,Fix a few places where there are memory leaks. Valgrind only showed a few minor leaks remaining (<2k of memory leaked) from init methods.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1046,2017-12-07T00:24:50Z,2017-12-07T14:11:52Z,2017-12-07T14:27:21Z,CLOSED,False,13,7,5,https://github.com/azlm8t,xmltv/core: Fix several memory leaks/make more const correct. (#4773),2,[],https://github.com/tvheadend/tvheadend/pull/1046,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1046#issuecomment-349977907,Fix a few places where there are memory leaks. Valgrind only showed a few minor leaks remaining (<2k of memory leaked) from init methods.,Thanks so much. This type of the bug-hunting is really very very appreciated. Merged (including parts to release/4.2).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1046,2017-12-07T00:24:50Z,2017-12-07T14:11:52Z,2017-12-07T14:27:21Z,CLOSED,False,13,7,5,https://github.com/azlm8t,xmltv/core: Fix several memory leaks/make more const correct. (#4773),2,[],https://github.com/tvheadend/tvheadend/pull/1046,https://github.com/CvH,3,https://github.com/tvheadend/tvheadend/pull/1046#issuecomment-349978655,Fix a few places where there are memory leaks. Valgrind only showed a few minor leaks remaining (<2k of memory leaked) from init methods.,@perexg https://scan.coverity.com/projects/2114 might be an idea to reactivate/rerun it,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1046,2017-12-07T00:24:50Z,2017-12-07T14:11:52Z,2017-12-07T14:27:21Z,CLOSED,False,13,7,5,https://github.com/azlm8t,xmltv/core: Fix several memory leaks/make more const correct. (#4773),2,[],https://github.com/tvheadend/tvheadend/pull/1046,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1046#issuecomment-349982380,Fix a few places where there are memory leaks. Valgrind only showed a few minor leaks remaining (<2k of memory leaked) from init methods.,@CvH : Their recent compiler has not been working on my system. I'll try again.,True,{'THUMBS_UP': ['https://github.com/CvH']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1047,2017-12-08T19:13:24Z,2017-12-19T11:28:57Z,2017-12-19T11:35:26Z,CLOSED,False,173,5,7,https://github.com/pablozg,Some improvements,1,[],https://github.com/tvheadend/tvheadend/pull/1047,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1047,"I'm a newbie programmer and my programming level is very low, I'm sure that exist a better method to do this features, but I'm using them few days and they are working without issues.
Thanks for you great work with tvheadend.
New features:

Now the autorec name is by default the epg title.
A new button to show / hidde the skipped recordings in the webui.
A new button to add as completed an upcoming recording to avoid record it again.","I'm a newbie programmer and my programming level is very low, I'm sure that exist a better method to do this features, but I'm using them few days and they are working without issues.
Thanks for you great work with tvheadend.
New features:

Now the autorec name is by default the epg title.
A new button to show / hidde the skipped recordings in the webui.
A new button to add as completed an upcoming recording to avoid record it again.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1048,2017-12-09T12:04:20Z,2017-12-10T15:41:20Z,2017-12-10T15:41:20Z,CLOSED,False,38,6,6,https://github.com/azlm8t,dvr: Add autorec for new-only. (#1167).,2,[],https://github.com/tvheadend/tvheadend/pull/1048,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1048,"Previously we had ""all"", ""new/unknown"", and ""repeat"", but
no ability to only record episodes marked as ""new"". So we
rename DVR_AUTOREC_BTYPE_NEW to DVR_AUTOREC_BTYPE_NEW_OR_UNKNOWN
to remain backward compatibility with existing autorec
rules and add new semantics for DVR_AUTOREC_BTYPE_NEW.
This helps with OTA ""scrape new"" where broadcasters mark shows as new,
but all other shows aren't marked as repeat so remain as ""unknown"".
We don't update htsp since it currently does not send the
broadcast type field.
Also alter DVR_AUTOREC_BTYPE_NEW_OR_UNKNOWN since
previously we never checked 'new' but instead checked 'repeat'.
However, SD has a previously-shown for all programmes (even first
showings) which causes us to mark programmes as repeat.
It is difficult to fix the repeat logic without breaking existing
behaviour since in the US a programme can be a premiere but have
a previously-shown of the previous day due to timezone differences
on the coasts. Similarly, programmes can be premiere outside the US
but have a previously shown date from the US or from a different channel.
For that reason we now check 'new' instead of 'repeat'.
Real example: Programme is shown on channel A at 9pm and on A+1 timeshift
channel at 10pm. Both are marked as ""new"" in the paper/OTA tv guide. However,
the programme was actually first shown three years ago on a premium
channel, so it's actually also a repeat since it has been shown before.
So the programme is both a new episode and a repeat episode.
Similarly, one of my tv channel insists Roger Moore Bond films from the
1970s are ""new"" even though most people would consider them a repeat,
but since it's the first time that particular channel has aired it
they use the ""new"" tag.
Issue: #1167.","Previously we had ""all"", ""new/unknown"", and ""repeat"", but
no ability to only record episodes marked as ""new"". So we
rename DVR_AUTOREC_BTYPE_NEW to DVR_AUTOREC_BTYPE_NEW_OR_UNKNOWN
to remain backward compatibility with existing autorec
rules and add new semantics for DVR_AUTOREC_BTYPE_NEW.
This helps with OTA ""scrape new"" where broadcasters mark shows as new,
but all other shows aren't marked as repeat so remain as ""unknown"".
We don't update htsp since it currently does not send the
broadcast type field.
Also alter DVR_AUTOREC_BTYPE_NEW_OR_UNKNOWN since
previously we never checked 'new' but instead checked 'repeat'.
However, SD has a previously-shown for all programmes (even first
showings) which causes us to mark programmes as repeat.
It is difficult to fix the repeat logic without breaking existing
behaviour since in the US a programme can be a premiere but have
a previously-shown of the previous day due to timezone differences
on the coasts. Similarly, programmes can be premiere outside the US
but have a previously shown date from the US or from a different channel.
For that reason we now check 'new' instead of 'repeat'.
Real example: Programme is shown on channel A at 9pm and on A+1 timeshift
channel at 10pm. Both are marked as ""new"" in the paper/OTA tv guide. However,
the programme was actually first shown three years ago on a premium
channel, so it's actually also a repeat since it has been shown before.
So the programme is both a new episode and a repeat episode.
Similarly, one of my tv channel insists Roger Moore Bond films from the
1970s are ""new"" even though most people would consider them a repeat,
but since it's the first time that particular channel has aired it
they use the ""new"" tag.
Issue: #1167.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1048,2017-12-09T12:04:20Z,2017-12-10T15:41:20Z,2017-12-10T15:41:20Z,CLOSED,False,38,6,6,https://github.com/azlm8t,dvr: Add autorec for new-only. (#1167).,2,[],https://github.com/tvheadend/tvheadend/pull/1048,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1048#issuecomment-350556892,"Previously we had ""all"", ""new/unknown"", and ""repeat"", but
no ability to only record episodes marked as ""new"". So we
rename DVR_AUTOREC_BTYPE_NEW to DVR_AUTOREC_BTYPE_NEW_OR_UNKNOWN
to remain backward compatibility with existing autorec
rules and add new semantics for DVR_AUTOREC_BTYPE_NEW.
This helps with OTA ""scrape new"" where broadcasters mark shows as new,
but all other shows aren't marked as repeat so remain as ""unknown"".
We don't update htsp since it currently does not send the
broadcast type field.
Also alter DVR_AUTOREC_BTYPE_NEW_OR_UNKNOWN since
previously we never checked 'new' but instead checked 'repeat'.
However, SD has a previously-shown for all programmes (even first
showings) which causes us to mark programmes as repeat.
It is difficult to fix the repeat logic without breaking existing
behaviour since in the US a programme can be a premiere but have
a previously-shown of the previous day due to timezone differences
on the coasts. Similarly, programmes can be premiere outside the US
but have a previously shown date from the US or from a different channel.
For that reason we now check 'new' instead of 'repeat'.
Real example: Programme is shown on channel A at 9pm and on A+1 timeshift
channel at 10pm. Both are marked as ""new"" in the paper/OTA tv guide. However,
the programme was actually first shown three years ago on a premium
channel, so it's actually also a repeat since it has been shown before.
So the programme is both a new episode and a repeat episode.
Similarly, one of my tv channel insists Roger Moore Bond films from the
1970s are ""new"" even though most people would consider them a repeat,
but since it's the first time that particular channel has aired it
they use the ""new"" tag.
Issue: #1167.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/perexg,1,https://github.com/tvheadend/tvheadend/pull/1049,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.","This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/mpmc,2,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-350500604,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.",Just thought you might be interested in the codacy results.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/herrnst,3,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-350553203,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.","@perexg This currently breaks at least the recently added DDCI functionality, in that my CAM doesn't get properly initialised (WebGUI/DVB config/adapterXcaY stays at ""module init""), crashes (SIGABRT) right at the point where the EPG grabber starts, or finally crashes when switching to a scrambled service, also once I experienced a deadlock on TVH shutdown.
I've collected the usual gdb/backtrace stuff at https://pastebin.com/q4rY3bRp and https://pastebin.com/xzUeM5Wu
Feel free to ping me if you need further testing.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-350554318,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.","@herrnst : Fixed. If you have any issues with your CAM, show me the ""--trace en50221,dvbcam,ddci"" .",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/herrnst,5,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-350556262,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.","Still crashing, still at the same place (ddci line 628). Built directly from your fork and ci branch.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-350556938,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.",@herrnst : Another try. The assert is just wrong.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/herrnst,7,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-350558725,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.","That fixed the crash.
The DDCI-driven CAM works now until I switch to a channel which there's no subscription on the inserted card though, means: I can open scrambled channels which I have a subscription for, switch between them, even switch to unencrypted channels and back to encrypted ones. Though when I hit one the card doesn't yield CSA keys for, the whole CAM support stops working until I restart TVH (switching the CAM off an on in the configuration doesn't help).
I notice stuff like this being printed to the tvhlog all the time:
2017-12-10 17:03:31.000 [  TRACE]:en50221: dvbca8: read
2017-12-10 17:03:31.000 [  TRACE]:en50221: 00 01 80 02 01 00                               ......          
2017-12-10 17:03:31.000 [  TRACE]:en50221: dvbca8: write
2017-12-10 17:03:31.000 [  TRACE]:en50221: 00 01 A0 01 01                                  .....           
2017-12-10 17:03:31.104 [  TRACE]:en50221: dvbca8: read
2017-12-10 17:03:31.104 [  TRACE]:en50221: 00 01 80 02 01 00                               ......          
2017-12-10 17:03:31.104 [  TRACE]:en50221: dvbca8: write
2017-12-10 17:03:31.104 [  TRACE]:en50221: 00 01 A0 01 01                                  .....           

This stops the very moment the CAM sends the MMI with the ""not subscribed"" message, and also channels won't clear anymore after that:
2017-12-10 17:04:39.640 [  TRACE]:en50221: dvbca8: read
2017-12-10 17:04:39.640 [  TRACE]:en50221: 00 01 80 02 01 00                               ......          
2017-12-10 17:04:39.640 [  TRACE]:en50221: dvbca8: write
2017-12-10 17:04:39.640 [  TRACE]:en50221: 00 01 A0 01 01                                  .....           
2017-12-10 17:04:39.744 [  TRACE]:en50221: dvbca8: read
2017-12-10 17:04:39.744 [  TRACE]:en50221: 00 01 80 02 01 80                               ......          
2017-12-10 17:04:39.744 [  TRACE]:en50221: dvbca8: write
2017-12-10 17:04:39.744 [  TRACE]:en50221: 00 01 81 01 01                                  .....           
2017-12-10 17:04:39.848 [  TRACE]:en50221: dvbca8: read
2017-12-10 17:04:39.848 [  TRACE]:en50221: 00 01 A0 82 00 0B 01 90 02 00 05 9F 88 01 02 01 ................
2017-12-10 17:04:39.848 [  TRACE]:en50221: 01 80 02 01 00                                  .....           
2017-12-10 17:04:39.848 [  TRACE]:en50221: dvbca8-slot0-app00400041/0005: display control
2017-12-10 17:04:39.848 [  TRACE]:en50221: dvbca8-slot0-app00400041/0005: display control sending reply
2017-12-10 17:04:39.848 [  TRACE]:en50221: dvbca8: write
2017-12-10 17:04:39.848 [  TRACE]:en50221: 00 01 A0 0B 01 90 02 00 05 9F 88 02 02 01 01    ............... 
2017-12-10 17:04:39.952 [  TRACE]:en50221: dvbca8: read
2017-12-10 17:04:39.952 [  TRACE]:en50221: 00 01 80 02 01 00                               ......          
2017-12-10 17:04:39.952 [  TRACE]:en50221: dvbca8: write
2017-12-10 17:04:39.952 [  TRACE]:en50221: 00 01 A0 01 01                                  .....           
2017-12-10 17:04:40.020 [   INFO]:mpegts: 354MHz in Unitymedia NRW - tuning on ST STV0367 DDB DVB-C/T : DVB-C #0
2017-12-10 17:04:40.020 [   INFO]:subscription: 00C5: ""epggrab"" subscribing to mux ""354MHz"", weight: 4, adapter: ""ST STV0367 DDB DVB-C/T : DVB-C #0"", network: ""Unitymedia NRW"", service: ""Raw PID Subscription""
2017-12-10 17:04:40.056 [  TRACE]:en50221: dvbca8: read
2017-12-10 17:04:40.056 [  TRACE]:en50221: 00 01 80 02 01 80                               ......          
2017-12-10 17:04:40.056 [  TRACE]:en50221: dvbca8: write
2017-12-10 17:04:40.056 [  TRACE]:en50221: 00 01 81 01 01                                  .....           
2017-12-10 17:04:40.160 [  TRACE]:en50221: dvbca8: read
2017-12-10 17:04:40.160 [  TRACE]:en50221: 00 01 A0 82 00 74 01 90 02 00 05 9F 88 0C 6B 02 .....t........k.
2017-12-10 17:04:40.160 [  TRACE]:en50221: 9F 88 03 0B 97 41 6C 70 68 61 43 72 79 70 74 9F .....AlphaCrypt.
2017-12-10 17:04:40.160 [  TRACE]:en50221: 88 03 01 20 9F 88 03 10 05 44 72 FC 63 6B 65 6E ... .....Dr.cken
2017-12-10 17:04:40.160 [  TRACE]:en50221: 20 53 69 65 20 4F 4B 20 9F 88 03 1C 53 69 65 20  Sie OK ....Sie 
2017-12-10 17:04:40.160 [  TRACE]:en50221: 68 61 62 65 6E 20 6B 65 69 6E 65 20 42 65 72 65 haben keine Bere
2017-12-10 17:04:40.160 [  TRACE]:en50221: 63 68 74 69 67 75 6E 67 9F 88 03 1E 64 69 65 73 chtigung....dies
2017-12-10 17:04:40.160 [  TRACE]:en50221: 65 73 20 50 72 6F 67 72 61 6D 6D 20 7A 75 20 65 es Programm zu e
2017-12-10 17:04:40.160 [  TRACE]:en50221: 6D 70 66 61 6E 67 65 6E 20 21 80 02 01 00       mpfangen !....  
2017-12-10 17:04:40.160 [  TRACE]:en50221: dvbca8-slot0-app00400041/0005: list last
2017-12-10 17:04:40.160 [  TRACE]:en50221: dvbca8-slot0-app00400041/0005:  title 'AlphaCrypt'
2017-12-10 17:04:40.160 [  ERROR]:en50221: dvbca8-slot0-app00400041/0005: unexpected getmenutext tag 020100
2017-12-10 17:04:40.160 [  TRACE]:en50221: A0 82 00 74 01 90 02 00 05 9F 88 0C 6B 02 9F 88 ...t........k...
2017-12-10 17:04:40.160 [  TRACE]:en50221: 03 0B 97 41 6C 70 68 61 43 72 79 70 74 9F 88 03 ...AlphaCrypt...
2017-12-10 17:04:40.160 [  TRACE]:en50221: 01 20 9F 88 03 10 05 44 72 FC 63 6B 65 6E 20 53 . .....Dr.cken S
2017-12-10 17:04:40.160 [  TRACE]:en50221: 69 65 20 4F 4B 20 9F 88 03 1C 53 69 65 20 68 61 ie OK ....Sie ha
2017-12-10 17:04:40.160 [  TRACE]:en50221: 62 65 6E 20 6B 65 69 6E 65 20 42 65 72 65 63 68 ben keine Berech
2017-12-10 17:04:40.160 [  TRACE]:en50221: 74 69 67 75 6E 67 9F 88 03 1E 64 69 65 73 65 73 tigung....dieses
2017-12-10 17:04:40.160 [  TRACE]:en50221: 20 50 72 6F 67 72 61 6D 6D 20 7A 75 20 65 6D 70  Programm zu emp
2017-12-10 17:04:40.160 [  TRACE]:en50221: 66 61 6E 67 65 6E 20 21 80 02 01 00             fangen !....    
2017-12-10 17:04:40.160 [  TRACE]:en50221: dvbca8: transport read failed (-6)

Note the ""transport read failed -6"".",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/perexg,8,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-350566460,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.","I notice stuff like this being printed to the tvhlog all the time:

It's ok. It's the funny part of EN50221 protocol - CAM sends 'I have no data' and host sends 'I have no data' :)
Please, retry.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/herrnst,9,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-350568567,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.","Ok, sort of looks like some kind of keepalive to me ;)
Your last change fixes the ""break on MMI"" problem (for me), ie. that ""keepalive"" stuff keeps going when the MMI is sent, and switching to a service with a valid subscription works afterwards - guess that's a good sign :)
Besides that, I noticed two issues with the new en50221 code:
1.) On every second TVH restart (most notably when the CAM was descrambling a channel when TVH was stopped), the CAM doesn't initialise and WebUI stays at ""module init"". Off/on of the DVB input doesn't fix this, a restart is required (that works reliably in master). TVH logs this for adapter8 and the CAM on start:
2017-12-10 19:21:59.612 [  TRACE]:ddci: checking for DDCI /dev/dvb/adapter8/ci0
2017-12-10 19:21:59.612 [  TRACE]:ddci: checking for DDCI /dev/dvb/adapter8/sec0
2017-12-10 19:21:59.612 [   INFO]:ddci: DDCI found /dev/dvb/adapter8/sec0
2017-12-10 19:21:59.612 [   INFO]:linuxdvb: adapter added /dev/dvb/adapter8
2017-12-10 19:21:59.612 [  TRACE]:ddci: created ci8 /dev/dvb/adapter8/sec0
2017-12-10 19:21:59.612 [  TRACE]:en50221: ca thread start
2017-12-10 19:21:59.612 [  TRACE]:en50221: dvbca8: opening /dev/dvb/adapter8/ca0 (fd 25)
2017-12-10 19:21:59.612 [ NOTICE]:linuxdvb: dvbca0-0: CAM slot 0 status changed to module present
2017-12-10 19:21:59.612 [  TRACE]:ddci: opening ci8 /dev/dvb/adapter8/sec0 for write (fd 26)
2017-12-10 19:21:59.612 [  TRACE]:ddci: opening ci8 /dev/dvb/adapter8/sec0 for read (fd 27)
2017-12-10 19:21:59.612 [  TRACE]:ddci: CAM ci8 write thread started
2017-12-10 19:21:59.613 [  TRACE]:ddci: CAM ci8 read thread started
2017-12-10 19:21:59.613 [  TRACE]:ddci: CAM ci8 opened
2017-12-10 19:22:00.364 [  TRACE]:en50221: dvbca8: read
2017-12-10 19:22:00.364 [  TRACE]:en50221: 00 01 80 02 01 00                               ......          
2017-12-10 19:22:00.364 [  ERROR]:en50221: dvbca8: received sb but slot is not ready
2017-12-10 19:22:00.364 [  TRACE]:en50221: 80 02 01 00                                     ....            
2017-12-10 19:22:00.364 [  TRACE]:en50221: dvbca8: transport read failed (-6)
2017-12-10 19:22:00.364 [ NOTICE]:linuxdvb: dvbca0-0: CAM slot 0 status changed to module init
2017-12-10 19:22:00.364 [  TRACE]:en50221: dvbca8: write
2017-12-10 19:22:00.364 [  TRACE]:en50221: 00 01 82 01 01                                  .....           
2017-12-10 19:22:00.448 [  TRACE]:en50221: dvbca8: read
2017-12-10 19:22:00.448 [  TRACE]:en50221: 00 01 83 01 01 80 02 01 00                      .........       
2017-12-10 19:22:00.448 [  TRACE]:en50221: dvbca8: transport read failed (-6)

On restart, this is all that is printed:
2017-12-10 19:29:59.605 [  TRACE]:en50221: ca thread end
2017-12-10 19:30:10.342 [  TRACE]:en50221: ca thread start

2.) When switching between two (or more) services for which no valid subscription is present on the card, the ""you're not subscribed"" MMI is only printed once to the log (for the first service), but isn't for all other services. Switching to a FTA channel and back to a non-subscribed channel doesn't yield the MMI aswell. Only when the CAM started to actually descramble again, the MMI will show up again on a non-subscribed channel (but only for the first one again though).
This doesn't matter that much at the moment, but with things like http://tvheadend.org/issues/4736 in mind, it might be neccessary, and, well, it's working as expected on master :-)
EDIT: Oh, also one nitpick/cosmetic: The ca0 node in the DVB input device tree used to show the actual module name before (ie ""ca0: AlphaCrypt (module ready)"" in my case), that's currently missing.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/perexg,10,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-351068313,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.",@herrnst : Could you retry? I tried to addres all mentioned issues.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/herrnst,11,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-351118520,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.","@perexg Just did some quick testing, for all three mentioned things: check - fixed.
Three things I noticed:
1.) On TVH startup, the en50221 read/write keepalive (""I have no data""-thing) scrolls through in a 100ms interval. When toggling the CAM in Config/DVB Inputs/ca0-0/Enabled, it then pings at 250ms. Not sure if this is something that needs to be taken care of.
2.) After toggling, things very likely stop working though. WebUI says ""module ready"", log says
2017-12-12 18:03:34.952 [  TRACE]:en50221: ca thread start
2017-12-12 18:03:34.952 [  TRACE]:en50221: dvbca8: read
2017-12-12 18:03:34.952 [  TRACE]:en50221: 00 01 80 02 01 00                               ......
2017-12-12 18:03:34.952 [WARNING]:en50221: dvbca8: received sb but slot is not ready
2017-12-12 18:03:35.453 [  TRACE]:en50221: dvbca8: write
2017-12-12 18:03:35.453 [  TRACE]:en50221: 00 01 82 01 01                                  .....
2017-12-12 18:03:35.703 [  TRACE]:en50221: dvbca8: read
2017-12-12 18:03:35.703 [  TRACE]:en50221: 00 01 83 01 01 80 02 01 00                      .........
2017-12-12 18:03:35.703 [  TRACE]:en50221: dvbca8: write
2017-12-12 18:03:35.703 [  TRACE]:en50221: 00 01 A0 01 01                                  .....

and Kodi just says ""encrypted channel"" when switching to a scrambled (subscribed) channel. Nothing fancy is being logged though, but the keepalive still goes on. I suspect the DDCI stuff is being unassigned but not reassigned on enable.
3.) Just an annoyance and not really related to the en50221 refactor (that was there before also): In the WebUI, toggling the CA device requires browser reloads between each step: Browse to CA device, (un)tick ""Enabled"", click save. Trying to (un)tick again won't work then, clicking on save does nothing. After reloading the webpage, it works ""once"" again.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/perexg,12,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-351439492,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.","@herrnst : I tried to fix the last issues. Please, retest.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/herrnst,13,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-351463182,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.","@perexg Quick test again: check - fixed on everything. WebUI enable/disable works permanently and as often as desired now (tried like 10 times in a row), ping restarts at 100ms and CAM descrambling works aswell afterwards.
Not sure why this en50221 rewrite is neccessary but good work anyway :)
As this is only a test system and I only did some quick testing, is there anything special you need some testing for?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/perexg,14,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-351629245,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.",Merged. The reason for the own code is that liben50221 from dvb-apps is a bit unmaintaned and it uses really complex API which makes the future maintenance more difficult. https://tvheadend.org/issues/4738,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/herrnst,15,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-351631689,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.","Understood.
As mentioned, if at any time you need any testing (esp. wrt DDCI, but not limited to ofc), feel free to ping me.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1049,2017-12-09T12:14:30Z,2017-12-14T07:22:47Z,2017-12-14T07:47:05Z,CLOSED,False,3349,930,26,https://github.com/perexg,en50221: add own library (CAM CI),15,[],https://github.com/tvheadend/tvheadend/pull/1049,https://github.com/perexg,16,https://github.com/tvheadend/tvheadend/pull/1049#issuecomment-351633424,"This change contains EN50221 code which removes the dependancy on dvb-apps (and liben50221 from this package).
All linuxdvb CAM CI I/O is handled in one thread for all linuxdvb CA devices. The communication is slow, thus there's no performance impact.
This PR was created for the public testing.",Your testing is really appreciated from me. Thanks for all and your offer.,True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1050,2017-12-09T12:21:13Z,2017-12-10T15:40:59Z,2017-12-10T15:40:59Z,CLOSED,False,148,0,6,https://github.com/azlm8t,ui: Allow filtering by categories (#4777),2,[],https://github.com/tvheadend/tvheadend/pull/1050,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1050,"If the server has parsed xmltv categories then we create a second toolbar below the existing one to add category filters and pass them to the  rule.
We use a second toolbar since the primary toolbar is too cramped to add additional filters.
Also fix a small memory leak on the api filter and fix bug where an autorec with a category would match OTA programmes without categories.","If the server has parsed xmltv categories then we create a second toolbar below the existing one to add category filters and pass them to the  rule.
We use a second toolbar since the primary toolbar is too cramped to add additional filters.
Also fix a small memory leak on the api filter and fix bug where an autorec with a category would match OTA programmes without categories.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1050,2017-12-09T12:21:13Z,2017-12-10T15:40:59Z,2017-12-10T15:40:59Z,CLOSED,False,148,0,6,https://github.com/azlm8t,ui: Allow filtering by categories (#4777),2,[],https://github.com/tvheadend/tvheadend/pull/1050,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1050#issuecomment-350467243,"If the server has parsed xmltv categories then we create a second toolbar below the existing one to add category filters and pass them to the  rule.
We use a second toolbar since the primary toolbar is too cramped to add additional filters.
Also fix a small memory leak on the api filter and fix bug where an autorec with a category would match OTA programmes without categories.",Moved the free in to epg_query to be consistent and force-pushed to remove the incorrect free() patch.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1050,2017-12-09T12:21:13Z,2017-12-10T15:40:59Z,2017-12-10T15:40:59Z,CLOSED,False,148,0,6,https://github.com/azlm8t,ui: Allow filtering by categories (#4777),2,[],https://github.com/tvheadend/tvheadend/pull/1050,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1050#issuecomment-350556876,"If the server has parsed xmltv categories then we create a second toolbar below the existing one to add category filters and pass them to the  rule.
We use a second toolbar since the primary toolbar is too cramped to add additional filters.
Also fix a small memory leak on the api filter and fix bug where an autorec with a category would match OTA programmes without categories.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1051,2017-12-09T12:27:03Z,2017-12-09T13:32:17Z,2017-12-09T13:32:17Z,CLOSED,False,4,0,1,https://github.com/azlm8t,api: 4.2: Fix small memory leak on filter. (#4773).,1,[],https://github.com/tvheadend/tvheadend/pull/1051,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1051,"This is backport from same fix in #1050 since I believe 4.2 would have the same problems based on a look of its code. (Not tested on 4.2, but tested on 4.3).","This is backport from same fix in #1050 since I believe 4.2 would have the same problems based on a look of its code. (Not tested on 4.2, but tested on 4.3).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1052,2017-12-09T17:30:31Z,2017-12-10T15:04:25Z,2017-12-10T15:04:25Z,CLOSED,False,2,2,2,https://github.com/azlm8t,codacy: Fix couple of problems identified by codacy. (#4773).,1,[],https://github.com/tvheadend/tvheadend/pull/1052,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1052,"Fixed two issues identified by codacy in issue 4773.

buffer overrun in memcpy (I believe 3 is correct value since buf is already memset 0);
redundant condition in xmltv.c.

Codacy also spotted a local variable returned at src/htsp_server.c:3385. I thought of making it static, but then it doesn't look like it's actually returned since it's nulled at 3471. But since it's added to a LIST_INSERT_HEAD at 3400 (but then removed soon later) and used in another thread, I think this variable should be malloc'd but haven't worked it out to be sure, so I've not made any changes to it.","Fixed two issues identified by codacy in issue 4773.

buffer overrun in memcpy (I believe 3 is correct value since buf is already memset 0);
redundant condition in xmltv.c.

Codacy also spotted a local variable returned at src/htsp_server.c:3385. I thought of making it static, but then it doesn't look like it's actually returned since it's nulled at 3471. But since it's added to a LIST_INSERT_HEAD at 3400 (but then removed soon later) and used in another thread, I think this variable should be malloc'd but haven't worked it out to be sure, so I've not made any changes to it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1052,2017-12-09T17:30:31Z,2017-12-10T15:04:25Z,2017-12-10T15:04:25Z,CLOSED,False,2,2,2,https://github.com/azlm8t,codacy: Fix couple of problems identified by codacy. (#4773).,1,[],https://github.com/tvheadend/tvheadend/pull/1052,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1052#issuecomment-350554457,"Fixed two issues identified by codacy in issue 4773.

buffer overrun in memcpy (I believe 3 is correct value since buf is already memset 0);
redundant condition in xmltv.c.

Codacy also spotted a local variable returned at src/htsp_server.c:3385. I thought of making it static, but then it doesn't look like it's actually returned since it's nulled at 3471. But since it's added to a LIST_INSERT_HEAD at 3400 (but then removed soon later) and used in another thread, I think this variable should be malloc'd but haven't worked it out to be sure, so I've not made any changes to it.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1053,2017-12-12T22:58:12Z,2017-12-13T17:02:23Z,2017-12-13T17:02:23Z,CLOSED,False,7,9,1,https://github.com/banburybill,eit: Allow empty match subexpressions (#4787),1,[],https://github.com/tvheadend/tvheadend/pull/1053,https://github.com/banburybill,1,https://github.com/tvheadend/tvheadend/pull/1053,"If a scrape regex includes a subexpression matching the null string (),
this match is treated as if the regex did not match.
Amend this to return an empty string as the match; this is plainly what
the regex author wanted.
As an example of why this might be wanted, consider the UK Freeview
extraction of a subtitle from the summary. A user might wish to specify
the subtitle is left blank if no obvious  subtitle is present in the
summary.
Issue: #4787.","If a scrape regex includes a subexpression matching the null string (),
this match is treated as if the regex did not match.
Amend this to return an empty string as the match; this is plainly what
the regex author wanted.
As an example of why this might be wanted, consider the UK Freeview
extraction of a subtitle from the summary. A user might wish to specify
the subtitle is left blank if no obvious  subtitle is present in the
summary.
Issue: #4787.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1053,2017-12-12T22:58:12Z,2017-12-13T17:02:23Z,2017-12-13T17:02:23Z,CLOSED,False,7,9,1,https://github.com/banburybill,eit: Allow empty match subexpressions (#4787),1,[],https://github.com/tvheadend/tvheadend/pull/1053,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1053#issuecomment-351455104,"If a scrape regex includes a subexpression matching the null string (),
this match is treated as if the regex did not match.
Amend this to return an empty string as the match; this is plainly what
the regex author wanted.
As an example of why this might be wanted, consider the UK Freeview
extraction of a subtitle from the summary. A user might wish to specify
the subtitle is left blank if no obvious  subtitle is present in the
summary.
Issue: #4787.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1054,2017-12-13T22:00:37Z,2017-12-14T07:17:32Z,2017-12-14T07:17:32Z,CLOSED,False,53,16,4,https://github.com/banburybill,eit: Add optional 2nd match subexpression for subtitle (#4791),2,[],https://github.com/tvheadend/tvheadend/pull/1054,https://github.com/banburybill,1,https://github.com/tvheadend/tvheadend/pull/1054,"If the regex for the subtitle contains a second subexpression, and a match is made, use the first subexpression for the subtitle and replace the summary with the second subexpression.
For example, a UK Freeview subtitle regex might choose, when matching a summary 'Subtitle: Text', to set the subtitle to 'Subtitle' and set the summary to 'Text' to avoid repetition of the subtitle.","If the regex for the subtitle contains a second subexpression, and a match is made, use the first subexpression for the subtitle and replace the summary with the second subexpression.
For example, a UK Freeview subtitle regex might choose, when matching a summary 'Subtitle: Text', to set the subtitle to 'Subtitle' and set the summary to 'Text' to avoid repetition of the subtitle.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1054,2017-12-13T22:00:37Z,2017-12-14T07:17:32Z,2017-12-14T07:17:32Z,CLOSED,False,53,16,4,https://github.com/banburybill,eit: Add optional 2nd match subexpression for subtitle (#4791),2,[],https://github.com/tvheadend/tvheadend/pull/1054,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1054#issuecomment-351628364,"If the regex for the subtitle contains a second subexpression, and a match is made, use the first subexpression for the subtitle and replace the summary with the second subexpression.
For example, a UK Freeview subtitle regex might choose, when matching a summary 'Subtitle: Text', to set the subtitle to 'Subtitle' and set the summary to 'Text' to avoid repetition of the subtitle.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/banburybill,1,https://github.com/tvheadend/tvheadend/pull/1055,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-351782759,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.",Could you add some docs about that usage ? If you don't follow github you have probably no idea that this works at all so this might end as feature that nobody use because nobody knows about it ;),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/banburybill,3,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352020670,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","Yes, good point. As far as I can see, how scraper regexes are used isn't really documented anywhere at present. I guess that data/conf/epggrab/eit/scrape/README should contain something more, apart from how to test the regexes, and perhaps there should be a wiki page too.
(Although I've been using TVH for a long time, I'm new to TVH hacking, so I may have missed some docs.)",True,{'THUMBS_UP': ['https://github.com/CvH']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352031504,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","Most of the documentation is minimal but currently resides in the READMEs and in the PR/bug report such as 4577 and 4287. The files are ""system"" files rather than ""user"" configuration files, so mostly edited by developers, though we have had a few contributions.
My one concern with using pcre is that currently it is not a requirement of Tvheadend. It is currently optional. So, a user can use pcre in EPG autorecs since they write them on their system (and not shipped with Tvheadend), but configuration files, such as scraper files, ship without currently requiring pcre. Also I believe Python's re (used in the test harness) isn't fully pcre compatible, though that's probably a minor problem since I doubt the scraper regex used will exercise the obscure cases.
So shipping scraper configuration that only works if you have pcre would be change in dependencies and would mean those scraper configurations will not work on non-pcre systems.
As developers, all of our systems have pcre, but I have seen bug reports of people trying to run it on obscure limited platforms such as their router. Whether we should restrict improvements due to potential edge case hardware is someone else's judgement call.
Unless anyone knows for sure that there are platforms that don't support pcre or that all platforms do support pcre, perhaps we should just make pcre a configuration requirement for a few weeks before merging and see if anyone raises a bug saying we broke their build.
However, I note that the existing opentv scraper does things differently and has ""cleanup_title"" regex to extract the required title and doesn't require pcre.
I think the overall intention of this PR is to try and tidy-up UK Freeview/Freesat titles/summary. Having looked at Mythtv's tidy functions in the past, I believe that it's something that can't be done by regex operating on separate fields alone due to, for example, sub-titles being split between title and summary, with lots of edge cases (such as ""Agents of S.H.I.E.L.D."" causing problems) However I see nothing wrong with getting common case tidy-ups working to make things better.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/banburybill,5,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352038688,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","You're quite right - I'm attempting to scratch an itch with UK Freeview titles/summary. I also agree that regex on single fields, or indeed any regex processing, is always going to have failing edge cases.
And yes, the Python re used in the test harness is not PCRE, and has differences to PCRE, though it's a lot closer to PCRE than Posix.
I'm not intending (myself) to alter the supplied uk regexes; in no small measure, these are a matter of personal taste. However, since I'm using the Debian packages, and those are built with PCRE, and PCRE is used in the autorec regex, and PCRE would make what I'm trying to do a bit easier, I'd like to use it. However, I do also get the longer-term danger of someone accidentally updating those patterns to something that doesn't work with Posix.
And yes, I have been thinking of adding title cleanup too, but I've not figured out yet what/how. :-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352058915,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","Ok, we have just two threads (one in bug tracker - https://tvheadend.org/issues/4795 - and one here, let continue here).
To follow my objection: Perhaps, we can specify the syntax in the top-level of json config like:
{
  ""posix"": {
     ""season_num"": [],
     ""airdate"": []
  },
  ""pcre"": {
     ""season_num"": [],
     ""airdate: []
  }
}

If ""pcre"" rule does not exist the ""posix"" should be used as the fallback. I don't know the exact differences between the former pcre and newer pcre2 API, but it seems that mostly it's just about C API cleanups.
For python, I believe there's also pcre bindings to make serious tests.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/azlm8t,7,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352081873,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","I don't use OTA EIT so the changes won't affect me.
But, I still don't really understand the benefit other than being initially a bit easier to write the regex. For the example regex in the bug report, isn't there already regex extractors in the UK scraper and test harness which extract those subtitles. Granted, it requires two separate regex and not one extended regex, but it currently works as-is and is portable across all systems.
The (UK) eit copies the exact same text in to sub-title and summary, and it appears to have existed since the sub-title field was created.
I'd have preferred to edit eit.c to just copy the text to the summary and then extract a sub-title if possible.
This would then be usable by everyone, not just people who can edit regex in system config files, or create personal files that they forget about and become out-of-date.
Then, add an array of regex to tidy the summary where each entry is run in turn with the results passed to the next entry.
So, you'd start with ""subtitle: Summary here [HD,S]"" and the first regex would strip the colon to leave ""Summary here [HD,S]"", and the second would strip the suffix to leave ""Summary here"". If a regex didn't match then we'd supply the previous matched string for the next regex match.
Most people can't understand regex and I really believe we should ship something where it just works, or requires a tickbox if there are alternative approaches or it affects pre-existing recording rules. I'm not convinced that tidying up EIT is personal taste: I think most people would like the HD extracted and scraped in to the is_hd flag, and the S in to is_subtitled.
But my only current interest in OTA EIT is Bulgarian genres so I don't mind either way.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/banburybill,8,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352180373,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","I've been doing some more thinking on this.
I must admit that I don't quite get the concern over regex engine; at least, why this exists when the existing code already (for some uses) varies the library in use. However...
You're quite right that editing regex is a minority sport, and something sensible should happen out of the box. I also seen where you are going with the idea of successive regex performing edits, and I like the ability that gives. And when I talked about personal taste, I was simply thinking of why I started; text repeated in the subtitle and summary bothers me, but is not an issue for others. Of course there are items such as HD and Subtitle flags that should always be extracted. Right now I'm actually reasonably happy with the rules I'm using on my production system, which are all Posix-compliant:
""scrape_subtitle"": [
""^([.]{2,3}[^:.])[.:] +(.)"",
""^[0-9]+/[0-9]+[.]? +([^.?!:]+[!?]?): +(.)"",
""^[0-9]+/[0-9]+[.]? +([A-Z][^.?!]{4,70}[.?!]) +(.)"",
""^[0-9]+/[0-9]+[.]? +()"",
""^New[.:] +([^.?!:]+[!?]?): +(.)"",
""^New[.:] +([A-Z][^.?!]{4,70}[.?!]) +(.)"",
""^New[.:] +()"",
""^([^.?!:]+[!?]?): +(.)"",
""^([A-Z][^.?!]{4,70}[.?!]) +(.)"",
""()""
],
It's true that the existing uses I've given, and indeed the uses I had in mind when doing the work, was just to make writing the regexes easier, and in particular avoiding the combinatorial explosion in regexs required on every alternate selection because Posix doesn't have non-capturing groups, hence all the repetition in the above.
But there are cases where things I'd like to do which simply cannot, I think, be done with Posix regex. For example, the UK pattern currently extracts as a subtitle anything ending in a : using the pattern ""([^:]*):"". But this goes wrong if the summary happens to contain a : in a sentence past anything that might be a subtitle, so I'm restricting subtitle extraction to text where : occurs before the end of a sentence using ""([^.?!:]+[!?]?):"". This fails on the corner cases where . is use in a context where it doesn't end a sentence, so (as mentioned) 'Agents of S.H.I.E.L.D.' or 'The work of Dr. Phil Academic'. I could guard against these using a regex lookahead or lookbehind, e.g. ""(?<!([.].|Dr)[.]"",  but these aren't available in Posix.
I have also been thinking about how to edit the title to include text from subtitle or summary. It's common in UK EIT to have a title which I guess is too long for older devices and continue it in the summary, e.g.
Scottish Parliament - Portfolio...
...Questions.
So, I have a suggestion. How about a scheme like this? First, we keep the existing scraper regexes, but ensure that they are always executed using a Posix engine.
Second, we have a set of new regex (""capture_title/subtitle/summary"") which are only executed if a PCRE engine is available, but if it's available and capture patterns are specified they are executed instead of the Posix ones. capture_title is given EIT title/subtitle/summary all concatenated with a space separating them, capture_subtitle gets EIT subtitle and summary. The result is all group captures concatenated (assuming the pattern matches). This lets me pick out bits from the inputs; to take your example, I can omit [HD,S] with a non-collecting group.
I can also add Posix scrapers for subtitle, AD, HD, widescreen which don't currently exist, but that's for a different PR.
It would then be possible to ship rules which are more or less capable and will work automatically depending on the regex libraries available.
Would you like that any better that the current proposal?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/perexg,9,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352199115,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","My opinion is that if we can specify the regex type in the json config file to make sure that the regex works as intended, any solution is acceptable to me.
On a side note: The regexes might slow the input processing, so I'm working to move parsing of OTA EPG data (EIT, opentv) to one thread which can drop the received data if the queue is too big.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/banburybill,10,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352206139,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","Possibly the way to proceed right now would be to redo this PR to use regex engine specific regexes if specified. So the JSON would specify:
{
   ""scrape_subtitle"": [...],
   ""pcre"" {
      ""scrape_subtitle"": [...]
    }
}

The base regexes will always be executed by the Posix engine. Iff PCRE is available, AND a PCRE regex is specified, that regex is used instead.
I can then play with other ideas above separately.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/perexg,11,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352207004,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","Looks good to me. But I found another major issue with the config files when I'm trying to move things outside global lock - they don't take care about the language. Actually, I believe that the general rules should handle multiple languages. The current situation where the user can choose the file with regexes is mostly fine, but it does not work correctly in the multi-language environment. I know guys, you probably don't care for your usage, but the project is aimed to be a general solution.
So, ideally, we should make rules as:
{
  ""eng"": {
     {
        ""scrape_subtitle"": [...],
        ""pcre"" {
           ""scrape_subtitle"": [...]
        }
     }
  },
  ""cze"": {
    .....
  }
}

The language names are in src/lang_codes.c .
The eit_pattern_list functions should be extended to pass the language string.
On the other side, we may probably specify a list of languages which will be ""scraped"" and/or filtered in the grabber configuration to save the computing time.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/banburybill,12,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352207612,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","That seems a reasonable point, but perhaps a bit much to shovel into one PR. If I carry on, and add a regex selection hierarchy based on regex engine, I think that adding a further selection layer based on language would make a good followup PR.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/perexg,13,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352207789,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","I agree that the language should be handled in a separate update.
My EIT rework (untested!): https://github.com/perexg/tvheadend/commits/epg . It should not clash with your changes much, but actually, my code applies scraping to all languages, because we don't have proper config data yet.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/banburybill,14,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352208164,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","Thanks for the warning. Assuming yours are near ready to push, I'll carry on but not update this PR until your have appeared and I've merged them.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/banburybill,15,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352296177,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","This PR now selects regexes from a ""pcre"" or ""pcre2"" hierarchy as appropriate or available as outlined above - changes pushed so I don't lose them. I'll wait for the other EIT changes and merge them.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/perexg,16,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352360694,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.",I pushed my changes to master.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/banburybill,17,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352370895,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","OK, merged and pushed. So, to repeat, EIT scraper regexes are by default POSIX and executed by the POSIX engine. Optionally you can specify ""pcre"" or ""pcre2"" specific regexes. If one of PCRE or PCRE2 is built-in, its regex will be used (if specified) and executed by that engine. POSIX regexes will continue to be executed by the POSIX engine.
{
   ""scrape_subtitle"": [...],
   ""pcre"" {
      ""scrape_subtitle"": [...]
    }
}

I think this means everyone should be happy now?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/perexg,18,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352406413,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","Please, rebase to the current master or make your change as one commit (diff against the current master). The merging is evil in my eyes.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/azlm8t,19,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352572706,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","Looks good.
For language support, when we add it, I don't know if we also need ""*"" in the config file for fallback. For example, season/episode and certainly broadcast year might be in a common format on a satellite, whereas subtitle scraping is language-specific.
Part of me thinks we should move the posix regex in to a ""posix"" subsection so it's all tidy and consistent, but I think that might just cause unnecessary re-work of our existing configs, and I don't think it would add much benefit.
{
   ""posix"" {
       ""scrape_subtitle"": [...],
    },
   ""pcre"" {
      ""scrape_subtitle"": [...]
    }
}",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/banburybill,20,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-352582906,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.","Rebasing is evil in my eyes :-) But, OK, changes rebased and a couple merged :-)
The Posix regexes are different from the others, in that they are guaranteed to be always available, so while I understand the urge to file them under 'posix', part of me also likes having them not require a special qualifier because they are the defaults.
I'd be tempted to do language support the same way, if there is indeed a possibility that some items are presented in a common way. So, 'airdate' for common year extraction, 'eng / scrape_subtitle / pcre' for a PCRE regex for scraping English text.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1055,2017-12-14T15:01:15Z,2017-12-21T08:36:44Z,2017-12-21T08:36:44Z,CLOSED,False,368,165,11,https://github.com/banburybill,eit: extend generic regex handling for subpatterns and use in scraper regex (#4795),3,[],https://github.com/tvheadend/tvheadend/pull/1055,https://github.com/perexg,21,https://github.com/tvheadend/tvheadend/pull/1055#issuecomment-353290691,"Currently scraper regex usage is hardwired to Posix. Using PCRE/PCRE2 if available would give more flexibility and potentially save repetition in patterns, e.g.
(?:[.][.][.][:.]*[.:]|[0-9]+/[0-9]+[.])? ([^:]*):

would require multiple Posix patterns, each duplicating the captured subpattern.
So, this PR extends the interface in tvhregex.h to handle subpatterns and uses it in EIT scraper regex matching.",Merged with one extension: b9ce472 . Thank you for your contribution.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1056,2017-12-15T00:24:43Z,2018-12-06T15:20:53Z,2018-12-06T15:20:54Z,CLOSED,False,86,6,4,https://github.com/azlm8t,"dvr: check autorec timers after programme update and on start (#4760, #4299)",1,[],https://github.com/tvheadend/tvheadend/pull/1056,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1056,"An autorec for ""title A"" can match a programme. When the next xmltv update comes in, it can update the title, description and other fields so that the event is now ""title B"" and so should no longer match the rule ""title A"".
So, we now do an autorec_cmp after a programme update to ensure such bad timers are deleted. They will be automatically respawned on any new programme that matches the rule.
This happens with surprising regularity on some channels since the SD xmltv guide for today+>8 days is often fuzzy and programmes are completely replaced as they get nearer to broadcast.
On startup, we now also purge all autorec timers that no longer match an event. This ensures that bad autorec timers are deleted for cases where the user has deleted the epgdb to fix some major problem. This is a change in behaviour since previously we'd keep the autorec timers even though they no longer matched anything, but I think the new behaviour is equally valid and I imagine most people keep the persisted db so experience no difference. I don't delete the manually set timers on the assumption that the user should manually delete manually set timers.
A minor change was renaming autorec_cmp to be dvr_autorec_cmp and no longer be static, and make it take const arguments so needing a const on the regex function.","An autorec for ""title A"" can match a programme. When the next xmltv update comes in, it can update the title, description and other fields so that the event is now ""title B"" and so should no longer match the rule ""title A"".
So, we now do an autorec_cmp after a programme update to ensure such bad timers are deleted. They will be automatically respawned on any new programme that matches the rule.
This happens with surprising regularity on some channels since the SD xmltv guide for today+>8 days is often fuzzy and programmes are completely replaced as they get nearer to broadcast.
On startup, we now also purge all autorec timers that no longer match an event. This ensures that bad autorec timers are deleted for cases where the user has deleted the epgdb to fix some major problem. This is a change in behaviour since previously we'd keep the autorec timers even though they no longer matched anything, but I think the new behaviour is equally valid and I imagine most people keep the persisted db so experience no difference. I don't delete the manually set timers on the assumption that the user should manually delete manually set timers.
A minor change was renaming autorec_cmp to be dvr_autorec_cmp and no longer be static, and make it take const arguments so needing a const on the regex function.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1056,2017-12-15T00:24:43Z,2018-12-06T15:20:53Z,2018-12-06T15:20:54Z,CLOSED,False,86,6,4,https://github.com/azlm8t,"dvr: check autorec timers after programme update and on start (#4760, #4299)",1,[],https://github.com/tvheadend/tvheadend/pull/1056,https://github.com/rpcameron,2,https://github.com/tvheadend/tvheadend/pull/1056#issuecomment-351898146,"An autorec for ""title A"" can match a programme. When the next xmltv update comes in, it can update the title, description and other fields so that the event is now ""title B"" and so should no longer match the rule ""title A"".
So, we now do an autorec_cmp after a programme update to ensure such bad timers are deleted. They will be automatically respawned on any new programme that matches the rule.
This happens with surprising regularity on some channels since the SD xmltv guide for today+>8 days is often fuzzy and programmes are completely replaced as they get nearer to broadcast.
On startup, we now also purge all autorec timers that no longer match an event. This ensures that bad autorec timers are deleted for cases where the user has deleted the epgdb to fix some major problem. This is a change in behaviour since previously we'd keep the autorec timers even though they no longer matched anything, but I think the new behaviour is equally valid and I imagine most people keep the persisted db so experience no difference. I don't delete the manually set timers on the assumption that the user should manually delete manually set timers.
A minor change was renaming autorec_cmp to be dvr_autorec_cmp and no longer be static, and make it take const arguments so needing a const on the regex function.","Awesome. This frequently occurs, and presently my solution has been to disable and then re-enable my Autorecs to correct the updated programs.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1056,2017-12-15T00:24:43Z,2018-12-06T15:20:53Z,2018-12-06T15:20:54Z,CLOSED,False,86,6,4,https://github.com/azlm8t,"dvr: check autorec timers after programme update and on start (#4760, #4299)",1,[],https://github.com/tvheadend/tvheadend/pull/1056,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1056#issuecomment-444907697,"An autorec for ""title A"" can match a programme. When the next xmltv update comes in, it can update the title, description and other fields so that the event is now ""title B"" and so should no longer match the rule ""title A"".
So, we now do an autorec_cmp after a programme update to ensure such bad timers are deleted. They will be automatically respawned on any new programme that matches the rule.
This happens with surprising regularity on some channels since the SD xmltv guide for today+>8 days is often fuzzy and programmes are completely replaced as they get nearer to broadcast.
On startup, we now also purge all autorec timers that no longer match an event. This ensures that bad autorec timers are deleted for cases where the user has deleted the epgdb to fix some major problem. This is a change in behaviour since previously we'd keep the autorec timers even though they no longer matched anything, but I think the new behaviour is equally valid and I imagine most people keep the persisted db so experience no difference. I don't delete the manually set timers on the assumption that the user should manually delete manually set timers.
A minor change was renaming autorec_cmp to be dvr_autorec_cmp and no longer be static, and make it take const arguments so needing a const on the regex function.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1057,2017-12-15T00:38:58Z,2017-12-18T08:41:25Z,2017-12-18T08:41:25Z,CLOSED,False,31,3,2,https://github.com/azlm8t,xmltv: optional disable mapping xmltv category to genre (#3753),2,[],https://github.com/tvheadend/tvheadend/pull/1057,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1057,"Some frontends (such as Kodi) can only use categories if we have no genre. Often genre mapping from xmltv is imprecise since xmltv programmes often have a number of categories and one happens to match a genre. For example opera was ""non-music"" due to matching a minor-category tag of ""performing arts"", but not matching the major category tags such as ""opera"".
Tested by edit4ever ! in comment 28 of bug report.
Also a minor change to cast to epggrab_module_int_t instead of epggrab_module_ext_t for existing scrape config options since these are in the base struct.","Some frontends (such as Kodi) can only use categories if we have no genre. Often genre mapping from xmltv is imprecise since xmltv programmes often have a number of categories and one happens to match a genre. For example opera was ""non-music"" due to matching a minor-category tag of ""performing arts"", but not matching the major category tags such as ""opera"".
Tested by edit4ever ! in comment 28 of bug report.
Also a minor change to cast to epggrab_module_int_t instead of epggrab_module_ext_t for existing scrape config options since these are in the base struct.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1057,2017-12-15T00:38:58Z,2017-12-18T08:41:25Z,2017-12-18T08:41:25Z,CLOSED,False,31,3,2,https://github.com/azlm8t,xmltv: optional disable mapping xmltv category to genre (#3753),2,[],https://github.com/tvheadend/tvheadend/pull/1057,https://github.com/meyerchak,2,https://github.com/tvheadend/tvheadend/pull/1057#issuecomment-351884593,"Some frontends (such as Kodi) can only use categories if we have no genre. Often genre mapping from xmltv is imprecise since xmltv programmes often have a number of categories and one happens to match a genre. For example opera was ""non-music"" due to matching a minor-category tag of ""performing arts"", but not matching the major category tags such as ""opera"".
Tested by edit4ever ! in comment 28 of bug report.
Also a minor change to cast to epggrab_module_int_t instead of epggrab_module_ext_t for existing scrape config options since these are in the base struct.",thanks edit4ever,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1057,2017-12-15T00:38:58Z,2017-12-18T08:41:25Z,2017-12-18T08:41:25Z,CLOSED,False,31,3,2,https://github.com/azlm8t,xmltv: optional disable mapping xmltv category to genre (#3753),2,[],https://github.com/tvheadend/tvheadend/pull/1057,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1057#issuecomment-352360112,"Some frontends (such as Kodi) can only use categories if we have no genre. Often genre mapping from xmltv is imprecise since xmltv programmes often have a number of categories and one happens to match a genre. For example opera was ""non-music"" due to matching a minor-category tag of ""performing arts"", but not matching the major category tags such as ""opera"".
Tested by edit4ever ! in comment 28 of bug report.
Also a minor change to cast to epggrab_module_int_t instead of epggrab_module_ext_t for existing scrape config options since these are in the base struct.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1058,2017-12-17T19:45:10Z,2018-01-05T10:37:06Z,2018-01-05T13:13:39Z,CLOSED,False,146,0,5,https://github.com/eras,watchdog: implemented systemd-style watchdog support,1,[],https://github.com/tvheadend/tvheadend/pull/1058,https://github.com/eras,1,https://github.com/tvheadend/tvheadend/pull/1058,"Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.","Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1058,2017-12-17T19:45:10Z,2018-01-05T10:37:06Z,2018-01-05T13:13:39Z,CLOSED,False,146,0,5,https://github.com/eras,watchdog: implemented systemd-style watchdog support,1,[],https://github.com/tvheadend/tvheadend/pull/1058,https://github.com/Saentist,2,https://github.com/tvheadend/tvheadend/pull/1058#issuecomment-352282333,"Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.",Hope this will not bring continuous restart-loop.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1058,2017-12-17T19:45:10Z,2018-01-05T10:37:06Z,2018-01-05T13:13:39Z,CLOSED,False,146,0,5,https://github.com/eras,watchdog: implemented systemd-style watchdog support,1,[],https://github.com/tvheadend/tvheadend/pull/1058,https://github.com/CvH,3,https://github.com/tvheadend/tvheadend/pull/1058#issuecomment-352283009,"Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.","...
Restart=always
StartLimitInterval=120
StartLimitBurst=2

^^^^ starts it max two times in 120sec, not sure if this is helpful or harming",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1058,2017-12-17T19:45:10Z,2018-01-05T10:37:06Z,2018-01-05T13:13:39Z,CLOSED,False,146,0,5,https://github.com/eras,watchdog: implemented systemd-style watchdog support,1,[],https://github.com/tvheadend/tvheadend/pull/1058,https://github.com/mpmc,4,https://github.com/tvheadend/tvheadend/pull/1058#issuecomment-352296605,"Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.","I like the watchdog support, but me personally I don't think tvh should restart at all on a crash/hang, it should stay dead. However those that do want it should have the option.

The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.

This honestly sounds like a band-aid, not a bad one by any means, but I think the proper solution would be to find the cause? Which might not be an easy task 😞",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1058,2017-12-17T19:45:10Z,2018-01-05T10:37:06Z,2018-01-05T13:13:39Z,CLOSED,False,146,0,5,https://github.com/eras,watchdog: implemented systemd-style watchdog support,1,[],https://github.com/tvheadend/tvheadend/pull/1058,https://github.com/eras,5,https://github.com/tvheadend/tvheadend/pull/1058#issuecomment-352416276,"Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.","@mpmc I certainly agree it's not a solution for bugs - proper solution for tracking these kinds of issues would involve keeping track of who is locking global_lock, but this is more complicated and of course what to do varies by bug. But it also allows to detect the frequency of the problem better by keeping logs of it.
For example I have noticed that the system can run a week or two weeks at a time, but then to crash multiple times on weekends between 9-10 am. This is clearly a hint :). In addition, as systemd uses SIGABRT to stop the process I imagine it's possible to collect these core dumps for analysis with systemd-coredump.
Another thing is that sometimes it might be that the situation is irrecoverable, ie. the DVB input device might require a system reboot to resolve the situation. This also is now enabled (at least in principle) by a watchdog mechanism.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1058,2017-12-17T19:45:10Z,2018-01-05T10:37:06Z,2018-01-05T13:13:39Z,CLOSED,False,146,0,5,https://github.com/eras,watchdog: implemented systemd-style watchdog support,1,[],https://github.com/tvheadend/tvheadend/pull/1058,https://github.com/azlm8t,6,https://github.com/tvheadend/tvheadend/pull/1058#issuecomment-353328044,"Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.","I currently restart by having a crontab curl to the web server and restart tvheadend if it fails to get anything after a minute, so your approach will be better for me, though if it generates a core dump every time is there an automatic cleanup?
Maybe I missed it, but perhaps you could add your sample service file changes to the commit (and raise a bug) since otherwise most people will not know the option exists. Judging by other comments, don't enable it by default in the shipped configuration file.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1058,2017-12-17T19:45:10Z,2018-01-05T10:37:06Z,2018-01-05T13:13:39Z,CLOSED,False,146,0,5,https://github.com/eras,watchdog: implemented systemd-style watchdog support,1,[],https://github.com/tvheadend/tvheadend/pull/1058,https://github.com/mpmc,7,https://github.com/tvheadend/tvheadend/pull/1058#issuecomment-353338046,"Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.","Maybe I missed it, but perhaps you could add your sample service file changes to the commit (and raise a bug) since otherwise most people will not know the option exists. Judging by other comments, don't enable it by default in the shipped configuration file.

My initial concerns were the same as @Saentist's but @CvH gave a solution to that, which could be the default. If the majority want an auto-restart it's fine with me! 👍",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1058,2017-12-17T19:45:10Z,2018-01-05T10:37:06Z,2018-01-05T13:13:39Z,CLOSED,False,146,0,5,https://github.com/eras,watchdog: implemented systemd-style watchdog support,1,[],https://github.com/tvheadend/tvheadend/pull/1058,https://github.com/eras,8,https://github.com/tvheadend/tvheadend/pull/1058#issuecomment-354871395,"Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.","Changes:

Rebased against current master
Makefile now uses SRCS-${CONFIG_LIBSYSTEMD_DAEMON}, eliminating an #if from watchdog.c
Minor fixes, no changes in functionality
An example on enabling the watchdog can now be found from updated debian/tvheadend.service
Updated copyright year. Happy New Year :-).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1058,2017-12-17T19:45:10Z,2018-01-05T10:37:06Z,2018-01-05T13:13:39Z,CLOSED,False,146,0,5,https://github.com/eras,watchdog: implemented systemd-style watchdog support,1,[],https://github.com/tvheadend/tvheadend/pull/1058,https://github.com/eras,9,https://github.com/tvheadend/tvheadend/pull/1058#issuecomment-354871588,"Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.",@azlm8t I don't think core files are produced or collected by default.. But perhaps in other systems they can be. In those cases I hope they already have a mechanism for purging old cores :).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1058,2017-12-17T19:45:10Z,2018-01-05T10:37:06Z,2018-01-05T13:13:39Z,CLOSED,False,146,0,5,https://github.com/eras,watchdog: implemented systemd-style watchdog support,1,[],https://github.com/tvheadend/tvheadend/pull/1058,https://github.com/eras,10,https://github.com/tvheadend/tvheadend/pull/1058#issuecomment-354872270,"Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.","Btw, with the timeouts I propose in debian/tvheadend.service there is no possibility of rapid restarts due to watchdog, because the times are so long.
However, rapid restarts are already possible without this watchdog code, because the file says Restart=on-failure and tvheadend might hit an assertion repeatedly on startup. In those cases it seems systemd catches the situation (there are probably sane defaults already in place) and puts the service in failed state. But perhaps the .service-file could be revised to incorporate @CvH 's solution.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1058,2017-12-17T19:45:10Z,2018-01-05T10:37:06Z,2018-01-05T13:13:39Z,CLOSED,False,146,0,5,https://github.com/eras,watchdog: implemented systemd-style watchdog support,1,[],https://github.com/tvheadend/tvheadend/pull/1058,https://github.com/perexg,11,https://github.com/tvheadend/tvheadend/pull/1058#issuecomment-355523998,"Implements support for systemd watchdog based on checking that
global_lock isn't locked for too long. The support is compiled in if the
libsystemd-daemon is enabled during configure (this existed already)
and it is enabled in the service file with ie.:
[Service]
Type=notify
TimeoutStartSec=10m
WatchdogSec=5m
ExecStart=/opt/bin/tvheadend --stderr --syslog --nobackup
User=tvheadend
Restart=always

(The example has large timeout due to the long time my setup can take to start.)
The watchdog runs in its own thread and it tries to periodically lock the
global_lock which seems be a very good candidate for hanging tvheadend.
If there are other locks to monitor they can be easily added as well.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1059,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-352446009,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","I think that my idea was to exactly identify the genre in the commit a7ee941 . It's fine for UI, but it does not work for the xmltv import. My fault. What about to add a new function epg_genre_list_add_by_str2() or just extend the '_epg_genre_find_by_name()' to search also in the separated strings when the 'joined/full genre string' is not found ?
The change is fine, but I just want to reduce the obvious English cases..
Also - we should also handle the 'lang' attribute in the category element ?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-352565228,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","Sounds good.
I've taken a look and perhaps in epg.c in _epg_genre_find_by_name the _genre_str_match fails then we could additionally compare the category string against just the tvh_gettext_lang(_epg_genre_names[i][j]) (instead of joining sub-genres with a / as in _genre_get_name). This will match common strings like ""football"" which are already translated in to multiple languages so will just work for them.
So let's:

move _xmltv_map_category_to_epg_genre in to epg.c and rename.

In _epg_genre_find_by_name logic:

_genre_str_match on genre_get_name; else
_genre_str_match on tvh_gettext_lang(_epg_genre_names[a][b]) (i.e., each sub-genre string on its own).

If all the above fails then:

fallback to doing _xmltv_map_category_to_epg_genre to map remaining categories like ""Historical drama"" to ""Historical movie""

Re: language.
The one problem is that since those strings are internationalized, it means that an xmltv category that uses an English name of ""Movie / Drama"" for compatibility would not match if the system was run in a different locale.
So, if we pass lang from xmltv then perhaps we should do two lookups, one with lang (for cases where xmltv has local language) and one without lang (where xmltv uses English names for categories).
I'll take a look after the holidays.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/michaelarnauts,4,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-434372483,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).",This PR seems to have gone stale?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/Leatherface75,5,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-441286492,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).",Same here i wonder what happened?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/azlm8t,6,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-441431385,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","Sorry, I had some hardware failures and then worked on getting the image support in ready for the Kodi release. I'll have to refresh my memory.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/piotrasd,7,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-444696934,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).",+1 for add that ;),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/azlm8t,8,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-446434988,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","I've added a few more patches if you want to try it (since I don't have appropriate xmltv).
We continue to map known categories to genres in the generated csv as before using mappings I found in the forums.
Otherwise, we lookup each sub-category word, so ""Opera"" in the xmltv now matches against ""Musical / Opera"". We do this using both English and localized version of the words since many xmltv that I've seen use English for most categories or a mixture of English and non-English categories.
The htsp client tries to find the ""best"" genre for sending to clients such as Kodi (as discussed in the forum). This is because xmltv may have mutliple categories/genres such as ""adventure, action, childrens"" and we want to send the major genre of ""children"" to get colour in Kodi rather than a sub-genre of ""adventure"" which would get the generic ""movie/drama"" colour. The logic for the ""best genre"" seems reasonable for my setup and makes the guide colourful, and has a fallback of ""first genre"" if the logic fails, so for OTA (with one genre) it should work as before. It's difficult to be 100% for ""best genre"" since xmltv can have numerous categories, but it should work for most programmes.
I won't be around much over the holidays to do any fixups, but if it works/doesn't work then post a comment so it's known if it can be merged.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/piotrasd,9,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-449598040,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","here full polish xmltv with all categories if you want look or test
https://www.sendspace.com/file/sbkg1b",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/piotrasd,10,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-449611724,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","@azlm8t where are available all possible genre/category ?
I got list of polish from XMLTV and I want prepare map (few German there are by mistake)
https://pastebin.com/f2KyUmGK
I found in Kodi this
https://forum.kodi.tv/showthread.php?tid=146527&pid=1250345#pid1250345",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/azlm8t,11,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-451692082,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","@piotrasd
The xmltvgenre.csv first column is from ""epg_genre_names"" in src/epg.c. So ""Movie / Drama"" is generated from the line that says 'N(""Movie""), N_(""Drama"")'. That's what the kodi forum has, but that does not have the "" / "" that we need.
The remaining columns in the file are the non-English words that map to that genre.
So ""Education / Science / Factual topics, Edukacyjny"" means the Edukacyjny maps to Education / Science / Factual topics genre.
Hope that helps.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/taiebot,12,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-474055612,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).",I am having this problem with this xmltv guide https://xmltv.fr/ genres are not matched properly. I am trying to create a script but i am not a coder and might give up on this... If tvheadend could do it i would love it,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/perexg,13,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-542075815,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","Thinking more about this and it would be probably much better to have configuration stored in json in the configuration directory and not hardcoded in the binary. In this way, users may just modify the config file. The sorting might be done in the load time.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/taiebot,14,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-548926488,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","BTW i have given up, I am just having no genre in my epg",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/Kick4U2,15,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-637839497,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","Any chance we can add the ""user defined"" (0xF) major genre to the code since Kodi has implemented this in 'xbmc/strings.po' (lines 11645-11700)?  I hate Comedy shows showing up as a movie.  SD provides the first category for separating movie from series and sports to determine which field it should be.
I have noticed that SD provides the first major category with all lowercase letters:
movie
series
tvshow
sports
I'm thinking these could help make the genre selection a little better.
I want to help, but am just learning how to use git so excuse my ignorance.  I also can't figure out how tvheadend is determining what the major genre is.  Is it just picking the first genre in the epg.c file?  If so, than the I will need to adjust the changes I made to epg.c linked below to make the major genre for 0xF look like 'series/Drama' instead of just Drama (like kodi has it).
Here's a link to a branch I made to assist.
tvheadend EPG.c",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/Leatherface75,16,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-638903026,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","This is what xmltvgenre.csv does
https://github.com/tvheadend/tvheadend/pull/1059/files#diff-de915aab61211d1842b9b6b1c35bcd71",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/Kick4U2,17,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-638909378,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","Hello,

I agree and like how this is implemented, but it puts all entries for Comedy under the major category of Movie/Drama (ETSI EN 0x1).  As you can see from the comments in the link you provided, a daytime quiz show is an example from SchedulesDirect where Comedy isn't always designated as a Movie.  The ETSI standard has Comedy solely for Movies.

Kodi has implemented the 'user defined' (ETSI EN 0xF) major category to properly represent genres that could be used for series and not only movies.

Since SchedulesDirect always has the first category either as ""movie"", ""sports"", ""series"", or ""tvhsow"" so I figured these should be used to make a decision on whether the where the following categories fall under.

Hope that makes sense...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/Leatherface75,18,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-639957533,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","My point is that editing that file should fix the issues you talk about instead of your hardcoded fix.
But i could be wrong.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/Kick4U2,19,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-640067776,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","Thanks again, but how do I change the major category?  It seems to me that if you have a category of Comedy, than there is no way in telling tvheadend that it is a show.  It automatically uses Movie/Drama as the major category (content-type).

What I’m saying is that there should be some additional logic looking for category “movie” or “series” in order to distinguish the difference for what category Comedy is meant to be under.


I don’t see how editing this file can change the major category for Comedy from 0x1 to 0xF.  Would you please elaborate?  Thank you",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1059,2017-12-18T14:05:06Z,,2020-08-07T16:27:29Z,OPEN,False,287,5,6,https://github.com/azlm8t,Map genre from xmltv category (#4753),9,[],https://github.com/tvheadend/tvheadend/pull/1059,https://github.com/Kick4U2,20,https://github.com/tvheadend/tvheadend/pull/1059#issuecomment-670535637,"Previously we required a one-to-one mapping between xmltv categories and genres. So the xmltv category of ""Documentary"" is mapped to epg genre of ""Documentary"".
However, many mappings are not one-to-one. For example, ""Opera"" should be mapped to ""Musical / Opera"". So we now perform common mappings for SchedulesDirect and for the comments in the Kazer thread for French and Spanish, and from sample guide.xml for Polish webgrab in bug 4424.
Currently people are running perl scripts to map category names in to English genre names prior to import, and so have categories in a mixture of languages. This change will remove the need for external scripts.
Since we have only had a couple of category mapping contributions submitted in years, and since categories are a mixture of English and native languages, I've taken the easier/more performance route of just having one configuration file with all the mappings and auto-generating a C lookup array at compile time instead of having multiple configuration files per language. Autogenerating should allow us in the future to also auto-generate Javascript for displaying icons for these categories using their original language (instead of falling back to using genre icons).","Can anyone explain what I'm doing wrong?  It seems no one else is having this same issue... perhaps I'm making too big a deal about this???
To help explain, I've included an example of a kids TV Show that has a category of Comedy and is coming up with the Content Type of ""[Movies / Drama] Comedy"".  Ideally, TVHeadend would search for a major category within the list of categories (in the case below it would find ""Children's / Youth programmes"") and consider this as the Content Type.  If no major category is found than it would ideally fall back on the first category (SchedulesDirect provides the first category either as ""movie"", ""sports"", ""series"", or ""tvshow"").

Here's the listing within the XML file:

  

<title lang=""en"">The Tom and Jerry Show</title>
<sub-title lang=""en"">Tap Cat</sub-title>
<desc lang=""en"">(2014-03-01). (TV-PG). An old pair of Ginger's tap shoes turns Tom into a dancing fanatic. Cast: Stephen Stanton, Rick Zieff, Grey Griffin, Gary Cole. Categories: Animated, Children, Comedy, Episode, Series, Show(n)</desc>
<credits>
  <director>Darrell Van Citters</director>
  <actor>Stephen Stanton</actor>
  <actor>Rick Zieff</actor>
  <actor>Grey Griffin</actor>
  <producer>Sam Register</producer>
  <producer>Jay Bastian</producer>
  <presenter>Gary Cole</presenter>
</credits>
<date>2014</date>
<category lang=""en"">series</category>
<category lang=""en"">Animated</category>
<category lang=""en"">Children's / Youth programmes</category>
<category lang=""en"">Comedy</category>
<category lang=""en"">Episode</category>
<category lang=""en"">Series</category>
<category lang=""en"">Show</category>
<icon src=""https://schedulesdirect-api20141201.s3.us-east-1.amazonaws.com/assets/p10478306_b_v8_ao.jpg"" />

  
Here's a screenshot of using @azlm8t commit and it doesn't seem to make a difference in selecting a ""Movie / Drama"" for this children's show.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1060,2017-12-18T14:15:19Z,2017-12-19T20:46:07Z,2017-12-19T20:46:07Z,CLOSED,False,17,6,1,https://github.com/azlm8t,"xmltv: Only log ""new episode"" if episode has been created. (#4803).",1,[],https://github.com/tvheadend/tvheadend/pull/1060,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1060,The xmltv import always logs new and tot to be equal. Now we check the CREATE flag to determine if the entry was newly created to update either new or mod appropriately.,The xmltv import always logs new and tot to be equal. Now we check the CREATE flag to determine if the entry was newly created to update either new or mod appropriately.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1060,2017-12-18T14:15:19Z,2017-12-19T20:46:07Z,2017-12-19T20:46:07Z,CLOSED,False,17,6,1,https://github.com/azlm8t,"xmltv: Only log ""new episode"" if episode has been created. (#4803).",1,[],https://github.com/tvheadend/tvheadend/pull/1060,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1060#issuecomment-352881282,The xmltv import always logs new and tot to be equal. Now we check the CREATE flag to determine if the entry was newly created to update either new or mod appropriately.,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1061,2017-12-18T14:18:27Z,2017-12-19T20:44:20Z,2017-12-19T20:44:20Z,CLOSED,False,2,2,1,https://github.com/azlm8t,"ui: Rename ""Category Type"" icons column to ""Category Icons"" (#4594).",1,[],https://github.com/tvheadend/tvheadend/pull/1061,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1061,"In the forum, it was mentioned that we have two EPG columns called ""Content Type"", so rename the one with icons to be called ""Category Icons"" to avoid any confusion.","In the forum, it was mentioned that we have two EPG columns called ""Content Type"", so rename the one with icons to be called ""Category Icons"" to avoid any confusion.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1061,2017-12-18T14:18:27Z,2017-12-19T20:44:20Z,2017-12-19T20:44:20Z,CLOSED,False,2,2,1,https://github.com/azlm8t,"ui: Rename ""Category Type"" icons column to ""Category Icons"" (#4594).",1,[],https://github.com/tvheadend/tvheadend/pull/1061,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1061#issuecomment-352880828,"In the forum, it was mentioned that we have two EPG columns called ""Content Type"", so rename the one with icons to be called ""Category Icons"" to avoid any confusion.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1062,2017-12-18T19:54:53Z,2017-12-19T20:43:50Z,2018-01-18T19:56:27Z,CLOSED,False,1,0,1,https://github.com/bkuhls,sbuf: fix uClibc compilation error,1,[],https://github.com/tvheadend/tvheadend/pull/1062,https://github.com/bkuhls,1,https://github.com/tvheadend/tvheadend/pull/1062,"Fixes build error with uClibc
tvheadend-e06ffd87beff16103c47d6fa542df2374fca6fd3/src/sbuf.h:77:1:
error: unknown type name 'ssize_t'; did you mean 'size_t'?
ssize_t sbuf_read(sbuf_t *sb, int fd);","Fixes build error with uClibc
tvheadend-e06ffd87beff16103c47d6fa542df2374fca6fd3/src/sbuf.h:77:1:
error: unknown type name 'ssize_t'; did you mean 'size_t'?
ssize_t sbuf_read(sbuf_t *sb, int fd);",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1062,2017-12-18T19:54:53Z,2017-12-19T20:43:50Z,2018-01-18T19:56:27Z,CLOSED,False,1,0,1,https://github.com/bkuhls,sbuf: fix uClibc compilation error,1,[],https://github.com/tvheadend/tvheadend/pull/1062,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1062#issuecomment-352880724,"Fixes build error with uClibc
tvheadend-e06ffd87beff16103c47d6fa542df2374fca6fd3/src/sbuf.h:77:1:
error: unknown type name 'ssize_t'; did you mean 'size_t'?
ssize_t sbuf_read(sbuf_t *sb, int fd);",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1063,2017-12-19T10:07:54Z,2017-12-19T20:43:11Z,2017-12-20T11:32:26Z,CLOSED,False,17,15,1,https://github.com/banburybill,A couple of EIT bugfixes,2,[],https://github.com/tvheadend/tvheadend/pull/1063,https://github.com/banburybill,1,https://github.com/tvheadend/tvheadend/pull/1063,"Recent changes accidentally stopped season/episode scrapes from working. And if you have a summary field update match in a subtitle scrape, it could cause a segfault.","Recent changes accidentally stopped season/episode scrapes from working. And if you have a summary field update match in a subtitle scrape, it could cause a segfault.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1063,2017-12-19T10:07:54Z,2017-12-19T20:43:11Z,2017-12-20T11:32:26Z,CLOSED,False,17,15,1,https://github.com/banburybill,A couple of EIT bugfixes,2,[],https://github.com/tvheadend/tvheadend/pull/1063,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1063#issuecomment-352880567,"Recent changes accidentally stopped season/episode scrapes from working. And if you have a summary field update match in a subtitle scrape, it could cause a segfault.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1064,2017-12-19T11:32:57Z,2017-12-19T20:50:10Z,2017-12-19T20:54:13Z,CLOSED,False,139,4,6,https://github.com/pablozg,Some improvements,2,[],https://github.com/tvheadend/tvheadend/pull/1064,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1064,"By error I deleted the previous repository, so I have closed the previous pull request and made a new one, this time I have made the changes suggest by azlm8t.
New features:
Now the autorec name is by default the epg title.
A new button to show / hidde the skipped recordings in the webui.
A new button to add as completed an upcoming recording to avoid record it again.","By error I deleted the previous repository, so I have closed the previous pull request and made a new one, this time I have made the changes suggest by azlm8t.
New features:
Now the autorec name is by default the epg title.
A new button to show / hidde the skipped recordings in the webui.
A new button to add as completed an upcoming recording to avoid record it again.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1064,2017-12-19T11:32:57Z,2017-12-19T20:50:10Z,2017-12-19T20:54:13Z,CLOSED,False,139,4,6,https://github.com/pablozg,Some improvements,2,[],https://github.com/tvheadend/tvheadend/pull/1064,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1064#issuecomment-352882321,"By error I deleted the previous repository, so I have closed the previous pull request and made a new one, this time I have made the changes suggest by azlm8t.
New features:
Now the autorec name is by default the epg title.
A new button to show / hidde the skipped recordings in the webui.
A new button to add as completed an upcoming recording to avoid record it again.","First, thank you for your contribution. Any contributors are really welcomed.
I started to review your changes and then I aborted it. In some cases, it's easier to do suggested changes directly so I did them. I pushed e3c9b6d which contains code cleanups and some logic change. See the description or code - what you prefer.
Your code was merged, my changes are on top of it. Thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1065,2017-12-20T14:40:31Z,2017-12-20T17:56:04Z,2017-12-20T17:56:05Z,CLOSED,False,6,2,1,https://github.com/pablozg,Fix some issues detected after commit #e3c9b6d,1,[],https://github.com/tvheadend/tvheadend/pull/1065,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1065,"After check the changes made by perexg the add as previously recorded don't work properly.
Issues:
After select a recording as previously recorder is moved to ""removed recordings"", but if exist a new event of the recordings will recorded again.
After a restart of tvheadend the recordings added as ""previously recorded"" disappear from ""removed recordings""
The recordings added as previously recorded show a status of ""unknow status (109)"".
The changes fix all issues and change the icon to show the same as ""Completed OK"".","After check the changes made by perexg the add as previously recorded don't work properly.
Issues:
After select a recording as previously recorder is moved to ""removed recordings"", but if exist a new event of the recordings will recorded again.
After a restart of tvheadend the recordings added as ""previously recorded"" disappear from ""removed recordings""
The recordings added as previously recorded show a status of ""unknow status (109)"".
The changes fix all issues and change the icon to show the same as ""Completed OK"".",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1065,2017-12-20T14:40:31Z,2017-12-20T17:56:04Z,2017-12-20T17:56:05Z,CLOSED,False,6,2,1,https://github.com/pablozg,Fix some issues detected after commit #e3c9b6d,1,[],https://github.com/tvheadend/tvheadend/pull/1065,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1065#issuecomment-353136336,"After check the changes made by perexg the add as previously recorded don't work properly.
Issues:
After select a recording as previously recorder is moved to ""removed recordings"", but if exist a new event of the recordings will recorded again.
After a restart of tvheadend the recordings added as ""previously recorded"" disappear from ""removed recordings""
The recordings added as previously recorded show a status of ""unknow status (109)"".
The changes fix all issues and change the icon to show the same as ""Completed OK"".","Thanks for your contribution. Fixes are in 98e4e70, 39a4be5.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1066,2017-12-21T00:43:24Z,2017-12-21T08:19:11Z,2017-12-21T08:19:11Z,CLOSED,False,3,2,1,https://github.com/ljalves,eit: Fix undefined charset (fixes #4807),1,[],https://github.com/tvheadend/tvheadend/pull/1066,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/1066,Fixes #4807,Fixes #4807,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1066,2017-12-21T00:43:24Z,2017-12-21T08:19:11Z,2017-12-21T08:19:11Z,CLOSED,False,3,2,1,https://github.com/ljalves,eit: Fix undefined charset (fixes #4807),1,[],https://github.com/tvheadend/tvheadend/pull/1066,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1066#issuecomment-353287306,Fixes #4807,Fixed in 72fd5e2 (a bit differently). Your proposed patch used service_t outside the global_lock which is wrong.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1067,2017-12-21T16:32:57Z,2017-12-21T17:27:01Z,2017-12-21T17:27:01Z,CLOSED,False,226,116,8,https://github.com/banburybill,"eit: Add title and summary scrapers, and re-work how text is extracted",2,[],https://github.com/tvheadend/tvheadend/pull/1067,https://github.com/banburybill,1,https://github.com/tvheadend/tvheadend/pull/1067,"This PR adds title and summary scrapers to EIT grabbing. As with subtitles, the summary scraper is given just the summary field as input, but the title scraper is given ""<title> "" as input (note space between title and summary).
The output from a scraper is extended to become the concatenation of all matched sub-patterns. This allows patterns to cherry-pick text from different parts of their input. This breaks my previous (unused in all public patterns) hack of setting the summary from a second sub-pattern in the subtitle.
The new scrapers mean it is now possible to reconstruct long titles when split by the UK EPG e.g. a title ""Lorum Ipsum..."" and summary ""...dolor sit amet. Consectetur adipiscing elit: Vestibulum aquilam sodales tellus."" can now be scraped into title ""Lorum Ipsum dolor sit amet."", subtitle ""Consectetur adipiscing elit"", summary ""Vestibulum aquilam sodales tellus.""
I have an updated set of patterns for UK Freeview/Freesat in development using these, but that's for another PR. Mechanism first. This PR does not alter the behaviour of the existing UK scrapers.
At present, title and summary scraping can be enable/disabled separately to subtitle scraping. I am undecided whether they should be combined into a single user setting. It's likely/possible that title/subtitle/summary patterns will work in concert, and having them separately enabled may give confusing results.","This PR adds title and summary scrapers to EIT grabbing. As with subtitles, the summary scraper is given just the summary field as input, but the title scraper is given ""<title> "" as input (note space between title and summary).
The output from a scraper is extended to become the concatenation of all matched sub-patterns. This allows patterns to cherry-pick text from different parts of their input. This breaks my previous (unused in all public patterns) hack of setting the summary from a second sub-pattern in the subtitle.
The new scrapers mean it is now possible to reconstruct long titles when split by the UK EPG e.g. a title ""Lorum Ipsum..."" and summary ""...dolor sit amet. Consectetur adipiscing elit: Vestibulum aquilam sodales tellus."" can now be scraped into title ""Lorum Ipsum dolor sit amet."", subtitle ""Consectetur adipiscing elit"", summary ""Vestibulum aquilam sodales tellus.""
I have an updated set of patterns for UK Freeview/Freesat in development using these, but that's for another PR. Mechanism first. This PR does not alter the behaviour of the existing UK scrapers.
At present, title and summary scraping can be enable/disabled separately to subtitle scraping. I am undecided whether they should be combined into a single user setting. It's likely/possible that title/subtitle/summary patterns will work in concert, and having them separately enabled may give confusing results.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1067,2017-12-21T16:32:57Z,2017-12-21T17:27:01Z,2017-12-21T17:27:01Z,CLOSED,False,226,116,8,https://github.com/banburybill,"eit: Add title and summary scrapers, and re-work how text is extracted",2,[],https://github.com/tvheadend/tvheadend/pull/1067,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1067#issuecomment-353409058,"This PR adds title and summary scrapers to EIT grabbing. As with subtitles, the summary scraper is given just the summary field as input, but the title scraper is given ""<title> "" as input (note space between title and summary).
The output from a scraper is extended to become the concatenation of all matched sub-patterns. This allows patterns to cherry-pick text from different parts of their input. This breaks my previous (unused in all public patterns) hack of setting the summary from a second sub-pattern in the subtitle.
The new scrapers mean it is now possible to reconstruct long titles when split by the UK EPG e.g. a title ""Lorum Ipsum..."" and summary ""...dolor sit amet. Consectetur adipiscing elit: Vestibulum aquilam sodales tellus."" can now be scraped into title ""Lorum Ipsum dolor sit amet."", subtitle ""Consectetur adipiscing elit"", summary ""Vestibulum aquilam sodales tellus.""
I have an updated set of patterns for UK Freeview/Freesat in development using these, but that's for another PR. Mechanism first. This PR does not alter the behaviour of the existing UK scrapers.
At present, title and summary scraping can be enable/disabled separately to subtitle scraping. I am undecided whether they should be combined into a single user setting. It's likely/possible that title/subtitle/summary patterns will work in concert, and having them separately enabled may give confusing results.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1068,2017-12-21T19:51:55Z,2017-12-22T07:36:55Z,2017-12-22T07:36:55Z,CLOSED,False,12,9,2,https://github.com/pablozg,Some minor fixes,1,[],https://github.com/tvheadend/tvheadend/pull/1068,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1068,"Fix two issues:

All recordings ""completed ok"" show with a wrong icon in webui.
All button without a question show a ""Do you really want to delete the selection?"" question by default.","Fix two issues:

All recordings ""completed ok"" show with a wrong icon in webui.
All button without a question show a ""Do you really want to delete the selection?"" question by default.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1068,2017-12-21T19:51:55Z,2017-12-22T07:36:55Z,2017-12-22T07:36:55Z,CLOSED,False,12,9,2,https://github.com/pablozg,Some minor fixes,1,[],https://github.com/tvheadend/tvheadend/pull/1068,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1068#issuecomment-353540616,"Fix two issues:

All recordings ""completed ok"" show with a wrong icon in webui.
All button without a question show a ""Do you really want to delete the selection?"" question by default.","Thanks. I merged the first part and reworked the other: 3718fbd, 9349a35 , 9538b1c.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1069,2017-12-25T17:32:48Z,2018-01-05T10:34:14Z,2018-01-05T10:34:14Z,CLOSED,False,86,13,3,https://github.com/pablozg,Little user friendly changes on webui,6,[],https://github.com/tvheadend/tvheadend/pull/1069,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1069,"I have made some user friendly changes on the webui:


When show / hide the duplicates recordings, now it show / hide the ""rerun of"" column.


Added the grouping option, is only  enabled by default at ""Finished Recordings"" (but it can be used in the other tabs) and the group are collapsed, so you can expand the needed group and show the recordings.


I wish it will usefull for others.","I have made some user friendly changes on the webui:


When show / hide the duplicates recordings, now it show / hide the ""rerun of"" column.


Added the grouping option, is only  enabled by default at ""Finished Recordings"" (but it can be used in the other tabs) and the group are collapsed, so you can expand the needed group and show the recordings.


I wish it will usefull for others.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1069,2017-12-25T17:32:48Z,2018-01-05T10:34:14Z,2018-01-05T10:34:14Z,CLOSED,False,86,13,3,https://github.com/pablozg,Little user friendly changes on webui,6,[],https://github.com/tvheadend/tvheadend/pull/1069,https://github.com/pablozg,2,https://github.com/tvheadend/tvheadend/pull/1069#issuecomment-353941689,"I have made some user friendly changes on the webui:


When show / hide the duplicates recordings, now it show / hide the ""rerun of"" column.


Added the grouping option, is only  enabled by default at ""Finished Recordings"" (but it can be used in the other tabs) and the group are collapsed, so you can expand the needed group and show the recordings.


I wish it will usefull for others.",I think all is fixed now. Could you take a look? Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1069,2017-12-25T17:32:48Z,2018-01-05T10:34:14Z,2018-01-05T10:34:14Z,CLOSED,False,86,13,3,https://github.com/pablozg,Little user friendly changes on webui,6,[],https://github.com/tvheadend/tvheadend/pull/1069,https://github.com/pablozg,3,https://github.com/tvheadend/tvheadend/pull/1069#issuecomment-354002106,"I have made some user friendly changes on the webui:


When show / hide the duplicates recordings, now it show / hide the ""rerun of"" column.


Added the grouping option, is only  enabled by default at ""Finished Recordings"" (but it can be used in the other tabs) and the group are collapsed, so you can expand the needed group and show the recordings.


I wish it will usefull for others.","Changes made. ;-)
P.D. Please view the comment about JsonStore.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1069,2017-12-25T17:32:48Z,2018-01-05T10:34:14Z,2018-01-05T10:34:14Z,CLOSED,False,86,13,3,https://github.com/pablozg,Little user friendly changes on webui,6,[],https://github.com/tvheadend/tvheadend/pull/1069,https://github.com/mpmc,4,https://github.com/tvheadend/tvheadend/pull/1069#issuecomment-354008936,"I have made some user friendly changes on the webui:


When show / hide the duplicates recordings, now it show / hide the ""rerun of"" column.


Added the grouping option, is only  enabled by default at ""Finished Recordings"" (but it can be used in the other tabs) and the group are collapsed, so you can expand the needed group and show the recordings.


I wish it will usefull for others.","I like these changes, makes the GUI look much nicer IMO. :)
However I agree with @perexg, grouping should be optional & having a group button is more user friendly (IMO) rather than having it hidden in the drop-down.
With that said, @pablozg please do continue with these usability improvements =D, and if possible, please update the help screenshots to include your awesome features :)

My overall thoughts though is there's very little point in making huge changes to the webui as it's under discussion for replacement!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1069,2017-12-25T17:32:48Z,2018-01-05T10:34:14Z,2018-01-05T10:34:14Z,CLOSED,False,86,13,3,https://github.com/pablozg,Little user friendly changes on webui,6,[],https://github.com/tvheadend/tvheadend/pull/1069,https://github.com/pablozg,5,https://github.com/tvheadend/tvheadend/pull/1069#issuecomment-354421109,"I have made some user friendly changes on the webui:


When show / hide the duplicates recordings, now it show / hide the ""rerun of"" column.


Added the grouping option, is only  enabled by default at ""Finished Recordings"" (but it can be used in the other tabs) and the group are collapsed, so you can expand the needed group and show the recordings.


I wish it will usefull for others.","Button added for finished recordings, when enable you can group by field clicking on the field header.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1069,2017-12-25T17:32:48Z,2018-01-05T10:34:14Z,2018-01-05T10:34:14Z,CLOSED,False,86,13,3,https://github.com/pablozg,Little user friendly changes on webui,6,[],https://github.com/tvheadend/tvheadend/pull/1069,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/1069#issuecomment-355523451,"I have made some user friendly changes on the webui:


When show / hide the duplicates recordings, now it show / hide the ""rerun of"" column.


Added the grouping option, is only  enabled by default at ""Finished Recordings"" (but it can be used in the other tabs) and the group are collapsed, so you can expand the needed group and show the recordings.


I wish it will usefull for others.",Merged and added changes in d61d200 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1070,2017-12-27T09:46:11Z,2017-12-27T11:16:43Z,2017-12-27T11:16:43Z,CLOSED,False,17,1,1,https://github.com/jwh,iptv: add parsing of tvh-[s]prio in m3u playlists,2,[],https://github.com/tvheadend/tvheadend/pull/1070,https://github.com/jwh,1,https://github.com/tvheadend/tvheadend/pull/1070,build and runtime tested,build and runtime tested,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1070,2017-12-27T09:46:11Z,2017-12-27T11:16:43Z,2017-12-27T11:16:43Z,CLOSED,False,17,1,1,https://github.com/jwh,iptv: add parsing of tvh-[s]prio in m3u playlists,2,[],https://github.com/tvheadend/tvheadend/pull/1070,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1070#issuecomment-354098702,build and runtime tested,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1071,2017-12-28T10:40:05Z,2017-12-28T15:29:53Z,2017-12-28T15:29:53Z,CLOSED,False,81,12,4,https://github.com/banburybill,eit: allow scraper regexes to be marked as filters (#4818),1,[],https://github.com/tvheadend/tvheadend/pull/1071,https://github.com/banburybill,1,https://github.com/tvheadend/tvheadend/pull/1071,"Introduce an extended scraper regex syntax; as well as a string, a regex
can be specified as a map. The map must have an entry ""pattern"" with the
regex pattern. It may also have an entry ""filter"", with a numeric value.
If this value is not 0, the regular expression is a filter.
If a filter regular expression matches the input text, the result of the
match replaces the input text, and processing continues from the next
regular expression with that new input text.
Issue: 4818","Introduce an extended scraper regex syntax; as well as a string, a regex
can be specified as a map. The map must have an entry ""pattern"" with the
regex pattern. It may also have an entry ""filter"", with a numeric value.
If this value is not 0, the regular expression is a filter.
If a filter regular expression matches the input text, the result of the
match replaces the input text, and processing continues from the next
regular expression with that new input text.
Issue: 4818",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1071,2017-12-28T10:40:05Z,2017-12-28T15:29:53Z,2017-12-28T15:29:53Z,CLOSED,False,81,12,4,https://github.com/banburybill,eit: allow scraper regexes to be marked as filters (#4818),1,[],https://github.com/tvheadend/tvheadend/pull/1071,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1071#issuecomment-354292758,"Introduce an extended scraper regex syntax; as well as a string, a regex
can be specified as a map. The map must have an entry ""pattern"" with the
regex pattern. It may also have an entry ""filter"", with a numeric value.
If this value is not 0, the regular expression is a filter.
If a filter regular expression matches the input text, the result of the
match replaces the input text, and processing continues from the next
regular expression with that new input text.
Issue: 4818","Looks good. Perhaps, you can add the language selector using this data structure, too, like:
     {
         ""pattern"": ""^[.][.][.][^:.?!]*[.:?!] +(.*)"",
         ""lang"": ""cze""
     },
     {
         ""pattern"": ""^[.][.][.][^:.?!]*[.:?!] +(.*)"",
         ""lang"": [""cze"",""slo""]
     },

The language codes are here (first field): https://github.com/tvheadend/tvheadend/blob/master/src/lang_codes.c#L29",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1071,2017-12-28T10:40:05Z,2017-12-28T15:29:53Z,2017-12-28T15:29:53Z,CLOSED,False,81,12,4,https://github.com/banburybill,eit: allow scraper regexes to be marked as filters (#4818),1,[],https://github.com/tvheadend/tvheadend/pull/1071,https://github.com/banburybill,3,https://github.com/tvheadend/tvheadend/pull/1071#issuecomment-354295366,"Introduce an extended scraper regex syntax; as well as a string, a regex
can be specified as a map. The map must have an entry ""pattern"" with the
regex pattern. It may also have an entry ""filter"", with a numeric value.
If this value is not 0, the regular expression is a filter.
If a filter regular expression matches the input text, the result of the
match replaces the input text, and processing continues from the next
regular expression with that new input text.
Issue: 4818","That's an idea. Pass the text language into the pattern matcher, and if a pattern has one or more languages specified, ignore the pattern and skip to the next unless one of the pattern languages matches the text language.
I'll give it a go. Probably makes sense as a separate PR, though.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1071,2017-12-28T10:40:05Z,2017-12-28T15:29:53Z,2017-12-28T15:29:53Z,CLOSED,False,81,12,4,https://github.com/banburybill,eit: allow scraper regexes to be marked as filters (#4818),1,[],https://github.com/tvheadend/tvheadend/pull/1071,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1071#issuecomment-354305844,"Introduce an extended scraper regex syntax; as well as a string, a regex
can be specified as a map. The map must have an entry ""pattern"" with the
regex pattern. It may also have an entry ""filter"", with a numeric value.
If this value is not 0, the regular expression is a filter.
If a filter regular expression matches the input text, the result of the
match replaces the input text, and processing continues from the next
regular expression with that new input text.
Issue: 4818",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1072,2017-12-28T20:51:25Z,2018-01-05T09:31:58Z,2018-01-05T09:31:58Z,CLOSED,False,120,25,7,https://github.com/banburybill,eit: add language identifier for scraper regexes (#4820),1,[],https://github.com/tvheadend/tvheadend/pull/1072,https://github.com/banburybill,1,https://github.com/tvheadend/tvheadend/pull/1072,"Allow scraper regexes to be tagged with a single language identifier or
a list of language identifiers.
Tagged regexes will only be used against input text in languages
matching the tag. Otherwise the regex is skipped.
I don't have access to EIT with multilingual text. I have tested the mechanism, but it would be nice to confirm it works under live firing conditions. :-)","Allow scraper regexes to be tagged with a single language identifier or
a list of language identifiers.
Tagged regexes will only be used against input text in languages
matching the tag. Otherwise the regex is skipped.
I don't have access to EIT with multilingual text. I have tested the mechanism, but it would be nice to confirm it works under live firing conditions. :-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1072,2017-12-28T20:51:25Z,2018-01-05T09:31:58Z,2018-01-05T09:31:58Z,CLOSED,False,120,25,7,https://github.com/banburybill,eit: add language identifier for scraper regexes (#4820),1,[],https://github.com/tvheadend/tvheadend/pull/1072,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1072#issuecomment-355510703,"Allow scraper regexes to be tagged with a single language identifier or
a list of language identifiers.
Tagged regexes will only be used against input text in languages
matching the tag. Otherwise the regex is skipped.
I don't have access to EIT with multilingual text. I have tested the mechanism, but it would be nice to confirm it works under live firing conditions. :-)",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1073,2018-01-01T00:51:47Z,2018-01-05T09:33:25Z,2018-01-05T09:33:25Z,CLOSED,False,1,1,1,https://github.com/Trujulu,Update Copyright: Happy new year!,1,[],https://github.com/tvheadend/tvheadend/pull/1073,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1073,,,True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1073,2018-01-01T00:51:47Z,2018-01-05T09:33:25Z,2018-01-05T09:33:25Z,CLOSED,False,1,1,1,https://github.com/Trujulu,Update Copyright: Happy new year!,1,[],https://github.com/tvheadend/tvheadend/pull/1073,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1073#issuecomment-355511027,,Code applied. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1074,2018-01-02T14:02:03Z,2018-01-05T09:34:38Z,2018-01-05T09:34:38Z,CLOSED,False,169,13,3,https://github.com/banburybill,eit: update UK scrapers to use new facilities (#4818),1,[],https://github.com/tvheadend/tvheadend/pull/1074,https://github.com/banburybill,1,https://github.com/tvheadend/tvheadend/pull/1074,"Refresh the UK scrapers to exploit recent mechanism changes. Add title
and summary scrapers, alternate PCRE patterns that offer a little more
sophistication, and make use of filter patterns to simplify matching a
little.
Issue: #4818","Refresh the UK scrapers to exploit recent mechanism changes. Add title
and summary scrapers, alternate PCRE patterns that offer a little more
sophistication, and make use of filter patterns to simplify matching a
little.
Issue: #4818",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1074,2018-01-02T14:02:03Z,2018-01-05T09:34:38Z,2018-01-05T09:34:38Z,CLOSED,False,169,13,3,https://github.com/banburybill,eit: update UK scrapers to use new facilities (#4818),1,[],https://github.com/tvheadend/tvheadend/pull/1074,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1074#issuecomment-355511246,"Refresh the UK scrapers to exploit recent mechanism changes. Add title
and summary scrapers, alternate PCRE patterns that offer a little more
sophistication, and make use of filter patterns to simplify matching a
little.
Issue: #4818",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1075,2018-01-02T14:39:18Z,2018-01-05T09:52:35Z,2018-01-05T09:52:35Z,CLOSED,False,1,1,1,https://github.com/dkonerma,"transcode: set AVFILTER_AUTO_CONVERT_ALL, issue #4797",1,[],https://github.com/tvheadend/tvheadend/pull/1075,https://github.com/dkonerma,1,https://github.com/tvheadend/tvheadend/pull/1075,"Hope this has no unwanted side effects, but this resolves issue #4797 for me. See also https://tvheadend.org/boards/5/topics/30402.","Hope this has no unwanted side effects, but this resolves issue #4797 for me. See also https://tvheadend.org/boards/5/topics/30402.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1075,2018-01-02T14:39:18Z,2018-01-05T09:52:35Z,2018-01-05T09:52:35Z,CLOSED,False,1,1,1,https://github.com/dkonerma,"transcode: set AVFILTER_AUTO_CONVERT_ALL, issue #4797",1,[],https://github.com/tvheadend/tvheadend/pull/1075,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1075#issuecomment-355514928,"Hope this has no unwanted side effects, but this resolves issue #4797 for me. See also https://tvheadend.org/boards/5/topics/30402.",Applied. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1076,2018-01-03T19:33:43Z,2018-01-05T09:35:38Z,2018-01-05T09:35:38Z,CLOSED,False,6,1,1,https://github.com/ksooo,HTSP: Expose recording files' start and stop time.,1,[],https://github.com/tvheadend/tvheadend/pull/1076,https://github.com/ksooo,1,https://github.com/tvheadend/tvheadend/pull/1076,"The start/stop times of the recording files are needed by Kodi's tvheadend PVR client addon (pvr.hts) to calculate proper recording play times.
It would be great if this PR could also be applied to the 4.2 branch as without this fix Kodi can only work with tvh master (4.3).","The start/stop times of the recording files are needed by Kodi's tvheadend PVR client addon (pvr.hts) to calculate proper recording play times.
It would be great if this PR could also be applied to the 4.2 branch as without this fix Kodi can only work with tvh master (4.3).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1076,2018-01-03T19:33:43Z,2018-01-05T09:35:38Z,2018-01-05T09:35:38Z,CLOSED,False,6,1,1,https://github.com/ksooo,HTSP: Expose recording files' start and stop time.,1,[],https://github.com/tvheadend/tvheadend/pull/1076,https://github.com/ksooo,2,https://github.com/tvheadend/tvheadend/pull/1076#issuecomment-355368993,"The start/stop times of the recording files are needed by Kodi's tvheadend PVR client addon (pvr.hts) to calculate proper recording play times.
It would be great if this PR could also be applied to the 4.2 branch as without this fix Kodi can only work with tvh master (4.3).","Needs HTSP version bump?

No. Clients can simply check whether the two new fields (""start"" and ""stop"") are contained in the HTSP message and react accordingly. The fields are only read, never set by the client.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1076,2018-01-03T19:33:43Z,2018-01-05T09:35:38Z,2018-01-05T09:35:38Z,CLOSED,False,6,1,1,https://github.com/ksooo,HTSP: Expose recording files' start and stop time.,1,[],https://github.com/tvheadend/tvheadend/pull/1076,https://github.com/Jalle19,3,https://github.com/tvheadend/tvheadend/pull/1076#issuecomment-355488246,"The start/stop times of the recording files are needed by Kodi's tvheadend PVR client addon (pvr.hts) to calculate proper recording play times.
It would be great if this PR could also be applied to the 4.2 branch as without this fix Kodi can only work with tvh master (4.3).",Okay,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1076,2018-01-03T19:33:43Z,2018-01-05T09:35:38Z,2018-01-05T09:35:38Z,CLOSED,False,6,1,1,https://github.com/ksooo,HTSP: Expose recording files' start and stop time.,1,[],https://github.com/tvheadend/tvheadend/pull/1076,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1076#issuecomment-355511451,"The start/stop times of the recording files are needed by Kodi's tvheadend PVR client addon (pvr.hts) to calculate proper recording play times.
It would be great if this PR could also be applied to the 4.2 branch as without this fix Kodi can only work with tvh master (4.3).",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1077,2018-01-09T11:11:39Z,2018-01-15T09:23:02Z,2018-01-15T09:23:02Z,CLOSED,False,0,0,0,https://github.com/pablozg,"Fix: Rerecord an event added as ""previously recorded"" if an start tim…",0,[],https://github.com/tvheadend/tvheadend/pull/1077,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1077,"…e change occurs since it was added.
Since we added the ""previously recorded"" option, I have been observing that an event added as previously recorded is rescheduled for record if the start time change to an early time. An example:
Event added as previously recorded with a start time of ""14/01/2018 15:15:00"" (Spanish date format),
If the next time we reimport the xmltv file it has a start time change like: ""14/01/2018 15:14:00"" then the event will be rescheduled.","…e change occurs since it was added.
Since we added the ""previously recorded"" option, I have been observing that an event added as previously recorded is rescheduled for record if the start time change to an early time. An example:
Event added as previously recorded with a start time of ""14/01/2018 15:15:00"" (Spanish date format),
If the next time we reimport the xmltv file it has a start time change like: ""14/01/2018 15:14:00"" then the event will be rescheduled.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1078,2018-01-15T10:00:58Z,2018-01-16T10:06:01Z,2018-01-16T10:06:01Z,CLOSED,False,12,12,2,https://github.com/pablozg,"Fix: Rerecord of an event added as ""previously recorded"", typo mismatch and missing ""Episode"" column in webui ",2,[],https://github.com/tvheadend/tvheadend/pull/1078,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1078,"Since we added the ""previously recorded"" option, I have been observing that an event added as previously recorded is rescheduled for record if the start time change to an early time. An example:
Event added as previously recorded with a start time of ""14/01/2018 15:15:00"" (Spanish date format),
If the next time we reimport the xmltv file it has a start time change like: ""14/01/2018 15:14:00"" then the event will be rescheduled.
After commit #37db5d9 episode column name was changed but not updated in webui.","Since we added the ""previously recorded"" option, I have been observing that an event added as previously recorded is rescheduled for record if the start time change to an early time. An example:
Event added as previously recorded with a start time of ""14/01/2018 15:15:00"" (Spanish date format),
If the next time we reimport the xmltv file it has a start time change like: ""14/01/2018 15:14:00"" then the event will be rescheduled.
After commit #37db5d9 episode column name was changed but not updated in webui.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1078,2018-01-15T10:00:58Z,2018-01-16T10:06:01Z,2018-01-16T10:06:01Z,CLOSED,False,12,12,2,https://github.com/pablozg,"Fix: Rerecord of an event added as ""previously recorded"", typo mismatch and missing ""Episode"" column in webui ",2,[],https://github.com/tvheadend/tvheadend/pull/1078,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1078#issuecomment-357912044,"Since we added the ""previously recorded"" option, I have been observing that an event added as previously recorded is rescheduled for record if the start time change to an early time. An example:
Event added as previously recorded with a start time of ""14/01/2018 15:15:00"" (Spanish date format),
If the next time we reimport the xmltv file it has a start time change like: ""14/01/2018 15:14:00"" then the event will be rescheduled.
After commit #37db5d9 episode column name was changed but not updated in webui.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1079,2018-01-18T21:53:45Z,2018-01-18T22:39:49Z,2018-01-18T22:39:49Z,CLOSED,False,3,2,1,https://github.com/jerome992,Bugfix for season end episode decoder,1,[],https://github.com/tvheadend/tvheadend/pull/1079,https://github.com/jerome992,1,https://github.com/tvheadend/tvheadend/pull/1079,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1079,2018-01-18T21:53:45Z,2018-01-18T22:39:49Z,2018-01-18T22:39:49Z,CLOSED,False,3,2,1,https://github.com/jerome992,Bugfix for season end episode decoder,1,[],https://github.com/tvheadend/tvheadend/pull/1079,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1079#issuecomment-358805577,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1080,2018-01-22T04:21:45Z,2018-01-22T19:09:59Z,2018-01-22T22:12:59Z,CLOSED,False,1,1,1,https://github.com/ewestbrook,src/epggrab/module.c: Presumed typo in xmltv unix socket listen() call,1,[],https://github.com/tvheadend/tvheadend/pull/1080,https://github.com/ewestbrook,1,https://github.com/tvheadend/tvheadend/pull/1080,"With ""mod->sock"", the xmltv epg module fails startup with invalid file descriptor, and connections fail with ""connection refused"".  With ""sock"", connections succeed and data is accepted.","With ""mod->sock"", the xmltv epg module fails startup with invalid file descriptor, and connections fail with ""connection refused"".  With ""sock"", connections succeed and data is accepted.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1080,2018-01-22T04:21:45Z,2018-01-22T19:09:59Z,2018-01-22T22:12:59Z,CLOSED,False,1,1,1,https://github.com/ewestbrook,src/epggrab/module.c: Presumed typo in xmltv unix socket listen() call,1,[],https://github.com/tvheadend/tvheadend/pull/1080,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1080#issuecomment-359531436,"With ""mod->sock"", the xmltv epg module fails startup with invalid file descriptor, and connections fail with ""connection refused"".  With ""sock"", connections succeed and data is accepted.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1081,2018-02-04T14:59:10Z,2018-02-22T15:40:37Z,2018-02-22T15:40:37Z,CLOSED,False,32,8,3,https://github.com/pablozg,"Add feature #4902, the option to edit extratext field (subtitle,summa…",7,[],https://github.com/tvheadend/tvheadend/pull/1081,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1081,"…ry or description) and the episode field, because sometimes the recordings don't have the proper order (one missed, no free adapter, etc) and is good to have the option to add the ""Season XX.Episode XX"" text by hand if it not set previously.","…ry or description) and the episode field, because sometimes the recordings don't have the proper order (one missed, no free adapter, etc) and is good to have the option to add the ""Season XX.Episode XX"" text by hand if it not set previously.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1081,2018-02-04T14:59:10Z,2018-02-22T15:40:37Z,2018-02-22T15:40:37Z,CLOSED,False,32,8,3,https://github.com/pablozg,"Add feature #4902, the option to edit extratext field (subtitle,summa…",7,[],https://github.com/tvheadend/tvheadend/pull/1081,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1081#issuecomment-367720926,"…ry or description) and the episode field, because sometimes the recordings don't have the proper order (one missed, no free adapter, etc) and is good to have the option to add the ""Season XX.Episode XX"" text by hand if it not set previously.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1082,2018-02-08T18:23:26Z,2018-02-09T09:51:14Z,2018-02-09T09:51:14Z,CLOSED,False,7,0,2,https://github.com/mpmc,epg/xmltv: add missing extratext,1,[],https://github.com/tvheadend/tvheadend/pull/1082,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1082,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1083,2018-02-14T10:17:57Z,2018-02-22T15:40:58Z,2018-02-22T15:40:58Z,CLOSED,False,5,5,3,https://github.com/banburybill,eit: combine title and subtitle when scraping title with ' % ' (#4873),1,[],https://github.com/tvheadend/tvheadend/pull/1083,https://github.com/banburybill,1,https://github.com/tvheadend/tvheadend/pull/1083,"Currently title and subtitle are combined by joining with a single space. If the scrape is attempting to just modify the title, that's a problem because you don't know where the title ends.
So instead join with ' % '. % isn't a regex metachar, so this is convenient for use in regexes.
Update scraper test engine and UK regexes to match.
Issue: #4873","Currently title and subtitle are combined by joining with a single space. If the scrape is attempting to just modify the title, that's a problem because you don't know where the title ends.
So instead join with ' % '. % isn't a regex metachar, so this is convenient for use in regexes.
Update scraper test engine and UK regexes to match.
Issue: #4873",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1083,2018-02-14T10:17:57Z,2018-02-22T15:40:58Z,2018-02-22T15:40:58Z,CLOSED,False,5,5,3,https://github.com/banburybill,eit: combine title and subtitle when scraping title with ' % ' (#4873),1,[],https://github.com/tvheadend/tvheadend/pull/1083,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1083#issuecomment-367721060,"Currently title and subtitle are combined by joining with a single space. If the scrape is attempting to just modify the title, that's a problem because you don't know where the title ends.
So instead join with ' % '. % isn't a regex metachar, so this is convenient for use in regexes.
Update scraper test engine and UK regexes to match.
Issue: #4873",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1084,2018-02-15T20:16:10Z,2018-02-15T20:21:39Z,2018-03-18T10:15:43Z,CLOSED,False,12,12,1,https://github.com/pablozg,fix missing episode info in previous recordings since last commit,1,[],https://github.com/tvheadend/tvheadend/pull/1084,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1084,"With the last changes made in epg, the episode info don't show.","With the last changes made in epg, the episode info don't show.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1084,2018-02-15T20:16:10Z,2018-02-15T20:21:39Z,2018-03-18T10:15:43Z,CLOSED,False,12,12,1,https://github.com/pablozg,fix missing episode info in previous recordings since last commit,1,[],https://github.com/tvheadend/tvheadend/pull/1084,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1084#issuecomment-366049753,"With the last changes made in epg, the episode info don't show.",Fixed in ba38add (a little bit different way).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1085,2018-02-16T09:57:04Z,2018-02-22T15:41:39Z,2018-02-22T15:41:39Z,CLOSED,False,1,1,1,https://github.com/lambdadelivery,Trace broken since 6ee756a829ef6ce2e89daa7dd1737164a6697e29,1,[],https://github.com/tvheadend/tvheadend/pull/1085,https://github.com/lambdadelivery,1,https://github.com/tvheadend/tvheadend/pull/1085,Bug in bitops.h,Bug in bitops.h,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1085,2018-02-16T09:57:04Z,2018-02-22T15:41:39Z,2018-02-22T15:41:39Z,CLOSED,False,1,1,1,https://github.com/lambdadelivery,Trace broken since 6ee756a829ef6ce2e89daa7dd1737164a6697e29,1,[],https://github.com/tvheadend/tvheadend/pull/1085,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1085#issuecomment-367721283,Bug in bitops.h,Fixed in ee368a0 (a bit differently).,True,{'THUMBS_UP': ['https://github.com/lambdadelivery']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1086,2018-02-17T21:13:54Z,2018-02-18T03:04:35Z,2018-02-18T10:46:47Z,CLOSED,False,225,59,8,https://github.com/jasmin-j,DD CI Phase Two (MCD),6,[],https://github.com/tvheadend/tvheadend/pull/1086,https://github.com/jasmin-j,1,https://github.com/tvheadend/tvheadend/pull/1086,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
It has been tested also be Alexander P. (https://tvheadend.org/boards/13/topics/29639?r=31474#message-31474).
It requires to configure with ""--enable-ddci_mcd"".","This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
It has been tested also be Alexander P. (https://tvheadend.org/boards/13/topics/29639?r=31474#message-31474).
It requires to configure with ""--enable-ddci_mcd"".",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1086,2018-02-17T21:13:54Z,2018-02-18T03:04:35Z,2018-02-18T10:46:47Z,CLOSED,False,225,59,8,https://github.com/jasmin-j,DD CI Phase Two (MCD),6,[],https://github.com/tvheadend/tvheadend/pull/1086,https://github.com/jasmin-j,2,https://github.com/tvheadend/tvheadend/pull/1086#issuecomment-366488928,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
It has been tested also be Alexander P. (https://tvheadend.org/boards/13/topics/29639?r=31474#message-31474).
It requires to configure with ""--enable-ddci_mcd"".","I have incorporated the requested changes in PR #1087.
Closing this PR.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1087,2018-02-18T03:02:51Z,2018-02-24T02:05:19Z,2018-02-24T02:05:19Z,CLOSED,False,171,89,5,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull II,4,[],https://github.com/tvheadend/tvheadend/pull/1087,https://github.com/jasmin-j,1,https://github.com/tvheadend/tvheadend/pull/1087,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the first PR #1086 have been incorporated.
Please see my comments concerning your review questions/suggestions in PR #1086.","This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the first PR #1086 have been incorporated.
Please see my comments concerning your review questions/suggestions in PR #1086.",True,"{'THUMBS_UP': ['https://github.com/herrnst', 'https://github.com/emilsvennesson']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1087,2018-02-18T03:02:51Z,2018-02-24T02:05:19Z,2018-02-24T02:05:19Z,CLOSED,False,171,89,5,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull II,4,[],https://github.com/tvheadend/tvheadend/pull/1087,https://github.com/herrnst,2,https://github.com/tvheadend/tvheadend/pull/1087#issuecomment-366510859,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the first PR #1086 have been incorporated.
Please see my comments concerning your review questions/suggestions in PR #1086.","Test results from my side for this functionality: ACL R2.2, One4All 2.4 in a DD OctoDuoCI PCIe Bridge. Currently - as I type this - TVH decrypts and streams four services (all on one mux), one played back in Kodi, one played back in VLC, and recording two additional ones. Everything working fine without glitches from what I have observed so far.
Good Job!
EDIT: Just started recording another service, so the ACL is able to decrypt more than four channels in sum :-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1087,2018-02-18T03:02:51Z,2018-02-24T02:05:19Z,2018-02-24T02:05:19Z,CLOSED,False,171,89,5,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull II,4,[],https://github.com/tvheadend/tvheadend/pull/1087,https://github.com/jasmin-j,3,https://github.com/tvheadend/tvheadend/pull/1087#issuecomment-368188731,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the first PR #1086 have been incorporated.
Please see my comments concerning your review questions/suggestions in PR #1086.","I have incorporated the requested changes in PR #1090.
Closing this PR.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1088,2018-02-20T12:07:23Z,2018-02-21T08:52:21Z,2018-02-21T08:52:21Z,CLOSED,False,0,0,0,https://github.com/mpmc,dvbscan/getmuxlist: change URL to use git scheme,0,[],https://github.com/tvheadend/tvheadend/pull/1088,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1088,This is a workaround for doozer.,This is a workaround for doozer.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1089,2018-02-22T16:02:46Z,2018-02-22T16:32:38Z,2018-02-22T16:32:38Z,CLOSED,False,3,1,1,https://github.com/mpmc,doozer: use git to pull in dvb-scan-tables,1,[],https://github.com/tvheadend/tvheadend/pull/1089,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1089,This only applies if DOOZER_JOBID exists.,This only applies if DOOZER_JOBID exists.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1089,2018-02-22T16:02:46Z,2018-02-22T16:32:38Z,2018-02-22T16:32:38Z,CLOSED,False,3,1,1,https://github.com/mpmc,doozer: use git to pull in dvb-scan-tables,1,[],https://github.com/tvheadend/tvheadend/pull/1089,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1089#issuecomment-367738761,This only applies if DOOZER_JOBID exists.,Merged. Many thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/jasmin-j,1,https://github.com/tvheadend/tvheadend/pull/1090,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-368220909,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","@jasmin-j you can git squash your commits (basic git workflow) or simply add a new one to the branch and they get updated here, there is no need to open an new PR at every change ;)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/jasmin-j,3,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-368224965,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","you can git squash your commits (basic git workflow)

If I would do that, the commit hash changes and then GitHub doesn't show the original comments any more.
I don't know if this odd behaviour of GitHub has been changed in the meantime.

or simply add a new one to the branch and they get updated here

If I would do so, then after merging there will be a long list of iterations with added code and removed code, which looks weird. Yes it would be possible to do a squash merge, but then someone needs to edit the commit message and distil the real changes. And I don't know if
a) @perexg will spend this effort and
b) GitHub allows to do a squash merge (I never tried this in my other projects).

there is no need to open an new PR at every change

You see I do this on purpose to prepare the PR 100% ready for easy smoothless merging with proper commit messages per step. And doing several PRs doesn't harm anyone.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/CvH,4,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-368227573,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","If I would do that, the commit hash changes and then GitHub doesn't show the original comments any more.

we do this since years (~3 at least) without any problems all the time, that is why I asked, wasn't sure if you don't know how it work as it makes our/your lives easier :)

which looks weird

githubs squash + merge works like you expect it, but this would squash all commits + comments into a single commit what wouldn't be too helpful here",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/herrnst,5,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-368232817,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","#1087 (comment)
Test repeated, still working fine.
BTW, @perexg I'll eventually contact you by mail regarding another hardware type and an issue I'm seeing with that and TVH and the DDCI support which isn't there in VDR, which seems like a quirk in TVH.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/jasmin-j,6,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-368239370,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","we do this since years (~3 at least) without any problems all the time

I can try it the next time (I am sure @perexg asks for another change ;) ) and see what happens with the comments.

as it makes our/your lives easier :)

You are right here, but ...
If it is OK for the maintainers to loose the comments when I re-submit the whole branch, I will try it next time.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/jasmin-j,7,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-368239390,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","Test repeated, still working fine.

THX for testing on your hardware!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/jasmin-j,8,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-368280594,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","I can try it the next time (I am sure @perexg asks for another change ;) ) and see what happens with the comments.

Now I did ""git push -f"" on the same branch and ... they improved GitHub!
There is now a button ""Show outdated"" with the comment from @perexg. I am impressed!
@herrnst:
I would be happy if you could check this hopefully last iteration also. I did already a check with DVBinspector and the CAT PID is not in the stream, so the new MPS_NOPOSTDEMUX flag is working as expected.",True,{'THUMBS_UP': ['https://github.com/CvH']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/herrnst,9,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-368294697,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","All fine still, TVH descrambles five channels in parallel through the CI CAM as I type this. EDIT: make that six channels, just started recording another one :-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/perexg,10,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-368302728,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.",@jasmin-j : Thanks. The code looks really good now from the first glance. I'll review it today later.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/jasmin-j,11,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-368304096,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","All fine still, TVH descrambles five channels in parallel through the CI CAM as I type this.

Thank you very much for testing!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/perexg,12,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-368329875,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/herrnst,13,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-378722161,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","Sorry for digging this one up after over a month of being merged and closed, though noticed this earlier but didn't find a proper chance to report this yet:
(Still) with current GIT HEAD (built today), tvheadend deadlocks during shutdown (ie. systemctl stop tvheadend) if at least one channel has been descrambled through a CAM via the DDCI implementation. It doesn't if the CAM wasn't used at all during the process' lifetime. From the gdb backtrace (https://pastebin.com/K2cqLX05) it looks like it's waiting in linuxdvb_ddci_rd_thread_stop, but this guess could aswell be just wrong.
If preferred (also due to the age of this PR), I may aswell put this up as issue on the TVH redmine.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/jasmin-j,14,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-378843487,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","it looks like it's waiting in linuxdvb_ddci_rd_thread_stop

I will have a look into this when I have some time. I should be able to reproduce this by watching an encrypted service and simply press  on the shell where I started TVH (terminating it).
There might be a mutex deadlock somewhere within the read thread and thus it doesn't stop.
BR,
Jasmin",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1090,2018-02-24T02:04:29Z,2018-02-25T17:58:37Z,2018-05-10T11:37:03Z,CLOSED,False,116,94,6,https://github.com/jasmin-j,DD CI Phase Two (MCD) pull III,6,[],https://github.com/tvheadend/tvheadend/pull/1090,https://github.com/herrnst,15,https://github.com/tvheadend/tvheadend/pull/1090#issuecomment-388029235,"This patch series adds MCD (Multi Channel Decoding) to the DD CI code.
The comments from @perexg for the second PR #1087 have been incorporated.
Now the whole stream is sent through the CAM.","Copied to redmine, and found another crash when trying to reproduce:
http://tvheadend.org/issues/5108
http://tvheadend.org/issues/5107",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1091,2018-02-24T12:21:07Z,2018-10-08T12:01:58Z,2018-10-08T12:01:58Z,CLOSED,False,75,57,6,https://github.com/Trujulu,SAT>IP: refactoring of IPTV inputs,1,[],https://github.com/tvheadend/tvheadend/pull/1091,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1091,"http://www.tvheadend.org/issues/4784
By Mono Polimorph","http://www.tvheadend.org/issues/4784
By Mono Polimorph",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1091,2018-02-24T12:21:07Z,2018-10-08T12:01:58Z,2018-10-08T12:01:58Z,CLOSED,False,75,57,6,https://github.com/Trujulu,SAT>IP: refactoring of IPTV inputs,1,[],https://github.com/tvheadend/tvheadend/pull/1091,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1091#issuecomment-427807340,"http://www.tvheadend.org/issues/4784
By Mono Polimorph","Declined, see the conversation in the issue - http://www.tvheadend.org/issues/4784 .",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1092,2018-02-24T12:21:22Z,2018-10-02T16:39:31Z,2018-10-02T16:39:31Z,CLOSED,False,37,1,2,https://github.com/Trujulu,SAT>IP: Print list of PIDs used in the SUBSCRIPTION section of the UI,1,[],https://github.com/tvheadend/tvheadend/pull/1092,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1092,"http://www.tvheadend.org/issues/4934
By Mono Polimorph","http://www.tvheadend.org/issues/4934
By Mono Polimorph",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1092,2018-02-24T12:21:22Z,2018-10-02T16:39:31Z,2018-10-02T16:39:31Z,CLOSED,False,37,1,2,https://github.com/Trujulu,SAT>IP: Print list of PIDs used in the SUBSCRIPTION section of the UI,1,[],https://github.com/tvheadend/tvheadend/pull/1092,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1092#issuecomment-368326728,"http://www.tvheadend.org/issues/4934
By Mono Polimorph","The implementation is not correct. The active pid list per service is managed in the mpegts input - mm->mm_pids, the service pointer is in owner fields (mpegts_pid_t).
So, we need probably another callback in service_t which returns the htsmsg_t list and put this code to mpegts_service.c and/or mpegts_input.c.
Also, s->ths_service might be NULL (there is already check for this).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1092,2018-02-24T12:21:22Z,2018-10-02T16:39:31Z,2018-10-02T16:39:31Z,CLOSED,False,37,1,2,https://github.com/Trujulu,SAT>IP: Print list of PIDs used in the SUBSCRIPTION section of the UI,1,[],https://github.com/tvheadend/tvheadend/pull/1092,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1092#issuecomment-368326803,"http://www.tvheadend.org/issues/4934
By Mono Polimorph","I mean that the implementation is not correct for standard services - if we add such feature, the subscribed PIDs should be visible for all subscriptions (in my opinion - including the RAW services like epggrab).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1092,2018-02-24T12:21:22Z,2018-10-02T16:39:31Z,2018-10-02T16:39:31Z,CLOSED,False,37,1,2,https://github.com/Trujulu,SAT>IP: Print list of PIDs used in the SUBSCRIPTION section of the UI,1,[],https://github.com/tvheadend/tvheadend/pull/1092,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1092#issuecomment-426344173,"http://www.tvheadend.org/issues/4934
By Mono Polimorph",Implemented a bit differently in the master. Commit 0c50a76 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1093,2018-02-24T12:21:31Z,2018-03-11T10:23:27Z,2018-03-11T10:23:27Z,CLOSED,False,18,2,1,https://github.com/Trujulu,SAT>IP: Add Transport Protocol to Input Name,1,[],https://github.com/tvheadend/tvheadend/pull/1093,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1093,"http://www.tvheadend.org/issues/4938
By Mono Polimorph","http://www.tvheadend.org/issues/4938
By Mono Polimorph",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1093,2018-02-24T12:21:31Z,2018-03-11T10:23:27Z,2018-03-11T10:23:27Z,CLOSED,False,18,2,1,https://github.com/Trujulu,SAT>IP: Add Transport Protocol to Input Name,1,[],https://github.com/tvheadend/tvheadend/pull/1093,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1093#issuecomment-368327029,"http://www.tvheadend.org/issues/4938
By Mono Polimorph","The implementation is incomplete - if you change UDP/TCP settings, the input name is not changed. Also, user may freely edit this name, so I guess we don't need this.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1094,2018-02-24T13:20:12Z,2018-02-25T17:58:02Z,2018-02-25T17:58:02Z,CLOSED,False,7,5,2,https://github.com/pablozg,fix: When a new dvr is created and the epg info have onscreen episode…,2,[],https://github.com/tvheadend/tvheadend/pull/1094,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1094,… is not passed to the new entry,… is not passed to the new entry,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1094,2018-02-24T13:20:12Z,2018-02-25T17:58:02Z,2018-02-25T17:58:02Z,CLOSED,False,7,5,2,https://github.com/pablozg,fix: When a new dvr is created and the epg info have onscreen episode…,2,[],https://github.com/tvheadend/tvheadend/pull/1094,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1094#issuecomment-368329824,… is not passed to the new entry,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1095,2018-02-27T21:51:42Z,2018-02-28T19:48:32Z,2018-02-28T19:48:32Z,CLOSED,False,1,1,1,https://github.com/Logout22,Fix potential nullptr access found by gcc 7.3,1,[],https://github.com/tvheadend/tvheadend/pull/1095,https://github.com/Logout22,1,https://github.com/tvheadend/tvheadend/pull/1095,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1096,2018-03-01T00:17:33Z,2018-03-05T14:00:42Z,2019-11-10T10:38:19Z,CLOSED,False,127,123,11,https://github.com/mpmc,webui: try to make the legend titles a bit more consistent throughout,1,[],https://github.com/tvheadend/tvheadend/pull/1096,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1096,.. will update screenshots in the help to match (in a later commit).,.. will update screenshots in the help to match (in a later commit).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1096,2018-03-01T00:17:33Z,2018-03-05T14:00:42Z,2019-11-10T10:38:19Z,CLOSED,False,127,123,11,https://github.com/mpmc,webui: try to make the legend titles a bit more consistent throughout,1,[],https://github.com/tvheadend/tvheadend/pull/1096,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1096#issuecomment-369482050,.. will update screenshots in the help to match (in a later commit).,Awesome work,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1096,2018-03-01T00:17:33Z,2018-03-05T14:00:42Z,2019-11-10T10:38:19Z,CLOSED,False,127,123,11,https://github.com/mpmc,webui: try to make the legend titles a bit more consistent throughout,1,[],https://github.com/tvheadend/tvheadend/pull/1096,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1096#issuecomment-370427671,.. will update screenshots in the help to match (in a later commit).,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1097,2018-03-05T11:16:29Z,2018-03-05T14:00:31Z,2018-03-05T14:00:31Z,CLOSED,False,2,2,1,https://github.com/LubosD,Insert card into card list before setting EMM state (issue #4988),1,[],https://github.com/tvheadend/tvheadend/pull/1097,https://github.com/LubosD,1,https://github.com/tvheadend/tvheadend/pull/1097,"This fixes the bug I described here: https://tvheadend.org/issues/4988
cc_emm_set_allowed() expects the card to be already present in cc->cc_cards.","This fixes the bug I described here: https://tvheadend.org/issues/4988
cc_emm_set_allowed() expects the card to be already present in cc->cc_cards.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1097,2018-03-05T11:16:29Z,2018-03-05T14:00:31Z,2018-03-05T14:00:31Z,CLOSED,False,2,2,1,https://github.com/LubosD,Insert card into card list before setting EMM state (issue #4988),1,[],https://github.com/tvheadend/tvheadend/pull/1097,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1097#issuecomment-370427610,"This fixes the bug I described here: https://tvheadend.org/issues/4988
cc_emm_set_allowed() expects the card to be already present in cc->cc_cards.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1098,2018-03-07T17:43:15Z,2018-03-08T07:42:33Z,2018-03-08T07:42:33Z,CLOSED,False,2,0,1,https://github.com/danielkucera,"epggrab: first change parameters, then submit to queue (fixes loop)",1,[],https://github.com/tvheadend/tvheadend/pull/1098,https://github.com/danielkucera,1,https://github.com/tvheadend/tvheadend/pull/1098,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1098,2018-03-07T17:43:15Z,2018-03-08T07:42:33Z,2018-03-08T07:42:33Z,CLOSED,False,2,0,1,https://github.com/danielkucera,"epggrab: first change parameters, then submit to queue (fixes loop)",1,[],https://github.com/tvheadend/tvheadend/pull/1098,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1098#issuecomment-371226163,,What do you like to fix with this? The access to epggrab_ota_pending tail queue should be always protected using the global_lock mutex.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1098,2018-03-07T17:43:15Z,2018-03-08T07:42:33Z,2018-03-08T07:42:33Z,CLOSED,False,2,0,1,https://github.com/danielkucera,"epggrab: first change parameters, then submit to queue (fixes loop)",1,[],https://github.com/tvheadend/tvheadend/pull/1098,https://github.com/danielkucera,3,https://github.com/tvheadend/tvheadend/pull/1098#issuecomment-371234290,,"It happens to me that epggrab stucks in a loop:
Mar  7 02:04:01 server tvheadend[10108]: mpegts: 10716H in upc - tuning on Conexant CX24117/CX24132 #0 : DVB-S #0
Mar  7 02:04:01 server tvheadend[10108]: 2018-03-07 02:04:01.061 [   INFO] mpegts: 10716H in upc - tuning on Conexant CX24117/CX24132 #0 : DVB-S #0
Mar  7 02:04:01 server tvheadend[10108]: subscription: 0014: ""epggrab"" subscribing to mux ""10716H"", weight: 4, adapter: ""Conexant CX24117/CX24132 #0 : DVB-S #0"", network: ""upc"", service: ""Raw PID Subscription""
Mar  7 02:04:01 server tvheadend[10108]: 2018-03-07 02:04:01.415 [   INFO] subscription: 0014: ""epggrab"" subscribing to mux ""10716H"", weight: 4, adapter: ""Conexant CX24117/CX24132 #0 : DVB-S #0"", network: ""upc"", service: ""Raw PID Subscription""
Mar  7 02:04:01 server tvheadend[10108]: mpegts: 10747H in upc - tuning on Conexant CX24117/CX24132 #1 : DVB-S #0
Mar  7 02:04:01 server tvheadend[10108]: 2018-03-07 02:04:01.432 [   INFO] mpegts: 10747H in upc - tuning on Conexant CX24117/CX24132 #1 : DVB-S #0
Mar  7 02:04:01 server tvheadend[10108]: subscription: 0015: ""epggrab"" subscribing to mux ""10747H"", weight: 4, adapter: ""Conexant CX24117/CX24132 #1 : DVB-S #0"", network: ""upc"", service: ""Raw PID Subscription""
Mar  7 02:04:01 server tvheadend[10108]: 2018-03-07 02:04:01.819 [   INFO] subscription: 0015: ""epggrab"" subscribing to mux ""10747H"", weight: 4, adapter: ""Conexant CX24117/CX24132 #1 : DVB-S #0"", network: ""upc"", service: ""Raw PID Subscription""
Mar  7 02:04:01 server tvheadend[10108]: mpegts: 10809H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 02:04:01 server tvheadend[10108]: 2018-03-07 02:04:01.826 [   INFO] mpegts: 10809H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 02:04:02 server tvheadend[10108]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 02:04:02 server tvheadend[10108]: 2018-03-07 02:04:02.187 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 02:04:02 server kernel: [630292.954223] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 02:04:02 server tvheadend[10108]: mpegts: 10809H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 02:04:02 server tvheadend[10108]: 2018-03-07 02:04:02.229 [   INFO] mpegts: 10809H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 02:04:02 server tvheadend[10108]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 02:04:02 server tvheadend[10108]: 2018-03-07 02:04:02.587 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 02:04:02 server tvheadend[10108]: mpegts: 10841H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 02:04:02 server tvheadend[10108]: 2018-03-07 02:04:02.588 [   INFO] mpegts: 10841H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 02:04:02 server kernel: [630293.354187] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 02:04:02 server tvheadend[10108]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 02:04:02 server tvheadend[10108]: 2018-03-07 02:04:02.947 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 02:04:02 server kernel: [630293.714156] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 02:04:02 server tvheadend[10108]: mpegts: 10872H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 02:04:02 server tvheadend[10108]: 2018-03-07 02:04:02.964 [   INFO] mpegts: 10872H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 02:04:04 server tvheadend[10108]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 02:04:04 server tvheadend[10108]: 2018-03-07 02:04:04.527 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 02:04:04 server tvheadend[10108]: mpegts: 10903H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 02:04:04 server tvheadend[10108]: 2018-03-07 02:04:04.527 [   INFO] mpegts: 10903H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 02:04:04 server kernel: [630295.294003] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 02:04:04 server tvheadend[10108]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 02:04:04 server tvheadend[10108]: 2018-03-07 02:04:04.887 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1098,2018-03-07T17:43:15Z,2018-03-08T07:42:33Z,2018-03-08T07:42:33Z,CLOSED,False,2,0,1,https://github.com/danielkucera,"epggrab: first change parameters, then submit to queue (fixes loop)",1,[],https://github.com/tvheadend/tvheadend/pull/1098,https://github.com/danielkucera,4,https://github.com/tvheadend/tvheadend/pull/1098#issuecomment-371240549,,"I've applied it just one hour ago and will test it if it really helps. Usually this happened few times a day so if the loop doesn't appear until tomorrow evening, I'll post an update.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1098,2018-03-07T17:43:15Z,2018-03-08T07:42:33Z,2018-03-08T07:42:33Z,CLOSED,False,2,0,1,https://github.com/danielkucera,"epggrab: first change parameters, then submit to queue (fixes loop)",1,[],https://github.com/tvheadend/tvheadend/pull/1098,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/1098#issuecomment-371271843,,"There's some hardware/driver issue with third tuner. TVH tries to allocate all tuners for the epggrab (you may restrict the tuner list for this job - see the tuner config). Anyway, try to resolve the issue with the problematic tuner.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1098,2018-03-07T17:43:15Z,2018-03-08T07:42:33Z,2018-03-08T07:42:33Z,CLOSED,False,2,0,1,https://github.com/danielkucera,"epggrab: first change parameters, then submit to queue (fixes loop)",1,[],https://github.com/tvheadend/tvheadend/pull/1098,https://github.com/danielkucera,6,https://github.com/tvheadend/tvheadend/pull/1098#issuecomment-371287172,,"Ok, the patch did not help. I use TBS6984 which is a 4 tuner DVB-S2 card. Let's say one tuner is faulty (accualy it is not connected only). The problem is, that when tvh starts beating to it with epggrab, all other tuners stop working and the web interfaces also stops responding. I guess this should not happen. At least I know how to trigger it now (I don't have to wait for it to happen).
When it's locked up, it only logs following without end:
Mar  7 22:14:37 server tvheadend[17878]: 2018-03-07 22:14:37.883 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:37 server tvheadend[17878]: 2018-03-07 22:14:37.883 [   INFO] mpegts: 12284H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:37 server tvheadend[17878]: mpegts: 12284H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:37 server kernel: [702922.682331] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 22:14:39 server tvheadend[17878]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:39 server tvheadend[17878]: 2018-03-07 22:14:39.443 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:39 server tvheadend[17878]: 2018-03-07 22:14:39.443 [   INFO] mpegts: 12284H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:39 server tvheadend[17878]: mpegts: 12284H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:39 server kernel: [702924.242205] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 22:14:41 server tvheadend[17878]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:41 server tvheadend[17878]: 2018-03-07 22:14:41.007 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:41 server tvheadend[17878]: 2018-03-07 22:14:41.007 [   INFO] mpegts: 12322H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:41 server tvheadend[17878]: mpegts: 12322H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:41 server kernel: [702925.806093] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 22:14:41 server tvheadend[17878]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:41 server tvheadend[17878]: 2018-03-07 22:14:41.367 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:41 server tvheadend[17878]: 2018-03-07 22:14:41.367 [   INFO] mpegts: 12322H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:41 server tvheadend[17878]: mpegts: 12322H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:41 server kernel: [702926.166064] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 22:14:41 server tvheadend[17878]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:41 server tvheadend[17878]: 2018-03-07 22:14:41.727 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:41 server tvheadend[17878]: 2018-03-07 22:14:41.727 [   INFO] mpegts: 12360H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:41 server tvheadend[17878]: mpegts: 12360H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:41 server kernel: [702926.526039] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 22:14:42 server tvheadend[17878]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:42 server tvheadend[17878]: 2018-03-07 22:14:42.087 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:42 server tvheadend[17878]: 2018-03-07 22:14:42.087 [   INFO] mpegts: 12360H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:42 server tvheadend[17878]: mpegts: 12360H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:42 server kernel: [702926.886019] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 22:14:42 server tvheadend[17878]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:42 server tvheadend[17878]: 2018-03-07 22:14:42.447 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:42 server tvheadend[17878]: 2018-03-07 22:14:42.447 [   INFO] mpegts: 12399H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:42 server tvheadend[17878]: mpegts: 12399H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:42 server kernel: [702927.245993] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 22:14:42 server tvheadend[17878]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:42 server tvheadend[17878]: 2018-03-07 22:14:42.807 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:42 server tvheadend[17878]: 2018-03-07 22:14:42.807 [   INFO] mpegts: 12437H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:42 server tvheadend[17878]: mpegts: 12437H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:42 server kernel: [702927.605959] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 22:14:43 server tvheadend[17878]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:43 server tvheadend[17878]: 2018-03-07 22:14:43.167 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:43 server tvheadend[17878]: 2018-03-07 22:14:43.167 [   INFO] mpegts: 12476H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:43 server tvheadend[17878]: mpegts: 12476H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:43 server kernel: [702927.965940] i2c i2c-8: cx24117: demod0 LNB not ready
Mar  7 22:14:43 server tvheadend[17878]: diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:43 server tvheadend[17878]: 2018-03-07 22:14:43.527 [  ERROR] diseqc: failed to set voltage (e=Connection timed out)
Mar  7 22:14:43 server tvheadend[17878]: 2018-03-07 22:14:43.527 [   INFO] mpegts: 12527H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:43 server tvheadend[17878]: mpegts: 12527H in upc - tuning on Conexant CX24117/CX24132 #2 : DVB-S #0
Mar  7 22:14:43 server kernel: [702928.325924] i2c i2c-8: cx24117: demod0 LNB not ready

The only solution I have so far is to restart tvh.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1098,2018-03-07T17:43:15Z,2018-03-08T07:42:33Z,2018-03-08T07:42:33Z,CLOSED,False,2,0,1,https://github.com/danielkucera,"epggrab: first change parameters, then submit to queue (fixes loop)",1,[],https://github.com/tvheadend/tvheadend/pull/1098,https://github.com/danielkucera,7,https://github.com/tvheadend/tvheadend/pull/1098#issuecomment-371290213,,"gdb says following:
(gdb) fin
Run till exit from #0  mpegts_mux_subscribe (mm=mm@entry=0x56084df8c720, mi=mi@entry=0x0, name=name@entry=0x56084ac913c6 ""epggrab"", weight=weight@entry=4, 
    flags=flags@entry=33152) at src/input/mpegts/mpegts_mux.c:1388
0x0000560849f9b684 in epggrab_ota_kick_cb (p=<optimized out>) at src/epggrab/otamux.c:573
573	  if ((r = mpegts_mux_subscribe(mm, NULL, ""epggrab"",
Value returned is $1 = 203",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1098,2018-03-07T17:43:15Z,2018-03-08T07:42:33Z,2018-03-08T07:42:33Z,CLOSED,False,2,0,1,https://github.com/danielkucera,"epggrab: first change parameters, then submit to queue (fixes loop)",1,[],https://github.com/tvheadend/tvheadend/pull/1098,https://github.com/danielkucera,8,https://github.com/tvheadend/tvheadend/pull/1098#issuecomment-371295375,,I've updated the patch. This really fixes the tuning loop. It's tested and works. Is it acceptable?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1098,2018-03-07T17:43:15Z,2018-03-08T07:42:33Z,2018-03-08T07:42:33Z,CLOSED,False,2,0,1,https://github.com/danielkucera,"epggrab: first change parameters, then submit to queue (fixes loop)",1,[],https://github.com/tvheadend/tvheadend/pull/1098,https://github.com/perexg,9,https://github.com/tvheadend/tvheadend/pull/1098#issuecomment-371406254,,"Yes, it looks like a more correct fix. I applied it, but it's not the ideal solution. Only the failing adapter (input) should be skipped.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1099,2018-03-12T04:58:16Z,2018-03-20T09:06:57Z,2018-03-20T09:06:57Z,CLOSED,False,1,1,1,https://github.com/thromer,Update dvr_db.c,1,[],https://github.com/tvheadend/tvheadend/pull/1099,https://github.com/thromer,1,https://github.com/tvheadend/tvheadend/pull/1099,"Fix typo -- &&& should have been &&.
Caught by compiling with clang:
src/dvr/dvr_db.c:2099:16: error: address of 'e->subtitle' will always evaluate to 'true' [-Werror,-Wpointer-bool-conversion]","Fix typo -- &&& should have been &&.
Caught by compiling with clang:
src/dvr/dvr_db.c:2099:16: error: address of 'e->subtitle' will always evaluate to 'true' [-Werror,-Wpointer-bool-conversion]",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1099,2018-03-12T04:58:16Z,2018-03-20T09:06:57Z,2018-03-20T09:06:57Z,CLOSED,False,1,1,1,https://github.com/thromer,Update dvr_db.c,1,[],https://github.com/tvheadend/tvheadend/pull/1099,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1099#issuecomment-374523956,"Fix typo -- &&& should have been &&.
Caught by compiling with clang:
src/dvr/dvr_db.c:2099:16: error: address of 'e->subtitle' will always evaluate to 'true' [-Werror,-Wpointer-bool-conversion]",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1100,2018-03-18T11:22:06Z,2018-03-21T19:14:30Z,2018-03-21T19:14:30Z,CLOSED,False,7,3,2,https://github.com/pablozg,Add request feature #5009,3,[],https://github.com/tvheadend/tvheadend/pull/1100,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1100,I think it can useful for everyone.,I think it can useful for everyone.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1100,2018-03-18T11:22:06Z,2018-03-21T19:14:30Z,2018-03-21T19:14:30Z,CLOSED,False,7,3,2,https://github.com/pablozg,Add request feature #5009,3,[],https://github.com/tvheadend/tvheadend/pull/1100,https://github.com/pablozg,2,https://github.com/tvheadend/tvheadend/pull/1100#issuecomment-374037863,I think it can useful for everyone.,"It's not correct, the field ""channel"" shows the number and the name, so don't worry.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1100,2018-03-18T11:22:06Z,2018-03-21T19:14:30Z,2018-03-21T19:14:30Z,CLOSED,False,7,3,2,https://github.com/pablozg,Add request feature #5009,3,[],https://github.com/tvheadend/tvheadend/pull/1100,https://github.com/ProfYaffle,3,https://github.com/tvheadend/tvheadend/pull/1100#issuecomment-374055056,I think it can useful for everyone.,"Okay - I'll relax a little, so thanks! - although doesn't that screw up alpha sorting by channel name?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1100,2018-03-18T11:22:06Z,2018-03-21T19:14:30Z,2018-03-21T19:14:30Z,CLOSED,False,7,3,2,https://github.com/pablozg,Add request feature #5009,3,[],https://github.com/tvheadend/tvheadend/pull/1100,https://github.com/pablozg,4,https://github.com/tvheadend/tvheadend/pull/1100#issuecomment-374161178,I think it can useful for everyone.,The field sorting is not affected. ;-),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1100,2018-03-18T11:22:06Z,2018-03-21T19:14:30Z,2018-03-21T19:14:30Z,CLOSED,False,7,3,2,https://github.com/pablozg,Add request feature #5009,3,[],https://github.com/tvheadend/tvheadend/pull/1100,https://github.com/ProfYaffle,5,https://github.com/tvheadend/tvheadend/pull/1100#issuecomment-374311776,I think it can useful for everyone.,"I'll shut up and go away, then 😁",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1100,2018-03-18T11:22:06Z,2018-03-21T19:14:30Z,2018-03-21T19:14:30Z,CLOSED,False,7,3,2,https://github.com/pablozg,Add request feature #5009,3,[],https://github.com/tvheadend/tvheadend/pull/1100,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/1100#issuecomment-374523758,I think it can useful for everyone.,"It's incomplete. You should handle the empty case (when empty uuid is returned in the channel field - it's the case when channel is removed, but the recordings have saved the channel name in 'channelname' field which is used currently).  See 'renderer:' functions in src/webui/static/app/dvr.js for examples.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1100,2018-03-18T11:22:06Z,2018-03-21T19:14:30Z,2018-03-21T19:14:30Z,CLOSED,False,7,3,2,https://github.com/pablozg,Add request feature #5009,3,[],https://github.com/tvheadend/tvheadend/pull/1100,https://github.com/pablozg,7,https://github.com/tvheadend/tvheadend/pull/1100#issuecomment-374978458,I think it can useful for everyone.,"Before to make the changes over 'dvrdb.c' file, I tried to do the dvr.js aproach with the rendered option, but only was able to get the field but not the number, now I have to learn of your code for the next time. Thanks perexg.
P.D. Feel free to close this PR",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1100,2018-03-18T11:22:06Z,2018-03-21T19:14:30Z,2018-03-21T19:14:30Z,CLOSED,False,7,3,2,https://github.com/pablozg,Add request feature #5009,3,[],https://github.com/tvheadend/tvheadend/pull/1100,https://github.com/perexg,8,https://github.com/tvheadend/tvheadend/pull/1100#issuecomment-375063407,I think it can useful for everyone.,Merged your 222c854 and fixed missing removed channel names in 1633221 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1101,2018-03-21T12:35:33Z,2018-03-25T17:38:35Z,2018-05-10T12:37:53Z,CLOSED,False,2,2,1,https://github.com/AlexMekkering,Upgrade to libhdhomerun_20171221,1,[],https://github.com/tvheadend/tvheadend/pull/1101,https://github.com/AlexMekkering,1,https://github.com/tvheadend/tvheadend/pull/1101,"This upgrades the static libhdhomerun to 20171221.
If possible, please also merge with the upcoming 4.2.6 release.","This upgrades the static libhdhomerun to 20171221.
If possible, please also merge with the upcoming 4.2.6 release.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1101,2018-03-21T12:35:33Z,2018-03-25T17:38:35Z,2018-05-10T12:37:53Z,CLOSED,False,2,2,1,https://github.com/AlexMekkering,Upgrade to libhdhomerun_20171221,1,[],https://github.com/tvheadend/tvheadend/pull/1101,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/1101#issuecomment-374936339,"This upgrades the static libhdhomerun to 20171221.
If possible, please also merge with the upcoming 4.2.6 release.",we are using that version with Tvheadend for a while and no problems appeared 👍,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1101,2018-03-21T12:35:33Z,2018-03-25T17:38:35Z,2018-05-10T12:37:53Z,CLOSED,False,2,2,1,https://github.com/AlexMekkering,Upgrade to libhdhomerun_20171221,1,[],https://github.com/tvheadend/tvheadend/pull/1101,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1101#issuecomment-375988579,"This upgrades the static libhdhomerun to 20171221.
If possible, please also merge with the upcoming 4.2.6 release.",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1102,2018-03-23T17:55:18Z,2018-03-25T17:38:46Z,2018-03-25T17:38:46Z,CLOSED,False,2,2,2,https://github.com/pablozg,Add request feature #5022,1,[],https://github.com/tvheadend/tvheadend/pull/1102,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1102,"I think this request is useful and make more easy to do changes from the grid without to have to enter in the edit form.
Perexg I wish you are agree with me.
Thanks.","I think this request is useful and make more easy to do changes from the grid without to have to enter in the edit form.
Perexg I wish you are agree with me.
Thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1102,2018-03-23T17:55:18Z,2018-03-25T17:38:46Z,2018-03-25T17:38:46Z,CLOSED,False,2,2,2,https://github.com/pablozg,Add request feature #5022,1,[],https://github.com/tvheadend/tvheadend/pull/1102,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1102#issuecomment-375988590,"I think this request is useful and make more easy to do changes from the grid without to have to enter in the edit form.
Perexg I wish you are agree with me.
Thanks.",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1103,2018-03-25T16:32:42Z,2018-03-25T17:39:11Z,2018-04-26T19:00:38Z,CLOSED,False,3,3,1,https://github.com/pablozg,Cosmetic fix for dvr entry info (webui),1,[],https://github.com/tvheadend/tvheadend/pull/1103,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1103,"Inside upcoming tab, the show info popup, shows in the autorec field the rule name + (null) instead only the name (""Blindspot (null)"") when the autorecord comment field is empty and (""Blindspot ()"") when you change it from a text to an empty field.","Inside upcoming tab, the show info popup, shows in the autorec field the rule name + (null) instead only the name (""Blindspot (null)"") when the autorecord comment field is empty and (""Blindspot ()"") when you change it from a text to an empty field.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1103,2018-03-25T16:32:42Z,2018-03-25T17:39:11Z,2018-04-26T19:00:38Z,CLOSED,False,3,3,1,https://github.com/pablozg,Cosmetic fix for dvr entry info (webui),1,[],https://github.com/tvheadend/tvheadend/pull/1103,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1103#issuecomment-375988619,"Inside upcoming tab, the show info popup, shows in the autorec field the rule name + (null) instead only the name (""Blindspot (null)"") when the autorecord comment field is empty and (""Blindspot ()"") when you change it from a text to an empty field.",Merged with the fix: 0b223e5,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1104,2018-03-26T12:23:58Z,2018-04-01T19:43:51Z,2018-04-01T19:43:51Z,CLOSED,False,0,5,2,https://github.com/Trujulu,"Fully remove FFdecsa, issue #5039",1,[],https://github.com/tvheadend/tvheadend/pull/1104,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1104,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1104,2018-03-26T12:23:58Z,2018-04-01T19:43:51Z,2018-04-01T19:43:51Z,CLOSED,False,0,5,2,https://github.com/Trujulu,"Fully remove FFdecsa, issue #5039",1,[],https://github.com/tvheadend/tvheadend/pull/1104,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1104#issuecomment-377811671,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1105,2018-03-28T15:12:21Z,2018-03-28T15:13:12Z,2018-03-28T15:13:12Z,CLOSED,False,95493,80620,341,https://github.com/BrentFontaine,Patches,366,[],https://github.com/tvheadend/tvheadend/pull/1105,https://github.com/BrentFontaine,1,https://github.com/tvheadend/tvheadend/pull/1105,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1106,2018-03-31T14:52:43Z,2018-04-01T19:44:22Z,2018-04-01T19:44:22Z,CLOSED,False,3,3,1,https://github.com/dave-p,Fix server crash in satip_server_http_page,1,[],https://github.com/tvheadend/tvheadend/pull/1106,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1106,Accessing http://your.ip:9981/satip_server/ crashes TVHeadend. The fix also returns Bad Request for unexpected filenames.,Accessing http://your.ip:9981/satip_server/ crashes TVHeadend. The fix also returns Bad Request for unexpected filenames.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1106,2018-03-31T14:52:43Z,2018-04-01T19:44:22Z,2018-04-01T19:44:22Z,CLOSED,False,3,3,1,https://github.com/dave-p,Fix server crash in satip_server_http_page,1,[],https://github.com/tvheadend/tvheadend/pull/1106,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1106#issuecomment-377811701,Accessing http://your.ip:9981/satip_server/ crashes TVHeadend. The fix also returns Bad Request for unexpected filenames.,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1107,2018-04-01T13:59:23Z,2018-04-01T19:45:08Z,2018-04-01T19:45:08Z,CLOSED,False,10,0,1,https://github.com/pablozg,Fix: When grouping recordings not all records are selected.,1,[],https://github.com/tvheadend/tvheadend/pull/1107,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1107,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1107,2018-04-01T13:59:23Z,2018-04-01T19:45:08Z,2018-04-01T19:45:08Z,CLOSED,False,10,0,1,https://github.com/pablozg,Fix: When grouping recordings not all records are selected.,1,[],https://github.com/tvheadend/tvheadend/pull/1107,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1107#issuecomment-377811753,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1108,2018-04-05T21:52:56Z,2018-04-05T21:55:54Z,2018-04-05T22:40:11Z,CLOSED,False,1,1,1,https://github.com/Trujulu,Webui status: typing error,1,[],https://github.com/tvheadend/tvheadend/pull/1108,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1108,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1109,2018-04-05T21:59:59Z,2018-04-20T18:08:37Z,2018-04-20T18:08:38Z,CLOSED,False,3,3,1,https://github.com/Trujulu,Webui: Correctly sort numbers (status),1,[],https://github.com/tvheadend/tvheadend/pull/1109,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1109,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1109,2018-04-05T21:59:59Z,2018-04-20T18:08:37Z,2018-04-20T18:08:38Z,CLOSED,False,3,3,1,https://github.com/Trujulu,Webui: Correctly sort numbers (status),1,[],https://github.com/tvheadend/tvheadend/pull/1109,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1109#issuecomment-383177934,,Merged although the 'hostname' sorting is not really an integer. It may be IPv4 or IPv6 address - we need probably a special sorting handler for this.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1110,2018-04-06T19:20:54Z,2018-04-06T19:56:50Z,2019-11-10T10:28:18Z,CLOSED,False,27,0,1,https://github.com/mpmc,doozer: add publishing to bintray for bionic + i386,1,[],https://github.com/tvheadend/tvheadend/pull/1110,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1110,FAO @andoma,FAO @andoma,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1111,2018-04-10T13:30:56Z,2018-04-20T09:39:09Z,2018-04-20T09:39:09Z,CLOSED,False,5,1,1,https://github.com/alanswanson, descrambler: fix build with ddci disabled ,3,[],https://github.com/tvheadend/tvheadend/pull/1111,https://github.com/alanswanson,1,https://github.com/tvheadend/tvheadend/pull/1111,"Per the commit message, the  build fails in src/input/mpegts/mpegts_service.c with an undefined reference to dvbcam_is_ddci in mpegts_service_update_slave_pids() when ddci is disabled (as no descrambling needed for my usage).","Per the commit message, the  build fails in src/input/mpegts/mpegts_service.c with an undefined reference to dvbcam_is_ddci in mpegts_service_update_slave_pids() when ddci is disabled (as no descrambling needed for my usage).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1111,2018-04-10T13:30:56Z,2018-04-20T09:39:09Z,2018-04-20T09:39:09Z,CLOSED,False,5,1,1,https://github.com/alanswanson, descrambler: fix build with ddci disabled ,3,[],https://github.com/tvheadend/tvheadend/pull/1111,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1111#issuecomment-383043378,"Per the commit message, the  build fails in src/input/mpegts/mpegts_service.c with an undefined reference to dvbcam_is_ddci in mpegts_service_update_slave_pids() when ddci is disabled (as no descrambling needed for my usage).",Thanks for the hint. The correct fix is in 55f9d62 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1112,2018-04-16T04:04:08Z,2018-04-20T09:37:28Z,2018-04-20T09:37:29Z,CLOSED,False,5,0,1,https://github.com/nomatter2k,tcp: fix tcp_socket_dead() for FreeBSD,1,[],https://github.com/tvheadend/tvheadend/pull/1112,https://github.com/nomatter2k,1,https://github.com/tvheadend/tvheadend/pull/1112,"The FreeBSD port of tvheadend couldn't stream Live TV, and debug
log shows webui judged the peer socket closed immediately after
starting streaming:
2018-04-15 06:30:04.996 [  DEBUG]:webui: Start streaming /stream/mux/c4bc67bdaa13457e33740ca883cc4d75?ticket=7D1B56AD0E434C5F7EBFA4677A7FBE4C94097974
2018-04-15 06:30:04.996 [  DEBUG]:webui: Stop streaming /stream/mux/c4bc67bdaa13457e33740ca883cc4d75?ticket=7D1B56AD0E434C5F7EBFA4677A7FBE4C94097974, client hung up
It looks because tcp_socket_dead() misunderstood the zero-return
from recv(). For the FreeBSD, recv() might return zero for alive
sockets which have nothing to read.
Patch tested with the latest FreeBSD port of tvheadend-4.2.6.","The FreeBSD port of tvheadend couldn't stream Live TV, and debug
log shows webui judged the peer socket closed immediately after
starting streaming:
2018-04-15 06:30:04.996 [  DEBUG]:webui: Start streaming /stream/mux/c4bc67bdaa13457e33740ca883cc4d75?ticket=7D1B56AD0E434C5F7EBFA4677A7FBE4C94097974
2018-04-15 06:30:04.996 [  DEBUG]:webui: Stop streaming /stream/mux/c4bc67bdaa13457e33740ca883cc4d75?ticket=7D1B56AD0E434C5F7EBFA4677A7FBE4C94097974, client hung up
It looks because tcp_socket_dead() misunderstood the zero-return
from recv(). For the FreeBSD, recv() might return zero for alive
sockets which have nothing to read.
Patch tested with the latest FreeBSD port of tvheadend-4.2.6.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1112,2018-04-16T04:04:08Z,2018-04-20T09:37:28Z,2018-04-20T09:37:29Z,CLOSED,False,5,0,1,https://github.com/nomatter2k,tcp: fix tcp_socket_dead() for FreeBSD,1,[],https://github.com/tvheadend/tvheadend/pull/1112,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1112#issuecomment-383042938,"The FreeBSD port of tvheadend couldn't stream Live TV, and debug
log shows webui judged the peer socket closed immediately after
starting streaming:
2018-04-15 06:30:04.996 [  DEBUG]:webui: Start streaming /stream/mux/c4bc67bdaa13457e33740ca883cc4d75?ticket=7D1B56AD0E434C5F7EBFA4677A7FBE4C94097974
2018-04-15 06:30:04.996 [  DEBUG]:webui: Stop streaming /stream/mux/c4bc67bdaa13457e33740ca883cc4d75?ticket=7D1B56AD0E434C5F7EBFA4677A7FBE4C94097974, client hung up
It looks because tcp_socket_dead() misunderstood the zero-return
from recv(). For the FreeBSD, recv() might return zero for alive
sockets which have nothing to read.
Patch tested with the latest FreeBSD port of tvheadend-4.2.6.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1113,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/ksooo,2,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-382678347,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","Does this make sense? Isn't it up to Kodi to format the strings to fit it's needs? What about other, non-Kodi clients? What do they make out of this ""Kodi-formatting""?",True,{'THUMBS_UP': ['https://github.com/imiroslavov']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/pablozg,3,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-382683199,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","Non-kodi clients will not be affected, the code will only replace the kodi tags to html tags if they exist in the description field and only on the web client side, making it easier to use color texts if you are using a xmltv file for kodi or you can add these tag to your actual file and get the color improvement.
That is just my opinion.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/ksooo,4,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-382688848,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","tvheadend knowing anything about its clients (""kodi tags"" - what are kodi tags?!) feels conceptionally wrong.",True,{'THUMBS_UP': ['https://github.com/imiroslavov']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/pablozg,5,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-382698370,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","It's my fault, when I say 'tags' I want to say 'keywords' included in https://kodi.wiki/view/Label_Formatting, so anyone can use it to make a more aesthetic view of the info included in the description field.
For me is usefull because I can implement it in my own grabber and still be compatible with others xmltv files made for be used with Kodi.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/ksooo,6,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-382709488,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","No idea what @perexg thinks about this, my opinion is that it is wrong to implement kodi-specific frontend stuff in the tvheadend backend.",True,{'THUMBS_UP': ['https://github.com/imiroslavov']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/mpmc,7,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-382710871,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.",@ksooo even I don't like it 🤣,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/pablozg,8,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-382737989,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","I respect your opinion, but I think that the EPG and DVR info is a part of the tvheadend frontend, and with this code we offer a new option to the frontend users that use the webui to manage the recordings, epg, etc. and Kodi to see the content as me.
And as I said before, this code don't affect to the normal use of tvheadend if you are not using this feature. I think that is a good idea have the choice to use colored text in the EPG.
Then how can we add a color function to the epg? maybe with a new set of keywords?
I will respect the decision made by @perexg . 😄",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/guiniguada,9,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-386544841,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.",I´m using EPG guides from .xml file with label formatting from some time ago... I´m also interested to see this feature included because I use many times the EPG section in the tvheadend itself.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/nickiman,10,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-386553578,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","@ksooo Could you please explain why is wrong implement this feature in tvheadend?
As an end user, I think it´s more clear see the EPG with the tag functionality not only in kodi, also in tvheadend
And this commits tries to avoid this situation... look the aspect of the EPG´s broadcast details in tvheadend:

And now, take a look with label formatting...:

From my personal point of view it look much better and attractive.
Best regards",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/ProfYaffle,11,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-386570999,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","Forgive me for being dumb here - it's a habit of mine, sadly :)
Are these tags in a widely-available XML stream that's being fed to tvheadend and then on to Kodi? So they're formatted by the source and arrive fully-formed? In that case, it's nothing to do with Kodi, and merely a case of whether tvheadend can understand the tags, and either use them or strip them out.
Or are these tags generated by Kodi or some other post-processing script acting on the XML feed? In which case, you shouldn't have to be changing the tvh web ""client"" to deal with what is effectively a malformed feed: whatever is inserting those tags should have an option to produce a ""raw"" equivalent that gets used by default, as those formatting commands are very highly client-specific.
Either way, formatting shouldn't be mandatory. As I read the code, it's a simple search-and-replace, so wouldn't affect any raw text that doesn't have those tags, which is fine, but it's still a question as to where the tags are coming from.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/nickiman,12,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-386576929,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","@ProfYaffle look the thread where is written the original request.
https://tvheadend.org/issues/5077
You will find also posted the .xml with the label formatting used.
Best regards",True,{'THUMBS_UP': ['https://github.com/ProfYaffle']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/albertehc,13,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-386602426,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.",Im very interesting on this feature pls,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/ProfYaffle,14,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-386609243,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","@nickiman Thanks for that.
So, my simple view... if it is common practice to have an EPG that universally contains formatting information, then supporting that in any client that uses that data is acceptable. However, if this is actually a Kodi-specific EPG that has the formatting inserted especially for Kodi, perhaps as an option when fetching it, then it's not the job of another client to interpret that. I suspect the same could be achieved by simply sed'ing the file before import to tvheadend, after all...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/B1T3S,15,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-386616723,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","In Kodi already appears well with the ""tags"", the request was so that they also appear well in TvHeadend. And if it does not affect other clients I understand that it is a good change for all of us who use Kodi and other clients with an xmltv with ""tags"".
It's a good change of look and feel for EPG in TvHeadend.
Thanks @pablozg for the changes and @nickiman for the request.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/nickiman,16,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-386693768,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","@ProfYaffle I see your point... but let me give you more details about this.
There´s a big amount of users using this type of EPG...  some with Tvheadend as PVR client but also another ones feeding the EPG in other PVR clients like IPTV Simple client... all of them using Kodi as the main frontend.
We are aware that the ""Label Formatting"" capability it´s only available in Kodi but, hey! thanks to @pablozg now it´s possible to enjoy it in Tvheadend also. We know that are not all the possibilities that Kodi allows (for label formatting I mean) but, it´s enought with the ones included in this PR for the moment.
Our intention was to have the chance to make up the ""Broadcast Details"" section in Tvheadend in the same way as Kodi does... just to have a readable EPG in both of them Kodi and Tvheadend itself.
Last, as you mention... yes for sure we could feed the .xml file directly in kodi but, in scenarios where we have two or more clients... the best option is leave to Tvheadend in charge of the EPG and feed it to all clients connected on it.
Best regards",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/mpmc,17,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-386777223,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","Here's an idea, make it optional?
I suppose it could be added as an option in the base config? ""Use Kodi label formating (broadcast details dialog)"" under the ""Web interface settings"".",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/nickiman,18,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-386786308,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","@mpmc Yes, could be...
But, why not leave it always enabled in background? I mean, without any option to enable/disable the label formatting?
It´s just to avoid any other thing that I´m missing?
I tell you that because, at the end, there will be two types of EPG:
normal (with plain text) and this one (with keywords for label formatting)
Since to activate the label formatting is needed an EPG file with that keywords to be shown... I think could be better leaving this option let me say, always enabled.
In this way users will don´t have to care of what kind of EPG are feeding in Tvheaded or to activate any option to show the label formatting.
Keep in touch!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/alebupal,19,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-387216457,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","I find it a very useful option, I look forward to it!
a greeting!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1113,2018-04-19T08:53:45Z,2018-06-08T09:03:30Z,2018-06-08T09:03:30Z,CLOSED,False,6693,4,13,https://github.com/pablozg,webui: Added partial support for Kodi label formatting,2,[],https://github.com/tvheadend/tvheadend/pull/1113,https://github.com/perexg,20,https://github.com/tvheadend/tvheadend/pull/1113#issuecomment-395477142,"1- Added support for:
[B]bold[/B] - bold text.
[I]italics[/I] - italic text.
[COLOR red]red text[/COLOR] - colored text.
[UPPERCASE]uppercase text[/UPPERCASE] - all text is made uppercase e.g. UPPERCASE TEXT
[LOWERCASE]lowercase text[/LOWERCASE] - all text is made lowercase e.g. lowercase text
[CAPITALIZE]capitalized text[/CAPITALIZE] - first letter of every word is capitalized (Isengard onward) e.g. Capitalized Text
[CR] - carriage return (line break).
2- Added an auto height function in order to maximize the info size at screen and vertical scroll bar in DVR info.","Pablo, please, make this parser optional (through the tvh's configuration).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1114,2018-04-24T20:09:58Z,2018-06-07T16:07:16Z,2019-05-03T05:22:18Z,MERGED,True,67,12,6,https://github.com/pablozg,webui: Added custom date format field in config tab,4,[],https://github.com/tvheadend/tvheadend/pull/1114,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1114,Now is possible to write a custom mask for the dates and use the select language to make it locale depend.,Now is possible to write a custom mask for the dates and use the select language to make it locale depend.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1114,2018-04-24T20:09:58Z,2018-06-07T16:07:16Z,2019-05-03T05:22:18Z,MERGED,True,67,12,6,https://github.com/pablozg,webui: Added custom date format field in config tab,4,[],https://github.com/tvheadend/tvheadend/pull/1114,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1114#issuecomment-384090705,Now is possible to write a custom mask for the dates and use the select language to make it locale depend.,"Awesome work.
P.S.: Is code protected against wrong introduced values?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1114,2018-04-24T20:09:58Z,2018-06-07T16:07:16Z,2019-05-03T05:22:18Z,MERGED,True,67,12,6,https://github.com/pablozg,webui: Added custom date format field in config tab,4,[],https://github.com/tvheadend/tvheadend/pull/1114,https://github.com/pablozg,3,https://github.com/tvheadend/tvheadend/pull/1114#issuecomment-384204157,Now is possible to write a custom mask for the dates and use the select language to make it locale depend.,"I added a syntax check, but now I don't have internet connection in my computer, so I will update the PR later.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1114,2018-04-24T20:09:58Z,2018-06-07T16:07:16Z,2019-05-03T05:22:18Z,MERGED,True,67,12,6,https://github.com/pablozg,webui: Added custom date format field in config tab,4,[],https://github.com/tvheadend/tvheadend/pull/1114,https://github.com/Trujulu,4,https://github.com/tvheadend/tvheadend/pull/1114#issuecomment-488941425,Now is possible to write a custom mask for the dates and use the select language to make it locale depend.,"The change is not working for the Read Only Info dialog, for services",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1115,2018-04-26T19:10:17Z,2018-06-07T16:07:44Z,2018-06-07T16:07:44Z,MERGED,True,1,1,1,https://github.com/pablozg,webui: Fix console error (tvheadend.createToolbar2 is not a function),1,[],https://github.com/tvheadend/tvheadend/pull/1115,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1115,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1116,2018-04-26T19:18:53Z,2018-06-07T16:09:10Z,2018-06-07T16:09:11Z,MERGED,True,5,0,1,https://github.com/pablozg,webui: Fix no all recordings are shown after enable grouping and trav…,1,[],https://github.com/tvheadend/tvheadend/pull/1116,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1116,…el between tabs,…el between tabs,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1117,2018-04-28T05:16:20Z,2018-05-14T17:18:12Z,2018-05-14T17:18:12Z,CLOSED,False,252,84,6,https://github.com/rpcameron,Virtual channel tuning support (ATSC and CableCARD networks),7,[],https://github.com/tvheadend/tvheadend/pull/1117,https://github.com/rpcameron,1,https://github.com/tvheadend/tvheadend/pull/1117,"This adds the ability for muxes to have virtual channels defined to give an alternative means of tuning information; it is presently only exposed for ATSC-T and ATSC-C networks.
Additionally, if virtual channel tuning information is present in a mux, HDHomeRun tuners will use that information as the preferred tuning method, ignoring any frequency and other tuning information present in the mux. This makes it possible to natively use the HDHomeRun Prime CableCARD tuner as an ATSC-C device using the tvhdhomerun drivers, as opposed to IPTV sources.
Channel number and service/provider information is also retrieved from the mux and passed on to any service created from a mux tuned by virtual channel number if the service stream does not have that information in it.
For more information, please see: http://tvheadend.org/boards/5/topics/32553","This adds the ability for muxes to have virtual channels defined to give an alternative means of tuning information; it is presently only exposed for ATSC-T and ATSC-C networks.
Additionally, if virtual channel tuning information is present in a mux, HDHomeRun tuners will use that information as the preferred tuning method, ignoring any frequency and other tuning information present in the mux. This makes it possible to natively use the HDHomeRun Prime CableCARD tuner as an ATSC-C device using the tvhdhomerun drivers, as opposed to IPTV sources.
Channel number and service/provider information is also retrieved from the mux and passed on to any service created from a mux tuned by virtual channel number if the service stream does not have that information in it.
For more information, please see: http://tvheadend.org/boards/5/topics/32553",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1117,2018-04-28T05:16:20Z,2018-05-14T17:18:12Z,2018-05-14T17:18:12Z,CLOSED,False,252,84,6,https://github.com/rpcameron,Virtual channel tuning support (ATSC and CableCARD networks),7,[],https://github.com/tvheadend/tvheadend/pull/1117,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1117#issuecomment-385452961,"This adds the ability for muxes to have virtual channels defined to give an alternative means of tuning information; it is presently only exposed for ATSC-T and ATSC-C networks.
Additionally, if virtual channel tuning information is present in a mux, HDHomeRun tuners will use that information as the preferred tuning method, ignoring any frequency and other tuning information present in the mux. This makes it possible to natively use the HDHomeRun Prime CableCARD tuner as an ATSC-C device using the tvhdhomerun drivers, as opposed to IPTV sources.
Channel number and service/provider information is also retrieved from the mux and passed on to any service created from a mux tuned by virtual channel number if the service stream does not have that information in it.
For more information, please see: http://tvheadend.org/boards/5/topics/32553","I don't like this change for the generic ATSC muxes. It's too much hdhomerun specific and the ""real"" tuning parameters are unused for those virtual muxes. It would be better to define new class like dvb_network_atsc_t_virthdh_class to describe the virtual muxes for UI (invalidate the tuning parameters - use PT_NONE and define the virtual parameters only).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1117,2018-04-28T05:16:20Z,2018-05-14T17:18:12Z,2018-05-14T17:18:12Z,CLOSED,False,252,84,6,https://github.com/rpcameron,Virtual channel tuning support (ATSC and CableCARD networks),7,[],https://github.com/tvheadend/tvheadend/pull/1117,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1117#issuecomment-385453152,"This adds the ability for muxes to have virtual channels defined to give an alternative means of tuning information; it is presently only exposed for ATSC-T and ATSC-C networks.
Additionally, if virtual channel tuning information is present in a mux, HDHomeRun tuners will use that information as the preferred tuning method, ignoring any frequency and other tuning information present in the mux. This makes it possible to natively use the HDHomeRun Prime CableCARD tuner as an ATSC-C device using the tvhdhomerun drivers, as opposed to IPTV sources.
Channel number and service/provider information is also retrieved from the mux and passed on to any service created from a mux tuned by virtual channel number if the service stream does not have that information in it.
For more information, please see: http://tvheadend.org/boards/5/topics/32553","Also, the developent is in the master branch (the changes might be cherry-picked to the 4.2 relase, too).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1117,2018-04-28T05:16:20Z,2018-05-14T17:18:12Z,2018-05-14T17:18:12Z,CLOSED,False,252,84,6,https://github.com/rpcameron,Virtual channel tuning support (ATSC and CableCARD networks),7,[],https://github.com/tvheadend/tvheadend/pull/1117,https://github.com/rpcameron,4,https://github.com/tvheadend/tvheadend/pull/1117#issuecomment-385475142,"This adds the ability for muxes to have virtual channels defined to give an alternative means of tuning information; it is presently only exposed for ATSC-T and ATSC-C networks.
Additionally, if virtual channel tuning information is present in a mux, HDHomeRun tuners will use that information as the preferred tuning method, ignoring any frequency and other tuning information present in the mux. This makes it possible to natively use the HDHomeRun Prime CableCARD tuner as an ATSC-C device using the tvhdhomerun drivers, as opposed to IPTV sources.
Channel number and service/provider information is also retrieved from the mux and passed on to any service created from a mux tuned by virtual channel number if the service stream does not have that information in it.
For more information, please see: http://tvheadend.org/boards/5/topics/32553","While the ""real"" tuning parameters are unused when tuning via virtual channels, setting a virtual channel number to 0 will then allow the mux's ""real"" tuning configuration to be used. So, while you can only tune one way or the other, the mux itself can contain the information on how to tune both.
While this may be HDHomeRun specific, it is not necessarily so. If there are other tuners that allow tuning by virtual numbers, there is nothing stopping the tuning routines from those other drivers from using the dmc_fe_vchan.
While I understand that development occurs against the master branch, in general I no longer run master versions of TVH because of past instabilities. I may pull one tuner off my main server to move this codebase to master, and investigate setting it up as a new network type.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1117,2018-04-28T05:16:20Z,2018-05-14T17:18:12Z,2018-05-14T17:18:12Z,CLOSED,False,252,84,6,https://github.com/rpcameron,Virtual channel tuning support (ATSC and CableCARD networks),7,[],https://github.com/tvheadend/tvheadend/pull/1117,https://github.com/rpcameron,5,https://github.com/tvheadend/tvheadend/pull/1117#issuecomment-388894844,"This adds the ability for muxes to have virtual channels defined to give an alternative means of tuning information; it is presently only exposed for ATSC-T and ATSC-C networks.
Additionally, if virtual channel tuning information is present in a mux, HDHomeRun tuners will use that information as the preferred tuning method, ignoring any frequency and other tuning information present in the mux. This makes it possible to natively use the HDHomeRun Prime CableCARD tuner as an ATSC-C device using the tvhdhomerun drivers, as opposed to IPTV sources.
Channel number and service/provider information is also retrieved from the mux and passed on to any service created from a mux tuned by virtual channel number if the service stream does not have that information in it.
For more information, please see: http://tvheadend.org/boards/5/topics/32553","As per @perexg 's requests, I have re-implemented this as a new CableCARD network type done against master: #1120
Therefore, I'm closing this PR.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1118,2018-04-29T12:47:43Z,2018-06-07T16:09:25Z,2018-06-07T16:49:09Z,MERGED,True,3,0,1,https://github.com/AlBundy33,added generated files to .gitignore,1,[],https://github.com/tvheadend/tvheadend/pull/1118,https://github.com/AlBundy33,1,https://github.com/tvheadend/tvheadend/pull/1118,Just added autogenerated files to .gitignore #5064,Just added autogenerated files to .gitignore #5064,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1118,2018-04-29T12:47:43Z,2018-06-07T16:09:25Z,2018-06-07T16:49:09Z,MERGED,True,3,0,1,https://github.com/AlBundy33,added generated files to .gitignore,1,[],https://github.com/tvheadend/tvheadend/pull/1118,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1118#issuecomment-391828175,Just added autogenerated files to .gitignore #5064,Looks good! Hope be merge soon,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1119,2018-05-10T12:36:44Z,2018-06-07T16:09:37Z,2018-06-07T16:09:37Z,MERGED,True,2,2,1,https://github.com/AlexMekkering,Upgrade to libhdhomerun_20180327,1,[],https://github.com/tvheadend/tvheadend/pull/1119,https://github.com/AlexMekkering,1,https://github.com/tvheadend/tvheadend/pull/1119,"This upgrades the embedded libhdhomerun to version 20180327.
Please also apply to the release/4.2 branch.","This upgrades the embedded libhdhomerun to version 20180327.
Please also apply to the release/4.2 branch.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1120,2018-05-14T17:15:29Z,2018-06-07T16:17:45Z,2018-06-07T16:17:45Z,MERGED,True,199,47,8,https://github.com/rpcameron,CableCARD and HDHomeRun Prime support,7,[],https://github.com/tvheadend/tvheadend/pull/1120,https://github.com/rpcameron,1,https://github.com/tvheadend/tvheadend/pull/1120,"As previously requested, I have changed the generic virtual channel support to instead be a new CableCARD network. Also, this development has been done against the master branch (although I am maintaining a branch against release/4.2 as well)","As previously requested, I have changed the generic virtual channel support to instead be a new CableCARD network. Also, this development has been done against the master branch (although I am maintaining a branch against release/4.2 as well)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1121,2018-05-21T16:04:03Z,2018-06-20T13:09:52Z,2018-06-20T13:09:52Z,CLOSED,False,8,8,6,https://github.com/Lila-Kuh,fix - error: 'strncpy' output truncated before terminating...,6,[],https://github.com/tvheadend/tvheadend/pull/1121,https://github.com/Lila-Kuh,1,https://github.com/tvheadend/tvheadend/pull/1121,"https://tvheadend.org/issues/5112
src/wrappers.c: In function 'tvhthread_create':
src/wrappers.c:200:3: error: 'strncpy' output truncated before terminating nul copying 4 bytes from a string of the same length [-Werror=stringop-truncation]
strncpy(ts->name, ""tvh:"", 4);
^~~~~~~~~~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
make: *** [Makefile:704: /home/docmax/.cache/pacaur/tvheadend-git/src/tvheadend-git/build.linux/src/wrappers.o] Error 1
==> ERROR: A failure occurred in build().
Aborting...
:: failed to build tvheadend-git package(s)","https://tvheadend.org/issues/5112
src/wrappers.c: In function 'tvhthread_create':
src/wrappers.c:200:3: error: 'strncpy' output truncated before terminating nul copying 4 bytes from a string of the same length [-Werror=stringop-truncation]
strncpy(ts->name, ""tvh:"", 4);
^~~~~~~~~~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
make: *** [Makefile:704: /home/docmax/.cache/pacaur/tvheadend-git/src/tvheadend-git/build.linux/src/wrappers.o] Error 1
==> ERROR: A failure occurred in build().
Aborting...
:: failed to build tvheadend-git package(s)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1121,2018-05-21T16:04:03Z,2018-06-20T13:09:52Z,2018-06-20T13:09:52Z,CLOSED,False,8,8,6,https://github.com/Lila-Kuh,fix - error: 'strncpy' output truncated before terminating...,6,[],https://github.com/tvheadend/tvheadend/pull/1121,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1121#issuecomment-398742621,"https://tvheadend.org/issues/5112
src/wrappers.c: In function 'tvhthread_create':
src/wrappers.c:200:3: error: 'strncpy' output truncated before terminating nul copying 4 bytes from a string of the same length [-Werror=stringop-truncation]
strncpy(ts->name, ""tvh:"", 4);
^~~~~~~~~~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
make: *** [Makefile:704: /home/docmax/.cache/pacaur/tvheadend-git/src/tvheadend-git/build.linux/src/wrappers.o] Error 1
==> ERROR: A failure occurred in build().
Aborting...
:: failed to build tvheadend-git package(s)",Fixed in bff4222 and 481304b .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1122,2018-05-24T18:27:47Z,2018-06-07T16:14:15Z,2018-06-07T16:14:15Z,MERGED,True,31,1,2,https://github.com/mpmc,doozer: enable bintray publishing and i386 builds for bionic,1,[],https://github.com/tvheadend/tvheadend/pull/1122,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1122,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1123,2018-05-24T18:28:10Z,2018-06-07T16:14:30Z,2018-06-07T16:14:30Z,MERGED,True,39,1,2,https://github.com/mpmc,doozer: workaround for makedev issues on bionic and add bionic i386,1,[],https://github.com/tvheadend/tvheadend/pull/1123,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1123,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1124,2018-05-24T19:29:38Z,2018-06-07T16:15:05Z,2018-06-07T16:15:05Z,MERGED,True,36,1,3,https://github.com/pablozg,DVR: Erase cutlist files (if exist) when a recording is removed,2,[],https://github.com/tvheadend/tvheadend/pull/1124,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1124,,,True,"{'THUMBS_UP': ['https://github.com/cabbresson', 'https://github.com/mpmc']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1125,2018-05-28T18:42:59Z,2018-06-07T16:15:22Z,2018-06-08T03:23:04Z,MERGED,True,17,7,1,https://github.com/nomatter2k,webui: fix http_serve_file() for FreeBSD,1,[],https://github.com/tvheadend/tvheadend/pull/1125,https://github.com/nomatter2k,1,https://github.com/tvheadend/tvheadend/pull/1125,"This patch fixes two major problems of FreeBSD port of tvheadend:

very high CPU usage while streaming a recored program
unable to stream the recorded program beyond 128MB.

Unlike Linux sendfile(), FreeBSD sendfile() requires an explicit
file offset, and return value must be checked to catch any error
occurred. (i.e., closed connection)
Patch tested with the latest FreeBSD port of tvheadend-4.2.6.","This patch fixes two major problems of FreeBSD port of tvheadend:

very high CPU usage while streaming a recored program
unable to stream the recorded program beyond 128MB.

Unlike Linux sendfile(), FreeBSD sendfile() requires an explicit
file offset, and return value must be checked to catch any error
occurred. (i.e., closed connection)
Patch tested with the latest FreeBSD port of tvheadend-4.2.6.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1125,2018-05-28T18:42:59Z,2018-06-07T16:15:22Z,2018-06-08T03:23:04Z,MERGED,True,17,7,1,https://github.com/nomatter2k,webui: fix http_serve_file() for FreeBSD,1,[],https://github.com/tvheadend/tvheadend/pull/1125,https://github.com/nomatter2k,2,https://github.com/tvheadend/tvheadend/pull/1125#issuecomment-395634547,"This patch fixes two major problems of FreeBSD port of tvheadend:

very high CPU usage while streaming a recored program
unable to stream the recorded program beyond 128MB.

Unlike Linux sendfile(), FreeBSD sendfile() requires an explicit
file offset, and return value must be checked to catch any error
occurred. (i.e., closed connection)
Patch tested with the latest FreeBSD port of tvheadend-4.2.6.","Thank you!

2018-06-08 1:15 GMT+09:00 perexg <notifications@github.com>:
…
 Merged #1125 <#1125>.

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#1125 (comment)>, or mute
 the thread
 <https://github.com/notifications/unsubscribe-auth/ABmvO33ivcLtEsh13dh1Rfs1Z-irFyKqks5t6VGpgaJpZM4UQgPb>
 .",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1126,2018-06-08T09:31:56Z,2018-06-08T09:48:38Z,2018-06-08T09:48:38Z,MERGED,True,31,2,6,https://github.com/pablozg,webui: Added support for Kodi label formatting in dvr/epg as optional,1,[],https://github.com/tvheadend/tvheadend/pull/1126,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1126,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1127,2018-06-08T10:23:20Z,2018-06-08T10:25:03Z,2018-06-08T10:25:03Z,MERGED,True,1,1,1,https://github.com/pablozg,webui: fix cut and paste error in previous commit,1,[],https://github.com/tvheadend/tvheadend/pull/1127,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1127,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1128,2018-06-08T10:39:14Z,2018-09-03T14:11:17Z,2018-09-03T14:11:17Z,CLOSED,False,8,3,2,https://github.com/pablozg,webui: dvr/epg popup window autoresize to actual resolution,3,[],https://github.com/tvheadend/tvheadend/pull/1128,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1128,I forgot add the auto resize to adapt popup window to actual resolution.,I forgot add the auto resize to adapt popup window to actual resolution.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1128,2018-06-08T10:39:14Z,2018-09-03T14:11:17Z,2018-09-03T14:11:17Z,CLOSED,False,8,3,2,https://github.com/pablozg,webui: dvr/epg popup window autoresize to actual resolution,3,[],https://github.com/tvheadend/tvheadend/pull/1128,https://github.com/f1vefour,2,https://github.com/tvheadend/tvheadend/pull/1128#issuecomment-417994635,I forgot add the auto resize to adapt popup window to actual resolution.,"Seems like a reasonable change, why not merge?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1128,2018-06-08T10:39:14Z,2018-09-03T14:11:17Z,2018-09-03T14:11:17Z,CLOSED,False,8,3,2,https://github.com/pablozg,webui: dvr/epg popup window autoresize to actual resolution,3,[],https://github.com/tvheadend/tvheadend/pull/1128,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1128#issuecomment-418126832,I forgot add the auto resize to adapt popup window to actual resolution.,Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1129,2018-06-16T16:10:24Z,2018-06-17T08:19:57Z,2018-06-18T01:16:55Z,MERGED,True,3,0,1,https://github.com/irgendsontyp,Fix tvheadend issue #5126 (clone button not always working as intended),1,[],https://github.com/tvheadend/tvheadend/pull/1129,https://github.com/irgendsontyp,1,https://github.com/tvheadend/tvheadend/pull/1129,Fixes https://tvheadend.org/issues/5126,Fixes https://tvheadend.org/issues/5126,True,{'HEART': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1130,2018-06-18T01:15:40Z,2018-06-18T06:45:01Z,2018-06-20T01:24:51Z,CLOSED,False,6,6,1,https://github.com/irgendsontyp,Fix DVR crash (issue #5087),1,[],https://github.com/tvheadend/tvheadend/pull/1130,https://github.com/irgendsontyp,1,https://github.com/tvheadend/tvheadend/pull/1130,"I could reproduce the crash by explicitely setting subtitle_buf to NULL. Under normal circumstances, that pointer (and the others I fixed) can also be NULL. The problem here was that those pointers were dereferenced, even if they were NULL. This leaded to undefined behaviour (a crash with SIGSEGV in this case).","I could reproduce the crash by explicitely setting subtitle_buf to NULL. Under normal circumstances, that pointer (and the others I fixed) can also be NULL. The problem here was that those pointers were dereferenced, even if they were NULL. This leaded to undefined behaviour (a crash with SIGSEGV in this case).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1130,2018-06-18T01:15:40Z,2018-06-18T06:45:01Z,2018-06-20T01:24:51Z,CLOSED,False,6,6,1,https://github.com/irgendsontyp,Fix DVR crash (issue #5087),1,[],https://github.com/tvheadend/tvheadend/pull/1130,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1130#issuecomment-397956874,"I could reproduce the crash by explicitely setting subtitle_buf to NULL. Under normal circumstances, that pointer (and the others I fixed) can also be NULL. The problem here was that those pointers were dereferenced, even if they were NULL. This leaded to undefined behaviour (a crash with SIGSEGV in this case).",Fixed in ea9159e .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1131,2018-06-20T01:27:22Z,2018-06-20T07:00:05Z,2018-06-20T10:57:03Z,MERGED,True,2,1,1,https://github.com/irgendsontyp,Fix creation of CA Client type 'AES128 ECB Constant Code Word' (Issue #5119),1,[],https://github.com/tvheadend/tvheadend/pull/1131,https://github.com/irgendsontyp,1,https://github.com/tvheadend/tvheadend/pull/1131,Fixes https://tvheadend.org/issues/5119,Fixes https://tvheadend.org/issues/5119,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1131,2018-06-20T01:27:22Z,2018-06-20T07:00:05Z,2018-06-20T10:57:03Z,MERGED,True,2,1,1,https://github.com/irgendsontyp,Fix creation of CA Client type 'AES128 ECB Constant Code Word' (Issue #5119),1,[],https://github.com/tvheadend/tvheadend/pull/1131,https://github.com/irgendsontyp,2,https://github.com/tvheadend/tvheadend/pull/1131#issuecomment-398595360,Fixes https://tvheadend.org/issues/5119,"Btw., what happens to the corresponding issue in the tvheadend bug tracker if you accept the PR? https://tvheadend.org/issues/5119 in this case.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1131,2018-06-20T01:27:22Z,2018-06-20T07:00:05Z,2018-06-20T10:57:03Z,MERGED,True,2,1,1,https://github.com/irgendsontyp,Fix creation of CA Client type 'AES128 ECB Constant Code Word' (Issue #5119),1,[],https://github.com/tvheadend/tvheadend/pull/1131,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1131#issuecomment-398647728,Fixes https://tvheadend.org/issues/5119,BTW: Write 'fixes #5119' or 'issue #5119' to the subject of the commit to close or connect to the issue in the bug tracker next time. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1131,2018-06-20T01:27:22Z,2018-06-20T07:00:05Z,2018-06-20T10:57:03Z,MERGED,True,2,1,1,https://github.com/irgendsontyp,Fix creation of CA Client type 'AES128 ECB Constant Code Word' (Issue #5119),1,[],https://github.com/tvheadend/tvheadend/pull/1131,https://github.com/irgendsontyp,4,https://github.com/tvheadend/tvheadend/pull/1131#issuecomment-398668166,Fixes https://tvheadend.org/issues/5119,"@perexg Does the bug tracker automatically close the issue when I add ""fixes #..."" or ""issue #..."" to the commit?
The corresponding bug for my other PR was not closed, too (https://tvheadend.org/issues/5126).
Also, your commit ""ea9159ecbdc695a4e717c420c2dd7b4d926cb2b9"" fixes https://tvheadend.org/issues/5087 but 5087 is still in ""New"" state.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1131,2018-06-20T01:27:22Z,2018-06-20T07:00:05Z,2018-06-20T10:57:03Z,MERGED,True,2,1,1,https://github.com/irgendsontyp,Fix creation of CA Client type 'AES128 ECB Constant Code Word' (Issue #5119),1,[],https://github.com/tvheadend/tvheadend/pull/1131,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/1131#issuecomment-398669507,Fixes https://tvheadend.org/issues/5119,"""fixes #"" closes the ticket as fixed and ""issue #"" just assigns the commit to the bug",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1131,2018-06-20T01:27:22Z,2018-06-20T07:00:05Z,2018-06-20T10:57:03Z,MERGED,True,2,1,1,https://github.com/irgendsontyp,Fix creation of CA Client type 'AES128 ECB Constant Code Word' (Issue #5119),1,[],https://github.com/tvheadend/tvheadend/pull/1131,https://github.com/irgendsontyp,6,https://github.com/tvheadend/tvheadend/pull/1131#issuecomment-398671135,Fixes https://tvheadend.org/issues/5119,"Is it better to use ""issue #"" then, as we as non-commiter contributors can never be sure for the PR to be accepted? Thus, linking the commit to the bug is always right but closing the issue before the commit is merged doesn't make sense to me.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1131,2018-06-20T01:27:22Z,2018-06-20T07:00:05Z,2018-06-20T10:57:03Z,MERGED,True,2,1,1,https://github.com/irgendsontyp,Fix creation of CA Client type 'AES128 ECB Constant Code Word' (Issue #5119),1,[],https://github.com/tvheadend/tvheadend/pull/1131,https://github.com/perexg,7,https://github.com/tvheadend/tvheadend/pull/1131#issuecomment-398709313,Fixes https://tvheadend.org/issues/5119,"Note that the bug linking is proceed when the commit is merged (validated), thus you can mark the commit as you like. The ""fixes"" word saves my time when it's an obvious code fix.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1132,2018-06-21T19:40:18Z,2018-06-22T08:08:49Z,2018-06-22T08:08:49Z,CLOSED,False,15,11,1,https://github.com/irgendsontyp,Fix XMLTV EPG grabber extra data,1,[],https://github.com/tvheadend/tvheadend/pull/1132,https://github.com/irgendsontyp,1,https://github.com/tvheadend/tvheadend/pull/1132,Fixes #5105,Fixes #5105,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1132,2018-06-21T19:40:18Z,2018-06-22T08:08:49Z,2018-06-22T08:08:49Z,CLOSED,False,15,11,1,https://github.com/irgendsontyp,Fix XMLTV EPG grabber extra data,1,[],https://github.com/tvheadend/tvheadend/pull/1132,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1132#issuecomment-399359472,Fixes #5105,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1133,2018-06-23T18:52:26Z,2018-07-30T20:08:40Z,2018-07-30T20:08:45Z,CLOSED,False,18,0,2,https://github.com/bkuhls,configure: check for strlcat & strlcpy,1,[],https://github.com/tvheadend/tvheadend/pull/1133,https://github.com/bkuhls,1,https://github.com/tvheadend/tvheadend/pull/1133,"Building tvheadend with uclibc and musl fails:
src/tvh_string.h:50:22: error: static declaration of 'strlcpy' follows non-static declaration
static inline size_t strlcpy(char *dst, const char *src, size_t size)
src/tvh_string.h:61:22: error: static declaration of 'strlcat' follows non-static declaration
static inline size_t strlcat(char *dst, const char *src, size_t count)
because they provide strlcat & strlcpy:
https://sourceware.org/glibc/wiki/strlcpy
This patch adds configure checks and makes the implementation in
tvh_string.h optional, the configure log looks like this:
glibc
checking for cc strlcat ...                       fail
checking for cc strlcpy ...                       fail
musl
checking for cc strlcat ...                       ok
checking for cc strlcpy ...                       ok
uclibc
checking for cc strlcat ...                       ok
checking for cc strlcpy ...                       ok","Building tvheadend with uclibc and musl fails:
src/tvh_string.h:50:22: error: static declaration of 'strlcpy' follows non-static declaration
static inline size_t strlcpy(char *dst, const char *src, size_t size)
src/tvh_string.h:61:22: error: static declaration of 'strlcat' follows non-static declaration
static inline size_t strlcat(char *dst, const char *src, size_t count)
because they provide strlcat & strlcpy:
https://sourceware.org/glibc/wiki/strlcpy
This patch adds configure checks and makes the implementation in
tvh_string.h optional, the configure log looks like this:
glibc
checking for cc strlcat ...                       fail
checking for cc strlcpy ...                       fail
musl
checking for cc strlcat ...                       ok
checking for cc strlcpy ...                       ok
uclibc
checking for cc strlcat ...                       ok
checking for cc strlcpy ...                       ok",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1133,2018-06-23T18:52:26Z,2018-07-30T20:08:40Z,2018-07-30T20:08:45Z,CLOSED,False,18,0,2,https://github.com/bkuhls,configure: check for strlcat & strlcpy,1,[],https://github.com/tvheadend/tvheadend/pull/1133,https://github.com/bkuhls,2,https://github.com/tvheadend/tvheadend/pull/1133#issuecomment-408993366,"Building tvheadend with uclibc and musl fails:
src/tvh_string.h:50:22: error: static declaration of 'strlcpy' follows non-static declaration
static inline size_t strlcpy(char *dst, const char *src, size_t size)
src/tvh_string.h:61:22: error: static declaration of 'strlcat' follows non-static declaration
static inline size_t strlcat(char *dst, const char *src, size_t count)
because they provide strlcat & strlcpy:
https://sourceware.org/glibc/wiki/strlcpy
This patch adds configure checks and makes the implementation in
tvh_string.h optional, the configure log looks like this:
glibc
checking for cc strlcat ...                       fail
checking for cc strlcpy ...                       fail
musl
checking for cc strlcat ...                       ok
checking for cc strlcpy ...                       ok
uclibc
checking for cc strlcat ...                       ok
checking for cc strlcpy ...                       ok",Patch was committed as e26ce33,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1134,2018-06-24T10:18:26Z,2018-09-13T21:43:52Z,2018-09-13T21:43:53Z,CLOSED,False,0,0,0,https://github.com/pablozg,"webui: Feature #5136, Add Filmaffinity search in broadcast details",0,[],https://github.com/tvheadend/tvheadend/pull/1134,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1134,"I added the request feature #5136, if you think is usefull, please merge it.
Thanks.","I added the request feature #5136, if you think is usefull, please merge it.
Thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1134,2018-06-24T10:18:26Z,2018-09-13T21:43:52Z,2018-09-13T21:43:53Z,CLOSED,False,0,0,0,https://github.com/pablozg,"webui: Feature #5136, Add Filmaffinity search in broadcast details",0,[],https://github.com/tvheadend/tvheadend/pull/1134,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1134#issuecomment-404087757,"I added the request feature #5136, if you think is usefull, please merge it.
Thanks.",Looks good!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1134,2018-06-24T10:18:26Z,2018-09-13T21:43:52Z,2018-09-13T21:43:53Z,CLOSED,False,0,0,0,https://github.com/pablozg,"webui: Feature #5136, Add Filmaffinity search in broadcast details",0,[],https://github.com/tvheadend/tvheadend/pull/1134,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1134#issuecomment-418127137,"I added the request feature #5136, if you think is usefull, please merge it.
Thanks.",Could we use a combobox to select the search type? It seems that we end with a long bar of search icons...,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1134,2018-06-24T10:18:26Z,2018-09-13T21:43:52Z,2018-09-13T21:43:53Z,CLOSED,False,0,0,0,https://github.com/pablozg,"webui: Feature #5136, Add Filmaffinity search in broadcast details",0,[],https://github.com/tvheadend/tvheadend/pull/1134,https://github.com/pablozg,4,https://github.com/tvheadend/tvheadend/pull/1134#issuecomment-418374029,"I added the request feature #5136, if you think is usefull, please merge it.
Thanks.",OK. I'll take a look.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1135,2018-06-27T21:10:29Z,2018-07-01T09:49:57Z,2018-07-09T17:05:39Z,CLOSED,False,4,1,1,https://github.com/ksooo,htsp: expose duplicate state for dvr entries.,1,[],https://github.com/tvheadend/tvheadend/pull/1135,https://github.com/ksooo,1,https://github.com/tvheadend/tvheadend/pull/1135,This allows htsp clients to filter duplicate schedules/running recordings.,This allows htsp clients to filter duplicate schedules/running recordings.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1135,2018-06-27T21:10:29Z,2018-07-01T09:49:57Z,2018-07-09T17:05:39Z,CLOSED,False,4,1,1,https://github.com/ksooo,htsp: expose duplicate state for dvr entries.,1,[],https://github.com/tvheadend/tvheadend/pull/1135,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1135#issuecomment-401596149,This allows htsp clients to filter duplicate schedules/running recordings.,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1135,2018-06-27T21:10:29Z,2018-07-01T09:49:57Z,2018-07-09T17:05:39Z,CLOSED,False,4,1,1,https://github.com/ksooo,htsp: expose duplicate state for dvr entries.,1,[],https://github.com/tvheadend/tvheadend/pull/1135,https://github.com/ksooo,3,https://github.com/tvheadend/tvheadend/pull/1135#issuecomment-401852268,This allows htsp clients to filter duplicate schedules/running recordings.,"Sorry, cannot see this commit in master?!
Last master commit is from Jun 22 here...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1136,2018-07-25T22:41:31Z,2018-07-26T11:09:06Z,2018-07-26T11:09:06Z,CLOSED,False,3,0,1,https://github.com/mpmc,debian: always use gzip compression for deb files (bintray issue) - fixes #5091,1,[],https://github.com/tvheadend/tvheadend/pull/1136,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1136,"This fixes Bintray barf about malformed deb files (it seems to have issues with tar.xz files).
@perexg This needs to be backported to release/4.2 as well :)","This fixes Bintray barf about malformed deb files (it seems to have issues with tar.xz files).
@perexg This needs to be backported to release/4.2 as well :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1136,2018-07-25T22:41:31Z,2018-07-26T11:09:06Z,2018-07-26T11:09:06Z,CLOSED,False,3,0,1,https://github.com/mpmc,debian: always use gzip compression for deb files (bintray issue) - fixes #5091,1,[],https://github.com/tvheadend/tvheadend/pull/1136,https://github.com/mpmc,2,https://github.com/tvheadend/tvheadend/pull/1136#issuecomment-408061716,"This fixes Bintray barf about malformed deb files (it seems to have issues with tar.xz files).
@perexg This needs to be backported to release/4.2 as well :)",This has been merged 👍,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1137,2018-08-03T00:40:52Z,2018-08-03T07:38:01Z,2018-08-03T12:12:40Z,CLOSED,False,42,1,4,https://github.com/mpietruschka,implement netstream 4c,2,[],https://github.com/tvheadend/tvheadend/pull/1137,https://github.com/mpietruschka,1,https://github.com/tvheadend/tvheadend/pull/1137,This pull request implements the geniatech netstream 4c,This pull request implements the geniatech netstream 4c,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1137,2018-08-03T00:40:52Z,2018-08-03T07:38:01Z,2018-08-03T12:12:40Z,CLOSED,False,42,1,4,https://github.com/mpietruschka,implement netstream 4c,2,[],https://github.com/tvheadend/tvheadend/pull/1137,https://github.com/mpietruschka,2,https://github.com/tvheadend/tvheadend/pull/1137#issuecomment-410234953,This pull request implements the geniatech netstream 4c,Is this merged right now?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1138,2018-08-03T00:42:53Z,2018-08-03T01:08:17Z,2018-08-03T01:11:04Z,CLOSED,False,41,1,4,https://github.com/mpietruschka,implement netstream 4c,1,[],https://github.com/tvheadend/tvheadend/pull/1138,https://github.com/mpietruschka,1,https://github.com/tvheadend/tvheadend/pull/1138,This pull request implements the geniatech netstream 4c,This pull request implements the geniatech netstream 4c,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1139,2018-08-03T01:12:24Z,2018-09-03T14:11:29Z,2018-09-03T14:11:29Z,CLOSED,False,42,1,4,https://github.com/mpietruschka,implement netstream 4c,2,[],https://github.com/tvheadend/tvheadend/pull/1139,https://github.com/mpietruschka,1,https://github.com/tvheadend/tvheadend/pull/1139,This pull request implements the geniatech netstream 4c,This pull request implements the geniatech netstream 4c,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1139,2018-08-03T01:12:24Z,2018-09-03T14:11:29Z,2018-09-03T14:11:29Z,CLOSED,False,42,1,4,https://github.com/mpietruschka,implement netstream 4c,2,[],https://github.com/tvheadend/tvheadend/pull/1139,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1139#issuecomment-418126894,This pull request implements the geniatech netstream 4c,Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1140,2018-08-23T13:16:45Z,2018-09-03T14:12:42Z,2018-09-03T14:12:42Z,CLOSED,False,10,1,1,https://github.com/azlm8t,Tvshows/tvmovies should use separate config variables for $q,1,[],https://github.com/tvheadend/tvheadend/pull/1140,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1140,"During tidyup (ea9159), the tvmovies incorrectly used tvshows as its directory name when using the ""$q"" tag for recordings. So now _dvr_get_tvmovies_subdir returns tvmovies and new function _dvr_get_tvshows_subdir returns tvshows config variables.","During tidyup (ea9159), the tvmovies incorrectly used tvshows as its directory name when using the ""$q"" tag for recordings. So now _dvr_get_tvmovies_subdir returns tvmovies and new function _dvr_get_tvshows_subdir returns tvshows config variables.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1140,2018-08-23T13:16:45Z,2018-09-03T14:12:42Z,2018-09-03T14:12:42Z,CLOSED,False,10,1,1,https://github.com/azlm8t,Tvshows/tvmovies should use separate config variables for $q,1,[],https://github.com/tvheadend/tvheadend/pull/1140,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1140#issuecomment-418127206,"During tidyup (ea9159), the tvmovies incorrectly used tvshows as its directory name when using the ""$q"" tag for recordings. So now _dvr_get_tvmovies_subdir returns tvmovies and new function _dvr_get_tvshows_subdir returns tvshows config variables.",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1141,2018-08-23T13:27:49Z,2018-09-03T14:12:54Z,2018-09-03T14:12:54Z,CLOSED,False,4,1,1,https://github.com/azlm8t,FreeBSD: Fix recv problem if no data received.,1,[],https://github.com/tvheadend/tvheadend/pull/1141,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1141,"If using satip then we would frequently fail to read the data and then disconnect with errno 0.
So, we now make the FreeBSD socket read consistent with the Linux version and return EIO on non-error (timeout).
We're returning -errno on error, which is what the FreeBSD path used to return.
The github view below of ""show changed file"" cuts out just before the end of the function where 0 is returned if neither error nor timeout.","If using satip then we would frequently fail to read the data and then disconnect with errno 0.
So, we now make the FreeBSD socket read consistent with the Linux version and return EIO on non-error (timeout).
We're returning -errno on error, which is what the FreeBSD path used to return.
The github view below of ""show changed file"" cuts out just before the end of the function where 0 is returned if neither error nor timeout.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1141,2018-08-23T13:27:49Z,2018-09-03T14:12:54Z,2018-09-03T14:12:54Z,CLOSED,False,4,1,1,https://github.com/azlm8t,FreeBSD: Fix recv problem if no data received.,1,[],https://github.com/tvheadend/tvheadend/pull/1141,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1141#issuecomment-418127257,"If using satip then we would frequently fail to read the data and then disconnect with errno 0.
So, we now make the FreeBSD socket read consistent with the Linux version and return EIO on non-error (timeout).
We're returning -errno on error, which is what the FreeBSD path used to return.
The github view below of ""show changed file"" cuts out just before the end of the function where 0 is returned if neither error nor timeout.",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1142,2018-09-01T11:39:48Z,2018-09-03T14:13:19Z,2018-09-03T14:13:20Z,CLOSED,False,1,1,1,https://github.com/ProfYaffle,"WebUI: fix channel tag lookup for autorec (local, not global)",1,[],https://github.com/tvheadend/tvheadend/pull/1142,https://github.com/ProfYaffle,1,https://github.com/tvheadend/tvheadend/pull/1142,"This has been bugging me for some time, and I finally got round to looking at it. It looks like the code references a global store and method (tvheadend.tags.find) when the store is actually local to this function. As such, any ""Create Autorec"" from the EPG will fail if a channel tag is set, because the lookup of the channel tag won't work.","This has been bugging me for some time, and I finally got round to looking at it. It looks like the code references a global store and method (tvheadend.tags.find) when the store is actually local to this function. As such, any ""Create Autorec"" from the EPG will fail if a channel tag is set, because the lookup of the channel tag won't work.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1142,2018-09-01T11:39:48Z,2018-09-03T14:13:19Z,2018-09-03T14:13:20Z,CLOSED,False,1,1,1,https://github.com/ProfYaffle,"WebUI: fix channel tag lookup for autorec (local, not global)",1,[],https://github.com/tvheadend/tvheadend/pull/1142,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1142#issuecomment-418127355,"This has been bugging me for some time, and I finally got round to looking at it. It looks like the code references a global store and method (tvheadend.tags.find) when the store is actually local to this function. As such, any ""Create Autorec"" from the EPG will fail if a channel tag is set, because the lookup of the channel tag won't work.",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1143,2018-09-02T20:32:09Z,2018-09-03T14:13:29Z,2018-09-03T14:21:19Z,CLOSED,False,33,7,1,https://github.com/joeusercz,Fix inotify case where IN_MOVED_TO comes in subsequent read after rea…,1,[],https://github.com/tvheadend/tvheadend/pull/1143,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/1143,…d contaning IN_MOVED_FROM,…d contaning IN_MOVED_FROM,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1143,2018-09-02T20:32:09Z,2018-09-03T14:13:29Z,2018-09-03T14:21:19Z,CLOSED,False,33,7,1,https://github.com/joeusercz,Fix inotify case where IN_MOVED_TO comes in subsequent read after rea…,1,[],https://github.com/tvheadend/tvheadend/pull/1143,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1143#issuecomment-418127382,…d contaning IN_MOVED_FROM,Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1143,2018-09-02T20:32:09Z,2018-09-03T14:13:29Z,2018-09-03T14:21:19Z,CLOSED,False,33,7,1,https://github.com/joeusercz,Fix inotify case where IN_MOVED_TO comes in subsequent read after rea…,1,[],https://github.com/tvheadend/tvheadend/pull/1143,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1143#issuecomment-418127431,…d contaning IN_MOVED_FROM,Merged with fixes!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1143,2018-09-02T20:32:09Z,2018-09-03T14:13:29Z,2018-09-03T14:21:19Z,CLOSED,False,33,7,1,https://github.com/joeusercz,Fix inotify case where IN_MOVED_TO comes in subsequent read after rea…,1,[],https://github.com/tvheadend/tvheadend/pull/1143,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1143#issuecomment-418129423,…d contaning IN_MOVED_FROM,"Spotted it was raised as issue 5188 (Thanks!) Seems a few projects had to fix this annoyance.
This bug fix for some other project also has a good description of the problem.
Add small timeout to FSW MOVED_FROM polling on Linux",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1144,2018-09-07T07:26:18Z,2018-09-07T08:08:27Z,2018-09-07T08:08:27Z,CLOSED,False,1,1,1,https://github.com/mwhesotech,BugFix: SATIP_SETUP_SPECINV0 and SATIP_SETUP_SPECINV1 has the same definition,1,[],https://github.com/tvheadend/tvheadend/pull/1144,https://github.com/mwhesotech,1,https://github.com/tvheadend/tvheadend/pull/1144,"SATIP_SETUP_SPECINV0 and SATIP_SETUP_SPECINV1 has the same definition.
Because of that specinv=0 is always set in the RTSP header.
This causes problems with the AVM FritzBox 6590.","SATIP_SETUP_SPECINV0 and SATIP_SETUP_SPECINV1 has the same definition.
Because of that specinv=0 is always set in the RTSP header.
This causes problems with the AVM FritzBox 6590.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1144,2018-09-07T07:26:18Z,2018-09-07T08:08:27Z,2018-09-07T08:08:27Z,CLOSED,False,1,1,1,https://github.com/mwhesotech,BugFix: SATIP_SETUP_SPECINV0 and SATIP_SETUP_SPECINV1 has the same definition,1,[],https://github.com/tvheadend/tvheadend/pull/1144,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1144#issuecomment-419358785,"SATIP_SETUP_SPECINV0 and SATIP_SETUP_SPECINV1 has the same definition.
Because of that specinv=0 is always set in the RTSP header.
This causes problems with the AVM FritzBox 6590.",Merged thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1145,2018-09-13T21:50:56Z,2018-09-20T12:27:31Z,2018-09-20T12:27:32Z,CLOSED,False,77,42,3,https://github.com/pablozg,Change epg and dvr search icons by a combobox and fix search string in Thedbtv site,1,[],https://github.com/tvheadend/tvheadend/pull/1145,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1145,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1145,2018-09-13T21:50:56Z,2018-09-20T12:27:31Z,2018-09-20T12:27:32Z,CLOSED,False,77,42,3,https://github.com/pablozg,Change epg and dvr search icons by a combobox and fix search string in Thedbtv site,1,[],https://github.com/tvheadend/tvheadend/pull/1145,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1145#issuecomment-423164265,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1146,2018-09-17T11:39:26Z,2018-09-20T12:29:12Z,2018-09-20T12:29:12Z,CLOSED,False,224,17,7,https://github.com/azlm8t,dvr: Prefer earlier/better schedule events for autorecs.,4,[],https://github.com/tvheadend/tvheadend/pull/1146,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1146,"We now try to avoid scheduling on a timeshift channel X+1 if we have
the same programme on channel X. If a programme is on at the same time
on multiple channels then we will try and schedule on a better
channel, such as one with more services (such as mixed DVB-T/DVB-S) to
allow service switching fallback on tuner conflict.
An example of the new log entry:
dvr: Autorecord ""movie misc"" Replacing existing dvr recording entry of
""The Departed"" on ITV4+1 @ start 2018-09-20;00:35:00(+0100) with
recording on ITV4 @ start 2018-09-19;23:35:00(+0100)
Context for the change is below:
In some areas, a broadcast programme might be shown at the same time
on multiple channels, or at different times on various timeshift,
repeat, or regional channels.
An example of this is the Astra 28.2E satellite where BBC1 has
multiple (26) regional channels that (mostly) show the same
programmes, but sometimes a region might have a +30m or +1h timeshift
for a single programme.
Similarly the commercial channel ""Channel 4"" has ""Channel 4+1"", and a
repeat channel of ""4Seven"" and various associated HD channels. Homes
receive all these regional channels via one dish and are required for
BBC to manually switch between HD/SD versions for local interest
programmes such as regional news.
Previously, when setting an autorec, the item chosen to record was
based on the first broadcast that matched the criteria (such as film
title). However, this broadcast is not necessarily the earliest or the
best.
So this meant that with timeshift channels, a programme could be
scheduled on X+1 instead of X, so record at 21:00 instead of 20:00.
On other setups, the event might correctly record at 20:00, since
scheduling depended on internal structures and which broadcasts are
found first (such as via OTA updates).
Similarly, in countries where the same programme can be received but
on different channels in different qualities, it was possible to
schedule on a non-HD channel, even though the user wanted HD purely
because the non-HD broadcast was found first and the channels were not
merged.
So we now check our recording list to determine if the event is better
than the already scheduled event. If so, the existing recording event
is replaced.
For our criteria, ""better"" is defined in the function
dvr_is_better_recording_timeslot, and has a variety of criteria such
as ""matches service filter"", ""earlier start"", and ""has more services""
(so more likely to be able to failover if there is a problem).  If
other criteria are equal, then we use the channel with the lowest
channel number since Europe EPG has lower channel numbers for
'better' channels.
When determining if an autorec can be scheduled in a better timeslot,
we must only check against other autorecs and not a manually scheduled
entry since the user might schedule a recording at a later date
specifically to avoid conflicts.
This is achieved by replacing the old scheduled recording with a new
scheduled recording. A new log message indicates when this occurs.
Performance: Initial testing suggests that this rescheduling can occur
between zero and two times per programme (when there is an initial
schedule on +1, then a reschedule on non-timeshift SD, then final
schedule on HD). However, it should not add significant runtime
overhead for most people.","We now try to avoid scheduling on a timeshift channel X+1 if we have
the same programme on channel X. If a programme is on at the same time
on multiple channels then we will try and schedule on a better
channel, such as one with more services (such as mixed DVB-T/DVB-S) to
allow service switching fallback on tuner conflict.
An example of the new log entry:
dvr: Autorecord ""movie misc"" Replacing existing dvr recording entry of
""The Departed"" on ITV4+1 @ start 2018-09-20;00:35:00(+0100) with
recording on ITV4 @ start 2018-09-19;23:35:00(+0100)
Context for the change is below:
In some areas, a broadcast programme might be shown at the same time
on multiple channels, or at different times on various timeshift,
repeat, or regional channels.
An example of this is the Astra 28.2E satellite where BBC1 has
multiple (26) regional channels that (mostly) show the same
programmes, but sometimes a region might have a +30m or +1h timeshift
for a single programme.
Similarly the commercial channel ""Channel 4"" has ""Channel 4+1"", and a
repeat channel of ""4Seven"" and various associated HD channels. Homes
receive all these regional channels via one dish and are required for
BBC to manually switch between HD/SD versions for local interest
programmes such as regional news.
Previously, when setting an autorec, the item chosen to record was
based on the first broadcast that matched the criteria (such as film
title). However, this broadcast is not necessarily the earliest or the
best.
So this meant that with timeshift channels, a programme could be
scheduled on X+1 instead of X, so record at 21:00 instead of 20:00.
On other setups, the event might correctly record at 20:00, since
scheduling depended on internal structures and which broadcasts are
found first (such as via OTA updates).
Similarly, in countries where the same programme can be received but
on different channels in different qualities, it was possible to
schedule on a non-HD channel, even though the user wanted HD purely
because the non-HD broadcast was found first and the channels were not
merged.
So we now check our recording list to determine if the event is better
than the already scheduled event. If so, the existing recording event
is replaced.
For our criteria, ""better"" is defined in the function
dvr_is_better_recording_timeslot, and has a variety of criteria such
as ""matches service filter"", ""earlier start"", and ""has more services""
(so more likely to be able to failover if there is a problem).  If
other criteria are equal, then we use the channel with the lowest
channel number since Europe EPG has lower channel numbers for
'better' channels.
When determining if an autorec can be scheduled in a better timeslot,
we must only check against other autorecs and not a manually scheduled
entry since the user might schedule a recording at a later date
specifically to avoid conflicts.
This is achieved by replacing the old scheduled recording with a new
scheduled recording. A new log message indicates when this occurs.
Performance: Initial testing suggests that this rescheduling can occur
between zero and two times per programme (when there is an initial
schedule on +1, then a reschedule on non-timeshift SD, then final
schedule on HD). However, it should not add significant runtime
overhead for most people.",True,{'HEART': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1146,2018-09-17T11:39:26Z,2018-09-20T12:29:12Z,2018-09-20T12:29:12Z,CLOSED,False,224,17,7,https://github.com/azlm8t,dvr: Prefer earlier/better schedule events for autorecs.,4,[],https://github.com/tvheadend/tvheadend/pull/1146,https://github.com/mpmc,2,https://github.com/tvheadend/tvheadend/pull/1146#issuecomment-422107840,"We now try to avoid scheduling on a timeshift channel X+1 if we have
the same programme on channel X. If a programme is on at the same time
on multiple channels then we will try and schedule on a better
channel, such as one with more services (such as mixed DVB-T/DVB-S) to
allow service switching fallback on tuner conflict.
An example of the new log entry:
dvr: Autorecord ""movie misc"" Replacing existing dvr recording entry of
""The Departed"" on ITV4+1 @ start 2018-09-20;00:35:00(+0100) with
recording on ITV4 @ start 2018-09-19;23:35:00(+0100)
Context for the change is below:
In some areas, a broadcast programme might be shown at the same time
on multiple channels, or at different times on various timeshift,
repeat, or regional channels.
An example of this is the Astra 28.2E satellite where BBC1 has
multiple (26) regional channels that (mostly) show the same
programmes, but sometimes a region might have a +30m or +1h timeshift
for a single programme.
Similarly the commercial channel ""Channel 4"" has ""Channel 4+1"", and a
repeat channel of ""4Seven"" and various associated HD channels. Homes
receive all these regional channels via one dish and are required for
BBC to manually switch between HD/SD versions for local interest
programmes such as regional news.
Previously, when setting an autorec, the item chosen to record was
based on the first broadcast that matched the criteria (such as film
title). However, this broadcast is not necessarily the earliest or the
best.
So this meant that with timeshift channels, a programme could be
scheduled on X+1 instead of X, so record at 21:00 instead of 20:00.
On other setups, the event might correctly record at 20:00, since
scheduling depended on internal structures and which broadcasts are
found first (such as via OTA updates).
Similarly, in countries where the same programme can be received but
on different channels in different qualities, it was possible to
schedule on a non-HD channel, even though the user wanted HD purely
because the non-HD broadcast was found first and the channels were not
merged.
So we now check our recording list to determine if the event is better
than the already scheduled event. If so, the existing recording event
is replaced.
For our criteria, ""better"" is defined in the function
dvr_is_better_recording_timeslot, and has a variety of criteria such
as ""matches service filter"", ""earlier start"", and ""has more services""
(so more likely to be able to failover if there is a problem).  If
other criteria are equal, then we use the channel with the lowest
channel number since Europe EPG has lower channel numbers for
'better' channels.
When determining if an autorec can be scheduled in a better timeslot,
we must only check against other autorecs and not a manually scheduled
entry since the user might schedule a recording at a later date
specifically to avoid conflicts.
This is achieved by replacing the old scheduled recording with a new
scheduled recording. A new log message indicates when this occurs.
Performance: Initial testing suggests that this rescheduling can occur
between zero and two times per programme (when there is an initial
schedule on +1, then a reschedule on non-timeshift SD, then final
schedule on HD). However, it should not add significant runtime
overhead for most people.","Ooh, I like this! However I would make it optional to avoid screwing with people used to the current logic.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1146,2018-09-17T11:39:26Z,2018-09-20T12:29:12Z,2018-09-20T12:29:12Z,CLOSED,False,224,17,7,https://github.com/azlm8t,dvr: Prefer earlier/better schedule events for autorecs.,4,[],https://github.com/tvheadend/tvheadend/pull/1146,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1146#issuecomment-422123217,"We now try to avoid scheduling on a timeshift channel X+1 if we have
the same programme on channel X. If a programme is on at the same time
on multiple channels then we will try and schedule on a better
channel, such as one with more services (such as mixed DVB-T/DVB-S) to
allow service switching fallback on tuner conflict.
An example of the new log entry:
dvr: Autorecord ""movie misc"" Replacing existing dvr recording entry of
""The Departed"" on ITV4+1 @ start 2018-09-20;00:35:00(+0100) with
recording on ITV4 @ start 2018-09-19;23:35:00(+0100)
Context for the change is below:
In some areas, a broadcast programme might be shown at the same time
on multiple channels, or at different times on various timeshift,
repeat, or regional channels.
An example of this is the Astra 28.2E satellite where BBC1 has
multiple (26) regional channels that (mostly) show the same
programmes, but sometimes a region might have a +30m or +1h timeshift
for a single programme.
Similarly the commercial channel ""Channel 4"" has ""Channel 4+1"", and a
repeat channel of ""4Seven"" and various associated HD channels. Homes
receive all these regional channels via one dish and are required for
BBC to manually switch between HD/SD versions for local interest
programmes such as regional news.
Previously, when setting an autorec, the item chosen to record was
based on the first broadcast that matched the criteria (such as film
title). However, this broadcast is not necessarily the earliest or the
best.
So this meant that with timeshift channels, a programme could be
scheduled on X+1 instead of X, so record at 21:00 instead of 20:00.
On other setups, the event might correctly record at 20:00, since
scheduling depended on internal structures and which broadcasts are
found first (such as via OTA updates).
Similarly, in countries where the same programme can be received but
on different channels in different qualities, it was possible to
schedule on a non-HD channel, even though the user wanted HD purely
because the non-HD broadcast was found first and the channels were not
merged.
So we now check our recording list to determine if the event is better
than the already scheduled event. If so, the existing recording event
is replaced.
For our criteria, ""better"" is defined in the function
dvr_is_better_recording_timeslot, and has a variety of criteria such
as ""matches service filter"", ""earlier start"", and ""has more services""
(so more likely to be able to failover if there is a problem).  If
other criteria are equal, then we use the channel with the lowest
channel number since Europe EPG has lower channel numbers for
'better' channels.
When determining if an autorec can be scheduled in a better timeslot,
we must only check against other autorecs and not a manually scheduled
entry since the user might schedule a recording at a later date
specifically to avoid conflicts.
This is achieved by replacing the old scheduled recording with a new
scheduled recording. A new log message indicates when this occurs.
Performance: Initial testing suggests that this rescheduling can occur
between zero and two times per programme (when there is an initial
schedule on +1, then a reschedule on non-timeshift SD, then final
schedule on HD). However, it should not add significant runtime
overhead for most people.","Thanks. Should be easy enough to make it configurable on the dvr profile (Configuration->Recording->DVR Profile), if only I can think of a name for the config...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1146,2018-09-17T11:39:26Z,2018-09-20T12:29:12Z,2018-09-20T12:29:12Z,CLOSED,False,224,17,7,https://github.com/azlm8t,dvr: Prefer earlier/better schedule events for autorecs.,4,[],https://github.com/tvheadend/tvheadend/pull/1146,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1146#issuecomment-422138064,"We now try to avoid scheduling on a timeshift channel X+1 if we have
the same programme on channel X. If a programme is on at the same time
on multiple channels then we will try and schedule on a better
channel, such as one with more services (such as mixed DVB-T/DVB-S) to
allow service switching fallback on tuner conflict.
An example of the new log entry:
dvr: Autorecord ""movie misc"" Replacing existing dvr recording entry of
""The Departed"" on ITV4+1 @ start 2018-09-20;00:35:00(+0100) with
recording on ITV4 @ start 2018-09-19;23:35:00(+0100)
Context for the change is below:
In some areas, a broadcast programme might be shown at the same time
on multiple channels, or at different times on various timeshift,
repeat, or regional channels.
An example of this is the Astra 28.2E satellite where BBC1 has
multiple (26) regional channels that (mostly) show the same
programmes, but sometimes a region might have a +30m or +1h timeshift
for a single programme.
Similarly the commercial channel ""Channel 4"" has ""Channel 4+1"", and a
repeat channel of ""4Seven"" and various associated HD channels. Homes
receive all these regional channels via one dish and are required for
BBC to manually switch between HD/SD versions for local interest
programmes such as regional news.
Previously, when setting an autorec, the item chosen to record was
based on the first broadcast that matched the criteria (such as film
title). However, this broadcast is not necessarily the earliest or the
best.
So this meant that with timeshift channels, a programme could be
scheduled on X+1 instead of X, so record at 21:00 instead of 20:00.
On other setups, the event might correctly record at 20:00, since
scheduling depended on internal structures and which broadcasts are
found first (such as via OTA updates).
Similarly, in countries where the same programme can be received but
on different channels in different qualities, it was possible to
schedule on a non-HD channel, even though the user wanted HD purely
because the non-HD broadcast was found first and the channels were not
merged.
So we now check our recording list to determine if the event is better
than the already scheduled event. If so, the existing recording event
is replaced.
For our criteria, ""better"" is defined in the function
dvr_is_better_recording_timeslot, and has a variety of criteria such
as ""matches service filter"", ""earlier start"", and ""has more services""
(so more likely to be able to failover if there is a problem).  If
other criteria are equal, then we use the channel with the lowest
channel number since Europe EPG has lower channel numbers for
'better' channels.
When determining if an autorec can be scheduled in a better timeslot,
we must only check against other autorecs and not a manually scheduled
entry since the user might schedule a recording at a later date
specifically to avoid conflicts.
This is achieved by replacing the old scheduled recording with a new
scheduled recording. A new log message indicates when this occurs.
Performance: Initial testing suggests that this rescheduling can occur
between zero and two times per programme (when there is an initial
schedule on +1, then a reschedule on non-timeshift SD, then final
schedule on HD). However, it should not add significant runtime
overhead for most people.","I've added a bool for ""complex scheduling"". I've called it that since (in the far future) I'd quite like the field to have extra tick boxes such as ""reschedule early if there are no tuners available"" (so we quickly cancel a failing recording and reschedule immediately for the +1 timeslot, rather than keep retrying); and ""use all channels showing this programme"" (so when trying to record S03E05 we add all services to the list of potential services that are showing S03E05 and use them as failover even if they are not officially merged to that channel's services; thus avoiding having to manually merge channels).",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1146,2018-09-17T11:39:26Z,2018-09-20T12:29:12Z,2018-09-20T12:29:12Z,CLOSED,False,224,17,7,https://github.com/azlm8t,dvr: Prefer earlier/better schedule events for autorecs.,4,[],https://github.com/tvheadend/tvheadend/pull/1146,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/1146#issuecomment-423164734,"We now try to avoid scheduling on a timeshift channel X+1 if we have
the same programme on channel X. If a programme is on at the same time
on multiple channels then we will try and schedule on a better
channel, such as one with more services (such as mixed DVB-T/DVB-S) to
allow service switching fallback on tuner conflict.
An example of the new log entry:
dvr: Autorecord ""movie misc"" Replacing existing dvr recording entry of
""The Departed"" on ITV4+1 @ start 2018-09-20;00:35:00(+0100) with
recording on ITV4 @ start 2018-09-19;23:35:00(+0100)
Context for the change is below:
In some areas, a broadcast programme might be shown at the same time
on multiple channels, or at different times on various timeshift,
repeat, or regional channels.
An example of this is the Astra 28.2E satellite where BBC1 has
multiple (26) regional channels that (mostly) show the same
programmes, but sometimes a region might have a +30m or +1h timeshift
for a single programme.
Similarly the commercial channel ""Channel 4"" has ""Channel 4+1"", and a
repeat channel of ""4Seven"" and various associated HD channels. Homes
receive all these regional channels via one dish and are required for
BBC to manually switch between HD/SD versions for local interest
programmes such as regional news.
Previously, when setting an autorec, the item chosen to record was
based on the first broadcast that matched the criteria (such as film
title). However, this broadcast is not necessarily the earliest or the
best.
So this meant that with timeshift channels, a programme could be
scheduled on X+1 instead of X, so record at 21:00 instead of 20:00.
On other setups, the event might correctly record at 20:00, since
scheduling depended on internal structures and which broadcasts are
found first (such as via OTA updates).
Similarly, in countries where the same programme can be received but
on different channels in different qualities, it was possible to
schedule on a non-HD channel, even though the user wanted HD purely
because the non-HD broadcast was found first and the channels were not
merged.
So we now check our recording list to determine if the event is better
than the already scheduled event. If so, the existing recording event
is replaced.
For our criteria, ""better"" is defined in the function
dvr_is_better_recording_timeslot, and has a variety of criteria such
as ""matches service filter"", ""earlier start"", and ""has more services""
(so more likely to be able to failover if there is a problem).  If
other criteria are equal, then we use the channel with the lowest
channel number since Europe EPG has lower channel numbers for
'better' channels.
When determining if an autorec can be scheduled in a better timeslot,
we must only check against other autorecs and not a manually scheduled
entry since the user might schedule a recording at a later date
specifically to avoid conflicts.
This is achieved by replacing the old scheduled recording with a new
scheduled recording. A new log message indicates when this occurs.
Performance: Initial testing suggests that this rescheduling can occur
between zero and two times per programme (when there is an initial
schedule on +1, then a reschedule on non-timeshift SD, then final
schedule on HD). However, it should not add significant runtime
overhead for most people.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1147,2018-09-17T12:28:10Z,2018-09-20T12:29:37Z,2018-09-20T12:29:37Z,CLOSED,False,2,2,1,https://github.com/AlexMekkering,Upgrade to libhdhomerun_20180817,1,[],https://github.com/tvheadend/tvheadend/pull/1147,https://github.com/AlexMekkering,1,https://github.com/tvheadend/tvheadend/pull/1147,"This upgrades the embedded libhdhomerun to version 20180817.
Please also apply to the release/4.2 branch.","This upgrades the embedded libhdhomerun to version 20180817.
Please also apply to the release/4.2 branch.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1147,2018-09-17T12:28:10Z,2018-09-20T12:29:37Z,2018-09-20T12:29:37Z,CLOSED,False,2,2,1,https://github.com/AlexMekkering,Upgrade to libhdhomerun_20180817,1,[],https://github.com/tvheadend/tvheadend/pull/1147,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1147#issuecomment-423164840,"This upgrades the embedded libhdhomerun to version 20180817.
Please also apply to the release/4.2 branch.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1148,2018-09-17T12:34:56Z,2018-09-20T12:38:40Z,2018-09-20T12:38:40Z,CLOSED,False,9,0,2,https://github.com/azlm8t,FreeBSD: Check for fdatasync system call,1,[],https://github.com/tvheadend/tvheadend/pull/1148,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1148,"It's supported on FreeBSD 11.1 and later, so add check to configure.","It's supported on FreeBSD 11.1 and later, so add check to configure.",True,{'THUMBS_UP': ['https://github.com/network-shark']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1148,2018-09-17T12:34:56Z,2018-09-20T12:38:40Z,2018-09-20T12:38:40Z,CLOSED,False,9,0,2,https://github.com/azlm8t,FreeBSD: Check for fdatasync system call,1,[],https://github.com/tvheadend/tvheadend/pull/1148,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1148#issuecomment-423167378,"It's supported on FreeBSD 11.1 and later, so add check to configure.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1149,2018-09-17T16:25:20Z,2018-09-20T12:30:12Z,2018-09-20T12:30:12Z,CLOSED,False,37,36,18,https://github.com/azlm8t,Clang remove no-incompatible-pointers Makefile option,2,[],https://github.com/tvheadend/tvheadend/pull/1149,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1149,"Remove the option ""no-incompatible-pointer-types"" for clang since gcc does warn for such types and the official build is done with gcc, making clang builds sometimes not compile with gcc.
Fixed up the couple of locations with such incompatible pointers (mainly const). Also fixed up a few places that gcc can warn about out style declaration (mainly ""static"" not being first and ""__thread"" not being before type).","Remove the option ""no-incompatible-pointer-types"" for clang since gcc does warn for such types and the official build is done with gcc, making clang builds sometimes not compile with gcc.
Fixed up the couple of locations with such incompatible pointers (mainly const). Also fixed up a few places that gcc can warn about out style declaration (mainly ""static"" not being first and ""__thread"" not being before type).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1149,2018-09-17T16:25:20Z,2018-09-20T12:30:12Z,2018-09-20T12:30:12Z,CLOSED,False,37,36,18,https://github.com/azlm8t,Clang remove no-incompatible-pointers Makefile option,2,[],https://github.com/tvheadend/tvheadend/pull/1149,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1149#issuecomment-423164996,"Remove the option ""no-incompatible-pointer-types"" for clang since gcc does warn for such types and the official build is done with gcc, making clang builds sometimes not compile with gcc.
Fixed up the couple of locations with such incompatible pointers (mainly const). Also fixed up a few places that gcc can warn about out style declaration (mainly ""static"" not being first and ""__thread"" not being before type).",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1150,2018-09-18T18:03:41Z,2018-09-20T12:31:05Z,2018-09-20T12:31:05Z,CLOSED,False,25,26,1,https://github.com/azlm8t,ui: Fix createToolbar2 issues on some recent browsers.,1,[],https://github.com/tvheadend/tvheadend/pull/1150,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1150,"Recent versions of Firefox had an exception saying the createToolbar2
function does not exist when it was called to create the secondary
toolbar that is used for category searching in the EPG.
I believe this was due to scoping issues, so rescoped the variables.
This worked, but although the toolbar was added it was not displayed
on Firefox.  So changed the way the toolbar is added and it now works
on Firefox and Safari.","Recent versions of Firefox had an exception saying the createToolbar2
function does not exist when it was called to create the secondary
toolbar that is used for category searching in the EPG.
I believe this was due to scoping issues, so rescoped the variables.
This worked, but although the toolbar was added it was not displayed
on Firefox.  So changed the way the toolbar is added and it now works
on Firefox and Safari.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1150,2018-09-18T18:03:41Z,2018-09-20T12:31:05Z,2018-09-20T12:31:05Z,CLOSED,False,25,26,1,https://github.com/azlm8t,ui: Fix createToolbar2 issues on some recent browsers.,1,[],https://github.com/tvheadend/tvheadend/pull/1150,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1150#issuecomment-423165236,"Recent versions of Firefox had an exception saying the createToolbar2
function does not exist when it was called to create the secondary
toolbar that is used for category searching in the EPG.
I believe this was due to scoping issues, so rescoped the variables.
This worked, but although the toolbar was added it was not displayed
on Firefox.  So changed the way the toolbar is added and it now works
on Firefox and Safari.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1151,2018-09-18T22:56:27Z,2018-09-20T12:33:55Z,2018-09-20T12:33:55Z,CLOSED,False,54,1,3,https://github.com/azlm8t,dvr: Add minyear/maxyear to autorec.,1,[],https://github.com/tvheadend/tvheadend/pull/1151,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1151,"My listings provider thinks every old film is worth 5/5, so we add
minyear to allow an autorec of ""good films"" to filter out old
films. Also add corresponding maxyear for people who think the
opposite and only want old programmes recorded.","My listings provider thinks every old film is worth 5/5, so we add
minyear to allow an autorec of ""good films"" to filter out old
films. Also add corresponding maxyear for people who think the
opposite and only want old programmes recorded.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1151,2018-09-18T22:56:27Z,2018-09-20T12:33:55Z,2018-09-20T12:33:55Z,CLOSED,False,54,1,3,https://github.com/azlm8t,dvr: Add minyear/maxyear to autorec.,1,[],https://github.com/tvheadend/tvheadend/pull/1151,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1151#issuecomment-423165956,"My listings provider thinks every old film is worth 5/5, so we add
minyear to allow an autorec of ""good films"" to filter out old
films. Also add corresponding maxyear for people who think the
opposite and only want old programmes recorded.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1152,2018-09-19T14:59:53Z,2018-09-20T12:34:27Z,2018-09-21T01:38:33Z,CLOSED,False,35,2,3,https://github.com/azlm8t,dvr: Async reschedule autorecs whenever a log entry is destroyed.,1,[],https://github.com/tvheadend/tvheadend/pull/1152,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1152,"Destroying a log entry can cause another autorec rule to be valid and
need scheduling.
For example, if you have two autorec rules that match the same
programme then only one autorec rule will schedule the programme
and the other autorec will see the programme is scheduled and do
nothing.
However, if you then disable the first autorec rule, then we need the
second autorec rule to re-arm the timer for that programme since it
still matches it.
This resheduling is done async after a delay. This avoids large
changes causing constant rescheduling. So, if user deletes a thousand
log files, we do not want a thousand reschedules to occur. Instead,
we dispatch a single timer after the last update has occurred.
Performance:
I've left debug log messages around the cb for timing reasons, but they
could be removed in the future. On my box, the cb time for reschedule
is tiny, and I'd expect it to be minimal on low spec boxes, but thought
it best to leave the debug in just in case the schedule causes issues.
I had to drop an info to debug for ""max recordings"" since it would log
every time a reschedule occurred.","Destroying a log entry can cause another autorec rule to be valid and
need scheduling.
For example, if you have two autorec rules that match the same
programme then only one autorec rule will schedule the programme
and the other autorec will see the programme is scheduled and do
nothing.
However, if you then disable the first autorec rule, then we need the
second autorec rule to re-arm the timer for that programme since it
still matches it.
This resheduling is done async after a delay. This avoids large
changes causing constant rescheduling. So, if user deletes a thousand
log files, we do not want a thousand reschedules to occur. Instead,
we dispatch a single timer after the last update has occurred.
Performance:
I've left debug log messages around the cb for timing reasons, but they
could be removed in the future. On my box, the cb time for reschedule
is tiny, and I'd expect it to be minimal on low spec boxes, but thought
it best to leave the debug in just in case the schedule causes issues.
I had to drop an info to debug for ""max recordings"" since it would log
every time a reschedule occurred.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1152,2018-09-19T14:59:53Z,2018-09-20T12:34:27Z,2018-09-21T01:38:33Z,CLOSED,False,35,2,3,https://github.com/azlm8t,dvr: Async reschedule autorecs whenever a log entry is destroyed.,1,[],https://github.com/tvheadend/tvheadend/pull/1152,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1152#issuecomment-423166115,"Destroying a log entry can cause another autorec rule to be valid and
need scheduling.
For example, if you have two autorec rules that match the same
programme then only one autorec rule will schedule the programme
and the other autorec will see the programme is scheduled and do
nothing.
However, if you then disable the first autorec rule, then we need the
second autorec rule to re-arm the timer for that programme since it
still matches it.
This resheduling is done async after a delay. This avoids large
changes causing constant rescheduling. So, if user deletes a thousand
log files, we do not want a thousand reschedules to occur. Instead,
we dispatch a single timer after the last update has occurred.
Performance:
I've left debug log messages around the cb for timing reasons, but they
could be removed in the future. On my box, the cb time for reschedule
is tiny, and I'd expect it to be minimal on low spec boxes, but thought
it best to leave the debug in just in case the schedule causes issues.
I had to drop an info to debug for ""max recordings"" since it would log
every time a reschedule occurred.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1152,2018-09-19T14:59:53Z,2018-09-20T12:34:27Z,2018-09-21T01:38:33Z,CLOSED,False,35,2,3,https://github.com/azlm8t,dvr: Async reschedule autorecs whenever a log entry is destroyed.,1,[],https://github.com/tvheadend/tvheadend/pull/1152,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1152#issuecomment-423386394,"Destroying a log entry can cause another autorec rule to be valid and
need scheduling.
For example, if you have two autorec rules that match the same
programme then only one autorec rule will schedule the programme
and the other autorec will see the programme is scheduled and do
nothing.
However, if you then disable the first autorec rule, then we need the
second autorec rule to re-arm the timer for that programme since it
still matches it.
This resheduling is done async after a delay. This avoids large
changes causing constant rescheduling. So, if user deletes a thousand
log files, we do not want a thousand reschedules to occur. Instead,
we dispatch a single timer after the last update has occurred.
Performance:
I've left debug log messages around the cb for timing reasons, but they
could be removed in the future. On my box, the cb time for reschedule
is tiny, and I'd expect it to be minimal on low spec boxes, but thought
it best to leave the debug in just in case the schedule causes issues.
I had to drop an info to debug for ""max recordings"" since it would log
every time a reschedule occurred.","I've spotted a problem where it seems we can create an dvr_entry in the autorec code, but then it later gets marked as a duplicate and destroyed, which then causes us to do an async reschedule after the minute delay. It only seems to affect one of my recordings so I'll see if I can track it down properly tomorrow.
Impact is an additional ""scheduling"" info line once every minute.
=-=
Seems the problem may be that when a programme has been recorded and an autorec matches that programme, then we create the dvr entry regardless (since broadcast=0 on the existing entry so we bypass all the new replace logic), then we create the dvr_entry. We realize the start time has elapsed so we trigger the recording to start immediately in an async timer. That timer then realizes the dvr entry is a semantic dup of the original dvr entry so destroys it. Hence, the messages only occur during the duration of the programme when it's repeated on tv. So, at least that explains why I missed it.
I'll have to do a bit more digging. Perhaps we will have to create the entry and do a dup check earlier before the logging. I'll have to do a bit more debugging. Certainly it appears our dvr list has entries that will get cancelled once the start time is reached (e.g., in dvr/log I have one scheduled for Friday that I know is a repeat of the film that was on the previous Thursday).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1153,2018-09-19T18:48:26Z,2018-09-20T12:34:57Z,2018-09-20T12:34:57Z,CLOSED,False,15,0,1,https://github.com/azlm8t,ui: Add grouping format specifier for dates.,1,[],https://github.com/tvheadend/tvheadend/pull/1153,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1153,"When grouping recordings by datetime, each group tends to only
have one recording since time field is unique.
So, when grouping, we only use the date-portion and not the time
portion in order to create the group.
This only affects the title of the group, not the display of the field
in the column. It means most groups then get more than one item
in the group and can be  useful when grouping upcoming recordings.","When grouping recordings by datetime, each group tends to only
have one recording since time field is unique.
So, when grouping, we only use the date-portion and not the time
portion in order to create the group.
This only affects the title of the group, not the display of the field
in the column. It means most groups then get more than one item
in the group and can be  useful when grouping upcoming recordings.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1153,2018-09-19T18:48:26Z,2018-09-20T12:34:57Z,2018-09-20T12:34:57Z,CLOSED,False,15,0,1,https://github.com/azlm8t,ui: Add grouping format specifier for dates.,1,[],https://github.com/tvheadend/tvheadend/pull/1153,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1153#issuecomment-423166235,"When grouping recordings by datetime, each group tends to only
have one recording since time field is unique.
So, when grouping, we only use the date-portion and not the time
portion in order to create the group.
This only affects the title of the group, not the display of the field
in the column. It means most groups then get more than one item
in the group and can be  useful when grouping upcoming recordings.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1154,2018-09-19T18:50:39Z,2018-09-20T12:35:18Z,2018-09-20T12:35:18Z,CLOSED,False,15,4,2,https://github.com/azlm8t,FreeBSD makefile fixups,2,[],https://github.com/tvheadend/tvheadend/pull/1154,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1154,"Couple of minor fixups for FreeBSD. The ""stat(1)"" command on FreeBSD takes different arguments. It also requires libinotify for inotify support, otherwise the compile works but the link fails.","Couple of minor fixups for FreeBSD. The ""stat(1)"" command on FreeBSD takes different arguments. It also requires libinotify for inotify support, otherwise the compile works but the link fails.",True,{'THUMBS_UP': ['https://github.com/network-shark']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1154,2018-09-19T18:50:39Z,2018-09-20T12:35:18Z,2018-09-20T12:35:18Z,CLOSED,False,15,4,2,https://github.com/azlm8t,FreeBSD makefile fixups,2,[],https://github.com/tvheadend/tvheadend/pull/1154,https://github.com/mpmc,2,https://github.com/tvheadend/tvheadend/pull/1154#issuecomment-422984415,"Couple of minor fixups for FreeBSD. The ""stat(1)"" command on FreeBSD takes different arguments. It also requires libinotify for inotify support, otherwise the compile works but the link fails.",Thanks for your commits @azlm8t ! You're on a roll! 👍,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1154,2018-09-19T18:50:39Z,2018-09-20T12:35:18Z,2018-09-20T12:35:18Z,CLOSED,False,15,4,2,https://github.com/azlm8t,FreeBSD makefile fixups,2,[],https://github.com/tvheadend/tvheadend/pull/1154,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1154#issuecomment-423006303,"Couple of minor fixups for FreeBSD. The ""stat(1)"" command on FreeBSD takes different arguments. It also requires libinotify for inotify support, otherwise the compile works but the link fails.","laugh Thanks, yes, I had a bit of spare time for a change.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1154,2018-09-19T18:50:39Z,2018-09-20T12:35:18Z,2018-09-20T12:35:18Z,CLOSED,False,15,4,2,https://github.com/azlm8t,FreeBSD makefile fixups,2,[],https://github.com/tvheadend/tvheadend/pull/1154,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1154#issuecomment-423166326,"Couple of minor fixups for FreeBSD. The ""stat(1)"" command on FreeBSD takes different arguments. It also requires libinotify for inotify support, otherwise the compile works but the link fails.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1155,2018-09-20T09:37:16Z,2018-09-20T13:40:51Z,2018-09-20T13:40:51Z,CLOSED,False,153,22,2,https://github.com/azlm8t,ui: Add next button for epg and dvr,5,[],https://github.com/tvheadend/tvheadend/pull/1155,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1155,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1155,2018-09-20T09:37:16Z,2018-09-20T13:40:51Z,2018-09-20T13:40:51Z,CLOSED,False,153,22,2,https://github.com/azlm8t,ui: Add next button for epg and dvr,5,[],https://github.com/tvheadend/tvheadend/pull/1155,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1155#issuecomment-423116133,,"It was mentioned in the forum that dialogs could use a next/prev button. There did not seem to be enough room to add both without making the dialogs bigger, so I only added a next. If you get to the end of the list, then the button disables. This button is in the epg window and the dvr windows.
It was also mentioned that epg broadcast details dialog does not have channel name.  I think that's only a problem if user does not have channel icons, so I put the details as part of the dialog title bar to avoid having extra text.
These changes appear to work for me, even with two dialogs open at the same time. I had to re-scope some variables so things like ""imdb"" used the details for the current dialog, but it seems to work fine.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1155,2018-09-20T09:37:16Z,2018-09-20T13:40:51Z,2018-09-20T13:40:51Z,CLOSED,False,153,22,2,https://github.com/azlm8t,ui: Add next button for epg and dvr,5,[],https://github.com/tvheadend/tvheadend/pull/1155,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1155#issuecomment-423166979,,"Please, rebase to master.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1155,2018-09-20T09:37:16Z,2018-09-20T13:40:51Z,2018-09-20T13:40:51Z,CLOSED,False,153,22,2,https://github.com/azlm8t,ui: Add next button for epg and dvr,5,[],https://github.com/tvheadend/tvheadend/pull/1155,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1155#issuecomment-423186084,,"Sorry, I hadn't realized the other UI change would conflict. I've rebased the code and also added channel details to the dvr dialog titlebar.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1155,2018-09-20T09:37:16Z,2018-09-20T13:40:51Z,2018-09-20T13:40:51Z,CLOSED,False,153,22,2,https://github.com/azlm8t,ui: Add next button for epg and dvr,5,[],https://github.com/tvheadend/tvheadend/pull/1155,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/1155#issuecomment-423187194,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1156,2018-09-20T19:12:30Z,2018-09-26T15:29:52Z,2018-09-26T15:29:53Z,MERGED,True,29,1,3,https://github.com/azlm8t,dvr: Add minseason and maxseason to autorec (#5176),1,[],https://github.com/tvheadend/tvheadend/pull/1156,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1156,"This allows users to specify specific seasons to record, season has to be >= min and <= max.
This isn't quite what was requested in bug: it wanted a concat of title,subtitle,summary,description to allow users to regex seasons to record. But that method I think would be slow and a bit error prone with the OTA scrapers. So, instead I added another min/max field to autorec.
For example min=5,max=5 will record only season 5.
Setting min=5,max=0 will record everything on season 5 or
later, which is useful if you've already seen seasons 1--4.
This can then be combined with the normal fulltext regex
such as ""Simpsons""+minseason=12.
Fixes: #5176","This allows users to specify specific seasons to record, season has to be >= min and <= max.
This isn't quite what was requested in bug: it wanted a concat of title,subtitle,summary,description to allow users to regex seasons to record. But that method I think would be slow and a bit error prone with the OTA scrapers. So, instead I added another min/max field to autorec.
For example min=5,max=5 will record only season 5.
Setting min=5,max=0 will record everything on season 5 or
later, which is useful if you've already seen seasons 1--4.
This can then be combined with the normal fulltext regex
such as ""Simpsons""+minseason=12.
Fixes: #5176",True,{'HEART': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1156,2018-09-20T19:12:30Z,2018-09-26T15:29:52Z,2018-09-26T15:29:53Z,MERGED,True,29,1,3,https://github.com/azlm8t,dvr: Add minseason and maxseason to autorec (#5176),1,[],https://github.com/tvheadend/tvheadend/pull/1156,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1156#issuecomment-423355991,"This allows users to specify specific seasons to record, season has to be >= min and <= max.
This isn't quite what was requested in bug: it wanted a concat of title,subtitle,summary,description to allow users to regex seasons to record. But that method I think would be slow and a bit error prone with the OTA scrapers. So, instead I added another min/max field to autorec.
For example min=5,max=5 will record only season 5.
Setting min=5,max=0 will record everything on season 5 or
later, which is useful if you've already seen seasons 1--4.
This can then be combined with the normal fulltext regex
such as ""Simpsons""+minseason=12.
Fixes: #5176","Woow, what a good idea.
Even not using DVR from my side.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1156,2018-09-20T19:12:30Z,2018-09-26T15:29:52Z,2018-09-26T15:29:53Z,MERGED,True,29,1,3,https://github.com/azlm8t,dvr: Add minseason and maxseason to autorec (#5176),1,[],https://github.com/tvheadend/tvheadend/pull/1156,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1156#issuecomment-423372280,"This allows users to specify specific seasons to record, season has to be >= min and <= max.
This isn't quite what was requested in bug: it wanted a concat of title,subtitle,summary,description to allow users to regex seasons to record. But that method I think would be slow and a bit error prone with the OTA scrapers. So, instead I added another min/max field to autorec.
For example min=5,max=5 will record only season 5.
Setting min=5,max=0 will record everything on season 5 or
later, which is useful if you've already seen seasons 1--4.
This can then be combined with the normal fulltext regex
such as ""Simpsons""+minseason=12.
Fixes: #5176","I've spotted a problem where it seems we can create an dvr_entry in the autorec code, but then it later gets marked as a duplicate and destroyed, which then causes us to do an async reschedule after the minute delay. It only seems to affect one of my recordings so I'll see if I can track it down properly tomorrow.
Impact is an additional ""scheduling"" info line once every minute.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1156,2018-09-20T19:12:30Z,2018-09-26T15:29:52Z,2018-09-26T15:29:53Z,MERGED,True,29,1,3,https://github.com/azlm8t,dvr: Add minseason and maxseason to autorec (#5176),1,[],https://github.com/tvheadend/tvheadend/pull/1156,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1156#issuecomment-423383454,"This allows users to specify specific seasons to record, season has to be >= min and <= max.
This isn't quite what was requested in bug: it wanted a concat of title,subtitle,summary,description to allow users to regex seasons to record. But that method I think would be slow and a bit error prone with the OTA scrapers. So, instead I added another min/max field to autorec.
For example min=5,max=5 will record only season 5.
Setting min=5,max=0 will record everything on season 5 or
later, which is useful if you've already seen seasons 1--4.
This can then be combined with the normal fulltext regex
such as ""Simpsons""+minseason=12.
Fixes: #5176","(Sorry, above comment was for wrong PR and is for the async reschedule PR).
Thanks!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1157,2018-09-21T19:39:13Z,2018-09-26T15:30:35Z,2018-09-26T15:30:35Z,MERGED,True,76,36,2,https://github.com/pablozg,"webui: Add Previous button to epg and dvr broadcast popup, fix minor issues (If you s…",2,[],https://github.com/tvheadend/tvheadend/pull/1157,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1157,"…elect the first / last row the ""previous / next"" buttons are actives when the popup window is opened first time)
I think the new ""next"" button is a great idea (thanks @azlm8t), but I think is needed a ""previous"" button too, because if you are reading  the broadcast details and you are going faster, you can miss a previous program of your interest, so if you don't have a previous button you must close the popup and find the broadcast you are looking for. ;-)
@perexg, if you think that is not needed, feel free to close this PR.","…elect the first / last row the ""previous / next"" buttons are actives when the popup window is opened first time)
I think the new ""next"" button is a great idea (thanks @azlm8t), but I think is needed a ""previous"" button too, because if you are reading  the broadcast details and you are going faster, you can miss a previous program of your interest, so if you don't have a previous button you must close the popup and find the broadcast you are looking for. ;-)
@perexg, if you think that is not needed, feel free to close this PR.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1157,2018-09-21T19:39:13Z,2018-09-26T15:30:35Z,2018-09-26T15:30:35Z,MERGED,True,76,36,2,https://github.com/pablozg,"webui: Add Previous button to epg and dvr broadcast popup, fix minor issues (If you s…",2,[],https://github.com/tvheadend/tvheadend/pull/1157,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1157#issuecomment-423699537,"…elect the first / last row the ""previous / next"" buttons are actives when the popup window is opened first time)
I think the new ""next"" button is a great idea (thanks @azlm8t), but I think is needed a ""previous"" button too, because if you are reading  the broadcast details and you are going faster, you can miss a previous program of your interest, so if you don't have a previous button you must close the popup and find the broadcast you are looking for. ;-)
@perexg, if you think that is not needed, feel free to close this PR.","I merged it locally and seems good to me, but I had to increase the epg dialog width from 850 to 900 otherwise sometimes the ""next"" button would be partially off screen on series that have both record episode and record series buttons.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1157,2018-09-21T19:39:13Z,2018-09-26T15:30:35Z,2018-09-26T15:30:35Z,MERGED,True,76,36,2,https://github.com/pablozg,"webui: Add Previous button to epg and dvr broadcast popup, fix minor issues (If you s…",2,[],https://github.com/tvheadend/tvheadend/pull/1157,https://github.com/pablozg,3,https://github.com/tvheadend/tvheadend/pull/1157#issuecomment-423728056,"…elect the first / last row the ""previous / next"" buttons are actives when the popup window is opened first time)
I think the new ""next"" button is a great idea (thanks @azlm8t), but I think is needed a ""previous"" button too, because if you are reading  the broadcast details and you are going faster, you can miss a previous program of your interest, so if you don't have a previous button you must close the popup and find the broadcast you are looking for. ;-)
@perexg, if you think that is not needed, feel free to close this PR.","@perexg @azlm8t, What do you think about delete the button text and only left the icon? With this will avoid issues with lower resolutions and we can reduce a bit the popup window width.
I have added a check to hide the record button if the event is recording or scheduled.
An example:",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1157,2018-09-21T19:39:13Z,2018-09-26T15:30:35Z,2018-09-26T15:30:35Z,MERGED,True,76,36,2,https://github.com/pablozg,"webui: Add Previous button to epg and dvr broadcast popup, fix minor issues (If you s…",2,[],https://github.com/tvheadend/tvheadend/pull/1157,https://github.com/ProfYaffle,4,https://github.com/tvheadend/tvheadend/pull/1157#issuecomment-423734740,"…elect the first / last row the ""previous / next"" buttons are actives when the popup window is opened first time)
I think the new ""next"" button is a great idea (thanks @azlm8t), but I think is needed a ""previous"" button too, because if you are reading  the broadcast details and you are going faster, you can miss a previous program of your interest, so if you don't have a previous button you must close the popup and find the broadcast you are looking for. ;-)
@perexg, if you think that is not needed, feel free to close this PR.","@pablozg My personal view (I know you didn't ask :) ) is that icons should be icons without accompanying text. If you need text, the icon is probably unclear - plus, there are always the tooltips.
Removing the text from buttons in general would perhaps make the interface look less cluttered, and allow dialogs to be smaller at the same time. At the moment, the icon bar is determining the size of the window, which typically doesn't then contain that much text.",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1157,2018-09-21T19:39:13Z,2018-09-26T15:30:35Z,2018-09-26T15:30:35Z,MERGED,True,76,36,2,https://github.com/pablozg,"webui: Add Previous button to epg and dvr broadcast popup, fix minor issues (If you s…",2,[],https://github.com/tvheadend/tvheadend/pull/1157,https://github.com/mpmc,5,https://github.com/tvheadend/tvheadend/pull/1157#issuecomment-423735747,"…elect the first / last row the ""previous / next"" buttons are actives when the popup window is opened first time)
I think the new ""next"" button is a great idea (thanks @azlm8t), but I think is needed a ""previous"" button too, because if you are reading  the broadcast details and you are going faster, you can miss a previous program of your interest, so if you don't have a previous button you must close the popup and find the broadcast you are looking for. ;-)
@perexg, if you think that is not needed, feel free to close this PR.","@pablozg My personal view (I know you didn't ask :) ) is that icons should be icons without accompanying text. If you need text, the icon is probably unclear - plus, there are always the tooltips.
Removing the text from buttons in general would perhaps make the interface look less cluttered, and allow dialogs to be smaller at the same time. At the moment, the icon bar is determining the size of the window, which typically doesn't then contain that much text.

This is my thoughts too! 👍",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1157,2018-09-21T19:39:13Z,2018-09-26T15:30:35Z,2018-09-26T15:30:35Z,MERGED,True,76,36,2,https://github.com/pablozg,"webui: Add Previous button to epg and dvr broadcast popup, fix minor issues (If you s…",2,[],https://github.com/tvheadend/tvheadend/pull/1157,https://github.com/azlm8t,6,https://github.com/tvheadend/tvheadend/pull/1157#issuecomment-423736547,"…elect the first / last row the ""previous / next"" buttons are actives when the popup window is opened first time)
I think the new ""next"" button is a great idea (thanks @azlm8t), but I think is needed a ""previous"" button too, because if you are reading  the broadcast details and you are going faster, you can miss a previous program of your interest, so if you don't have a previous button you must close the popup and find the broadcast you are looking for. ;-)
@perexg, if you think that is not needed, feel free to close this PR.","Sounds good to me. I was thinking something similar last night with the epg in that it might be good to have a ""next"" icon on the epg right next to ""filter channel"". That could make the epg more usable for some people? The idea being that if you hit ""next"" it would populate the filter with the first channel, hit ""next"" again and it would go to the next channel. This would then filter the epg to just that channel and be like a ""now and next epg"" that some tvs have.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1157,2018-09-21T19:39:13Z,2018-09-26T15:30:35Z,2018-09-26T15:30:35Z,MERGED,True,76,36,2,https://github.com/pablozg,"webui: Add Previous button to epg and dvr broadcast popup, fix minor issues (If you s…",2,[],https://github.com/tvheadend/tvheadend/pull/1157,https://github.com/mpmc,7,https://github.com/tvheadend/tvheadend/pull/1157#issuecomment-423736758,"…elect the first / last row the ""previous / next"" buttons are actives when the popup window is opened first time)
I think the new ""next"" button is a great idea (thanks @azlm8t), but I think is needed a ""previous"" button too, because if you are reading  the broadcast details and you are going faster, you can miss a previous program of your interest, so if you don't have a previous button you must close the popup and find the broadcast you are looking for. ;-)
@perexg, if you think that is not needed, feel free to close this PR.","Sounds good to me. I was thinking something similar last night with the epg in that it might be good to have a ""next"" icon on the epg right next to ""filter channel"". That could make the epg more usable for some people? The idea being that if you hit ""next"" it would populate the filter with the first channel, hit ""next"" again and it would go to the next channel. This would then filter the epg to just that channel and be like a ""now and next epg"" that some tvs have.

Yes! As would my comment here, http://tvheadend.org/issues/1133#note-30 =D",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1157,2018-09-21T19:39:13Z,2018-09-26T15:30:35Z,2018-09-26T15:30:35Z,MERGED,True,76,36,2,https://github.com/pablozg,"webui: Add Previous button to epg and dvr broadcast popup, fix minor issues (If you s…",2,[],https://github.com/tvheadend/tvheadend/pull/1157,https://github.com/azlm8t,8,https://github.com/tvheadend/tvheadend/pull/1157#issuecomment-423739694,"…elect the first / last row the ""previous / next"" buttons are actives when the popup window is opened first time)
I think the new ""next"" button is a great idea (thanks @azlm8t), but I think is needed a ""previous"" button too, because if you are reading  the broadcast details and you are going faster, you can miss a previous program of your interest, so if you don't have a previous button you must close the popup and find the broadcast you are looking for. ;-)
@perexg, if you think that is not needed, feel free to close this PR.",Great minds... :-),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1157,2018-09-21T19:39:13Z,2018-09-26T15:30:35Z,2018-09-26T15:30:35Z,MERGED,True,76,36,2,https://github.com/pablozg,"webui: Add Previous button to epg and dvr broadcast popup, fix minor issues (If you s…",2,[],https://github.com/tvheadend/tvheadend/pull/1157,https://github.com/pablozg,9,https://github.com/tvheadend/tvheadend/pull/1157#issuecomment-423764573,"…elect the first / last row the ""previous / next"" buttons are actives when the popup window is opened first time)
I think the new ""next"" button is a great idea (thanks @azlm8t), but I think is needed a ""previous"" button too, because if you are reading  the broadcast details and you are going faster, you can miss a previous program of your interest, so if you don't have a previous button you must close the popup and find the broadcast you are looking for. ;-)
@perexg, if you think that is not needed, feel free to close this PR.",I have upload the changes. ;-),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1157,2018-09-21T19:39:13Z,2018-09-26T15:30:35Z,2018-09-26T15:30:35Z,MERGED,True,76,36,2,https://github.com/pablozg,"webui: Add Previous button to epg and dvr broadcast popup, fix minor issues (If you s…",2,[],https://github.com/tvheadend/tvheadend/pull/1157,https://github.com/azlm8t,10,https://github.com/tvheadend/tvheadend/pull/1157#issuecomment-423765903,"…elect the first / last row the ""previous / next"" buttons are actives when the popup window is opened first time)
I think the new ""next"" button is a great idea (thanks @azlm8t), but I think is needed a ""previous"" button too, because if you are reading  the broadcast details and you are going faster, you can miss a previous program of your interest, so if you don't have a previous button you must close the popup and find the broadcast you are looking for. ;-)
@perexg, if you think that is not needed, feel free to close this PR.",I've also added a PR for the next/prev buttons for the EPG.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1158,2018-09-22T00:56:07Z,2018-09-26T15:30:49Z,2018-09-26T15:30:49Z,MERGED,True,73,13,2,https://github.com/azlm8t,dvr: Fix async autorec reschedule info message logging/looping,6,[],https://github.com/tvheadend/tvheadend/pull/1158,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1158,"I've been running variants of this patch and I believe this fixes the issue.
With yesterday's async autorec reschedule we can enter the scenario where we have a recording on disk, the user updates an autorec which matches that entry on disk and which is broadcasting now. The dvr_entry ends up being created, scheduled to start immediately and an info logged. The recording timer callback then realizes it is a ""semantic dup"" so destroys the dvr_entry. This then causes the async logic to wait for its 60s quiescent timeout and re-check the autorecs one final time to ensure nothing new needs scheduling. However it then finds that the same programme is still being broadcast but has not been scheduled, so does it all again.
So, the logfile ends up with an entry every minute saying a recording is scheduled.
To avoid this, we dup check before the info log, and avoid rechecking autorecs if the entry has just been created and then immediately destroyed.
So I added a persisted ""create time"" to dvr_entry. So if an entry is created and immediately destroyed, we assume no further scheduling is required. In the future, perhaps it will be visible in UI to allow sorting by it.
We now call dup checker before deciding on starting timer/do logging. Unfortunately you have to create a dvr_entry on disk in order to call the dup checker. Doing the de-dup early means we avoid the ""scheduling"" info log, allows us to immediately delete the entry, and also means we no longer have a dvr_entry in the global link that we know will never record, so reduces memory usage. This has the side effect that dvr ui will no longer have duplicates, but I've left the ui buttons there for the moment since existing autorecs will have duplicates in the dvr/log until those start time elapse.
I also fixed up an incorrect dup logging where uuid was reusing same buffer for printing.","I've been running variants of this patch and I believe this fixes the issue.
With yesterday's async autorec reschedule we can enter the scenario where we have a recording on disk, the user updates an autorec which matches that entry on disk and which is broadcasting now. The dvr_entry ends up being created, scheduled to start immediately and an info logged. The recording timer callback then realizes it is a ""semantic dup"" so destroys the dvr_entry. This then causes the async logic to wait for its 60s quiescent timeout and re-check the autorecs one final time to ensure nothing new needs scheduling. However it then finds that the same programme is still being broadcast but has not been scheduled, so does it all again.
So, the logfile ends up with an entry every minute saying a recording is scheduled.
To avoid this, we dup check before the info log, and avoid rechecking autorecs if the entry has just been created and then immediately destroyed.
So I added a persisted ""create time"" to dvr_entry. So if an entry is created and immediately destroyed, we assume no further scheduling is required. In the future, perhaps it will be visible in UI to allow sorting by it.
We now call dup checker before deciding on starting timer/do logging. Unfortunately you have to create a dvr_entry on disk in order to call the dup checker. Doing the de-dup early means we avoid the ""scheduling"" info log, allows us to immediately delete the entry, and also means we no longer have a dvr_entry in the global link that we know will never record, so reduces memory usage. This has the side effect that dvr ui will no longer have duplicates, but I've left the ui buttons there for the moment since existing autorecs will have duplicates in the dvr/log until those start time elapse.
I also fixed up an incorrect dup logging where uuid was reusing same buffer for printing.",True,{'HEART': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1159,2018-09-22T12:40:02Z,2018-09-26T15:31:01Z,2018-09-26T15:31:01Z,MERGED,True,37,0,1,https://github.com/azlm8t,xmltv: xmltv export should include episode num and genre (#4266),2,[],https://github.com/tvheadend/tvheadend/pull/1159,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1159,"For example:
<category lang=""en"">Show / Game show</category> <episode-num system=""xmltv-ns"">10/ . 1/ . /  </episode-num></programme> 
It passes the DTD and looks right for the few entries I checked (Season a/b . Episode c/d . Part e/f).
However I noticed that my existing fields in the xmltv export (such as title) have an incorrect three letter lang code of ""eng"" instead of ""en"". I don't know if that's just my config or if xmltv spec has changed:
<title lang=""eng"">The Big Bang Theory</title>
""This 'lang' should be the two-letter code such as 'en' or
'fr_FR'.  Or you can just leave it out and let your reader take a
guess.""","For example:
<category lang=""en"">Show / Game show</category> <episode-num system=""xmltv-ns"">10/ . 1/ . /  </episode-num></programme> 
It passes the DTD and looks right for the few entries I checked (Season a/b . Episode c/d . Part e/f).
However I noticed that my existing fields in the xmltv export (such as title) have an incorrect three letter lang code of ""eng"" instead of ""en"". I don't know if that's just my config or if xmltv spec has changed:
<title lang=""eng"">The Big Bang Theory</title>
""This 'lang' should be the two-letter code such as 'en' or
'fr_FR'.  Or you can just leave it out and let your reader take a
guess.""",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1160,2018-09-22T18:58:47Z,2018-09-26T15:31:15Z,2018-09-26T15:31:16Z,MERGED,True,48,2,1,https://github.com/azlm8t,ui: Add Next/Prev buttons to filter epg channels.,1,[],https://github.com/tvheadend/tvheadend/pull/1160,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1160,"This provides a simple way to provide a ""now & next"" view in the EPG by having a button either side of the existing ""filter channel"" in the EPG tab. The user can then press them to filter the EPG instead of using the drop-down.","This provides a simple way to provide a ""now & next"" view in the EPG by having a button either side of the existing ""filter channel"" in the EPG tab. The user can then press them to filter the EPG instead of using the drop-down.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1161,2018-09-23T10:20:14Z,2018-09-26T15:37:58Z,2018-09-26T15:37:58Z,MERGED,True,5,0,1,https://github.com/azlm8t,dvr: Persist dvr entry filename upon creation.,1,[],https://github.com/tvheadend/tvheadend/pull/1161,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1161,"Previously we added the filename to the dvr_entry at the start of the
recording, but did not persist it. This meant that if tvheadend
crashed before the programme completed then we would leave a file on
disk which is not referenced by any recording, hence will never be
deleted.
So we persist after the file is created/stream opened. This entry then
has filename, stream info, and (actual) start time, but no (actual)
stop time. The entry is then updated with full details at completion.
I don't believe persisting early causes any knock-on issues since we've
already informed htsp that the recording exists, and Kodi (at least modern
version I have) seem to know it's a live recording and keep updating the
end time.
AFAICT, playback in Kodi (and from Tvheadend finished recordings) only
plays back the last filename segment and ignores the earlier filename entries.
Tested by recording the news (since it has a clock), kill -9 tvheadend,
wait a couple of minutes, then restart tvheadend.","Previously we added the filename to the dvr_entry at the start of the
recording, but did not persist it. This meant that if tvheadend
crashed before the programme completed then we would leave a file on
disk which is not referenced by any recording, hence will never be
deleted.
So we persist after the file is created/stream opened. This entry then
has filename, stream info, and (actual) start time, but no (actual)
stop time. The entry is then updated with full details at completion.
I don't believe persisting early causes any knock-on issues since we've
already informed htsp that the recording exists, and Kodi (at least modern
version I have) seem to know it's a live recording and keep updating the
end time.
AFAICT, playback in Kodi (and from Tvheadend finished recordings) only
plays back the last filename segment and ignores the earlier filename entries.
Tested by recording the news (since it has a clock), kill -9 tvheadend,
wait a couple of minutes, then restart tvheadend.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1162,2018-09-24T11:51:07Z,2018-11-20T08:02:14Z,2018-11-20T08:02:14Z,CLOSED,False,1,0,1,https://github.com/Grabber66,epg.js - add Duration-Filter,3,[],https://github.com/tvheadend/tvheadend/pull/1162,https://github.com/Grabber66,1,https://github.com/tvheadend/tvheadend/pull/1162,add Duration-Filter for 00:01:00 - 03:00:00,add Duration-Filter for 00:01:00 - 03:00:00,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1162,2018-09-24T11:51:07Z,2018-11-20T08:02:14Z,2018-11-20T08:02:14Z,CLOSED,False,1,0,1,https://github.com/Grabber66,epg.js - add Duration-Filter,3,[],https://github.com/tvheadend/tvheadend/pull/1162,https://github.com/ProfYaffle,2,https://github.com/tvheadend/tvheadend/pull/1162#issuecomment-424136127,add Duration-Filter for 00:01:00 - 03:00:00,"Dare I ask why this is needed? Do you have some zero-length events you're trying to filter out, or some reaaaaaally long ones (24-hour news or shopping channels)?
When I wrote this originally, I did wonder about two separate boxes - ""min..."" and ""max..."" - or even a slider, like you see when searching web sites based on min/max price (... RAM, HDD space ...) sometimes. I wonder whether we're heading back that way, rather than adding ""out-of-sequence"" filters...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1162,2018-09-24T11:51:07Z,2018-11-20T08:02:14Z,2018-11-20T08:02:14Z,CLOSED,False,1,0,1,https://github.com/Grabber66,epg.js - add Duration-Filter,3,[],https://github.com/tvheadend/tvheadend/pull/1162,https://github.com/Grabber66,3,https://github.com/tvheadend/tvheadend/pull/1162#issuecomment-424300347,add Duration-Filter for 00:01:00 - 03:00:00,"@ProfYaffle
I used this time Filter, because in epg overview i have on the 1 Site only Sportevents and Shopping-
channels. Those are dropped out with an time Filter -> 3h. And 01min i must use because you can't use
two start-times with the same number.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1162,2018-09-24T11:51:07Z,2018-11-20T08:02:14Z,2018-11-20T08:02:14Z,CLOSED,False,1,0,1,https://github.com/Grabber66,epg.js - add Duration-Filter,3,[],https://github.com/tvheadend/tvheadend/pull/1162,https://github.com/ProfYaffle,4,https://github.com/tvheadend/tvheadend/pull/1162#issuecomment-424314376,add Duration-Filter for 00:01:00 - 03:00:00,"I would have thought, then, that a channel group would allow you to simply filter out those channels on your local installation when you don't want to see them - or simply disable them if you never want to see them.
Having an out-of-sequence filter for a specific use case feels odd to me otherwise; if it's really needed, I would lean towards making it fully-configurable instead. Just my thoughts, though.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1162,2018-09-24T11:51:07Z,2018-11-20T08:02:14Z,2018-11-20T08:02:14Z,CLOSED,False,1,0,1,https://github.com/Grabber66,epg.js - add Duration-Filter,3,[],https://github.com/tvheadend/tvheadend/pull/1162,None,5,https://github.com/tvheadend/tvheadend/pull/1162#issuecomment-426613041,add Duration-Filter for 00:01:00 - 03:00:00,"I would have thought, then, that a channel group would allow you to simply filter out those channels on your local installation when you don't want to see them - or simply disable them if you never want to see them.
Having an out-of-sequence filter for a specific use case feels odd to me otherwise; if it's really needed, I would lean towards making it fully-configurable instead. Just my thoughts, though.

This would be perfect. But i can't do this. It is out of my knowlage.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1162,2018-09-24T11:51:07Z,2018-11-20T08:02:14Z,2018-11-20T08:02:14Z,CLOSED,False,1,0,1,https://github.com/Grabber66,epg.js - add Duration-Filter,3,[],https://github.com/tvheadend/tvheadend/pull/1162,https://github.com/ProfYaffle,6,https://github.com/tvheadend/tvheadend/pull/1162#issuecomment-426636709,add Duration-Filter for 00:01:00 - 03:00:00,"@xstreamon Well, github isn't really the place for support - I suggest you pop over to #hts on Freenode or post something to the forum.
However:

Configuration -> Channel/EPG - Channel Tags. Create the tag here.
Configuration -> Channel/EPG - Channels. Select all the channels you want to add to the tag, and edit them to apply the tag.

In the WebUI, next time you refresh it, you'll now get a new entry in ""Filter tag..."". Select that, and the EPG will only show those channels. The tag will also be exported to e.g. Kodi as a front end so you can use it there.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1162,2018-09-24T11:51:07Z,2018-11-20T08:02:14Z,2018-11-20T08:02:14Z,CLOSED,False,1,0,1,https://github.com/Grabber66,epg.js - add Duration-Filter,3,[],https://github.com/tvheadend/tvheadend/pull/1162,https://github.com/perexg,7,https://github.com/tvheadend/tvheadend/pull/1162#issuecomment-440179012,add Duration-Filter for 00:01:00 - 03:00:00,Rejected (and I think that we have a bug for this similar issue somewhere).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/zinonino,1,https://github.com/tvheadend/tvheadend/pull/1163,"Adding scrape for Episode, Season for Bulgarian lang.","Adding scrape for Episode, Season for Bulgarian lang.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-424428603,"Adding scrape for Episode, Season for Bulgarian lang.","Thanks, looks good.
It fails the one test (in support/testdata/eitscrape/bg)  ""'кулинарно предаване, 3 епизода'"", but I think this is unavoidable?  The scrape gives episode 3, but when I asked last year some people said it should give ""no episode"", but I think sometimes it means episode 3 and sometimes it doesn't? I couldn't quite understand.
https://tvheadend.org/issues/4509",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/zinonino,3,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-424566848,"Adding scrape for Episode, Season for Bulgarian lang.","Yes, you right  ""'кулинарно предаване, 3 епизода'"" must not show, becasue ""3 епизода'"" mean will show 3 episodes, one  after follow by second and follow by third, 3 together,  not mean 3rd episode. I dont have idea how to miss only ""епизода"", but to stay ""епизод"", idk why catch ""а"" when, not put in file. If you have any idea is welcome.
When try ""([0-9]+) епизод "", not catch both, when try ""([0-9]+) епизод"" , catch both ""епизода"" and ""епизод.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-424704117,"Adding scrape for Episode, Season for Bulgarian lang.","Ah, I understand now. So ""3 епизода"" could be for cartoons where it means 3 episodes of ""Scooby Doo"" are shown together in one broadcast 9.30am--11am. Thanks. I'll take another look in a couple of hours.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/azlm8t,5,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-424724641,"Adding scrape for Episode, Season for Bulgarian lang.","Try changing the last two lines in episode_num (and then re-running an OTA scan).
(I can't tell in my browser if it has pasted correct, so that is ""cyrillic a"").
`
""episode_num"": [
""([0-9]+) серия"",
""еп. ([0-9]+)"",
""[, ] ([0-9]+) еп[.]"",
""[, ] еп.([0-9]+)"",
""([0-9]+) еп.[,]"",
""сериал[, ] еп.([0-9]+)"",
""епизод ([0-9]+)"",
""Епизод ([0-9]+)"",
""[, ] ([0-9]+) епизод([^а]|$)"",
""([0-9]+) епизод([^а]|$)""
],

`",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/zinonino,6,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-424928863,"Adding scrape for Episode, Season for Bulgarian lang.","Thank you for  suggestion, now all work perfect, added also some new type of scrape, final must look this.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/zinonino,7,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-424930184,"Adding scrape for Episode, Season for Bulgarian lang.",Now waiting @perexg to merge to master.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/azlm8t,8,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-424977073,"Adding scrape for Episode, Season for Bulgarian lang.","Glad it works.
But, I don't think the ""2018/19"" lines are correct. (Though it will look ok in the EPG).
echo ""сезон 1, епизод 13, драма, романтичен, САЩ, 2014"" | egrep ""сезон ([0-9]+)([^2018/19]|$)""   

==> ""1,"" (one with a comma) but should be ""1"" (without comma).
Do you have an example of what you are trying to match / not match with that line?
There examples I have are in tvheadend/support/testdata/eitscrape/bg.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/zinonino,9,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-425149123,"Adding scrape for Episode, Season for Bulgarian lang.","I try not match, because catch football season 2018/19 , and write like series, Look a pic.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/azlm8t,10,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-425203180,"Adding scrape for Episode, Season for Bulgarian lang.","OK, try this:
   ""season_num"": [
        ""сезон ([0-9]{1,3})[^0-9]"",
        ""[, ] сезон ([0-9]{1,3})[^0-9]"",

This means ""3 digits only"" (does not match 4 digits) so will work for 2019/2020 too.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/zinonino,11,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-425276122,"Adding scrape for Episode, Season for Bulgarian lang.","Now not catch all season, some catch, some missing.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/azlm8t,12,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-425283355,"Adding scrape for Episode, Season for Bulgarian lang.","One final try:
""season_num"": [
        ""сезон ([0-9]{1,3})([^0-9]|$)"",
        ""[, ] сезон ([0-9]{1,3})([^0-9]|$)"",",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/perexg,13,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-426285413,"Adding scrape for Episode, Season for Bulgarian lang.",Merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1163,2018-09-25T01:17:19Z,2018-10-02T14:02:16Z,2018-10-03T06:39:02Z,CLOSED,False,37,0,1,https://github.com/zinonino,Adding scrape for bg,5,[],https://github.com/tvheadend/tvheadend/pull/1163,https://github.com/perexg,14,https://github.com/tvheadend/tvheadend/pull/1163#issuecomment-426527699,"Adding scrape for Episode, Season for Bulgarian lang.",e6a0731,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1164,2018-09-25T18:33:46Z,2018-09-26T15:31:46Z,2018-09-26T15:31:46Z,MERGED,True,54,41,4,https://github.com/azlm8t,Python3: Update to start supporting python3 (but remain compatible with python2),6,[],https://github.com/tvheadend/tvheadend/pull/1164,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1164,"Python2 expires January 2020 (PEP373), so start update to support Python3, while maintaining support for Python2.
Main differences:
- print requires brackets
- string is bytes in python2 and unicode in python3 and can't be mixed with bytes
- need to use struct to more easily pack/unpack binary data
- need to convert socket data to bytearray to allow data extraction since ord not allowed
- import and exception lines needed changing
Tested via ""htspmon -e"" on python2 and python3 on the assumption that it sends data and unpacks lots of messages so should give good coverage of the python htsp changes.
I had an issue where some OTA stations send non-utf-8 data (probably iso-8859-1): previously we'd just pass it through whereas now we have to decode the bytes in to a charset for a string and it would raise an exception, so I convert with the ""replace bad character"" option
Also bumped our python htsp proto version.","Python2 expires January 2020 (PEP373), so start update to support Python3, while maintaining support for Python2.
Main differences:
- print requires brackets
- string is bytes in python2 and unicode in python3 and can't be mixed with bytes
- need to use struct to more easily pack/unpack binary data
- need to convert socket data to bytearray to allow data extraction since ord not allowed
- import and exception lines needed changing
Tested via ""htspmon -e"" on python2 and python3 on the assumption that it sends data and unpacks lots of messages so should give good coverage of the python htsp changes.
I had an issue where some OTA stations send non-utf-8 data (probably iso-8859-1): previously we'd just pass it through whereas now we have to decode the bytes in to a charset for a string and it would raise an exception, so I convert with the ""replace bad character"" option
Also bumped our python htsp proto version.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1165,2018-09-26T08:28:00Z,2018-09-26T15:32:02Z,2018-09-26T15:32:02Z,MERGED,True,31,1,3,https://github.com/MastaG,Fix building with gcc 8,1,[],https://github.com/tvheadend/tvheadend/pull/1165,https://github.com/MastaG,1,https://github.com/tvheadend/tvheadend/pull/1165,"Patch for nasm taken from Fedora 28
Added CFLAGS -Wno-stringop-truncation -Wno-stringop-overflow
fdk-aac requires -fPIC to link properly","Patch for nasm taken from Fedora 28
Added CFLAGS -Wno-stringop-truncation -Wno-stringop-overflow
fdk-aac requires -fPIC to link properly",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1166,2018-09-26T13:26:58Z,2018-09-26T15:37:24Z,2018-09-26T15:37:24Z,CLOSED,False,142,2,7,https://github.com/azlm8t,"dvr: add infrastructure for fanart support, bump htsp version",5,[],https://github.com/tvheadend/tvheadend/pull/1166,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1166,"Add fanart_image to dvr entry and send it via htsp. I've a patch (for pvr.hts) that will then pass it to Kodi where it is displayed as the background image when browsing recordings. Kodi doesn't support fanart in EPG so we don't add support for that.
Added new format specifier (for post-proc) of ""%U"" for passing the UUID of the recording.
Added basic test program of support/tvhmeta for setting fanart/image artwork for a particular UUID using api/idnode/{save,load}. This is mostly a demo program to show how fanart could be set by the user so people could write scripts to do it. In the future, it could set other metadata from some data lookup (such as broadcast year, or full description from a tmdb lookup for people with poor OTA data).
I have not added any tmdb/tvdb/imdb lookups for fetching URLs.
The main reason to get the support in now is to try and get the Kodi patch in before the Kodi 18 release.
Tested via the support/tvhmeta program.","Add fanart_image to dvr entry and send it via htsp. I've a patch (for pvr.hts) that will then pass it to Kodi where it is displayed as the background image when browsing recordings. Kodi doesn't support fanart in EPG so we don't add support for that.
Added new format specifier (for post-proc) of ""%U"" for passing the UUID of the recording.
Added basic test program of support/tvhmeta for setting fanart/image artwork for a particular UUID using api/idnode/{save,load}. This is mostly a demo program to show how fanart could be set by the user so people could write scripts to do it. In the future, it could set other metadata from some data lookup (such as broadcast year, or full description from a tmdb lookup for people with poor OTA data).
I have not added any tmdb/tvdb/imdb lookups for fetching URLs.
The main reason to get the support in now is to try and get the Kodi patch in before the Kodi 18 release.
Tested via the support/tvhmeta program.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1166,2018-09-26T13:26:58Z,2018-09-26T15:37:24Z,2018-09-26T15:37:24Z,CLOSED,False,142,2,7,https://github.com/azlm8t,"dvr: add infrastructure for fanart support, bump htsp version",5,[],https://github.com/tvheadend/tvheadend/pull/1166,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1166#issuecomment-424762635,"Add fanart_image to dvr entry and send it via htsp. I've a patch (for pvr.hts) that will then pass it to Kodi where it is displayed as the background image when browsing recordings. Kodi doesn't support fanart in EPG so we don't add support for that.
Added new format specifier (for post-proc) of ""%U"" for passing the UUID of the recording.
Added basic test program of support/tvhmeta for setting fanart/image artwork for a particular UUID using api/idnode/{save,load}. This is mostly a demo program to show how fanart could be set by the user so people could write scripts to do it. In the future, it could set other metadata from some data lookup (such as broadcast year, or full description from a tmdb lookup for people with poor OTA data).
I have not added any tmdb/tvdb/imdb lookups for fetching URLs.
The main reason to get the support in now is to try and get the Kodi patch in before the Kodi 18 release.
Tested via the support/tvhmeta program.","Merged, but without the htsp version update. The change is not critical and the clients can detect the fanart using the new item name.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1167,2018-09-26T23:49:19Z,2018-09-27T06:05:03Z,2018-09-27T06:05:03Z,MERGED,True,2,0,1,https://github.com/azlm8t,gcc8: Only disable warning options for gcc.,1,[],https://github.com/tvheadend/tvheadend/pull/1167,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1167,"The clang compiler (v4, 2017) does not have the gcc8 options ""-Wno-stringop-truncation -Wno-stringop-overflow"", so enable them only for gcc.
I originally tried to make it a check in the configure script, but clang (annoyingly) seems to only flag unknown options as a warning saying it does not understand the option but carries on to compile the program, and so the configure thinks it does support the flag.
echo 'int main(){}' > /tmp/hw.c && clang -c  -Wno-stringop-overflow  /tmp/hw.c  && echo $? && ls hw.o
warning: unknown warning option '-Wno-stringop-overflow'; did you mean '-Wno-shift-overflow'? [-Wunknown-warning-option]
1 warning generated.
0  <--exit status ok, despite unknown compile options
hw.o <--file generated","The clang compiler (v4, 2017) does not have the gcc8 options ""-Wno-stringop-truncation -Wno-stringop-overflow"", so enable them only for gcc.
I originally tried to make it a check in the configure script, but clang (annoyingly) seems to only flag unknown options as a warning saying it does not understand the option but carries on to compile the program, and so the configure thinks it does support the flag.
echo 'int main(){}' > /tmp/hw.c && clang -c  -Wno-stringop-overflow  /tmp/hw.c  && echo $? && ls hw.o
warning: unknown warning option '-Wno-stringop-overflow'; did you mean '-Wno-shift-overflow'? [-Wunknown-warning-option]
1 warning generated.
0  <--exit status ok, despite unknown compile options
hw.o <--file generated",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1168,2018-09-27T06:28:27Z,2018-10-02T14:04:50Z,2018-10-02T14:04:50Z,MERGED,True,95,3,3,https://github.com/azlm8t,ui: Add fanart background to dvr details dialog.,1,[],https://github.com/tvheadend/tvheadend/pull/1168,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1168,"We now display fanart (if available) on the background of the dvr
dialog. This fanart image is also displayed every ten seconds where
the existing image is displayed.
Tested with safari/firefox and it seems ok, but not great.  I could not get the images scaled nicely based on the center, but hopefully a bit more css will fix that and how to scale/zoom images will become more obvious once we have a proper fanart grabber and more fanart images to play with.
The main complication is that css does not directly support making images less visible, so I had to create three div elements, and make the image in its own layer, and then make that layer transparent.
I also have to fiddle with the z-index on the (existing) image otherwise hover stops working (for enlarging the image), presumably because it's now inside a layer. And has to put the image inside a fixed-width box in case the fanart and image are different dimensions, otherwise the text would reflow.","We now display fanart (if available) on the background of the dvr
dialog. This fanart image is also displayed every ten seconds where
the existing image is displayed.
Tested with safari/firefox and it seems ok, but not great.  I could not get the images scaled nicely based on the center, but hopefully a bit more css will fix that and how to scale/zoom images will become more obvious once we have a proper fanart grabber and more fanart images to play with.
The main complication is that css does not directly support making images less visible, so I had to create three div elements, and make the image in its own layer, and then make that layer transparent.
I also have to fiddle with the z-index on the (existing) image otherwise hover stops working (for enlarging the image), presumably because it's now inside a layer. And has to put the image inside a fixed-width box in case the fanart and image are different dimensions, otherwise the text would reflow.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1168,2018-09-27T06:28:27Z,2018-10-02T14:04:50Z,2018-10-02T14:04:50Z,MERGED,True,95,3,3,https://github.com/azlm8t,ui: Add fanart background to dvr details dialog.,1,[],https://github.com/tvheadend/tvheadend/pull/1168,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1168#issuecomment-424974547,"We now display fanart (if available) on the background of the dvr
dialog. This fanart image is also displayed every ten seconds where
the existing image is displayed.
Tested with safari/firefox and it seems ok, but not great.  I could not get the images scaled nicely based on the center, but hopefully a bit more css will fix that and how to scale/zoom images will become more obvious once we have a proper fanart grabber and more fanart images to play with.
The main complication is that css does not directly support making images less visible, so I had to create three div elements, and make the image in its own layer, and then make that layer transparent.
I also have to fiddle with the z-index on the (existing) image otherwise hover stops working (for enlarging the image), presumably because it's now inside a layer. And has to put the image inside a fixed-width box in case the fanart and image are different dimensions, otherwise the text would reflow.",:o looks pretty good,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1168,2018-09-27T06:28:27Z,2018-10-02T14:04:50Z,2018-10-02T14:04:50Z,MERGED,True,95,3,3,https://github.com/azlm8t,ui: Add fanart background to dvr details dialog.,1,[],https://github.com/tvheadend/tvheadend/pull/1168,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1168#issuecomment-425035157,"We now display fanart (if available) on the background of the dvr
dialog. This fanart image is also displayed every ten seconds where
the existing image is displayed.
Tested with safari/firefox and it seems ok, but not great.  I could not get the images scaled nicely based on the center, but hopefully a bit more css will fix that and how to scale/zoom images will become more obvious once we have a proper fanart grabber and more fanart images to play with.
The main complication is that css does not directly support making images less visible, so I had to create three div elements, and make the image in its own layer, and then make that layer transparent.
I also have to fiddle with the z-index on the (existing) image otherwise hover stops working (for enlarging the image), presumably because it's now inside a layer. And has to put the image inside a fixed-width box in case the fanart and image are different dimensions, otherwise the text would reflow.",Just discovered a problem (I had not realized the css was shared between dvr and epg which means the image is too big in the epg dialog). I'll fix later today.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1168,2018-09-27T06:28:27Z,2018-10-02T14:04:50Z,2018-10-02T14:04:50Z,MERGED,True,95,3,3,https://github.com/azlm8t,ui: Add fanart background to dvr details dialog.,1,[],https://github.com/tvheadend/tvheadend/pull/1168,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1168#issuecomment-425084610,"We now display fanart (if available) on the background of the dvr
dialog. This fanart image is also displayed every ten seconds where
the existing image is displayed.
Tested with safari/firefox and it seems ok, but not great.  I could not get the images scaled nicely based on the center, but hopefully a bit more css will fix that and how to scale/zoom images will become more obvious once we have a proper fanart grabber and more fanart images to play with.
The main complication is that css does not directly support making images less visible, so I had to create three div elements, and make the image in its own layer, and then make that layer transparent.
I also have to fiddle with the z-index on the (existing) image otherwise hover stops working (for enlarging the image), presumably because it's now inside a layer. And has to put the image inside a fixed-width box in case the fanart and image are different dimensions, otherwise the text would reflow.",Fixed the epg dialog image problem caused by change to the css.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1169,2018-09-27T13:09:33Z,2018-10-02T14:05:04Z,2018-10-02T14:05:05Z,MERGED,True,609,72,11,https://github.com/azlm8t,python: add very basic support for tmdb artwork lookup,9,[],https://github.com/tvheadend/tvheadend/pull/1169,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1169,"This requires the third party library tmdb3, which (apparently) can be installed with ""pip install tmdb3"" if not in the package manager.
The script tvhmeta can be added as a pre-processor command for recordings with arguments of ""--uuid %U --tmdb-key abcdef"".
Such as:
/usr/local/bin/tvhmeta --uuid %U --tmdb-key abcdef
When a recording starts, it will get the uuid, query the tvheadend server for the title+year, then do a tmdb lookup. If successful, it will then set the artwork and fanart in tvheadend, and this is viewable on latest Kodi build.
This only works with python2.7 which is a limitation of the underlying tmdb library, which I assume will get fixed upstream soon, otherwise we can rewrite that library since the api seems simple enough. The tmdb3 library uses a cache of recent lookups which is stored in /tmp.
The program also has a ""--debug"" option to see the data sent and received.
Keys: Other PVRs seem to ship with a system-wide key. So that could be set as the default in the code, but still allow the user to override if they want to.
The tv_meta_tmdb.py is a library and an executable, allowing lookups on command line without tvheadend interaction. The intention with ""tv_meta"" prefix is that in the future we could perhaps plugin other libraries for other services like tv episodes.
I've done testing with a number of films and it seems ok, though I only have English data.  The library suggests it gets locale data and does lookups accordingly.
Future: I imagine we might have to bundle tmdb3.py. We should add a hard-coded default tmdb key.
Packaging: I believe the new binaries install ok (they do for me).
Auth: I'm not sure if username/password option is working (since I don't have passwords configured). Running the code against nc -l 1234 shows python is sending a Authorization: Basic YWJjOmRlZg==, so I'm assuming that's correct.
Once we get tmdb lookups working then we can think about tvdb and other services.","This requires the third party library tmdb3, which (apparently) can be installed with ""pip install tmdb3"" if not in the package manager.
The script tvhmeta can be added as a pre-processor command for recordings with arguments of ""--uuid %U --tmdb-key abcdef"".
Such as:
/usr/local/bin/tvhmeta --uuid %U --tmdb-key abcdef
When a recording starts, it will get the uuid, query the tvheadend server for the title+year, then do a tmdb lookup. If successful, it will then set the artwork and fanart in tvheadend, and this is viewable on latest Kodi build.
This only works with python2.7 which is a limitation of the underlying tmdb library, which I assume will get fixed upstream soon, otherwise we can rewrite that library since the api seems simple enough. The tmdb3 library uses a cache of recent lookups which is stored in /tmp.
The program also has a ""--debug"" option to see the data sent and received.
Keys: Other PVRs seem to ship with a system-wide key. So that could be set as the default in the code, but still allow the user to override if they want to.
The tv_meta_tmdb.py is a library and an executable, allowing lookups on command line without tvheadend interaction. The intention with ""tv_meta"" prefix is that in the future we could perhaps plugin other libraries for other services like tv episodes.
I've done testing with a number of films and it seems ok, though I only have English data.  The library suggests it gets locale data and does lookups accordingly.
Future: I imagine we might have to bundle tmdb3.py. We should add a hard-coded default tmdb key.
Packaging: I believe the new binaries install ok (they do for me).
Auth: I'm not sure if username/password option is working (since I don't have passwords configured). Running the code against nc -l 1234 shows python is sending a Authorization: Basic YWJjOmRlZg==, so I'm assuming that's correct.
Once we get tmdb lookups working then we can think about tvdb and other services.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1169,2018-09-27T13:09:33Z,2018-10-02T14:05:04Z,2018-10-02T14:05:05Z,MERGED,True,609,72,11,https://github.com/azlm8t,python: add very basic support for tmdb artwork lookup,9,[],https://github.com/tvheadend/tvheadend/pull/1169,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/1169#issuecomment-425168554,"This requires the third party library tmdb3, which (apparently) can be installed with ""pip install tmdb3"" if not in the package manager.
The script tvhmeta can be added as a pre-processor command for recordings with arguments of ""--uuid %U --tmdb-key abcdef"".
Such as:
/usr/local/bin/tvhmeta --uuid %U --tmdb-key abcdef
When a recording starts, it will get the uuid, query the tvheadend server for the title+year, then do a tmdb lookup. If successful, it will then set the artwork and fanart in tvheadend, and this is viewable on latest Kodi build.
This only works with python2.7 which is a limitation of the underlying tmdb library, which I assume will get fixed upstream soon, otherwise we can rewrite that library since the api seems simple enough. The tmdb3 library uses a cache of recent lookups which is stored in /tmp.
The program also has a ""--debug"" option to see the data sent and received.
Keys: Other PVRs seem to ship with a system-wide key. So that could be set as the default in the code, but still allow the user to override if they want to.
The tv_meta_tmdb.py is a library and an executable, allowing lookups on command line without tvheadend interaction. The intention with ""tv_meta"" prefix is that in the future we could perhaps plugin other libraries for other services like tv episodes.
I've done testing with a number of films and it seems ok, though I only have English data.  The library suggests it gets locale data and does lookups accordingly.
Future: I imagine we might have to bundle tmdb3.py. We should add a hard-coded default tmdb key.
Packaging: I believe the new binaries install ok (they do for me).
Auth: I'm not sure if username/password option is working (since I don't have passwords configured). Running the code against nc -l 1234 shows python is sending a Authorization: Basic YWJjOmRlZg==, so I'm assuming that's correct.
Once we get tmdb lookups working then we can think about tvdb and other services.","We should add a hard-coded default tmdb key.

a not too good idea, better add an default one and offer the possibility to add one via the gui
the default shipped one is likely to get nuked sooner or later as someone abuses it",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1169,2018-09-27T13:09:33Z,2018-10-02T14:05:04Z,2018-10-02T14:05:05Z,MERGED,True,609,72,11,https://github.com/azlm8t,python: add very basic support for tmdb artwork lookup,9,[],https://github.com/tvheadend/tvheadend/pull/1169,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1169#issuecomment-425183149,"This requires the third party library tmdb3, which (apparently) can be installed with ""pip install tmdb3"" if not in the package manager.
The script tvhmeta can be added as a pre-processor command for recordings with arguments of ""--uuid %U --tmdb-key abcdef"".
Such as:
/usr/local/bin/tvhmeta --uuid %U --tmdb-key abcdef
When a recording starts, it will get the uuid, query the tvheadend server for the title+year, then do a tmdb lookup. If successful, it will then set the artwork and fanart in tvheadend, and this is viewable on latest Kodi build.
This only works with python2.7 which is a limitation of the underlying tmdb library, which I assume will get fixed upstream soon, otherwise we can rewrite that library since the api seems simple enough. The tmdb3 library uses a cache of recent lookups which is stored in /tmp.
The program also has a ""--debug"" option to see the data sent and received.
Keys: Other PVRs seem to ship with a system-wide key. So that could be set as the default in the code, but still allow the user to override if they want to.
The tv_meta_tmdb.py is a library and an executable, allowing lookups on command line without tvheadend interaction. The intention with ""tv_meta"" prefix is that in the future we could perhaps plugin other libraries for other services like tv episodes.
I've done testing with a number of films and it seems ok, though I only have English data.  The library suggests it gets locale data and does lookups accordingly.
Future: I imagine we might have to bundle tmdb3.py. We should add a hard-coded default tmdb key.
Packaging: I believe the new binaries install ok (they do for me).
Auth: I'm not sure if username/password option is working (since I don't have passwords configured). Running the code against nc -l 1234 shows python is sending a Authorization: Basic YWJjOmRlZg==, so I'm assuming that's correct.
Once we get tmdb lookups working then we can think about tvdb and other services.","Do you mean put a default key in the code and keep the option for the user to change it (--tmdb-key)? In which case we agree. (My use of ""hard coded default"" was not a good phrase). We could always store the key rot13 to prevent casual abuse :-)
I like the idea of allowing the user to set the key in the GUI (rather than mess with preproc/postproc commands).
Eventually, I'd think I'd like a tick box ""lookup artwork"", some way of adding different modules and priorities (user A: ""I want imdb then tmdb"", user B: ""no, I want tmdb then imdb""), and entering keys/extra config for each.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1169,2018-09-27T13:09:33Z,2018-10-02T14:05:04Z,2018-10-02T14:05:05Z,MERGED,True,609,72,11,https://github.com/azlm8t,python: add very basic support for tmdb artwork lookup,9,[],https://github.com/tvheadend/tvheadend/pull/1169,https://github.com/CvH,4,https://github.com/tvheadend/tvheadend/pull/1169#issuecomment-425344741,"This requires the third party library tmdb3, which (apparently) can be installed with ""pip install tmdb3"" if not in the package manager.
The script tvhmeta can be added as a pre-processor command for recordings with arguments of ""--uuid %U --tmdb-key abcdef"".
Such as:
/usr/local/bin/tvhmeta --uuid %U --tmdb-key abcdef
When a recording starts, it will get the uuid, query the tvheadend server for the title+year, then do a tmdb lookup. If successful, it will then set the artwork and fanart in tvheadend, and this is viewable on latest Kodi build.
This only works with python2.7 which is a limitation of the underlying tmdb library, which I assume will get fixed upstream soon, otherwise we can rewrite that library since the api seems simple enough. The tmdb3 library uses a cache of recent lookups which is stored in /tmp.
The program also has a ""--debug"" option to see the data sent and received.
Keys: Other PVRs seem to ship with a system-wide key. So that could be set as the default in the code, but still allow the user to override if they want to.
The tv_meta_tmdb.py is a library and an executable, allowing lookups on command line without tvheadend interaction. The intention with ""tv_meta"" prefix is that in the future we could perhaps plugin other libraries for other services like tv episodes.
I've done testing with a number of films and it seems ok, though I only have English data.  The library suggests it gets locale data and does lookups accordingly.
Future: I imagine we might have to bundle tmdb3.py. We should add a hard-coded default tmdb key.
Packaging: I believe the new binaries install ok (they do for me).
Auth: I'm not sure if username/password option is working (since I don't have passwords configured). Running the code against nc -l 1234 shows python is sending a Authorization: Basic YWJjOmRlZg==, so I'm assuming that's correct.
Once we get tmdb lookups working then we can think about tvdb and other services.","We could always store the key rot13 to prevent casual abuse :-)

afaik it is rather easy to get the key from the url requests, so crypting the key at the code is rather useless :)
Everything cli based around Tvh has MUCH less users, so if you want that ppl use it include it at the gui ;)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1169,2018-09-27T13:09:33Z,2018-10-02T14:05:04Z,2018-10-02T14:05:05Z,MERGED,True,609,72,11,https://github.com/azlm8t,python: add very basic support for tmdb artwork lookup,9,[],https://github.com/tvheadend/tvheadend/pull/1169,https://github.com/azlm8t,5,https://github.com/tvheadend/tvheadend/pull/1169#issuecomment-425416101,"This requires the third party library tmdb3, which (apparently) can be installed with ""pip install tmdb3"" if not in the package manager.
The script tvhmeta can be added as a pre-processor command for recordings with arguments of ""--uuid %U --tmdb-key abcdef"".
Such as:
/usr/local/bin/tvhmeta --uuid %U --tmdb-key abcdef
When a recording starts, it will get the uuid, query the tvheadend server for the title+year, then do a tmdb lookup. If successful, it will then set the artwork and fanart in tvheadend, and this is viewable on latest Kodi build.
This only works with python2.7 which is a limitation of the underlying tmdb library, which I assume will get fixed upstream soon, otherwise we can rewrite that library since the api seems simple enough. The tmdb3 library uses a cache of recent lookups which is stored in /tmp.
The program also has a ""--debug"" option to see the data sent and received.
Keys: Other PVRs seem to ship with a system-wide key. So that could be set as the default in the code, but still allow the user to override if they want to.
The tv_meta_tmdb.py is a library and an executable, allowing lookups on command line without tvheadend interaction. The intention with ""tv_meta"" prefix is that in the future we could perhaps plugin other libraries for other services like tv episodes.
I've done testing with a number of films and it seems ok, though I only have English data.  The library suggests it gets locale data and does lookups accordingly.
Future: I imagine we might have to bundle tmdb3.py. We should add a hard-coded default tmdb key.
Packaging: I believe the new binaries install ok (they do for me).
Auth: I'm not sure if username/password option is working (since I don't have passwords configured). Running the code against nc -l 1234 shows python is sending a Authorization: Basic YWJjOmRlZg==, so I'm assuming that's correct.
Once we get tmdb lookups working then we can think about tvdb and other services.","I agree, I'd like it in the UI. The user should be able to just tick a box and have it work without having to do any actual config.
I've not got basic code to do ""grabber plugins"". So a command line option gives a list of grabbers to use (defaulting to tmdb) and it will load the class, create an object, and use that to do the fetch; if it fails then it uses the next one in the list.
I'll do some more tidy-up today before delivering.",True,{'THUMBS_UP': ['https://github.com/CvH']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1169,2018-09-27T13:09:33Z,2018-10-02T14:05:04Z,2018-10-02T14:05:05Z,MERGED,True,609,72,11,https://github.com/azlm8t,python: add very basic support for tmdb artwork lookup,9,[],https://github.com/tvheadend/tvheadend/pull/1169,https://github.com/azlm8t,6,https://github.com/tvheadend/tvheadend/pull/1169#issuecomment-425562287,"This requires the third party library tmdb3, which (apparently) can be installed with ""pip install tmdb3"" if not in the package manager.
The script tvhmeta can be added as a pre-processor command for recordings with arguments of ""--uuid %U --tmdb-key abcdef"".
Such as:
/usr/local/bin/tvhmeta --uuid %U --tmdb-key abcdef
When a recording starts, it will get the uuid, query the tvheadend server for the title+year, then do a tmdb lookup. If successful, it will then set the artwork and fanart in tvheadend, and this is viewable on latest Kodi build.
This only works with python2.7 which is a limitation of the underlying tmdb library, which I assume will get fixed upstream soon, otherwise we can rewrite that library since the api seems simple enough. The tmdb3 library uses a cache of recent lookups which is stored in /tmp.
The program also has a ""--debug"" option to see the data sent and received.
Keys: Other PVRs seem to ship with a system-wide key. So that could be set as the default in the code, but still allow the user to override if they want to.
The tv_meta_tmdb.py is a library and an executable, allowing lookups on command line without tvheadend interaction. The intention with ""tv_meta"" prefix is that in the future we could perhaps plugin other libraries for other services like tv episodes.
I've done testing with a number of films and it seems ok, though I only have English data.  The library suggests it gets locale data and does lookups accordingly.
Future: I imagine we might have to bundle tmdb3.py. We should add a hard-coded default tmdb key.
Packaging: I believe the new binaries install ok (they do for me).
Auth: I'm not sure if username/password option is working (since I don't have passwords configured). Running the code against nc -l 1234 shows python is sending a Authorization: Basic YWJjOmRlZg==, so I'm assuming that's correct.
Once we get tmdb lookups working then we can think about tvdb and other services.","Added the ability to find and load grabbers dynamically (based on them having the prefix tv_meta, similar to tv_grab), so new grabbers could be implemented (for example ofdb, omdb, etc.)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1170,2018-09-29T13:13:34Z,2018-10-02T14:04:36Z,2018-10-02T14:04:36Z,MERGED,True,7,2,1,https://github.com/azlm8t,"xmltv export: Use format ""X"" instead of ""X/"" for season/episode export.",1,[],https://github.com/tvheadend/tvheadend/pull/1170,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1170,"Previously we'd output ""4/ . 3/. /"", but it was raised
on the forum that some clients can not handle
the omitted ""total"" number.
So we now output the simpler ""4 . 3 ."" instead.
Examples:
  <episode-num system=""xmltv-ns"">2 . 24/25 .   </episode-num>
  <episode-num system=""xmltv-ns""> . 233 .   </episode-num>
  <episode-num system=""xmltv-ns"">2/2 . 25 .   </episode-num>
  <episode-num system=""xmltv-ns"">22/30 . 9/22 .   </episode-num>","Previously we'd output ""4/ . 3/. /"", but it was raised
on the forum that some clients can not handle
the omitted ""total"" number.
So we now output the simpler ""4 . 3 ."" instead.
Examples:
  <episode-num system=""xmltv-ns"">2 . 24/25 .   </episode-num>
  <episode-num system=""xmltv-ns""> . 233 .   </episode-num>
  <episode-num system=""xmltv-ns"">2/2 . 25 .   </episode-num>
  <episode-num system=""xmltv-ns"">22/30 . 9/22 .   </episode-num>",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1171,2018-09-30T19:13:15Z,2018-10-02T14:03:17Z,2018-10-02T14:03:18Z,MERGED,True,17,3,1,https://github.com/azlm8t,channel ui: Return unique list of services,1,[],https://github.com/tvheadend/tvheadend/pull/1171,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1171,"Previously if multiple services were mapped to same channel then
we would get duplicate entries in the csv displayed at the UI in the
drop down channel list such as a string of 'DVB-T,DVB-T,DVB-S,DVB-S'.
Now we return a unique list of 'DVB-T,DVB-S'.","Previously if multiple services were mapped to same channel then
we would get duplicate entries in the csv displayed at the UI in the
drop down channel list such as a string of 'DVB-T,DVB-T,DVB-S,DVB-S'.
Now we return a unique list of 'DVB-T,DVB-S'.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1171,2018-09-30T19:13:15Z,2018-10-02T14:03:17Z,2018-10-02T14:03:18Z,MERGED,True,17,3,1,https://github.com/azlm8t,channel ui: Return unique list of services,1,[],https://github.com/tvheadend/tvheadend/pull/1171,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1171#issuecomment-425790955,"Previously if multiple services were mapped to same channel then
we would get duplicate entries in the csv displayed at the UI in the
drop down channel list such as a string of 'DVB-T,DVB-T,DVB-S,DVB-S'.
Now we return a unique list of 'DVB-T,DVB-S'.","This is strange, when there were duplicates of the same network in services, normally one worked and the other did not (to give an example).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1171,2018-09-30T19:13:15Z,2018-10-02T14:03:17Z,2018-10-02T14:03:18Z,MERGED,True,17,3,1,https://github.com/azlm8t,channel ui: Return unique list of services,1,[],https://github.com/tvheadend/tvheadend/pull/1171,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1171#issuecomment-425832317,"Previously if multiple services were mapped to same channel then
we would get duplicate entries in the csv displayed at the UI in the
drop down channel list such as a string of 'DVB-T,DVB-T,DVB-S,DVB-S'.
Now we return a unique list of 'DVB-T,DVB-S'.","This change is related to the UI rather than switching services. If you raise it in the forum with a screenshot then it may be clearer. Ensure you tick the boxes in Configuration->Stream->pass/htsp for ""restart on error"" and ""switch to other service"". Also if you rescan the mux and go to the status tab then you should see all adapters able to scan for services.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1172,2018-10-02T00:04:39Z,2018-10-02T14:03:44Z,2018-10-02T14:03:45Z,MERGED,True,30,1,4,https://github.com/azlm8t,Makefile + Debian build hardening,2,[],https://github.com/tvheadend/tvheadend/pull/1172,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1172,"Add options to Debian build rules and configure/Makefile to enable hardening.
I have had occasional crashes where the debug locals variables are bad, so I've added the compile options to do stack checking, and general hardening based on https://wiki.debian.org/Hardening . These options are enabled if the compiler supports the flags.","Add options to Debian build rules and configure/Makefile to enable hardening.
I have had occasional crashes where the debug locals variables are bad, so I've added the compile options to do stack checking, and general hardening based on https://wiki.debian.org/Hardening . These options are enabled if the compiler supports the flags.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1173,2018-10-02T00:36:09Z,2018-10-02T14:04:08Z,2018-10-02T14:04:08Z,MERGED,True,3,3,2,https://github.com/azlm8t,"FreeBSD: allow core dump, plus minor epg assert fix",2,[],https://github.com/tvheadend/tvheadend/pull/1173,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1173,"The ""--dump"" option (to enable core dumps in /tmp) only worked on Linux due to the Linux-specific prctl. However, FreeBSD (and others) can core dump in the cwd if it is writable, so allow the ""cd /tmp"", but still log the warning that it's not supported since other system settings can prevent core dumps.
Also minor fix up of an && that should be || in epg.","The ""--dump"" option (to enable core dumps in /tmp) only worked on Linux due to the Linux-specific prctl. However, FreeBSD (and others) can core dump in the cwd if it is writable, so allow the ""cd /tmp"", but still log the warning that it's not supported since other system settings can prevent core dumps.
Also minor fix up of an && that should be || in epg.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1174,2018-10-02T11:14:40Z,2018-10-02T14:04:19Z,2018-10-02T14:04:19Z,MERGED,True,56,2,2,https://github.com/azlm8t,FreeBSD: Add libunwind trap support for FreeBSD only.,1,[],https://github.com/tvheadend/tvheadend/pull/1174,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1174,"Although the existing backtrace works correctly on Linux, on
FreeBSD it frequently generates a backtrace with completely
wrong function names. (FreeBSD 11.2, current latest version).
For example, making htsp_build_dvrentry crash with SEGV, it
would either not generate a stacktrace or would generate a
backtrace of:
-pthread_sigmask
-pthread_getspecific
-service_remove_unseen
-htsp_get_subscription_status
-htsp_init
-tcp_server_done
-tvhthread_create.
...instead of the correct backtrace of:
-
-htsp_build_dvrentry
-htsp_method_async
-htsp_read_loop
-htsp_serve...
So on FreeBSD only, we use libunwind to generate the
backtrace and function names. We explicitly make
libunwind and libexecinfo mutually exclusive since
FreeBSD has both.
Line are logged similar to:
CRASH: htsp_build_dvrentry+5d (ip=11f659d sp=7fffd8bc3930)
Note that it does not have line numbers since the addr2line
does not appear to work on FreeBSD (even with the original
backtrace code).
An example of the problem with the old backtrace code using
the frame from htsp_method_async from within the tvheadend
traphandler after the retrieval of the stack frames:
(gdb) print frames
$38 = {0x806473954, 0x806472eb2, 0x7ffffffff193, 0x11f1638 <htsp_method_async+1640>, 0x11fe400 <htsp_read_loop+880>, 0x11f58e6 <htsp_serve+502>, 0x11b9b11 <tcp_server_start+401>,
0x11af45e <thread_wrapper+302>, 0x80646dc06, 0x0 <repeats 91 times>}
(gdb) print dladdr(0x11f1638, &dli)    <--- addr of htsp_method_async from frame 4.
$39 = 1  <--- success
(gdb) print dli
$40 = {dli_fname = 0x7fffffffef97 "".../build.freebsd/tvheadend"", dli_fbase = 0x1021000, dli_sname = 0x1044f91 ""service_remove_unseen"",   <--- but wrong name
dli_saddr = 0x11eff80 <service_remove_unseen>}   <--- and this is nearest symbol address
(gdb) print htsp_method_async+1640
$41 = (htsmsg_t ()(htsp_connection_t *, htsmsg_t *)) 0x11f1638 <htsp_method_async+1640>   <---but gdb knows the original address is htsp_method_async
(gdb) print service_remove_unseen
$42 = {void (const char *, int)} 0x11eff80 <service_remove_unseen> <--- and gdb knows sevice_remove_unseen is at the dli_saddr.
By contrast, with libunwind, we get:
(gdb) print buf
$50 = ""htsp_method_async"", '\000' <repeats 110 times> <--- libunwind detected correct function name
(gdb) where 10  <--- even though our signal has been delivered on its own stack
#0  traphandler_libunwind () at src/trap.c:162
#1  0x000000000120cf06 in traphandler (sig=11, si=0x7fffdbbdb860, UC=0x7fffdbbdb4f0) at src/trap.c:221
#2  0x0000000806673954 in ?? ()
#3  0x0000000000000000 in ?? ()
(gdb) print ip
$51 = 18814904
(gdb) disass 18814904  <--- and gdb knows that ip address is for the same method as libunwind detected
Dump of assembler code for function htsp_method_async:
0x00000000011f1150 <+0>:     push   %rbp","Although the existing backtrace works correctly on Linux, on
FreeBSD it frequently generates a backtrace with completely
wrong function names. (FreeBSD 11.2, current latest version).
For example, making htsp_build_dvrentry crash with SEGV, it
would either not generate a stacktrace or would generate a
backtrace of:
-pthread_sigmask
-pthread_getspecific
-service_remove_unseen
-htsp_get_subscription_status
-htsp_init
-tcp_server_done
-tvhthread_create.
...instead of the correct backtrace of:
-
-htsp_build_dvrentry
-htsp_method_async
-htsp_read_loop
-htsp_serve...
So on FreeBSD only, we use libunwind to generate the
backtrace and function names. We explicitly make
libunwind and libexecinfo mutually exclusive since
FreeBSD has both.
Line are logged similar to:
CRASH: htsp_build_dvrentry+5d (ip=11f659d sp=7fffd8bc3930)
Note that it does not have line numbers since the addr2line
does not appear to work on FreeBSD (even with the original
backtrace code).
An example of the problem with the old backtrace code using
the frame from htsp_method_async from within the tvheadend
traphandler after the retrieval of the stack frames:
(gdb) print frames
$38 = {0x806473954, 0x806472eb2, 0x7ffffffff193, 0x11f1638 <htsp_method_async+1640>, 0x11fe400 <htsp_read_loop+880>, 0x11f58e6 <htsp_serve+502>, 0x11b9b11 <tcp_server_start+401>,
0x11af45e <thread_wrapper+302>, 0x80646dc06, 0x0 <repeats 91 times>}
(gdb) print dladdr(0x11f1638, &dli)    <--- addr of htsp_method_async from frame 4.
$39 = 1  <--- success
(gdb) print dli
$40 = {dli_fname = 0x7fffffffef97 "".../build.freebsd/tvheadend"", dli_fbase = 0x1021000, dli_sname = 0x1044f91 ""service_remove_unseen"",   <--- but wrong name
dli_saddr = 0x11eff80 <service_remove_unseen>}   <--- and this is nearest symbol address
(gdb) print htsp_method_async+1640
$41 = (htsmsg_t ()(htsp_connection_t *, htsmsg_t *)) 0x11f1638 <htsp_method_async+1640>   <---but gdb knows the original address is htsp_method_async
(gdb) print service_remove_unseen
$42 = {void (const char *, int)} 0x11eff80 <service_remove_unseen> <--- and gdb knows sevice_remove_unseen is at the dli_saddr.
By contrast, with libunwind, we get:
(gdb) print buf
$50 = ""htsp_method_async"", '\000' <repeats 110 times> <--- libunwind detected correct function name
(gdb) where 10  <--- even though our signal has been delivered on its own stack
#0  traphandler_libunwind () at src/trap.c:162
#1  0x000000000120cf06 in traphandler (sig=11, si=0x7fffdbbdb860, UC=0x7fffdbbdb4f0) at src/trap.c:221
#2  0x0000000806673954 in ?? ()
#3  0x0000000000000000 in ?? ()
(gdb) print ip
$51 = 18814904
(gdb) disass 18814904  <--- and gdb knows that ip address is for the same method as libunwind detected
Dump of assembler code for function htsp_method_async:
0x00000000011f1150 <+0>:     push   %rbp",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1175,2018-10-02T14:26:45Z,2018-10-02T16:39:04Z,2018-10-02T16:39:04Z,MERGED,True,33,0,3,https://github.com/azlm8t,xmltv: Add option to save epgdb after xmltv import.,1,[],https://github.com/tvheadend/tvheadend/pull/1175,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1175,"The ""periodic save database"" means that for xmltv you can
import your daily listings, crash, restart, and not have xmltv
data since the periodic epgdb timer has not elapsed.
So, add an option so the user can save the database after the
import has completed, assuming changes occurred.
This save is delayed by a couple of minutes in case the user
is importing from several different xmltv guides, in which case
the save occurs after the last import.","The ""periodic save database"" means that for xmltv you can
import your daily listings, crash, restart, and not have xmltv
data since the periodic epgdb timer has not elapsed.
So, add an option so the user can save the database after the
import has completed, assuming changes occurred.
This save is delayed by a couple of minutes in case the user
is importing from several different xmltv guides, in which case
the save occurs after the last import.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1176,2018-10-02T17:38:07Z,2018-10-03T06:46:49Z,2018-10-03T06:46:49Z,MERGED,True,19,3,1,https://github.com/mpmc,doozer: add missing python-requests and manually update certs for older distros,1,[],https://github.com/tvheadend/tvheadend/pull/1176,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1176,As title!,As title!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1177,2018-10-02T18:42:50Z,2018-10-03T06:46:16Z,2018-10-03T06:46:16Z,MERGED,True,2,0,1,https://github.com/Trujulu,Optimize default configuration of SAT>IP Triax TSS 400,1,[],https://github.com/tvheadend/tvheadend/pull/1177,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1177,"https://tvheadend.org/issues/4244
As we discussed a while ago, the configuration should be different.

The full mux should not be supported
Along with it an increase of maximum pids is useful to open more channels (to interact with all adapters with comfort).","https://tvheadend.org/issues/4244
As we discussed a while ago, the configuration should be different.

The full mux should not be supported
Along with it an increase of maximum pids is useful to open more channels (to interact with all adapters with comfort).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1178,2018-10-03T00:54:31Z,2018-10-03T06:45:51Z,2018-10-03T06:45:51Z,MERGED,True,4,0,1,https://github.com/azlm8t,ui: Use background-size to scale background fanart to fit dvr dialog box.,1,[],https://github.com/tvheadend/tvheadend/pull/1178,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1178,"Previously the background fanart could be too big for the dialog so we'd just get the middle bit of the image.
Now we use css to scale it using 'background-size: cover'.
This can make the image slightly exceed the dialog dimensions (and be cropped), compared to 'contain' which would leave space at the top/bottom to maintain aspect.
Using 'cover' seems better with the fanart I've seen so far.
Tested in FF and Safari.","Previously the background fanart could be too big for the dialog so we'd just get the middle bit of the image.
Now we use css to scale it using 'background-size: cover'.
This can make the image slightly exceed the dialog dimensions (and be cropped), compared to 'contain' which would leave space at the top/bottom to maintain aspect.
Using 'cover' seems better with the fanart I've seen so far.
Tested in FF and Safari.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1179,2018-10-03T10:04:02Z,2018-10-03T10:07:37Z,2018-10-03T10:07:38Z,MERGED,True,60,0,3,https://github.com/mpmc,doozer: add cosmic cuttlefish,1,[],https://github.com/tvheadend/tvheadend/pull/1179,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1179,People will no doubt ask for this.,People will no doubt ask for this.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1180,2018-10-04T17:29:45Z,2018-10-08T12:01:30Z,2018-10-08T12:01:30Z,CLOSED,False,561,75,11,https://github.com/azlm8t,"fanart: Add tvdb, update tmdb to avoid external dependencies",12,[],https://github.com/tvheadend/tvheadend/pull/1180,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1180,"Add a tvdb parser. This requires a ""--tvdb-key XYZ"" option.
Rewrite tmdb parser to no longer rely on external modules other than python-requests; update Debian control to recommend python + python-requests.
The tmdb parser now handles tv as well as movies. All code now works under Python3.
And new checkbox to dvr_config to only lookup artwork for ""good broadcasts"", i.e., ones with year and/or season/episode.
Added new loop in dvr to keep removing entries from ""pending fanart lookup"" list until one needs artwork. This could happen if user disables fanart lookup or edits fanart externally. So entries can be quickly (but lazily) purged once the timer occurs.
I think two final future improvement are:

Parse Tvheadend's three character language (""eng"") in to two character code (""en"") so programme lookups automatically know the correct language (since tmdb/tvdb allow two character language codes).
Add some nicer UI. The tvhmeta has a ""--list-grabber-capabilities"" to return a json of modules and their required arguments, but nothing parses this yet.

Sample image from OTA broadcast below:","Add a tvdb parser. This requires a ""--tvdb-key XYZ"" option.
Rewrite tmdb parser to no longer rely on external modules other than python-requests; update Debian control to recommend python + python-requests.
The tmdb parser now handles tv as well as movies. All code now works under Python3.
And new checkbox to dvr_config to only lookup artwork for ""good broadcasts"", i.e., ones with year and/or season/episode.
Added new loop in dvr to keep removing entries from ""pending fanart lookup"" list until one needs artwork. This could happen if user disables fanart lookup or edits fanart externally. So entries can be quickly (but lazily) purged once the timer occurs.
I think two final future improvement are:

Parse Tvheadend's three character language (""eng"") in to two character code (""en"") so programme lookups automatically know the correct language (since tmdb/tvdb allow two character language codes).
Add some nicer UI. The tvhmeta has a ""--list-grabber-capabilities"" to return a json of modules and their required arguments, but nothing parses this yet.

Sample image from OTA broadcast below:",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1180,2018-10-04T17:29:45Z,2018-10-08T12:01:30Z,2018-10-08T12:01:30Z,CLOSED,False,561,75,11,https://github.com/azlm8t,"fanart: Add tvdb, update tmdb to avoid external dependencies",12,[],https://github.com/tvheadend/tvheadend/pull/1180,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1180#issuecomment-427583578,"Add a tvdb parser. This requires a ""--tvdb-key XYZ"" option.
Rewrite tmdb parser to no longer rely on external modules other than python-requests; update Debian control to recommend python + python-requests.
The tmdb parser now handles tv as well as movies. All code now works under Python3.
And new checkbox to dvr_config to only lookup artwork for ""good broadcasts"", i.e., ones with year and/or season/episode.
Added new loop in dvr to keep removing entries from ""pending fanart lookup"" list until one needs artwork. This could happen if user disables fanart lookup or edits fanart externally. So entries can be quickly (but lazily) purged once the timer occurs.
I think two final future improvement are:

Parse Tvheadend's three character language (""eng"") in to two character code (""en"") so programme lookups automatically know the correct language (since tmdb/tvdb allow two character language codes).
Add some nicer UI. The tvhmeta has a ""--list-grabber-capabilities"" to return a json of modules and their required arguments, but nothing parses this yet.

Sample image from OTA broadcast below:",Added support in fanart to map the language tuple in the title provided by Tvheadend to the locale code needed by tvdb/tmdb (so eng become en) and pass this to the tmdb/tvdb for searches.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1180,2018-10-04T17:29:45Z,2018-10-08T12:01:30Z,2018-10-08T12:01:30Z,CLOSED,False,561,75,11,https://github.com/azlm8t,"fanart: Add tvdb, update tmdb to avoid external dependencies",12,[],https://github.com/tvheadend/tvheadend/pull/1180,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1180#issuecomment-427807218,"Add a tvdb parser. This requires a ""--tvdb-key XYZ"" option.
Rewrite tmdb parser to no longer rely on external modules other than python-requests; update Debian control to recommend python + python-requests.
The tmdb parser now handles tv as well as movies. All code now works under Python3.
And new checkbox to dvr_config to only lookup artwork for ""good broadcasts"", i.e., ones with year and/or season/episode.
Added new loop in dvr to keep removing entries from ""pending fanart lookup"" list until one needs artwork. This could happen if user disables fanart lookup or edits fanart externally. So entries can be quickly (but lazily) purged once the timer occurs.
I think two final future improvement are:

Parse Tvheadend's three character language (""eng"") in to two character code (""en"") so programme lookups automatically know the correct language (since tmdb/tvdb allow two character language codes).
Add some nicer UI. The tvhmeta has a ""--list-grabber-capabilities"" to return a json of modules and their required arguments, but nothing parses this yet.

Sample image from OTA broadcast below:",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1181,2018-10-05T11:35:48Z,2018-10-08T12:00:25Z,2018-10-08T12:00:26Z,CLOSED,False,17,16,1,https://github.com/mpmc,webui: add tooltip to help button,2,[],https://github.com/tvheadend/tvheadend/pull/1181,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1181,"Pretty minor, but all the rest have tooltips!","Pretty minor, but all the rest have tooltips!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1181,2018-10-05T11:35:48Z,2018-10-08T12:00:25Z,2018-10-08T12:00:26Z,CLOSED,False,17,16,1,https://github.com/mpmc,webui: add tooltip to help button,2,[],https://github.com/tvheadend/tvheadend/pull/1181,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1181#issuecomment-427806956,"Pretty minor, but all the rest have tooltips!",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1182,2018-10-07T16:12:49Z,2018-10-09T00:06:09Z,2018-10-09T00:06:09Z,CLOSED,False,5,2,1,https://github.com/azlm8t,htsp: Allow updateDvrEntry to set previously recorded flag. (htsp 34).,1,[],https://github.com/tvheadend/tvheadend/pull/1182,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1182,"This will allow Kodi to offer a client actions menu to mark timers as ""previously recorded.""
We add an additional check for a new ""prevrec"" field in the htsp updateDvrEntry. It takes a single integer similar to UI API of 1=>previously recorded, 0=>not, -1=>toggle, and just passes it to the existing handler used by the UI API.
My current proposed pvr.hts changes would just send [id, prevrec=1] to updateDvrEntry, so Tvheadend does an update with no changes to start/stop, etc., then updates the prevrec field.
I have the pvr.hts code working locally, but I'm not 100% sure if this change to the htsp message is the right one to use for this, or if we should add a new message such as a prevrecDvrEntry, similar to the api/dvr/entry/prerec/{toggle,set,unset}.
So, reject if you think we should do it differently.
Setting a flag in the message that then alters multiple flags internally seems slightly inconsistent with the existing API; but it is an ""update"" so makes sense and keeps the api small.","This will allow Kodi to offer a client actions menu to mark timers as ""previously recorded.""
We add an additional check for a new ""prevrec"" field in the htsp updateDvrEntry. It takes a single integer similar to UI API of 1=>previously recorded, 0=>not, -1=>toggle, and just passes it to the existing handler used by the UI API.
My current proposed pvr.hts changes would just send [id, prevrec=1] to updateDvrEntry, so Tvheadend does an update with no changes to start/stop, etc., then updates the prevrec field.
I have the pvr.hts code working locally, but I'm not 100% sure if this change to the htsp message is the right one to use for this, or if we should add a new message such as a prevrecDvrEntry, similar to the api/dvr/entry/prerec/{toggle,set,unset}.
So, reject if you think we should do it differently.
Setting a flag in the message that then alters multiple flags internally seems slightly inconsistent with the existing API; but it is an ""update"" so makes sense and keeps the api small.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1182,2018-10-07T16:12:49Z,2018-10-09T00:06:09Z,2018-10-09T00:06:09Z,CLOSED,False,5,2,1,https://github.com/azlm8t,htsp: Allow updateDvrEntry to set previously recorded flag. (htsp 34).,1,[],https://github.com/tvheadend/tvheadend/pull/1182,https://github.com/ksooo,2,https://github.com/tvheadend/tvheadend/pull/1182#issuecomment-427667387,"This will allow Kodi to offer a client actions menu to mark timers as ""previously recorded.""
We add an additional check for a new ""prevrec"" field in the htsp updateDvrEntry. It takes a single integer similar to UI API of 1=>previously recorded, 0=>not, -1=>toggle, and just passes it to the existing handler used by the UI API.
My current proposed pvr.hts changes would just send [id, prevrec=1] to updateDvrEntry, so Tvheadend does an update with no changes to start/stop, etc., then updates the prevrec field.
I have the pvr.hts code working locally, but I'm not 100% sure if this change to the htsp message is the right one to use for this, or if we should add a new message such as a prevrecDvrEntry, similar to the api/dvr/entry/prerec/{toggle,set,unset}.
So, reject if you think we should do it differently.
Setting a flag in the message that then alters multiple flags internally seems slightly inconsistent with the existing API; but it is an ""update"" so makes sense and keeps the api small.","This will allow Kodi to offer a client actions menu to mark timers as ""previously recorded.""

Who needs this functionality? I have my difficulties to understand what this is good for. I would expect tvh to know what was previously recorded and not leave it to the user.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1182,2018-10-07T16:12:49Z,2018-10-09T00:06:09Z,2018-10-09T00:06:09Z,CLOSED,False,5,2,1,https://github.com/azlm8t,htsp: Allow updateDvrEntry to set previously recorded flag. (htsp 34).,1,[],https://github.com/tvheadend/tvheadend/pull/1182,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1182#issuecomment-427668715,"This will allow Kodi to offer a client actions menu to mark timers as ""previously recorded.""
We add an additional check for a new ""prevrec"" field in the htsp updateDvrEntry. It takes a single integer similar to UI API of 1=>previously recorded, 0=>not, -1=>toggle, and just passes it to the existing handler used by the UI API.
My current proposed pvr.hts changes would just send [id, prevrec=1] to updateDvrEntry, so Tvheadend does an update with no changes to start/stop, etc., then updates the prevrec field.
I have the pvr.hts code working locally, but I'm not 100% sure if this change to the htsp message is the right one to use for this, or if we should add a new message such as a prevrecDvrEntry, similar to the api/dvr/entry/prerec/{toggle,set,unset}.
So, reject if you think we should do it differently.
Setting a flag in the message that then alters multiple flags internally seems slightly inconsistent with the existing API; but it is an ""update"" so makes sense and keeps the api small.","It's mainly for autorec rules that match something you never want to record, rather than recordings you've manually scheduled. The (built-in) UI has the functionality.
So, say you have an autorec ""record all Tom Cruise movies, handle duplicates by title"". Then it will match Mission Impossible when it's on. But, you've already seen that film and don't want to waste a tuner recording it, so you click ""disable timer"". But, the next time the show is on, Tvheadend will then schedule it again (since it was not recorded, just that specific timer disabled).
Whereas the ""previously recorded"" button in the UI marks the programme as already recorded so then that showing and future showings match as duplicates. So, whenever Mission Impossible is aired, it matches against the previously recorded entry and does not record it. MythTV has something similar with its ""never record"" option.
This was mainly where I was hoping to go with the pvr.hts change since Kodi allows me to disable a specific timer, but not flag something as ""never record""; and 99% of my timers are autorecs for things that might be interesting, such as ""action film with 70% rating"".",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1182,2018-10-07T16:12:49Z,2018-10-09T00:06:09Z,2018-10-09T00:06:09Z,CLOSED,False,5,2,1,https://github.com/azlm8t,htsp: Allow updateDvrEntry to set previously recorded flag. (htsp 34).,1,[],https://github.com/tvheadend/tvheadend/pull/1182,https://github.com/ksooo,4,https://github.com/tvheadend/tvheadend/pull/1182#issuecomment-427675133,"This will allow Kodi to offer a client actions menu to mark timers as ""previously recorded.""
We add an additional check for a new ""prevrec"" field in the htsp updateDvrEntry. It takes a single integer similar to UI API of 1=>previously recorded, 0=>not, -1=>toggle, and just passes it to the existing handler used by the UI API.
My current proposed pvr.hts changes would just send [id, prevrec=1] to updateDvrEntry, so Tvheadend does an update with no changes to start/stop, etc., then updates the prevrec field.
I have the pvr.hts code working locally, but I'm not 100% sure if this change to the htsp message is the right one to use for this, or if we should add a new message such as a prevrecDvrEntry, similar to the api/dvr/entry/prerec/{toggle,set,unset}.
So, reject if you think we should do it differently.
Setting a flag in the message that then alters multiple flags internally seems slightly inconsistent with the existing API; but it is an ""update"" so makes sense and keeps the api small.",This is a very special feature and Kodi is more ment to be generic and lightweight PVR client. Not sure I want to have this in Kodi/pvr.hts tbh.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1182,2018-10-07T16:12:49Z,2018-10-09T00:06:09Z,2018-10-09T00:06:09Z,CLOSED,False,5,2,1,https://github.com/azlm8t,htsp: Allow updateDvrEntry to set previously recorded flag. (htsp 34).,1,[],https://github.com/tvheadend/tvheadend/pull/1182,https://github.com/Leatherface75,5,https://github.com/tvheadend/tvheadend/pull/1182#issuecomment-427675967,"This will allow Kodi to offer a client actions menu to mark timers as ""previously recorded.""
We add an additional check for a new ""prevrec"" field in the htsp updateDvrEntry. It takes a single integer similar to UI API of 1=>previously recorded, 0=>not, -1=>toggle, and just passes it to the existing handler used by the UI API.
My current proposed pvr.hts changes would just send [id, prevrec=1] to updateDvrEntry, so Tvheadend does an update with no changes to start/stop, etc., then updates the prevrec field.
I have the pvr.hts code working locally, but I'm not 100% sure if this change to the htsp message is the right one to use for this, or if we should add a new message such as a prevrecDvrEntry, similar to the api/dvr/entry/prerec/{toggle,set,unset}.
So, reject if you think we should do it differently.
Setting a flag in the message that then alters multiple flags internally seems slightly inconsistent with the existing API; but it is an ""update"" so makes sense and keeps the api small.","I can see this useful in cases with AutoRecs.
As it is now it often ends with disabling the whole AutoRec timer instead.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1182,2018-10-07T16:12:49Z,2018-10-09T00:06:09Z,2018-10-09T00:06:09Z,CLOSED,False,5,2,1,https://github.com/azlm8t,htsp: Allow updateDvrEntry to set previously recorded flag. (htsp 34).,1,[],https://github.com/tvheadend/tvheadend/pull/1182,https://github.com/pablozg,6,https://github.com/tvheadend/tvheadend/pull/1182#issuecomment-427755118,"This will allow Kodi to offer a client actions menu to mark timers as ""previously recorded.""
We add an additional check for a new ""prevrec"" field in the htsp updateDvrEntry. It takes a single integer similar to UI API of 1=>previously recorded, 0=>not, -1=>toggle, and just passes it to the existing handler used by the UI API.
My current proposed pvr.hts changes would just send [id, prevrec=1] to updateDvrEntry, so Tvheadend does an update with no changes to start/stop, etc., then updates the prevrec field.
I have the pvr.hts code working locally, but I'm not 100% sure if this change to the htsp message is the right one to use for this, or if we should add a new message such as a prevrecDvrEntry, similar to the api/dvr/entry/prerec/{toggle,set,unset}.
So, reject if you think we should do it differently.
Setting a flag in the message that then alters multiple flags internally seems slightly inconsistent with the existing API; but it is an ""update"" so makes sense and keeps the api small.","I think it's useful for the people who use kodi as a frontend instead of the built-in webui, I usually use kodi with my mobile and I have a lot of autorecs, I record a lot of  tv shows and some of them have more than two or three seasons and my tv guide doesn't always offer the season / episode info so I can't use the min / max season option.
Then when a channel broadcast a tv show usually does with episodes from previous seasons and finally with an unaired episode. In this cases I have to open the webui in the mobile and add as ""previous recorded"" the unwanted episodes to avoid record them next time.
So for me it's more comfortable go to the kodi tv guide and mark these episodes as ""previous recorded"" and avoid to use the webui in a little screen.
Only is my point of view, cheers.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1182,2018-10-07T16:12:49Z,2018-10-09T00:06:09Z,2018-10-09T00:06:09Z,CLOSED,False,5,2,1,https://github.com/azlm8t,htsp: Allow updateDvrEntry to set previously recorded flag. (htsp 34).,1,[],https://github.com/tvheadend/tvheadend/pull/1182,https://github.com/azlm8t,7,https://github.com/tvheadend/tvheadend/pull/1182#issuecomment-428017134,"This will allow Kodi to offer a client actions menu to mark timers as ""previously recorded.""
We add an additional check for a new ""prevrec"" field in the htsp updateDvrEntry. It takes a single integer similar to UI API of 1=>previously recorded, 0=>not, -1=>toggle, and just passes it to the existing handler used by the UI API.
My current proposed pvr.hts changes would just send [id, prevrec=1] to updateDvrEntry, so Tvheadend does an update with no changes to start/stop, etc., then updates the prevrec field.
I have the pvr.hts code working locally, but I'm not 100% sure if this change to the htsp message is the right one to use for this, or if we should add a new message such as a prevrecDvrEntry, similar to the api/dvr/entry/prerec/{toggle,set,unset}.
So, reject if you think we should do it differently.
Setting a flag in the message that then alters multiple flags internally seems slightly inconsistent with the existing API; but it is an ""update"" so makes sense and keeps the api small.","OK, I accept sometimes adding more features may make pvr.hts less user-friendly for the majority. A bit like why the Kodi Estuary skin has X feature but not Y. Not a problem.
@pablozg You may want to try the free trial of SchedulesDirect.org to see if it helps with your stations to get better guide data.
If I get spare time next month I might see if I can add an additional ""upcoming"" tab to the Tvh UI to make it less grid-like and more touch friendly, perhaps have a split-panel of upcoming on the left and details on the right for the highlighted row, leaving the existing upcoming tab for more detailed/complicated changes.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1183,2018-10-09T22:09:36Z,2018-11-20T07:59:39Z,2018-11-20T07:59:39Z,CLOSED,False,40,17,3,https://github.com/Glenn-1990,[WIP] Seca EMM fix,1,[],https://github.com/tvheadend/tvheadend/pull/1183,https://github.com/Glenn-1990,1,https://github.com/tvheadend/tvheadend/pull/1183,"This fixes a longstanding issue with seca EMM's. To be honest don't know much from encryption/CSA stuff, the commit was actually cherry picked from ViGill@b507c9e#diff-780ca6138ebe99c4808cd22e952c22bb @thetroll
WIP state because I still have a problem when enabling multiple CWC clients, at the moment I have no idea whats going on.

When 1 CWC client is enabled the added pids are:

2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4


When 2 CWC clients are enabled:

2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1013 (4115) dlen=251
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1403 (5123) dlen=247
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=243
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00E0 (224) dlen=239
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0120 (288) dlen=235
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0519 (1305) dlen=231
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0305 (773) dlen=227
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=223
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00B6 (182) dlen=219
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0209 (521) dlen=215
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 18E0 (6368) dlen=211
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1E22 (7714) dlen=207
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1819 (6169) dlen=203
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 02FE (766) dlen=199
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=195
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1C02 (7170) dlen=191
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=187
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BC (188) dlen=183
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0C09 (3081) dlen=179
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 19E0 (6624) dlen=175
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006D (109) dlen=171
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1817 (6167) dlen=167
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0201 (513) dlen=163
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=159
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1B02 (6914) dlen=155
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=151
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=147
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=143
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 17E0 (6112) dlen=139
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006A (106) dlen=135
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1818 (6168) dlen=131
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0200 (512) dlen=127
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=123
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1A02 (6658) dlen=119
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=115
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BD (189) dlen=111
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0624 (1572) dlen=107
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=103
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1F40 (8000) dlen=99
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 10D4 (4308) dlen=95
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=91
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=87
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=83
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=79
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=75
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=71
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=67
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=63
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=59
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=55
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=51
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=47
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=43
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=39
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=35
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=31
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=27
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=23
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=19
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=15
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=11
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=7

In the second case, the opened channel does not have audio (globalheaders stream disabled).
The 4 first pids are probably correct the rest seems to be rubbish.
Do EMM pids also count for the adapter pid limit? If so, 4 is already much then too.","This fixes a longstanding issue with seca EMM's. To be honest don't know much from encryption/CSA stuff, the commit was actually cherry picked from ViGill@b507c9e#diff-780ca6138ebe99c4808cd22e952c22bb @thetroll
WIP state because I still have a problem when enabling multiple CWC clients, at the moment I have no idea whats going on.

When 1 CWC client is enabled the added pids are:

2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4


When 2 CWC clients are enabled:

2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1013 (4115) dlen=251
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1403 (5123) dlen=247
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=243
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00E0 (224) dlen=239
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0120 (288) dlen=235
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0519 (1305) dlen=231
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0305 (773) dlen=227
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=223
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00B6 (182) dlen=219
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0209 (521) dlen=215
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 18E0 (6368) dlen=211
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1E22 (7714) dlen=207
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1819 (6169) dlen=203
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 02FE (766) dlen=199
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=195
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1C02 (7170) dlen=191
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=187
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BC (188) dlen=183
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0C09 (3081) dlen=179
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 19E0 (6624) dlen=175
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006D (109) dlen=171
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1817 (6167) dlen=167
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0201 (513) dlen=163
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=159
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1B02 (6914) dlen=155
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=151
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=147
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=143
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 17E0 (6112) dlen=139
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006A (106) dlen=135
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1818 (6168) dlen=131
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0200 (512) dlen=127
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=123
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1A02 (6658) dlen=119
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=115
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BD (189) dlen=111
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0624 (1572) dlen=107
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=103
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1F40 (8000) dlen=99
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 10D4 (4308) dlen=95
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=91
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=87
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=83
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=79
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=75
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=71
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=67
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=63
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=59
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=55
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=51
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=47
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=43
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=39
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=35
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=31
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=27
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=23
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=19
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=15
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=11
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=7

In the second case, the opened channel does not have audio (globalheaders stream disabled).
The 4 first pids are probably correct the rest seems to be rubbish.
Do EMM pids also count for the adapter pid limit? If so, 4 is already much then too.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1183,2018-10-09T22:09:36Z,2018-11-20T07:59:39Z,2018-11-20T07:59:39Z,CLOSED,False,40,17,3,https://github.com/Glenn-1990,[WIP] Seca EMM fix,1,[],https://github.com/tvheadend/tvheadend/pull/1183,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1183#issuecomment-429406458,"This fixes a longstanding issue with seca EMM's. To be honest don't know much from encryption/CSA stuff, the commit was actually cherry picked from ViGill@b507c9e#diff-780ca6138ebe99c4808cd22e952c22bb @thetroll
WIP state because I still have a problem when enabling multiple CWC clients, at the moment I have no idea whats going on.

When 1 CWC client is enabled the added pids are:

2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4


When 2 CWC clients are enabled:

2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1013 (4115) dlen=251
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1403 (5123) dlen=247
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=243
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00E0 (224) dlen=239
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0120 (288) dlen=235
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0519 (1305) dlen=231
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0305 (773) dlen=227
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=223
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00B6 (182) dlen=219
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0209 (521) dlen=215
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 18E0 (6368) dlen=211
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1E22 (7714) dlen=207
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1819 (6169) dlen=203
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 02FE (766) dlen=199
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=195
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1C02 (7170) dlen=191
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=187
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BC (188) dlen=183
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0C09 (3081) dlen=179
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 19E0 (6624) dlen=175
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006D (109) dlen=171
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1817 (6167) dlen=167
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0201 (513) dlen=163
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=159
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1B02 (6914) dlen=155
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=151
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=147
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=143
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 17E0 (6112) dlen=139
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006A (106) dlen=135
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1818 (6168) dlen=131
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0200 (512) dlen=127
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=123
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1A02 (6658) dlen=119
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=115
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BD (189) dlen=111
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0624 (1572) dlen=107
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=103
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1F40 (8000) dlen=99
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 10D4 (4308) dlen=95
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=91
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=87
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=83
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=79
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=75
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=71
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=67
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=63
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=59
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=55
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=51
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=47
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=43
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=39
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=35
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=31
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=27
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=23
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=19
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=15
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=11
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=7

In the second case, the opened channel does not have audio (globalheaders stream disabled).
The 4 first pids are probably correct the rest seems to be rubbish.
Do EMM pids also count for the adapter pid limit? If so, 4 is already much then too.",Which sat/mux ?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1183,2018-10-09T22:09:36Z,2018-11-20T07:59:39Z,2018-11-20T07:59:39Z,CLOSED,False,40,17,3,https://github.com/Glenn-1990,[WIP] Seca EMM fix,1,[],https://github.com/tvheadend/tvheadend/pull/1183,https://github.com/Glenn-1990,3,https://github.com/tvheadend/tvheadend/pull/1183#issuecomment-429618277,"This fixes a longstanding issue with seca EMM's. To be honest don't know much from encryption/CSA stuff, the commit was actually cherry picked from ViGill@b507c9e#diff-780ca6138ebe99c4808cd22e952c22bb @thetroll
WIP state because I still have a problem when enabling multiple CWC clients, at the moment I have no idea whats going on.

When 1 CWC client is enabled the added pids are:

2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4


When 2 CWC clients are enabled:

2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1013 (4115) dlen=251
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1403 (5123) dlen=247
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=243
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00E0 (224) dlen=239
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0120 (288) dlen=235
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0519 (1305) dlen=231
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0305 (773) dlen=227
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=223
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00B6 (182) dlen=219
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0209 (521) dlen=215
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 18E0 (6368) dlen=211
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1E22 (7714) dlen=207
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1819 (6169) dlen=203
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 02FE (766) dlen=199
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=195
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1C02 (7170) dlen=191
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=187
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BC (188) dlen=183
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0C09 (3081) dlen=179
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 19E0 (6624) dlen=175
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006D (109) dlen=171
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1817 (6167) dlen=167
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0201 (513) dlen=163
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=159
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1B02 (6914) dlen=155
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=151
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=147
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=143
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 17E0 (6112) dlen=139
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006A (106) dlen=135
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1818 (6168) dlen=131
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0200 (512) dlen=127
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=123
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1A02 (6658) dlen=119
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=115
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BD (189) dlen=111
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0624 (1572) dlen=107
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=103
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1F40 (8000) dlen=99
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 10D4 (4308) dlen=95
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=91
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=87
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=83
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=79
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=75
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=71
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=67
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=63
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=59
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=55
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=51
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=47
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=43
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=39
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=35
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=31
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=27
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=23
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=19
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=15
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=11
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=7

In the second case, the opened channel does not have audio (globalheaders stream disabled).
The 4 first pids are probably correct the rest seems to be rubbish.
Do EMM pids also count for the adapter pid limit? If so, 4 is already much then too.","Astra 3B (23.5E), mux 11856V",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1183,2018-10-09T22:09:36Z,2018-11-20T07:59:39Z,2018-11-20T07:59:39Z,CLOSED,False,40,17,3,https://github.com/Glenn-1990,[WIP] Seca EMM fix,1,[],https://github.com/tvheadend/tvheadend/pull/1183,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1183#issuecomment-429638041,"This fixes a longstanding issue with seca EMM's. To be honest don't know much from encryption/CSA stuff, the commit was actually cherry picked from ViGill@b507c9e#diff-780ca6138ebe99c4808cd22e952c22bb @thetroll
WIP state because I still have a problem when enabling multiple CWC clients, at the moment I have no idea whats going on.

When 1 CWC client is enabled the added pids are:

2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4


When 2 CWC clients are enabled:

2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1013 (4115) dlen=251
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1403 (5123) dlen=247
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=243
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00E0 (224) dlen=239
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0120 (288) dlen=235
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0519 (1305) dlen=231
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0305 (773) dlen=227
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=223
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00B6 (182) dlen=219
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0209 (521) dlen=215
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 18E0 (6368) dlen=211
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1E22 (7714) dlen=207
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1819 (6169) dlen=203
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 02FE (766) dlen=199
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=195
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1C02 (7170) dlen=191
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=187
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BC (188) dlen=183
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0C09 (3081) dlen=179
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 19E0 (6624) dlen=175
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006D (109) dlen=171
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1817 (6167) dlen=167
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0201 (513) dlen=163
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=159
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1B02 (6914) dlen=155
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=151
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=147
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=143
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 17E0 (6112) dlen=139
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006A (106) dlen=135
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1818 (6168) dlen=131
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0200 (512) dlen=127
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=123
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1A02 (6658) dlen=119
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=115
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BD (189) dlen=111
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0624 (1572) dlen=107
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=103
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1F40 (8000) dlen=99
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 10D4 (4308) dlen=95
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=91
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=87
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=83
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=79
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=75
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=71
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=67
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=63
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=59
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=55
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=51
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=47
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=43
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=39
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=35
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=31
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=27
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=23
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=19
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=15
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=11
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=7

In the second case, the opened channel does not have audio (globalheaders stream disabled).
The 4 first pids are probably correct the rest seems to be rubbish.
Do EMM pids also count for the adapter pid limit? If so, 4 is already much then too.",I tried to add provider id handling here: perexg@ffb859c . If you can give a test. It would be better to open an issue and attach '--trace descrambler' log there if something does not work.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1183,2018-10-09T22:09:36Z,2018-11-20T07:59:39Z,2018-11-20T07:59:39Z,CLOSED,False,40,17,3,https://github.com/Glenn-1990,[WIP] Seca EMM fix,1,[],https://github.com/tvheadend/tvheadend/pull/1183,https://github.com/Glenn-1990,5,https://github.com/tvheadend/tvheadend/pull/1183#issuecomment-429648123,"This fixes a longstanding issue with seca EMM's. To be honest don't know much from encryption/CSA stuff, the commit was actually cherry picked from ViGill@b507c9e#diff-780ca6138ebe99c4808cd22e952c22bb @thetroll
WIP state because I still have a problem when enabling multiple CWC clients, at the moment I have no idea whats going on.

When 1 CWC client is enabled the added pids are:

2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4


When 2 CWC clients are enabled:

2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1013 (4115) dlen=251
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1403 (5123) dlen=247
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=243
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00E0 (224) dlen=239
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0120 (288) dlen=235
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0519 (1305) dlen=231
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0305 (773) dlen=227
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=223
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00B6 (182) dlen=219
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0209 (521) dlen=215
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 18E0 (6368) dlen=211
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1E22 (7714) dlen=207
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1819 (6169) dlen=203
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 02FE (766) dlen=199
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=195
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1C02 (7170) dlen=191
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=187
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BC (188) dlen=183
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0C09 (3081) dlen=179
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 19E0 (6624) dlen=175
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006D (109) dlen=171
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1817 (6167) dlen=167
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0201 (513) dlen=163
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=159
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1B02 (6914) dlen=155
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=151
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=147
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=143
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 17E0 (6112) dlen=139
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006A (106) dlen=135
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1818 (6168) dlen=131
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0200 (512) dlen=127
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=123
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1A02 (6658) dlen=119
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=115
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BD (189) dlen=111
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0624 (1572) dlen=107
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=103
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1F40 (8000) dlen=99
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 10D4 (4308) dlen=95
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=91
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=87
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=83
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=79
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=75
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=71
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=67
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=63
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=59
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=55
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=51
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=47
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=43
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=39
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=35
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=31
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=27
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=23
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=19
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=15
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=11
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=7

In the second case, the opened channel does not have audio (globalheaders stream disabled).
The 4 first pids are probably correct the rest seems to be rubbish.
Do EMM pids also count for the adapter pid limit? If so, 4 is already much then too.","@perexg I will try this later this week, thanks!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1183,2018-10-09T22:09:36Z,2018-11-20T07:59:39Z,2018-11-20T07:59:39Z,CLOSED,False,40,17,3,https://github.com/Glenn-1990,[WIP] Seca EMM fix,1,[],https://github.com/tvheadend/tvheadend/pull/1183,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/1183#issuecomment-440178383,"This fixes a longstanding issue with seca EMM's. To be honest don't know much from encryption/CSA stuff, the commit was actually cherry picked from ViGill@b507c9e#diff-780ca6138ebe99c4808cd22e952c22bb @thetroll
WIP state because I still have a problem when enabling multiple CWC clients, at the moment I have no idea whats going on.

When 1 CWC client is enabled the added pids are:

2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:48:18.640 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:48:18.641 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4


When 2 CWC clients are enabled:

2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B7 (183) dlen=20
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B8 (184) dlen=16
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00B9 (185) dlen=12
2018-10-09 23:49:03.122 descrambler: attach emm caid 0100 (256) pid 00BA (186) dlen=8
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=4
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1013 (4115) dlen=251
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1403 (5123) dlen=247
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=243
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00E0 (224) dlen=239
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0120 (288) dlen=235
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0519 (1305) dlen=231
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0305 (773) dlen=227
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=223
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00B6 (182) dlen=219
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0209 (521) dlen=215
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 18E0 (6368) dlen=211
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1E22 (7714) dlen=207
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1819 (6169) dlen=203
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 02FE (766) dlen=199
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=195
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1C02 (7170) dlen=191
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=187
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BC (188) dlen=183
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0C09 (3081) dlen=179
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 19E0 (6624) dlen=175
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006D (109) dlen=171
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1817 (6167) dlen=167
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0201 (513) dlen=163
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=159
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1B02 (6914) dlen=155
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0907 (2311) dlen=151
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BB (187) dlen=147
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0009 (9) dlen=143
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 17E0 (6112) dlen=139
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 006A (106) dlen=135
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1818 (6168) dlen=131
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0200 (512) dlen=127
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0718 (1816) dlen=123
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1A02 (6658) dlen=119
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=115
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 00BD (189) dlen=111
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0624 (1572) dlen=107
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 0904 (2308) dlen=103
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1F40 (8000) dlen=99
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 10D4 (4308) dlen=95
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=91
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=87
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=83
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=79
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=75
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=71
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=67
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=63
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=59
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=55
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=51
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=47
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=43
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=39
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=35
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=31
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=27
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=23
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=19
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=15
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=11
2018-10-09 23:49:03.123 descrambler: attach emm caid 0100 (256) pid 1FFF (8191) dlen=7

In the second case, the opened channel does not have audio (globalheaders stream disabled).
The 4 first pids are probably correct the rest seems to be rubbish.
Do EMM pids also count for the adapter pid limit? If so, 4 is already much then too.",Fixed in 6ea7c38 and  3970811 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1184,2018-10-12T12:16:05Z,2018-10-12T17:50:22Z,2018-12-04T02:23:33Z,CLOSED,False,1,1,1,https://github.com/ljalves,tsfix: fix dts calc (fixes issue #5252),1,[],https://github.com/tvheadend/tvheadend/pull/1184,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/1184,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1184,2018-10-12T12:16:05Z,2018-10-12T17:50:22Z,2018-12-04T02:23:33Z,CLOSED,False,1,1,1,https://github.com/ljalves,tsfix: fix dts calc (fixes issue #5252),1,[],https://github.com/tvheadend/tvheadend/pull/1184,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1184#issuecomment-429407004,,Applied. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1185,2018-10-14T21:10:13Z,2018-10-23T13:20:13Z,2018-10-23T13:20:13Z,CLOSED,False,1,1,1,https://github.com/mpmc,support/version: use --tags with git describe otherwise new tags are ignored,1,[],https://github.com/tvheadend/tvheadend/pull/1185,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1185,"I could not for the life of me figure out why release-4.2 version numbers weren't updating correctly on my bintray repo - it has gotten stuck on 4.2.6 instead of using 4.2.7, even after a full clone of tvheadend/tvheadend!
Turns out git describe doesn't always correctly describe without --tags, this hopefully fixes it.
Please could this be backported to 4.2 as well?
Cheers!","I could not for the life of me figure out why release-4.2 version numbers weren't updating correctly on my bintray repo - it has gotten stuck on 4.2.6 instead of using 4.2.7, even after a full clone of tvheadend/tvheadend!
Turns out git describe doesn't always correctly describe without --tags, this hopefully fixes it.
Please could this be backported to 4.2 as well?
Cheers!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1185,2018-10-14T21:10:13Z,2018-10-23T13:20:13Z,2018-10-23T13:20:13Z,CLOSED,False,1,1,1,https://github.com/mpmc,support/version: use --tags with git describe otherwise new tags are ignored,1,[],https://github.com/tvheadend/tvheadend/pull/1185,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1185#issuecomment-430126097,"I could not for the life of me figure out why release-4.2 version numbers weren't updating correctly on my bintray repo - it has gotten stuck on 4.2.6 instead of using 4.2.7, even after a full clone of tvheadend/tvheadend!
Turns out git describe doesn't always correctly describe without --tags, this hopefully fixes it.
Please could this be backported to 4.2 as well?
Cheers!","It seems like a my fault (I should create anotated not standard tags for releases). I fixed that for 4.2.7, could you check?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1185,2018-10-14T21:10:13Z,2018-10-23T13:20:13Z,2018-10-23T13:20:13Z,CLOSED,False,1,1,1,https://github.com/mpmc,support/version: use --tags with git describe otherwise new tags are ignored,1,[],https://github.com/tvheadend/tvheadend/pull/1185,https://github.com/mpmc,3,https://github.com/tvheadend/tvheadend/pull/1185#issuecomment-430169129,"I could not for the life of me figure out why release-4.2 version numbers weren't updating correctly on my bintray repo - it has gotten stuck on 4.2.6 instead of using 4.2.7, even after a full clone of tvheadend/tvheadend!
Turns out git describe doesn't always correctly describe without --tags, this hopefully fixes it.
Please could this be backported to 4.2 as well?
Cheers!","Sadly not :(
root@rpizeta:/build/tvheadend# support/version 
4.2.6-84~g81f56cc
root@rpizeta:/build/tvheadend# git fetch --all      
Fetching origin
root@rpizeta:/build/tvheadend# git fetch --all --tags
Fetching origin
root@rpizeta:/build/tvheadend# support/version 
4.2.6-84~g81f56cc
root@rpizeta:/build/tvheadend# git reset --hard HEAD
HEAD is now at 81f56cc linuxdvb: support properly PLS ROOT
root@rpizeta:/build/tvheadend# support/version 
4.2.6-84~g81f56cc
root@rpizeta:/build/tvheadend# git describe
v4.2.6-84-g81f56cc
root@rpizeta:/build/tvheadend# git checkout release/4.2
Checking out files: 100% (845/845), done.
Switched to branch 'release/4.2'
Your branch is up-to-date with 'origin/release/4.2'.
root@rpizeta:/build/tvheadend# support/version 
4.2.6-84~g81f56cc
root@rpizeta:/build/tvheadend# git pull
Already up-to-date.
root@rpizeta:/build/tvheadend# git pull --all --force 
Fetching origin
Already up-to-date.
root@rpizeta:/build/tvheadend# support/version 
4.2.6-84~g81f56cc

Even done a complete clean pull, no change.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1185,2018-10-14T21:10:13Z,2018-10-23T13:20:13Z,2018-10-23T13:20:13Z,CLOSED,False,1,1,1,https://github.com/mpmc,support/version: use --tags with git describe otherwise new tags are ignored,1,[],https://github.com/tvheadend/tvheadend/pull/1185,https://github.com/mpmc,4,https://github.com/tvheadend/tvheadend/pull/1185#issuecomment-430825864,"I could not for the life of me figure out why release-4.2 version numbers weren't updating correctly on my bintray repo - it has gotten stuck on 4.2.6 instead of using 4.2.7, even after a full clone of tvheadend/tvheadend!
Turns out git describe doesn't always correctly describe without --tags, this hopefully fixes it.
Please could this be backported to 4.2 as well?
Cheers!",Wonder how this got closed :s,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1185,2018-10-14T21:10:13Z,2018-10-23T13:20:13Z,2018-10-23T13:20:13Z,CLOSED,False,1,1,1,https://github.com/mpmc,support/version: use --tags with git describe otherwise new tags are ignored,1,[],https://github.com/tvheadend/tvheadend/pull/1185,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/1185#issuecomment-431678552,"I could not for the life of me figure out why release-4.2 version numbers weren't updating correctly on my bintray repo - it has gotten stuck on 4.2.6 instead of using 4.2.7, even after a full clone of tvheadend/tvheadend!
Turns out git describe doesn't always correctly describe without --tags, this hopefully fixes it.
Please could this be backported to 4.2 as well?
Cheers!","I did this in an old repo:
$ git describe
v4.2.6-84-g81f56cc89
$ git fetch --tags --all
...
 t [tag update]          v4.2.7            -> v4.2.7
$ git describe
v4.2.7-5-g81f56cc89",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1185,2018-10-14T21:10:13Z,2018-10-23T13:20:13Z,2018-10-23T13:20:13Z,CLOSED,False,1,1,1,https://github.com/mpmc,support/version: use --tags with git describe otherwise new tags are ignored,1,[],https://github.com/tvheadend/tvheadend/pull/1185,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/1185#issuecomment-431680135,"I could not for the life of me figure out why release-4.2 version numbers weren't updating correctly on my bintray repo - it has gotten stuck on 4.2.6 instead of using 4.2.7, even after a full clone of tvheadend/tvheadend!
Turns out git describe doesn't always correctly describe without --tags, this hopefully fixes it.
Please could this be backported to 4.2 as well?
Cheers!","Oops, I really fixed this now. The updated annotated tag was not correctly pushed to github (but it was in my user github repository, so I didn't see this issue). Please, try again. The new 'git fetch --tags' should really fix this.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1185,2018-10-14T21:10:13Z,2018-10-23T13:20:13Z,2018-10-23T13:20:13Z,CLOSED,False,1,1,1,https://github.com/mpmc,support/version: use --tags with git describe otherwise new tags are ignored,1,[],https://github.com/tvheadend/tvheadend/pull/1185,https://github.com/mpmc,7,https://github.com/tvheadend/tvheadend/pull/1185#issuecomment-432243381,"I could not for the life of me figure out why release-4.2 version numbers weren't updating correctly on my bintray repo - it has gotten stuck on 4.2.6 instead of using 4.2.7, even after a full clone of tvheadend/tvheadend!
Turns out git describe doesn't always correctly describe without --tags, this hopefully fixes it.
Please could this be backported to 4.2 as well?
Cheers!","Yep, fixed. Cheers!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1186,2018-10-16T12:27:37Z,2018-10-16T14:53:03Z,2018-10-16T16:38:55Z,CLOSED,False,6,6,2,https://github.com/azlm8t,FreeBSD: fix read write kevent,2,[],https://github.com/tvheadend/tvheadend/pull/1186,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1186,"On FreeBSD, the kevent EVFILT_READ=-1 and EVFILT_WRITE=-2 (rather than 1 and 2), so when they are ORed together you get -1, so we only end up registering READ in tvhpoll.
This means that on an async tcp connect we eventually timeout since we are not registered for WRITE.
So we now delete the special logic and use the existing separate read/write registration logic.
Also no longer return EIO for FreeBSD on tcp_socket_dead for zero bytes available to read, otherwise streaming fails to my tablet since we get no bytes to read so immediately disconnect the client, but no bytes on async socket is not same as eof.","On FreeBSD, the kevent EVFILT_READ=-1 and EVFILT_WRITE=-2 (rather than 1 and 2), so when they are ORed together you get -1, so we only end up registering READ in tvhpoll.
This means that on an async tcp connect we eventually timeout since we are not registered for WRITE.
So we now delete the special logic and use the existing separate read/write registration logic.
Also no longer return EIO for FreeBSD on tcp_socket_dead for zero bytes available to read, otherwise streaming fails to my tablet since we get no bytes to read so immediately disconnect the client, but no bytes on async socket is not same as eof.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1186,2018-10-16T12:27:37Z,2018-10-16T14:53:03Z,2018-10-16T16:38:55Z,CLOSED,False,6,6,2,https://github.com/azlm8t,FreeBSD: fix read write kevent,2,[],https://github.com/tvheadend/tvheadend/pull/1186,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1186#issuecomment-430269119,"On FreeBSD, the kevent EVFILT_READ=-1 and EVFILT_WRITE=-2 (rather than 1 and 2), so when they are ORed together you get -1, so we only end up registering READ in tvhpoll.
This means that on an async tcp connect we eventually timeout since we are not registered for WRITE.
So we now delete the special logic and use the existing separate read/write registration logic.
Also no longer return EIO for FreeBSD on tcp_socket_dead for zero bytes available to read, otherwise streaming fails to my tablet since we get no bytes to read so immediately disconnect the client, but no bytes on async socket is not same as eof.",I applied kevent fix and reverted 3895c92 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1186,2018-10-16T12:27:37Z,2018-10-16T14:53:03Z,2018-10-16T16:38:55Z,CLOSED,False,6,6,2,https://github.com/azlm8t,FreeBSD: fix read write kevent,2,[],https://github.com/tvheadend/tvheadend/pull/1186,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1186#issuecomment-430308599,"On FreeBSD, the kevent EVFILT_READ=-1 and EVFILT_WRITE=-2 (rather than 1 and 2), so when they are ORed together you get -1, so we only end up registering READ in tvhpoll.
This means that on an async tcp connect we eventually timeout since we are not registered for WRITE.
So we now delete the special logic and use the existing separate read/write registration logic.
Also no longer return EIO for FreeBSD on tcp_socket_dead for zero bytes available to read, otherwise streaming fails to my tablet since we get no bytes to read so immediately disconnect the client, but no bytes on async socket is not same as eof.","Thanks. You're right, that earlier change should be reverted.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1187,2018-10-16T22:25:06Z,2018-10-21T17:43:23Z,2018-10-21T17:43:23Z,MERGED,True,5,8,1,https://github.com/azlm8t,htsp: Tidy serialization of category and keyword.,1,[],https://github.com/tvheadend/tvheadend/pull/1187,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1187,"In pvr.hts, there's a bug raised that Tvheadend's credits/cast/keywords might be causing problems when doing a deserialize of the binary message (before the actual parsing of the message contents):
kodi-pvr/pvr.hts#378
I've not managed to reproduce the problem (and the code has been in since Sep 2017 in tvh and November for pvr.hts).
However, I noticed we could tidy the code to use the string_list_serialize function which does an additional check that the converted string list message is created before adding it to the out msg.
I don't think this is the cause of their problem since we should core dump if msg was somehow null after the conversion, but the additional check might be worthwhile.
Also removed extra braces.","In pvr.hts, there's a bug raised that Tvheadend's credits/cast/keywords might be causing problems when doing a deserialize of the binary message (before the actual parsing of the message contents):
kodi-pvr/pvr.hts#378
I've not managed to reproduce the problem (and the code has been in since Sep 2017 in tvh and November for pvr.hts).
However, I noticed we could tidy the code to use the string_list_serialize function which does an additional check that the converted string list message is created before adding it to the out msg.
I don't think this is the cause of their problem since we should core dump if msg was somehow null after the conversion, but the additional check might be worthwhile.
Also removed extra braces.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1187,2018-10-16T22:25:06Z,2018-10-21T17:43:23Z,2018-10-21T17:43:23Z,MERGED,True,5,8,1,https://github.com/azlm8t,htsp: Tidy serialization of category and keyword.,1,[],https://github.com/tvheadend/tvheadend/pull/1187,https://github.com/zinonino,2,https://github.com/tvheadend/tvheadend/pull/1187#issuecomment-430681659,"In pvr.hts, there's a bug raised that Tvheadend's credits/cast/keywords might be causing problems when doing a deserialize of the binary message (before the actual parsing of the message contents):
kodi-pvr/pvr.hts#378
I've not managed to reproduce the problem (and the code has been in since Sep 2017 in tvh and November for pvr.hts).
However, I noticed we could tidy the code to use the string_list_serialize function which does an additional check that the converted string list message is created before adding it to the out msg.
I don't think this is the cause of their problem since we should core dump if msg was somehow null after the conversion, but the additional check might be worthwhile.
Also removed extra braces.","Sorry i bother you, but i cant find anywhere to contact with you, neither email and i not find you in iRC, i want to discuss with you some ideas and bugs.
Some way to contact with you, if not problem for you ?
Thanks",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1187,2018-10-16T22:25:06Z,2018-10-21T17:43:23Z,2018-10-21T17:43:23Z,MERGED,True,5,8,1,https://github.com/azlm8t,htsp: Tidy serialization of category and keyword.,1,[],https://github.com/tvheadend/tvheadend/pull/1187,https://github.com/piotrasd,3,https://github.com/tvheadend/tvheadend/pull/1187#issuecomment-431516286,"In pvr.hts, there's a bug raised that Tvheadend's credits/cast/keywords might be causing problems when doing a deserialize of the binary message (before the actual parsing of the message contents):
kodi-pvr/pvr.hts#378
I've not managed to reproduce the problem (and the code has been in since Sep 2017 in tvh and November for pvr.hts).
However, I noticed we could tidy the code to use the string_list_serialize function which does an additional check that the converted string list message is created before adding it to the out msg.
I don't think this is the cause of their problem since we should core dump if msg was somehow null after the conversion, but the additional check might be worthwhile.
Also removed extra braces.",me to :(,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1188,2018-10-18T16:54:33Z,2018-10-18T18:39:44Z,2018-10-18T18:39:44Z,CLOSED,False,190,65,3,https://github.com/mpmc,doozer: [4.2] add raspbian and cosmic,1,[],https://github.com/tvheadend/tvheadend/pull/1188,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1188,"This is so that 4.2 stable is built for Raspbian and Cosmic, and is available from apt.tvheadend.org. Cosmic is currently failing, however @andoma is looking into that for us :)","This is so that 4.2 stable is built for Raspbian and Cosmic, and is available from apt.tvheadend.org. Cosmic is currently failing, however @andoma is looking into that for us :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1188,2018-10-18T16:54:33Z,2018-10-18T18:39:44Z,2018-10-18T18:39:44Z,CLOSED,False,190,65,3,https://github.com/mpmc,doozer: [4.2] add raspbian and cosmic,1,[],https://github.com/tvheadend/tvheadend/pull/1188,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1188#issuecomment-431117772,"This is so that 4.2 stable is built for Raspbian and Cosmic, and is available from apt.tvheadend.org. Cosmic is currently failing, however @andoma is looking into that for us :)",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1189,2018-10-21T23:36:01Z,2018-10-22T06:40:44Z,2018-10-22T06:40:45Z,MERGED,True,4,1,1,https://github.com/ljalves,dvr_rec: fix early access_destroy,1,[],https://github.com/tvheadend/tvheadend/pull/1189,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/1189,Fixes #5282 and #5273,Fixes #5282 and #5273,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1190,2018-10-22T08:36:36Z,2018-10-22T16:54:04Z,2018-10-22T16:54:04Z,CLOSED,False,4,3,1,https://github.com/ljalves,webui: fix playlist arguments,1,[],https://github.com/tvheadend/tvheadend/pull/1190,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/1190,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1190,2018-10-22T08:36:36Z,2018-10-22T16:54:04Z,2018-10-22T16:54:04Z,CLOSED,False,4,3,1,https://github.com/ljalves,webui: fix playlist arguments,1,[],https://github.com/tvheadend/tvheadend/pull/1190,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1190#issuecomment-431895509,,Fixed (another way) 938f652 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1191,2018-10-23T12:41:49Z,2018-10-25T16:44:03Z,2018-10-25T16:44:03Z,MERGED,True,17,3,4,https://github.com/dkonerma,Make authentication ticket lifetime configurable,1,[],https://github.com/tvheadend/tvheadend/pull/1191,https://github.com/dkonerma,1,https://github.com/tvheadend/tvheadend/pull/1191,,,True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1192,2018-10-24T13:06:10Z,2018-10-25T16:43:13Z,2018-10-25T16:43:13Z,MERGED,True,10,1,4,https://github.com/mpmc,webui: more tooltips for help buttons!,1,[],https://github.com/tvheadend/tvheadend/pull/1192,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1192,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1193,2018-10-24T13:07:05Z,2018-10-25T16:43:22Z,2018-10-25T16:43:22Z,MERGED,True,14,6,3,https://github.com/mpmc,webui: more tooltips for help buttons!,1,[],https://github.com/tvheadend/tvheadend/pull/1193,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1193,Pretty much the same as master :),Pretty much the same as master :),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1194,2018-10-25T16:22:29Z,2018-10-25T16:43:32Z,2018-10-25T16:43:32Z,MERGED,True,12,4,2,https://github.com/pablozg,webui: Fix #5292,1,[],https://github.com/tvheadend/tvheadend/pull/1194,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1194,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1195,2018-10-25T19:06:17Z,2018-10-25T19:15:48Z,2018-10-25T19:50:27Z,CLOSED,False,1,1,1,https://github.com/pablozg,"webui: fix maximum ticket expiration time, previously 34min, now 24hrs.",1,[],https://github.com/tvheadend/tvheadend/pull/1195,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1195,@perexg maybe we must set it to the maximum value of a uint32. What do you think?,@perexg maybe we must set it to the maximum value of a uint32. What do you think?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1196,2018-10-25T19:32:19Z,2018-10-27T08:49:56Z,2018-10-27T10:35:43Z,CLOSED,False,0,1,1,https://github.com/pablozg,"webui: deleted upper limit in ticket expiration field, now maximum value is 2047 seconds (given by INTEXTRA_RANGE function)",1,[],https://github.com/tvheadend/tvheadend/pull/1196,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1196,,,True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1196,2018-10-25T19:32:19Z,2018-10-27T08:49:56Z,2018-10-27T10:35:43Z,CLOSED,False,0,1,1,https://github.com/pablozg,"webui: deleted upper limit in ticket expiration field, now maximum value is 2047 seconds (given by INTEXTRA_RANGE function)",1,[],https://github.com/tvheadend/tvheadend/pull/1196,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1196#issuecomment-433182634,,That means that we can use unlimited time tickets then?,True,{'LAUGH': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1196,2018-10-25T19:32:19Z,2018-10-27T08:49:56Z,2018-10-27T10:35:43Z,CLOSED,False,0,1,1,https://github.com/pablozg,"webui: deleted upper limit in ticket expiration field, now maximum value is 2047 seconds (given by INTEXTRA_RANGE function)",1,[],https://github.com/tvheadend/tvheadend/pull/1196,https://github.com/pablozg,3,https://github.com/tvheadend/tvheadend/pull/1196#issuecomment-433184028,,"That means that we can use unlimited time tickets then?

After a fast review of the code, the maximum value is given by de sec2mono(sec) function and the int64 variable, and the maximun value of the int64 is 2147483647 seconds that I think is time enought.
@perexg can you confirm this aproach?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1196,2018-10-25T19:32:19Z,2018-10-27T08:49:56Z,2018-10-27T10:35:43Z,CLOSED,False,0,1,1,https://github.com/pablozg,"webui: deleted upper limit in ticket expiration field, now maximum value is 2047 seconds (given by INTEXTRA_RANGE function)",1,[],https://github.com/tvheadend/tvheadend/pull/1196,https://github.com/Trujulu,4,https://github.com/tvheadend/tvheadend/pull/1196#issuecomment-433191255,,"After a fast review of the code, the maximum value is given by de sec2mono(sec) function and the int64 variable, and the maximun value of the int64 is 2147483647 seconds that I think is time enought.
@perexg can you confirm this aproach?

It is abour 70 years !!! 👍",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1196,2018-10-25T19:32:19Z,2018-10-27T08:49:56Z,2018-10-27T10:35:43Z,CLOSED,False,0,1,1,https://github.com/pablozg,"webui: deleted upper limit in ticket expiration field, now maximum value is 2047 seconds (given by INTEXTRA_RANGE function)",1,[],https://github.com/tvheadend/tvheadend/pull/1196,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/1196#issuecomment-433603141,,"I am not a fan of those changes. I added the code to allow the range 30-3600 seconds for the temporary tickets: a7eacfe . Note that each temporary ticket require some memory and if you set this value too high, the user can easily eat all memory on the server.",True,{'THUMBS_UP': ['https://github.com/pablozg']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1196,2018-10-25T19:32:19Z,2018-10-27T08:49:56Z,2018-10-27T10:35:43Z,CLOSED,False,0,1,1,https://github.com/pablozg,"webui: deleted upper limit in ticket expiration field, now maximum value is 2047 seconds (given by INTEXTRA_RANGE function)",1,[],https://github.com/tvheadend/tvheadend/pull/1196,https://github.com/pablozg,6,https://github.com/tvheadend/tvheadend/pull/1196#issuecomment-433609529,,It's time enought for me too. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1197,2018-10-28T23:21:41Z,2018-10-29T09:34:59Z,2018-10-31T19:23:54Z,MERGED,True,10,3,2,https://github.com/ljalves,intextra: support 12bit unsigned nrs,1,[],https://github.com/tvheadend/tvheadend/pull/1197,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/1197,Fixes #5298,Fixes #5298,True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1198,2018-10-29T18:23:32Z,2018-10-29T19:10:54Z,2018-10-31T19:23:57Z,MERGED,True,1,2,1,https://github.com/ljalves,msg queue: wake thread on new message,1,[],https://github.com/tvheadend/tvheadend/pull/1198,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/1198,This should fix some (if not all) of the issues on #5295,This should fix some (if not all) of the issues on #5295,True,{'HEART': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1199,2018-10-30T00:16:15Z,2018-11-27T13:37:02Z,2018-11-27T19:17:54Z,CLOSED,False,61,43,3,https://github.com/ljalves,tags: fix exclude (from all channels),1,[],https://github.com/tvheadend/tvheadend/pull/1199,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/1199,"Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288","Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1199,2018-10-30T00:16:15Z,2018-11-27T13:37:02Z,2018-11-27T19:17:54Z,CLOSED,False,61,43,3,https://github.com/ljalves,tags: fix exclude (from all channels),1,[],https://github.com/tvheadend/tvheadend/pull/1199,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1199#issuecomment-434214560,"Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288",It would be probably much better to create automatic tag which will maintain the untagged channels. This type of change will affect the rule merging scheme.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1199,2018-10-30T00:16:15Z,2018-11-27T13:37:02Z,2018-11-27T19:17:54Z,CLOSED,False,61,43,3,https://github.com/ljalves,tags: fix exclude (from all channels),1,[],https://github.com/tvheadend/tvheadend/pull/1199,https://github.com/ljalves,3,https://github.com/tvheadend/tvheadend/pull/1199#issuecomment-434233796,"Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288","Sorry but I don't know what you mean with rule merging.
About your suggestion, I think that creating an automatic tag will not fix the second case reported on the opened issue (channels with 2 tags, where 1 is marked as exclude will not exclude the channel).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1199,2018-10-30T00:16:15Z,2018-11-27T13:37:02Z,2018-11-27T19:17:54Z,CLOSED,False,61,43,3,https://github.com/ljalves,tags: fix exclude (from all channels),1,[],https://github.com/tvheadend/tvheadend/pull/1199,https://github.com/mpmc,4,https://github.com/tvheadend/tvheadend/pull/1199#issuecomment-434239029,"Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288","Sorry but I don't know what you mean with rule merging.

More than likely the access entries, multiple entries of the same username with varying rights based on other factors such as IP address.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1199,2018-10-30T00:16:15Z,2018-11-27T13:37:02Z,2018-11-27T19:17:54Z,CLOSED,False,61,43,3,https://github.com/ljalves,tags: fix exclude (from all channels),1,[],https://github.com/tvheadend/tvheadend/pull/1199,https://github.com/ljalves,5,https://github.com/tvheadend/tvheadend/pull/1199#issuecomment-434265673,"Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288","Got it!
I don't see a reason to cause issues on those situations... I'll try to do some testing!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1199,2018-10-30T00:16:15Z,2018-11-27T13:37:02Z,2018-11-27T19:17:54Z,CLOSED,False,61,43,3,https://github.com/ljalves,tags: fix exclude (from all channels),1,[],https://github.com/tvheadend/tvheadend/pull/1199,https://github.com/ljalves,6,https://github.com/tvheadend/tvheadend/pull/1199#issuecomment-434274523,"Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288","@perexg
You're right, I wasn't fully aware of how the access chain worked.
Let me rework this PR",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1199,2018-10-30T00:16:15Z,2018-11-27T13:37:02Z,2018-11-27T19:17:54Z,CLOSED,False,61,43,3,https://github.com/ljalves,tags: fix exclude (from all channels),1,[],https://github.com/tvheadend/tvheadend/pull/1199,https://github.com/ljalves,7,https://github.com/tvheadend/tvheadend/pull/1199#issuecomment-434663662,"Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288","Please check the new submit.
It builds 2 lists:

tag access list
tag exclude list

If down the chain the user adds access to some tag, it gets removed from the exclude list.
Tested with chained access and seems to work ok.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1199,2018-10-30T00:16:15Z,2018-11-27T13:37:02Z,2018-11-27T19:17:54Z,CLOSED,False,61,43,3,https://github.com/ljalves,tags: fix exclude (from all channels),1,[],https://github.com/tvheadend/tvheadend/pull/1199,https://github.com/ljalves,8,https://github.com/tvheadend/tvheadend/pull/1199#issuecomment-434807026,"Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288","@perexg,
I was wondering if I should add the following behavior:
Down the access chain, if the user access has ""change parameters: tags"" turned on but the channel tag list is empty, then it should do the following, depending on the ""exclude tag"" switch:

exclude off: clear the tag list - user has access to all channels except previously exclude-tagged ones.
exclude on: clear the tag exclude list -> user has access to all channels previously tagged.

Right now, when the list is empty, it does nothing.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1199,2018-10-30T00:16:15Z,2018-11-27T13:37:02Z,2018-11-27T19:17:54Z,CLOSED,False,61,43,3,https://github.com/ljalves,tags: fix exclude (from all channels),1,[],https://github.com/tvheadend/tvheadend/pull/1199,https://github.com/ljalves,9,https://github.com/tvheadend/tvheadend/pull/1199#issuecomment-435549007,"Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288",Any feedback on this?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1199,2018-10-30T00:16:15Z,2018-11-27T13:37:02Z,2018-11-27T19:17:54Z,CLOSED,False,61,43,3,https://github.com/ljalves,tags: fix exclude (from all channels),1,[],https://github.com/tvheadend/tvheadend/pull/1199,https://github.com/perexg,10,https://github.com/tvheadend/tvheadend/pull/1199#issuecomment-442060295,"Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288",Merged. Thanks for your contribution.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1199,2018-10-30T00:16:15Z,2018-11-27T13:37:02Z,2018-11-27T19:17:54Z,CLOSED,False,61,43,3,https://github.com/ljalves,tags: fix exclude (from all channels),1,[],https://github.com/tvheadend/tvheadend/pull/1199,https://github.com/ljalves,11,https://github.com/tvheadend/tvheadend/pull/1199#issuecomment-442182392,"Currently the exclude flag gives the user access to all channels that ARE TAGGED except the ones that match the selected tag(s).
This fix will give the user access to ALL channels (tagged or not) except the ones that match the selected tag(s).
Fixes #5288",Thank you!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1200,2018-10-30T19:15:58Z,2018-11-19T12:39:14Z,2018-11-23T15:20:45Z,MERGED,True,4,0,1,https://github.com/Trujulu, webui: access theme - color correction for EPG count info,1,[],https://github.com/tvheadend/tvheadend/pull/1200,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1200,EPG events count is dark-gray so we can't see it with access theme.,EPG events count is dark-gray so we can't see it with access theme.,True,"{'THUMBS_UP': ['https://github.com/mpmc', 'https://github.com/Trujulu'], 'HEART': ['https://github.com/Lolipero']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1201,2018-10-30T20:33:27Z,2018-10-31T07:35:13Z,2018-10-31T07:35:13Z,MERGED,True,214,128,3,https://github.com/mpmc,"doozer/autobuild: sort targets, add fedora 29, remove precise and add buster",3,[],https://github.com/tvheadend/tvheadend/pull/1201,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1201,"@perexg I've tried to save you a little time by adding Fedora 29.
It somewhat builds but it's kinda broken see here. I'm not very versed in the Fedora world so I'm not sure how to fix it. So you may want to cherry some of these commits.","@perexg I've tried to save you a little time by adding Fedora 29.
It somewhat builds but it's kinda broken see here. I'm not very versed in the Fedora world so I'm not sure how to fix it. So you may want to cherry some of these commits.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1202,2018-10-30T20:47:08Z,2018-11-27T16:19:12Z,2018-11-27T16:19:12Z,CLOSED,False,1,1,1,https://github.com/Trujulu,"webui: status, replace 'title' to 'user agent' (cosmetic)",1,[],https://github.com/tvheadend/tvheadend/pull/1202,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1202,"Probably 'Title' is not as exact meaning as it is User Agent, also the expression 'HTTP User Agent' is used in the configuration of the server, therefore, this one seems a more accurate description.","Probably 'Title' is not as exact meaning as it is User Agent, also the expression 'HTTP User Agent' is used in the configuration of the server, therefore, this one seems a more accurate description.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1202,2018-10-30T20:47:08Z,2018-11-27T16:19:12Z,2018-11-27T16:19:12Z,CLOSED,False,1,1,1,https://github.com/Trujulu,"webui: status, replace 'title' to 'user agent' (cosmetic)",1,[],https://github.com/tvheadend/tvheadend/pull/1202,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1202#issuecomment-434588987,"Probably 'Title' is not as exact meaning as it is User Agent, also the expression 'HTTP User Agent' is used in the configuration of the server, therefore, this one seems a more accurate description.","It's not correct. The column might also contain other subscription identification. Perhaps, it would be better to split the client info and the subscription title/name.",True,{'HEART': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1202,2018-10-30T20:47:08Z,2018-11-27T16:19:12Z,2018-11-27T16:19:12Z,CLOSED,False,1,1,1,https://github.com/Trujulu,"webui: status, replace 'title' to 'user agent' (cosmetic)",1,[],https://github.com/tvheadend/tvheadend/pull/1202,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1202#issuecomment-442119890,"Probably 'Title' is not as exact meaning as it is User Agent, also the expression 'HTTP User Agent' is used in the configuration of the server, therefore, this one seems a more accurate description.",Fixed in b7b9ef8 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1203,2018-10-30T21:06:26Z,2018-10-31T07:26:02Z,2018-10-31T07:26:02Z,MERGED,True,1,1,1,https://github.com/bccrew,fix small typo,1,[],https://github.com/tvheadend/tvheadend/pull/1203,https://github.com/bccrew,1,https://github.com/tvheadend/tvheadend/pull/1203,fix small typo,fix small typo,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1204,2018-11-03T20:46:49Z,2018-11-10T19:29:53Z,2018-11-10T19:29:53Z,CLOSED,False,0,0,0,https://github.com/joeusercz,"Rename watch descriptors to ""wd"" from ""fd"", improve traces.",0,[],https://github.com/tvheadend/tvheadend/pull/1204,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/1204,"""fd"" is used as the file descriptor for the inotify instance, so it is better to more correctly label the watch descriptors as ""wd"" to make it more clear.","""fd"" is used as the file descriptor for the inotify instance, so it is better to more correctly label the watch descriptors as ""wd"" to make it more clear.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1204,2018-11-03T20:46:49Z,2018-11-10T19:29:53Z,2018-11-10T19:29:53Z,CLOSED,False,0,0,0,https://github.com/joeusercz,"Rename watch descriptors to ""wd"" from ""fd"", improve traces.",0,[],https://github.com/tvheadend/tvheadend/pull/1204,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1204#issuecomment-435620124,"""fd"" is used as the file descriptor for the inotify instance, so it is better to more correctly label the watch descriptors as ""wd"" to make it more clear.",I would prefer another name. 'wd' means for me write descriptor. Perhaps 'watchfd' or so..,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1204,2018-11-03T20:46:49Z,2018-11-10T19:29:53Z,2018-11-10T19:29:53Z,CLOSED,False,0,0,0,https://github.com/joeusercz,"Rename watch descriptors to ""wd"" from ""fd"", improve traces.",0,[],https://github.com/tvheadend/tvheadend/pull/1204,https://github.com/joeusercz,3,https://github.com/tvheadend/tvheadend/pull/1204#issuecomment-435620719,"""fd"" is used as the file descriptor for the inotify instance, so it is better to more correctly label the watch descriptors as ""wd"" to make it more clear.","I used wd because that is what is used in inotify structure:

       struct inotify_event {


           int      wd;       /* Watch descriptor */
           uint32_t mask;     /* Mask describing event */
           uint32_t cookie;   /* Unique cookie associating related
                                 events (for rename(2)) */
           uint32_t len;      /* Size of name field */
           char     name[];   /* Optional null-terminated name */
       };

Also, ""watchfd"" makes ""fromfd"" into something very long...
I will think of another name tomorrow...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1204,2018-11-03T20:46:49Z,2018-11-10T19:29:53Z,2018-11-10T19:29:53Z,CLOSED,False,0,0,0,https://github.com/joeusercz,"Rename watch descriptors to ""wd"" from ""fd"", improve traces.",0,[],https://github.com/tvheadend/tvheadend/pull/1204,https://github.com/mpmc,4,https://github.com/tvheadend/tvheadend/pull/1204#issuecomment-435627217,"""fd"" is used as the file descriptor for the inotify instance, so it is better to more correctly label the watch descriptors as ""wd"" to make it more clear.","How about ""wed"" for watch event descriptor or ewd? :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1205,2018-11-04T21:49:31Z,2018-11-19T12:38:55Z,2018-11-19T12:38:55Z,MERGED,True,225,17,7,https://github.com/azlm8t,dvr: Add option to automatically delete recording after playback.,1,[],https://github.com/tvheadend/tvheadend/pull/1205,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1205,"Previously when watching a programme, the user usually has to then
manually delete the programme to recover disk space, or wait for its
retention to expire.
So we now add an option to Config->Recording->DVR Profile. This allows
the user to select time after watching to automatically delete the
recording (unless it is marked as ""keep forever""). Default is disabled
(do not delete after playback).
For example, if the user specifies ""2 days"" then we'd delete the
recording two days after playback, even if the retention period is ""3
months"".
""Playback"" can vary based on client. Some clients read and cache the
entire file before starting playback, so the file would be marked as
watched immediately. Other clients only buffer a small amount, so the
file will be marked as watched near the end of the show.
For htsp, this is done via a new postop cb and we move the existing
""set playcount"" logic in to this postop, and once the playcount is incremented
then we arm the timer.","Previously when watching a programme, the user usually has to then
manually delete the programme to recover disk space, or wait for its
retention to expire.
So we now add an option to Config->Recording->DVR Profile. This allows
the user to select time after watching to automatically delete the
recording (unless it is marked as ""keep forever""). Default is disabled
(do not delete after playback).
For example, if the user specifies ""2 days"" then we'd delete the
recording two days after playback, even if the retention period is ""3
months"".
""Playback"" can vary based on client. Some clients read and cache the
entire file before starting playback, so the file would be marked as
watched immediately. Other clients only buffer a small amount, so the
file will be marked as watched near the end of the show.
For htsp, this is done via a new postop cb and we move the existing
""set playcount"" logic in to this postop, and once the playcount is incremented
then we arm the timer.",True,{'HEART': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1206,2018-11-07T18:31:29Z,2018-11-19T12:31:59Z,2018-11-19T12:31:59Z,MERGED,True,1,0,1,https://github.com/azlm8t,dvr: delete partial files when replacing schedule after crash,1,[],https://github.com/tvheadend/tvheadend/pull/1206,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1206,"Scenario: Complex scheduling enabled. Recording ok, then crash and restart. Partially recorded files are left on disk but dvr/log entry pointing to files can sometimes be destroyed.
So on restart the recording is not currently running, so we can find a
better recording (via complex scheduling option).
If there is a better recording later in the week,
that show will get preference (since complex recording states we don't
want a partial recording so prefer a later date for a full recording).
But, we used to destroy the dvr_entry, but this does not delete its
associated files so they would be left on disk as orphans/unreferenced
from any dvr/log file.
So now we also call delete to delete the files.","Scenario: Complex scheduling enabled. Recording ok, then crash and restart. Partially recorded files are left on disk but dvr/log entry pointing to files can sometimes be destroyed.
So on restart the recording is not currently running, so we can find a
better recording (via complex scheduling option).
If there is a better recording later in the week,
that show will get preference (since complex recording states we don't
want a partial recording so prefer a later date for a full recording).
But, we used to destroy the dvr_entry, but this does not delete its
associated files so they would be left on disk as orphans/unreferenced
from any dvr/log file.
So now we also call delete to delete the files.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1207,2018-11-07T20:10:00Z,2018-11-27T13:36:23Z,2018-11-27T13:36:35Z,CLOSED,False,283,247,35,https://github.com/mpmc,misc changes,7,[],https://github.com/tvheadend/tvheadend/pull/1207,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1207,,,True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1207,2018-11-07T20:10:00Z,2018-11-27T13:36:23Z,2018-11-27T13:36:35Z,CLOSED,False,283,247,35,https://github.com/mpmc,misc changes,7,[],https://github.com/tvheadend/tvheadend/pull/1207,https://github.com/mpmc,2,https://github.com/tvheadend/tvheadend/pull/1207#issuecomment-437105829,,"Added some more, mostly docs and cosmetic :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1207,2018-11-07T20:10:00Z,2018-11-27T13:36:23Z,2018-11-27T13:36:35Z,CLOSED,False,283,247,35,https://github.com/mpmc,misc changes,7,[],https://github.com/tvheadend/tvheadend/pull/1207,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1207#issuecomment-442060104,,"Merged. Please, create new PR for next additions.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1208,2018-11-09T09:15:31Z,2018-11-09T12:09:27Z,2018-11-09T12:09:27Z,CLOSED,False,2,2,1,https://github.com/pablozg,webui: fixes #5320,1,[],https://github.com/tvheadend/tvheadend/pull/1208,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1208,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1208,2018-11-09T09:15:31Z,2018-11-09T12:09:27Z,2018-11-09T12:09:27Z,CLOSED,False,2,2,1,https://github.com/pablozg,webui: fixes #5320,1,[],https://github.com/tvheadend/tvheadend/pull/1208,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1208#issuecomment-437341477,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1209,2018-11-11T12:13:40Z,2018-11-12T12:02:06Z,2018-11-12T12:02:06Z,MERGED,True,6,6,1,https://github.com/ljalves,cclient: fix crash on cc_remove_card,1,[],https://github.com/tvheadend/tvheadend/pull/1209,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/1209,"The ecm init state should be set within the services for loop.
Fixes #5324","The ecm init state should be set within the services for loop.
Fixes #5324",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1209,2018-11-11T12:13:40Z,2018-11-12T12:02:06Z,2018-11-12T12:02:06Z,MERGED,True,6,6,1,https://github.com/ljalves,cclient: fix crash on cc_remove_card,1,[],https://github.com/tvheadend/tvheadend/pull/1209,https://github.com/ljalves,2,https://github.com/tvheadend/tvheadend/pull/1209#issuecomment-437711142,"The ecm init state should be set within the services for loop.
Fixes #5324","The condition happened again and got no crash - seems to be fixed!
Nov 11 17:02:04 server tvheadend[28370]: cccam: 127.0.0.1:15900: card ID:0000xxxx CAID:18xx with 3 providers removed
Nov 11 17:02:04 server tvheadend[28370]: cccam: 127.0.0.1:15900: card ID:0000xxxx CAID:18xx with 5 providers removed
Nov 11 17:02:04 server tvheadend[28370]: cccam: 127.0.0.1:15900: Connected as user xxxx to a NagraVision-card-0000xxxx [CAID:18xx] with 3providers
Nov 11 17:02:04 server tvheadend[28370]: cccam: 127.0.0.1:15900: Connected as user xxxx to a NagraVision-card-0000xxxx [CAID:18xx] with 5providers",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1210,2018-11-11T20:23:43Z,2018-11-20T20:27:14Z,2018-11-20T20:27:14Z,CLOSED,False,0,0,0,https://github.com/joeusercz,Add ability to schedule a service to the mux scheduler.,0,[],https://github.com/tvheadend/tvheadend/pull/1210,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/1210,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1211,2018-11-12T13:48:06Z,2018-11-12T14:20:07Z,2018-11-12T14:20:07Z,MERGED,True,1,0,1,https://github.com/ljalves,descrambler: reset 'changed' flag on cc_remove_card,1,[],https://github.com/tvheadend/tvheadend/pull/1211,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/1211,I believe this is missing on the previous commit!,I believe this is missing on the previous commit!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1212,2018-11-13T04:11:09Z,2018-11-27T04:04:01Z,2020-11-15T11:29:49Z,CLOSED,False,3,3,2,https://github.com/mcaptur,Fix IPTV glitches,3,[],https://github.com/tvheadend/tvheadend/pull/1212,https://github.com/mcaptur,1,https://github.com/tvheadend/tvheadend/pull/1212,Some channels used to glitch quite badly on TVH but play/recover fine on vlc(directly).. this patch makes TVH behave like vlc,Some channels used to glitch quite badly on TVH but play/recover fine on vlc(directly).. this patch makes TVH behave like vlc,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1212,2018-11-13T04:11:09Z,2018-11-27T04:04:01Z,2020-11-15T11:29:49Z,CLOSED,False,3,3,2,https://github.com/mcaptur,Fix IPTV glitches,3,[],https://github.com/tvheadend/tvheadend/pull/1212,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1212#issuecomment-438154792,Some channels used to glitch quite badly on TVH but play/recover fine on vlc(directly).. this patch makes TVH behave like vlc,Do you mean with glitches VLC cant recover properly from missing packets?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1212,2018-11-13T04:11:09Z,2018-11-27T04:04:01Z,2020-11-15T11:29:49Z,CLOSED,False,3,3,2,https://github.com/mcaptur,Fix IPTV glitches,3,[],https://github.com/tvheadend/tvheadend/pull/1212,https://github.com/mcaptur,3,https://github.com/tvheadend/tvheadend/pull/1212#issuecomment-438158685,Some channels used to glitch quite badly on TVH but play/recover fine on vlc(directly).. this patch makes TVH behave like vlc,"sorry message was not clear
VLC opening stream directly short glitch but full recovers quickly
When using tvheadend gliches are much more severe and sometime does not even recover (when using htsp - did not test extensively with passthrough)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1212,2018-11-13T04:11:09Z,2018-11-27T04:04:01Z,2020-11-15T11:29:49Z,CLOSED,False,3,3,2,https://github.com/mcaptur,Fix IPTV glitches,3,[],https://github.com/tvheadend/tvheadend/pull/1212,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1212#issuecomment-439973004,Some channels used to glitch quite badly on TVH but play/recover fine on vlc(directly).. this patch makes TVH behave like vlc,"How did you this analysis? The PCR clocks should be regulary updated, so the diff should not be big.
The only thing to consider is to increase the kernel socket UDP buffer settings (udp_bind() calls (setsockopt)). It may be worth to set internal kernel buffers to 512kB or so.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1212,2018-11-13T04:11:09Z,2018-11-27T04:04:01Z,2020-11-15T11:29:49Z,CLOSED,False,3,3,2,https://github.com/mcaptur,Fix IPTV glitches,3,[],https://github.com/tvheadend/tvheadend/pull/1212,https://github.com/mcaptur,5,https://github.com/tvheadend/tvheadend/pull/1212#issuecomment-441898088,Some channels used to glitch quite badly on TVH but play/recover fine on vlc(directly).. this patch makes TVH behave like vlc,piping via ffmpeg is actually better,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1212,2018-11-13T04:11:09Z,2018-11-27T04:04:01Z,2020-11-15T11:29:49Z,CLOSED,False,3,3,2,https://github.com/mcaptur,Fix IPTV glitches,3,[],https://github.com/tvheadend/tvheadend/pull/1212,https://github.com/EItanMao,6,https://github.com/tvheadend/tvheadend/pull/1212#issuecomment-727555020,Some channels used to glitch quite badly on TVH but play/recover fine on vlc(directly).. this patch makes TVH behave like vlc,How do I apply these patches?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1213,2018-11-13T10:08:06Z,2018-11-19T12:29:11Z,2018-11-19T12:29:11Z,MERGED,True,9,7,1,https://github.com/k0rtina,updated nginx example,1,[],https://github.com/tvheadend/tvheadend/pull/1213,https://github.com/k0rtina,1,https://github.com/tvheadend/tvheadend/pull/1213,"the tvheadend no longer seems to like the = sign in the option
--http_root /my/tvh/server (working)
--http_root=/my/tvh/server (doesnt work)
nginx config updated to include the Connection ""upgrade"" to deal with the WS: /comet/ws traffic","the tvheadend no longer seems to like the = sign in the option
--http_root /my/tvh/server (working)
--http_root=/my/tvh/server (doesnt work)
nginx config updated to include the Connection ""upgrade"" to deal with the WS: /comet/ws traffic",True,{'THUMBS_UP': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1214,2018-11-17T05:18:22Z,2018-11-19T12:28:25Z,2018-11-19T12:28:25Z,MERGED,True,23,6,1,https://github.com/azlm8t,dvr: Fix unique season episode recording rule test,2,[],https://github.com/tvheadend/tvheadend/pull/1214,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1214,"The test for season/episode uniqueness no longer worked after the types were changed from string to int.
So it only checked episode numbers (ignoring season). This meant that S02E01 would not record if S01E01 was available. So, fix that to check both Season+Episode if both are available.
If only season or episode is available (which can happen on OTA where we just have ""Ep3"" and no season details), then we can only compare the one we have and if they differ, we know its definitely not a dup, but if they are the same then we have to continue to do the remaining checks.","The test for season/episode uniqueness no longer worked after the types were changed from string to int.
So it only checked episode numbers (ignoring season). This meant that S02E01 would not record if S01E01 was available. So, fix that to check both Season+Episode if both are available.
If only season or episode is available (which can happen on OTA where we just have ""Ep3"" and no season details), then we can only compare the one we have and if they differ, we know its definitely not a dup, but if they are the same then we have to continue to do the remaining checks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1215,2018-11-18T06:14:04Z,2018-11-20T07:19:35Z,2018-11-20T07:19:36Z,CLOSED,False,4,6,1,https://github.com/nomatter2k,webui: epg: fix compatibility issue for FreeBSD,1,[],https://github.com/tvheadend/tvheadend/pull/1215,https://github.com/nomatter2k,1,https://github.com/tvheadend/tvheadend/pull/1215,"The EPG screen serviced by FreeBSD port of tvheadend has two abnormal control
behaviors:

Reset All button makes the list empty
Typing and then deleting any search string also makes the list empty.

This patch fixes the symptoms above.
Patch tested with the latest FreeBSD port of tvheadend-4.2.7.","The EPG screen serviced by FreeBSD port of tvheadend has two abnormal control
behaviors:

Reset All button makes the list empty
Typing and then deleting any search string also makes the list empty.

This patch fixes the symptoms above.
Patch tested with the latest FreeBSD port of tvheadend-4.2.7.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1216,2018-11-19T11:48:22Z,2018-11-19T12:28:04Z,2018-11-19T12:28:04Z,MERGED,True,1,1,1,https://github.com/BytEvil,Fix typo ;),1,[],https://github.com/tvheadend/tvheadend/pull/1216,https://github.com/BytEvil,1,https://github.com/tvheadend/tvheadend/pull/1216,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1217,2018-11-19T23:10:53Z,2018-11-21T09:02:47Z,2018-11-21T09:02:47Z,MERGED,True,18,0,2,https://github.com/neheb,OpenSSL Fixes,2,[],https://github.com/tvheadend/tvheadend/pull/1217,https://github.com/neheb,1,https://github.com/tvheadend/tvheadend/pull/1217,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1218,2018-11-20T08:40:17Z,2018-11-23T12:45:12Z,2018-11-23T16:36:23Z,MERGED,True,5,4,1,https://github.com/nomatter2k,webui: epg: fix compatibility issue for FreeBSD,1,[],https://github.com/tvheadend/tvheadend/pull/1218,https://github.com/nomatter2k,1,https://github.com/tvheadend/tvheadend/pull/1218,"The EPG screen serviced by FreeBSD port of tvheadend has two abnormal control
behaviors:
Reset All button makes the list empty
Typing and then deleting any search string also makes the list empty.

This patch fixes the symptoms above.
Patch tested with the latest FreeBSD port of tvheadend-4.2.7.
Changes since v1:

call reset only if required","The EPG screen serviced by FreeBSD port of tvheadend has two abnormal control
behaviors:
Reset All button makes the list empty
Typing and then deleting any search string also makes the list empty.

This patch fixes the symptoms above.
Patch tested with the latest FreeBSD port of tvheadend-4.2.7.
Changes since v1:

call reset only if required",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1218,2018-11-20T08:40:17Z,2018-11-23T12:45:12Z,2018-11-23T16:36:23Z,MERGED,True,5,4,1,https://github.com/nomatter2k,webui: epg: fix compatibility issue for FreeBSD,1,[],https://github.com/tvheadend/tvheadend/pull/1218,https://github.com/nomatter2k,2,https://github.com/tvheadend/tvheadend/pull/1218#issuecomment-441282534,"The EPG screen serviced by FreeBSD port of tvheadend has two abnormal control
behaviors:
Reset All button makes the list empty
Typing and then deleting any search string also makes the list empty.

This patch fixes the symptoms above.
Patch tested with the latest FreeBSD port of tvheadend-4.2.7.
Changes since v1:

call reset only if required","Thank you, perexg.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1219,2018-11-20T21:08:29Z,2018-11-27T15:14:30Z,2018-11-27T15:14:55Z,CLOSED,False,3,3,1,https://github.com/joeusercz,Descrambler fix,2,[],https://github.com/tvheadend/tvheadend/pull/1219,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/1219,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1219,2018-11-20T21:08:29Z,2018-11-27T15:14:30Z,2018-11-27T15:14:55Z,CLOSED,False,3,3,1,https://github.com/joeusercz,Descrambler fix,2,[],https://github.com/tvheadend/tvheadend/pull/1219,https://github.com/joeusercz,2,https://github.com/tvheadend/tvheadend/pull/1219#issuecomment-440444585,,"Sorry, I left debug2 enabled, you can disable it if you pull...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1219,2018-11-20T21:08:29Z,2018-11-27T15:14:30Z,2018-11-27T15:14:55Z,CLOSED,False,3,3,1,https://github.com/joeusercz,Descrambler fix,2,[],https://github.com/tvheadend/tvheadend/pull/1219,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1219#issuecomment-442094493,,Applied just the unused code removal (j++).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1219,2018-11-20T21:08:29Z,2018-11-27T15:14:30Z,2018-11-27T15:14:55Z,CLOSED,False,3,3,1,https://github.com/joeusercz,Descrambler fix,2,[],https://github.com/tvheadend/tvheadend/pull/1219,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1219#issuecomment-442094653,,fc3e3de,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1220,2018-11-21T16:36:03Z,2018-11-23T12:44:45Z,2018-11-23T12:44:45Z,MERGED,True,18,4,2,https://github.com/pablozg,"webui: Add group renderer capabilities, now when grouping the title d…",3,[],https://github.com/tvheadend/tvheadend/pull/1220,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1220,…on't care about copyright year,…on't care about copyright year,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1221,2018-11-23T15:29:11Z,2018-11-23T15:49:40Z,2018-11-23T15:49:40Z,MERGED,True,2,2,1,https://github.com/Trujulu,webui debugging tab: typo fix,1,[],https://github.com/tvheadend/tvheadend/pull/1221,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1221,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1222,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.","This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1222#issuecomment-441431210,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.",,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1222#issuecomment-441433356,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.","The above dialog box shows the two new buttons to the left of the ""prev/next"" buttons, and the new dialog box. In future, we can add more features to the dialog (toolbars, etc.), but I wanted to commit before too many ui conflicts occurred.
I should also mention that ""Ext.ux.grid.RowActions"" (for event details on the livegrid for epg and the new dialog) seemed to always generate an exception inside ExtJS when I closed the dialog box due to no destroy method. I've manually defined one in the code to avoid this exception. I'm guessing perhaps the problem isn't seen on the existing epg grid since it is never destroyed. But, I thought I should explicitly draw attention to it in case my code has something wrong in the creation of the dialog in epgevents.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/mpmc,4,https://github.com/tvheadend/tvheadend/pull/1222#issuecomment-441455140,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.",😍,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/Trujulu,5,https://github.com/tvheadend/tvheadend/pull/1222#issuecomment-443012111,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.","@azlm8t Is it possible to adapt windows size also on translated UI? For English works fine, but look what happens in Spanish (text of buttons is longer than expected and window cuts the buttons).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/Trujulu,6,https://github.com/tvheadend/tvheadend/pull/1222#issuecomment-443013508,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.","I just realized that it happens in more windows, it does not seem something specific about this commit.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/azlm8t,7,https://github.com/tvheadend/tvheadend/pull/1222#issuecomment-443074426,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.","@Trujulu That's a good question.
.
I can see some examples for height, so perhaps it would work for width?
https://stackoverflow.com/questions/6602043/auto-size-ext-js-window-based-on-content-up-to-maxheight
listeners: {afterlayout: function() {
    var height = Ext.getBody().getViewSize().height;
    if (this.getHeight() > height) {
        this.setHeight(height);
    }
    this.center();
}}

Could you try that in whichever dialog fails? (with height replaced with width)?
If it works, we could put it in tvheadend.js and use on all the dialogs.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/azlm8t,8,https://github.com/tvheadend/tvheadend/pull/1222#issuecomment-443075556,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.","@Trujulu In the future, I think it might be nice to move next/prev to a title menu bar (tbar) since the EPG ""record""/""record series"" means the buttons keep moving a few centimeters around. Or, perhaps move them (and the ""find related"" buttons) to the beginning of the bbar?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/Trujulu,9,https://github.com/tvheadend/tvheadend/pull/1222#issuecomment-443204613,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.","@Trujulu That's a good question.
Could you try that in whichever dialog fails? (with height replaced with width)?
If it works, we could put it in tvheadend.js and use on all the dialogs.

diff --git a/src/webui/static/app/epgevent.js b/src/webui/static/app/epgevent.js
index c79db65a6..196b56f35 100644
--- a/src/webui/static/app/epgevent.js
+++ b/src/webui/static/app/epgevent.js
@@ -154,8 +154,15 @@ function epgAlternativeShowingsDialog(eventId, alternative) {
         items: grid,
         bbar: new Ext.ux.grid.livegrid.Toolbar(
         tvheadend.PagingToolbarConf({view: epgView},_('Events'),0,0)
-        ),
-
+       ),
+       listeners: {
+       afterlayout: function() {
+           var width = Ext.getBody().getwidthSize().width;
+           if (this.getWidth() > width) {
+               this.setWidth(width);
+           }
+           this.center();
+       }}
     });

     // Handle comet updates until user closes dialog.

Just tried following and seems to work for epgevent dialog.

(auto-resized)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/azlm8t,10,https://github.com/tvheadend/tvheadend/pull/1222#issuecomment-443423183,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.","@Trujulu It doesn't seem to work for me. The getwidthSize().width doesn't exist.
So I tried getWidth(), and also getSize().width.  I then also reversed your "">"" to be ""<"" and this worked, but didn't display right.
So, I tried it on the EPG info window (not epgevent), I had set ""width: 20"" so I can tell that resize happens.
However, with my changes, it is resizing to 1760 (the value returned from both variants I tried). I don't know why since my screen isn't 1760 wide, but the dialog ends up looking full-width of the screen so perhaps 1760 allow space for window decoration.
Perhaps this is due to layout managers inside the epg window?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/Trujulu,11,https://github.com/tvheadend/tvheadend/pull/1222#issuecomment-443424252,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.","Maybe I applied code Wrong. I dont know about c++, css... :/",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1222,2018-11-25T10:47:29Z,2018-11-25T19:54:30Z,2018-12-01T13:53:16Z,MERGED,True,582,132,9,https://github.com/azlm8t,"ui: show similar and alternative broadcasts (#5335, #5336)",2,[],https://github.com/tvheadend/tvheadend/pull/1222,https://github.com/azlm8t,12,https://github.com/tvheadend/tvheadend/pull/1222#issuecomment-443427894,"This add a similar/alternative button to DVR and EPG info dialog boxes.
Repurposed the ""show duplicated"" button from DVR to display this ""show alternatives"" dialog box. This then allows the user to select episodes to record.
Main internal changes was splitting some logic in epg.js so it could be shared with the new dialog, create new file epgevents.js to display the dialog box.
In tvh, we return the sorted lists using shared code since the dialog uses a livegrid that needs remote sorting. Also some minor const fixups and fixup core dump where NULL ptr passed through.","@Trujulu Not a problem, perhaps you didn't ""make install""?
I'll also try and have more of a look tomorrow since I think we've almost got it working and there must be a good example online.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1223,2018-11-28T11:26:31Z,2018-11-28T11:31:34Z,2018-11-28T11:31:34Z,MERGED,True,1,13,2,https://github.com/mpmc,debian: remove db_reset lines - fixes #5358,1,[],https://github.com/tvheadend/tvheadend/pull/1223,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1223,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1224,2018-11-28T20:23:36Z,2018-11-29T10:52:27Z,2018-11-29T10:52:27Z,MERGED,True,1,1,1,https://github.com/Trujulu,watchdog: rename tv_mutex_init to tvh_mutex_init,1,[],https://github.com/tvheadend/tvheadend/pull/1224,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1224,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1225,2018-11-30T02:53:13Z,,2019-10-14T11:31:35Z,OPEN,False,29,0,1,https://github.com/azlm8t,ui: Add German category translations used by tv_grab_eu_epgdata for icons.,2,[],https://github.com/tvheadend/tvheadend/pull/1225,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1225,"Add icon mappings for category names used by ""tv_grab_eu_epgdata"", as given in sample file in bug 5359.
(This doesn't fix that bug, it just adds icons from the xml file).","Add icon mappings for category names used by ""tv_grab_eu_epgdata"", as given in sample file in bug 5359.
(This doesn't fix that bug, it just adds icons from the xml file).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1225,2018-11-30T02:53:13Z,,2019-10-14T11:31:35Z,OPEN,False,29,0,1,https://github.com/azlm8t,ui: Add German category translations used by tv_grab_eu_epgdata for icons.,2,[],https://github.com/tvheadend/tvheadend/pull/1225,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1225#issuecomment-444789085,"Add icon mappings for category names used by ""tv_grab_eu_epgdata"", as given in sample file in bug 5359.
(This doesn't fix that bug, it just adds icons from the xml file).","I think that it may be better to use only one language for the category names and translate names to the local language using gettext. So, import -> english names -> webui -> international translation.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1225,2018-11-30T02:53:13Z,,2019-10-14T11:31:35Z,OPEN,False,29,0,1,https://github.com/azlm8t,ui: Add German category translations used by tv_grab_eu_epgdata for icons.,2,[],https://github.com/tvheadend/tvheadend/pull/1225,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1225#issuecomment-444789211,"Add icon mappings for category names used by ""tv_grab_eu_epgdata"", as given in sample file in bug 5359.
(This doesn't fix that bug, it just adds icons from the xml file).",In other words - the mapping should be done in the xmltv importer.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1225,2018-11-30T02:53:13Z,,2019-10-14T11:31:35Z,OPEN,False,29,0,1,https://github.com/azlm8t,ui: Add German category translations used by tv_grab_eu_epgdata for icons.,2,[],https://github.com/tvheadend/tvheadend/pull/1225,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1225#issuecomment-446444081,"Add icon mappings for category names used by ""tv_grab_eu_epgdata"", as given in sample file in bug 5359.
(This doesn't fix that bug, it just adds icons from the xml file).","I've been thinking about it, but I have two concerns.
One concern with translating the strings at server-side is that traditionally, ""gettext"" uses English as the input, and we'd be feeding it xmltv category words such as the French word ""Météo"", to get the English word ""Weather"". I'm not sure if the system can handle that or if it will believe that ""Météo"" is the English translation.
We'd probably have to tvh_gettext in the htsp server too because a French xmltv supplying French category of ""Météo"" would internally get translated at xmltv import to the English word ""Weather"", and we then need to re-convert it at the htsp_server back to ""Météo"" or ""Previsiones meteorológicas"", etc. But, as you say, at the web UI we would send the English word ""Weather"" so we could lookup the icon and then translate the word there to the locale.
My other concern is that the potential categories are unbounded/unknown. So, although my SchedulesDirect has a category of ""Comedy drama"", ""Pursuit"" and ""Animal's Perspective""(!), other grabber's probably don't.
So, although I agree I18n would be good, I'm not sure if doing partial-I18n (such as top ten categories we know exist) will lead to endless bug reports asking for one more word to be translated? Looking at my recent xmltv files, I have 3365 unique categories and I can imagine bugs saying that category X isn't translated to language Y on the Kodi frontend.
In the UI we only map a handful of keywords. But I agree it's really not satisfactory having the logic there as-is for making it easy for non-programmers to add translations we can then use in the UI.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1226,2018-11-30T03:50:40Z,2018-11-30T07:41:24Z,2018-11-30T07:41:24Z,MERGED,True,10,0,1,https://github.com/LinkeneitoR,Add ATSC-T With 8VSB Modulation (for Korean User),2,[],https://github.com/tvheadend/tvheadend/pull/1226,https://github.com/LinkeneitoR,1,https://github.com/tvheadend/tvheadend/pull/1226,HDHomerun cannot seek 8VSB Channel with auto modulation when channelmap set cable,HDHomerun cannot seek 8VSB Channel with auto modulation when channelmap set cable,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1227,2018-11-30T10:15:36Z,2018-12-06T15:10:28Z,2018-12-06T15:10:29Z,CLOSED,False,4,2,3,https://github.com/azlm8t,freebsd: Fixup header files for socket definitions. ,2,[],https://github.com/tvheadend/tvheadend/pull/1227,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1227,"Header files needed reordering for typedef ordering, and add missing socket headers to fix compilation on FreeBSD.
Also make thread owner debug conditional on Linux since not supported on FreeBSD/OSX.","Header files needed reordering for typedef ordering, and add missing socket headers to fix compilation on FreeBSD.
Also make thread owner debug conditional on Linux since not supported on FreeBSD/OSX.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1227,2018-11-30T10:15:36Z,2018-12-06T15:10:28Z,2018-12-06T15:10:29Z,CLOSED,False,4,2,3,https://github.com/azlm8t,freebsd: Fixup header files for socket definitions. ,2,[],https://github.com/tvheadend/tvheadend/pull/1227,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1227#issuecomment-444903677,"Header files needed reordering for typedef ordering, and add missing socket headers to fix compilation on FreeBSD.
Also make thread owner debug conditional on Linux since not supported on FreeBSD/OSX.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1228,2018-11-30T23:18:38Z,2018-12-06T15:09:52Z,2019-11-10T10:28:21Z,CLOSED,False,38,58,11,https://github.com/mpmc,wizard: spruce it up a bit,1,[],https://github.com/tvheadend/tvheadend/pull/1228,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1228,"Comments, good or bad welcome.","Comments, good or bad welcome.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1228,2018-11-30T23:18:38Z,2018-12-06T15:09:52Z,2019-11-10T10:28:21Z,CLOSED,False,38,58,11,https://github.com/mpmc,wizard: spruce it up a bit,1,[],https://github.com/tvheadend/tvheadend/pull/1228,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1228#issuecomment-444903447,"Comments, good or bad welcome.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1229,2018-12-03T07:10:41Z,2018-12-05T16:47:01Z,2018-12-05T16:47:02Z,MERGED,True,13,3,2,https://github.com/joeusercz,Prepend title to autorec comment when created from EPG.,1,[],https://github.com/tvheadend/tvheadend/pull/1229,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/1229,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1230,2018-12-05T15:29:05Z,2018-12-05T16:46:23Z,2018-12-05T16:46:23Z,MERGED,True,1,1,1,https://github.com/pablozg,Fix compilation error: 'saveptr' may be used uninitialized in this fu…,1,[],https://github.com/tvheadend/tvheadend/pull/1230,https://github.com/pablozg,1,https://github.com/tvheadend/tvheadend/pull/1230,…nction [-Werror=maybe-uninitialized],…nction [-Werror=maybe-uninitialized],True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1231,2018-12-05T21:39:11Z,2018-12-06T15:09:07Z,2018-12-07T08:54:49Z,CLOSED,False,28,14,5,https://github.com/joeusercz,Maximize use of libdvbcsa's batch processing.,5,[],https://github.com/tvheadend/tvheadend/pull/1231,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/1231,"The batch mode processing of libdvbcsa has a maximum number of packets it can descramble in one pass and according to the documentation:

Arrays with less entries  than the maximum batch size will take
the same time to process as a full batch array.

So, for best performance, the array should be filled with the maximum number of packets. The csa_tbscluster is created with the maximum size, but, since unscrambled packets are also sent through the descrambler, the csa_tsbcluster ends up containing less then the maximum number of scrambled packets. I was seeing as much as 20% of the csa_tsbcluster filled with unscrambled packets for regular channels and as much as 60% unscrambled packets for radio only channels. So, I increased the size of the csa_tsbcluster (3X) and individually track how many even and odd scrambled packets are put in the buffer and only call the flush when either the even or odd count reaches the maximum, or the (enlarged) csa_tsbcluster is full.","The batch mode processing of libdvbcsa has a maximum number of packets it can descramble in one pass and according to the documentation:

Arrays with less entries  than the maximum batch size will take
the same time to process as a full batch array.

So, for best performance, the array should be filled with the maximum number of packets. The csa_tbscluster is created with the maximum size, but, since unscrambled packets are also sent through the descrambler, the csa_tsbcluster ends up containing less then the maximum number of scrambled packets. I was seeing as much as 20% of the csa_tsbcluster filled with unscrambled packets for regular channels and as much as 60% unscrambled packets for radio only channels. So, I increased the size of the csa_tsbcluster (3X) and individually track how many even and odd scrambled packets are put in the buffer and only call the flush when either the even or odd count reaches the maximum, or the (enlarged) csa_tsbcluster is full.",True,{'HEART': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1231,2018-12-05T21:39:11Z,2018-12-06T15:09:07Z,2018-12-07T08:54:49Z,CLOSED,False,28,14,5,https://github.com/joeusercz,Maximize use of libdvbcsa's batch processing.,5,[],https://github.com/tvheadend/tvheadend/pull/1231,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1231#issuecomment-444903162,"The batch mode processing of libdvbcsa has a maximum number of packets it can descramble in one pass and according to the documentation:

Arrays with less entries  than the maximum batch size will take
the same time to process as a full batch array.

So, for best performance, the array should be filled with the maximum number of packets. The csa_tbscluster is created with the maximum size, but, since unscrambled packets are also sent through the descrambler, the csa_tsbcluster ends up containing less then the maximum number of scrambled packets. I was seeing as much as 20% of the csa_tsbcluster filled with unscrambled packets for regular channels and as much as 60% unscrambled packets for radio only channels. So, I increased the size of the csa_tsbcluster (3X) and individually track how many even and odd scrambled packets are put in the buffer and only call the flush when either the even or odd count reaches the maximum, or the (enlarged) csa_tsbcluster is full.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1231,2018-12-05T21:39:11Z,2018-12-06T15:09:07Z,2018-12-07T08:54:49Z,CLOSED,False,28,14,5,https://github.com/joeusercz,Maximize use of libdvbcsa's batch processing.,5,[],https://github.com/tvheadend/tvheadend/pull/1231,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1231#issuecomment-444903293,"The batch mode processing of libdvbcsa has a maximum number of packets it can descramble in one pass and according to the documentation:

Arrays with less entries  than the maximum batch size will take
the same time to process as a full batch array.

So, for best performance, the array should be filled with the maximum number of packets. The csa_tbscluster is created with the maximum size, but, since unscrambled packets are also sent through the descrambler, the csa_tsbcluster ends up containing less then the maximum number of scrambled packets. I was seeing as much as 20% of the csa_tsbcluster filled with unscrambled packets for regular channels and as much as 60% unscrambled packets for radio only channels. So, I increased the size of the csa_tsbcluster (3X) and individually track how many even and odd scrambled packets are put in the buffer and only call the flush when either the even or odd count reaches the maximum, or the (enlarged) csa_tsbcluster is full.",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1231,2018-12-05T21:39:11Z,2018-12-06T15:09:07Z,2018-12-07T08:54:49Z,CLOSED,False,28,14,5,https://github.com/joeusercz,Maximize use of libdvbcsa's batch processing.,5,[],https://github.com/tvheadend/tvheadend/pull/1231,https://github.com/Trujulu,4,https://github.com/tvheadend/tvheadend/pull/1231#issuecomment-445031585,"The batch mode processing of libdvbcsa has a maximum number of packets it can descramble in one pass and according to the documentation:

Arrays with less entries  than the maximum batch size will take
the same time to process as a full batch array.

So, for best performance, the array should be filled with the maximum number of packets. The csa_tbscluster is created with the maximum size, but, since unscrambled packets are also sent through the descrambler, the csa_tsbcluster ends up containing less then the maximum number of scrambled packets. I was seeing as much as 20% of the csa_tsbcluster filled with unscrambled packets for regular channels and as much as 60% unscrambled packets for radio only channels. So, I increased the size of the csa_tsbcluster (3X) and individually track how many even and odd scrambled packets are put in the buffer and only call the flush when either the even or odd count reaches the maximum, or the (enlarged) csa_tsbcluster is full.","Now I am getting flood on log as;
2018-12-06 22:13:16.741 csa: invalid payload offset in packet for service ""********"" (offset=185 pkt[3]=0x32 pkt[4]=0xb4)
But descrambling continues working... I am not using any debug or trace option.
Maybe its better to use tvhtrace instead of tvhwarn?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1231,2018-12-05T21:39:11Z,2018-12-06T15:09:07Z,2018-12-07T08:54:49Z,CLOSED,False,28,14,5,https://github.com/joeusercz,Maximize use of libdvbcsa's batch processing.,5,[],https://github.com/tvheadend/tvheadend/pull/1231,https://github.com/joeusercz,5,https://github.com/tvheadend/tvheadend/pull/1231#issuecomment-445047155,"The batch mode processing of libdvbcsa has a maximum number of packets it can descramble in one pass and according to the documentation:

Arrays with less entries  than the maximum batch size will take
the same time to process as a full batch array.

So, for best performance, the array should be filled with the maximum number of packets. The csa_tbscluster is created with the maximum size, but, since unscrambled packets are also sent through the descrambler, the csa_tsbcluster ends up containing less then the maximum number of scrambled packets. I was seeing as much as 20% of the csa_tsbcluster filled with unscrambled packets for regular channels and as much as 60% unscrambled packets for radio only channels. So, I increased the size of the csa_tsbcluster (3X) and individually track how many even and odd scrambled packets are put in the buffer and only call the flush when either the even or odd count reaches the maximum, or the (enlarged) csa_tsbcluster is full.","loglimit is not working???
I do not know why that restriction is there. I only found that there is a limit of 183 bytes for the adaption layer - which would be 4 + 1 + 183  = 188, so it seems that even a payload of 1 byte would be legal???",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1231,2018-12-05T21:39:11Z,2018-12-06T15:09:07Z,2018-12-07T08:54:49Z,CLOSED,False,28,14,5,https://github.com/joeusercz,Maximize use of libdvbcsa's batch processing.,5,[],https://github.com/tvheadend/tvheadend/pull/1231,https://github.com/Trujulu,6,https://github.com/tvheadend/tvheadend/pull/1231#issuecomment-445049271,"The batch mode processing of libdvbcsa has a maximum number of packets it can descramble in one pass and according to the documentation:

Arrays with less entries  than the maximum batch size will take
the same time to process as a full batch array.

So, for best performance, the array should be filled with the maximum number of packets. The csa_tbscluster is created with the maximum size, but, since unscrambled packets are also sent through the descrambler, the csa_tsbcluster ends up containing less then the maximum number of scrambled packets. I was seeing as much as 20% of the csa_tsbcluster filled with unscrambled packets for regular channels and as much as 60% unscrambled packets for radio only channels. So, I increased the size of the csa_tsbcluster (3X) and individually track how many even and odd scrambled packets are put in the buffer and only call the flush when either the even or odd count reaches the maximum, or the (enlarged) csa_tsbcluster is full.","@joeusercz I dont know... But when using multiple channels that is anoying:
2018-12-06` 23:12:32.886 csa: invalid payload offset in packet for service """" (offset=185 pkt[3]=0x3f pkt[4]=0xb4)
2018-12-06 23:12:33.384 csa: invalid payload offset in packet for service """" (offset=185 pkt[3]=0x3e pkt[4]=0xb4)
2018-12-06 23:12:35.027 csa: invalid payload offset in packet for service """" (offset=188 pkt[3]=0x24 pkt[4]=0xb7)
2018-12-06 23:12:35.615 csa: invalid payload offset in packet for service """" (offset=188 pkt[3]=0x22 pkt[4]=0xb7)
2018-12-06 23:12:35.764 csa: invalid payload offset in packet for service """" (offset=181 pkt[3]=0x32 pkt[4]=0xb0)
2018-12-06 23:12:37.032 csa: invalid payload offset in packet for service """" (offset=181 pkt[3]=0x3c pkt[4]=0xb0)
2018-12-06 23:12:37.396 csa: invalid payload offset in packet for service """" (offset=185 pkt[3]=0x37 pkt[4]=0xb4)
2018-12-06 23:12:38.451 csa: invalid payload offset in packet for service """" (offset=185 pkt[3]=0x33 pkt[4]=0xb4)
2018-12-06 23:12:40.040 csa: invalid payload offset in packet for service """" (offset=181 pkt[3]=0x3c pkt[4]=0xb0)
2018-12-06 23:12:40.199 csa: invalid payload offset in packet for service """" (offset=185 pkt[3]=0x32 pkt[4]=0xb4)
2018-12-06 23:12:43.811 csa: invalid payload offset in packet for service """" (offset=181 pkt[3]=0x39 pkt[4]=0xb0)
2018-12-06 23:12:44.050 csa: invalid payload offset in packet for service """" (offset=181 pkt[3]=0x34 pkt[4]=0xb0)
2018-12-06 23:12:44.231 csa: invalid payload offset in packet for service """" (offset=181 pkt[3]=0x32 pkt[4]=0xb0)
2018-12-06 23:12:44.789 csa: invalid payload offset in packet for service """" (offset=181 pkt[3]=0x3d pkt[4]=0xb0)
2018-12-06 23:12:45.057 csa: invalid payload offset in packet for service """" (offset=188 pkt[3]=0x2e pkt[4]=0xb7)
2018-12-06 23:12:45.632 csa: invalid payload offset in packet for service """" (offset=188 pkt[3]=0x21 pkt[4]=0xb7)
2018-12-06 23:12:45.663 csa: invalid payload offset in packet for service """" (offset=185 pkt[3]=0x34 pkt[4]=0xb4)
2018-12-06 23:12:47.185 csa: invalid payload offset in packet for service """" (offset=184 pkt[3]=0x33 pkt[4]=0xb3)
2018-12-06 23:12:48.648 csa: invalid payload offset in packet for service """" (offset=185 pkt[3]=0x34 pkt[4]=0xb4)
2018-12-06 23:12:48.933 csa: invalid payload offset in packet for service """" (offset=185 pkt[3]=0x33 pkt[4]=0xb4)
2018-12-06 23:12:51.438 csa: invalid payload offset in packet for service """" (offset=185 pkt[3]=0x3f pkt[4]=0xb4)
2018-12-06 23:12:51.967 csa: invalid payload offset in packet for service """" (offset=181 pkt[3]=0x30 pkt[4]=0xb0)
Look timestamps",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1231,2018-12-05T21:39:11Z,2018-12-06T15:09:07Z,2018-12-07T08:54:49Z,CLOSED,False,28,14,5,https://github.com/joeusercz,Maximize use of libdvbcsa's batch processing.,5,[],https://github.com/tvheadend/tvheadend/pull/1231,https://github.com/Trujulu,7,https://github.com/tvheadend/tvheadend/pull/1231#issuecomment-445050156,"The batch mode processing of libdvbcsa has a maximum number of packets it can descramble in one pass and according to the documentation:

Arrays with less entries  than the maximum batch size will take
the same time to process as a full batch array.

So, for best performance, the array should be filled with the maximum number of packets. The csa_tbscluster is created with the maximum size, but, since unscrambled packets are also sent through the descrambler, the csa_tsbcluster ends up containing less then the maximum number of scrambled packets. I was seeing as much as 20% of the csa_tsbcluster filled with unscrambled packets for regular channels and as much as 60% unscrambled packets for radio only channels. So, I increased the size of the csa_tsbcluster (3X) and individually track how many even and odd scrambled packets are put in the buffer and only call the flush when either the even or odd count reaches the maximum, or the (enlarged) csa_tsbcluster is full.",About 2-3 messages per second,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1231,2018-12-05T21:39:11Z,2018-12-06T15:09:07Z,2018-12-07T08:54:49Z,CLOSED,False,28,14,5,https://github.com/joeusercz,Maximize use of libdvbcsa's batch processing.,5,[],https://github.com/tvheadend/tvheadend/pull/1231,https://github.com/joeusercz,8,https://github.com/tvheadend/tvheadend/pull/1231#issuecomment-445053569,"The batch mode processing of libdvbcsa has a maximum number of packets it can descramble in one pass and according to the documentation:

Arrays with less entries  than the maximum batch size will take
the same time to process as a full batch array.

So, for best performance, the array should be filled with the maximum number of packets. The csa_tbscluster is created with the maximum size, but, since unscrambled packets are also sent through the descrambler, the csa_tsbcluster ends up containing less then the maximum number of scrambled packets. I was seeing as much as 20% of the csa_tsbcluster filled with unscrambled packets for regular channels and as much as 60% unscrambled packets for radio only channels. So, I increased the size of the csa_tsbcluster (3X) and individually track how many even and odd scrambled packets are put in the buffer and only call the flush when either the even or odd count reaches the maximum, or the (enlarged) csa_tsbcluster is full.","Yes, the limit would be per channel.
offsets of 188 should certainly be skipped because pkt[3] shows it has adaption field only (no payload)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1231,2018-12-05T21:39:11Z,2018-12-06T15:09:07Z,2018-12-07T08:54:49Z,CLOSED,False,28,14,5,https://github.com/joeusercz,Maximize use of libdvbcsa's batch processing.,5,[],https://github.com/tvheadend/tvheadend/pull/1231,https://github.com/joeusercz,9,https://github.com/tvheadend/tvheadend/pull/1231#issuecomment-445065180,"The batch mode processing of libdvbcsa has a maximum number of packets it can descramble in one pass and according to the documentation:

Arrays with less entries  than the maximum batch size will take
the same time to process as a full batch array.

So, for best performance, the array should be filled with the maximum number of packets. The csa_tbscluster is created with the maximum size, but, since unscrambled packets are also sent through the descrambler, the csa_tsbcluster ends up containing less then the maximum number of scrambled packets. I was seeing as much as 20% of the csa_tsbcluster filled with unscrambled packets for regular channels and as much as 60% unscrambled packets for radio only channels. So, I increased the size of the csa_tsbcluster (3X) and individually track how many even and odd scrambled packets are put in the buffer and only call the flush when either the even or odd count reaches the maximum, or the (enlarged) csa_tsbcluster is full.","You can try this patch:
https://github.com/joeusercz/tvheadend/commit/0d19dc0e6065c930742b050db3513683037ab66c",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1231,2018-12-05T21:39:11Z,2018-12-06T15:09:07Z,2018-12-07T08:54:49Z,CLOSED,False,28,14,5,https://github.com/joeusercz,Maximize use of libdvbcsa's batch processing.,5,[],https://github.com/tvheadend/tvheadend/pull/1231,https://github.com/Trujulu,10,https://github.com/tvheadend/tvheadend/pull/1231#issuecomment-445075937,"The batch mode processing of libdvbcsa has a maximum number of packets it can descramble in one pass and according to the documentation:

Arrays with less entries  than the maximum batch size will take
the same time to process as a full batch array.

So, for best performance, the array should be filled with the maximum number of packets. The csa_tbscluster is created with the maximum size, but, since unscrambled packets are also sent through the descrambler, the csa_tsbcluster ends up containing less then the maximum number of scrambled packets. I was seeing as much as 20% of the csa_tsbcluster filled with unscrambled packets for regular channels and as much as 60% unscrambled packets for radio only channels. So, I increased the size of the csa_tsbcluster (3X) and individually track how many even and odd scrambled packets are put in the buffer and only call the flush when either the even or odd count reaches the maximum, or the (enlarged) csa_tsbcluster is full.","You can try this patch:
https://github.com/joeusercz/tvheadend/commit/0d19dc0e6065c930742b050db3513683037ab66c

Tried following and is not showing erros anymore (didnt apply tvhtrace to test):
https://pastebin.com/NeGupeiP
Good patch @joeusercz.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1232,2018-12-06T08:42:38Z,2018-12-06T10:25:55Z,2018-12-06T18:10:45Z,CLOSED,False,30,14,7,https://github.com/joeusercz, Reduce DESCRAMBLER_MAX_KEYS from 64 to 8.,2,[],https://github.com/tvheadend/tvheadend/pull/1232,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/1232,"from oscam-emu:
#define PVU_CW_VID      0       // VIDeo
#define PVU_CW_HSD      1       // High Speed Data
#define PVU_CW_A1       2       // Audio 1
#define PVU_CW_A2       3       // Audio 2
#define PVU_CW_A3       4       // Audio 3
#define PVU_CW_A4       5       // Audio 4
#define PVU_CW_UTL      6       // UTiLity
#define PVU_CW_VBI      7       // Vertical Blanking Interval

So a max of 8 is plenty. (I have never seen more than 5 used.)
I generally don't care about oversized arrays, but each descrambler using multipid calls tvhcsa_init for each ""possible"" pid/key.
    for (i = 0; i < DESCRAMBLER_MAX_KEYS; i++) {
      tk = &dr->dr_keys[i];
      tk->key_index = 0xff;
      tk->key_interval = tk->key_initial_interval = ms2mono(interval);
      tvhcsa_init(&tk->key_csa);
      if (!multipid) break;
    }","from oscam-emu:
#define PVU_CW_VID      0       // VIDeo
#define PVU_CW_HSD      1       // High Speed Data
#define PVU_CW_A1       2       // Audio 1
#define PVU_CW_A2       3       // Audio 2
#define PVU_CW_A3       4       // Audio 3
#define PVU_CW_A4       5       // Audio 4
#define PVU_CW_UTL      6       // UTiLity
#define PVU_CW_VBI      7       // Vertical Blanking Interval

So a max of 8 is plenty. (I have never seen more than 5 used.)
I generally don't care about oversized arrays, but each descrambler using multipid calls tvhcsa_init for each ""possible"" pid/key.
    for (i = 0; i < DESCRAMBLER_MAX_KEYS; i++) {
      tk = &dr->dr_keys[i];
      tk->key_index = 0xff;
      tk->key_interval = tk->key_initial_interval = ms2mono(interval);
      tvhcsa_init(&tk->key_csa);
      if (!multipid) break;
    }",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1232,2018-12-06T08:42:38Z,2018-12-06T10:25:55Z,2018-12-06T18:10:45Z,CLOSED,False,30,14,7,https://github.com/joeusercz, Reduce DESCRAMBLER_MAX_KEYS from 64 to 8.,2,[],https://github.com/tvheadend/tvheadend/pull/1232,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1232#issuecomment-444817661,"from oscam-emu:
#define PVU_CW_VID      0       // VIDeo
#define PVU_CW_HSD      1       // High Speed Data
#define PVU_CW_A1       2       // Audio 1
#define PVU_CW_A2       3       // Audio 2
#define PVU_CW_A3       4       // Audio 3
#define PVU_CW_A4       5       // Audio 4
#define PVU_CW_UTL      6       // UTiLity
#define PVU_CW_VBI      7       // Vertical Blanking Interval

So a max of 8 is plenty. (I have never seen more than 5 used.)
I generally don't care about oversized arrays, but each descrambler using multipid calls tvhcsa_init for each ""possible"" pid/key.
    for (i = 0; i < DESCRAMBLER_MAX_KEYS; i++) {
      tk = &dr->dr_keys[i];
      tk->key_index = 0xff;
      tk->key_interval = tk->key_initial_interval = ms2mono(interval);
      tvhcsa_init(&tk->key_csa);
      if (!multipid) break;
    }","Beware, you have commits mixed.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1232,2018-12-06T08:42:38Z,2018-12-06T10:25:55Z,2018-12-06T18:10:45Z,CLOSED,False,30,14,7,https://github.com/joeusercz, Reduce DESCRAMBLER_MAX_KEYS from 64 to 8.,2,[],https://github.com/tvheadend/tvheadend/pull/1232,https://github.com/joeusercz,3,https://github.com/tvheadend/tvheadend/pull/1232#issuecomment-444823945,"from oscam-emu:
#define PVU_CW_VID      0       // VIDeo
#define PVU_CW_HSD      1       // High Speed Data
#define PVU_CW_A1       2       // Audio 1
#define PVU_CW_A2       3       // Audio 2
#define PVU_CW_A3       4       // Audio 3
#define PVU_CW_A4       5       // Audio 4
#define PVU_CW_UTL      6       // UTiLity
#define PVU_CW_VBI      7       // Vertical Blanking Interval

So a max of 8 is plenty. (I have never seen more than 5 used.)
I generally don't care about oversized arrays, but each descrambler using multipid calls tvhcsa_init for each ""possible"" pid/key.
    for (i = 0; i < DESCRAMBLER_MAX_KEYS; i++) {
      tk = &dr->dr_keys[i];
      tk->key_index = 0xff;
      tk->key_interval = tk->key_initial_interval = ms2mono(interval);
      tvhcsa_init(&tk->key_csa);
      if (!multipid) break;
    }","Beware, you have commits mixed.

Yes, sorry, still not used to git.
I will close.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1233,2018-12-06T21:46:12Z,2018-12-06T21:53:23Z,2018-12-06T22:18:01Z,CLOSED,False,2,3,1,https://github.com/Trujulu,Nothing,1,[],https://github.com/tvheadend/tvheadend/pull/1233,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1233,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1234,2018-12-06T23:36:20Z,2018-12-09T16:00:00Z,2018-12-09T16:00:01Z,CLOSED,False,5,3,1,https://github.com/joeusercz,Don't warn on packets with small/no payload.,1,[],https://github.com/tvheadend/tvheadend/pull/1234,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/1234,,,True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1234,2018-12-06T23:36:20Z,2018-12-09T16:00:00Z,2018-12-09T16:00:01Z,CLOSED,False,5,3,1,https://github.com/joeusercz,Don't warn on packets with small/no payload.,1,[],https://github.com/tvheadend/tvheadend/pull/1234,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1234#issuecomment-445077378,,"This PR fixes my payload problems;
For more info look: #1231 (comment)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1234,2018-12-06T23:36:20Z,2018-12-09T16:00:00Z,2018-12-09T16:00:01Z,CLOSED,False,5,3,1,https://github.com/joeusercz,Don't warn on packets with small/no payload.,1,[],https://github.com/tvheadend/tvheadend/pull/1234,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1234#issuecomment-445549105,,Merged with minor updates: f7d4b7c .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1235,2018-12-09T11:20:25Z,2018-12-09T15:52:28Z,2018-12-09T15:52:28Z,MERGED,True,2,0,1,https://github.com/ljalves,htsp_server: init htsp_out_mutex,1,[],https://github.com/tvheadend/tvheadend/pull/1235,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/1235,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1236,2018-12-09T16:50:17Z,2019-01-02T14:53:40Z,2019-01-02T14:53:40Z,MERGED,True,34,8,5,https://github.com/azlm8t,"ui: make related showings use api_epg_grid if no series link, fixes #5402",2,[],https://github.com/tvheadend/tvheadend/pull/1236,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1236,"Some broadcasts do not have series link, so the related showings dialog returned an empty list.
Now, if we have no series link then we do a query to find entries that match by title and return that list as related showings.
Also make epg/dvr info dialogs slightly larger to mitigate problems where translated strings were pushing the related showings buttons off the screen.
Fixes: #5402","Some broadcasts do not have series link, so the related showings dialog returned an empty list.
Now, if we have no series link then we do a query to find entries that match by title and return that list as related showings.
Also make epg/dvr info dialogs slightly larger to mitigate problems where translated strings were pushing the related showings buttons off the screen.
Fixes: #5402",True,{'HEART': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1237,2018-12-09T17:32:19Z,2018-12-10T20:06:23Z,2018-12-10T20:06:23Z,MERGED,True,4,2,2,https://github.com/azlm8t,"ui: Enable scrollbar for dialog info, fixes #5405",2,[],https://github.com/tvheadend/tvheadend/pull/1237,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1237,"When the dvr info dialog has a lot of text it was overflowing on to the buttons in the bbar.
By changing the css, the text now generates a scrollbar so no longer overflows in to the bbar. The image does still overflow, but its opacity makes it less of an issue.
Image below shows the scrollbar on the right when the window was resized to make the text flow.","When the dvr info dialog has a lot of text it was overflowing on to the buttons in the bbar.
By changing the css, the text now generates a scrollbar so no longer overflows in to the bbar. The image does still overflow, but its opacity makes it less of an issue.
Image below shows the scrollbar on the right when the window was resized to make the text flow.",True,{'HEART': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1237,2018-12-09T17:32:19Z,2018-12-10T20:06:23Z,2018-12-10T20:06:23Z,MERGED,True,4,2,2,https://github.com/azlm8t,"ui: Enable scrollbar for dialog info, fixes #5405",2,[],https://github.com/tvheadend/tvheadend/pull/1237,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1237#issuecomment-445578927,"When the dvr info dialog has a lot of text it was overflowing on to the buttons in the bbar.
By changing the css, the text now generates a scrollbar so no longer overflows in to the bbar. The image does still overflow, but its opacity makes it less of an issue.
Image below shows the scrollbar on the right when the window was resized to make the text flow.","In the forum, the above patch causes a problem where the combo box can be used but the buttons are not clickable, so needs more investigation.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1237,2018-12-09T17:32:19Z,2018-12-10T20:06:23Z,2018-12-10T20:06:23Z,MERGED,True,4,2,2,https://github.com/azlm8t,"ui: Enable scrollbar for dialog info, fixes #5405",2,[],https://github.com/tvheadend/tvheadend/pull/1237,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1237#issuecomment-445949997,"When the dvr info dialog has a lot of text it was overflowing on to the buttons in the bbar.
By changing the css, the text now generates a scrollbar so no longer overflows in to the bbar. The image does still overflow, but its opacity makes it less of an issue.
Image below shows the scrollbar on the right when the window was resized to make the text flow.",It is now confirmed in the bug report that the above fix works.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1238,2018-12-15T13:47:17Z,2018-12-19T14:29:13Z,2018-12-19T15:49:17Z,CLOSED,False,98,0,3,https://github.com/olivluca,added linudvb_rotor_external to control an actuator by spawning...,1,[],https://github.com/tvheadend/tvheadend/pull/1238,https://github.com/olivluca,1,https://github.com/tvheadend/tvheadend/pull/1238,"...an external command.
I have an old style actuator jack that I''m controlling with a parallel port, a couple of relays and an ad-hoc device driver, I'm planning to eventually control it with an arduino
(see https://linuxtv.org/vdrwiki/index.php/Actuator-plugin and https://tvheadend.org/boards/5/topics/35438)
This patch adds a new kind of rotor that spawns an external command to move the dish.
In turn the command will talk to the device (or the arduino) and will print on stdout an estimated time to move the dish. The command is used both in linuxdvb_rotor_tune and linux_dvb and linuxdvb_rotor_grace (the latter because the device knows where it is and it can give a better estimate than simply calculating the time the usual way).
A better option (instead of the grace time) would be to have a method to check if the dish is positioned, but I couldn't find where to add it in the tvheadend's tuning logic.
Another thing I miss is some kind of notification in the user interface (specifically the htsp client for kodi)  that the dish is moving, but that's another issue.","...an external command.
I have an old style actuator jack that I''m controlling with a parallel port, a couple of relays and an ad-hoc device driver, I'm planning to eventually control it with an arduino
(see https://linuxtv.org/vdrwiki/index.php/Actuator-plugin and https://tvheadend.org/boards/5/topics/35438)
This patch adds a new kind of rotor that spawns an external command to move the dish.
In turn the command will talk to the device (or the arduino) and will print on stdout an estimated time to move the dish. The command is used both in linuxdvb_rotor_tune and linux_dvb and linuxdvb_rotor_grace (the latter because the device knows where it is and it can give a better estimate than simply calculating the time the usual way).
A better option (instead of the grace time) would be to have a method to check if the dish is positioned, but I couldn't find where to add it in the tvheadend's tuning logic.
Another thing I miss is some kind of notification in the user interface (specifically the htsp client for kodi)  that the dish is moving, but that's another issue.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1238,2018-12-15T13:47:17Z,2018-12-19T14:29:13Z,2018-12-19T15:49:17Z,CLOSED,False,98,0,3,https://github.com/olivluca,added linudvb_rotor_external to control an actuator by spawning...,1,[],https://github.com/tvheadend/tvheadend/pull/1238,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1238#issuecomment-447656679,"...an external command.
I have an old style actuator jack that I''m controlling with a parallel port, a couple of relays and an ad-hoc device driver, I'm planning to eventually control it with an arduino
(see https://linuxtv.org/vdrwiki/index.php/Actuator-plugin and https://tvheadend.org/boards/5/topics/35438)
This patch adds a new kind of rotor that spawns an external command to move the dish.
In turn the command will talk to the device (or the arduino) and will print on stdout an estimated time to move the dish. The command is used both in linuxdvb_rotor_tune and linux_dvb and linuxdvb_rotor_grace (the latter because the device knows where it is and it can give a better estimate than simply calculating the time the usual way).
A better option (instead of the grace time) would be to have a method to check if the dish is positioned, but I couldn't find where to add it in the tvheadend's tuning logic.
Another thing I miss is some kind of notification in the user interface (specifically the htsp client for kodi)  that the dish is moving, but that's another issue.","I'm afraid, the current diseqc setup runs in the global_lock, so the running of an external command which might not return quickly is really bad idea.
Actually, the diseqc setup requires a redesign: https://tvheadend.org/issues/5414",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1238,2018-12-15T13:47:17Z,2018-12-19T14:29:13Z,2018-12-19T15:49:17Z,CLOSED,False,98,0,3,https://github.com/olivluca,added linudvb_rotor_external to control an actuator by spawning...,1,[],https://github.com/tvheadend/tvheadend/pull/1238,https://github.com/olivluca,3,https://github.com/tvheadend/tvheadend/pull/1238#issuecomment-447676148,"...an external command.
I have an old style actuator jack that I''m controlling with a parallel port, a couple of relays and an ad-hoc device driver, I'm planning to eventually control it with an arduino
(see https://linuxtv.org/vdrwiki/index.php/Actuator-plugin and https://tvheadend.org/boards/5/topics/35438)
This patch adds a new kind of rotor that spawns an external command to move the dish.
In turn the command will talk to the device (or the arduino) and will print on stdout an estimated time to move the dish. The command is used both in linuxdvb_rotor_tune and linux_dvb and linuxdvb_rotor_grace (the latter because the device knows where it is and it can give a better estimate than simply calculating the time the usual way).
A better option (instead of the grace time) would be to have a method to check if the dish is positioned, but I couldn't find where to add it in the tvheadend's tuning logic.
Another thing I miss is some kind of notification in the user interface (specifically the htsp client for kodi)  that the dish is moving, but that's another issue.","I'm afraid, the current diseqc setup runs in the global_lock, so the running of an external command which might not return quickly is really bad idea.

The command is supposed to return quickly (and it does in my case): just send the positioning order and give back the estimated time.
Edit in fact I tested it in a really slow and really old system (AMD Duron 1200Mhz) with no problem whatsoever.
What I asked in the forum is a different issue.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1238,2018-12-15T13:47:17Z,2018-12-19T14:29:13Z,2018-12-19T15:49:17Z,CLOSED,False,98,0,3,https://github.com/olivluca,added linudvb_rotor_external to control an actuator by spawning...,1,[],https://github.com/tvheadend/tvheadend/pull/1238,https://github.com/olivluca,4,https://github.com/tvheadend/tvheadend/pull/1238#issuecomment-447676990,"...an external command.
I have an old style actuator jack that I''m controlling with a parallel port, a couple of relays and an ad-hoc device driver, I'm planning to eventually control it with an arduino
(see https://linuxtv.org/vdrwiki/index.php/Actuator-plugin and https://tvheadend.org/boards/5/topics/35438)
This patch adds a new kind of rotor that spawns an external command to move the dish.
In turn the command will talk to the device (or the arduino) and will print on stdout an estimated time to move the dish. The command is used both in linuxdvb_rotor_tune and linux_dvb and linuxdvb_rotor_grace (the latter because the device knows where it is and it can give a better estimate than simply calculating the time the usual way).
A better option (instead of the grace time) would be to have a method to check if the dish is positioned, but I couldn't find where to add it in the tvheadend's tuning logic.
Another thing I miss is some kind of notification in the user interface (specifically the htsp client for kodi)  that the dish is moving, but that's another issue.","Actually, the diseqc setup requires a redesign: https://tvheadend.org/issues/5414

Unrelated. I don't understand fully the code, but if you do redesign it please take into account the fact that there are some actuators (i.e. mine) that actually know where they are and that there should be something in the loop to check that the position has been reached. No need for grace time, wait time at boot and other workarounds.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1238,2018-12-15T13:47:17Z,2018-12-19T14:29:13Z,2018-12-19T15:49:17Z,CLOSED,False,98,0,3,https://github.com/olivluca,added linudvb_rotor_external to control an actuator by spawning...,1,[],https://github.com/tvheadend/tvheadend/pull/1238,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/1238#issuecomment-448614883,"...an external command.
I have an old style actuator jack that I''m controlling with a parallel port, a couple of relays and an ad-hoc device driver, I'm planning to eventually control it with an arduino
(see https://linuxtv.org/vdrwiki/index.php/Actuator-plugin and https://tvheadend.org/boards/5/topics/35438)
This patch adds a new kind of rotor that spawns an external command to move the dish.
In turn the command will talk to the device (or the arduino) and will print on stdout an estimated time to move the dish. The command is used both in linuxdvb_rotor_tune and linux_dvb and linuxdvb_rotor_grace (the latter because the device knows where it is and it can give a better estimate than simply calculating the time the usual way).
A better option (instead of the grace time) would be to have a method to check if the dish is positioned, but I couldn't find where to add it in the tvheadend's tuning logic.
Another thing I miss is some kind of notification in the user interface (specifically the htsp client for kodi)  that the dish is moving, but that's another issue.",Merged with cleanups dd37467 to not forget this for the diseqc rewrite. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1238,2018-12-15T13:47:17Z,2018-12-19T14:29:13Z,2018-12-19T15:49:17Z,CLOSED,False,98,0,3,https://github.com/olivluca,added linudvb_rotor_external to control an actuator by spawning...,1,[],https://github.com/tvheadend/tvheadend/pull/1238,https://github.com/olivluca,6,https://github.com/tvheadend/tvheadend/pull/1238#issuecomment-448641310,"...an external command.
I have an old style actuator jack that I''m controlling with a parallel port, a couple of relays and an ad-hoc device driver, I'm planning to eventually control it with an arduino
(see https://linuxtv.org/vdrwiki/index.php/Actuator-plugin and https://tvheadend.org/boards/5/topics/35438)
This patch adds a new kind of rotor that spawns an external command to move the dish.
In turn the command will talk to the device (or the arduino) and will print on stdout an estimated time to move the dish. The command is used both in linuxdvb_rotor_tune and linux_dvb and linuxdvb_rotor_grace (the latter because the device knows where it is and it can give a better estimate than simply calculating the time the usual way).
A better option (instead of the grace time) would be to have a method to check if the dish is positioned, but I couldn't find where to add it in the tvheadend's tuning logic.
Another thing I miss is some kind of notification in the user interface (specifically the htsp client for kodi)  that the dish is moving, but that's another issue.",Thank you,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1239,2018-12-17T18:42:07Z,2018-12-19T14:10:59Z,2018-12-19T14:10:59Z,CLOSED,False,58,1,3,https://github.com/oopscentral,"webui, htsbuf: Content-Disposition escape chars are not correct.",1,[],https://github.com/tvheadend/tvheadend/pull/1239,https://github.com/oopscentral,1,https://github.com/tvheadend/tvheadend/pull/1239,"When attempting to download a recording with a comma Google Chrome will
fail with ERR_RESPONSE_HEADERS_MULTIPLE_CONTENT_DISPOSITION. This is
because the comma ',' in the filename*=UTF-8'' field was not escaped.
This commit implements the defined list of non-escape characters from
RFC8187 based on htsbuf_append_and_escape_url.
The same problem occurs in issue #2086. Fixed in 2fdfe48 ""webui: fix the
attachment; filename encoding, fixes #2086"" and broken again in ab9fc24
""fix htsbuf_append_and_escape_url() - don't escape more allowed characters,
fixes #3721"".
Only tested in release/4.2.
https://bugs.chromium.org/p/chromium/issues/detail?id=454165","When attempting to download a recording with a comma Google Chrome will
fail with ERR_RESPONSE_HEADERS_MULTIPLE_CONTENT_DISPOSITION. This is
because the comma ',' in the filename*=UTF-8'' field was not escaped.
This commit implements the defined list of non-escape characters from
RFC8187 based on htsbuf_append_and_escape_url.
The same problem occurs in issue #2086. Fixed in 2fdfe48 ""webui: fix the
attachment; filename encoding, fixes #2086"" and broken again in ab9fc24
""fix htsbuf_append_and_escape_url() - don't escape more allowed characters,
fixes #3721"".
Only tested in release/4.2.
https://bugs.chromium.org/p/chromium/issues/detail?id=454165",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1239,2018-12-17T18:42:07Z,2018-12-19T14:10:59Z,2018-12-19T14:10:59Z,CLOSED,False,58,1,3,https://github.com/oopscentral,"webui, htsbuf: Content-Disposition escape chars are not correct.",1,[],https://github.com/tvheadend/tvheadend/pull/1239,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1239#issuecomment-448609050,"When attempting to download a recording with a comma Google Chrome will
fail with ERR_RESPONSE_HEADERS_MULTIPLE_CONTENT_DISPOSITION. This is
because the comma ',' in the filename*=UTF-8'' field was not escaped.
This commit implements the defined list of non-escape characters from
RFC8187 based on htsbuf_append_and_escape_url.
The same problem occurs in issue #2086. Fixed in 2fdfe48 ""webui: fix the
attachment; filename encoding, fixes #2086"" and broken again in ab9fc24
""fix htsbuf_append_and_escape_url() - don't escape more allowed characters,
fixes #3721"".
Only tested in release/4.2.
https://bugs.chromium.org/p/chromium/issues/detail?id=454165",Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1240,2018-12-18T14:58:16Z,2018-12-19T14:08:57Z,2018-12-19T14:08:57Z,CLOSED,False,31,7,4,https://github.com/mpmc,"webui: add ""drop all connections"", fixes #4937 (original request only)",1,[],https://github.com/tvheadend/tvheadend/pull/1240,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1240,,,True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1240,2018-12-18T14:58:16Z,2018-12-19T14:08:57Z,2018-12-19T14:08:57Z,CLOSED,False,31,7,4,https://github.com/mpmc,"webui: add ""drop all connections"", fixes #4937 (original request only)",1,[],https://github.com/tvheadend/tvheadend/pull/1240,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1240#issuecomment-448483535,,"I've tested it right now, it works properly :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1240,2018-12-18T14:58:16Z,2018-12-19T14:08:57Z,2018-12-19T14:08:57Z,CLOSED,False,31,7,4,https://github.com/mpmc,"webui: add ""drop all connections"", fixes #4937 (original request only)",1,[],https://github.com/tvheadend/tvheadend/pull/1240,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1240#issuecomment-448608499,,Merged. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1241,2018-12-23T18:22:17Z,2019-01-02T14:53:22Z,2019-01-02T14:53:22Z,MERGED,True,2,2,1,https://github.com/joeusercz,Fix mpegts packet length in descrambler_data_key_check,1,[],https://github.com/tvheadend/tvheadend/pull/1241,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/1241,"mpegts packet size is 188, not 128.","mpegts packet size is 188, not 128.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1242,2018-12-24T15:14:58Z,2019-01-02T14:53:11Z,2019-01-02T14:53:11Z,MERGED,True,6,5,4,https://github.com/Trujulu,extjs: HTML and CSS fixes,3,[],https://github.com/tvheadend/tvheadend/pull/1242,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1242,w3c checked.,w3c checked.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1243,2018-12-26T05:47:42Z,2018-12-26T16:58:40Z,2018-12-26T16:58:40Z,MERGED,True,2,0,1,https://github.com/antonblanchard,hdhomerun: auto detect DVB_T devices,1,[],https://github.com/tvheadend/tvheadend/pull/1243,https://github.com/antonblanchard,1,https://github.com/tvheadend/tvheadend/pull/1243,I have a DVB-T hdhomerun which reports itself as model hdhomerun5_dvbt. When installing with the wizard it incorrectly assumes it is DVB-C. This fixes it.,I have a DVB-T hdhomerun which reports itself as model hdhomerun5_dvbt. When installing with the wizard it incorrectly assumes it is DVB-C. This fixes it.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1244,2019-01-02T04:07:45Z,2019-01-02T14:51:50Z,2019-01-02T15:55:21Z,MERGED,True,1,1,1,https://github.com/neheb,main: Replace deprecated ERR_remove_state,1,[],https://github.com/tvheadend/tvheadend/pull/1244,https://github.com/neheb,1,https://github.com/tvheadend/tvheadend/pull/1244,"ERR_remove_thread_state has been the successor since version 1.0.0.
Fixes compilation without deprecated APIs on 1.0.0 and above.","ERR_remove_thread_state has been the successor since version 1.0.0.
Fixes compilation without deprecated APIs on 1.0.0 and above.",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1245,2019-01-02T22:46:34Z,2019-01-05T17:18:47Z,2019-01-05T17:18:47Z,CLOSED,False,2,8,4,https://github.com/Trujulu,CSS: More fixes,3,[],https://github.com/tvheadend/tvheadend/pull/1245,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1245,2234 	.x-grid3-header-title 	Value Error : padding auto is not a padding value : auto 1px,2234 	.x-grid3-header-title 	Value Error : padding auto is not a padding value : auto 1px,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1245,2019-01-02T22:46:34Z,2019-01-05T17:18:47Z,2019-01-05T17:18:47Z,CLOSED,False,2,8,4,https://github.com/Trujulu,CSS: More fixes,3,[],https://github.com/tvheadend/tvheadend/pull/1245,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1245#issuecomment-451648726,2234 	.x-grid3-header-title 	Value Error : padding auto is not a padding value : auto 1px,"Before:


After:",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1246,2019-01-05T14:44:53Z,2019-02-04T09:54:52Z,2020-06-08T22:16:40Z,MERGED,True,1,1,1,https://github.com/ProfYaffle,WebUI: Update copyright year,1,[],https://github.com/tvheadend/tvheadend/pull/1246,https://github.com/ProfYaffle,1,https://github.com/tvheadend/tvheadend/pull/1246,... as it's that time of year again.,... as it's that time of year again.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1247,2019-01-05T17:25:40Z,2019-02-04T09:57:18Z,2019-02-04T09:57:18Z,CLOSED,False,2,8,4,https://github.com/Trujulu,CSS: Access fixes,2,[],https://github.com/tvheadend/tvheadend/pull/1247,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1247,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1247,2019-01-05T17:25:40Z,2019-02-04T09:57:18Z,2019-02-04T09:57:18Z,CLOSED,False,2,8,4,https://github.com/Trujulu,CSS: Access fixes,2,[],https://github.com/tvheadend/tvheadend/pull/1247,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1247#issuecomment-451673906,,"Before:


After:",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1247,2019-01-05T17:25:40Z,2019-02-04T09:57:18Z,2019-02-04T09:57:18Z,CLOSED,False,2,8,4,https://github.com/Trujulu,CSS: Access fixes,2,[],https://github.com/tvheadend/tvheadend/pull/1247,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1247#issuecomment-460188994,,3fcb084,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1248,2019-01-05T20:53:34Z,2019-01-10T16:59:07Z,2019-01-10T16:59:12Z,CLOSED,False,44,45,3,https://github.com/Trujulu,HTML5: Many UI adaptations,1,[],https://github.com/tvheadend/tvheadend/pull/1248,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1248,"The cellspacing attribute on the table element is obsolete. Use CSS instead.
The cellpadding attribute on the table element is obsolete. Use CSS instead.
The border attribute on the table element is obsolete. Use CSS instead.
The align attribute on the td element is obsolete. Use CSS instead.
Attribute unselectable not allowed on element em at this point.
Attribute autocomplete is only allowed when the input type is color, date, datetime-local, email, hidden, month, number, password, range, search, tel, text, time, url, or week.

P.S: From 879 W3C errors to 56... (main page, epg)","The cellspacing attribute on the table element is obsolete. Use CSS instead.
The cellpadding attribute on the table element is obsolete. Use CSS instead.
The border attribute on the table element is obsolete. Use CSS instead.
The align attribute on the td element is obsolete. Use CSS instead.
Attribute unselectable not allowed on element em at this point.
Attribute autocomplete is only allowed when the input type is color, date, datetime-local, email, hidden, month, number, password, range, search, tel, text, time, url, or week.

P.S: From 879 W3C errors to 56... (main page, epg)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1249,2019-01-10T03:52:28Z,2019-02-04T09:57:35Z,2019-02-04T09:57:36Z,MERGED,True,1,0,1,https://github.com/fat-fred,Update posix.mk,1,[],https://github.com/tvheadend/tvheadend/pull/1249,https://github.com/fat-fred,1,https://github.com/tvheadend/tvheadend/pull/1249,"Hello
In the posix.mk are no rule to install the ""tv_meta_tvdb""
FatFred","Hello
In the posix.mk are no rule to install the ""tv_meta_tvdb""
FatFred",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1250,2019-01-20T12:38:21Z,2019-02-04T10:07:18Z,2019-04-29T12:34:15Z,MERGED,True,94,14,4,https://github.com/kwkoo,Changes to make tvheadend work in a container while talking to HDHomerun,6,[],https://github.com/tvheadend/tvheadend/pull/1250,https://github.com/kwkoo,1,https://github.com/tvheadend/tvheadend/pull/1250,"tvheadend relies on multicasting to communicate with the HDHomerun.
This presents problems when running tvheadend in a Docker container without enabling host networking in the container.
To solve this, I added 3 fields to the config -

hdhomerun_ip
local_ip
local_port

hdhomerun_ip is used during the discovery process. The IP of the HDHomerun device is passed to libhdhomerun, bypassing the multicast process.
local_ip and local_port are used for communications with the HDHomerun device. This lets you forward traffic from the Docker host to the container.","tvheadend relies on multicasting to communicate with the HDHomerun.
This presents problems when running tvheadend in a Docker container without enabling host networking in the container.
To solve this, I added 3 fields to the config -

hdhomerun_ip
local_ip
local_port

hdhomerun_ip is used during the discovery process. The IP of the HDHomerun device is passed to libhdhomerun, bypassing the multicast process.
local_ip and local_port are used for communications with the HDHomerun device. This lets you forward traffic from the Docker host to the container.",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1250,2019-01-20T12:38:21Z,2019-02-04T10:07:18Z,2019-04-29T12:34:15Z,MERGED,True,94,14,4,https://github.com/kwkoo,Changes to make tvheadend work in a container while talking to HDHomerun,6,[],https://github.com/tvheadend/tvheadend/pull/1250,https://github.com/oliroe,2,https://github.com/tvheadend/tvheadend/pull/1250#issuecomment-485805257,"tvheadend relies on multicasting to communicate with the HDHomerun.
This presents problems when running tvheadend in a Docker container without enabling host networking in the container.
To solve this, I added 3 fields to the config -

hdhomerun_ip
local_ip
local_port

hdhomerun_ip is used during the discovery process. The IP of the HDHomerun device is passed to libhdhomerun, bypassing the multicast process.
local_ip and local_port are used for communications with the HDHomerun device. This lets you forward traffic from the Docker host to the container.","Hi
I'm confused how these 3 settings are used, could anyone give me an example of their set up that works so I can try and replicate? TVH runs perfectly when not in a Docker but struggling with this
Thanks",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1250,2019-01-20T12:38:21Z,2019-02-04T10:07:18Z,2019-04-29T12:34:15Z,MERGED,True,94,14,4,https://github.com/kwkoo,Changes to make tvheadend work in a container while talking to HDHomerun,6,[],https://github.com/tvheadend/tvheadend/pull/1250,https://github.com/kwkoo,3,https://github.com/tvheadend/tvheadend/pull/1250#issuecomment-486084187,"tvheadend relies on multicasting to communicate with the HDHomerun.
This presents problems when running tvheadend in a Docker container without enabling host networking in the container.
To solve this, I added 3 fields to the config -

hdhomerun_ip
local_ip
local_port

hdhomerun_ip is used during the discovery process. The IP of the HDHomerun device is passed to libhdhomerun, bypassing the multicast process.
local_ip and local_port are used for communications with the HDHomerun device. This lets you forward traffic from the Docker host to the container.","I'm confused how these 3 settings are used, could anyone give me an example of their set up that works so I can try and replicate? TVH runs perfectly when not in a Docker but struggling with this

Just enter the web UI, go into Settings, and switch into Expert mode. You should see the 3 config fields there. Set the HDHomeRun IP field to the IP address of your HDHomeRun device, the local IP field to the IP address of your docker host, and the local port field to an unassigned port range on your docker host.
And don't forget to map those ports to the docker container when you start it up.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1250,2019-01-20T12:38:21Z,2019-02-04T10:07:18Z,2019-04-29T12:34:15Z,MERGED,True,94,14,4,https://github.com/kwkoo,Changes to make tvheadend work in a container while talking to HDHomerun,6,[],https://github.com/tvheadend/tvheadend/pull/1250,https://github.com/oliroe,4,https://github.com/tvheadend/tvheadend/pull/1250#issuecomment-487515529,"tvheadend relies on multicasting to communicate with the HDHomerun.
This presents problems when running tvheadend in a Docker container without enabling host networking in the container.
To solve this, I added 3 fields to the config -

hdhomerun_ip
local_ip
local_port

hdhomerun_ip is used during the discovery process. The IP of the HDHomerun device is passed to libhdhomerun, bypassing the multicast process.
local_ip and local_port are used for communications with the HDHomerun device. This lets you forward traffic from the Docker host to the container.","Appreciate your help with this but i still can't tune them. I've have tried with the Synology package and all is fine so definitely an issue with my docker setup.
I have hdhomerun_ip as 192.168.2.2 (the HDHomerun), local_ip as 192.168.2.20 (my NAS) and 9983 for the port with 9983-9986 as ports in my docker settings
From the TVH docker package it mentions the following......Host vs. Bridge
If you use IPTV, SAT>IP or HDHomeRun, you need to create the container with --net=host and remove the -p flags. This is because of a limitation in docker and multicast.
Is that still required?
Thanks",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1250,2019-01-20T12:38:21Z,2019-02-04T10:07:18Z,2019-04-29T12:34:15Z,MERGED,True,94,14,4,https://github.com/kwkoo,Changes to make tvheadend work in a container while talking to HDHomerun,6,[],https://github.com/tvheadend/tvheadend/pull/1250,https://github.com/kwkoo,5,https://github.com/tvheadend/tvheadend/pull/1250#issuecomment-487561537,"tvheadend relies on multicasting to communicate with the HDHomerun.
This presents problems when running tvheadend in a Docker container without enabling host networking in the container.
To solve this, I added 3 fields to the config -

hdhomerun_ip
local_ip
local_port

hdhomerun_ip is used during the discovery process. The IP of the HDHomerun device is passed to libhdhomerun, bypassing the multicast process.
local_ip and local_port are used for communications with the HDHomerun device. This lets you forward traffic from the Docker host to the container.","From the TVH docker package it mentions the following......Host vs. Bridge
If you use IPTV, SAT>IP or HDHomeRun, you need to create the container with --net=host and remove the -p flags. This is because of a limitation in docker and multicast.
Is that still required?

If you create the container with --net=host, you don't need to set anything in the 3 config fields.
However, if you entered those details into the 3 config fields, you should create the container with the -p flag and leave out --net=host.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1251,2019-01-22T20:43:03Z,2019-01-22T22:02:48Z,2019-01-22T22:02:48Z,CLOSED,False,7,0,1,https://github.com/Trujulu,Kathrein EXIP: Add default config (SAT>IP),1,[],https://github.com/tvheadend/tvheadend/pull/1251,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1251,Its config (on all models) is the same as on Triax TSS400 - tested on EXIP 4124,Its config (on all models) is the same as on Triax TSS400 - tested on EXIP 4124,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1252,2019-01-22T22:05:14Z,2019-02-04T10:00:20Z,2019-02-04T10:00:20Z,MERGED,True,7,0,1,https://github.com/Trujulu,Kathrein EXIP: Add default config (SATIP),1,[],https://github.com/tvheadend/tvheadend/pull/1252,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1252,"Share config w/ Triax TSS 400 (similar board and fw).
Tested with Kathrein EXIP 4124 and EXIP 418.","Share config w/ Triax TSS 400 (similar board and fw).
Tested with Kathrein EXIP 4124 and EXIP 418.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1252,2019-01-22T22:05:14Z,2019-02-04T10:00:20Z,2019-02-04T10:00:20Z,MERGED,True,7,0,1,https://github.com/Trujulu,Kathrein EXIP: Add default config (SATIP),1,[],https://github.com/tvheadend/tvheadend/pull/1252,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1252#issuecomment-458285255,"Share config w/ Triax TSS 400 (similar board and fw).
Tested with Kathrein EXIP 4124 and EXIP 418.",XML: rootDescr.zip,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1253,2019-01-27T22:39:59Z,2019-02-04T10:00:33Z,2019-02-04T10:00:33Z,MERGED,True,14,5,2,https://github.com/azlm8t,dvr: autorec should only compare min season/year if it exists in EPG (fixes #5479),2,[],https://github.com/tvheadend/tvheadend/pull/1253,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1253,"Autorec rule can have minseason/maxseason and minyear/maxyear. However, specials (such as Christmas specials) frequently don't have season/episode details.  But users could expect all ""s5 or greater"" to include the ""s5 Christmas special"".
So, we now only compare min/max season if it is available in the EPG. Similar for min/max year. If the EPG is missing the info then we allow the entry to be recorded.
Also added these four fields to the autorec grid as requested.","Autorec rule can have minseason/maxseason and minyear/maxyear. However, specials (such as Christmas specials) frequently don't have season/episode details.  But users could expect all ""s5 or greater"" to include the ""s5 Christmas special"".
So, we now only compare min/max season if it is available in the EPG. Similar for min/max year. If the EPG is missing the info then we allow the entry to be recorded.
Also added these four fields to the autorec grid as requested.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1254,2019-01-29T12:35:25Z,2019-02-04T10:00:41Z,2019-02-04T10:00:41Z,MERGED,True,84,11,2,https://github.com/azlm8t,dvr: New format specifier for per-dir seasons and one movie per dir. (#4667),1,[],https://github.com/tvheadend/tvheadend/pull/1254,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1254,"Previously the $q format specifier would only output movies as:
tvmovies/title (yyyy).ts
However, a common alternative is to store each movie in its own sub-directory:
tvmovies/title1 (yyyy)/title1 (yyyy).ts
tvmovies/title2 (yyyy)/title2 (yyyy).ts
Similarly for episodes we output:
tvshows/title/title - SxxEyy.ts
But a common alternative is to have one directory per season:
tvshows/title/Season 1/title - S01Eyy.ts
tvshows/title/Season 2/title - S02Eyy.ts
So we now add a ""$3q"" to output these common alternatives, as requested in the forums.
https://tvheadend.org/boards/5/topics/35778
Also add equivalent ""$3Q"" to output without the ""genre"" prefix i.e., without ""tvshows/"" or ""tvmovies/"".
I've put change against the original issue 4667 which implemented the original $q format specifier. I'm not too happy with it being called ""$3q"" since these modifiers are hard to remember, but I am hoping the small number of variants makes it acceptable.
The word ""Season"" for directories is deliberately not localized based on advice from the Plex wiki to always use the English word. https://support.plex.tv/articles/200220687-naming-series-season-based-tv-shows/.
Issue: #4667","Previously the $q format specifier would only output movies as:
tvmovies/title (yyyy).ts
However, a common alternative is to store each movie in its own sub-directory:
tvmovies/title1 (yyyy)/title1 (yyyy).ts
tvmovies/title2 (yyyy)/title2 (yyyy).ts
Similarly for episodes we output:
tvshows/title/title - SxxEyy.ts
But a common alternative is to have one directory per season:
tvshows/title/Season 1/title - S01Eyy.ts
tvshows/title/Season 2/title - S02Eyy.ts
So we now add a ""$3q"" to output these common alternatives, as requested in the forums.
https://tvheadend.org/boards/5/topics/35778
Also add equivalent ""$3Q"" to output without the ""genre"" prefix i.e., without ""tvshows/"" or ""tvmovies/"".
I've put change against the original issue 4667 which implemented the original $q format specifier. I'm not too happy with it being called ""$3q"" since these modifiers are hard to remember, but I am hoping the small number of variants makes it acceptable.
The word ""Season"" for directories is deliberately not localized based on advice from the Plex wiki to always use the English word. https://support.plex.tv/articles/200220687-naming-series-season-based-tv-shows/.
Issue: #4667",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1255,2019-02-03T10:08:18Z,2019-02-14T16:06:51Z,2019-02-14T16:06:51Z,CLOSED,False,6,6,1,https://github.com/olesalscheider,Fix strncpy errors,1,[],https://github.com/tvheadend/tvheadend/pull/1255,https://github.com/olesalscheider,1,https://github.com/tvheadend/tvheadend/pull/1255,"We want to copy as many bytes as the destination buffer can hold.
Without this patch, tvheadend does not compile with GCC 8.","We want to copy as many bytes as the destination buffer can hold.
Without this patch, tvheadend does not compile with GCC 8.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1255,2019-02-03T10:08:18Z,2019-02-14T16:06:51Z,2019-02-14T16:06:51Z,CLOSED,False,6,6,1,https://github.com/olesalscheider,Fix strncpy errors,1,[],https://github.com/tvheadend/tvheadend/pull/1255,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1255#issuecomment-460190750,"We want to copy as many bytes as the destination buffer can hold.
Without this patch, tvheadend does not compile with GCC 8.","Wrong patch. The behaviour was fine (the structure was filled with zeros at the creation time). If you like to propose the proper fix - use 'strlcpy', 'strncpy' does not guarantee that the destination string is zero terminated.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1255,2019-02-03T10:08:18Z,2019-02-14T16:06:51Z,2019-02-14T16:06:51Z,CLOSED,False,6,6,1,https://github.com/olesalscheider,Fix strncpy errors,1,[],https://github.com/tvheadend/tvheadend/pull/1255,https://github.com/olesalscheider,3,https://github.com/tvheadend/tvheadend/pull/1255#issuecomment-460196187,"We want to copy as many bytes as the destination buffer can hold.
Without this patch, tvheadend does not compile with GCC 8.",I thought strlcpy is not available in glibc? How about we set the last byte of the buffer to '\0' explicitly?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1255,2019-02-03T10:08:18Z,2019-02-14T16:06:51Z,2019-02-14T16:06:51Z,CLOSED,False,6,6,1,https://github.com/olesalscheider,Fix strncpy errors,1,[],https://github.com/tvheadend/tvheadend/pull/1255,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1255#issuecomment-460201693,"We want to copy as many bytes as the destination buffer can hold.
Without this patch, tvheadend does not compile with GCC 8.",We have own implementation in tvh_string.h .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1255,2019-02-03T10:08:18Z,2019-02-14T16:06:51Z,2019-02-14T16:06:51Z,CLOSED,False,6,6,1,https://github.com/olesalscheider,Fix strncpy errors,1,[],https://github.com/tvheadend/tvheadend/pull/1255,https://github.com/olesalscheider,5,https://github.com/tvheadend/tvheadend/pull/1255#issuecomment-460771996,"We want to copy as many bytes as the destination buffer can hold.
Without this patch, tvheadend does not compile with GCC 8.","Ah, ok. I have pushed an updated copy of the patch.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1255,2019-02-03T10:08:18Z,2019-02-14T16:06:51Z,2019-02-14T16:06:51Z,CLOSED,False,6,6,1,https://github.com/olesalscheider,Fix strncpy errors,1,[],https://github.com/tvheadend/tvheadend/pull/1255,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/1255#issuecomment-463685128,"We want to copy as many bytes as the destination buffer can hold.
Without this patch, tvheadend does not compile with GCC 8.",Merged 8de9836 . Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1256,2019-02-03T14:18:50Z,2019-02-14T16:05:34Z,2019-03-07T20:39:41Z,CLOSED,False,2,1,1,https://github.com/Flole998,Fix no Signal Strength shown for FritzBox 6490/6590,1,[],https://github.com/tvheadend/tvheadend/pull/1256,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1256,When using FritzBox 6490/6590 as tuner we do not see a signal strength as it transmits an unexpected src=1 parameter.,When using FritzBox 6490/6590 as tuner we do not see a signal strength as it transmits an unexpected src=1 parameter.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1256,2019-02-03T14:18:50Z,2019-02-14T16:05:34Z,2019-03-07T20:39:41Z,CLOSED,False,2,1,1,https://github.com/Flole998,Fix no Signal Strength shown for FritzBox 6490/6590,1,[],https://github.com/tvheadend/tvheadend/pull/1256,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1256#issuecomment-460191768,When using FritzBox 6490/6590 as tuner we do not see a signal strength as it transmits an unexpected src=1 parameter.,Could you show me the status string? Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1256,2019-02-03T14:18:50Z,2019-02-14T16:05:34Z,2019-03-07T20:39:41Z,CLOSED,False,2,1,1,https://github.com/Flole998,Fix no Signal Strength shown for FritzBox 6490/6590,1,[],https://github.com/tvheadend/tvheadend/pull/1256,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1256#issuecomment-460440827,When using FritzBox 6490/6590 as tuner we do not see a signal strength as it transmits an unexpected src=1 parameter.,"Sure:
Status string: 'ver=1.2;src=1;tuner=1,172,1,0,346.00,8,dvbc,256qam,6900,,,,1;pids=0,18,104,6640,6641,6642,6644,1,16,17,6269'",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1256,2019-02-03T14:18:50Z,2019-02-14T16:05:34Z,2019-03-07T20:39:41Z,CLOSED,False,2,1,1,https://github.com/Flole998,Fix no Signal Strength shown for FritzBox 6490/6590,1,[],https://github.com/tvheadend/tvheadend/pull/1256,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1256#issuecomment-462865317,When using FritzBox 6490/6590 as tuner we do not see a signal strength as it transmits an unexpected src=1 parameter.,"Please note that quality is inverted on the Fritzbox, I have already contacted the manufacturer about that and therefor this is not honored in this patch.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1256,2019-02-03T14:18:50Z,2019-02-14T16:05:34Z,2019-03-07T20:39:41Z,CLOSED,False,2,1,1,https://github.com/Flole998,Fix no Signal Strength shown for FritzBox 6490/6590,1,[],https://github.com/tvheadend/tvheadend/pull/1256,https://github.com/Trujulu,5,https://github.com/tvheadend/tvheadend/pull/1256#issuecomment-462893444,When using FritzBox 6490/6590 as tuner we do not see a signal strength as it transmits an unexpected src=1 parameter.,"What do you mean with inverted?
89% is 98%
Or 89% is 11%
??",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1256,2019-02-03T14:18:50Z,2019-02-14T16:05:34Z,2019-03-07T20:39:41Z,CLOSED,False,2,1,1,https://github.com/Flole998,Fix no Signal Strength shown for FritzBox 6490/6590,1,[],https://github.com/tvheadend/tvheadend/pull/1256,https://github.com/Flole998,6,https://github.com/tvheadend/tvheadend/pull/1256#issuecomment-462895821,When using FritzBox 6490/6590 as tuner we do not see a signal strength as it transmits an unexpected src=1 parameter.,"No, 0 is lowest BER and 15 is highest, the standard wants it to be the exact opposite (0 is highest BER and 15 is lowest, see Page 38 of http://www.satip.info/sites/satip/files/resource/satip_specification_version_1_2_2.pdf).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1256,2019-02-03T14:18:50Z,2019-02-14T16:05:34Z,2019-03-07T20:39:41Z,CLOSED,False,2,1,1,https://github.com/Flole998,Fix no Signal Strength shown for FritzBox 6490/6590,1,[],https://github.com/tvheadend/tvheadend/pull/1256,https://github.com/perexg,7,https://github.com/tvheadend/tvheadend/pull/1256#issuecomment-463684589,When using FritzBox 6490/6590 as tuner we do not see a signal strength as it transmits an unexpected src=1 parameter.,Rewritten 5caf8b8 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1256,2019-02-03T14:18:50Z,2019-02-14T16:05:34Z,2019-03-07T20:39:41Z,CLOSED,False,2,1,1,https://github.com/Flole998,Fix no Signal Strength shown for FritzBox 6490/6590,1,[],https://github.com/tvheadend/tvheadend/pull/1256,https://github.com/9000h,8,https://github.com/tvheadend/tvheadend/pull/1256#issuecomment-470683197,When using FritzBox 6490/6590 as tuner we do not see a signal strength as it transmits an unexpected src=1 parameter.,"btw for ver=1.2 the src=1 is a bug and should be fixed by AVM and they should report the signal quality which is 0 since the beginning.
but we may expect to much as they have no SAT>IP certification",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1256,2019-02-03T14:18:50Z,2019-02-14T16:05:34Z,2019-03-07T20:39:41Z,CLOSED,False,2,1,1,https://github.com/Flole998,Fix no Signal Strength shown for FritzBox 6490/6590,1,[],https://github.com/tvheadend/tvheadend/pull/1256,https://github.com/Flole998,9,https://github.com/tvheadend/tvheadend/pull/1256#issuecomment-470685183,When using FritzBox 6490/6590 as tuner we do not see a signal strength as it transmits an unexpected src=1 parameter.,"The signal quality is the BER in this case, it's just inverted, it should be 15 but they are sending 0 instead. With the highest BER you will be getting 15. I reported this already.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1257,2019-02-10T21:07:31Z,2019-02-14T16:05:09Z,2019-02-14T16:05:10Z,CLOSED,False,2,2,1,https://github.com/Flole998,Fix description of RTP/AVP/TCP Mode,1,[],https://github.com/tvheadend/tvheadend/pull/1257,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1257,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1257,2019-02-10T21:07:31Z,2019-02-14T16:05:09Z,2019-02-14T16:05:10Z,CLOSED,False,2,2,1,https://github.com/Flole998,Fix description of RTP/AVP/TCP Mode,1,[],https://github.com/tvheadend/tvheadend/pull/1257,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1257#issuecomment-463684440,,Merged 363e0eb . Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1258,2019-02-11T14:03:31Z,2019-02-14T16:04:52Z,2019-02-14T16:04:53Z,CLOSED,False,19,4,3,https://github.com/Flole998,Added compatibility mode for SAT-IP tuners that mess up tuner numbers…,1,[],https://github.com/tvheadend/tvheadend/pull/1258,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1258,"…, for example FritzBox 6490/6590","…, for example FritzBox 6490/6590",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1258,2019-02-11T14:03:31Z,2019-02-14T16:04:52Z,2019-02-14T16:04:53Z,CLOSED,False,19,4,3,https://github.com/Flole998,Added compatibility mode for SAT-IP tuners that mess up tuner numbers…,1,[],https://github.com/tvheadend/tvheadend/pull/1258,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1258#issuecomment-463684326,"…, for example FritzBox 6490/6590",Merged 39db478 . Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1259,2019-02-14T19:51:35Z,2019-03-01T15:42:27Z,2019-03-01T15:44:02Z,MERGED,True,3,1,1,https://github.com/Flole998,Prevent rebinding when refreshing SAT-IP Server settings and not chan…,1,[],https://github.com/tvheadend/tvheadend/pull/1259,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1259,"…ging port, fixes #5539","…ging port, fixes #5539",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1259,2019-02-14T19:51:35Z,2019-03-01T15:42:27Z,2019-03-01T15:44:02Z,MERGED,True,3,1,1,https://github.com/Flole998,Prevent rebinding when refreshing SAT-IP Server settings and not chan…,1,[],https://github.com/tvheadend/tvheadend/pull/1259,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1259#issuecomment-468708399,"…ging port, fixes #5539",Merged - 6edc4da .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1260,2019-02-14T20:58:46Z,,2019-10-14T11:31:35Z,OPEN,False,3,0,1,https://github.com/k2fc,Allow TVCT on ATSC-C muxes,1,[],https://github.com/tvheadend/tvheadend/pull/1260,https://github.com/k2fc,1,https://github.com/tvheadend/tvheadend/pull/1260,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1261,2019-02-15T22:08:45Z,2019-02-15T22:34:04Z,2019-02-16T08:21:10Z,CLOSED,False,7,3,1,https://github.com/Trujulu,"Triax & Kathrein: Increase pid length, issue #5544",1,[],https://github.com/tvheadend/tvheadend/pull/1261,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1261,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1261,2019-02-15T22:08:45Z,2019-02-15T22:34:04Z,2019-02-16T08:21:10Z,CLOSED,False,7,3,1,https://github.com/Trujulu,"Triax & Kathrein: Increase pid length, issue #5544",1,[],https://github.com/tvheadend/tvheadend/pull/1261,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1261#issuecomment-464229418,,"Merged, but set the limit to 255 (should be fine now). 7ff4981",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Martii,1,https://github.com/tvheadend/tvheadend/pull/1262,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/ljalves,2,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-466171623,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.",You can always go to the IRC channel #hts on freenode.net,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Saentist,3,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-466185667,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","You can always go to the IRC channel #hts on freenode.net

#hts Cannot join channel (+r) - you need to be identified with services - see https://freenode.net/kb/answer/registration",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/TheGiolly,4,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-466187659,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","If you don't want to register (or maybe you can't), you can read the irc log here
https://colabti.org/irclogger/irclogger_logs/hts",True,{'HOORAY': ['https://github.com/Martii']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Martii,5,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-466238327,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","@TheGiolly

... or maybe you can't

This is more probable. I haven't been on irc in several years, especially freenode... identd is definitely blocked on the network and would be a major hassle to unblock. The other issue is having the IP available which can be an issue with security on the sites I maintain. So more like a ""can't"" for this. Being a veteran of the internet (and also IRC) I know quite a bit how many holes there are in it regarding possible security breaches.

https://colabti.org/irclogger/irclogger_logs/hts

This is a large step forward. Thank you very much. At least I won't be completely in the dark. 😸
Hope that machine doesn't need a reinstall anytime soon. I did manage to get a copy of the stable Packages file before it went down last week so perhaps I'll spend some quality time seeing what dependencies it needs. Did try to compile the source from here several times but got permission denied on some of the runtime downloads it does (nasm for example... even though my distro has this)... although haven't retested it recently.
bintray repo is way out of date and I also read that they were throttling (rate limiting too much I guess) so everyone mentioned to use tvheadend.org.

Before I forget it sure would be awesome if CI had a way to put those binaries it makes back onto GH for a pre-release when it's done. I mentioned this on another CPP product from last year but it went no where.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/ljalves,6,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-466316083,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","@TheGiolly

... or maybe you can't

This is more probable. I haven't been on irc in several years, especially freenode... identd is definitely blocked on the network and would be a major hassle to unblock.

You have the web client:
https://webchat.freenode.net/
(and if you're worried about exposing your IP you can use it with an http proxy)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Saentist,7,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-466334595,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","Problem is that this want registration but it's imposible to register, before I was able to enter without problems.
And no one answered 3 days ago asked question as written in archive log.
Hope solution is not fast as RSS problem, near month.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Martii,8,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-466337845,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","@ljalves

You have the web client:
https://webchat.freenode.net/

Appreciate the link. That requires google and gstatic to be enabled for the captcha... again security, and now privacy, restraints. Thank you though. A VPN or using the tor network via a browser would be more preferable.  Seems like way too much work to distribute this among the user base instead of properely handling it among the distributor. I do like irc for private things on occasion.
However this still doesn't address the issue for site outages. The project could put some sort of heartbeat type application up to notify of outages and the twitter feed could handle that or even GH, perhaps with https://gitter.im/ , would be much preferable to irc as a secondary fallback.
From what I read in the irc archive link it seems everyone who can fix the server is missing in action. I presume that the cloudflare outage possibly hosed the server somehow although CI, being as it is over the last year, may have contributed some to that possible DoS which may have taken it down (supposition here).
@Saentist

Problem is that this want registration but it's imposible to register, before I was able to enter without problems.

Yes the last time I used freenode it didn't require this just to observe (but the archive helps some). Seems a little fishy on the privacy aspect of security too. I know how irc can get with changing ones nick which is why it's not usually a viable medium for development discussions even with ident in the foreground or the background via  HTTP interface exposing things.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Martii,9,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-466614944,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.",Woot Woot... tvheadend.org came through in the browser!  😸,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Saentist,10,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-655634929,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.",Bring up just to confirm that website is DOWN,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Saentist,11,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1012090917,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","Website is DOWN!
Is there any official response?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/ProfYaffle,12,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1013653985,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.",@Saentist Website is back up now.,True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Saentist,13,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1013656192,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","Website is back up now.

Website is back online,
but please pin this pull as some info point, with label tag
https://docs.github.com/en/issues/using-labels-and-milestones-to-track-work/managing-labels",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Flole998,14,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1013738605,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","We aren't using labels as we don't get any PRs usually, so no need to use labels to organize them.
Also there's no point in pinning a PR which is closed....",True,{'THUMBS_DOWN': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Martii,15,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1013756275,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.",Hehe. Not sure you can pin PR's anyhow does work on issues though.... just use search on GH @Saentist . I rarely need to reinstall tvheadend but when the site's down it's a rough wait. 😸,True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Saentist,16,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1013848969,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","@Flole998 it can stay OPEN and can be labeled
Labels are usefull
@Martii
copy script from website forum >tutorials
https://tvheadend.org/boards/4/topics/24116
#!/bin/bash

BASE=$(dirname ""$0"")
(
  if [ -d ""$BASE/tvheadend"" ]; then
    cd ""$BASE/tvheadend"" 
    git pull
  else
    cd ""$BASE"" 
    git clone https://github.com/tvheadend/tvheadend.git tvheadend # --depth=5 (need version tag workaround else 0.0.0 version)
    cd ""$BASE/tvheadend"" 
  fi
  time AUTOBUILD_CONFIGURE_EXTRA=""--disable-bintray_cache --enable-vaapi --enable-nvenc --disable-hdhomerun_client --disable-hdhomerun_static "" ./Autobuild.sh -j$(nproc) # edit only betwin ""quotation marks"" 
) | tee ""$BASE/build.log""",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Flole998,17,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1013872891,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","Labels are useful if there are many PRs, but that's not the case here. There's absolutely no point in keeping this PR open.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Saentist,18,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1013963858,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","Labels are useful if there are many PRs, but that's not the case here. There's absolutely no point in keeping this PR open.

Then maby you have better idea, how to inform auditory?
All we are interested to hear it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Flole998,19,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1013964302,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","There is nobody who posts announcements, so there is no information so no need to think about how to best inform someone.
Also a PR is not the right place for discussions (and also not for announcements)....",True,{'THUMBS_DOWN': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Martii,20,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1013983526,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","@Flole998

Also a PR is not the right place for discussions...

Unfortunately I haven't gotten much of well received responses on the forum which is why I did a PR to maybe help out a little. There is the Suggestion Box however that hasn't had much activity either. It would be super helpful to at least get an acknowledgement that an issue is being looked, where-ever, into since GitHub issues are closed on this repo. Sometimes the forums take years to notify if there is something fixed I've noticed.
Once again I really appreciate the teams efforts here as this is a fabulous project just disappointing when the servers I manage with tvheadend crash and the distribution repository is out/offline. So I can only offer my help when I can and I have been helped in return by the generous responses above. ❤️ 😄",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Flole998,21,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1013987513,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","I'm not blaming you for creating a PR, but @Saentist wanted to turn this into an (official) place for discussions which it isn't. There's the Forum and IRC in case the Forum is down.
There is no active developer anymore, so at this point you can pretty much assume that nobody is working on any issue. I know it's sad, but that's the current situation.
Also there's no way of reaching @andoma who seems to be the one who runs the Forum/APT server, I've tried it multiple times but never got a response. So if the webserver or repository breaks then you can only hope that it'll get fixed or fixes itself eventually. There are other problems aswell that I wanted to but can't address because I simply don't have access.",True,"{'THUMBS_DOWN': ['https://github.com/Saentist'], 'THUMBS_UP': ['https://github.com/Martii']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Martii,22,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1013989022,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","I can relate... my servers I only have some access. I'm willing to help a little when I can but my C is a bit rusty with all the toolkits that have changed over the decades and Python is another story.
Anyhow... won't bother you any more here for this. I actually forgot I made this PR years back. LOL. If I see something that I can tackle I'll give a whirl over on the forums first to the best of my capabilities.
Thanks for your ear/eyes. 😸",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Saentist,23,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1014233055,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","I'm not blaming you for creating a PR, but @Saentist wanted to turn this into an (official) place for discussions which it isn't. There's the Forum and IRC in case the Forum is down.
There is no active developer anymore, so at this point you can pretty much assume that nobody is working on any issue. I know it's sad, but that's the current situation.
Also there's no way of reaching @andoma who seems to be the one who runs the Forum/APT server, I've tried it multiple times but never got a response. So if the webserver or repository breaks then you can only hope that it'll get fixed or fixes itself eventually. There are other problems aswell that I wanted to but can't address because I simply don't have access.

@Flole998 do not search problems in other's.
I don't want this to be discussion area, there is a GitHub option for that.
There is ""Issues"" and ""Discussions"" for that but they exist in website
There is no PR's, becouse some one is too slow to process them in acceptable time.
It's not hard to setup RSS reader and get feed from forum an GitHub
https://tvheadend.org/projects/tvheadend/issues.atom?key=""your_atom_user_key""
or on bottom of page.
same in GitHub
https://github.com/tvheadend/tvheadend/commits/master.atom
any browser and mail client support them.
There is someone with is not happy that there is PR with have not been ""well formed""
and ""Squish"" is regular excuse not to be done anything.
There some one with dont make difference between ""end user"" and ""developer"", not all can write code.
Repo statistic is clear
https://github.com/tvheadend/tvheadend/graphs/code-frequency
Example: #1322
so many excuses and no help, make PR dead,
hope users not migrate to other software.
Standard labels as ""help wanted"" ""tester needed"" can be helpfil in similar situations,
no mather what you think.
Create comfortable conditions and good communication to community, not opposite.
https://github.com/tvheadend/tvheadend/community
how many orange dots are there?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Flole998,24,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1014455281,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","Well there is nobody who is responsible for processing PRs, maybe that's why it takes forever. The last active developer has left years ago.
You seem to be under the impression that I am in some way responsible or wanting to be a maintainer for Tvheadend, but I am not. I am doing some stuff so this project is not dead, but that's about it. If you're not happy with that I can stop that right away, then you can find someone else who wants to do this.
I'm not getting paid for this and my time is limited, so if I don't have time to look at a PR then you have to accept that or find someone who wants to work full time on Tvheadend (without payment most likely). That's not going to happen.
It's not my fault that PRs are often created with many commits with non-descriptive names, someone else wanted meaningful commit messages, good luck proposing your idea to him.... I look at PRs if I find time and if I want to look at them, and if I have to read how bad the job I'm doing is then I don't want to look at PRs.
By the way: The PR you mentioned is very large and I've taken a long time to understand how it integrates into the existing code. Also there was no notification that it was squashed together now (so question to you: Why didn't you test it and report if it works for you and what issues you experienced? And why didn't you look at it and notice that it's squashed together properly now and report that?), so when I find some time I'll look at it eventually. Assuming I don't have more important stuff to do such as creating labels for PRs....",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Saentist,25,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1014519224,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","Again you make mistake betwin user and developer.
Squishing is option of GitHub. So, who can manage GitHub repo?
PR can be tested easily by making this FR possible
https://tvheadend.org/issues/5741
so ""Help Wanted""",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Flole998,26,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1014534955,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","No I am not making a mistake, but if someone wants a bug fixed or a new feature they need to be aware that it's up to them to implement it themselves or find someone who wants to implement it. You don't seem to realize that there are no active developers. 0. None. You can either let people hope and leave them under the wrong assumption that someone will take care of their issue or feature request or tell them the truth that they need to take care of it themselves.
Squashing is not an option when rebasing a PR, please don't talk about things you don't understand.
Everyone who can manage the GitHub repo left, I can only perform basic tasks like merging.
Anyways, I don't like your attitude. I don't owe you or this project anything. If you continue to tell me how bad the job I'm doing is (without realizing that it's not my job at all and I am only doing this to keep Tvheadend alive) then I'll take a break from Tvheadend.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Saentist,27,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1014574894,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.",https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/configuring-commit-squashing-for-pull-requests,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Flole998,28,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1014577279,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","First of all I don't even have access to that option and second it's already enabled. However, I can still only choose between squashing and rebasing, there is absolutely no way to select both (that wouldn't make sense anyways). As we are rebasing in this repository when merging we can not squash at the same time. That's a fact, and linking to the documentation is not going to change that.
And this is not the first time I'm explaining that to you.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Saentist,29,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1015163409,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","Don't point this to me, ask repo administrator.
Simple solution for add status of webpage.
is to add link to readme.md
with most small font size available.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1262,2019-02-21T11:47:27Z,2019-03-01T15:40:45Z,2022-01-18T10:30:19Z,CLOSED,False,5,0,1,https://github.com/Martii,Include a possible status update link for hosting outages,1,[],https://github.com/tvheadend/tvheadend/pull/1262,https://github.com/Martii,30,https://github.com/tvheadend/tvheadend/pull/1262#issuecomment-1015276254,"Hello,
I've been trying to access https://tvheadend.org for the last 40'ish hours and it's not accessing with the browser nor apt-get update in Ubunutu/Kubuntu.
Cloudflare returns a 522 status code page saying the server host has an error.
Error 522 Ray ID: 4ac8e3c56d68c7df • 2019-02-21 11:32:29 UTC
Connection timed out
I realize the twitter feed hasn't been used in a very long time (2016) but thought perhaps someone could add this PR and utilize twitter for site status notices/updates of some sort.
If this is not wanted please give a gentle close perhaps with another recommendation for knowing how to report an outage or PR change... however it's literally the only way that I know of to mention that the FQDN of tvheadend.org is ""down"" atm and the forums are located there as well. So a little difficult to mention it there.
Thank you for the consideration.
Keep up the great work everyone and a super big THANK YOU! for all of your dedication and support to this project.
P.S. Irc with name registration won't happen due to security restraints since I am a site administrator e.g. network and site policy prevents me from exposing confidential information.
Refs:

 (What I see for about 2 days now)
https://www.cloudflarestatus.com/ (particularly in the U.S. ... there was an incident yesterday but they claim it's fixed)

and also:
$ sudo apt-get update
...
Err:20 https://apt.tvheadend.org/unstable bionic Release
  522  Origin Connection Time-out [IP: 104.31.94.73 443]
Reading package lists... Done
E: The repository 'https://apt.tvheadend.org/unstable bionic Release' no longer has a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
...
$ ping -c 1 tvheadend.org
PING tvheadend.org (104.31.95.73) 56(84) bytes of data.
64 bytes from 104.31.95.73: icmp_seq=1 ttl=57 time=10.6 ms

--- tvheadend.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 10.698/10.698/10.698/0.000 ms
... I tagged onto a forum issue discussion at https://www.tvheadend.org/issues/5541 for the inability to install the stable version probably due to a compilation issue which is why I'm currently using the unstable.","@Saentist
I think you've had your soap box enough on hijacking my PR. Please stop and go to the tvheadend forums before I report you to GitHub. You are bordering on harassing a contributor and I'm quite over this.",True,"{'HEART': ['https://github.com/Ragamuffin85'], 'THUMBS_UP': ['https://github.com/Saentist', 'https://github.com/vascobraga41', 'https://github.com/jansohn', 'https://github.com/Raybuntu']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1263,2019-02-25T18:47:47Z,2019-02-25T19:58:07Z,2019-02-26T00:02:38Z,CLOSED,False,13,1,1,https://github.com/olivluca,Add option --jsondump to dump a configuration file/directory as json,2,[],https://github.com/tvheadend/tvheadend/pull/1263,https://github.com/olivluca,1,https://github.com/tvheadend/tvheadend/pull/1263,"With the new binary and gzip compressed configuration file format, it's impossible to easily view (and eventually modify) the content of configuration files.
The need to modify directly the files is because there are some fields that cannot be edited from the user interface, causing problems for some channels, e.g.
Services cannot be mapped for channels that do not broadcast regularly
Biss at 27.5W
Once the file has been edited, there's no need to convert it to the binary gzipped format since tvheadend can read it back as json.","With the new binary and gzip compressed configuration file format, it's impossible to easily view (and eventually modify) the content of configuration files.
The need to modify directly the files is because there are some fields that cannot be edited from the user interface, causing problems for some channels, e.g.
Services cannot be mapped for channels that do not broadcast regularly
Biss at 27.5W
Once the file has been edited, there's no need to convert it to the binary gzipped format since tvheadend can read it back as json.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1263,2019-02-25T18:47:47Z,2019-02-25T19:58:07Z,2019-02-26T00:02:38Z,CLOSED,False,13,1,1,https://github.com/olivluca,Add option --jsondump to dump a configuration file/directory as json,2,[],https://github.com/tvheadend/tvheadend/pull/1263,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1263#issuecomment-467160053,"With the new binary and gzip compressed configuration file format, it's impossible to easily view (and eventually modify) the content of configuration files.
The need to modify directly the files is because there are some fields that cannot be edited from the user interface, causing problems for some channels, e.g.
Services cannot be mapped for channels that do not broadcast regularly
Biss at 27.5W
Once the file has been edited, there's no need to convert it to the binary gzipped format since tvheadend can read it back as json.","No, no and no... You should not touch the config files without the tvheadend assistance (proper locking). Use the live json API in your scripts:
https://github.com/tvheadend/tvheadend/tree/master/lib/api/python#examples",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1263,2019-02-25T18:47:47Z,2019-02-25T19:58:07Z,2019-02-26T00:02:38Z,CLOSED,False,13,1,1,https://github.com/olivluca,Add option --jsondump to dump a configuration file/directory as json,2,[],https://github.com/tvheadend/tvheadend/pull/1263,https://github.com/olivluca,3,https://github.com/tvheadend/tvheadend/pull/1263#issuecomment-467235244,"With the new binary and gzip compressed configuration file format, it's impossible to easily view (and eventually modify) the content of configuration files.
The need to modify directly the files is because there are some fields that cannot be edited from the user interface, causing problems for some channels, e.g.
Services cannot be mapped for channels that do not broadcast regularly
Biss at 27.5W
Once the file has been edited, there's no need to convert it to the binary gzipped format since tvheadend can read it back as json.","Thank you for the link, before patching I searched for ""tvheadend json api"" and ""tvheadend rest api"" and it didn't give me that result.
But I cannot make work the export command: I got some uuids with exportcls, but any attempt to perform an export gives an ""Unknown data"" reply.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1264,2019-02-26T07:51:08Z,2019-03-01T15:40:26Z,2019-03-01T15:40:26Z,CLOSED,False,1,1,1,https://github.com/olivluca,Change expected result type from export,1,[],https://github.com/tvheadend/tvheadend/pull/1264,https://github.com/olivluca,1,https://github.com/tvheadend/tvheadend/pull/1264,"It appears that now the result type for ""export"" is a list and not a dictionary","It appears that now the result type for ""export"" is a list and not a dictionary",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1264,2019-02-26T07:51:08Z,2019-03-01T15:40:26Z,2019-03-01T15:40:26Z,CLOSED,False,1,1,1,https://github.com/olivluca,Change expected result type from export,1,[],https://github.com/tvheadend/tvheadend/pull/1264,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1264#issuecomment-467334486,"It appears that now the result type for ""export"" is a list and not a dictionary",For which path? The result should be a dictionary.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1264,2019-02-26T07:51:08Z,2019-03-01T15:40:26Z,2019-03-01T15:40:26Z,CLOSED,False,1,1,1,https://github.com/olivluca,Change expected result type from export,1,[],https://github.com/tvheadend/tvheadend/pull/1264,https://github.com/olivluca,3,https://github.com/tvheadend/tvheadend/pull/1264#issuecomment-467351504,"It appears that now the result type for ""export"" is a list and not a dictionary","I tried several uuids that I got with exportcls, the original version (expecting {}) was always failing. The result is an array.
e.g.
TVH_USER=admin TVH_PASS=admin python tvh-json.py exportcls mpegts_service | grep uuid | awk '{ print $2 }' | sed -e 's/""//g' -e 's/,//'  > uidslist
for i in $(cat uidslist) ; do echo $i ; TVH_USER=admin TVH_PASS=admin python tvh-json.py export ""$i"" ; done


fails with the original version, works with my modification. Maybe the result should be treated like the exportcls case (which accepts both an array and a dictionary)?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1264,2019-02-26T07:51:08Z,2019-03-01T15:40:26Z,2019-03-01T15:40:26Z,CLOSED,False,1,1,1,https://github.com/olivluca,Change expected result type from export,1,[],https://github.com/tvheadend/tvheadend/pull/1264,https://github.com/olivluca,4,https://github.com/tvheadend/tvheadend/pull/1264#issuecomment-467364101,"It appears that now the result type for ""export"" is a list and not a dictionary","I now tried to export every available uuid (see below how I got them) and none of them failed, so the result is always a list (at least with my setup)
TVH_USER=admin TVH_PASS=admin python tvh-json.py classes | grep ':' | awk '{ print $1 }' | awk -F'""' '{ print $2 }' > classes
for i in $(cat classes) ; do echo $i >&2 ; TVH_USER=admin TVH_PASS=admin python tvh-json.py  exportcls $i ; done | grep uuid |  awk '{ print $2 }' | awk -F'""' '{ print $2 }' > uuids
for i in $(cat uuids) ; do TVH_USER=admin TVH_PASS=admin python tvh-json.py export ""$i"" > /dev/null ; done

(though several exportcls in the second step gave me the ""Unknown data"" error, but I suppose it's because I have no elements defined for those classes)
(there was one failure, but that's because the ""grep uuid"" also got the device_uuid from satip_client)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1264,2019-02-26T07:51:08Z,2019-03-01T15:40:26Z,2019-03-01T15:40:26Z,CLOSED,False,1,1,1,https://github.com/olivluca,Change expected result type from export,1,[],https://github.com/tvheadend/tvheadend/pull/1264,https://github.com/perexg,5,https://github.com/tvheadend/tvheadend/pull/1264#issuecomment-468707147,"It appears that now the result type for ""export"" is a list and not a dictionary","Fixed in 0690af9, thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1265,2019-02-26T19:05:15Z,2019-03-01T15:40:06Z,2019-03-01T15:40:07Z,MERGED,True,2,2,2,https://github.com/mpmc,systemd: service/unit should not be started until after file-systems …,1,[],https://github.com/tvheadend/tvheadend/pull/1265,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1265,"…are mounted - this avoids ""file missing"" errors","…are mounted - this avoids ""file missing"" errors",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1266,2019-03-03T21:18:12Z,2019-03-13T15:18:59Z,2019-03-13T15:18:59Z,MERGED,True,16,10,1,https://github.com/olivluca,Add sat longitude and usals angle as parameters to the rotor external…,1,[],https://github.com/tvheadend/tvheadend/pull/1266,https://github.com/olivluca,1,https://github.com/tvheadend/tvheadend/pull/1266,"… command
Then the external command can decide whatever parameters to use to move the dish.
Even if I think I'm the only user of this feature, I'm not breaking the previous mode of operation: I'm only adding parameters, not changing the meaning of the existing one. Just in case somebody else is using this.
Related question: why is sat_angle returning a double while the return value is an integer and it is used as an integer in the existing calls?","… command
Then the external command can decide whatever parameters to use to move the dish.
Even if I think I'm the only user of this feature, I'm not breaking the previous mode of operation: I'm only adding parameters, not changing the meaning of the existing one. Just in case somebody else is using this.
Related question: why is sat_angle returning a double while the return value is an integer and it is used as an integer in the existing calls?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1267,2019-03-09T12:39:25Z,2019-10-15T07:07:24Z,2020-05-28T19:17:52Z,MERGED,True,16,0,2,https://github.com/virtualdj,Added patch to HDHomerun library to allow cross-compilation,1,[],https://github.com/tvheadend/tvheadend/pull/1267,https://github.com/virtualdj,1,https://github.com/tvheadend/tvheadend/pull/1267,"Allows to static build HDHomerun library when cross-compiling for other platforms (such as armel), see feature #5130.
The HDHomerun Makefile ignores the CC variable set by the TVHeadend makefile after configuration and this builds the libhdhomerun.a library with the host gcc (x86_64 for example). This gives errors when linking at the end:
Markdown: docs/wizard/network.md
Markdown: docs/wizard/status.md
CC              src/docs.o
CC              build.o
CC              timestamp.o
CC              tvheadend
/root/tvheadend/tvheadend/build.linux/hdhomerun/libhdhomerun/libhdhomerun.a: error adding symbols: File format not recognized
collect2: error: ld returned 1 exit status
Makefile:699: recipe for target '/root/tvheadend/tvheadend/build.linux/tvheadend' failed
make: *** [/root/tvheadend/tvheadend/build.linux/tvheadend] Error 1","Allows to static build HDHomerun library when cross-compiling for other platforms (such as armel), see feature #5130.
The HDHomerun Makefile ignores the CC variable set by the TVHeadend makefile after configuration and this builds the libhdhomerun.a library with the host gcc (x86_64 for example). This gives errors when linking at the end:
Markdown: docs/wizard/network.md
Markdown: docs/wizard/status.md
CC              src/docs.o
CC              build.o
CC              timestamp.o
CC              tvheadend
/root/tvheadend/tvheadend/build.linux/hdhomerun/libhdhomerun/libhdhomerun.a: error adding symbols: File format not recognized
collect2: error: ld returned 1 exit status
Makefile:699: recipe for target '/root/tvheadend/tvheadend/build.linux/tvheadend' failed
make: *** [/root/tvheadend/tvheadend/build.linux/tvheadend] Error 1",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1267,2019-03-09T12:39:25Z,2019-10-15T07:07:24Z,2020-05-28T19:17:52Z,MERGED,True,16,0,2,https://github.com/virtualdj,Added patch to HDHomerun library to allow cross-compilation,1,[],https://github.com/tvheadend/tvheadend/pull/1267,https://github.com/virtualdj,2,https://github.com/tvheadend/tvheadend/pull/1267#issuecomment-471174616,"Allows to static build HDHomerun library when cross-compiling for other platforms (such as armel), see feature #5130.
The HDHomerun Makefile ignores the CC variable set by the TVHeadend makefile after configuration and this builds the libhdhomerun.a library with the host gcc (x86_64 for example). This gives errors when linking at the end:
Markdown: docs/wizard/network.md
Markdown: docs/wizard/status.md
CC              src/docs.o
CC              build.o
CC              timestamp.o
CC              tvheadend
/root/tvheadend/tvheadend/build.linux/hdhomerun/libhdhomerun/libhdhomerun.a: error adding symbols: File format not recognized
collect2: error: ld returned 1 exit status
Makefile:699: recipe for target '/root/tvheadend/tvheadend/build.linux/tvheadend' failed
make: *** [/root/tvheadend/tvheadend/build.linux/tvheadend] Error 1","@perexg It would be great to have a similar fix for cross-compiling with ffmpeg-static, because it has the same issue (it doesn't use the correct CC).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1268,2019-03-10T10:06:42Z,2019-03-13T15:14:27Z,2019-03-13T15:14:27Z,MERGED,True,36,18,2,https://github.com/BKPepe,[4.2 release] Fix compilation with OpenSSL 1.1.1,2,[],https://github.com/tvheadend/tvheadend/pull/1268,https://github.com/BKPepe,1,https://github.com/tvheadend/tvheadend/pull/1268,"I'm cross-compiling release/4.2 for OpenWrt (and in their master, they're using OpenSSL 1.1.1b) and even tvheadend version 4.2.8 was tagged on 12th January 2019, there wasn't included PR #1217 , which was merged on 21st November 2018. Would be nice to have it included in the next stable version.
When I have included all the commits from @neheb, I have been able to successfully compile it. I will test it later on my router.
Otherwise release/4.2 (together with tagged version 4.2.8) ends up with output:
cc1: note: someone does not honour COPTS correctly, passed 2 times
src/main.c: In function 'main':
src/main.c:1356:3: error: implicit declaration of function 'ENGINE_cleanup'; did you mean 'EVP_PBE_cleanup'? [-Werror=implicit-function-declaration]
   ENGINE_cleanup();
   ^~~~~~~~~~~~~~
   EVP_PBE_cleanup
cc1: all warnings being treated as errors
make[3]: *** [Makefile:643: /home/pepe/work/turrisos40/omnia-hbd/build/build_dir/target-arm_cortex-a9+vfpv3_musl_eabi/tvheadend-release-4.2/build.linux/src/main.o] Error 1
make[3]: Leaving directory '/home/pepe/work/turrisos40/omnia-hbd/build/build_dir/target-arm_cortex-a9+vfpv3_musl_eabi/tvheadend-release-4.2'
make[2]: *** [Makefile:105: /home/pepe/work/turrisos40/omnia-hbd/build/build_dir/target-arm_cortex-a9+vfpv3_musl_eabi/tvheadend-release-4.2/.built] Error 2","I'm cross-compiling release/4.2 for OpenWrt (and in their master, they're using OpenSSL 1.1.1b) and even tvheadend version 4.2.8 was tagged on 12th January 2019, there wasn't included PR #1217 , which was merged on 21st November 2018. Would be nice to have it included in the next stable version.
When I have included all the commits from @neheb, I have been able to successfully compile it. I will test it later on my router.
Otherwise release/4.2 (together with tagged version 4.2.8) ends up with output:
cc1: note: someone does not honour COPTS correctly, passed 2 times
src/main.c: In function 'main':
src/main.c:1356:3: error: implicit declaration of function 'ENGINE_cleanup'; did you mean 'EVP_PBE_cleanup'? [-Werror=implicit-function-declaration]
   ENGINE_cleanup();
   ^~~~~~~~~~~~~~
   EVP_PBE_cleanup
cc1: all warnings being treated as errors
make[3]: *** [Makefile:643: /home/pepe/work/turrisos40/omnia-hbd/build/build_dir/target-arm_cortex-a9+vfpv3_musl_eabi/tvheadend-release-4.2/build.linux/src/main.o] Error 1
make[3]: Leaving directory '/home/pepe/work/turrisos40/omnia-hbd/build/build_dir/target-arm_cortex-a9+vfpv3_musl_eabi/tvheadend-release-4.2'
make[2]: *** [Makefile:105: /home/pepe/work/turrisos40/omnia-hbd/build/build_dir/target-arm_cortex-a9+vfpv3_musl_eabi/tvheadend-release-4.2/.built] Error 2",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1269,2019-03-10T19:18:13Z,2019-03-13T15:13:39Z,2019-03-13T15:13:39Z,MERGED,True,2,2,1,https://github.com/jebos,Update to newest ffmpeg to fix libX11 compile issue when vaapi is enabled.,1,[],https://github.com/tvheadend/tvheadend/pull/1269,https://github.com/jebos,1,https://github.com/tvheadend/tvheadend/pull/1269,"Compiling master on Ubuntu 18.04 and 18.10 with vaapi enabled causes an error (as described in https://tvheadend.org/issues/5504).
/usr/bin/ld: /root/tvheadend/build.linux/ffmpeg/build/ffmpeg/lib/libavutil.a(hwcontext_vaapi.o): undefined reference to symbol 'XDisplayName'
//usr/lib/x86_64-linux-gnu/libX11.so.6: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status
Makefile:709: recipe for target '/root/tvheadend/build.linux/tvheadend' failed
make2: * [/root/tvheadend/build.linux/tvheadend] Error 1
make2: Leaving directory '/root/tvheadend'
debian/rules:15: recipe for target 'override_dh_auto_build' failed
make1: [override_dh_auto_build] Error 2
make1: Leaving directory '/root/tvheadend'
debian/rules:6: recipe for target 'build' failed
make: ** [build] Error 2
dpkg-buildpackage: error: debian/rules build subprocess returned exit status 2

Updating to ffmpeg 4.1.1 resolved the issue for me.
This fixes #5504","Compiling master on Ubuntu 18.04 and 18.10 with vaapi enabled causes an error (as described in https://tvheadend.org/issues/5504).
/usr/bin/ld: /root/tvheadend/build.linux/ffmpeg/build/ffmpeg/lib/libavutil.a(hwcontext_vaapi.o): undefined reference to symbol 'XDisplayName'
//usr/lib/x86_64-linux-gnu/libX11.so.6: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status
Makefile:709: recipe for target '/root/tvheadend/build.linux/tvheadend' failed
make2: * [/root/tvheadend/build.linux/tvheadend] Error 1
make2: Leaving directory '/root/tvheadend'
debian/rules:15: recipe for target 'override_dh_auto_build' failed
make1: [override_dh_auto_build] Error 2
make1: Leaving directory '/root/tvheadend'
debian/rules:6: recipe for target 'build' failed
make: ** [build] Error 2
dpkg-buildpackage: error: debian/rules build subprocess returned exit status 2

Updating to ffmpeg 4.1.1 resolved the issue for me.
This fixes #5504",True,{'THUMBS_UP': ['https://github.com/DeBaschdi']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1270,2019-03-15T09:35:46Z,2019-03-15T12:23:50Z,2019-03-15T12:23:50Z,MERGED,True,2,2,1,https://github.com/dave-p,Freesat_huffman: Suppress characters < 0x20 except \n.,1,[],https://github.com/tvheadend/tvheadend/pull/1270,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1270,"Bug #5366 reported control codes appearing in EPG data on UK Freeview; this was fixed in commit 3ae6d94. However the same issue affects DVB-T2 channels where the EPG is Huffman coded.
freesat_huffman.c already has code to suppress these control codes, however the decoding is stopped when one is encountered and so the text is truncated. This patch drops the control codes but continues to decode the remaining text.","Bug #5366 reported control codes appearing in EPG data on UK Freeview; this was fixed in commit 3ae6d94. However the same issue affects DVB-T2 channels where the EPG is Huffman coded.
freesat_huffman.c already has code to suppress these control codes, however the decoding is stopped when one is encountered and so the text is truncated. This patch drops the control codes but continues to decode the remaining text.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1271,2019-03-27T23:29:32Z,2019-10-15T07:12:32Z,2019-10-15T07:12:32Z,MERGED,True,2,2,1,https://github.com/Trujulu, Mux scan: Log correction,1,[],https://github.com/tvheadend/tvheadend/pull/1271,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1271,"Should not it be the opposite?
2019-03-28 00:28:53.648 mpegts: 498MHz in A - scan timed out (9/6 tables)","Should not it be the opposite?
2019-03-28 00:28:53.648 mpegts: 498MHz in A - scan timed out (9/6 tables)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1272,2019-04-11T12:25:09Z,,2019-10-14T11:31:34Z,OPEN,False,104007,5,16,https://github.com/azlm8t,"[servicemapper]: Allow channel name mapping to be configurable, fixes #5599",1,[],https://github.com/tvheadend/tvheadend/pull/1272,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1272,"Allow user to specify the name they want for a service that is mapped
by the service mapper. For example, the UK has numerous regional
satellite channels called ""ITV"" which sometimes show different
programmes such as regional news.  These should really be called ""ITV
(London)"", ""ITV1 (Yorkshire)"", etc., to avoid being merged together.
Also we have some channels we do not want mapped at all based on
criteria such as regex. Although we could manually deselect such
channels, it is easier to do it automatically.
So we allow user to do this via an embedded JavaScript function.
We embed the MIT licence duktape 2.3.0 JavaScript
https://duktape.org/
https://wiki.duktape.org/Portability.html
The duktape webpage suggests RAM overhead is minimal at less
that 100kb.
We use the default configuration from the release and use it in the
service mapper to allow a user to specify their own script for
performing advanced mapping of services to channels.
For example, they might want to rename channels such as ""SE: Fjorton""
to ""Fjorton SE"", or to capitalize the channel names. These were
examples given in the issue #4715.
Although this could be possible via more tickboxes, it seems sensible
to allow the user to use a script. But should this be JavaScript?
So we pass an object containing the channel name and service id to the
user's script. If they return a name then we use it. If they return
null then we do not map the service at all. This allows the user to
exclude channels in which they are not interested such as shopping.
We also add a JavaScript function ""print"" to allow the user to log a
single string to our logs. This uses the new log level LS_JS.
The overhead for calling JavaScript only occurs if the user specifies a
script to use.
Currently the script is given at the UI such as:
({smMapName : function(svc) { print(svc.name + '/' + svc.sid); return svc.name; }})
Or
({
  smMapName : function(svc) {
    print(svc.name + '/' + svc.sid); 
    var svcmap = {21000: 'ITV1 HD (London)', 21020: 'ITV1 HD (Meridian, Anglia)'};
    var name = svcmap[svc.sid];
    return typeof name == 'undefined' ? svc.name : name; 
  }
})
The service_mapper looks up the function name ""smMapName"" and then
calls it with the object with a name and sid property.
We currently don't allow the script to be given as a filename on disk,
nor do we attempt to optimize the compilation of such a script to only
evaluate it once per mapping (the overhead seems negligible). However,
we could add a LRU cache of compiled functions in the future if
necessary.
One gotcha from using the duktape API is that if you call
""duk_safe_to_string"" to do debug logging of return values then it
appears this coerces the return type on the stack so a subsequent
""get"" or ""is null"" check will return incorrect results.
So, if the JS function returned null then duk_is_null would return
true, but if you do a log of ""duk_safe_to_string"" afterwards and then
check ""duk_is_null"" then it would return false.
Fixes: #5599","Allow user to specify the name they want for a service that is mapped
by the service mapper. For example, the UK has numerous regional
satellite channels called ""ITV"" which sometimes show different
programmes such as regional news.  These should really be called ""ITV
(London)"", ""ITV1 (Yorkshire)"", etc., to avoid being merged together.
Also we have some channels we do not want mapped at all based on
criteria such as regex. Although we could manually deselect such
channels, it is easier to do it automatically.
So we allow user to do this via an embedded JavaScript function.
We embed the MIT licence duktape 2.3.0 JavaScript
https://duktape.org/
https://wiki.duktape.org/Portability.html
The duktape webpage suggests RAM overhead is minimal at less
that 100kb.
We use the default configuration from the release and use it in the
service mapper to allow a user to specify their own script for
performing advanced mapping of services to channels.
For example, they might want to rename channels such as ""SE: Fjorton""
to ""Fjorton SE"", or to capitalize the channel names. These were
examples given in the issue #4715.
Although this could be possible via more tickboxes, it seems sensible
to allow the user to use a script. But should this be JavaScript?
So we pass an object containing the channel name and service id to the
user's script. If they return a name then we use it. If they return
null then we do not map the service at all. This allows the user to
exclude channels in which they are not interested such as shopping.
We also add a JavaScript function ""print"" to allow the user to log a
single string to our logs. This uses the new log level LS_JS.
The overhead for calling JavaScript only occurs if the user specifies a
script to use.
Currently the script is given at the UI such as:
({smMapName : function(svc) { print(svc.name + '/' + svc.sid); return svc.name; }})
Or
({
  smMapName : function(svc) {
    print(svc.name + '/' + svc.sid); 
    var svcmap = {21000: 'ITV1 HD (London)', 21020: 'ITV1 HD (Meridian, Anglia)'};
    var name = svcmap[svc.sid];
    return typeof name == 'undefined' ? svc.name : name; 
  }
})
The service_mapper looks up the function name ""smMapName"" and then
calls it with the object with a name and sid property.
We currently don't allow the script to be given as a filename on disk,
nor do we attempt to optimize the compilation of such a script to only
evaluate it once per mapping (the overhead seems negligible). However,
we could add a LRU cache of compiled functions in the future if
necessary.
One gotcha from using the duktape API is that if you call
""duk_safe_to_string"" to do debug logging of return values then it
appears this coerces the return type on the stack so a subsequent
""get"" or ""is null"" check will return incorrect results.
So, if the JS function returned null then duk_is_null would return
true, but if you do a log of ""duk_safe_to_string"" afterwards and then
check ""duk_is_null"" then it would return false.
Fixes: #5599",True,"{'HEART': ['https://github.com/Trujulu', 'https://github.com/dreamcat4']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1272,2019-04-11T12:25:09Z,,2019-10-14T11:31:34Z,OPEN,False,104007,5,16,https://github.com/azlm8t,"[servicemapper]: Allow channel name mapping to be configurable, fixes #5599",1,[],https://github.com/tvheadend/tvheadend/pull/1272,https://github.com/azlm8t,2,https://github.com/tvheadend/tvheadend/pull/1272#issuecomment-482095478,"Allow user to specify the name they want for a service that is mapped
by the service mapper. For example, the UK has numerous regional
satellite channels called ""ITV"" which sometimes show different
programmes such as regional news.  These should really be called ""ITV
(London)"", ""ITV1 (Yorkshire)"", etc., to avoid being merged together.
Also we have some channels we do not want mapped at all based on
criteria such as regex. Although we could manually deselect such
channels, it is easier to do it automatically.
So we allow user to do this via an embedded JavaScript function.
We embed the MIT licence duktape 2.3.0 JavaScript
https://duktape.org/
https://wiki.duktape.org/Portability.html
The duktape webpage suggests RAM overhead is minimal at less
that 100kb.
We use the default configuration from the release and use it in the
service mapper to allow a user to specify their own script for
performing advanced mapping of services to channels.
For example, they might want to rename channels such as ""SE: Fjorton""
to ""Fjorton SE"", or to capitalize the channel names. These were
examples given in the issue #4715.
Although this could be possible via more tickboxes, it seems sensible
to allow the user to use a script. But should this be JavaScript?
So we pass an object containing the channel name and service id to the
user's script. If they return a name then we use it. If they return
null then we do not map the service at all. This allows the user to
exclude channels in which they are not interested such as shopping.
We also add a JavaScript function ""print"" to allow the user to log a
single string to our logs. This uses the new log level LS_JS.
The overhead for calling JavaScript only occurs if the user specifies a
script to use.
Currently the script is given at the UI such as:
({smMapName : function(svc) { print(svc.name + '/' + svc.sid); return svc.name; }})
Or
({
  smMapName : function(svc) {
    print(svc.name + '/' + svc.sid); 
    var svcmap = {21000: 'ITV1 HD (London)', 21020: 'ITV1 HD (Meridian, Anglia)'};
    var name = svcmap[svc.sid];
    return typeof name == 'undefined' ? svc.name : name; 
  }
})
The service_mapper looks up the function name ""smMapName"" and then
calls it with the object with a name and sid property.
We currently don't allow the script to be given as a filename on disk,
nor do we attempt to optimize the compilation of such a script to only
evaluate it once per mapping (the overhead seems negligible). However,
we could add a LRU cache of compiled functions in the future if
necessary.
One gotcha from using the duktape API is that if you call
""duk_safe_to_string"" to do debug logging of return values then it
appears this coerces the return type on the stack so a subsequent
""get"" or ""is null"" check will return incorrect results.
So, if the JS function returned null then duk_is_null would return
true, but if you do a log of ""duk_safe_to_string"" afterwards and then
check ""duk_is_null"" then it would return false.
Fixes: #5599","I think we need to consider:

whether this patch is an interface we want to support going forward;
whether JavaScript and this implementation of JS are the ones we want;
is this the way we want to call and use JS;
should we just stick to shell script.

If there is to be a major release in the next few months, then perhaps
we should delay until after then so we have plenty of time to
experiment in the next dev cycle.
I thought an embedded language would be nice since it allows us to
easily pass more complicated objects to user scripts and easily get
back values and can be used even in fairly critical paths.
I ruled out:

Perl/Python due to their large runtimes/compile time complexities;
Lua since its syntax aims to be similar to Pascal and doesn't support regex;
Guile since it never seemed to attract a large user base;
mujs since duktape seemed to have better support on github;
various other JS that were C++ based.

Although we could use an anonymous JS function as the callback, I
thought having a named function might make it easier to extend in the
future. I don't expect many users will use complicated scripts, but
I imagine some small scripts would be shared in the forum and
just copied+pasted by other people.
The JS itself is a relatively small runtime, but it does provide the
basics such as regex, string manipulation, etc. Perhaps this is
enough.  JS doesn't support 64-bit numbers and perhaps we will
have complaints that we can't do X,Y,Z and
have to add more FFI calls/implement more API ourselves making
it tedious to support. I don't know.
This feature could have been done using a shell-script, but I can see
merit in allowing extensions to be run internally to the server where
overhead of launching a script could be costly. For example advanced
autorec rules (some people want !=, >, < in various fields or want to
search title and description, etc.); or perhaps in OTA EIT tidy-up, etc.,
and it could be useful in ""recording filename"" since some people want
very specific naming.
We could also use it for adding an event system so users could hook
in for debug or other reasons. For example a
    TVHEVENT(""dvr_autorec_create"", node)

I suspect this JS would be easily fast enough for these cases even on
a Pi, and the portability page says it works on most architectures.
Going forward, I think we should probably allow the user to either
write a function or put the name of a file containing JavaScript to
load and compile using a simple test of whether the JS matches
""^/[^/*].*js"". This would allow longer scripts.
As they said in Jurassic Park, ""Your scientists were so preoccupied
with whether or not they could, they didn’t stop to think if they
should."" So, although I think this patch is possibly a good thing,
I'm equally happy for it to be rejected or delayed, or even accepted
and reverted.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1273,2019-05-01T10:04:24Z,,2020-09-14T19:47:57Z,OPEN,False,190,1,1,https://github.com/azlm8t,"bouquet: Allow merging of services across network bouquet, fixes #5617",1,[],https://github.com/tvheadend/tvheadend/pull/1273,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1273,"In a mixed network environment (such as DVB-T and DVB-S) it is common
to receive many of the same channels. However, with ""auto map to
channels"" on a bouquet, you could not merge the channels across the
network bouquets.
Now we create a separate ""Tvheadend Network"" in the bouquets and allow
""auto map to channels"" on it. Any other bouquets that are enabled but
do not have ""auto map to channels"" enabled will be added to the
enabled ""Tvheadend Network"".
So, if ""DVB-T Network"" and ""DVB-S Network"" in the bouquet tab are both
enabled and their tickbox for ""auto map to channels"" is deselected,
then their services will be added to the ""Tvheadend Network"". That can
then be enabled with ""merge channels"" to produce the merged channels.
We call it ""Tvheadend Network"" instead of ""Tvheaded Virtual Bouquet""
to be consistent with the other auto-generated names.
The new bouquet is lazily updated to ensure the CPU overhead is
minimized. This means that when other bouquets are scanned, we wait
until the system is quiet before updating the new bouquet with
the new channels. We do a full scan for the bouquet to ensure all
the counts are correctly updated in the bouquet tab.
Fixes: #5617","In a mixed network environment (such as DVB-T and DVB-S) it is common
to receive many of the same channels. However, with ""auto map to
channels"" on a bouquet, you could not merge the channels across the
network bouquets.
Now we create a separate ""Tvheadend Network"" in the bouquets and allow
""auto map to channels"" on it. Any other bouquets that are enabled but
do not have ""auto map to channels"" enabled will be added to the
enabled ""Tvheadend Network"".
So, if ""DVB-T Network"" and ""DVB-S Network"" in the bouquet tab are both
enabled and their tickbox for ""auto map to channels"" is deselected,
then their services will be added to the ""Tvheadend Network"". That can
then be enabled with ""merge channels"" to produce the merged channels.
We call it ""Tvheadend Network"" instead of ""Tvheaded Virtual Bouquet""
to be consistent with the other auto-generated names.
The new bouquet is lazily updated to ensure the CPU overhead is
minimized. This means that when other bouquets are scanned, we wait
until the system is quiet before updating the new bouquet with
the new channels. We do a full scan for the bouquet to ensure all
the counts are correctly updated in the bouquet tab.
Fixes: #5617",True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1273,2019-05-01T10:04:24Z,,2020-09-14T19:47:57Z,OPEN,False,190,1,1,https://github.com/azlm8t,"bouquet: Allow merging of services across network bouquet, fixes #5617",1,[],https://github.com/tvheadend/tvheadend/pull/1273,https://github.com/tenfire,2,https://github.com/tvheadend/tvheadend/pull/1273#issuecomment-525824902,"In a mixed network environment (such as DVB-T and DVB-S) it is common
to receive many of the same channels. However, with ""auto map to
channels"" on a bouquet, you could not merge the channels across the
network bouquets.
Now we create a separate ""Tvheadend Network"" in the bouquets and allow
""auto map to channels"" on it. Any other bouquets that are enabled but
do not have ""auto map to channels"" enabled will be added to the
enabled ""Tvheadend Network"".
So, if ""DVB-T Network"" and ""DVB-S Network"" in the bouquet tab are both
enabled and their tickbox for ""auto map to channels"" is deselected,
then their services will be added to the ""Tvheadend Network"". That can
then be enabled with ""merge channels"" to produce the merged channels.
We call it ""Tvheadend Network"" instead of ""Tvheaded Virtual Bouquet""
to be consistent with the other auto-generated names.
The new bouquet is lazily updated to ensure the CPU overhead is
minimized. This means that when other bouquets are scanned, we wait
until the system is quiet before updating the new bouquet with
the new channels. We do a full scan for the bouquet to ensure all
the counts are correctly updated in the bouquet tab.
Fixes: #5617","I have been testing this merge request for a couple of weeks now, and it seems to work very well.
I lay my vote (if I had one) for this to be merged.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1273,2019-05-01T10:04:24Z,,2020-09-14T19:47:57Z,OPEN,False,190,1,1,https://github.com/azlm8t,"bouquet: Allow merging of services across network bouquet, fixes #5617",1,[],https://github.com/tvheadend/tvheadend/pull/1273,https://github.com/j0nnymoe,3,https://github.com/tvheadend/tvheadend/pull/1273#issuecomment-692275020,"In a mixed network environment (such as DVB-T and DVB-S) it is common
to receive many of the same channels. However, with ""auto map to
channels"" on a bouquet, you could not merge the channels across the
network bouquets.
Now we create a separate ""Tvheadend Network"" in the bouquets and allow
""auto map to channels"" on it. Any other bouquets that are enabled but
do not have ""auto map to channels"" enabled will be added to the
enabled ""Tvheadend Network"".
So, if ""DVB-T Network"" and ""DVB-S Network"" in the bouquet tab are both
enabled and their tickbox for ""auto map to channels"" is deselected,
then their services will be added to the ""Tvheadend Network"". That can
then be enabled with ""merge channels"" to produce the merged channels.
We call it ""Tvheadend Network"" instead of ""Tvheaded Virtual Bouquet""
to be consistent with the other auto-generated names.
The new bouquet is lazily updated to ensure the CPU overhead is
minimized. This means that when other bouquets are scanned, we wait
until the system is quiet before updating the new bouquet with
the new channels. We do a full scan for the bouquet to ensure all
the counts are correctly updated in the bouquet tab.
Fixes: #5617","Any news on when this will be merged or what needs to be done? Been looking for this feature for a while!
Thanks",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1274,2019-05-11T23:20:52Z,2019-05-20T16:41:41Z,2019-05-20T16:41:41Z,MERGED,True,2,2,1,https://github.com/anssih,Fix en50221 menu text handling,2,[],https://github.com/tvheadend/tvheadend/pull/1274,https://github.com/anssih,1,https://github.com/tvheadend/tvheadend/pull/1274,Fix several issues in the en50221 menu text handling code that prevented the CAM messages from being passed on and then logged by linuxdvb_ca.c.,Fix several issues in the en50221 menu text handling code that prevented the CAM messages from being passed on and then logged by linuxdvb_ca.c.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1275,2019-05-14T17:19:26Z,2019-10-15T07:04:14Z,2019-10-15T07:04:14Z,MERGED,True,217,61,9,https://github.com/azlm8t,"xmltv: limit epg details for low memory devices, fixes #5630",4,[],https://github.com/tvheadend/tvheadend/pull/1275,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1275,"Requested in the forums.  https://tvheadend.org/boards/12/topics/37170
Some TVs have limited xmltv support, have very limited memory and don't support description or other large text fields. So, add an enum to the user to choose a basic format to reduce memory usage on clients. This will strip many large text fields.
I also changed the xmltv to never output 'lang=""xyz""' fields if there is only one language. This reduces the file size.
I also added the ""basic fields"" support to htsp. However I'm happy to re-deliver without that commit if it's not that useful.
Many of the changes are just whitespace or splitting the basic/normal output in to a separate function.
I don't use the features, but Saen has been testing the xmltv for a couple of weeks.","Requested in the forums.  https://tvheadend.org/boards/12/topics/37170
Some TVs have limited xmltv support, have very limited memory and don't support description or other large text fields. So, add an enum to the user to choose a basic format to reduce memory usage on clients. This will strip many large text fields.
I also changed the xmltv to never output 'lang=""xyz""' fields if there is only one language. This reduces the file size.
I also added the ""basic fields"" support to htsp. However I'm happy to re-deliver without that commit if it's not that useful.
Many of the changes are just whitespace or splitting the basic/normal output in to a separate function.
I don't use the features, but Saen has been testing the xmltv for a couple of weeks.",True,"{'THUMBS_UP': ['https://github.com/Trujulu', 'https://github.com/Saentist']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1275,2019-05-14T17:19:26Z,2019-10-15T07:04:14Z,2019-10-15T07:04:14Z,MERGED,True,217,61,9,https://github.com/azlm8t,"xmltv: limit epg details for low memory devices, fixes #5630",4,[],https://github.com/tvheadend/tvheadend/pull/1275,https://github.com/Saentist,2,https://github.com/tvheadend/tvheadend/pull/1275#issuecomment-494107569,"Requested in the forums.  https://tvheadend.org/boards/12/topics/37170
Some TVs have limited xmltv support, have very limited memory and don't support description or other large text fields. So, add an enum to the user to choose a basic format to reduce memory usage on clients. This will strip many large text fields.
I also changed the xmltv to never output 'lang=""xyz""' fields if there is only one language. This reduces the file size.
I also added the ""basic fields"" support to htsp. However I'm happy to re-deliver without that commit if it's not that useful.
Many of the changes are just whitespace or splitting the basic/normal output in to a separate function.
I don't use the features, but Saen has been testing the xmltv for a couple of weeks.","azim8t there is some missing in code it allow lines with series numbers
<episode-num system=""xmltv-ns""> . 1 .   </episode-num></programme>",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1275,2019-05-14T17:19:26Z,2019-10-15T07:04:14Z,2019-10-15T07:04:14Z,MERGED,True,217,61,9,https://github.com/azlm8t,"xmltv: limit epg details for low memory devices, fixes #5630",4,[],https://github.com/tvheadend/tvheadend/pull/1275,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1275#issuecomment-494121441,"Requested in the forums.  https://tvheadend.org/boards/12/topics/37170
Some TVs have limited xmltv support, have very limited memory and don't support description or other large text fields. So, add an enum to the user to choose a basic format to reduce memory usage on clients. This will strip many large text fields.
I also changed the xmltv to never output 'lang=""xyz""' fields if there is only one language. This reduces the file size.
I also added the ""basic fields"" support to htsp. However I'm happy to re-deliver without that commit if it's not that useful.
Many of the changes are just whitespace or splitting the basic/normal output in to a separate function.
I don't use the features, but Saen has been testing the xmltv for a couple of weeks.","I think the episode-num is correct in the xmltv output.
If your guide provides season or episode then it will still be passed through even with ""basic"". This should help other xmltv clients to do lookup (even though TV's IPTV currently does not use it).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1276,2019-05-16T11:54:47Z,2019-05-20T16:36:23Z,2019-05-20T16:36:23Z,MERGED,True,2,1,1,https://github.com/azlm8t,fanart: Fix decode error for non-ASCII data,1,[],https://github.com/tvheadend/tvheadend/pull/1276,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1276,"The text returned from the server is utf-8 so needs an explicit
decode otherwise it defaults to ASCII and fails for programmes
with non-ASCII titles.","The text returned from the server is utf-8 so needs an explicit
decode otherwise it defaults to ASCII and fails for programmes
with non-ASCII titles.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1277,2019-05-31T18:03:44Z,2019-10-15T07:02:04Z,2019-10-15T07:02:04Z,MERGED,True,1,5,1,https://github.com/HvB,bugfix for autorecs duplicate episode number detection in autorecs,1,[],https://github.com/tvheadend/tvheadend/pull/1277,https://github.com/HvB,1,https://github.com/tvheadend/tvheadend/pull/1277,"""record if different episode number"" doesn't work as expected in the master branch:  https://tvheadend.org/issues/5632
With this modification, the season will be taken into account, as it was before, in order to determine if two episodes have different episode number or not.","""record if different episode number"" doesn't work as expected in the master branch:  https://tvheadend.org/issues/5632
With this modification, the season will be taken into account, as it was before, in order to determine if two episodes have different episode number or not.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1277,2019-05-31T18:03:44Z,2019-10-15T07:02:04Z,2019-10-15T07:02:04Z,MERGED,True,1,5,1,https://github.com/HvB,bugfix for autorecs duplicate episode number detection in autorecs,1,[],https://github.com/tvheadend/tvheadend/pull/1277,https://github.com/HvB,2,https://github.com/tvheadend/tvheadend/pull/1277#issuecomment-497807821,"""record if different episode number"" doesn't work as expected in the master branch:  https://tvheadend.org/issues/5632
With this modification, the season will be taken into account, as it was before, in order to determine if two episodes have different episode number or not.",Not sure what's better to use between epg_episode_number_cmp function or epg_episode_number_cmpfull,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1278,2019-06-08T09:39:21Z,2019-06-30T14:39:42Z,2019-06-30T15:46:53Z,CLOSED,False,12,18,1,https://github.com/premultiply,Fix bogus ONID and TSID remapping,1,[],https://github.com/tvheadend/tvheadend/pull/1278,https://github.com/premultiply,1,https://github.com/tvheadend/tvheadend/pull/1278,"ONID and TSID values of 65535 (0xFFFF) are used and valid values.
This fix allows the proper reception of streams with this value.","ONID and TSID values of 65535 (0xFFFF) are used and valid values.
This fix allows the proper reception of streams with this value.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1278,2019-06-08T09:39:21Z,2019-06-30T14:39:42Z,2019-06-30T15:46:53Z,CLOSED,False,12,18,1,https://github.com/premultiply,Fix bogus ONID and TSID remapping,1,[],https://github.com/tvheadend/tvheadend/pull/1278,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1278#issuecomment-507041716,"ONID and TSID values of 65535 (0xFFFF) are used and valid values.
This fix allows the proper reception of streams with this value.","Your patch is not correct. Ok, I though that we need 32-bit tsid/onid values, but I was lazy like you to do the proper change. Fixed in bf7532d and yours modified dcc50db..",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1278,2019-06-08T09:39:21Z,2019-06-30T14:39:42Z,2019-06-30T15:46:53Z,CLOSED,False,12,18,1,https://github.com/premultiply,Fix bogus ONID and TSID remapping,1,[],https://github.com/tvheadend/tvheadend/pull/1278,https://github.com/premultiply,3,https://github.com/tvheadend/tvheadend/pull/1278#issuecomment-507046572,"ONID and TSID values of 65535 (0xFFFF) are used and valid values.
This fix allows the proper reception of streams with this value.",Thanks! ;-),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1279,2019-06-14T12:38:15Z,2019-06-30T14:18:26Z,2019-06-30T14:18:26Z,MERGED,True,4,1,1,https://github.com/giuliobenetti,Makefile: fix -pie linking according to --disable-pie,1,[],https://github.com/tvheadend/tvheadend/pull/1279,https://github.com/giuliobenetti,1,https://github.com/tvheadend/tvheadend/pull/1279,"Only compilation follows './configure --disable-pie', linking instead
doesn't, because '-pie' flag is passed to LDFLAGS uncoditionally.
So add '-pie' flag only if CONFIG_PIE=yes.
Signed-off-by: Giulio Benetti giulio.benetti@micronovasrl.com","Only compilation follows './configure --disable-pie', linking instead
doesn't, because '-pie' flag is passed to LDFLAGS uncoditionally.
So add '-pie' flag only if CONFIG_PIE=yes.
Signed-off-by: Giulio Benetti giulio.benetti@micronovasrl.com",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1280,2019-06-18T09:04:14Z,2019-06-18T09:12:15Z,2019-06-18T09:28:46Z,CLOSED,False,1,1,1,https://github.com/caveman99,fix #5661 Compilation Error with latest Master,1,[],https://github.com/tvheadend/tvheadend/pull/1280,https://github.com/caveman99,1,https://github.com/tvheadend/tvheadend/pull/1280,don't assign const char to char pointer,don't assign const char to char pointer,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1280,2019-06-18T09:04:14Z,2019-06-18T09:12:15Z,2019-06-18T09:28:46Z,CLOSED,False,1,1,1,https://github.com/caveman99,fix #5661 Compilation Error with latest Master,1,[],https://github.com/tvheadend/tvheadend/pull/1280,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1280#issuecomment-503019077,don't assign const char to char pointer,"It would be better to use only capmt_peek_str(), it always returns a non-NULL string. Fixed in 771dfd6 .",True,{'THUMBS_UP': ['https://github.com/caveman99']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1280,2019-06-18T09:04:14Z,2019-06-18T09:12:15Z,2019-06-18T09:28:46Z,CLOSED,False,1,1,1,https://github.com/caveman99,fix #5661 Compilation Error with latest Master,1,[],https://github.com/tvheadend/tvheadend/pull/1280,https://github.com/caveman99,3,https://github.com/tvheadend/tvheadend/pull/1280#issuecomment-503025269,don't assign const char to char pointer,Thanks for the quick fix. I was under the impression the 'unknown' was kind of important ;-),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1281,2019-06-26T23:38:06Z,2019-06-30T14:19:15Z,2019-10-16T12:05:30Z,MERGED,True,2,1,1,https://github.com/mamarley,Fix compilation with libhdhomerun 20190621,1,[],https://github.com/tvheadend/tvheadend/pull/1281,https://github.com/mamarley,1,https://github.com/tvheadend/tvheadend/pull/1281,"They renamed the symbol that was used to determine whether the
""hdhomerun_discover_find_devices_custom"" needed to be aliased,
causing an FTBFS.  Instead, recognize both the old and new symbols.","They renamed the symbol that was used to determine whether the
""hdhomerun_discover_find_devices_custom"" needed to be aliased,
causing an FTBFS.  Instead, recognize both the old and new symbols.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1281,2019-06-26T23:38:06Z,2019-06-30T14:19:15Z,2019-10-16T12:05:30Z,MERGED,True,2,1,1,https://github.com/mamarley,Fix compilation with libhdhomerun 20190621,1,[],https://github.com/tvheadend/tvheadend/pull/1281,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/1281#issuecomment-509005340,"They renamed the symbol that was used to determine whether the
""hdhomerun_discover_find_devices_custom"" needed to be aliased,
causing an FTBFS.  Instead, recognize both the old and new symbols.",manually backported to 4.2 and it works there too 👍,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1282,2019-06-29T21:33:36Z,2019-06-30T14:19:44Z,2019-07-09T21:24:15Z,MERGED,True,1,2,1,https://github.com/Koumes,linuxdvb: fix signal status monitor,1,[],https://github.com/tvheadend/tvheadend/pull/1282,https://github.com/Koumes,1,https://github.com/tvheadend/tvheadend/pull/1282,"Fix unknown signal and device status (HTSP Client) in the first 26 minutes after power on.
Incompatible values were compared:
time() = now = 1561843153 [s]
mclk() = uptime [μs]

  
    
      tvheadend/src/input/mpegts/linuxdvb/linuxdvb_frontend.c
    
    
        Lines 2024 to 2030
      in
      453ee8d
    
  
  
    

        
          
           /* Start monitor */ 
        

        
          
           if (!r) { 
        

        
          
             time(&lfe->lfe_monitor); 
        

        
          
             lfe->lfe_monitor += 4; 
        

        
          
             mtimer_arm_rel(&lfe->lfe_monitor_timer, linuxdvb_frontend_monitor, lfe, ms2mono(50)); 
        

        
          
             lfe->lfe_ready = 1; 
        

        
          
           } 
        
    
  



  
    
      tvheadend/src/input/mpegts/linuxdvb/linuxdvb_frontend.c
    
    
        Lines 998 to 1007
      in
      453ee8d
    
  
  
    

        
          
               /* Monitor 1 per sec */ 
        

        
          
               if (mclk() < lfe->lfe_monitor) 
        

        
          
                 return; 
        

        
          
               lfe->lfe_monitor = mclk() + sec2mono(1); 
        

        
          
             } 
        

        
          
           } else { 
        

        
          
             if (mclk() < lfe->lfe_monitor) 
        

        
          
               return; 
        

        
          
             lfe->lfe_monitor = mclk() + ms2mono(period); 
        

        
          
           } 
        
    
  


Patch tested with CoreELEC 9.0.x (devel) + Kodi 18.3 + Tvheadend HTSP Client 4.4.18.1 + Tvheadend Server 4.2.7.","Fix unknown signal and device status (HTSP Client) in the first 26 minutes after power on.
Incompatible values were compared:
time() = now = 1561843153 [s]
mclk() = uptime [μs]

  
    
      tvheadend/src/input/mpegts/linuxdvb/linuxdvb_frontend.c
    
    
        Lines 2024 to 2030
      in
      453ee8d
    
  
  
    

        
          
           /* Start monitor */ 
        

        
          
           if (!r) { 
        

        
          
             time(&lfe->lfe_monitor); 
        

        
          
             lfe->lfe_monitor += 4; 
        

        
          
             mtimer_arm_rel(&lfe->lfe_monitor_timer, linuxdvb_frontend_monitor, lfe, ms2mono(50)); 
        

        
          
             lfe->lfe_ready = 1; 
        

        
          
           } 
        
    
  



  
    
      tvheadend/src/input/mpegts/linuxdvb/linuxdvb_frontend.c
    
    
        Lines 998 to 1007
      in
      453ee8d
    
  
  
    

        
          
               /* Monitor 1 per sec */ 
        

        
          
               if (mclk() < lfe->lfe_monitor) 
        

        
          
                 return; 
        

        
          
               lfe->lfe_monitor = mclk() + sec2mono(1); 
        

        
          
             } 
        

        
          
           } else { 
        

        
          
             if (mclk() < lfe->lfe_monitor) 
        

        
          
               return; 
        

        
          
             lfe->lfe_monitor = mclk() + ms2mono(period); 
        

        
          
           } 
        
    
  


Patch tested with CoreELEC 9.0.x (devel) + Kodi 18.3 + Tvheadend HTSP Client 4.4.18.1 + Tvheadend Server 4.2.7.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1283,2019-07-01T20:11:11Z,2019-07-02T08:02:04Z,2019-07-06T06:32:19Z,MERGED,True,3,2,3,https://github.com/bkuhls,Include stdio.h before tvheadend headers,1,[],https://github.com/tvheadend/tvheadend/pull/1283,https://github.com/bkuhls,1,https://github.com/tvheadend/tvheadend/pull/1283,Fixes build error with uClibc: https://www.tvheadend.org/issues/5667,Fixes build error with uClibc: https://www.tvheadend.org/issues/5667,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1284,2019-07-01T23:44:13Z,2019-10-15T07:03:13Z,2020-09-28T22:08:04Z,MERGED,True,30,0,2,https://github.com/mpmc,autobuild: add build target for raspbian-buster,1,[],https://github.com/tvheadend/tvheadend/pull/1284,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1284,"Please also cherry pick 2d020e8 for release/4.2, note these builds will fail until @andoma has a chance to add the required buildenv to doozer.io","Please also cherry pick 2d020e8 for release/4.2, note these builds will fail until @andoma has a chance to add the required buildenv to doozer.io",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1284,2019-07-01T23:44:13Z,2019-10-15T07:03:13Z,2020-09-28T22:08:04Z,MERGED,True,30,0,2,https://github.com/mpmc,autobuild: add build target for raspbian-buster,1,[],https://github.com/tvheadend/tvheadend/pull/1284,https://github.com/oldium,2,https://github.com/tvheadend/tvheadend/pull/1284#issuecomment-533600827,"Please also cherry pick 2d020e8 for release/4.2, note these builds will fail until @andoma has a chance to add the required buildenv to doozer.io","Any update on this topic, please? Thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1284,2019-07-01T23:44:13Z,2019-10-15T07:03:13Z,2020-09-28T22:08:04Z,MERGED,True,30,0,2,https://github.com/mpmc,autobuild: add build target for raspbian-buster,1,[],https://github.com/tvheadend/tvheadend/pull/1284,https://github.com/mpmc,3,https://github.com/tvheadend/tvheadend/pull/1284#issuecomment-533811117,"Please also cherry pick 2d020e8 for release/4.2, note these builds will fail until @andoma has a chance to add the required buildenv to doozer.io","Any update on this topic, please? Thanks.

Still waiting for it to be merged (pokes @perexg) and for the build-env to be added to doozer.io (also pokes @andoma )",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1284,2019-07-01T23:44:13Z,2019-10-15T07:03:13Z,2020-09-28T22:08:04Z,MERGED,True,30,0,2,https://github.com/mpmc,autobuild: add build target for raspbian-buster,1,[],https://github.com/tvheadend/tvheadend/pull/1284,https://github.com/lloyda,4,https://github.com/tvheadend/tvheadend/pull/1284#issuecomment-584296704,"Please also cherry pick 2d020e8 for release/4.2, note these builds will fail until @andoma has a chance to add the required buildenv to doozer.io",Just wondering if there was any update on a getting a Raspbian Buster build for 4.3?,True,"{'THUMBS_UP': ['https://github.com/oldium', 'https://github.com/bartgrefte', 'https://github.com/rursache']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1284,2019-07-01T23:44:13Z,2019-10-15T07:03:13Z,2020-09-28T22:08:04Z,MERGED,True,30,0,2,https://github.com/mpmc,autobuild: add build target for raspbian-buster,1,[],https://github.com/tvheadend/tvheadend/pull/1284,https://github.com/Flole998,5,https://github.com/tvheadend/tvheadend/pull/1284#issuecomment-629213861,"Please also cherry pick 2d020e8 for release/4.2, note these builds will fail until @andoma has a chance to add the required buildenv to doozer.io","@andoma I'm currently trying to fix all the doozer build issues, unfortunately we are still missing the raspbian-buster build-env. Could you please add that so we can get a green checkmark on doozer aswell?",True,{'THUMBS_UP': ['https://github.com/oldium']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1284,2019-07-01T23:44:13Z,2019-10-15T07:03:13Z,2020-09-28T22:08:04Z,MERGED,True,30,0,2,https://github.com/mpmc,autobuild: add build target for raspbian-buster,1,[],https://github.com/tvheadend/tvheadend/pull/1284,https://github.com/oldium,6,https://github.com/tvheadend/tvheadend/pull/1284#issuecomment-657214043,"Please also cherry pick 2d020e8 for release/4.2, note these builds will fail until @andoma has a chance to add the required buildenv to doozer.io","Any update @andoma, please? Still awaiting Raspbian Buster support...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1284,2019-07-01T23:44:13Z,2019-10-15T07:03:13Z,2020-09-28T22:08:04Z,MERGED,True,30,0,2,https://github.com/mpmc,autobuild: add build target for raspbian-buster,1,[],https://github.com/tvheadend/tvheadend/pull/1284,https://github.com/Flole998,7,https://github.com/tvheadend/tvheadend/pull/1284#issuecomment-700309973,"Please also cherry pick 2d020e8 for release/4.2, note these builds will fail until @andoma has a chance to add the required buildenv to doozer.io",Reverting this commit for now as it has no use at the moment....,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1285,2019-07-06T06:41:34Z,2019-10-15T07:10:34Z,2020-01-18T09:07:06Z,MERGED,True,1,0,1,https://github.com/bkuhls,tvhcsa.c: include stdio.h,1,[],https://github.com/tvheadend/tvheadend/pull/1285,https://github.com/bkuhls,1,https://github.com/tvheadend/tvheadend/pull/1285,"Fixes uclibc build error:
CC              src/descrambler/tvhcsa.o
In file included from /home/buildroot/autobuild/instance-0/output/build/tvheadend-8f1de1621d78c91431238176bf4f6290870a031a/src/tvhlog.h:30:0,
from src/descrambler/tvhcsa.h:30,
from src/descrambler/tvhcsa.c:19:
/home/buildroot/autobuild/instance-0/output/build/tvheadend-8f1de1621d78c91431238176bf4f6290870a031a/src/tvh_thread.h:163:25:
error: unknown type name '__do_not_use_pthread_mutex_t'
#define pthread_mutex_t __do_not_use_pthread_mutex_t
detected by buildroot autobuilder:
http://autobuild.buildroot.net/results/627/627e7080e655005d6724b9977670cc73059d6281/","Fixes uclibc build error:
CC              src/descrambler/tvhcsa.o
In file included from /home/buildroot/autobuild/instance-0/output/build/tvheadend-8f1de1621d78c91431238176bf4f6290870a031a/src/tvhlog.h:30:0,
from src/descrambler/tvhcsa.h:30,
from src/descrambler/tvhcsa.c:19:
/home/buildroot/autobuild/instance-0/output/build/tvheadend-8f1de1621d78c91431238176bf4f6290870a031a/src/tvh_thread.h:163:25:
error: unknown type name '__do_not_use_pthread_mutex_t'
#define pthread_mutex_t __do_not_use_pthread_mutex_t
detected by buildroot autobuilder:
http://autobuild.buildroot.net/results/627/627e7080e655005d6724b9977670cc73059d6281/",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1286,2019-07-08T07:34:14Z,2019-10-15T12:03:04Z,2019-10-15T12:03:04Z,MERGED,True,12,2,2,https://github.com/mpmc,systemd service file: remove wildcard mounts preventing startup - replace with a note,1,[],https://github.com/tvheadend/tvheadend/pull/1286,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1286,fixes #5678,fixes #5678,True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1287,2019-07-09T21:50:42Z,2019-10-15T12:05:56Z,2019-10-15T12:05:56Z,MERGED,True,2,2,2,https://github.com/Koumes,mpegts: linuxdvb/iptv: fix integer overflow on 32-bit platforms,2,[],https://github.com/tvheadend/tvheadend/pull/1287,https://github.com/Koumes,1,https://github.com/tvheadend/tvheadend/pull/1287,"The time_t items are used in expressions with int64_t mclk().

  
    
      tvheadend/src/input/mpegts/linuxdvb/linuxdvb_frontend.c
    
    
        Lines 998 to 1007
      in
      6be300c
    
  
  
    

        
          
               /* Monitor 1 per sec */ 
        

        
          
               if (mclk() < lfe->lfe_monitor) 
        

        
          
                 return; 
        

        
          
               lfe->lfe_monitor = mclk() + sec2mono(1); 
        

        
          
             } 
        

        
          
           } else { 
        

        
          
             if (mclk() < lfe->lfe_monitor) 
        

        
          
               return; 
        

        
          
             lfe->lfe_monitor = mclk() + ms2mono(period); 
        

        
          
           } 
        
    
  



  
    
      tvheadend/src/input/mpegts/iptv/iptv_pipe.c
    
    
        Lines 112 to 115
      in
      2c35dca
    
  
  
    

        
          
           if (mclk() < im->mm_iptv_respawn_last + sec2mono(2)) { 
        

        
          
             tvherror(LS_IPTV, ""stdin pipe %d unexpectedly closed: %s"", 
        

        
          
                      rd, r < 0 ? strerror(errno) : ""No data""); 
        

        
          
           } else {","The time_t items are used in expressions with int64_t mclk().

  
    
      tvheadend/src/input/mpegts/linuxdvb/linuxdvb_frontend.c
    
    
        Lines 998 to 1007
      in
      6be300c
    
  
  
    

        
          
               /* Monitor 1 per sec */ 
        

        
          
               if (mclk() < lfe->lfe_monitor) 
        

        
          
                 return; 
        

        
          
               lfe->lfe_monitor = mclk() + sec2mono(1); 
        

        
          
             } 
        

        
          
           } else { 
        

        
          
             if (mclk() < lfe->lfe_monitor) 
        

        
          
               return; 
        

        
          
             lfe->lfe_monitor = mclk() + ms2mono(period); 
        

        
          
           } 
        
    
  



  
    
      tvheadend/src/input/mpegts/iptv/iptv_pipe.c
    
    
        Lines 112 to 115
      in
      2c35dca
    
  
  
    

        
          
           if (mclk() < im->mm_iptv_respawn_last + sec2mono(2)) { 
        

        
          
             tvherror(LS_IPTV, ""stdin pipe %d unexpectedly closed: %s"", 
        

        
          
                      rd, r < 0 ? strerror(errno) : ""No data""); 
        

        
          
           } else {",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1288,2019-07-22T20:36:57Z,2019-07-24T22:42:24Z,2019-07-25T06:27:28Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",3,[],https://github.com/tvheadend/tvheadend/pull/1288,https://github.com/SqTER-PL,1,https://github.com/tvheadend/tvheadend/pull/1288,,,True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1288,2019-07-22T20:36:57Z,2019-07-24T22:42:24Z,2019-07-25T06:27:28Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",3,[],https://github.com/tvheadend/tvheadend/pull/1288,https://github.com/SqTER-PL,2,https://github.com/tvheadend/tvheadend/pull/1288#issuecomment-514244335,,"I corrected the file ""capmt.c"" according to your suggestion.
AC3+(EAC3) works without this change but the source code must be correct.
This will prevent an unexpected failure.
Look at the code now. I think it will be OK.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1288,2019-07-22T20:36:57Z,2019-07-24T22:42:24Z,2019-07-25T06:27:28Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",3,[],https://github.com/tvheadend/tvheadend/pull/1288,https://github.com/Trujulu,3,https://github.com/tvheadend/tvheadend/pull/1288#issuecomment-514245345,,"I corrected the file ""capmt.c"" according to your suggestion.
AC3+(EAC3) works without this change but the source code must be correct.
This will prevent an unexpected failure.
Look at the code now. I think it will be OK.

I am not 100% sure of the capmt changes. They may be necessary, maybe not.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1288,2019-07-22T20:36:57Z,2019-07-24T22:42:24Z,2019-07-25T06:27:28Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",3,[],https://github.com/tvheadend/tvheadend/pull/1288,https://github.com/SqTER-PL,4,https://github.com/tvheadend/tvheadend/pull/1288#issuecomment-514248980,,"There was a mistake in the source code.
AC3 has estype = 0x81, and EAC3 estype = 0x87 (checked in the standard documentation).
This is certainly bad, but maybe not bother.

  
    
      tvheadend/src/descrambler/capmt.c
    
    
         Line 2093
      in
      771dfd6
    
  
  
    

        
          
           case SCT_EAC3:       type = 0x81; break;",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1288,2019-07-22T20:36:57Z,2019-07-24T22:42:24Z,2019-07-25T06:27:28Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",3,[],https://github.com/tvheadend/tvheadend/pull/1288,https://github.com/SqTER-PL,5,https://github.com/tvheadend/tvheadend/pull/1288#issuecomment-514250309,,I will check the last change and let you know.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1288,2019-07-22T20:36:57Z,2019-07-24T22:42:24Z,2019-07-25T06:27:28Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",3,[],https://github.com/tvheadend/tvheadend/pull/1288,https://github.com/SqTER-PL,6,https://github.com/tvheadend/tvheadend/pull/1288#issuecomment-514266167,,"Check other estype. In all entries, the values for a given type are the same. It certainly was a mistake that needs to be corrected.
I have just checked and all changes work well.
Tvheadent now correctly detects EAC3 audio.
I searched the entire source code and found nothing to fix.
Now all the entries for EAC3 look properly.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1288,2019-07-22T20:36:57Z,2019-07-24T22:42:24Z,2019-07-25T06:27:28Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",3,[],https://github.com/tvheadend/tvheadend/pull/1288,https://github.com/Flole998,7,https://github.com/tvheadend/tvheadend/pull/1288#issuecomment-514804997,,Can you squash this into one commit please? Other than that: looks good to me,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1289,2019-07-23T18:14:27Z,2019-07-25T06:54:59Z,2019-07-25T06:54:59Z,CLOSED,False,5,1,1,https://github.com/SqTER-PL,"Fix detect AC3+ audio track (TVH_4.2), fixes#5684",1,[],https://github.com/tvheadend/tvheadend/pull/1289,https://github.com/SqTER-PL,1,https://github.com/tvheadend/tvheadend/pull/1289,,,True,{'HEART': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1290,2019-07-25T05:56:31Z,2019-07-25T06:03:50Z,2019-07-25T06:03:50Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",1,[],https://github.com/tvheadend/tvheadend/pull/1290,https://github.com/SqTER-PL,1,https://github.com/tvheadend/tvheadend/pull/1290,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1291,2019-07-25T07:50:03Z,2019-10-17T16:50:47Z,2019-10-17T16:50:47Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",1,[],https://github.com/tvheadend/tvheadend/pull/1291,https://github.com/SqTER-PL,1,https://github.com/tvheadend/tvheadend/pull/1291,,,True,{'HEART': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1291,2019-07-25T07:50:03Z,2019-10-17T16:50:47Z,2019-10-17T16:50:47Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",1,[],https://github.com/tvheadend/tvheadend/pull/1291,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1291#issuecomment-517632456,,Tested and this patch is working for 4Fun TV.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1291,2019-07-25T07:50:03Z,2019-10-17T16:50:47Z,2019-10-17T16:50:47Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",1,[],https://github.com/tvheadend/tvheadend/pull/1291,https://github.com/Trujulu,3,https://github.com/tvheadend/tvheadend/pull/1291#issuecomment-526812503,,"Look:
Oscam is using 0xCC as E-AC3
http://www.streamboard.tv/oscam/changeset/11544",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1291,2019-07-25T07:50:03Z,2019-10-17T16:50:47Z,2019-10-17T16:50:47Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",1,[],https://github.com/tvheadend/tvheadend/pull/1291,https://github.com/SqTER-PL,4,https://github.com/tvheadend/tvheadend/pull/1291#issuecomment-526829702,,"Look:
Oscam is using 0xCC as E-AC3
http://www.streamboard.tv/oscam/changeset/11544

Oscam uses stream type 0x87 -> see
0xCC is 'descriptor_tag'",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1291,2019-07-25T07:50:03Z,2019-10-17T16:50:47Z,2019-10-17T16:50:47Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",1,[],https://github.com/tvheadend/tvheadend/pull/1291,https://github.com/SqTER-PL,5,https://github.com/tvheadend/tvheadend/pull/1291#issuecomment-526830611,,"0xCC may be helpful.
See documentation page 263 (descriptor_tag - The value assigned to the E-AC-3_audio_descriptor () tag is 0xCC)
I don't know how to use it here. Maybe somebody else say something.",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1291,2019-07-25T07:50:03Z,2019-10-17T16:50:47Z,2019-10-17T16:50:47Z,CLOSED,False,6,2,2,https://github.com/SqTER-PL,"Fix detect AC3+ audio track, fixes#5684",1,[],https://github.com/tvheadend/tvheadend/pull/1291,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/1291#issuecomment-543264908,,"Fixed in 7f090c9 , keep just my original proposal. No capmt / DVB_DESC_EAC3 changes.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1292,2019-07-25T07:51:10Z,2019-10-17T16:51:28Z,2019-10-17T16:52:16Z,CLOSED,False,5,1,1,https://github.com/SqTER-PL,"Fix detect AC3+ audio track (TVH_4.2), fixes#5684",1,[],https://github.com/tvheadend/tvheadend/pull/1292,https://github.com/SqTER-PL,1,https://github.com/tvheadend/tvheadend/pull/1292,,,True,"{'HEART': ['https://github.com/Trujulu', 'https://github.com/DeBaschdi', 'https://github.com/UnR34L']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1292,2019-07-25T07:51:10Z,2019-10-17T16:51:28Z,2019-10-17T16:52:16Z,CLOSED,False,5,1,1,https://github.com/SqTER-PL,"Fix detect AC3+ audio track (TVH_4.2), fixes#5684",1,[],https://github.com/tvheadend/tvheadend/pull/1292,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1292#issuecomment-543265158,,Fixed in 5fab06b  .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1293,2019-07-26T18:08:59Z,2019-10-21T08:40:21Z,2019-10-21T08:40:21Z,CLOSED,False,27,11,4,https://github.com/Trujulu,"SATIP Kathrein & Triax: Force rolloff on DVB-S2, fixes #5517",1,[],https://github.com/tvheadend/tvheadend/pull/1293,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1293,"Set permanent 0.35 rolloff for Kathrein and Triax devices, to avoid failed tunning on DVB-S2 frequencies.","Set permanent 0.35 rolloff for Kathrein and Triax devices, to avoid failed tunning on DVB-S2 frequencies.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1293,2019-07-26T18:08:59Z,2019-10-21T08:40:21Z,2019-10-21T08:40:21Z,CLOSED,False,27,11,4,https://github.com/Trujulu,"SATIP Kathrein & Triax: Force rolloff on DVB-S2, fixes #5517",1,[],https://github.com/tvheadend/tvheadend/pull/1293,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1293#issuecomment-515574430,"Set permanent 0.35 rolloff for Kathrein and Triax devices, to avoid failed tunning on DVB-S2 frequencies.","It looks like that this implementation might be more universal - create a list 'force rolloff' with values 'auto', '0.25', '0.35' etc.. Also the description should be 'force rolloff' not 'avoid rolloff'.",True,"{'HEART': ['https://github.com/Trujulu'], 'THUMBS_UP': ['https://github.com/Saentist']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1293,2019-07-26T18:08:59Z,2019-10-21T08:40:21Z,2019-10-21T08:40:21Z,CLOSED,False,27,11,4,https://github.com/Trujulu,"SATIP Kathrein & Triax: Force rolloff on DVB-S2, fixes #5517",1,[],https://github.com/tvheadend/tvheadend/pull/1293,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1293#issuecomment-544411803,"Set permanent 0.35 rolloff for Kathrein and Triax devices, to avoid failed tunning on DVB-S2 frequencies.",Merged as 6c6e0e5 with fb06654 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1294,2019-08-06T09:27:06Z,2019-10-15T12:03:43Z,2019-10-15T12:03:43Z,MERGED,True,7,0,1,https://github.com/ovaron76github,Fixed bad quality for vaapi transcoding h264 and hevc with bitrate #5607,1,[],https://github.com/tvheadend/tvheadend/pull/1294,https://github.com/ovaron76github,1,https://github.com/tvheadend/tvheadend/pull/1294,"After this change picture quality is very good from the first second on with av-lib and vaapi transcoding (h.264 / hevc).
See Tickets:
https://tvheadend.org/issues/5607
https://tvheadend.org/issues/5701","After this change picture quality is very good from the first second on with av-lib and vaapi transcoding (h.264 / hevc).
See Tickets:
https://tvheadend.org/issues/5607
https://tvheadend.org/issues/5701",True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1294,2019-08-06T09:27:06Z,2019-10-15T12:03:43Z,2019-10-15T12:03:43Z,MERGED,True,7,0,1,https://github.com/ovaron76github,Fixed bad quality for vaapi transcoding h264 and hevc with bitrate #5607,1,[],https://github.com/tvheadend/tvheadend/pull/1294,https://github.com/ovaron76github,2,https://github.com/tvheadend/tvheadend/pull/1294#issuecomment-521552507,"After this change picture quality is very good from the first second on with av-lib and vaapi transcoding (h.264 / hevc).
See Tickets:
https://tvheadend.org/issues/5607
https://tvheadend.org/issues/5701",No reason for this. You can skip this line. For me it's more readable if the last return of a funktion is a little bit separated from the other code.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1294,2019-08-06T09:27:06Z,2019-10-15T12:03:43Z,2019-10-15T12:03:43Z,MERGED,True,7,0,1,https://github.com/ovaron76github,Fixed bad quality for vaapi transcoding h264 and hevc with bitrate #5607,1,[],https://github.com/tvheadend/tvheadend/pull/1294,https://github.com/ljalves,3,https://github.com/tvheadend/tvheadend/pull/1294#issuecomment-529156810,"After this change picture quality is very good from the first second on with av-lib and vaapi transcoding (h.264 / hevc).
See Tickets:
https://tvheadend.org/issues/5607
https://tvheadend.org/issues/5701","This PR should be merged.
Just tested this and it does fix the bad quality on the first minutes of a transcoded stream.
Thanks @ovaron76github",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1295,2019-08-06T19:58:31Z,2019-10-21T08:10:40Z,2019-10-21T08:10:40Z,CLOSED,False,3,2,2,https://github.com/niemert,Corrected logic related to limit connections and connection types,2,[],https://github.com/tvheadend/tvheadend/pull/1295,https://github.com/niemert,1,https://github.com/tvheadend/tvheadend/pull/1295,"Sort issues related to user limits and dvr.
Before fix user with ""connection limit type"" set to ALL and ""limmit connections"" set to 1, was not able to record.
With fixes in place, limits are working for dvr and streaming as it's supposed to
This fixes Bug #5692
https://tvheadend.org/issues/5692","Sort issues related to user limits and dvr.
Before fix user with ""connection limit type"" set to ALL and ""limmit connections"" set to 1, was not able to record.
With fixes in place, limits are working for dvr and streaming as it's supposed to
This fixes Bug #5692
https://tvheadend.org/issues/5692",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1295,2019-08-06T19:58:31Z,2019-10-21T08:10:40Z,2019-10-21T08:10:40Z,CLOSED,False,3,2,2,https://github.com/niemert,Corrected logic related to limit connections and connection types,2,[],https://github.com/tvheadend/tvheadend/pull/1295,https://github.com/ljalves,2,https://github.com/tvheadend/tvheadend/pull/1295#issuecomment-544119504,"Sort issues related to user limits and dvr.
Before fix user with ""connection limit type"" set to ALL and ""limmit connections"" set to 1, was not able to record.
With fixes in place, limits are working for dvr and streaming as it's supposed to
This fixes Bug #5692
https://tvheadend.org/issues/5692","This logic seems wrong.
If you have connection limit = 1 then the limit of (stream + dvr) = 1
You are assuming that connection limit = 1 means that you can stream and record, but that mean 2 connections not 1.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1295,2019-08-06T19:58:31Z,2019-10-21T08:10:40Z,2019-10-21T08:10:40Z,CLOSED,False,3,2,2,https://github.com/niemert,Corrected logic related to limit connections and connection types,2,[],https://github.com/tvheadend/tvheadend/pull/1295,https://github.com/ljalves,3,https://github.com/tvheadend/tvheadend/pull/1295#issuecomment-544120175,"Sort issues related to user limits and dvr.
Before fix user with ""connection limit type"" set to ALL and ""limmit connections"" set to 1, was not able to record.
With fixes in place, limits are working for dvr and streaming as it's supposed to
This fixes Bug #5692
https://tvheadend.org/issues/5692","Also with this change, if you set connection limit = dvr = 1, user will be able to start 2 recordings which is wrong.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1295,2019-08-06T19:58:31Z,2019-10-21T08:10:40Z,2019-10-21T08:10:40Z,CLOSED,False,3,2,2,https://github.com/niemert,Corrected logic related to limit connections and connection types,2,[],https://github.com/tvheadend/tvheadend/pull/1295,https://github.com/niemert,4,https://github.com/tvheadend/tvheadend/pull/1295#issuecomment-544120748,"Sort issues related to user limits and dvr.
Before fix user with ""connection limit type"" set to ALL and ""limmit connections"" set to 1, was not able to record.
With fixes in place, limits are working for dvr and streaming as it's supposed to
This fixes Bug #5692
https://tvheadend.org/issues/5692","Hi

The difference is that when you look at connections for dvr, the connection for dvr is already started and is set to 1, therefor the difference with +1.
Today with limit all set to 1 no recording is possible at all, without watching any steam.

You can try it out yourself and see, it's an issue


On 19 Oct 2019 11:32, Luis Alves <notifications@github.com> wrote:

Also with this change, if you set connection limit = dvr = 1, user will be able to start 2 recordings which is wrong.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1295,2019-08-06T19:58:31Z,2019-10-21T08:10:40Z,2019-10-21T08:10:40Z,CLOSED,False,3,2,2,https://github.com/niemert,Corrected logic related to limit connections and connection types,2,[],https://github.com/tvheadend/tvheadend/pull/1295,https://github.com/ljalves,5,https://github.com/tvheadend/tvheadend/pull/1295#issuecomment-544126487,"Sort issues related to user limits and dvr.
Before fix user with ""connection limit type"" set to ALL and ""limmit connections"" set to 1, was not able to record.
With fixes in place, limits are working for dvr and streaming as it's supposed to
This fixes Bug #5692
https://tvheadend.org/issues/5692","Yes, I agree with you that there is a bug but this fix doesn't seem to be correct.
I also reported a similar issue in the past (maybe related) where the http webui connection was also counting as a connection for the limits.
I would even change the config options:

remove the limit type (the combo box to select all, dvr, stream)
have 2 entries: one for dvr limit another for streaming limit",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1295,2019-08-06T19:58:31Z,2019-10-21T08:10:40Z,2019-10-21T08:10:40Z,CLOSED,False,3,2,2,https://github.com/niemert,Corrected logic related to limit connections and connection types,2,[],https://github.com/tvheadend/tvheadend/pull/1295,https://github.com/ljalves,6,https://github.com/tvheadend/tvheadend/pull/1295#issuecomment-544128426,"Sort issues related to user limits and dvr.
Before fix user with ""connection limit type"" set to ALL and ""limmit connections"" set to 1, was not able to record.
With fixes in place, limits are working for dvr and streaming as it's supposed to
This fixes Bug #5692
https://tvheadend.org/issues/5692","On a second look, the bug seems to be the dvr_usage_count function already accounting the recording that is about to start.
If this is true, then the fix should as simple as:
-rec_count = dvr_usage_count(aa);
+rec_count = dvr_usage_count(aa) - 1;",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1295,2019-08-06T19:58:31Z,2019-10-21T08:10:40Z,2019-10-21T08:10:40Z,CLOSED,False,3,2,2,https://github.com/niemert,Corrected logic related to limit connections and connection types,2,[],https://github.com/tvheadend/tvheadend/pull/1295,https://github.com/Flole998,7,https://github.com/tvheadend/tvheadend/pull/1295#issuecomment-544202793,"Sort issues related to user limits and dvr.
Before fix user with ""connection limit type"" set to ALL and ""limmit connections"" set to 1, was not able to record.
With fixes in place, limits are working for dvr and streaming as it's supposed to
This fixes Bug #5692
https://tvheadend.org/issues/5692","@ljalves I agree with the ""original fix"" in here, we are starting the recording, then we check if we are above the limit (and not above or equal the limit) and if we are we exit again. The rec_count should be dvr_usage_count(aa) and not dvr_usage_count(aa) -1 as we have already started the recording at that point and as its rec_count and not rec_count_minus_one we should try to do it the other way which seems cleaner to me.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1295,2019-08-06T19:58:31Z,2019-10-21T08:10:40Z,2019-10-21T08:10:40Z,CLOSED,False,3,2,2,https://github.com/niemert,Corrected logic related to limit connections and connection types,2,[],https://github.com/tvheadend/tvheadend/pull/1295,https://github.com/ljalves,8,https://github.com/tvheadend/tvheadend/pull/1295#issuecomment-544205545,"Sort issues related to user limits and dvr.
Before fix user with ""connection limit type"" set to ALL and ""limmit connections"" set to 1, was not able to record.
With fixes in place, limits are working for dvr and streaming as it's supposed to
This fixes Bug #5692
https://tvheadend.org/issues/5692","@Flole998 - I don't think that's true - at the point where dvr_usage_count(aa) is called, the recording did not start yet - the state was already set to ""recording"" but it's didn't actually start yet.
In my opinion, the real bug here is the state variable de_sched_state that is set to DVR_RECORDING before the actual record starts.
Anyway, @perexg should know better...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1295,2019-08-06T19:58:31Z,2019-10-21T08:10:40Z,2019-10-21T08:10:40Z,CLOSED,False,3,2,2,https://github.com/niemert,Corrected logic related to limit connections and connection types,2,[],https://github.com/tvheadend/tvheadend/pull/1295,https://github.com/perexg,9,https://github.com/tvheadend/tvheadend/pull/1295#issuecomment-544400348,"Sort issues related to user limits and dvr.
Before fix user with ""connection limit type"" set to ALL and ""limmit connections"" set to 1, was not able to record.
With fixes in place, limits are working for dvr and streaming as it's supposed to
This fixes Bug #5692
https://tvheadend.org/issues/5692",Fixed in fb23c42 and 729651c .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1296,2019-08-13T11:42:55Z,2019-10-15T12:04:45Z,2019-10-15T12:04:45Z,MERGED,True,2,0,1,https://github.com/XECDesign,packaging: add missing DEBHELPER placeholder to postrm script,1,[],https://github.com/tvheadend/tvheadend/pull/1296,https://github.com/XECDesign,1,https://github.com/tvheadend/tvheadend/pull/1296,"Partial fix for https://tvheadend.org/issues/5705
dh replaces this placeholder with things it needs to add. Currently, postinst has this and is what installs, enables and starts the service, but postrm is missing it so files get left behind.
I haven't done anything about the home directory getting left behind because I'm not 100% sure that's safe to remove.
Please also add this to the 4.2 release branch","Partial fix for https://tvheadend.org/issues/5705
dh replaces this placeholder with things it needs to add. Currently, postinst has this and is what installs, enables and starts the service, but postrm is missing it so files get left behind.
I haven't done anything about the home directory getting left behind because I'm not 100% sure that's safe to remove.
Please also add this to the 4.2 release branch",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1297,2019-08-23T11:57:37Z,2019-09-03T13:39:41Z,2019-09-03T13:39:41Z,CLOSED,False,221224,166928,381,https://github.com/ralfi,Release/4.2 (4.3-1804~gebb096804) docker image,519,[],https://github.com/tvheadend/tvheadend/pull/1297,https://github.com/ralfi,1,https://github.com/tvheadend/tvheadend/pull/1297,"4.3-1804~gebb096804
Please fix detecting audio LATM AAC Audio Code
(example German TV tagesschau24, HDTV DVB-T2)","4.3-1804~gebb096804
Please fix detecting audio LATM AAC Audio Code
(example German TV tagesschau24, HDTV DVB-T2)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1297,2019-08-23T11:57:37Z,2019-09-03T13:39:41Z,2019-09-03T13:39:41Z,CLOSED,False,221224,166928,381,https://github.com/ralfi,Release/4.2 (4.3-1804~gebb096804) docker image,519,[],https://github.com/tvheadend/tvheadend/pull/1297,https://github.com/ralfi,2,https://github.com/tvheadend/tvheadend/pull/1297#issuecomment-527462562,"4.3-1804~gebb096804
Please fix detecting audio LATM AAC Audio Code
(example German TV tagesschau24, HDTV DVB-T2)","Sorry, my mistake. I do not know how these happens. What i mean is that the tvheadend Live-TV Player does not recognized LATM AAC Code. Everything else works fine.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1298,2019-08-28T16:33:10Z,2019-10-06T15:06:33Z,2019-10-06T15:06:33Z,CLOSED,False,564,17,83,https://github.com/tenfire,FHD quality support,1,[],https://github.com/tvheadend/tvheadend/pull/1298,https://github.com/tenfire,1,https://github.com/tvheadend/tvheadend/pull/1298,"Had the need for FHD support in my tvheadend setup, thought I could make a pull request if there is need for this in the main repo as well.
The code is more or less a blind hack since I haven't contributed to tvheadend before and pretty much does not know what I am doing ^^. It probably needs testing and a few changes before being in a good shape for merging. I have not found any functional bugs yet in my tests.
Oh, also added UHD->FHD->HD->SD and SD->HD->FHD->UHD fallback instead of just UHD->HD and SD->HD.  (Not tested)","Had the need for FHD support in my tvheadend setup, thought I could make a pull request if there is need for this in the main repo as well.
The code is more or less a blind hack since I haven't contributed to tvheadend before and pretty much does not know what I am doing ^^. It probably needs testing and a few changes before being in a good shape for merging. I have not found any functional bugs yet in my tests.
Oh, also added UHD->FHD->HD->SD and SD->HD->FHD->UHD fallback instead of just UHD->HD and SD->HD.  (Not tested)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1298,2019-08-28T16:33:10Z,2019-10-06T15:06:33Z,2019-10-06T15:06:33Z,CLOSED,False,564,17,83,https://github.com/tenfire,FHD quality support,1,[],https://github.com/tvheadend/tvheadend/pull/1298,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1298#issuecomment-538755915,"Had the need for FHD support in my tvheadend setup, thought I could make a pull request if there is need for this in the main repo as well.
The code is more or less a blind hack since I haven't contributed to tvheadend before and pretty much does not know what I am doing ^^. It probably needs testing and a few changes before being in a good shape for merging. I have not found any functional bugs yet in my tests.
Oh, also added UHD->FHD->HD->SD and SD->HD->FHD->UHD fallback instead of just UHD->HD and SD->HD.  (Not tested)",Applied in 3a98ebc . Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1299,2019-09-10T17:23:10Z,2019-10-15T12:02:28Z,2019-10-15T12:02:28Z,CLOSED,False,2,2,1,https://github.com/thierer,man page: Correct default values for http and htsp port,1,[],https://github.com/tvheadend/tvheadend/pull/1299,https://github.com/thierer,1,https://github.com/tvheadend/tvheadend/pull/1299,"The man page incorrectly states the default values for the --http_port and --htsp_port options are 9881 and 9882, when in fact they are 9981 and 9982.","The man page incorrectly states the default values for the --http_port and --htsp_port options are 9881 and 9882, when in fact they are 9981 and 9982.",True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1299,2019-09-10T17:23:10Z,2019-10-15T12:02:28Z,2019-10-15T12:02:28Z,CLOSED,False,2,2,1,https://github.com/thierer,man page: Correct default values for http and htsp port,1,[],https://github.com/tvheadend/tvheadend/pull/1299,https://github.com/ljalves,2,https://github.com/tvheadend/tvheadend/pull/1299#issuecomment-540237058,"The man page incorrectly states the default values for the --http_port and --htsp_port options are 9881 and 9882, when in fact they are 9981 and 9982.","This was already merged here: cb0a61e
Why is the PR still open?",True,{'CONFUSED': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1299,2019-09-10T17:23:10Z,2019-10-15T12:02:28Z,2019-10-15T12:02:28Z,CLOSED,False,2,2,1,https://github.com/thierer,man page: Correct default values for http and htsp port,1,[],https://github.com/tvheadend/tvheadend/pull/1299,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1299#issuecomment-542177672,"The man page incorrectly states the default values for the --http_port and --htsp_port options are 9881 and 9882, when in fact they are 9981 and 9982.",Merged in cb0a61e .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1300,2019-09-18T10:20:39Z,2019-09-18T11:06:06Z,2019-09-18T11:06:06Z,CLOSED,False,1,1,1,https://github.com/Trujulu,Cosmetic: Tooltip description not shown on webui (truncated),1,[],https://github.com/tvheadend/tvheadend/pull/1300,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1300,""" are not shown while ' yes. Actually text is truncated.",""" are not shown while ' yes. Actually text is truncated.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1301,2019-09-18T11:15:16Z,2019-10-10T05:57:26Z,2019-10-10T05:57:26Z,CLOSED,False,121,121,15,https://github.com/Trujulu,WebUI: Fix some tooltips,1,[],https://github.com/tvheadend/tvheadend/pull/1301,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1301,"Note: "" is not shown while ' yes. Some text was truncated, so I replaced it.","Note: "" is not shown while ' yes. Some text was truncated, so I replaced it.",True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1301,2019-09-18T11:15:16Z,2019-10-10T05:57:26Z,2019-10-10T05:57:26Z,CLOSED,False,121,121,15,https://github.com/Trujulu,WebUI: Fix some tooltips,1,[],https://github.com/tvheadend/tvheadend/pull/1301,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1301#issuecomment-533608482,"Note: "" is not shown while ' yes. Some text was truncated, so I replaced it.","I dont think we shold have a period after single words like ""Play"" or ""Fullscreen"", it looks completely odd to have a ""Fullscreen."" tooltip.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1301,2019-09-18T11:15:16Z,2019-10-10T05:57:26Z,2019-10-10T05:57:26Z,CLOSED,False,121,121,15,https://github.com/Trujulu,WebUI: Fix some tooltips,1,[],https://github.com/tvheadend/tvheadend/pull/1301,https://github.com/Trujulu,3,https://github.com/tvheadend/tvheadend/pull/1301#issuecomment-533687008,"Note: "" is not shown while ' yes. Some text was truncated, so I replaced it.","I dont think we shold have a period after single words like ""Play"" or ""Fullscreen"", it looks completely odd to have a ""Fullscreen."" tooltip.

Yes, it would be better to delete those tooltips.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1301,2019-09-18T11:15:16Z,2019-10-10T05:57:26Z,2019-10-10T05:57:26Z,CLOSED,False,121,121,15,https://github.com/Trujulu,WebUI: Fix some tooltips,1,[],https://github.com/tvheadend/tvheadend/pull/1301,https://github.com/ljalves,4,https://github.com/tvheadend/tvheadend/pull/1301#issuecomment-540242863,"Note: "" is not shown while ' yes. Some text was truncated, so I replaced it.","This seems more like personal preferences but honestly I don't get why the replacement of the "" with ' ?
In my opinion, the correct symbol to quote words one should be "" and the ' should be used on words like ""don't"" or ""wouldn't"".
I also don't like the dots in the end :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1301,2019-09-18T11:15:16Z,2019-10-10T05:57:26Z,2019-10-10T05:57:26Z,CLOSED,False,121,121,15,https://github.com/Trujulu,WebUI: Fix some tooltips,1,[],https://github.com/tvheadend/tvheadend/pull/1301,https://github.com/Trujulu,5,https://github.com/tvheadend/tvheadend/pull/1301#issuecomment-540388036,"Note: "" is not shown while ' yes. Some text was truncated, so I replaced it.",I will check it when I have time,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1302,2019-09-20T19:47:48Z,2019-10-15T12:01:58Z,2019-10-15T12:01:58Z,MERGED,True,2,2,1,https://github.com/Trujulu,Upgrade to libhdhomerun_20190621,1,[],https://github.com/tvheadend/tvheadend/pull/1302,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1302,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1303,2019-09-24T12:14:52Z,2019-10-06T15:13:46Z,2019-10-06T15:16:17Z,CLOSED,False,6,6,1,https://github.com/vpeter4,bouquet: fix overflow when building for 32-bit system,1,[],https://github.com/tvheadend/tvheadend/pull/1303,https://github.com/vpeter4,1,https://github.com/tvheadend/tvheadend/pull/1303,"On 32-bit system hash value from service can be truncated.
For example with #SERVICE 1:0:1:835:3EA:2174:EEEE0000:0:0:0
hash value EEEE0000 become 7FFFFFFF and there is no match in function mpegts_service_find_e2().
Tested only on CoreELEC which is 32bit. Should be fine on 64bit system too but someone should check.","On 32-bit system hash value from service can be truncated.
For example with #SERVICE 1:0:1:835:3EA:2174:EEEE0000:0:0:0
hash value EEEE0000 become 7FFFFFFF and there is no match in function mpegts_service_find_e2().
Tested only on CoreELEC which is 32bit. Should be fine on 64bit system too but someone should check.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1303,2019-09-24T12:14:52Z,2019-10-06T15:13:46Z,2019-10-06T15:16:17Z,CLOSED,False,6,6,1,https://github.com/vpeter4,bouquet: fix overflow when building for 32-bit system,1,[],https://github.com/tvheadend/tvheadend/pull/1303,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1303#issuecomment-538756558,"On 32-bit system hash value from service can be truncated.
For example with #SERVICE 1:0:1:835:3EA:2174:EEEE0000:0:0:0
hash value EEEE0000 become 7FFFFFFF and there is no match in function mpegts_service_find_e2().
Tested only on CoreELEC which is 32bit. Should be fine on 64bit system too but someone should check.",Thanks. Applied to e372db0 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1304,2019-09-25T21:50:25Z,2019-10-18T16:13:27Z,2019-10-18T16:13:28Z,MERGED,True,2,2,1,https://github.com/ljalves,mux grid: enable 'hide: parent disabled',1,[],https://github.com/tvheadend/tvheadend/pull/1304,https://github.com/ljalves,1,https://github.com/tvheadend/tvheadend/pull/1304,"Lines were added commented waiting for ""network enable/disable"" to be implemented.
When it got implemented they were left behind.
PS: Should also make the ""Services"" tab rendering faster for ""hide: parent disabled"" since it will exit the loop as soon as it sees that the network is disabled (instead of unnecessary cycling through all the network muxes).","Lines were added commented waiting for ""network enable/disable"" to be implemented.
When it got implemented they were left behind.
PS: Should also make the ""Services"" tab rendering faster for ""hide: parent disabled"" since it will exit the loop as soon as it sees that the network is disabled (instead of unnecessary cycling through all the network muxes).",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1304,2019-09-25T21:50:25Z,2019-10-18T16:13:27Z,2019-10-18T16:13:28Z,MERGED,True,2,2,1,https://github.com/ljalves,mux grid: enable 'hide: parent disabled',1,[],https://github.com/tvheadend/tvheadend/pull/1304,https://github.com/ljalves,2,https://github.com/tvheadend/tvheadend/pull/1304#issuecomment-542423219,"Lines were added commented waiting for ""network enable/disable"" to be implemented.
When it got implemented they were left behind.
PS: Should also make the ""Services"" tab rendering faster for ""hide: parent disabled"" since it will exit the loop as soon as it sees that the network is disabled (instead of unnecessary cycling through all the network muxes).",(this fixes #5732),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1305,2019-10-01T09:34:48Z,2019-10-02T09:12:56Z,2019-11-10T10:36:15Z,CLOSED,False,41,31,9,https://github.com/mpmc,property texts/descriptions cleanup.,2,[],https://github.com/tvheadend/tvheadend/pull/1305,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1305,"These have been bugging me for a while so I thought I'd start cleaning them up a little.
More to follow!","These have been bugging me for a while so I thought I'd start cleaning them up a little.
More to follow!",True,{'THUMBS_UP': ['https://github.com/zapp-it']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1305,2019-10-01T09:34:48Z,2019-10-02T09:12:56Z,2019-11-10T10:36:15Z,CLOSED,False,41,31,9,https://github.com/mpmc,property texts/descriptions cleanup.,2,[],https://github.com/tvheadend/tvheadend/pull/1305,https://github.com/ljalves,2,https://github.com/tvheadend/tvheadend/pull/1305#issuecomment-536960522,"These have been bugging me for a while so I thought I'd start cleaning them up a little.
More to follow!","I don't really agree with some of the changes, like the removal of the camel case for some acronyms.
Other changes seem redundant and more of a personal ""taste"" (like ""... use the name defined by the network ..."" changing to ""... use the name given by the network ..."").",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/nmaclean,1,https://github.com/tvheadend/tvheadend/pull/1306,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-538776813,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u",The function service_get_channel_epgid() can return NULL and/or the value returned is not granted to be unique.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-538777005,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","Sorry, it's channel_get_epgid(), forgot the NULL comment. The unique problem is true.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/nmaclean,4,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-538777585,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","If its NULL it uses the channel name, I am not sure it matters if its unique in the M3U. Channels can have the same epg id.
The M3U works correctly when importing into a second TVH.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/ljalves,5,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-540245499,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","Doesn't this break the link with the export of the xmltv?
As far as I know the channel-id of the playlist needs to match the channel-id of the exported xmltv, right?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/Saentist,6,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-540388455,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","this request cover
#1275
all there is done.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/perexg,7,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-542177407,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u",Fixed in #1275 .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/alebupal,8,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-604666010,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","Hello, I need that when exporting the m3u the channels have the id of the epg and not with the uuid, how is it done?  I have read the pull and cannot find how to do it.
Greetings and thank you!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/Saentist,9,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-604687033,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","Hello, I need that when exporting the m3u the channels have the id of the epg and not with the uuid, how is it done? I have read the pull and cannot find how to do it.
Greetings and thank you!

There is already such option in user menu",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/alebupal,10,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-604688179,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","Hello, I need that when exporting the m3u the channels have the id of the epg and not with the uuid, how is it done? I have read the pull and cannot find how to do it.
Greetings and thank you!

There is already such option in user menu

Can you show me where I find this option? I have tvheadend 4.3-1857~g221c29b
Thanks!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/Saentist,11,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-604718651,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","Format for xmltv output:
is name of option",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/alebupal,12,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-604855489,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","Format for xmltv output:
is name of option

I have created the user test, with the password test
http://prntscr.com/rnn01v
http://prntscr.com/rnn0cb
And when I export the m3u with this url (http://test:test@YourTVHeadendIP:9981/playlist/channels.m3u), it always gives me the tvg-id with the uuid (with All, Basic and Basic Alternative (No Hash))
Is it well done like this?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/Saentist,13,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-604861476,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","Format for xmltv output:
is name of option

I have created the user test, with the password test
http://prntscr.com/rnn01v
http://prntscr.com/rnn0cb
And when I export the m3u with this url (http://test:test@YourTVHeadendIP:9981/playlist/channels.m3u), it always gives me the tvg-id with the uuid (with All, Basic and Basic Alternative (No Hash))
Is it well done like this?
https://tvheadend.org/boards/12/topics/37170",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1306,2019-10-06T18:52:47Z,2019-10-15T12:01:39Z,2020-03-28T00:36:46Z,CLOSED,False,5,6,1,https://github.com/nmaclean,Fix - Use EPG name rather than channel id for m3u creation,1,[],https://github.com/tvheadend/tvheadend/pull/1306,https://github.com/alebupal,14,https://github.com/tvheadend/tvheadend/pull/1306#issuecomment-604875117,"from... tvg-id=""459e8f03a96391adf0d504672e9c196f""
to
tvg-id=""epg.name""
This is when using ip:port/playlist/channels.m3u","Format for xmltv output:
is name of option

I have created the user test, with the password test
http://prntscr.com/rnn01v
http://prntscr.com/rnn0cb
And when I export the m3u with this url (http://test:test@YourTVHeadendIP:9981/playlist/channels.m3u), it always gives me the tvg-id with the uuid (with All, Basic and Basic Alternative (No Hash))
Is it well done like this?
https://tvheadend.org/boards/12/topics/37170


But everything they put there is for the epg (xmltv) I need to make the change of tvg-id when exporting the m3u.
It would be nice to have the option that when exporting the m3u you could put the id of the epg.
it would be interesting to add one more type(https://github.com/tvheadend/tvheadend/blob/master/docs/markdown/url.md#playlistauthtypewhatidentifier) with this option",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1307,2019-10-09T10:19:59Z,2019-10-14T21:36:59Z,2019-10-14T21:36:59Z,CLOSED,False,3,3,1,https://github.com/joeusercz,webui_api is not expecting negative error codes.,1,[],https://github.com/tvheadend/tvheadend/pull/1307,https://github.com/joeusercz,1,https://github.com/tvheadend/tvheadend/pull/1307,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1307,2019-10-09T10:19:59Z,2019-10-14T21:36:59Z,2019-10-14T21:36:59Z,CLOSED,False,3,3,1,https://github.com/joeusercz,webui_api is not expecting negative error codes.,1,[],https://github.com/tvheadend/tvheadend/pull/1307,https://github.com/ljalves,2,https://github.com/tvheadend/tvheadend/pull/1307#issuecomment-541912104,,"This PR can be closed now.
@perexg properly fixed all the negative return codes at commit c67ba3c",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1308,2019-10-09T22:24:43Z,2019-10-15T12:05:12Z,2019-10-15T12:05:12Z,MERGED,True,12,4,1,https://github.com/StefanBruens,Avoid configure checks being optimized away with LTO,1,[],https://github.com/tvheadend/tvheadend/pull/1308,https://github.com/StefanBruens,1,https://github.com/tvheadend/tvheadend/pull/1308,"In case the checks are compiled with CFLAGS including ""-O1 -flto"" (or any
other optimization level), a ""test()"" function not referenced by by main
will be optimized away and discarded prior to the final linking step, and
there will be no undefined symbols, thus the checks always succeeds.
This at least affects the ""strlcpy""/""strlcat"" checks, but may affects other
checks as well.","In case the checks are compiled with CFLAGS including ""-O1 -flto"" (or any
other optimization level), a ""test()"" function not referenced by by main
will be optimized away and discarded prior to the final linking step, and
there will be no undefined symbols, thus the checks always succeeds.
This at least affects the ""strlcpy""/""strlcat"" checks, but may affects other
checks as well.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1309,2019-10-18T18:58:48Z,2019-10-18T19:03:12Z,2019-10-18T19:05:19Z,CLOSED,False,1,0,1,https://github.com/Trujulu,dvb psi: Fix missing MPEG2VIDEO for estype 0x01 and 0x02,1,[],https://github.com/tvheadend/tvheadend/pull/1309,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1309,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1310,2019-10-18T19:04:36Z,2019-10-19T06:54:09Z,2019-10-19T06:54:09Z,CLOSED,False,1,0,1,https://github.com/Trujulu,"dvb psi: Fix missing MPEG2VIDEO for estype 0x01 and 0x02, fixes #5752",1,[],https://github.com/tvheadend/tvheadend/pull/1310,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1310,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1310,2019-10-18T19:04:36Z,2019-10-19T06:54:09Z,2019-10-19T06:54:09Z,CLOSED,False,1,0,1,https://github.com/Trujulu,"dvb psi: Fix missing MPEG2VIDEO for estype 0x01 and 0x02, fixes #5752",1,[],https://github.com/tvheadend/tvheadend/pull/1310,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1310#issuecomment-544108505,,Fixed in 6fbb30d .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1311,2019-10-19T20:05:50Z,2019-10-22T00:36:12Z,2019-10-22T00:36:13Z,CLOSED,False,58,214,7,https://github.com/Flole998,"Revert bad commits, fixes #5753",1,[],https://github.com/tvheadend/tvheadend/pull/1311,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1311,"Revert ""xmltv: Avoid outputting lang tags in xmltv for only one langage, fixes #5630""
This reverts commit f249f6a.
Revert ""htsp: Allow basic htsp format, fixes #5630""
This reverts commit 64f20b5.
Revert ""xmltv: Allow sending basic xmltv format, fixes #5630""
This reverts commit dca55a1.","Revert ""xmltv: Avoid outputting lang tags in xmltv for only one langage, fixes #5630""
This reverts commit f249f6a.
Revert ""htsp: Allow basic htsp format, fixes #5630""
This reverts commit 64f20b5.
Revert ""xmltv: Allow sending basic xmltv format, fixes #5630""
This reverts commit dca55a1.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1311,2019-10-19T20:05:50Z,2019-10-22T00:36:12Z,2019-10-22T00:36:13Z,CLOSED,False,58,214,7,https://github.com/Flole998,"Revert bad commits, fixes #5753",1,[],https://github.com/tvheadend/tvheadend/pull/1311,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1311#issuecomment-544764005,"Revert ""xmltv: Avoid outputting lang tags in xmltv for only one langage, fixes #5630""
This reverts commit f249f6a.
Revert ""htsp: Allow basic htsp format, fixes #5630""
This reverts commit 64f20b5.
Revert ""xmltv: Allow sending basic xmltv format, fixes #5630""
This reverts commit dca55a1.",No longer necessary,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1312,2019-10-20T00:11:52Z,2019-10-20T04:26:12Z,2019-10-20T04:26:12Z,MERGED,True,1,1,1,https://github.com/Flole998,"Fix division by 0, fixes #5754",1,[],https://github.com/tvheadend/tvheadend/pull/1312,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1312,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1313,2019-10-27T09:17:40Z,2019-10-27T17:23:00Z,2019-10-27T17:23:00Z,MERGED,True,1,1,1,https://github.com/Trujulu,"xmltv: Fix xmltv_ns typo, fixes #5720",1,[],https://github.com/tvheadend/tvheadend/pull/1313,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1313,See: http://xml.coverpages.org/XMLTV-DTD-20021210.html,See: http://xml.coverpages.org/XMLTV-DTD-20021210.html,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1314,2019-10-27T11:01:24Z,2019-10-27T17:23:43Z,2019-10-27T17:23:43Z,MERGED,True,10,2,5,https://github.com/Trujulu,Webui: minimal reworks for access theme,1,[],https://github.com/tvheadend/tvheadend/pull/1314,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1314,"Edit the help image to reduce the white saw edges.
Use white images for tvdb and tmdb when using access.","Edit the help image to reduce the white saw edges.
Use white images for tvdb and tmdb when using access.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1315,2019-10-28T11:36:32Z,2019-10-28T12:54:17Z,2019-10-28T14:05:06Z,MERGED,True,0,1,1,https://github.com/DennisOSRM,Remove dead assignment,1,[],https://github.com/tvheadend/tvheadend/pull/1315,https://github.com/DennisOSRM,1,https://github.com/tvheadend/tvheadend/pull/1315,variable channel is assigned conditionally in line 997.,variable channel is assigned conditionally in line 997.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1316,2019-10-28T15:40:36Z,2020-03-04T09:02:31Z,2020-03-04T09:02:31Z,CLOSED,False,60,3,5,https://github.com/lomion0815,#4182: Add 'duplicate handling' - feature in DVR-Profiles,3,[],https://github.com/tvheadend/tvheadend/pull/1316,https://github.com/lomion0815,1,https://github.com/tvheadend/tvheadend/pull/1316,"This patch adds drop-down list to ""DVR profile ""configuration which is then used by default for newly created ""autorec"" entry. Can be altered in ""Autorec"" configuration.
Solves issue #4182","This patch adds drop-down list to ""DVR profile ""configuration which is then used by default for newly created ""autorec"" entry. Can be altered in ""Autorec"" configuration.
Solves issue #4182",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1316,2019-10-28T15:40:36Z,2020-03-04T09:02:31Z,2020-03-04T09:02:31Z,CLOSED,False,60,3,5,https://github.com/lomion0815,#4182: Add 'duplicate handling' - feature in DVR-Profiles,3,[],https://github.com/tvheadend/tvheadend/pull/1316,https://github.com/lomion0815,2,https://github.com/tvheadend/tvheadend/pull/1316#issuecomment-594402744,"This patch adds drop-down list to ""DVR profile ""configuration which is then used by default for newly created ""autorec"" entry. Can be altered in ""Autorec"" configuration.
Solves issue #4182",Closing this PR and opening PR 1330which covers only this change on dedicated branch.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1317,2019-10-29T21:31:31Z,2019-11-01T09:06:27Z,2019-11-01T09:06:28Z,CLOSED,False,6,2,3,https://github.com/Trujulu,Webui: visual fixes,1,[],https://github.com/tvheadend/tvheadend/pull/1317,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1317,"Sightly increase 'SAT>IP Servers' width (design collision).


Sightly increase 'TVadapters' width (design collision).


Fix width for spinner arrows (image was repeated)


(Attached before/after)","Sightly increase 'SAT>IP Servers' width (design collision).


Sightly increase 'TVadapters' width (design collision).


Fix width for spinner arrows (image was repeated)


(Attached before/after)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1317,2019-10-29T21:31:31Z,2019-11-01T09:06:27Z,2019-11-01T09:06:28Z,CLOSED,False,6,2,3,https://github.com/Trujulu,Webui: visual fixes,1,[],https://github.com/tvheadend/tvheadend/pull/1317,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1317#issuecomment-548716938,"Sightly increase 'SAT>IP Servers' width (design collision).


Sightly increase 'TVadapters' width (design collision).


Fix width for spinner arrows (image was repeated)


(Attached before/after)",I have another upcoming change...,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1318,2019-10-30T20:59:41Z,2019-11-10T18:10:35Z,2019-11-10T18:10:56Z,CLOSED,False,0,1,1,https://github.com/dave-p, epg: allow epg_match_event_fuzzy() to match events on different netwo…  …rks. Fixes #5494,2,[],https://github.com/tvheadend/tvheadend/pull/1318,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1318,"On UK Freeview (DVB-T) and Freesat (DVB-S) events can have different eids for the same channel on the two networks. If a timer is scheduled on one network but the epg is gathered from the other, the eids will not match so a comparison of other parameters is needed to select the correct r/s. This patch removes the short-circuit when eids are present but different.","On UK Freeview (DVB-T) and Freesat (DVB-S) events can have different eids for the same channel on the two networks. If a timer is scheduled on one network but the epg is gathered from the other, the eids will not match so a comparison of other parameters is needed to select the correct r/s. This patch removes the short-circuit when eids are present but different.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1318,2019-10-30T20:59:41Z,2019-11-10T18:10:35Z,2019-11-10T18:10:56Z,CLOSED,False,0,1,1,https://github.com/dave-p, epg: allow epg_match_event_fuzzy() to match events on different netwo…  …rks. Fixes #5494,2,[],https://github.com/tvheadend/tvheadend/pull/1318,https://github.com/dave-p,2,https://github.com/tvheadend/tvheadend/pull/1318#issuecomment-552218847,"On UK Freeview (DVB-T) and Freesat (DVB-S) events can have different eids for the same channel on the two networks. If a timer is scheduled on one network but the epg is gathered from the other, the eids will not match so a comparison of other parameters is needed to select the correct r/s. This patch removes the short-circuit when eids are present but different.",This change is not sufficient to fix the issue.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1319,2019-11-01T07:16:23Z,2019-11-01T07:30:47Z,2019-11-01T07:31:07Z,MERGED,True,29,6,3,https://github.com/git-developer,docs: add hint on shell redirections (#5761),1,[],https://github.com/tvheadend/tvheadend/pull/1319,https://github.com/git-developer,1,https://github.com/tvheadend/tvheadend/pull/1319,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1319,2019-11-01T07:16:23Z,2019-11-01T07:30:47Z,2019-11-01T07:31:07Z,MERGED,True,29,6,3,https://github.com/git-developer,docs: add hint on shell redirections (#5761),1,[],https://github.com/tvheadend/tvheadend/pull/1319,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1319#issuecomment-548694489,,Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1320,2019-11-01T12:16:33Z,2020-05-18T17:26:37Z,2020-05-18T17:26:37Z,MERGED,True,2012,1886,5,https://github.com/Trujulu,CSS: general improvements,1,[],https://github.com/tvheadend/tvheadend/pull/1320,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1320,"Unify css code; spaces, commas...
Fix multiple paddings for progress bar (SNR/Signal Strength).
Slightly increase 'TVadapters' width (design collision).
Slightly increase 'SAT>IP Servers' width (design collision).
ACCESS: Fix width for spinner arrows (image was repeated).
ACCESS: Fix transparent line at bottom of not filled progress bar (SNR/Signal Strength).","Unify css code; spaces, commas...
Fix multiple paddings for progress bar (SNR/Signal Strength).
Slightly increase 'TVadapters' width (design collision).
Slightly increase 'SAT>IP Servers' width (design collision).
ACCESS: Fix width for spinner arrows (image was repeated).
ACCESS: Fix transparent line at bottom of not filled progress bar (SNR/Signal Strength).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1321,2019-11-03T10:11:39Z,2019-11-04T08:35:54Z,2019-11-05T05:24:34Z,CLOSED,False,0,2,1,https://github.com/kkudielka,configure: Fix build failure in IPTV-only configuration,1,[],https://github.com/tvheadend/tvheadend/pull/1321,https://github.com/kkudielka,1,https://github.com/tvheadend/tvheadend/pull/1321,"mpegts_service.c is part of the ""mpegts"" feature.
Therein, function mpegts_service_source depends on the existence
of dvb_mux_*_class.
These classes are defined in mpegts_mux_dvb.c, which itself is part
of the ""mpegts_dvb"" feature.
So, all configurations with mpegts=yes and mpegts_dvb=no fail to
build.
Fix this by synchronizing both features.
Signed-off-by: Klaus Kudielka klaus.kudielka@gmail.com","mpegts_service.c is part of the ""mpegts"" feature.
Therein, function mpegts_service_source depends on the existence
of dvb_mux_*_class.
These classes are defined in mpegts_mux_dvb.c, which itself is part
of the ""mpegts_dvb"" feature.
So, all configurations with mpegts=yes and mpegts_dvb=no fail to
build.
Fix this by synchronizing both features.
Signed-off-by: Klaus Kudielka klaus.kudielka@gmail.com",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1321,2019-11-03T10:11:39Z,2019-11-04T08:35:54Z,2019-11-05T05:24:34Z,CLOSED,False,0,2,1,https://github.com/kkudielka,configure: Fix build failure in IPTV-only configuration,1,[],https://github.com/tvheadend/tvheadend/pull/1321,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1321#issuecomment-549260375,"mpegts_service.c is part of the ""mpegts"" feature.
Therein, function mpegts_service_source depends on the existence
of dvb_mux_*_class.
These classes are defined in mpegts_mux_dvb.c, which itself is part
of the ""mpegts_dvb"" feature.
So, all configurations with mpegts=yes and mpegts_dvb=no fail to
build.
Fix this by synchronizing both features.
Signed-off-by: Klaus Kudielka klaus.kudielka@gmail.com","Thanks for the report, fixed differently in fda89e8 .",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1321,2019-11-03T10:11:39Z,2019-11-04T08:35:54Z,2019-11-05T05:24:34Z,CLOSED,False,0,2,1,https://github.com/kkudielka,configure: Fix build failure in IPTV-only configuration,1,[],https://github.com/tvheadend/tvheadend/pull/1321,https://github.com/kkudielka,3,https://github.com/tvheadend/tvheadend/pull/1321#issuecomment-549422802,"mpegts_service.c is part of the ""mpegts"" feature.
Therein, function mpegts_service_source depends on the existence
of dvb_mux_*_class.
These classes are defined in mpegts_mux_dvb.c, which itself is part
of the ""mpegts_dvb"" feature.
So, all configurations with mpegts=yes and mpegts_dvb=no fail to
build.
Fix this by synchronizing both features.
Signed-off-by: Klaus Kudielka klaus.kudielka@gmail.com","Unfortunately, there are more hidden dependencies, which were ""worked around"" by my solution, but not fixed by yours. Sorry, I didn't notice that in the first place.
Next compilation error at dvb_psi.c:2334.
My test case:
./configure \
	--disable-cwc \
	--disable-cccam \
	--disable-capmt \
	--disable-constcw \
	--disable-linuxdvb \
	--disable-satip_server \
	--disable-satip_client \
	--disable-hdhomerun_static \
	--disable-dvbscan \
	--disable-avahi \
	--disable-zlib \
	--disable-libav \
	--disable-ffmpeg_static \
	--disable-pcre \
	--disable-pcre2 \
	--disable-uriparser \
	--disable-dbus_1",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/innes-labs,1,https://github.com/tvheadend/tvheadend/pull/1322,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron","Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron",True,"{'ROCKET': ['https://github.com/network-shark', 'https://github.com/6543', 'https://github.com/fiLLLip', 'https://github.com/thomas-mc-work'], 'THUMBS_UP': ['https://github.com/rkkoszewski'], 'EYES': ['https://github.com/batelcho']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-552157974,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron","Also could you squash your commits together please, that makes reviewing it a lot easier.",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-557751538,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron","I just noticed that you changed the intendation at various places in the webui.c file so it's not correct anymore, would be great if you could fix that aswell",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/Saentist,4,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-629833162,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron",@innes-labs can you update pull request?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/innes-labs,5,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-641110002,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron",I try to do the update in the weeks,True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/Saentist,6,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-641171757,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron",Hope this time will be implemented.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/innes-labs,7,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-648017875,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron",Pull request has been updated. Waiting for your review guys,True,"{'THUMBS_UP': ['https://github.com/Saentist', 'https://github.com/fiLLLip', 'https://github.com/thomas-mc-work']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/Saentist,8,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-752223934,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron","Again will request pull request.
Please anyone with can help with optimisation to this PR, to contribute and comment.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/Flole998,9,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-787608281,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron",I just tested this and it seems like when the UDP Port is closed and a ICMP response is sent the sending of the traffic is stopped but the subscription is staying active. Either the subscription should be removed with an error or there should be an attempt after some time to start transmitting packets again. There is no real point in having a subscription that never forwards any traffic.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/Flole998,10,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-824240972,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron",@innes-labs Could you please address the issue I mentioned above? Other than that it looks good so it should be good to be merged then.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/innes-labs,11,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-834584734,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron","@Flole998 In your comment on 1 Mar, do you mean ICMP or IGMP ?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/Flole998,12,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-834589095,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron","ICMP, when you try to send data to a closed port there is an ICMP response indicating that. Write will fail with an error in that case iirc.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/innes-labs,13,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-844867313,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron",@Flole998 How did you close the UDP port in your test ? I failed to generate the ICMP message (type 3 code 3 ?) you mentioned. But I think that the last commit will fix. Could you retry ?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1322,2019-11-08T16:01:48Z,,2021-10-21T13:09:16Z,OPEN,False,651,16,12,https://github.com/innes-labs,[Feature #5723] Output UDP stream (for multicast),1,[],https://github.com/tvheadend/tvheadend/pull/1322,https://github.com/Flole998,14,https://github.com/tvheadend/tvheadend/pull/1322#issuecomment-855202522,"Hi Jaroslav,
Waiting for your review ...
Stéphane Duperron","Please squash commits together.
I used netcat and simply stopped it after some time. I will test the new commit.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1323,2019-11-23T16:12:06Z,2019-11-28T18:11:59Z,2019-11-28T18:11:59Z,MERGED,True,3,1,1,https://github.com/Flole998,Fix #5782,1,[],https://github.com/tvheadend/tvheadend/pull/1323,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1323,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1323,2019-11-23T16:12:06Z,2019-11-28T18:11:59Z,2019-11-28T18:11:59Z,MERGED,True,3,1,1,https://github.com/Flole998,Fix #5782,1,[],https://github.com/tvheadend/tvheadend/pull/1323,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1323#issuecomment-557813139,,"Thanks, but it does not explain the 100% CPU loop without this forced ""connection close"" transfer mode.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1323,2019-11-23T16:12:06Z,2019-11-28T18:11:59Z,2019-11-28T18:11:59Z,MERGED,True,3,1,1,https://github.com/Flole998,Fix #5782,1,[],https://github.com/tvheadend/tvheadend/pull/1323,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1323#issuecomment-557813612,,"Correct, but without this even if we fix the 100% CPU Loop any Connection: upgrade response would cause tvheadend to discard the response. We can open a ""invalid Connection response header causes CPU loop"" bug though as that would still be an issue if the server sends ""Connection: tvheadendIsAwesome"" for example.
As I am not sure if the server does support keep alive I am assuming connection close, we could aswell assume keep alive probably (I am pretty sure all http2 servers do support that for normal http) but with close we are on the safe side.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1324,2019-12-25T21:57:57Z,2020-06-09T21:02:20Z,2020-06-10T00:57:34Z,CLOSED,False,4,2,1,https://github.com/kraj,allocate space for buf on heap,1,[],https://github.com/tvheadend/tvheadend/pull/1324,https://github.com/kraj,1,https://github.com/tvheadend/tvheadend/pull/1324,"Avoids
| src/epggrab/module/xmltv.c:204:47: error: '%s' directive output may be truncated writing between 2 and 2147483645 bytes into a region of size 115 [-Werror=format-truncation=]
|   204 |   snprintf(buf, sizeof(buf)-1, ""ddprogid://%s/%s"", mod->id, s);
|       |                                               ^~
Upstream-Status: Pending
Signed-off-by: Khem Raj raj.khem@gmail.com","Avoids
| src/epggrab/module/xmltv.c:204:47: error: '%s' directive output may be truncated writing between 2 and 2147483645 bytes into a region of size 115 [-Werror=format-truncation=]
|   204 |   snprintf(buf, sizeof(buf)-1, ""ddprogid://%s/%s"", mod->id, s);
|       |                                               ^~
Upstream-Status: Pending
Signed-off-by: Khem Raj raj.khem@gmail.com",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1324,2019-12-25T21:57:57Z,2020-06-09T21:02:20Z,2020-06-10T00:57:34Z,CLOSED,False,4,2,1,https://github.com/kraj,allocate space for buf on heap,1,[],https://github.com/tvheadend/tvheadend/pull/1324,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1324#issuecomment-641569465,"Avoids
| src/epggrab/module/xmltv.c:204:47: error: '%s' directive output may be truncated writing between 2 and 2147483645 bytes into a region of size 115 [-Werror=format-truncation=]
|   204 |   snprintf(buf, sizeof(buf)-1, ""ddprogid://%s/%s"", mod->id, s);
|       |                                               ^~
Upstream-Status: Pending
Signed-off-by: Khem Raj raj.khem@gmail.com","Changes are in, thanks @yafiyogi for your help!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1324,2019-12-25T21:57:57Z,2020-06-09T21:02:20Z,2020-06-10T00:57:34Z,CLOSED,False,4,2,1,https://github.com/kraj,allocate space for buf on heap,1,[],https://github.com/tvheadend/tvheadend/pull/1324,https://github.com/yafiyogi,3,https://github.com/tvheadend/tvheadend/pull/1324#issuecomment-641657085,"Avoids
| src/epggrab/module/xmltv.c:204:47: error: '%s' directive output may be truncated writing between 2 and 2147483645 bytes into a region of size 115 [-Werror=format-truncation=]
|   204 |   snprintf(buf, sizeof(buf)-1, ""ddprogid://%s/%s"", mod->id, s);
|       |                                               ^~
Upstream-Status: Pending
Signed-off-by: Khem Raj raj.khem@gmail.com",@Flole998 you're welcome.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1325,2020-01-24T11:08:21Z,2020-01-24T13:20:04Z,2020-01-24T13:20:04Z,CLOSED,False,2,2,1,https://github.com/rasmusbe,Increase IPTV kill timeout,1,[],https://github.com/tvheadend/tvheadend/pull/1325,https://github.com/rasmusbe,1,https://github.com/tvheadend/tvheadend/pull/1325,"The default timeout limit is a bit short when using pipes to ffmpeg, so increasing it should make it a bit more stable.","The default timeout limit is a bit short when using pipes to ffmpeg, so increasing it should make it a bit more stable.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1325,2020-01-24T11:08:21Z,2020-01-24T13:20:04Z,2020-01-24T13:20:04Z,CLOSED,False,2,2,1,https://github.com/rasmusbe,Increase IPTV kill timeout,1,[],https://github.com/tvheadend/tvheadend/pull/1325,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1325#issuecomment-578109187,"The default timeout limit is a bit short when using pipes to ffmpeg, so increasing it should make it a bit more stable.","It's a configurable value, there is no need to change this in the source code for everyone....",True,{'THUMBS_DOWN': ['https://github.com/rasmusbe']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1325,2020-01-24T11:08:21Z,2020-01-24T13:20:04Z,2020-01-24T13:20:04Z,CLOSED,False,2,2,1,https://github.com/rasmusbe,Increase IPTV kill timeout,1,[],https://github.com/tvheadend/tvheadend/pull/1325,https://github.com/rasmusbe,3,https://github.com/tvheadend/tvheadend/pull/1325#issuecomment-578116018,"The default timeout limit is a bit short when using pipes to ffmpeg, so increasing it should make it a bit more stable.","But as I said, the default value is a bit low for best results. And I don't find a way to configure it on a global level, so it means you have to configure every mux. Not really an option if you have over 9000 muxes.

So I hope you don't mean that just because it configurable it's ok to have a bad default value.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1325,2020-01-24T11:08:21Z,2020-01-24T13:20:04Z,2020-01-24T13:20:04Z,CLOSED,False,2,2,1,https://github.com/rasmusbe,Increase IPTV kill timeout,1,[],https://github.com/tvheadend/tvheadend/pull/1325,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1325#issuecomment-578117493,"The default timeout limit is a bit short when using pipes to ffmpeg, so increasing it should make it a bit more stable.","It's not a bad value, for me and many others it works fine as you are the first one to complain about it. Instead of you changing your muxes you want everyone to change theirs back do a default that was working since years?
Just select all muxes and change it for all of them. Done.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1325,2020-01-24T11:08:21Z,2020-01-24T13:20:04Z,2020-01-24T13:20:04Z,CLOSED,False,2,2,1,https://github.com/rasmusbe,Increase IPTV kill timeout,1,[],https://github.com/tvheadend/tvheadend/pull/1325,https://github.com/rasmusbe,5,https://github.com/tvheadend/tvheadend/pull/1325#issuecomment-578119060,"The default timeout limit is a bit short when using pipes to ffmpeg, so increasing it should make it a bit more stable.","Just so I understand your argument.
You run into the time limit much and therefore wan't it low?
Or are you not affected by the time limit and therefore do not see it as a problem?
And just because no body else has complaint (wonder why with this welcoming response...) it should be left as is?
And just to be clear about the probIem, I get the muxes via the IPTV Auto Network that changes from time to time, so I can change every mux now, but they will be changed back with time.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1325,2020-01-24T11:08:21Z,2020-01-24T13:20:04Z,2020-01-24T13:20:04Z,CLOSED,False,2,2,1,https://github.com/rasmusbe,Increase IPTV kill timeout,1,[],https://github.com/tvheadend/tvheadend/pull/1325,https://github.com/perexg,6,https://github.com/tvheadend/tvheadend/pull/1325#issuecomment-578126692,"The default timeout limit is a bit short when using pipes to ffmpeg, so increasing it should make it a bit more stable.","I agree with @Flole998 . 5 seconds is a good start time. If you have other requirements, change this value for your custom tvheadend build. Even the 5 seconds is too much for the real-time streaming.
There is also some low latency settings for ffmpeg to ensure, that the buffering is minimal.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1326,2020-01-24T12:24:12Z,2020-05-14T14:35:31Z,2020-05-14T14:35:31Z,CLOSED,False,1,1,1,https://github.com/Flole998,"Don't overwrite custom headers, fixes #5575",1,[],https://github.com/tvheadend/tvheadend/pull/1326,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1326,"Don't overwrite custom headers defined in the web interface with the ones set in an m3u file, fixes #5575","Don't overwrite custom headers defined in the web interface with the ones set in an m3u file, fixes #5575",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1327,2020-02-06T02:10:48Z,2020-05-14T14:34:27Z,2021-03-02T14:12:23Z,MERGED,True,1,1,1,https://github.com/mathieugouin,WebUI: Fix the query URL for IMDB website,1,[],https://github.com/tvheadend/tvheadend/pull/1327,https://github.com/mathieugouin,1,https://github.com/tvheadend/tvheadend/pull/1327,"When using the WebUI and clicking a program in the EPG to bring up the ""Broadcast Details"" window, there is a IMDB icon at the bottom left of this window.  I find it very useful to directly query the IMDB website for the title I'm looking at.  Unfortunately, there was probably a change on IMDB side that generates a ""Privacy error"" message when trying to open the URL: https://akas.imdb.com/find?q=Skyfall
Note: full URL example is given using the Skyvall movie title.
Your connection is not private
Attackers might be trying to steal your information from akas.imdb.com (for example, passwords, messages, or credit cards). Learn more
NET::ERR_CERT_COMMON_NAME_INVALID

This PR corrects this issue by providing an updated URL that works without issue to query a title.
The new URL I propose is simply: https://www.imdb.com/find?q=Skyfall   (same example given)","When using the WebUI and clicking a program in the EPG to bring up the ""Broadcast Details"" window, there is a IMDB icon at the bottom left of this window.  I find it very useful to directly query the IMDB website for the title I'm looking at.  Unfortunately, there was probably a change on IMDB side that generates a ""Privacy error"" message when trying to open the URL: https://akas.imdb.com/find?q=Skyfall
Note: full URL example is given using the Skyvall movie title.
Your connection is not private
Attackers might be trying to steal your information from akas.imdb.com (for example, passwords, messages, or credit cards). Learn more
NET::ERR_CERT_COMMON_NAME_INVALID

This PR corrects this issue by providing an updated URL that works without issue to query a title.
The new URL I propose is simply: https://www.imdb.com/find?q=Skyfall   (same example given)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1327,2020-02-06T02:10:48Z,2020-05-14T14:34:27Z,2021-03-02T14:12:23Z,MERGED,True,1,1,1,https://github.com/mathieugouin,WebUI: Fix the query URL for IMDB website,1,[],https://github.com/tvheadend/tvheadend/pull/1327,https://github.com/mathieugouin,2,https://github.com/tvheadend/tvheadend/pull/1327#issuecomment-590025427,"When using the WebUI and clicking a program in the EPG to bring up the ""Broadcast Details"" window, there is a IMDB icon at the bottom left of this window.  I find it very useful to directly query the IMDB website for the title I'm looking at.  Unfortunately, there was probably a change on IMDB side that generates a ""Privacy error"" message when trying to open the URL: https://akas.imdb.com/find?q=Skyfall
Note: full URL example is given using the Skyvall movie title.
Your connection is not private
Attackers might be trying to steal your information from akas.imdb.com (for example, passwords, messages, or credit cards). Learn more
NET::ERR_CERT_COMMON_NAME_INVALID

This PR corrects this issue by providing an updated URL that works without issue to query a title.
The new URL I propose is simply: https://www.imdb.com/find?q=Skyfall   (same example given)",Do I miss something in this PR?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1327,2020-02-06T02:10:48Z,2020-05-14T14:34:27Z,2021-03-02T14:12:23Z,MERGED,True,1,1,1,https://github.com/mathieugouin,WebUI: Fix the query URL for IMDB website,1,[],https://github.com/tvheadend/tvheadend/pull/1327,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1327#issuecomment-621529335,"When using the WebUI and clicking a program in the EPG to bring up the ""Broadcast Details"" window, there is a IMDB icon at the bottom left of this window.  I find it very useful to directly query the IMDB website for the title I'm looking at.  Unfortunately, there was probably a change on IMDB side that generates a ""Privacy error"" message when trying to open the URL: https://akas.imdb.com/find?q=Skyfall
Note: full URL example is given using the Skyvall movie title.
Your connection is not private
Attackers might be trying to steal your information from akas.imdb.com (for example, passwords, messages, or credit cards). Learn more
NET::ERR_CERT_COMMON_NAME_INVALID

This PR corrects this issue by providing an updated URL that works without issue to query a title.
The new URL I propose is simply: https://www.imdb.com/find?q=Skyfall   (same example given)","Do I miss something in this PR?

No you didn't, unfortunately review is slow at the moment. This PR works perfectly fine for me.
@perexg Could you please merge this one?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1327,2020-02-06T02:10:48Z,2020-05-14T14:34:27Z,2021-03-02T14:12:23Z,MERGED,True,1,1,1,https://github.com/mathieugouin,WebUI: Fix the query URL for IMDB website,1,[],https://github.com/tvheadend/tvheadend/pull/1327,https://github.com/mathieugouin,4,https://github.com/tvheadend/tvheadend/pull/1327#issuecomment-621587088,"When using the WebUI and clicking a program in the EPG to bring up the ""Broadcast Details"" window, there is a IMDB icon at the bottom left of this window.  I find it very useful to directly query the IMDB website for the title I'm looking at.  Unfortunately, there was probably a change on IMDB side that generates a ""Privacy error"" message when trying to open the URL: https://akas.imdb.com/find?q=Skyfall
Note: full URL example is given using the Skyvall movie title.
Your connection is not private
Attackers might be trying to steal your information from akas.imdb.com (for example, passwords, messages, or credit cards). Learn more
NET::ERR_CERT_COMMON_NAME_INVALID

This PR corrects this issue by providing an updated URL that works without issue to query a title.
The new URL I propose is simply: https://www.imdb.com/find?q=Skyfall   (same example given)","@Flole998 Ok thanks.  I was not sure, as this is my first contribution to this great project!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1327,2020-02-06T02:10:48Z,2020-05-14T14:34:27Z,2021-03-02T14:12:23Z,MERGED,True,1,1,1,https://github.com/mathieugouin,WebUI: Fix the query URL for IMDB website,1,[],https://github.com/tvheadend/tvheadend/pull/1327,https://github.com/mathieugouin,5,https://github.com/tvheadend/tvheadend/pull/1327#issuecomment-788520580,"When using the WebUI and clicking a program in the EPG to bring up the ""Broadcast Details"" window, there is a IMDB icon at the bottom left of this window.  I find it very useful to directly query the IMDB website for the title I'm looking at.  Unfortunately, there was probably a change on IMDB side that generates a ""Privacy error"" message when trying to open the URL: https://akas.imdb.com/find?q=Skyfall
Note: full URL example is given using the Skyvall movie title.
Your connection is not private
Attackers might be trying to steal your information from akas.imdb.com (for example, passwords, messages, or credit cards). Learn more
NET::ERR_CERT_COMMON_NAME_INVALID

This PR corrects this issue by providing an updated URL that works without issue to query a title.
The new URL I propose is simply: https://www.imdb.com/find?q=Skyfall   (same example given)","@Flole998 Would you mind explaining the revert?  Again, just here to learn, not criticize...",True,{'THUMBS_UP': ['https://github.com/Flole998']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1327,2020-02-06T02:10:48Z,2020-05-14T14:34:27Z,2021-03-02T14:12:23Z,MERGED,True,1,1,1,https://github.com/mathieugouin,WebUI: Fix the query URL for IMDB website,1,[],https://github.com/tvheadend/tvheadend/pull/1327,https://github.com/Flole998,6,https://github.com/tvheadend/tvheadend/pull/1327#issuecomment-788550515,"When using the WebUI and clicking a program in the EPG to bring up the ""Broadcast Details"" window, there is a IMDB icon at the bottom left of this window.  I find it very useful to directly query the IMDB website for the title I'm looking at.  Unfortunately, there was probably a change on IMDB side that generates a ""Privacy error"" message when trying to open the URL: https://akas.imdb.com/find?q=Skyfall
Note: full URL example is given using the Skyvall movie title.
Your connection is not private
Attackers might be trying to steal your information from akas.imdb.com (for example, passwords, messages, or credit cards). Learn more
NET::ERR_CERT_COMMON_NAME_INVALID

This PR corrects this issue by providing an updated URL that works without issue to query a title.
The new URL I propose is simply: https://www.imdb.com/find?q=Skyfall   (same example given)","Great question, it's a little late though and it's been a while since that was done, so I really don't remember what was going on at that point.
However, I've checked the commit and noticed something: The revert commit seems to be not attached to any branch or whatever, so it's basically ""lost"" and completely irrelevant and useless. It was probably on some brach for some tests and that branch is gone now, or it was on a fork for some tests. On the latest master this change is in, and that's all that really counts ;)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1327,2020-02-06T02:10:48Z,2020-05-14T14:34:27Z,2021-03-02T14:12:23Z,MERGED,True,1,1,1,https://github.com/mathieugouin,WebUI: Fix the query URL for IMDB website,1,[],https://github.com/tvheadend/tvheadend/pull/1327,https://github.com/mathieugouin,7,https://github.com/tvheadend/tvheadend/pull/1327#issuecomment-788937146,"When using the WebUI and clicking a program in the EPG to bring up the ""Broadcast Details"" window, there is a IMDB icon at the bottom left of this window.  I find it very useful to directly query the IMDB website for the title I'm looking at.  Unfortunately, there was probably a change on IMDB side that generates a ""Privacy error"" message when trying to open the URL: https://akas.imdb.com/find?q=Skyfall
Note: full URL example is given using the Skyvall movie title.
Your connection is not private
Attackers might be trying to steal your information from akas.imdb.com (for example, passwords, messages, or credit cards). Learn more
NET::ERR_CERT_COMMON_NAME_INVALID

This PR corrects this issue by providing an updated URL that works without issue to query a title.
The new URL I propose is simply: https://www.imdb.com/find?q=Skyfall   (same example given)","Hi @Flole998, thanks for taking the time to answer, I appreciate!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1328,2020-02-28T14:31:11Z,2020-06-10T03:04:37Z,2020-06-10T03:04:42Z,CLOSED,False,45,0,3,https://github.com/magmastonealex,Add ENVyfile for easier environment setup.,2,[],https://github.com/tvheadend/tvheadend/pull/1328,https://github.com/magmastonealex,1,https://github.com/tvheadend/tvheadend/pull/1328,"Hello!
We (@magmastonealex, @omstrumpf, @gbateman, @Tim-Willard) have been working on a tool called ENVy.
ENVy is an environment manager to make working on disparate projects easier. You don't need to worry
about what a system package is called on your Linux distribution, or figure out how to build for Mac
from scratch.
Part of our goal was to make it easier to contribute to open source. We noticed that long contributing
guides dissuades casual involvement - if you have to install a bunch of dependencies (that you won't
necessarily know how or remember to get rid of),
and spend half an hour getting set up, you're not very likely to fix a typo or make a 30 second fix for a personally annoying bug.
Setup with ENVy is as simple as typing envy up for any project you want to work on. Running envy nuke removes all traces of that environment.
With ENVy, you don't need to hunt down a lint command or how you run the tests. envy -h shows you all the commands you can run - or just
jump into a shell with envy shell.
You can read more about ENVy here, but the short version is that we think it'll make it
easier for contributors to help out.
This PR adds an ENVyfile, the file that describes a development environment and contains the commands to run.
I used tvheadend while developing, in order to test ENVy, and we hoped you'd consider committing this file to help out casual contributors.
If you're not interested, or you think this isn't a good fit, please let me (or any of us) know. We would greatly appreciate your feedback!","Hello!
We (@magmastonealex, @omstrumpf, @gbateman, @Tim-Willard) have been working on a tool called ENVy.
ENVy is an environment manager to make working on disparate projects easier. You don't need to worry
about what a system package is called on your Linux distribution, or figure out how to build for Mac
from scratch.
Part of our goal was to make it easier to contribute to open source. We noticed that long contributing
guides dissuades casual involvement - if you have to install a bunch of dependencies (that you won't
necessarily know how or remember to get rid of),
and spend half an hour getting set up, you're not very likely to fix a typo or make a 30 second fix for a personally annoying bug.
Setup with ENVy is as simple as typing envy up for any project you want to work on. Running envy nuke removes all traces of that environment.
With ENVy, you don't need to hunt down a lint command or how you run the tests. envy -h shows you all the commands you can run - or just
jump into a shell with envy shell.
You can read more about ENVy here, but the short version is that we think it'll make it
easier for contributors to help out.
This PR adds an ENVyfile, the file that describes a development environment and contains the commands to run.
I used tvheadend while developing, in order to test ENVy, and we hoped you'd consider committing this file to help out casual contributors.
If you're not interested, or you think this isn't a good fit, please let me (or any of us) know. We would greatly appreciate your feedback!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1328,2020-02-28T14:31:11Z,2020-06-10T03:04:37Z,2020-06-10T03:04:42Z,CLOSED,False,45,0,3,https://github.com/magmastonealex,Add ENVyfile for easier environment setup.,2,[],https://github.com/tvheadend/tvheadend/pull/1328,https://github.com/Saentist,2,https://github.com/tvheadend/tvheadend/pull/1328#issuecomment-594520409,"Hello!
We (@magmastonealex, @omstrumpf, @gbateman, @Tim-Willard) have been working on a tool called ENVy.
ENVy is an environment manager to make working on disparate projects easier. You don't need to worry
about what a system package is called on your Linux distribution, or figure out how to build for Mac
from scratch.
Part of our goal was to make it easier to contribute to open source. We noticed that long contributing
guides dissuades casual involvement - if you have to install a bunch of dependencies (that you won't
necessarily know how or remember to get rid of),
and spend half an hour getting set up, you're not very likely to fix a typo or make a 30 second fix for a personally annoying bug.
Setup with ENVy is as simple as typing envy up for any project you want to work on. Running envy nuke removes all traces of that environment.
With ENVy, you don't need to hunt down a lint command or how you run the tests. envy -h shows you all the commands you can run - or just
jump into a shell with envy shell.
You can read more about ENVy here, but the short version is that we think it'll make it
easier for contributors to help out.
This PR adds an ENVyfile, the file that describes a development environment and contains the commands to run.
I used tvheadend while developing, in order to test ENVy, and we hoped you'd consider committing this file to help out casual contributors.
If you're not interested, or you think this isn't a good fit, please let me (or any of us) know. We would greatly appreciate your feedback!",What about port 9982 ?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1328,2020-02-28T14:31:11Z,2020-06-10T03:04:37Z,2020-06-10T03:04:42Z,CLOSED,False,45,0,3,https://github.com/magmastonealex,Add ENVyfile for easier environment setup.,2,[],https://github.com/tvheadend/tvheadend/pull/1328,https://github.com/magmastonealex,3,https://github.com/tvheadend/tvheadend/pull/1328#issuecomment-594525326,"Hello!
We (@magmastonealex, @omstrumpf, @gbateman, @Tim-Willard) have been working on a tool called ENVy.
ENVy is an environment manager to make working on disparate projects easier. You don't need to worry
about what a system package is called on your Linux distribution, or figure out how to build for Mac
from scratch.
Part of our goal was to make it easier to contribute to open source. We noticed that long contributing
guides dissuades casual involvement - if you have to install a bunch of dependencies (that you won't
necessarily know how or remember to get rid of),
and spend half an hour getting set up, you're not very likely to fix a typo or make a 30 second fix for a personally annoying bug.
Setup with ENVy is as simple as typing envy up for any project you want to work on. Running envy nuke removes all traces of that environment.
With ENVy, you don't need to hunt down a lint command or how you run the tests. envy -h shows you all the commands you can run - or just
jump into a shell with envy shell.
You can read more about ENVy here, but the short version is that we think it'll make it
easier for contributors to help out.
This PR adds an ENVyfile, the file that describes a development environment and contains the commands to run.
I used tvheadend while developing, in order to test ENVy, and we hoped you'd consider committing this file to help out casual contributors.
If you're not interested, or you think this isn't a good fit, please let me (or any of us) know. We would greatly appreciate your feedback!",@Saentist Thanks! That's a good point.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1328,2020-02-28T14:31:11Z,2020-06-10T03:04:37Z,2020-06-10T03:04:42Z,CLOSED,False,45,0,3,https://github.com/magmastonealex,Add ENVyfile for easier environment setup.,2,[],https://github.com/tvheadend/tvheadend/pull/1328,https://github.com/magmastonealex,4,https://github.com/tvheadend/tvheadend/pull/1328#issuecomment-641691717,"Hello!
We (@magmastonealex, @omstrumpf, @gbateman, @Tim-Willard) have been working on a tool called ENVy.
ENVy is an environment manager to make working on disparate projects easier. You don't need to worry
about what a system package is called on your Linux distribution, or figure out how to build for Mac
from scratch.
Part of our goal was to make it easier to contribute to open source. We noticed that long contributing
guides dissuades casual involvement - if you have to install a bunch of dependencies (that you won't
necessarily know how or remember to get rid of),
and spend half an hour getting set up, you're not very likely to fix a typo or make a 30 second fix for a personally annoying bug.
Setup with ENVy is as simple as typing envy up for any project you want to work on. Running envy nuke removes all traces of that environment.
With ENVy, you don't need to hunt down a lint command or how you run the tests. envy -h shows you all the commands you can run - or just
jump into a shell with envy shell.
You can read more about ENVy here, but the short version is that we think it'll make it
easier for contributors to help out.
This PR adds an ENVyfile, the file that describes a development environment and contains the commands to run.
I used tvheadend while developing, in order to test ENVy, and we hoped you'd consider committing this file to help out casual contributors.
If you're not interested, or you think this isn't a good fit, please let me (or any of us) know. We would greatly appreciate your feedback!","Closing this.
We didn't get a ton of traction in any projects we suggested ENVy to, so we're taking a step back to re-evaluate our approach.
Thanks for your consideration.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1329,2020-02-28T15:08:39Z,2020-05-15T23:50:40Z,2020-05-15T23:50:40Z,MERGED,True,3,3,1,https://github.com/Trujulu,Upgrade to libhdhomerun_20200225,2,[],https://github.com/tvheadend/tvheadend/pull/1329,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1329,Note that from this version Constellation must set to AUTO to tune.,Note that from this version Constellation must set to AUTO to tune.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1329,2020-02-28T15:08:39Z,2020-05-15T23:50:40Z,2020-05-15T23:50:40Z,MERGED,True,3,3,1,https://github.com/Trujulu,Upgrade to libhdhomerun_20200225,2,[],https://github.com/tvheadend/tvheadend/pull/1329,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1329#issuecomment-628923154,Note that from this version Constellation must set to AUTO to tune.,"We need to mention this new ""limitation""/configuration issue somewhere. Or best better, override it automatically if libhdhomerun is used so the input doesn't matter anymore in that case.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1329,2020-02-28T15:08:39Z,2020-05-15T23:50:40Z,2020-05-15T23:50:40Z,MERGED,True,3,3,1,https://github.com/Trujulu,Upgrade to libhdhomerun_20200225,2,[],https://github.com/tvheadend/tvheadend/pull/1329,https://github.com/Trujulu,3,https://github.com/tvheadend/tvheadend/pull/1329#issuecomment-629430482,Note that from this version Constellation must set to AUTO to tune.,"Looks good to set AUTO as default for homerun devices. Hdhomerun support told me that was the problem that adapters don't tune.
Anyway the tuning failure occurs by updating homerun devices not tvheadend homerun packages.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1330,2020-03-04T09:01:30Z,,2021-02-28T00:17:19Z,OPEN,False,60,3,4,https://github.com/lomion0815,#4182: Add 'duplicate handling' - feature in DVR-Profiles,2,[],https://github.com/tvheadend/tvheadend/pull/1330,https://github.com/lomion0815,1,https://github.com/tvheadend/tvheadend/pull/1330,"This patch adds drop-down list to ""DVR profile ""configuration which is then used by default for newly created ""autorec"" entry. Can be altered in ""Autorec"" configuration.
Solves issue #4182
Moved PR 1316 to this PR.","This patch adds drop-down list to ""DVR profile ""configuration which is then used by default for newly created ""autorec"" entry. Can be altered in ""Autorec"" configuration.
Solves issue #4182
Moved PR 1316 to this PR.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1330,2020-03-04T09:01:30Z,,2021-02-28T00:17:19Z,OPEN,False,60,3,4,https://github.com/lomion0815,#4182: Add 'duplicate handling' - feature in DVR-Profiles,2,[],https://github.com/tvheadend/tvheadend/pull/1330,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1330#issuecomment-787208484,"This patch adds drop-down list to ""DVR profile ""configuration which is then used by default for newly created ""autorec"" entry. Can be altered in ""Autorec"" configuration.
Solves issue #4182
Moved PR 1316 to this PR.",Could you please squash your commits together?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1331,2020-04-10T14:28:04Z,2020-05-21T15:35:55Z,2020-05-21T15:42:29Z,MERGED,True,7,7,4,https://github.com/anthonytex,Consider to change default PID path to /run/tvheadend.pid,1,[],https://github.com/tvheadend/tvheadend/pull/1331,https://github.com/anthonytex,1,https://github.com/tvheadend/tvheadend/pull/1331,"Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.","Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1331,2020-04-10T14:28:04Z,2020-05-21T15:35:55Z,2020-05-21T15:42:29Z,MERGED,True,7,7,4,https://github.com/anthonytex,Consider to change default PID path to /run/tvheadend.pid,1,[],https://github.com/tvheadend/tvheadend/pull/1331,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1331#issuecomment-628694790,"Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.",This could break several things if I am not mistaken? Or is there some kind of support that redirects /var/run to /run so other software that is expecting the PID File in /var/run can find it there aswell?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1331,2020-04-10T14:28:04Z,2020-05-21T15:35:55Z,2020-05-21T15:42:29Z,MERGED,True,7,7,4,https://github.com/anthonytex,Consider to change default PID path to /run/tvheadend.pid,1,[],https://github.com/tvheadend/tvheadend/pull/1331,https://github.com/anthonytex,3,https://github.com/tvheadend/tvheadend/pull/1331#issuecomment-629060047,"Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.","Hello, well in most systemd's based distros /var/run is a symbolic link to /run so it should not be a problem because actually the pid file is really in the /run directory.
That said in older version of all system (e.g. Debian **<**7, Redhat <= 6) this may be a problem but i don't think that for newer version of TVH we should look for such old compatibility.
We are talking about very old versions. Note: maybe some particular distros are  not following FSH3 and so this change could be a problem. This PR could be left open anyway as a reminder for the future.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1331,2020-04-10T14:28:04Z,2020-05-21T15:35:55Z,2020-05-21T15:42:29Z,MERGED,True,7,7,4,https://github.com/anthonytex,Consider to change default PID path to /run/tvheadend.pid,1,[],https://github.com/tvheadend/tvheadend/pull/1331,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1331#issuecomment-629189354,"Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.","I will definitely leave it open, I need to think just a little more about what to do with it now (merge or wait).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1331,2020-04-10T14:28:04Z,2020-05-21T15:35:55Z,2020-05-21T15:42:29Z,MERGED,True,7,7,4,https://github.com/anthonytex,Consider to change default PID path to /run/tvheadend.pid,1,[],https://github.com/tvheadend/tvheadend/pull/1331,https://github.com/EricV,5,https://github.com/tvheadend/tvheadend/pull/1331#issuecomment-629206162,"Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.","If it could help, I can add that I have a message at startup saying that systemd changed the location to /run by itself.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1331,2020-04-10T14:28:04Z,2020-05-21T15:35:55Z,2020-05-21T15:42:29Z,MERGED,True,7,7,4,https://github.com/anthonytex,Consider to change default PID path to /run/tvheadend.pid,1,[],https://github.com/tvheadend/tvheadend/pull/1331,https://github.com/Flole998,6,https://github.com/tvheadend/tvheadend/pull/1331#issuecomment-632045231,"Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.",How about this: We do the changes in systemd now so the warning will go away but leave the old path in the binary to keep older systems happy. Please let me know what you think about that.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1331,2020-04-10T14:28:04Z,2020-05-21T15:35:55Z,2020-05-21T15:42:29Z,MERGED,True,7,7,4,https://github.com/anthonytex,Consider to change default PID path to /run/tvheadend.pid,1,[],https://github.com/tvheadend/tvheadend/pull/1331,https://github.com/EricV,7,https://github.com/tvheadend/tvheadend/pull/1331#issuecomment-632150454,"Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.","Well I do not understand about old systems and new tvheadend. Unless you build everyting static, or compile bty yourself you will have to upgrade your system...
And doing what you propose is inconstent either we move all location or none.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1331,2020-04-10T14:28:04Z,2020-05-21T15:35:55Z,2020-05-21T15:42:29Z,MERGED,True,7,7,4,https://github.com/anthonytex,Consider to change default PID path to /run/tvheadend.pid,1,[],https://github.com/tvheadend/tvheadend/pull/1331,https://github.com/Flole998,8,https://github.com/tvheadend/tvheadend/pull/1331#issuecomment-632154481,"Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.","Tvheadend is not just running on ""normal"" systems but also on Routers, NAS Devices and whatnot. Those can not be upgraded and they do not always provide /run, I want to make sure we do not cause any issues for those devices. When we only update systemd those devices will not be affected.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1331,2020-04-10T14:28:04Z,2020-05-21T15:35:55Z,2020-05-21T15:42:29Z,MERGED,True,7,7,4,https://github.com/anthonytex,Consider to change default PID path to /run/tvheadend.pid,1,[],https://github.com/tvheadend/tvheadend/pull/1331,https://github.com/anthonytex,9,https://github.com/tvheadend/tvheadend/pull/1331#issuecomment-632157407,"Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.","Well IMHO I wouldn't change it in a half way because it's better to reflect program PID path with systemd' unit: you could leave this PR as a reminder, add it to a milestone if you prefer, or simply merge.
Thanks",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1331,2020-04-10T14:28:04Z,2020-05-21T15:35:55Z,2020-05-21T15:42:29Z,MERGED,True,7,7,4,https://github.com/anthonytex,Consider to change default PID path to /run/tvheadend.pid,1,[],https://github.com/tvheadend/tvheadend/pull/1331,https://github.com/Flole998,10,https://github.com/tvheadend/tvheadend/pull/1331#issuecomment-632159791,"Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.","I guess we will have to do it on some day anyways, there's probably no point in waiting longer.",True,{'THUMBS_UP': ['https://github.com/anthonytex']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1331,2020-04-10T14:28:04Z,2020-05-21T15:35:55Z,2020-05-21T15:42:29Z,MERGED,True,7,7,4,https://github.com/anthonytex,Consider to change default PID path to /run/tvheadend.pid,1,[],https://github.com/tvheadend/tvheadend/pull/1331,https://github.com/anthonytex,11,https://github.com/tvheadend/tvheadend/pull/1331#issuecomment-632165861,"Hello following FSH3 consider to change default pid path to /run/tvheadend.pid from /var/run/tvheadend.pid.
Some utilities (i.e. systemd-analyze) are now reporting legacy path /var/run
systemd-analyze verify tvheadend.service

/usr/lib/systemd/system/tvheadend.service:13: PIDFile= references a path below legacy directory /var/run/, updating /var/run/tvheadend.pid → /run/tvheadend.pid; please update the unit file accordingly.","This is by the way the dev version of tvh so *one"" should expect ""breaking"" changes ;)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1332,2020-04-13T20:51:44Z,2020-05-14T15:13:53Z,2020-07-11T21:27:20Z,MERGED,True,6,2,2,https://github.com/ksooo,HTSP v35: Add support for recording file size,1,[],https://github.com/tvheadend/tvheadend/pull/1332,https://github.com/ksooo,1,https://github.com/tvheadend/tvheadend/pull/1332,"Expose recording file size over HTSP.
Needed to support this Kodi 19 feature: xbmc/xbmc#17538","Expose recording file size over HTSP.
Needed to support this Kodi 19 feature: xbmc/xbmc#17538",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1333,2020-04-17T13:52:29Z,2020-05-18T17:26:58Z,2020-05-18T17:28:02Z,MERGED,True,20,20,1,https://github.com/BKPepe,Makefile.ffmpeg: update almost all upstream packages,1,[],https://github.com/tvheadend/tvheadend/pull/1333,https://github.com/BKPepe,1,https://github.com/tvheadend/tvheadend/pull/1333,"Updated x264 to its the latest snapshot 20191216 as their
snapshotting service was discontinued.


Updated x265 to version 3.2.


Updated libvpx to version 1.8.2.


Updated libogg to version 1.3.4


Updated fdk-aac to version 0.1.6
There is version 2.0.x, but let's leave it for later.


Updated opus to version 1.3.1


Updated nv-codec-headers to version 8.2.15.10


Updated ffmpeg to version 4.1.5
Fixes CVEs:
CVE-2019-9718
CVE-2019-9721
CVE-2019-11338
CVE-2019-11339
CVE-2019-12730
CVE-2019-17539
CVE-2019-17542


Misc changes:

Changed url for libogg, libtheora, libvorbis to use HTTPS and previous
site points to new one
FFmpeg now uses HTTPS","Updated x264 to its the latest snapshot 20191216 as their
snapshotting service was discontinued.


Updated x265 to version 3.2.


Updated libvpx to version 1.8.2.


Updated libogg to version 1.3.4


Updated fdk-aac to version 0.1.6
There is version 2.0.x, but let's leave it for later.


Updated opus to version 1.3.1


Updated nv-codec-headers to version 8.2.15.10


Updated ffmpeg to version 4.1.5
Fixes CVEs:
CVE-2019-9718
CVE-2019-9721
CVE-2019-11338
CVE-2019-11339
CVE-2019-12730
CVE-2019-17539
CVE-2019-17542


Misc changes:

Changed url for libogg, libtheora, libvorbis to use HTTPS and previous
site points to new one
FFmpeg now uses HTTPS",True,"{'HEART': ['https://github.com/mielleman', 'https://github.com/raccettura']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1334,2020-04-17T21:17:48Z,2020-05-16T00:32:16Z,2020-05-16T00:32:16Z,CLOSED,False,221237,166938,383,https://github.com/mojso,Release/4.2,524,[],https://github.com/tvheadend/tvheadend/pull/1334,https://github.com/mojso,1,https://github.com/tvheadend/tvheadend/pull/1334,it would be good to be able to use Stalker as a source for iptv in tvheadend,it would be good to be able to use Stalker as a source for iptv in tvheadend,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1334,2020-04-17T21:17:48Z,2020-05-16T00:32:16Z,2020-05-16T00:32:16Z,CLOSED,False,221237,166938,383,https://github.com/mojso,Release/4.2,524,[],https://github.com/tvheadend/tvheadend/pull/1334,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1334#issuecomment-628680560,it would be good to be able to use Stalker as a source for iptv in tvheadend,What exactly are you trying to do here? It looks like you are trying to merge 4.2 into master?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1334,2020-04-17T21:17:48Z,2020-05-16T00:32:16Z,2020-05-16T00:32:16Z,CLOSED,False,221237,166938,383,https://github.com/mojso,Release/4.2,524,[],https://github.com/tvheadend/tvheadend/pull/1334,https://github.com/Leatherface75,3,https://github.com/tvheadend/tvheadend/pull/1334#issuecomment-629558245,it would be good to be able to use Stalker as a source for iptv in tvheadend,Probably a mistake when trying to merge to own repository but did it the other way.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1335,2020-05-03T15:07:12Z,,2020-05-03T15:07:12Z,OPEN,False,5,9,1,https://github.com/dave-p,Correct description of Change Parameters flag.,1,[],https://github.com/tvheadend/tvheadend/pull/1335,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1335,The Change Parameters flag on the Access Entries screen for a user determines whether that user's settings will override any previously-set parameters (for example from a wildcard user) - it does not affect the ability of subsequent users to override settings in turn. The exception is the 'Rights' settings where all matched users with the Change flag set are ORed together.,The Change Parameters flag on the Access Entries screen for a user determines whether that user's settings will override any previously-set parameters (for example from a wildcard user) - it does not affect the ability of subsequent users to override settings in turn. The exception is the 'Rights' settings where all matched users with the Change flag set are ORed together.,True,{'HEART': ['https://github.com/mpmc']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1336,2020-05-10T22:08:35Z,2020-05-21T11:50:54Z,2020-05-21T11:58:37Z,MERGED,True,2,0,1,https://github.com/chewi,dvbpsi: Fix build when DVB is not enabled at all,1,[],https://github.com/tvheadend/tvheadend/pull/1336,https://github.com/chewi,1,https://github.com/tvheadend/tvheadend/pull/1336,"Not sure if this is entirely correct but otherwise you get:
src/input/mpegts/dvb_psi.c: In function ‘psi_tables_install’:
src/input/mpegts/dvb_psi.c:2334:41: error: ‘dvb_mux_dvbc_class’ undeclared (first use in this function)
 2334 |     if (idnode_is_instance(&mm->mm_id, &dvb_mux_dvbc_class))
      |                                         ^~~~~~~~~~~~~~~~~~
src/input/mpegts/dvb_psi.c:2334:41: note: each undeclared identifier is reported only once for each function it appears in
make: *** [Makefile:716: /var/tmp/portage/media-tv/tvheadend-9999/work/tvheadend-9999/build.linux/src/input/mpegts/dvb_psi.o] Error 1","Not sure if this is entirely correct but otherwise you get:
src/input/mpegts/dvb_psi.c: In function ‘psi_tables_install’:
src/input/mpegts/dvb_psi.c:2334:41: error: ‘dvb_mux_dvbc_class’ undeclared (first use in this function)
 2334 |     if (idnode_is_instance(&mm->mm_id, &dvb_mux_dvbc_class))
      |                                         ^~~~~~~~~~~~~~~~~~
src/input/mpegts/dvb_psi.c:2334:41: note: each undeclared identifier is reported only once for each function it appears in
make: *** [Makefile:716: /var/tmp/portage/media-tv/tvheadend-9999/work/tvheadend-9999/build.linux/src/input/mpegts/dvb_psi.o] Error 1",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1337,2020-05-15T23:46:49Z,2020-05-15T23:47:07Z,2020-05-17T15:48:23Z,MERGED,True,2,2,2,https://github.com/Flole998,Move from cosmic to focal,2,[],https://github.com/tvheadend/tvheadend/pull/1337,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1337,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1338,2020-05-17T15:47:46Z,2020-05-17T15:48:07Z,2020-05-17T15:48:12Z,MERGED,True,1,3,2,https://github.com/Flole998,"Deprecate python2, add support for python3",2,[],https://github.com/tvheadend/tvheadend/pull/1338,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1338,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1339,2020-05-17T16:06:15Z,2020-07-06T15:06:46Z,2020-07-06T15:06:46Z,MERGED,True,45,3,3,https://github.com/beavis69,"Add packet buffer on stream restart, fixes #5722",1,[],https://github.com/tvheadend/tvheadend/pull/1339,https://github.com/beavis69,1,https://github.com/tvheadend/tvheadend/pull/1339,"Seems to works for me in most cases, but i'm not sure if function parser_create is the best place to send pkt from rstlog.
Can someone test and review this patch ?","Seems to works for me in most cases, but i'm not sure if function parser_create is the best place to send pkt from rstlog.
Can someone test and review this patch ?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1340,2020-05-18T23:43:04Z,2020-05-18T23:43:18Z,2020-07-07T15:55:17Z,MERGED,True,10,6,2,https://github.com/Flole998,Attempt to fix doozer builds,2,[],https://github.com/tvheadend/tvheadend/pull/1340,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1340,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1341,2020-05-20T11:49:18Z,2020-05-21T11:48:20Z,2020-05-21T11:48:21Z,MERGED,True,1,1,1,https://github.com/dave-p,Update Copyright date on UI 'About' screen.,1,[],https://github.com/tvheadend/tvheadend/pull/1341,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1341,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1342,2020-05-23T22:47:59Z,2020-06-03T00:56:47Z,2020-06-03T20:08:04Z,MERGED,True,5,3,3,https://github.com/chewi,Fix building with -fno-common (default from GCC 10),1,[],https://github.com/tvheadend/tvheadend/pull/1342,https://github.com/chewi,1,https://github.com/tvheadend/tvheadend/pull/1342,,,True,"{'THUMBS_UP': ['https://github.com/Trujulu', 'https://github.com/AlexMekkering']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1342,2020-05-23T22:47:59Z,2020-06-03T00:56:47Z,2020-06-03T20:08:04Z,MERGED,True,5,3,3,https://github.com/chewi,Fix building with -fno-common (default from GCC 10),1,[],https://github.com/tvheadend/tvheadend/pull/1342,https://github.com/chewi,2,https://github.com/tvheadend/tvheadend/pull/1342#issuecomment-633254687,,This deals with https://tvheadend.org/issues/5862.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1342,2020-05-23T22:47:59Z,2020-06-03T00:56:47Z,2020-06-03T20:08:04Z,MERGED,True,5,3,3,https://github.com/chewi,Fix building with -fno-common (default from GCC 10),1,[],https://github.com/tvheadend/tvheadend/pull/1342,https://github.com/sergiomb2,3,https://github.com/tvheadend/tvheadend/pull/1342#issuecomment-637884912,,"works for me , thank you.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1343,2020-05-29T10:42:53Z,2020-07-06T15:06:59Z,2020-07-06T15:07:00Z,MERGED,True,5,5,3,https://github.com/mrwish7,AAC ADTS and LATM correct flagging. Fixes #5887,1,[],https://github.com/tvheadend/tvheadend/pull/1343,https://github.com/mrwish7,1,https://github.com/tvheadend/tvheadend/pull/1343,"Some changes I made to flagging of AAC (ADTS) and AAC-LATM (LATM) the correct way round. They were labelled the wrong way round before. There's a related change to HTSP for this as AAC-LATM streams have to be flagged as 'AAC' for Kodi to have audio to match the new tagging.
Also a change to always stream raw AAC as 'audio/aac', seeing as LATM gets internally converted to ADTS by TVHeadend before streaming out anyway, both should raw stream as the same type. audio/aac works on internet radios and speakers.
Please test and give any feedback! I've been running this now for a couple of weeks with no issues, AAC satellite radio streams now all play properly on my Frontier Silicon chip internet radio and Sonos smart speaker.","Some changes I made to flagging of AAC (ADTS) and AAC-LATM (LATM) the correct way round. They were labelled the wrong way round before. There's a related change to HTSP for this as AAC-LATM streams have to be flagged as 'AAC' for Kodi to have audio to match the new tagging.
Also a change to always stream raw AAC as 'audio/aac', seeing as LATM gets internally converted to ADTS by TVHeadend before streaming out anyway, both should raw stream as the same type. audio/aac works on internet radios and speakers.
Please test and give any feedback! I've been running this now for a couple of weeks with no issues, AAC satellite radio streams now all play properly on my Frontier Silicon chip internet radio and Sonos smart speaker.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1343,2020-05-29T10:42:53Z,2020-07-06T15:06:59Z,2020-07-06T15:07:00Z,MERGED,True,5,5,3,https://github.com/mrwish7,AAC ADTS and LATM correct flagging. Fixes #5887,1,[],https://github.com/tvheadend/tvheadend/pull/1343,https://github.com/hagaygo,2,https://github.com/tvheadend/tvheadend/pull/1343#issuecomment-636474777,"Some changes I made to flagging of AAC (ADTS) and AAC-LATM (LATM) the correct way round. They were labelled the wrong way round before. There's a related change to HTSP for this as AAC-LATM streams have to be flagged as 'AAC' for Kodi to have audio to match the new tagging.
Also a change to always stream raw AAC as 'audio/aac', seeing as LATM gets internally converted to ADTS by TVHeadend before streaming out anyway, both should raw stream as the same type. audio/aac works on internet radios and speakers.
Please test and give any feedback! I've been running this now for a couple of weeks with no issues, AAC satellite radio streams now all play properly on my Frontier Silicon chip internet radio and Sonos smart speaker.","Might it fix this issue ?
kodi-pvr/pvr.hts#431",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1343,2020-05-29T10:42:53Z,2020-07-06T15:06:59Z,2020-07-06T15:07:00Z,MERGED,True,5,5,3,https://github.com/mrwish7,AAC ADTS and LATM correct flagging. Fixes #5887,1,[],https://github.com/tvheadend/tvheadend/pull/1343,https://github.com/mrwish7,3,https://github.com/tvheadend/tvheadend/pull/1343#issuecomment-639407693,"Some changes I made to flagging of AAC (ADTS) and AAC-LATM (LATM) the correct way round. They were labelled the wrong way round before. There's a related change to HTSP for this as AAC-LATM streams have to be flagged as 'AAC' for Kodi to have audio to match the new tagging.
Also a change to always stream raw AAC as 'audio/aac', seeing as LATM gets internally converted to ADTS by TVHeadend before streaming out anyway, both should raw stream as the same type. audio/aac works on internet radios and speakers.
Please test and give any feedback! I've been running this now for a couple of weeks with no issues, AAC satellite radio streams now all play properly on my Frontier Silicon chip internet radio and Sonos smart speaker.","Might it fix this issue ?
kodi-pvr/pvr.hts#431

Maybe. I don't think so, because for the Kodi HTSP side of it, it just needed the AAC workaround mapped to the AAC_LATM audio format to match them being flagged the opposite way round. It's still treating both anything flagged as AAC_LATM or AAC as 'AAC', which was what happened before.
Might be worth trying out though just in case it does trigger that to work correctly with the correct mapping!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1343,2020-05-29T10:42:53Z,2020-07-06T15:06:59Z,2020-07-06T15:07:00Z,MERGED,True,5,5,3,https://github.com/mrwish7,AAC ADTS and LATM correct flagging. Fixes #5887,1,[],https://github.com/tvheadend/tvheadend/pull/1343,https://github.com/hagaygo,4,https://github.com/tvheadend/tvheadend/pull/1343#issuecomment-653849732,"Some changes I made to flagging of AAC (ADTS) and AAC-LATM (LATM) the correct way round. They were labelled the wrong way round before. There's a related change to HTSP for this as AAC-LATM streams have to be flagged as 'AAC' for Kodi to have audio to match the new tagging.
Also a change to always stream raw AAC as 'audio/aac', seeing as LATM gets internally converted to ADTS by TVHeadend before streaming out anyway, both should raw stream as the same type. audio/aac works on internet radios and speakers.
Please test and give any feedback! I've been running this now for a couple of weeks with no issues, AAC satellite radio streams now all play properly on my Frontier Silicon chip internet radio and Sonos smart speaker.",Any reason this PR is not getting merged ?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1343,2020-05-29T10:42:53Z,2020-07-06T15:06:59Z,2020-07-06T15:07:00Z,MERGED,True,5,5,3,https://github.com/mrwish7,AAC ADTS and LATM correct flagging. Fixes #5887,1,[],https://github.com/tvheadend/tvheadend/pull/1343,https://github.com/Flole998,5,https://github.com/tvheadend/tvheadend/pull/1343#issuecomment-653885585,"Some changes I made to flagging of AAC (ADTS) and AAC-LATM (LATM) the correct way round. They were labelled the wrong way round before. There's a related change to HTSP for this as AAC-LATM streams have to be flagged as 'AAC' for Kodi to have audio to match the new tagging.
Also a change to always stream raw AAC as 'audio/aac', seeing as LATM gets internally converted to ADTS by TVHeadend before streaming out anyway, both should raw stream as the same type. audio/aac works on internet radios and speakers.
Please test and give any feedback! I've been running this now for a couple of weeks with no issues, AAC satellite radio streams now all play properly on my Frontier Silicon chip internet radio and Sonos smart speaker.",All PRs are staying open for some time to allow reviews. I recently included it in my build for testing and when I have some time I will look through it and test it. Have you tested it? What were your results?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1343,2020-05-29T10:42:53Z,2020-07-06T15:06:59Z,2020-07-06T15:07:00Z,MERGED,True,5,5,3,https://github.com/mrwish7,AAC ADTS and LATM correct flagging. Fixes #5887,1,[],https://github.com/tvheadend/tvheadend/pull/1343,https://github.com/hagaygo,6,https://github.com/tvheadend/tvheadend/pull/1343#issuecomment-654071433,"Some changes I made to flagging of AAC (ADTS) and AAC-LATM (LATM) the correct way round. They were labelled the wrong way round before. There's a related change to HTSP for this as AAC-LATM streams have to be flagged as 'AAC' for Kodi to have audio to match the new tagging.
Also a change to always stream raw AAC as 'audio/aac', seeing as LATM gets internally converted to ADTS by TVHeadend before streaming out anyway, both should raw stream as the same type. audio/aac works on internet radios and speakers.
Please test and give any feedback! I've been running this now for a couple of weeks with no issues, AAC satellite radio streams now all play properly on my Frontier Silicon chip internet radio and Sonos smart speaker.",I can not test whether it fixes my issue (kodi-pvr/pvr.hts#431) since my setup is on RPI using latest raspbian package (which based on master) .,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1343,2020-05-29T10:42:53Z,2020-07-06T15:06:59Z,2020-07-06T15:07:00Z,MERGED,True,5,5,3,https://github.com/mrwish7,AAC ADTS and LATM correct flagging. Fixes #5887,1,[],https://github.com/tvheadend/tvheadend/pull/1343,https://github.com/Flole998,7,https://github.com/tvheadend/tvheadend/pull/1343#issuecomment-654150311,"Some changes I made to flagging of AAC (ADTS) and AAC-LATM (LATM) the correct way round. They were labelled the wrong way round before. There's a related change to HTSP for this as AAC-LATM streams have to be flagged as 'AAC' for Kodi to have audio to match the new tagging.
Also a change to always stream raw AAC as 'audio/aac', seeing as LATM gets internally converted to ADTS by TVHeadend before streaming out anyway, both should raw stream as the same type. audio/aac works on internet radios and speakers.
Please test and give any feedback! I've been running this now for a couple of weeks with no issues, AAC satellite radio streams now all play properly on my Frontier Silicon chip internet radio and Sonos smart speaker.","You can always self compile and pull in whatever patches you want. I will definitely not merge an untested change, and that's why this is still open.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1343,2020-05-29T10:42:53Z,2020-07-06T15:06:59Z,2020-07-06T15:07:00Z,MERGED,True,5,5,3,https://github.com/mrwish7,AAC ADTS and LATM correct flagging. Fixes #5887,1,[],https://github.com/tvheadend/tvheadend/pull/1343,https://github.com/Saentist,8,https://github.com/tvheadend/tvheadend/pull/1343#issuecomment-654189052,"Some changes I made to flagging of AAC (ADTS) and AAC-LATM (LATM) the correct way round. They were labelled the wrong way round before. There's a related change to HTSP for this as AAC-LATM streams have to be flagged as 'AAC' for Kodi to have audio to match the new tagging.
Also a change to always stream raw AAC as 'audio/aac', seeing as LATM gets internally converted to ADTS by TVHeadend before streaming out anyway, both should raw stream as the same type. audio/aac works on internet radios and speakers.
Please test and give any feedback! I've been running this now for a couple of weeks with no issues, AAC satellite radio streams now all play properly on my Frontier Silicon chip internet radio and Sonos smart speaker.","You can always self compile and pull in whatever patches you want. I will definitely not merge an untested change, and that's why this is still open.

https://tvheadend.org/issues/5741",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1343,2020-05-29T10:42:53Z,2020-07-06T15:06:59Z,2020-07-06T15:07:00Z,MERGED,True,5,5,3,https://github.com/mrwish7,AAC ADTS and LATM correct flagging. Fixes #5887,1,[],https://github.com/tvheadend/tvheadend/pull/1343,https://github.com/Flole998,9,https://github.com/tvheadend/tvheadend/pull/1343#issuecomment-654194273,"Some changes I made to flagging of AAC (ADTS) and AAC-LATM (LATM) the correct way round. They were labelled the wrong way round before. There's a related change to HTSP for this as AAC-LATM streams have to be flagged as 'AAC' for Kodi to have audio to match the new tagging.
Also a change to always stream raw AAC as 'audio/aac', seeing as LATM gets internally converted to ADTS by TVHeadend before streaming out anyway, both should raw stream as the same type. audio/aac works on internet radios and speakers.
Please test and give any feedback! I've been running this now for a couple of weeks with no issues, AAC satellite radio streams now all play properly on my Frontier Silicon chip internet radio and Sonos smart speaker.","You can always self compile and pull in whatever patches you want. I will definitely not merge an untested change, and that's why this is still open.

https://tvheadend.org/issues/5741

Unfortunately I don't see a PR for that one yet :/ If I missed it please link directly to it, thanks!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1344,2020-06-05T16:00:56Z,2020-06-05T23:16:39Z,2020-06-06T08:13:03Z,MERGED,True,5,0,1,https://github.com/lorenz,Fix infinite loop when parsing invalid EIT CRID data,1,[],https://github.com/tvheadend/tvheadend/pull/1344,https://github.com/lorenz,1,https://github.com/tvheadend/tvheadend/pull/1344,"Fixes a logic issue which resulted in an infinite busy loop when TVH encountered certain invalid EIT data.
In case the if condition inside the loop does not evaluate to true the variable in the loop condition (len) doesn't get touched and thus gets stuck inside the loop endlessly evaluating the same if and loop conditions. This patch makes it return an error instead of indefinitely looping.","Fixes a logic issue which resulted in an infinite busy loop when TVH encountered certain invalid EIT data.
In case the if condition inside the loop does not evaluate to true the variable in the loop condition (len) doesn't get touched and thus gets stuck inside the loop endlessly evaluating the same if and loop conditions. This patch makes it return an error instead of indefinitely looping.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1344,2020-06-05T16:00:56Z,2020-06-05T23:16:39Z,2020-06-06T08:13:03Z,MERGED,True,5,0,1,https://github.com/lorenz,Fix infinite loop when parsing invalid EIT CRID data,1,[],https://github.com/tvheadend/tvheadend/pull/1344,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1344#issuecomment-639888539,"Fixes a logic issue which resulted in an infinite busy loop when TVH encountered certain invalid EIT data.
In case the if condition inside the loop does not evaluate to true the variable in the loop condition (len) doesn't get touched and thus gets stuck inside the loop endlessly evaluating the same if and loop conditions. This patch makes it return an error instead of indefinitely looping.",Thank you very much for your contribution.,True,{'HOORAY': ['https://github.com/lorenz']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1345,2020-06-08T11:59:01Z,2020-06-08T19:36:13Z,2020-06-08T19:37:23Z,MERGED,True,5,0,1,https://github.com/isaksamsten,xmltv: add program icon to exported xmltv. Fixes: #5685,1,[],https://github.com/tvheadend/tvheadend/pull/1345,https://github.com/isaksamsten,1,https://github.com/tvheadend/tvheadend/pull/1345,"Adds support for exporting program icons. This has been supported when importing xmltv files but is not supported in the exported xmltv.
The fix is very simple, but if needed the pull request can be updated with additional flags to enable/disable this behaviour.","Adds support for exporting program icons. This has been supported when importing xmltv files but is not supported in the exported xmltv.
The fix is very simple, but if needed the pull request can be updated with additional flags to enable/disable this behaviour.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1345,2020-06-08T11:59:01Z,2020-06-08T19:36:13Z,2020-06-08T19:37:23Z,MERGED,True,5,0,1,https://github.com/isaksamsten,xmltv: add program icon to exported xmltv. Fixes: #5685,1,[],https://github.com/tvheadend/tvheadend/pull/1345,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1345#issuecomment-640782956,"Adds support for exporting program icons. This has been supported when importing xmltv files but is not supported in the exported xmltv.
The fix is very simple, but if needed the pull request can be updated with additional flags to enable/disable this behaviour.","Nice change, I never understood why the image was not exported",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1345,2020-06-08T11:59:01Z,2020-06-08T19:36:13Z,2020-06-08T19:37:23Z,MERGED,True,5,0,1,https://github.com/isaksamsten,xmltv: add program icon to exported xmltv. Fixes: #5685,1,[],https://github.com/tvheadend/tvheadend/pull/1345,https://github.com/isaksamsten,3,https://github.com/tvheadend/tvheadend/pull/1345#issuecomment-640839305,"Adds support for exporting program icons. This has been supported when importing xmltv files but is not supported in the exported xmltv.
The fix is very simple, but if needed the pull request can be updated with additional flags to enable/disable this behaviour.","Neither do I. The argument I've seen is that it might be a struggle for low powered devices. The argument in favor is that m3u export and xmltv export now work very well in Jellyfin and Emby.
If needed, we can add a flag to enable/disable icon export.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1345,2020-06-08T11:59:01Z,2020-06-08T19:36:13Z,2020-06-08T19:37:23Z,MERGED,True,5,0,1,https://github.com/isaksamsten,xmltv: add program icon to exported xmltv. Fixes: #5685,1,[],https://github.com/tvheadend/tvheadend/pull/1345,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1345#issuecomment-640841583,"Adds support for exporting program icons. This has been supported when importing xmltv files but is not supported in the exported xmltv.
The fix is very simple, but if needed the pull request can be updated with additional flags to enable/disable this behaviour.",Since you added it to the non-low-memory part (there is a shorter version for low memory devices) this should be fine. Thanks.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1345,2020-06-08T11:59:01Z,2020-06-08T19:36:13Z,2020-06-08T19:37:23Z,MERGED,True,5,0,1,https://github.com/isaksamsten,xmltv: add program icon to exported xmltv. Fixes: #5685,1,[],https://github.com/tvheadend/tvheadend/pull/1345,https://github.com/Trujulu,5,https://github.com/tvheadend/tvheadend/pull/1345#issuecomment-640843117,"Adds support for exporting program icons. This has been supported when importing xmltv files but is not supported in the exported xmltv.
The fix is very simple, but if needed the pull request can be updated with additional flags to enable/disable this behaviour.",Thanks Flole!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1346,2020-06-10T21:50:53Z,2020-07-06T15:06:16Z,2020-07-06T15:06:16Z,MERGED,True,37,2,1,https://github.com/azlm8t,Handle bad UTF-8 in xmltv (#5909),1,[],https://github.com/tvheadend/tvheadend/pull/1346,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1346,"This is the patch that was tested by Ryan Li in the forum.
Let's delay adding it for a few days to see if anyone can test it with OTA data to check it doesn't break with other bad OTA data.  Ideally we'd probably split the functionality out in to a tvh_safe_utf8_strcpy and add it to all incoming data code paths (in particular incoming xmltv), but I think it's best to let it bed in for a while before doing that.
We had a string where we had a rogue byte (0x8a) which was not part of
a UTF-8 string.  This then caused some downstream parsers to abort
processing the document; other parsers ignored the bad character.
As an interim fix, we now parse the individual characters and filter
out invalid characters.  We replace such characters with a space
character (instead of a U+FFFD replacement character) since this
is typically user presentable data on a ""10ft interface"".  An
alternative would be to completely discard the character, but the
examples we had would then have words combined where the invalid
character used to be.","This is the patch that was tested by Ryan Li in the forum.
Let's delay adding it for a few days to see if anyone can test it with OTA data to check it doesn't break with other bad OTA data.  Ideally we'd probably split the functionality out in to a tvh_safe_utf8_strcpy and add it to all incoming data code paths (in particular incoming xmltv), but I think it's best to let it bed in for a while before doing that.
We had a string where we had a rogue byte (0x8a) which was not part of
a UTF-8 string.  This then caused some downstream parsers to abort
processing the document; other parsers ignored the bad character.
As an interim fix, we now parse the individual characters and filter
out invalid characters.  We replace such characters with a space
character (instead of a U+FFFD replacement character) since this
is typically user presentable data on a ""10ft interface"".  An
alternative would be to completely discard the character, but the
examples we had would then have words combined where the invalid
character used to be.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,1,https://github.com/tvheadend/tvheadend/pull/1347,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.",True,"{'ROCKET': ['https://github.com/network-shark'], 'THUMBS_UP': ['https://github.com/rkkoszewski'], 'HEART': ['https://github.com/mpmc']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/pinkflozd,2,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-644657120,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Could ""Implement remote timeshift support for RTSP streams."" be implemented also for http/hls streams?
My provider just changes the url and adds a timestamp in the url (start-time,end-time):
Ex. Live stream url: https://xyz/live/index.m3u8
Ex Timeshift url: https://xyz/vod/1592240220,1592241900/variant/2/index.m3u8",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/Saentist,3,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-644788109,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Could ""Implement remote timeshift support for RTSP streams."" be implemented also for http/hls streams?
My provider just changes the url and adds a timestamp in the url (start-time,end-time):
Ex. Live stream url: https://xyz/live/index.m3u8
Ex Timeshift url: https://xyz/vod/1592240220,1592241900/variant/2/index.m3u8

Your links are HLS not RTSP",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/pinkflozd,4,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-644800489,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Could ""Implement remote timeshift support for RTSP streams."" be implemented also for http/hls streams?
My provider just changes the url and adds a timestamp in the url (start-time,end-time):
Ex. Live stream url: https://xyz/live/index.m3u8
Ex Timeshift url: https://xyz/vod/1592240220,1592241900/variant/2/index.m3u8

Your links are HLS not RTSP

Yes i know. That is why i was asking, if it could be implemented also for HLS streams, there are multiple providers using similar HLS streams and timeshifting with timestamps. It would be nice to have Remote timeshift also for those",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/Flole998,5,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-644823938,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.",Tvheadend doesn't even support HLS yet as far as I know,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,6,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-644856539,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Well I don't know how these media controls are implemented in HLS but think what you're asking is basically having dynamic URL's for which the format is supplier specific. Then on a timeshift reload the stream with an updated URL.
Sure that can be done but that's really outside the scope of this PR and a lot of work (also as Frole mentions even HLS support is unsure and I don't have any sources to test at this moment).
First let's see if the PR as it is right now is acceptable. After that new challenges are always welcome of course.",True,{'THUMBS_UP': ['https://github.com/pinkflozd']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/Saentist,7,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-644948018,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Tvheadend doesn't even support HLS yet as far as I know

It support without problem but no timeshift supported
https://tvheadend.org/boards/4/topics/32005
Actually there is a tree diferent type of timeshift scenarios for HLS",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/Flole998,8,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-646817468,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Using ffmpeg as middleware is not proper support for it. You can use ffmpeg for (almost) every possible video source, that doesn't mean it's supported, you just convert it to something that is supported.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/Leatherface75,9,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-647014365,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Youtube livetv streams and some of all free TV channels you can find on internet have support for timeshift.
Here is an example https://www.youtube.com/watch?v=2EppLNonncc
Adding &t=12h in the end starts it 1 hour earlier &t=11h = 2 hours earlier etc. in this case.
Not sure how to start X time from the end only where to start so maybe there is a better way than this method.
All have their systems so this need to be configured for each channel or specific network.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/Flole998,10,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-654323549,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.",Unfortunately this PR is causing segfaults (in profile.c:644). In this state it can not be merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,11,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-654336076,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi Flore,
Thanks for testing, I guess in your case profile_deliver was called with sm == NULL. This didn't happen to me during testing. Can you tell me wat source you where playing and how you started it? Anyway I can of course just add the check for sm != NULL. Thanks!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/Flole998,12,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-654337109,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.",I was watching from an Amazon Echo Show over HTTP and the source was a DVB-S Card.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,13,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-654344100,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.",Sorry can't test this use case but it should be fixed now.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,14,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-671713649,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi,
I'm really interested in RTSP server timeshift feature. After a struggling a lot I finaly managed to compile this version!
In iptv_rtsp.c line 294 I changed the keep_alive_cmd from
hc->hc_rtsp_keep_alive_cmd = RTSP_CMD_DESCRIBE;      /* start keep alive loop with DESCRIBE /
by
hc->hc_rtsp_keep_alive_cmd = RTSP_CMD_GET_PARAMETER;      / start keep alive loop with RTSP_CMD_GET_PARAMETER */
because a second DESCRIBE command triggers a ""405 Method Not allowed"" answer.
Because of those small things I wouldn't be a better idea to use standard SDP messages (stored in a file) instead of software-fixed options?
I was testing / reviewing the code but I couldn't find where are implemented the server timeshift functions.
My IPTV service provides play-backwards as well as fast-forward (1x, 2x, 4x, 8x, 16x, 32x), rewind, ""jump back"", play, pause in server side. It requires just to send a RTSP PLAY command, using standard SDP messages. As an example, for play-backwards the SDP content (apart from URL) is:
CSeq: 18\r\n
User-Agent: CTC RTSP/1.0\r\n
Session: 3746902668
Range: clock=20200806T001926Z\r\n
Scale: 16\r\n
\r\n
With this command the stream (UDP or RTP) will play backwards from the server at 16x speed!.
The time format is yyyyMMddTHHmmssZ. It is UTC time (ending with Z) with date separated by a T from time.
How could I implement those PLAY messages? How timeshift requests are passed and where in the code?
Thanks a lot!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,15,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-671714576,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","By the way, this branch works great, but with local timeshift!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,16,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-671990266,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi Faperea,
Thanks for testing.

In iptv_rtsp.c line 294 I changed the keep_alive_cmd from
hc->hc_rtsp_keep_alive_cmd = RTSP_CMD_DESCRIBE; /* start keep alive loop with DESCRIBE / by hc->hc_rtsp_keep_alive_cmd = RTSP_CMD_GET_PARAMETER; / start keep alive loop with RTSP_CMD_GET_PARAMETER */
because a second DESCRIBE command triggers a ""405 Method Not allowed"" answer.
Because of those small things I wouldn't be a better idea to use standard SDP messages (stored in a file) instead of software-fixed options?

https://github.com/spdfrk/tvheadend/blob/iptv_features/src/input/mpegts/iptv/iptv_rtsp.c#L92
It appears that different implementations use different keep alive commands. Some time ago we implemented this fall back in case GET_PARAMETER wasn't accepted, I probably should have added the fall back from DESCRIBE as well :). This way at least we can solve your issue in an automated way, or is the stream actually stopped in case of the 405 error?
Now the tricky part is that my server returns the current time shift buffer limits which we need to do skips. Not sure how your server communicates current buffer status.

I was testing / reviewing the code but I couldn't find where are implemented the server timeshift functions.
My IPTV service provides play-backwards as well as fast-forward (1x, 2x, 4x, 8x, 16x, 32x), rewind, ""jump back"", play, pause in server side. It requires just to send a RTSP PLAY command, using standard SDP messages. As an example, for play-backwards the SDP content (apart from URL) is:
CSeq: 18\r\n
User-Agent: CTC RTSP/1.0\r\n
Session: 3746902668
Range: clock=20200806T001926Z\r\n
Scale: 16\r\n
\r\n
With this command the stream (UDP or RTP) will play backwards from the server at 16x speed!.
The time format is yyyyMMddTHHmmssZ. It is UTC time (ending with Z) with date separated by a T from time.
How could I implement those PLAY messages? How timeshift requests are passed and where in the code?
Thanks a lot!

Actually this is just the RTSP header, SDP would be in the body.
The entry point for the time shift callbacks is here: https://github.com/spdfrk/tvheadend/blob/iptv_features/src/input/mpegts/iptv/iptv_rtsp.c#L435
The callback is called when a SMT_SKIP or SMT_SPEED stream message is generated by the htsp server. It can then generate the playback speed (Scale) command that you need. However it appears KODI will only use skips.
Hope this helps!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,17,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-678925356,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi spdfrk,
Thanks for answering.
It seems that my IPTV server (Huawei) does not comply at all with RTSP standards, neither RFC 2326 nor RFC 7826. As an example, in RFC7826 it is mandatory to implement ""npt"" SDP controls, but it seems that my server doesn't, and continues using ""clock"" SDP controls.
So, I had to implement my own ISO86010 time parser including text parsing because (and that IS in standards), SDP controls could be range:npt=now, range:npt=beginning or (in my case) range:clock=now- as well as range:clock=yyyymmddThhssZ-yyyymmddThhssZ.
I wrote those functions and they works perfect, giving the same results as npt SDP commands but TVH timeshift doesn't works as expected.
In KODI, play starts normal, but when a skip command is sent to TVH, it does weird things. When, let's say, skip back command is sent, the player counters in KODI (position/end) show the position adding time instead of moving backwards. When many times left arrow is pressed the counters in KODI are correct but then in TVH those values are mixed, and finally position is reset to zero and player stalls. I wrote a lot of debugger messages to show the position pointers to see what's going on and it seems TVH inverts the scale or perhaps some functions uses absolute values and others relative values.
I have some questions about timeshifting implementation:

I guess hc->hc_rtsp_range_start and hc->hc_rtsp_range_end are time vars in seconds using Unix epoch scheme. It's that true?
If the time variables are set differently, how is the TVH time range set? It is set in absolute seconds (epoch format) or relative seconds to movie/stream lenght (for example for 2 hours of remote buffer: 0=start 7200=end)?
Where in the code are KODI commands received? How could I see what values are KODI sending so I could establish what is the format, absolute or relative, in seconds, in epoch seconds or hour, minutes, seconds?
In function rtsp_timeshift_fill_status in rtsp_iptv.c code (https://github.com/spdfrk/tvheadend/blob/iptv_features/src/input/mpegts/iptv/iptv_rtsp.c#L420)
the status var are updated with current, start and end values to MPEG DTS format. I think those values are used to update ts stream, but this should not be neccesary because remote server does the job. That means, the stream should not be changed locally at all. Server will receive the time control and will start playing to the required time. It this appreciaton true?
I think there are three time scales: ones in play_decode as well as in skeep and scale functions, others in timeshift implementation and other in http functions (to and from KODI). Is that right? How are they related? Any of those time functions reverse order or change from absolute to relative?

Thanks in advance",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,18,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-679868139,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi spdfrk,
Worried because clock ISO86010 format didn't work as expected, I setup  a npt  ISO86010 format server with live555 and a 2 minutes TS file to test timeshift server functions, with a m3u file including rtsp address. I tested with KODI and local timeshift works fine but server timeshift does not. When enabled, KODI timeline points to the beginning (time 0), only a timer is displayed and timeshift functions do not work at all.
The same problem than using clock SDP control.
I think the problem is in start, end and current variables. Also, I think the function streaming_target_deliver2(pd->output, tsm);   changes TS stream and -as I pointed before - no changes should be done to the stream, because server does them! But also I think that function serves as signaling for TVH timeshift activities. Am I right? How could I test server timeshift functions?
Thanks for your time and support",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,19,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-682038015,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi,
I guess every provider is putting it's own ""swing"" on it to get it working. Some of my findings below.
Client (KODI) --> TvHeadend
Basically what I would expect from KODI is that I could send a start and stop UNIX timestamp together with current time to get timeshift working from the client (KODI) side, apparently not though :).
So right now I assume:

start = 0,
end is the total length of the buffer
shift is the time relative to the moment the stream was started.

This is working in my case, for instance I can start streaming three hours in the past and then skip forward to current time. Except when you have an EPG source connected to this channel, then KODI starts to mess up again. Since it is working I didn't investigate any further what KODI expects for these parameters.
tvheadend --> provider
What I did in the past to test the server side easily (tvheadend > provider) was to write a Python script and use VLC to display the stream.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,20,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-691142222,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","A small update, with this commit the start time will actually be calculated based on the remote buffer. So if you start watching at the end of the buffer (e.g. live tv) you can skip back to the beginning of the buffer.
Now one problem remains, if you skip beyond the point when you start streaming in Kodi (e.g. skip to -10:00) Tvheadend will not stream any content from the provider to the client until it's back at 0:00.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,21,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-693173719,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi spdfrk,
I tried again to test timeshift but always have
H264 @ #101 Continuity counter error (total 1) and
AC3 @ #102 Continuity counter error (total 1) and then
[  ERROR] tsfix: transport stream H264, DTS discontinuity. DTS = 1102665, last = 1114677
I think this is happening because TS processors are not updated correctly. When timeshift commands are sent, it is obvious that there will be a difference between the PCR and DTS times. DTS will point to next frame, but server will rewind the stream, so it is ""normal"" that this difference exits, so no discontinuity errors should be reported. If this is happening, I think is because parsers or tsfix functions aren't well notified about stream changes. Do you have similar issues? How could I fix this? (It happens always with any server and with any time format)
Thanks",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,22,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-695839088,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi,
I see them in my logs as well but after a DTS error is detected the counter is updated and all is working fine. Are you experiencing issues / regressions due to this?
We could suppress the errors but this is not easy to fix properly as we need to do it once for every sub-stream also you don't know when (delay after sending RTSP command) or if the DTS error will happen at all.  Or maybe we should handle this stream restart (I think it basically is?) in a different way all together, any suggestions?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,23,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-695882575,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi spdfrk,
Yes. I'm having problems. The stream freezes until the times are equal. As an example, if I send a -10.0 secs rewind command from Kodi, I get discontinuity errors followed by tsfix messages. When 10.0 secs elapse, the stream unfreezes and continues playing. It behaves more like a 10 secs pause instead of skip back 10 seconds!
I think the problem is in TS stream timestamps.
TS players expect a continuous stream of DTS / PCR times and when a timeshift command (rewind, forward, skip) is sent, the revision of local and new remote PCR / DTS times obviously do not match. I have been reviewing the local timeshift code and there is no major problem because timeshift actions are performed on a file, that is, time is added, subtracted or skipped to PCR / DTS times stored in a local file.
I think in remote timeshift, servers can do timeshift operations in two ways:

Add or subtract times to the PCR / DTS (as ""usual"")
Stop the stream and restart at requested time
Then it could be tried in two ways:
To suppose the server works as ""usual"", that means, it sum or subtract desired time to a remote file when a timeshift is received, therefore locally DTS / PCR times should be modified properly so local stream and new remote requested position are synchronized
Locally ""stop"" the stream (without TEARDOWN) and restart the playback. ""Stop"" means erase PCR / DTS times so new position behaves like a new play or really stop URL stream and restart it again. Like when an opening play is made

In theory, when adding or subtracting time received from timeshift command to the current PCR / DTS time (in rtsp_timeshift_fill_status and streaming_target_deliver2 functions) it should not produce discontinuities but it does not work! I tried changing the values ​​with ts_rescale_inv and ts_rescale with no good results.
So, I tried theory 2: Stop the play (without TEARDOWN) but I got an APPCRASH
I think, then, a solution is to stop revision / correction of TS frames while the timeshift commands are being executed and then continue the normal operation, for skip commands.
For speed commands, it should be multiplied the DCR / PTS times appropriately.
In sum, I think it is necessary to add functions to manipulate the PCR / DTS times to synchronize locally after executing the timeshift command or temporarily stop the error checking / correction in the PCR / DTS times temporarily.
TVH is a bit cryptic for me, without good documentation or code comments so I don't know how to manipulate PCR / DTS timings. How can this be done?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,24,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-695887454,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi,
I see them in my logs as well but after a DTS error is detected the counter is updated and all is working fine. Are you experiencing issues / regressions due to this?
We could suppress the errors but this is not easy to fix properly as we need to do it once for every sub-stream also you don't know when (delay after sending RTSP command) or if the DTS error will happen at all. Or maybe we should handle this stream restart (I think it basically is?) in a different way all together, any suggestions?

Yes. I also think skip-timeshift command is a restart. So, the easiest way to fix it (at least for skip commands) is to treat the stream as a restart. I also tried sending a PAUSE command (parsing the code) and then sending the PLAY command, but discontinuity errors keep occurring.
As a suggestion, a local counter is also required to update start and end times. It is supposed that a GET_PARAMETER command in RTSP with position, range or rtptime content should be answered with updated values but I couldn't get it to work. Many RTSP servers uses GET_PARAMETER for proprietary commands but mainly as a ""ping"" command to keep alive RTSP connection.
So, every X seconds (1 or 2) the start as well as end could be updated with something like:
rp->range_start = time(NULL) - LenghtOfServerbuffer
rp->range_end = time(NULL) /* Live */",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,25,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-695925331,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","What happens if you let it play for ~20 seconds and then skip back 10 seconds? In my case I see the DTS error but it play just fine with the correct skip.
Skipping back 10 seconds immediately after start will also pause my playback till its back to zero. Also here the same DTS error.  I expect it has something to do with TvHeadend not expecting the playback to go before 0:00 as with normal TS this isn't possible.
So basically this proves to me the DTS error isn't the problem. If the first test doesn't work for you then we have an additional problem.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,26,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-696508262,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi,
As you suggested I made a few attempts to see its behavior.
I let it play for 30 seconds and then sent a skip back command  from Kodi. The same Discontinuity error message appeared and play got freeze as well. Tried again letting it run 1 minute and then I tried 2 skips (20 seconds). After a while, the stream got back 10 seconds. So I think TVH is taking a local buffer instead of a remote command. If I send a long skip back command (say 3 minutes) play hangs until it reaches the start of the play (like timeshifting from a local file)
So, I think the problem is still with TS timestamps. This operation should be transparent to TVH because if we consider the play as a continous stream, TVH should play whatever server sends (obviously if the stream is TS valid). It is ok for TVH to create a local buffer but if server rewinds (that's the expected operation in remote timeshift) TVH should play the received frames
Just to check if PCR/DTS was the problem, I ran TVH with tvheadend --noacl -l  tvh2.log  --trace pcr and skip back 10 seconds. Part of log file is:

[  TRACE]:pcr: IPTV Automatic Network/short-rtsp-test.m3u - World HD/208 World HD: change   : 6265686260
[  TRACE]:pcr: IPTV Automatic Network/short-rtsp-test.m3u - World HD/208 World HD: change   : 6265688628
[  TRACE]:pcr: IPTV Automatic Network/short-rtsp-test.m3u - World HD/208 World HD: change   : 6265690980
[  TRACE]:pcr: IPTV Automatic Network/short-rtsp-test.m3u - World HD/208 World HD: change   : 6265693366
[  ERROR]:tsfix: transport stream AC3, DTS discontinuity. DTS = 4008919, last = 4610833
[  TRACE]:pcr: IPTV Automatic Network/short-rtsp-test.m3u - World HD/208 World HD: change   : 6265695735
[  TRACE]:pcr: IPTV Automatic Network/short-rtsp-test.m3u - World HD/208 World HD: change   : 6265698104
[  TRACE]:pcr: IPTV Automatic Network/short-rtsp-test.m3u - World HD/208 World HD: change   : 6265700472

So for me this also proves, as you suggested, that PCR time is not the issue. Checking information about H264, AC3 and DTS and reviewing those traces, maybe the problem is in audio and video synchronization.
But how could I try the fix #2? (Restart the stream when a skip command is received) How could I stop RTCP/UDP stream when a skip command is received then send a RTSP PLAY command and then start the play again? (This could be a fix for skip command. I have not tested yet speed commands...)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,27,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-696951800,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi,
You mentioning buffers gives me another idea, are you running low bitrate streams? I increased the iptv buffer for NAK support but this buffer could potentially cause a big delay which might be what you are seeing. Can you try to reduce the iptv buffer back to stock (or lower) and see if that helps with your media streams?
spdfrk@970d642#diff-0468d65e0e8d50c5bb1dc9e8f20b3142L29
I added a RTSP PAUSE command right before the skip. This should stop the stream coming in before making the skip and continue, like we discussed. This could be to quick, we might need a delay or first wait on the ACK for this command.
https://github.com/spdfrk/tvheadend/blob/iptv_features/src/input/mpegts/iptv/iptv_rtsp.c#L466",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,28,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-697145208,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi,
Speaking of buffers, I was thinking that timeshift should behave like a Youtube video. Playback can be started at any position in the buffer range: start, middle, or near end. The red line in browser player shows the actual position and gray line (below red line) shows the buffer. If user starts playing in the middle and then returns to the beginning and buffer is large enough, the gray line is marked and playback starts at the new position requested by user. When the playback reaches the starting point, I think it is not downloaded again. It plays from the buffer.
So I think it is powerful to use a local buffer to store downloaded stream and play from this buffer and download from the server if it is empty. In this case, when a DESCRIBE response is received, the buffer length can theoretically be set. In my case, I have to set it by hand because the DESCRIBE response is clock = now-. I set it by default to 7200 seconds (2 hours). So the PCR check or DTS check should consider anything between ""now"" and -7200 seconds as valid data and maybe TVH could fill the buffer when a timeshift command is sent...
I've also tried it before with an RTSP PAUSE command, but no luck! I tracked it with Wireshark and the server successfully receives the PAUSE command and also sends the ACK, but I keep getting errors. I set up a lot of tvhinfo prints to check if the server was doing something wrong or values are being sent incorrectly, but everything seems fine. So the problem is not on server side! When multiple jump back commands are sent, the tsfix routines appear to send an RTSP speed command when multiple DTS discontinuities are present. I'm not sure if Kodi actually sends speed commands or is the tsfix routine that send them!
For now, I'll try the buffer correctness you suggest. I'm a little busy today, so I'll give it a try tomorrow and let you know my findings.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,29,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-697726669,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Quite busy here as well for some time, so am not able to go into detail about your comments currently.
After some debugging I noticed the resume after pause / change playback speed was broken, fixed now.
Also didn't notice before DTS will go negative skipping before 0:00. This will cause Tvheadend to drop them:
https://github.com/spdfrk/tvheadend/blob/iptv_features/src/plumbing/tsfix.c#L241
Removing the check doesn't help.
Giving DTS an offset at start will actually set the playback position in KODI further in the buffer, this way skipping back is possible before the start moment as position and DTS wont go negative.
Needs some more digging.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,30,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-697948338,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Here is a small hack for testing, this will allow Kodi to time shift to a point before start (with negative DTS / time) and playback should not freeze. On my side it's working fine like this but might of course be different for your sources.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,31,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-698759376,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi,
We're moving forward! On a virtual machine it seems to work, but when I compile it on a Raspberry 4 TVH has strange behavior. It starts off fine and timeshift commands from Kodi work, but the image freezes. Play like a PowerPoint slide! but the audio is perfect. I think it is because the local buffer does not fill when playback is skipped. I changed the buffers in iptv_private.h and made sure RPi has enough resources, but it still shows slides! When playtime reaches the start time or a skip forward to the end  is sent (now time), then playback is smooth again.
I still think that timeshift shouldn't be that complicated. It's like a remote control DVD. When a time shift control is sent from the remote, the DVD player simply moves the stream smoothly, even if it is playing TS streams or AVI movies. Tomorrow I will try to make a stop without TEARDOWN and restart the playback as if the timeshift is a ""new start"" (maybe just calling rtsp_init at skip function to clear ts data. What do yo think? ). I am confident that it is the solution!
Also, when using RPi 4 and the remote and Kodi, the speed commands don't work at all! It need more research!
In other topic, when reviewing the code, an RTSP GET_PARAMETER command is used to get the ""position"". But, as I pointed out before, this is an unusual way to get the position timer. In my case (and many other RTSP implementations) GET_PARAMETER is only used as a ""ping"" command to keep the connection alive. So the position variable (rp-> position) in iptv_rtsp.c is never updated. This would cause problems after 2 hours of playback, because the set_position function uses this value to send the new position to the server, but as long as the playback is within range, it will work. Therefore, functions are needed to update the start, end, and position timers, but locally. I looked for some specific implementation of RTSP but couldn't find any that can be used to retrieve data from the server while playing.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,32,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-699457934,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi,
Are you running an 32 or 64 bit OS on the rpi?
Actually can't really say how to easily restart the stream within the current session while also improving your situation. We would need to do some handling with rtsp, plumping and property setting the position in Kodi, sounds complicated. By the way, we are already fushing the buffer to the player: https://github.com/spdfrk/tvheadend/blob/c18e7c613d574ee3777038a049ef5d1e58d64606/src/htsp_server.c#L4463
On my side get_parameter is also used as keep alive ping but it is conveniently sending position by default. So yes in your situation we would need to replace get_parameter and describe with a local time keeping.  But how do you know where you are in the buffer? It is possible to start at the beginning or the end of the buffer so we need te position at least once.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,33,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-699579585,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi,
RPi is 32 bits. I don't think this could be an issue because after a skip command it plays like slides with sound, but when another skip forward command is sent to return to original position (initial play position) it works smoothly. I think the problem is in Kodi. At this time, Kodi in RPi is 18.7 version for Raspbian buster. I ran Kodi in a windows PC and TVH in the RPi and timeshift worked. By the way, keep in mind that this timeshift version have a long lag!
Also I setup a man-in-the-middle to review with Wireshark how timeshift works with an old STB and found that no PAUSE commands are sent when timeshifting and also PLAY skip-commands have ""Scale"" as well as ""Range"" values. I also took a look at TS flow and the server makes the changes! The local player simply plays what server sends.
With Wireshark on TVH, I also noticed that there are some strange implementations for the speed commands. In TVH only the ""switch-case"" SMT_SPEED is reached when pause or pause-returning (play at 100% speed) commands are received. Speed is implemented sending successive position commands! Because the long lag in every skip command, this approach obviously doesn't work. It should send a ""Scale"" command with speed multiplicator!
I'll be busy this week so I can't test the restart option, but I took a look at the code and I think it should work (I called rtsp_init function and nothing special happened). If we consider a skip command as a new start, then we could send a STOP command (without TEARDOWN) and then restart everything as after the DESCRIBE-> PLAY commands. As you pointed out, the code would not be easy to change, because RTSP is two open channels, but using helper variables to store the start, end, and current can easily solve the problem. Those are the ""important"" values ​​to uphold.
Regarding GET_PARAMETER, I tested before your new code changes adding a new variables to hc struct such as ""current"" and ""range"". That way when a initial ACK for a PLAY command is received (rtsp_play_decode) all those new vars are set. I tried without luck to update ""end"" and ""start"" timers as well as ""current"" and ""range"" in GET_PARAMETER case. But that's the idea. The initial ""current"" value is set when the first play command ACK is received and every time when skip command is also received. It could be updated when GET_PARAMETER is called, just adding elapsed seconds since last call. I don't know exactly where the timer is set to call periodically GET_PARAMETER command but based on ""local timeshift"" a regular timer should be called to update time values (also times sent to Kodi or it will be always set to initial timestamps)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,34,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-700212111,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Ok now I understand your setup better, I setup a RPi 3 with latest LibreELEC (Kodi 18.8) and can reproduce. Hardware codecs are broken (OMXPlayer, MMAL) but software decoding is working (while a little underpowered). So somewhere it's dropping the negative dts's. With positive dts remote TS works fine and overall playback is best with OMXplayer. Don't really see a reason to implement this stopping the stream in between skips.
Test setups that do work with negative dts's:
PC Linux Mint / Windows 10 + Kodi 18.8 (software & VDPAU).
Amlogic S905X, S922X + latest CoreELEC. (I can recommend the S922X, the overall experience is much faster/smoother/better PQ)
I agree, the speed implementation with Kodi could be better. But in my case setting scale to e.g. 2.0 will cause the the server to just start skipping packets (loads of dts CE's) and the result is unusable. Probably best to forget about this for now and learn to use skipping :).
I will check if we can get the dts offset implemented, this should fix the playback issues on RPi. Also the playback time in Kodi  will than show up as being on the end of the buffer and won't go negative any more, I guess this looks better.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,35,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-700996541,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Here is a prove of concept to try, it should fix the RPi playback issue. I will add an timeshift status thread next to keep the time in Kodi updated.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,36,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-703433220,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi  spdfrk,
Finally, it is working! I was able to open and see an RTSP stream both in my PC as well as in RPi.
In both of them skip back or forward worked!
There are some issues left:

In Kodi when the play starts, the slider is at left, meaning that the beggining is at buffer start (2 hours in my case) but really play starts ""live"". So I have to do a full skip forward and then slider is at right meaning tha play is live-tv. I am trying to change the way end , start and current variables are set at beggining to avoid this initial false jump
Also in my case, buffer start and end times are not updated. They remains constant with the time values ​​captured when playback started.
If no initial jump forward is performed, the slider continues to move in time, as expected, but points to the wrong time. After a while, say 1 hour, and because the timers are not refreshed, if a full buffer skip forward command is sent, the play reaches the end of the buffer which was 1 hour ago. That means it rewinds!! Yes! It is confusing behavior. It's even funny for me. As a user that is fixed by sending a full skip forward command at play beginning and everything works as expected.
There is still a long delay when commands are sent. Also, the logs keep showing warning messages and I can't identify why it takes so long to apply a jump (between 3 and 10 seconds or so). So short jumps (10 seconds or less) don't perform well.
I took some time to review why speed commands are not working. Reviewing logs and with Wireshark the speed commands never are sent! Instead, all Speed commands are treated as Skip commands. Only when pause (speed=0%) or ""un-pause"" (speed=100%) commands are sent from Kodi, the Speed functions are reached. I also reviewed pvr.hts code and problem seems to be there. I think Speed commands are coded as repeatedly Skip commands! I already sent a question / issue report to pvr.hts...

I still need to change npt commands by clock commands. Server receives npt but always answer with clock. How could I sent to you those functions that implements clock SDP commands and my messy code changes? (I have to confess that I didn't add all code needed to choose between those two formats correctly, but I could fix it...)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,37,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-703784959,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hi,


I implemented a fall back for the buffer updates, should solve your funny stuff :)


Yes it would be nice if we could force the position in Kodi, same problem on my side. I tried but it doesn't seem possible with the current implementation. If you find a solution please share.


Not sure if the response time can be much faster, even local TS has some seconds delay. Your welcome to try of course.


Interested in what the pvr.hts team thinks about this. I don't expect this will solve the issue though, see my previous note on dts skipping during fast forward. If you change the scale value it's just skipping on server side instead and breaks client side.


If you want to share some code it's probably easiest is to fork my repo and apply your changes. If you then send me a pull request we can discuss and I can then apply the changes to this pull request.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/Flole998,38,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-703787350,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","... and if you're done please squash your commits together and @ me so I can do the review, some testing and merging ;)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,39,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-703918216,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Hello,

If you want to share some code it's probably easiest is to fork my repo and apply your changes. If you then send me a pull request we can discuss and I can then apply the changes to this pull request.

I am an electrical engineer, so software development is not my best skill! So I'll be reading how the heck a repository forks and how to ""send a pull request"". I'll be then trying to ""clean up"" my code so I can share with you all the ""enhancements"" to your code so that RTSP accepts the npt commands as well as the clock commands. Patience, please!
In the meantime, I'll also test the latest changes you proposed.
I should note that in my case I am setting the remote buffer length manually because the server responds to the DESCRIBE directive with a range: clock = now- and includes a Timeshift-Status: 1 directive in the header message. I don't use it, but as a future TODO, this could be used to set if the server accepts time-shifting functions.
I set a buffer length to 7200 seconds, that is 2 hours. (It could be set to 3600 or 1 hour or whatever, but for now it's a hard-coded value)
Also, I forgot to tell you that the redirect is not working as expected. I made some changes by adding #define RTSP_STATUS_REDIRECTION 302 in http.h to add message 302 which is RTSP / 1.0 302 Moved Tempoually and in iptv_rtsp_header I changed the code, but always when a new r ​​= rtsp_describe (hc, rp -> path, rp-> query) is reached, the value r is 4 which means EINTR 4 / * System call interrupted * /.
That was the end of my redirect testing excursion!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,40,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-704217120,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Don't worry about it, I'm no software engineer either.
I guess your STB is not following the RFC since now- is only used for live streams? Not sure how to setup the buffer limits then.  https://tools.ietf.org/html/rfc2326#section-3.6 Can you share a Wireshark capture of your STB to understand better?
Regarding redirects, I agree we should probably accept return codes 301, 302, 303. Code 300 sounds interesting.
https://tools.ietf.org/html/rfc2326#page-24
I don't think we need Timeshift-Status: 1 since the user needs to enable the remote time shifting anyway.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/Flole998,41,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-744737743,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.",Could you please squash your commits together so I can review them all at once?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/faperea,42,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-745045431,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","Flole998,
I will gladly ""squash"" my confirmations if I find how... In the meantime, I disconnected from this PR for a moment, but I think it's not over yet! Some corrections are needed, as well as information that I should share. Be patient! I'm trying to take some time to do all my homework!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,43,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-746612402,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","@Flole998 I rebased and squashed my commits, thanks.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,44,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-784480015,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","@Flole998, just some old debug code, I guess we can assume this is no longer necessary.  I cleaned it up.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,45,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-795834599,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","@Flole998, thanks for the feedback. Some stupid mistakes during change on change. Latest update should fix these issues.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/Flole998,46,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-802240368,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.","@spdfrk Unfortunately there seems to be another issue related to this, could you please look into it: https://tvheadend.org/issues/6024
Looks like you moved some functions to different #ifdefs",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,47,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-802307680,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.",@Flole998  I will fix it. Seems I started the ifdefs without finishing it.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1347,2020-06-13T15:03:34Z,2021-03-12T03:26:16Z,2021-03-18T21:38:19Z,MERGED,True,851,232,17,https://github.com/spdfrk,"iptv: new features for multicast, rtsp & rtcp (retransmission & remote time shift)",1,[],https://github.com/tvheadend/tvheadend/pull/1347,https://github.com/spdfrk,48,https://github.com/tvheadend/tvheadend/pull/1347#issuecomment-802319634,"Dear all,
Attached some new features I implemented for IPTV. Looking forward to your comments.

Implement RTCP Negative Acknowledge (a.k.a. Retransmission) support for RTP streams.
When packet loss is detected the client will send a RTCP Generic Feedback report to the server. The server can than resend these lost packets.
Retransmitted packets are send through a second connection or as part of the main stream, both cases are supported.
For Multicast manual setup of the RTCP server is required, for RTSP automatic setup (was already implemented for Receiver Reports) or manual override is possible.
General clean-up of unused RTCP code and restructure to allow for easy implementation of different types of RTCP messages.
Make RTCP Receiver Reports optional.
RTSP start session with DESCRIBE and parse response content.
RTSP DESCRIBE redirect support.
Parse DESCRIBE response for AVPF support (required for Retransmission).
Implement remote timeshift support for RTSP streams.
This option can be enabled for a channel to pass through timeshift commands to the RTSP server, the internal timeshift buffer is then disabled.",@Flole998 #1395 will fix the compilation issue. Unfortunately I can't functionally test it.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1348,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461",True,"{'THUMBS_UP': ['https://github.com/rkkoszewski', 'https://github.com/chkuendig', 'https://github.com/nomandera', 'https://github.com/anthonylavado', 'https://github.com/DamiaPoquet', 'https://github.com/mr-onion-2', 'https://github.com/LukasdeBoer', 'https://github.com/Chris230291'], 'HOORAY': ['https://github.com/chkuendig', 'https://github.com/anthonylavado'], 'ROCKET': ['https://github.com/danielloader'], 'HEART': ['https://github.com/Chris230291']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-644894678,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","There are 2 things in here that should be re-considered:

Manufacturer and Model, could those be changed to be Tvheadend instead of using a manufacturers name here without their permission?
I do not like that authentication tokens are given out to everyone who requests the right URL. Instead, IP based authentication should be used (so basically remove the token from the URL again). The current behavior can be achieved through that aswell by configuring a wildcard that allows access for everyone. Let's not pretend that there is authentication while we give everyone access if they request the right URL.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/azlm8t,3,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-644908818,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","I've changed the manufacturer.
It's difficult to know for sure what checks the media players make for model and manufacturer, and what limitations there are for model number.   Perhaps someone with access to Plex can verify what happens if they change the model number.
As I discussed in the forum, the rights are based on the user since it offers some benefits.  In particular, it allows filtering of channels since many media players have limitations on how many channels they can handle.
However, it also allows the filtering by IP address that you mention.   So users who explicitly enable the functionality can filter the IP address to their media player only.  All other IP addresses are blocked so even if they use the correct URL they do not gain access.  This limitation on credentials is because clients do not specify credentials when connecting to genuine HDHomeRuns.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/azlm8t,4,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-644910443,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Ideally, we'd make it all configurable, but I didn't want to clutter the UI with undue configuration.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Flole998,5,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-645015977,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Filtering of channels also works with IP based authentication.
The problem I have with this is that it gives users a false sense of security. Using IP based authentication only is reflecting the truth: Everyone from that IP can access the streams and not just HDHomeRun devices. And if a HDHomeRun client indeed supports authentication they can use it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/flippz,6,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-656129389,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Can you change the number of tuners without problems? I tryed changeing it to 20 and tvheadend would not start any channels after that...
BTW, what happened to tvheadend.org?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/azlm8t,7,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-657191700,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Now we've had a few people testing basic functionality in the forum, I've updated the patch.
I've made the tuner count configurable.  So, if Plex prevents opening more than X streams, you can set the count to a higher value.  I'm wary of just defaulting the tuner count to a very high value in case clients are doing some resource allocations for each tuner, so I've left the default at 6 which is probably adequate for basic home use.  As mentioned, Tvheadend does not use that count itself since one tuner could serve multiple channels.
We now send FirmwareVersion from Tvheadend's build version, and I've changed the server name, though there is a lot of existing inconsistencies in the capitalization.
I've currently left it using a username since this allows us to add a user and do filtering by IP, but also extra features such as filtering by tags or channel numbers.  If we moved to just IP authentication then we'd lose those features.  We could possibly make it configurable if a user is needed and just rely on anonymous streaming access, but I think it's possibly clearer having ""hdhomerun"" user and seeing that in the UI.  It's an unfortunate consequence that clients only allow IP and post number to be specified (as separate fields), so they can't pass authentication credentials to use in the auto-generated playlists.",True,{'THUMBS_UP': ['https://github.com/rkkoszewski']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Flole998,8,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-657271891,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","I will not merge something that bypasses authentication like this. When authentication for a user is enabled it will be enforced, giving out access keys to whoever requests it is not something we should do. While a user thinks it's all secure because a password is configured it really isn't because anybody can just ask for an authentication token.
Even with this removed you can add a user, you just need to call it *, and that represents the reality: No protection against anything, anyone who has access can access whatever they want.",True,{'THUMBS_UP': ['https://github.com/Gaston-DSP']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/flippz,9,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-660612192,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Tryed using it in emby and it wont start any channels there. It loads channels fine but they dont start. Nothing happens in Tvheadend. Tryed with xteve and it worked at once so dont seem to be the fault of emby:
Error:
2020-07-17 16:30:09.088 Info LiveTvManager: Opening channel stream from Emby, external channel Id: hdhr_101
2020-07-17 16:30:09.088 Info LiveTV: Streaming Channel hdhr_101
2020-07-17 16:30:09.088 Info HdHomerunHost: GetChannelStream: channel id: hdhr_101. stream id: native_7ce9fd452946804bf450f723a11f06ea_b41d4305a80a79fb34980b9cbd994d3a profile: native
2020-07-17 16:30:09.089 Info SharedHttpPipelineSource: Opening SharedHttpPipelineSource Live stream from http://192.168.xxx.xxx:9981/stream/channel/dd72b9d5b5e1eecf3f183ca568407cc3?profile=pass&auth=(secrect)?transcode=none
2020-07-17 16:30:09.089 Info HttpClient: GET http://192.168.xxx.xxx:9981/stream/channel/dd72b9d5b5e1eecf3f183ca568407cc3?profile=pass&auth=(secrect)?transcode=none
2020-07-17 16:30:09.092 Info HttpClient: Http response 401 from http://192.168.xxx.xxx:9981/stream/channel/dd72b9d5b5e1eecf3f183ca568407cc3?profile=pass&auth=(secrect)?transcode=none after 3ms. HeadersServer=HTS/tvheadend, Cache-Control=no-cache, WWW-Authenticate=Basic realm=""tvheadend"", Connection=close
2020-07-17 16:30:09.098 Error HdHomerunHost: Error opening tuner",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/flippz,10,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-660615057,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461",Seems that the problem is that Emby adds the ?transcode=none to the end of the url....,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/flippz,11,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-660615960,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461",I tryed without Persistent authentication code now and just added a ip that does not need credetials and it works fine in Emby. So seems Emby does something different that Plex and Jellyfin.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/rkkoszewski,12,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-660621743,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Seems that the problem is that Emby adds the ?transcode=none to the end of the url....

That smells to me like a bug in Emby. Given that Emby assumes the URL to have certain format, and disregarding that the URL might already have a question mark, producing (as far as I'm aware) an invalid URL with double '?'. I wouldn't bother with Emby and file a bug on them to check their URLs to be valid. Emby has an official Tvheadend plugin anyway.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Flole998,13,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-660622512,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","It will automatically be fixed when the authentication is implemented properly. Then it's a requirement anyways to use IP based authentication (or use a client that Supports authentication by username/password), which will apparey fix this issue.",True,{'THUMBS_UP': ['https://github.com/rkkoszewski']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/CvH,14,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-660631006,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Emby has an official Tvheadend plugin anyway.

Just for info, the plugin is basically completely broken and not useable for years.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/azlm8t,15,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-661347540,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","I'd left a comment (and potential fix to try) in the boards since someone else encountered the same problem with Emby.  Unfortunately, I can't test Emby so I was awaiting feedback there.
https://tvheadend.org/issues/4461#note-144
The idea is to fake an extra argument so the auth token is then passed through ok despite the bug in Emby.
When you have time, could you try making the change suggested in there?
Basically alter src/webui.c around line 1558 from:
      sprintf(url, ""http://%s:%u/stream/channel/%s?profile=pass%s%s"",
to
      sprintf(url, ""http://%s:%u/stream/channel/%s?profile=pass%s%s&extraarg=t"",",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/chkuendig,16,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-663391600,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","I've been working on a tvhProxy fork for a while as the original version wasn't working anymore with newer Plex updates. One of the changes required was to add SSDP discovery. Without it, the tuners sometimes randomly get ""dropped"" during the setup.
Was it a conscious decision to not add SSDP discovery or is that something which could be added at a later point?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/azlm8t,17,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-664407941,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","I took a look through your code and liked your ideas for ""72 hours of full details"" in xmltv and ""no programme.""  I had added different ""xmltv formats"" (such as only basic details, no descriptions) for low memory devices, so perhaps those features should be added in the future as a separate ""xmltv format.""
I don't have Plex, but I had taken a look at SSDP since I'd noticed it in some Plex logs I'd downloaded.  I believe Plex works without SSDP but SSDP ensures that the icon for ""available"" is always enabled if you go back in to settings?
We have SSDP implemented for SatIP.  The main reason I didn't implement it for this patch was that it looked like it required some refactoring (see satips_upnp_discovery_received, etc.) and I wouldn't be able to test properly for either satip or this new functionality.  In theory, it should be the case of sharing all the code from that satip function and just call a service-specific ""reply"".  So, yes, it could be added.
I'd read that some projects integrate with ""minissdp"" to do the processing since only one process can easily handle the ssdp requests.  Indeed, Jellyfin now has a change request to disable SSDP and let the other process do it to avoid conflicts.  I always had to disable ssdp on another pvr I have used since otherwise I get conflicts on the port 1900 since I have other processes that do upnp.",True,{'THUMBS_UP': ['https://github.com/nomandera']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/shanekuz,18,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-676060362,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461",Has this been added into the build or it this still waiting on something?  Im happy to keep testing but its been stable for quite a while now.  The SSDP would be nice as it does show in plex as offline after a while but still works,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Flole998,19,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-676095191,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461",This is still waiting for the changes I requested. Without those it won't make it in.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/anthonylavado,20,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-676424636,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","I will not merge something that bypasses authentication like this.

Is this the still main blocker on this issue?
On the Jellyfin side, we (currently) suffer from the same issue as Emby would, but we'll do our best to fix anything we can on our side.
I was on a cached version of the page. I see the response. Thank you.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/shanekuz,21,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-676825391,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461",If the issue is around authentication can we just post a TVH username and password in the lineup.json path?  Of am i missing whats meant with this issue?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Flole998,22,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-676834256,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Not sure if I understand it correctly, but if those credentials are exposed and anybody can get them by requesting a specific URL or if those are even broadcasted on the network that would make the issue even worse: Right now at least the password is protected, publishing it would allow everyone to get the password of a user, that's even worse. There are 2 options (which both require the same changes to this PR): The client sends proper authentication or IP based authentication is used. Then it would be consistent with how all other components of Tvheadend are using authentication (SAT>IP being the exception but I don't like that either and opened an issue a while ago that this would need changing).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Leatherface75,23,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-682255736,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","HDHomeRun aren't using any password so i don't know how an emulation with password support would work.
That would need a rewrite on the client side to support that.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Flole998,24,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-682260097,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","That's why I mentioned two options. If the first one doesn't work for a specific client (or even all clients) then the second option will definitely work. And what's pretty cool about that: All those features are already included in Tvheadend, so just the authentication bypass/mapping would have to be removed.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Leatherface75,25,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-684955924,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Maybe i am missunderstanding but i can't see how this would work without any sorts of bypassing authentication.
There is no support for authentication with HDHomeRun devices.
The only thing you can do is to link HDHomeRun emulation to a specific user on the serverside.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/rkkoszewski,26,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-685120758,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","@Leatherface75  You can create a user without password in Tvheadend and white list a specific IP for that user. That way the specific user will be able to login from that specific IP without the need for a password. That way you don't need to bypass anything and just use the user for the streaming (Without password). And this behaviour is already part of Tvheadend.
I would just document this requirement somewhere as this is a bit of a non obvious setup in my opinion.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/shanekuz,27,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-685457820,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","That's why I mentioned two options. If the first one doesn't work for a specific client (or even all clients) then the second option will definitely work. And what's pretty cool about that: All those features are already included in Tvheadend, so just the authentication bypass/mapping would have to be removed.

What if in the setup page we force an ip entry for the plex server and lock it by IP rules?  If we make it so you can not leave this blank and can not put a rage then it will only expose the XML to one IP.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/rkkoszewski,28,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-685685327,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461",@shanekuz What if you want to have multiple clients that connect to the HDHomeRun server emulator? Or what if you want to have the server open for a whole subnet or even everybody? (This can be all achieved with the current Tvheadend permission system),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Leatherface75,29,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-686045031,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","@Leatherface75 You can create a user without password in Tvheadend and white list a specific IP for that user. That way the specific user will be able to login from that specific IP without the need for a password. That way you don't need to bypass anything and just use the user for the streaming (Without password). And this behaviour is already part of Tvheadend.
I would just document this requirement somewhere as this is a bit of a non obvious setup in my opinion.

And how do TVheadead know which user to use?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/chkuendig,30,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-686493034,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","I think you can create a user named * which is picked if there's no authentication.  See also the answer above:

Even with this removed you can add a user, you just need to call it *, and that represents the reality: No protection against anything, anyone who has access can access whatever they want.

I used this in my own trials successfully with Plex and tvhProxy:",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/j0nnymoe,31,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-694749943,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461",Been testing this for a couple of days long side Emby 4.4.3.0 - All seems to be working well.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/flippz,32,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-696821792,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","If i get this correct if the changes you propose are implemented then this will go into the main build?
Could azlm8t implement them? Hes the one that made this PR isent he?
Had i known any coding i would gladly implement them but i have no idea...
Iv been using it the way you say here. With using IP assigned instead if username and password and it works 100% against EMBY. Never any problems :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/shanekuz,33,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-699152009,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","@shanekuz What if you want to have multiple clients that connect to the HDHomeRun server emulator? Or what if you want to have the server open for a whole subnet or even everybody? (This can be all achieved with the current Tvheadend permission system)

This would only be limiting connection between the TVH server and the plex server so not everyone can query the XML list as iu think this is the issue as asking for the list file gives an open password.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/shanekuz,34,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-699152662,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","The solution is working really well, can someone that follows the issue with getting this included in the build please explain what the issue is?  Would be really good to close this out.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/dazedcrazy,35,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-700591112,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","The solution is working really well, can someone that follows the issue with getting this included in the build please explain what the issue is? Would be really good to close this out.

@shanekuz it's around the use of authentication, see here #1348 (comment)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/dazedcrazy,36,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-706534090,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","I've been trying this for a while and aside from the changes @Flole998 requested it works fine. I do have one issue and was wondering if someone could help. For EPG data i use IP:Por/xmltv/channels but everything that comes into Plex has a New tag, well anything that has an episode number will show up as New if it's new or not.

I'm guessing I need to change something in the xmltv.c to make it work?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/flippz,37,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-729000470,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461",Come on someone please make the changes needed to get this included :),True,"{'THUMBS_UP': ['https://github.com/Sparticuz', 'https://github.com/CvH', 'https://github.com/DavideFioravanti', 'https://github.com/j0nnymoe', 'https://github.com/Gaston-DSP', 'https://github.com/mr-onion-2', 'https://github.com/TomyB76']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/mr-onion-2,38,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-753638261,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Hi
I wasn't sure whether to post this here or whether it is an issue for LinuxServer.io.
I am trying to build a Docker image for this branch using the Dockerfile at https://github.com/linuxserver/docker-tvheadend. I've updated the Dockerfile to use the azlm8t/tvheadend branch.
It fails with the error below. A complete log is here

Building src/webui/static/intl/tvh.zh-Hans.js.gz
WEBUI std finished
make[2]: Leaving directory '/tmp/tvheadend'
make -f Makefile.webui WEBUI=debug compile-debug
make[2]: Entering directory '/tmp/tvheadend'
WEBUI debug finished
make[2]: Leaving directory '/tmp/tvheadend'
make[1]: Leaving directory '/tmp/tvheadend'
CC              src/tvhlog.o
src/tvhlog.c: In function 'tvhlog_thread':
src/tvhlog.c:352:9: error: 'strncpy' specified bound 512 equals destination size [-Werror=stringop-truncation]
352 |         strncpy(buf, tvhlog_path, sizeof(buf));
|         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
make: *** [Makefile:641: /tmp/tvheadend/build.linux/src/tvhlog.o] Error 1

Thanks",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/deathbybandaid,39,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-764717053,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Not to take away from anything in this PR, but I'm the developer of fHDHR, and I have a variant of the script designed to work with tvheadend (link below).
I originally wrote fHDHR to go between tvheadend or nextpvr, so that I could share my QuadHD tuner with Emby and Plex.
fHDHR emulates being an HDHR, as well as an m3u tuner. This works with Plex, Emby, Channels, and xTeVe.
I personally use this with my tvheadend install.
https://github.com/fHDHR/fHDHR_Tvheadend",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Flole998,40,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-824239966,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461",Closing due to inactivity for now. Once this PR has been updated it can be re-opened and reviewed again.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/xF4m3,41,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-1013767087,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","Hey, I am really looking forward for this feature is there still something happening here or is this feature dead for now?
What are the current alternatives that are working? I tried the LiveTVH plugin for Plex but that doesn't work.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/Flole998,42,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-1013804841,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","The PR was abandoned apparently, so unless someone picks it up and addresses the issues mentioned above it's pretty much dead.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1348,2020-06-16T17:00:22Z,2021-04-21T17:41:12Z,2022-01-16T10:37:20Z,CLOSED,False,491,0,8,https://github.com/azlm8t,hdhomerun: Add HDHomeRun server emulation support for LiveTV only (#4461),1,[],https://github.com/tvheadend/tvheadend/pull/1348,https://github.com/CvH,43,https://github.com/tvheadend/tvheadend/pull/1348#issuecomment-1013850775,"Tested in the forums by Shane Kuzmanic against Plex.
Minimal testing also done against Jellyfin.
We now offer the ability to pretend to be an HDHomeRun server
to expose channels for LiveTV for some media players such
as Plex.
DVR functionality is not exposed.
This only works on media players that allow IP:Port
number configuration.  It is hooked in to the webui
and only exists if the feature is compiled in and
explicitly enabled in the GUI.
To use:


Add a user and enable persistent authentication via
Config->User->Passwords->Persistent Authentication Enable.


Use this user for the HDHomeRun server setup in
Config->General->Base->HDHomeRun/Local Username.


Then manually add the device to your client using the
IP address and port of the TVHeadend server, such as
192.168.0.1:9981
Auto-discovery of the TVHeadend server by downstream
media clients does not work since clients seem to use
different mechanisms.
So, although many clients (such as TVHeadend) use
a broadcast at 65001 to locate clients, one of
the popular media players does not use this mechanism.
The persistent authentication allows the client to stream
LiveTV from the TVHeadend server using the credentials for
the given user.  Using a user allows us to do filtering
such as only allowing specific channels to be passed
through to the downstream clients.
For ""DeviceAuth"" we use a (hard-coded) randomly generated
value since it has to be 24 lowercase/digit characters long.
For DeviceID, we base it on the server name.  Technically
a DeviceID needs to match a particular format to validate
against a CRC, but no clients seems to enforce this.
The feature is configurable.  If the feature is disabled
then we hide the options in the GUI rather than compile
them out completely.  This ensures that if the user
accidentally compiles with the options disabled
then they will not lose their configuration.
Issue: #4461","looking at @azlm8t github page its unlikely that anything happens here :/
thats sad, its a great feature to make Tvheadend compatible to more software, for some reason the hdhomerun stuff is basically ""standard"" these days (likely because dead simple to use).",True,"{'THUMBS_DOWN': ['https://github.com/rkkoszewski', 'https://github.com/aomknese'], 'THUMBS_UP': ['https://github.com/xF4m3', 'https://github.com/user897943']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1349,2020-07-03T18:55:25Z,2020-07-06T15:05:06Z,2020-07-07T15:55:15Z,MERGED,True,13,10,3,https://github.com/Flole998,"Replace long by int64_t, fixes #5844",5,[],https://github.com/tvheadend/tvheadend/pull/1349,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1349,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1350,2020-07-04T07:26:13Z,2020-07-04T21:44:57Z,2020-08-16T09:58:13Z,CLOSED,False,1,1,1,https://github.com/dave-p,Fix compilation error.,1,[],https://github.com/tvheadend/tvheadend/pull/1350,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1350,"src/misc/json.c: In function ‘json_parse_value’:
src/misc/json.c:372:34: error: passing argument 2 of ‘json_parse_integer’ from incompatible pointer type [-Werror=incompatible-pointer-types]
372 |   if((s2 = json_parse_integer(s, &l)) != NULL) {
|                                  ^~
|                                  |
|                                  long int *
src/misc/json.c:307:44: note: expected ‘int64_t *’ {aka ‘long long int *’} but argument is of type ‘long int *’
307 | json_parse_integer(const char *s, int64_t *lp)
|                                   ~~~~~~~~~^~","src/misc/json.c: In function ‘json_parse_value’:
src/misc/json.c:372:34: error: passing argument 2 of ‘json_parse_integer’ from incompatible pointer type [-Werror=incompatible-pointer-types]
372 |   if((s2 = json_parse_integer(s, &l)) != NULL) {
|                                  ^~
|                                  |
|                                  long int *
src/misc/json.c:307:44: note: expected ‘int64_t *’ {aka ‘long long int *’} but argument is of type ‘long int *’
307 | json_parse_integer(const char *s, int64_t *lp)
|                                   ~~~~~~~~~^~",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1350,2020-07-04T07:26:13Z,2020-07-04T21:44:57Z,2020-08-16T09:58:13Z,CLOSED,False,1,1,1,https://github.com/dave-p,Fix compilation error.,1,[],https://github.com/tvheadend/tvheadend/pull/1350,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1350#issuecomment-653815920,"src/misc/json.c: In function ‘json_parse_value’:
src/misc/json.c:372:34: error: passing argument 2 of ‘json_parse_integer’ from incompatible pointer type [-Werror=incompatible-pointer-types]
372 |   if((s2 = json_parse_integer(s, &l)) != NULL) {
|                                  ^~
|                                  |
|                                  long int *
src/misc/json.c:307:44: note: expected ‘int64_t *’ {aka ‘long long int *’} but argument is of type ‘long int *’
307 | json_parse_integer(const char *s, int64_t *lp)
|                                   ~~~~~~~~~^~","Thanks, I made the necessary changes.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1351,2020-07-04T21:16:43Z,2020-09-28T11:42:21Z,2020-09-28T11:42:21Z,CLOSED,False,0,0,0,https://github.com/banburybill,Fix scraping of 'new' flag from UK EIT.,0,[],https://github.com/tvheadend/tvheadend/pull/1351,https://github.com/banburybill,1,https://github.com/tvheadend/tvheadend/pull/1351,"The regular expression must contain a subgroup match to be recognised as
a match.
Follow xmltv.c and set flag to 1.","The regular expression must contain a subgroup match to be recognised as
a match.
Follow xmltv.c and set flag to 1.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1351,2020-07-04T21:16:43Z,2020-09-28T11:42:21Z,2020-09-28T11:42:21Z,CLOSED,False,0,0,0,https://github.com/banburybill,Fix scraping of 'new' flag from UK EIT.,0,[],https://github.com/tvheadend/tvheadend/pull/1351,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1351#issuecomment-691738484,"The regular expression must contain a subgroup match to be recognised as
a match.
Follow xmltv.c and set flag to 1.",Please squash your commits so they can be merged.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1352,2020-07-11T19:36:50Z,2020-07-11T19:37:11Z,2020-07-11T21:51:41Z,MERGED,True,2,6,2,https://github.com/Flole998,"Revert ""HTSP v35: Add support for recording file size""",1,[],https://github.com/tvheadend/tvheadend/pull/1352,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1352,Reverts #1332 as dataSize is already a property.,Reverts #1332 as dataSize is already a property.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1352,2020-07-11T19:36:50Z,2020-07-11T19:37:11Z,2020-07-11T21:51:41Z,MERGED,True,2,6,2,https://github.com/Flole998,"Revert ""HTSP v35: Add support for recording file size""",1,[],https://github.com/tvheadend/tvheadend/pull/1352,https://github.com/ksooo,2,https://github.com/tvheadend/tvheadend/pull/1352#issuecomment-657121528,Reverts #1332 as dataSize is already a property.,Thank you for not even waiting with the revert until I have changed the Kodi Addon to work again.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1352,2020-07-11T19:36:50Z,2020-07-11T19:37:11Z,2020-07-11T21:51:41Z,MERGED,True,2,6,2,https://github.com/Flole998,"Revert ""HTSP v35: Add support for recording file size""",1,[],https://github.com/tvheadend/tvheadend/pull/1352,https://github.com/ksooo,3,https://github.com/tvheadend/tvheadend/pull/1352#issuecomment-657129658,Reverts #1332 as dataSize is already a property.,"I have to apologize. ""dataSize"" is documented in the official HTSP documentation (https://tvheadend.org/projects/tvheadend/wiki/Htsp).
Nevertheless, documentation is horrible outdated. It's at v23 level. Current is v34. It would really be helpful if it would be updated at some point in time.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1352,2020-07-11T19:36:50Z,2020-07-11T19:37:11Z,2020-07-11T21:51:41Z,MERGED,True,2,6,2,https://github.com/Flole998,"Revert ""HTSP v35: Add support for recording file size""",1,[],https://github.com/tvheadend/tvheadend/pull/1352,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1352#issuecomment-657131933,Reverts #1332 as dataSize is already a property.,I have added a warning to the documentation for now and a notice that it would be great if someone updates it.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1352,2020-07-11T19:36:50Z,2020-07-11T19:37:11Z,2020-07-11T21:51:41Z,MERGED,True,2,6,2,https://github.com/Flole998,"Revert ""HTSP v35: Add support for recording file size""",1,[],https://github.com/tvheadend/tvheadend/pull/1352,https://github.com/ksooo,5,https://github.com/tvheadend/tvheadend/pull/1352#issuecomment-657132162,Reverts #1332 as dataSize is already a property.,"Well, may I kindly request to revert the revert?
A recording can consist of several files. The property ""dataSize"" returns the sum of the size of all recording files. The property ""size"" I have added with #1332 returns the size for every single file of the recording.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1352,2020-07-11T19:36:50Z,2020-07-11T19:37:11Z,2020-07-11T21:51:41Z,MERGED,True,2,6,2,https://github.com/Flole998,"Revert ""HTSP v35: Add support for recording file size""",1,[],https://github.com/tvheadend/tvheadend/pull/1352,https://github.com/Flole998,6,https://github.com/tvheadend/tvheadend/pull/1352#issuecomment-657133901,Reverts #1332 as dataSize is already a property.,"Correct me if I'm wrong, but in Kodi there is only a single entry for each recording so only a single size attribute is necessary? The individual file sizes don't really matter for anything. Is it really necessary to know the size of each file that a recording consists of? What exactly is the benefit of doing that? It would waste CPU Power on Kodi by doing calculations that are not necessary and would use more bandwidth (not much, but a few bytes). I have no problem with re-adding it but this time I want to make sure it's the right decision to add it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1352,2020-07-11T19:36:50Z,2020-07-11T19:37:11Z,2020-07-11T21:51:41Z,MERGED,True,2,6,2,https://github.com/Flole998,"Revert ""HTSP v35: Add support for recording file size""",1,[],https://github.com/tvheadend/tvheadend/pull/1352,https://github.com/ksooo,7,https://github.com/tvheadend/tvheadend/pull/1352#issuecomment-657134750,Reverts #1332 as dataSize is already a property.,"but in Kodi there is only a single entry for each recording so only a single size attribute is necessary?

At the moment, yes. But I plan to change that. To my knowledge, you may end up with a multi-file recording if recording is interrupted due to some backend hickup and then gets resumed. For this kind of thing, I would like to have multiple entries in Kodi.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1352,2020-07-11T19:36:50Z,2020-07-11T19:37:11Z,2020-07-11T21:51:41Z,MERGED,True,2,6,2,https://github.com/Flole998,"Revert ""HTSP v35: Add support for recording file size""",1,[],https://github.com/tvheadend/tvheadend/pull/1352,https://github.com/Flole998,8,https://github.com/tvheadend/tvheadend/pull/1352#issuecomment-657135116,Reverts #1332 as dataSize is already a property.,"That is correct, for example a crash during a recording for example will cause multiple files.
Please use dataSize in Kodi for now instead of summing up the size of the individual files, I will add this commit again though as it's not a duplicate.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1353,2020-07-11T21:45:52Z,2020-07-11T21:46:12Z,2020-07-11T21:51:24Z,CLOSED,False,6,2,2,https://github.com/ksooo,"Revert ""Revert ""HTSP v35: Add support for recording file size"" (#1352)""",1,[],https://github.com/tvheadend/tvheadend/pull/1353,https://github.com/ksooo,1,https://github.com/tvheadend/tvheadend/pull/1353,"This reverts commit 313803b.
As discussed here: #1352 (comment)","This reverts commit 313803b.
As discussed here: #1352 (comment)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1354,2020-07-11T21:49:13Z,2020-07-11T21:49:41Z,2020-07-11T21:50:27Z,MERGED,True,6,2,2,https://github.com/Flole998,HTSP v35: Add support for file size of individual recordings,1,[],https://github.com/tvheadend/tvheadend/pull/1354,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1354,As proposed in #1332,As proposed in #1332,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1355,2020-07-12T08:39:10Z,2020-07-12T17:01:02Z,2020-07-12T17:01:02Z,MERGED,True,1,1,1,https://github.com/azlm8t,Fix escape code '&quote;' should be '&quot;'.,1,[],https://github.com/tvheadend/tvheadend/pull/1355,https://github.com/azlm8t,1,https://github.com/tvheadend/tvheadend/pull/1355,"It seems the escaping for html is using ""&quote;"" instead of ""&quot;"".
For example S3.2.4:
https://www.w3.org/MarkUp/html-spec/html-spec.txt
or
https://dev.w3.org/html5/html-author/charref
The browsers I tested displayed '&quote;' as double quote marks followed by ""e;"".","It seems the escaping for html is using ""&quote;"" instead of ""&quot;"".
For example S3.2.4:
https://www.w3.org/MarkUp/html-spec/html-spec.txt
or
https://dev.w3.org/html5/html-author/charref
The browsers I tested displayed '&quote;' as double quote marks followed by ""e;"".",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1356,2020-07-17T09:06:53Z,2020-09-13T23:04:46Z,2020-09-13T23:04:46Z,MERGED,True,2,2,1,https://github.com/Trujulu,Upgrade to libhdhomerun_20200521,1,[],https://github.com/tvheadend/tvheadend/pull/1356,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1356,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1357,2020-09-28T11:47:25Z,2020-09-28T22:04:03Z,2020-09-28T22:04:04Z,MERGED,True,3,3,2,https://github.com/banburybill,Fix scraping 'new' flag from UK EIT.,1,[],https://github.com/tvheadend/tvheadend/pull/1357,https://github.com/banburybill,1,https://github.com/tvheadend/tvheadend/pull/1357,"The regular expression must contain a subgroup match to be recognised
as a match.
Follow xmltv.c and set flag to 1.

This PR redoes #1351 - change now rebased onto current master.","The regular expression must contain a subgroup match to be recognised
as a match.
Follow xmltv.c and set flag to 1.

This PR redoes #1351 - change now rebased onto current master.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1358,2020-09-28T22:10:27Z,2020-09-28T22:10:54Z,2021-02-20T20:57:46Z,MERGED,True,0,27,1,https://github.com/Flole998,Revert dca46eedd9653b90d2722e67281eed0b35740730,1,[],https://github.com/tvheadend/tvheadend/pull/1358,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1358,Reverts dca46ee as it's broken anyways.,Reverts dca46ee as it's broken anyways.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1359,2020-10-04T19:39:46Z,2020-10-08T20:32:38Z,2020-10-10T04:50:35Z,MERGED,True,46,78,3,https://github.com/fat-fred,update Makefile.ffmpeg,2,[],https://github.com/tvheadend/tvheadend/pull/1359,https://github.com/fat-fred,1,https://github.com/tvheadend/tvheadend/pull/1359,"-Include NASM 2.15.05
-Include newer x264
-Include x265 3.4
-Include VPX 1.9.0-rc1
-Include Theora 1.2.0alpha1
-Include fdk-aac 2.0.1
-Include NVCODEC 10.0.26.1
-Include ffmpeg 4.3.1
-remove ffmpeg.libx265.diff - its now in ffmpeg includet
-edited libx265.pie.diff for newer x265","-Include NASM 2.15.05
-Include newer x264
-Include x265 3.4
-Include VPX 1.9.0-rc1
-Include Theora 1.2.0alpha1
-Include fdk-aac 2.0.1
-Include NVCODEC 10.0.26.1
-Include ffmpeg 4.3.1
-remove ffmpeg.libx265.diff - its now in ffmpeg includet
-edited libx265.pie.diff for newer x265",True,"{'THUMBS_UP': ['https://github.com/raccettura', 'https://github.com/Saentist']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1359,2020-10-04T19:39:46Z,2020-10-08T20:32:38Z,2020-10-10T04:50:35Z,MERGED,True,46,78,3,https://github.com/fat-fred,update Makefile.ffmpeg,2,[],https://github.com/tvheadend/tvheadend/pull/1359,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1359#issuecomment-705885058,"-Include NASM 2.15.05
-Include newer x264
-Include x265 3.4
-Include VPX 1.9.0-rc1
-Include Theora 1.2.0alpha1
-Include fdk-aac 2.0.1
-Include NVCODEC 10.0.26.1
-Include ffmpeg 4.3.1
-remove ffmpeg.libx265.diff - its now in ffmpeg includet
-edited libx265.pie.diff for newer x265","Unfortunately there is an issue with this change: https://www.tvheadend.org/issues/5957
A patch seems to fail, probably because the sources have changed.",True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1359,2020-10-04T19:39:46Z,2020-10-08T20:32:38Z,2020-10-10T04:50:35Z,MERGED,True,46,78,3,https://github.com/fat-fred,update Makefile.ffmpeg,2,[],https://github.com/tvheadend/tvheadend/pull/1359,https://github.com/CvH,3,https://github.com/tvheadend/tvheadend/pull/1359#issuecomment-705993702,"-Include NASM 2.15.05
-Include newer x264
-Include x265 3.4
-Include VPX 1.9.0-rc1
-Include Theora 1.2.0alpha1
-Include fdk-aac 2.0.1
-Include NVCODEC 10.0.26.1
-Include ffmpeg 4.3.1
-remove ffmpeg.libx265.diff - its now in ffmpeg includet
-edited libx265.pie.diff for newer x265","what does https://github.com/tvheadend/tvheadend/blob/master/support/patches/ffmpeg.vaapi_encode.diff at all ?
we build ffmpeg without it at LibreELEC and nobody complained yet (for years) that encoding is not working",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1359,2020-10-04T19:39:46Z,2020-10-08T20:32:38Z,2020-10-10T04:50:35Z,MERGED,True,46,78,3,https://github.com/fat-fred,update Makefile.ffmpeg,2,[],https://github.com/tvheadend/tvheadend/pull/1359,https://github.com/fat-fred,4,https://github.com/tvheadend/tvheadend/pull/1359#issuecomment-706225068,"-Include NASM 2.15.05
-Include newer x264
-Include x265 3.4
-Include VPX 1.9.0-rc1
-Include Theora 1.2.0alpha1
-Include fdk-aac 2.0.1
-Include NVCODEC 10.0.26.1
-Include ffmpeg 4.3.1
-remove ffmpeg.libx265.diff - its now in ffmpeg includet
-edited libx265.pie.diff for newer x265","Have a look in it.
Make a first pull request. But have not vaapi. i try to test it in my docker. so please wait this time ;-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1359,2020-10-04T19:39:46Z,2020-10-08T20:32:38Z,2020-10-10T04:50:35Z,MERGED,True,46,78,3,https://github.com/fat-fred,update Makefile.ffmpeg,2,[],https://github.com/tvheadend/tvheadend/pull/1359,https://github.com/CvH,5,https://github.com/tvheadend/tvheadend/pull/1359#issuecomment-706487143,"-Include NASM 2.15.05
-Include newer x264
-Include x265 3.4
-Include VPX 1.9.0-rc1
-Include Theora 1.2.0alpha1
-Include fdk-aac 2.0.1
-Include NVCODEC 10.0.26.1
-Include ffmpeg 4.3.1
-remove ffmpeg.libx265.diff - its now in ffmpeg includet
-edited libx265.pie.diff for newer x265","the patch was made against ffmpeg 3.1.3 that added vaapi support to ffmpeg (26 Aug 2016)
likely this was a workaround for some stuff that is already fixed, like said we use tvheadend with a self compiled ffmpeg that never had these patch and vaapi encoding works like a charm",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1360,2020-10-08T16:35:01Z,2020-10-08T16:36:27Z,2020-10-08T16:36:27Z,MERGED,True,1,1,1,https://github.com/dave-p,Fix cut & paste error in api/epg.,1,[],https://github.com/tvheadend/tvheadend/pull/1360,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1360,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1361,2020-10-08T20:30:40Z,2020-10-08T20:33:15Z,2020-10-08T20:33:15Z,MERGED,True,49,29,1,https://github.com/fat-fred,Fix NVENC,1,[],https://github.com/tvheadend/tvheadend/pull/1361,https://github.com/fat-fred,1,https://github.com/tvheadend/tvheadend/pull/1361,"corrected ""Rate Control"" Settings:

removed Deprecated Settings
include new Settings



corrected ""Profile"":

include missing hevc profile ""Rext""
fixed profile selection: before we always had a profile higher as we choose (order is different then in other h264/hevc encoder)



(last pull request is also updated)","corrected ""Rate Control"" Settings:

removed Deprecated Settings
include new Settings



corrected ""Profile"":

include missing hevc profile ""Rext""
fixed profile selection: before we always had a profile higher as we choose (order is different then in other h264/hevc encoder)



(last pull request is also updated)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1362,2020-10-08T20:42:44Z,2020-10-08T20:47:40Z,2020-10-08T20:47:41Z,CLOSED,False,47,27,1,https://github.com/fat-fred,Nvenc fix,2,[],https://github.com/tvheadend/tvheadend/pull/1362,https://github.com/fat-fred,1,https://github.com/tvheadend/tvheadend/pull/1362,Forgot to remove a test ;-),Forgot to remove a test ;-),True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1362,2020-10-08T20:42:44Z,2020-10-08T20:47:40Z,2020-10-08T20:47:41Z,CLOSED,False,47,27,1,https://github.com/fat-fred,Nvenc fix,2,[],https://github.com/tvheadend/tvheadend/pull/1362,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1362#issuecomment-705814691,Forgot to remove a test ;-),I was too fast merging ;) I added the second commit manually now. Thanks for your work! I really appreciate it!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1363,2020-10-09T14:48:38Z,2020-10-12T15:53:09Z,2020-10-12T15:53:09Z,CLOSED,False,13,12,1,https://github.com/fat-fred,Ffmpeg fix,5,[],https://github.com/tvheadend/tvheadend/pull/1363,https://github.com/fat-fred,1,https://github.com/tvheadend/tvheadend/pull/1363,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1363,2020-10-09T14:48:38Z,2020-10-12T15:53:09Z,2020-10-12T15:53:09Z,CLOSED,False,13,12,1,https://github.com/fat-fred,Ffmpeg fix,5,[],https://github.com/tvheadend/tvheadend/pull/1363,https://github.com/fat-fred,2,https://github.com/tvheadend/tvheadend/pull/1363#issuecomment-706262473,,"Disabled patch for now. patch are right, but give an error on compile..
I do not now, if we need this patch, but will have a look in it (later).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1363,2020-10-09T14:48:38Z,2020-10-12T15:53:09Z,2020-10-12T15:53:09Z,CLOSED,False,13,12,1,https://github.com/fat-fred,Ffmpeg fix,5,[],https://github.com/tvheadend/tvheadend/pull/1363,https://github.com/jkellerer,3,https://github.com/tvheadend/tvheadend/pull/1363#issuecomment-706281533,,"Hi @fat-fred, I was about to create a similar PR.
An extra include must be added to get the patch compiled.
The definition of ff_side_data_set_encoder_stats(...) was moved to packet_internal.h:
@@ -26,6 +26,8 @@
 
 #include ""vaapi_encode.h""
 #include ""avcodec.h""
+#include ""internal.h""
+#include ""packet_internal.h""
 
 const AVCodecHWConfigInternal *ff_vaapi_encode_hw_configs[] = {
I'm not familiar with this patch either but it should be checked why it is required (or not) before disabling it, I think.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1363,2020-10-09T14:48:38Z,2020-10-12T15:53:09Z,2020-10-12T15:53:09Z,CLOSED,False,13,12,1,https://github.com/fat-fred,Ffmpeg fix,5,[],https://github.com/tvheadend/tvheadend/pull/1363,https://github.com/fat-fred,4,https://github.com/tvheadend/tvheadend/pull/1363#issuecomment-706350593,,"@jkellerer thank you. it works.
I see it like you. Before we not now why this patch is included, we should not remove it (any of it).",True,{'THUMBS_UP': ['https://github.com/jkellerer']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1363,2020-10-09T14:48:38Z,2020-10-12T15:53:09Z,2020-10-12T15:53:09Z,CLOSED,False,13,12,1,https://github.com/fat-fred,Ffmpeg fix,5,[],https://github.com/tvheadend/tvheadend/pull/1363,https://github.com/fat-fred,5,https://github.com/tvheadend/tvheadend/pull/1363#issuecomment-706496851,,Here it works. Can someone else confirm that its compile (or not)?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1363,2020-10-09T14:48:38Z,2020-10-12T15:53:09Z,2020-10-12T15:53:09Z,CLOSED,False,13,12,1,https://github.com/fat-fred,Ffmpeg fix,5,[],https://github.com/tvheadend/tvheadend/pull/1363,https://github.com/jkellerer,6,https://github.com/tvheadend/tvheadend/pull/1363#issuecomment-706511414,,It also works for me with the adjusted patch. Can compile (including vaapi) and transcode with HW support. Everything else works also (my build env & options are exactly the same as before the update of ffmpeg).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1363,2020-10-09T14:48:38Z,2020-10-12T15:53:09Z,2020-10-12T15:53:09Z,CLOSED,False,13,12,1,https://github.com/fat-fred,Ffmpeg fix,5,[],https://github.com/tvheadend/tvheadend/pull/1363,https://github.com/CvH,7,https://github.com/tvheadend/tvheadend/pull/1363#issuecomment-706560425,,"@jkellerer Can compile (including vaapi) and transcode with HW support. can you try compile without the patch ? that patch is not required for vaapi encoding so nobody really knows what this patch does at all.
If a patch is not required and nobody knows for what that patch is doing at all the patch should be dropped instead of forward ported without any testing.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1363,2020-10-09T14:48:38Z,2020-10-12T15:53:09Z,2020-10-12T15:53:09Z,CLOSED,False,13,12,1,https://github.com/fat-fred,Ffmpeg fix,5,[],https://github.com/tvheadend/tvheadend/pull/1363,https://github.com/fat-fred,8,https://github.com/tvheadend/tvheadend/pull/1363#issuecomment-706581300,,"i looked into it. All other encoders have this patch integrated. Only vaapi have it not.
and i found here the patch: https://patchwork.ffmpeg.org/project/ffmpeg/patch/1595763675-1857-5-git-send-email-mypopydev@gmail.com/
it is from July
Perhaps it will any time integrated - but until then we should keep it.",True,{'THUMBS_UP': ['https://github.com/jkellerer']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1363,2020-10-09T14:48:38Z,2020-10-12T15:53:09Z,2020-10-12T15:53:09Z,CLOSED,False,13,12,1,https://github.com/fat-fred,Ffmpeg fix,5,[],https://github.com/tvheadend/tvheadend/pull/1363,https://github.com/Flole998,9,https://github.com/tvheadend/tvheadend/pull/1363#issuecomment-706582028,,"Totally agree that it should stay in. If you figure out what it's for, why it was needed and why it's no longer needed you can propose a removal, until then it will stay in. If we start removing or changing code without understanding it sooner or later something important might be affected.
Please squash your commits together, then I can merge them :) Thank you very much for your effort!",True,{'THUMBS_UP': ['https://github.com/jkellerer']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1363,2020-10-09T14:48:38Z,2020-10-12T15:53:09Z,2020-10-12T15:53:09Z,CLOSED,False,13,12,1,https://github.com/fat-fred,Ffmpeg fix,5,[],https://github.com/tvheadend/tvheadend/pull/1363,https://github.com/jkellerer,10,https://github.com/tvheadend/tvheadend/pull/1363#issuecomment-706597698,,"Btw. if you look at what the patch does, it tells the caller what type of frame an encoded frame is. I'm not familiar with the streaming code in TVH, however when you stream in ""http"" you may end up with a full stream buffer when the client cannot keep up. In this case you must skip frames, but you can do this only with full frames (hence you need to know the frame type).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1364,2020-10-10T18:57:59Z,2020-10-10T19:24:59Z,2020-10-10T19:25:10Z,CLOSED,False,14,13,1,https://github.com/fat-fred,fix vaapi,1,[],https://github.com/tvheadend/tvheadend/pull/1364,https://github.com/fat-fred,1,https://github.com/tvheadend/tvheadend/pull/1364,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1365,2020-10-10T19:32:50Z,2020-10-12T10:32:28Z,2020-10-12T10:32:28Z,MERGED,True,8,7,1,https://github.com/fat-fred,Fix vaapi patch,1,[],https://github.com/tvheadend/tvheadend/pull/1365,https://github.com/fat-fred,1,https://github.com/tvheadend/tvheadend/pull/1365,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1366,2020-10-13T05:33:11Z,2020-12-29T18:04:14Z,2020-12-31T08:07:33Z,MERGED,True,3,4,2,https://github.com/fat-fred,fix vaapi-profiles,4,[],https://github.com/tvheadend/tvheadend/pull/1366,https://github.com/fat-fred,1,https://github.com/tvheadend/tvheadend/pull/1366,"remove ""Baseline"" h264 Profil (not exist)


include ""Main10"" and ""Rext"" in hevc Profiles","remove ""Baseline"" h264 Profil (not exist)


include ""Main10"" and ""Rext"" in hevc Profiles",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1366,2020-10-13T05:33:11Z,2020-12-29T18:04:14Z,2020-12-31T08:07:33Z,MERGED,True,3,4,2,https://github.com/fat-fred,fix vaapi-profiles,4,[],https://github.com/tvheadend/tvheadend/pull/1366,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/1366#issuecomment-707792312,"remove ""Baseline"" h264 Profil (not exist)


include ""Main10"" and ""Rext"" in hevc Profiles","remove ""Main"" h264 Profil (not exist)
but you remove
{ FF_PROFILE_H264_BASELINE,             ""Baseline"" },
wrong commit message or removed wrong line ? :)",True,{'THUMBS_UP': ['https://github.com/fat-fred']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1366,2020-10-13T05:33:11Z,2020-12-29T18:04:14Z,2020-12-31T08:07:33Z,MERGED,True,3,4,2,https://github.com/fat-fred,fix vaapi-profiles,4,[],https://github.com/tvheadend/tvheadend/pull/1366,https://github.com/fat-fred,3,https://github.com/tvheadend/tvheadend/pull/1366#issuecomment-707809907,"remove ""Baseline"" h264 Profil (not exist)


include ""Main10"" and ""Rext"" in hevc Profiles","Oh sorry. Wrong Message.
Only Constraind baseline exist no Baseline",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1366,2020-10-13T05:33:11Z,2020-12-29T18:04:14Z,2020-12-31T08:07:33Z,MERGED,True,3,4,2,https://github.com/fat-fred,fix vaapi-profiles,4,[],https://github.com/tvheadend/tvheadend/pull/1366,https://github.com/Saentist,4,https://github.com/tvheadend/tvheadend/pull/1366#issuecomment-707941332,"remove ""Baseline"" h264 Profil (not exist)


include ""Main10"" and ""Rext"" in hevc Profiles","@fat-fred
Is it possible to add levels limitation, to improve STB's and some Android box support?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1366,2020-10-13T05:33:11Z,2020-12-29T18:04:14Z,2020-12-31T08:07:33Z,MERGED,True,3,4,2,https://github.com/fat-fred,fix vaapi-profiles,4,[],https://github.com/tvheadend/tvheadend/pull/1366,https://github.com/Flole998,5,https://github.com/tvheadend/tvheadend/pull/1366#issuecomment-708008052,"remove ""Baseline"" h264 Profil (not exist)


include ""Main10"" and ""Rext"" in hevc Profiles","Is there any reason why it's commented out and not removed? If it's really non-existent it should be removed, there's no point in keeping it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1366,2020-10-13T05:33:11Z,2020-12-29T18:04:14Z,2020-12-31T08:07:33Z,MERGED,True,3,4,2,https://github.com/fat-fred,fix vaapi-profiles,4,[],https://github.com/tvheadend/tvheadend/pull/1366,https://github.com/fat-fred,6,https://github.com/tvheadend/tvheadend/pull/1366#issuecomment-708037420,"remove ""Baseline"" h264 Profil (not exist)


include ""Main10"" and ""Rext"" in hevc Profiles","@Flole998 yes. You are right. Will Remote it Complete.
@Saentist will have a Look in it.",True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1366,2020-10-13T05:33:11Z,2020-12-29T18:04:14Z,2020-12-31T08:07:33Z,MERGED,True,3,4,2,https://github.com/fat-fred,fix vaapi-profiles,4,[],https://github.com/tvheadend/tvheadend/pull/1366,https://github.com/Flole998,7,https://github.com/tvheadend/tvheadend/pull/1366#issuecomment-713673260,"remove ""Baseline"" h264 Profil (not exist)


include ""Main10"" and ""Rext"" in hevc Profiles",If you could squash your commits together I will merge it :) Thank you very much for your contribution.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1367,2020-10-15T20:19:34Z,2020-10-21T15:46:57Z,2020-10-21T15:46:57Z,MERGED,True,41,0,2,https://github.com/NotCommonUser,Adding Polish scraper for DVBC,1,[],https://github.com/tvheadend/tvheadend/pull/1367,https://github.com/NotCommonUser,1,https://github.com/tvheadend/tvheadend/pull/1367,This add season/episode regexes for Polish DVB-C network run  by UPC,This add season/episode regexes for Polish DVB-C network run  by UPC,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1368,2020-10-27T01:18:44Z,2020-10-27T01:20:51Z,2021-02-20T20:57:40Z,MERGED,True,13,0,2,https://github.com/Flole998,Silcence x265 warnings,2,[],https://github.com/tvheadend/tvheadend/pull/1368,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1368,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1368,2020-10-27T01:18:44Z,2020-10-27T01:20:51Z,2021-02-20T20:57:40Z,MERGED,True,13,0,2,https://github.com/Flole998,Silcence x265 warnings,2,[],https://github.com/tvheadend/tvheadend/pull/1368,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/1368#issuecomment-717046263,,"@Flole998 could you pls name your commits according to what they do (like the PR description)?
Browsing at the commit history and seeing Add patch to Makefile or Add patch is rather useless.",True,{'THUMBS_UP': ['https://github.com/BKPepe']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1368,2020-10-27T01:18:44Z,2020-10-27T01:20:51Z,2021-02-20T20:57:40Z,MERGED,True,13,0,2,https://github.com/Flole998,Silcence x265 warnings,2,[],https://github.com/tvheadend/tvheadend/pull/1368,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1368#issuecomment-717130048,,"@CvH That's why it got squashed together and is now named ""Silence x265 warnings""",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1368,2020-10-27T01:18:44Z,2020-10-27T01:20:51Z,2021-02-20T20:57:40Z,MERGED,True,13,0,2,https://github.com/Flole998,Silcence x265 warnings,2,[],https://github.com/tvheadend/tvheadend/pull/1368,https://github.com/CvH,4,https://github.com/tvheadend/tvheadend/pull/1368#issuecomment-717147978,,"just for clarification, you merged it and after merging you squashed it at master, then force pushed master?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1368,2020-10-27T01:18:44Z,2020-10-27T01:20:51Z,2021-02-20T20:57:40Z,MERGED,True,13,0,2,https://github.com/Flole998,Silcence x265 warnings,2,[],https://github.com/tvheadend/tvheadend/pull/1368,https://github.com/Flole998,5,https://github.com/tvheadend/tvheadend/pull/1368#issuecomment-717220098,,"No, I made a pull request and used the ""squash and merge"" option to make it a single commit in master and give it a meaningful name. Otherwise I could have committed directly without making a PR.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1369,2020-10-27T06:56:41Z,2020-10-28T13:25:44Z,2020-10-28T13:25:44Z,MERGED,True,1,1,1,https://github.com/fat-fred,Changed shebang of tvhmeta to python,1,[],https://github.com/tvheadend/tvheadend/pull/1369,https://github.com/fat-fred,1,https://github.com/tvheadend/tvheadend/pull/1369,So it should support python 2 and 3,So it should support python 2 and 3,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1369,2020-10-27T06:56:41Z,2020-10-28T13:25:44Z,2020-10-28T13:25:44Z,MERGED,True,1,1,1,https://github.com/fat-fred,Changed shebang of tvhmeta to python,1,[],https://github.com/tvheadend/tvheadend/pull/1369,https://github.com/CvH,2,https://github.com/tvheadend/tvheadend/pull/1369#issuecomment-717046896,So it should support python 2 and 3,does tvhmeta actually work with py3 ?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1369,2020-10-27T06:56:41Z,2020-10-28T13:25:44Z,2020-10-28T13:25:44Z,MERGED,True,1,1,1,https://github.com/fat-fred,Changed shebang of tvhmeta to python,1,[],https://github.com/tvheadend/tvheadend/pull/1369,https://github.com/fat-fred,3,https://github.com/tvheadend/tvheadend/pull/1369#issuecomment-717110401,So it should support python 2 and 3,In my System (focal/docker) it  works with python 3,True,{'THUMBS_UP': ['https://github.com/CvH']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1370,2020-10-27T13:31:52Z,2020-11-22T13:18:51Z,2021-02-20T20:57:39Z,CLOSED,False,2,2,1,https://github.com/Flole998,Fix wrong suffix in x265-silcence-patch,1,[],https://github.com/tvheadend/tvheadend/pull/1370,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1370,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1371,2020-10-27T20:27:06Z,2020-10-28T13:25:16Z,2020-10-28T13:25:17Z,MERGED,True,1,1,1,https://github.com/dave-p,Correct environment variable name.,1,[],https://github.com/tvheadend/tvheadend/pull/1371,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1371,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1372,2020-11-03T09:14:05Z,2020-11-14T15:44:54Z,2020-11-14T15:44:54Z,MERGED,True,1,1,1,https://github.com/cykedev,"in python 3, dict.has_key() has been removed",1,[],https://github.com/tvheadend/tvheadend/pull/1372,https://github.com/cykedev,1,https://github.com/tvheadend/tvheadend/pull/1372,"Ased in operator instead.
Also, added check for empty string.
Signed-off-by: Christian Eiden christian@eiden.ch","Ased in operator instead.
Also, added check for empty string.
Signed-off-by: Christian Eiden christian@eiden.ch",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1373,2020-11-03T14:05:18Z,2020-12-06T14:01:27Z,2020-12-06T14:01:27Z,MERGED,True,0,1,1,https://github.com/danielcbit,Remove libva-x11 dependency,1,[],https://github.com/tvheadend/tvheadend/pull/1373,https://github.com/danielcbit,1,https://github.com/tvheadend/tvheadend/pull/1373,"This change removes the dependency for the libva-x11 from the tvheadend build.
The libva-x11 library can cause issue when running TvHeadend in a headless server and the installation of several unnecessary packages. Running headless is the major use case for TvHeadend.","This change removes the dependency for the libva-x11 from the tvheadend build.
The libva-x11 library can cause issue when running TvHeadend in a headless server and the installation of several unnecessary packages. Running headless is the major use case for TvHeadend.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1373,2020-11-03T14:05:18Z,2020-12-06T14:01:27Z,2020-12-06T14:01:27Z,MERGED,True,0,1,1,https://github.com/danielcbit,Remove libva-x11 dependency,1,[],https://github.com/tvheadend/tvheadend/pull/1373,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1373#issuecomment-721208160,"This change removes the dependency for the libva-x11 from the tvheadend build.
The libva-x11 library can cause issue when running TvHeadend in a headless server and the installation of several unnecessary packages. Running headless is the major use case for TvHeadend.",+1 libva-X11 is a pain,True,"{'THUMBS_UP': ['https://github.com/Saentist', 'https://github.com/Trujulu']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1373,2020-11-03T14:05:18Z,2020-12-06T14:01:27Z,2020-12-06T14:01:27Z,MERGED,True,0,1,1,https://github.com/danielcbit,Remove libva-x11 dependency,1,[],https://github.com/tvheadend/tvheadend/pull/1373,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1373#issuecomment-727141100,"This change removes the dependency for the libva-x11 from the tvheadend build.
The libva-x11 library can cause issue when running TvHeadend in a headless server and the installation of several unnecessary packages. Running headless is the major use case for TvHeadend.",Does vaapi-hardware-acceleration still work with this removed? Any idea why it might have been added?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1373,2020-11-03T14:05:18Z,2020-12-06T14:01:27Z,2020-12-06T14:01:27Z,MERGED,True,0,1,1,https://github.com/danielcbit,Remove libva-x11 dependency,1,[],https://github.com/tvheadend/tvheadend/pull/1373,https://github.com/danielcbit,4,https://github.com/tvheadend/tvheadend/pull/1373#issuecomment-731765098,"This change removes the dependency for the libva-x11 from the tvheadend build.
The libva-x11 library can cause issue when running TvHeadend in a headless server and the installation of several unnecessary packages. Running headless is the major use case for TvHeadend.","I have been using TvHeadend without this dependency for a couple of years and decided to submit my patch now. intel_gpu_top shows usage just fine while transcoding a live streaming.
From my understanding, the libva-x11 is used for applications running on top of x11 so they can get access to VDPAU. I run tvheadend headless and installing this lib would require me to use the entire X.org as a dependency, which I wanted to avoid.
Please see the image attached:",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1374,2020-11-04T13:30:08Z,2022-03-31T09:57:09Z,2022-03-31T09:57:09Z,CLOSED,False,3,9,1,https://github.com/dave-p,Remove RFC8216 tags from playlist/recordings output,1,[],https://github.com/tvheadend/tvheadend/pull/1374,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1374,"Also exclude recordings where file is not found.
Fixes https://tvheadend.org/issues/5970 and https://tvheadend.org/boards/5/topics/42839","Also exclude recordings where file is not found.
Fixes https://tvheadend.org/issues/5970 and https://tvheadend.org/boards/5/topics/42839",True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1375,2020-11-14T00:12:56Z,2020-11-14T15:42:09Z,2020-11-17T00:14:16Z,CLOSED,False,1,1,1,https://github.com/hoshsadiq,Update STAT_ARG to use -c instead of --printf,1,[],https://github.com/tvheadend/tvheadend/pull/1375,https://github.com/hoshsadiq,1,https://github.com/tvheadend/tvheadend/pull/1375,"--printf only works with the stat provided by coreutils. -c is more portable and works with busybox. When running make in busybox, stat will fail with the error:
/bin/stat: unrecognized option: printf=%-35n %7s\n
BusyBox v1.31.1 () multi-call binary.

Usage: stat [OPTIONS] FILE...","--printf only works with the stat provided by coreutils. -c is more portable and works with busybox. When running make in busybox, stat will fail with the error:
/bin/stat: unrecognized option: printf=%-35n %7s\n
BusyBox v1.31.1 () multi-call binary.

Usage: stat [OPTIONS] FILE...",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1375,2020-11-14T00:12:56Z,2020-11-14T15:42:09Z,2020-11-17T00:14:16Z,CLOSED,False,1,1,1,https://github.com/hoshsadiq,Update STAT_ARG to use -c instead of --printf,1,[],https://github.com/tvheadend/tvheadend/pull/1375,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1375#issuecomment-727225142,"--printf only works with the stat provided by coreutils. -c is more portable and works with busybox. When running make in busybox, stat will fail with the error:
/bin/stat: unrecognized option: printf=%-35n %7s\n
BusyBox v1.31.1 () multi-call binary.

Usage: stat [OPTIONS] FILE...",Please read the man page and do some manual tests to understand the difference between these options.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1375,2020-11-14T00:12:56Z,2020-11-14T15:42:09Z,2020-11-17T00:14:16Z,CLOSED,False,1,1,1,https://github.com/hoshsadiq,Update STAT_ARG to use -c instead of --printf,1,[],https://github.com/tvheadend/tvheadend/pull/1375,https://github.com/hoshsadiq,3,https://github.com/tvheadend/tvheadend/pull/1375#issuecomment-728342480,"--printf only works with the stat provided by coreutils. -c is more portable and works with busybox. When running make in busybox, stat will fail with the error:
/bin/stat: unrecognized option: printf=%-35n %7s\n
BusyBox v1.31.1 () multi-call binary.

Usage: stat [OPTIONS] FILE...","@Flole998 I'm a little confused, the only thing I missed was that --printf has a \n at the end. I did test it and it seemed to work fine (ran it etc and inputs, and streamed said inputs too). What else am I missing that warrants this to be closed instead of providing feedback so I can update the PR?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1375,2020-11-14T00:12:56Z,2020-11-14T15:42:09Z,2020-11-17T00:14:16Z,CLOSED,False,1,1,1,https://github.com/hoshsadiq,Update STAT_ARG to use -c instead of --printf,1,[],https://github.com/tvheadend/tvheadend/pull/1375,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1375#issuecomment-728475694,"--printf only works with the stat provided by coreutils. -c is more portable and works with busybox. When running make in busybox, stat will fail with the error:
/bin/stat: unrecognized option: printf=%-35n %7s\n
BusyBox v1.31.1 () multi-call binary.

Usage: stat [OPTIONS] FILE...","The -c option does not honor backslash escapes. So you are printing literally \n at the end and not a new line. That should be noticed during simple testing, so I had the impression that this is entirely untested. Feel free to open a new PR if you found a better way that offers an equivalent output (convert the output to hex and diff it to check that), there's no point in updating a single-line edit PR and then squashing it together, it's easier to just open a new one. But if you want to do edit it please let me know and I will reopen it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1376,2020-11-27T22:02:10Z,2020-11-27T22:33:52Z,2020-11-27T22:33:55Z,MERGED,True,1,1,1,https://github.com/timgates42,"docs: fix simple typo, seperately -> separately",1,[],https://github.com/tvheadend/tvheadend/pull/1376,https://github.com/timgates42,1,https://github.com/tvheadend/tvheadend/pull/1376,"There is a small typo in src/descrambler/capmt.c.
Should read separately rather than seperately.","There is a small typo in src/descrambler/capmt.c.
Should read separately rather than seperately.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1376,2020-11-27T22:02:10Z,2020-11-27T22:33:52Z,2020-11-27T22:33:55Z,MERGED,True,1,1,1,https://github.com/timgates42,"docs: fix simple typo, seperately -> separately",1,[],https://github.com/tvheadend/tvheadend/pull/1376,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1376#issuecomment-735003666,"There is a small typo in src/descrambler/capmt.c.
Should read separately rather than seperately.",Thanks!,True,{'THUMBS_UP': ['https://github.com/timgates42']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1377,2020-12-09T09:37:13Z,2020-12-29T18:02:53Z,2020-12-29T18:02:53Z,MERGED,True,49,2,7,https://github.com/dkgeorge,Added ISDB-T SATIP Support,1,[],https://github.com/tvheadend/tvheadend/pull/1377,https://github.com/dkgeorge,1,https://github.com/tvheadend/tvheadend/pull/1377,Added ISDB-T SATIP Support to client and server side. Tested working with networks in Brazil.,Added ISDB-T SATIP Support to client and server side. Tested working with networks in Brazil.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1378,2020-12-09T15:09:50Z,2020-12-29T19:55:12Z,2020-12-29T19:55:12Z,MERGED,True,17,0,3,https://github.com/danielcbit,Add ISDB-T support to HDHomeRun client,1,[],https://github.com/tvheadend/tvheadend/pull/1378,https://github.com/danielcbit,1,https://github.com/tvheadend/tvheadend/pull/1378,Adding support to the HDHomeRun client for HDHomeRub device HDHR4-2IS which is compatible with ISDB-T standard used in Brazil and other countries.,Adding support to the HDHomeRun client for HDHomeRub device HDHR4-2IS which is compatible with ISDB-T standard used in Brazil and other countries.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1378,2020-12-09T15:09:50Z,2020-12-29T19:55:12Z,2020-12-29T19:55:12Z,MERGED,True,17,0,3,https://github.com/danielcbit,Add ISDB-T support to HDHomeRun client,1,[],https://github.com/tvheadend/tvheadend/pull/1378,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1378#issuecomment-752185382,Adding support to the HDHomeRun client for HDHomeRub device HDHR4-2IS which is compatible with ISDB-T standard used in Brazil and other countries.,"Once the missing space is added this can be merged. Sorry, I would have added it myself but I'm not at a computer at the moment.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1379,2020-12-16T12:01:24Z,2020-12-16T12:40:09Z,2020-12-16T13:46:14Z,MERGED,True,1,1,1,https://github.com/codesnake,Fix possible deadlock when using tvh_mutex_trylock(),1,[],https://github.com/tvheadend/tvheadend/pull/1379,https://github.com/codesnake,1,https://github.com/tvheadend/tvheadend/pull/1379,"Fixes possible deadlock when using tvh_mutex_trylock() macro in thread non-debug mode.
The macro expands to call pthread_mutex_lock() instead of pthread_mutex_trylock(),
which most likely is a result of copy/paste.","Fixes possible deadlock when using tvh_mutex_trylock() macro in thread non-debug mode.
The macro expands to call pthread_mutex_lock() instead of pthread_mutex_trylock(),
which most likely is a result of copy/paste.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1379,2020-12-16T12:01:24Z,2020-12-16T12:40:09Z,2020-12-16T13:46:14Z,MERGED,True,1,1,1,https://github.com/codesnake,Fix possible deadlock when using tvh_mutex_trylock(),1,[],https://github.com/tvheadend/tvheadend/pull/1379,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1379#issuecomment-746229841,"Fixes possible deadlock when using tvh_mutex_trylock() macro in thread non-debug mode.
The macro expands to call pthread_mutex_lock() instead of pthread_mutex_trylock(),
which most likely is a result of copy/paste.",Thank you very much for your contribution!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1380,2020-12-20T11:08:49Z,2020-12-29T17:56:07Z,2020-12-29T17:56:08Z,MERGED,True,2,2,1,https://github.com/ekuester,Upgrade to libhdhomerun_20200907,1,[],https://github.com/tvheadend/tvheadend/pull/1380,https://github.com/ekuester,1,https://github.com/tvheadend/tvheadend/pull/1380,"There is a new version of libhdhomerun on the home page (also available under Fedora 32, 33)","There is a new version of libhdhomerun on the home page (also available under Fedora 32, 33)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1380,2020-12-20T11:08:49Z,2020-12-29T17:56:07Z,2020-12-29T17:56:08Z,MERGED,True,2,2,1,https://github.com/ekuester,Upgrade to libhdhomerun_20200907,1,[],https://github.com/tvheadend/tvheadend/pull/1380,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1380#issuecomment-748685554,"There is a new version of libhdhomerun on the home page (also available under Fedora 32, 33)","Is it possible to add DVB-C both with DVB-T support for DT models?
As seen on hdhomerun last fw these devices also support DVB-C now:

HDHR5-2DT/4DT: add DVB-C support.

Check: src/input/mpegts/tvhdhomerun/tvhdhomerun.c#L337",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1380,2020-12-20T11:08:49Z,2020-12-29T17:56:07Z,2020-12-29T17:56:08Z,MERGED,True,2,2,1,https://github.com/ekuester,Upgrade to libhdhomerun_20200907,1,[],https://github.com/tvheadend/tvheadend/pull/1380,https://github.com/ekuester,3,https://github.com/tvheadend/tvheadend/pull/1380#issuecomment-748857033,"There is a new version of libhdhomerun on the home page (also available under Fedora 32, 33)","@Trujulu Sorry, out of my knowlegde ... I am using tvheadend only for decoding DVB-T2 public service broadcasting here in Germany.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1381,2021-02-08T18:11:24Z,,2021-03-17T00:07:32Z,OPEN,False,2,2,1,https://github.com/djlucas123456,corect M3U playlist Logo tag,2,[],https://github.com/tvheadend/tvheadend/pull/1381,https://github.com/djlucas123456,1,https://github.com/tvheadend/tvheadend/pull/1381,corect M3U playlist Logo tag,corect M3U playlist Logo tag,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1381,2021-02-08T18:11:24Z,,2021-03-17T00:07:32Z,OPEN,False,2,2,1,https://github.com/djlucas123456,corect M3U playlist Logo tag,2,[],https://github.com/tvheadend/tvheadend/pull/1381,https://github.com/Saentist,2,https://github.com/tvheadend/tvheadend/pull/1381#issuecomment-775796022,corect M3U playlist Logo tag,Isn't there must be do same for importing playlist?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1381,2021-02-08T18:11:24Z,,2021-03-17T00:07:32Z,OPEN,False,2,2,1,https://github.com/djlucas123456,corect M3U playlist Logo tag,2,[],https://github.com/tvheadend/tvheadend/pull/1381,https://github.com/djlucas123456,3,https://github.com/tvheadend/tvheadend/pull/1381#issuecomment-778665203,corect M3U playlist Logo tag,"Isn't there must be do same for importing playlist?

I think it doesn't matter if it's for an imported playlist. this is a correct tag",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1381,2021-02-08T18:11:24Z,,2021-03-17T00:07:32Z,OPEN,False,2,2,1,https://github.com/djlucas123456,corect M3U playlist Logo tag,2,[],https://github.com/tvheadend/tvheadend/pull/1381,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1381#issuecomment-787209990,corect M3U playlist Logo tag,@Saentist The import playlist code already recognizes both tags,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1381,2021-02-08T18:11:24Z,,2021-03-17T00:07:32Z,OPEN,False,2,2,1,https://github.com/djlucas123456,corect M3U playlist Logo tag,2,[],https://github.com/tvheadend/tvheadend/pull/1381,https://github.com/djlucas123456,5,https://github.com/tvheadend/tvheadend/pull/1381#issuecomment-798963668,corect M3U playlist Logo tag,"Is there any reason why you didn't change it in line 517 aswell?

oops .. I didn't notice. added. :-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1381,2021-02-08T18:11:24Z,,2021-03-17T00:07:32Z,OPEN,False,2,2,1,https://github.com/djlucas123456,corect M3U playlist Logo tag,2,[],https://github.com/tvheadend/tvheadend/pull/1381,https://github.com/Flole998,6,https://github.com/tvheadend/tvheadend/pull/1381#issuecomment-800694860,corect M3U playlist Logo tag,Can you squash your commits together please?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1382,2021-02-18T00:12:49Z,2021-02-18T00:13:01Z,2021-02-18T00:13:03Z,MERGED,True,6,5,2,https://github.com/Flole998,Fix uninitialized memory access for several ioctl commands,2,[],https://github.com/tvheadend/tvheadend/pull/1382,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1382,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1383,2021-02-18T14:03:22Z,2021-02-18T14:03:38Z,2021-02-19T02:54:04Z,MERGED,True,14,3,7,https://github.com/Flole998,Fix several issues discovered by coverity,1,[],https://github.com/tvheadend/tvheadend/pull/1383,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1383,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1384,2021-02-18T15:49:23Z,2021-02-18T15:49:31Z,2021-02-18T21:18:32Z,MERGED,True,42,11,14,https://github.com/Flole998,Fix more issues discovered by coverity,2,[],https://github.com/tvheadend/tvheadend/pull/1384,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1384,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1385,2021-02-18T21:22:19Z,2021-02-18T21:24:02Z,2021-02-18T21:24:02Z,MERGED,True,8,7,5,https://github.com/Flole998,Fix more issues identified by coverity,4,[],https://github.com/tvheadend/tvheadend/pull/1385,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1385,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1386,2021-02-20T14:36:19Z,2021-02-20T14:36:56Z,2021-02-20T14:36:56Z,MERGED,True,54,10,9,https://github.com/Flole998,Several enhancements,8,[],https://github.com/tvheadend/tvheadend/pull/1386,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1386,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1387,2021-02-20T20:19:24Z,2021-02-20T20:19:37Z,2021-02-20T20:19:37Z,MERGED,True,72,15,10,https://github.com/Flole998,Rewrite scanfile.c for dynamic memory allocation ,9,[],https://github.com/tvheadend/tvheadend/pull/1387,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1387,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1388,2021-02-21T01:20:32Z,2021-02-21T01:22:52Z,2021-02-21T01:22:52Z,MERGED,True,90,24,15,https://github.com/Flole998,More fixes from coverity,10,[],https://github.com/tvheadend/tvheadend/pull/1388,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1388,,,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1389,2021-02-24T09:46:42Z,2021-02-24T10:54:16Z,2021-02-24T10:55:27Z,CLOSED,False,1,2,1,https://github.com/nic-k,EMM patch,2,[],https://github.com/tvheadend/tvheadend/pull/1389,https://github.com/nic-k,1,https://github.com/tvheadend/tvheadend/pull/1389,"EMM patch, TVheadend stopped sending shared EMM's to OScam.
I believe this commit broke in it. 6ea7c38
After changing back OScam started to receive shared EMM's again.","EMM patch, TVheadend stopped sending shared EMM's to OScam.
I believe this commit broke in it. 6ea7c38
After changing back OScam started to receive shared EMM's again.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1389,2021-02-24T09:46:42Z,2021-02-24T10:54:16Z,2021-02-24T10:55:27Z,CLOSED,False,1,2,1,https://github.com/nic-k,EMM patch,2,[],https://github.com/tvheadend/tvheadend/pull/1389,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1389#issuecomment-784951985,"EMM patch, TVheadend stopped sending shared EMM's to OScam.
I believe this commit broke in it. 6ea7c38
After changing back OScam started to receive shared EMM's again.","If it's tested now - you can remove the XXX comment, too.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1389,2021-02-24T09:46:42Z,2021-02-24T10:54:16Z,2021-02-24T10:55:27Z,CLOSED,False,1,2,1,https://github.com/nic-k,EMM patch,2,[],https://github.com/tvheadend/tvheadend/pull/1389,https://github.com/nic-k,3,https://github.com/tvheadend/tvheadend/pull/1389#issuecomment-784958207,"EMM patch, TVheadend stopped sending shared EMM's to OScam.
I believe this commit broke in it. 6ea7c38
After changing back OScam started to receive shared EMM's again.","Making pulls on GIT is new for me, hope I did everything ok.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1389,2021-02-24T09:46:42Z,2021-02-24T10:54:16Z,2021-02-24T10:55:27Z,CLOSED,False,1,2,1,https://github.com/nic-k,EMM patch,2,[],https://github.com/tvheadend/tvheadend/pull/1389,https://github.com/perexg,4,https://github.com/tvheadend/tvheadend/pull/1389#issuecomment-784959972,"EMM patch, TVheadend stopped sending shared EMM's to OScam.
I believe this commit broke in it. 6ea7c38
After changing back OScam started to receive shared EMM's again.",Could you merge your two changes to one commit? Use '-f' (force) switch to push your new commit to your branch. Thank you.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1389,2021-02-24T09:46:42Z,2021-02-24T10:54:16Z,2021-02-24T10:55:27Z,CLOSED,False,1,2,1,https://github.com/nic-k,EMM patch,2,[],https://github.com/tvheadend/tvheadend/pull/1389,https://github.com/nic-k,5,https://github.com/tvheadend/tvheadend/pull/1389#issuecomment-784979723,"EMM patch, TVheadend stopped sending shared EMM's to OScam.
I believe this commit broke in it. 6ea7c38
After changing back OScam started to receive shared EMM's again.","I will try, have to understand and learn GIT better anyway :) Have to de a bit of reading and googling, GIT is a bit overwhelming and new for me ;)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1389,2021-02-24T09:46:42Z,2021-02-24T10:54:16Z,2021-02-24T10:55:27Z,CLOSED,False,1,2,1,https://github.com/nic-k,EMM patch,2,[],https://github.com/tvheadend/tvheadend/pull/1389,https://github.com/nic-k,6,https://github.com/tvheadend/tvheadend/pull/1389#issuecomment-784990922,"EMM patch, TVheadend stopped sending shared EMM's to OScam.
I believe this commit broke in it. 6ea7c38
After changing back OScam started to receive shared EMM's again.",In fear of messing things up I have made a new branch and did a single commit. I will make a new pull request and close this one.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1390,2021-02-24T10:54:46Z,2021-02-24T10:56:40Z,2021-02-24T23:25:41Z,MERGED,True,1,2,1,https://github.com/nic-k,EMM patch,1,[],https://github.com/tvheadend/tvheadend/pull/1390,https://github.com/nic-k,1,https://github.com/tvheadend/tvheadend/pull/1390,"EMM patch, TVheadend stopped sending shared EMM's to OScam.
I believe this commit broke it. 6ea7c38
After changing back OScam started to receive shared EMM's again.
Tested on dvb-c provider nl-Delta.","EMM patch, TVheadend stopped sending shared EMM's to OScam.
I believe this commit broke it. 6ea7c38
After changing back OScam started to receive shared EMM's again.
Tested on dvb-c provider nl-Delta.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1391,2021-03-01T02:36:51Z,,2021-10-22T10:39:20Z,OPEN,False,17,26,1,https://github.com/Flole998,Clean transcoding when htsp based transcoding is used,2,[],https://github.com/tvheadend/tvheadend/pull/1391,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1391,"@perexg There was an issue when HTSP clients like kodi used a transcoding profile (especially nvidia based profiles) so the transcoder was never cleaned up which caused more and more GPU memory to be used. This fixes it for me but I have absolutely no idea if this is a proper fix or if run should evaluate to true in this case and the cleanup code from above should be used instead. There is no profile sharer thread started in this case if I saw that correctly, so it should be correct that run evaluates to 0 but it could be that a profile sharer thread should be started in this case. Really not sure about this and I would appreciate if you could look over this and approve this or reject this is this is not a proper fix (and I believe that this is not a proper fix).","@perexg There was an issue when HTSP clients like kodi used a transcoding profile (especially nvidia based profiles) so the transcoder was never cleaned up which caused more and more GPU memory to be used. This fixes it for me but I have absolutely no idea if this is a proper fix or if run should evaluate to true in this case and the cleanup code from above should be used instead. There is no profile sharer thread started in this case if I saw that correctly, so it should be correct that run evaluates to 0 but it could be that a profile sharer thread should be started in this case. Really not sure about this and I would appreciate if you could look over this and approve this or reject this is this is not a proper fix (and I believe that this is not a proper fix).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1391,2021-03-01T02:36:51Z,,2021-10-22T10:39:20Z,OPEN,False,17,26,1,https://github.com/Flole998,Clean transcoding when htsp based transcoding is used,2,[],https://github.com/tvheadend/tvheadend/pull/1391,https://github.com/pinkflozd,2,https://github.com/tvheadend/tvheadend/pull/1391#issuecomment-788318050,"@perexg There was an issue when HTSP clients like kodi used a transcoding profile (especially nvidia based profiles) so the transcoder was never cleaned up which caused more and more GPU memory to be used. This fixes it for me but I have absolutely no idea if this is a proper fix or if run should evaluate to true in this case and the cleanup code from above should be used instead. There is no profile sharer thread started in this case if I saw that correctly, so it should be correct that run evaluates to 0 but it could be that a profile sharer thread should be started in this case. Really not sure about this and I would appreciate if you could look over this and approve this or reject this is this is not a proper fix (and I believe that this is not a proper fix).","Helps with growing memory with vaapi encoding too, but tvheadend segfaults when a second user that watches the same channel stops playback",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1391,2021-03-01T02:36:51Z,,2021-10-22T10:39:20Z,OPEN,False,17,26,1,https://github.com/Flole998,Clean transcoding when htsp based transcoding is used,2,[],https://github.com/tvheadend/tvheadend/pull/1391,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1391#issuecomment-788325084,"@perexg There was an issue when HTSP clients like kodi used a transcoding profile (especially nvidia based profiles) so the transcoder was never cleaned up which caused more and more GPU memory to be used. This fixes it for me but I have absolutely no idea if this is a proper fix or if run should evaluate to true in this case and the cleanup code from above should be used instead. There is no profile sharer thread started in this case if I saw that correctly, so it should be correct that run evaluates to 0 but it could be that a profile sharer thread should be started in this case. Really not sure about this and I would appreciate if you could look over this and approve this or reject this is this is not a proper fix (and I believe that this is not a proper fix).",Then this is not the correct implementation as I already assumed....,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1391,2021-03-01T02:36:51Z,,2021-10-22T10:39:20Z,OPEN,False,17,26,1,https://github.com/Flole998,Clean transcoding when htsp based transcoding is used,2,[],https://github.com/tvheadend/tvheadend/pull/1391,https://github.com/Saentist,4,https://github.com/tvheadend/tvheadend/pull/1391#issuecomment-803667340,"@perexg There was an issue when HTSP clients like kodi used a transcoding profile (especially nvidia based profiles) so the transcoder was never cleaned up which caused more and more GPU memory to be used. This fixes it for me but I have absolutely no idea if this is a proper fix or if run should evaluate to true in this case and the cleanup code from above should be used instead. There is no profile sharer thread started in this case if I saw that correctly, so it should be correct that run evaluates to 0 but it could be that a profile sharer thread should be started in this case. Really not sure about this and I would appreciate if you could look over this and approve this or reject this is this is not a proper fix (and I believe that this is not a proper fix).","May be, because no one monitor session usage.
Session process must be keep alive until there is active client/s/ exist,
and terminated 2-5 sec after last leave.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1391,2021-03-01T02:36:51Z,,2021-10-22T10:39:20Z,OPEN,False,17,26,1,https://github.com/Flole998,Clean transcoding when htsp based transcoding is used,2,[],https://github.com/tvheadend/tvheadend/pull/1391,https://github.com/Flole998,5,https://github.com/tvheadend/tvheadend/pull/1391#issuecomment-823563052,"@perexg There was an issue when HTSP clients like kodi used a transcoding profile (especially nvidia based profiles) so the transcoder was never cleaned up which caused more and more GPU memory to be used. This fixes it for me but I have absolutely no idea if this is a proper fix or if run should evaluate to true in this case and the cleanup code from above should be used instead. There is no profile sharer thread started in this case if I saw that correctly, so it should be correct that run evaluates to 0 but it could be that a profile sharer thread should be started in this case. Really not sure about this and I would appreciate if you could look over this and approve this or reject this is this is not a proper fix (and I believe that this is not a proper fix).",A fix was provided at the Forum and I have updated this PR now to use that fix. Please check if this fix is better.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1391,2021-03-01T02:36:51Z,,2021-10-22T10:39:20Z,OPEN,False,17,26,1,https://github.com/Flole998,Clean transcoding when htsp based transcoding is used,2,[],https://github.com/tvheadend/tvheadend/pull/1391,https://github.com/pinkflozd,6,https://github.com/tvheadend/tvheadend/pull/1391#issuecomment-826281346,"@perexg There was an issue when HTSP clients like kodi used a transcoding profile (especially nvidia based profiles) so the transcoder was never cleaned up which caused more and more GPU memory to be used. This fixes it for me but I have absolutely no idea if this is a proper fix or if run should evaluate to true in this case and the cleanup code from above should be used instead. There is no profile sharer thread started in this case if I saw that correctly, so it should be correct that run evaluates to 0 but it could be that a profile sharer thread should be started in this case. Really not sure about this and I would appreciate if you could look over this and approve this or reject this is this is not a proper fix (and I believe that this is not a proper fix).","Confirming it fixed, no memory buildup with htsp+vaapi",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1391,2021-03-01T02:36:51Z,,2021-10-22T10:39:20Z,OPEN,False,17,26,1,https://github.com/Flole998,Clean transcoding when htsp based transcoding is used,2,[],https://github.com/tvheadend/tvheadend/pull/1391,https://github.com/susadmin,7,https://github.com/tvheadend/tvheadend/pull/1391#issuecomment-887617551,"@perexg There was an issue when HTSP clients like kodi used a transcoding profile (especially nvidia based profiles) so the transcoder was never cleaned up which caused more and more GPU memory to be used. This fixes it for me but I have absolutely no idea if this is a proper fix or if run should evaluate to true in this case and the cleanup code from above should be used instead. There is no profile sharer thread started in this case if I saw that correctly, so it should be correct that run evaluates to 0 but it could be that a profile sharer thread should be started in this case. Really not sure about this and I would appreciate if you could look over this and approve this or reject this is this is not a proper fix (and I believe that this is not a proper fix).",I would just like to add +1 vote for adding this fix to the master branch as this (expanding GPU memory usage) is still happening for me. I have to use the fix-htsp-transcode branch until it is included.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1391,2021-03-01T02:36:51Z,,2021-10-22T10:39:20Z,OPEN,False,17,26,1,https://github.com/Flole998,Clean transcoding when htsp based transcoding is used,2,[],https://github.com/tvheadend/tvheadend/pull/1391,https://github.com/Flole998,8,https://github.com/tvheadend/tvheadend/pull/1391#issuecomment-887625770,"@perexg There was an issue when HTSP clients like kodi used a transcoding profile (especially nvidia based profiles) so the transcoder was never cleaned up which caused more and more GPU memory to be used. This fixes it for me but I have absolutely no idea if this is a proper fix or if run should evaluate to true in this case and the cleanup code from above should be used instead. There is no profile sharer thread started in this case if I saw that correctly, so it should be correct that run evaluates to 0 but it could be that a profile sharer thread should be started in this case. Really not sure about this and I would appreciate if you could look over this and approve this or reject this is this is not a proper fix (and I believe that this is not a proper fix).","This fix is not correct yet though. There's a potential race condition in it, so that needs fixing first.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1391,2021-03-01T02:36:51Z,,2021-10-22T10:39:20Z,OPEN,False,17,26,1,https://github.com/Flole998,Clean transcoding when htsp based transcoding is used,2,[],https://github.com/tvheadend/tvheadend/pull/1391,https://github.com/susadmin,9,https://github.com/tvheadend/tvheadend/pull/1391#issuecomment-887630664,"@perexg There was an issue when HTSP clients like kodi used a transcoding profile (especially nvidia based profiles) so the transcoder was never cleaned up which caused more and more GPU memory to be used. This fixes it for me but I have absolutely no idea if this is a proper fix or if run should evaluate to true in this case and the cleanup code from above should be used instead. There is no profile sharer thread started in this case if I saw that correctly, so it should be correct that run evaluates to 0 but it could be that a profile sharer thread should be started in this case. Really not sure about this and I would appreciate if you could look over this and approve this or reject this is this is not a proper fix (and I believe that this is not a proper fix).",Ok thanks for the update and for all your hard work on this project.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1391,2021-03-01T02:36:51Z,,2021-10-22T10:39:20Z,OPEN,False,17,26,1,https://github.com/Flole998,Clean transcoding when htsp based transcoding is used,2,[],https://github.com/tvheadend/tvheadend/pull/1391,https://github.com/susadmin,10,https://github.com/tvheadend/tvheadend/pull/1391#issuecomment-949502670,"@perexg There was an issue when HTSP clients like kodi used a transcoding profile (especially nvidia based profiles) so the transcoder was never cleaned up which caused more and more GPU memory to be used. This fixes it for me but I have absolutely no idea if this is a proper fix or if run should evaluate to true in this case and the cleanup code from above should be used instead. There is no profile sharer thread started in this case if I saw that correctly, so it should be correct that run evaluates to 0 but it could be that a profile sharer thread should be started in this case. Really not sure about this and I would appreciate if you could look over this and approve this or reject this is this is not a proper fix (and I believe that this is not a proper fix).",Hi. Just wondered if this fix can be added to the master branch yet? It would be really great as the master branch has some important fixes since the fix-htsp-transcode branch I am currently using . Thanks,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1392,2021-03-15T19:13:10Z,2021-03-16T03:16:45Z,2021-03-16T03:16:45Z,MERGED,True,9,0,1,https://github.com/Trujulu,"Reset error counters for IPTV on start, issue #5760",1,[],https://github.com/tvheadend/tvheadend/pull/1392,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1392,https://tvheadend.org/issues/5760,https://tvheadend.org/issues/5760,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1393,2021-03-15T23:19:43Z,2021-03-16T03:16:18Z,2021-03-16T16:15:56Z,MERGED,True,39,46,7,https://github.com/spdfrk,remote timeshift: fix crash on multiple subscriptions and cleanup,1,[],https://github.com/tvheadend/tvheadend/pull/1393,https://github.com/spdfrk,1,https://github.com/tvheadend/tvheadend/pull/1393,"In case multiple users subscribe to a remote time shift channel the different code path would not initialize the service_t * sm_s properly and caused a segfault due to invalid pointer later in the code. Also I was able to revert the change from malloc to calloc, we need speed!
Furthermore the code was cleaned up slightly.
A limitation still is that all subscribers will look at the same source stream so remote time shifting will apply to all. A solution would be to spawn multiple instances of the same mux / service. Not sure how to handle this in tvheadend, it doesn't seem to be designed for this. Ideas are welcome!","In case multiple users subscribe to a remote time shift channel the different code path would not initialize the service_t * sm_s properly and caused a segfault due to invalid pointer later in the code. Also I was able to revert the change from malloc to calloc, we need speed!
Furthermore the code was cleaned up slightly.
A limitation still is that all subscribers will look at the same source stream so remote time shifting will apply to all. A solution would be to spawn multiple instances of the same mux / service. Not sure how to handle this in tvheadend, it doesn't seem to be designed for this. Ideas are welcome!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1393,2021-03-15T23:19:43Z,2021-03-16T03:16:18Z,2021-03-16T16:15:56Z,MERGED,True,39,46,7,https://github.com/spdfrk,remote timeshift: fix crash on multiple subscriptions and cleanup,1,[],https://github.com/tvheadend/tvheadend/pull/1393,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1393#issuecomment-799911381,"In case multiple users subscribe to a remote time shift channel the different code path would not initialize the service_t * sm_s properly and caused a segfault due to invalid pointer later in the code. Also I was able to revert the change from malloc to calloc, we need speed!
Furthermore the code was cleaned up slightly.
A limitation still is that all subscribers will look at the same source stream so remote time shifting will apply to all. A solution would be to spawn multiple instances of the same mux / service. Not sure how to handle this in tvheadend, it doesn't seem to be designed for this. Ideas are welcome!","A limitation still is that all subscribers will look at the same source stream so remote time shifting will apply to all. A solution would be to spawn multiple instances of the same mux / service. Not sure how to handle this in tvheadend, it doesn't seem to be designed for this. Ideas are welcome!

I guess that would be very difficult to do as you would need a second stream to start once the first one pauses/timeshifts.
I am note sure if this is a good idea or if we should disallow remote timeshift once there is more than one subscription. This could break recordings for example. Maybe it would be a good idea to stop timeshifting once a recording starts. Or the option to use remote timeshift implies that a single client uses a single connection, so one client would equal one connection to the source and Tvheadend just proxies the connection.
Anyways: Merging this now to prevent the crash.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1393,2021-03-15T23:19:43Z,2021-03-16T03:16:18Z,2021-03-16T16:15:56Z,MERGED,True,39,46,7,https://github.com/spdfrk,remote timeshift: fix crash on multiple subscriptions and cleanup,1,[],https://github.com/tvheadend/tvheadend/pull/1393,https://github.com/Trujulu,3,https://github.com/tvheadend/tvheadend/pull/1393#issuecomment-800226590,"In case multiple users subscribe to a remote time shift channel the different code path would not initialize the service_t * sm_s properly and caused a segfault due to invalid pointer later in the code. Also I was able to revert the change from malloc to calloc, we need speed!
Furthermore the code was cleaned up slightly.
A limitation still is that all subscribers will look at the same source stream so remote time shifting will apply to all. A solution would be to spawn multiple instances of the same mux / service. Not sure how to handle this in tvheadend, it doesn't seem to be designed for this. Ideas are welcome!","Could you check this exception? @spdfrk
In file included from /project/repo/checkout/src/tvheadend.h:39,
                 from src/input/mpegts/iptv/iptv_rtsp.c:20:
src/input/mpegts/iptv/iptv_rtsp.c: In function 'rtsp_input':
src/input/mpegts/iptv/iptv_rtsp.c:497:22: error: format '%ld' expects argument of type 'long int', but argument 7 has type 'int64_t' {aka 'long long int'} [-Werror=format=]
     tvhinfo(LS_IPTV, ""rtsp: skip: %"" PRItime_t "" + %"" PRItime_t, rp->range_start,
                      ^~~~~~~~~~~~~~~
         ts_rescale(data->time, 1));
         ~~~~~~~~~~~~~~~~~~~~~~~~~
/project/repo/checkout/src/tvhlog.h:206:66: note: in definition of macro 'tvhlog'
   _tvhlog(__FILE__, __LINE__, severity | LOG_TVH_NOTIFY, subsys, fmt, ##__VA_ARGS__)
                                                                  ^~~
src/input/mpegts/iptv/iptv_rtsp.c:497:5: note: in expansion of macro 'tvhinfo'
     tvhinfo(LS_IPTV, ""rtsp: skip: %"" PRItime_t "" + %"" PRItime_t, rp->range_start,
     ^~~~~~~
In file included from src/input/mpegts/iptv/iptv_rtsp.c:20:
/project/repo/checkout/src/tvheadend.h:338:27: note: format string is defined here
 #define PRItime_t       ""ld""
cc1: all warnings being treated as errors",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1393,2021-03-15T23:19:43Z,2021-03-16T03:16:18Z,2021-03-16T16:15:56Z,MERGED,True,39,46,7,https://github.com/spdfrk,remote timeshift: fix crash on multiple subscriptions and cleanup,1,[],https://github.com/tvheadend/tvheadend/pull/1393,https://github.com/spdfrk,4,https://github.com/tvheadend/tvheadend/pull/1393#issuecomment-800376674,"In case multiple users subscribe to a remote time shift channel the different code path would not initialize the service_t * sm_s properly and caused a segfault due to invalid pointer later in the code. Also I was able to revert the change from malloc to calloc, we need speed!
Furthermore the code was cleaned up slightly.
A limitation still is that all subscribers will look at the same source stream so remote time shifting will apply to all. A solution would be to spawn multiple instances of the same mux / service. Not sure how to handle this in tvheadend, it doesn't seem to be designed for this. Ideas are welcome!","@Trujulu, can you tell me what kind of OS / libraries you are using? It looks like the PRItime_t macro in Tvheadend is not compatible with your setup.
I compiled this with success using defaults in Ubuntu 18 & 20.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1393,2021-03-15T23:19:43Z,2021-03-16T03:16:18Z,2021-03-16T16:15:56Z,MERGED,True,39,46,7,https://github.com/spdfrk,remote timeshift: fix crash on multiple subscriptions and cleanup,1,[],https://github.com/tvheadend/tvheadend/pull/1393,https://github.com/Trujulu,5,https://github.com/tvheadend/tvheadend/pull/1393#issuecomment-800380339,"In case multiple users subscribe to a remote time shift channel the different code path would not initialize the service_t * sm_s properly and caused a segfault due to invalid pointer later in the code. Also I was able to revert the change from malloc to calloc, we need speed!
Furthermore the code was cleaned up slightly.
A limitation still is that all subscribers will look at the same source stream so remote time shifting will apply to all. A solution would be to spawn multiple instances of the same mux / service. Not sure how to handle this in tvheadend, it doesn't seem to be designed for this. Ideas are welcome!","@Trujulu, can you tell me what kind of OS / libraries you are using? It looks like the PRItime_t macro in Tvheadend is not compatible with your setup.
I compiled this with success using defaults in Ubuntu 18 & 20.

You can see those errors in doozer. Apparently before your changes everything compiles.
https://doozer.io/tvheadend/tvheadend/buildlog/22333",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1393,2021-03-15T23:19:43Z,2021-03-16T03:16:18Z,2021-03-16T16:15:56Z,MERGED,True,39,46,7,https://github.com/spdfrk,remote timeshift: fix crash on multiple subscriptions and cleanup,1,[],https://github.com/tvheadend/tvheadend/pull/1393,https://github.com/Flole998,6,https://github.com/tvheadend/tvheadend/pull/1393#issuecomment-800381468,"In case multiple users subscribe to a remote time shift channel the different code path would not initialize the service_t * sm_s properly and caused a segfault due to invalid pointer later in the code. Also I was able to revert the change from malloc to calloc, we need speed!
Furthermore the code was cleaned up slightly.
A limitation still is that all subscribers will look at the same source stream so remote time shifting will apply to all. A solution would be to spawn multiple instances of the same mux / service. Not sure how to handle this in tvheadend, it doesn't seem to be designed for this. Ideas are welcome!","The problem is that ts_rescale returns an int64_t, which is not PRItime_t but ""long long int"". I have already seen that and will fix it later.",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1393,2021-03-15T23:19:43Z,2021-03-16T03:16:18Z,2021-03-16T16:15:56Z,MERGED,True,39,46,7,https://github.com/spdfrk,remote timeshift: fix crash on multiple subscriptions and cleanup,1,[],https://github.com/tvheadend/tvheadend/pull/1393,https://github.com/spdfrk,7,https://github.com/tvheadend/tvheadend/pull/1393#issuecomment-800402106,"In case multiple users subscribe to a remote time shift channel the different code path would not initialize the service_t * sm_s properly and caused a segfault due to invalid pointer later in the code. Also I was able to revert the change from malloc to calloc, we need speed!
Furthermore the code was cleaned up slightly.
A limitation still is that all subscribers will look at the same source stream so remote time shifting will apply to all. A solution would be to spawn multiple instances of the same mux / service. Not sure how to handle this in tvheadend, it doesn't seem to be designed for this. Ideas are welcome!",Thanks! Was looking at the wrong argument. This error didn't show up on my side. Will update my setup accordingly.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1394,2021-03-16T08:09:40Z,2021-03-17T00:06:33Z,2021-03-17T00:06:33Z,MERGED,True,2,2,1,https://github.com/Trujulu,Upgrade to libhdhomerun_20210224,1,[],https://github.com/tvheadend/tvheadend/pull/1394,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1394,There is a new version of libhdhomerun,There is a new version of libhdhomerun,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1395,2021-03-18T21:34:43Z,2021-03-19T18:25:03Z,2021-03-19T18:25:03Z,MERGED,True,6,3,1,https://github.com/spdfrk,remote timeshift: fix compilation with IPTV disabled,1,[],https://github.com/tvheadend/tvheadend/pull/1395,https://github.com/spdfrk,1,https://github.com/tvheadend/tvheadend/pull/1395,Will fix compilation with --enable-timeshift and --disable-iptv.,Will fix compilation with --enable-timeshift and --disable-iptv.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1396,2021-03-19T22:58:39Z,2021-04-21T17:35:57Z,2021-05-04T13:24:26Z,CLOSED,False,10,3,2,https://github.com/Saentist,Readme.md update,14,[],https://github.com/tvheadend/tvheadend/pull/1396,https://github.com/Saentist,1,https://github.com/tvheadend/tvheadend/pull/1396,Add more information for project,Add more information for project,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1396,2021-03-19T22:58:39Z,2021-04-21T17:35:57Z,2021-05-04T13:24:26Z,CLOSED,False,10,3,2,https://github.com/Saentist,Readme.md update,14,[],https://github.com/tvheadend/tvheadend/pull/1396,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1396#issuecomment-803661381,Add more information for project,"Could you please squash your commit together? Also there are changes in this which aren't Readme.md changes, those should be in a separate commit/PR.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1396,2021-03-19T22:58:39Z,2021-04-21T17:35:57Z,2021-05-04T13:24:26Z,CLOSED,False,10,3,2,https://github.com/Saentist,Readme.md update,14,[],https://github.com/tvheadend/tvheadend/pull/1396,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1396#issuecomment-824236859,Add more information for project,Changes have been merged manually due to inactivity on this PR.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1397,2021-03-21T23:27:07Z,2021-04-02T19:21:56Z,2021-04-02T19:21:56Z,MERGED,True,1,0,1,https://github.com/davidchute,Add pid file hint for systemd-sysv-generator,1,[],https://github.com/tvheadend/tvheadend/pull/1397,https://github.com/davidchute,1,https://github.com/tvheadend/tvheadend/pull/1397,"So that for systemd users, systemd-sysv-generator can work out where the pid file is located. And restart on detection that the process has died.","So that for systemd users, systemd-sysv-generator can work out where the pid file is located. And restart on detection that the process has died.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1397,2021-03-21T23:27:07Z,2021-04-02T19:21:56Z,2021-04-02T19:21:56Z,MERGED,True,1,0,1,https://github.com/davidchute,Add pid file hint for systemd-sysv-generator,1,[],https://github.com/tvheadend/tvheadend/pull/1397,https://github.com/davidchute,2,https://github.com/tvheadend/tvheadend/pull/1397#issuecomment-812227406,"So that for systemd users, systemd-sysv-generator can work out where the pid file is located. And restart on detection that the process has died.","This is what is generated on Ubuntu 20.04.2 LTS (focal) when the line is added;
root@myserver:/# cat /run/systemd/generator.late/tvheadend.service
# Automatically generated by systemd-sysv-generator

[Unit]
Documentation=man:systemd-sysv-generator(8)
SourcePath=/etc/init.d/tvheadend
Before=multi-user.target
Before=multi-user.target
Before=multi-user.target
Before=graphical.target
After=remote-fs.target
After=udev.service

[Service]
Type=forking
Restart=no
TimeoutSec=5min
IgnoreSIGPIPE=no
KillMode=process
GuessMainPID=no
RemainAfterExit=no
PIDFile=/var/run/tvheadend.pid
SuccessExitStatus=5 6
ExecStart=/etc/init.d/tvheadend start
ExecStop=/etc/init.d/tvheadend stop



And without it you get this
root@myserver:/# cat /run/systemd/generator.late/tvheadend.service
# Automatically generated by systemd-sysv-generator

[Unit]
Documentation=man:systemd-sysv-generator(8)
SourcePath=/etc/init.d/tvheadend
Before=multi-user.target
Before=multi-user.target
Before=multi-user.target
Before=graphical.target
After=remote-fs.target
After=udev.service

[Service]
Type=forking
Restart=no
TimeoutSec=5min
IgnoreSIGPIPE=no
KillMode=process
GuessMainPID=no
RemainAfterExit=yes
SuccessExitStatus=5 6
ExecStart=/etc/init.d/tvheadend start
ExecStop=/etc/init.d/tvheadend stop

With the difference being the following
20,21c20
< RemainAfterExit=no
< PIDFile=/var/run/tvheadend.pid
---
> RemainAfterExit=yes",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1398,2021-04-20T18:07:54Z,,2021-04-20T19:54:43Z,OPEN,False,19,2,3,https://github.com/smithereens,Introduce ROTOR access control via subscription priority.,1,[],https://github.com/tvheadend/tvheadend/pull/1398,https://github.com/smithereens,1,https://github.com/tvheadend/tvheadend/pull/1398,"Only subscriptions with this priority and above are allowed to control/move ROTOR
For example, set to 5 to prevent OTA EPG and other periodic scan from moving rotor.","Only subscriptions with this priority and above are allowed to control/move ROTOR
For example, set to 5 to prevent OTA EPG and other periodic scan from moving rotor.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1398,2021-04-20T18:07:54Z,,2021-04-20T19:54:43Z,OPEN,False,19,2,3,https://github.com/smithereens,Introduce ROTOR access control via subscription priority.,1,[],https://github.com/tvheadend/tvheadend/pull/1398,https://github.com/smithereens,2,https://github.com/tvheadend/tvheadend/pull/1398#issuecomment-823559267,"Only subscriptions with this priority and above are allowed to control/move ROTOR
For example, set to 5 to prevent OTA EPG and other periodic scan from moving rotor.","This pull request is only of use for people using motorised dish who want to avail of nightly OTA EPG and MUX scan but don't want the ROTOR to move to all satellite positions when doing do. This is main use case for me, but there likely other scenario where controlling rotor access by subscription priority could be useful.
by setting the ROTOR min priority just above the OTA EPG/MUX subscription, the rotor will refuse to move position when requested so by the automatic mux scan, and OTA EPG will only succeed on whatever satellite it is currently pointing at. A tuning error will be returned for the other conditions.
subscription failures, like in the case of tuning error, is actually poorly handled by OTA EPG mux code, so I've created a separate pull request #1399  to handle this particular problem.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1399,2021-04-20T18:18:29Z,,2021-04-21T17:09:04Z,OPEN,False,22,8,2,https://github.com/smithereens,Improve OTA mux scheduling when dealing with subscription failures,1,[],https://github.com/tvheadend/tvheadend/pull/1399,https://github.com/smithereens,1,https://github.com/tvheadend/tvheadend/pull/1399,"Associate a retry count with each OTA mux subscription failure and abort after 3 delayed attempts.
In this context, failure includes repeated tuning errors, but excludes lack of adapter availability.","Associate a retry count with each OTA mux subscription failure and abort after 3 delayed attempts.
In this context, failure includes repeated tuning errors, but excludes lack of adapter availability.",True,{'THUMBS_UP': ['https://github.com/pinkflozd']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1399,2021-04-20T18:18:29Z,,2021-04-21T17:09:04Z,OPEN,False,22,8,2,https://github.com/smithereens,Improve OTA mux scheduling when dealing with subscription failures,1,[],https://github.com/tvheadend/tvheadend/pull/1399,https://github.com/perexg,2,https://github.com/tvheadend/tvheadend/pull/1399#issuecomment-823555303,"Associate a retry count with each OTA mux subscription failure and abort after 3 delayed attempts.
In this context, failure includes repeated tuning errors, but excludes lack of adapter availability.","The three requests to subscribe a mux seems like a bad idea. The retry may be configurable, because there may be a good reason why the mux is not available. But I guess that the real problem is somewhere else (tuner / input problem?). If you have a complex setup, it's better to jump to an another mux and move the bad one to the end of queue.
The sec2mono() fix looks appropriate.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1399,2021-04-20T18:18:29Z,,2021-04-21T17:09:04Z,OPEN,False,22,8,2,https://github.com/smithereens,Improve OTA mux scheduling when dealing with subscription failures,1,[],https://github.com/tvheadend/tvheadend/pull/1399,https://github.com/smithereens,3,https://github.com/tvheadend/tvheadend/pull/1399#issuecomment-823566397,"Associate a retry count with each OTA mux subscription failure and abort after 3 delayed attempts.
In this context, failure includes repeated tuning errors, but excludes lack of adapter availability.","there are 2 intended fixes in this pull request, the first one is about the swap of mono2sec(60) for sec2mono(60) - I believe the original intention was to have EPG to check every minute for the active mux to be complete before scheduling a new one, the swap basically means this check is done every 60 clock ticks instead; keeping the CPU quite busy.
the second fix is related to my pull request in #1398 - if the active mux is unable to tune to a transponder it will try to do so indefinitely until a higher subscription aborts the EPG scan. This change should gives a fair chance for a tune request to succeed; otherwise the MUX scan is aborted and EPG scan will move to the next one.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1399,2021-04-20T18:18:29Z,,2021-04-21T17:09:04Z,OPEN,False,22,8,2,https://github.com/smithereens,Improve OTA mux scheduling when dealing with subscription failures,1,[],https://github.com/tvheadend/tvheadend/pull/1399,https://github.com/smithereens,4,https://github.com/tvheadend/tvheadend/pull/1399#issuecomment-823572368,"Associate a retry count with each OTA mux subscription failure and abort after 3 delayed attempts.
In this context, failure includes repeated tuning errors, but excludes lack of adapter availability.","The three requests to subscribe a mux seems like a bad idea. The retry may be configurable, because there may be a good reason why the mux is not available. But I guess that the real problem is somewhere else (tuner / input problem?). If you have a complex setup, it's better to jump to an another mux and move the bad one to the end of queue.
The sec2mono() fix looks appropriate.

I agree that the 3 strikes rule is not ideal when dealing with this problem but it allows the EPG scan to complete eventually. Moving the 'bad' subscription to the tail of the list does not seem to be appropriate for the use case i documented in #1398, but i must confess i'm not very familiar with this code, so may be there's a better way to do it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1399,2021-04-20T18:18:29Z,,2021-04-21T17:09:04Z,OPEN,False,22,8,2,https://github.com/smithereens,Improve OTA mux scheduling when dealing with subscription failures,1,[],https://github.com/tvheadend/tvheadend/pull/1399,https://github.com/smithereens,5,https://github.com/tvheadend/tvheadend/pull/1399#issuecomment-824217819,"Associate a retry count with each OTA mux subscription failure and abort after 3 delayed attempts.
In this context, failure includes repeated tuning errors, but excludes lack of adapter availability.","The three requests to subscribe a mux seems like a bad idea. The retry may be configurable, because there may be a good reason why the mux is not available. But I guess that the real problem is somewhere else (tuner / input problem?). If you have a complex setup, it's better to jump to an another mux and move the bad one to the end of queue.
The sec2mono() fix looks appropriate.

I agree that the 3 strikes rule is not ideal when dealing with this problem but it allows the EPG scan to complete eventually. Moving the 'bad' subscription to the tail of the list does not seem to be appropriate for the use case i documented in #1398, but i must confess i'm not very familiar with this code, so may be there's a better way to do it.

I double checked the code again and i believe the original code was already pushing unusable muxes to the tail of the queue, but the bad ones will be never be removed, and checked over and over once all the good ones have all been processed. My change is just cutting this short.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1399,2021-04-20T18:18:29Z,,2021-04-21T17:09:04Z,OPEN,False,22,8,2,https://github.com/smithereens,Improve OTA mux scheduling when dealing with subscription failures,1,[],https://github.com/tvheadend/tvheadend/pull/1399,https://github.com/Flole998,6,https://github.com/tvheadend/tvheadend/pull/1399#issuecomment-824220969,"Associate a retry count with each OTA mux subscription failure and abort after 3 delayed attempts.
In this context, failure includes repeated tuning errors, but excludes lack of adapter availability.","The three requests to subscribe a mux seems like a bad idea. The retry may be configurable, because there may be a good reason why the mux is not available. But I guess that the real problem is somewhere else (tuner / input problem?). If you have a complex setup, it's better to jump to an another mux and move the bad one to the end of queue.

Do I understand it correctly that you suggest making it configurable? Or do you think that this retry-logic is a bad idea in general?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Jumper78,1,https://github.com/tvheadend/tvheadend/pull/1400,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-824392676,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.",I just thought about this and I am not sure if I understand correctly why this is necessary: Usually when you use the spawn profile you should be able to make all these settings on the spawned process so a stream with the correct settings arrives at Tvheadend? Why is that not working in this case?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Jumper78,3,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-824406424,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","Why is that not working in this case?

With my TV stations, when having ""Rewrite PMT"" and ""Rewrite NIT"" set to 1, I end up loosing the video stream and end up just with an audio stream. This is the case for the pass filter. When then using the spawn filter, I can configure ffmpeg however I want, I will never be able to get the filtered out video stream back.
Or, if you look at it from the source code side: the parameters c.u.pass.m_rewrite_sid, c.u.pass.m_rewrite_pat, c.u.pass.m_rewrite_pmt, c.u.pass.m_rewrite_sdt, c.u.pass.m_rewrite_nit and c.u.pass.m_rewrite_eit are set to 1 in the background without me having a chance to influence on that.
Maybe I have still not understood everything about the stream I am transcoding, but the fact that I am now able to change these options is working like a charm for me.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-824417674,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","What TV stations are you using and what Player is not showing the video stream? I really appreciate your PR and the work you did, but I want to make sure we aren't ""covering"" another issue here by just throwing more options at it. Maybe I can have a look at what's going in and what's coming out to see why the rewriting is necessary.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Jumper78,5,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-824554693,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","@Flole998: Chances are high that my PR and my settings are just a workaround. I appreciate that you take some time to look at my problem.
Instead of a player, I use ffmpeg (ffmpeg version 4.1.6-1~deb10u1+rpt1 on RasPi4) at different positions of the stream to analyse the content. I am looking at terrestrial TV streams in South Korea (with an Hauppauge WinTV-dualHD for ATSC).

stream of the station MBC mux with

MPEG-TS Pass-thru/built-in as default stream profile
Rewrite Service ID = 1, Rewrite PMT = 1, Rewrite PAT = 1, Rewrite SDT = 1, Rewrite NIT = 1, Rewrite EIT = 1



[mpeg2video @ 0x1719820] Invalid frame dimensions 0x0.
    Last message repeated 7 times
[mpegts @ 0x170e170] Could not find codec parameters for stream 3 (Unknown: none ([5][0][0][0] / 0x0005)): unknown codec
Consider increasing the value for the 'analyzeduration' and 'probesize' options
[mpegts @ 0x170e170] Could not find codec parameters for stream 4 (Unknown: none ([11][0][0][0] / 0x000B)): unknown codec
Consider increasing the value for the 'analyzeduration' and 'probesize' options
Input #0, mpegts, from 'http://<user:pass>@<ip>:9981/play/ticket/stream/mux/c967e5c90c2581b53f15c4577cf1171d':
  Duration: N/A, start: 8614.151589, bitrate: N/A
  Program 1 
    Stream #0:0[0x11]: Video: mpeg2video (Main) ([2][0][0][0] / 0x0002), yuv420p(tv, top first), 1920x1080 [SAR 1:1 DAR 16:9], Closed Captions, 29.97 fps, 29.97 tbr, 90k tbn, 59.94 tbc
    Stream #0:1[0x14](kor): Audio: ac3 ([129][0][0][0] / 0x0081), 48000 Hz, stereo, fltp, 448 kb/s
    Stream #0:2[0x15](kor): Audio: ac3 ([129][0][0][0] / 0x0081), 48000 Hz, stereo, fltp, 192 kb/s (visual impaired) (descriptions)
    Stream #0:3[0x1f]: Unknown: none ([5][0][0][0] / 0x0005)
    Stream #0:4[0x200]: Unknown: none ([11][0][0][0] / 0x000B)


stream of the MBC service with

MPEG-TS Pass-thru/built-in as default stream profile
Rewrite Service ID = 1, Rewrite PMT = 1, Rewrite PAT = 1, Rewrite SDT = 1, Rewrite NIT = 1, Rewrite EIT = 1



Input #0, mpegts, from 'http://<user:pass>@<ip>:9981/play/ticket/stream/service/f7f049a4b10db70babc875375cab20a2':
  Duration: N/A, start: 9693.543589, bitrate: 448 kb/s
  Program 1 
  No Program
    Stream #0:0[0x14]: Audio: ac3, 48000 Hz, stereo, fltp, 448 kb/s`


stream of the MBC service with

MPEG-TS Pass-thru/built-in as default stream profile
Rewrite Service ID = 0, Rewrite PMT = 0, Rewrite PAT = 1, Rewrite SDT = 1, Rewrite NIT = 0, Rewrite EIT = 1



[mpeg2video @ 0x1fef520] Invalid frame dimensions 0x0.
    Last message repeated 13 times
[mpegts @ 0x1fe3170] Could not find codec parameters for stream 2 (Unknown: none ([5][0][0][0] / 0x0005)): unknown codec
Consider increasing the value for the 'analyzeduration' and 'probesize' options
[mpegts @ 0x1fe3170] Could not find codec parameters for stream 3 (Unknown: none ([11][0][0][0] / 0x000B)): unknown codec
Consider increasing the value for the 'analyzeduration' and 'probesize' options
Input #0, mpegts, from 'http://<user:pass>@<ip>:9981/play/ticket/stream/service/f7f049a4b10db70babc875375cab20a2':
  Duration: N/A, start: 9916.263589, bitrate: N/A
  Program 1 
    Stream #0:0[0x11]: Video: mpeg2video (Main) ([2][0][0][0] / 0x0002), yuv420p(tv, top first), 1920x1080 [SAR 1:1 DAR 16:9], Closed Captions, 29.97 fps, 29.97 tbr, 90k tbn, 59.94 tbc
    Stream #0:1[0x14](kor): Audio: ac3 ([129][0][0][0] / 0x0081), 48000 Hz, stereo, fltp, 448 kb/s
    Stream #0:2[0x1f]: Unknown: none ([5][0][0][0] / 0x0005)
    Stream #0:3[0x200]: Unknown: none ([11][0][0][0] / 0x000B)`

So, with the activated rewrite options, TVHeadend kills all streams except the audio stream(s). Some other TV stations (EBS1, SBS) do also suffer from the problem while others (KBS1, KBS2, EBS2) do not have the problem. Unfortunately, there is very little information about the composition of the streams (at least in the languages I speak well enough). Any suggestion for any further analysis?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Saentist,6,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-824570696,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","@Jumper78 can you analyze with https://github.com/tsduck/tsduck
similar problem with pass profile https://tvheadend.org/issues/5062",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Jumper78,7,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-825414368,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","@Saentist : TSDuck is mighty tool! It might even help me with getting EPG running for those channels. But it also took me a while to getting something useful out of it.
Anyway, I analysed the PMT tables of the streams. I attach the output of one of the faulty streams at the end of this post. Interestingly, all of the affected streams use the same PID: 0x0010, the others use 0x0020.



name
KBS1
KBS2
MBC
SBS
EBS1
EBS2




TID
2 (0x02)
2 (0x02)
2 (0x02)
2 (0x02)
2 (0x02)
2 (0x02)


PID
32 (0x0020)
32 (0x0020)
16 (0x0010)
16 (0x0010)
16 (0x0010)
32 (0x0020)


affected?
no
no
yes
yes
yes
no



My current hypothesis: DVB_NIT_PID is also set to 0x10. In src/muxer/muxer_pass.c, in line 635 a PID, the NIT-rewrite flag and DVB_NIT_PID are all brought together in an if. Maybe that is the position where my stream is kicked out. What I do not understand: if the hypothesis is true, why is the NIT-rewrite then affecting only the video stream and not the audio stream?
I will try out a couple of things tonight and will hopefully find a fix for the real problem.
Here the PMT section from MBS (recording with tsp -I dvb --frequency <frequency> -P until --seconds 60 -O file <filename>.ts, analysing with tspsi <filename>.ts:
* PMT, TID 2 (0x02), PID 16 (0x0010)
  Version: 7, sections: 1, total size: 121 bytes
  - Section 0:
    Program: 1 (0x0001), PCR PID: 17 (0x0011)
    Elementary stream: type 0x02 (MPEG-2 Video), PID: 17 (0x0011)
    Elementary stream: type 0x81 (ATSC AC-3 Audio), PID: 20 (0x0014)
    - Descriptor 0: ISO-639 Language (0x0A, 10), 4 bytes
      Language: kor, Type: 0x00 (undefined)
    - Descriptor 1: ATSC AC-3 Audio (0x81, 129), 6 bytes
      Sample rate: 48 kHz (0x0)
      AC-3 coding version: 0x08 (8)
      Bit rate: 384 kb/s (0x0E) max
      Surround mode: Not indicated (0x0)
      Bitstream mode: main audio service: complete main (CM) (0x0)
      Num. channels: 6 max (0xD)
      Full service: true
      Main audio service id: 0
      Priority: 3
      Text: """"
    Elementary stream: type 0x05 (MPEG-2 Private sections), PID: 31 (0x001F)
    - Descriptor 0: DSM-CC Association Tag (0x14, 20), 13 bytes
      Association tag: 0x0081 (129), use: 0x0000 (0)
      Selector bytes (8 bytes): FF FF FF FF FF FF FF FF
    - Descriptor 1: Stream Identifier (0x52, 82), 1 bytes
      Component tag: 129 (0x81)
    - Descriptor 2: Application Signalling (0x6F, 111), 3 bytes
      Application type: 6 (0x0006), AIT Version: 2 (0x02)
    Elementary stream: type 0x0B (DSM-CC U-N), PID: 512 (0x0200)
    - Descriptor 0: DSM-CC Association Tag (0x14, 20), 13 bytes
      Association tag: 0x0002 (2), use: 0x0000 (0)
      Selector bytes (8 bytes): FF FF FF FF FF FF FF FF
    - Descriptor 1: Stream Identifier (0x52, 82), 1 bytes
      Component tag: 2 (0x02)
    - Descriptor 2: Data Broadcast Id (0x66, 102), 4 bytes
      Data broadcast id: 0x00F0 (240, MHP Object Carousel)
      Data Broadcast selector (2 bytes): 00 06
    - Descriptor 3: DSM-CC Carousel Identifier (0x13, 19), 22 bytes
      Carousel id: 0x80000001 (2147483649)
      Private data (18 bytes):
        0000:  01 00 00 00 0F E2 00 00 A5 D0 00 00 00 A5 D0 FF  ................
        0010:  01 00                                            ..",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/perexg,8,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-825577127,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","@Flole998 : I think that it should be merged. Appearently, this MPEG-TS stream is not ETSI EN 300 468 conformant:",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Flole998,9,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-825700046,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","The PMT is broadcasted on the PID that is supposed to be used for the NIT, correct? We could probably detect that and then disable the rewriting automaticaly so we don't end up with broken streams?
As @Jumper78 wants to do some further investigation I will wait until that is done, and as @perexg has given his okay I will merge it then if no better solution is found :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/perexg,10,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-825712888,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","The PMT is broadcasted on the PID that is supposed to be used for the NIT, correct? We could probably detect that and then disable the rewriting automaticaly so we don't end up with broken streams?

It may be a good idea. If PMT PID is equal to any predefined SDT / NIT / EIT PID, the rewrite should be turned automatically off for the corresponding PID.
Basically, the PMT parser must be called in pass_muxer_write_ts() - dvb_table_parse(&pm->pm_pmt, ""-"", tsb, l, 1, 0, pass_muxer_pmt_cb).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Flole998,11,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-825720159,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","How about adding something like pid != pm->pm_pmt_pid to each condition (except for the PMT one, that one would need a pid != SDT && pid != NIT....) in line 632 there? That should be exactly what we need?
I think we should still merge this PR, but it would be great to get the other fix aswell.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/perexg,12,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-825726397,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","How about adding something like pid != pm->pm_pmt_pid to each condition (except for the PMT one, that one would need a pid != SDT && pid != NIT....) in line 632 there? That should be exactly what we need?

It's better to set directly the pm_rewrite variables in pass_muxer_reconfigure.  The mentioned conditions are evaluated for each TS packet. The pm_rewrite variables are local (to the pass muxer instance) and set when the stream changes.
Also note that we have already such ""xxx PID shared with A/V, rewrite disabled"" conditions there :-) So it's just about to tune this code also for this MPEG-TS stream.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Jumper78,13,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-826044797,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","My hypothesis seems to be correct. I changed DVB_NIT_PID from 0x10to 0x0Fand tried again to grab with ffmpeg.

Repeating step 3 from my last test to make sure nothing else has changed: stream of the MBC service with

MPEG-TS Pass-thru/built-in as default stream profile
Rewrite Service ID = 0, Rewrite PMT = 0, Rewrite PAT = 1, Rewrite SDT = 1, Rewrite NIT = 0, Rewrite EIT = 1



Input #0, mpegts, from 'http://<user:pass>@<ip>:9981/play/ticket/stream/service/f7f049a4b10db70babc875375cab20a2':
  Duration: N/A, start: 91944.577900, bitrate: N/A
  Program 1 
    Stream #0:0[0x11]: Video: mpeg2video (Main) ([2][0][0][0] / 0x0002), yuv420p(tv, top first), 1920x1080 [SAR 1:1 DAR 16:9], Closed Captions, 29.97 fps, 29.97 tbr, 90k tbn, 59.94 tbc
    Stream #0:1[0x14](kor): Audio: ac3 ([129][0][0][0] / 0x0081), 48000 Hz, stereo, fltp, 448 kb/s
    Stream #0:2[0x15](kor): Audio: ac3 ([129][0][0][0] / 0x0081), 48000 Hz, stereo, fltp, 192 kb/s (visual impaired) (descriptions)
    Stream #0:3[0x1f]: Unknown: none ([5][0][0][0] / 0x0005)
    Stream #0:4[0x200]: Unknown: none ([11][0][0][0] / 0x000B)


Repeating step 2 from my last test but with DVB_NIT_PID set to 0x0F: stream of the MBC service with

MPEG-TS Pass-thru/built-in as default stream profile
Rewrite Service ID = 1, Rewrite PMT = 1, Rewrite PAT = 1, Rewrite SDT = 1, Rewrite NIT = 1, Rewrite EIT = 1



Input #0, mpegts, from 'http://<user:pass>@<ip>:9981/play/ticket/stream/service/f7f049a4b10db70babc875375cab20a2':
  Duration: N/A, start: 92077.761900, bitrate: N/A
  Program 1 
    Stream #0:0[0x11]: Video: mpeg2video (Main) ([2][0][0][0] / 0x0002), yuv420p(tv, top first), 1920x1080 [SAR 1:1 DAR 16:9], Closed Captions, 29.97 fps, 29.97 tbr, 90k tbn, 59.94 tbc
    Stream #0:1[0x14](kor): Audio: ac3 ([129][0][0][0] / 0x0081), 48000 Hz, stereo, fltp, 448 kb/s
    Stream #0:2[0x15](kor): Audio: ac3 ([129][0][0][0] / 0x0081), 48000 Hz, stereo, fltp, 192 kb/s (visual impaired) (descriptions)

Conclusion: the video stream disappears because its PID in the PMT tables conflicts with DVB_NIT_PID. My current PR is a workaround. The fixes for @perexg and @Flole998 also sound promising.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Jumper78,14,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-826384118,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","It's better to set directly the pm_rewrite variables in pass_muxer_reconfigure. The mentioned conditions are evaluated for each TS packet. The pm_rewrite variables are local (to the pass muxer instance) and set when the stream changes.
Also note that we have already such ""xxx PID shared with A/V, rewrite disabled"" conditions there :-) So it's just about to tune this code also for this MPEG-TS stream.

@perexg I have written a fix that works for me. I tried to follow your guidance from this comment. Please review #1402 and let me know if you have any suggestions for improvements.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Flole998,15,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-826387584,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","Looks good to me, I would have split this into to PRs and merged this one aswell but it's also fine in one PR. Please squash your changes, then I will merge unless @perexg sees anything wrong with it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Flole998,16,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-826433290,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.",Is there any reason why you didn't include the PAT? I think that one should be checked aswell?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Jumper78,17,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-826515809,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","Is there any reason why you didn't include the PAT? I think that one should be checked aswell?

My understanding is that PAT always has to be on PID 0x00. Please correct me if that assumption is wrong. If that assumption is correct, there will never be the case that the PAT PID conflicts with SDT, NIT or EIT PID.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Flole998,18,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-826598579,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","But couldn't it conflict with the PMT, just like the PMT could conflict with the SDT/NIT/EIT?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1400,2021-04-21T15:56:43Z,2021-05-01T03:45:45Z,2021-05-05T14:59:10Z,MERGED,True,178,10,2,https://github.com/Jumper78,Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.,6,[],https://github.com/tvheadend/tvheadend/pull/1400,https://github.com/Jumper78,19,https://github.com/tvheadend/tvheadend/pull/1400#issuecomment-826962104,"Update profile.c
Added Rewrite MPEG-TS SI settings to the MPEG-TS SPAWN profile panel.
Currently, only the MPEG-TS profile has the expert options for MPEG-TS SI settings. Unfortunately, I need these settings for the TV stations I am receiving. Up to now, I was not able to use MPEG-TS SPAWN for recoding via ffmpeg. After adding the MPEG-TS SI Table(s) Settings panel to the expert options of MPEG-TS SPAWN and deselecting some of the rewrite options, that is now possible.","But couldn't it conflict with the PMT, just like the PMT could conflict with the SDT/NIT/EIT?

My understanding is that PAT has to have PID 0x00 and no other stream is allowed to have the same PID. So, if there is a conflict between PAT and SDT/NIT/EIT, there would be something seriously wrong with the stream.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1401,2021-04-22T13:03:40Z,,2021-04-22T13:03:40Z,OPEN,False,1,1,1,https://github.com/smithereens,Allow network scan to modify muxes,1,[],https://github.com/tvheadend/tvheadend/pull/1401,https://github.com/smithereens,1,https://github.com/tvheadend/tvheadend/pull/1401,"When 'change muxes' option for network discovery is enabled, allow network scan to modify muxes rather than duplicate them on minor changes such as FEC.
Looking at the history of changes around this feature, I believe there was a deliberate choice to create a new mux entry every time a transponder is changed via network scan. I can understand the motivation to keep it safe, but this is cumbersome as some satellite operators actively modify PHY parameters for some of their transponders, typically DVB-S2, to adapt to what I believe are either seasonal weather conditions and/or the number of services they want to use at a point in time.
Without this change, I need to manually scrub muxes in the db, and remove duplicates manually on a regular basis.
The existing code to decide whether a mux change is minor or not seems to be used only when importing dvb scan files, but DVB NIT discovery is always excluded for this logic. This change allow a user to decide whether  a given network can be trusted to provide trustworthy MUX info via Network Information Table.","When 'change muxes' option for network discovery is enabled, allow network scan to modify muxes rather than duplicate them on minor changes such as FEC.
Looking at the history of changes around this feature, I believe there was a deliberate choice to create a new mux entry every time a transponder is changed via network scan. I can understand the motivation to keep it safe, but this is cumbersome as some satellite operators actively modify PHY parameters for some of their transponders, typically DVB-S2, to adapt to what I believe are either seasonal weather conditions and/or the number of services they want to use at a point in time.
Without this change, I need to manually scrub muxes in the db, and remove duplicates manually on a regular basis.
The existing code to decide whether a mux change is minor or not seems to be used only when importing dvb scan files, but DVB NIT discovery is always excluded for this logic. This change allow a user to decide whether  a given network can be trusted to provide trustworthy MUX info via Network Information Table.",True,"{'THUMBS_UP': ['https://github.com/pinkflozd', 'https://github.com/muzena', 'https://github.com/Saentist', 'https://github.com/fegolka', 'https://github.com/KaeTuuN', 'https://github.com/user897943']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1402,2021-04-25T20:17:40Z,2021-04-26T12:37:07Z,2021-04-26T12:37:43Z,CLOSED,False,202,14,3,https://github.com/Jumper78,Test/nis rewrite with korean tv streams,18,[],https://github.com/tvheadend/tvheadend/pull/1402,https://github.com/Jumper78,1,https://github.com/tvheadend/tvheadend/pull/1402,"Some Korean terrestrial TV streams are broadcasting the Program Map Table (PMT) and the video and the audio streams on PIDs where usually SDT, NIT or EIT should be. For the video and audio stream, muxer_pass.c did already take provisions and turns of SDT, NIT and EIT rewriting. For the PMT, up to now, no provisions were taken.
This patch checks if the PMT PID conflicts with the PIDs usually used for SDT, NIT or EIT. If that is the case, it disables PMT rewriting as well as the SDT, NIT or EIT rewriting.
The pull request also includes the changes from #1400.","Some Korean terrestrial TV streams are broadcasting the Program Map Table (PMT) and the video and the audio streams on PIDs where usually SDT, NIT or EIT should be. For the video and audio stream, muxer_pass.c did already take provisions and turns of SDT, NIT and EIT rewriting. For the PMT, up to now, no provisions were taken.
This patch checks if the PMT PID conflicts with the PIDs usually used for SDT, NIT or EIT. If that is the case, it disables PMT rewriting as well as the SDT, NIT or EIT rewriting.
The pull request also includes the changes from #1400.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1402,2021-04-25T20:17:40Z,2021-04-26T12:37:07Z,2021-04-26T12:37:43Z,CLOSED,False,202,14,3,https://github.com/Jumper78,Test/nis rewrite with korean tv streams,18,[],https://github.com/tvheadend/tvheadend/pull/1402,https://github.com/Jumper78,2,https://github.com/tvheadend/tvheadend/pull/1402#issuecomment-826800967,"Some Korean terrestrial TV streams are broadcasting the Program Map Table (PMT) and the video and the audio streams on PIDs where usually SDT, NIT or EIT should be. For the video and audio stream, muxer_pass.c did already take provisions and turns of SDT, NIT and EIT rewriting. For the PMT, up to now, no provisions were taken.
This patch checks if the PMT PID conflicts with the PIDs usually used for SDT, NIT or EIT. If that is the case, it disables PMT rewriting as well as the SDT, NIT or EIT rewriting.
The pull request also includes the changes from #1400.",need to squash the changes,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1403,2021-04-26T16:05:43Z,2021-05-05T14:08:40Z,2021-05-07T05:28:34Z,CLOSED,False,10,15,2,https://github.com/Jumper78,"resolve conflict of SDT, NIT and EIT rewrite in Korean terrestrial tv streams ",15,[],https://github.com/tvheadend/tvheadend/pull/1403,https://github.com/Jumper78,1,https://github.com/tvheadend/tvheadend/pull/1403,"Some Korean terrestrial TV streams are broadcasting the Program Map Table (PMT) and the video and the audio streams on PIDs where usually SDT, NIT or EIT should be. For the video and audio stream, muxer_pass.c did already take provisions and turns of SDT, NIT and EIT rewriting. For the PMT, up to now, no provisions were taken.
This patch checks if the PMT PID conflicts with the PIDs usually used for SDT, NIT or EIT. If that is the case, it disables PMT rewriting as well as the SDT, NIT or EIT rewriting.
The pull request also includes the changes from #1400.","Some Korean terrestrial TV streams are broadcasting the Program Map Table (PMT) and the video and the audio streams on PIDs where usually SDT, NIT or EIT should be. For the video and audio stream, muxer_pass.c did already take provisions and turns of SDT, NIT and EIT rewriting. For the PMT, up to now, no provisions were taken.
This patch checks if the PMT PID conflicts with the PIDs usually used for SDT, NIT or EIT. If that is the case, it disables PMT rewriting as well as the SDT, NIT or EIT rewriting.
The pull request also includes the changes from #1400.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1403,2021-04-26T16:05:43Z,2021-05-05T14:08:40Z,2021-05-07T05:28:34Z,CLOSED,False,10,15,2,https://github.com/Jumper78,"resolve conflict of SDT, NIT and EIT rewrite in Korean terrestrial tv streams ",15,[],https://github.com/tvheadend/tvheadend/pull/1403,https://github.com/ksooo,2,https://github.com/tvheadend/tvheadend/pull/1403#issuecomment-830657552,"Some Korean terrestrial TV streams are broadcasting the Program Map Table (PMT) and the video and the audio streams on PIDs where usually SDT, NIT or EIT should be. For the video and audio stream, muxer_pass.c did already take provisions and turns of SDT, NIT and EIT rewriting. For the PMT, up to now, no provisions were taken.
This patch checks if the PMT PID conflicts with the PIDs usually used for SDT, NIT or EIT. If that is the case, it disables PMT rewriting as well as the SDT, NIT or EIT rewriting.
The pull request also includes the changes from #1400.","@Jumper78  Would it be possible to use meaningful commit messages? ""Updated xyz.c"" does not mean anything to the reader.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1403,2021-04-26T16:05:43Z,2021-05-05T14:08:40Z,2021-05-07T05:28:34Z,CLOSED,False,10,15,2,https://github.com/Jumper78,"resolve conflict of SDT, NIT and EIT rewrite in Korean terrestrial tv streams ",15,[],https://github.com/tvheadend/tvheadend/pull/1403,https://github.com/Jumper78,3,https://github.com/tvheadend/tvheadend/pull/1403#issuecomment-830795868,"Some Korean terrestrial TV streams are broadcasting the Program Map Table (PMT) and the video and the audio streams on PIDs where usually SDT, NIT or EIT should be. For the video and audio stream, muxer_pass.c did already take provisions and turns of SDT, NIT and EIT rewriting. For the PMT, up to now, no provisions were taken.
This patch checks if the PMT PID conflicts with the PIDs usually used for SDT, NIT or EIT. If that is the case, it disables PMT rewriting as well as the SDT, NIT or EIT rewriting.
The pull request also includes the changes from #1400.","@Jumper78 Would it be possible to use meaningful commit messages? ""Updated xyz.c"" does not mean anything to the reader.

You are right, I should be more careful with my commits. In the future, I will branch more often and make more pull requests to my own master branch so that I can squash my tiny commits to bigger ones with more meaningful messages.",True,{'THUMBS_UP': ['https://github.com/ksooo']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1403,2021-04-26T16:05:43Z,2021-05-05T14:08:40Z,2021-05-07T05:28:34Z,CLOSED,False,10,15,2,https://github.com/Jumper78,"resolve conflict of SDT, NIT and EIT rewrite in Korean terrestrial tv streams ",15,[],https://github.com/tvheadend/tvheadend/pull/1403,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1403#issuecomment-832718312,"Some Korean terrestrial TV streams are broadcasting the Program Map Table (PMT) and the video and the audio streams on PIDs where usually SDT, NIT or EIT should be. For the video and audio stream, muxer_pass.c did already take provisions and turns of SDT, NIT and EIT rewriting. For the PMT, up to now, no provisions were taken.
This patch checks if the PMT PID conflicts with the PIDs usually used for SDT, NIT or EIT. If that is the case, it disables PMT rewriting as well as the SDT, NIT or EIT rewriting.
The pull request also includes the changes from #1400.",I've commited the change manually now as it's only a small change.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/hochwasser,1,https://github.com/tvheadend/tvheadend/pull/1404,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831651228,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,"As you can see, Travis is unhappy with this PR as it broke the build process.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/hochwasser,3,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831738231,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,"For what ever reason I thought uint64_t was unsigned long long int ~:-|
I changed the format string to reflect the type of the variable",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831745061,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,Could you please squash your commits together?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/hochwasser,5,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831757269,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,"Where can I do this on github?
The only way I see is to close this pull req. and make a new one with only one commit.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/Saentist,6,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831819290,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,"Where can I do this on github?
The only way I see is to close this pull req. and make a new one with only one commit.

This can be done by person with merge to master, there is a settings for this.
https://github.blog/2016-04-01-squash-your-commits/
aka @Flole998 can do it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/Flole998,7,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831907274,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,"As I am rebasing the PR I can't squash it at the same time. I think Github doesn't allow squashing through the Webinterface, however the git client can do it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/Saentist,8,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831927485,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,"As I am rebasing the PR I can't squash it at the same time. I think Github doesn't allow squashing through the Webinterface, however the git client can do it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/Flole998,9,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831928718,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,"Exactly, and as you can see I can only choose between squashing or rebasing. I can't squash and then rebase.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/Saentist,10,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831933016,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/merging-a-pull-request,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/Flole998,11,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831934326,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,Yes exactly that is the problem: You can choose between those options. Obviously you can't select more than one.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/Saentist,12,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831941756,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,"Is's disabled in repo settings
https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/incorporating-changes-from-a-pull-request",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/Flole998,13,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-831950257,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,No it is not disabled but you have to choose between one of the 3 options. You can not merge the same PR multiple times!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1404,2021-05-03T14:06:35Z,2021-05-04T15:29:53Z,2021-05-04T15:29:53Z,CLOSED,False,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,2,[],https://github.com/tvheadend/tvheadend/pull/1404,https://github.com/hochwasser,14,https://github.com/tvheadend/tvheadend/pull/1404#issuecomment-832032503,The conversion from unsigned long long to long long is not necessary. The print statement uses the correct format code %llu.,"Please see #1408.
I'm closing this pull req.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1405,2021-05-03T20:10:56Z,2021-05-04T02:37:27Z,2021-05-04T02:37:27Z,MERGED,True,1,1,1,https://github.com/hochwasser,else is missing,1,[],https://github.com/tvheadend/tvheadend/pull/1405,https://github.com/hochwasser,1,https://github.com/tvheadend/tvheadend/pull/1405,"While locking into the code, there seems to miss an else statement. The indentation seems so.","While locking into the code, there seems to miss an else statement. The indentation seems so.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1406,2021-05-03T20:16:32Z,2021-05-04T12:40:15Z,2021-05-04T12:40:15Z,MERGED,True,1,1,1,https://github.com/hochwasser,seen is a unsigned type,1,[],https://github.com/tvheadend/tvheadend/pull/1406,https://github.com/hochwasser,1,https://github.com/tvheadend/tvheadend/pull/1406,Change the format string from d to u. seen is uint32_t -> line 1192,Change the format string from d to u. seen is uint32_t -> line 1192,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1407,2021-05-04T12:34:16Z,,2021-06-09T02:26:11Z,OPEN,False,4,4,1,https://github.com/hochwasser,"Change format string for pid, gid, uid from d to u",2,[],https://github.com/tvheadend/tvheadend/pull/1407,https://github.com/hochwasser,1,https://github.com/tvheadend/tvheadend/pull/1407,"glist is of type gid_t aka unsigned int. Changed format string from d to u.
gid is of type gid_t aka unsigned int. Changed format string from d to u.
uid is of type uid_t aka unsigned int. Changed format string from d to u.
pid is of type pid_t aka unsigned int. Changed format string from d to u.","glist is of type gid_t aka unsigned int. Changed format string from d to u.
gid is of type gid_t aka unsigned int. Changed format string from d to u.
uid is of type uid_t aka unsigned int. Changed format string from d to u.
pid is of type pid_t aka unsigned int. Changed format string from d to u.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1407,2021-05-04T12:34:16Z,,2021-06-09T02:26:11Z,OPEN,False,4,4,1,https://github.com/hochwasser,"Change format string for pid, gid, uid from d to u",2,[],https://github.com/tvheadend/tvheadend/pull/1407,https://github.com/hochwasser,2,https://github.com/tvheadend/tvheadend/pull/1407#issuecomment-835484273,"glist is of type gid_t aka unsigned int. Changed format string from d to u.
gid is of type gid_t aka unsigned int. Changed format string from d to u.
uid is of type uid_t aka unsigned int. Changed format string from d to u.
pid is of type pid_t aka unsigned int. Changed format string from d to u.","I changed it back to d for the pid.
As far as I can tell: POSIX does not define a type. gnu libc uses a signed int. Thanks for this finding.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1407,2021-05-04T12:34:16Z,,2021-06-09T02:26:11Z,OPEN,False,4,4,1,https://github.com/hochwasser,"Change format string for pid, gid, uid from d to u",2,[],https://github.com/tvheadend/tvheadend/pull/1407,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1407#issuecomment-857321379,"glist is of type gid_t aka unsigned int. Changed format string from d to u.
gid is of type gid_t aka unsigned int. Changed format string from d to u.
uid is of type uid_t aka unsigned int. Changed format string from d to u.
pid is of type pid_t aka unsigned int. Changed format string from d to u.",Could you please squash your commits together?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1408,2021-05-04T15:29:03Z,2021-09-06T19:32:09Z,2021-09-06T19:32:09Z,MERGED,True,3,3,1,https://github.com/hochwasser,Remove unnecessary conversion,1,[],https://github.com/tvheadend/tvheadend/pull/1408,https://github.com/hochwasser,1,https://github.com/tvheadend/tvheadend/pull/1408,"The conversion from unsigned long to long long is not necessary.
Corrected the print statement uses the format code %lu.","The conversion from unsigned long to long long is not necessary.
Corrected the print statement uses the format code %lu.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1409,2021-05-04T20:14:23Z,2021-10-21T00:15:33Z,2021-10-21T00:15:33Z,CLOSED,False,308,288,71,https://github.com/hochwasser,correct format string for weight from d to u,2,[],https://github.com/tvheadend/tvheadend/pull/1409,https://github.com/hochwasser,1,https://github.com/tvheadend/tvheadend/pull/1409,weight is of type unsigned int so correct the format string from d to u,weight is of type unsigned int so correct the format string from d to u,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1409,2021-05-04T20:14:23Z,2021-10-21T00:15:33Z,2021-10-21T00:15:33Z,CLOSED,False,308,288,71,https://github.com/hochwasser,correct format string for weight from d to u,2,[],https://github.com/tvheadend/tvheadend/pull/1409,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1409#issuecomment-832215541,weight is of type unsigned int so correct the format string from d to u,If you're planning on fixing more formatting errors then we should collect those in a single PR. I'm sure there are more mistakes like these in the code.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1409,2021-05-04T20:14:23Z,2021-10-21T00:15:33Z,2021-10-21T00:15:33Z,CLOSED,False,308,288,71,https://github.com/hochwasser,correct format string for weight from d to u,2,[],https://github.com/tvheadend/tvheadend/pull/1409,https://github.com/hochwasser,3,https://github.com/tvheadend/tvheadend/pull/1409#issuecomment-832668733,weight is of type unsigned int so correct the format string from d to u,"I can collect others format string mistakes, if you like in this PR.
I would like

replace all malloc, calloc and realloc with xmalloc, xcalloc and xrealloc to mitigate NULL pointer problems.
introduce a strequal function to get ride of the strcmp which misses the == 0
This needs discussion and I did not find where to ask. Here is no bug tracker.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1409,2021-05-04T20:14:23Z,2021-10-21T00:15:33Z,2021-10-21T00:15:33Z,CLOSED,False,308,288,71,https://github.com/hochwasser,correct format string for weight from d to u,2,[],https://github.com/tvheadend/tvheadend/pull/1409,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1409#issuecomment-832680911,weight is of type unsigned int so correct the format string from d to u,"As xmalloc is a non-standard function, so that's not a good idea. At some places we also handle those errors instead of crashing. If it fails and the error is not handled you can be pretty sure that there's a crash soon after that anyways.
We could definitely introduce a strequal function (or probably do it as define so it gets replaced during preprocessing and we don't rely on compiler optimization). That requires a huge amount of work though and I'm not sure if it's worth the effort.
There's a bug tracker at https://tvheadend.org",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1409,2021-05-04T20:14:23Z,2021-10-21T00:15:33Z,2021-10-21T00:15:33Z,CLOSED,False,308,288,71,https://github.com/hochwasser,correct format string for weight from d to u,2,[],https://github.com/tvheadend/tvheadend/pull/1409,https://github.com/hochwasser,5,https://github.com/tvheadend/tvheadend/pull/1409#issuecomment-840097709,weight is of type unsigned int so correct the format string from d to u,"It was a lot of work, but I think I got every case.
Could you please review this PR?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1410,2021-05-05T14:46:41Z,2021-06-09T02:24:11Z,2021-06-09T02:24:16Z,MERGED,True,25,3,4,https://github.com/Flole998,Add NVIDIA Hardware accelerated decoding for transcoding,1,[],https://github.com/tvheadend/tvheadend/pull/1410,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1410,,,True,{'THUMBS_UP': ['https://github.com/blieb']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1411,2021-05-26T21:58:57Z,,2021-09-06T11:50:35Z,OPEN,False,1151,110,105,https://github.com/hochwasser,"Check the return value of malloc, calloc and realloc",1,[],https://github.com/tvheadend/tvheadend/pull/1411,https://github.com/hochwasser,1,https://github.com/tvheadend/tvheadend/pull/1411,"malloc and calloc allocate memory and return NULL if this failes.
The return value is now checked and if there is a check for NULL a thvinfo is
added. If there was no NULL check a thvabort is added.
realloc is special that if it returns NULL the old pointer is still valid.
if the input pointer and the return  pointer is the same variable the old
pointer is lost. This is a memory leak.
Now there is also a thvinfo or thvabort added.","malloc and calloc allocate memory and return NULL if this failes.
The return value is now checked and if there is a check for NULL a thvinfo is
added. If there was no NULL check a thvabort is added.
realloc is special that if it returns NULL the old pointer is still valid.
if the input pointer and the return  pointer is the same variable the old
pointer is lost. This is a memory leak.
Now there is also a thvinfo or thvabort added.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1411,2021-05-26T21:58:57Z,,2021-09-06T11:50:35Z,OPEN,False,1151,110,105,https://github.com/hochwasser,"Check the return value of malloc, calloc and realloc",1,[],https://github.com/tvheadend/tvheadend/pull/1411,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1411#issuecomment-850664833,"malloc and calloc allocate memory and return NULL if this failes.
The return value is now checked and if there is a check for NULL a thvinfo is
added. If there was no NULL check a thvabort is added.
realloc is special that if it returns NULL the old pointer is still valid.
if the input pointer and the return  pointer is the same variable the old
pointer is lost. This is a memory leak.
Now there is also a thvinfo or thvabort added.","I've left a few comments. Also I think it would be better to write ""xy returned NULL"" instead of ""is NULL"".",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1411,2021-05-26T21:58:57Z,,2021-09-06T11:50:35Z,OPEN,False,1151,110,105,https://github.com/hochwasser,"Check the return value of malloc, calloc and realloc",1,[],https://github.com/tvheadend/tvheadend/pull/1411,https://github.com/perexg,3,https://github.com/tvheadend/tvheadend/pull/1411#issuecomment-850667692,"malloc and calloc allocate memory and return NULL if this failes.
The return value is now checked and if there is a check for NULL a thvinfo is
added. If there was no NULL check a thvabort is added.
realloc is special that if it returns NULL the old pointer is still valid.
if the input pointer and the return  pointer is the same variable the old
pointer is lost. This is a memory leak.
Now there is also a thvinfo or thvabort added.","If there's a memory allocation error, we're in a really deep problem. The system generates SIGSEGV when the NULL pointer area is accessed, so we have already a sign that something is bad.
If you like to clean up this code, please, define own allocation wrappers or macros which calls tvhabort() or tvhwarn() if the allocation is not successful. The macros can dump the origin - the source file / line number - automatically.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1411,2021-05-26T21:58:57Z,,2021-09-06T11:50:35Z,OPEN,False,1151,110,105,https://github.com/hochwasser,"Check the return value of malloc, calloc and realloc",1,[],https://github.com/tvheadend/tvheadend/pull/1411,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1411#issuecomment-850673527,"malloc and calloc allocate memory and return NULL if this failes.
The return value is now checked and if there is a check for NULL a thvinfo is
added. If there was no NULL check a thvabort is added.
realloc is special that if it returns NULL the old pointer is still valid.
if the input pointer and the return  pointer is the same variable the old
pointer is lost. This is a memory leak.
Now there is also a thvinfo or thvabort added.",Thats an even better idea! I think the alloca replacements are fine though?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1411,2021-05-26T21:58:57Z,,2021-09-06T11:50:35Z,OPEN,False,1151,110,105,https://github.com/hochwasser,"Check the return value of malloc, calloc and realloc",1,[],https://github.com/tvheadend/tvheadend/pull/1411,https://github.com/hochwasser,5,https://github.com/tvheadend/tvheadend/pull/1411#issuecomment-852467710,"malloc and calloc allocate memory and return NULL if this failes.
The return value is now checked and if there is a check for NULL a thvinfo is
added. If there was no NULL check a thvabort is added.
realloc is special that if it returns NULL the old pointer is still valid.
if the input pointer and the return  pointer is the same variable the old
pointer is lost. This is a memory leak.
Now there is also a thvinfo or thvabort added.","@perexg this sounds like xmalloc, xcalloc and xrealloc.
If I copy the interface and use the tvh logging functions, would this ok?
@Flole998 this was the first try and only cover the easy convertible alloca.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1411,2021-05-26T21:58:57Z,,2021-09-06T11:50:35Z,OPEN,False,1151,110,105,https://github.com/hochwasser,"Check the return value of malloc, calloc and realloc",1,[],https://github.com/tvheadend/tvheadend/pull/1411,https://github.com/hochwasser,6,https://github.com/tvheadend/tvheadend/pull/1411#issuecomment-913586101,"malloc and calloc allocate memory and return NULL if this failes.
The return value is now checked and if there is a check for NULL a thvinfo is
added. If there was no NULL check a thvabort is added.
realloc is special that if it returns NULL the old pointer is still valid.
if the input pointer and the return  pointer is the same variable the old
pointer is lost. This is a memory leak.
Now there is also a thvinfo or thvabort added.","Eli Bendersky has written a good article about malloc an out-of-memory conditions:
https://eli.thegreenplace.net/2009/10/30/handling-out-of-memory-conditions-in-c/
glib from gnome is a a good solution as libiberty,
What are your thoughts?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1412,2021-06-12T12:35:54Z,2021-06-12T13:56:23Z,2021-06-12T13:56:23Z,MERGED,True,4,5,4,https://github.com/mpmc,As we no longer have access to #hts on freenode swap to using libera ,1,[],https://github.com/tvheadend/tvheadend/pull/1412,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1412,See https://tvheadend.org/issues/6054,See https://tvheadend.org/issues/6054,True,"{'THUMBS_UP': ['https://github.com/Saentist', 'https://github.com/ProfYaffle']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1412,2021-06-12T12:35:54Z,2021-06-12T13:56:23Z,2021-06-12T13:56:23Z,MERGED,True,4,5,4,https://github.com/mpmc,As we no longer have access to #hts on freenode swap to using libera ,1,[],https://github.com/tvheadend/tvheadend/pull/1412,https://github.com/Saentist,2,https://github.com/tvheadend/tvheadend/pull/1412#issuecomment-860055211,See https://tvheadend.org/issues/6054,+1,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1413,2021-07-18T10:04:20Z,2021-07-19T07:33:09Z,2021-07-19T07:33:09Z,CLOSED,False,32,250,3,https://github.com/mpmc,Remove EOL/unmaintained build targets & add bullseye,3,[],https://github.com/tvheadend/tvheadend/pull/1413,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1413,"I've removed EOL distros and those that are no longer maintained by anyone. Fedora, Centos etc used to be under @perexg's eye however it sadly appears he's no longer able to maintain them?
Please don't commit without discussing these changes first. Thanks.","I've removed EOL distros and those that are no longer maintained by anyone. Fedora, Centos etc used to be under @perexg's eye however it sadly appears he's no longer able to maintain them?
Please don't commit without discussing these changes first. Thanks.",True,{'THUMBS_DOWN': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1413,2021-07-18T10:04:20Z,2021-07-19T07:33:09Z,2021-07-19T07:33:09Z,CLOSED,False,32,250,3,https://github.com/mpmc,Remove EOL/unmaintained build targets & add bullseye,3,[],https://github.com/tvheadend/tvheadend/pull/1413,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1413#issuecomment-882032511,"I've removed EOL distros and those that are no longer maintained by anyone. Fedora, Centos etc used to be under @perexg's eye however it sadly appears he's no longer able to maintain them?
Please don't commit without discussing these changes first. Thanks.","I think everything that still builds should stay in until it breaks, if it's an old distro and no easy fix it can be kicked out then.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1413,2021-07-18T10:04:20Z,2021-07-19T07:33:09Z,2021-07-19T07:33:09Z,CLOSED,False,32,250,3,https://github.com/mpmc,Remove EOL/unmaintained build targets & add bullseye,3,[],https://github.com/tvheadend/tvheadend/pull/1413,https://github.com/Saentist,3,https://github.com/tvheadend/tvheadend/pull/1413#issuecomment-882033101,"I've removed EOL distros and those that are no longer maintained by anyone. Fedora, Centos etc used to be under @perexg's eye however it sadly appears he's no longer able to maintain them?
Please don't commit without discussing these changes first. Thanks.","Ubuntu 14.04 aka Trusty
cannot be build after latest ffmpeg update
There is no code tags for that",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1413,2021-07-18T10:04:20Z,2021-07-19T07:33:09Z,2021-07-19T07:33:09Z,CLOSED,False,32,250,3,https://github.com/mpmc,Remove EOL/unmaintained build targets & add bullseye,3,[],https://github.com/tvheadend/tvheadend/pull/1413,https://github.com/mpmc,4,https://github.com/tvheadend/tvheadend/pull/1413#issuecomment-882033507,"I've removed EOL distros and those that are no longer maintained by anyone. Fedora, Centos etc used to be under @perexg's eye however it sadly appears he's no longer able to maintain them?
Please don't commit without discussing these changes first. Thanks.","I think everything that still builds should stay in until it breaks, if it's an old distro and no easy fix it can be kicked out then.

In that case you can just cherry-pick the bullseye commits :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1413,2021-07-18T10:04:20Z,2021-07-19T07:33:09Z,2021-07-19T07:33:09Z,CLOSED,False,32,250,3,https://github.com/mpmc,Remove EOL/unmaintained build targets & add bullseye,3,[],https://github.com/tvheadend/tvheadend/pull/1413,https://github.com/mpmc,5,https://github.com/tvheadend/tvheadend/pull/1413#issuecomment-882314479,"I've removed EOL distros and those that are no longer maintained by anyone. Fedora, Centos etc used to be under @perexg's eye however it sadly appears he's no longer able to maintain them?
Please don't commit without discussing these changes first. Thanks.","OK, i'll close this and rework it :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1414,2021-07-22T15:15:58Z,2021-07-23T13:27:22Z,2021-07-23T13:27:22Z,MERGED,True,142,0,11,https://github.com/mpmc,Doozer: Add more targets!,2,[],https://github.com/tvheadend/tvheadend/pull/1414,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1414,Re-do of previous PR with added extras!,Re-do of previous PR with added extras!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1415,2021-07-25T11:16:18Z,2021-07-29T22:45:23Z,2021-09-08T10:57:10Z,MERGED,True,2,2,1,https://github.com/Trujulu,Upgrade to libhdhomerun_20210624,1,[],https://github.com/tvheadend/tvheadend/pull/1415,https://github.com/Trujulu,1,https://github.com/tvheadend/tvheadend/pull/1415,There is a new version of libhdhomerun,There is a new version of libhdhomerun,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1416,2021-07-30T22:17:43Z,2022-02-05T20:47:40Z,2022-02-05T20:47:40Z,CLOSED,False,0,0,0,https://github.com/mpmc,Add fedora 34 / update rpm spec,0,[],https://github.com/tvheadend/tvheadend/pull/1416,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1416,"I've tried my best to get Python3 / Python2 to play nice with new/old versions of Fedora here.
NOTE: the build fails due to ffmpeg, that may need an update?","I've tried my best to get Python3 / Python2 to play nice with new/old versions of Fedora here.
NOTE: the build fails due to ffmpeg, that may need an update?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1416,2021-07-30T22:17:43Z,2022-02-05T20:47:40Z,2022-02-05T20:47:40Z,CLOSED,False,0,0,0,https://github.com/mpmc,Add fedora 34 / update rpm spec,0,[],https://github.com/tvheadend/tvheadend/pull/1416,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1416#issuecomment-890217378,"I've tried my best to get Python3 / Python2 to play nice with new/old versions of Fedora here.
NOTE: the build fails due to ffmpeg, that may need an update?","Maybe you need to add --nowerror to get the fffmpeg build to go through? Same for CentOS but no clue how that needs to be done there, I've done it for some of the builds that require it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1416,2021-07-30T22:17:43Z,2022-02-05T20:47:40Z,2022-02-05T20:47:40Z,CLOSED,False,0,0,0,https://github.com/mpmc,Add fedora 34 / update rpm spec,0,[],https://github.com/tvheadend/tvheadend/pull/1416,https://github.com/mpmc,3,https://github.com/tvheadend/tvheadend/pull/1416#issuecomment-890219685,"I've tried my best to get Python3 / Python2 to play nice with new/old versions of Fedora here.
NOTE: the build fails due to ffmpeg, that may need an update?","Feel free to have a look yourself if you get chance :)
…
On Fri, 30 Jul 2021 at 22:22, Flole998 ***@***.***> wrote:
 Maybe you need to add --nowerror to get the fffmpeg build to go through?
 Same for CentOS but no clue how that needs to be done there, I've done it
 for some of the builds that require it.

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 <#1416 (comment)>,
 or unsubscribe
 <https://github.com/notifications/unsubscribe-auth/AAR6K7CG5RQGMTQZ2YS2JD3T2MQ2ZANCNFSM5BJJXCBQ>
 .",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1416,2021-07-30T22:17:43Z,2022-02-05T20:47:40Z,2022-02-05T20:47:40Z,CLOSED,False,0,0,0,https://github.com/mpmc,Add fedora 34 / update rpm spec,0,[],https://github.com/tvheadend/tvheadend/pull/1416,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1416#issuecomment-890370112,"I've tried my best to get Python3 / Python2 to play nice with new/old versions of Fedora here.
NOTE: the build fails due to ffmpeg, that may need an update?","python2 is wanted during build but is not available, that's the issue. You probably want to add --python=python3 to the configure call.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1416,2021-07-30T22:17:43Z,2022-02-05T20:47:40Z,2022-02-05T20:47:40Z,CLOSED,False,0,0,0,https://github.com/mpmc,Add fedora 34 / update rpm spec,0,[],https://github.com/tvheadend/tvheadend/pull/1416,https://github.com/Flole998,5,https://github.com/tvheadend/tvheadend/pull/1416#issuecomment-900990307,"I've tried my best to get Python3 / Python2 to play nice with new/old versions of Fedora here.
NOTE: the build fails due to ffmpeg, that may need an update?",@mpmc Have you tried my suggestion?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1416,2021-07-30T22:17:43Z,2022-02-05T20:47:40Z,2022-02-05T20:47:40Z,CLOSED,False,0,0,0,https://github.com/mpmc,Add fedora 34 / update rpm spec,0,[],https://github.com/tvheadend/tvheadend/pull/1416,https://github.com/mpmc,6,https://github.com/tvheadend/tvheadend/pull/1416#issuecomment-901007312,"I've tried my best to get Python3 / Python2 to play nice with new/old versions of Fedora here.
NOTE: the build fails due to ffmpeg, that may need an update?","I haven't sorry, things have been hectic atm. If you want you can steal this PR with your suggestions added :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1416,2021-07-30T22:17:43Z,2022-02-05T20:47:40Z,2022-02-05T20:47:40Z,CLOSED,False,0,0,0,https://github.com/mpmc,Add fedora 34 / update rpm spec,0,[],https://github.com/tvheadend/tvheadend/pull/1416,https://github.com/ekuester,7,https://github.com/tvheadend/tvheadend/pull/1416#issuecomment-930533376,"I've tried my best to get Python3 / Python2 to play nice with new/old versions of Fedora here.
NOTE: the build fails due to ffmpeg, that may need an update?","Stumbled accidently over this discussion. Perhaps you will try my attached .spec file to build a .rpm for Fedora 34. To fetch the related .tar.gz file use wget https://github.com/tvheadend/tvheadend/archive/637844055c186e981495da711e4887806f656c98/tvheadend-637844055.tar.gz ...
tvheadend.spec.txt",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/ksooo,1,https://github.com/tvheadend/tvheadend/pull/1417,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.","Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/ksooo,2,https://github.com/tvheadend/tvheadend/pull/1417#issuecomment-901943141,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.",@perexg any chance you doing the code review?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/ksooo,3,https://github.com/tvheadend/tvheadend/pull/1417#issuecomment-907605291,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.",@Flole998 any comments?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/ksooo,4,https://github.com/tvheadend/tvheadend/pull/1417#issuecomment-912715111,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.",Is this project still alive? ;-),True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/Saentist,5,https://github.com/tvheadend/tvheadend/pull/1417#issuecomment-912727559,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.","It is frustrating when, this one can commit, is missing.
It was good time when when @perexg was main commiter,
now all is in pause for few months.
Sorry @Flole998 bit cannot imagine that simple revision of commit can take so so many time. ;(",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/ksooo,6,https://github.com/tvheadend/tvheadend/pull/1417#issuecomment-912732964,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.","Maybe @Flole998 is busy with real live currently, which is perfectly fine. What I would like would just be some sign of live, so I know that this project generally still has a maintainer.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/Saentist,7,https://github.com/tvheadend/tvheadend/pull/1417#issuecomment-912735927,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.","It's good to spend one day monthly to merge commits, or at less say what eventually is bad in them.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/Flole998,8,https://github.com/tvheadend/tvheadend/pull/1417#issuecomment-913590738,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.","@ksooo Yes this project is still alive and still has (half of) a maintainer. As you asked for perexg to do the code review I was waiting for his answer and at the moment I don't have time to look into it.
@Saentist Yeah that's good, now you just need to find someone who has time to do that and knows the code well enough to spot issues with the PR.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/ksooo,9,https://github.com/tvheadend/tvheadend/pull/1417#issuecomment-913614885,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.","@Flole998 thanks for the answer. I fully understand your situation and there is nothing you need to be worried about. This is how FOSS works.
Is there anything I can do to get this PR merged? From my point of view the changes are straight forward as they are based on several other HTSP changes incl. version bumps I did in the past and the introduction of a new stream type I ""copied"" from another stream type perexg introduced once with a PR. Changes are well tested on my end.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/perexg,10,https://github.com/tvheadend/tvheadend/pull/1417#issuecomment-913684173,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.",The code changes look good in my eyes. Sorry for the long delay.,True,"{'HEART': ['https://github.com/ksooo', 'https://github.com/Trujulu']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/Flole998,11,https://github.com/tvheadend/tvheadend/pull/1417#issuecomment-913722200,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.","Usually I let Coverity do a quick check on non-trivial changes like this, especially since this adds a new parser that could potentially introduce memory leaks. I have a half-automated script for that but need to manually pull in the PR there. I hope to get that done by the end of the week, if it doesn't have any issues I will go ahead and merge.",True,{'THUMBS_UP': ['https://github.com/ksooo']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1417,2021-08-18T06:51:30Z,2021-09-06T19:30:59Z,2021-09-06T20:37:05Z,MERGED,True,85,4,7,https://github.com/ksooo,"Add support for SCT_RDS, expose RDS flag via HTSP",2,[],https://github.com/tvheadend/tvheadend/pull/1417,https://github.com/ksooo,12,https://github.com/tvheadend/tvheadend/pull/1417#issuecomment-913845232,"Motivation: https://forum.kodi.tv/showthread.php?tid=336682&pid=3052210#pid3052210
This brings back RDS data for SWR, WDR, hr, SR in Kodi and allows other tvh clients to handle RDS data contained in private stream with id 0x89.
Thanks to @carsten-gross for figuring out the details.
Second commit exposes the information, that an audio stream contains RDS data via HTSP.",Thank you for merging this.,True,{'THUMBS_UP': ['https://github.com/ou-li']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1418,2021-09-07T17:14:54Z,2021-09-07T17:14:59Z,2021-09-07T17:14:59Z,MERGED,True,3,3,1,https://github.com/Flole998,"Revert ""Remove unnecessary conversion"" as the datatype is wrong",1,[],https://github.com/tvheadend/tvheadend/pull/1418,https://github.com/Flole998,1,https://github.com/tvheadend/tvheadend/pull/1418,Reverts #1408,Reverts #1408,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1419,2021-09-09T15:17:08Z,2021-11-21T13:00:55Z,2021-11-21T13:00:55Z,MERGED,True,88,60,1,https://github.com/NormRaden,Improve the performance of updating the pid filter table in hdhomerun…,1,[],https://github.com/tvheadend/tvheadend/pull/1419,https://github.com/NormRaden,1,https://github.com/tvheadend/tvheadend/pull/1419,"… digital tuners.

Construct the list of pids formatted for the hdhomerun and handle edge cases.
For each call to tvhdhomerun_frontend_update_pids(...), only issue one set_tuner_filter call to the hdhomerun.
Turn off pids when done using them.
Handle the rare case where the requested list of pids does not fit in to the fixed length buffer by enabling all pids (except the NUL pid)

Previously, calls to update the pids would generate get_tuner_filter and set_tuner_filter calls for each individual pid.
Also, while a tuner was allocated, pids would never be freed up from the hdhomerun filter table even when they were no longer needed.
And if the list of requested pids had exceeded the fixed length buffer, then not all the requested pids would be properly enabled.
Very noticeably, in cases where the number of pids is large enough, very frequent pid updates would overload the hdhomerun causing it to
drop bursts of program data (mpegts broadcast packets) every several seconds on all tuners for the duration of the rapid pid updates
(reproducible on the HDHR4-2US model).

This proposed patch reimplements tvhdhomerun_frontend_update_pids(...) to read the list of pids and generate a single string to set the pid filter in the hdhomerun.
tvhdhomerun_frontend_update_pids() repeatedly, for each pid, reads the hdhomerun pid filter string, appends the single pid, and writes this pid filter string to set the pid filter.
Currently, tvhdhomerun_frontend_update_pids() does this:
2021-08-27 11:32:25.036 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000 0x0030-0x0031 0x0034-0x0035 0x0001
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0030
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0031
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0034
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The reimplemented tvhdhomerun_frontend_update_pids() only does this:
2021-09-01 14:11:30.610 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The control traffic to the hdhomerun grows exponentially with the number of pids.  The reimplementation brings this down to linear growth.
One of the EPG modules calls tvhdhomerun_frontend_update_pids() rapidly and if there is also a large enough set of pids to update, the flood of control traffic causes the hdhomerun (verified on model HDHR4-2US) to malfunction and intermittently drop broadcast packets.
Also, the scratch buffer for assembling this list of hdhomerun formatted pids is currently hard coded to 1024 bytes/chars for both implementations.  If we can't fit the list of pids in to the buffer, then we fallback and send ""0x0000-0x1ffe"" to enable all but pid 0x1fff (NUL packets), instead of taking our chances on sending a truncated list of pids.
Code Notes:

I thought this might be a little tricky to understand so I supplied some extra comments in tvhdhomerun_frontend_update_pids().
I used a local function in a code block in tvhdhomerun_frontend_update_pids() to simplify the implementation.

Verification:

I tested different combinations of enabling/disabling programs on a tuner and verified that the appropriate pids are set.
I verified that the correct pids were unset when a program ended while another program continued on the same tuner.
I test recompiled this fix with the scratch buffer of only 64 chars long (ie. char buffer[64];) to easily test the case where this buffer is too small to handle some list of pids.
I tested the turn-on-all-pids/MPEGTS_FULLMUX_PID case by intermittently requesting a mux. stream, while programs were present and absent on the same tuner.
I've been testing this patch in production for more than a week and counting--so far so good!

If you have a hdhomerun digital tuner, have a look.  Don't forget to add/append 'tvhdhomerun' to --debug or via UI under Configuration-->Debugging-->Debug subsystems and watch for the string ""pfilter to"" in the message log.  Also, take notice of the message log for string matches of ""pfilter to"" both before and after applying this patch to compare.","… digital tuners.

Construct the list of pids formatted for the hdhomerun and handle edge cases.
For each call to tvhdhomerun_frontend_update_pids(...), only issue one set_tuner_filter call to the hdhomerun.
Turn off pids when done using them.
Handle the rare case where the requested list of pids does not fit in to the fixed length buffer by enabling all pids (except the NUL pid)

Previously, calls to update the pids would generate get_tuner_filter and set_tuner_filter calls for each individual pid.
Also, while a tuner was allocated, pids would never be freed up from the hdhomerun filter table even when they were no longer needed.
And if the list of requested pids had exceeded the fixed length buffer, then not all the requested pids would be properly enabled.
Very noticeably, in cases where the number of pids is large enough, very frequent pid updates would overload the hdhomerun causing it to
drop bursts of program data (mpegts broadcast packets) every several seconds on all tuners for the duration of the rapid pid updates
(reproducible on the HDHR4-2US model).

This proposed patch reimplements tvhdhomerun_frontend_update_pids(...) to read the list of pids and generate a single string to set the pid filter in the hdhomerun.
tvhdhomerun_frontend_update_pids() repeatedly, for each pid, reads the hdhomerun pid filter string, appends the single pid, and writes this pid filter string to set the pid filter.
Currently, tvhdhomerun_frontend_update_pids() does this:
2021-08-27 11:32:25.036 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000 0x0030-0x0031 0x0034-0x0035 0x0001
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0030
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0031
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0034
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The reimplemented tvhdhomerun_frontend_update_pids() only does this:
2021-09-01 14:11:30.610 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The control traffic to the hdhomerun grows exponentially with the number of pids.  The reimplementation brings this down to linear growth.
One of the EPG modules calls tvhdhomerun_frontend_update_pids() rapidly and if there is also a large enough set of pids to update, the flood of control traffic causes the hdhomerun (verified on model HDHR4-2US) to malfunction and intermittently drop broadcast packets.
Also, the scratch buffer for assembling this list of hdhomerun formatted pids is currently hard coded to 1024 bytes/chars for both implementations.  If we can't fit the list of pids in to the buffer, then we fallback and send ""0x0000-0x1ffe"" to enable all but pid 0x1fff (NUL packets), instead of taking our chances on sending a truncated list of pids.
Code Notes:

I thought this might be a little tricky to understand so I supplied some extra comments in tvhdhomerun_frontend_update_pids().
I used a local function in a code block in tvhdhomerun_frontend_update_pids() to simplify the implementation.

Verification:

I tested different combinations of enabling/disabling programs on a tuner and verified that the appropriate pids are set.
I verified that the correct pids were unset when a program ended while another program continued on the same tuner.
I test recompiled this fix with the scratch buffer of only 64 chars long (ie. char buffer[64];) to easily test the case where this buffer is too small to handle some list of pids.
I tested the turn-on-all-pids/MPEGTS_FULLMUX_PID case by intermittently requesting a mux. stream, while programs were present and absent on the same tuner.
I've been testing this patch in production for more than a week and counting--so far so good!

If you have a hdhomerun digital tuner, have a look.  Don't forget to add/append 'tvhdhomerun' to --debug or via UI under Configuration-->Debugging-->Debug subsystems and watch for the string ""pfilter to"" in the message log.  Also, take notice of the message log for string matches of ""pfilter to"" both before and after applying this patch to compare.",True,"{'THUMBS_UP': ['https://github.com/Trujulu', 'https://github.com/vascobraga41', 'https://github.com/th0ma7']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1419,2021-09-09T15:17:08Z,2021-11-21T13:00:55Z,2021-11-21T13:00:55Z,MERGED,True,88,60,1,https://github.com/NormRaden,Improve the performance of updating the pid filter table in hdhomerun…,1,[],https://github.com/tvheadend/tvheadend/pull/1419,https://github.com/Trujulu,2,https://github.com/tvheadend/tvheadend/pull/1419#issuecomment-918129496,"… digital tuners.

Construct the list of pids formatted for the hdhomerun and handle edge cases.
For each call to tvhdhomerun_frontend_update_pids(...), only issue one set_tuner_filter call to the hdhomerun.
Turn off pids when done using them.
Handle the rare case where the requested list of pids does not fit in to the fixed length buffer by enabling all pids (except the NUL pid)

Previously, calls to update the pids would generate get_tuner_filter and set_tuner_filter calls for each individual pid.
Also, while a tuner was allocated, pids would never be freed up from the hdhomerun filter table even when they were no longer needed.
And if the list of requested pids had exceeded the fixed length buffer, then not all the requested pids would be properly enabled.
Very noticeably, in cases where the number of pids is large enough, very frequent pid updates would overload the hdhomerun causing it to
drop bursts of program data (mpegts broadcast packets) every several seconds on all tuners for the duration of the rapid pid updates
(reproducible on the HDHR4-2US model).

This proposed patch reimplements tvhdhomerun_frontend_update_pids(...) to read the list of pids and generate a single string to set the pid filter in the hdhomerun.
tvhdhomerun_frontend_update_pids() repeatedly, for each pid, reads the hdhomerun pid filter string, appends the single pid, and writes this pid filter string to set the pid filter.
Currently, tvhdhomerun_frontend_update_pids() does this:
2021-08-27 11:32:25.036 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000 0x0030-0x0031 0x0034-0x0035 0x0001
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0030
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0031
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0034
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The reimplemented tvhdhomerun_frontend_update_pids() only does this:
2021-09-01 14:11:30.610 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The control traffic to the hdhomerun grows exponentially with the number of pids.  The reimplementation brings this down to linear growth.
One of the EPG modules calls tvhdhomerun_frontend_update_pids() rapidly and if there is also a large enough set of pids to update, the flood of control traffic causes the hdhomerun (verified on model HDHR4-2US) to malfunction and intermittently drop broadcast packets.
Also, the scratch buffer for assembling this list of hdhomerun formatted pids is currently hard coded to 1024 bytes/chars for both implementations.  If we can't fit the list of pids in to the buffer, then we fallback and send ""0x0000-0x1ffe"" to enable all but pid 0x1fff (NUL packets), instead of taking our chances on sending a truncated list of pids.
Code Notes:

I thought this might be a little tricky to understand so I supplied some extra comments in tvhdhomerun_frontend_update_pids().
I used a local function in a code block in tvhdhomerun_frontend_update_pids() to simplify the implementation.

Verification:

I tested different combinations of enabling/disabling programs on a tuner and verified that the appropriate pids are set.
I verified that the correct pids were unset when a program ended while another program continued on the same tuner.
I test recompiled this fix with the scratch buffer of only 64 chars long (ie. char buffer[64];) to easily test the case where this buffer is too small to handle some list of pids.
I tested the turn-on-all-pids/MPEGTS_FULLMUX_PID case by intermittently requesting a mux. stream, while programs were present and absent on the same tuner.
I've been testing this patch in production for more than a week and counting--so far so good!

If you have a hdhomerun digital tuner, have a look.  Don't forget to add/append 'tvhdhomerun' to --debug or via UI under Configuration-->Debugging-->Debug subsystems and watch for the string ""pfilter to"" in the message log.  Also, take notice of the message log for string matches of ""pfilter to"" both before and after applying this patch to compare.","I am using this patch on HDHR5-4DT(EU) and HDHR5-4DT(UK) and it is working correctly at the moment.
It seems that there are fewer errors in the streams. If there is any problem I will continue to inform.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1419,2021-09-09T15:17:08Z,2021-11-21T13:00:55Z,2021-11-21T13:00:55Z,MERGED,True,88,60,1,https://github.com/NormRaden,Improve the performance of updating the pid filter table in hdhomerun…,1,[],https://github.com/tvheadend/tvheadend/pull/1419,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1419#issuecomment-918612300,"… digital tuners.

Construct the list of pids formatted for the hdhomerun and handle edge cases.
For each call to tvhdhomerun_frontend_update_pids(...), only issue one set_tuner_filter call to the hdhomerun.
Turn off pids when done using them.
Handle the rare case where the requested list of pids does not fit in to the fixed length buffer by enabling all pids (except the NUL pid)

Previously, calls to update the pids would generate get_tuner_filter and set_tuner_filter calls for each individual pid.
Also, while a tuner was allocated, pids would never be freed up from the hdhomerun filter table even when they were no longer needed.
And if the list of requested pids had exceeded the fixed length buffer, then not all the requested pids would be properly enabled.
Very noticeably, in cases where the number of pids is large enough, very frequent pid updates would overload the hdhomerun causing it to
drop bursts of program data (mpegts broadcast packets) every several seconds on all tuners for the duration of the rapid pid updates
(reproducible on the HDHR4-2US model).

This proposed patch reimplements tvhdhomerun_frontend_update_pids(...) to read the list of pids and generate a single string to set the pid filter in the hdhomerun.
tvhdhomerun_frontend_update_pids() repeatedly, for each pid, reads the hdhomerun pid filter string, appends the single pid, and writes this pid filter string to set the pid filter.
Currently, tvhdhomerun_frontend_update_pids() does this:
2021-08-27 11:32:25.036 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000 0x0030-0x0031 0x0034-0x0035 0x0001
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0030
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0031
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0034
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The reimplemented tvhdhomerun_frontend_update_pids() only does this:
2021-09-01 14:11:30.610 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The control traffic to the hdhomerun grows exponentially with the number of pids.  The reimplementation brings this down to linear growth.
One of the EPG modules calls tvhdhomerun_frontend_update_pids() rapidly and if there is also a large enough set of pids to update, the flood of control traffic causes the hdhomerun (verified on model HDHR4-2US) to malfunction and intermittently drop broadcast packets.
Also, the scratch buffer for assembling this list of hdhomerun formatted pids is currently hard coded to 1024 bytes/chars for both implementations.  If we can't fit the list of pids in to the buffer, then we fallback and send ""0x0000-0x1ffe"" to enable all but pid 0x1fff (NUL packets), instead of taking our chances on sending a truncated list of pids.
Code Notes:

I thought this might be a little tricky to understand so I supplied some extra comments in tvhdhomerun_frontend_update_pids().
I used a local function in a code block in tvhdhomerun_frontend_update_pids() to simplify the implementation.

Verification:

I tested different combinations of enabling/disabling programs on a tuner and verified that the appropriate pids are set.
I verified that the correct pids were unset when a program ended while another program continued on the same tuner.
I test recompiled this fix with the scratch buffer of only 64 chars long (ie. char buffer[64];) to easily test the case where this buffer is too small to handle some list of pids.
I tested the turn-on-all-pids/MPEGTS_FULLMUX_PID case by intermittently requesting a mux. stream, while programs were present and absent on the same tuner.
I've been testing this patch in production for more than a week and counting--so far so good!

If you have a hdhomerun digital tuner, have a look.  Don't forget to add/append 'tvhdhomerun' to --debug or via UI under Configuration-->Debugging-->Debug subsystems and watch for the string ""pfilter to"" in the message log.  Also, take notice of the message log for string matches of ""pfilter to"" both before and after applying this patch to compare.",@NormRaden Thank you very much for your contribution and you did a very good job with the description of this PR! I will let coverity run a quick check over this to see if there are any issues that I didn't notice during my review and then it can be merged from the functional side IMO. There are 2 cases where I'd like braces to be added though for better readability.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1419,2021-09-09T15:17:08Z,2021-11-21T13:00:55Z,2021-11-21T13:00:55Z,MERGED,True,88,60,1,https://github.com/NormRaden,Improve the performance of updating the pid filter table in hdhomerun…,1,[],https://github.com/tvheadend/tvheadend/pull/1419,https://github.com/NormRaden,4,https://github.com/tvheadend/tvheadend/pull/1419#issuecomment-919440606,"… digital tuners.

Construct the list of pids formatted for the hdhomerun and handle edge cases.
For each call to tvhdhomerun_frontend_update_pids(...), only issue one set_tuner_filter call to the hdhomerun.
Turn off pids when done using them.
Handle the rare case where the requested list of pids does not fit in to the fixed length buffer by enabling all pids (except the NUL pid)

Previously, calls to update the pids would generate get_tuner_filter and set_tuner_filter calls for each individual pid.
Also, while a tuner was allocated, pids would never be freed up from the hdhomerun filter table even when they were no longer needed.
And if the list of requested pids had exceeded the fixed length buffer, then not all the requested pids would be properly enabled.
Very noticeably, in cases where the number of pids is large enough, very frequent pid updates would overload the hdhomerun causing it to
drop bursts of program data (mpegts broadcast packets) every several seconds on all tuners for the duration of the rapid pid updates
(reproducible on the HDHR4-2US model).

This proposed patch reimplements tvhdhomerun_frontend_update_pids(...) to read the list of pids and generate a single string to set the pid filter in the hdhomerun.
tvhdhomerun_frontend_update_pids() repeatedly, for each pid, reads the hdhomerun pid filter string, appends the single pid, and writes this pid filter string to set the pid filter.
Currently, tvhdhomerun_frontend_update_pids() does this:
2021-08-27 11:32:25.036 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000 0x0030-0x0031 0x0034-0x0035 0x0001
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0030
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0031
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0034
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The reimplemented tvhdhomerun_frontend_update_pids() only does this:
2021-09-01 14:11:30.610 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The control traffic to the hdhomerun grows exponentially with the number of pids.  The reimplementation brings this down to linear growth.
One of the EPG modules calls tvhdhomerun_frontend_update_pids() rapidly and if there is also a large enough set of pids to update, the flood of control traffic causes the hdhomerun (verified on model HDHR4-2US) to malfunction and intermittently drop broadcast packets.
Also, the scratch buffer for assembling this list of hdhomerun formatted pids is currently hard coded to 1024 bytes/chars for both implementations.  If we can't fit the list of pids in to the buffer, then we fallback and send ""0x0000-0x1ffe"" to enable all but pid 0x1fff (NUL packets), instead of taking our chances on sending a truncated list of pids.
Code Notes:

I thought this might be a little tricky to understand so I supplied some extra comments in tvhdhomerun_frontend_update_pids().
I used a local function in a code block in tvhdhomerun_frontend_update_pids() to simplify the implementation.

Verification:

I tested different combinations of enabling/disabling programs on a tuner and verified that the appropriate pids are set.
I verified that the correct pids were unset when a program ended while another program continued on the same tuner.
I test recompiled this fix with the scratch buffer of only 64 chars long (ie. char buffer[64];) to easily test the case where this buffer is too small to handle some list of pids.
I tested the turn-on-all-pids/MPEGTS_FULLMUX_PID case by intermittently requesting a mux. stream, while programs were present and absent on the same tuner.
I've been testing this patch in production for more than a week and counting--so far so good!

If you have a hdhomerun digital tuner, have a look.  Don't forget to add/append 'tvhdhomerun' to --debug or via UI under Configuration-->Debugging-->Debug subsystems and watch for the string ""pfilter to"" in the message log.  Also, take notice of the message log for string matches of ""pfilter to"" both before and after applying this patch to compare.","@Trujulu Thanks for testing out this minor improvement!  I appreciate that you confirmed that it works with another hdhomerun model in some other regions.
@Flole998 I applied the requested changes and slipped in few minor edits to some comments.  I've retested after these changes and, as expected, it appears to work.  I may have gotten ahead of myself, but I squashed the changes in to one commit on the same branch.
So far, I've been running my production tvheadend service with this minor change for about 2 weeks without any problems.
Apologies to anyone affected by the forced push.",True,"{'HEART': ['https://github.com/Trujulu', 'https://github.com/polojoe']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1419,2021-09-09T15:17:08Z,2021-11-21T13:00:55Z,2021-11-21T13:00:55Z,MERGED,True,88,60,1,https://github.com/NormRaden,Improve the performance of updating the pid filter table in hdhomerun…,1,[],https://github.com/tvheadend/tvheadend/pull/1419,https://github.com/NormRaden,5,https://github.com/tvheadend/tvheadend/pull/1419#issuecomment-928224286,"… digital tuners.

Construct the list of pids formatted for the hdhomerun and handle edge cases.
For each call to tvhdhomerun_frontend_update_pids(...), only issue one set_tuner_filter call to the hdhomerun.
Turn off pids when done using them.
Handle the rare case where the requested list of pids does not fit in to the fixed length buffer by enabling all pids (except the NUL pid)

Previously, calls to update the pids would generate get_tuner_filter and set_tuner_filter calls for each individual pid.
Also, while a tuner was allocated, pids would never be freed up from the hdhomerun filter table even when they were no longer needed.
And if the list of requested pids had exceeded the fixed length buffer, then not all the requested pids would be properly enabled.
Very noticeably, in cases where the number of pids is large enough, very frequent pid updates would overload the hdhomerun causing it to
drop bursts of program data (mpegts broadcast packets) every several seconds on all tuners for the duration of the rapid pid updates
(reproducible on the HDHR4-2US model).

This proposed patch reimplements tvhdhomerun_frontend_update_pids(...) to read the list of pids and generate a single string to set the pid filter in the hdhomerun.
tvhdhomerun_frontend_update_pids() repeatedly, for each pid, reads the hdhomerun pid filter string, appends the single pid, and writes this pid filter string to set the pid filter.
Currently, tvhdhomerun_frontend_update_pids() does this:
2021-08-27 11:32:25.036 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000 0x0030-0x0031 0x0034-0x0035 0x0001
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0030
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0031
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0034
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The reimplemented tvhdhomerun_frontend_update_pids() only does this:
2021-09-01 14:11:30.610 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The control traffic to the hdhomerun grows exponentially with the number of pids.  The reimplementation brings this down to linear growth.
One of the EPG modules calls tvhdhomerun_frontend_update_pids() rapidly and if there is also a large enough set of pids to update, the flood of control traffic causes the hdhomerun (verified on model HDHR4-2US) to malfunction and intermittently drop broadcast packets.
Also, the scratch buffer for assembling this list of hdhomerun formatted pids is currently hard coded to 1024 bytes/chars for both implementations.  If we can't fit the list of pids in to the buffer, then we fallback and send ""0x0000-0x1ffe"" to enable all but pid 0x1fff (NUL packets), instead of taking our chances on sending a truncated list of pids.
Code Notes:

I thought this might be a little tricky to understand so I supplied some extra comments in tvhdhomerun_frontend_update_pids().
I used a local function in a code block in tvhdhomerun_frontend_update_pids() to simplify the implementation.

Verification:

I tested different combinations of enabling/disabling programs on a tuner and verified that the appropriate pids are set.
I verified that the correct pids were unset when a program ended while another program continued on the same tuner.
I test recompiled this fix with the scratch buffer of only 64 chars long (ie. char buffer[64];) to easily test the case where this buffer is too small to handle some list of pids.
I tested the turn-on-all-pids/MPEGTS_FULLMUX_PID case by intermittently requesting a mux. stream, while programs were present and absent on the same tuner.
I've been testing this patch in production for more than a week and counting--so far so good!

If you have a hdhomerun digital tuner, have a look.  Don't forget to add/append 'tvhdhomerun' to --debug or via UI under Configuration-->Debugging-->Debug subsystems and watch for the string ""pfilter to"" in the message log.  Also, take notice of the message log for string matches of ""pfilter to"" both before and after applying this patch to compare.","@Trujulu Thanks for continuing to test this patch!
@Flole998 Continues to work for me too.  There is just one commit ready for consideration.",True,"{'THUMBS_UP': ['https://github.com/Trujulu', 'https://github.com/vascobraga41']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1419,2021-09-09T15:17:08Z,2021-11-21T13:00:55Z,2021-11-21T13:00:55Z,MERGED,True,88,60,1,https://github.com/NormRaden,Improve the performance of updating the pid filter table in hdhomerun…,1,[],https://github.com/tvheadend/tvheadend/pull/1419,https://github.com/Trujulu,6,https://github.com/tvheadend/tvheadend/pull/1419#issuecomment-961503203,"… digital tuners.

Construct the list of pids formatted for the hdhomerun and handle edge cases.
For each call to tvhdhomerun_frontend_update_pids(...), only issue one set_tuner_filter call to the hdhomerun.
Turn off pids when done using them.
Handle the rare case where the requested list of pids does not fit in to the fixed length buffer by enabling all pids (except the NUL pid)

Previously, calls to update the pids would generate get_tuner_filter and set_tuner_filter calls for each individual pid.
Also, while a tuner was allocated, pids would never be freed up from the hdhomerun filter table even when they were no longer needed.
And if the list of requested pids had exceeded the fixed length buffer, then not all the requested pids would be properly enabled.
Very noticeably, in cases where the number of pids is large enough, very frequent pid updates would overload the hdhomerun causing it to
drop bursts of program data (mpegts broadcast packets) every several seconds on all tuners for the duration of the rapid pid updates
(reproducible on the HDHR4-2US model).

This proposed patch reimplements tvhdhomerun_frontend_update_pids(...) to read the list of pids and generate a single string to set the pid filter in the hdhomerun.
tvhdhomerun_frontend_update_pids() repeatedly, for each pid, reads the hdhomerun pid filter string, appends the single pid, and writes this pid filter string to set the pid filter.
Currently, tvhdhomerun_frontend_update_pids() does this:
2021-08-27 11:32:25.036 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000 0x0030-0x0031 0x0034-0x0035 0x0001
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0030
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0031
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0034
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The reimplemented tvhdhomerun_frontend_update_pids() only does this:
2021-09-01 14:11:30.610 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The control traffic to the hdhomerun grows exponentially with the number of pids.  The reimplementation brings this down to linear growth.
One of the EPG modules calls tvhdhomerun_frontend_update_pids() rapidly and if there is also a large enough set of pids to update, the flood of control traffic causes the hdhomerun (verified on model HDHR4-2US) to malfunction and intermittently drop broadcast packets.
Also, the scratch buffer for assembling this list of hdhomerun formatted pids is currently hard coded to 1024 bytes/chars for both implementations.  If we can't fit the list of pids in to the buffer, then we fallback and send ""0x0000-0x1ffe"" to enable all but pid 0x1fff (NUL packets), instead of taking our chances on sending a truncated list of pids.
Code Notes:

I thought this might be a little tricky to understand so I supplied some extra comments in tvhdhomerun_frontend_update_pids().
I used a local function in a code block in tvhdhomerun_frontend_update_pids() to simplify the implementation.

Verification:

I tested different combinations of enabling/disabling programs on a tuner and verified that the appropriate pids are set.
I verified that the correct pids were unset when a program ended while another program continued on the same tuner.
I test recompiled this fix with the scratch buffer of only 64 chars long (ie. char buffer[64];) to easily test the case where this buffer is too small to handle some list of pids.
I tested the turn-on-all-pids/MPEGTS_FULLMUX_PID case by intermittently requesting a mux. stream, while programs were present and absent on the same tuner.
I've been testing this patch in production for more than a week and counting--so far so good!

If you have a hdhomerun digital tuner, have a look.  Don't forget to add/append 'tvhdhomerun' to --debug or via UI under Configuration-->Debugging-->Debug subsystems and watch for the string ""pfilter to"" in the message log.  Also, take notice of the message log for string matches of ""pfilter to"" both before and after applying this patch to compare.",Everything ok at my side.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1419,2021-09-09T15:17:08Z,2021-11-21T13:00:55Z,2021-11-21T13:00:55Z,MERGED,True,88,60,1,https://github.com/NormRaden,Improve the performance of updating the pid filter table in hdhomerun…,1,[],https://github.com/tvheadend/tvheadend/pull/1419,https://github.com/NormRaden,7,https://github.com/tvheadend/tvheadend/pull/1419#issuecomment-966452552,"… digital tuners.

Construct the list of pids formatted for the hdhomerun and handle edge cases.
For each call to tvhdhomerun_frontend_update_pids(...), only issue one set_tuner_filter call to the hdhomerun.
Turn off pids when done using them.
Handle the rare case where the requested list of pids does not fit in to the fixed length buffer by enabling all pids (except the NUL pid)

Previously, calls to update the pids would generate get_tuner_filter and set_tuner_filter calls for each individual pid.
Also, while a tuner was allocated, pids would never be freed up from the hdhomerun filter table even when they were no longer needed.
And if the list of requested pids had exceeded the fixed length buffer, then not all the requested pids would be properly enabled.
Very noticeably, in cases where the number of pids is large enough, very frequent pid updates would overload the hdhomerun causing it to
drop bursts of program data (mpegts broadcast packets) every several seconds on all tuners for the duration of the rapid pid updates
(reproducible on the HDHR4-2US model).

This proposed patch reimplements tvhdhomerun_frontend_update_pids(...) to read the list of pids and generate a single string to set the pid filter in the hdhomerun.
tvhdhomerun_frontend_update_pids() repeatedly, for each pid, reads the hdhomerun pid filter string, appends the single pid, and writes this pid filter string to set the pid filter.
Currently, tvhdhomerun_frontend_update_pids() does this:
2021-08-27 11:32:25.036 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000 0x0030-0x0031 0x0034-0x0035 0x0001
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0030
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0031
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0034
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The reimplemented tvhdhomerun_frontend_update_pids() only does this:
2021-09-01 14:11:30.610 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The control traffic to the hdhomerun grows exponentially with the number of pids.  The reimplementation brings this down to linear growth.
One of the EPG modules calls tvhdhomerun_frontend_update_pids() rapidly and if there is also a large enough set of pids to update, the flood of control traffic causes the hdhomerun (verified on model HDHR4-2US) to malfunction and intermittently drop broadcast packets.
Also, the scratch buffer for assembling this list of hdhomerun formatted pids is currently hard coded to 1024 bytes/chars for both implementations.  If we can't fit the list of pids in to the buffer, then we fallback and send ""0x0000-0x1ffe"" to enable all but pid 0x1fff (NUL packets), instead of taking our chances on sending a truncated list of pids.
Code Notes:

I thought this might be a little tricky to understand so I supplied some extra comments in tvhdhomerun_frontend_update_pids().
I used a local function in a code block in tvhdhomerun_frontend_update_pids() to simplify the implementation.

Verification:

I tested different combinations of enabling/disabling programs on a tuner and verified that the appropriate pids are set.
I verified that the correct pids were unset when a program ended while another program continued on the same tuner.
I test recompiled this fix with the scratch buffer of only 64 chars long (ie. char buffer[64];) to easily test the case where this buffer is too small to handle some list of pids.
I tested the turn-on-all-pids/MPEGTS_FULLMUX_PID case by intermittently requesting a mux. stream, while programs were present and absent on the same tuner.
I've been testing this patch in production for more than a week and counting--so far so good!

If you have a hdhomerun digital tuner, have a look.  Don't forget to add/append 'tvhdhomerun' to --debug or via UI under Configuration-->Debugging-->Debug subsystems and watch for the string ""pfilter to"" in the message log.  Also, take notice of the message log for string matches of ""pfilter to"" both before and after applying this patch to compare.","@Flole998 It's been a couple months, what else needs to be done to this patch?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1419,2021-09-09T15:17:08Z,2021-11-21T13:00:55Z,2021-11-21T13:00:55Z,MERGED,True,88,60,1,https://github.com/NormRaden,Improve the performance of updating the pid filter table in hdhomerun…,1,[],https://github.com/tvheadend/tvheadend/pull/1419,https://github.com/Flole998,8,https://github.com/tvheadend/tvheadend/pull/1419#issuecomment-969457405,"… digital tuners.

Construct the list of pids formatted for the hdhomerun and handle edge cases.
For each call to tvhdhomerun_frontend_update_pids(...), only issue one set_tuner_filter call to the hdhomerun.
Turn off pids when done using them.
Handle the rare case where the requested list of pids does not fit in to the fixed length buffer by enabling all pids (except the NUL pid)

Previously, calls to update the pids would generate get_tuner_filter and set_tuner_filter calls for each individual pid.
Also, while a tuner was allocated, pids would never be freed up from the hdhomerun filter table even when they were no longer needed.
And if the list of requested pids had exceeded the fixed length buffer, then not all the requested pids would be properly enabled.
Very noticeably, in cases where the number of pids is large enough, very frequent pid updates would overload the hdhomerun causing it to
drop bursts of program data (mpegts broadcast packets) every several seconds on all tuners for the duration of the rapid pid updates
(reproducible on the HDHR4-2US model).

This proposed patch reimplements tvhdhomerun_frontend_update_pids(...) to read the list of pids and generate a single string to set the pid filter in the hdhomerun.
tvhdhomerun_frontend_update_pids() repeatedly, for each pid, reads the hdhomerun pid filter string, appends the single pid, and writes this pid filter string to set the pid filter.
Currently, tvhdhomerun_frontend_update_pids() does this:
2021-08-27 11:32:25.036 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000 0x0030-0x0031 0x0034-0x0035 0x0001
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0030
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0031
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0034
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The reimplemented tvhdhomerun_frontend_update_pids() only does this:
2021-09-01 14:11:30.610 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The control traffic to the hdhomerun grows exponentially with the number of pids.  The reimplementation brings this down to linear growth.
One of the EPG modules calls tvhdhomerun_frontend_update_pids() rapidly and if there is also a large enough set of pids to update, the flood of control traffic causes the hdhomerun (verified on model HDHR4-2US) to malfunction and intermittently drop broadcast packets.
Also, the scratch buffer for assembling this list of hdhomerun formatted pids is currently hard coded to 1024 bytes/chars for both implementations.  If we can't fit the list of pids in to the buffer, then we fallback and send ""0x0000-0x1ffe"" to enable all but pid 0x1fff (NUL packets), instead of taking our chances on sending a truncated list of pids.
Code Notes:

I thought this might be a little tricky to understand so I supplied some extra comments in tvhdhomerun_frontend_update_pids().
I used a local function in a code block in tvhdhomerun_frontend_update_pids() to simplify the implementation.

Verification:

I tested different combinations of enabling/disabling programs on a tuner and verified that the appropriate pids are set.
I verified that the correct pids were unset when a program ended while another program continued on the same tuner.
I test recompiled this fix with the scratch buffer of only 64 chars long (ie. char buffer[64];) to easily test the case where this buffer is too small to handle some list of pids.
I tested the turn-on-all-pids/MPEGTS_FULLMUX_PID case by intermittently requesting a mux. stream, while programs were present and absent on the same tuner.
I've been testing this patch in production for more than a week and counting--so far so good!

If you have a hdhomerun digital tuner, have a look.  Don't forget to add/append 'tvhdhomerun' to --debug or via UI under Configuration-->Debugging-->Debug subsystems and watch for the string ""pfilter to"" in the message log.  Also, take notice of the message log for string matches of ""pfilter to"" both before and after applying this patch to compare.","I need to find time to let coverity do a quick check, if that's okay it can be merged I think.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1419,2021-09-09T15:17:08Z,2021-11-21T13:00:55Z,2021-11-21T13:00:55Z,MERGED,True,88,60,1,https://github.com/NormRaden,Improve the performance of updating the pid filter table in hdhomerun…,1,[],https://github.com/tvheadend/tvheadend/pull/1419,https://github.com/NormRaden,9,https://github.com/tvheadend/tvheadend/pull/1419#issuecomment-974491008,"… digital tuners.

Construct the list of pids formatted for the hdhomerun and handle edge cases.
For each call to tvhdhomerun_frontend_update_pids(...), only issue one set_tuner_filter call to the hdhomerun.
Turn off pids when done using them.
Handle the rare case where the requested list of pids does not fit in to the fixed length buffer by enabling all pids (except the NUL pid)

Previously, calls to update the pids would generate get_tuner_filter and set_tuner_filter calls for each individual pid.
Also, while a tuner was allocated, pids would never be freed up from the hdhomerun filter table even when they were no longer needed.
And if the list of requested pids had exceeded the fixed length buffer, then not all the requested pids would be properly enabled.
Very noticeably, in cases where the number of pids is large enough, very frequent pid updates would overload the hdhomerun causing it to
drop bursts of program data (mpegts broadcast packets) every several seconds on all tuners for the duration of the rapid pid updates
(reproducible on the HDHR4-2US model).

This proposed patch reimplements tvhdhomerun_frontend_update_pids(...) to read the list of pids and generate a single string to set the pid filter in the hdhomerun.
tvhdhomerun_frontend_update_pids() repeatedly, for each pid, reads the hdhomerun pid filter string, appends the single pid, and writes this pid filter string to set the pid filter.
Currently, tvhdhomerun_frontend_update_pids() does this:
2021-08-27 11:32:25.036 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.041 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000 0x0030-0x0031 0x0034-0x0035 0x0001
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.047 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0030
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.054 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0031
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.060 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0034
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.067 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: current pfilter: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035
2021-08-27 11:32:25.070 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The reimplemented tvhdhomerun_frontend_update_pids() only does this:
2021-09-01 14:11:30.610 [  DEBUG]:tvhdhomerun: setting pfilter to: 0x0000-0x0001 0x0030-0x0031 0x0034-0x0035 0x1ffb
The control traffic to the hdhomerun grows exponentially with the number of pids.  The reimplementation brings this down to linear growth.
One of the EPG modules calls tvhdhomerun_frontend_update_pids() rapidly and if there is also a large enough set of pids to update, the flood of control traffic causes the hdhomerun (verified on model HDHR4-2US) to malfunction and intermittently drop broadcast packets.
Also, the scratch buffer for assembling this list of hdhomerun formatted pids is currently hard coded to 1024 bytes/chars for both implementations.  If we can't fit the list of pids in to the buffer, then we fallback and send ""0x0000-0x1ffe"" to enable all but pid 0x1fff (NUL packets), instead of taking our chances on sending a truncated list of pids.
Code Notes:

I thought this might be a little tricky to understand so I supplied some extra comments in tvhdhomerun_frontend_update_pids().
I used a local function in a code block in tvhdhomerun_frontend_update_pids() to simplify the implementation.

Verification:

I tested different combinations of enabling/disabling programs on a tuner and verified that the appropriate pids are set.
I verified that the correct pids were unset when a program ended while another program continued on the same tuner.
I test recompiled this fix with the scratch buffer of only 64 chars long (ie. char buffer[64];) to easily test the case where this buffer is too small to handle some list of pids.
I tested the turn-on-all-pids/MPEGTS_FULLMUX_PID case by intermittently requesting a mux. stream, while programs were present and absent on the same tuner.
I've been testing this patch in production for more than a week and counting--so far so good!

If you have a hdhomerun digital tuner, have a look.  Don't forget to add/append 'tvhdhomerun' to --debug or via UI under Configuration-->Debugging-->Debug subsystems and watch for the string ""pfilter to"" in the message log.  Also, take notice of the message log for string matches of ""pfilter to"" both before and after applying this patch to compare.","No hurry, I've applied gcc's new static analyzer on src/input/mpegts/tvhdhomerun/tvhdhomerun_frontend.c and it only complains about a possible memory leak in function tvhdhomerun_frontend_monitor_cb(...) around the use of strdup(...) and a possible NULL dereference in function tvhdhomerun_frontend_create(...)--probable false positives, but it doesn't complain about any code changes relating to this PR.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1420,2021-09-29T15:16:32Z,2021-10-17T00:12:53Z,2021-10-21T06:05:38Z,MERGED,True,15,5,1,https://github.com/jahutchi,"opentv: fix incorrect summaries for skyuk epg, fixes #5995",1,[],https://github.com/tvheadend/tvheadend/pull/1420,https://github.com/jahutchi,1,https://github.com/tvheadend/tvheadend/pull/1420,"Events within the OpenTV SkyUK data can contain the same Event ID as another event on a different channel.
This results in missing or incorrect summary data in Tvheadend, since it's matching is based solely on the Event ID.
For example:

Notice how several events have the wrong summary, and others are missing a summary (since that summary was incorrectly linked to a different event).
To help illustrate, I found the Event ID for the event highlighted in the above screenshot and using a forked version of the openTVtoXML external scraper (modified to also output Event IDs) I found all events with that same event ID.

  Expand here to show full XML for those events
 <programme start=""20210929163000 +0100"" stop=""20210929164500 +0100"" channel=""282_2_3780"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Pikwik Pack</title>
  <category lang=""en"">Children - Cartoons</category>
  <desc lang=""en"">Kip In The Caboose: Axel has made Tibor a Totally Axellent Taco that Tibor's afraid to tell him, is not-so-Excellent after all. Should Percy and Tibor tell the truth about what happened? (S1 Ep8)</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211001034000 +0100"" stop=""20211001050500 +0100"" channel=""282_2_6200"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">ITV Nightscreen</title>
  <category lang=""en"">Entertainment</category>
  <desc lang=""en"">Text-based information service.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211001100000 +0100"" stop=""20211001105000 +0100"" channel=""282_2_1066"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Covid-19 Pandemic</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">The novel coronavirus outbreak started in Wuhan in China and has now become a global pandemic. We take a look at the implications across the world.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211001090000 +0100"" stop=""20211001094500 +0100"" channel=""282_2_1244"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Polti Cordless Vacuum BlockBuster</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">The BlockBuster is the chance to get this product at the best offer - ever, while stocks last.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211006053000 +0100"" stop=""20211006060000 +0100"" channel=""282_2_3117"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Chaplet of St Michael</title>
  <category lang=""en"">News &amp; Documentaries - Religious</category>
  <desc lang=""en"">A traditional Roman Catholic prayer is recited to request the assistance of divine beings as well as that of St Michael the Archangel.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211001070000 +0100"" stop=""20211001073000 +0100"" channel=""282_2_1406"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Kay Burley</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">All the big stories of the morning presented by Kay Burley, with reports and analysis from the Sky News team, big name interviews and human interest stories.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211003180000 +0100"" stop=""20211003183000 +0100"" channel=""282_2_1104"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Darse Hadees</title>
  <category lang=""en"">News &amp; Documentaries - Religious</category>
  <desc lang=""en"">Informative lecture about Islamic teaching for youth.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210929193000 +0100"" stop=""20210929200000 +0100"" channel=""282_2_3205"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Jim Bakker</title>
  <category lang=""en"">News &amp; Documentaries - Religious</category>
  <desc lang=""en"">Healthy living ministry  with Jim Bakker</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210930003000 +0100"" stop=""20210930010000 +0100"" channel=""282_2_3590"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Diners, Drive-Ins, And Dives</title>
  <category lang=""en"">Entertainment - Cooking</category>
  <desc lang=""en"">From North To South America. From a Houston joint's Argentinian empanadas to street tacos in Cancun, Mexico, Guy Fieri digs into flavours spanning the Americas. S26, Ep8</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211004103000 +0100"" stop=""20211004110000 +0100"" channel=""282_2_1235"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Al Khalil &amp; Boruna Reports</title>
  <category lang=""en"">News &amp; Documentaries - Religious</category>
  <desc lang=""en"">A documentary feedback report containing the progress of projects delivered by Al Khalil and Boruna Madrasha</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210929210000 +0100"" stop=""20210929211500 +0100"" channel=""282_2_4261"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Super Wings</title>
  <category lang=""en"">Children - Cartoons</category>
  <desc lang=""en"">Baby Tiger Delivery: Jett and Jett Pet join a girl and her father to look for a lost tiger kitten's mother in the jungle of Madhya Pradesh, India - the same jungle from &quot;The Jungle Book&quot;. (S5 Ep5)</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210930143000 +0100"" stop=""20210930153000 +0100"" channel=""282_2_3687"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Directors</title>
  <category lang=""en"">Entertainment - Lifestyle</category>
  <desc lang=""en"">Profile documentary of great African filmmakers.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211003193000 +0100"" stop=""20211003194000 +0100"" channel=""282_2_1018"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">The Greek Isles from &#x00A3;599pp</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">Another fabulous deal from Cruise1st.tv - call to book now on 0800 953 4700 (free of charge) or online at www.cruise1st.tv</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210929170000 +0100"" stop=""20210929173000 +0100"" channel=""282_2_1130"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Wonder Core Flex Cycle</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">The ultra-versatile, 4-in-1 stationary bike that delivers fat burning cardio, lower body toning and core strengthening all in one! Call 0344 800 0800 (local rates apply) or visit highstreettv.com</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211005231500 +0100"" stop=""20211005233000 +0100"" channel=""282_2_3147"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Newsline In Depth</title>
  <category lang=""en"">Genre 0xb3</category>
  <desc lang=""en"">Introducing a colourful variety of feature stories, including reports on daily life from locations throughout Japan as well as other parts of Asia and around the world.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211003233500 +0100"" stop=""20211004003500 +0100"" channel=""282_2_3028"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Portillo's Hidden History Of...</title>
  <category lang=""en"">Entertainment - Factual</category>
  <desc lang=""en"">...Britain. Documentary series. For almost a century, Orford Ness was owned by the MOD, a lens into a bygone era of secrets, spies and superpowers. (S1 Ep 2)</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211002020000 +0100"" stop=""20211002020500 +0100"" channel=""282_2_1026"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Headline News</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">Latest news bulletin focusing on political, social and economic developments in Pakistan and around the globe. The show also features significant news stories from around the globe.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211002043000 +0100"" stop=""20211002050000 +0100"" channel=""282_2_1226"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Off The Grid</title>
  <category lang=""en"">Entertainment - Travel</category>
  <desc lang=""en"">Going local is the best way to travel. Alex uses the key to go up &amp; close with the fishermen of Kadmat, Lakshadweep's coral island.</desc>
  <rating system=""BFRB""><value>PG</value></rating>
 </programme>

 <programme start=""20211003192000 +0100"" stop=""20211003193000 +0100"" channel=""282_2_4262"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Grizzy And The Lemmings</title>
  <category lang=""en"">Children - Cartoons</category>
  <desc lang=""en"">Warning: Unlimited Lemmings: The Lemmings discover that by changing the speed limit sign on the side of the road they can create a huge wind that is perfect for their extreme kiting game. (S2 Ep30)</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211004000000 +0100"" stop=""20211004003000 +0100"" channel=""282_2_5071"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">News</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">TRT World brings the latest news from around the globe, when it happens.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211006140500 +0100"" stop=""20211006150000 +0100"" channel=""282_2_2296"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">New: Prynhawn Da</title>
  <category lang=""en"">Entertainment - Magazine</category>
  <desc lang=""en"">Cyfres gylchgrawn gydag eitemau coginio a ffasiwn a chyngor am bopeth o addurno'ch cartref i ddewis llyfr da. Magazine series including features on fashion, style, antiques and cookery.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210930210000 +0100"" stop=""20210930213000 +0100"" channel=""282_2_3632"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Mann Egerton Watches</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">Mann Egerton watches demonstrate the mighty and robust qualities of its most famous creations and innovations. Buy now at www.mannegerton.net or call 0333 8806 230 (local call rate).</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211002060000 +0100"" stop=""20211002063000 +0100"" channel=""282_2_5212"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Floating Mop</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">Floating Mop is the motorised, cordless, spinning mop that does the hard work for you! Call 0344 800 0800 (local rates apply) or visit www.highstreettv.com.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211004150000 +0100"" stop=""20211004150500 +0100"" channel=""282_2_4407"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">GEO World News Headlines</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">Bringing you all the latest news from around the globe.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211003023600 +0100"" stop=""20211003024800 +0100"" channel=""282_2_4216"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Power Players</title>
  <category lang=""en"">Children - Cartoons</category>
  <desc lang=""en"">Joke's On You, Bro!: Annoyed with Galileo's pranks, Axel and the Power Players make him believe that he's stuck in invisible mode. (S1 Ep16)</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211005030000 +0100"" stop=""20211005033000 +0100"" channel=""282_2_4645"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">News</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">All the day's news from Sky News Arabia's correspondents across the Arab world and around the globe.</desc>
  <rating system=""BFRB""><value>PG</value></rating>
 </programme>

 <programme start=""20211005053000 +0100"" stop=""20211005060000 +0100"" channel=""282_2_5520"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Entertainment News</title>
  <category lang=""en"">Entertainment</category>
  <desc lang=""en"">A collection of entertainment events, stories and shows that take place in Nigeria and on the foreign scene.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211002090000 +0100"" stop=""20211002093000 +0100"" channel=""282_2_1872"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Teleshopping</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">Teleshopping programming bringing you a selection of innovative products</desc>
  <rating system=""BFRB""><value>PG</value></rating>
 </programme>


As you see, there are several events with Event ID: 971, and for the example in question the summary came from a broadcast on a different channel - namely ""Covid-19 Pandemic""
This commit adjusts the opentv _entry_cmp function to match based on a combination of Event ID and Channel ID. This enables the RB_FIND & RB_INSERT_SORTED functions used within the OpenTV module to reliably insert and uniquely find the correct entry.
Here is a screenshot when running with this PR in place, scraping the correct summary data.","Events within the OpenTV SkyUK data can contain the same Event ID as another event on a different channel.
This results in missing or incorrect summary data in Tvheadend, since it's matching is based solely on the Event ID.
For example:

Notice how several events have the wrong summary, and others are missing a summary (since that summary was incorrectly linked to a different event).
To help illustrate, I found the Event ID for the event highlighted in the above screenshot and using a forked version of the openTVtoXML external scraper (modified to also output Event IDs) I found all events with that same event ID.

  Expand here to show full XML for those events
 <programme start=""20210929163000 +0100"" stop=""20210929164500 +0100"" channel=""282_2_3780"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Pikwik Pack</title>
  <category lang=""en"">Children - Cartoons</category>
  <desc lang=""en"">Kip In The Caboose: Axel has made Tibor a Totally Axellent Taco that Tibor's afraid to tell him, is not-so-Excellent after all. Should Percy and Tibor tell the truth about what happened? (S1 Ep8)</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211001034000 +0100"" stop=""20211001050500 +0100"" channel=""282_2_6200"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">ITV Nightscreen</title>
  <category lang=""en"">Entertainment</category>
  <desc lang=""en"">Text-based information service.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211001100000 +0100"" stop=""20211001105000 +0100"" channel=""282_2_1066"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Covid-19 Pandemic</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">The novel coronavirus outbreak started in Wuhan in China and has now become a global pandemic. We take a look at the implications across the world.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211001090000 +0100"" stop=""20211001094500 +0100"" channel=""282_2_1244"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Polti Cordless Vacuum BlockBuster</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">The BlockBuster is the chance to get this product at the best offer - ever, while stocks last.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211006053000 +0100"" stop=""20211006060000 +0100"" channel=""282_2_3117"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Chaplet of St Michael</title>
  <category lang=""en"">News &amp; Documentaries - Religious</category>
  <desc lang=""en"">A traditional Roman Catholic prayer is recited to request the assistance of divine beings as well as that of St Michael the Archangel.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211001070000 +0100"" stop=""20211001073000 +0100"" channel=""282_2_1406"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Kay Burley</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">All the big stories of the morning presented by Kay Burley, with reports and analysis from the Sky News team, big name interviews and human interest stories.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211003180000 +0100"" stop=""20211003183000 +0100"" channel=""282_2_1104"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Darse Hadees</title>
  <category lang=""en"">News &amp; Documentaries - Religious</category>
  <desc lang=""en"">Informative lecture about Islamic teaching for youth.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210929193000 +0100"" stop=""20210929200000 +0100"" channel=""282_2_3205"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Jim Bakker</title>
  <category lang=""en"">News &amp; Documentaries - Religious</category>
  <desc lang=""en"">Healthy living ministry  with Jim Bakker</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210930003000 +0100"" stop=""20210930010000 +0100"" channel=""282_2_3590"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Diners, Drive-Ins, And Dives</title>
  <category lang=""en"">Entertainment - Cooking</category>
  <desc lang=""en"">From North To South America. From a Houston joint's Argentinian empanadas to street tacos in Cancun, Mexico, Guy Fieri digs into flavours spanning the Americas. S26, Ep8</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211004103000 +0100"" stop=""20211004110000 +0100"" channel=""282_2_1235"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Al Khalil &amp; Boruna Reports</title>
  <category lang=""en"">News &amp; Documentaries - Religious</category>
  <desc lang=""en"">A documentary feedback report containing the progress of projects delivered by Al Khalil and Boruna Madrasha</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210929210000 +0100"" stop=""20210929211500 +0100"" channel=""282_2_4261"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Super Wings</title>
  <category lang=""en"">Children - Cartoons</category>
  <desc lang=""en"">Baby Tiger Delivery: Jett and Jett Pet join a girl and her father to look for a lost tiger kitten's mother in the jungle of Madhya Pradesh, India - the same jungle from &quot;The Jungle Book&quot;. (S5 Ep5)</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210930143000 +0100"" stop=""20210930153000 +0100"" channel=""282_2_3687"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Directors</title>
  <category lang=""en"">Entertainment - Lifestyle</category>
  <desc lang=""en"">Profile documentary of great African filmmakers.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211003193000 +0100"" stop=""20211003194000 +0100"" channel=""282_2_1018"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">The Greek Isles from &#x00A3;599pp</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">Another fabulous deal from Cruise1st.tv - call to book now on 0800 953 4700 (free of charge) or online at www.cruise1st.tv</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210929170000 +0100"" stop=""20210929173000 +0100"" channel=""282_2_1130"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Wonder Core Flex Cycle</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">The ultra-versatile, 4-in-1 stationary bike that delivers fat burning cardio, lower body toning and core strengthening all in one! Call 0344 800 0800 (local rates apply) or visit highstreettv.com</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211005231500 +0100"" stop=""20211005233000 +0100"" channel=""282_2_3147"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Newsline In Depth</title>
  <category lang=""en"">Genre 0xb3</category>
  <desc lang=""en"">Introducing a colourful variety of feature stories, including reports on daily life from locations throughout Japan as well as other parts of Asia and around the world.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211003233500 +0100"" stop=""20211004003500 +0100"" channel=""282_2_3028"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Portillo's Hidden History Of...</title>
  <category lang=""en"">Entertainment - Factual</category>
  <desc lang=""en"">...Britain. Documentary series. For almost a century, Orford Ness was owned by the MOD, a lens into a bygone era of secrets, spies and superpowers. (S1 Ep 2)</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211002020000 +0100"" stop=""20211002020500 +0100"" channel=""282_2_1026"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Headline News</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">Latest news bulletin focusing on political, social and economic developments in Pakistan and around the globe. The show also features significant news stories from around the globe.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211002043000 +0100"" stop=""20211002050000 +0100"" channel=""282_2_1226"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Off The Grid</title>
  <category lang=""en"">Entertainment - Travel</category>
  <desc lang=""en"">Going local is the best way to travel. Alex uses the key to go up &amp; close with the fishermen of Kadmat, Lakshadweep's coral island.</desc>
  <rating system=""BFRB""><value>PG</value></rating>
 </programme>

 <programme start=""20211003192000 +0100"" stop=""20211003193000 +0100"" channel=""282_2_4262"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Grizzy And The Lemmings</title>
  <category lang=""en"">Children - Cartoons</category>
  <desc lang=""en"">Warning: Unlimited Lemmings: The Lemmings discover that by changing the speed limit sign on the side of the road they can create a huge wind that is perfect for their extreme kiting game. (S2 Ep30)</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211004000000 +0100"" stop=""20211004003000 +0100"" channel=""282_2_5071"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">News</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">TRT World brings the latest news from around the globe, when it happens.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211006140500 +0100"" stop=""20211006150000 +0100"" channel=""282_2_2296"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">New: Prynhawn Da</title>
  <category lang=""en"">Entertainment - Magazine</category>
  <desc lang=""en"">Cyfres gylchgrawn gydag eitemau coginio a ffasiwn a chyngor am bopeth o addurno'ch cartref i ddewis llyfr da. Magazine series including features on fashion, style, antiques and cookery.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20210930210000 +0100"" stop=""20210930213000 +0100"" channel=""282_2_3632"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Mann Egerton Watches</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">Mann Egerton watches demonstrate the mighty and robust qualities of its most famous creations and innovations. Buy now at www.mannegerton.net or call 0333 8806 230 (local call rate).</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211002060000 +0100"" stop=""20211002063000 +0100"" channel=""282_2_5212"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Floating Mop</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">Floating Mop is the motorised, cordless, spinning mop that does the hard work for you! Call 0344 800 0800 (local rates apply) or visit www.highstreettv.com.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211004150000 +0100"" stop=""20211004150500 +0100"" channel=""282_2_4407"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">GEO World News Headlines</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">Bringing you all the latest news from around the globe.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211003023600 +0100"" stop=""20211003024800 +0100"" channel=""282_2_4216"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Power Players</title>
  <category lang=""en"">Children - Cartoons</category>
  <desc lang=""en"">Joke's On You, Bro!: Annoyed with Galileo's pranks, Axel and the Power Players make him believe that he's stuck in invisible mode. (S1 Ep16)</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211005030000 +0100"" stop=""20211005033000 +0100"" channel=""282_2_4645"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">News</title>
  <category lang=""en"">News &amp; Documentaries - News</category>
  <desc lang=""en"">All the day's news from Sky News Arabia's correspondents across the Arab world and around the globe.</desc>
  <rating system=""BFRB""><value>PG</value></rating>
 </programme>

 <programme start=""20211005053000 +0100"" stop=""20211005060000 +0100"" channel=""282_2_5520"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Entertainment News</title>
  <category lang=""en"">Entertainment</category>
  <desc lang=""en"">A collection of entertainment events, stories and shows that take place in Nigeria and on the foreign scene.</desc>
  <rating system=""BFRB""><value>U</value></rating>
 </programme>

 <programme start=""20211002090000 +0100"" stop=""20211002093000 +0100"" channel=""282_2_1872"">
  <!-- EVENT ID: 971 -->
  <title lang=""en"">Teleshopping</title>
  <category lang=""en"">Shopping</category>
  <desc lang=""en"">Teleshopping programming bringing you a selection of innovative products</desc>
  <rating system=""BFRB""><value>PG</value></rating>
 </programme>


As you see, there are several events with Event ID: 971, and for the example in question the summary came from a broadcast on a different channel - namely ""Covid-19 Pandemic""
This commit adjusts the opentv _entry_cmp function to match based on a combination of Event ID and Channel ID. This enables the RB_FIND & RB_INSERT_SORTED functions used within the OpenTV module to reliably insert and uniquely find the correct entry.
Here is a screenshot when running with this PR in place, scraping the correct summary data.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1421,2021-10-02T13:14:28Z,,2021-10-02T13:18:20Z,OPEN,False,43,27,2,https://github.com/ekuester,Files were changed only in rpm folder to generate an effective .spec file,1,[],https://github.com/tvheadend/tvheadend/pull/1421,https://github.com/ekuester,1,https://github.com/tvheadend/tvheadend/pull/1421,Files were changed solely in rpm folder to generate a spec file for building a working rpm package. This was tested with Fedora 33/34 for x86_64 and aarch64 architecture (Rasberry Pi 4 build is working flawlessly).,Files were changed solely in rpm folder to generate a spec file for building a working rpm package. This was tested with Fedora 33/34 for x86_64 and aarch64 architecture (Rasberry Pi 4 build is working flawlessly).,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1422,2021-10-19T11:36:21Z,,2022-06-01T14:47:55Z,OPEN,False,3,3,1,https://github.com/BKPepe,[4.2] Upgrade to libhdhomerun_20180817,1,[],https://github.com/tvheadend/tvheadend/pull/1422,https://github.com/BKPepe,1,https://github.com/tvheadend/tvheadend/pull/1422,"Version of 4.2.8 is the only stable release for tvheadend. This PR fixes issue, which recently appeared. Are there any plans to release a new version of TVHeadend?

The previous tarball is not available and because of that, the
compilation of tvheadend does not proceed.
Log while building for OpenWrt:
DOWNLOAD        misc/staticlib/unknown/powerpc/hdhomerun-8081b801eb8e8403e7ba2d1b7c2015777051d47a.tgz / kZ54ee7ZUvsSYmb9VGSpnmoVzcAUhpBXLq8k
Traceback (most recent call last):
  File ""/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/support/pcloud.py"", line 13, in <module>
    import requests
ModuleNotFoundError: No module named 'requests'
FAILED TO DOWNLOAD  (BUT THIS IS NOT A FATAL ERROR! DO NOT REPORT THAT!)
make[5]: Leaving directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
make -f Makefile.hdhomerun build
make[5]: Entering directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
WGET            http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz
http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz:
2021-10-18 19:12:59 ERROR 404: Not Found.
make[5]: *** [Makefile.hdhomerun:79: /builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/build.linux/hdhomerun/libhdhomerun_20171221/.tvh_download] Error 8

The latest version of libhdhomerun can not be used somehow as the compilation fails.
Let's update it to the next version since 2017 in the stable version to
ensure that it does not break anything. Also switch to https to download
tarball.","Version of 4.2.8 is the only stable release for tvheadend. This PR fixes issue, which recently appeared. Are there any plans to release a new version of TVHeadend?

The previous tarball is not available and because of that, the
compilation of tvheadend does not proceed.
Log while building for OpenWrt:
DOWNLOAD        misc/staticlib/unknown/powerpc/hdhomerun-8081b801eb8e8403e7ba2d1b7c2015777051d47a.tgz / kZ54ee7ZUvsSYmb9VGSpnmoVzcAUhpBXLq8k
Traceback (most recent call last):
  File ""/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/support/pcloud.py"", line 13, in <module>
    import requests
ModuleNotFoundError: No module named 'requests'
FAILED TO DOWNLOAD  (BUT THIS IS NOT A FATAL ERROR! DO NOT REPORT THAT!)
make[5]: Leaving directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
make -f Makefile.hdhomerun build
make[5]: Entering directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
WGET            http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz
http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz:
2021-10-18 19:12:59 ERROR 404: Not Found.
make[5]: *** [Makefile.hdhomerun:79: /builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/build.linux/hdhomerun/libhdhomerun_20171221/.tvh_download] Error 8

The latest version of libhdhomerun can not be used somehow as the compilation fails.
Let's update it to the next version since 2017 in the stable version to
ensure that it does not break anything. Also switch to https to download
tarball.",True,"{'THUMBS_UP': ['https://github.com/bconway', 'https://github.com/walterav1984', 'https://github.com/ptrcnull']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1422,2021-10-19T11:36:21Z,,2022-06-01T14:47:55Z,OPEN,False,3,3,1,https://github.com/BKPepe,[4.2] Upgrade to libhdhomerun_20180817,1,[],https://github.com/tvheadend/tvheadend/pull/1422,https://github.com/bconway,2,https://github.com/tvheadend/tvheadend/pull/1422#issuecomment-1003576145,"Version of 4.2.8 is the only stable release for tvheadend. This PR fixes issue, which recently appeared. Are there any plans to release a new version of TVHeadend?

The previous tarball is not available and because of that, the
compilation of tvheadend does not proceed.
Log while building for OpenWrt:
DOWNLOAD        misc/staticlib/unknown/powerpc/hdhomerun-8081b801eb8e8403e7ba2d1b7c2015777051d47a.tgz / kZ54ee7ZUvsSYmb9VGSpnmoVzcAUhpBXLq8k
Traceback (most recent call last):
  File ""/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/support/pcloud.py"", line 13, in <module>
    import requests
ModuleNotFoundError: No module named 'requests'
FAILED TO DOWNLOAD  (BUT THIS IS NOT A FATAL ERROR! DO NOT REPORT THAT!)
make[5]: Leaving directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
make -f Makefile.hdhomerun build
make[5]: Entering directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
WGET            http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz
http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz:
2021-10-18 19:12:59 ERROR 404: Not Found.
make[5]: *** [Makefile.hdhomerun:79: /builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/build.linux/hdhomerun/libhdhomerun_20171221/.tvh_download] Error 8

The latest version of libhdhomerun can not be used somehow as the compilation fails.
Let's update it to the next version since 2017 in the stable version to
ensure that it does not break anything. Also switch to https to download
tarball.","Yes, please. I've started maintaining my own patch set against the 4.2 branch (including this one), and obviously a bunch of Linux distributions are doing the same.
A new stable/release branch would be greatly appreciated.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1422,2021-10-19T11:36:21Z,,2022-06-01T14:47:55Z,OPEN,False,3,3,1,https://github.com/BKPepe,[4.2] Upgrade to libhdhomerun_20180817,1,[],https://github.com/tvheadend/tvheadend/pull/1422,https://github.com/walterav1984,3,https://github.com/tvheadend/tvheadend/pull/1422#issuecomment-1048632802,"Version of 4.2.8 is the only stable release for tvheadend. This PR fixes issue, which recently appeared. Are there any plans to release a new version of TVHeadend?

The previous tarball is not available and because of that, the
compilation of tvheadend does not proceed.
Log while building for OpenWrt:
DOWNLOAD        misc/staticlib/unknown/powerpc/hdhomerun-8081b801eb8e8403e7ba2d1b7c2015777051d47a.tgz / kZ54ee7ZUvsSYmb9VGSpnmoVzcAUhpBXLq8k
Traceback (most recent call last):
  File ""/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/support/pcloud.py"", line 13, in <module>
    import requests
ModuleNotFoundError: No module named 'requests'
FAILED TO DOWNLOAD  (BUT THIS IS NOT A FATAL ERROR! DO NOT REPORT THAT!)
make[5]: Leaving directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
make -f Makefile.hdhomerun build
make[5]: Entering directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
WGET            http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz
http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz:
2021-10-18 19:12:59 ERROR 404: Not Found.
make[5]: *** [Makefile.hdhomerun:79: /builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/build.linux/hdhomerun/libhdhomerun_20171221/.tvh_download] Error 8

The latest version of libhdhomerun can not be used somehow as the compilation fails.
Let's update it to the next version since 2017 in the stable version to
ensure that it does not break anything. Also switch to https to download
tarball.","@bconway which lastest version of libhdhomerun did you compile successful with tvheadend?
Not sure how the (backwards)compatibility of the 'libhdhomerun' versions matches their 'firmware' versions or viceversa but not all HDHomeRun devices can even run the latest firmware so it might not be the best idea to use latest. It seems 20210422 is the last version for legacy devices and 20220203 is greatest:
hdhomerun3_atsc_firmware_20210422.bin
hdhomerun4_dvbt_firmware_20220203.bin
hdhomerun_dvbt_firmware_20210422.bin
hdhomerun3_cablecard_firmware_20220203.bin
hdhomerun4_isdbt_firmware_20220203.bin
hdhomerun_dvr_atsc3_firmware_20220203.bin
hdhomerun3_dvbc_firmware_20220203.bin
hdhomerun5_atsc_firmware_20220203.bin
hdhomerun_dvr_atsc_firmware_20220203.bin
hdhomerun3_dvbtc_firmware_20210422.bin
hdhomerun5_dvbc_firmware_20220203.bin
hdhomerun_hdd_firmware_20220203.bin
hdhomerun3_dvbt_firmware_20210422.bin
hdhomerun5_dvbt_firmware_20220203.bin
hdhomeruntc_atsc_firmware_20220203.bin
hdhomerun4_atsc_firmware_20220203.bin
hdhomerun_atsc_firmware_20210422.bin

HDHomeRun Firmware Changelog:
HDHomeRun Win/Mac/lib software Changelog
Version '20180817' is the same version debian/(raspbian/raspios) 'buster' uses. Raspberry comes with their own tvheadend, not sure however if it uses the builtin library or system apt packaged one. Ubuntu stable LTS comes with '20200225', debian/raspbian/raspios bullseye ships 20210210.
Any reason why or why not to pick a certain newer release?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1422,2021-10-19T11:36:21Z,,2022-06-01T14:47:55Z,OPEN,False,3,3,1,https://github.com/BKPepe,[4.2] Upgrade to libhdhomerun_20180817,1,[],https://github.com/tvheadend/tvheadend/pull/1422,https://github.com/BKPepe,4,https://github.com/tvheadend/tvheadend/pull/1422#issuecomment-1048648247,"Version of 4.2.8 is the only stable release for tvheadend. This PR fixes issue, which recently appeared. Are there any plans to release a new version of TVHeadend?

The previous tarball is not available and because of that, the
compilation of tvheadend does not proceed.
Log while building for OpenWrt:
DOWNLOAD        misc/staticlib/unknown/powerpc/hdhomerun-8081b801eb8e8403e7ba2d1b7c2015777051d47a.tgz / kZ54ee7ZUvsSYmb9VGSpnmoVzcAUhpBXLq8k
Traceback (most recent call last):
  File ""/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/support/pcloud.py"", line 13, in <module>
    import requests
ModuleNotFoundError: No module named 'requests'
FAILED TO DOWNLOAD  (BUT THIS IS NOT A FATAL ERROR! DO NOT REPORT THAT!)
make[5]: Leaving directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
make -f Makefile.hdhomerun build
make[5]: Entering directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
WGET            http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz
http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz:
2021-10-18 19:12:59 ERROR 404: Not Found.
make[5]: *** [Makefile.hdhomerun:79: /builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/build.linux/hdhomerun/libhdhomerun_20171221/.tvh_download] Error 8

The latest version of libhdhomerun can not be used somehow as the compilation fails.
Let's update it to the next version since 2017 in the stable version to
ensure that it does not break anything. Also switch to https to download
tarball.","Any reason why or why not to pick a certain newer release?

libhdhomerun:
Yes, because this pull request goes to the stable branch. You don't want to introduce more non-backward compatibility changes (in API) or even more bugs, etc. That's why it goes to the next libhdhomerun version. Not the latest one.
I am not using libhdhomerun, so I can not test it properly. For Turris OS, there is a daily cross-compiled stable tvheadend for OpenWrt. It could not be compiled because the libhdhomerun could not be downloaded. That's why I chose the solution from tvheadend master, where it was updated, I suppose that it should work because in the recent git history here, I could not find that there were some issues related to it.
tvheadend:
You don't want to force all users to use the recent master branch. It's a development version. You want to use the stable branch.
Who will troubleshoot issues which users might experience? You? Who is going to fix it? You? You don't want to have daily new versions of tvheadend if you don't know what you are doing and then force it on users who just want to do things that work.
You can take for example at Semantic versioning, if you want to have more details.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1422,2021-10-19T11:36:21Z,,2022-06-01T14:47:55Z,OPEN,False,3,3,1,https://github.com/BKPepe,[4.2] Upgrade to libhdhomerun_20180817,1,[],https://github.com/tvheadend/tvheadend/pull/1422,https://github.com/bconway,5,https://github.com/tvheadend/tvheadend/pull/1422#issuecomment-1048827502,"Version of 4.2.8 is the only stable release for tvheadend. This PR fixes issue, which recently appeared. Are there any plans to release a new version of TVHeadend?

The previous tarball is not available and because of that, the
compilation of tvheadend does not proceed.
Log while building for OpenWrt:
DOWNLOAD        misc/staticlib/unknown/powerpc/hdhomerun-8081b801eb8e8403e7ba2d1b7c2015777051d47a.tgz / kZ54ee7ZUvsSYmb9VGSpnmoVzcAUhpBXLq8k
Traceback (most recent call last):
  File ""/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/support/pcloud.py"", line 13, in <module>
    import requests
ModuleNotFoundError: No module named 'requests'
FAILED TO DOWNLOAD  (BUT THIS IS NOT A FATAL ERROR! DO NOT REPORT THAT!)
make[5]: Leaving directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
make -f Makefile.hdhomerun build
make[5]: Entering directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
WGET            http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz
http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz:
2021-10-18 19:12:59 ERROR 404: Not Found.
make[5]: *** [Makefile.hdhomerun:79: /builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/build.linux/hdhomerun/libhdhomerun_20171221/.tvh_download] Error 8

The latest version of libhdhomerun can not be used somehow as the compilation fails.
Let's update it to the next version since 2017 in the stable version to
ensure that it does not break anything. Also switch to https to download
tarball.","I'm currently running tvh 4.2 patched with libhdhomerun 20210624, with an HDHR5-4US using firmwares 20210624 and 20220203.
In my 8 years using tvheadend, I've run a wide variety of HDHR hardware (HDHR-US, then 2x HDHR3-US, now HDHR5-4US), firmware, and libhdhomerun versions. I have definitely run much newer versions of libhdhomerun after firmware support for older models had been dropped, and I would venture to say the firmware/library versions almost never matched. I would be quite surprised if libhdhomerun did not keep compatibility in mind, given the large number of devices and firmware versions the company has put out, but I also don't keep older tuners around for testing.
But sure, being conservative and getting things compiling again on modern distributions (Debian 10 here, technically a little old) would be good.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1422,2021-10-19T11:36:21Z,,2022-06-01T14:47:55Z,OPEN,False,3,3,1,https://github.com/BKPepe,[4.2] Upgrade to libhdhomerun_20180817,1,[],https://github.com/tvheadend/tvheadend/pull/1422,https://github.com/bconway,6,https://github.com/tvheadend/tvheadend/pull/1422#issuecomment-1143702518,"Version of 4.2.8 is the only stable release for tvheadend. This PR fixes issue, which recently appeared. Are there any plans to release a new version of TVHeadend?

The previous tarball is not available and because of that, the
compilation of tvheadend does not proceed.
Log while building for OpenWrt:
DOWNLOAD        misc/staticlib/unknown/powerpc/hdhomerun-8081b801eb8e8403e7ba2d1b7c2015777051d47a.tgz / kZ54ee7ZUvsSYmb9VGSpnmoVzcAUhpBXLq8k
Traceback (most recent call last):
  File ""/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/support/pcloud.py"", line 13, in <module>
    import requests
ModuleNotFoundError: No module named 'requests'
FAILED TO DOWNLOAD  (BUT THIS IS NOT A FATAL ERROR! DO NOT REPORT THAT!)
make[5]: Leaving directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
make -f Makefile.hdhomerun build
make[5]: Entering directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
WGET            http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz
http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz:
2021-10-18 19:12:59 ERROR 404: Not Found.
make[5]: *** [Makefile.hdhomerun:79: /builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/build.linux/hdhomerun/libhdhomerun_20171221/.tvh_download] Error 8

The latest version of libhdhomerun can not be used somehow as the compilation fails.
Let's update it to the next version since 2017 in the stable version to
ensure that it does not break anything. Also switch to https to download
tarball.",Any hope of getting some minimal 4.2 branch maintenance to keep it compiling? Most distributions are carrying around a half-dozen patches that would be nice to get into this branch.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1422,2021-10-19T11:36:21Z,,2022-06-01T14:47:55Z,OPEN,False,3,3,1,https://github.com/BKPepe,[4.2] Upgrade to libhdhomerun_20180817,1,[],https://github.com/tvheadend/tvheadend/pull/1422,https://github.com/Flole998,7,https://github.com/tvheadend/tvheadend/pull/1422#issuecomment-1143707547,"Version of 4.2.8 is the only stable release for tvheadend. This PR fixes issue, which recently appeared. Are there any plans to release a new version of TVHeadend?

The previous tarball is not available and because of that, the
compilation of tvheadend does not proceed.
Log while building for OpenWrt:
DOWNLOAD        misc/staticlib/unknown/powerpc/hdhomerun-8081b801eb8e8403e7ba2d1b7c2015777051d47a.tgz / kZ54ee7ZUvsSYmb9VGSpnmoVzcAUhpBXLq8k
Traceback (most recent call last):
  File ""/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/support/pcloud.py"", line 13, in <module>
    import requests
ModuleNotFoundError: No module named 'requests'
FAILED TO DOWNLOAD  (BUT THIS IS NOT A FATAL ERROR! DO NOT REPORT THAT!)
make[5]: Leaving directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
make -f Makefile.hdhomerun build
make[5]: Entering directory '/builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8'
WGET            http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz
http://download.silicondust.com/hdhomerun/libhdhomerun_20171221.tgz:
2021-10-18 19:12:59 ERROR 404: Not Found.
make[5]: *** [Makefile.hdhomerun:79: /builder/shared-workdir/build/sdk/build_dir/target-powerpc_8540_musl/tvheadend-4.2.8/build.linux/hdhomerun/libhdhomerun_20171221/.tvh_download] Error 8

The latest version of libhdhomerun can not be used somehow as the compilation fails.
Let's update it to the next version since 2017 in the stable version to
ensure that it does not break anything. Also switch to https to download
tarball.","4.2 will no longer be maintained as there are no developers anymore. Use master branch and instead of adding patches to keep some old version alive consider driving forward development of master, but in the current state there isn't much developement on master either.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1423,2021-10-19T15:49:41Z,2021-10-21T00:14:57Z,2021-10-21T06:05:59Z,MERGED,True,5,3,1,https://github.com/jahutchi,"opentv: fix missing summary data on rescrape, #5995",1,[],https://github.com/tvheadend/tvheadend/pull/1423,https://github.com/jahutchi,1,https://github.com/tvheadend/tvheadend/pull/1423,"This fixes an issue whereby chunks of events within the OpenTV data can contain blank summaries following a re-scrape as shown below:

Prior to this scrape, the guide data in this section was complete including the summary data.

On debugging the issue, I could see that both halves of the record (title and summary) were processed for these events, so something was going wrong in the matching or merging of this data.

Expand here for debug log extracts to go with the first screenshot above (re-scrape)
Notice that the summary records were processed first.
2021-10-19 15:05:28.266 [  DEBUG]:opentv: find by ch 609000000 eid 2965 = 0x7f0c68178390
2021-10-19 15:05:28.266 [  DEBUG]:opentv:   summary 'Beat the Drum, Catboy: Night Ninja plans to turn the daytime parade into the Night Ninja Parade Spectacular. Having stolen Catboy's parade drum, he's going to re-paint the floats and flags. (S1 Ep39)'
2021-10-19 15:05:28.266 [  DEBUG]:opentv: find by ch 609000000 eid 2969 = 0x7f0c681784f0
2021-10-19 15:05:28.266 [  DEBUG]:opentv:   summary 'Owlette of a Kind: When Romeo duplicates Owlette's powers and turns not only himself but Catboy and Gekko into fliers, Owlette feels she's lost what makes her special. (S1 Ep40)'
2021-10-19 15:05:28.266 [  DEBUG]:opentv: find by ch 609000000 eid 2983 = 0x7f0c68178650
2021-10-19 15:05:28.266 [  DEBUG]:opentv:   summary 'How Giganto Got His Roar: Rocky wants to roar just like Gigantosaurus, so he and Marsh set out to capture the beast's roar inside a coconut. If only Giganto would cooperate! (S1 Ep42)'
2021-10-19 15:05:28.266 [  DEBUG]:opentv: find by ch 609000000 eid 2475 = 0x7f0c681787b0
2021-10-19 15:05:28.266 [  DEBUG]:opentv:   summary 'An Artist Is Born: When Trey injures himself in a tree toppling accident, Tiny helps him find his inner artist. (S1 Ep43)'
2021-10-19 15:05:28.267 [  DEBUG]:opentv: find by ch 609000000 eid 2377 = 0x7f0c68178980
2021-10-19 15:05:28.267 [  DEBUG]:opentv:   summary 'Born Tree: Tiny grows very attached to a sapling tree that she nurses to health... and then has a hard time letting go when the tree is ready to be planted. (S1 Ep44)'
2021-10-19 15:05:28.267 [  DEBUG]:opentv: find by ch 609000000 eid 3241 = 0x7f0c68178b50
2021-10-19 15:05:28.267 [  DEBUG]:opentv:   summary 'The Five Friends: The dinos have a falling out over the legendary Five Friends Crest of Cretacia. (S1 Ep45)'
2021-10-19 15:05:28.267 [  DEBUG]:opentv: find by ch 609000000 eid 3243 = 0x7f0c68178d20
2021-10-19 15:05:28.267 [  DEBUG]:opentv:   summary 'Quartet Plus: Playing in a quartet is not as easy as it seems, especially if there's no slack between the musicians. This is what Masha tells Papa Bear. In the end, music unites everyone! (S3 Ep16)'
2021-10-19 15:05:28.267 [  DEBUG]:opentv: find by ch 609000000 eid 3244 = 0x7f0c68177f90
2021-10-19 15:05:28.267 [  DEBUG]:opentv:   summary 'Two Much: Masha decides to visit her sister, Dasha. Even though they look very much alike, they are very different! (S2 Ep10)'
2021-10-19 15:05:28.267 [  DEBUG]:opentv: find by ch 609000000 eid 3254 = 0x7f0c68178f40
2021-10-19 15:05:28.267 [  DEBUG]:opentv:   summary 'Surprise! Surprise!: The wolves come up with a new idea to get a stable and a nutritious food source... (S3 Ep11)'
2021-10-19 15:05:28.268 [  DEBUG]:opentv: find by ch 609000000 eid 3255 = 0x7f0c681790a0
2021-10-19 15:05:28.268 [  DEBUG]:opentv:   summary 'A Walk In The Park: Gordon builds a robotic dog so his PURST pals can ride inside it and join him in the dog park. (S1 Ep38)'
2021-10-19 15:05:28.268 [  DEBUG]:opentv: find by ch 609000000 eid 3407 = 0x7f0c68179260
2021-10-19 15:05:28.268 [  DEBUG]:opentv:   summary 'Purst Puzzlers: When a jigsaw puzzle piece of Small Human's goes missing, the PURST team set out to find it. (S1 Ep39)'
2021-10-19 15:05:28.268 [  DEBUG]:opentv: find by ch 609000000 eid 3257 = 0x7f0c68179420
2021-10-19 15:05:28.268 [  DEBUG]:opentv:   summary 'Giddyup Ol' Blue!: When Axel's truck breaks down, he's not sure Farmer Francis' beat-up old tractor will help them get their delivery to the Professor. (S1 Ep9)'
2021-10-19 15:05:28.268 [  DEBUG]:opentv: find by ch 609000000 eid 3268 = 0x7f0c681795f0
2021-10-19 15:05:28.268 [  DEBUG]:opentv:   summary 'Rude-speak: Iris' spell goes wrong and Daddy King and Mommy Queen get a bout of ""Rude-Speak"". It's down to Gus to fetch the remedy from Salted Butter Lake. (S1 Ep9)'
2021-10-19 15:05:28.268 [  DEBUG]:opentv: find by ch 609000000 eid 3370 = 0x7f0c68179810
2021-10-19 15:05:28.268 [  DEBUG]:opentv:   summary 'Dad's Favourite Golf Club: On the day of an important golf game, Dad can't find his favourite golf club. Detectives Ricky and Tyra are on the case, searching for evidence and witnesses. (S1 Ep30)'
2021-10-19 15:05:28.269 [  DEBUG]:opentv: find by ch 609000000 eid 3371 = 0x7f0c68179970
2021-10-19 15:05:28.269 [  DEBUG]:opentv:   summary 'Blue Lightning: As the city prepares for a hot air balloon race, Ricky declares that the biggest champion in the world is Dad Saur. (S1 Ep31)'
2021-10-19 15:05:28.269 [  DEBUG]:opentv: find by ch 609000000 eid 3373 = 0x7f0c68179ad0
2021-10-19 15:05:28.269 [  DEBUG]:opentv:   summary 'First One To Laugh Is The Loser: Simon is playing ""first one who laughs loses"" with Ferdinand and Lou. Each of them tries out his/her favourite joke as the teacher looks on, stunned! (S3 Ep17)'
2021-10-19 15:05:28.269 [  DEBUG]:opentv: find by ch 609000000 eid 3145 = 0x7f0c68179ca0
2021-10-19 15:05:28.269 [  DEBUG]:opentv:   summary 'Saving Super Spider!: It's rained a lot. And there is a little spider being swept down the current in the park creek. Simon and Gaspard rush off to save the little creature! (S3 Ep18)'
2021-10-19 15:05:28.270 [  DEBUG]:opentv: find by ch 609000000 eid 3146 = 0x7f0c68179e70
2021-10-19 15:05:28.270 [  DEBUG]:opentv:   summary 'A Very Special Concert: Jett and Jett Pet deliver a fan letter to Trevor, a young musician and old friend of the Super Wings, who is scheduled to perform with his band in New York City. (S5 Ep7)'
2021-10-19 15:05:28.270 [  DEBUG]:opentv: find by ch 609000000 eid 3151 = 0x7f0c68179fd0
2021-10-19 15:05:28.270 [  DEBUG]:opentv:   summary 'Ariplane Museum Adventure: A welcome ceremony at the National Aviation Museum in Seoul is being held for Korea's oldest plane. But the old plane crashes on the way! (S5 Ep8)'
2021-10-19 15:05:28.270 [  DEBUG]:opentv: opentv-skyuk: completed pid 54 table 000000A0 / 000000fc

...
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634652000 stop 1634652900 ch 609000000 eid 2965 = 0x7f0c68178390
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'PJ Masks'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634652900 stop 1634653800 ch 609000000 eid 2969 = 0x7f0c681784f0
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'PJ Masks'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634653800 stop 1634654700 ch 609000000 eid 2983 = 0x7f0c68178650
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Gigantosaurus'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634654700 stop 1634655600 ch 609000000 eid 2475 = 0x7f0c681787b0
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Gigantosaurus'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634655600 stop 1634656500 ch 609000000 eid 2377 = 0x7f0c68178980
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Gigantosaurus'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634656500 stop 1634657400 ch 609000000 eid 3241 = 0x7f0c68178b50
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Gigantosaurus'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634657400 stop 1634658000 ch 609000000 eid 3243 = 0x7f0c68178d20
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Masha and the Bear'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634658000 stop 1634658600 ch 609000000 eid 3244 = 0x7f0c68177f90
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Masha And The Bear'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634658600 stop 1634659200 ch 609000000 eid 3254 = 0x7f0c68178f40
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Masha and the Bear'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634659200 stop 1634660100 ch 609000000 eid 3255 = 0x7f0c681790a0
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Agent Binky: Pets Of The Universe'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634660100 stop 1634661000 ch 609000000 eid 3407 = 0x7f0c68179260
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Agent Binky: Pets Of The Universe'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634661000 stop 1634661900 ch 609000000 eid 3257 = 0x7f0c68179420
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Pikwik Pack'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634661900 stop 1634662800 ch 609000000 eid 3268 = 0x7f0c681795f0
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Gus - The Itsy Bitsy Knight'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634662800 stop 1634663100 ch 609000000 eid 3370 = 0x7f0c68179810
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'DinoCity'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634663100 stop 1634663700 ch 609000000 eid 3371 = 0x7f0c68179970
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'DinoCity'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634663700 stop 1634664000 ch 609000000 eid 3373 = 0x7f0c68179ad0
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'Simon'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634664000 stop 1634664600 ch 609000000 eid 3145 = 0x7f0c68179ca0
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'Simon'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634664600 stop 1634665500 ch 609000000 eid 3146 = 0x7f0c68179e70
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'Super Wings'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634665500 stop 1634666400 ch 609000000 eid 3151 = 0x7f0c68179fd0
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'Super Wings'
2021-10-19 15:05:31.605 [  DEBUG]:opentv: opentv-skyuk: completed pid 70 table 000000A8 / 000000fc


The title and summary records are received separately and are matched and merged into an event using the following block of code: 
  
    
      tvheadend/src/epggrab/module/opentv.c
    
    
        Lines 494 to 523
      in
      1ee9c5b
    
  
  
    

        
          
           /* Find broadcast */ 
        

        
          
           if (ev.start && ev.stop) { 
        

        
          
             ebc = epg_broadcast_find_by_time(ch, src, ev.start, ev.stop, 
        

        
          
                                              1, &save, &changes); 
        

        
          
             tvhdebug(LS_OPENTV, ""find by time start %""PRItime_t "" stop "" 
        

        
          
                      ""%""PRItime_t "" eid %d = %p"", 
        

        
          
                      ev.start, ev.stop, ev.eid, ebc); 
        

        
          
             save |= epg_broadcast_set_dvb_eid(ebc, ev.eid, &changes); 
        

        
          
           } else { 
        

        
          
             ebc = epg_broadcast_find_by_eid(ch, ev.eid); 
        

        
          
             tvhdebug(LS_OPENTV, ""find by eid %d = %p"", ev.eid, ebc); 
        

        
          
             if (ebc) { 
        

        
          
               if (ebc->grabber != src) 
        

        
          
                 goto done; 
        

        
          
             } else { 
        

        
          
               opentv_add_entry(mod->sta, &ev); 
        

        
          
             } 
        

        
          
             merge = 1; 
        

        
          
           } 
        

        
          
           if (ebc) { 
        

        
          
             save |= opentv_do_event(mod, ebc, &ev, ch, lang, &changes); 
        

        
          
             if (!merge) { 
        

        
          
               entry = opentv_find_entry(mod->sta, ev.eid, cid); 
        

        
          
               if (entry) { 
        

        
          
                 save |= opentv_do_event(mod, ebc, &entry->event, ch, lang, &changes); 
        

        
          
                 opentv_remove_entry(mod->sta, entry); 
        

        
          
               } 
        

        
          
             } 
        

        
          
             save |= epg_broadcast_change_finish(ebc, changes, merge); 
        

        
          
           } 
        
    
  


When processing a title record the merge flag is set to 0
When processing a summary record the merge flag is set to 1
From my debugging, I can see that sometimes the title half of the record is processed first, and sometimes the summary half is done first (i.e. they can be processed in either order).
I found that the problem of missing summary data occurs when the following conditions are met:


Prior to the scrape, the event in question already exists in the guide data. It's important to mention that with a blank epg database as the starting point the problem does not occur.


The summary record for the event in question is processed first


The title record is processed second


In this scenario the epg_broadcast_change_finish procedure is called at line 522 with the merge flag set to 0, which therefore blanks out the summary information!
I made several attempts at re-writing this whole section of code; trying to find clever ways to ensure that the merge flag is set to 1 just prior to calling epg_broadcast_change_finish unless we're sure we have both halves of the event (summary and title) on the temporary ebc.
In the end, the fix was simple - just add an else condition to the existing if which checks whether we have the other half of the record. If we don't have both halves of the record then set the merge flag to 1 just prior to calling epg_broadcast_change_finish so that we merge whatever we do have into the existing ebc.
I verified the fix on my dev environment by performing scrapes and then viewing the EPG via the WebUI and sorting by summary (Extra Text) to pull events without a summary to the top of the list.
Without the fix, I performed a scrape against a full EPG database, and was left with approx. 10,300 out of 31,954 events in total that were missing Summary data!
With the fix in place I performed a further scrape and following this there were very few events ~50 out of 31,954 with missing summary data, and in each case I was able to explain why such as:


It was an ""out of hours"" event which simply did not have summary data e.g. ""Programmes start at 7.00am"". This is normal and there are always a good number of these.


No summary data record was ever received for the event during the scrape, as verified in debug logging. There were only a handful of these out of the ~32k events. An additional scrape or longer timeout may have found these.


The summary field (0xb9) on the incoming summary event record was simply blank (as verified with debug logging).


To help identify the problem I added the channel number values to the existing debug lines. I found that this helped the debugging effort greatly, since the eid alone cannot be used to uniquely identify an event - you also need the channel number to find the log entries for the related summary record. I have therefore included this adjustment to the debug lines in this commit to help aid debugging in future.
I have now been running with this on my production environment for over a week and have not yet found any events through day-to-day usage where summary information is missing - whereas it was previously common and very noticeable.","This fixes an issue whereby chunks of events within the OpenTV data can contain blank summaries following a re-scrape as shown below:

Prior to this scrape, the guide data in this section was complete including the summary data.

On debugging the issue, I could see that both halves of the record (title and summary) were processed for these events, so something was going wrong in the matching or merging of this data.

Expand here for debug log extracts to go with the first screenshot above (re-scrape)
Notice that the summary records were processed first.
2021-10-19 15:05:28.266 [  DEBUG]:opentv: find by ch 609000000 eid 2965 = 0x7f0c68178390
2021-10-19 15:05:28.266 [  DEBUG]:opentv:   summary 'Beat the Drum, Catboy: Night Ninja plans to turn the daytime parade into the Night Ninja Parade Spectacular. Having stolen Catboy's parade drum, he's going to re-paint the floats and flags. (S1 Ep39)'
2021-10-19 15:05:28.266 [  DEBUG]:opentv: find by ch 609000000 eid 2969 = 0x7f0c681784f0
2021-10-19 15:05:28.266 [  DEBUG]:opentv:   summary 'Owlette of a Kind: When Romeo duplicates Owlette's powers and turns not only himself but Catboy and Gekko into fliers, Owlette feels she's lost what makes her special. (S1 Ep40)'
2021-10-19 15:05:28.266 [  DEBUG]:opentv: find by ch 609000000 eid 2983 = 0x7f0c68178650
2021-10-19 15:05:28.266 [  DEBUG]:opentv:   summary 'How Giganto Got His Roar: Rocky wants to roar just like Gigantosaurus, so he and Marsh set out to capture the beast's roar inside a coconut. If only Giganto would cooperate! (S1 Ep42)'
2021-10-19 15:05:28.266 [  DEBUG]:opentv: find by ch 609000000 eid 2475 = 0x7f0c681787b0
2021-10-19 15:05:28.266 [  DEBUG]:opentv:   summary 'An Artist Is Born: When Trey injures himself in a tree toppling accident, Tiny helps him find his inner artist. (S1 Ep43)'
2021-10-19 15:05:28.267 [  DEBUG]:opentv: find by ch 609000000 eid 2377 = 0x7f0c68178980
2021-10-19 15:05:28.267 [  DEBUG]:opentv:   summary 'Born Tree: Tiny grows very attached to a sapling tree that she nurses to health... and then has a hard time letting go when the tree is ready to be planted. (S1 Ep44)'
2021-10-19 15:05:28.267 [  DEBUG]:opentv: find by ch 609000000 eid 3241 = 0x7f0c68178b50
2021-10-19 15:05:28.267 [  DEBUG]:opentv:   summary 'The Five Friends: The dinos have a falling out over the legendary Five Friends Crest of Cretacia. (S1 Ep45)'
2021-10-19 15:05:28.267 [  DEBUG]:opentv: find by ch 609000000 eid 3243 = 0x7f0c68178d20
2021-10-19 15:05:28.267 [  DEBUG]:opentv:   summary 'Quartet Plus: Playing in a quartet is not as easy as it seems, especially if there's no slack between the musicians. This is what Masha tells Papa Bear. In the end, music unites everyone! (S3 Ep16)'
2021-10-19 15:05:28.267 [  DEBUG]:opentv: find by ch 609000000 eid 3244 = 0x7f0c68177f90
2021-10-19 15:05:28.267 [  DEBUG]:opentv:   summary 'Two Much: Masha decides to visit her sister, Dasha. Even though they look very much alike, they are very different! (S2 Ep10)'
2021-10-19 15:05:28.267 [  DEBUG]:opentv: find by ch 609000000 eid 3254 = 0x7f0c68178f40
2021-10-19 15:05:28.267 [  DEBUG]:opentv:   summary 'Surprise! Surprise!: The wolves come up with a new idea to get a stable and a nutritious food source... (S3 Ep11)'
2021-10-19 15:05:28.268 [  DEBUG]:opentv: find by ch 609000000 eid 3255 = 0x7f0c681790a0
2021-10-19 15:05:28.268 [  DEBUG]:opentv:   summary 'A Walk In The Park: Gordon builds a robotic dog so his PURST pals can ride inside it and join him in the dog park. (S1 Ep38)'
2021-10-19 15:05:28.268 [  DEBUG]:opentv: find by ch 609000000 eid 3407 = 0x7f0c68179260
2021-10-19 15:05:28.268 [  DEBUG]:opentv:   summary 'Purst Puzzlers: When a jigsaw puzzle piece of Small Human's goes missing, the PURST team set out to find it. (S1 Ep39)'
2021-10-19 15:05:28.268 [  DEBUG]:opentv: find by ch 609000000 eid 3257 = 0x7f0c68179420
2021-10-19 15:05:28.268 [  DEBUG]:opentv:   summary 'Giddyup Ol' Blue!: When Axel's truck breaks down, he's not sure Farmer Francis' beat-up old tractor will help them get their delivery to the Professor. (S1 Ep9)'
2021-10-19 15:05:28.268 [  DEBUG]:opentv: find by ch 609000000 eid 3268 = 0x7f0c681795f0
2021-10-19 15:05:28.268 [  DEBUG]:opentv:   summary 'Rude-speak: Iris' spell goes wrong and Daddy King and Mommy Queen get a bout of ""Rude-Speak"". It's down to Gus to fetch the remedy from Salted Butter Lake. (S1 Ep9)'
2021-10-19 15:05:28.268 [  DEBUG]:opentv: find by ch 609000000 eid 3370 = 0x7f0c68179810
2021-10-19 15:05:28.268 [  DEBUG]:opentv:   summary 'Dad's Favourite Golf Club: On the day of an important golf game, Dad can't find his favourite golf club. Detectives Ricky and Tyra are on the case, searching for evidence and witnesses. (S1 Ep30)'
2021-10-19 15:05:28.269 [  DEBUG]:opentv: find by ch 609000000 eid 3371 = 0x7f0c68179970
2021-10-19 15:05:28.269 [  DEBUG]:opentv:   summary 'Blue Lightning: As the city prepares for a hot air balloon race, Ricky declares that the biggest champion in the world is Dad Saur. (S1 Ep31)'
2021-10-19 15:05:28.269 [  DEBUG]:opentv: find by ch 609000000 eid 3373 = 0x7f0c68179ad0
2021-10-19 15:05:28.269 [  DEBUG]:opentv:   summary 'First One To Laugh Is The Loser: Simon is playing ""first one who laughs loses"" with Ferdinand and Lou. Each of them tries out his/her favourite joke as the teacher looks on, stunned! (S3 Ep17)'
2021-10-19 15:05:28.269 [  DEBUG]:opentv: find by ch 609000000 eid 3145 = 0x7f0c68179ca0
2021-10-19 15:05:28.269 [  DEBUG]:opentv:   summary 'Saving Super Spider!: It's rained a lot. And there is a little spider being swept down the current in the park creek. Simon and Gaspard rush off to save the little creature! (S3 Ep18)'
2021-10-19 15:05:28.270 [  DEBUG]:opentv: find by ch 609000000 eid 3146 = 0x7f0c68179e70
2021-10-19 15:05:28.270 [  DEBUG]:opentv:   summary 'A Very Special Concert: Jett and Jett Pet deliver a fan letter to Trevor, a young musician and old friend of the Super Wings, who is scheduled to perform with his band in New York City. (S5 Ep7)'
2021-10-19 15:05:28.270 [  DEBUG]:opentv: find by ch 609000000 eid 3151 = 0x7f0c68179fd0
2021-10-19 15:05:28.270 [  DEBUG]:opentv:   summary 'Ariplane Museum Adventure: A welcome ceremony at the National Aviation Museum in Seoul is being held for Korea's oldest plane. But the old plane crashes on the way! (S5 Ep8)'
2021-10-19 15:05:28.270 [  DEBUG]:opentv: opentv-skyuk: completed pid 54 table 000000A0 / 000000fc

...
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634652000 stop 1634652900 ch 609000000 eid 2965 = 0x7f0c68178390
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'PJ Masks'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634652900 stop 1634653800 ch 609000000 eid 2969 = 0x7f0c681784f0
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'PJ Masks'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634653800 stop 1634654700 ch 609000000 eid 2983 = 0x7f0c68178650
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Gigantosaurus'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634654700 stop 1634655600 ch 609000000 eid 2475 = 0x7f0c681787b0
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Gigantosaurus'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634655600 stop 1634656500 ch 609000000 eid 2377 = 0x7f0c68178980
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Gigantosaurus'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634656500 stop 1634657400 ch 609000000 eid 3241 = 0x7f0c68178b50
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Gigantosaurus'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634657400 stop 1634658000 ch 609000000 eid 3243 = 0x7f0c68178d20
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Masha and the Bear'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634658000 stop 1634658600 ch 609000000 eid 3244 = 0x7f0c68177f90
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Masha And The Bear'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634658600 stop 1634659200 ch 609000000 eid 3254 = 0x7f0c68178f40
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Masha and the Bear'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634659200 stop 1634660100 ch 609000000 eid 3255 = 0x7f0c681790a0
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Agent Binky: Pets Of The Universe'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634660100 stop 1634661000 ch 609000000 eid 3407 = 0x7f0c68179260
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Agent Binky: Pets Of The Universe'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634661000 stop 1634661900 ch 609000000 eid 3257 = 0x7f0c68179420
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Pikwik Pack'
2021-10-19 15:05:31.600 [  DEBUG]:opentv: find by time start 1634661900 stop 1634662800 ch 609000000 eid 3268 = 0x7f0c681795f0
2021-10-19 15:05:31.600 [  DEBUG]:opentv:     title 'Gus - The Itsy Bitsy Knight'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634662800 stop 1634663100 ch 609000000 eid 3370 = 0x7f0c68179810
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'DinoCity'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634663100 stop 1634663700 ch 609000000 eid 3371 = 0x7f0c68179970
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'DinoCity'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634663700 stop 1634664000 ch 609000000 eid 3373 = 0x7f0c68179ad0
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'Simon'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634664000 stop 1634664600 ch 609000000 eid 3145 = 0x7f0c68179ca0
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'Simon'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634664600 stop 1634665500 ch 609000000 eid 3146 = 0x7f0c68179e70
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'Super Wings'
2021-10-19 15:05:31.601 [  DEBUG]:opentv: find by time start 1634665500 stop 1634666400 ch 609000000 eid 3151 = 0x7f0c68179fd0
2021-10-19 15:05:31.601 [  DEBUG]:opentv:     title 'Super Wings'
2021-10-19 15:05:31.605 [  DEBUG]:opentv: opentv-skyuk: completed pid 70 table 000000A8 / 000000fc


The title and summary records are received separately and are matched and merged into an event using the following block of code: 
  
    
      tvheadend/src/epggrab/module/opentv.c
    
    
        Lines 494 to 523
      in
      1ee9c5b
    
  
  
    

        
          
           /* Find broadcast */ 
        

        
          
           if (ev.start && ev.stop) { 
        

        
          
             ebc = epg_broadcast_find_by_time(ch, src, ev.start, ev.stop, 
        

        
          
                                              1, &save, &changes); 
        

        
          
             tvhdebug(LS_OPENTV, ""find by time start %""PRItime_t "" stop "" 
        

        
          
                      ""%""PRItime_t "" eid %d = %p"", 
        

        
          
                      ev.start, ev.stop, ev.eid, ebc); 
        

        
          
             save |= epg_broadcast_set_dvb_eid(ebc, ev.eid, &changes); 
        

        
          
           } else { 
        

        
          
             ebc = epg_broadcast_find_by_eid(ch, ev.eid); 
        

        
          
             tvhdebug(LS_OPENTV, ""find by eid %d = %p"", ev.eid, ebc); 
        

        
          
             if (ebc) { 
        

        
          
               if (ebc->grabber != src) 
        

        
          
                 goto done; 
        

        
          
             } else { 
        

        
          
               opentv_add_entry(mod->sta, &ev); 
        

        
          
             } 
        

        
          
             merge = 1; 
        

        
          
           } 
        

        
          
           if (ebc) { 
        

        
          
             save |= opentv_do_event(mod, ebc, &ev, ch, lang, &changes); 
        

        
          
             if (!merge) { 
        

        
          
               entry = opentv_find_entry(mod->sta, ev.eid, cid); 
        

        
          
               if (entry) { 
        

        
          
                 save |= opentv_do_event(mod, ebc, &entry->event, ch, lang, &changes); 
        

        
          
                 opentv_remove_entry(mod->sta, entry); 
        

        
          
               } 
        

        
          
             } 
        

        
          
             save |= epg_broadcast_change_finish(ebc, changes, merge); 
        

        
          
           } 
        
    
  


When processing a title record the merge flag is set to 0
When processing a summary record the merge flag is set to 1
From my debugging, I can see that sometimes the title half of the record is processed first, and sometimes the summary half is done first (i.e. they can be processed in either order).
I found that the problem of missing summary data occurs when the following conditions are met:


Prior to the scrape, the event in question already exists in the guide data. It's important to mention that with a blank epg database as the starting point the problem does not occur.


The summary record for the event in question is processed first


The title record is processed second


In this scenario the epg_broadcast_change_finish procedure is called at line 522 with the merge flag set to 0, which therefore blanks out the summary information!
I made several attempts at re-writing this whole section of code; trying to find clever ways to ensure that the merge flag is set to 1 just prior to calling epg_broadcast_change_finish unless we're sure we have both halves of the event (summary and title) on the temporary ebc.
In the end, the fix was simple - just add an else condition to the existing if which checks whether we have the other half of the record. If we don't have both halves of the record then set the merge flag to 1 just prior to calling epg_broadcast_change_finish so that we merge whatever we do have into the existing ebc.
I verified the fix on my dev environment by performing scrapes and then viewing the EPG via the WebUI and sorting by summary (Extra Text) to pull events without a summary to the top of the list.
Without the fix, I performed a scrape against a full EPG database, and was left with approx. 10,300 out of 31,954 events in total that were missing Summary data!
With the fix in place I performed a further scrape and following this there were very few events ~50 out of 31,954 with missing summary data, and in each case I was able to explain why such as:


It was an ""out of hours"" event which simply did not have summary data e.g. ""Programmes start at 7.00am"". This is normal and there are always a good number of these.


No summary data record was ever received for the event during the scrape, as verified in debug logging. There were only a handful of these out of the ~32k events. An additional scrape or longer timeout may have found these.


The summary field (0xb9) on the incoming summary event record was simply blank (as verified with debug logging).


To help identify the problem I added the channel number values to the existing debug lines. I found that this helped the debugging effort greatly, since the eid alone cannot be used to uniquely identify an event - you also need the channel number to find the log entries for the related summary record. I have therefore included this adjustment to the debug lines in this commit to help aid debugging in future.
I have now been running with this on my production environment for over a week and have not yet found any events through day-to-day usage where summary information is missing - whereas it was previously common and very noticeable.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1424,2021-10-27T21:48:19Z,,2021-10-30T13:17:26Z,OPEN,False,4,3,1,https://github.com/Preclikos,parsers: increase DVBSUB max timediff (DTS/PCR),2,[],https://github.com/tvheadend/tvheadend/pull/1424,https://github.com/Preclikos,1,https://github.com/tvheadend/tvheadend/pull/1424,Increase max timediff validity for DVBSUB packages due to HTSP droping SUB packages,Increase max timediff validity for DVBSUB packages due to HTSP droping SUB packages,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1425,2021-11-13T00:44:12Z,2021-11-15T23:53:58Z,2021-11-15T23:53:58Z,MERGED,True,1,1,1,https://github.com/SilentSys,Fixed parsing pre-defined muxes in w_scan format,1,[],https://github.com/tvheadend/tvheadend/pull/1425,https://github.com/SilentSys,1,https://github.com/tvheadend/tvheadend/pull/1425,"When parsing pre-defined muxes in the w_scan format, only one gets added and its frequency is 0MHz.
2021-11-12 15:18:14.867 [  TRACE]:scanfile: load file /ca-test-test (processed bytes 5334453)
2021-11-12 15:20:44.977 [  TRACE]:scanfile: [A 473000000     8VSB] OK
2021-11-12 15:22:29.084 [  TRACE]:scanfile: [A 485000000     8VSB] OK
2021-11-12 15:22:33.810 [  TRACE]:scanfile: [A 491000000     8VSB] OK
2021-11-12 15:22:34.496 [  TRACE]:scanfile: [A 497000000     8VSB] OK
2021-11-12 15:22:35.116 [  TRACE]:scanfile: [A 503000000     8VSB] OK
2021-11-12 15:22:35.763 [  TRACE]:scanfile: [A 509000000     8VSB] OK
2021-11-12 15:22:36.362 [  TRACE]:scanfile: [A 521000000     8VSB] OK
2021-11-12 15:22:36.968 [  TRACE]:scanfile: [A 533000000     8VSB] OK
2021-11-12 15:22:37.574 [  TRACE]:scanfile: [A 545000000     8VSB] OK
2021-11-12 15:22:38.191 [  TRACE]:scanfile: [A 581000000     8VSB] OK
2021-11-12 15:22:38.876 [  TRACE]:scanfile: [A 587000000     8VSB] OK
2021-11-12 15:22:39.486 [  TRACE]:scanfile: [A 599000000     8VSB] OK
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 ATSC-T freq 0 mod VSB/8 added to network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T

This bug seems to have been introduced in 399aa99. dvb_mux_conf_init() memsets the frequency to zero after it has already been set.","When parsing pre-defined muxes in the w_scan format, only one gets added and its frequency is 0MHz.
2021-11-12 15:18:14.867 [  TRACE]:scanfile: load file /ca-test-test (processed bytes 5334453)
2021-11-12 15:20:44.977 [  TRACE]:scanfile: [A 473000000     8VSB] OK
2021-11-12 15:22:29.084 [  TRACE]:scanfile: [A 485000000     8VSB] OK
2021-11-12 15:22:33.810 [  TRACE]:scanfile: [A 491000000     8VSB] OK
2021-11-12 15:22:34.496 [  TRACE]:scanfile: [A 497000000     8VSB] OK
2021-11-12 15:22:35.116 [  TRACE]:scanfile: [A 503000000     8VSB] OK
2021-11-12 15:22:35.763 [  TRACE]:scanfile: [A 509000000     8VSB] OK
2021-11-12 15:22:36.362 [  TRACE]:scanfile: [A 521000000     8VSB] OK
2021-11-12 15:22:36.968 [  TRACE]:scanfile: [A 533000000     8VSB] OK
2021-11-12 15:22:37.574 [  TRACE]:scanfile: [A 545000000     8VSB] OK
2021-11-12 15:22:38.191 [  TRACE]:scanfile: [A 581000000     8VSB] OK
2021-11-12 15:22:38.876 [  TRACE]:scanfile: [A 587000000     8VSB] OK
2021-11-12 15:22:39.486 [  TRACE]:scanfile: [A 599000000     8VSB] OK
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 ATSC-T freq 0 mod VSB/8 added to network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 skipped ATSC-T freq 0 mod VSB/8 in network ATSC-T
2021-11-12 15:22:39.486 [  TRACE]:scanfile: mux 0x7fffc800f070 exists ATSC-T freq 0 mod VSB/8 in network ATSC-T

This bug seems to have been introduced in 399aa99. dvb_mux_conf_init() memsets the frequency to zero after it has already been set.",True,{'THUMBS_UP': ['https://github.com/Saentist']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1426,2021-11-30T07:40:05Z,2022-01-02T14:08:40Z,2022-01-02T14:08:40Z,MERGED,True,20,16,1,https://github.com/fat-fred,Update Makefile.ffmpeg,1,[],https://github.com/tvheadend/tvheadend/pull/1426,https://github.com/fat-fred,1,https://github.com/tvheadend/tvheadend/pull/1426,,,True,"{'THUMBS_UP': ['https://github.com/Saentist', 'https://github.com/polojoe']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1426,2021-11-30T07:40:05Z,2022-01-02T14:08:40Z,2022-01-02T14:08:40Z,MERGED,True,20,16,1,https://github.com/fat-fred,Update Makefile.ffmpeg,1,[],https://github.com/tvheadend/tvheadend/pull/1426,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1426#issuecomment-991979853,,Was this properly tested against regressions introduced in the new ffmpeg version?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1426,2021-11-30T07:40:05Z,2022-01-02T14:08:40Z,2022-01-02T14:08:40Z,MERGED,True,20,16,1,https://github.com/fat-fred,Update Makefile.ffmpeg,1,[],https://github.com/tvheadend/tvheadend/pull/1426,https://github.com/fat-fred,3,https://github.com/tvheadend/tvheadend/pull/1426#issuecomment-992583038,,Not really. Cant't see any Problems (compiling/transcoding works with my config). What regressions do you mean? will have a look into it.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1427,2021-12-01T10:29:27Z,2022-01-02T14:08:50Z,2022-01-02T14:08:50Z,MERGED,True,219,45,2,https://github.com/fat-fred,some changes to nvenc,1,[],https://github.com/tvheadend/tvheadend/pull/1427,https://github.com/fat-fred,1,https://github.com/tvheadend/tvheadend/pull/1427,"-cleanup of profiles
-include level selection for nvenc","-cleanup of profiles
-include level selection for nvenc",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1427,2021-12-01T10:29:27Z,2022-01-02T14:08:50Z,2022-01-02T14:08:50Z,MERGED,True,219,45,2,https://github.com/fat-fred,some changes to nvenc,1,[],https://github.com/tvheadend/tvheadend/pull/1427,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1427#issuecomment-991980121,"-cleanup of profiles
-include level selection for nvenc","I assume this doesn't depend on your other PR? Then I would go ahead and merge this, otherwise this would have to be put on hold while the other one isn't merged yet",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1427,2021-12-01T10:29:27Z,2022-01-02T14:08:50Z,2022-01-02T14:08:50Z,MERGED,True,219,45,2,https://github.com/fat-fred,some changes to nvenc,1,[],https://github.com/tvheadend/tvheadend/pull/1427,https://github.com/fat-fred,3,https://github.com/tvheadend/tvheadend/pull/1427#issuecomment-992555895,"-cleanup of profiles
-include level selection for nvenc","Yes, it doesn't depend on the other PR. Made it last year after the other PR but had a little problem and no time to fix until now.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1428,2021-12-11T23:23:22Z,2021-12-12T22:06:17Z,2021-12-12T22:06:17Z,MERGED,True,13,9,1,https://github.com/mamarley,Use clock_gettime() instead of time() in epggrab.c,1,[],https://github.com/tvheadend/tvheadend/pull/1428,https://github.com/mamarley,1,https://github.com/tvheadend/tvheadend/pull/1428,"time() appears to return a slightly-rounded value as compared to
functions that return higher-precision time like gettimeofday() and
timespec_get().  Specifically, when gettimeofday() would return a
value with a low number in tv_usec, time() will return one fewer
seconds than tv_sec from gettimeofday().  The difference is minute
and probably doesn't cause an issue in most cases, but here in
epggrab.c the time of the next cron run is calculated immediately
after the previous run fires.  In this case, the value of time()
is actually one second lower than the specified cron run time. This
value is then passed into cron_multi_next(), which correctly sets
the next cron run to the current time.  Therefore, as soon as the
EPG grab completes, cron triggers again and re-runs it.  Using the
more precise values from gettimeofday() (by way of clock_gettime())
solves this problem and ensures that cron runs only once.
This solves #5545 and #5364.
A trivial example that shows this discrepancy is:
#include <errno.h>
#include <pthread.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include <unistd.h>

pthread_mutex_t m = PTHREAD_MUTEX_INITIALIZER;
pthread_cond_t c;

int main(int argc, char* argv[]) {
	int retval;
	struct timespec alarmtime, sleeptime, waketime;
	
	pthread_condattr_t attr;

	pthread_condattr_init(&attr);
	pthread_cond_init(&c, &attr);

	if ((retval = pthread_mutex_lock(&m))) {
		fprintf(stderr, ""pthread_mutex_lock %s\n"", strerror(retval));
		exit(EXIT_FAILURE);
	}
	
	for(int i=0;i<5;i++) {
		timespec_get(&alarmtime, TIME_UTC);
		printf(""timespec_get says it is %ld.%ld, time(NULL) says it is %ld.\n"", alarmtime.tv_sec, alarmtime.tv_nsec, time(NULL));
		//alarmtime.tv_sec = time(NULL) + 1;
		alarmtime.tv_sec += 1;
		alarmtime.tv_nsec = 0;
		
		timespec_get(&sleeptime, TIME_UTC);
		printf(""Sleeping at %ld.%ld, scheduled to wake at %ld.%ld\n"", sleeptime.tv_sec, sleeptime.tv_nsec, alarmtime.tv_sec, alarmtime.tv_nsec);
		if ((retval = pthread_cond_timedwait(&c, &m, &alarmtime))) {
			timespec_get(&waketime, TIME_UTC);
			printf(""Woke at %ld.%ld\n"", waketime.tv_sec, waketime.tv_nsec);
		}
	}

	if ((retval = pthread_mutex_unlock(&m))) {
		fprintf(stderr, ""pthread_mutex_unlock %s\n"", strerror(retval));
		exit(EXIT_FAILURE);
	}
 
	return EXIT_SUCCESS;
}","time() appears to return a slightly-rounded value as compared to
functions that return higher-precision time like gettimeofday() and
timespec_get().  Specifically, when gettimeofday() would return a
value with a low number in tv_usec, time() will return one fewer
seconds than tv_sec from gettimeofday().  The difference is minute
and probably doesn't cause an issue in most cases, but here in
epggrab.c the time of the next cron run is calculated immediately
after the previous run fires.  In this case, the value of time()
is actually one second lower than the specified cron run time. This
value is then passed into cron_multi_next(), which correctly sets
the next cron run to the current time.  Therefore, as soon as the
EPG grab completes, cron triggers again and re-runs it.  Using the
more precise values from gettimeofday() (by way of clock_gettime())
solves this problem and ensures that cron runs only once.
This solves #5545 and #5364.
A trivial example that shows this discrepancy is:
#include <errno.h>
#include <pthread.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include <unistd.h>

pthread_mutex_t m = PTHREAD_MUTEX_INITIALIZER;
pthread_cond_t c;

int main(int argc, char* argv[]) {
	int retval;
	struct timespec alarmtime, sleeptime, waketime;
	
	pthread_condattr_t attr;

	pthread_condattr_init(&attr);
	pthread_cond_init(&c, &attr);

	if ((retval = pthread_mutex_lock(&m))) {
		fprintf(stderr, ""pthread_mutex_lock %s\n"", strerror(retval));
		exit(EXIT_FAILURE);
	}
	
	for(int i=0;i<5;i++) {
		timespec_get(&alarmtime, TIME_UTC);
		printf(""timespec_get says it is %ld.%ld, time(NULL) says it is %ld.\n"", alarmtime.tv_sec, alarmtime.tv_nsec, time(NULL));
		//alarmtime.tv_sec = time(NULL) + 1;
		alarmtime.tv_sec += 1;
		alarmtime.tv_nsec = 0;
		
		timespec_get(&sleeptime, TIME_UTC);
		printf(""Sleeping at %ld.%ld, scheduled to wake at %ld.%ld\n"", sleeptime.tv_sec, sleeptime.tv_nsec, alarmtime.tv_sec, alarmtime.tv_nsec);
		if ((retval = pthread_cond_timedwait(&c, &m, &alarmtime))) {
			timespec_get(&waketime, TIME_UTC);
			printf(""Woke at %ld.%ld\n"", waketime.tv_sec, waketime.tv_nsec);
		}
	}

	if ((retval = pthread_mutex_unlock(&m))) {
		fprintf(stderr, ""pthread_mutex_unlock %s\n"", strerror(retval));
		exit(EXIT_FAILURE);
	}
 
	return EXIT_SUCCESS;
}",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1429,2021-12-12T01:59:50Z,2021-12-12T22:08:16Z,2021-12-12T22:08:16Z,MERGED,True,5,1,1,https://github.com/mamarley,Check the return code of snprintf in utils.c:rmtree,1,[],https://github.com/tvheadend/tvheadend/pull/1429,https://github.com/mamarley,1,https://github.com/tvheadend/tvheadend/pull/1429,"And return -ENAMETOOLONG if the string overflowed.  This fixes the
FTBFS on s390x with recent glibc/gcc versions.
This fixes #5949.","And return -ENAMETOOLONG if the string overflowed.  This fixes the
FTBFS on s390x with recent glibc/gcc versions.
This fixes #5949.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1430,2021-12-12T02:14:22Z,2021-12-12T22:10:21Z,2021-12-12T22:10:21Z,MERGED,True,6,1,1,https://github.com/mamarley,iptv: Fix stream limit starting a new input on a running mux,1,[],https://github.com/tvheadend/tvheadend/pull/1430,https://github.com/mamarley,1,https://github.com/tvheadend/tvheadend/pull/1430,"In iptv.c:iptv_input_is_free(), if all the conf arguments are 0
(when called from input_is_enabled()), return null if the mux
associated with the input is already running.  If the mux is
already running, starting a new input on it isn't going to create
a new input stream or break any bandwidth limit.  This fixes an
issue where starting a new channel/input on a mux that is already
active when the maximum number of input streams are in use would
result in failure.
This function is rather dense and appears to perform multiple
different functions depending on who called it, so I had a hard
time understanding exactly what is going on.  Therefore, I made
this patch in a way to be sure that it wouldn't affect how it works
in other cases than input_is_enabled().  If there is a better way
to do this, please do tell me.","In iptv.c:iptv_input_is_free(), if all the conf arguments are 0
(when called from input_is_enabled()), return null if the mux
associated with the input is already running.  If the mux is
already running, starting a new input on it isn't going to create
a new input stream or break any bandwidth limit.  This fixes an
issue where starting a new channel/input on a mux that is already
active when the maximum number of input streams are in use would
result in failure.
This function is rather dense and appears to perform multiple
different functions depending on who called it, so I had a hard
time understanding exactly what is going on.  Therefore, I made
this patch in a way to be sure that it wouldn't affect how it works
in other cases than input_is_enabled().  If there is a better way
to do this, please do tell me.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1431,2022-01-01T15:59:34Z,2022-01-02T14:07:40Z,2022-01-02T14:07:40Z,MERGED,True,15,2,1,https://github.com/ffontaine,configure: add execinfo option,1,[],https://github.com/tvheadend/tvheadend/pull/1431,https://github.com/ffontaine,1,https://github.com/tvheadend/tvheadend/pull/1431,"Add execinfo option to allow the user to disable the feature even if execinfo.h is found on the system
Signed-off-by: Fabrice Fontaine fontaine.fabrice@gmail.com","Add execinfo option to allow the user to disable the feature even if execinfo.h is found on the system
Signed-off-by: Fabrice Fontaine fontaine.fabrice@gmail.com",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1432,2022-01-02T17:42:44Z,2022-01-02T18:50:57Z,2022-01-02T18:50:57Z,MERGED,True,13,11,1,https://github.com/mamarley,nvenc: Fix Werror=misleading-indentation FTBFS,1,[],https://github.com/tvheadend/tvheadend/pull/1432,https://github.com/mamarley,1,https://github.com/tvheadend/tvheadend/pull/1432,"Commit 0165f36 introduced an FTBFS
when -Werror=misleading-indentation is passed to the compiler.  It
appears from changes elsewhere in the file (around line 450) that
the ""Set Defaults"" statements were not intended to be included in
the if block, so this commit reformats it to make that obvious (and
also add curlybrackets as was done around 450.)","Commit 0165f36 introduced an FTBFS
when -Werror=misleading-indentation is passed to the compiler.  It
appears from changes elsewhere in the file (around line 450) that
the ""Set Defaults"" statements were not intended to be included in
the if block, so this commit reformats it to make that obvious (and
also add curlybrackets as was done around 450.)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1433,2022-01-02T19:23:26Z,2022-01-02T19:25:10Z,2022-01-02T19:25:10Z,MERGED,True,16,16,1,https://github.com/mamarley,nvenc: Fix Werror=int-conversion FTBFS (and likely bug),1,[],https://github.com/tvheadend/tvheadend/pull/1433,https://github.com/mamarley,1,https://github.com/tvheadend/tvheadend/pull/1433,"Commit 0165f36 introduced an FTBFS
when -Werror=int-conversion is passed to the compiler.  For
reasons unknown to me, the ""value"" argument to AV_DICT_SET_INT was
written as a string (const char *) rather than the int64_t that
the function behind the macro was expecting in the ""Set Defaults""
statements.  This was resulting in the value of the pointer to the
character array getting used as the argument rather than the
integer itself, which appears to be what was intended.  This
triggers the Werror=int-conversion error and also probably results
in unexpected behavior from passing the pointer values.","Commit 0165f36 introduced an FTBFS
when -Werror=int-conversion is passed to the compiler.  For
reasons unknown to me, the ""value"" argument to AV_DICT_SET_INT was
written as a string (const char *) rather than the int64_t that
the function behind the macro was expecting in the ""Set Defaults""
statements.  This was resulting in the value of the pointer to the
character array getting used as the argument rather than the
integer itself, which appears to be what was intended.  This
triggers the Werror=int-conversion error and also probably results
in unexpected behavior from passing the pointer values.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1434,2022-01-05T14:33:14Z,2022-01-05T14:34:18Z,2022-01-05T14:34:18Z,CLOSED,False,221237,166938,383,https://github.com/Jack-the-Ripper-district-londonien-1888,Release/4.3 xtream code or mac,524,[],https://github.com/tvheadend/tvheadend/pull/1434,https://github.com/Jack-the-Ripper-district-londonien-1888,1,https://github.com/tvheadend/tvheadend/pull/1434,hello would it be possible to add a system xtream code or mac for recent application like tivimate ott navigator ?,hello would it be possible to add a system xtream code or mac for recent application like tivimate ott navigator ?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1435,2022-01-12T09:10:46Z,2022-01-12T23:18:54Z,2022-01-12T23:18:55Z,MERGED,True,1,1,1,https://github.com/tanakaPD,Italian episode number regexp,1,[],https://github.com/tvheadend/tvheadend/pull/1435,https://github.com/tanakaPD,1,https://github.com/tvheadend/tvheadend/pull/1435,"Proposed change to get also episode numbers given like ""EP. nnn"" (italian channels like Rai Gulp, Rai YoYo)","Proposed change to get also episode numbers given like ""EP. nnn"" (italian channels like Rai Gulp, Rai YoYo)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1436,2022-01-28T12:08:38Z,2022-04-11T03:00:20Z,2022-04-11T03:00:20Z,CLOSED,False,9,0,1,https://github.com/mwalliczek,fix binary msg,4,[],https://github.com/tvheadend/tvheadend/pull/1436,https://github.com/mwalliczek,1,https://github.com/tvheadend/tvheadend/pull/1436,"Currently retrieving the epg_api (epg/events/grid) via binary api access leads to a crash, because the type HMF_UUID (which is used for the channelUuid) is not part of the switch and leads to an abort(). To fix this I added this type to both switch cases (for the length and the actual data).","Currently retrieving the epg_api (epg/events/grid) via binary api access leads to a crash, because the type HMF_UUID (which is used for the channelUuid) is not part of the switch and leads to an abort(). To fix this I added this type to both switch cases (for the length and the actual data).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1436,2022-01-28T12:08:38Z,2022-04-11T03:00:20Z,2022-04-11T03:00:20Z,CLOSED,False,9,0,1,https://github.com/mwalliczek,fix binary msg,4,[],https://github.com/tvheadend/tvheadend/pull/1436,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1436#issuecomment-1037375439,"Currently retrieving the epg_api (epg/events/grid) via binary api access leads to a crash, because the type HMF_UUID (which is used for the channelUuid) is not part of the switch and leads to an abort(). To fix this I added this type to both switch cases (for the length and the actual data).",Please squash your commits together. Thanks!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1436,2022-01-28T12:08:38Z,2022-04-11T03:00:20Z,2022-04-11T03:00:20Z,CLOSED,False,9,0,1,https://github.com/mwalliczek,fix binary msg,4,[],https://github.com/tvheadend/tvheadend/pull/1436,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1436#issuecomment-1072904569,"Currently retrieving the epg_api (epg/events/grid) via binary api access leads to a crash, because the type HMF_UUID (which is used for the channelUuid) is not part of the switch and leads to an abort(). To fix this I added this type to both switch cases (for the length and the actual data).","Unfortunately you still have 4 commits in this PR, please make sure it's a single one with a meaningful description.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1437,2022-01-31T15:34:04Z,2022-02-12T18:30:40Z,2022-02-12T18:30:42Z,MERGED,True,1,1,1,https://github.com/jahutchi,OpenTV: fix missing summaries when running continuously for a number of days without a restart,1,[],https://github.com/tvheadend/tvheadend/pull/1437,https://github.com/jahutchi,1,https://github.com/tvheadend/tvheadend/pull/1437,"I was finding that after running for around 3-4 weeks some of the events via the OpenTV: SkyUK data were coming through with a blank summary as shown in the following screenshot.

Even forcing further scrapes (with maximum time-out) was not pulling through the summary data. However, I did discover that restarting TVHeadend and performing a further scrape would always resolve the issue. So seems related to something left in memory. It was hard to bottom this out as I had to enable opentv debug logging and leave it running for a number of weeks... but I've finally got some useful logging and found the cause...
epg_broadcast_find_by_eid was identifying past events with the same eid that were still lingering in memory. From my examinations of the OpenTV guide data it looks like the eids are re-used every 3-4 weeks on a given channel, which seems to fit with my findings that the problem starts to surface after 3-4 weeks of continuous usage.
Here are example log entries to go with the above screenshot:
eid 865 on channel 610 was used by event Space Chickens In Space broadcast on 10th Jan @01:48AM-02:00AM
2022-01-03 00:31:12.554 [  DEBUG]:opentv: find by time start 1641779280 stop 1641780000 ch 610000000 eid 865 = 0x7f0f682770c0
2022-01-03 00:31:12.554 [  DEBUG]:opentv:     title 'Space Chickens In Space'

2022-01-03 00:31:15.398 [  DEBUG]:opentv: find by ch 610000000 eid 865 = 0x7f0f682770c0
2022-01-03 00:31:15.398 [  DEBUG]:opentv:   summary 'Try Not To Laugh: Starley takes pity on a pet mushroom which triggers an outbreak of spores making people allergic to laughter. (S1 Ep13)'

Note the memory address for this event: 0x7f0f682770c0
eid 865 is then used again on the same channel (610) for the event shown highlighted in the screenshot Talking Tom and Friends broadcast on 31st Jan @09:00AM-09:15AM
2022-01-26 00:31:18.054 [  DEBUG]:opentv: find by time start 1643619600 stop 1643620500 ch 610000000 eid 865 = 0x7f0f69c4fff0
2022-01-26 00:31:18.054 [  DEBUG]:opentv:     title 'Talking Tom and Friends'

This is the title side of the record which creates a new event (memory address 0x7f0f69c4fff0) and this is the event you see in the guide (see previous screenshot).
However, when it encounters the summary side of the record it links this to the past event (memory address: 0x7f0f682770c0)::
2022-01-31 00:31:22.378 [  DEBUG]:opentv: find by ch 610000000 eid 865 = 0x7f0f682770c0
2022-01-31 00:31:22.378 [  DEBUG]:opentv:   summary 'The Love Ride: Talking Ben is thrilled because his online girlfriend Xenon is coming for a visit! There's just one problem: Xenon wants to go for a drive. (S2 Ep18)'

To fix this, I adjusted the comparison within epg_broadcast_find_by_eid to ensure that the event stop time is in the future, such that it will only return current and future events.
Seems the correct/safe thing to do since epg_broadcast_find_by_eid is only called from two places


opentv.c: opentv_parse_event_section_one

  
    
      tvheadend/src/epggrab/module/opentv.c
    
    
         Line 503
      in
      c6bb43d
    
  
  
    

        
          
           ebc = epg_broadcast_find_by_eid(ch, ev.eid); 
        
    
  




psip.c: _psip_ett_callback

  
    
      tvheadend/src/epggrab/module/psip.c
    
    
         Line 596
      in
      10d117e
    
  
  
    

        
          
           ebc = epg_broadcast_find_by_eid(ch, eventid); 
        
    
  




Both pieces of code are processing new (future) events so it makes sense to add this extra sanity check to only match future events when identifying by eid","I was finding that after running for around 3-4 weeks some of the events via the OpenTV: SkyUK data were coming through with a blank summary as shown in the following screenshot.

Even forcing further scrapes (with maximum time-out) was not pulling through the summary data. However, I did discover that restarting TVHeadend and performing a further scrape would always resolve the issue. So seems related to something left in memory. It was hard to bottom this out as I had to enable opentv debug logging and leave it running for a number of weeks... but I've finally got some useful logging and found the cause...
epg_broadcast_find_by_eid was identifying past events with the same eid that were still lingering in memory. From my examinations of the OpenTV guide data it looks like the eids are re-used every 3-4 weeks on a given channel, which seems to fit with my findings that the problem starts to surface after 3-4 weeks of continuous usage.
Here are example log entries to go with the above screenshot:
eid 865 on channel 610 was used by event Space Chickens In Space broadcast on 10th Jan @01:48AM-02:00AM
2022-01-03 00:31:12.554 [  DEBUG]:opentv: find by time start 1641779280 stop 1641780000 ch 610000000 eid 865 = 0x7f0f682770c0
2022-01-03 00:31:12.554 [  DEBUG]:opentv:     title 'Space Chickens In Space'

2022-01-03 00:31:15.398 [  DEBUG]:opentv: find by ch 610000000 eid 865 = 0x7f0f682770c0
2022-01-03 00:31:15.398 [  DEBUG]:opentv:   summary 'Try Not To Laugh: Starley takes pity on a pet mushroom which triggers an outbreak of spores making people allergic to laughter. (S1 Ep13)'

Note the memory address for this event: 0x7f0f682770c0
eid 865 is then used again on the same channel (610) for the event shown highlighted in the screenshot Talking Tom and Friends broadcast on 31st Jan @09:00AM-09:15AM
2022-01-26 00:31:18.054 [  DEBUG]:opentv: find by time start 1643619600 stop 1643620500 ch 610000000 eid 865 = 0x7f0f69c4fff0
2022-01-26 00:31:18.054 [  DEBUG]:opentv:     title 'Talking Tom and Friends'

This is the title side of the record which creates a new event (memory address 0x7f0f69c4fff0) and this is the event you see in the guide (see previous screenshot).
However, when it encounters the summary side of the record it links this to the past event (memory address: 0x7f0f682770c0)::
2022-01-31 00:31:22.378 [  DEBUG]:opentv: find by ch 610000000 eid 865 = 0x7f0f682770c0
2022-01-31 00:31:22.378 [  DEBUG]:opentv:   summary 'The Love Ride: Talking Ben is thrilled because his online girlfriend Xenon is coming for a visit! There's just one problem: Xenon wants to go for a drive. (S2 Ep18)'

To fix this, I adjusted the comparison within epg_broadcast_find_by_eid to ensure that the event stop time is in the future, such that it will only return current and future events.
Seems the correct/safe thing to do since epg_broadcast_find_by_eid is only called from two places


opentv.c: opentv_parse_event_section_one

  
    
      tvheadend/src/epggrab/module/opentv.c
    
    
         Line 503
      in
      c6bb43d
    
  
  
    

        
          
           ebc = epg_broadcast_find_by_eid(ch, ev.eid); 
        
    
  




psip.c: _psip_ett_callback

  
    
      tvheadend/src/epggrab/module/psip.c
    
    
         Line 596
      in
      10d117e
    
  
  
    

        
          
           ebc = epg_broadcast_find_by_eid(ch, eventid); 
        
    
  




Both pieces of code are processing new (future) events so it makes sense to add this extra sanity check to only match future events when identifying by eid",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1438,2022-02-05T00:14:12Z,2022-02-12T18:29:41Z,2022-02-12T18:29:41Z,MERGED,True,19,1,1,https://github.com/skazi0,"httpc: Fix multi-value ""Connection"" header checks",1,[],https://github.com/tvheadend/tvheadend/pull/1438,https://github.com/skazi0,1,https://github.com/tvheadend/tvheadend/pull/1438,"Connection header was checked for exact ""close"" or ""upgrade"" values
while it could contain multiple values delimited with commas.
New function was added for checking such cases.
Code is based on kv_find_value() function from:
https://cvsweb.openbsd.org/cgi-bin/cvsweb/src/usr.sbin/relayd/relayd.c
This fixes #6090","Connection header was checked for exact ""close"" or ""upgrade"" values
while it could contain multiple values delimited with commas.
New function was added for checking such cases.
Code is based on kv_find_value() function from:
https://cvsweb.openbsd.org/cgi-bin/cvsweb/src/usr.sbin/relayd/relayd.c
This fixes #6090",True,{'THUMBS_UP': ['https://github.com/Trujulu']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1439,2022-02-10T20:54:27Z,2022-02-12T18:30:59Z,2022-02-12T18:30:59Z,MERGED,True,3,3,2,https://github.com/ovaron76github,Small update for vappi h264/hevc transcoding and debian package creation,2,[],https://github.com/tvheadend/tvheadend/pull/1439,https://github.com/ovaron76github,1,https://github.com/tvheadend/tvheadend/pull/1439,"Small update for vappi h264/hevc transcoding (increased buffersize)
Fix for newer debian version with package version (from 5 to 7)","Small update for vappi h264/hevc transcoding (increased buffersize)
Fix for newer debian version with package version (from 5 to 7)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1440,2022-02-12T13:44:13Z,2022-02-12T18:32:54Z,2022-02-12T18:32:54Z,MERGED,True,6,6,1,https://github.com/rubdos,Doozer: build for Fedora 34 and 35,1,[],https://github.com/tvheadend/tvheadend/pull/1440,https://github.com/rubdos,1,https://github.com/tvheadend/tvheadend/pull/1440,"Hi!
I'm going to attempt and get tvheadend on Doozer to build against the newer Fedora versions. As I'm currently upgrading my system from Fedora 33 to 34, I'm not online on IRC, but you can usually ping me (rubdos) to take a further look.
In this first patch, I'm only changing out the version numbers. I don't expect anything weird to happen, but if it stops building from there on, you can expect further PRs.
I tried signing the CLA, but the page at https://www.clahub.com/agreements/tvheadend/tvheadend is blank on my browser.
Best,
Ruben","Hi!
I'm going to attempt and get tvheadend on Doozer to build against the newer Fedora versions. As I'm currently upgrading my system from Fedora 33 to 34, I'm not online on IRC, but you can usually ping me (rubdos) to take a further look.
In this first patch, I'm only changing out the version numbers. I don't expect anything weird to happen, but if it stops building from there on, you can expect further PRs.
I tried signing the CLA, but the page at https://www.clahub.com/agreements/tvheadend/tvheadend is blank on my browser.
Best,
Ruben",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1440,2022-02-12T13:44:13Z,2022-02-12T18:32:54Z,2022-02-12T18:32:54Z,MERGED,True,6,6,1,https://github.com/rubdos,Doozer: build for Fedora 34 and 35,1,[],https://github.com/tvheadend/tvheadend/pull/1440,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1440#issuecomment-1037377213,"Hi!
I'm going to attempt and get tvheadend on Doozer to build against the newer Fedora versions. As I'm currently upgrading my system from Fedora 33 to 34, I'm not online on IRC, but you can usually ping me (rubdos) to take a further look.
In this first patch, I'm only changing out the version numbers. I don't expect anything weird to happen, but if it stops building from there on, you can expect further PRs.
I tried signing the CLA, but the page at https://www.clahub.com/agreements/tvheadend/tvheadend is blank on my browser.
Best,
Ruben","Don't worry about the CLA.
If this doesn't fix the build you probably need to add --nowerror to the configure call. Assuming that issue with the defines for nasm isn't at fault for the errors.",True,{'HEART': ['https://github.com/rubdos']}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1441,2022-02-13T07:20:29Z,2022-02-14T01:07:07Z,2022-02-14T09:22:36Z,MERGED,True,3,3,3,https://github.com/rubdos,Update Python shebangs to python3 for Fedora,1,[],https://github.com/tvheadend/tvheadend/pull/1441,https://github.com/rubdos,1,https://github.com/tvheadend/tvheadend/pull/1441,"RPM build currently gives these (e.g. https://doozer.io/tvheadend/tvheadend/buildlog/23860):
*** ERROR: ambiguous python shebang in /usr/bin/tv_meta_tvdb.py: #!/usr/bin/env python. Change it to python3 (or python2) explicitly.
*** ERROR: ambiguous python shebang in /usr/bin/tv_meta_tmdb.py: #!/usr/bin/env python. Change it to python3 (or python2) explicitly.
*** ERROR: ambiguous python shebang in /usr/bin/tvhmeta: #!/usr/bin/env python. Change it to python3 (or python2) explicitly.
error: Bad exit status from /var/tmp/rpm-tmp.FMb2Z3 (%install)

Changing the shebangs to python3 fixes the whole thing, which is what this patch is about. If you have some python2 systems to still support, feel free to close this, and I can supply a version that uses sed in the rpmbuild.  I have a local setup to test the RPM build now, and  with this fix I have an actual RPM! :-)","RPM build currently gives these (e.g. https://doozer.io/tvheadend/tvheadend/buildlog/23860):
*** ERROR: ambiguous python shebang in /usr/bin/tv_meta_tvdb.py: #!/usr/bin/env python. Change it to python3 (or python2) explicitly.
*** ERROR: ambiguous python shebang in /usr/bin/tv_meta_tmdb.py: #!/usr/bin/env python. Change it to python3 (or python2) explicitly.
*** ERROR: ambiguous python shebang in /usr/bin/tvhmeta: #!/usr/bin/env python. Change it to python3 (or python2) explicitly.
error: Bad exit status from /var/tmp/rpm-tmp.FMb2Z3 (%install)

Changing the shebangs to python3 fixes the whole thing, which is what this patch is about. If you have some python2 systems to still support, feel free to close this, and I can supply a version that uses sed in the rpmbuild.  I have a local setup to test the RPM build now, and  with this fix I have an actual RPM! :-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1442,2022-02-15T14:38:11Z,2022-02-22T16:21:05Z,2022-02-22T16:21:05Z,CLOSED,False,12,8,1,https://github.com/mpmc,doozer: add python-is-python3 to various dists,1,[],https://github.com/tvheadend/tvheadend/pull/1442,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1442,as title,as title,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1442,2022-02-15T14:38:11Z,2022-02-22T16:21:05Z,2022-02-22T16:21:05Z,CLOSED,False,12,8,1,https://github.com/mpmc,doozer: add python-is-python3 to various dists,1,[],https://github.com/tvheadend/tvheadend/pull/1442,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1442#issuecomment-1040823679,as title,"What exactly is the advantage of doing this? All builds should be successful right now (there have been issues that should disappear on a rebuild).
Edit: Apparently that rebuild already happened, so we are all green at the moment.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1442,2022-02-15T14:38:11Z,2022-02-22T16:21:05Z,2022-02-22T16:21:05Z,CLOSED,False,12,8,1,https://github.com/mpmc,doozer: add python-is-python3 to various dists,1,[],https://github.com/tvheadend/tvheadend/pull/1442,https://github.com/mpmc,3,https://github.com/tvheadend/tvheadend/pull/1442#issuecomment-1047967476,as title,"@Flole998 Some of the py scripts used python and not python3 when I originally did this, they've since been changed to python3 adding the python-is-python3 avoided changing those & breaking something else.
Yes, I kept an eye on the builds. I also had to tweak the doozer settings and clear the cache to get them to build correctly.

Will close :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1443,2022-02-17T22:04:41Z,,2022-03-30T00:54:38Z,OPEN,False,11,0,1,https://github.com/dreamcat4,fixes issue #5930 - user config doesn't force DVR profile,1,[],https://github.com/tvheadend/tvheadend/pull/1443,https://github.com/dreamcat4,1,https://github.com/tvheadend/tvheadend/pull/1443,"Hello @Flole998,
Today I have tested and verified myself (independently) that this simple little patch here provided by Dietmar Konermann
https://tvheadend.org/issues/5930#note-5
It worked, after recompile the bug of #5930 on current master branch. No other code changes necessary. And now the user's custom dvr profile is being respected. As it should be.
I do not believe this bug ever occured to my memory on the last previous stable version. Which was what I upgraded from directly. Upon finding this issue on master. Therefore it does not need to be backported to any previous older branches to my knowledge.
The code seems a small and simple change. Isolated from other things. So please look through Dietmar's patch here and check it for any other type of error. In the meantime, will keep running this code every daily myself.","Hello @Flole998,
Today I have tested and verified myself (independently) that this simple little patch here provided by Dietmar Konermann
https://tvheadend.org/issues/5930#note-5
It worked, after recompile the bug of #5930 on current master branch. No other code changes necessary. And now the user's custom dvr profile is being respected. As it should be.
I do not believe this bug ever occured to my memory on the last previous stable version. Which was what I upgraded from directly. Upon finding this issue on master. Therefore it does not need to be backported to any previous older branches to my knowledge.
The code seems a small and simple change. Isolated from other things. So please look through Dietmar's patch here and check it for any other type of error. In the meantime, will keep running this code every daily myself.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1443,2022-02-17T22:04:41Z,,2022-03-30T00:54:38Z,OPEN,False,11,0,1,https://github.com/dreamcat4,fixes issue #5930 - user config doesn't force DVR profile,1,[],https://github.com/tvheadend/tvheadend/pull/1443,https://github.com/ovaron76github,2,https://github.com/tvheadend/tvheadend/pull/1443#issuecomment-1081696340,"Hello @Flole998,
Today I have tested and verified myself (independently) that this simple little patch here provided by Dietmar Konermann
https://tvheadend.org/issues/5930#note-5
It worked, after recompile the bug of #5930 on current master branch. No other code changes necessary. And now the user's custom dvr profile is being respected. As it should be.
I do not believe this bug ever occured to my memory on the last previous stable version. Which was what I upgraded from directly. Upon finding this issue on master. Therefore it does not need to be backported to any previous older branches to my knowledge.
The code seems a small and simple change. Isolated from other things. So please look through Dietmar's patch here and check it for any other type of error. In the meantime, will keep running this code every daily myself.",For me it looks good.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1443,2022-02-17T22:04:41Z,,2022-03-30T00:54:38Z,OPEN,False,11,0,1,https://github.com/dreamcat4,fixes issue #5930 - user config doesn't force DVR profile,1,[],https://github.com/tvheadend/tvheadend/pull/1443,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1443#issuecomment-1082508457,"Hello @Flole998,
Today I have tested and verified myself (independently) that this simple little patch here provided by Dietmar Konermann
https://tvheadend.org/issues/5930#note-5
It worked, after recompile the bug of #5930 on current master branch. No other code changes necessary. And now the user's custom dvr profile is being respected. As it should be.
I do not believe this bug ever occured to my memory on the last previous stable version. Which was what I upgraded from directly. Upon finding this issue on master. Therefore it does not need to be backported to any previous older branches to my knowledge.
The code seems a small and simple change. Isolated from other things. So please look through Dietmar's patch here and check it for any other type of error. In the meantime, will keep running this code every daily myself.","I'd like to figure out why it apparently works in 4.2 and is broken in 4.3.... This code doesn't seem to be there in 4.2 but still it works, and I haven't figured out why it doesn't work in 4.3 aswell. I haven't had time to figure that out, once I'll get a chance to do that and have verified that this is indeed a proper fix (and not just ignoring the old, broken solution and adding a second one) I'll merge it. So if someone comes up with an explanation for 4.2 that'd accelerate it quite a bit I guess....",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1444,2022-02-23T09:45:06Z,,2022-02-23T09:45:06Z,OPEN,False,180,0,3,https://github.com/hselasky,Add support for vendor DISEQC command sequences.,1,[],https://github.com/tvheadend/tvheadend/pull/1444,https://github.com/hselasky,1,https://github.com/tvheadend/tvheadend/pull/1444,"Work in progress.
Signed-off-by: Hans Petter Selasky hps@selasky.org","Work in progress.
Signed-off-by: Hans Petter Selasky hps@selasky.org",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1445,2022-02-23T17:28:00Z,2022-02-23T18:13:47Z,2022-02-23T18:19:47Z,CLOSED,False,14,0,3,https://github.com/WereCatf,Add option to drop src-parameter from RTSP-requests,1,[],https://github.com/tvheadend/tvheadend/pull/1445,https://github.com/WereCatf,1,https://github.com/tvheadend/tvheadend/pull/1445,"This patch adds an option similar to the one for dropping
frontend-parameter from RTSP-requests, but this only applies
to DVB-C tuners. The reason for this patch is that it enables
Plex to work directly with the Tvheadend SAT>IP-server.
Signed-off-by: Nita Vesa werecatf@outlook.com","This patch adds an option similar to the one for dropping
frontend-parameter from RTSP-requests, but this only applies
to DVB-C tuners. The reason for this patch is that it enables
Plex to work directly with the Tvheadend SAT>IP-server.
Signed-off-by: Nita Vesa werecatf@outlook.com",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1445,2022-02-23T17:28:00Z,2022-02-23T18:13:47Z,2022-02-23T18:19:47Z,CLOSED,False,14,0,3,https://github.com/WereCatf,Add option to drop src-parameter from RTSP-requests,1,[],https://github.com/tvheadend/tvheadend/pull/1445,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1445#issuecomment-1049031260,"This patch adds an option similar to the one for dropping
frontend-parameter from RTSP-requests, but this only applies
to DVB-C tuners. The reason for this patch is that it enables
Plex to work directly with the Tvheadend SAT>IP-server.
Signed-off-by: Nita Vesa werecatf@outlook.com",What exactly is Plex specifying as src Parameter and why is this not working properly at the moment?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1445,2022-02-23T17:28:00Z,2022-02-23T18:13:47Z,2022-02-23T18:19:47Z,CLOSED,False,14,0,3,https://github.com/WereCatf,Add option to drop src-parameter from RTSP-requests,1,[],https://github.com/tvheadend/tvheadend/pull/1445,https://github.com/WereCatf,3,https://github.com/tvheadend/tvheadend/pull/1445#issuecomment-1049041115,"This patch adds an option similar to the one for dropping
frontend-parameter from RTSP-requests, but this only applies
to DVB-C tuners. The reason for this patch is that it enables
Plex to work directly with the Tvheadend SAT>IP-server.
Signed-off-by: Nita Vesa werecatf@outlook.com","What exactly is Plex specifying as src Parameter and why is this not working properly at the moment?

Plex supplies a ""src=1"" and Tvheadend complains about extra parameters and rejects the request.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1445,2022-02-23T17:28:00Z,2022-02-23T18:13:47Z,2022-02-23T18:19:47Z,CLOSED,False,14,0,3,https://github.com/WereCatf,Add option to drop src-parameter from RTSP-requests,1,[],https://github.com/tvheadend/tvheadend/pull/1445,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1445#issuecomment-1049048930,"This patch adds an option similar to the one for dropping
frontend-parameter from RTSP-requests, but this only applies
to DVB-C tuners. The reason for this patch is that it enables
Plex to work directly with the Tvheadend SAT>IP-server.
Signed-off-by: Nita Vesa werecatf@outlook.com","I guess the parameter should be properly parsed like it is done for DVB-S. That way it can be used properly with the ""SAT>IP Source number"" which can be specified in the network settings.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1445,2022-02-23T17:28:00Z,2022-02-23T18:13:47Z,2022-02-23T18:19:47Z,CLOSED,False,14,0,3,https://github.com/WereCatf,Add option to drop src-parameter from RTSP-requests,1,[],https://github.com/tvheadend/tvheadend/pull/1445,https://github.com/WereCatf,5,https://github.com/tvheadend/tvheadend/pull/1445#issuecomment-1049052825,"This patch adds an option similar to the one for dropping
frontend-parameter from RTSP-requests, but this only applies
to DVB-C tuners. The reason for this patch is that it enables
Plex to work directly with the Tvheadend SAT>IP-server.
Signed-off-by: Nita Vesa werecatf@outlook.com","I guess the parameter should be properly parsed like it is done for DVB-S. That way it can be used properly with the ""SAT>IP Source number"" which can be specified in the network settings.

Alas, according to my research, apparently SAT>IP DVB-C tuners are only ever supposed to have a single network and you're technically not supposed to supply that parameter at all. Yes, it could be parsed, but properly compliant SAT>IP-clients would only ever supply src=1 or nothing at all.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1445,2022-02-23T17:28:00Z,2022-02-23T18:13:47Z,2022-02-23T18:19:47Z,CLOSED,False,14,0,3,https://github.com/WereCatf,Add option to drop src-parameter from RTSP-requests,1,[],https://github.com/tvheadend/tvheadend/pull/1445,https://github.com/WereCatf,6,https://github.com/tvheadend/tvheadend/pull/1445#issuecomment-1049054884,"This patch adds an option similar to the one for dropping
frontend-parameter from RTSP-requests, but this only applies
to DVB-C tuners. The reason for this patch is that it enables
Plex to work directly with the Tvheadend SAT>IP-server.
Signed-off-by: Nita Vesa werecatf@outlook.com","Besides the above, my patch would at least allow Plex (and any other misbehaving clients) to work with Tvheadend until someone bothers to implement the parsing for the source.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1445,2022-02-23T17:28:00Z,2022-02-23T18:13:47Z,2022-02-23T18:19:47Z,CLOSED,False,14,0,3,https://github.com/WereCatf,Add option to drop src-parameter from RTSP-requests,1,[],https://github.com/tvheadend/tvheadend/pull/1445,https://github.com/Flole998,7,https://github.com/tvheadend/tvheadend/pull/1445#issuecomment-1049068014,"This patch adds an option similar to the one for dropping
frontend-parameter from RTSP-requests, but this only applies
to DVB-C tuners. The reason for this patch is that it enables
Plex to work directly with the Tvheadend SAT>IP-server.
Signed-off-by: Nita Vesa werecatf@outlook.com","Where did you find a specification for SAT>IP specifying DVB-C?
I don't see any reason why there shouldn't be multiple cable networks connected to a single server. Just like multiple satellites can exist for a DVB-S server.
A patch that is just a workaround and adds lots of unnecessary code when really a single line (or 2 lines) needs to be moved up a little won't be merged.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1445,2022-02-23T17:28:00Z,2022-02-23T18:13:47Z,2022-02-23T18:19:47Z,CLOSED,False,14,0,3,https://github.com/WereCatf,Add option to drop src-parameter from RTSP-requests,1,[],https://github.com/tvheadend/tvheadend/pull/1445,https://github.com/WereCatf,8,https://github.com/tvheadend/tvheadend/pull/1445#issuecomment-1049070052,"This patch adds an option similar to the one for dropping
frontend-parameter from RTSP-requests, but this only applies
to DVB-C tuners. The reason for this patch is that it enables
Plex to work directly with the Tvheadend SAT>IP-server.
Signed-off-by: Nita Vesa werecatf@outlook.com",Lots of unnecessary code? Mm-hmm. Fine.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1445,2022-02-23T17:28:00Z,2022-02-23T18:13:47Z,2022-02-23T18:19:47Z,CLOSED,False,14,0,3,https://github.com/WereCatf,Add option to drop src-parameter from RTSP-requests,1,[],https://github.com/tvheadend/tvheadend/pull/1445,https://github.com/Flole998,9,https://github.com/tvheadend/tvheadend/pull/1445#issuecomment-1049075443,"This patch adds an option similar to the one for dropping
frontend-parameter from RTSP-requests, but this only applies
to DVB-C tuners. The reason for this patch is that it enables
Plex to work directly with the Tvheadend SAT>IP-server.
Signed-off-by: Nita Vesa werecatf@outlook.com","Yes, 15 lines added while all that's necessary is really 3 deletions and 2 addictions (aka move 2 lines, remove 1 line). That would also allow clients which omit the parameter to use the server.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1446,2022-02-24T00:55:27Z,2022-04-05T05:02:14Z,2022-04-05T05:02:14Z,MERGED,True,3,3,1,https://github.com/WereCatf,Always parse 'src' in RTSP-requests,1,[],https://github.com/tvheadend/tvheadend/pull/1446,https://github.com/WereCatf,1,https://github.com/tvheadend/tvheadend/pull/1446,"Originally, the code did not parse 'src' in RTSP-requests for
DVB-C tuners. This patch moves to always parse the parameter,
allowing e.g. Plex and possibly other SAT>IP-clients to work.
Signed-off-by: Nita Vesa werecatf@outlook.com","Originally, the code did not parse 'src' in RTSP-requests for
DVB-C tuners. This patch moves to always parse the parameter,
allowing e.g. Plex and possibly other SAT>IP-clients to work.
Signed-off-by: Nita Vesa werecatf@outlook.com",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1447,2022-03-08T10:32:20Z,2022-03-21T18:44:56Z,2022-03-21T18:44:56Z,CLOSED,False,87,11,1,https://github.com/ovaron76github,Update vaapi transcoding (h264/hevc),2,[],https://github.com/tvheadend/tvheadend/pull/1447,https://github.com/ovaron76github,1,https://github.com/tvheadend/tvheadend/pull/1447,"Buffer factor (buffersize manipulation) now configurable at WebUI.
Added rc_mode (h264/hevc) and tier (hevc), both configurable via WebUI.
Removed B-Frame workaround from the past at HEVC.","Buffer factor (buffersize manipulation) now configurable at WebUI.
Added rc_mode (h264/hevc) and tier (hevc), both configurable via WebUI.
Removed B-Frame workaround from the past at HEVC.",True,"{'THUMBS_UP': ['https://github.com/Saentist', 'https://github.com/outhud', 'https://github.com/CvH']}"
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1447,2022-03-08T10:32:20Z,2022-03-21T18:44:56Z,2022-03-21T18:44:56Z,CLOSED,False,87,11,1,https://github.com/ovaron76github,Update vaapi transcoding (h264/hevc),2,[],https://github.com/tvheadend/tvheadend/pull/1447,https://github.com/ovaron76github,2,https://github.com/tvheadend/tvheadend/pull/1447#issuecomment-1068963079,"Buffer factor (buffersize manipulation) now configurable at WebUI.
Added rc_mode (h264/hevc) and tier (hevc), both configurable via WebUI.
Removed B-Frame workaround from the past at HEVC.","Can this pull request be merged with this project or is there some error which I should fix before?
On my side it works without problems.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1447,2022-03-08T10:32:20Z,2022-03-21T18:44:56Z,2022-03-21T18:44:56Z,CLOSED,False,87,11,1,https://github.com/ovaron76github,Update vaapi transcoding (h264/hevc),2,[],https://github.com/tvheadend/tvheadend/pull/1447,https://github.com/ovaron76github,3,https://github.com/tvheadend/tvheadend/pull/1447#issuecomment-1071451760,"Buffer factor (buffersize manipulation) now configurable at WebUI.
Added rc_mode (h264/hevc) and tier (hevc), both configurable via WebUI.
Removed B-Frame workaround from the past at HEVC.","Added an option for ignore b-frames because some drivers needs this (AMD).
Also updated VP8 and VP9 encoding.
VP8 and VP9 now also reacts on options for ""Buffer factor"" and ""Ignore B-Frames"" and got the ""force_key_frames"" expression to increase picture quality.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1447,2022-03-08T10:32:20Z,2022-03-21T18:44:56Z,2022-03-21T18:44:56Z,CLOSED,False,87,11,1,https://github.com/ovaron76github,Update vaapi transcoding (h264/hevc),2,[],https://github.com/tvheadend/tvheadend/pull/1447,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1447#issuecomment-1072903899,"Buffer factor (buffersize manipulation) now configurable at WebUI.
Added rc_mode (h264/hevc) and tier (hevc), both configurable via WebUI.
Removed B-Frame workaround from the past at HEVC.",Can you please squash your commits together? They should appear as a single commit with a meaningful commit description.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1448,2022-03-15T10:18:34Z,2022-03-15T10:27:41Z,2022-03-15T10:27:41Z,MERGED,True,7,7,1,https://github.com/mpoullet,SAT>IP client: UPnP header field names are case insensitive,1,[],https://github.com/tvheadend/tvheadend/pull/1448,https://github.com/mpoullet,1,https://github.com/tvheadend/tvheadend/pull/1448,"SAT>IP Protocol Specification 1.2.2: 3.3.2 Server Advertisements: ""Please note that in UPnP - header field names are case insensitive and header field values are case sensitive""
some servers reply with e.g. ""Location"" or ""Server"" instead of ""LOCATION"" or ""SERVER""","SAT>IP Protocol Specification 1.2.2: 3.3.2 Server Advertisements: ""Please note that in UPnP - header field names are case insensitive and header field values are case sensitive""
some servers reply with e.g. ""Location"" or ""Server"" instead of ""LOCATION"" or ""SERVER""",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1449,2022-03-19T00:27:52Z,2022-03-19T00:28:36Z,2022-03-19T00:29:11Z,CLOSED,False,7,4,1,https://github.com/kegbeach,increase http stream loop timeouts,1,[],https://github.com/tvheadend/tvheadend/pull/1449,https://github.com/kegbeach,1,https://github.com/tvheadend/tvheadend/pull/1449,set grace and ptimeout to 600,set grace and ptimeout to 600,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1450,2022-03-21T18:47:45Z,2022-03-30T00:55:50Z,2022-03-30T00:55:50Z,MERGED,True,89,11,1,https://github.com/ovaron76github,Update for VAAPI transcoding,1,[],https://github.com/tvheadend/tvheadend/pull/1450,https://github.com/ovaron76github,1,https://github.com/tvheadend/tvheadend/pull/1450,"VAAPI: Buffer factor (buffersize manipulation) now configurable at WebUI.
VAAPI: Added rc_mode (h264/hevc) and tier (hevc), both configurable via WebUI.
VAAPI: Removed B-Frame workaround from the past at HEVC.
VAAPI: Added an option for ignore b-frames because some drivers needs this (AMD).
VAAPI: Also updated VP8 and VP9 encoding.
VAAPI: VP8 and VP9 now also reacts on options for ""Buffer factor"" and ""Ignore B-Frames"" and got the ""force_key_frames"" expression to increase picture quality.
VAAPI: Added destroy option for h264 codec (might have created memory issues)","VAAPI: Buffer factor (buffersize manipulation) now configurable at WebUI.
VAAPI: Added rc_mode (h264/hevc) and tier (hevc), both configurable via WebUI.
VAAPI: Removed B-Frame workaround from the past at HEVC.
VAAPI: Added an option for ignore b-frames because some drivers needs this (AMD).
VAAPI: Also updated VP8 and VP9 encoding.
VAAPI: VP8 and VP9 now also reacts on options for ""Buffer factor"" and ""Ignore B-Frames"" and got the ""force_key_frames"" expression to increase picture quality.
VAAPI: Added destroy option for h264 codec (might have created memory issues)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1450,2022-03-21T18:47:45Z,2022-03-30T00:55:50Z,2022-03-30T00:55:50Z,MERGED,True,89,11,1,https://github.com/ovaron76github,Update for VAAPI transcoding,1,[],https://github.com/tvheadend/tvheadend/pull/1450,https://github.com/ovaron76github,2,https://github.com/tvheadend/tvheadend/pull/1450#issuecomment-1081693713,"VAAPI: Buffer factor (buffersize manipulation) now configurable at WebUI.
VAAPI: Added rc_mode (h264/hevc) and tier (hevc), both configurable via WebUI.
VAAPI: Removed B-Frame workaround from the past at HEVC.
VAAPI: Added an option for ignore b-frames because some drivers needs this (AMD).
VAAPI: Also updated VP8 and VP9 encoding.
VAAPI: VP8 and VP9 now also reacts on options for ""Buffer factor"" and ""Ignore B-Frames"" and got the ""force_key_frames"" expression to increase picture quality.
VAAPI: Added destroy option for h264 codec (might have created memory issues)",Anything else needed fort this change or is it okay now?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1450,2022-03-21T18:47:45Z,2022-03-30T00:55:50Z,2022-03-30T00:55:50Z,MERGED,True,89,11,1,https://github.com/ovaron76github,Update for VAAPI transcoding,1,[],https://github.com/tvheadend/tvheadend/pull/1450,https://github.com/Flole998,3,https://github.com/tvheadend/tvheadend/pull/1450#issuecomment-1082508890,"VAAPI: Buffer factor (buffersize manipulation) now configurable at WebUI.
VAAPI: Added rc_mode (h264/hevc) and tier (hevc), both configurable via WebUI.
VAAPI: Removed B-Frame workaround from the past at HEVC.
VAAPI: Added an option for ignore b-frames because some drivers needs this (AMD).
VAAPI: Also updated VP8 and VP9 encoding.
VAAPI: VP8 and VP9 now also reacts on options for ""Buffer factor"" and ""Ignore B-Frames"" and got the ""force_key_frames"" expression to increase picture quality.
VAAPI: Added destroy option for h264 codec (might have created memory issues)","Looks good to me, thanks!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1451,2022-04-03T18:37:01Z,2022-04-03T19:31:48Z,2022-04-03T19:31:49Z,CLOSED,False,11,9,1,https://github.com/dave-p,dvr_disk_space_cleanup() - do not return error if called again too soon,1,[],https://github.com/tvheadend/tvheadend/pull/1451,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1451,"Fixes #6152
If two recordings begin simultaneously, and the free storage space is below the minimum, the second recording to be processed will fail.
File deletion and update of disk statistics, triggered by the start of the first recording, takes a finite time (possibly several seconds if a disk drive has to spin up). The second recording may therefore see the same space shortage as the first and trigger a further cleanup. However dvr_disk_space_cleanup() returns an error if called within 10 seconds of the last cleanup, causing the recording to fail.
Instead, we return the same number of cleared bytes as was returned on the first call, allowing the second recording to proceed.","Fixes #6152
If two recordings begin simultaneously, and the free storage space is below the minimum, the second recording to be processed will fail.
File deletion and update of disk statistics, triggered by the start of the first recording, takes a finite time (possibly several seconds if a disk drive has to spin up). The second recording may therefore see the same space shortage as the first and trigger a further cleanup. However dvr_disk_space_cleanup() returns an error if called within 10 seconds of the last cleanup, causing the recording to fail.
Instead, we return the same number of cleared bytes as was returned on the first call, allowing the second recording to proceed.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1451,2022-04-03T18:37:01Z,2022-04-03T19:31:48Z,2022-04-03T19:31:49Z,CLOSED,False,11,9,1,https://github.com/dave-p,dvr_disk_space_cleanup() - do not return error if called again too soon,1,[],https://github.com/tvheadend/tvheadend/pull/1451,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1451#issuecomment-1086927574,"Fixes #6152
If two recordings begin simultaneously, and the free storage space is below the minimum, the second recording to be processed will fail.
File deletion and update of disk statistics, triggered by the start of the first recording, takes a finite time (possibly several seconds if a disk drive has to spin up). The second recording may therefore see the same space shortage as the first and trigger a further cleanup. However dvr_disk_space_cleanup() returns an error if called within 10 seconds of the last cleanup, causing the recording to fail.
Instead, we return the same number of cleared bytes as was returned on the first call, allowing the second recording to proceed.","I am not sure that fix is correct: The actual cleaning is done before your variable is set, right? So on the second run (while the first one is still running) you'd return 0, on every other run you'd return how many bytes were cleaned on the previous run? Is the actual deletion done asynchronously?
Also in dvr_vfs_rec_start_check() there seems to be no error checking? The -1 is treated as ""we cleaned -1 bytes""? So how about this: We catch -1 as an error and use -2 return code for the 10-second-case and then make the rec_start_check return true for that case?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1451,2022-04-03T18:37:01Z,2022-04-03T19:31:48Z,2022-04-03T19:31:49Z,CLOSED,False,11,9,1,https://github.com/dave-p,dvr_disk_space_cleanup() - do not return error if called again too soon,1,[],https://github.com/tvheadend/tvheadend/pull/1451,https://github.com/dave-p,3,https://github.com/tvheadend/tvheadend/pull/1451#issuecomment-1086933528,"Fixes #6152
If two recordings begin simultaneously, and the free storage space is below the minimum, the second recording to be processed will fail.
File deletion and update of disk statistics, triggered by the start of the first recording, takes a finite time (possibly several seconds if a disk drive has to spin up). The second recording may therefore see the same space shortage as the first and trigger a further cleanup. However dvr_disk_space_cleanup() returns an error if called within 10 seconds of the last cleanup, causing the recording to fail.
Instead, we return the same number of cleared bytes as was returned on the first call, allowing the second recording to proceed.","Also in dvr_vfs_rec_start_check() there seems to be no error checking? The -1 is treated as ""we cleaned -1 bytes""? So how about this: We catch -1 as an error and use -2 return code for the 10-second-case and then make the rec_start_check return true for that case?

I will close this PR and resubmit using your suggestion instead.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1452,2022-04-04T09:59:29Z,2022-04-05T05:01:56Z,2022-04-05T05:01:56Z,MERGED,True,18,13,2,https://github.com/dave-p,dvr_disk_space_cleanup() - do not return error if called again too so…,1,[],https://github.com/tvheadend/tvheadend/pull/1452,https://github.com/dave-p,1,https://github.com/tvheadend/tvheadend/pull/1452,"…on
Fixes #6152
If two recordings begin simultaneously, and the free storage space is below the minimum, the second recording to be processed will fail.
File deletion and update of disk statistics, triggered by the start of the first recording, takes a finite time (possibly several seconds if a disk drive has to spin up). The second recording may therefore see the same space shortage as the first and trigger a further cleanup. However dvr_disk_space_cleanup() returns an error if called within 10 seconds of the last cleanup, causing the recording to fail.
The code is reworked to explicitly report and handle this condition.","…on
Fixes #6152
If two recordings begin simultaneously, and the free storage space is below the minimum, the second recording to be processed will fail.
File deletion and update of disk statistics, triggered by the start of the first recording, takes a finite time (possibly several seconds if a disk drive has to spin up). The second recording may therefore see the same space shortage as the first and trigger a further cleanup. However dvr_disk_space_cleanup() returns an error if called within 10 seconds of the last cleanup, causing the recording to fail.
The code is reworked to explicitly report and handle this condition.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1453,2022-04-06T20:06:49Z,2022-04-06T21:28:11Z,2022-04-06T21:28:11Z,MERGED,True,2,2,2,https://github.com/ffontaine,fix build with libressl,1,[],https://github.com/tvheadend/tvheadend/pull/1453,https://github.com/ffontaine,1,https://github.com/tvheadend/tvheadend/pull/1453,"Fix the following build failure with libressl raised since e61acb8:
utils.c:(.text+0x1614): undefined reference to `EVP_sha512_256'

Fixes:

http://autobuild.buildroot.org/results/cb18f6533806f3729f9718bdcc719384be375b66

Signed-off-by: Fabrice Fontaine fontaine.fabrice@gmail.com","Fix the following build failure with libressl raised since e61acb8:
utils.c:(.text+0x1614): undefined reference to `EVP_sha512_256'

Fixes:

http://autobuild.buildroot.org/results/cb18f6533806f3729f9718bdcc719384be375b66

Signed-off-by: Fabrice Fontaine fontaine.fabrice@gmail.com",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1454,2022-04-07T01:51:17Z,2022-04-07T01:52:38Z,2022-04-07T01:52:38Z,MERGED,True,1,1,1,https://github.com/mamarley,Fix FTBFS in utils.c,1,[],https://github.com/tvheadend/tvheadend/pull/1454,https://github.com/mamarley,1,https://github.com/tvheadend/tvheadend/pull/1454,"U+0020 SPACE and U+00A0 NO-BREAK SPACE look the same, but they
aren't the same.","U+0020 SPACE and U+00A0 NO-BREAK SPACE look the same, but they
aren't the same.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1455,2022-04-22T13:43:31Z,2022-04-22T16:49:22Z,2022-04-25T01:28:27Z,MERGED,True,1,1,1,https://github.com/stephengeorgewest,add Access-Control-Allow-Headers content-length,1,[],https://github.com/tvheadend/tvheadend/pull/1455,https://github.com/stephengeorgewest,1,https://github.com/tvheadend/tvheadend/pull/1455,"Issue originally reported: https://tvheadend.org/issues/6146
Re-verefied on master: 26713c1","Issue originally reported: https://tvheadend.org/issues/6146
Re-verefied on master: 26713c1",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1456,2022-04-24T17:43:29Z,,2022-04-25T18:26:55Z,OPEN,False,76,8,4,https://github.com/mpmc,fixes most doozer.io build targets...,4,[],https://github.com/tvheadend/tvheadend/pull/1456,https://github.com/mpmc,1,https://github.com/tvheadend/tvheadend/pull/1456,Some are completely broken due to a change in how GitHub/git handle the 'git' protocol and SSL.,Some are completely broken due to a change in how GitHub/git handle the 'git' protocol and SSL.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1456,2022-04-24T17:43:29Z,,2022-04-25T18:26:55Z,OPEN,False,76,8,4,https://github.com/mpmc,fixes most doozer.io build targets...,4,[],https://github.com/tvheadend/tvheadend/pull/1456,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1456#issuecomment-1107901771,Some are completely broken due to a change in how GitHub/git handle the 'git' protocol and SSL.,Why are there builds failing again? I thought I had all of them working before?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1456,2022-04-24T17:43:29Z,,2022-04-25T18:26:55Z,OPEN,False,76,8,4,https://github.com/mpmc,fixes most doozer.io build targets...,4,[],https://github.com/tvheadend/tvheadend/pull/1456,https://github.com/mpmc,3,https://github.com/tvheadend/tvheadend/pull/1456#issuecomment-1107910587,Some are completely broken due to a change in how GitHub/git handle the 'git' protocol and SSL.,"@Flole998 I did min changes possible.
I think if you can correct/update the ssl certs in the env they'll build again. Another option would be just to replace all that logic and download a tar.gz from github over http instead.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1456,2022-04-24T17:43:29Z,,2022-04-25T18:26:55Z,OPEN,False,76,8,4,https://github.com/mpmc,fixes most doozer.io build targets...,4,[],https://github.com/tvheadend/tvheadend/pull/1456,https://github.com/mpmc,4,https://github.com/tvheadend/tvheadend/pull/1456#issuecomment-1108897248,Some are completely broken due to a change in how GitHub/git handle the 'git' protocol and SSL.,@Flole998 See https://github.blog/2021-09-01-improving-git-protocol-security-github/,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1456,2022-04-24T17:43:29Z,,2022-04-25T18:26:55Z,OPEN,False,76,8,4,https://github.com/mpmc,fixes most doozer.io build targets...,4,[],https://github.com/tvheadend/tvheadend/pull/1456,https://github.com/Flole998,5,https://github.com/tvheadend/tvheadend/pull/1456#issuecomment-1108897733,Some are completely broken due to a change in how GitHub/git handle the 'git' protocol and SSL.,Aren't the new Ubuntu releases amd64-only? I think for focal we also only have amd64?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1456,2022-04-24T17:43:29Z,,2022-04-25T18:26:55Z,OPEN,False,76,8,4,https://github.com/mpmc,fixes most doozer.io build targets...,4,[],https://github.com/tvheadend/tvheadend/pull/1456,https://github.com/mpmc,6,https://github.com/tvheadend/tvheadend/pull/1456#issuecomment-1108900421,Some are completely broken due to a change in how GitHub/git handle the 'git' protocol and SSL.,"Aren't the new Ubuntu releases amd64-only? I think for focal we also only have amd64?

Kinda, apparently they're still fading i386 out. Won't hurt to leave it I suppose?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1457,2022-05-05T15:40:03Z,2022-05-05T15:48:01Z,2022-05-05T15:57:37Z,CLOSED,False,5,1,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,15,[],https://github.com/tvheadend/tvheadend/pull/1457,https://github.com/bluzee,1,https://github.com/tvheadend/tvheadend/pull/1457,"Kodi is not getting signal level when TVheadend is set to use new Decibel status.  It currently only gets level if you force old signal status.  Decibel levels have actual meaning while percentage levels are less helpful.  When you know the delivery system, modulation and fec of a carrier then you can know the exact minimum dB SNR to lock without errors.
I understand the code is crude.  Farmers probably shouldn't write code but I hope this will work at least.","Kodi is not getting signal level when TVheadend is set to use new Decibel status.  It currently only gets level if you force old signal status.  Decibel levels have actual meaning while percentage levels are less helpful.  When you know the delivery system, modulation and fec of a carrier then you can know the exact minimum dB SNR to lock without errors.
I understand the code is crude.  Farmers probably shouldn't write code but I hope this will work at least.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1457,2022-05-05T15:40:03Z,2022-05-05T15:48:01Z,2022-05-05T15:57:37Z,CLOSED,False,5,1,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,15,[],https://github.com/tvheadend/tvheadend/pull/1457,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1457#issuecomment-1118718898,"Kodi is not getting signal level when TVheadend is set to use new Decibel status.  It currently only gets level if you force old signal status.  Decibel levels have actual meaning while percentage levels are less helpful.  When you know the delivery system, modulation and fec of a carrier then you can know the exact minimum dB SNR to lock without errors.
I understand the code is crude.  Farmers probably shouldn't write code but I hope this will work at least.","The code looks alright, but you have 15 commits for one change, there should only be a single commit and not that many merge commits.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1457,2022-05-05T15:40:03Z,2022-05-05T15:48:01Z,2022-05-05T15:57:37Z,CLOSED,False,5,1,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,15,[],https://github.com/tvheadend/tvheadend/pull/1457,https://github.com/bluzee,3,https://github.com/tvheadend/tvheadend/pull/1457#issuecomment-1118721792,"Kodi is not getting signal level when TVheadend is set to use new Decibel status.  It currently only gets level if you force old signal status.  Decibel levels have actual meaning while percentage levels are less helpful.  When you know the delivery system, modulation and fec of a carrier then you can know the exact minimum dB SNR to lock without errors.
I understand the code is crude.  Farmers probably shouldn't write code but I hope this will work at least.","Yes, I'm not sure why it did that.  Do I need to create a branch for the one commit?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1457,2022-05-05T15:40:03Z,2022-05-05T15:48:01Z,2022-05-05T15:57:37Z,CLOSED,False,5,1,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,15,[],https://github.com/tvheadend/tvheadend/pull/1457,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1457#issuecomment-1118725983,"Kodi is not getting signal level when TVheadend is set to use new Decibel status.  It currently only gets level if you force old signal status.  Decibel levels have actual meaning while percentage levels are less helpful.  When you know the delivery system, modulation and fec of a carrier then you can know the exact minimum dB SNR to lock without errors.
I understand the code is crude.  Farmers probably shouldn't write code but I hope this will work at least.","I would suggest to revert the commit, stash it, reset to head and then apply it again. Or the easy (but ""unprofessional"") solution: Delete, clone again, apply those changes, force-push to GitHub (or delete your repo and fork again if you aren't working with a local copy, that would require a new PR though).",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1457,2022-05-05T15:40:03Z,2022-05-05T15:48:01Z,2022-05-05T15:57:37Z,CLOSED,False,5,1,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,15,[],https://github.com/tvheadend/tvheadend/pull/1457,https://github.com/bluzee,5,https://github.com/tvheadend/tvheadend/pull/1457#issuecomment-1118726227,"Kodi is not getting signal level when TVheadend is set to use new Decibel status.  It currently only gets level if you force old signal status.  Decibel levels have actual meaning while percentage levels are less helpful.  When you know the delivery system, modulation and fec of a carrier then you can know the exact minimum dB SNR to lock without errors.
I understand the code is crude.  Farmers probably shouldn't write code but I hope this will work at least.",I'll close this  and try again.  Sorry for the mess.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1457,2022-05-05T15:40:03Z,2022-05-05T15:48:01Z,2022-05-05T15:57:37Z,CLOSED,False,5,1,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,15,[],https://github.com/tvheadend/tvheadend/pull/1457,https://github.com/Flole998,6,https://github.com/tvheadend/tvheadend/pull/1457#issuecomment-1118729218,"Kodi is not getting signal level when TVheadend is set to use new Decibel status.  It currently only gets level if you force old signal status.  Decibel levels have actual meaning while percentage levels are less helpful.  When you know the delivery system, modulation and fec of a carrier then you can know the exact minimum dB SNR to lock without errors.
I understand the code is crude.  Farmers probably shouldn't write code but I hope this will work at least.","No problem, let me know if you need any help :)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/bluzee,1,https://github.com/tvheadend/tvheadend/pull/1458,Bump version to 37.,Bump version to 37.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1118743963,Bump version to 37.,That looks better. I am wondering though: What datatype is sig->snr? Shouldn't it rather be a float?,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/ksooo,3,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1118745064,Bump version to 37.,"Shouldn't it rather be a float?

int => s32 in htsp",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/Flole998,4,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1118747719,Bump version to 37.,"Shouldn't it rather be a float?

int => s32 in htsp

I might be wrong, but isn't the Webinterface showing a float normally? Or is this value supposed to be multiplied by 10 (aka it's carrying a decimal place with it)?",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/ksooo,5,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1118750996,Bump version to 37.,"multiplied by 10

almost, multiplied by 10.000
  int signal; ///< signal strength, value depending on signal_scale value:
              ///<  - SCALE_RELATIVE : 0...65535 (which means 0%...100%)
              ///<  - SCALE DECIBEL  : 0.0001 dBm units. This value is generally negative.
  int snr;    ///< signal to noise ratio, value depending on snr_scale value:
              ///<  - SCALE_RELATIVE : 0...65535 (which means 0%...100%)
              ///<  - SCALE DECIBEL  : 0.0001 dB units.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/bluzee,6,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1118784195,Bump version to 37.,I changed u32 to s32 for both SNR and Signal.  Signal will always be negative dbm.   Think I found all the blank spaces.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/7687476874,7,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1125476684,Bump version to 37.,I would be very grateful if you could let me know if the signal indicator will work on kodi or not.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/ksooo,8,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1125656088,Bump version to 37.,"I would be very grateful if you could let me know if the signal indicator will work on kodi or not.

This will not work out of the box. After this PR here went in, Kodi needs to be changed to support the dB/dBm values. Unfortunately, this is more work than you might think. It's just displaying two strings, right? But for this Kodi itself and all PVR add-ons need to be touched as this new feature most probably requires a Kodi PVR add-on API change, even if in a first step only pvr.hts would support the new values. This is how things work with Kodi add-on API changes. Not to forget the Kodi skin(s) that need to be updated to show the new values.
So, you will need very latest tvheadend, Kodi and pvr.hts. On the Kodi side nothing that will be available before Kodi 20. As you can see, high effort, just for some (imo not important) strings in Kodi user interface. Somebody needs to do the work on Kodi side. If nobody steps up, this feature will never happen. That's how it goes with open source projects run by 100% volunteers.
BTW: What is the whole point about these values? Once you have setup your hardware (e.g. satellite dish) correctly, SNR and signal strength should be stable and there is no need to look at them on a every time you watch Live TV. Look into the tvheadend GUI if you feel there is something wrong with SNR/signal strength. ;-)",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/7687476874,9,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1125886394,Bump version to 37.,Thank you very much for your information.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/bluzee,10,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1126410057,Bump version to 37.,"Changing the whole API for this seems a bit more trouble than it's worth. TVH is the only backend that is fully functional for live TV so nothing else will make use of this.  HTSP is only for TVH and pvr.hts correct? TVH web GUI used the API instead correct?  What would happen if we just did this in HTSP....
if((sig->snr != -2) && (sig->snr_scale == SIGNAL_STATUS_SCALE_RELATIVE))
htsmsg_add_u32(m, ""feSNR"",    sig->snr);
if((sig->snr != -2) && (sig->snr_scale == SIGNAL_STATUS_SCALE_DECIBEL))
htsmsg_add_s32(m, ""feSNR"",    sig->snr);
It's only going to ever send feSNR once correct?  Is the string sent by SCALE_DECIBEL something the existing pvr.hts can deal with?
Satellite dishes  rotate across the arc. TV antennas rotate to point to different transmitter locations.  They often need nudging. One pulse can fix a signal.
If I force old stats I get more or less meaningless stats in both Kodi and TVH gui. If I use dB I get useful numbers in TVH gui but currently 0 in Kodi.  I don't really care if Kodi shows a % sign or says dB.  If it sends feSNR 13500 I will know that is 13.5dB and that to me is a meaningful number.  So if we can get a number into Kodi without having to rewrite the whole thing that would be wonderful.  Rewriting every PVR addon would be pointless as TVH is the only backend that is suitable  for this.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/7687476874,11,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1126511438,Bump version to 37.,I found an image in tvheadend version 4.2,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/ksooo,12,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1126525784,Bump version to 37.,"Changing the whole API for this seems a bit more trouble than it's worth.

@bluzee I'm sick to explain things again and again. If you know better, come up with some real code. Open respective PRs for Kodi/pvr.hts. Then we have something real to discuss. Personally, I couldn't care less for this feature. Given my limited time for Kodi, this has very low priority on my long list of things to do.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/bluzee,13,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1126548570,Bump version to 37.,OK.  I'll figure it out on my own. In future if you have absolutely no interest in something just come out and say it. When the request came in on Kodi forum you dumped it on TVHeadend. You told people that you knew exactly how to fix the issue if only TVHeadend would get their act together. There is nothing wrong with simply stating that you have no interest in something.  This would have stopped then.  Anyway it's stopping now.,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/ksooo,14,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1126661333,Bump version to 37.,"You told people that you knew exactly how to fix the issue

@bluzee  Yes, I do. Now, you started questioning what I proposed and this is the point I'm out.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1458,2022-05-05T15:59:10Z,2022-05-13T22:17:54Z,2022-05-14T09:38:00Z,CLOSED,False,6,2,1,https://github.com/bluzee,HTSP: Add SNR and Signal status for Decibel scale.,2,[],https://github.com/tvheadend/tvheadend/pull/1458,https://github.com/ksooo,15,https://github.com/tvheadend/tvheadend/pull/1458#issuecomment-1126680534,Bump version to 37.,"BTW, you should not close this PR as THIS is exactly the right way to go, the first step in the chain of changes needed.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1459,2022-05-10T18:08:51Z,,2022-05-10T18:19:33Z,OPEN,False,33,214,1,https://github.com/NormRaden,"Fixed and cleanup the ""PSIP: ATSC Grabber"" module (Fixes #5610)",1,[],https://github.com/tvheadend/tvheadend/pull/1459,https://github.com/NormRaden,1,https://github.com/tvheadend/tvheadend/pull/1459,"Bumped up limit on number of supported EIT/ETT tables from 5 to 256 (this is the max number of EIT/ETT tables in the ATSC specification)


Remove table type 4 as a valid ETT table, there is no support for this table here and table type 4 doesn't supply any EPG data--just long names for channels/services, etc.


Removed the very rapid toggling between mpegts_table_{add,destroy}(...) calls on EIT/ETT tables that caused continuous enabling/disabling of EIT and ETT PIDs.


Added an 'ETM Location' check to EIT table handling to ensure that an event's extra text is cleared in the EPG database if there is no matching ETT.


Removed epg_broadcast_change_finish(...) because it was erasing the extra text field in EPG database when updating title in EPG database (in EIT handler).


Added the ability for receiving ETT tables with the same version ID.  ETT tables use the same version ID for long runs of event IDs and 'Extra text's.


Fix bug in retrieving the number of tables EIT/ETT tables listed in the MGT table.


Removed the psip_{find,remove,add}desc(...) functions (and supporting code) that stored ETT extra texts before
there was a matching EIT event and then would try to match up the ETT extra texts when the EIT event showed up.
However, the psip*_desc(..) functions didn't keep track of the channel and would match up the ETT 'Extra text' with the wrong EIT event.


Removed some non-functional code.


Removed old commented out test code.


Added placeholder support for 'stop' and 'done' functions of this module for future development.


The ""Over-the-air: PSIP: ATSC Grabber"" module now quickly and correctly populates 'Title', 'Extra text', 'Start time', 'End time', 'Duration', etc... fields in the EPG Database.

While there had been some useful development done, I found that the PSIP: ATSC Grabber module really didn't work.  It wouldn't properly populate the EPG database, the ""Extra text"" fields would briefly flash a sometimes wrong description before disappearing, and a sparse number of ""Title"" fields would slowly update, and often recordings and live streaming would experience lots of dropped packets while the module was enabled.  I developed a modest patch that improves performance and correctness of the module.
The big bug was that the module was flooding the tuner hardware's PID filter with repeated requests to enable then disable the same set of ETT and EIT PIDs (via repeated calls to mpegts_table_{add,destroy}(...)).  This would severely hamper the processing of EIT and EIT tables.  Additionally, depending on the tuner hardware, would sometimes overload the digital tuner causing constant indiscriminate dropping of packets.  Also, there was a call to epg_broadcast_change_finish(ebc, changes2, 0) that would erased some fields in the EPG database that it shouldn't.  And, the ETT tables are broadcast using the same version number for each event ID, a call to dvb_table_reset(...) was needed after processing each ETT section to reset the version filtering feature built-in to dvb_table_begin(...)/dvb_table_end(...) as a work around, otherwise only one 'Extra text' would be processed.  And, the psip_{find,remove,add}_desc(...) functions would sometimes place the 'Extra text' in the wrong place.  With help from an ATSC PSIP specification, I made some other smaller fixes.  I finished up by removing some non-functional code for better readability and performance.  However, there is still some more work that can be done.
I did stumble across this in the ""ATSC Standard: Program and System Information Protocol for Terrestrial Broadcast And Cable"" Doc. A65/2013, 7 August 2013:
Under Section 6.5 Event Information Table (EIT) on page 40 it says:
""For a particular virtual channel, an event_id identifies uniquely each of the events programmed for the 3-hour interval of an EIT.""
Under Section D.4.3 The Event Information Tables (EITs) on page 116 it says:
""The event_id is used to link events with their messages defined in the ETT, and therefore it has to be unique only within a virtual channel and a 3-hour interval defined by EITs.""
The specification clearly says that event ID's can only be expected to be unique within 3-hour intervals--this would require a more complex implementation.  However, it appears that all the ATSC terrestrial broadcaster's PSIP generators receivable by my antenna in my region of the USA conveniently keep event IDs unique across all 3-hour intervals.  Its time to share the patch and find out if there are any PSIP EPG generators that reuse event IDs between EITs and ETTs in different 3-hour intervals.
Verification:

gcc's (version 10.2.1) static analyzer has no complaints about the changed file.
I've been testing this patch for several months and the PSIP: ATSC Grabber module works as expected.

Works for ~50 programs/channels carried on 10 ATSC terrestrial broadcast stations located in a metropolitan area in the USA.
Typically, will finish updating the EPG database well under 90 seconds for all the programs/channels available on all tuned-in station(s).
Doesn't mangle reception of media packets for recording or watching live.
When I wasn't certain it was working, I temporarily instrumented some tvhdebug(...)'s to dump a lot of EIT and ETT tables in to the log, and manually verified that the EIT/ETT table's matched up with the expected EPG database contents.



Since, I only use a small subset of tvheadend features, some feedback on this patch would be nice.  I couldn't test ATSC cable broadcasts.  I couldn't test broadcaster's outside of my media market.  If you live in an ATSC region (North America and some surrounding islands, South Korea, parts of South America, etc...) please give this patch a try and let me know what you think.  Don't forget to test this module out BEFORE applying this patch first.
Enable the ""PSIP: ATSC Grabber"" module (under Configuration -> Channel/EPG -> EPG Grabber Modules) and disable any competing modules.  I found that a setting between 60 and 90 for ""EPG scan time-out in seconds"" (under Configuration -> Channel/EPG -> EPG Grabber) works well.","Bumped up limit on number of supported EIT/ETT tables from 5 to 256 (this is the max number of EIT/ETT tables in the ATSC specification)


Remove table type 4 as a valid ETT table, there is no support for this table here and table type 4 doesn't supply any EPG data--just long names for channels/services, etc.


Removed the very rapid toggling between mpegts_table_{add,destroy}(...) calls on EIT/ETT tables that caused continuous enabling/disabling of EIT and ETT PIDs.


Added an 'ETM Location' check to EIT table handling to ensure that an event's extra text is cleared in the EPG database if there is no matching ETT.


Removed epg_broadcast_change_finish(...) because it was erasing the extra text field in EPG database when updating title in EPG database (in EIT handler).


Added the ability for receiving ETT tables with the same version ID.  ETT tables use the same version ID for long runs of event IDs and 'Extra text's.


Fix bug in retrieving the number of tables EIT/ETT tables listed in the MGT table.


Removed the psip_{find,remove,add}desc(...) functions (and supporting code) that stored ETT extra texts before
there was a matching EIT event and then would try to match up the ETT extra texts when the EIT event showed up.
However, the psip*_desc(..) functions didn't keep track of the channel and would match up the ETT 'Extra text' with the wrong EIT event.


Removed some non-functional code.


Removed old commented out test code.


Added placeholder support for 'stop' and 'done' functions of this module for future development.


The ""Over-the-air: PSIP: ATSC Grabber"" module now quickly and correctly populates 'Title', 'Extra text', 'Start time', 'End time', 'Duration', etc... fields in the EPG Database.

While there had been some useful development done, I found that the PSIP: ATSC Grabber module really didn't work.  It wouldn't properly populate the EPG database, the ""Extra text"" fields would briefly flash a sometimes wrong description before disappearing, and a sparse number of ""Title"" fields would slowly update, and often recordings and live streaming would experience lots of dropped packets while the module was enabled.  I developed a modest patch that improves performance and correctness of the module.
The big bug was that the module was flooding the tuner hardware's PID filter with repeated requests to enable then disable the same set of ETT and EIT PIDs (via repeated calls to mpegts_table_{add,destroy}(...)).  This would severely hamper the processing of EIT and EIT tables.  Additionally, depending on the tuner hardware, would sometimes overload the digital tuner causing constant indiscriminate dropping of packets.  Also, there was a call to epg_broadcast_change_finish(ebc, changes2, 0) that would erased some fields in the EPG database that it shouldn't.  And, the ETT tables are broadcast using the same version number for each event ID, a call to dvb_table_reset(...) was needed after processing each ETT section to reset the version filtering feature built-in to dvb_table_begin(...)/dvb_table_end(...) as a work around, otherwise only one 'Extra text' would be processed.  And, the psip_{find,remove,add}_desc(...) functions would sometimes place the 'Extra text' in the wrong place.  With help from an ATSC PSIP specification, I made some other smaller fixes.  I finished up by removing some non-functional code for better readability and performance.  However, there is still some more work that can be done.
I did stumble across this in the ""ATSC Standard: Program and System Information Protocol for Terrestrial Broadcast And Cable"" Doc. A65/2013, 7 August 2013:
Under Section 6.5 Event Information Table (EIT) on page 40 it says:
""For a particular virtual channel, an event_id identifies uniquely each of the events programmed for the 3-hour interval of an EIT.""
Under Section D.4.3 The Event Information Tables (EITs) on page 116 it says:
""The event_id is used to link events with their messages defined in the ETT, and therefore it has to be unique only within a virtual channel and a 3-hour interval defined by EITs.""
The specification clearly says that event ID's can only be expected to be unique within 3-hour intervals--this would require a more complex implementation.  However, it appears that all the ATSC terrestrial broadcaster's PSIP generators receivable by my antenna in my region of the USA conveniently keep event IDs unique across all 3-hour intervals.  Its time to share the patch and find out if there are any PSIP EPG generators that reuse event IDs between EITs and ETTs in different 3-hour intervals.
Verification:

gcc's (version 10.2.1) static analyzer has no complaints about the changed file.
I've been testing this patch for several months and the PSIP: ATSC Grabber module works as expected.

Works for ~50 programs/channels carried on 10 ATSC terrestrial broadcast stations located in a metropolitan area in the USA.
Typically, will finish updating the EPG database well under 90 seconds for all the programs/channels available on all tuned-in station(s).
Doesn't mangle reception of media packets for recording or watching live.
When I wasn't certain it was working, I temporarily instrumented some tvhdebug(...)'s to dump a lot of EIT and ETT tables in to the log, and manually verified that the EIT/ETT table's matched up with the expected EPG database contents.



Since, I only use a small subset of tvheadend features, some feedback on this patch would be nice.  I couldn't test ATSC cable broadcasts.  I couldn't test broadcaster's outside of my media market.  If you live in an ATSC region (North America and some surrounding islands, South Korea, parts of South America, etc...) please give this patch a try and let me know what you think.  Don't forget to test this module out BEFORE applying this patch first.
Enable the ""PSIP: ATSC Grabber"" module (under Configuration -> Channel/EPG -> EPG Grabber Modules) and disable any competing modules.  I found that a setting between 60 and 90 for ""EPG scan time-out in seconds"" (under Configuration -> Channel/EPG -> EPG Grabber) works well.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1460,2022-05-28T07:41:13Z,,2022-06-05T12:14:14Z,OPEN,False,19,20,1,https://github.com/chewi,Migrate libavformat muxer to FFmpeg 5 API,1,[],https://github.com/tvheadend/tvheadend/pull/1460,https://github.com/chewi,1,https://github.com/tvheadend/tvheadend/pull/1460,"As you may be aware, Tvheadend does not build against FFmpeg 5 due to API changes involving codecpar and BSF. This is going to become a headache for distributions quite soon. I tried to update the code to make it work, but have struggled due to what seems to be a slightly complex use case. I'm submitting what I have so far so that no one has to start from scratch with this. The /* Check */ comments show where the result should be checked.
There isn't much documentation around this API or how to migrate, but I did find a great example of code supporting both the old and new APIs. I don't think you need to support both, but it still demonstrates how you can migrate. Unfortunately, it's a simpler use case. Look for FFMPEG_USE_CODECPAR and FFMPEG_USE_NEW_BSF.","As you may be aware, Tvheadend does not build against FFmpeg 5 due to API changes involving codecpar and BSF. This is going to become a headache for distributions quite soon. I tried to update the code to make it work, but have struggled due to what seems to be a slightly complex use case. I'm submitting what I have so far so that no one has to start from scratch with this. The /* Check */ comments show where the result should be checked.
There isn't much documentation around this API or how to migrate, but I did find a great example of code supporting both the old and new APIs. I don't think you need to support both, but it still demonstrates how you can migrate. Unfortunately, it's a simpler use case. Look for FFMPEG_USE_CODECPAR and FFMPEG_USE_NEW_BSF.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1460,2022-05-28T07:41:13Z,,2022-06-05T12:14:14Z,OPEN,False,19,20,1,https://github.com/chewi,Migrate libavformat muxer to FFmpeg 5 API,1,[],https://github.com/tvheadend/tvheadend/pull/1460,https://github.com/Flole998,2,https://github.com/tvheadend/tvheadend/pull/1460#issuecomment-1140236341,"As you may be aware, Tvheadend does not build against FFmpeg 5 due to API changes involving codecpar and BSF. This is going to become a headache for distributions quite soon. I tried to update the code to make it work, but have struggled due to what seems to be a slightly complex use case. I'm submitting what I have so far so that no one has to start from scratch with this. The /* Check */ comments show where the result should be checked.
There isn't much documentation around this API or how to migrate, but I did find a great example of code supporting both the old and new APIs. I don't think you need to support both, but it still demonstrates how you can migrate. Unfortunately, it's a simpler use case. Look for FFMPEG_USE_CODECPAR and FFMPEG_USE_NEW_BSF.","As you can see your version does not build currently when using the static ffmpeg (which still uses ffmpeg 4.x). As there are only a few distributions currently providing ffmpeg 5 packages it's not acceptable to break it for all of them, so you should really use ffmpeg 4 for now.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1460,2022-05-28T07:41:13Z,,2022-06-05T12:14:14Z,OPEN,False,19,20,1,https://github.com/chewi,Migrate libavformat muxer to FFmpeg 5 API,1,[],https://github.com/tvheadend/tvheadend/pull/1460,https://github.com/chewi,3,https://github.com/tvheadend/tvheadend/pull/1460#issuecomment-1140249682,"As you may be aware, Tvheadend does not build against FFmpeg 5 due to API changes involving codecpar and BSF. This is going to become a headache for distributions quite soon. I tried to update the code to make it work, but have struggled due to what seems to be a slightly complex use case. I'm submitting what I have so far so that no one has to start from scratch with this. The /* Check */ comments show where the result should be checked.
There isn't much documentation around this API or how to migrate, but I did find a great example of code supporting both the old and new APIs. I don't think you need to support both, but it still demonstrates how you can migrate. Unfortunately, it's a simpler use case. Look for FFMPEG_USE_CODECPAR and FFMPEG_USE_NEW_BSF.","It doesn't build because this work is incomplete, as I said. The new API is present in 4.x, possibly as far back as 4.0 from what I can see. The old API has been deprecated for a long time.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1460,2022-05-28T07:41:13Z,,2022-06-05T12:14:14Z,OPEN,False,19,20,1,https://github.com/chewi,Migrate libavformat muxer to FFmpeg 5 API,1,[],https://github.com/tvheadend/tvheadend/pull/1460,https://github.com/chewi,4,https://github.com/tvheadend/tvheadend/pull/1460#issuecomment-1140250169,"As you may be aware, Tvheadend does not build against FFmpeg 5 due to API changes involving codecpar and BSF. This is going to become a headache for distributions quite soon. I tried to update the code to make it work, but have struggled due to what seems to be a slightly complex use case. I'm submitting what I have so far so that no one has to start from scratch with this. The /* Check */ comments show where the result should be checked.
There isn't much documentation around this API or how to migrate, but I did find a great example of code supporting both the old and new APIs. I don't think you need to support both, but it still demonstrates how you can migrate. Unfortunately, it's a simpler use case. Look for FFMPEG_USE_CODECPAR and FFMPEG_USE_NEW_BSF.",See this commit from 2017!,True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1460,2022-05-28T07:41:13Z,,2022-06-05T12:14:14Z,OPEN,False,19,20,1,https://github.com/chewi,Migrate libavformat muxer to FFmpeg 5 API,1,[],https://github.com/tvheadend/tvheadend/pull/1460,https://github.com/woooow1,5,https://github.com/tvheadend/tvheadend/pull/1460#issuecomment-1140265134,"As you may be aware, Tvheadend does not build against FFmpeg 5 due to API changes involving codecpar and BSF. This is going to become a headache for distributions quite soon. I tried to update the code to make it work, but have struggled due to what seems to be a slightly complex use case. I'm submitting what I have so far so that no one has to start from scratch with this. The /* Check */ comments show where the result should be checked.
There isn't much documentation around this API or how to migrate, but I did find a great example of code supporting both the old and new APIs. I don't think you need to support both, but it still demonstrates how you can migrate. Unfortunately, it's a simpler use case. Look for FFMPEG_USE_CODECPAR and FFMPEG_USE_NEW_BSF.","@chewi, what exactly trying to change? Maybe this warning: libav: avformatcontext: using avstream.codec to pass codec parameters to muxers is deprecated, use avstream.codecpar instead??? Migration to new ffmpeg 5 need a lot of tvheadend code to be adapted. More trouble is libavresample, wich is also deprecated!",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1460,2022-05-28T07:41:13Z,,2022-06-05T12:14:14Z,OPEN,False,19,20,1,https://github.com/chewi,Migrate libavformat muxer to FFmpeg 5 API,1,[],https://github.com/tvheadend/tvheadend/pull/1460,https://github.com/chewi,6,https://github.com/tvheadend/tvheadend/pull/1460#issuecomment-1140272961,"As you may be aware, Tvheadend does not build against FFmpeg 5 due to API changes involving codecpar and BSF. This is going to become a headache for distributions quite soon. I tried to update the code to make it work, but have struggled due to what seems to be a slightly complex use case. I'm submitting what I have so far so that no one has to start from scratch with this. The /* Check */ comments show where the result should be checked.
There isn't much documentation around this API or how to migrate, but I did find a great example of code supporting both the old and new APIs. I don't think you need to support both, but it still demonstrates how you can migrate. Unfortunately, it's a simpler use case. Look for FFMPEG_USE_CODECPAR and FFMPEG_USE_NEW_BSF.","From Gentoo bug #834399, trying to build against FFmpeg 5 looks like this:
src/muxer/muxer_libav.c:37:3: error: unknown type name ‘AVBitStreamFilterContext’
   37 |   AVBitStreamFilterContext *lm_h264_filter;
      |   ^~~~~~~~~~~~~~~~~~~~~~~~
src/muxer/muxer_libav.c:38:3: error: unknown type name ‘AVBitStreamFilterContext’
   38 |   AVBitStreamFilterContext *lm_hevc_filter;
      |   ^~~~~~~~~~~~~~~~~~~~~~~~
src/muxer/muxer_libav.c: In function ‘lav_muxer_add_stream’:
src/muxer/muxer_libav.c:81:3: error: unknown type name ‘AVCodecContext’; use ‘struct’ keyword to refer to the type
   81 |   AVCodecContext *c;
      |   ^~~~~~~~~~~~~~
      |   struct 
src/muxer/muxer_libav.c:88:9: error: ‘AVStream’ has no member named ‘codec’
   88 |   c = st->codec;
      |         ^~
src/muxer/muxer_libav.c:89:4: error: request for member ‘codec_id’ in something not a structure or union
   89 |   c->codec_id = streaming_component_type2codec_id(ssc->ssc_type);
      |    ^~
src/muxer/muxer_libav.c:100:6: error: request for member ‘rc_buffer_size’ in something not a structure or union
  100 |     c->rc_buffer_size = 224*1024*8;
      |      ^~
src/muxer/muxer_libav.c:123:8: error: request for member ‘extradata_size’ in something not a structure or union
  123 |       c->extradata_size = hdr.sb_ptr;

That bug report also showed the libavresample issue you mention, but that was against Tvheadend V4.2.8. Commit 014bb95 removed the only reference to avresample.h, but this change has never been released, despite being made way back in 2016. I believe the only remaining issue is in this muxer.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1460,2022-05-28T07:41:13Z,,2022-06-05T12:14:14Z,OPEN,False,19,20,1,https://github.com/chewi,Migrate libavformat muxer to FFmpeg 5 API,1,[],https://github.com/tvheadend/tvheadend/pull/1460,https://github.com/pimzand,7,https://github.com/tvheadend/tvheadend/pull/1460#issuecomment-1146790930,"As you may be aware, Tvheadend does not build against FFmpeg 5 due to API changes involving codecpar and BSF. This is going to become a headache for distributions quite soon. I tried to update the code to make it work, but have struggled due to what seems to be a slightly complex use case. I'm submitting what I have so far so that no one has to start from scratch with this. The /* Check */ comments show where the result should be checked.
There isn't much documentation around this API or how to migrate, but I did find a great example of code supporting both the old and new APIs. I don't think you need to support both, but it still demonstrates how you can migrate. Unfortunately, it's a simpler use case. Look for FFMPEG_USE_CODECPAR and FFMPEG_USE_NEW_BSF.","Fedora 36 (with rpmfusion) comes with ffmpeg 5.
In Fedora 35, that came with ffmpeg 4, I could build tvheadend with ffmpeg dynamically.
I now had to switch to static build using the ffmpeg provided by tvheadend.
There may not be many other distributions using ffmpeg 5,
but at some point it would make sense for tvheadend to switch to ffmpeg 5,
and provide static build methods for distibutions that do not provide it.",True,{}
tvheadend/tvheadend,https://github.com/tvheadend/tvheadend,1460,2022-05-28T07:41:13Z,,2022-06-05T12:14:14Z,OPEN,False,19,20,1,https://github.com/chewi,Migrate libavformat muxer to FFmpeg 5 API,1,[],https://github.com/tvheadend/tvheadend/pull/1460,https://github.com/chewi,8,https://github.com/tvheadend/tvheadend/pull/1460#issuecomment-1146793804,"As you may be aware, Tvheadend does not build against FFmpeg 5 due to API changes involving codecpar and BSF. This is going to become a headache for distributions quite soon. I tried to update the code to make it work, but have struggled due to what seems to be a slightly complex use case. I'm submitting what I have so far so that no one has to start from scratch with this. The /* Check */ comments show where the result should be checked.
There isn't much documentation around this API or how to migrate, but I did find a great example of code supporting both the old and new APIs. I don't think you need to support both, but it still demonstrates how you can migrate. Unfortunately, it's a simpler use case. Look for FFMPEG_USE_CODECPAR and FFMPEG_USE_NEW_BSF.","Like I said, the new ABI will work with 4.x as the old ABI was already deprecated. This should have been done years ago.",True,{'THUMBS_UP': ['https://github.com/CvH']}
