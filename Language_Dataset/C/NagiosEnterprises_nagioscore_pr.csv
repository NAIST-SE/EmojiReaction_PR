NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,111,2016-02-17T17:53:09Z,2016-07-19T17:33:39Z,2016-07-19T17:34:13Z,CLOSED,False,3103,4757,110,https://github.com/talsonthomas,Nagios 4.1.2 pre1,57,[],https://github.com/NagiosEnterprises/nagioscore/pull/111,https://github.com/talsonthomas,1,https://github.com/NagiosEnterprises/nagioscore/pull/111,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,116,2016-03-10T11:40:03Z,2016-03-10T11:46:09Z,2016-03-10T11:46:09Z,CLOSED,False,8,0,2,https://github.com/gynayak2,Nagios installation on power linux (ppc64) ,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/116,https://github.com/gynayak2,1,https://github.com/NagiosEnterprises/nagioscore/pull/116,"This guide is intended to provide you with simple instructions on how to install Nagios from source (code) on Power platform (ppc64le) on Linux environment
Power Linux Quickstart.pdf
.","This guide is intended to provide you with simple instructions on how to install Nagios from source (code) on Power platform (ppc64le) on Linux environment
Power Linux Quickstart.pdf
.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,122,2016-04-15T08:02:40Z,2016-12-12T19:06:11Z,2016-12-12T19:06:11Z,MERGED,True,2,2,1,https://github.com/fredericve,Use cached host state on service state changes,1,['Bug'],https://github.com/NagiosEnterprises/nagioscore/pull/122,https://github.com/fredericve,1,https://github.com/NagiosEnterprises/nagioscore/pull/122,"This restores the behaviour of nagios 3.x when the services state
changes.
Fixes #121","This restores the behaviour of nagios 3.x when the services state
changes.
Fixes #121",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,126,2016-04-29T20:17:47Z,2016-10-21T17:11:24Z,2017-02-06T17:17:57Z,CLOSED,False,6,3,1,https://github.com/rakesh-patnaik,ISSUE_125 avoid rendering a page from a different host and restrict t…,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/126,https://github.com/rakesh-patnaik,1,https://github.com/NagiosEnterprises/nagioscore/pull/126,"A malicious page can be displayed on nagios using ""corewindow"" parameter. This change tries to avoid rendering pages from anything but the nagios host. More information about this has been listed at #125","A malicious page can be displayed on nagios using ""corewindow"" parameter. This change tries to avoid rendering pages from anything but the nagios host. More information about this has been listed at #125",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,126,2016-04-29T20:17:47Z,2016-10-21T17:11:24Z,2017-02-06T17:17:57Z,CLOSED,False,6,3,1,https://github.com/rakesh-patnaik,ISSUE_125 avoid rendering a page from a different host and restrict t…,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/126,https://github.com/everwatch,2,https://github.com/NagiosEnterprises/nagioscore/pull/126#issuecomment-220782240,"A malicious page can be displayed on nagios using ""corewindow"" parameter. This change tries to avoid rendering pages from anything but the nagios host. More information about this has been listed at #125",Confirming that this is still an issue in 4.1.1 and I have also tested the proposed patch.  I'd like to see this get committed.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,126,2016-04-29T20:17:47Z,2016-10-21T17:11:24Z,2017-02-06T17:17:57Z,CLOSED,False,6,3,1,https://github.com/rakesh-patnaik,ISSUE_125 avoid rendering a page from a different host and restrict t…,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/126,https://github.com/jfrickson,3,https://github.com/NagiosEnterprises/nagioscore/pull/126#issuecomment-255427862,"A malicious page can be displayed on nagios using ""corewindow"" parameter. This change tries to avoid rendering pages from anything but the nagios host. More information about this has been listed at #125",See my comments for issue #125,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,126,2016-04-29T20:17:47Z,2016-10-21T17:11:24Z,2017-02-06T17:17:57Z,CLOSED,False,6,3,1,https://github.com/rakesh-patnaik,ISSUE_125 avoid rendering a page from a different host and restrict t…,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/126,https://github.com/jfrickson,4,https://github.com/NagiosEnterprises/nagioscore/pull/126#issuecomment-277749399,"A malicious page can be displayed on nagios using ""corewindow"" parameter. This change tries to avoid rendering pages from anything but the nagios host. More information about this has been listed at #125","This has now been fixed in the ""maint"" branch which should be released some time this month.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,130,2016-05-13T11:18:00Z,2016-07-19T19:13:50Z,2016-07-19T19:13:50Z,CLOSED,False,1,1,1,https://github.com/box293,Update incorrect word in comments,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/130,https://github.com/box293,1,https://github.com/NagiosEnterprises/nagioscore/pull/130,"Comments for the Total Processes service had ""> 400 users"" when it should be ""> 400 processes"".","Comments for the Total Processes service had ""> 400 users"" when it should be ""> 400 processes"".",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,130,2016-05-13T11:18:00Z,2016-07-19T19:13:50Z,2016-07-19T19:13:50Z,CLOSED,False,1,1,1,https://github.com/box293,Update incorrect word in comments,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/130,https://github.com/jfrickson,2,https://github.com/NagiosEnterprises/nagioscore/pull/130#issuecomment-233735990,"Comments for the Total Processes service had ""> 400 users"" when it should be ""> 400 processes"".",Brought in via commit 47a8d72,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,136,2016-06-17T18:34:08Z,2016-06-17T18:39:14Z,2016-06-17T18:39:41Z,MERGED,True,19,0,2,https://github.com/hedenface,Update runcmd,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/136,https://github.com/hedenface,1,https://github.com/NagiosEnterprises/nagioscore/pull/136,"When using runcmd_open from an external application, static pid_t pids is never free()'d.
This functionality allows external applications access to free(pids);","When using runcmd_open from an external application, static pid_t pids is never free()'d.
This functionality allows external applications access to free(pids);",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,150,2016-08-08T21:24:25Z,2016-09-02T16:19:22Z,2016-09-02T16:19:22Z,CLOSED,False,723,573,2,https://github.com/zakhark,Synced config.guess and config.sub with GNU,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/150,https://github.com/zakhark,1,https://github.com/NagiosEnterprises/nagioscore/pull/150,To support aarch64 and other modern architectures,To support aarch64 and other modern architectures,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,150,2016-08-08T21:24:25Z,2016-09-02T16:19:22Z,2016-09-02T16:19:22Z,CLOSED,False,723,573,2,https://github.com/zakhark,Synced config.guess and config.sub with GNU,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/150,https://github.com/jfrickson,2,https://github.com/NagiosEnterprises/nagioscore/pull/150#issuecomment-244421046,To support aarch64 and other modern architectures,Pulled into branch 'maint' via commit 57e066f,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,156,2016-08-23T15:42:09Z,2017-06-18T17:41:31Z,2017-06-19T17:38:53Z,MERGED,True,7,1,1,https://github.com/kermat,Nagios init script exit codes do not comply with the LSB exit codes,1,"['Bug', 'Enhancement', 'Code Quality']",https://github.com/NagiosEnterprises/nagioscore/pull/156,https://github.com/kermat,1,https://github.com/NagiosEnterprises/nagioscore/pull/156,"Nagios' exit codes do not comply with the Linux Standard Base: https://refspecs.linuxbase.org/LSB_3.0.0/LSB-PDA/LSB-PDA/iniscrptact.html
Issues:

status case returns ""1"" when Nagios is stopped; should return 3.
stop case returns ""1"" when Nagios is stopped; should return 0.

This prevents Pacemaker (resource manager for Linux HA Cluster Stack) from using the LSB script to control Nagios properly.","Nagios' exit codes do not comply with the Linux Standard Base: https://refspecs.linuxbase.org/LSB_3.0.0/LSB-PDA/LSB-PDA/iniscrptact.html
Issues:

status case returns ""1"" when Nagios is stopped; should return 3.
stop case returns ""1"" when Nagios is stopped; should return 0.

This prevents Pacemaker (resource manager for Linux HA Cluster Stack) from using the LSB script to control Nagios properly.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,156,2016-08-23T15:42:09Z,2017-06-18T17:41:31Z,2017-06-19T17:38:53Z,MERGED,True,7,1,1,https://github.com/kermat,Nagios init script exit codes do not comply with the LSB exit codes,1,"['Bug', 'Enhancement', 'Code Quality']",https://github.com/NagiosEnterprises/nagioscore/pull/156,https://github.com/ericloyd,2,https://github.com/NagiosEnterprises/nagioscore/pull/156#issuecomment-241778921,"Nagios' exit codes do not comply with the Linux Standard Base: https://refspecs.linuxbase.org/LSB_3.0.0/LSB-PDA/LSB-PDA/iniscrptact.html
Issues:

status case returns ""1"" when Nagios is stopped; should return 3.
stop case returns ""1"" when Nagios is stopped; should return 0.

This prevents Pacemaker (resource manager for Linux HA Cluster Stack) from using the LSB script to control Nagios properly.","None of your status codes match mine.  Starting from a running Nagios Core Version 4.1.1 instance:
[root@nagiosxi ~]# /etc/init.d/nagios status
nagios (pid 30011) is running...
[root@nagiosxi ~]# echo $?
0

[root@nagiosxi ~]# /etc/init.d/nagios stop
Stopping nagios:. done.
[root@nagiosxi ~]# echo $?
0
[root@nagiosxi ~]# /etc/init.d/nagios status
No lock file found in /usr/local/nagios/var/nagios.lock
[root@nagiosxi ~]# echo $?
3

[root@nagiosxi ~]# /etc/init.d/nagios start
Starting nagios: done.
[root@nagiosxi ~]# echo $?
0
[root@nagiosxi ~]# /etc/init.d/nagios status
nagios (pid 30802) is running...
[root@nagiosxi ~]# echo $?
0

In fact, these response codes are all within spec.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,156,2016-08-23T15:42:09Z,2017-06-18T17:41:31Z,2017-06-19T17:38:53Z,MERGED,True,7,1,1,https://github.com/kermat,Nagios init script exit codes do not comply with the LSB exit codes,1,"['Bug', 'Enhancement', 'Code Quality']",https://github.com/NagiosEnterprises/nagioscore/pull/156,https://github.com/kermat,3,https://github.com/NagiosEnterprises/nagioscore/pull/156#issuecomment-241803022,"Nagios' exit codes do not comply with the Linux Standard Base: https://refspecs.linuxbase.org/LSB_3.0.0/LSB-PDA/LSB-PDA/iniscrptact.html
Issues:

status case returns ""1"" when Nagios is stopped; should return 3.
stop case returns ""1"" when Nagios is stopped; should return 0.

This prevents Pacemaker (resource manager for Linux HA Cluster Stack) from using the LSB script to control Nagios properly.","That's interesting; I cloned from master...
The function pid_nagios would exit 1 if the lock file didn't exist and that's the first thing the status case does, so I am not sure how you're getting those exit codes:
229     status)
230         pid_nagios
231         printstatus_nagios
232         ;;

145 pid_nagios ()
146 {
147     if test ! -f $NagiosRunFile; then
148         echo ""No lock file found in $NagiosRunFile""
149         exit 1
150     fi
151 
152     NagiosPID=`head -n 1 $NagiosRunFile`
153 }

Also, it looks like if you ran a stop twice in a row it would return a 0 the first time, and return a 1 the second time; pid_nagios is the first thing the stop case does as well:
198     stop)
199         echo -n ""Stopping nagios:""
200 
201         pid_nagios
202         killproc_nagios TERM

Let me know if I am missing something here. I was using CentOS 6 in my testing, perhaps that makes some difference? Perhaps some upstart/init redirection/confusion? I can spin up some test systems to test again if needed, but just following the code path seems to show the exit codes are not LSB compliant.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,156,2016-08-23T15:42:09Z,2017-06-18T17:41:31Z,2017-06-19T17:38:53Z,MERGED,True,7,1,1,https://github.com/kermat,Nagios init script exit codes do not comply with the LSB exit codes,1,"['Bug', 'Enhancement', 'Code Quality']",https://github.com/NagiosEnterprises/nagioscore/pull/156,https://github.com/kermat,4,https://github.com/NagiosEnterprises/nagioscore/pull/156#issuecomment-241811053,"Nagios' exit codes do not comply with the Linux Standard Base: https://refspecs.linuxbase.org/LSB_3.0.0/LSB-PDA/LSB-PDA/iniscrptact.html
Issues:

status case returns ""1"" when Nagios is stopped; should return 3.
stop case returns ""1"" when Nagios is stopped; should return 0.

This prevents Pacemaker (resource manager for Linux HA Cluster Stack) from using the LSB script to control Nagios properly.","@ericloyd: The hostname of your system is nagiosxi... if you're actually running XI and not core, this is likely the difference.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,156,2016-08-23T15:42:09Z,2017-06-18T17:41:31Z,2017-06-19T17:38:53Z,MERGED,True,7,1,1,https://github.com/kermat,Nagios init script exit codes do not comply with the LSB exit codes,1,"['Bug', 'Enhancement', 'Code Quality']",https://github.com/NagiosEnterprises/nagioscore/pull/156,https://github.com/ericloyd,5,https://github.com/NagiosEnterprises/nagioscore/pull/156#issuecomment-241813874,"Nagios' exit codes do not comply with the Linux Standard Base: https://refspecs.linuxbase.org/LSB_3.0.0/LSB-PDA/LSB-PDA/iniscrptact.html
Issues:

status case returns ""1"" when Nagios is stopped; should return 3.
stop case returns ""1"" when Nagios is stopped; should return 0.

This prevents Pacemaker (resource manager for Linux HA Cluster Stack) from using the LSB script to control Nagios properly.","Given that Nagios Core is embedded as part of Nagios XI, and it is running 4.1.1, I figured it wouldn't matter.  I have Nagios Core boxes as well to test on if you would like?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,156,2016-08-23T15:42:09Z,2017-06-18T17:41:31Z,2017-06-19T17:38:53Z,MERGED,True,7,1,1,https://github.com/kermat,Nagios init script exit codes do not comply with the LSB exit codes,1,"['Bug', 'Enhancement', 'Code Quality']",https://github.com/NagiosEnterprises/nagioscore/pull/156,https://github.com/kermat,6,https://github.com/NagiosEnterprises/nagioscore/pull/156#issuecomment-241817573,"Nagios' exit codes do not comply with the Linux Standard Base: https://refspecs.linuxbase.org/LSB_3.0.0/LSB-PDA/LSB-PDA/iniscrptact.html
Issues:

status case returns ""1"" when Nagios is stopped; should return 3.
stop case returns ""1"" when Nagios is stopped; should return 0.

This prevents Pacemaker (resource manager for Linux HA Cluster Stack) from using the LSB script to control Nagios properly.","Feel free to test away, but I would imagine inspecting the init script on your nagiosxi system would be enough to tell if the init scripts are different. Just looking at what pid_nagios does should be easy enough since it's a tiny function.
For the record, I did test this patch when I was setting up a Nagios Core cluster about a year ago; I just never submitted the patch because systemd ""masks"" the issue on newer distributions.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,156,2016-08-23T15:42:09Z,2017-06-18T17:41:31Z,2017-06-19T17:38:53Z,MERGED,True,7,1,1,https://github.com/kermat,Nagios init script exit codes do not comply with the LSB exit codes,1,"['Bug', 'Enhancement', 'Code Quality']",https://github.com/NagiosEnterprises/nagioscore/pull/156,https://github.com/tjyang,7,https://github.com/NagiosEnterprises/nagioscore/pull/156#issuecomment-257527234,"Nagios' exit codes do not comply with the Linux Standard Base: https://refspecs.linuxbase.org/LSB_3.0.0/LSB-PDA/LSB-PDA/iniscrptact.html
Issues:

status case returns ""1"" when Nagios is stopped; should return 3.
stop case returns ""1"" when Nagios is stopped; should return 0.

This prevents Pacemaker (resource manager for Linux HA Cluster Stack) from using the LSB script to control Nagios properly.","Testing from a Nagios Core 4.2.2 instance,only issue 1(not returning 3) still exist.
[root@nagios02t ~]# nagios |grep Core
Nagios Core 4.2.2
Copyright (c) 2009-present Nagios Core Development Team and Community Contributors
[root@nagios02t ~]# /etc/init.d/nagios stop
Stopping nagios (via systemctl):                           [  OK  ]
[root@nagios02t ~]# /etc/init.d/nagios stop;echo $?
Stopping nagios (via systemctl):                           [  OK  ]
0
[root@nagios02t ~]# /etc/init.d/nagios status ;echo $?
No lock file found in /var/nagios/nagios.pid
1
[root@nagios02t ~]#",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,156,2016-08-23T15:42:09Z,2017-06-18T17:41:31Z,2017-06-19T17:38:53Z,MERGED,True,7,1,1,https://github.com/kermat,Nagios init script exit codes do not comply with the LSB exit codes,1,"['Bug', 'Enhancement', 'Code Quality']",https://github.com/NagiosEnterprises/nagioscore/pull/156,https://github.com/kermat,8,https://github.com/NagiosEnterprises/nagioscore/pull/156#issuecomment-257580112,"Nagios' exit codes do not comply with the Linux Standard Base: https://refspecs.linuxbase.org/LSB_3.0.0/LSB-PDA/LSB-PDA/iniscrptact.html
Issues:

status case returns ""1"" when Nagios is stopped; should return 3.
stop case returns ""1"" when Nagios is stopped; should return 0.

This prevents Pacemaker (resource manager for Linux HA Cluster Stack) from using the LSB script to control Nagios properly.","@tjyang: The system you're on is redirecting your requests to systemd (ie, ""via systemctl"") which will mask the issue. Both issues are still present.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,162,2016-08-31T10:08:44Z,2016-12-09T16:12:02Z,2016-12-09T16:12:02Z,MERGED,True,3,3,1,https://github.com/knweiss,downtime.c: Fix sizeof() argument type.,1,['Code Quality'],https://github.com/NagiosEnterprises/nagioscore/pull/162,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/162,"The commit fixes these kind of LLVM/Clang static-analyzer warnings:
   if((new_downtime_id = (unsigned long *)malloc(sizeof(unsigned long *)))) {
==>
Result of 'malloc' is converted to a pointer of type 'unsigned long', which is
incompatible with sizeof operand type 'unsigned long *'

(There is more of this in the code. IMHO it makes sense to clean it up to reduce the number of warnings in the static-analyzer output.)","The commit fixes these kind of LLVM/Clang static-analyzer warnings:
   if((new_downtime_id = (unsigned long *)malloc(sizeof(unsigned long *)))) {
==>
Result of 'malloc' is converted to a pointer of type 'unsigned long', which is
incompatible with sizeof operand type 'unsigned long *'

(There is more of this in the code. IMHO it makes sense to clean it up to reduce the number of warnings in the static-analyzer output.)",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,163,2016-09-01T13:58:28Z,2016-12-09T16:15:12Z,2018-04-13T14:18:09Z,MERGED,True,6,6,2,https://github.com/knweiss,"cgi/getcgi.c, xdata/xodtemplate.c: sizeof() fixes.",1,['Code Quality'],https://github.com/NagiosEnterprises/nagioscore/pull/163,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/163,Fix some more LLVM/Clang static-analyzer sizeof() warnings.,Fix some more LLVM/Clang static-analyzer sizeof() warnings.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,284,2016-10-05T10:36:32Z,2016-10-21T14:53:22Z,2016-10-21T14:53:22Z,CLOSED,False,1324,5243,69,https://github.com/piotrusx,add posibilty to add columns on `Services` and `Hosts` page,38,[],https://github.com/NagiosEnterprises/nagioscore/pull/284,https://github.com/piotrusx,1,https://github.com/NagiosEnterprises/nagioscore/pull/284,"Columns like ""address""","Columns like ""address""",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,287,2016-10-12T14:07:40Z,2016-10-12T14:08:05Z,2016-10-12T14:08:05Z,CLOSED,False,22,3,4,https://github.com/jfrickson,New web,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/287,https://github.com/jfrickson,1,https://github.com/NagiosEnterprises/nagioscore/pull/287,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,295,2016-11-17T02:45:34Z,2016-12-12T22:57:26Z,2016-12-12T22:57:26Z,MERGED,True,7,3,1,https://github.com/caronc,checkresults .ok file accumulation bugfix + added debug messages,2,['Bug'],https://github.com/NagiosEnterprises/nagioscore/pull/295,https://github.com/caronc,1,https://github.com/NagiosEnterprises/nagioscore/pull/295,"The Debug messages are really just a bi-product of trying to figure out why I couldn't create custom passive-checks.  They were being swallowed up but nothing in the debug logs (Even with full debugging verbosity set). Turns out it was a simple permission issue.
However a second bug was uncovered as a result of this permission issue causing the .ok files (in the checkresults directory) to accumulate and not be cleaned up.
The bugfix for this is included as well (a simple one-liner).","The Debug messages are really just a bi-product of trying to figure out why I couldn't create custom passive-checks.  They were being swallowed up but nothing in the debug logs (Even with full debugging verbosity set). Turns out it was a simple permission issue.
However a second bug was uncovered as a result of this permission issue causing the .ok files (in the checkresults directory) to accumulate and not be cleaned up.
The bugfix for this is included as well (a simple one-liner).",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,296,2016-11-23T16:26:20Z,2016-11-23T16:27:03Z,2016-11-24T15:36:05Z,CLOSED,False,36,15,10,https://github.com/Coservit,Bugfix/vswa 7479 host soft state,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/296,https://github.com/Coservit,1,https://github.com/NagiosEnterprises/nagioscore/pull/296,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,301,2016-12-07T08:52:49Z,2016-12-12T22:54:04Z,2018-04-13T14:17:44Z,MERGED,True,0,2,1,https://github.com/knweiss,xsddefault.c: Remove unreachable code (see line 789).,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/301,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/301,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,308,2017-01-06T08:56:22Z,2017-03-27T13:59:40Z,2017-04-21T18:45:33Z,MERGED,True,3,2,1,https://github.com/clan,this fix make url_encode can be called twice,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/308,https://github.com/clan,1,https://github.com/NagiosEnterprises/nagioscore/pull/308,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,309,2017-01-09T12:46:17Z,2017-01-09T13:49:12Z,2017-01-09T13:50:21Z,CLOSED,False,3,1,1,https://github.com/Robin479,Vent command pipe before deleting it in daemon-init.in to avoid deadlock on writing end,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/309,https://github.com/Robin479,1,https://github.com/NagiosEnterprises/nagioscore/pull/309,"If a stalled command pipe gets deleted, while there are processes trying/waiting to open it for writing, those processes get deadlocked in a blocking open() system call. In order to avoid such situations, or rather to give such processes a chance to die on a broken pipe, a pre-existing named pipe should shortly be opened for reading (without actually reading from it) before discarding it. To avoid the chicken-egg-problem, the inode should be relabeled beforehand.
see http://unix.stackexchange.com/questions/335406/opening-named-pipe-blocks-forever-if-pipe-is-deleted-without-being-connected
A better solution would be, of course, to avoid the deletion of the pipe all together. I'm not quite sure why the that would be necessary anyway.","If a stalled command pipe gets deleted, while there are processes trying/waiting to open it for writing, those processes get deadlocked in a blocking open() system call. In order to avoid such situations, or rather to give such processes a chance to die on a broken pipe, a pre-existing named pipe should shortly be opened for reading (without actually reading from it) before discarding it. To avoid the chicken-egg-problem, the inode should be relabeled beforehand.
see http://unix.stackexchange.com/questions/335406/opening-named-pipe-blocks-forever-if-pipe-is-deleted-without-being-connected
A better solution would be, of course, to avoid the deletion of the pipe all together. I'm not quite sure why the that would be necessary anyway.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,309,2017-01-09T12:46:17Z,2017-01-09T13:49:12Z,2017-01-09T13:50:21Z,CLOSED,False,3,1,1,https://github.com/Robin479,Vent command pipe before deleting it in daemon-init.in to avoid deadlock on writing end,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/309,https://github.com/Robin479,2,https://github.com/NagiosEnterprises/nagioscore/pull/309#issuecomment-271288186,"If a stalled command pipe gets deleted, while there are processes trying/waiting to open it for writing, those processes get deadlocked in a blocking open() system call. In order to avoid such situations, or rather to give such processes a chance to die on a broken pipe, a pre-existing named pipe should shortly be opened for reading (without actually reading from it) before discarding it. To avoid the chicken-egg-problem, the inode should be relabeled beforehand.
see http://unix.stackexchange.com/questions/335406/opening-named-pipe-blocks-forever-if-pipe-is-deleted-without-being-connected
A better solution would be, of course, to avoid the deletion of the pipe all together. I'm not quite sure why the that would be necessary anyway.","I just realized, that my pull request would deadlock the dd, if there actually is no process trying to open the pipe for writing. Artificially creating such a process wouldn't exactly help either, since apparently there need to be as many readers as there are writers to properly end this vicious cycle.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,310,2017-01-09T15:22:11Z,2017-03-27T14:21:27Z,2017-04-21T18:46:29Z,MERGED,True,21,2,1,https://github.com/Robin479,Vent command pipe before remove to avoid deadlocks on writing end,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/310,https://github.com/Robin479,1,https://github.com/NagiosEnterprises/nagioscore/pull/310,"Removing a stalled command file, while there are processes trying/waiting to write into it, will deadlock those processes in a blocking open() system call. To allow such processes to die on a broken pipe, the pipe must be opened for reading without actually reading from it, which is what dd does here. To avoid a chicken-egg problem, the pipe is renamed beforehand. In order for the dd to not deadlock when there is no writing process, it is executed in the background in a subshell together with an empty echo to have at least one writing process.
see http://unix.stackexchange.com/questions/335406/opening-named-pipe-blocks-forever-if-pipe-is-deleted-without-being-connected","Removing a stalled command file, while there are processes trying/waiting to write into it, will deadlock those processes in a blocking open() system call. To allow such processes to die on a broken pipe, the pipe must be opened for reading without actually reading from it, which is what dd does here. To avoid a chicken-egg problem, the pipe is renamed beforehand. In order for the dd to not deadlock when there is no writing process, it is executed in the background in a subshell together with an empty echo to have at least one writing process.
see http://unix.stackexchange.com/questions/335406/opening-named-pipe-blocks-forever-if-pipe-is-deleted-without-being-connected",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,310,2017-01-09T15:22:11Z,2017-03-27T14:21:27Z,2017-04-21T18:46:29Z,MERGED,True,21,2,1,https://github.com/Robin479,Vent command pipe before remove to avoid deadlocks on writing end,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/310,https://github.com/Robin479,2,https://github.com/NagiosEnterprises/nagioscore/pull/310#issuecomment-271314824,"Removing a stalled command file, while there are processes trying/waiting to write into it, will deadlock those processes in a blocking open() system call. To allow such processes to die on a broken pipe, the pipe must be opened for reading without actually reading from it, which is what dd does here. To avoid a chicken-egg problem, the pipe is renamed beforehand. In order for the dd to not deadlock when there is no writing process, it is executed in the background in a subshell together with an empty echo to have at least one writing process.
see http://unix.stackexchange.com/questions/335406/opening-named-pipe-blocks-forever-if-pipe-is-deleted-without-being-connected","This solution can be tested by kill -SIGTERM $(pidof nagios)
then spawning some blocking echo -n """" >/var/lib/nagios/rw/nagios.cmd &
and then starting Nagios via the init script /etc/init.d/nagios start
In the unfixed case, the echo processes will never exit.
In the fixed case, the echo processes should exit (exceptionally).
The init script should still work in case there are no blocked writing processes.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,348,2017-03-15T09:28:56Z,2017-03-27T14:03:20Z,2017-04-21T18:45:55Z,MERGED,True,1,1,1,https://github.com/ParthKolekar,Update timeperiods.cfg.in,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/348,https://github.com/ParthKolekar,1,https://github.com/NagiosEnterprises/nagioscore/pull/348,your *,your *,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,351,2017-03-22T05:01:42Z,2017-03-27T14:16:40Z,2017-04-21T18:46:13Z,MERGED,True,148,148,60,https://github.com/jsoref,Spelling fixes,76,[],https://github.com/NagiosEnterprises/nagioscore/pull/351,https://github.com/jsoref,1,https://github.com/NagiosEnterprises/nagioscore/pull/351,"There are probably a couple of real bug fixes in this set.
If some of these files come from elsewhere, I can fairly easily drop the changes -- although, it'd be nice if you could identify their upstream...","There are probably a couple of real bug fixes in this set.
If some of these files come from elsewhere, I can fairly easily drop the changes -- although, it'd be nice if you could identify their upstream...",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,377,2017-05-31T23:10:25Z,2017-07-01T02:04:12Z,2017-07-01T02:04:12Z,CLOSED,False,1,2,1,https://github.com/mwright-oss,Change log file format to nagios-yyyy-mm-dd-hh.log,1,"['Enhancement', 'Need Review']",https://github.com/NagiosEnterprises/nagioscore/pull/377,https://github.com/mwright-oss,1,https://github.com/NagiosEnterprises/nagioscore/pull/377,Minor change to convert the log file names to ISO8601 yyyy-mm-dd-hh format so it sorts properly and doesn't cause confusion with non-US countries who use dd/mm rather than mm/dd,Minor change to convert the log file names to ISO8601 yyyy-mm-dd-hh format so it sorts properly and doesn't cause confusion with non-US countries who use dd/mm rather than mm/dd,True,{'THUMBS_UP': ['https://github.com/willemdh']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,377,2017-05-31T23:10:25Z,2017-07-01T02:04:12Z,2017-07-01T02:04:12Z,CLOSED,False,1,2,1,https://github.com/mwright-oss,Change log file format to nagios-yyyy-mm-dd-hh.log,1,"['Enhancement', 'Need Review']",https://github.com/NagiosEnterprises/nagioscore/pull/377,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/377#issuecomment-309187188,Minor change to convert the log file names to ISO8601 yyyy-mm-dd-hh format so it sorts properly and doesn't cause confusion with non-US countries who use dd/mm rather than mm/dd,"This may create some inconsistencies with other products. I definitely like the idea, but we need more eyes on it.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,377,2017-05-31T23:10:25Z,2017-07-01T02:04:12Z,2017-07-01T02:04:12Z,CLOSED,False,1,2,1,https://github.com/mwright-oss,Change log file format to nagios-yyyy-mm-dd-hh.log,1,"['Enhancement', 'Need Review']",https://github.com/NagiosEnterprises/nagioscore/pull/377,https://github.com/mwright-oss,3,https://github.com/NagiosEnterprises/nagioscore/pull/377#issuecomment-309331067,Minor change to convert the log file names to ISO8601 yyyy-mm-dd-hh format so it sorts properly and doesn't cause confusion with non-US countries who use dd/mm rather than mm/dd,"With hindsight, I think you are exactly right. The log files are referenced by some of the CGI scripts and so they would need to be modified too.
cgi/cgiutils.c:	snprintf(buffer, buffer_length, ""%snagios-%02d-%02d-%d-%02d.log"", log_archive_path, t->tm_mon + 1, t->tm_mday, t->tm_year + 1900, t->tm_hour);
t-tap/test_logging.c:	asprintf(&log_filename_localtime, ""var/nagios-%02d-%02d-%d-%02d.log"", t->tm_mon + 1, t->tm_mday, t->tm_year + 1900, t->tm_hour);
Secondly, I'm not quite sure how we would handle the transition of historical log files from one date format to the other. After the upgrade of an existing system we would have both date formats until the archived log files are expired.
It would be easy enough to do a script to rename them to the new format or perhaps it's possible for cgiutils.c to check for the presence logs with either name format and return the appropriate one? That gets messy though.
Sorry if the pull request was a bit ham fisted, this is actually my first time using Git hub and it was kind of by accident that I did this so thanks for your patience. :-)",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,377,2017-05-31T23:10:25Z,2017-07-01T02:04:12Z,2017-07-01T02:04:12Z,CLOSED,False,1,2,1,https://github.com/mwright-oss,Change log file format to nagios-yyyy-mm-dd-hh.log,1,"['Enhancement', 'Need Review']",https://github.com/NagiosEnterprises/nagioscore/pull/377,https://github.com/hedenface,4,https://github.com/NagiosEnterprises/nagioscore/pull/377#issuecomment-312404115,Minor change to convert the log file names to ISO8601 yyyy-mm-dd-hh format so it sorts properly and doesn't cause confusion with non-US countries who use dd/mm rather than mm/dd,"I'm gonna cancel this. We definitely appreciate the work you put into it. We are actually looking at some log/archive major changes for Core 5 that regard the way you're able to grab this data. I won't say anymore than that right now (these changes have not yet been released to the public - but they will be shortly). If I remember I'll update this, otherwise, stay tuned to the readme :)",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,380,2017-06-06T11:14:05Z,2017-06-17T02:20:21Z,2018-04-13T14:17:38Z,MERGED,True,2,2,1,https://github.com/knweiss,Fix deprecated keywords in logit() warnings.,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/380,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/380,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,390,2017-07-03T13:02:20Z,2017-07-03T13:03:34Z,2017-07-03T18:59:03Z,CLOSED,False,17,3,2,https://github.com/mayank1010,Development,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/390,https://github.com/mayank1010,1,https://github.com/NagiosEnterprises/nagioscore/pull/390,"Added options in sidepane for adding host,removing host and adding services
IPMI output displayed in new tab in more readable manner","Added options in sidepane for adding host,removing host and adding services
IPMI output displayed in new tab in more readable manner",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,390,2017-07-03T13:02:20Z,2017-07-03T13:03:34Z,2017-07-03T18:59:03Z,CLOSED,False,17,3,2,https://github.com/mayank1010,Development,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/390,https://github.com/mayank1010,2,https://github.com/NagiosEnterprises/nagioscore/pull/390#issuecomment-312640414,"Added options in sidepane for adding host,removing host and adding services
IPMI output displayed in new tab in more readable manner",By mistake,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,390,2017-07-03T13:02:20Z,2017-07-03T13:03:34Z,2017-07-03T18:59:03Z,CLOSED,False,17,3,2,https://github.com/mayank1010,Development,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/390,https://github.com/hedenface,3,https://github.com/NagiosEnterprises/nagioscore/pull/390#issuecomment-312714668,"Added options in sidepane for adding host,removing host and adding services
IPMI output displayed in new tab in more readable manner","By mistake what? You opened a PR by mistake? Or you closed the PR by mistake?
Either way, I don't have the ability to reopen it. You'll have to create a new one if you closed it by mistake.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,402,2017-07-25T04:49:55Z,2017-07-30T20:39:05Z,2017-07-30T20:39:05Z,MERGED,True,21,6,3,https://github.com/box293,Fixed minor map bugs,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/402,https://github.com/box293,1,https://github.com/NagiosEnterprises/nagioscore/pull/402,"Fixed map layout being ignored in custom URL.
Fixed map custom ulx, uly, lrx, lry coordinates not working with layout 0 user dimensions.","Fixed map layout being ignored in custom URL.
Fixed map custom ulx, uly, lrx, lry coordinates not working with layout 0 user dimensions.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,406,2017-08-02T20:45:33Z,2017-08-17T20:43:11Z,2017-08-17T20:44:51Z,MERGED,True,6,6,2,None,Improve config file parsing.,6,"['Bug', 'Enhancement']",https://github.com/NagiosEnterprises/nagioscore/pull/406,None,1,https://github.com/NagiosEnterprises/nagioscore/pull/406,"Properly exit with an error and print if important conditions arise:

Cannot read main config file
Cannot read resources.cfg
No log file defined in main config file

This was born out of the frustration of an accidental permisisons change
to resources.cfg and the pain required to track down why thousands of
Nagios checks suddenly started failing.
The poor sap who did a ""restart"" was confused when the system blew up
and nobody could identify what was happening until we dug into debug
logs and found that the macro parsing had gone awry.
Simply logging that resources.cfg is not readable is unacceptable. It
needs to be an obvious and showstopping error. Nagios should not attempt
to fly with one wing.
These changes will surely improve troubleshooting for admins everywhere.","Properly exit with an error and print if important conditions arise:

Cannot read main config file
Cannot read resources.cfg
No log file defined in main config file

This was born out of the frustration of an accidental permisisons change
to resources.cfg and the pain required to track down why thousands of
Nagios checks suddenly started failing.
The poor sap who did a ""restart"" was confused when the system blew up
and nobody could identify what was happening until we dug into debug
logs and found that the macro parsing had gone awry.
Simply logging that resources.cfg is not readable is unacceptable. It
needs to be an obvious and showstopping error. Nagios should not attempt
to fly with one wing.
These changes will surely improve troubleshooting for admins everywhere.",True,{'THUMBS_UP': ['https://github.com/box293']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,406,2017-08-02T20:45:33Z,2017-08-17T20:43:11Z,2017-08-17T20:44:51Z,MERGED,True,6,6,2,None,Improve config file parsing.,6,"['Bug', 'Enhancement']",https://github.com/NagiosEnterprises/nagioscore/pull/406,https://github.com/dlangille,2,https://github.com/NagiosEnterprises/nagioscore/pull/406#issuecomment-319810060,"Properly exit with an error and print if important conditions arise:

Cannot read main config file
Cannot read resources.cfg
No log file defined in main config file

This was born out of the frustration of an accidental permisisons change
to resources.cfg and the pain required to track down why thousands of
Nagios checks suddenly started failing.
The poor sap who did a ""restart"" was confused when the system blew up
and nobody could identify what was happening until we dug into debug
logs and found that the macro parsing had gone awry.
Simply logging that resources.cfg is not readable is unacceptable. It
needs to be an obvious and showstopping error. Nagios should not attempt
to fly with one wing.
These changes will surely improve troubleshooting for admins everywhere.",Yes please.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,406,2017-08-02T20:45:33Z,2017-08-17T20:43:11Z,2017-08-17T20:44:51Z,MERGED,True,6,6,2,None,Improve config file parsing.,6,"['Bug', 'Enhancement']",https://github.com/NagiosEnterprises/nagioscore/pull/406,None,3,https://github.com/NagiosEnterprises/nagioscore/pull/406#issuecomment-319822694,"Properly exit with an error and print if important conditions arise:

Cannot read main config file
Cannot read resources.cfg
No log file defined in main config file

This was born out of the frustration of an accidental permisisons change
to resources.cfg and the pain required to track down why thousands of
Nagios checks suddenly started failing.
The poor sap who did a ""restart"" was confused when the system blew up
and nobody could identify what was happening until we dug into debug
logs and found that the macro parsing had gone awry.
Simply logging that resources.cfg is not readable is unacceptable. It
needs to be an obvious and showstopping error. Nagios should not attempt
to fly with one wing.
These changes will surely improve troubleshooting for admins everywhere.","An additional check to ensure you can successfully write to the location of the log file would be nice as well, but I did not attempt it. It may already exist in the logging code. I haven't had time to check.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,406,2017-08-02T20:45:33Z,2017-08-17T20:43:11Z,2017-08-17T20:44:51Z,MERGED,True,6,6,2,None,Improve config file parsing.,6,"['Bug', 'Enhancement']",https://github.com/NagiosEnterprises/nagioscore/pull/406,https://github.com/hedenface,4,https://github.com/NagiosEnterprises/nagioscore/pull/406#issuecomment-320479408,"Properly exit with an error and print if important conditions arise:

Cannot read main config file
Cannot read resources.cfg
No log file defined in main config file

This was born out of the frustration of an accidental permisisons change
to resources.cfg and the pain required to track down why thousands of
Nagios checks suddenly started failing.
The poor sap who did a ""restart"" was confused when the system blew up
and nobody could identify what was happening until we dug into debug
logs and found that the macro parsing had gone awry.
Simply logging that resources.cfg is not readable is unacceptable. It
needs to be an obvious and showstopping error. Nagios should not attempt
to fly with one wing.
These changes will surely improve troubleshooting for admins everywhere.","I like 66% of this - but I won't commit to liking the remainder until you walk me through the changes made in regards to the log_file section and your logic behind them!
Also - if you can change the branch to maint and add yourself to the contributors that would be fantastic.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,406,2017-08-02T20:45:33Z,2017-08-17T20:43:11Z,2017-08-17T20:44:51Z,MERGED,True,6,6,2,None,Improve config file parsing.,6,"['Bug', 'Enhancement']",https://github.com/NagiosEnterprises/nagioscore/pull/406,None,5,https://github.com/NagiosEnterprises/nagioscore/pull/406#issuecomment-320825179,"Properly exit with an error and print if important conditions arise:

Cannot read main config file
Cannot read resources.cfg
No log file defined in main config file

This was born out of the frustration of an accidental permisisons change
to resources.cfg and the pain required to track down why thousands of
Nagios checks suddenly started failing.
The poor sap who did a ""restart"" was confused when the system blew up
and nobody could identify what was happening until we dug into debug
logs and found that the macro parsing had gone awry.
Simply logging that resources.cfg is not readable is unacceptable. It
needs to be an obvious and showstopping error. Nagios should not attempt
to fly with one wing.
These changes will surely improve troubleshooting for admins everywhere.","Ok, this is the logic of the log_file changes:
a)
The logic of ""if(daemon_mode == FALSE)"" was nonsense. Why would you want it to only log an error if you're running nagios in the foreground? And where is it going to log this error to if log_file isn't defined? Assuming you were running with nagios printing all log data to stdout that might make sense because you can still see other errors/logs being printed to the screen, but this isn't how nagios works.
b)
if(!strcmp(log_file, """")) {
This didn't work. I don't know why. I tried to keep it, but it just wouldn't work. I don't know what the value of log_file was when it's not defined, but it wasn't """". So I had to concoct a bulletproof solution:
c)
in the read_main_config_file function, let's start by defining log_file as NULL
char *log_file = NULL;
When we get to the very end of parsing the config file the last step is to make sure we have a usable log_file value. The first thing we do is make sure log_file is not NULL. If it is not, we can assume it's now safe to strip() log_file. I moved this to below the comparison because I did not want log_file to be altered in any way before the check against NULL. I did not track down what your strip() function does, but I can assume it's adding or removing spaces/tabs from before and after the string. I came to this conclusion by checking if strip() was a standard function provided by libc and it appears it is not.
I'm not a great C programmer by any means, but this seems to be safe, reliable, and should compile without warnings",True,{'THUMBS_UP': ['https://github.com/box293']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,406,2017-08-02T20:45:33Z,2017-08-17T20:43:11Z,2017-08-17T20:44:51Z,MERGED,True,6,6,2,None,Improve config file parsing.,6,"['Bug', 'Enhancement']",https://github.com/NagiosEnterprises/nagioscore/pull/406,https://github.com/hedenface,6,https://github.com/NagiosEnterprises/nagioscore/pull/406#issuecomment-323091579,"Properly exit with an error and print if important conditions arise:

Cannot read main config file
Cannot read resources.cfg
No log file defined in main config file

This was born out of the frustration of an accidental permisisons change
to resources.cfg and the pain required to track down why thousands of
Nagios checks suddenly started failing.
The poor sap who did a ""restart"" was confused when the system blew up
and nobody could identify what was happening until we dug into debug
logs and found that the macro parsing had gone awry.
Simply logging that resources.cfg is not readable is unacceptable. It
needs to be an obvious and showstopping error. Nagios should not attempt
to fly with one wing.
These changes will surely improve troubleshooting for admins everywhere.","We had some internal conversation in regards to this - I think instead of using printf() we're going to continue using logit() since the users can specify if they want syslogging or not - also, the second paramter of logit() tells it to print to the screen.
Are you able to adjust it as such or would you prefer me to?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,407,2017-08-05T00:41:25Z,2017-08-06T17:16:22Z,2017-08-06T17:16:22Z,MERGED,True,72,4,5,https://github.com/orlitzky,Ship an OpenRC init script,5,[],https://github.com/NagiosEnterprises/nagioscore/pull/407,https://github.com/orlitzky,1,https://github.com/NagiosEnterprises/nagioscore/pull/407,"This finishes up issue #404 and addresses issue #378. I just tested the init script with our Gentoo package and after one last-minute bugfix, it works. The commit messages go into further detail.
I have one open question: should the --with-lockfile default involve $prefix or something similar?","This finishes up issue #404 and addresses issue #378. I just tested the init script with our Gentoo package and after one last-minute bugfix, it works. The commit messages go into further detail.
I have one open question: should the --with-lockfile default involve $prefix or something similar?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,407,2017-08-05T00:41:25Z,2017-08-06T17:16:22Z,2017-08-06T17:16:22Z,MERGED,True,72,4,5,https://github.com/orlitzky,Ship an OpenRC init script,5,[],https://github.com/NagiosEnterprises/nagioscore/pull/407,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/407#issuecomment-320479590,"This finishes up issue #404 and addresses issue #378. I just tested the init script with our Gentoo package and after one last-minute bugfix, it works. The commit messages go into further detail.
I have one open question: should the --with-lockfile default involve $prefix or something similar?","I think this is awesome!
I'm going to review the configure.ac especially because I'm still trying to wrap my head around what's actually happening here - it may need to be changed a bit based on other information passed.
I guess - what would be super cool is if you looked at the autoconf-macros project and checked to see if this taken care of in there?
In the next major release of Core, we'll be converting all of the configuration configuration (double on purpose :) ) via that subtree. I think it may already deal with this, but I'm not sure.
If you don't look - or don't feel like looking - that has no bearing on this PR. I'll get it looked at and we'll do what we can to make it work regardless!",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,407,2017-08-05T00:41:25Z,2017-08-06T17:16:22Z,2017-08-06T17:16:22Z,MERGED,True,72,4,5,https://github.com/orlitzky,Ship an OpenRC init script,5,[],https://github.com/NagiosEnterprises/nagioscore/pull/407,https://github.com/orlitzky,3,https://github.com/NagiosEnterprises/nagioscore/pull/407#issuecomment-320497756,"This finishes up issue #404 and addresses issue #378. I just tested the init script with our Gentoo package and after one last-minute bugfix, it works. The commit messages go into further detail.
I have one open question: should the --with-lockfile default involve $prefix or something similar?","The ax_nagios_get_paths collection from autoconf-macros contains --with-piddir, which serves the same purpose that --with-lockfile currently does in Nagios. It's pretty easy to switch from one to the other; just replace @lockfile@ with @piddir@/nagios.lock.
The tricky question is what to do about the default location of the PID file (my commit 3baffa7). In nagios-core, we need to keep it outside of $localstatedir because $localstatedir is writable by the nagios user. And setting it to /run is only feasible since you changed the core daemon to write the PID file as root (/run isn't writable by the nagios user).
But, the autoconf-macros are used by more than just nagios-core. I've seen them in nrpe and ndoutils at least. The ndo2db daemon is still writing its PID file as a restricted user (needs to be fixed!), so /run isn't a good default for it at the moment. Any other daemons with the same issue will need to be updated before the default piddir in ax_nagios_get_paths can be changed.
So, it will require some coordination, but it won't be hard to update for autoconf-macros. If you pin nrpe and ndoutils and friends to an old version of the macros for a while, it should be no problem at all.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,407,2017-08-05T00:41:25Z,2017-08-06T17:16:22Z,2017-08-06T17:16:22Z,MERGED,True,72,4,5,https://github.com/orlitzky,Ship an OpenRC init script,5,[],https://github.com/NagiosEnterprises/nagioscore/pull/407,https://github.com/hedenface,4,https://github.com/NagiosEnterprises/nagioscore/pull/407#issuecomment-320519790,"This finishes up issue #404 and addresses issue #378. I just tested the init script with our Gentoo package and after one last-minute bugfix, it works. The commit messages go into further detail.
I have one open question: should the --with-lockfile default involve $prefix or something similar?","They are indeed pinned to an old version. Thank you for the reply! This kind of clears things up for me - here's what I'm going to do:
Merge this request - and then test the @#$! out of this on a few different OS - my goal is to eventually get the autoconf-macros used by each project so that there isn't a duplication of efforts across the board.

Find Problem
Fix macros
Push to repos

I'd print the list for the current workflow out, but because of all the conditionals, I think it may go beyond the allowed GitHub character limit :)",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,413,2017-08-16T16:50:50Z,2017-08-17T13:52:58Z,2017-08-17T13:52:58Z,MERGED,True,1,1,1,https://github.com/orlitzky,Changelog: mention CVE-2017-12847 in the changelog.,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/413,https://github.com/orlitzky,1,https://github.com/NagiosEnterprises/nagioscore/pull/413,"Now that this is fixed, I've made the details of the CVE public. Thanks again Bryan for your help.","Now that this is fixed, I've made the details of the CVE public. Thanks again Bryan for your help.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,417,2017-08-19T08:19:09Z,2017-08-19T17:03:57Z,2017-08-19T17:03:57Z,CLOSED,False,1,1,1,https://github.com/manu0401,Use absolute paths when deleting in checkresults directory,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/417,https://github.com/manu0401,1,https://github.com/NagiosEnterprises/nagioscore/pull/417,"Once nagios is done with a file in the checkresults directory,
it deletes it. This was done with a relative file path, causing
failures if nagios working directory is not the checkresults
directory. As a consequence, old result file remained intact,
causing system slowdowns as the directory grew and nagios spent
more and more time attempting to clean it up.
The fix is just to use an absolute path, so that it works
regardeless of current directory setting.","Once nagios is done with a file in the checkresults directory,
it deletes it. This was done with a relative file path, causing
failures if nagios working directory is not the checkresults
directory. As a consequence, old result file remained intact,
causing system slowdowns as the directory grew and nagios spent
more and more time attempting to clean it up.
The fix is just to use an absolute path, so that it works
regardeless of current directory setting.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,417,2017-08-19T08:19:09Z,2017-08-19T17:03:57Z,2017-08-19T17:03:57Z,CLOSED,False,1,1,1,https://github.com/manu0401,Use absolute paths when deleting in checkresults directory,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/417,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/417#issuecomment-323534552,"Once nagios is done with a file in the checkresults directory,
it deletes it. This was done with a relative file path, causing
failures if nagios working directory is not the checkresults
directory. As a consequence, old result file remained intact,
causing system slowdowns as the directory grew and nagios spent
more and more time attempting to clean it up.
The fix is just to use an absolute path, so that it works
regardeless of current directory setting.",I'm going to accept it - but when I tried to change the base to maint it got all wonky. I'll add it in manually - along with an additional check against unlink().,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,417,2017-08-19T08:19:09Z,2017-08-19T17:03:57Z,2017-08-19T17:03:57Z,CLOSED,False,1,1,1,https://github.com/manu0401,Use absolute paths when deleting in checkresults directory,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/417,https://github.com/hedenface,3,https://github.com/NagiosEnterprises/nagioscore/pull/417#issuecomment-323535172,"Once nagios is done with a file in the checkresults directory,
it deletes it. This was done with a relative file path, causing
failures if nagios working directory is not the checkresults
directory. As a consequence, old result file remained intact,
causing system slowdowns as the directory grew and nagios spent
more and more time attempting to clean it up.
The fix is just to use an absolute path, so that it works
regardeless of current directory setting.","Commited here 42f115a.
Will be in 4.3.4. Thanks!",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,422,2017-08-28T12:19:22Z,2017-08-28T12:35:49Z,2017-08-28T12:35:49Z,MERGED,True,4,4,1,https://github.com/orlitzky,Fix the OpenRC init script when used with the default sysconfdir,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/422,https://github.com/orlitzky,1,https://github.com/NagiosEnterprises/nagioscore/pull/422,"Two variables were in the wrong order in the init script, so this switches them (see issue #421).","Two variables were in the wrong order in the init script, so this switches them (see issue #421).",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,445,2017-10-27T20:07:13Z,2017-11-02T02:51:27Z,2017-11-02T02:51:27Z,CLOSED,False,3,1,2,https://github.com/beckit,With the echo as a background call the race condition is averted,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/445,https://github.com/beckit,1,https://github.com/NagiosEnterprises/nagioscore/pull/445,"This places both subshell calls into the background and on the same scheduler, effectively in order.  Without placing both in the same queue they can be called out of order which will lock the script up, causing issue #443","This places both subshell calls into the background and on the same scheduler, effectively in order.  Without placing both in the same queue they can be called out of order which will lock the script up, causing issue #443",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,445,2017-10-27T20:07:13Z,2017-11-02T02:51:27Z,2017-11-02T02:51:27Z,CLOSED,False,3,1,2,https://github.com/beckit,With the echo as a background call the race condition is averted,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/445,https://github.com/beckit,2,https://github.com/NagiosEnterprises/nagioscore/pull/445#issuecomment-341302918,"This places both subshell calls into the background and on the same scheduler, effectively in order.  Without placing both in the same queue they can be called out of order which will lock the script up, causing issue #443","I did this against the wrong base branch, will reopen against maint",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,448,2017-11-02T05:09:38Z,2017-12-08T21:07:26Z,2017-12-08T21:07:26Z,MERGED,True,11,3,3,https://github.com/beckit,Fixing issue #443,1,"['Bug', 'Approved']",https://github.com/NagiosEnterprises/nagioscore/pull/448,https://github.com/beckit,1,https://github.com/NagiosEnterprises/nagioscore/pull/448,"Analysis of the nagios init script showed the echo call in a subshell was occasionally causing a hang condition on shutdown or restart.   Placing the echo call in the background fixes the issue.
Testing was done with the following script of 1000 rounds:
MaxRounds=1000
M=1000
while [ $M -gt 0 ];do echo Round $[ $MaxRounds + 1 - $M ] - $( date );/etc/init.d/nagios restart;M=$[ $M -1 ];done
Sometimes issue 443 will show repeatedly rapidly (Nagios is a VM on a busy hypervisor scenario), other times the issue might take a large number of rounds to manifest.   I suspect folks seeing this issue are not seeing it after they reboot, so they go about their way.
I have a devops system that can produce a VM that will encounter the failure and hang approximately 25% of the deployments with stock nagios-4.3.4.  With my fix present zero hangs are encountered.
Failure:
This is what a failure looks like on Centos 6.9 with stock 4.3.4 compiled, where the output sits on ""Stopping nagios:. done."" until intervention occurs.
Round 1 - Wed Nov 1 21:40:07 PDT 2017
Running configuration check...
Stopping nagios: done.
Starting nagios: done.
...
Round 207 - Wed Nov 1 21:40:39 PDT 2017
Running configuration check...
Stopping nagios:. done.
^C/etc/init.d/nagios: line 172: /usr/local/nagios/var/rw/nagios.cmd~: Interrupted system call  <-- I waited ten minutes before pressing ctrl-c a few times to stop the script from being hung up.
Fixed:
This is what a 1000 round test with the proposed change usually** looks like, nice n' smooth:
Round 1 - Wed Nov 1 21:47:22 PDT 2017
Running configuration check...
Stopping nagios: done.
Starting nagios: done.
...
Round 1000 - Wed Nov 1 21:50:02 PDT 2017
Running configuration check...
Stopping nagios: done.
Starting nagios: done.
** one time I was able to get some other subsystem in the script to cause a different kind of lockup in nagios that is outside the scope of issue #443 and this pull request","Analysis of the nagios init script showed the echo call in a subshell was occasionally causing a hang condition on shutdown or restart.   Placing the echo call in the background fixes the issue.
Testing was done with the following script of 1000 rounds:
MaxRounds=1000
M=1000
while [ $M -gt 0 ];do echo Round $[ $MaxRounds + 1 - $M ] - $( date );/etc/init.d/nagios restart;M=$[ $M -1 ];done
Sometimes issue 443 will show repeatedly rapidly (Nagios is a VM on a busy hypervisor scenario), other times the issue might take a large number of rounds to manifest.   I suspect folks seeing this issue are not seeing it after they reboot, so they go about their way.
I have a devops system that can produce a VM that will encounter the failure and hang approximately 25% of the deployments with stock nagios-4.3.4.  With my fix present zero hangs are encountered.
Failure:
This is what a failure looks like on Centos 6.9 with stock 4.3.4 compiled, where the output sits on ""Stopping nagios:. done."" until intervention occurs.
Round 1 - Wed Nov 1 21:40:07 PDT 2017
Running configuration check...
Stopping nagios: done.
Starting nagios: done.
...
Round 207 - Wed Nov 1 21:40:39 PDT 2017
Running configuration check...
Stopping nagios:. done.
^C/etc/init.d/nagios: line 172: /usr/local/nagios/var/rw/nagios.cmd~: Interrupted system call  <-- I waited ten minutes before pressing ctrl-c a few times to stop the script from being hung up.
Fixed:
This is what a 1000 round test with the proposed change usually** looks like, nice n' smooth:
Round 1 - Wed Nov 1 21:47:22 PDT 2017
Running configuration check...
Stopping nagios: done.
Starting nagios: done.
...
Round 1000 - Wed Nov 1 21:50:02 PDT 2017
Running configuration check...
Stopping nagios: done.
Starting nagios: done.
** one time I was able to get some other subsystem in the script to cause a different kind of lockup in nagios that is outside the scope of issue #443 and this pull request",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,450,2017-11-04T08:51:54Z,2017-12-08T22:03:13Z,2017-12-08T22:03:13Z,MERGED,True,11,6,7,None,base/utils.c: correct calculate_time_from_day_of_month() for negative day offsets,6,['Code Quality'],https://github.com/NagiosEnterprises/nagioscore/pull/450,None,1,https://github.com/NagiosEnterprises/nagioscore/pull/450,"When called with a negative time offset, function ""calculate_time_from_day_of_month()""
used an incompletely initialized ""struct tm t"".
This may lead to an incorrect computation of the last day of a month, depending on the stack content.","When called with a negative time offset, function ""calculate_time_from_day_of_month()""
used an incompletely initialized ""struct tm t"".
This may lead to an incorrect computation of the last day of a month, depending on the stack content.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,458,2017-12-07T18:10:40Z,2018-01-22T00:38:16Z,2018-01-22T00:38:16Z,CLOSED,False,5,5,1,https://github.com/greenlogles,UI impovements: use display_name instead of hostname,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/458,https://github.com/greenlogles,1,https://github.com/NagiosEnterprises/nagioscore/pull/458,"Small update of status.cgi which allows to show display_name instead of hostname (if it's specified).
Useful when you use random hostnames or UUIDs","Small update of status.cgi which allows to show display_name instead of hostname (if it's specified).
Useful when you use random hostnames or UUIDs",True,{'THUMBS_UP': ['https://github.com/hedenface']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,458,2017-12-07T18:10:40Z,2018-01-22T00:38:16Z,2018-01-22T00:38:16Z,CLOSED,False,5,5,1,https://github.com/greenlogles,UI impovements: use display_name instead of hostname,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/458,https://github.com/greenlogles,2,https://github.com/NagiosEnterprises/nagioscore/pull/458#issuecomment-350049481,"Small update of status.cgi which allows to show display_name instead of hostname (if it's specified).
Useful when you use random hostnames or UUIDs","Official documentation says:

display_name: This directive is used to define an alternate name that should be displayed in the web interface for this host. If not specified, this defaults to the value you specify for the host_name directive. Note: The current CGIs do not use this option, although future versions of the web interface will.

Let's start to change it :)",True,{'THUMBS_UP': ['https://github.com/hedenface']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,458,2017-12-07T18:10:40Z,2018-01-22T00:38:16Z,2018-01-22T00:38:16Z,CLOSED,False,5,5,1,https://github.com/greenlogles,UI impovements: use display_name instead of hostname,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/458,https://github.com/hedenface,3,https://github.com/NagiosEnterprises/nagioscore/pull/458#issuecomment-350374088,"Small update of status.cgi which allows to show display_name instead of hostname (if it's specified).
Useful when you use random hostnames or UUIDs","I am going to hold off on merging for the time being - I love it - but I don't want to introduce it so sparsely. How would you feel about making sure it's in all the appropriate places? There are also display_names for services, too.
Also, please add the appropriate lines to the changelog and the thanks file as well.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,458,2017-12-07T18:10:40Z,2018-01-22T00:38:16Z,2018-01-22T00:38:16Z,CLOSED,False,5,5,1,https://github.com/greenlogles,UI impovements: use display_name instead of hostname,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/458,https://github.com/greenlogles,4,https://github.com/NagiosEnterprises/nagioscore/pull/458#issuecomment-350753305,"Small update of status.cgi which allows to show display_name instead of hostname (if it's specified).
Useful when you use random hostnames or UUIDs","@hedenface  Okay, thanks. I'll take care about services too",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,464,2018-01-22T00:25:11Z,2018-01-22T00:26:02Z,2018-01-22T00:38:26Z,MERGED,True,6499,1701,76,https://github.com/hedenface,Nagios 4.4.0,141,[],https://github.com/NagiosEnterprises/nagioscore/pull/464,https://github.com/hedenface,1,https://github.com/NagiosEnterprises/nagioscore/pull/464,"Merging 4.40 into master.
Maint says it's all screwed up, as normally it would be 4.4 -> maint -> master.
I'm going to skip that, and merge 4.4 into master, delete maint and 4.4, then overwrite with maint with master.","Merging 4.40 into master.
Maint says it's all screwed up, as normally it would be 4.4 -> maint -> master.
I'm going to skip that, and merge 4.4 into master, delete maint and 4.4, then overwrite with maint with master.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,465,2018-01-22T00:34:02Z,2018-01-22T00:34:10Z,2018-01-22T00:37:48Z,MERGED,True,1701,6499,76,https://github.com/hedenface,"Revert ""Nagios 4.4.0""",2,[],https://github.com/NagiosEnterprises/nagioscore/pull/465,https://github.com/hedenface,1,https://github.com/NagiosEnterprises/nagioscore/pull/465,Reverts #464,Reverts #464,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,466,2018-01-22T00:36:55Z,2018-01-22T00:37:16Z,2018-01-22T00:37:49Z,MERGED,True,6503,1705,76,https://github.com/hedenface,Nagios 4.4.0,143,[],https://github.com/NagiosEnterprises/nagioscore/pull/466,https://github.com/hedenface,1,https://github.com/NagiosEnterprises/nagioscore/pull/466,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,470,2018-01-29T04:17:09Z,2018-02-15T13:33:34Z,2018-02-15T13:33:34Z,MERGED,True,95,26,5,https://github.com/box293,Fixes to make install-init,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/470,https://github.com/box293,1,https://github.com/NagiosEnterprises/nagioscore/pull/470,"Missing some semicolons, fixes this error when running `make install-init':
/usr/bin/install -c -m 755 -o root -g root startup/default-service /usr/lib/systemd/system/nagios.service
if [ x = xsystemd ]; then \
	if which systemctl >/dev/null 2>&1; then \
		systemctl daemon-reload \
	fi \
fi
/bin/sh: -c: line 5: syntax error: unexpected end of file
make: *** [install-daemoninit] Error 1","Missing some semicolons, fixes this error when running `make install-init':
/usr/bin/install -c -m 755 -o root -g root startup/default-service /usr/lib/systemd/system/nagios.service
if [ x = xsystemd ]; then \
	if which systemctl >/dev/null 2>&1; then \
		systemctl daemon-reload \
	fi \
fi
/bin/sh: -c: line 5: syntax error: unexpected end of file
make: *** [install-daemoninit] Error 1",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,470,2018-01-29T04:17:09Z,2018-02-15T13:33:34Z,2018-02-15T13:33:34Z,MERGED,True,95,26,5,https://github.com/box293,Fixes to make install-init,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/470,https://github.com/box293,2,https://github.com/NagiosEnterprises/nagioscore/pull/470#issuecomment-362478881,"Missing some semicolons, fixes this error when running `make install-init':
/usr/bin/install -c -m 755 -o root -g root startup/default-service /usr/lib/systemd/system/nagios.service
if [ x = xsystemd ]; then \
	if which systemctl >/dev/null 2>&1; then \
		systemctl daemon-reload \
	fi \
fi
/bin/sh: -c: line 5: syntax error: unexpected end of file
make: *** [install-daemoninit] Error 1","Improvements to the init scripts including:

Determine the correct location of the rm and kill commands
Fixed subsyslockfile in configure script",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,470,2018-01-29T04:17:09Z,2018-02-15T13:33:34Z,2018-02-15T13:33:34Z,MERGED,True,95,26,5,https://github.com/box293,Fixes to make install-init,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/470,https://github.com/box293,3,https://github.com/NagiosEnterprises/nagioscore/pull/470#issuecomment-363639352,"Missing some semicolons, fixes this error when running `make install-init':
/usr/bin/install -c -m 755 -o root -g root startup/default-service /usr/lib/systemd/system/nagios.service
if [ x = xsystemd ]; then \
	if which systemctl >/dev/null 2>&1; then \
		systemctl daemon-reload \
	fi \
fi
/bin/sh: -c: line 5: syntax error: unexpected end of file
make: *** [install-daemoninit] Error 1","Removed PIDFile in systemd default-service.in file as this does not need to be defined.
Changed the default-init.in script to get the NagiosRunFile from the lock_file directive in  - nagios.cfg.
Uncommented INIT_TYPE from the top of Makefile.in.
Improved install-daemoninit function in Makefile.in so it would enable the nagios service to start on boot.
Fixed BSD declaration of initdir and src_init in configure",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,470,2018-01-29T04:17:09Z,2018-02-15T13:33:34Z,2018-02-15T13:33:34Z,MERGED,True,95,26,5,https://github.com/box293,Fixes to make install-init,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/470,https://github.com/box293,4,https://github.com/NagiosEnterprises/nagioscore/pull/470#issuecomment-363650897,"Missing some semicolons, fixes this error when running `make install-init':
/usr/bin/install -c -m 755 -o root -g root startup/default-service /usr/lib/systemd/system/nagios.service
if [ x = xsystemd ]; then \
	if which systemctl >/dev/null 2>&1; then \
		systemctl daemon-reload \
	fi \
fi
/bin/sh: -c: line 5: syntax error: unexpected end of file
make: *** [install-daemoninit] Error 1",Added install-groups-users function in Makefile.in to include the autoconf-macros script.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,470,2018-01-29T04:17:09Z,2018-02-15T13:33:34Z,2018-02-15T13:33:34Z,MERGED,True,95,26,5,https://github.com/box293,Fixes to make install-init,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/470,https://github.com/box293,5,https://github.com/NagiosEnterprises/nagioscore/pull/470#issuecomment-363959590,"Missing some semicolons, fixes this error when running `make install-init':
/usr/bin/install -c -m 755 -o root -g root startup/default-service /usr/lib/systemd/system/nagios.service
if [ x = xsystemd ]; then \
	if which systemctl >/dev/null 2>&1; then \
		systemctl daemon-reload \
	fi \
fi
/bin/sh: -c: line 5: syntax error: unexpected end of file
make: *** [install-daemoninit] Error 1",98423d0 is changes to the autoconf-macros project. I had problems following the Usage instructions to get these changes pushed up into the autoconf-macros project so I am committing here so I can continue,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,470,2018-01-29T04:17:09Z,2018-02-15T13:33:34Z,2018-02-15T13:33:34Z,MERGED,True,95,26,5,https://github.com/box293,Fixes to make install-init,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/470,https://github.com/box293,6,https://github.com/NagiosEnterprises/nagioscore/pull/470#issuecomment-363960589,"Missing some semicolons, fixes this error when running `make install-init':
/usr/bin/install -c -m 755 -o root -g root startup/default-service /usr/lib/systemd/system/nagios.service
if [ x = xsystemd ]; then \
	if which systemctl >/dev/null 2>&1; then \
		systemctl daemon-reload \
	fi \
fi
/bin/sh: -c: line 5: syntax error: unexpected end of file
make: *** [install-daemoninit] Error 1",The user account created with the autoconf-macros project script add_group_user is now created with shell access. Without this the service fails to start with ERROR: Could not create or update /usr/local/nagios/var/nagios.configtest (on some OS's),True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,476,2018-01-31T13:31:03Z,2018-02-05T08:42:55Z,2018-02-05T08:42:55Z,CLOSED,False,10,18,1,https://github.com/ccztux,Fixed issue: NagiosEnterprises/nagioscore#425.,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/476,https://github.com/ccztux,1,https://github.com/NagiosEnterprises/nagioscore/pull/476,"Changed calculation for hosts from:
svc->last_time_ok

to:
svc->last_state_change

Changed calculation for services from:
hst->last_time_up

to:
hst->last_state_change","Changed calculation for hosts from:
svc->last_time_ok

to:
svc->last_state_change

Changed calculation for services from:
hst->last_time_up

to:
hst->last_state_change",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,476,2018-01-31T13:31:03Z,2018-02-05T08:42:55Z,2018-02-05T08:42:55Z,CLOSED,False,10,18,1,https://github.com/ccztux,Fixed issue: NagiosEnterprises/nagioscore#425.,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/476,https://github.com/ccztux,2,https://github.com/NagiosEnterprises/nagioscore/pull/476#issuecomment-363016394,"Changed calculation for hosts from:
svc->last_time_ok

to:
svc->last_state_change

Changed calculation for services from:
hst->last_time_up

to:
hst->last_state_change",I have accidentially commited and old patch and will make a new pull requrest as far as i commited the actual one.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,482,2018-02-12T16:10:45Z,2018-02-16T09:09:58Z,2018-02-16T09:19:18Z,CLOSED,False,10,10,3,https://github.com/ccztux,Partly fix of issue: NagiosEnterprises/nagioscore#425.,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/482,https://github.com/ccztux,1,https://github.com/NagiosEnterprises/nagioscore/pull/482,First notification delay will now start from the last hard state change.,First notification delay will now start from the last hard state change.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,482,2018-02-12T16:10:45Z,2018-02-16T09:09:58Z,2018-02-16T09:19:18Z,CLOSED,False,10,10,3,https://github.com/ccztux,Partly fix of issue: NagiosEnterprises/nagioscore#425.,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/482,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/482#issuecomment-365936549,First notification delay will now start from the last hard state change.,"As I've been going through and making changes to the code, I am trying to remove obscure sections.
I do not think:
if(current_time < ((hst->last_hard_state_change > 0 ? hst->last_hard_state_change : program_start ) + (time_t)(hst->first_notification_delay * interval_length))) {

Looks better than:
first_problem_time = hst->last_hard_state_change > 0 ? hst->last_hard_state_change : program_start;
if(current_time < first_problem_time + (time_t)(hst->first_notification_delay * interval_length)) {

The first is hard to read. I have also been attempting to break up lines with complicated conditionals. Perhaps:
if(type == NOTIFICATION_NORMAL 
   && hst->first_notification_delay > 0 
   && hst->current_notification_number == 0 
   && hst->current_state != STATE_OK) {

If you don't want to make these changes, please let me know. Also, the master/maint thing got all screwy when I messed up the Core4.4 alpha branch - so master is currently holding the next release. Sorry about that. Are you able to at least push the changes to the master branch? (I didn't test if this would happen automatically, but I bet there won't be any problems with that).
Let me know either way. Also, I'm curious how you found this problem, and how I can reproduce it.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,482,2018-02-12T16:10:45Z,2018-02-16T09:09:58Z,2018-02-16T09:19:18Z,CLOSED,False,10,10,3,https://github.com/ccztux,Partly fix of issue: NagiosEnterprises/nagioscore#425.,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/482,https://github.com/ccztux,3,https://github.com/NagiosEnterprises/nagioscore/pull/482#issuecomment-365946376,First notification delay will now start from the last hard state change.,"You are right, it looks really better. I just wanted to save a variable.
I think I have misunderstood the feature. As described in the documentation:
first_notification_delay:
This directive is used to define the number of ""time units"" to wait  before sending out the first problem notification when this host enters a  non-UP state.  Unless you've changed the interval_length directive from the default value of 60, this number will mean minutes.  If you set this value to

The first_notification_interval should start at the first problem state of a check and not as I understood at the HARD state of a check. Please confirm, if I understood this feature now correctly. I will rework the whole pull request and push the changes to the master branch if this is ok for you?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,482,2018-02-12T16:10:45Z,2018-02-16T09:09:58Z,2018-02-16T09:19:18Z,CLOSED,False,10,10,3,https://github.com/ccztux,Partly fix of issue: NagiosEnterprises/nagioscore#425.,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/482,https://github.com/hedenface,4,https://github.com/NagiosEnterprises/nagioscore/pull/482#issuecomment-365948782,First notification delay will now start from the last hard state change.,"You can declare the variable inside of the outer conditional so that it's scope is limited, but it does make it much easier to figure out what's going on.
Following the logic it looks like what you've done makes sense. I think that the documentation can be interpreted multiple ways, but we should probably make it clearer that this is what's happening moving forward.
Make your changes, and we'll do some testing here (and you too!) to make sure that it is behaving as intended.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,482,2018-02-12T16:10:45Z,2018-02-16T09:09:58Z,2018-02-16T09:19:18Z,CLOSED,False,10,10,3,https://github.com/ccztux,Partly fix of issue: NagiosEnterprises/nagioscore#425.,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/482,https://github.com/ccztux,5,https://github.com/NagiosEnterprises/nagioscore/pull/482#issuecomment-365951206,First notification delay will now start from the last hard state change.,Sounds great. I will do so.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,482,2018-02-12T16:10:45Z,2018-02-16T09:09:58Z,2018-02-16T09:19:18Z,CLOSED,False,10,10,3,https://github.com/ccztux,Partly fix of issue: NagiosEnterprises/nagioscore#425.,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/482,https://github.com/ccztux,6,https://github.com/NagiosEnterprises/nagioscore/pull/482#issuecomment-366182711,First notification delay will now start from the last hard state change.,Will be handled in new pull request to master branch: #483.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,483,2018-02-16T09:18:57Z,2018-02-16T12:43:25Z,2018-02-16T12:43:25Z,MERGED,True,31,20,3,https://github.com/ccztux,Partly fix of issue: NagiosEnterprises/nagioscore#425.,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/483,https://github.com/ccztux,1,https://github.com/NagiosEnterprises/nagioscore/pull/483,New pull request to master branch. Original pull requst: #482.,New pull request to master branch. Original pull requst: #482.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/ccztux,1,https://github.com/NagiosEnterprises/nagioscore/pull/485,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed","Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/ccztux,2,https://github.com/NagiosEnterprises/nagioscore/pull/485#issuecomment-376283286,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed",If desired I can add some comments to the single commits.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/hedenface,3,https://github.com/NagiosEnterprises/nagioscore/pull/485#issuecomment-377406387,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed","Thanks for all this. I'm going to have to review the binary files and javascript entries with some scrutiny before I can accept them, so please give me some time.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/hedenface,4,https://github.com/NagiosEnterprises/nagioscore/pull/485#issuecomment-391688593,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed","I started looking through some of these - and I think what we need to do is break them up into multiple Pull Requests. That way I can merge what can go in now, and save what can go in later.
I do apologize for the amount of work that will be creating for you - but I don't think there is another way.
I tried to look at how to merge specific commits from a Pull Request, but I couldn't find that. If someone knows how to do that, that is definitely an option.",True,{'THUMBS_UP': ['https://github.com/knweiss']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/box293,5,https://github.com/NagiosEnterprises/nagioscore/pull/485#issuecomment-392606818,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed",I think git cherry-pick allows this.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/hedenface,6,https://github.com/NagiosEnterprises/nagioscore/pull/485#issuecomment-394031785,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed","@box293 You're right, with some additions. It looks like this can help:
https://gist.github.com/ozh/cbce675ba35e0d336cff
I'll be giving it a go.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/hedenface,7,https://github.com/NagiosEnterprises/nagioscore/pull/485#issuecomment-394041225,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed","Okay.
So I've got a local branch set up with all of the commits I'm willing to cherry-pick for 4.4.0. Here is the list:
32ba8b95b7bd0f309ab242be57c7c4a0a083dc98
2c3b38e2abeb48d1dc4627e41d31621dcc368529
ac3354a9771e873e8a7f785833575bc41a54c4fe
b643e3b4ce2aacf2f89daa2ce2048b188ef14200
f1cca279568e8739d98c1e42ad85e237c13d4303
6e29f4c540025a78d4e16eb82d6db38f45e773ee
7a2c5b445d5c3ab9991da49a7bce0a2b82275493
07cd4348a51e5d66944385cf415b7d088f12fdb3
8c9dbe4a48b9e35bf9239bb94bbaff492e41653b
6aa609e4791cb183fc4b9f60c38cf74410628571
54725df412fb5b2c1bc4156aaf33ee4f52e668f5
82fa2d9ce1f5f93fcc974dc7893353bc5de1c7ad
292a5c2b5783ec5f52b9bb4d557e48aa85b20b62
1b3472a2ce354e5113f4ec40054edb8264c0a3e1
6c740c01a4e5581ccbfcdc7172e13df3dfc2a2c8

***NOT*** 
d688e47f0a8b3cc8f0bf6df2ac7b57dfb3f24782 -> but made the check_local_load and 
                                            check_local_swap in localhost changes

And I also:

tested jquery-1.12.4.min.js
tested bootstrap-3.3.7-dist.zip
tested ui-bootstrap-tpls-0.14.3.min.js - and updated (there was some git diff issue where what I was pasting didn't line up what was there. I suspect different sources used for gathering the javascript)

But I cant test html/angularjs/ui-utils-0.2.3.zip at all - please provide complete steps for replicating/recreating this zip file. If I can't replicate this zip file, I won't be pushing any changes - as I don't want to go through and make the changes necessary to not point to it and revert to the old one.
I'd like to say, too, as a word of advice - there are a LOT of commits in here that rely on earlier commits in this same PR. This means that if there is something towards the end of the list that I want I can't just cherry-pick it - I have to cherry pick everything and then revert the ones I don't want - and then I have to fix merge conflicts for EACH revert (and sometimes the cherry-pick).
I would really recommend opening these as separate PRs in the future - it will help get these things included in the codebase both faster and easier. And it allows for much better community review.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/hedenface,8,https://github.com/NagiosEnterprises/nagioscore/pull/485#issuecomment-397886889,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed",Ping!,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/hedenface,9,https://github.com/NagiosEnterprises/nagioscore/pull/485#issuecomment-397887159,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed","Actually, found ui-utils-0.2.3.zip. Not sure why my original Google Fu failed so hard. I'll get these pushed ASAP.
Thank you.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/hedenface,10,https://github.com/NagiosEnterprises/nagioscore/pull/485#issuecomment-397890230,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed","Well, I really hope that worked. Here is a summary of accepted and rejected commits:
Accepted:
2c3b38e
ac3354a
b643e3b
f1cca27
6e29f4c
7a2c5b4
07cd434
8c9dbe4
6aa609e
54725df
82fa2d9
32ba8b9
292a5c2
1b3472a
6c740c0
2d570af
Rejected:
b3db6ed
bbda39a
389e2b5
263d8cd
bf2e018
91f00a7
5431b3c
f268ec4
ffb83e5
64e9124
9d81a5c
0a04249
d55b581
c1a01ec
e5a5e16
67d2194
9d1490c
a6cdb8f
5195fa5
308cb68
fccbe09
8ab05ed
And there were a few that were just merged clean - since the changes had been made otherwise (the last time I was looking into this a few weeks ago) - I didn't keep track of those ones, as they should be in the git log.
The commit d688e47 was partially accepted. I didn't add the -r to the command definition, but I did update the check_swap for localhost to use percentages.
And here is the binary and js file summary:
binary files changed:
    html/angularjs/ui-utils-0.2.1.zip              => html/angularjs/ui-utils-0.2.3.zip
    html/bootstrap-3.3.0-dist.zip                  => html/bootstrap-3.3.7-dist.zip
    html/d3-3.5.3.zip                              => html/d3-3.5.17.zip

javascript files changed:
    html/js/jquery-1.7.1.min.js                    => html/js/jquery-1.12.4.min.js
    html/angularjs/ui-bootstrap-tpls-0.12.0.min.js => html/angularjs/ui-bootstrap-tpls-0.14.3.min.js

The final TL;DR: I didn't accept any changes regarding the startup/default-init.in since it was changed independently of this PR. We'll see how well it works in 4.4.0 and possibly revisit it for a 4.5 or 5.0 release.
Thank you.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/hedenface,11,https://github.com/NagiosEnterprises/nagioscore/pull/485#issuecomment-397908941,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed",Did you test the map after committing?,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,485,2018-02-18T12:59:31Z,2018-06-17T16:25:09Z,2018-07-22T12:34:26Z,MERGED,True,335,304,31,https://github.com/ccztux,Bunch of minor things...,45,[],https://github.com/NagiosEnterprises/nagioscore/pull/485,https://github.com/ccztux,12,https://github.com/NagiosEnterprises/nagioscore/pull/485#issuecomment-406863389,"Fixed indentations of pull request #483
Many enhancements to default-init.in
Fixes a typo in mount command in default-init.in
Fixes issue #498
Minor improvements to default config files (objects).
Updated angular-ui-bootstrap
Updated ui-utils
Updated jquery
Updated bootstrap
Updated d3
Possible fix for #487
Some trailing whitespaces removed","Hi!
I am sorry, for replying so late. I was overloaded with work.
Cool, that some of these commits were merged into nagioscore. In future I will open separate issues and pull requests, to make live easier.
I have tested the map after committing and i found no issues with that.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,491,2018-03-20T18:47:21Z,2018-06-01T22:57:13Z,2018-06-02T12:47:35Z,MERGED,True,1,1,1,https://github.com/mjtrangoni,contrib/Makefile.in: Use uname instead of arch command,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/491,https://github.com/mjtrangoni,1,https://github.com/NagiosEnterprises/nagioscore/pull/491,"Hi,
I found that the arch command is only available at some distros. I am replacing it with the more widespread tool uname -m.","Hi,
I found that the arch command is only available at some distros. I am replacing it with the more widespread tool uname -m.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,491,2018-03-20T18:47:21Z,2018-06-01T22:57:13Z,2018-06-02T12:47:35Z,MERGED,True,1,1,1,https://github.com/mjtrangoni,contrib/Makefile.in: Use uname instead of arch command,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/491,https://github.com/mjtrangoni,2,https://github.com/NagiosEnterprises/nagioscore/pull/491#issuecomment-393791216,"Hi,
I found that the arch command is only available at some distros. I am replacing it with the more widespread tool uname -m.",@hedenface ping,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,491,2018-03-20T18:47:21Z,2018-06-01T22:57:13Z,2018-06-02T12:47:35Z,MERGED,True,1,1,1,https://github.com/mjtrangoni,contrib/Makefile.in: Use uname instead of arch command,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/491,https://github.com/hedenface,3,https://github.com/NagiosEnterprises/nagioscore/pull/491#issuecomment-393869421,"Hi,
I found that the arch command is only available at some distros. I am replacing it with the more widespread tool uname -m.","No route to host
…
On Fri, Jun 1, 2018, 2:29 AM Mario Trangoni ***@***.***> wrote:
 @hedenface <https://github.com/hedenface> ping

 —
 You are receiving this because you were mentioned.
 Reply to this email directly, view it on GitHub
 <#491 (comment)>,
 or mute the thread
 <https://github.com/notifications/unsubscribe-auth/AP4QcY5duk61ITgUasBBN48FmEc3hbMzks5t4O1vgaJpZM4SydDs>
 .",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,491,2018-03-20T18:47:21Z,2018-06-01T22:57:13Z,2018-06-02T12:47:35Z,MERGED,True,1,1,1,https://github.com/mjtrangoni,contrib/Makefile.in: Use uname instead of arch command,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/491,https://github.com/hedenface,4,https://github.com/NagiosEnterprises/nagioscore/pull/491#issuecomment-393869543,"Hi,
I found that the arch command is only available at some distros. I am replacing it with the more widespread tool uname -m.","Kidding. I'll take a look this morning.
…
On Fri, Jun 1, 2018, 7:45 AM Bryan Heden ***@***.***> wrote:
 No route to host

 On Fri, Jun 1, 2018, 2:29 AM Mario Trangoni ***@***.***>
 wrote:

> @hedenface <https://github.com/hedenface> ping
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <#491 (comment)>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AP4QcY5duk61ITgUasBBN48FmEc3hbMzks5t4O1vgaJpZM4SydDs>
> .
>",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,491,2018-03-20T18:47:21Z,2018-06-01T22:57:13Z,2018-06-02T12:47:35Z,MERGED,True,1,1,1,https://github.com/mjtrangoni,contrib/Makefile.in: Use uname instead of arch command,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/491,https://github.com/hedenface,5,https://github.com/NagiosEnterprises/nagioscore/pull/491#issuecomment-393882817,"Hi,
I found that the arch command is only available at some distros. I am replacing it with the more widespread tool uname -m.","I understand the change if the data is correct - but I can't find any information regarding arch availability. Unfortunately, all my googling conflates the combinations of the words 'arch' and 'linux' with you guessed it archlinux. Even less helpful results with a -archlinux it seems.
What would be the problem with maybe:
arch 2>/dev/null || uname -m

That seems like a good win to me. What are your thoughts?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,491,2018-03-20T18:47:21Z,2018-06-01T22:57:13Z,2018-06-02T12:47:35Z,MERGED,True,1,1,1,https://github.com/mjtrangoni,contrib/Makefile.in: Use uname instead of arch command,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/491,https://github.com/mjtrangoni,6,https://github.com/NagiosEnterprises/nagioscore/pull/491#issuecomment-393911686,"Hi,
I found that the arch command is only available at some distros. I am replacing it with the more widespread tool uname -m.","Hi @hedenface,
Yes, this will add compatibility. This could also be swapped in order to uname and then arch.
My case is that I switched to arch Linux from fedora, and there, there is no ‘arch’ tool available.
The question is, where isn’t ‘uname’ available?
Thanks!",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,491,2018-03-20T18:47:21Z,2018-06-01T22:57:13Z,2018-06-02T12:47:35Z,MERGED,True,1,1,1,https://github.com/mjtrangoni,contrib/Makefile.in: Use uname instead of arch command,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/491,https://github.com/hedenface,7,https://github.com/NagiosEnterprises/nagioscore/pull/491#issuecomment-393957322,"Hi,
I found that the arch command is only available at some distros. I am replacing it with the more widespread tool uname -m.","I was also curious about where uname wasn't available.
Can you make the changes - in the order you've specified and update the PR?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,491,2018-03-20T18:47:21Z,2018-06-01T22:57:13Z,2018-06-02T12:47:35Z,MERGED,True,1,1,1,https://github.com/mjtrangoni,contrib/Makefile.in: Use uname instead of arch command,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/491,https://github.com/hedenface,8,https://github.com/NagiosEnterprises/nagioscore/pull/491#issuecomment-394031237,"Hi,
I found that the arch command is only available at some distros. I am replacing it with the more widespread tool uname -m.","I only looked at the git revision before talking about any of that. I should have viewed the entire context.
This is fine as is :) I will add you to the THANKS file.",True,{'THUMBS_UP': ['https://github.com/mjtrangoni']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,496,2018-03-26T03:14:00Z,2018-05-23T21:21:39Z,2021-09-30T14:56:10Z,MERGED,True,1,1,1,https://github.com/box293,"Fixed ""Locate host on map"" link",2,[],https://github.com/NagiosEnterprises/nagioscore/pull/496,https://github.com/box293,1,https://github.com/NagiosEnterprises/nagioscore/pull/496,As per #494 (comment) this will put the map focus on the object being targeted.,As per #494 (comment) this will put the map focus on the object being targeted.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,496,2018-03-26T03:14:00Z,2018-05-23T21:21:39Z,2021-09-30T14:56:10Z,MERGED,True,1,1,1,https://github.com/box293,"Fixed ""Locate host on map"" link",2,[],https://github.com/NagiosEnterprises/nagioscore/pull/496,https://github.com/jaippp,2,https://github.com/NagiosEnterprises/nagioscore/pull/496#issuecomment-931398864,As per #494 (comment) this will put the map focus on the object being targeted.,Hi Can you please help us how do we edit cgi/extinfo.c to change the line 1126,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,501,2018-04-11T18:32:11Z,2018-05-23T21:22:55Z,2018-05-24T07:22:11Z,MERGED,True,55,55,21,https://github.com/mjtrangoni,Fix codespell issues,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/501,https://github.com/mjtrangoni,1,https://github.com/NagiosEnterprises/nagioscore/pull/501,"Hi,
I fixed some codespell issues.","Hi,
I fixed some codespell issues.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,502,2018-04-11T20:09:27Z,2018-05-23T21:20:07Z,2018-05-23T21:21:25Z,MERGED,True,1,1,1,https://github.com/jabdr,Fix typo in comments.h,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/502,https://github.com/jabdr,1,https://github.com/NagiosEnterprises/nagioscore/pull/502,"I can't build my c++ broker, because of a typo in the comments.h.","I can't build my c++ broker, because of a typo in the comments.h.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,504,2018-04-15T18:03:57Z,2018-06-04T22:34:53Z,2018-06-04T22:36:21Z,MERGED,True,2,1,1,https://github.com/leres,Set the document title to the hostname of the web server nagios runs on.,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/504,https://github.com/leres,1,https://github.com/NagiosEnterprises/nagioscore/pull/504,I have six instances of nagios running between work and personal projects and it is generally helpful to have the title set to the hostname. This sets title to the 'Nagios: ' and the hostname.,I have six instances of nagios running between work and personal projects and it is generally helpful to have the title set to the hostname. This sets title to the 'Nagios: ' and the hostname.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,504,2018-04-15T18:03:57Z,2018-06-04T22:34:53Z,2018-06-04T22:36:21Z,MERGED,True,2,1,1,https://github.com/leres,Set the document title to the hostname of the web server nagios runs on.,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/504,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/504#issuecomment-391502069,I have six instances of nagios running between work and personal projects and it is generally helpful to have the title set to the hostname. This sets title to the 'Nagios: ' and the hostname.,"Not sure I like the idea of this being done in javascript (for a few reasons). Can you edit it to use a few <?php ?> tags and the $_SERVER['SERVER_NAME'] variable responsible? This way it's the real name, and not just want the client sees as the name.
Please also add your changes to the Changelog. Thanks!",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,504,2018-04-15T18:03:57Z,2018-06-04T22:34:53Z,2018-06-04T22:36:21Z,MERGED,True,2,1,1,https://github.com/leres,Set the document title to the hostname of the web server nagios runs on.,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/504,https://github.com/leres,3,https://github.com/NagiosEnterprises/nagioscore/pull/504#issuecomment-393335619,I have six instances of nagios running between work and personal projects and it is generally helpful to have the title set to the hostname. This sets title to the 'Nagios: ' and the hostname.,"I've been working with nagios 3.5.1 because that's what the FreeBSD port uses but I see the master version is vastly different; for example here's how I believe the title now gets set:
<!DOCTYPE HTML PUBLIC ""-//W3C//DTD HTML 4.01 Frameset//EN"" ""http://www.w3.org/TR/html4/frameset.dtd"">

<html>
<head>
        <meta name=""ROBOTS"" content=""NOINDEX, NOFOLLOW"">
<script LANGUAGE=""javascript"">
        var n = Math.round(Math.random() * 10000000000);
        document.write(""<title>Nagios Core on "" + window.location.hostname + ""</title>"");
        document.cookie = ""NagFormId="" + n.toString(16);
</script>

So I'm not sure if there is anything to do. Although I do agree with you that using php instead of javascript is better (and ""Nagios Core on "" is long enough to cause the hostname to be truncated  depending on your window manager -- it's too long in my case).",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,504,2018-04-15T18:03:57Z,2018-06-04T22:34:53Z,2018-06-04T22:36:21Z,MERGED,True,2,1,1,https://github.com/leres,Set the document title to the hostname of the web server nagios runs on.,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/504,https://github.com/ericloyd,4,https://github.com/NagiosEnterprises/nagioscore/pull/504#issuecomment-393350948,I have six instances of nagios running between work and personal projects and it is generally helpful to have the title set to the hostname. This sets title to the 'Nagios: ' and the hostname.,Download source for version 4.  Substantially improved in every way.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,504,2018-04-15T18:03:57Z,2018-06-04T22:34:53Z,2018-06-04T22:36:21Z,MERGED,True,2,1,1,https://github.com/leres,Set the document title to the hostname of the web server nagios runs on.,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/504,https://github.com/hedenface,5,https://github.com/NagiosEnterprises/nagioscore/pull/504#issuecomment-394125593,I have six instances of nagios running between work and personal projects and it is generally helpful to have the title set to the hostname. This sets title to the 'Nagios: ' and the hostname.,"It might be too long because of your window manager, or even your browser. But, generally when hovering over a tab or equivalent, you do see the entire title. And In some cases it shows up in the application's actual title bar.
I don't think there isn't anything to do. Find the appropriate <title></title> lines, and simply add <?php echo $__SERVER['SERVER_NAME']; ?> where it needs to be.
Test it, and then update your PR. As @ericloyd said, download source for version 4.
Let me know if you aren't willing to do this, so I can close the PR - and I'll make the change myself.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,504,2018-04-15T18:03:57Z,2018-06-04T22:34:53Z,2018-06-04T22:36:21Z,MERGED,True,2,1,1,https://github.com/leres,Set the document title to the hostname of the web server nagios runs on.,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/504,https://github.com/leres,6,https://github.com/NagiosEnterprises/nagioscore/pull/504#issuecomment-394492272,I have six instances of nagios running between work and personal projects and it is generally helpful to have the title set to the hostname. This sets title to the 'Nagios: ' and the hostname.,"nagios 4 creates the main html content dynamically using javascript:
document.write(""<title>Nagios Core on "" + window.location.hostname + ""</title>"");
So the change I would make would be to change ""<title>Nagios Core on ""  to ""<title>Nagios: "" so it doesn't get truncated (see attached):",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,504,2018-04-15T18:03:57Z,2018-06-04T22:34:53Z,2018-06-04T22:36:21Z,MERGED,True,2,1,1,https://github.com/leres,Set the document title to the hostname of the web server nagios runs on.,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/504,https://github.com/hedenface,7,https://github.com/NagiosEnterprises/nagioscore/pull/504#issuecomment-394522017,I have six instances of nagios running between work and personal projects and it is generally helpful to have the title set to the hostname. This sets title to the 'Nagios: ' and the hostname.,"Eh. I'll merge, so you get the sweet internet points - but I'm going to overwrite it with php almost immediately. Thank you.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,504,2018-04-15T18:03:57Z,2018-06-04T22:34:53Z,2018-06-04T22:36:21Z,MERGED,True,2,1,1,https://github.com/leres,Set the document title to the hostname of the web server nagios runs on.,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/504,https://github.com/hedenface,8,https://github.com/NagiosEnterprises/nagioscore/pull/504#issuecomment-394522333,I have six instances of nagios running between work and personal projects and it is generally helpful to have the title set to the hostname. This sets title to the 'Nagios: ' and the hostname.,Wait. Why didn't you just update the original javascript that does the document.write() ? Am I missing something?,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,512,2018-05-24T12:14:47Z,2018-05-24T12:30:37Z,2018-05-24T12:44:50Z,MERGED,True,15,16,2,https://github.com/tejr,Correct link syntax in README.md,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/512,https://github.com/tejr,1,https://github.com/NagiosEnterprises/nagioscore/pull/512,"Commit 70d4b0b imported a new version of README.md, but the syntax of the links for Markdown was wrong:
http://example.com/[Link text]

The correct syntax in Markdown is:
[Link text](http://example.com/)

This commit corrects the syntax of 10 such instances.
I am aware the CONTRIBUTING.md file says never to make a pull request to master. I checked with @hedenface to confirm it was OK to do this, as that is where the relevant change on which this fix is based is. Also adding myself to THANKS per his request.","Commit 70d4b0b imported a new version of README.md, but the syntax of the links for Markdown was wrong:
http://example.com/[Link text]

The correct syntax in Markdown is:
[Link text](http://example.com/)

This commit corrects the syntax of 10 such instances.
I am aware the CONTRIBUTING.md file says never to make a pull request to master. I checked with @hedenface to confirm it was OK to do this, as that is where the relevant change on which this fix is based is. Also adding myself to THANKS per his request.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,515,2018-05-28T23:34:50Z,2018-05-28T23:59:34Z,2018-05-28T23:59:34Z,MERGED,True,3,2,2,https://github.com/Senso,Corrected variable name in startup/default-init.in,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/515,https://github.com/Senso,1,https://github.com/NagiosEnterprises/nagioscore/pull/515,As per issue #514,As per issue #514,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,515,2018-05-28T23:34:50Z,2018-05-28T23:59:34Z,2018-05-28T23:59:34Z,MERGED,True,3,2,2,https://github.com/Senso,Corrected variable name in startup/default-init.in,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/515,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/515#issuecomment-392617828,As per issue #514,Please also add yourself to the Thanks file before I merge.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,517,2018-06-03T14:18:54Z,2018-06-03T16:38:23Z,2018-06-04T10:44:13Z,MERGED,True,1,0,1,https://github.com/knweiss,Fix the cgivars memory leak in free_cgivars(),1,[],https://github.com/NagiosEnterprises/nagioscore/pull/517,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/517,"The following memory allocation in getcgivars() was never freed:
    /* extract the names and values from the pairlist */
    cgivars = (char **)malloc((paircount * 2 + 1) * sizeof(char *));","The following memory allocation in getcgivars() was never freed:
    /* extract the names and values from the pairlist */
    cgivars = (char **)malloc((paircount * 2 + 1) * sizeof(char *));",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,517,2018-06-03T14:18:54Z,2018-06-03T16:38:23Z,2018-06-04T10:44:13Z,MERGED,True,1,0,1,https://github.com/knweiss,Fix the cgivars memory leak in free_cgivars(),1,[],https://github.com/NagiosEnterprises/nagioscore/pull/517,https://github.com/knweiss,2,https://github.com/NagiosEnterprises/nagioscore/pull/517#issuecomment-394165674,"The following memory allocation in getcgivars() was never freed:
    /* extract the names and values from the pairlist */
    cgivars = (char **)malloc((paircount * 2 + 1) * sizeof(char *));","Please review, this commit is untested.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,517,2018-06-03T14:18:54Z,2018-06-03T16:38:23Z,2018-06-04T10:44:13Z,MERGED,True,1,0,1,https://github.com/knweiss,Fix the cgivars memory leak in free_cgivars(),1,[],https://github.com/NagiosEnterprises/nagioscore/pull/517,https://github.com/knweiss,3,https://github.com/NagiosEnterprises/nagioscore/pull/517#issuecomment-394166338,"The following memory allocation in getcgivars() was never freed:
    /* extract the names and values from the pairlist */
    cgivars = (char **)malloc((paircount * 2 + 1) * sizeof(char *));","BTW: Is there a good reason why this code is using the zero character constant to terminate the cgivarsptr list instead of NULL?
getcgi.c: In function ‘free_cgivars’:
getcgi.c:547:24: warning: comparison between pointer and zero character constant [-Wpointer-compare]
  for(x = 0; cgivars[x] != '\x0'; x++)",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,517,2018-06-03T14:18:54Z,2018-06-03T16:38:23Z,2018-06-04T10:44:13Z,MERGED,True,1,0,1,https://github.com/knweiss,Fix the cgivars memory leak in free_cgivars(),1,[],https://github.com/NagiosEnterprises/nagioscore/pull/517,https://github.com/hedenface,4,https://github.com/NagiosEnterprises/nagioscore/pull/517#issuecomment-394174428,"The following memory allocation in getcgivars() was never freed:
    /* extract the names and values from the pairlist */
    cgivars = (char **)malloc((paircount * 2 + 1) * sizeof(char *));","@knweiss No, probably not. I suspect just another one of those 'it seemed like a good idea at the time' moments. :) Feel free to submit a PR with that change as well.
Thanks!",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,517,2018-06-03T14:18:54Z,2018-06-03T16:38:23Z,2018-06-04T10:44:13Z,MERGED,True,1,0,1,https://github.com/knweiss,Fix the cgivars memory leak in free_cgivars(),1,[],https://github.com/NagiosEnterprises/nagioscore/pull/517,https://github.com/hedenface,5,https://github.com/NagiosEnterprises/nagioscore/pull/517#issuecomment-394175293,"The following memory allocation in getcgivars() was never freed:
    /* extract the names and values from the pairlist */
    cgivars = (char **)malloc((paircount * 2 + 1) * sizeof(char *));","What were you using to detect the memory leak? Would you be willing to add some cgi memory leak tests?
I've done a LOT of work in getting the testing suite working, and I run each through valgrind (even a make valgrind_test in the t-tap dir). It would be nice to have this for the cgis as well.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,517,2018-06-03T14:18:54Z,2018-06-03T16:38:23Z,2018-06-04T10:44:13Z,MERGED,True,1,0,1,https://github.com/knweiss,Fix the cgivars memory leak in free_cgivars(),1,[],https://github.com/NagiosEnterprises/nagioscore/pull/517,https://github.com/knweiss,6,https://github.com/NagiosEnterprises/nagioscore/pull/517#issuecomment-394178482,"The following memory allocation in getcgivars() was never freed:
    /* extract the names and values from the pairlist */
    cgivars = (char **)malloc((paircount * 2 + 1) * sizeof(char *));","I was browsing the code around some of gcc 8.1.0’s compiler warnings with pedantic CFLAGS.
Due to lack of time I don’t want to commit to adding memory leak tests. However, I may take a look at the NULL change mentioned above.
Did you consider using clang’s or gcc’s address sanitizer (-fsanitize=address) instead of Valgrind?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,517,2018-06-03T14:18:54Z,2018-06-03T16:38:23Z,2018-06-04T10:44:13Z,MERGED,True,1,0,1,https://github.com/knweiss,Fix the cgivars memory leak in free_cgivars(),1,[],https://github.com/NagiosEnterprises/nagioscore/pull/517,https://github.com/hedenface,7,https://github.com/NagiosEnterprises/nagioscore/pull/517#issuecomment-394179130,"The following memory allocation in getcgivars() was never freed:
    /* extract the names and values from the pairlist */
    cgivars = (char **)malloc((paircount * 2 + 1) * sizeof(char *));","I did consider it, since before this moment as I'm typing this I did not know it existed. I will consider it now moving forward :)",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,517,2018-06-03T14:18:54Z,2018-06-03T16:38:23Z,2018-06-04T10:44:13Z,MERGED,True,1,0,1,https://github.com/knweiss,Fix the cgivars memory leak in free_cgivars(),1,[],https://github.com/NagiosEnterprises/nagioscore/pull/517,https://github.com/knweiss,8,https://github.com/NagiosEnterprises/nagioscore/pull/517#issuecomment-394271187,"The following memory allocation in getcgivars() was never freed:
    /* extract the names and values from the pairlist */
    cgivars = (char **)malloc((paircount * 2 + 1) * sizeof(char *));",@hedenface BTW: Regarding the 't-tap' test cases: On macOS there are many failures/hangs. Do you want me to open an issue or is macOS unsupported? (It works better on Linux with only one failure.),True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,517,2018-06-03T14:18:54Z,2018-06-03T16:38:23Z,2018-06-04T10:44:13Z,MERGED,True,1,0,1,https://github.com/knweiss,Fix the cgivars memory leak in free_cgivars(),1,[],https://github.com/NagiosEnterprises/nagioscore/pull/517,https://github.com/hedenface,9,https://github.com/NagiosEnterprises/nagioscore/pull/517#issuecomment-394312293,"The following memory allocation in getcgivars() was never freed:
    /* extract the names and values from the pairlist */
    cgivars = (char **)malloc((paircount * 2 + 1) * sizeof(char *));","There are currently a few issues open regarding mac. The main problem I have with it is that my hardware for testing on mac is limited. Feel free to open one specifically for the t-tap test cases, as I suspect getting those working can iron out some other wrinkles.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,518,2018-06-03T14:36:06Z,2018-06-03T16:36:46Z,2018-06-03T19:10:38Z,MERGED,True,2,2,1,https://github.com/knweiss,workers.h: remove extra ';' after NAGIOS_*_DECL macros,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/518,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/518,"This fixes the following compiler error reported by gcc-8.1.0:
In file included from nagios.c:48:
../include/workers.h: At top level:
../include/workers.h:22:18: error: ISO C does not allow extra ‘;’ outside of a function [-Wpedantic]
 NAGIOS_BEGIN_DECL;
                  ^
In file included from nagios.c:48:
../include/workers.h:61:16: error: ISO C does not allow extra ‘;’ outside of a function [-Wpedantic]
 NAGIOS_END_DECL;
                ^","This fixes the following compiler error reported by gcc-8.1.0:
In file included from nagios.c:48:
../include/workers.h: At top level:
../include/workers.h:22:18: error: ISO C does not allow extra ‘;’ outside of a function [-Wpedantic]
 NAGIOS_BEGIN_DECL;
                  ^
In file included from nagios.c:48:
../include/workers.h:61:16: error: ISO C does not allow extra ‘;’ outside of a function [-Wpedantic]
 NAGIOS_END_DECL;
                ^",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,519,2018-06-03T19:15:10Z,2018-06-04T10:26:59Z,2018-06-04T10:26:59Z,MERGED,True,8,4,2,https://github.com/knweiss,nwrite() compiler warnings and cleanups,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/519,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/519,Fix nwrite() related gcc 8.1.0 compiler warnings. Cleanups.,Fix nwrite() related gcc 8.1.0 compiler warnings. Cleanups.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,519,2018-06-03T19:15:10Z,2018-06-04T10:26:59Z,2018-06-04T10:26:59Z,MERGED,True,8,4,2,https://github.com/knweiss,nwrite() compiler warnings and cleanups,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/519,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/519#issuecomment-394195136,Fix nwrite() related gcc 8.1.0 compiler warnings. Cleanups.,Please update the comment style from // to /* */ (for compatibility reasons).,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,519,2018-06-03T19:15:10Z,2018-06-04T10:26:59Z,2018-06-04T10:26:59Z,MERGED,True,8,4,2,https://github.com/knweiss,nwrite() compiler warnings and cleanups,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/519,https://github.com/knweiss,3,https://github.com/NagiosEnterprises/nagioscore/pull/519#issuecomment-394267311,Fix nwrite() related gcc 8.1.0 compiler warnings. Cleanups.,@hedenface Done. (Travis failed but this seems to be caused by your latest test.),True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,522,2018-06-05T17:04:53Z,2018-06-06T18:47:40Z,2018-06-06T18:53:03Z,MERGED,True,23,30,20,https://github.com/knweiss,Some cgi cleanups,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/522,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/522,Fix compiler warnings. Simplify the code.,Fix compiler warnings. Simplify the code.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,522,2018-06-05T17:04:53Z,2018-06-06T18:47:40Z,2018-06-06T18:53:03Z,MERGED,True,23,30,20,https://github.com/knweiss,Some cgi cleanups,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/522,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/522#issuecomment-395175817,Fix compiler warnings. Simplify the code.,"For the record, all of the things changing from if (something != NULL) to just if (something) are being merged because I don't feel like cherry picking them out.
When the style guide is completed, and formatting is updated in a future version, those will be reverted to the == NULL or != NULL (etc). I think the explicit nature of it makes it a bit more readable. I do understand why some people prefer the shorthand method.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,523,2018-06-05T19:44:25Z,2018-06-05T20:51:07Z,2018-06-05T20:53:46Z,MERGED,True,65,25,1,https://github.com/mjtrangoni,travis.yml: add gcc-8 and clang-5.0,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/523,https://github.com/mjtrangoni,1,https://github.com/NagiosEnterprises/nagioscore/pull/523,"Hi @hedenface,
I added gcc-8.x and clang-5.0 to TravisCI, sorted the package list, and defined CXX explicitly.
I tried clang-3.9 too, but it does not want to compile. You can also that a look at the gcc-8 and clang-5.0 new warnings.
Thanks!","Hi @hedenface,
I added gcc-8.x and clang-5.0 to TravisCI, sorted the package list, and defined CXX explicitly.
I tried clang-3.9 too, but it does not want to compile. You can also that a look at the gcc-8 and clang-5.0 new warnings.
Thanks!",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,523,2018-06-05T19:44:25Z,2018-06-05T20:51:07Z,2018-06-05T20:53:46Z,MERGED,True,65,25,1,https://github.com/mjtrangoni,travis.yml: add gcc-8 and clang-5.0,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/523,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/523#issuecomment-394856480,"Hi @hedenface,
I added gcc-8.x and clang-5.0 to TravisCI, sorted the package list, and defined CXX explicitly.
I tried clang-3.9 too, but it does not want to compile. You can also that a look at the gcc-8 and clang-5.0 new warnings.
Thanks!",Thank you.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,524,2018-06-06T05:44:32Z,2018-06-06T18:42:16Z,2018-06-06T18:42:16Z,MERGED,True,1,1,1,https://github.com/mjtrangoni,travis.yml: fix yaml indentation issue,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/524,https://github.com/mjtrangoni,1,https://github.com/NagiosEnterprises/nagioscore/pull/524,"HI @hedenface,
Sorry, I did a small indentation mistake yesterday, but this is working now!
See the warnings by gcc-8, and clang-5.0.","HI @hedenface,
Sorry, I did a small indentation mistake yesterday, but this is working now!
See the warnings by gcc-8, and clang-5.0.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,526,2018-06-06T16:38:26Z,2018-06-06T17:41:27Z,2018-06-06T17:41:27Z,MERGED,True,57,46,5,https://github.com/knweiss,Various fixes and cleanups,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/526,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/526,"Check out the individual commit msgs for details.
Please review. Warning: This is only compile-tested.
Feel free to cherry-pick.","Check out the individual commit msgs for details.
Please review. Warning: This is only compile-tested.
Feel free to cherry-pick.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,526,2018-06-06T16:38:26Z,2018-06-06T17:41:27Z,2018-06-06T17:41:27Z,MERGED,True,57,46,5,https://github.com/knweiss,Various fixes and cleanups,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/526,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/526#issuecomment-395142363,"Check out the individual commit msgs for details.
Please review. Warning: This is only compile-tested.
Feel free to cherry-pick.","As reviewing, I'll be leaving notes here.
What was the memory leak from the error_string in cgi/cmds.c. Am I missing some return before it's freed that stops it from happening? Is there some way I can recreate the leak?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,526,2018-06-06T16:38:26Z,2018-06-06T17:41:27Z,2018-06-06T17:41:27Z,MERGED,True,57,46,5,https://github.com/knweiss,Various fixes and cleanups,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/526,https://github.com/hedenface,3,https://github.com/NagiosEnterprises/nagioscore/pull/526#issuecomment-395143067,"Check out the individual commit msgs for details.
Please review. Warning: This is only compile-tested.
Feel free to cherry-pick.",The change in command.c for moving 'finding the object sooner' will cause a memory leak by placing it in that order. Additional memory must be freed in the return ERROR blocks.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,526,2018-06-06T16:38:26Z,2018-06-06T17:41:27Z,2018-06-06T17:41:27Z,MERGED,True,57,46,5,https://github.com/knweiss,Various fixes and cleanups,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/526,https://github.com/hedenface,4,https://github.com/NagiosEnterprises/nagioscore/pull/526#issuecomment-395143210,"Check out the individual commit msgs for details.
Please review. Warning: This is only compile-tested.
Feel free to cherry-pick.",Heh. That was literally the next commit :),True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,526,2018-06-06T16:38:26Z,2018-06-06T17:41:27Z,2018-06-06T17:41:27Z,MERGED,True,57,46,5,https://github.com/knweiss,Various fixes and cleanups,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/526,https://github.com/knweiss,5,https://github.com/NagiosEnterprises/nagioscore/pull/526#issuecomment-395143722,"Check out the individual commit msgs for details.
Please review. Warning: This is only compile-tested.
Feel free to cherry-pick.","@hedenface In the original code error_string was always strdup()ed. Then, at the end of the function, there was this code using error_string:
        /* some error occurred (data was probably missing) */
        else if(error_string) {
                if(content_type == WML_CONTENT)
                        printf(""<p>%s</p>\n"", error_string);
                else {
                        printf(""<P><DIV CLASS='errorMessage'>%s</DIV></P>\n"", error_string);
                        free(error_string);
In the WML_CONTENT case there was no free(error_string).",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,526,2018-06-06T16:38:26Z,2018-06-06T17:41:27Z,2018-06-06T17:41:27Z,MERGED,True,57,46,5,https://github.com/knweiss,Various fixes and cleanups,6,[],https://github.com/NagiosEnterprises/nagioscore/pull/526,https://github.com/hedenface,6,https://github.com/NagiosEnterprises/nagioscore/pull/526#issuecomment-395152316,"Check out the individual commit msgs for details.
Please review. Warning: This is only compile-tested.
Feel free to cherry-pick.","Ah, I see. I think instead of removing all the strdups, we'll just add a free there. I'll be pulling these in shortly - still reviewing - thank you.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,527,2018-06-06T18:23:34Z,2018-06-06T18:49:42Z,2018-06-06T18:49:42Z,MERGED,True,12,13,5,https://github.com/knweiss,"Various small fixes: Typos, memory leak, logic error",3,[],https://github.com/NagiosEnterprises/nagioscore/pull/527,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/527,"Check out the individual commit msgs for details.
Please review. Warning: This is only compile-tested.
Feel free to cherry-pick.","Check out the individual commit msgs for details.
Please review. Warning: This is only compile-tested.
Feel free to cherry-pick.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,528,2018-06-06T20:35:56Z,2018-06-06T20:50:51Z,2018-06-06T20:50:51Z,MERGED,True,6,4,2,https://github.com/knweiss,Fix two error path memory leaks,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/528,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/528,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,530,2018-06-07T12:54:18Z,2018-08-08T20:31:04Z,2018-08-08T20:31:09Z,MERGED,True,27,0,5,https://github.com/xavierba,Support for customizing side.php with quicklinks,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/530,https://github.com/xavierba,1,https://github.com/NagiosEnterprises/nagioscore/pull/530,This PR implements the change suggested by my colleague in #493.,This PR implements the change suggested by my colleague in #493.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,530,2018-06-07T12:54:18Z,2018-08-08T20:31:04Z,2018-08-08T20:31:09Z,MERGED,True,27,0,5,https://github.com/xavierba,Support for customizing side.php with quicklinks,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/530,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/530#issuecomment-395569894,This PR implements the change suggested by my colleague in #493.,Just a Q before merging. Why would you want to overwrite the sidelinks.php without making a backup of it? Isn't this meant to be upgrade safe?,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,530,2018-06-07T12:54:18Z,2018-08-08T20:31:04Z,2018-08-08T20:31:09Z,MERGED,True,27,0,5,https://github.com/xavierba,Support for customizing side.php with quicklinks,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/530,https://github.com/xavierba,3,https://github.com/NagiosEnterprises/nagioscore/pull/530#issuecomment-395680826,This PR implements the change suggested by my colleague in #493.,"As the sitelinks.php file is effectively located in $CFGDIR and just symlinked from $HTMLDIR, it is safe from upgrade for people using a distribution packaged Nagios, as it will be marked as a config file and thus preserved upon upgrade. However, you are indeed right, it is not safe from a source distribution standpoint. I'll look at how to fix that, I would expect to find the same kind of security belt for config.inc.php.
Speaking of config.inc.php, would you accept a patch that does the same symlink from $HTMLDIR to $CFGDIR trick for it, as I did for quicklinks.php ?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,530,2018-06-07T12:54:18Z,2018-08-08T20:31:04Z,2018-08-08T20:31:09Z,MERGED,True,27,0,5,https://github.com/xavierba,Support for customizing side.php with quicklinks,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/530,https://github.com/hedenface,4,https://github.com/NagiosEnterprises/nagioscore/pull/530#issuecomment-395692293,This PR implements the change suggested by my colleague in #493.,"I think in order to preserve the quicklinks.php between upgrades it should likely be moved to it's own install-quicklinks make target. And then that target should be included in all the places where the lists appear (in plain make for example, and after a normal make install happens). The target should be linked in make fullinstall as well.
I don't think a change like that for config.inc.php should happen in between major versions, personally. Not that I haven't pushed breaking changes, but I can see that being a recipe for disaster when someone goes to upgrade from 4.3 to 4.4.
You're welcome to make that change against the nv5dev branch, however.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,530,2018-06-07T12:54:18Z,2018-08-08T20:31:04Z,2018-08-08T20:31:09Z,MERGED,True,27,0,5,https://github.com/xavierba,Support for customizing side.php with quicklinks,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/530,https://github.com/xavierba,5,https://github.com/NagiosEnterprises/nagioscore/pull/530#issuecomment-409224557,This PR implements the change suggested by my colleague in #493.,Would this additional commit be enough ?,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,530,2018-06-07T12:54:18Z,2018-08-08T20:31:04Z,2018-08-08T20:31:09Z,MERGED,True,27,0,5,https://github.com/xavierba,Support for customizing side.php with quicklinks,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/530,https://github.com/hedenface,6,https://github.com/NagiosEnterprises/nagioscore/pull/530#issuecomment-411124315,This PR implements the change suggested by my colleague in #493.,Yes that should be fine. I'm going to add it to a 4.5 branch.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,530,2018-06-07T12:54:18Z,2018-08-08T20:31:04Z,2018-08-08T20:31:09Z,MERGED,True,27,0,5,https://github.com/xavierba,Support for customizing side.php with quicklinks,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/530,https://github.com/hedenface,7,https://github.com/NagiosEnterprises/nagioscore/pull/530#issuecomment-411125113,This PR implements the change suggested by my colleague in #493.,"Can you change the branch to nagios-4.5.0 and add your changes to the enhancements list for 4.5.0 in the changelog, and add yourself to the thanks file as well.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,530,2018-06-07T12:54:18Z,2018-08-08T20:31:04Z,2018-08-08T20:31:09Z,MERGED,True,27,0,5,https://github.com/xavierba,Support for customizing side.php with quicklinks,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/530,https://github.com/xavierba,8,https://github.com/NagiosEnterprises/nagioscore/pull/530#issuecomment-411335593,This PR implements the change suggested by my colleague in #493.,Rebased to nagios-4.5.0,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,530,2018-06-07T12:54:18Z,2018-08-08T20:31:04Z,2018-08-08T20:31:09Z,MERGED,True,27,0,5,https://github.com/xavierba,Support for customizing side.php with quicklinks,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/530,https://github.com/hedenface,9,https://github.com/NagiosEnterprises/nagioscore/pull/530#issuecomment-411542149,This PR implements the change suggested by my colleague in #493.,Thanks!,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,531,2018-06-07T16:43:20Z,2018-06-07T16:43:41Z,2018-06-07T16:43:41Z,CLOSED,False,1,1,1,https://github.com/EljieGoc-ong,test,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/531,https://github.com/EljieGoc-ong,1,https://github.com/NagiosEnterprises/nagioscore/pull/531,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,532,2018-06-07T21:10:01Z,2018-06-08T00:02:52Z,2018-06-08T00:02:52Z,MERGED,True,23,1,2,https://github.com/mjtrangoni,Add clang-6.0 and fix a trivial warning,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/532,https://github.com/mjtrangoni,1,https://github.com/NagiosEnterprises/nagioscore/pull/532,"Hi @hedenface,
I just figured out how to get clang-6.0 working.
OTOH, this function seems to be unused,
checks.c:1084:20: warning: unused function 'service_propagate_dependency_checks' 

Thanks!","Hi @hedenface,
I just figured out how to get clang-6.0 working.
OTOH, this function seems to be unused,
checks.c:1084:20: warning: unused function 'service_propagate_dependency_checks' 

Thanks!",True,{'THUMBS_UP': ['https://github.com/knweiss']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,533,2018-06-08T20:13:13Z,2018-06-19T23:56:16Z,2018-06-19T23:56:16Z,MERGED,True,7,3,1,https://github.com/knweiss,Makefile.in: Mention the 'test' target,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/533,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/533,Users should know that there's a test suite.,Users should know that there's a test suite.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,536,2018-06-20T10:25:21Z,2018-06-20T10:29:32Z,2018-06-20T10:29:32Z,MERGED,True,1,1,1,https://github.com/knweiss,convertcfg.c: Add missing printf format tag,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/536,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/536,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,540,2018-06-22T07:56:55Z,2018-06-22T11:08:14Z,2018-06-22T11:08:14Z,MERGED,True,7,10,1,https://github.com/knweiss,nagios.spec: Fix the remaining rpmlint warnings,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/540,https://github.com/knweiss,1,https://github.com/NagiosEnterprises/nagioscore/pull/540,"This commit fixes:
nagios.spec:90: W: non-standard-group Development/Utils
nagios.spec:99: W: setup-not-quiet
nagios.spec:208: W: deprecated-grep [u'egrep']
nagios.spec:209: W: deprecated-grep [u'egrep']
nagios.spec:249: W: macro-in-comment %logmsg
nagios.spec:250: W: macro-in-comment %logmsg
nagios.spec: W: invalid-url Source0: http://dl.sf.net/nagios/nagios-4.4.1.tar.gz timed out
0 packages and 1 specfiles checked; 0 errors, 7 warnings.","This commit fixes:
nagios.spec:90: W: non-standard-group Development/Utils
nagios.spec:99: W: setup-not-quiet
nagios.spec:208: W: deprecated-grep [u'egrep']
nagios.spec:209: W: deprecated-grep [u'egrep']
nagios.spec:249: W: macro-in-comment %logmsg
nagios.spec:250: W: macro-in-comment %logmsg
nagios.spec: W: invalid-url Source0: http://dl.sf.net/nagios/nagios-4.4.1.tar.gz timed out
0 packages and 1 specfiles checked; 0 errors, 7 warnings.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,553,2018-07-13T21:10:32Z,2018-07-19T19:06:15Z,2018-07-19T19:06:15Z,MERGED,True,10,3,2,https://github.com/tmcnag,Fix for CVE-2018-13441 null pointer dereference,5,[],https://github.com/NagiosEnterprises/nagioscore/pull/553,https://github.com/tmcnag,1,https://github.com/NagiosEnterprises/nagioscore/pull/553,"Explicit pointer comparison to NULL, default to ""help"" output if so","Explicit pointer comparison to NULL, default to ""help"" output if so",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,554,2018-07-17T07:23:51Z,2018-07-17T13:12:09Z,2018-07-17T13:12:50Z,MERGED,True,18,8,2,https://github.com/c-jung,fix for duplicated flapping comments across Nagios reloads,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/554,https://github.com/c-jung,1,https://github.com/NagiosEnterprises/nagioscore/pull/554,"Version 4.4.1 duplicates the flapping comments when reloading the Nagios process. This happens because the main process stores the current state to the retention data file, reinitializes by reading the previously safed retention data and then recheck the flapping state of all hosts and services (this is only done with large installation tweaks disabled).
Rechecking for flapping hosts and services leads to an new flapping comment. This overwrites the flapping_comment_id of the host or service object and breaks the link between the object and its comment.
The old flapping comment is not deleted.
The changes of this pull request store the flapping_comment_id to the retention data file (to keep the link between the object and the flapping comment) and prevent the creation of a new flapping comment if there is already one.","Version 4.4.1 duplicates the flapping comments when reloading the Nagios process. This happens because the main process stores the current state to the retention data file, reinitializes by reading the previously safed retention data and then recheck the flapping state of all hosts and services (this is only done with large installation tweaks disabled).
Rechecking for flapping hosts and services leads to an new flapping comment. This overwrites the flapping_comment_id of the host or service object and breaks the link between the object and its comment.
The old flapping comment is not deleted.
The changes of this pull request store the flapping_comment_id to the retention data file (to keep the link between the object and the flapping comment) and prevent the creation of a new flapping comment if there is already one.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,554,2018-07-17T07:23:51Z,2018-07-17T13:12:09Z,2018-07-17T13:12:50Z,MERGED,True,18,8,2,https://github.com/c-jung,fix for duplicated flapping comments across Nagios reloads,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/554,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/554#issuecomment-405544607,"Version 4.4.1 duplicates the flapping comments when reloading the Nagios process. This happens because the main process stores the current state to the retention data file, reinitializes by reading the previously safed retention data and then recheck the flapping state of all hosts and services (this is only done with large installation tweaks disabled).
Rechecking for flapping hosts and services leads to an new flapping comment. This overwrites the flapping_comment_id of the host or service object and breaks the link between the object and its comment.
The old flapping comment is not deleted.
The changes of this pull request store the flapping_comment_id to the retention data file (to keep the link between the object and the flapping comment) and prevent the creation of a new flapping comment if there is already one.",I believe this has already been fixed in maint. Can you verify?,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,554,2018-07-17T07:23:51Z,2018-07-17T13:12:09Z,2018-07-17T13:12:50Z,MERGED,True,18,8,2,https://github.com/c-jung,fix for duplicated flapping comments across Nagios reloads,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/554,https://github.com/c-jung,3,https://github.com/NagiosEnterprises/nagioscore/pull/554#issuecomment-405549725,"Version 4.4.1 duplicates the flapping comments when reloading the Nagios process. This happens because the main process stores the current state to the retention data file, reinitializes by reading the previously safed retention data and then recheck the flapping state of all hosts and services (this is only done with large installation tweaks disabled).
Rechecking for flapping hosts and services leads to an new flapping comment. This overwrites the flapping_comment_id of the host or service object and breaks the link between the object and its comment.
The old flapping comment is not deleted.
The changes of this pull request store the flapping_comment_id to the retention data file (to keep the link between the object and the flapping comment) and prevent the creation of a new flapping comment if there is already one.","No - I've already applied the patch of base/nagios.c but it does not fix this issue.
The root cause of the flapping comment error is that Nagios re-runs the flap detection code which overwrites the stored comment IDs but does not delete the stored comments. Beside this Nagios does not store the flapping_comment_id in the retention data. Without them it can not remove the existing comments.
Another solution would be to filter out the flapping comments when writing the retention data. But I do not know whether this cause other implications... I suppose that the large installation tweaks would suffer a bit.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,554,2018-07-17T07:23:51Z,2018-07-17T13:12:09Z,2018-07-17T13:12:50Z,MERGED,True,18,8,2,https://github.com/c-jung,fix for duplicated flapping comments across Nagios reloads,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/554,https://github.com/hedenface,4,https://github.com/NagiosEnterprises/nagioscore/pull/554#issuecomment-405552800,"Version 4.4.1 duplicates the flapping comments when reloading the Nagios process. This happens because the main process stores the current state to the retention data file, reinitializes by reading the previously safed retention data and then recheck the flapping state of all hosts and services (this is only done with large installation tweaks disabled).
Rechecking for flapping hosts and services leads to an new flapping comment. This overwrites the flapping_comment_id of the host or service object and breaks the link between the object and its comment.
The old flapping comment is not deleted.
The changes of this pull request store the flapping_comment_id to the retention data file (to keep the link between the object and the flapping comment) and prevent the creation of a new flapping comment if there is already one.","Okay. Thank you, then.
Will you change the base branch to maint, please?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,554,2018-07-17T07:23:51Z,2018-07-17T13:12:09Z,2018-07-17T13:12:50Z,MERGED,True,18,8,2,https://github.com/c-jung,fix for duplicated flapping comments across Nagios reloads,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/554,https://github.com/c-jung,5,https://github.com/NagiosEnterprises/nagioscore/pull/554#issuecomment-405555191,"Version 4.4.1 duplicates the flapping comments when reloading the Nagios process. This happens because the main process stores the current state to the retention data file, reinitializes by reading the previously safed retention data and then recheck the flapping state of all hosts and services (this is only done with large installation tweaks disabled).
Rechecking for flapping hosts and services leads to an new flapping comment. This overwrites the flapping_comment_id of the host or service object and breaks the link between the object and its comment.
The old flapping comment is not deleted.
The changes of this pull request store the flapping_comment_id to the retention data file (to keep the link between the object and the flapping comment) and prevent the creation of a new flapping comment if there is already one.",I've changed the base branch of this pull request to maint.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,554,2018-07-17T07:23:51Z,2018-07-17T13:12:09Z,2018-07-17T13:12:50Z,MERGED,True,18,8,2,https://github.com/c-jung,fix for duplicated flapping comments across Nagios reloads,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/554,https://github.com/hedenface,6,https://github.com/NagiosEnterprises/nagioscore/pull/554#issuecomment-405576732,"Version 4.4.1 duplicates the flapping comments when reloading the Nagios process. This happens because the main process stores the current state to the retention data file, reinitializes by reading the previously safed retention data and then recheck the flapping state of all hosts and services (this is only done with large installation tweaks disabled).
Rechecking for flapping hosts and services leads to an new flapping comment. This overwrites the flapping_comment_id of the host or service object and breaks the link between the object and its comment.
The old flapping comment is not deleted.
The changes of this pull request store the flapping_comment_id to the retention data file (to keep the link between the object and the flapping comment) and prevent the creation of a new flapping comment if there is already one.",Can you add an additional PR adding this to the Changelog for 4.4.2 and yourself to the THANKS file?,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,556,2018-07-18T07:50:23Z,2018-07-18T14:03:11Z,2018-07-18T14:03:11Z,MERGED,True,2,0,2,https://github.com/c-jung,added flapping comment duplication fix to Changelog,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/556,https://github.com/c-jung,1,https://github.com/NagiosEnterprises/nagioscore/pull/556,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,559,2018-07-22T12:47:05Z,2018-07-22T13:19:58Z,2018-07-22T13:25:38Z,CLOSED,False,3,2,2,https://github.com/ccztux,Fix for issue: NagiosEnterprises/nagioscore/558,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/559,https://github.com/ccztux,1,https://github.com/NagiosEnterprises/nagioscore/pull/559,This commit fixes the syntax error issue.,This commit fixes the syntax error issue.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,559,2018-07-22T12:47:05Z,2018-07-22T13:19:58Z,2018-07-22T13:25:38Z,CLOSED,False,3,2,2,https://github.com/ccztux,Fix for issue: NagiosEnterprises/nagioscore/558,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/559,https://github.com/ccztux,2,https://github.com/NagiosEnterprises/nagioscore/pull/559#issuecomment-406866104,This commit fixes the syntax error issue.,"Sorry, I have not realized, that the maint branch will be used again. I will make a new pull request against the maint branch.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,559,2018-07-22T12:47:05Z,2018-07-22T13:19:58Z,2018-07-22T13:25:38Z,CLOSED,False,3,2,2,https://github.com/ccztux,Fix for issue: NagiosEnterprises/nagioscore/558,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/559,https://github.com/ccztux,3,https://github.com/NagiosEnterprises/nagioscore/pull/559#issuecomment-406866483,This commit fixes the syntax error issue.,New pull request against maint branch: /pull/560.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,560,2018-07-22T13:23:37Z,2018-07-25T06:56:11Z,2018-07-25T06:56:11Z,CLOSED,False,12,3,3,https://github.com/ccztux,Fix for issue: NagiosEnterprises/nagioscore/558,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/560,https://github.com/ccztux,1,https://github.com/NagiosEnterprises/nagioscore/pull/560,This commit fixes the syntax error issue #558.,This commit fixes the syntax error issue #558.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,560,2018-07-22T13:23:37Z,2018-07-25T06:56:11Z,2018-07-25T06:56:11Z,CLOSED,False,12,3,3,https://github.com/ccztux,Fix for issue: NagiosEnterprises/nagioscore/558,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/560,https://github.com/ccztux,2,https://github.com/NagiosEnterprises/nagioscore/pull/560#issuecomment-407653539,This commit fixes the syntax error issue #558.,"I'm sorry, my mistake. I will make separate pull-requests for each issue.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,562,2018-07-25T07:05:31Z,2018-07-25T07:22:43Z,2018-07-25T07:22:43Z,CLOSED,False,3,2,2,https://github.com/ccztux,Fix for issue: NagiosEnterprises/nagioscore/558,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/562,https://github.com/ccztux,1,https://github.com/NagiosEnterprises/nagioscore/pull/562,This commit fixes the syntax error issue #558.,This commit fixes the syntax error issue #558.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,563,2018-07-25T07:13:53Z,2018-07-25T07:22:29Z,2018-07-25T07:22:29Z,CLOSED,False,12,3,3,https://github.com/ccztux,Fix for issue: NagiosEnterprises/nagioscore/548,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/563,https://github.com/ccztux,1,https://github.com/NagiosEnterprises/nagioscore/pull/563,This commit fixes the syntax error issue #548.,This commit fixes the syntax error issue #548.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,564,2018-07-25T07:32:16Z,2018-08-07T18:59:04Z,2018-08-19T17:50:42Z,CLOSED,False,9,1,2,https://github.com/ccztux,Fix for issue: NagiosEnterprises/nagioscore#548,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/564,https://github.com/ccztux,1,https://github.com/NagiosEnterprises/nagioscore/pull/564,This commit fixes the syntax error issue #548.,This commit fixes the syntax error issue #548.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,564,2018-07-25T07:32:16Z,2018-08-07T18:59:04Z,2018-08-19T17:50:42Z,CLOSED,False,9,1,2,https://github.com/ccztux,Fix for issue: NagiosEnterprises/nagioscore#548,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/564,https://github.com/VMike1,2,https://github.com/NagiosEnterprises/nagioscore/pull/564#issuecomment-411059771,This commit fixes the syntax error issue #548.,The fix breaks 'Service status totals' function.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,565,2018-07-25T07:33:10Z,2018-07-26T22:04:18Z,2018-08-19T17:50:45Z,MERGED,True,3,2,2,https://github.com/ccztux,Fix for issue: NagiosEnterprises/nagioscore#558,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/565,https://github.com/ccztux,1,https://github.com/NagiosEnterprises/nagioscore/pull/565,This commit fixes the syntax error issue #558.,This commit fixes the syntax error issue #558.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,565,2018-07-25T07:33:10Z,2018-07-26T22:04:18Z,2018-08-19T17:50:45Z,MERGED,True,3,2,2,https://github.com/ccztux,Fix for issue: NagiosEnterprises/nagioscore#558,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/565,https://github.com/jomann09,2,https://github.com/NagiosEnterprises/nagioscore/pull/565#issuecomment-408249446,This commit fixes the syntax error issue #558.,Merging this for 4.4.2 - typo fix.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,567,2018-07-26T05:53:22Z,2018-08-07T16:50:28Z,2018-08-07T16:50:28Z,CLOSED,False,5122,2981,144,https://github.com/Yangxing1995,test,202,[],https://github.com/NagiosEnterprises/nagioscore/pull/567,https://github.com/Yangxing1995,1,https://github.com/NagiosEnterprises/nagioscore/pull/567,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,567,2018-07-26T05:53:22Z,2018-08-07T16:50:28Z,2018-08-07T16:50:28Z,CLOSED,False,5122,2981,144,https://github.com/Yangxing1995,test,202,[],https://github.com/NagiosEnterprises/nagioscore/pull/567,https://github.com/hedenface,2,https://github.com/NagiosEnterprises/nagioscore/pull/567#issuecomment-408156980,,What is this?,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,586,2018-10-17T14:12:17Z,2019-01-02T20:56:24Z,2019-01-02T20:56:27Z,MERGED,True,14,14,8,https://github.com/lawsontyler,./configure --with-cgibindir and --width-webdir do nothing.,1,['Bug'],https://github.com/NagiosEnterprises/nagioscore/pull/586,https://github.com/lawsontyler,1,https://github.com/NagiosEnterprises/nagioscore/pull/586,"Update Makefile.in files so that --with-cgibindir and --with-webdir produce the desired effect.
#585","Update Makefile.in files so that --with-cgibindir and --with-webdir produce the desired effect.
#585",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,586,2018-10-17T14:12:17Z,2019-01-02T20:56:24Z,2019-01-02T20:56:27Z,MERGED,True,14,14,8,https://github.com/lawsontyler,./configure --with-cgibindir and --width-webdir do nothing.,1,['Bug'],https://github.com/NagiosEnterprises/nagioscore/pull/586,https://github.com/jomann09,2,https://github.com/NagiosEnterprises/nagioscore/pull/586#issuecomment-450982457,"Update Makefile.in files so that --with-cgibindir and --with-webdir produce the desired effect.
#585","Merging this into maint, looks good.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,587,2018-10-27T13:23:19Z,2019-01-02T01:57:52Z,2019-01-02T01:58:03Z,MERGED,True,6,0,3,https://github.com/garethrandall,Avoid a make error when building on the aarch64 architecture.,2,['Bug'],https://github.com/NagiosEnterprises/nagioscore/pull/587,https://github.com/garethrandall,1,https://github.com/NagiosEnterprises/nagioscore/pull/587,"This resolves an error triggered by running 'make clean' as part of the build of nagioscore, when building on the aarch64 architecture.","This resolves an error triggered by running 'make clean' as part of the build of nagioscore, when building on the aarch64 architecture.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,596,2018-11-28T20:09:38Z,2019-01-02T02:04:41Z,2019-01-02T02:04:41Z,MERGED,True,1,1,1,https://github.com/jmark99,Add missing semi-colon to &nbsp element.,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/596,https://github.com/jmark99,1,https://github.com/NagiosEnterprises/nagioscore/pull/596,"The Critical status message found in the Service Status Summary column
of the Status Summary For all Service Groups is malformed. An &nbsp
element within cgi/status.c is missing the ending semi-colon causing the display to print
'&nbsp:' instead of ' :'.
This behaviour is exhibited on Nagios 4.0.8 with Linux 2.6.32-696.23.1.el6.x86_64 CentOS6.","The Critical status message found in the Service Status Summary column
of the Status Summary For all Service Groups is malformed. An &nbsp
element within cgi/status.c is missing the ending semi-colon causing the display to print
'&nbsp:' instead of ' :'.
This behaviour is exhibited on Nagios 4.0.8 with Linux 2.6.32-696.23.1.el6.x86_64 CentOS6.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,606,2019-01-07T07:11:49Z,2019-01-07T07:12:12Z,2019-01-07T07:13:23Z,MERGED,True,176,95,21,https://github.com/jomann09,Merge maint into master for 4.4.3rc1,35,[],https://github.com/NagiosEnterprises/nagioscore/pull/606,https://github.com/jomann09,1,https://github.com/NagiosEnterprises/nagioscore/pull/606,,,True,{'THUMBS_UP': ['https://github.com/willemdh']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,609,2019-01-11T18:59:55Z,2019-01-11T19:00:06Z,2019-01-11T19:00:06Z,MERGED,True,1,1,1,https://github.com/scottwilkerson,Update status.c,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/609,https://github.com/scottwilkerson,1,https://github.com/NagiosEnterprises/nagioscore/pull/609,This was not supposed to have a colon.,This was not supposed to have a colon.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,610,2019-01-15T10:50:24Z,2019-01-21T22:48:01Z,2019-01-21T22:48:01Z,MERGED,True,9,1,1,https://github.com/Dzejrou,Prevent log rotation to be repeatedly scheduled to the same time on a DST change.,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/610,https://github.com/Dzejrou,1,https://github.com/NagiosEnterprises/nagioscore/pull/610,"Several states in Brazil have a DST change on 4th of November at midnight. This causes nagios to schedule log rotations to 11pm repeatedly until the next day. This is caused by the following logic:
    1) Get current UNIX time.
    2) Convert it to local time.
    3) Reset seconds and minutes and store the DST flag.
    4) If rotation type is LOG_ROTATION_DAILY:
            5) Increment day.
            6) Reset hour to 0.
            7) Convert localtime to UNIX time.
    8) If DST changed from 0 to 1:
            9) Subtract one hour.

In states that have the DST change on midnight (I used Sao Paulo for my testing), the day before the DST change occurs:
    5) Increment day to 4.
    6) Reset hour to 0.
    8) Evaluates to true, because 'on midnight' it is DST.
    9) Subtract hour, making the time 3rd of November, 11pm.

This means that the rotation will hapen on 3rd of November once at midnight (proper time) and then again at 11pm. The next rotation scheduling will do the following:
    5) Increment day to 4.
    6) Reset hour to 0 (from 23).
    8) Again evaluates to true.
    9) Subtract hour, again making it 11pm.

This will then repeat until it is the next day in local time. The reason for this problem is, that if we add one second to 23:59:59, we get 01:00:00 of the following day, so the hour does not really exist (i.e.
the hour we try to subtract). This commit catches this situation and does not subtract the one hour in such cases.","Several states in Brazil have a DST change on 4th of November at midnight. This causes nagios to schedule log rotations to 11pm repeatedly until the next day. This is caused by the following logic:
    1) Get current UNIX time.
    2) Convert it to local time.
    3) Reset seconds and minutes and store the DST flag.
    4) If rotation type is LOG_ROTATION_DAILY:
            5) Increment day.
            6) Reset hour to 0.
            7) Convert localtime to UNIX time.
    8) If DST changed from 0 to 1:
            9) Subtract one hour.

In states that have the DST change on midnight (I used Sao Paulo for my testing), the day before the DST change occurs:
    5) Increment day to 4.
    6) Reset hour to 0.
    8) Evaluates to true, because 'on midnight' it is DST.
    9) Subtract hour, making the time 3rd of November, 11pm.

This means that the rotation will hapen on 3rd of November once at midnight (proper time) and then again at 11pm. The next rotation scheduling will do the following:
    5) Increment day to 4.
    6) Reset hour to 0 (from 23).
    8) Again evaluates to true.
    9) Subtract hour, again making it 11pm.

This will then repeat until it is the next day in local time. The reason for this problem is, that if we add one second to 23:59:59, we get 01:00:00 of the following day, so the hour does not really exist (i.e.
the hour we try to subtract). This commit catches this situation and does not subtract the one hour in such cases.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,610,2019-01-15T10:50:24Z,2019-01-21T22:48:01Z,2019-01-21T22:48:01Z,MERGED,True,9,1,1,https://github.com/Dzejrou,Prevent log rotation to be repeatedly scheduled to the same time on a DST change.,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/610,https://github.com/jomann09,2,https://github.com/NagiosEnterprises/nagioscore/pull/610#issuecomment-454417399,"Several states in Brazil have a DST change on 4th of November at midnight. This causes nagios to schedule log rotations to 11pm repeatedly until the next day. This is caused by the following logic:
    1) Get current UNIX time.
    2) Convert it to local time.
    3) Reset seconds and minutes and store the DST flag.
    4) If rotation type is LOG_ROTATION_DAILY:
            5) Increment day.
            6) Reset hour to 0.
            7) Convert localtime to UNIX time.
    8) If DST changed from 0 to 1:
            9) Subtract one hour.

In states that have the DST change on midnight (I used Sao Paulo for my testing), the day before the DST change occurs:
    5) Increment day to 4.
    6) Reset hour to 0.
    8) Evaluates to true, because 'on midnight' it is DST.
    9) Subtract hour, making the time 3rd of November, 11pm.

This means that the rotation will hapen on 3rd of November once at midnight (proper time) and then again at 11pm. The next rotation scheduling will do the following:
    5) Increment day to 4.
    6) Reset hour to 0 (from 23).
    8) Again evaluates to true.
    9) Subtract hour, again making it 11pm.

This will then repeat until it is the next day in local time. The reason for this problem is, that if we add one second to 23:59:59, we get 01:00:00 of the following day, so the hour does not really exist (i.e.
the hour we try to subtract). This commit catches this situation and does not subtract the one hour in such cases.","Thanks for the pull request, will test this, it would end up being in 4.4.4+",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,610,2019-01-15T10:50:24Z,2019-01-21T22:48:01Z,2019-01-21T22:48:01Z,MERGED,True,9,1,1,https://github.com/Dzejrou,Prevent log rotation to be repeatedly scheduled to the same time on a DST change.,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/610,https://github.com/jomann09,3,https://github.com/NagiosEnterprises/nagioscore/pull/610#issuecomment-456217995,"Several states in Brazil have a DST change on 4th of November at midnight. This causes nagios to schedule log rotations to 11pm repeatedly until the next day. This is caused by the following logic:
    1) Get current UNIX time.
    2) Convert it to local time.
    3) Reset seconds and minutes and store the DST flag.
    4) If rotation type is LOG_ROTATION_DAILY:
            5) Increment day.
            6) Reset hour to 0.
            7) Convert localtime to UNIX time.
    8) If DST changed from 0 to 1:
            9) Subtract one hour.

In states that have the DST change on midnight (I used Sao Paulo for my testing), the day before the DST change occurs:
    5) Increment day to 4.
    6) Reset hour to 0.
    8) Evaluates to true, because 'on midnight' it is DST.
    9) Subtract hour, making the time 3rd of November, 11pm.

This means that the rotation will hapen on 3rd of November once at midnight (proper time) and then again at 11pm. The next rotation scheduling will do the following:
    5) Increment day to 4.
    6) Reset hour to 0 (from 23).
    8) Again evaluates to true.
    9) Subtract hour, again making it 11pm.

This will then repeat until it is the next day in local time. The reason for this problem is, that if we add one second to 23:59:59, we get 01:00:00 of the following day, so the hour does not really exist (i.e.
the hour we try to subtract). This commit catches this situation and does not subtract the one hour in such cases.",Merging this into maint.,True,{'HEART': ['https://github.com/Dzejrou']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,611,2019-01-15T14:49:11Z,2019-01-15T14:49:24Z,2019-01-15T14:49:36Z,MERGED,True,13,4,3,https://github.com/jomann09,Merge for 4.4.3 release,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/611,https://github.com/jomann09,1,https://github.com/NagiosEnterprises/nagioscore/pull/611,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,613,2019-01-17T14:58:33Z,2019-01-18T15:52:33Z,2019-01-18T15:52:33Z,CLOSED,False,1,1,1,https://github.com/francispujols,New Version,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/613,https://github.com/francispujols,1,https://github.com/NagiosEnterprises/nagioscore/pull/613,That was just to test pull requersts,That was just to test pull requersts,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,613,2019-01-17T14:58:33Z,2019-01-18T15:52:33Z,2019-01-18T15:52:33Z,CLOSED,False,1,1,1,https://github.com/francispujols,New Version,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/613,https://github.com/jomann09,2,https://github.com/NagiosEnterprises/nagioscore/pull/613#issuecomment-455592971,That was just to test pull requersts,Seems to have worked :) closing this!,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,614,2019-01-21T22:53:44Z,2019-01-22T00:04:26Z,2019-10-31T03:24:34Z,MERGED,True,55,21,1,https://github.com/jomann09,Fix negative numbers and wrong scheduled downtime numbers in Availability Report,5,[],https://github.com/NagiosEnterprises/nagioscore/pull/614,https://github.com/jomann09,1,https://github.com/NagiosEnterprises/nagioscore/pull/614,"This patch fixes #384.
Also fixes issues with % values not set to the proper variables.","This patch fixes #384.
Also fixes issues with % values not set to the proper variables.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,630,2019-04-08T12:28:55Z,2019-04-28T21:45:50Z,2019-04-28T21:45:51Z,MERGED,True,1,1,1,https://github.com/youam,Fix typo,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/630,https://github.com/youam,1,https://github.com/NagiosEnterprises/nagioscore/pull/630,"Tiny ""tis"" -> ""this"" typo fix","Tiny ""tis"" -> ""this"" typo fix",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,631,2019-04-10T06:33:36Z,2019-05-30T15:15:34Z,2019-05-30T15:15:34Z,MERGED,True,5,2,1,https://github.com/5h4d0ww0lf,'Checks of this host have been disabled' is triggered by passive only hosts ,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/631,https://github.com/5h4d0ww0lf,1,https://github.com/NagiosEnterprises/nagioscore/pull/631,'Checks of this host have been disabled' should be triggered only when both active and passive checks are disabled.,'Checks of this host have been disabled' should be triggered only when both active and passive checks are disabled.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,631,2019-04-10T06:33:36Z,2019-05-30T15:15:34Z,2019-05-30T15:15:34Z,MERGED,True,5,2,1,https://github.com/5h4d0ww0lf,'Checks of this host have been disabled' is triggered by passive only hosts ,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/631,https://github.com/5h4d0ww0lf,2,https://github.com/NagiosEnterprises/nagioscore/pull/631#issuecomment-481555582,'Checks of this host have been disabled' should be triggered only when both active and passive checks are disabled.,Resolves #632,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,642,2019-05-22T20:05:16Z,2019-05-29T20:41:12Z,2019-05-29T20:41:24Z,MERGED,True,5,3,1,https://github.com/sawolf,Fix #621 - Service Problem ID and Last Service Problem ID not set properly after check,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/642,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/642,"The bug mentioned in #621 was also impacting the $LASTSERVICEPROBLEMID$ macro - the value would remain at zero for the life of the nagios process, unless it was restarted, in which case both macros would be set to the 'correct' values on startup.
After the change listed here, both macros change in the same manner as the $HOSTPROBLEMID$ and $LASTHOSTPROBLEMID$ macros.
Refer to bug-621-data.pdf below for the expected vs. actual output.
Note that the plugin output shows the most recent available data, with each change occurring after plugin execution, so they should be 'off-by-1' from the STATUS column, which is the 'incoming' exit code produced by each execution of the plugin.
bug-621-data.pdf","The bug mentioned in #621 was also impacting the $LASTSERVICEPROBLEMID$ macro - the value would remain at zero for the life of the nagios process, unless it was restarted, in which case both macros would be set to the 'correct' values on startup.
After the change listed here, both macros change in the same manner as the $HOSTPROBLEMID$ and $LASTHOSTPROBLEMID$ macros.
Refer to bug-621-data.pdf below for the expected vs. actual output.
Note that the plugin output shows the most recent available data, with each change occurring after plugin execution, so they should be 'off-by-1' from the STATUS column, which is the 'incoming' exit code produced by each execution of the plugin.
bug-621-data.pdf",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,643,2019-05-23T17:44:14Z,2019-05-29T20:55:15Z,2019-05-29T20:55:26Z,MERGED,True,48,10,1,https://github.com/sawolf,Resolve #641: Make sure leading backslashes are removed when escaping semicolons,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/643,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/643,"#641
For most cases, performance impact should be minimal: added one function call per config line and one integer comparison for any config line that doesn't include escaped semicolons.
Leaving this PR open for now since I haven't profiled the change or written tests yet","#641
For most cases, performance impact should be minimal: added one function call per config line and one integer comparison for any config line that doesn't include escaped semicolons.
Leaving this PR open for now since I haven't profiled the change or written tests yet",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,644,2019-05-28T20:13:33Z,2019-05-29T20:43:19Z,2019-05-29T20:43:26Z,MERGED,True,1,1,1,https://github.com/sawolf,"Resolve #635: When theres no more to read from a socket, release it",1,[],https://github.com/NagiosEnterprises/nagioscore/pull/644,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/644,"#635
Most likely, more code can be removed here","#635
Most likely, more code can be removed here",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,644,2019-05-28T20:13:33Z,2019-05-29T20:43:19Z,2019-05-29T20:43:26Z,MERGED,True,1,1,1,https://github.com/sawolf,"Resolve #635: When theres no more to read from a socket, release it",1,[],https://github.com/NagiosEnterprises/nagioscore/pull/644,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/644#issuecomment-497101483,"#635
Most likely, more code can be removed here","Decided to forgo ""cleaning"" the function since we don't know whether some other application (NEB module) is using wproc_destroy",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,645,2019-05-29T18:02:49Z,2019-05-29T20:37:17Z,2019-05-29T20:37:17Z,MERGED,True,18,9,1,https://github.com/sawolf,"Fixed nondeterministic test, made some test_checks output clearer",1,[],https://github.com/NagiosEnterprises/nagioscore/pull/645,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/645,"This test (line ~1500 in test_checks) seemed to break ~50% of the time when run against ~8 compilers concurrently, possibly due to a race condition on the directory where data was being stored. The test has been changed so that each test will write to a different directory, so long as they call gettimeofday() on different microseconds.
EDIT: I was wrong about why this was happening. The actual issue was that the default timeout (max_check_reaper_time) wasn't getting initialized in the test code. This is fixed in the force-pushed code shown below","This test (line ~1500 in test_checks) seemed to break ~50% of the time when run against ~8 compilers concurrently, possibly due to a race condition on the directory where data was being stored. The test has been changed so that each test will write to a different directory, so long as they call gettimeofday() on different microseconds.
EDIT: I was wrong about why this was happening. The actual issue was that the default timeout (max_check_reaper_time) wasn't getting initialized in the test code. This is fixed in the force-pushed code shown below",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,646,2019-05-29T18:13:46Z,2019-05-30T17:37:34Z,2019-05-30T17:37:34Z,MERGED,True,49,8,1,https://github.com/sawolf,Resolve #633: have last_hard_state point to the previous hard state rather than the current one,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/646,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/646,#633 for context,#633 for context,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,648,2019-06-10T21:00:15Z,2019-07-19T15:38:21Z,2019-07-19T15:38:21Z,MERGED,True,5,10,3,https://github.com/sawolf,Don't roll back the clock when entering daylight saving time and scheduling log rotation,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/648,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/648,"Fixes #610, #626","Fixes #610, #626",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,649,2019-06-11T15:02:56Z,2019-07-24T17:33:08Z,2019-07-24T17:33:08Z,MERGED,True,58,18,4,https://github.com/sawolf,Fix #647 - multiple issues related to short timeperiods,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/649,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/649,"In addition to the issue found in #647, this also addresses an issue with automatic check rescheduling - checks would often be rescheduled outside of their check_period, causing the check to be skipped and rescheduled for the next period in perpetuity.","In addition to the issue found in #647, this also addresses an issue with automatic check rescheduling - checks would often be rescheduled outside of their check_period, causing the check to be skipped and rescheduled for the next period in perpetuity.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,663,2019-07-22T21:45:30Z,2019-07-24T17:34:31Z,2019-07-24T17:34:31Z,MERGED,True,16,8,1,https://github.com/sawolf,Resolve bug 625 - long plugin output is sometimes cut off,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/663,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/663,"#625
Plugin output was getting cut off when worker's SIGCHLD handler fired before iobroker had finished polling the plugin's output. When sigchld handler fires, make sure to retrieve all output.","#625
Plugin output was getting cut off when worker's SIGCHLD handler fired before iobroker had finished polling the plugin's output. When sigchld handler fires, make sure to retrieve all output.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,665,2019-07-23T20:08:25Z,2019-07-23T20:11:13Z,2019-07-23T20:11:14Z,MERGED,True,2,0,2,https://github.com/sawolf,Resolve #651. Fix current_attempt not being set for a SOFT CRITICAL service whose host is HARD DOWN,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/665,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/665,#651 for background & explanation of fix,#651 for background & explanation of fix,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,666,2019-07-23T20:37:56Z,2019-07-24T17:35:29Z,2019-07-24T17:35:29Z,MERGED,True,2,0,1,https://github.com/sawolf,Wait out any race conditions on defunct workers when restarting (#441),1,[],https://github.com/NagiosEnterprises/nagioscore/pull/666,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/666,"Forgot to PR this earlier. Resolves #441 and #620.
I don't particularly like this as a fix, but was talking to @hedenface about it some time ago and he mentioned that the race condition here was more-or-less inherent to how POSIX signals work, and that the ""right fix"" was simply waiting so that the process would have time to terminate AND send a SIGCHLD before the main thread tries to collect them (as I had already done).","Forgot to PR this earlier. Resolves #441 and #620.
I don't particularly like this as a fix, but was talking to @hedenface about it some time ago and he mentioned that the race condition here was more-or-less inherent to how POSIX signals work, and that the ""right fix"" was simply waiting so that the process would have time to terminate AND send a SIGCHLD before the main thread tries to collect them (as I had already done).",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,667,2019-07-23T20:48:06Z,2019-07-23T21:13:10Z,2019-07-23T21:13:10Z,MERGED,True,11,27,3,https://github.com/sawolf,Prefer install -s over install followed by strip (resolves #420),3,[],https://github.com/NagiosEnterprises/nagioscore/pull/667,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/667,"Resolves #420
I still need to verify that this doesn't break the major distros before merging","Resolves #420
I still need to verify that this doesn't break the major distros before merging",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,669,2019-07-24T16:06:30Z,2019-07-24T17:36:26Z,2019-07-24T17:36:27Z,MERGED,True,30,37,11,https://github.com/sawolf,Eponymousalias changes,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/669,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/669,"Resolves #590 , Resolves #591
This also changes the version number for anyone compiling from maint","Resolves #590 , Resolves #591
This also changes the version number for anyone compiling from maint",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,670,2019-07-24T21:23:55Z,2019-07-25T19:44:06Z,2019-07-25T19:44:06Z,MERGED,True,2,0,1,https://github.com/sawolf,Free the check result pointer if check is brokered and callback is overridden,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/670,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/670,Resolves #664,Resolves #664,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,671,2019-07-25T17:50:48Z,2019-07-25T19:54:59Z,2019-07-25T19:54:59Z,MERGED,True,1,1,1,https://github.com/jakgibb,Superglobal 'REMOTE_USER' susceptible to XSS,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/671,https://github.com/jakgibb,1,https://github.com/NagiosEnterprises/nagioscore/pull/671,"The $_SERVER['REMOTE_USER'] isn't sanitized prior to being echoed out which results in a XSS (though this would be difficult for an attacker to reproduce due to needing access to the users file).
To reproduce, add new user to: /usr/local/nagiosxi/etc/htpasswd.users
with username: <script>alert(document.cookie)</script> and reload the page resulting in the cookie being displayed.","The $_SERVER['REMOTE_USER'] isn't sanitized prior to being echoed out which results in a XSS (though this would be difficult for an attacker to reproduce due to needing access to the users file).
To reproduce, add new user to: /usr/local/nagiosxi/etc/htpasswd.users
with username: <script>alert(document.cookie)</script> and reload the page resulting in the cookie being displayed.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,671,2019-07-25T17:50:48Z,2019-07-25T19:54:59Z,2019-07-25T19:54:59Z,MERGED,True,1,1,1,https://github.com/jakgibb,Superglobal 'REMOTE_USER' susceptible to XSS,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/671,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/671#issuecomment-515190715,"The $_SERVER['REMOTE_USER'] isn't sanitized prior to being echoed out which results in a XSS (though this would be difficult for an attacker to reproduce due to needing access to the users file).
To reproduce, add new user to: /usr/local/nagiosxi/etc/htpasswd.users
with username: <script>alert(document.cookie)</script> and reload the page resulting in the cookie being displayed.","See #672 , same applies",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,672,2019-07-25T17:53:14Z,2019-07-25T19:52:44Z,2019-07-25T19:52:44Z,MERGED,True,1,1,1,https://github.com/jakgibb,Superglobal 'REMOTE_USER' susceptible to XSS,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/672,https://github.com/jakgibb,1,https://github.com/NagiosEnterprises/nagioscore/pull/672,"The $_SERVER['REMOTE_USER'] isn't sanitized prior to being echoed out which results in a XSS (though this would be difficult for an attacker to reproduce due to needing access to the users file).
To reproduce, add new user to: /usr/local/nagiosxi/etc/htpasswd.users
with username: <script>alert(document.cookie)</script> and reload the page resulting in the cookie being displayed.","The $_SERVER['REMOTE_USER'] isn't sanitized prior to being echoed out which results in a XSS (though this would be difficult for an attacker to reproduce due to needing access to the users file).
To reproduce, add new user to: /usr/local/nagiosxi/etc/htpasswd.users
with username: <script>alert(document.cookie)</script> and reload the page resulting in the cookie being displayed.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,672,2019-07-25T17:53:14Z,2019-07-25T19:52:44Z,2019-07-25T19:52:44Z,MERGED,True,1,1,1,https://github.com/jakgibb,Superglobal 'REMOTE_USER' susceptible to XSS,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/672,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/672#issuecomment-515189623,"The $_SERVER['REMOTE_USER'] isn't sanitized prior to being echoed out which results in a XSS (though this would be difficult for an attacker to reproduce due to needing access to the users file).
To reproduce, add new user to: /usr/local/nagiosxi/etc/htpasswd.users
with username: <script>alert(document.cookie)</script> and reload the page resulting in the cookie being displayed.","Given that only root can write to that file, I wouldn't call this a vulnerability. That said, including this code could still prevent someone from making an error like that in the future.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,680,2019-08-10T01:33:01Z,2019-08-15T16:34:51Z,2019-08-15T16:34:51Z,MERGED,True,3,1,1,https://github.com/tjyang,Bug #617 : limit make {clean|rpm} in Makefile to react to CentOS/RHEL…,5,[],https://github.com/NagiosEnterprises/nagioscore/pull/680,https://github.com/tjyang,1,https://github.com/NagiosEnterprises/nagioscore/pull/680,as title stated.,as title stated.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,680,2019-08-10T01:33:01Z,2019-08-15T16:34:51Z,2019-08-15T16:34:51Z,MERGED,True,3,1,1,https://github.com/tjyang,Bug #617 : limit make {clean|rpm} in Makefile to react to CentOS/RHEL…,5,[],https://github.com/NagiosEnterprises/nagioscore/pull/680,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/680#issuecomment-520245317,as title stated.,"Hi @tjyang,
Thanks for the PR. I'll test/review this tommorow",True,{'THUMBS_UP': ['https://github.com/tjyang']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,680,2019-08-10T01:33:01Z,2019-08-15T16:34:51Z,2019-08-15T16:34:51Z,MERGED,True,3,1,1,https://github.com/tjyang,Bug #617 : limit make {clean|rpm} in Makefile to react to CentOS/RHEL…,5,[],https://github.com/NagiosEnterprises/nagioscore/pull/680,https://github.com/sawolf,3,https://github.com/NagiosEnterprises/nagioscore/pull/680#issuecomment-520879605,as title stated.,"Okay, this mostly looks good, just one issue for me:
On your system, does rm -rf *.rpm fail if you don't match any files? On every system I've used, the output will be similar to the following:
# rm -rf *.rpm
# echo $?
0

If this happens for you as well, I'd rather keep the rpmclean command within the regular clean (maybe have clean call rpmclean). This way, make clean will return the system to the state it was in after ./configure.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,680,2019-08-10T01:33:01Z,2019-08-15T16:34:51Z,2019-08-15T16:34:51Z,MERGED,True,3,1,1,https://github.com/tjyang,Bug #617 : limit make {clean|rpm} in Makefile to react to CentOS/RHEL…,5,[],https://github.com/NagiosEnterprises/nagioscore/pull/680,https://github.com/tjyang,4,https://github.com/NagiosEnterprises/nagioscore/pull/680#issuecomment-521010402,as title stated.,"Hi @Madlohe
I removed rpmclean target in contrib/Makefile.in  to minimize the change scope.  rpm builder will need to run ""rm *.rpm"" personally.  Existing *.rpm will be overwritten when ""make rpm"" got run again. so no need to clean rpm when doing ""make rpm"" in contrib dir.
let me know if you still want to keep ""cd contrib;make rpmclean"".
May be in another PR we can explore ""make rpm"" and ""make clean"" at nagioscore level.
But I think this will cause many other changes.
[me@nagios02t nagioscore]$ make
Please supply a command line argument (i.e. 'make all').  Other targets are:
   nagios cgis contrib modules workers
   test
   install                          install-base
   install-cgis                     install-html
   install-webconf                  install-config
   install-init                     install-daemoninit
   install-commandmode              install-groups-users
   install-exfoliation              install-classicui
   install-basic                    install-unstripped
   fullinstall
   clean
[me@nagios02t nagioscore]$",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,680,2019-08-10T01:33:01Z,2019-08-15T16:34:51Z,2019-08-15T16:34:51Z,MERGED,True,3,1,1,https://github.com/tjyang,Bug #617 : limit make {clean|rpm} in Makefile to react to CentOS/RHEL…,5,[],https://github.com/NagiosEnterprises/nagioscore/pull/680,https://github.com/sawolf,5,https://github.com/NagiosEnterprises/nagioscore/pull/680#issuecomment-521697946,as title stated.,I committed the line I was concerned about. I'm just waiting on travis to verify that the build still works and then I'll merge this.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,686,2019-08-22T23:30:26Z,2019-09-05T16:37:36Z,2019-09-05T18:25:44Z,MERGED,True,2282,4,29,https://github.com/tjyang,Using EPEL Nagios spec to create RPMs for EPEL pre-release testing,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/686,https://github.com/tjyang,1,https://github.com/NagiosEnterprises/nagioscore/pull/686,"HI @Madlohe
Please review this PR.


WHAT:  I submitted a PR a while back to enable ""cd contrib;make rpm"" to create RPMs using nagios.spec file. But this is not really what I need.


WHY:
I am using RPMs in production/testing from Fedora EPEL repo. so  The changes in  this PR  is to create EPEL style RPMs  for pre-release testing.


Usage:
./configure;cd contrib
make localsrc-rpm  # change local src files and then create RPMs for testing.
make rpm # using release tarball from this github release.


Please let me know if you have concerns.","HI @Madlohe
Please review this PR.


WHAT:  I submitted a PR a while back to enable ""cd contrib;make rpm"" to create RPMs using nagios.spec file. But this is not really what I need.


WHY:
I am using RPMs in production/testing from Fedora EPEL repo. so  The changes in  this PR  is to create EPEL style RPMs  for pre-release testing.


Usage:
./configure;cd contrib
make localsrc-rpm  # change local src files and then create RPMs for testing.
make rpm # using release tarball from this github release.


Please let me know if you have concerns.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,686,2019-08-22T23:30:26Z,2019-09-05T16:37:36Z,2019-09-05T18:25:44Z,MERGED,True,2282,4,29,https://github.com/tjyang,Using EPEL Nagios spec to create RPMs for EPEL pre-release testing,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/686,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/686#issuecomment-525360689,"HI @Madlohe
Please review this PR.


WHAT:  I submitted a PR a while back to enable ""cd contrib;make rpm"" to create RPMs using nagios.spec file. But this is not really what I need.


WHY:
I am using RPMs in production/testing from Fedora EPEL repo. so  The changes in  this PR  is to create EPEL style RPMs  for pre-release testing.


Usage:
./configure;cd contrib
make localsrc-rpm  # change local src files and then create RPMs for testing.
make rpm # using release tarball from this github release.


Please let me know if you have concerns.","Hi,
Sorry for the late response, I've been ill for the past few days. I can't review this immediately, but I'll try to get to it sometime this week.",True,{'THUMBS_UP': ['https://github.com/tjyang']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,686,2019-08-22T23:30:26Z,2019-09-05T16:37:36Z,2019-09-05T18:25:44Z,MERGED,True,2282,4,29,https://github.com/tjyang,Using EPEL Nagios spec to create RPMs for EPEL pre-release testing,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/686,https://github.com/smooge,3,https://github.com/NagiosEnterprises/nagioscore/pull/686#issuecomment-525422936,"HI @Madlohe
Please review this PR.


WHAT:  I submitted a PR a while back to enable ""cd contrib;make rpm"" to create RPMs using nagios.spec file. But this is not really what I need.


WHY:
I am using RPMs in production/testing from Fedora EPEL repo. so  The changes in  this PR  is to create EPEL style RPMs  for pre-release testing.


Usage:
./configure;cd contrib
make localsrc-rpm  # change local src files and then create RPMs for testing.
make rpm # using release tarball from this github release.


Please let me know if you have concerns.","I am not part of Nagios, but I will drop whatever parts from the Fedora/EPEL rpms that get accepted upstream. Thank you for doing this.",True,{'THUMBS_UP': ['https://github.com/tjyang']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,686,2019-08-22T23:30:26Z,2019-09-05T16:37:36Z,2019-09-05T18:25:44Z,MERGED,True,2282,4,29,https://github.com/tjyang,Using EPEL Nagios spec to create RPMs for EPEL pre-release testing,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/686,https://github.com/tjyang,4,https://github.com/NagiosEnterprises/nagioscore/pull/686#issuecomment-525427050,"HI @Madlohe
Please review this PR.


WHAT:  I submitted a PR a while back to enable ""cd contrib;make rpm"" to create RPMs using nagios.spec file. But this is not really what I need.


WHY:
I am using RPMs in production/testing from Fedora EPEL repo. so  The changes in  this PR  is to create EPEL style RPMs  for pre-release testing.


Usage:
./configure;cd contrib
make localsrc-rpm  # change local src files and then create RPMs for testing.
make rpm # using release tarball from this github release.


Please let me know if you have concerns.","@smooge
Thanks for taking care of Nagios EPEL package from RH's side. Hope Nagios Inc. and RH can work together to speed up the EPEL release workflow.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,686,2019-08-22T23:30:26Z,2019-09-05T16:37:36Z,2019-09-05T18:25:44Z,MERGED,True,2282,4,29,https://github.com/tjyang,Using EPEL Nagios spec to create RPMs for EPEL pre-release testing,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/686,https://github.com/tjyang,5,https://github.com/NagiosEnterprises/nagioscore/pull/686#issuecomment-527988748,"HI @Madlohe
Please review this PR.


WHAT:  I submitted a PR a while back to enable ""cd contrib;make rpm"" to create RPMs using nagios.spec file. But this is not really what I need.


WHY:
I am using RPMs in production/testing from Fedora EPEL repo. so  The changes in  this PR  is to create EPEL style RPMs  for pre-release testing.


Usage:
./configure;cd contrib
make localsrc-rpm  # change local src files and then create RPMs for testing.
make rpm # using release tarball from this github release.


Please let me know if you have concerns.","Hi @Madlohe
Hope you recover from your illness.
Any comment on this PR?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,686,2019-08-22T23:30:26Z,2019-09-05T16:37:36Z,2019-09-05T18:25:44Z,MERGED,True,2282,4,29,https://github.com/tjyang,Using EPEL Nagios spec to create RPMs for EPEL pre-release testing,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/686,https://github.com/sawolf,6,https://github.com/NagiosEnterprises/nagioscore/pull/686#issuecomment-528003948,"HI @Madlohe
Please review this PR.


WHAT:  I submitted a PR a while back to enable ""cd contrib;make rpm"" to create RPMs using nagios.spec file. But this is not really what I need.


WHY:
I am using RPMs in production/testing from Fedora EPEL repo. so  The changes in  this PR  is to create EPEL style RPMs  for pre-release testing.


Usage:
./configure;cd contrib
make localsrc-rpm  # change local src files and then create RPMs for testing.
make rpm # using release tarball from this github release.


Please let me know if you have concerns.","I'm doing alright now, thanks. I've just been focused on another project. @hedenface said he'll do this review sometime soon.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,686,2019-08-22T23:30:26Z,2019-09-05T16:37:36Z,2019-09-05T18:25:44Z,MERGED,True,2282,4,29,https://github.com/tjyang,Using EPEL Nagios spec to create RPMs for EPEL pre-release testing,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/686,https://github.com/tjyang,7,https://github.com/NagiosEnterprises/nagioscore/pull/686#issuecomment-528513428,"HI @Madlohe
Please review this PR.


WHAT:  I submitted a PR a while back to enable ""cd contrib;make rpm"" to create RPMs using nagios.spec file. But this is not really what I need.


WHY:
I am using RPMs in production/testing from Fedora EPEL repo. so  The changes in  this PR  is to create EPEL style RPMs  for pre-release testing.


Usage:
./configure;cd contrib
make localsrc-rpm  # change local src files and then create RPMs for testing.
make rpm # using release tarball from this github release.


Please let me know if you have concerns.","@hedenface , Thanks for accepting this  PR. This will help me to get more involve in nagioscore and nagioscore EPEL rpm.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,692,2019-09-05T20:24:58Z,2019-09-19T20:57:15Z,2019-09-19T20:57:36Z,MERGED,True,26,18,2,https://github.com/tjyang,move RPM creation  notes into README file,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/692,https://github.com/tjyang,1,https://github.com/NagiosEnterprises/nagioscore/pull/692,"@hedenface , please review.
Thanks.","@hedenface , please review.
Thanks.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,692,2019-09-05T20:24:58Z,2019-09-19T20:57:15Z,2019-09-19T20:57:36Z,MERGED,True,26,18,2,https://github.com/tjyang,move RPM creation  notes into README file,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/692,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/692#issuecomment-533306588,"@hedenface , please review.
Thanks.","LGTM, thanks @tjyang!",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,693,2019-09-06T12:18:54Z,2019-09-06T14:39:06Z,2019-09-06T14:39:06Z,MERGED,True,2,2,1,https://github.com/DarkNinja77,Update nagios.cfg.in,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/693,https://github.com/DarkNinja77,1,https://github.com/NagiosEnterprises/nagioscore/pull/693,wrong config option described in comment,wrong config option described in comment,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,693,2019-09-06T12:18:54Z,2019-09-06T14:39:06Z,2019-09-06T14:39:06Z,MERGED,True,2,2,1,https://github.com/DarkNinja77,Update nagios.cfg.in,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/693,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/693#issuecomment-528881060,wrong config option described in comment,"Good catch, thank you!",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,696,2019-09-19T21:28:55Z,2019-09-25T20:56:53Z,2019-09-25T20:56:53Z,MERGED,True,13,4,2,https://github.com/sawolf,Reset serviceproblemid/lastserviceproblemid macros before notifications are sent,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/696,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/696,#688,#688,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,697,2019-09-19T21:29:15Z,2019-09-25T20:58:11Z,2019-09-25T20:58:16Z,MERGED,True,4,1,2,https://github.com/sawolf,Allow timestamps to omit periods in check reaper ,3,[],https://github.com/NagiosEnterprises/nagioscore/pull/697,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/697,#662,#662,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,711,2019-11-27T20:19:16Z,2019-12-02T17:01:34Z,2019-12-10T01:13:43Z,MERGED,True,1,1,1,https://github.com/tejr,Fix service validate max_check_attempts directive,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/711,https://github.com/tejr,1,https://github.com/NagiosEnterprises/nagioscore/pull/711,"Validating a configuration with at least one service with an invalid value for the max_check_attempts, check_interval, retry_interval, or notification_interval directives raised the following error:
Error: Invalid max_attempts, check_interval, retry_interval, or notification_interval value for service 'BAR' on host 'foo'

The name given here for max_check_attempts is given incorrectly, and could confuse users trying to fix their configurations.  This commit corrects the error message.","Validating a configuration with at least one service with an invalid value for the max_check_attempts, check_interval, retry_interval, or notification_interval directives raised the following error:
Error: Invalid max_attempts, check_interval, retry_interval, or notification_interval value for service 'BAR' on host 'foo'

The name given here for max_check_attempts is given incorrectly, and could confuse users trying to fix their configurations.  This commit corrects the error message.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,711,2019-11-27T20:19:16Z,2019-12-02T17:01:34Z,2019-12-10T01:13:43Z,MERGED,True,1,1,1,https://github.com/tejr,Fix service validate max_check_attempts directive,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/711,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/711#issuecomment-560485413,"Validating a configuration with at least one service with an invalid value for the max_check_attempts, check_interval, retry_interval, or notification_interval directives raised the following error:
Error: Invalid max_attempts, check_interval, retry_interval, or notification_interval value for service 'BAR' on host 'foo'

The name given here for max_check_attempts is given incorrectly, and could confuse users trying to fix their configurations.  This commit corrects the error message.",Thanks!,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,714,2019-12-02T14:53:55Z,2020-04-22T19:55:09Z,2020-04-22T19:55:10Z,MERGED,True,7,3,1,https://github.com/scottwilkerson,Fix bug where Map doesn't display in IE 11,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/714,https://github.com/scottwilkerson,1,https://github.com/NagiosEnterprises/nagioscore/pull/714,"IE 11 doesn't support the findIndex method
https://support.nagios.com/forum/viewtopic.php?f=7&t=56633&p=298791#p298791","IE 11 doesn't support the findIndex method
https://support.nagios.com/forum/viewtopic.php?f=7&t=56633&p=298791#p298791",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,715,2019-12-11T17:27:02Z,2020-04-24T15:59:30Z,2020-04-24T15:59:30Z,MERGED,True,1,0,1,https://github.com/tatref,Check nagios conf before reloading,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/715,https://github.com/tatref,1,https://github.com/NagiosEnterprises/nagioscore/pull/715,"See doc at https://www.freedesktop.org/software/systemd/man/systemd.service.html:
""If more than one command is specified, the commands are invoked sequentially in the order they appear in the unit file. If one of the commands fails (and is not prefixed with ""-""), other lines are not executed, and the unit is considered failed.""
This will check nagios conf before attemping a restart, it's the same as ""ExecStartPre""","See doc at https://www.freedesktop.org/software/systemd/man/systemd.service.html:
""If more than one command is specified, the commands are invoked sequentially in the order they appear in the unit file. If one of the commands fails (and is not prefixed with ""-""), other lines are not executed, and the unit is considered failed.""
This will check nagios conf before attemping a restart, it's the same as ""ExecStartPre""",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,715,2019-12-11T17:27:02Z,2020-04-24T15:59:30Z,2020-04-24T15:59:30Z,MERGED,True,1,0,1,https://github.com/tatref,Check nagios conf before reloading,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/715,https://github.com/tatref,2,https://github.com/NagiosEnterprises/nagioscore/pull/715#issuecomment-564650767,"See doc at https://www.freedesktop.org/software/systemd/man/systemd.service.html:
""If more than one command is specified, the commands are invoked sequentially in the order they appear in the unit file. If one of the commands fails (and is not prefixed with ""-""), other lines are not executed, and the unit is considered failed.""
This will check nagios conf before attemping a restart, it's the same as ""ExecStartPre""","Without this change, systemctl reload nagios.service doesn't display any error, but the service if marked as failed afterwards
● nagios.service                                              loaded failed failed    Nagios Core 4.4.5

With this change, reload now show an error, and the current nagios process stays alive:
# systemctl reload nagios
Job for nagios.service failed because the control process exited with error code. See ""systemctl status nagios.service"" and ""journalctl -xe"" for details.
# systemctl list-units | grep nagios
  nagios.service                                                                              loaded active running   Nagios Core 4.4.5

This was tested on Oracle Linux 7 (systemd-219-67.0.1) with nagios 4.4.5.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,715,2019-12-11T17:27:02Z,2020-04-24T15:59:30Z,2020-04-24T15:59:30Z,MERGED,True,1,0,1,https://github.com/tatref,Check nagios conf before reloading,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/715,https://github.com/sawolf,3,https://github.com/NagiosEnterprises/nagioscore/pull/715#issuecomment-618013050,"See doc at https://www.freedesktop.org/software/systemd/man/systemd.service.html:
""If more than one command is specified, the commands are invoked sequentially in the order they appear in the unit file. If one of the commands fails (and is not prefixed with ""-""), other lines are not executed, and the unit is considered failed.""
This will check nagios conf before attemping a restart, it's the same as ""ExecStartPre""","Hi @tatref, thanks for the contribution!
I'm a little confused by the change here, because it doesn't really look like a fix to me. It seems instead like we run the first command (ExecReload=@bindir@/nagios -v @sysconfdir@/nagios.cfg), which fails, and then the second command (ExecReload=@BIN_KILL@ -s HUP ${MAINPID}) gets ignored.
When you run reload using this patch, does the configuration change actually take effect?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,715,2019-12-11T17:27:02Z,2020-04-24T15:59:30Z,2020-04-24T15:59:30Z,MERGED,True,1,0,1,https://github.com/tatref,Check nagios conf before reloading,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/715,https://github.com/tatref,4,https://github.com/NagiosEnterprises/nagioscore/pull/715#issuecomment-618659784,"See doc at https://www.freedesktop.org/software/systemd/man/systemd.service.html:
""If more than one command is specified, the commands are invoked sequentially in the order they appear in the unit file. If one of the commands fails (and is not prefixed with ""-""), other lines are not executed, and the unit is considered failed.""
This will check nagios conf before attemping a restart, it's the same as ""ExecStartPre""","Hi,
With the patch:


if the conf is OK:
The first command is executed, and returns 0. The, the 2nd command is executed.


if the conf is NOT OK:
The first command is executed and return 1. The 2nd command is NOT executed, so the configuration stays in the last good state.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,715,2019-12-11T17:27:02Z,2020-04-24T15:59:30Z,2020-04-24T15:59:30Z,MERGED,True,1,0,1,https://github.com/tatref,Check nagios conf before reloading,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/715,https://github.com/sawolf,5,https://github.com/NagiosEnterprises/nagioscore/pull/715#issuecomment-619098712,"See doc at https://www.freedesktop.org/software/systemd/man/systemd.service.html:
""If more than one command is specified, the commands are invoked sequentially in the order they appear in the unit file. If one of the commands fails (and is not prefixed with ""-""), other lines are not executed, and the unit is considered failed.""
This will check nagios conf before attemping a restart, it's the same as ""ExecStartPre""","My mistake, thanks for clarifying. The behavior you describe matches what I'm seeing on my system.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,722,2020-01-28T22:03:30Z,2020-04-22T19:51:57Z,2020-04-22T19:51:57Z,MERGED,True,26,29,4,https://github.com/orlitzky,Fix build with -fno-common (default in gcc-10.x.),4,[],https://github.com/NagiosEnterprises/nagioscore/pull/722,https://github.com/orlitzky,1,https://github.com/NagiosEnterprises/nagioscore/pull/722,"I was stabbing in the dark here, but this passes a
./configure --enable-libtap --enable-event-broker && make all && make test

so it must be correct. That's how this works, right?","I was stabbing in the dark here, but this passes a
./configure --enable-libtap --enable-event-broker && make all && make test

so it must be correct. That's how this works, right?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,722,2020-01-28T22:03:30Z,2020-04-22T19:51:57Z,2020-04-22T19:51:57Z,MERGED,True,26,29,4,https://github.com/orlitzky,Fix build with -fno-common (default in gcc-10.x.),4,[],https://github.com/NagiosEnterprises/nagioscore/pull/722,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/722#issuecomment-579494814,"I was stabbing in the dark here, but this passes a
./configure --enable-libtap --enable-event-broker && make all && make test

so it must be correct. That's how this works, right?","Thanks for this.
I agree that this compiles, and AFAIK the extern keyword doesn't cause any (new) issues after compilation.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,724,2020-01-30T19:54:51Z,2020-04-22T19:53:55Z,2020-04-22T19:53:56Z,MERGED,True,3,2,2,https://github.com/sawolf,Resolve #723. Nagios Event Radio Dispatch should be usable if --enable-nerd is used,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/724,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/724,"Resolve #723 (iirc references don't work from PR titles)
NERD seems to be broken starting in 4.4.0, when it was moved to a ./configure option.
This commit changes the preprocessor code to check whether ENABLE_NERD has been defined
only after the #include for config.h, where the symbol would be defined.","Resolve #723 (iirc references don't work from PR titles)
NERD seems to be broken starting in 4.4.0, when it was moved to a ./configure option.
This commit changes the preprocessor code to check whether ENABLE_NERD has been defined
only after the #include for config.h, where the symbol would be defined.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,725,2020-01-31T22:30:53Z,2020-02-03T14:56:58Z,2020-03-10T21:13:43Z,CLOSED,False,32,109,2,https://github.com/iwhite-nagios,Fixed two warnings and a series of excessive if/else statements,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/725,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/725,There were two warnings in the build that could be removed with simple tweaks. There were also several clunky if/else statements condensed into a couple of ternary statements.,There were two warnings in the build that could be removed with simple tweaks. There were also several clunky if/else statements condensed into a couple of ternary statements.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,726,2020-02-03T15:10:33Z,2020-02-04T15:06:08Z,2020-02-04T15:06:08Z,MERGED,True,32,109,2,https://github.com/iwhite-nagios,Fixed two warnings and a series of excessive if/else statements,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/726,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/726,There were two warnings in the build that could be removed with simple tweaks. There were also several clunky if/else statements condensed into a couple of ternary statements.,There were two warnings in the build that could be removed with simple tweaks. There were also several clunky if/else statements condensed into a couple of ternary statements.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,726,2020-02-03T15:10:33Z,2020-02-04T15:06:08Z,2020-02-04T15:06:08Z,MERGED,True,32,109,2,https://github.com/iwhite-nagios,Fixed two warnings and a series of excessive if/else statements,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/726,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/726#issuecomment-581953058,There were two warnings in the build that could be removed with simple tweaks. There were also several clunky if/else statements condensed into a couple of ternary statements.,LGTM,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,727,2020-02-04T16:53:28Z,2020-02-04T20:27:56Z,2020-03-10T21:13:41Z,MERGED,True,50,63,3,https://github.com/iwhite-nagios,Enhancement #687: Allow Multi-line Comments,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/727,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/727,"This changeset takes the character '\n' and replaces it with ""<br>"" so the comment presents in desired format and avoids assigning new commits via the nagios command queue. Also some minor performance/semantic fixes.","This changeset takes the character '\n' and replaces it with ""<br>"" so the comment presents in desired format and avoids assigning new commits via the nagios command queue. Also some minor performance/semantic fixes.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,727,2020-02-04T16:53:28Z,2020-02-04T20:27:56Z,2020-03-10T21:13:41Z,MERGED,True,50,63,3,https://github.com/iwhite-nagios,Enhancement #687: Allow Multi-line Comments,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/727,https://github.com/iwhite-nagios,2,https://github.com/NagiosEnterprises/nagioscore/pull/727#issuecomment-582008951,"This changeset takes the character '\n' and replaces it with ""<br>"" so the comment presents in desired format and avoids assigning new commits via the nagios command queue. Also some minor performance/semantic fixes.","Here is an example of the new note display,",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,727,2020-02-04T16:53:28Z,2020-02-04T20:27:56Z,2020-03-10T21:13:41Z,MERGED,True,50,63,3,https://github.com/iwhite-nagios,Enhancement #687: Allow Multi-line Comments,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/727,https://github.com/iwhite-nagios,3,https://github.com/NagiosEnterprises/nagioscore/pull/727#issuecomment-582009835,"This changeset takes the character '\n' and replaces it with ""<br>"" so the comment presents in desired format and avoids assigning new commits via the nagios command queue. Also some minor performance/semantic fixes.","Before entering text.

After entering some text.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,727,2020-02-04T16:53:28Z,2020-02-04T20:27:56Z,2020-03-10T21:13:41Z,MERGED,True,50,63,3,https://github.com/iwhite-nagios,Enhancement #687: Allow Multi-line Comments,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/727,https://github.com/sawolf,4,https://github.com/NagiosEnterprises/nagioscore/pull/727#issuecomment-582027717,"This changeset takes the character '\n' and replaces it with ""<br>"" so the comment presents in desired format and avoids assigning new commits via the nagios command queue. Also some minor performance/semantic fixes.","Nice! I haven't run this code yet, but does this also work if you leave a comment via external command?
(documentation here and here)",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,727,2020-02-04T16:53:28Z,2020-02-04T20:27:56Z,2020-03-10T21:13:41Z,MERGED,True,50,63,3,https://github.com/iwhite-nagios,Enhancement #687: Allow Multi-line Comments,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/727,https://github.com/sawolf,5,https://github.com/NagiosEnterprises/nagioscore/pull/727#issuecomment-582034316,"This changeset takes the character '\n' and replaces it with ""<br>"" so the comment presents in desired format and avoids assigning new commits via the nagios command queue. Also some minor performance/semantic fixes.",Spoke internally with @iwhite-nagios - tags do work on the command line. Still need to verify that XSS doesn't work.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,727,2020-02-04T16:53:28Z,2020-02-04T20:27:56Z,2020-03-10T21:13:41Z,MERGED,True,50,63,3,https://github.com/iwhite-nagios,Enhancement #687: Allow Multi-line Comments,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/727,https://github.com/iwhite-nagios,6,https://github.com/NagiosEnterprises/nagioscore/pull/727#issuecomment-582079605,"This changeset takes the character '\n' and replaces it with ""<br>"" so the comment presents in desired format and avoids assigning new commits via the nagios command queue. Also some minor performance/semantic fixes.","@sawolf The command line allows for tags, including <script>, to get through, so javascript can be run on the page. We could do a check when we are displaying the message to remove tags except ""<br>"", but that would not be a part of this Enhancement. The User Interface removes all angle braces ""<>"", so tags cannot get through that endpoint.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,728,2020-02-05T17:48:14Z,2020-02-05T17:51:06Z,2020-02-05T17:51:06Z,CLOSED,False,103,0,4,https://github.com/iwhite-nagios,Docker Centos7 build,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/728,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/728,This is the first of a series of Docker builds for images to quickly pull working docker images. User needs to pull and build own plugins.,This is the first of a series of Docker builds for images to quickly pull working docker images. User needs to pull and build own plugins.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,728,2020-02-05T17:48:14Z,2020-02-05T17:51:06Z,2020-02-05T17:51:06Z,CLOSED,False,103,0,4,https://github.com/iwhite-nagios,Docker Centos7 build,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/728,https://github.com/iwhite-nagios,2,https://github.com/NagiosEnterprises/nagioscore/pull/728#issuecomment-582529204,This is the first of a series of Docker builds for images to quickly pull working docker images. User needs to pull and build own plugins.,This paves the way to automated docker builds.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,729,2020-02-05T17:51:56Z,2020-02-06T19:57:08Z,2020-02-06T19:57:08Z,MERGED,True,103,0,4,https://github.com/iwhite-nagios,Docker Centos7 build,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/729,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/729,This is the first of a series of Docker builds for images to quickly pull working docker images. User needs to pull and build own plugins.,This is the first of a series of Docker builds for images to quickly pull working docker images. User needs to pull and build own plugins.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,733,2020-02-13T23:57:30Z,2020-02-19T16:14:32Z,2020-02-19T16:14:32Z,MERGED,True,7515,7364,23,https://github.com/iwhite-nagios,#685 - Add ability to remove expiring comments via Nagios Command Pipe,24,[],https://github.com/NagiosEnterprises/nagioscore/pull/733,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/733,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,733,2020-02-13T23:57:30Z,2020-02-19T16:14:32Z,2020-02-19T16:14:32Z,MERGED,True,7515,7364,23,https://github.com/iwhite-nagios,#685 - Add ability to remove expiring comments via Nagios Command Pipe,24,[],https://github.com/NagiosEnterprises/nagioscore/pull/733,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/733#issuecomment-587052563,,"OK, you already made the changes to config.*, here are the other things I noticed

out.txt
cmd.sh
time.c
install-sh

I don't think any of those should be in the repo (though I might be wrong about the changes to install-sh)
There seems to be some debugging stuff left in. I noticed cgi/cmd.c:2015, but there might be others.
I also don't see the actual logic for comment expiration. Was that code already working and just unused?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,733,2020-02-13T23:57:30Z,2020-02-19T16:14:32Z,2020-02-19T16:14:32Z,MERGED,True,7515,7364,23,https://github.com/iwhite-nagios,#685 - Add ability to remove expiring comments via Nagios Command Pipe,24,[],https://github.com/NagiosEnterprises/nagioscore/pull/733,https://github.com/iwhite-nagios,3,https://github.com/NagiosEnterprises/nagioscore/pull/733#issuecomment-587055572,,"@sawolf The files and fprintf() have now been removed. The logic for scheduling the expiration event was already there, but int expires was always set to false and time_t expire_time was always set to (time_t)0 when invoked. Thus, common/comments.c:75 would always be passed over.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,733,2020-02-13T23:57:30Z,2020-02-19T16:14:32Z,2020-02-19T16:14:32Z,MERGED,True,7515,7364,23,https://github.com/iwhite-nagios,#685 - Add ability to remove expiring comments via Nagios Command Pipe,24,[],https://github.com/NagiosEnterprises/nagioscore/pull/733,https://github.com/sawolf,4,https://github.com/NagiosEnterprises/nagioscore/pull/733#issuecomment-587065398,,"OK, great.
One last thing: host_name, service_description, and the other strings at the top of cmd_add_comment have unlimited length. It looks like sscanf may cause a segfault if the scanned string exceeds the size of the buffer. If we need to use limited-size buffers there, I'd recommend something around 1024 bytes each for host_name_buf, service_description_buf, and user. Technically the same issue remains but other components will have some issues beyond that length.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,735,2020-02-19T11:56:04Z,2020-02-19T19:17:57Z,2020-02-19T19:18:24Z,CLOSED,False,1,0,1,https://github.com/trentasis,issue nagios.lock permission nagios 4.4.5,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/735,https://github.com/trentasis,1,https://github.com/NagiosEnterprises/nagioscore/pull/735,"Required to solve issue #732, with nagios 4.0.8 chown was in init file
not solving the issue, discarded pull request","Required to solve issue #732, with nagios 4.0.8 chown was in init file
not solving the issue, discarded pull request",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,736,2020-02-27T23:05:50Z,2020-02-28T15:48:34Z,2020-02-28T15:48:41Z,CLOSED,False,10993,10689,27,https://github.com/iwhite-nagios,Add ability to set global macros with names in the resources file #634,39,[],https://github.com/NagiosEnterprises/nagioscore/pull/736,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/736,"In the resource.cfg file the user had the option to save custom macros that were not visible to the CGI using a variable $USER$ (ex. $USER1$=... , $USER2$=...). This is cumbersome since the variable is not specific to what it represents. This change implements a dictionary which allows the user to specify a macro by calling $$ (ex. $USERNAME$=, $PASSWORD$=,...).","In the resource.cfg file the user had the option to save custom macros that were not visible to the CGI using a variable $USER$ (ex. $USER1$=... , $USER2$=...). This is cumbersome since the variable is not specific to what it represents. This change implements a dictionary which allows the user to specify a macro by calling $$ (ex. $USERNAME$=, $PASSWORD$=,...).",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,737,2020-02-28T21:00:47Z,2020-03-09T21:33:36Z,2020-03-09T21:33:37Z,MERGED,True,3595,3459,21,https://github.com/iwhite-nagios,Add ability to set global macros with names in the resources file #634,29,[],https://github.com/NagiosEnterprises/nagioscore/pull/737,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/737,"In the resource.cfg file the user had the option to save custom macros that were not visible to the CGI using a variable $USER$ (ex. $USER1$=... , $USER2$=...). This is cumbersome since the variable is not specific to what it represents. This change implements a dictionary which allows the user to specify a macro by calling $$ (ex. $USERNAME$=, $PASSWORD$=,...).
Main files to review:
base/config.c - writeDictionaryRecord() - implemented
common/macros.c - definitions & implementations of writeDictionaryRecord(), findDictionaryRecordByKey(), and hash()","In the resource.cfg file the user had the option to save custom macros that were not visible to the CGI using a variable $USER$ (ex. $USER1$=... , $USER2$=...). This is cumbersome since the variable is not specific to what it represents. This change implements a dictionary which allows the user to specify a macro by calling $$ (ex. $USERNAME$=, $PASSWORD$=,...).
Main files to review:
base/config.c - writeDictionaryRecord() - implemented
common/macros.c - definitions & implementations of writeDictionaryRecord(), findDictionaryRecordByKey(), and hash()",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,737,2020-02-28T21:00:47Z,2020-03-09T21:33:36Z,2020-03-09T21:33:37Z,MERGED,True,3595,3459,21,https://github.com/iwhite-nagios,Add ability to set global macros with names in the resources file #634,29,[],https://github.com/NagiosEnterprises/nagioscore/pull/737,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/737#issuecomment-593576829,"In the resource.cfg file the user had the option to save custom macros that were not visible to the CGI using a variable $USER$ (ex. $USER1$=... , $USER2$=...). This is cumbersome since the variable is not specific to what it represents. This change implements a dictionary which allows the user to specify a macro by calling $$ (ex. $USERNAME$=, $PASSWORD$=,...).
Main files to review:
base/config.c - writeDictionaryRecord() - implemented
common/macros.c - definitions & implementations of writeDictionaryRecord(), findDictionaryRecordByKey(), and hash()","This mostly looks good to me. A couple of things that stand out:

The dictionary + hashing functions should probably live in the lib folder, and should get compiled as part of libnagios.a
Once the functions are moved to their own files, ideally the names would be changed

At least give the functions a consistent prefix, similar to what you see in https://github.com/NagiosEnterprises/nagioscore/blob/master/lib/bitmap.c
ideally the names will also be in snake_case to stay consistent with the project",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,738,2020-02-28T23:22:23Z,,2020-03-02T19:34:48Z,OPEN,False,5675,5562,15,https://github.com/iwhite-nagios,"Issue 698: Simple trim() of Configuration Search ""Show Only"" field",26,[],https://github.com/NagiosEnterprises/nagioscore/pull/738,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/738,"This removes the spaces around the first search term. Searches in the config field do not need spaces between terms.
main file to review
cgi/config.c - just a few lines (399-410).","This removes the spaces around the first search term. Searches in the config field do not need spaces between terms.
main file to review
cgi/config.c - just a few lines (399-410).",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,738,2020-02-28T23:22:23Z,,2020-03-02T19:34:48Z,OPEN,False,5675,5562,15,https://github.com/iwhite-nagios,"Issue 698: Simple trim() of Configuration Search ""Show Only"" field",26,[],https://github.com/NagiosEnterprises/nagioscore/pull/738,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/738#issuecomment-593578145,"This removes the spaces around the first search term. Searches in the config field do not need spaces between terms.
main file to review
cgi/config.c - just a few lines (399-410).","This seems to contain code from #737, so I'm going to wait on this until that's ready. I think the diffs will collapse themselves once the other PR is merged.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,739,2020-03-03T17:25:54Z,,2021-03-30T12:43:28Z,OPEN,False,4,1,2,https://github.com/iwhite-nagios,"#679: Add ""Search By Service"" Form",1,[],https://github.com/NagiosEnterprises/nagioscore/pull/739,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/739,This allows the user to filter the hosts by service. Relates to #679,This allows the user to filter the hosts by service. Relates to #679,True,{'THUMBS_UP': ['https://github.com/tjyang']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,739,2020-03-03T17:25:54Z,,2021-03-30T12:43:28Z,OPEN,False,4,1,2,https://github.com/iwhite-nagios,"#679: Add ""Search By Service"" Form",1,[],https://github.com/NagiosEnterprises/nagioscore/pull/739,https://github.com/tjyang,2,https://github.com/NagiosEnterprises/nagioscore/pull/739#issuecomment-810195750,This allows the user to filter the hosts by service. Relates to #679,"Hi @iwhite-nagios
Thanks for this patch. I tested on a fresh EPEL nagios-4.4.6 rpm pkg and confirm it is working for host and service check.
Only comment is to placeholder='Search' -> placeholder='Service', so the GUI will look like following.

to nagioscore admin, please verify again and include this patch which is very useful to be able search by service name.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,740,2020-03-03T20:52:16Z,2020-04-22T20:01:10Z,2020-04-22T20:01:10Z,CLOSED,False,14,24,10,https://github.com/sawolf,Fixes #718 for hosts/services/comments/downtime.,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/740,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/740,"Fix #718
Issue seems like it was introduced in 4b0d6c9
because the '_details' functions were being used in multiple places.","Fix #718
Issue seems like it was introduced in 4b0d6c9
because the '_details' functions were being used in multiple places.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,740,2020-03-03T20:52:16Z,2020-04-22T20:01:10Z,2020-04-22T20:01:10Z,CLOSED,False,14,24,10,https://github.com/sawolf,Fixes #718 for hosts/services/comments/downtime.,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/740,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/740#issuecomment-618008506,"Fix #718
Issue seems like it was introduced in 4b0d6c9
because the '_details' functions were being used in multiple places.","This is branched off from maint instead of master - 813a682 was cherry-picked into master as
f2d0449 instead of merging",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,743,2020-03-07T08:06:01Z,2020-03-10T19:21:02Z,2020-03-10T19:21:02Z,MERGED,True,108,170,16,https://github.com/iwhite-nagios,#742 - Refactor Signal Catching,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/743,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/743,"The code surrounding signals is out of date and in some cases inconsistent. This change puts signals into a single helper interface as an entry point to <signal.h>. Some functionality is limited but can be easily added later if need be.
Note: the ""signal()"" function has been considered deprecated since the early 2000's. This is because calling signal() produces inconsistent behavior, thus the introduction of  sigaction().  Consideration should be given to removing signal() completely.","The code surrounding signals is out of date and in some cases inconsistent. This change puts signals into a single helper interface as an entry point to <signal.h>. Some functionality is limited but can be easily added later if need be.
Note: the ""signal()"" function has been considered deprecated since the early 2000's. This is because calling signal() produces inconsistent behavior, thus the introduction of  sigaction().  Consideration should be given to removing signal() completely.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,743,2020-03-07T08:06:01Z,2020-03-10T19:21:02Z,2020-03-10T19:21:02Z,MERGED,True,108,170,16,https://github.com/iwhite-nagios,#742 - Refactor Signal Catching,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/743,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/743#issuecomment-596591936,"The code surrounding signals is out of date and in some cases inconsistent. This change puts signals into a single helper interface as an entry point to <signal.h>. Some functionality is limited but can be easily added later if need be.
Note: the ""signal()"" function has been considered deprecated since the early 2000's. This is because calling signal() produces inconsistent behavior, thus the introduction of  sigaction().  Consideration should be given to removing signal() completely.","Github doesn't do the linking stuff in the title, so: resolves #742
I don't think __FUNCTION__ is portable (utils.c), but I'm also not sure whether or not that matters. Everything else looks good.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,744,2020-03-11T19:16:03Z,2020-03-11T19:23:36Z,2020-03-11T19:23:36Z,MERGED,True,2,1,1,https://github.com/iwhite-nagios,Fix Key-Value pair library,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/744,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/744,"The Key-Value library (kvvec.c) has a helper to do mass insertions that
was hard-coded to enter a pre-populated array and not text from the
commandline. This change fixes the error.","The Key-Value library (kvvec.c) has a helper to do mass insertions that
was hard-coded to enter a pre-populated array and not text from the
commandline. This change fixes the error.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,746,2020-03-16T05:24:45Z,,2020-03-16T05:24:45Z,OPEN,False,159,11,6,https://github.com/iwhite-nagios,Test dictionary,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/746,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/746,Commenting the dictionary and adding in erase/free functions. Also added in test cases.,Commenting the dictionary and adding in erase/free functions. Also added in test cases.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,747,2020-03-16T18:38:35Z,2020-03-18T14:50:24Z,2020-03-18T20:22:33Z,CLOSED,False,6,0,1,https://github.com/YanDatsiuk,Added validation that each line of configuration file is a string,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/747,https://github.com/YanDatsiuk,1,https://github.com/NagiosEnterprises/nagioscore/pull/747,"Fixes #745
Prevents from displaying PHP warning messages on a home page. Adds extra validation if each line of a configuration's file is really a string. Which could be not true on the last iteration of a cycle which reads configuration file line by line.","Fixes #745
Prevents from displaying PHP warning messages on a home page. Adds extra validation if each line of a configuration's file is really a string. Which could be not true on the last iteration of a cycle which reads configuration file line by line.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,747,2020-03-16T18:38:35Z,2020-03-18T14:50:24Z,2020-03-18T20:22:33Z,CLOSED,False,6,0,1,https://github.com/YanDatsiuk,Added validation that each line of configuration file is a string,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/747,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/747#issuecomment-600667384,"Fixes #745
Prevents from displaying PHP warning messages on a home page. Adds extra validation if each line of a configuration's file is really a string. Which could be not true on the last iteration of a cycle which reads configuration file line by line.",Thanks for the contribution! It looks like #749 handles the same issue - closing this.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,747,2020-03-16T18:38:35Z,2020-03-18T14:50:24Z,2020-03-18T20:22:33Z,CLOSED,False,6,0,1,https://github.com/YanDatsiuk,Added validation that each line of configuration file is a string,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/747,https://github.com/YanDatsiuk,3,https://github.com/NagiosEnterprises/nagioscore/pull/747#issuecomment-600840245,"Fixes #745
Prevents from displaying PHP warning messages on a home page. Adds extra validation if each line of a configuration's file is really a string. Which could be not true on the last iteration of a cycle which reads configuration file line by line.",@sawolf You are welcome! Thanks for reviewing and token actions!,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,749,2020-03-17T22:13:17Z,2020-03-18T14:46:56Z,2021-09-30T17:40:55Z,MERGED,True,457,463,1,https://github.com/iwhite-nagios,#745 - Trying to access a bool as an array,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/749,https://github.com/iwhite-nagios,1,https://github.com/NagiosEnterprises/nagioscore/pull/749,"See first changeset. The second is white space only.
This was a bit of an odd bug. The sample doc example for fgets() shows checking for the end of file (EOF) with feof() before doing an fgets(). However, feof() only returns true before fgets() if the file is empty. In our case, unless the file was empty the code always did tests on the (bool) (false) returned by fgets() when it hits an EOF. If error checking is turned on a warning is displayed. The following code fixes four instances of this within html/includes/utils.inc.php in the first changeset and white space in the second.
#745 - PHP Notice: Trying to access array offset on value of type bool on home page","See first changeset. The second is white space only.
This was a bit of an odd bug. The sample doc example for fgets() shows checking for the end of file (EOF) with feof() before doing an fgets(). However, feof() only returns true before fgets() if the file is empty. In our case, unless the file was empty the code always did tests on the (bool) (false) returned by fgets() when it hits an EOF. If error checking is turned on a warning is displayed. The following code fixes four instances of this within html/includes/utils.inc.php in the first changeset and white space in the second.
#745 - PHP Notice: Trying to access array offset on value of type bool on home page",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,749,2020-03-17T22:13:17Z,2020-03-18T14:46:56Z,2021-09-30T17:40:55Z,MERGED,True,457,463,1,https://github.com/iwhite-nagios,#745 - Trying to access a bool as an array,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/749,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/749#issuecomment-600665346,"See first changeset. The second is white space only.
This was a bit of an odd bug. The sample doc example for fgets() shows checking for the end of file (EOF) with feof() before doing an fgets(). However, feof() only returns true before fgets() if the file is empty. In our case, unless the file was empty the code always did tests on the (bool) (false) returned by fgets() when it hits an EOF. If error checking is turned on a warning is displayed. The following code fixes four instances of this within html/includes/utils.inc.php in the first changeset and white space in the second.
#745 - PHP Notice: Trying to access array offset on value of type bool on home page",looks good to me!,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,749,2020-03-17T22:13:17Z,2020-03-18T14:46:56Z,2021-09-30T17:40:55Z,MERGED,True,457,463,1,https://github.com/iwhite-nagios,#745 - Trying to access a bool as an array,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/749,https://github.com/adaugherity,3,https://github.com/NagiosEnterprises/nagioscore/pull/749#issuecomment-931529534,"See first changeset. The second is white space only.
This was a bit of an odd bug. The sample doc example for fgets() shows checking for the end of file (EOF) with feof() before doing an fgets(). However, feof() only returns true before fgets() if the file is empty. In our case, unless the file was empty the code always did tests on the (bool) (false) returned by fgets() when it hits an EOF. If error checking is turned on a warning is displayed. The following code fixes four instances of this within html/includes/utils.inc.php in the first changeset and white space in the second.
#745 - PHP Notice: Trying to access array offset on value of type bool on home page","Sorry to resurrect an old issue, but I encountered this after upgrading PHP on a Nagios server.
It seems that this fix did not make it into the 4.4.6 release which came out a month later (2020-04-28).  Was that an oversight, or am I missing something about the release engineering process?",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,756,2020-04-23T18:10:52Z,2020-04-23T18:13:48Z,2020-04-23T18:13:48Z,MERGED,True,18,26,10,https://github.com/sawolf,Fix vulnerability in trends/histogram/maps pages,4,[],https://github.com/NagiosEnterprises/nagioscore/pull/756,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/756,,,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,758,2020-04-24T21:13:50Z,2020-04-28T15:21:39Z,2020-04-28T15:21:39Z,MERGED,True,2,1,2,https://github.com/sawolf,Fix hard recovery on final check attempt,2,[],https://github.com/NagiosEnterprises/nagioscore/pull/758,https://github.com/sawolf,1,https://github.com/NagiosEnterprises/nagioscore/pull/758,#757 for background info. See first commit for more detailed notes,#757 for background info. See first commit for more detailed notes,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,772,2020-06-06T06:24:53Z,2020-06-12T00:49:58Z,2020-06-12T00:49:58Z,CLOSED,False,12,0,1,https://github.com/aishee,Create SECURITY.md,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/772,https://github.com/aishee,1,https://github.com/NagiosEnterprises/nagioscore/pull/772,Create Security Policy and advisories,Create Security Policy and advisories,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,773,2020-06-08T11:45:13Z,2022-04-04T22:03:21Z,2022-04-04T22:03:22Z,MERGED,True,1,2,1,https://github.com/hgcvm,Update templates.cfg.in,1,['Documentation'],https://github.com/NagiosEnterprises/nagioscore/pull/773,https://github.com/hgcvm,1,https://github.com/NagiosEnterprises/nagioscore/pull/773,Change DONT to DON'T and reduce blank lines from 4 to 3 above each new section.,Change DONT to DON'T and reduce blank lines from 4 to 3 above each new section.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,773,2020-06-08T11:45:13Z,2022-04-04T22:03:21Z,2022-04-04T22:03:22Z,MERGED,True,1,2,1,https://github.com/hgcvm,Update templates.cfg.in,1,['Documentation'],https://github.com/NagiosEnterprises/nagioscore/pull/773,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/773#issuecomment-1087933174,Change DONT to DON'T and reduce blank lines from 4 to 3 above each new section.,Thanks!,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,778,2020-07-02T15:44:37Z,2022-04-04T22:03:22Z,2022-04-04T22:03:22Z,MERGED,True,1,1,1,https://github.com/Rfferrao87,Fixed broken condition to assert whether checkbox input is checked,1,['Bug'],https://github.com/NagiosEnterprises/nagioscore/pull/778,https://github.com/Rfferrao87,1,https://github.com/NagiosEnterprises/nagioscore/pull/778,"Line 340 of jsonquery.js has undefined  result while querying checkbox object for the ""checked"" attribute.","Line 340 of jsonquery.js has undefined  result while querying checkbox object for the ""checked"" attribute.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,778,2020-07-02T15:44:37Z,2022-04-04T22:03:22Z,2022-04-04T22:03:22Z,MERGED,True,1,1,1,https://github.com/Rfferrao87,Fixed broken condition to assert whether checkbox input is checked,1,['Bug'],https://github.com/NagiosEnterprises/nagioscore/pull/778,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/778#issuecomment-1087927385,"Line 340 of jsonquery.js has undefined  result while querying checkbox object for the ""checked"" attribute.",Thanks for finding this - I was able to reproduce the issue and confirm the fix. Will merge shortly.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,787,2020-09-14T16:13:08Z,2022-04-04T22:03:22Z,2022-04-04T22:03:22Z,CLOSED,False,6,5,6,https://github.com/altmas5,Fix typos: consecutive occurrences of 'the',1,['Documentation'],https://github.com/NagiosEnterprises/nagioscore/pull/787,https://github.com/altmas5,1,https://github.com/NagiosEnterprises/nagioscore/pull/787,"Minor fix: remove duplicated or consecutive 'the' occurrences
s/the the /the /g","Minor fix: remove duplicated or consecutive 'the' occurrences
s/the the /the /g",True,"{'THUMBS_UP': ['https://github.com/tjyang', 'https://github.com/nigels-com', 'https://github.com/peternewman']}"
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,787,2020-09-14T16:13:08Z,2022-04-04T22:03:22Z,2022-04-04T22:03:22Z,CLOSED,False,6,5,6,https://github.com/altmas5,Fix typos: consecutive occurrences of 'the',1,['Documentation'],https://github.com/NagiosEnterprises/nagioscore/pull/787,https://github.com/nigels-com,2,https://github.com/NagiosEnterprises/nagioscore/pull/787#issuecomment-851170185,"Minor fix: remove duplicated or consecutive 'the' occurrences
s/the the /the /g",Looks good to me.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,787,2020-09-14T16:13:08Z,2022-04-04T22:03:22Z,2022-04-04T22:03:22Z,CLOSED,False,6,5,6,https://github.com/altmas5,Fix typos: consecutive occurrences of 'the',1,['Documentation'],https://github.com/NagiosEnterprises/nagioscore/pull/787,https://github.com/sawolf,3,https://github.com/NagiosEnterprises/nagioscore/pull/787#issuecomment-1087934959,"Minor fix: remove duplicated or consecutive 'the' occurrences
s/the the /the /g",Thanks! Changes should be merged shortly,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,797,2020-10-20T12:45:56Z,2022-04-04T22:03:22Z,2022-04-04T22:03:22Z,MERGED,True,148,1,3,https://github.com/odidev,Add support for ARM64 platform in Travis-CI,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/797,https://github.com/odidev,1,https://github.com/NagiosEnterprises/nagioscore/pull/797,"Added support for arm64 architecture in Travis-CI. Here are the details:

Added arm64 jobs in "".travis.yml""
Modified ""tap/config.guess"" file to add arm64 architecture.
Passing ""NULL"" for type ""va_list"" produces error in arm64 platform, replaced ""NULL"" with ""ap""","Added support for arm64 architecture in Travis-CI. Here are the details:

Added arm64 jobs in "".travis.yml""
Modified ""tap/config.guess"" file to add arm64 architecture.
Passing ""NULL"" for type ""va_list"" produces error in arm64 platform, replaced ""NULL"" with ""ap""",True,{'THUMBS_UP': ['https://github.com/peternewman']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,797,2020-10-20T12:45:56Z,2022-04-04T22:03:22Z,2022-04-04T22:03:22Z,MERGED,True,148,1,3,https://github.com/odidev,Add support for ARM64 platform in Travis-CI,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/797,https://github.com/odidev,2,https://github.com/NagiosEnterprises/nagioscore/pull/797#issuecomment-730324608,"Added support for arm64 architecture in Travis-CI. Here are the details:

Added arm64 jobs in "".travis.yml""
Modified ""tap/config.guess"" file to add arm64 architecture.
Passing ""NULL"" for type ""va_list"" produces error in arm64 platform, replaced ""NULL"" with ""ap""","@sawolf, can you please have a look at above PR.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,797,2020-10-20T12:45:56Z,2022-04-04T22:03:22Z,2022-04-04T22:03:22Z,MERGED,True,148,1,3,https://github.com/odidev,Add support for ARM64 platform in Travis-CI,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/797,https://github.com/sawolf,3,https://github.com/NagiosEnterprises/nagioscore/pull/797#issuecomment-1087952104,"Added support for arm64 architecture in Travis-CI. Here are the details:

Added arm64 jobs in "".travis.yml""
Modified ""tap/config.guess"" file to add arm64 architecture.
Passing ""NULL"" for type ""va_list"" produces error in arm64 platform, replaced ""NULL"" with ""ap""",Looks good to me - changes should be merged shortly,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,801,2020-10-30T19:20:18Z,2020-11-12T10:16:12Z,2020-11-12T10:16:12Z,CLOSED,False,3,0,1,https://github.com/Rfferrao87,Added host status value to CGI's servicelist json query,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/801,https://github.com/Rfferrao87,1,https://github.com/NagiosEnterprises/nagioscore/pull/801,Added hoststatus code in servicestatus query result which could be useful for avoiding having to make a separate request towards each object type.,Added hoststatus code in servicestatus query result which could be useful for avoiding having to make a separate request towards each object type.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,807,2020-12-09T19:41:45Z,2022-04-04T22:03:22Z,2022-04-04T22:03:22Z,CLOSED,False,4,4,2,https://github.com/ccztux,Changed full name to github username.,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/807,https://github.com/ccztux,1,https://github.com/NagiosEnterprises/nagioscore/pull/807,I would like to change my full name to my github username. Thanks!,I would like to change my full name to my github username. Thanks!,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,807,2020-12-09T19:41:45Z,2022-04-04T22:03:22Z,2022-04-04T22:03:22Z,CLOSED,False,4,4,2,https://github.com/ccztux,Changed full name to github username.,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/807,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/807#issuecomment-1087952901,I would like to change my full name to my github username. Thanks!,Thanks for letting us know - your name will be updated for the next release.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,815,2021-02-12T09:27:26Z,2022-04-04T22:03:21Z,2022-04-04T22:03:22Z,MERGED,True,8,3,2,https://github.com/niflix,Fixes #814 Error NULL variable for line of spaces in resource.cfg,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/815,https://github.com/niflix,1,https://github.com/NagiosEnterprises/nagioscore/pull/815,"Implemented patch proposed in #814, i.e. doing strip(input) first.
Before patching we get
# /usr/bin/nagios /etc/nagios/nagios.cfg

Nagios Core 4.4.6
Copyright (c) 2009-present Nagios Core Development Team and Community Contributors
Copyright (c) 1999-2009 Ethan Galstad
Last Modified: 2020-04-28
License: GPL

Website: https://www.nagios.org
Error: NULL variable - Line 40 of resource file '/etc/nagios/resource.cfg'
Error in configuration file '/etc/nagios/nagios.cfg' - Line 1352 (NULL)

With commit 765f9f6 and reinstalling we get on the same resource.cfg
 # /usr/bin/nagios /etc/nagios/nagios.cfg

Nagios Core 4.4.6
Copyright (c) 2009-present Nagios Core Development Team and Community Contributors
Copyright (c) 1999-2009 Ethan Galstad
Last Modified: 2020-04-28
License: GPL

Website: https://www.nagios.org
Nagios 4.4.6 starting... (PID=6743)
Local time is Fri Feb 12 10:06:42 CET 2021
wproc: Successfully registered manager as @wproc with query handler
wproc: Registry request: name=Core Worker 6744;pid=6744

Patch also runs well on clone of production use nagios.","Implemented patch proposed in #814, i.e. doing strip(input) first.
Before patching we get
# /usr/bin/nagios /etc/nagios/nagios.cfg

Nagios Core 4.4.6
Copyright (c) 2009-present Nagios Core Development Team and Community Contributors
Copyright (c) 1999-2009 Ethan Galstad
Last Modified: 2020-04-28
License: GPL

Website: https://www.nagios.org
Error: NULL variable - Line 40 of resource file '/etc/nagios/resource.cfg'
Error in configuration file '/etc/nagios/nagios.cfg' - Line 1352 (NULL)

With commit 765f9f6 and reinstalling we get on the same resource.cfg
 # /usr/bin/nagios /etc/nagios/nagios.cfg

Nagios Core 4.4.6
Copyright (c) 2009-present Nagios Core Development Team and Community Contributors
Copyright (c) 1999-2009 Ethan Galstad
Last Modified: 2020-04-28
License: GPL

Website: https://www.nagios.org
Nagios 4.4.6 starting... (PID=6743)
Local time is Fri Feb 12 10:06:42 CET 2021
wproc: Successfully registered manager as @wproc with query handler
wproc: Registry request: name=Core Worker 6744;pid=6744

Patch also runs well on clone of production use nagios.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,815,2021-02-12T09:27:26Z,2022-04-04T22:03:21Z,2022-04-04T22:03:22Z,MERGED,True,8,3,2,https://github.com/niflix,Fixes #814 Error NULL variable for line of spaces in resource.cfg,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/815,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/815#issuecomment-1087959623,"Implemented patch proposed in #814, i.e. doing strip(input) first.
Before patching we get
# /usr/bin/nagios /etc/nagios/nagios.cfg

Nagios Core 4.4.6
Copyright (c) 2009-present Nagios Core Development Team and Community Contributors
Copyright (c) 1999-2009 Ethan Galstad
Last Modified: 2020-04-28
License: GPL

Website: https://www.nagios.org
Error: NULL variable - Line 40 of resource file '/etc/nagios/resource.cfg'
Error in configuration file '/etc/nagios/nagios.cfg' - Line 1352 (NULL)

With commit 765f9f6 and reinstalling we get on the same resource.cfg
 # /usr/bin/nagios /etc/nagios/nagios.cfg

Nagios Core 4.4.6
Copyright (c) 2009-present Nagios Core Development Team and Community Contributors
Copyright (c) 1999-2009 Ethan Galstad
Last Modified: 2020-04-28
License: GPL

Website: https://www.nagios.org
Nagios 4.4.6 starting... (PID=6743)
Local time is Fri Feb 12 10:06:42 CET 2021
wproc: Successfully registered manager as @wproc with query handler
wproc: Registry request: name=Core Worker 6744;pid=6744

Patch also runs well on clone of production use nagios.",Thanks for sending this in - looks good to me. Changes should be merged shortly.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,820,2021-03-13T01:13:26Z,2022-04-04T22:03:21Z,2022-04-04T22:03:22Z,MERGED,True,3,1,1,https://github.com/kaniini,cgi: fix truncation of pairlist when no query parameters are provided,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/820,https://github.com/kaniini,1,https://github.com/NagiosEnterprises/nagioscore/pull/820,"If no query parameters are provided, paircount will be 0, and the pairlist will be
allocated to a single element array which does not provide sufficient space for its
null terminator.
Signed-off-by: Ariadne Conill ariadne@dereferenced.org","If no query parameters are provided, paircount will be 0, and the pairlist will be
allocated to a single element array which does not provide sufficient space for its
null terminator.
Signed-off-by: Ariadne Conill ariadne@dereferenced.org",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,820,2021-03-13T01:13:26Z,2022-04-04T22:03:21Z,2022-04-04T22:03:22Z,MERGED,True,3,1,1,https://github.com/kaniini,cgi: fix truncation of pairlist when no query parameters are provided,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/820,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/820#issuecomment-1087968398,"If no query parameters are provided, paircount will be 0, and the pairlist will be
allocated to a single element array which does not provide sufficient space for its
null terminator.
Signed-off-by: Ariadne Conill ariadne@dereferenced.org","Thanks for sending this in - your change looks good to me, and should be merged shortly.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,824,2021-06-02T13:50:30Z,2021-09-29T08:12:10Z,2021-09-29T08:32:03Z,CLOSED,False,70,0,4,None,Add debian packaging - Build your own nagios-core deb file,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/824,None,1,https://github.com/NagiosEnterprises/nagioscore/pull/824,.,.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,826,2021-06-03T09:03:50Z,2021-06-03T10:01:28Z,2021-06-03T10:01:29Z,CLOSED,False,11660,11328,54,https://github.com/Kilvador,"#825 Nagios 4.4.5+ SIGBUS, SIGABRT coredump",80,[],https://github.com/NagiosEnterprises/nagioscore/pull/826,https://github.com/Kilvador,1,https://github.com/NagiosEnterprises/nagioscore/pull/826,"Made patch to prevent SIGBUS, SIGABRT and coredumps on 4.4.5+ nagioscore versions, issue #825:
sigsegv.zip
--- nagios-4.4.6/lib/iocache.c	2020-04-28 23:48:29.000000000 +0300
+++ nagios-4.4.6-fixed/lib/iocache.c	2021-06-02 13:33:45.055036247 +0300
@@ -188,7 +188,7 @@
 
 int iocache_read(iocache *ioc, int fd)
 {

-	int to_read, bytes_read, ret;
+	int to_read, bytes_read;
 
 	if (!ioc || !ioc->ioc_buf || fd < 0)
 		return -1;
@@ -198,18 +198,9 @@
 
 	/* if we've maxed out our buflen, grow by 2x to be safe */
 	if (ioc->ioc_buflen >= ioc->ioc_bufsize) {
-
-		to_read = ioc->ioc_buflen + ioc->ioc_bufsize;
-		ret = iocache_grow(ioc, ioc->ioc_bufsize);
-		if (ret == -1) {
-			to_read = ioc->ioc_buflen;
-		}
-
-	} else {
-
-		/* calculate the size we should read */
-		to_read = ioc->ioc_bufsize - ioc->ioc_buflen;
+		iocache_grow(ioc, ioc->ioc_bufsize);
 	}
+	to_read = ioc->ioc_bufsize - ioc->ioc_buflen;
 
 	bytes_read = read(fd, ioc->ioc_buf + ioc->ioc_buflen, to_read);
 	if (bytes_read > 0) {","Made patch to prevent SIGBUS, SIGABRT and coredumps on 4.4.5+ nagioscore versions, issue #825:
sigsegv.zip
--- nagios-4.4.6/lib/iocache.c	2020-04-28 23:48:29.000000000 +0300
+++ nagios-4.4.6-fixed/lib/iocache.c	2021-06-02 13:33:45.055036247 +0300
@@ -188,7 +188,7 @@
 
 int iocache_read(iocache *ioc, int fd)
 {

-	int to_read, bytes_read, ret;
+	int to_read, bytes_read;
 
 	if (!ioc || !ioc->ioc_buf || fd < 0)
 		return -1;
@@ -198,18 +198,9 @@
 
 	/* if we've maxed out our buflen, grow by 2x to be safe */
 	if (ioc->ioc_buflen >= ioc->ioc_bufsize) {
-
-		to_read = ioc->ioc_buflen + ioc->ioc_bufsize;
-		ret = iocache_grow(ioc, ioc->ioc_bufsize);
-		if (ret == -1) {
-			to_read = ioc->ioc_buflen;
-		}
-
-	} else {
-
-		/* calculate the size we should read */
-		to_read = ioc->ioc_bufsize - ioc->ioc_buflen;
+		iocache_grow(ioc, ioc->ioc_bufsize);
 	}
+	to_read = ioc->ioc_bufsize - ioc->ioc_buflen;
 
 	bytes_read = read(fd, ioc->ioc_buf + ioc->ioc_buflen, to_read);
 	if (bytes_read > 0) {",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,826,2021-06-03T09:03:50Z,2021-06-03T10:01:28Z,2021-06-03T10:01:29Z,CLOSED,False,11660,11328,54,https://github.com/Kilvador,"#825 Nagios 4.4.5+ SIGBUS, SIGABRT coredump",80,[],https://github.com/NagiosEnterprises/nagioscore/pull/826,https://github.com/Kilvador,2,https://github.com/NagiosEnterprises/nagioscore/pull/826#issuecomment-853748747,"Made patch to prevent SIGBUS, SIGABRT and coredumps on 4.4.5+ nagioscore versions, issue #825:
sigsegv.zip
--- nagios-4.4.6/lib/iocache.c	2020-04-28 23:48:29.000000000 +0300
+++ nagios-4.4.6-fixed/lib/iocache.c	2021-06-02 13:33:45.055036247 +0300
@@ -188,7 +188,7 @@
 
 int iocache_read(iocache *ioc, int fd)
 {

-	int to_read, bytes_read, ret;
+	int to_read, bytes_read;
 
 	if (!ioc || !ioc->ioc_buf || fd < 0)
 		return -1;
@@ -198,18 +198,9 @@
 
 	/* if we've maxed out our buflen, grow by 2x to be safe */
 	if (ioc->ioc_buflen >= ioc->ioc_bufsize) {
-
-		to_read = ioc->ioc_buflen + ioc->ioc_bufsize;
-		ret = iocache_grow(ioc, ioc->ioc_bufsize);
-		if (ret == -1) {
-			to_read = ioc->ioc_buflen;
-		}
-
-	} else {
-
-		/* calculate the size we should read */
-		to_read = ioc->ioc_bufsize - ioc->ioc_buflen;
+		iocache_grow(ioc, ioc->ioc_bufsize);
 	}
+	to_read = ioc->ioc_bufsize - ioc->ioc_buflen;
 
 	bytes_read = read(fd, ioc->ioc_buf + ioc->ioc_buflen, to_read);
 	if (bytes_read > 0) {",Wrong made,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,827,2021-06-03T11:22:56Z,2021-06-09T07:11:57Z,2021-06-09T07:12:10Z,CLOSED,False,3,12,1,https://github.com/Kilvador,"#825 Nagios 4.4.5+ SIGBUS, SIGABRT coredump",1,[],https://github.com/NagiosEnterprises/nagioscore/pull/827,https://github.com/Kilvador,1,https://github.com/NagiosEnterprises/nagioscore/pull/827,"Tested for 1.5 days, no coredumps","Tested for 1.5 days, no coredumps",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,827,2021-06-03T11:22:56Z,2021-06-09T07:11:57Z,2021-06-09T07:12:10Z,CLOSED,False,3,12,1,https://github.com/Kilvador,"#825 Nagios 4.4.5+ SIGBUS, SIGABRT coredump",1,[],https://github.com/NagiosEnterprises/nagioscore/pull/827,https://github.com/Kilvador,2,https://github.com/NagiosEnterprises/nagioscore/pull/827#issuecomment-857447678,"Tested for 1.5 days, no coredumps",Wrong way PR,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,828,2021-06-09T07:10:28Z,2022-04-04T22:03:21Z,2022-04-04T22:03:22Z,MERGED,True,3,12,1,https://github.com/Kilvador,"Nagios 4.4.5+ SIGBUS, SIGABRT coredump #825",1,[],https://github.com/NagiosEnterprises/nagioscore/pull/828,https://github.com/Kilvador,1,https://github.com/NagiosEnterprises/nagioscore/pull/828,"Tested for 1 week, no coredumps.","Tested for 1 week, no coredumps.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,828,2021-06-09T07:10:28Z,2022-04-04T22:03:21Z,2022-04-04T22:03:22Z,MERGED,True,3,12,1,https://github.com/Kilvador,"Nagios 4.4.5+ SIGBUS, SIGABRT coredump #825",1,[],https://github.com/NagiosEnterprises/nagioscore/pull/828,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/828#issuecomment-1088034775,"Tested for 1 week, no coredumps.","Thanks for sending in this patch. I've been able to work through all of the code paths, and I agree that both of the to_read calculations in the if block were wrong. Your change should be merged shortly.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,842,2021-09-29T08:17:10Z,2022-04-04T22:03:21Z,2022-04-04T22:03:22Z,MERGED,True,70,0,4,https://github.com/Catfriend1,Add debian packaging - Build your own nagios-core deb file,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/842,https://github.com/Catfriend1,1,https://github.com/NagiosEnterprises/nagioscore/pull/842,"Purpose:

Add support for dpkg-buildpackage, verified working on Debian 10 buster
This allows the package to be uninstalled properly by

apt-get remove nagios nagios-plugins

Here's the full cooking recipe to build two .deb package files with nagios-core 4.4.6 and nagios-plugins 2.3.3 .
#!/bin/sh
#
apt update
apt-get install -y apache2 apache2-utils build-essential daemon devscripts libapache2-mod-php libperl-dev libssl-dev make openssl perl php php-gd unzip wget
#
useradd nagios
groupadd nagcmd
usermod -a -G nagcmd nagios
usermod -a -G nagcmd www-data
#
mkdir /root/install/nagios
cd /root/install/nagios/
wget -P /root/install/nagios/ https://assets.nagios.com/downloads/nagioscore/releases/nagios-4.4.6.tar.gz
tar -zxf /root/install/nagios/nagios-4.4.6.tar.gz -C /root/install/nagios/
cd /root/install/nagios/nagios-4.4.6/
dpkg-buildpackage -b -rfakeroot -uc -us
#
dpkg -i ../nagios_4.4.6_all.deb
apt-get install -f
#
cd /root/install/nagios/
wget -P /root/install/nagios/ https://nagios-plugins.org/download/nagios-plugins-2.3.3.tar.gz
tar -zxf nagios-plugins-2.3.3.tar.gz -C /root/install/nagios/
cd /root/install/nagios/nagios-plugins-2.3.3/
dpkg-buildpackage -b -rfakeroot -uc -us
dpkg -i ../nagios-plugins_2.3.3_all.deb
#
# Edit email address.
## /usr/local/nagios/etc/objects/contacts.cfg
#
# Set Web UI password for user ""nagiosadmin"".
htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin
a2enmod cgi
systemctl restart apache2
#
# Config directory.
## /usr/local/nagios/etc
#
# Verify configuration.
/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg
#
systemctl enable nagios
systemctl start nagios
# journalctl -f -u nagios
# systemctl restart nagios
#
# Web UI.
## http://[IP]/nagios
### nagiosadmin / [password]
#
exit 0


nagios-core-4.4.6 debian APT package DEB files for dpkg","Purpose:

Add support for dpkg-buildpackage, verified working on Debian 10 buster
This allows the package to be uninstalled properly by

apt-get remove nagios nagios-plugins

Here's the full cooking recipe to build two .deb package files with nagios-core 4.4.6 and nagios-plugins 2.3.3 .
#!/bin/sh
#
apt update
apt-get install -y apache2 apache2-utils build-essential daemon devscripts libapache2-mod-php libperl-dev libssl-dev make openssl perl php php-gd unzip wget
#
useradd nagios
groupadd nagcmd
usermod -a -G nagcmd nagios
usermod -a -G nagcmd www-data
#
mkdir /root/install/nagios
cd /root/install/nagios/
wget -P /root/install/nagios/ https://assets.nagios.com/downloads/nagioscore/releases/nagios-4.4.6.tar.gz
tar -zxf /root/install/nagios/nagios-4.4.6.tar.gz -C /root/install/nagios/
cd /root/install/nagios/nagios-4.4.6/
dpkg-buildpackage -b -rfakeroot -uc -us
#
dpkg -i ../nagios_4.4.6_all.deb
apt-get install -f
#
cd /root/install/nagios/
wget -P /root/install/nagios/ https://nagios-plugins.org/download/nagios-plugins-2.3.3.tar.gz
tar -zxf nagios-plugins-2.3.3.tar.gz -C /root/install/nagios/
cd /root/install/nagios/nagios-plugins-2.3.3/
dpkg-buildpackage -b -rfakeroot -uc -us
dpkg -i ../nagios-plugins_2.3.3_all.deb
#
# Edit email address.
## /usr/local/nagios/etc/objects/contacts.cfg
#
# Set Web UI password for user ""nagiosadmin"".
htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin
a2enmod cgi
systemctl restart apache2
#
# Config directory.
## /usr/local/nagios/etc
#
# Verify configuration.
/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg
#
systemctl enable nagios
systemctl start nagios
# journalctl -f -u nagios
# systemctl restart nagios
#
# Web UI.
## http://[IP]/nagios
### nagiosadmin / [password]
#
exit 0


nagios-core-4.4.6 debian APT package DEB files for dpkg",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,842,2021-09-29T08:17:10Z,2022-04-04T22:03:21Z,2022-04-04T22:03:22Z,MERGED,True,70,0,4,https://github.com/Catfriend1,Add debian packaging - Build your own nagios-core deb file,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/842,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/842#issuecomment-1088054087,"Purpose:

Add support for dpkg-buildpackage, verified working on Debian 10 buster
This allows the package to be uninstalled properly by

apt-get remove nagios nagios-plugins

Here's the full cooking recipe to build two .deb package files with nagios-core 4.4.6 and nagios-plugins 2.3.3 .
#!/bin/sh
#
apt update
apt-get install -y apache2 apache2-utils build-essential daemon devscripts libapache2-mod-php libperl-dev libssl-dev make openssl perl php php-gd unzip wget
#
useradd nagios
groupadd nagcmd
usermod -a -G nagcmd nagios
usermod -a -G nagcmd www-data
#
mkdir /root/install/nagios
cd /root/install/nagios/
wget -P /root/install/nagios/ https://assets.nagios.com/downloads/nagioscore/releases/nagios-4.4.6.tar.gz
tar -zxf /root/install/nagios/nagios-4.4.6.tar.gz -C /root/install/nagios/
cd /root/install/nagios/nagios-4.4.6/
dpkg-buildpackage -b -rfakeroot -uc -us
#
dpkg -i ../nagios_4.4.6_all.deb
apt-get install -f
#
cd /root/install/nagios/
wget -P /root/install/nagios/ https://nagios-plugins.org/download/nagios-plugins-2.3.3.tar.gz
tar -zxf nagios-plugins-2.3.3.tar.gz -C /root/install/nagios/
cd /root/install/nagios/nagios-plugins-2.3.3/
dpkg-buildpackage -b -rfakeroot -uc -us
dpkg -i ../nagios-plugins_2.3.3_all.deb
#
# Edit email address.
## /usr/local/nagios/etc/objects/contacts.cfg
#
# Set Web UI password for user ""nagiosadmin"".
htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin
a2enmod cgi
systemctl restart apache2
#
# Config directory.
## /usr/local/nagios/etc
#
# Verify configuration.
/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg
#
systemctl enable nagios
systemctl start nagios
# journalctl -f -u nagios
# systemctl restart nagios
#
# Web UI.
## http://[IP]/nagios
### nagiosadmin / [password]
#
exit 0


nagios-core-4.4.6 debian APT package DEB files for dpkg",Thanks for making those changes - this should be merged shortly.,True,{'THUMBS_UP': ['https://github.com/Catfriend1']}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,850,2021-12-25T23:44:56Z,2022-04-04T22:03:21Z,2022-04-04T22:17:36Z,MERGED,True,192,103,11,https://github.com/tjyang,Update epel-nagios.spec and patches under contrib,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/850,https://github.com/tjyang,1,https://github.com/NagiosEnterprises/nagioscore/pull/850,Using EPEL nagios-4.4.6-4.el8.src.rpm and tested on RL8.,Using EPEL nagios-4.4.6-4.el8.src.rpm and tested on RL8.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,850,2021-12-25T23:44:56Z,2022-04-04T22:03:21Z,2022-04-04T22:17:36Z,MERGED,True,192,103,11,https://github.com/tjyang,Update epel-nagios.spec and patches under contrib,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/850,https://github.com/sawolf,2,https://github.com/NagiosEnterprises/nagioscore/pull/850#issuecomment-1088050934,Using EPEL nagios-4.4.6-4.el8.src.rpm and tested on RL8.,Thanks for sending this over - I still don't know much about RPM packaging but I assume you guys have that sorted out. These changes should be merged shortly.,True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,850,2021-12-25T23:44:56Z,2022-04-04T22:03:21Z,2022-04-04T22:17:36Z,MERGED,True,192,103,11,https://github.com/tjyang,Update epel-nagios.spec and patches under contrib,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/850,https://github.com/tjyang,3,https://github.com/NagiosEnterprises/nagioscore/pull/850#issuecomment-1088067266,Using EPEL nagios-4.4.6-4.el8.src.rpm and tested on RL8.,"@sawolf , Thanks for the rpm src merge.
I know nagio company only support compile and install into /usr/local/bin approach.
With this update-to-date .spec , one can  test out 4.4.7(when it comes)   rpm diy approach and notify EPEL nagios maintainer for review.   End goal is to speed up time of nagios src release to rpm release on EPEL repo.",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,862,2022-04-29T08:55:32Z,,2022-05-17T15:34:09Z,OPEN,False,1,0,1,https://github.com/kklionz,fix a mem-leak issue,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/862,https://github.com/kklionz,1,https://github.com/NagiosEnterprises/nagioscore/pull/862,"Dear Maintainer,
I guess there is a mem-leak issue
Which mem-block is malloced at xodtemplate_add_object_property function, but there is no my_free function called to free the  mem-block.
Could U please to review it? Thanks","Dear Maintainer,
I guess there is a mem-leak issue
Which mem-block is malloced at xodtemplate_add_object_property function, but there is no my_free function called to free the  mem-block.
Could U please to review it? Thanks",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,862,2022-04-29T08:55:32Z,,2022-05-17T15:34:09Z,OPEN,False,1,0,1,https://github.com/kklionz,fix a mem-leak issue,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/862,https://github.com/kklionz,2,https://github.com/NagiosEnterprises/nagioscore/pull/862#issuecomment-1121825362,"Dear Maintainer,
I guess there is a mem-leak issue
Which mem-block is malloced at xodtemplate_add_object_property function, but there is no my_free function called to free the  mem-block.
Could U please to review it? Thanks","Dear Maintainers,
Anyone please help to review it. Thanks",True,{}
NagiosEnterprises/nagioscore,https://github.com/NagiosEnterprises/nagioscore,862,2022-04-29T08:55:32Z,,2022-05-17T15:34:09Z,OPEN,False,1,0,1,https://github.com/kklionz,fix a mem-leak issue,1,[],https://github.com/NagiosEnterprises/nagioscore/pull/862,https://github.com/sawolf,3,https://github.com/NagiosEnterprises/nagioscore/pull/862#issuecomment-1129019082,"Dear Maintainer,
I guess there is a mem-leak issue
Which mem-block is malloced at xodtemplate_add_object_property function, but there is no my_free function called to free the  mem-block.
Could U please to review it? Thanks","Hi @kklionz, thanks for the contribution.
The change here looks harmless, but xodtemplate.c does some fairly complicated stuff with host names. I ran this code with a configuration that uses several of the more complicated directives, and got the following segmentation fault:
Program received signal SIGSEGV, Segmentation fault.
malloc_consolidate (av=av@entry=0x7ffff71f9760 <main_arena>) at malloc.c:4153
4153		    unlink(av, p, bck, fwd);
Missing separate debuginfos, use: debuginfo-install keyutils-libs-1.5.8-3.el7.x86_64 krb5-libs-1.15.1-37.el7_7.2.x86_64 libcom_err-1.42.9-16.el7.x86_64 libselinux-2.5-14.1.el7.x86_64 openssl-libs-1.0.2k-25.el7_9.x86_64 pcre-8.32-17.el7.x86_64 sssd-client-1.16.4-21.el7.x86_64
(gdb) bt
#0  malloc_consolidate (av=av@entry=0x7ffff71f9760 <main_arena>) at malloc.c:4153
#1  0x00007ffff6eb4485 in _int_malloc (av=av@entry=0x7ffff71f9760 <main_arena>, bytes=bytes@entry=8192) at malloc.c:3444
#2  0x00007ffff6eb8564 in __libc_calloc (n=<optimized out>, elem_size=<optimized out>) at malloc.c:3241
#3  0x00007ffff6ea99b3 in __GI_open_memstream (bufloc=bufloc@entry=0x7fffffffd840, sizeloc=sizeloc@entry=0x7fffffffd850) at memstream.c:83
#4  0x00007ffff6f2a3da in __GI___vsyslog_chk (pri=14, flag=flag@entry=-1, fmt=fmt@entry=0x47bfab ""%s"", ap=ap@entry=0x7fffffffd928)
    at ../misc/syslog.c:167
#5  0x00007ffff6f2a93f in __syslog (pri=pri@entry=14, fmt=fmt@entry=0x47bfab ""%s"") at ../misc/syslog.c:117
#6  0x000000000043553c in write_to_syslog (buffer=<optimized out>, data_type=<optimized out>) at logging.c:240
#7  0x0000000000435561 in write_to_all_logs (
    buffer=buffer@entry=0x6d1060 ""Warning: Service 'Root Partition' on host '\360\004m'  has a notification interval less than its check interval!  Notifications are only re-sent after checks are made, so the effective notification interval""..., data_type=data_type@entry=8) at logging.c:94
#8  0x000000000043566b in write_to_logs_and_console (display=1, data_type=8, 
    buffer=0x6d1060 ""Warning: Service 'Root Partition' on host '\360\004m'  has a notification interval less than its check interval!  Notifications are only re-sent after checks are made, so the effective notification interval""...) at logging.c:62
#9  logit (data_type=data_type@entry=8, display=display@entry=1, 
    fmt=fmt@entry=0x4821d0 ""Warning: Service '%s' on host '%s'  has a notification interval less than its check interval!  Notifications are only re-sent after checks are made, so the effective notification interval will be that""...) at logging.c:83
#10 0x000000000042749a in pre_flight_object_check (w=w@entry=0x7fffffffdba0, e=e@entry=0x7fffffffdba4) at config.c:1673
#11 0x0000000000427caa in pre_flight_check () at config.c:1437
#12 0x0000000000413eed in main (argc=<optimized out>, argv=<optimized out>) at nagios.c:736
(gdb) 

In general, I'm less concerned about memory leaks in xodtemplate.c - the code is run only during startup, and is outside of the main event loop. Any memory that is leaked in these functions will have constant overhead and won't have a significant impact on day-to-day operation of the software.
You're welcome to continue working on this if you'd like, but I don't consider it a high priority. Thanks again for reaching out.",True,{}
