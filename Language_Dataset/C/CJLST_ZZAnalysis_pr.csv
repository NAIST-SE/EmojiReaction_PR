CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,17,2016-02-24T12:47:10Z,2016-02-24T13:00:13Z,2016-02-24T13:00:13Z,MERGED,True,68,4,3,https://github.com/hengne,Mini aod 76 x jec,5,[],https://github.com/CJLST/ZZAnalysis/pull/17,https://github.com/hengne,1,https://github.com/CJLST/ZZAnalysis/pull/17,"re-apply 76X JEC,
JEC read from offline sqlite db files
VBF125 before and after applying new JEC

Data 2015D Jet PT of selected events is also changing (although cannot address the quality from simply this limited statistics)","re-apply 76X JEC,
JEC read from offline sqlite db files
VBF125 before and after applying new JEC

Data 2015D Jet PT of selected events is also changing (although cannot address the quality from simply this limited statistics)",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,19,2016-06-05T12:52:49Z,2016-06-06T09:14:21Z,2016-06-06T11:26:56Z,MERGED,True,770,196,10,https://github.com/hroskes,reweighting 76X,11,[],https://github.com/CJLST/ZZAnalysis/pull/19,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/19,"spin 0/1/2 to other spin 0/1/2 hypothesis
for now reweight among spin 0 and also optionally to 2bplus, will add more spin 1/2 hypotheses","spin 0/1/2 to other spin 0/1/2 hypothesis
for now reweight among spin 0 and also optionally to 2bplus, will add more spin 1/2 hypotheses",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,20,2016-06-05T12:53:17Z,2016-06-06T12:49:55Z,2016-06-06T20:02:29Z,MERGED,True,771,197,10,https://github.com/hroskes,reweighting 80X,11,[],https://github.com/CJLST/ZZAnalysis/pull/20,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/20,"spin 0/1/2 to other spin 0/1/2 hypothesis
for now reweight among spin 0 and also optionally to 2bplus, will add more spin 1/2 hypotheses","spin 0/1/2 to other spin 0/1/2 hypothesis
for now reweight among spin 0 and also optionally to 2bplus, will add more spin 1/2 hypotheses",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,21,2016-06-17T17:22:34Z,2016-06-17T17:38:13Z,2016-06-17T17:38:13Z,MERGED,True,56,41,3,https://github.com/hroskes,reweighting,2,[],https://github.com/CJLST/ZZAnalysis/pull/21,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/21,"I have to talk to Candice (today) if she needs any other spin 2 hypotheses implemented, for now reweight to spin 0 hypotheses and 2b+","I have to talk to Candice (today) if she needs any other spin 2 hypotheses implemented, for now reweight to spin 0 hypotheses and 2b+",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,22,2016-06-17T22:34:57Z,2016-06-18T08:08:10Z,2016-06-18T08:08:10Z,MERGED,True,120,58,2,https://github.com/CandiceYou,Add more ggH and VBF samples to csv files.,3,[],https://github.com/CJLST/ZZAnalysis/pull/22,https://github.com/CandiceYou,1,https://github.com/CJLST/ZZAnalysis/pull/22,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,22,2016-06-17T22:34:57Z,2016-06-18T08:08:10Z,2016-06-18T08:08:10Z,MERGED,True,120,58,2,https://github.com/CandiceYou,Add more ggH and VBF samples to csv files.,3,[],https://github.com/CJLST/ZZAnalysis/pull/22,https://github.com/namapane,2,https://github.com/CJLST/ZZAnalysis/pull/22#issuecomment-226899906,,"Uhm, if I check for example /VBF_HToZZTo4L_M800_13TeV_powheg2_JHUgenV6_pythia8/RunIISpring16MiniAODv1-PUSpring16RAWAODSIM_80X_mcRun2_asymptotic_2016_v3-v1/MINIAODSIM , it seems it is not yet available, cf:
https://cmsweb.cern.ch/das/request?view=list&limit=50&instance=prod%2Fglobal&input=%2FVBF_HToZZTo4L_M800_13TeV_powheg2_JHUgenV6_pythia8%2FRunIISpring16MiniAODv1-PUSpring16RAWAODSIM_80X_mcRun2_asymptotic_2016_v3-v1%2FMINIAODSIM
Did you check that all the samples you added are actually available?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,22,2016-06-17T22:34:57Z,2016-06-18T08:08:10Z,2016-06-18T08:08:10Z,MERGED,True,120,58,2,https://github.com/CandiceYou,Add more ggH and VBF samples to csv files.,3,[],https://github.com/CJLST/ZZAnalysis/pull/22,https://github.com/namapane,3,https://github.com/CJLST/ZZAnalysis/pull/22#issuecomment-226901329,,"Also, I suppose that for each given sample we will want to process either the v1 or v2 version, not both (or at least, I am not aware of any reason we should do otherwise). So I would comment out every v1 sample for which a v2 version is available (maybe with a comment that makes it clear that the sample is superseeded); unless the v2 is still so incomplete that we will run only the v1 for this round.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,22,2016-06-17T22:34:57Z,2016-06-18T08:08:10Z,2016-06-18T08:08:10Z,MERGED,True,120,58,2,https://github.com/CandiceYou,Add more ggH and VBF samples to csv files.,3,[],https://github.com/CJLST/ZZAnalysis/pull/22,https://github.com/CandiceYou,4,https://github.com/CJLST/ZZAnalysis/pull/22#issuecomment-226903038,,"In the csv file, I put /VBF_HToZZTo4L_M800_13TeV_powheg2_JHUgenV6_pythia8/RunIISpring16MiniAODv2-PUSpring16RAWAODSIM_80X_mcRun2_asymptotic_2016_miniAODv2_v0-v1/MINIAODSIM, and that one exists. What is the difference between  miniAODv2_v0-v1 and miniAODv2_v1-v3?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,22,2016-06-17T22:34:57Z,2016-06-18T08:08:10Z,2016-06-18T08:08:10Z,MERGED,True,120,58,2,https://github.com/CandiceYou,Add more ggH and VBF samples to csv files.,3,[],https://github.com/CJLST/ZZAnalysis/pull/22,https://github.com/namapane,5,https://github.com/CJLST/ZZAnalysis/pull/22#issuecomment-226904282,,"I actually read v3-v1 in the csv, not v0-v1:
https://github.com/CandiceYou/ZZAnalysis/blob/ba4fa7988fffd9156e1104315f89ff296693aad1/AnalysisStep/test/prod/samples_2016mc_miniaod_v1.csv#L81
Anyhow, I don't find the v0-v1 as well, or am I not looking at the right place?
https://cmsweb.cern.ch/das/request?view=list&limit=50&instance=prod%2Fglobal&input=dataset%3D%2FVBF_HToZZTo4L_M800_13TeV_powheg2_JHUgenV6_pythia8%2FRunIISpring16MiniAODv2-PUSpring16RAWAODSIM_80X_mcRun2_asymptotic_2016_miniAODv2_v0-v1%2FMINIAODSIM
I don't know about v3-v1, I just copied the path I found in the csv file.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,22,2016-06-17T22:34:57Z,2016-06-18T08:08:10Z,2016-06-18T08:08:10Z,MERGED,True,120,58,2,https://github.com/CandiceYou,Add more ggH and VBF samples to csv files.,3,[],https://github.com/CJLST/ZZAnalysis/pull/22,https://github.com/CandiceYou,6,https://github.com/CJLST/ZZAnalysis/pull/22#issuecomment-226905988,,"I see, sorry it's the JHUgen version name. I'm updating.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,22,2016-06-17T22:34:57Z,2016-06-18T08:08:10Z,2016-06-18T08:08:10Z,MERGED,True,120,58,2,https://github.com/CandiceYou,Add more ggH and VBF samples to csv files.,3,[],https://github.com/CJLST/ZZAnalysis/pull/22,https://github.com/CandiceYou,7,https://github.com/CJLST/ZZAnalysis/pull/22#issuecomment-226907660,,"Updated, thanks for catching this!",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,23,2016-06-19T08:44:21Z,2016-06-21T07:35:10Z,2016-06-21T07:35:10Z,MERGED,True,152,1338,5,https://github.com/CandiceYou,add MELA v2 probabilities,4,[],https://github.com/CJLST/ZZAnalysis/pull/23,https://github.com/CandiceYou,1,https://github.com/CJLST/ZZAnalysis/pull/23,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,23,2016-06-19T08:44:21Z,2016-06-21T07:35:10Z,2016-06-21T07:35:10Z,MERGED,True,152,1338,5,https://github.com/CandiceYou,add MELA v2 probabilities,4,[],https://github.com/CJLST/ZZAnalysis/pull/23,https://github.com/usarica,2,https://github.com/CJLST/ZZAnalysis/pull/23#issuecomment-226991710,,Better to have same naming conventions as in ZZ4l. Please fix the names of the MEs.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,23,2016-06-19T08:44:21Z,2016-06-21T07:35:10Z,2016-06-21T07:35:10Z,MERGED,True,152,1338,5,https://github.com/CandiceYou,add MELA v2 probabilities,4,[],https://github.com/CJLST/ZZAnalysis/pull/23,https://github.com/usarica,3,https://github.com/CJLST/ZZAnalysis/pull/23#issuecomment-226992285,,"Comment out/remove L18-20
L83: Mela does not have a default constructor. While L122 takes care of it at the moment, it might not be the safest solution. Please change back to pointers.
L550 should be migrated to constructor, no need to have it per-event.
L593 needs TUtil:computeAngles.
L848 removed, why?
Remove combinedMEM from the implementation. Will only slow down your ME (substantially) and will cause bugs to use combinedMEM and Mela as two different objects (not having one member of the other).
analyzer2l2q.py has a change not relatred to MELA.
checkout recipes needs to be updated.
PR should also remain open until MELA v2 is released (no beta versions).",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,23,2016-06-19T08:44:21Z,2016-06-21T07:35:10Z,2016-06-21T07:35:10Z,MERGED,True,152,1338,5,https://github.com/CandiceYou,add MELA v2 probabilities,4,[],https://github.com/CJLST/ZZAnalysis/pull/23,https://github.com/CandiceYou,4,https://github.com/CJLST/ZZAnalysis/pull/23#issuecomment-227057614,,"@usarica

Comment out/remove L18-20

Done, MEM still needed for p_hjj and p_vbf.

L83: Mela does not have a default constructor. While L122 takes care of it at the moment, it might not be the safest solution. Please change back to pointers.

Changing back to pointers cause problem, keep as it is for now.

L550 should be migrated to constructor, no need to have it per-event.

Done.

L593 needs TUtil:computeAngles.

Done.


L848 removed, why?



It's not removed, it's in later lines.


Remove combinedMEM from the implementation. Will only slow down your ME (substantially) and will cause bugs to use combinedMEM and Mela as two different objects (not having one member of the other).



combinedMEM is needed for p_hjj and p_vbf because these two are empty using MELA v2.


analyzer2l2q.py has a change not relatred to MELA.



This is for including gen events, for efficiency calculation, as mentioned in email. If needed, I can put it in another pull request. There's also a correction of filename in checkProd.csh.

checkout recipes needs to be updated.

Done.


PR should also remain open until MELA v2 is released (no beta versions).



Candice",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,23,2016-06-19T08:44:21Z,2016-06-21T07:35:10Z,2016-06-21T07:35:10Z,MERGED,True,152,1338,5,https://github.com/CandiceYou,add MELA v2 probabilities,4,[],https://github.com/CJLST/ZZAnalysis/pull/23,https://github.com/covarell,5,https://github.com/CJLST/ZZAnalysis/pull/23#issuecomment-227089929,,"For some reason I do not get notifications of that... Now I see the PR, I will send comments soon.
First, why ZZCandidateFiller is removed??",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,23,2016-06-19T08:44:21Z,2016-06-21T07:35:10Z,2016-06-21T07:35:10Z,MERGED,True,152,1338,5,https://github.com/CandiceYou,add MELA v2 probabilities,4,[],https://github.com/CJLST/ZZAnalysis/pull/23,https://github.com/covarell,6,https://github.com/CJLST/ZZAnalysis/pull/23#issuecomment-227094350,,"Other comments:

please go back to skipEmptyEvents = true. In the repository we should always have the default behavior.
in checkout script, do we really want to download ""master"" version of ZZMatrixElement. Is this changing with time? If so, please make a specific branch or tag so that instructions are static (what compiles today always will)",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,23,2016-06-19T08:44:21Z,2016-06-21T07:35:10Z,2016-06-21T07:35:10Z,MERGED,True,152,1338,5,https://github.com/CandiceYou,add MELA v2 probabilities,4,[],https://github.com/CJLST/ZZAnalysis/pull/23,https://github.com/CandiceYou,7,https://github.com/CJLST/ZZAnalysis/pull/23#issuecomment-227183476,,"@covarell @usarica
ZZCandidateFiller is removed because it cannot compile with new version of ZZMatrixElement.
I reverted to skipEmptyEvents = true.
For the checkout, maybe Ulascan can comment, current tag used is v2.0.0.b2",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,24,2016-06-24T18:52:36Z,2016-06-27T17:12:10Z,2016-06-27T17:12:10Z,MERGED,True,55,13,2,https://github.com/hroskes,spin 2 and phantom samples,5,[],https://github.com/CJLST/ZZAnalysis/pull/24,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/24,spin 2 also includes reweighting to spin 0,spin 2 also includes reweighting to spin 0,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,24,2016-06-24T18:52:36Z,2016-06-27T17:12:10Z,2016-06-27T17:12:10Z,MERGED,True,55,13,2,https://github.com/hroskes,spin 2 and phantom samples,5,[],https://github.com/CJLST/ZZAnalysis/pull/24,https://github.com/namapane,2,https://github.com/CJLST/ZZAnalysis/pull/24#issuecomment-228523634,spin 2 also includes reweighting to spin 0,can we put non-SM samples into samples_2016mc_anomalous_miniaod_v2.csv together with the others that are already there?,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,24,2016-06-24T18:52:36Z,2016-06-27T17:12:10Z,2016-06-27T17:12:10Z,MERGED,True,55,13,2,https://github.com/hroskes,spin 2 and phantom samples,5,[],https://github.com/CJLST/ZZAnalysis/pull/24,https://github.com/namapane,3,https://github.com/CJLST/ZZAnalysis/pull/24#issuecomment-228562190,spin 2 also includes reweighting to spin 0,"BTW I'd possibly try to improve sample naming (both for these, and for those in samples_2016mc_anomalous_miniaod_v2.csv ):
-add ""H125"" (or M125, if you prefer) to those at 125; that's somewhat implicit, but helps figuring out what the sample that is. We might also at some point in the future have more points, in Run 1 we had eg both 0MH126 and 0MH125.6;
-Why are the Graviton2PB samples called gg2bp? I find this a bit confusing. In Run I we were calling these samples Grav2PB. Any consistent naming scheme would work, but I would suggest to use ""2PB"", matching the dataset name.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,24,2016-06-24T18:52:36Z,2016-06-27T17:12:10Z,2016-06-27T17:12:10Z,MERGED,True,55,13,2,https://github.com/hroskes,spin 2 and phantom samples,5,[],https://github.com/CJLST/ZZAnalysis/pull/24,https://github.com/usarica,4,https://github.com/CJLST/ZZAnalysis/pull/24#issuecomment-228600350,spin 2 also includes reweighting to spin 0,"Hi everybody,
Adding to Nicola's comments, does it make sense to also rename MCFM samples? The first issue I see is that they are names ggZZ for the background, which is only true for its high mass part, low mass has ZZ, Zg* and g_g_. The second issue is that they show no sign to distingusih between their S+B+I and S-only counterparts. Would it make sense to follow conventions similar to what we had before, with the exception that instead of SMH, we use 0PMH125 (also removing H125.6 part at the end of the name)?
https://github.com/CJLST/ZZAnalysis/blob/master/AnalysisStep/test/prod/analyzer_2012.py#L169 #L212
The reason I suggest this name is the anticipation that we will have 7 different S and S+B+I sets for the EOY. Then Phantom could also follow similar naming convention.
What do you think?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,24,2016-06-24T18:52:36Z,2016-06-27T17:12:10Z,2016-06-27T17:12:10Z,MERGED,True,55,13,2,https://github.com/hroskes,spin 2 and phantom samples,5,[],https://github.com/CJLST/ZZAnalysis/pull/24,https://github.com/hroskes,5,https://github.com/CJLST/ZZAnalysis/pull/24#issuecomment-228606834,spin 2 also includes reweighting to spin 0,Ok I moved the spin 2 samples to the anomalous spreadsheet and adjusted the naming.  Is this what everyone had in mind?,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,24,2016-06-24T18:52:36Z,2016-06-27T17:12:10Z,2016-06-27T17:12:10Z,MERGED,True,55,13,2,https://github.com/hroskes,spin 2 and phantom samples,5,[],https://github.com/CJLST/ZZAnalysis/pull/24,https://github.com/usarica,6,https://github.com/CJLST/ZZAnalysis/pull/24#issuecomment-228609294,spin 2 also includes reweighting to spin 0,"Hi Heshy,
I am okay with MCFM and Phantom. I noticed that it does not have the version number, would you be able to add it? The version number comes up even in some ARC or CWR comments, so I would include it here from the beginning. Nicola could comment on the Graviton samples.
Thank you.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,24,2016-06-24T18:52:36Z,2016-06-27T17:12:10Z,2016-06-27T17:12:10Z,MERGED,True,55,13,2,https://github.com/hroskes,spin 2 and phantom samples,5,[],https://github.com/CJLST/ZZAnalysis/pull/24,https://github.com/namapane,7,https://github.com/CJLST/ZZAnalysis/pull/24#issuecomment-228679908,spin 2 also includes reweighting to spin 0,"I am fine with the changes (we just have to remember advertising the change of ggZZ samples so that people fixes their scripts). My original comment was actually referring also to the samples already present in samples_2016mc_anomalous_miniaod_v2.csv as ""0PH"", ""0L1"", ""0L1f05ph0"", they can maybe made a bit more explicative and consistent with the others. Can you propose a better naming for these? I will anyhow merge the PR later today.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,25,2016-06-25T08:44:00Z,2016-06-25T10:21:55Z,2016-06-25T10:21:56Z,MERGED,True,752,980,15,https://github.com/usarica,ME updates 2l2q_80X,2,[],https://github.com/CJLST/ZZAnalysis/pull/25,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/25,"Changed old-> HighestPTJets, new -> BestDjet in VBF and HJJ MEs as clarification of names were suggested (BestDjet is disabled as was done previously; I don't know why, but I kept it as it is. Just uncomment if needed)
Many MEs in comments are removed, but as they are in history, shouldn't be a problem to get tem back when needed.
combinedMEM is removed, only Mela remains, as a pointer that is deleted at destructor.
Bug fix in CR jet cleaning for MEs (dR=0.5 was unchanged, ak4 jets should probably have 0.4 instead, please tell me if this is wrong and I will revert L574.)","Changed old-> HighestPTJets, new -> BestDjet in VBF and HJJ MEs as clarification of names were suggested (BestDjet is disabled as was done previously; I don't know why, but I kept it as it is. Just uncomment if needed)
Many MEs in comments are removed, but as they are in history, shouldn't be a problem to get tem back when needed.
combinedMEM is removed, only Mela remains, as a pointer that is deleted at destructor.
Bug fix in CR jet cleaning for MEs (dR=0.5 was unchanged, ak4 jets should probably have 0.4 instead, please tell me if this is wrong and I will revert L574.)",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,25,2016-06-25T08:44:00Z,2016-06-25T10:21:55Z,2016-06-25T10:21:56Z,MERGED,True,752,980,15,https://github.com/usarica,ME updates 2l2q_80X,2,[],https://github.com/CJLST/ZZAnalysis/pull/25,https://github.com/covarell,2,https://github.com/CJLST/ZZAnalysis/pull/25#issuecomment-228529636,"Changed old-> HighestPTJets, new -> BestDjet in VBF and HJJ MEs as clarification of names were suggested (BestDjet is disabled as was done previously; I don't know why, but I kept it as it is. Just uncomment if needed)
Many MEs in comments are removed, but as they are in history, shouldn't be a problem to get tem back when needed.
combinedMEM is removed, only Mela remains, as a pointer that is deleted at destructor.
Bug fix in CR jet cleaning for MEs (dR=0.5 was unchanged, ak4 jets should probably have 0.4 instead, please tell me if this is wrong and I will revert L574.)","OK
It would be good not to change trivial things (indentation, space after commas etc.) otherwise it is very difficult for me to understand the real changes with such a long diff log.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,26,2016-07-02T08:12:05Z,2016-07-03T08:46:53Z,2016-07-03T08:46:53Z,CLOSED,False,332,28,5,https://github.com/usarica,Add LHE info (simple treatment pre-MELA v2),4,[],https://github.com/CJLST/ZZAnalysis/pull/26,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/26,"LHE info for mothers and daughters:

Might want to integrate reweighting after migration to MELA v2, will require a couple of classes from v2 if done


LHE weights are migrated, genHepMCweight is removed from LHE weights (so that the nominal weight is 1, gets confusing otherwise)
Minor fix to checkout script (does not always work anywhere otherwise)","LHE info for mothers and daughters:

Might want to integrate reweighting after migration to MELA v2, will require a couple of classes from v2 if done


LHE weights are migrated, genHepMCweight is removed from LHE weights (so that the nominal weight is 1, gets confusing otherwise)
Minor fix to checkout script (does not always work anywhere otherwise)",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,27,2016-07-06T12:44:16Z,2016-07-06T13:21:53Z,2016-07-06T13:21:53Z,MERGED,True,25,11,2,https://github.com/CandiceYou,adding new ggH and VBF samples,8,[],https://github.com/CJLST/ZZAnalysis/pull/27,https://github.com/CandiceYou,1,https://github.com/CJLST/ZZAnalysis/pull/27,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,28,2016-07-06T16:21:54Z,2016-07-06T16:24:32Z,2016-07-15T13:58:45Z,MERGED,True,3,3,1,https://github.com/hroskes,phantom samples,2,[],https://github.com/CJLST/ZZAnalysis/pull/28,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/28,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,28,2016-07-06T16:21:54Z,2016-07-06T16:24:32Z,2016-07-15T13:58:45Z,MERGED,True,3,3,1,https://github.com/hroskes,phantom samples,2,[],https://github.com/CJLST/ZZAnalysis/pull/28,https://github.com/namapane,2,https://github.com/CJLST/ZZAnalysis/pull/28#issuecomment-232956428,,"I have a question, what sample is exactly VBFTo4muJJ_0PMH125Contin_phantom128? What does the ""M"" in ""0PM"" stands for? (Iasked @covarell already)",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,28,2016-07-06T16:21:54Z,2016-07-06T16:24:32Z,2016-07-15T13:58:45Z,MERGED,True,3,3,1,https://github.com/hroskes,phantom samples,2,[],https://github.com/CJLST/ZZAnalysis/pull/28,https://github.com/meng-xiao,3,https://github.com/CJLST/ZZAnalysis/pull/28#issuecomment-232957537,,"I guess that’s “Minimal”, same as spin parity samples, to distinguish from 0PH, which is anomalous coupling.

On Jul 15, 2016, at 3:53 PM, Nicola Amapane notifications@github.com wrote:
I have a question, what sample is exactly VBFTo4muJJ_0PMH125Contin_phantom128? What does the ""M"" in ""0PM"" stands for? (Iasked @covarell https://github.com/covarell already)
—
You are receiving this because you are subscribed to this thread.
Reply to this email directly, view it on GitHub #28 (comment), or mute the thread https://github.com/notifications/unsubscribe-auth/AF9dlDYYvDDQ9bb5y6W-nbINo4OqazFyks5qV5C-gaJpZM4JGQfL.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,28,2016-07-06T16:21:54Z,2016-07-06T16:24:32Z,2016-07-15T13:58:45Z,MERGED,True,3,3,1,https://github.com/hroskes,phantom samples,2,[],https://github.com/CJLST/ZZAnalysis/pull/28,https://github.com/usarica,4,https://github.com/CJLST/ZZAnalysis/pull/28#issuecomment-232957658,,"VBF stands for ""VBF-like process"" (although I guess slightly better choice could be VVH, but it doesn't matter), 4muJJ for the final state (exactly two jets + some 4l final state). 0PM has the same meaning as in spin-parity samples, 0+m (SM) tensor structure (there could also be 0+h - 0PH).",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,28,2016-07-06T16:21:54Z,2016-07-06T16:24:32Z,2016-07-15T13:58:45Z,MERGED,True,3,3,1,https://github.com/hroskes,phantom samples,2,[],https://github.com/CJLST/ZZAnalysis/pull/28,https://github.com/namapane,5,https://github.com/CJLST/ZZAnalysis/pull/28#issuecomment-232957949,,OK thanks. I had missed M=minimal.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,29,2016-07-09T21:25:11Z,2016-07-10T21:15:21Z,2016-07-10T21:17:44Z,MERGED,True,3603,2204,28,https://github.com/usarica,"MELA v2, LHEHandle and LHE_Event",25,[],https://github.com/CJLST/ZZAnalysis/pull/29,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/29,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,29,2016-07-09T21:25:11Z,2016-07-10T21:15:21Z,2016-07-10T21:17:44Z,MERGED,True,3603,2204,28,https://github.com/usarica,"MELA v2, LHEHandle and LHE_Event",25,[],https://github.com/CJLST/ZZAnalysis/pull/29,https://github.com/namapane,2,https://github.com/CJLST/ZZAnalysis/pull/29#issuecomment-231611478,,"Developers/users: please note that this includes renaming of a few tree variables, so that after pulling old trees will not read right away (ie, use scripts from older version to read old trees)",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,30,2016-07-11T14:16:34Z,2016-07-11T14:38:02Z,2016-07-11T14:38:02Z,MERGED,True,5,5,2,https://github.com/hroskes,More MCFM and spin parity samples,1,[],https://github.com/CJLST/ZZAnalysis/pull/30,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/30,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,31,2016-07-13T14:49:32Z,2016-07-13T15:09:16Z,2016-07-13T15:09:16Z,MERGED,True,80,60,2,https://github.com/usarica,EW K factor uncertainties for qqZZ,3,[],https://github.com/CJLST/ZZAnalysis/pull/31,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/31,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,32,2016-07-19T14:48:41Z,2016-07-24T16:35:57Z,2016-07-24T16:35:57Z,MERGED,True,31,31,1,https://github.com/hroskes,reHLT anomalous samples,1,[],https://github.com/CJLST/ZZAnalysis/pull/32,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/32,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,32,2016-07-19T14:48:41Z,2016-07-24T16:35:57Z,2016-07-24T16:35:57Z,MERGED,True,31,31,1,https://github.com/hroskes,reHLT anomalous samples,1,[],https://github.com/CJLST/ZZAnalysis/pull/32,https://github.com/hroskes,2,https://github.com/CJLST/ZZAnalysis/pull/32#issuecomment-234787078,,"Hi Simon, could you merge this one too?  I just switched the anomalous samples to use the reHLT versions after checking that they exist.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,33,2016-07-24T07:54:53Z,2016-07-24T16:27:51Z,2016-07-24T16:27:51Z,MERGED,True,123,8,4,https://github.com/usarica,Add PDF variation and alphaS(mZ) variation,1,[],https://github.com/CJLST/ZZAnalysis/pull/33,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/33,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,34,2016-07-27T19:42:18Z,2016-07-27T20:28:42Z,2016-07-27T20:28:43Z,MERGED,True,14,2,2,https://github.com/sudhaahuja,2016 ele SFs,1,[],https://github.com/CJLST/ZZAnalysis/pull/34,https://github.com/sudhaahuja,1,https://github.com/CJLST/ZZAnalysis/pull/34,Updated the HZZ2l2qNtupleMaker.cc with 2016 electron SFs and also uploaded the SF root file.,Updated the HZZ2l2qNtupleMaker.cc with 2016 electron SFs and also uploaded the SF root file.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,35,2016-08-01T21:41:31Z,2016-10-04T18:20:29Z,2016-10-04T18:20:29Z,CLOSED,False,81,30,6,https://github.com/CandiceYou,"update muon/electron SF ,  update MC sample list",4,[],https://github.com/CJLST/ZZAnalysis/pull/35,https://github.com/CandiceYou,1,https://github.com/CJLST/ZZAnalysis/pull/35,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,36,2016-10-05T05:52:51Z,2016-10-05T07:13:10Z,2016-10-05T07:13:10Z,MERGED,True,38,6,1,https://github.com/CandiceYou,2l2q 80 x,2,[],https://github.com/CJLST/ZZAnalysis/pull/36,https://github.com/CandiceYou,1,https://github.com/CJLST/ZZAnalysis/pull/36,"add spin2 samples
add additional spin0 ggH and VBF samples","add spin2 samples
add additional spin0 ggH and VBF samples",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,37,2016-11-21T14:34:40Z,2017-01-19T07:17:14Z,2017-01-19T07:17:14Z,MERGED,True,29733,2721,243,https://github.com/usarica,ME branches and reweighting re-written,154,[],https://github.com/CJLST/ZZAnalysis/pull/37,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/37,"test area scripts need checking, may not compile/use incorrect MEs
csv files not edited at the moment.","test area scripts need checking, may not compile/use incorrect MEs
csv files not edited at the moment.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,37,2016-11-21T14:34:40Z,2017-01-19T07:17:14Z,2017-01-19T07:17:14Z,MERGED,True,29733,2721,243,https://github.com/usarica,ME branches and reweighting re-written,154,[],https://github.com/CJLST/ZZAnalysis/pull/37,https://github.com/namapane,2,https://github.com/CJLST/ZZAnalysis/pull/37#issuecomment-262372095,"test area scripts need checking, may not compile/use incorrect MEs
csv files not edited at the moment.","I had a quick look at the diffs and it looks OK, but hadn't had the time to test it. Did you try to run the usual synchronization? I suppose we should expect all discriminant to change slightly given the changes in MELA, right?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,37,2016-11-21T14:34:40Z,2017-01-19T07:17:14Z,2017-01-19T07:17:14Z,MERGED,True,29733,2721,243,https://github.com/usarica,ME branches and reweighting re-written,154,[],https://github.com/CJLST/ZZAnalysis/pull/37,https://github.com/namapane,3,https://github.com/CJLST/ZZAnalysis/pull/37#issuecomment-264823014,"test area scripts need checking, may not compile/use incorrect MEs
csv files not edited at the moment.","Hi, I started testing this but I see that the checkout recipe does not include the new MELA version, am I right?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,37,2016-11-21T14:34:40Z,2017-01-19T07:17:14Z,2017-01-19T07:17:14Z,MERGED,True,29733,2721,243,https://github.com/usarica,ME branches and reweighting re-written,154,[],https://github.com/CJLST/ZZAnalysis/pull/37,https://github.com/namapane,4,https://github.com/CJLST/ZZAnalysis/pull/37#issuecomment-264827210,"test area scripts need checking, may not compile/use incorrect MEs
csv files not edited at the moment.","@usarica , I think you should replace L50 in checkout_80X.csh with:
(cd ZZMatrixElement ; git checkout -b from-v2.0.1.b1 v2.0.1.b1)
and in addition, you should modify
ZZMatrixElement/MELA/data/slc6_amd64_gcc530/download.url
to pick libmcfm_702.so
Can you please do these modifications?
Thanks
N.
(@covarell : FYI)",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,38,2017-01-18T13:47:41Z,2017-01-25T13:59:32Z,2017-01-25T13:59:32Z,MERGED,True,964,47,8,https://github.com/trtomei,Bringing 2l2q_80X back in sync with miniAOD_80X,3,[],https://github.com/CJLST/ZZAnalysis/pull/38,https://github.com/trtomei,1,https://github.com/CJLST/ZZAnalysis/pull/38,"I am bringing the 2l2q_80X branch back in sync with the miniAOD_80X branch. The only needed changes where:

Moving to the new B-tagging infrastructure (""standalone"")
Having the checkout script get the custom KinZfitter from Tongguang

Checked that it compiles cleanly with CMSSW_8_0_24_patch1","I am bringing the 2l2q_80X branch back in sync with the miniAOD_80X branch. The only needed changes where:

Moving to the new B-tagging infrastructure (""standalone"")
Having the checkout script get the custom KinZfitter from Tongguang

Checked that it compiles cleanly with CMSSW_8_0_24_patch1",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,38,2017-01-18T13:47:41Z,2017-01-25T13:59:32Z,2017-01-25T13:59:32Z,MERGED,True,964,47,8,https://github.com/trtomei,Bringing 2l2q_80X back in sync with miniAOD_80X,3,[],https://github.com/CJLST/ZZAnalysis/pull/38,https://github.com/covarell,2,https://github.com/CJLST/ZZAnalysis/pull/38#issuecomment-273781466,"I am bringing the 2l2q_80X branch back in sync with the miniAOD_80X branch. The only needed changes where:

Moving to the new B-tagging infrastructure (""standalone"")
Having the checkout script get the custom KinZfitter from Tongguang

Checked that it compiles cleanly with CMSSW_8_0_24_patch1","@namapane , Thiago will be the new developer of ""2l2q"" analysis branches, so it would be better if he gets merging rights.
To both of you: I thought about initiating a new branch called ""2l2q_Moriond17"", to preserve the code for the PAS analysis fixed. But in fact I see that for 4l people started updating the very same branch we used for ICHEP16 (""miniAOD_80X""). Is this a general policy of the package?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,38,2017-01-18T13:47:41Z,2017-01-25T13:59:32Z,2017-01-25T13:59:32Z,MERGED,True,964,47,8,https://github.com/trtomei,Bringing 2l2q_80X back in sync with miniAOD_80X,3,[],https://github.com/CJLST/ZZAnalysis/pull/38,https://github.com/covarell,3,https://github.com/CJLST/ZZAnalysis/pull/38#issuecomment-274810408,"I am bringing the 2l2q_80X branch back in sync with the miniAOD_80X branch. The only needed changes where:

Moving to the new B-tagging infrastructure (""standalone"")
Having the checkout script get the custom KinZfitter from Tongguang

Checked that it compiles cleanly with CMSSW_8_0_24_patch1",ping @namapane,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,39,2017-01-19T21:52:23Z,2017-01-20T08:59:56Z,2017-01-20T08:59:56Z,MERGED,True,91,18,5,https://github.com/hroskes,c constants and fix,2,[],https://github.com/CJLST/ZZAnalysis/pull/39,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/39,"WPs as functions in cConstants.cc, and functions to get the c constant for shifted WP.  Synchronizer output doesn't change.
Fix for a very rare bug which happens in ggH125_scaledown_minloHJJ_Chunk0.  One of the associated jets has eta of infinity by accident and root was throwing an error.","WPs as functions in cConstants.cc, and functions to get the c constant for shifted WP.  Synchronizer output doesn't change.
Fix for a very rare bug which happens in ggH125_scaledown_minloHJJ_Chunk0.  One of the associated jets has eta of infinity by accident and root was throwing an error.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,40,2017-01-20T13:49:57Z,2017-01-20T14:08:59Z,2017-01-20T14:08:59Z,MERGED,True,3,3,1,https://github.com/usarica,"forgot EW, which is quite critical",1,[],https://github.com/CJLST/ZZAnalysis/pull/40,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/40,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,41,2017-01-25T12:03:23Z,2017-01-25T12:23:18Z,2017-01-25T12:23:18Z,MERGED,True,411,409,164,https://github.com/usarica,fixes,6,[],https://github.com/CJLST/ZZAnalysis/pull/41,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/41,... and update to MELA v2.0.3,... and update to MELA v2.0.3,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,42,2017-01-29T13:40:03Z,2017-02-01T09:34:01Z,2017-02-01T09:34:01Z,MERGED,True,11,7,4,https://github.com/hroskes,uncomment more samples,4,[],https://github.com/CJLST/ZZAnalysis/pull/42,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/42,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,43,2017-02-02T20:09:55Z,2017-02-03T10:03:47Z,2017-02-03T10:03:48Z,MERGED,True,130,42,3,https://github.com/usarica,Missing MEs,1,[],https://github.com/CJLST/ZZAnalysis/pull/43,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/43,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,44,2017-02-17T10:24:05Z,2017-02-17T10:24:13Z,2017-02-17T10:24:13Z,MERGED,True,1436,379,51,https://github.com/usarica,"Comma fixes, replace addAC",1,[],https://github.com/CJLST/ZZAnalysis/pull/44,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/44,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,45,2017-02-18T03:20:21Z,2017-02-18T03:20:27Z,2017-02-18T03:20:27Z,MERGED,True,23,0,4,https://github.com/usarica,Script comments,1,[],https://github.com/CJLST/ZZAnalysis/pull/45,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/45,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,46,2017-02-23T19:16:12Z,2019-08-29T12:20:03Z,2019-08-29T19:26:36Z,CLOSED,False,92,6,5,https://github.com/usarica,HiggsMassConstraint,6,[],https://github.com/CJLST/ZZAnalysis/pull/46,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/46,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,46,2017-02-23T19:16:12Z,2019-08-29T12:20:03Z,2019-08-29T19:26:36Z,CLOSED,False,92,6,5,https://github.com/usarica,HiggsMassConstraint,6,[],https://github.com/CJLST/ZZAnalysis/pull/46,https://github.com/usarica,2,https://github.com/CJLST/ZZAnalysis/pull/46#issuecomment-282091701,,"Testing compilation...
I haven't separated KinZFitter and HMC kinematic refitting options, but I could if you would like.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,46,2017-02-23T19:16:12Z,2019-08-29T12:20:03Z,2019-08-29T19:26:36Z,CLOSED,False,92,6,5,https://github.com/usarica,HiggsMassConstraint,6,[],https://github.com/CJLST/ZZAnalysis/pull/46,https://github.com/usarica,3,https://github.com/CJLST/ZZAnalysis/pull/46#issuecomment-282118482,,"Compilation successful, running on signal and DY MC, no problems so far",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,47,2017-03-27T16:40:19Z,2017-03-27T16:41:23Z,2017-03-27T16:41:23Z,MERGED,True,2062,3,26,https://github.com/usarica,LHE reweighting fragments for MCFM,1,[],https://github.com/CJLST/ZZAnalysis/pull/47,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/47,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,48,2017-09-20T12:17:14Z,2017-09-20T14:14:43Z,2017-09-20T14:14:43Z,MERGED,True,12209,11078,97,https://github.com/usarica,NLO phase space approximation in reweighting,5,[],https://github.com/CJLST/ZZAnalysis/pull/48,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/48,"Adds the QCD NLO phasespace approximation to LO QCD for VBF and VH POWHEG (+/- MiNLO) samples, via the MELACandidateRecaster class
Changes the reweighting clusters in POWHEG samples (and fixes one common bug), implements the cluster computation subroutines to NtupleMaker.
Adds some necessary MEs","Adds the QCD NLO phasespace approximation to LO QCD for VBF and VH POWHEG (+/- MiNLO) samples, via the MELACandidateRecaster class
Changes the reweighting clusters in POWHEG samples (and fixes one common bug), implements the cluster computation subroutines to NtupleMaker.
Adds some necessary MEs",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,49,2017-09-26T11:49:26Z,2017-09-26T11:49:33Z,2017-09-26T11:49:33Z,MERGED,True,96,29,4,https://github.com/usarica,Patch for NLO WH reweighting,3,[],https://github.com/CJLST/ZZAnalysis/pull/49,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/49,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,50,2017-10-21T11:16:09Z,2017-10-23T09:34:01Z,2017-10-23T09:34:01Z,MERGED,True,9092,0,35,https://github.com/tocheng,2l2q 80x adding scripts for 2016 data analysis,2,[],https://github.com/CJLST/ZZAnalysis/pull/50,https://github.com/tocheng,1,https://github.com/CJLST/ZZAnalysis/pull/50,"Add one dir named reminiAOD under test/Plotter dir,
containing the scripts to make histograms and background templates.
More details can be found in README under reminiAOD.","Add one dir named reminiAOD under test/Plotter dir,
containing the scripts to make histograms and background templates.
More details can be found in README under reminiAOD.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,51,2017-10-30T17:56:05Z,2017-11-05T09:40:57Z,2017-11-05T09:40:57Z,MERGED,True,3011,216,32,https://github.com/sudhaahuja,Update 2l2q_80X branch,21,[],https://github.com/CJLST/ZZAnalysis/pull/51,https://github.com/sudhaahuja,1,https://github.com/CJLST/ZZAnalysis/pull/51,Updating the 2l2q_80X branch with the latest code used for the 2016 2l2q analysis,Updating the 2l2q_80X branch with the latest code used for the 2016 2l2q analysis,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,51,2017-10-30T17:56:05Z,2017-11-05T09:40:57Z,2017-11-05T09:40:57Z,MERGED,True,3011,216,32,https://github.com/sudhaahuja,Update 2l2q_80X branch,21,[],https://github.com/CJLST/ZZAnalysis/pull/51,https://github.com/covarell,2,https://github.com/CJLST/ZZAnalysis/pull/51#issuecomment-340717213,Updating the 2l2q_80X branch with the latest code used for the 2016 2l2q analysis,"plotDataVsMC_2l2q.C has conflicts, please solve them (edit file manually) and make another commit
in checkout_80X:
-- I think we concluded we need MELA V2.1.0 to compile the package (see thread with @nsahoo and  @usarica about missing MCFM library)
-- the checkout should take the ""CJLST"" version of the package itself and not the ""sudhaahuja"" version",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,51,2017-10-30T17:56:05Z,2017-11-05T09:40:57Z,2017-11-05T09:40:57Z,MERGED,True,3011,216,32,https://github.com/sudhaahuja,Update 2l2q_80X branch,21,[],https://github.com/CJLST/ZZAnalysis/pull/51,https://github.com/usarica,3,https://github.com/CJLST/ZZAnalysis/pull/51#issuecomment-340719719,Updating the 2l2q_80X branch with the latest code used for the 2016 2l2q analysis,"@covarell I think MELA v2.1.1 should be used in 9.X checkout, but not in 8.X.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,51,2017-10-30T17:56:05Z,2017-11-05T09:40:57Z,2017-11-05T09:40:57Z,MERGED,True,3011,216,32,https://github.com/sudhaahuja,Update 2l2q_80X branch,21,[],https://github.com/CJLST/ZZAnalysis/pull/51,https://github.com/covarell,4,https://github.com/CJLST/ZZAnalysis/pull/51#issuecomment-340724179,Updating the 2l2q_80X branch with the latest code used for the 2016 2l2q analysis,"Ahem... So I misunderstood. What do you suggest for compilation in 8.0.X, considering the problem with the missing MCFM library?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,51,2017-10-30T17:56:05Z,2017-11-05T09:40:57Z,2017-11-05T09:40:57Z,MERGED,True,3011,216,32,https://github.com/sudhaahuja,Update 2l2q_80X branch,21,[],https://github.com/CJLST/ZZAnalysis/pull/51,https://github.com/usarica,5,https://github.com/CJLST/ZZAnalysis/pull/51#issuecomment-340726029,Updating the 2l2q_80X branch with the latest code used for the 2016 2l2q analysis,"@covarell Indeed, v2.1.0 should be used for 8.X. I thought the purpose of this PR was to migrate the framework to 9.X. Maybe we could separate the checkout scripts to avoid this confusion and remain backward compatible.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,51,2017-10-30T17:56:05Z,2017-11-05T09:40:57Z,2017-11-05T09:40:57Z,MERGED,True,3011,216,32,https://github.com/sudhaahuja,Update 2l2q_80X branch,21,[],https://github.com/CJLST/ZZAnalysis/pull/51,https://github.com/covarell,6,https://github.com/CJLST/ZZAnalysis/pull/51#issuecomment-340726398,Updating the 2l2q_80X branch with the latest code used for the 2016 2l2q analysis,Will do. But for the moment we need a consistent 80X version.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,51,2017-10-30T17:56:05Z,2017-11-05T09:40:57Z,2017-11-05T09:40:57Z,MERGED,True,3011,216,32,https://github.com/sudhaahuja,Update 2l2q_80X branch,21,[],https://github.com/CJLST/ZZAnalysis/pull/51,https://github.com/usarica,7,https://github.com/CJLST/ZZAnalysis/pull/51#issuecomment-340726923,Updating the 2l2q_80X branch with the latest code used for the 2016 2l2q analysis,"I didn't realize there was no consistency achieved in 80X. I agree then that before doing anything else, a consistent 80X branch should be put together, and that the MELA version in the PR should be changed to v2.1.0.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,51,2017-10-30T17:56:05Z,2017-11-05T09:40:57Z,2017-11-05T09:40:57Z,MERGED,True,3011,216,32,https://github.com/sudhaahuja,Update 2l2q_80X branch,21,[],https://github.com/CJLST/ZZAnalysis/pull/51,https://github.com/nsahoo,8,https://github.com/CJLST/ZZAnalysis/pull/51#issuecomment-340728469,Updating the 2l2q_80X branch with the latest code used for the 2016 2l2q analysis,@usarica suggested us previously to use MELA version v2.1.0.p2 in 8ox.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,51,2017-10-30T17:56:05Z,2017-11-05T09:40:57Z,2017-11-05T09:40:57Z,MERGED,True,3011,216,32,https://github.com/sudhaahuja,Update 2l2q_80X branch,21,[],https://github.com/CJLST/ZZAnalysis/pull/51,https://github.com/usarica,9,https://github.com/CJLST/ZZAnalysis/pull/51#issuecomment-340729956,Updating the 2l2q_80X branch with the latest code used for the 2016 2l2q analysis,"@nsahoo @sudhaahuja v2.1.0.p1 or .p2 should both work fine. The release is 8.X, so there should be no slc6 gcc6.3.0 scram arch yet. However, don't go to v2.1.1.b1 or later releases.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,52,2018-01-11T18:49:16Z,2018-01-11T19:43:14Z,2018-01-11T19:43:14Z,MERGED,True,551,242,5,https://github.com/hroskes,update GENBR and BR,5,[],https://github.com/CJLST/ZZAnalysis/pull/52,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/52,"GENBR is calculated for all samples except ggH 550, ggH 800, ZH 550 which were missing in the most recent production.

the missing ones are set to 999 in the GENBR column


for ZH above 300, BR's are calculated (previously 0)
BR for 120-130 is set to the YR4 value

for ZH and ttH, I multiply the number that was previously there by BR_YR4_ZZ / BR_YR3_ZZ


scripts for all this are included","GENBR is calculated for all samples except ggH 550, ggH 800, ZH 550 which were missing in the most recent production.

the missing ones are set to 999 in the GENBR column


for ZH above 300, BR's are calculated (previously 0)
BR for 120-130 is set to the YR4 value

for ZH and ttH, I multiply the number that was previously there by BR_YR4_ZZ / BR_YR3_ZZ


scripts for all this are included",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,53,2018-01-30T19:54:38Z,2018-01-31T08:58:13Z,2018-01-31T12:43:45Z,MERGED,True,136,60,4,https://github.com/hroskes,LHE weights for 2017 MC,9,[],https://github.com/CJLST/ZZAnalysis/pull/53,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/53,"For 2017 MC:

genHEPMCweight = default weight * (NLO pdf weight) / (NNLO pdf weight)
genHEPMCweight_NNLO = default weight

This should not be used for anything except debugging.  It doesn't have any physical meaning.  We can probably remove it at some point


Uncertainties:

all of them should be multiplied by genHEPMCweight, as was previously done
QCD scale uncertainties are for the NNLO pdf with varied muR and muF.  The variations for the NLO pdf are not provided.  We have to assume it factorizes.
PDF variations are now done with the Hessian method, see the links in the code.  They are for the NLO pdf and are symmetric.  They are divided by the NNLO-->NLO correction factor so that they can be multiplied by genHEPMCweight (which includes this factor), as was done previously.
alphas variations are also for the NLO pdf, with the same story about the correction factor



I put some fairly strict checks on what weights should and should not exist in the header, and the job will fail if the expected weights don't exist (unless there are no alternate weights, as in the case of MCFM or JHUGen) or if extra alternate weights with low indices exist.  I think this is subtle enough that we really don't want to make mistakes, so strict sanity checks are necessary.
I tested 2017 POWHEG and MCFM, and they work.  I also checked that 2016 samples for both POWHEG and MCFM give exactly the same tree content as they used to.","For 2017 MC:

genHEPMCweight = default weight * (NLO pdf weight) / (NNLO pdf weight)
genHEPMCweight_NNLO = default weight

This should not be used for anything except debugging.  It doesn't have any physical meaning.  We can probably remove it at some point


Uncertainties:

all of them should be multiplied by genHEPMCweight, as was previously done
QCD scale uncertainties are for the NNLO pdf with varied muR and muF.  The variations for the NLO pdf are not provided.  We have to assume it factorizes.
PDF variations are now done with the Hessian method, see the links in the code.  They are for the NLO pdf and are symmetric.  They are divided by the NNLO-->NLO correction factor so that they can be multiplied by genHEPMCweight (which includes this factor), as was done previously.
alphas variations are also for the NLO pdf, with the same story about the correction factor



I put some fairly strict checks on what weights should and should not exist in the header, and the job will fail if the expected weights don't exist (unless there are no alternate weights, as in the case of MCFM or JHUGen) or if extra alternate weights with low indices exist.  I think this is subtle enough that we really don't want to make mistakes, so strict sanity checks are necessary.
I tested 2017 POWHEG and MCFM, and they work.  I also checked that 2016 samples for both POWHEG and MCFM give exactly the same tree content as they used to.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,54,2018-02-05T18:11:09Z,2018-02-05T18:43:01Z,2018-02-05T18:43:01Z,MERGED,True,28,8,3,https://github.com/hroskes," store POWHEG original weight, better normalization for systematics",2,[],https://github.com/CJLST/ZZAnalysis/pull/54,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/54,"systematics are now normalized so that the weight for the variation is genHEPMCweight * LHEweight_<systematic>, rather than genHEPMCweight * LHEweight_<systematic> / LHEweight_QCDscale_muR1_muF1
LHEweight_QCDscale_muR1_muF1 is always 1, but kept for compatibility, so you can still use the old formula
LHEweight_POWHEGonly stores the weight from POWHEG before any JHUGen correction.  It's the same as genHEPMCweight_NNLO except in high mass samples, where genHEPMCweight_NNLO includes the weight from JHUGen.","systematics are now normalized so that the weight for the variation is genHEPMCweight * LHEweight_<systematic>, rather than genHEPMCweight * LHEweight_<systematic> / LHEweight_QCDscale_muR1_muF1
LHEweight_QCDscale_muR1_muF1 is always 1, but kept for compatibility, so you can still use the old formula
LHEweight_POWHEGonly stores the weight from POWHEG before any JHUGen correction.  It's the same as genHEPMCweight_NNLO except in high mass samples, where genHEPMCweight_NNLO includes the weight from JHUGen.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,55,2018-04-02T19:53:39Z,2018-04-03T07:56:12Z,2018-04-03T07:56:12Z,MERGED,True,61,52,2,https://github.com/hroskes,fix branching ratios,2,[],https://github.com/CJLST/ZZAnalysis/pull/55,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/55,"fix branching ratios

pythia variations don't have a filter
use the correct number for ZH filter efficiency from POWHEG+JHUGen

(the previous number was estimated from JHUGen+JHUGen)
2% effect","fix branching ratios

pythia variations don't have a filter
use the correct number for ZH filter efficiency from POWHEG+JHUGen

(the previous number was estimated from JHUGen+JHUGen)
2% effect",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,56,2018-04-18T18:52:35Z,2018-04-19T16:08:04Z,2018-04-19T16:08:04Z,MERGED,True,844,0,15,https://github.com/hroskes,"pyFragments for L1Zg, with special treatment in VBF",1,[],https://github.com/CJLST/ZZAnalysis/pull/56,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/56,"For ggH and ZH, nothing special, these are just more pyfragments.
For VBF, the pure L1Zg sample can't be reweighted to any other hypothesis.  This is because the other hypotheses contain WW, with flavor combinations such as uubar --> ddbar.  It's a mistake to include those ME's in the tree when they don't represent the whole process.
To fix it, for this sample only, I renamed those probabilities from ghv --> ghz, and turned on separateWWZZcouplings.  The other option is just to remove the probabilities altogether for this sample.","For ggH and ZH, nothing special, these are just more pyfragments.
For VBF, the pure L1Zg sample can't be reweighted to any other hypothesis.  This is because the other hypotheses contain WW, with flavor combinations such as uubar --> ddbar.  It's a mistake to include those ME's in the tree when they don't represent the whole process.
To fix it, for this sample only, I renamed those probabilities from ghv --> ghz, and turned on separateWWZZcouplings.  The other option is just to remove the probabilities altogether for this sample.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,56,2018-04-18T18:52:35Z,2018-04-19T16:08:04Z,2018-04-19T16:08:04Z,MERGED,True,844,0,15,https://github.com/hroskes,"pyFragments for L1Zg, with special treatment in VBF",1,[],https://github.com/CJLST/ZZAnalysis/pull/56,https://github.com/usarica,2,https://github.com/CJLST/ZZAnalysis/pull/56#issuecomment-382493137,"For ggH and ZH, nothing special, these are just more pyfragments.
For VBF, the pure L1Zg sample can't be reweighted to any other hypothesis.  This is because the other hypotheses contain WW, with flavor combinations such as uubar --> ddbar.  It's a mistake to include those ME's in the tree when they don't represent the whole process.
To fix it, for this sample only, I renamed those probabilities from ghv --> ghz, and turned on separateWWZZcouplings.  The other option is just to remove the probabilities altogether for this sample.","I would keep the names to be the same and just remove the other probabilities. MELA should know what to do, and your life will be simpler.
However, we should discuss in person first before this is merged, and this will happen on April 19, 2018.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,56,2018-04-18T18:52:35Z,2018-04-19T16:08:04Z,2018-04-19T16:08:04Z,MERGED,True,844,0,15,https://github.com/hroskes,"pyFragments for L1Zg, with special treatment in VBF",1,[],https://github.com/CJLST/ZZAnalysis/pull/56,https://github.com/hroskes,3,https://github.com/CJLST/ZZAnalysis/pull/56#issuecomment-382792286,"For ggH and ZH, nothing special, these are just more pyfragments.
For VBF, the pure L1Zg sample can't be reweighted to any other hypothesis.  This is because the other hypotheses contain WW, with flavor combinations such as uubar --> ddbar.  It's a mistake to include those ME's in the tree when they don't represent the whole process.
To fix it, for this sample only, I renamed those probabilities from ghv --> ghz, and turned on separateWWZZcouplings.  The other option is just to remove the probabilities altogether for this sample.",Ulascan and I talked and agreed this is ok,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,57,2018-05-30T14:07:15Z,2018-05-30T21:44:27Z,2018-05-31T10:13:50Z,MERGED,True,6,0,1,https://github.com/hroskes,quick implementation to use NNPDF3.0,1,[],https://github.com/CJLST/ZZAnalysis/pull/57,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/57,"I just put it as a const static bool set to true.
Before I merge, does anyone (Toni?) see a need to have a flag in the csv file?  Or to keep NNPDF3.1 as well in its own branch?","I just put it as a const static bool set to true.
Before I merge, does anyone (Toni?) see a need to have a flag in the csv file?  Or to keep NNPDF3.1 as well in its own branch?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,57,2018-05-30T14:07:15Z,2018-05-30T21:44:27Z,2018-05-31T10:13:50Z,MERGED,True,6,0,1,https://github.com/hroskes,quick implementation to use NNPDF3.0,1,[],https://github.com/CJLST/ZZAnalysis/pull/57,https://github.com/tsculac,2,https://github.com/CJLST/ZZAnalysis/pull/57#issuecomment-393484077,"I just put it as a const static bool set to true.
Before I merge, does anyone (Toni?) see a need to have a flag in the csv file?  Or to keep NNPDF3.1 as well in its own branch?","Hi Heshy,

this is OK with me. Could you just please add a comment explaining in detail why this bool was introduced so we don’t forget it in the future.

Thanks a lot,
Toni
…
 On 30 May 2018, at 16:07, Heshy Roskes ***@***.***> wrote:

 I just put it as a const static bool set to true.

 Before I merge, does anyone (Toni?) see a need to have a flag in the csv file? Or to keep NNPDF3.1 as well in its own branch?

 You can view, comment on, or merge this pull request online at:

   #57 <#57>
 Commit Summary

 quick implementation to use NNPDF3.0
 File Changes

 M AnalysisStep/src/LHEHandler.cc <https://github.com/CJLST/ZZAnalysis/pull/57/files#diff-0> (6)
 Patch Links:

 https://github.com/CJLST/ZZAnalysis/pull/57.patch <https://github.com/CJLST/ZZAnalysis/pull/57.patch>
 https://github.com/CJLST/ZZAnalysis/pull/57.diff <https://github.com/CJLST/ZZAnalysis/pull/57.diff>
 —
 You are receiving this because you are subscribed to this thread.
 Reply to this email directly, view it on GitHub <#57>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AOY8lL1xSBaYIzEhnSU93XlYdWjgv2TWks5t3qeVgaJpZM4UTWeS>.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,58,2018-05-31T18:57:55Z,2018-05-31T18:58:03Z,2018-05-31T18:58:03Z,MERGED,True,196,139,5,https://github.com/hroskes,genxsecs and genbrs,4,[],https://github.com/CJLST/ZZAnalysis/pull/58,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/58,"genxsecs for 2016 are rerun for ZH and ttH, without the filter efficiency
genbrs are updated for the mass dependency of the filter efficiency","genxsecs for 2016 are rerun for ZH and ttH, without the filter efficiency
genbrs are updated for the mass dependency of the filter efficiency",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,59,2018-06-24T17:17:36Z,2018-06-24T17:17:44Z,2018-06-24T17:17:44Z,MERGED,True,6,0,1,https://github.com/usarica,Initial QQ MEs,2,[],https://github.com/CJLST/ZZAnalysis/pull/59,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/59,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,60,2018-06-26T12:23:12Z,2019-05-01T12:48:16Z,2019-05-01T12:48:16Z,CLOSED,False,475,22,18,https://github.com/guitargeek,Rename and integrate Fall17 Electron MVA,1,[],https://github.com/CJLST/ZZAnalysis/pull/60,https://github.com/guitargeek,1,https://github.com/CJLST/ZZAnalysis/pull/60,"Hi CJLST,
here a small PR to integrate the currently used 2017 Electron ID into ZZAnalysis in order to make it independent from two of my private repositories and above all, take the occasion to rename the currently used ID.
The problem is that now that the official 2017 Fall17V2 ID is out, I often get emails from people who are confused that they don't get the same BDT values as HZZ. That's because the ""V2"" ID used in this analysis is actually not the V2 in Egamma (trained with xgboost) but basically the V1 (trained with TMVA) retrained on 94X DY+Jets instead of 92X DY+Jets.
So in bullet points:

POG V1: trained on 92X (Summer17 MC campaign) samples with TMVA
The inofficial V2 used in ZZAnalysis now (which I propose to call V1_94X in this PR): trained on 94X (Fall17 MC campaign) samples with TMVA
POG V2: trained on 94X (Fall17 MC campaign) samples with xgboost

Small note on the POG ID: is was trained with xgboost instead of TMVA for better performance and faster training [1,2,3]. It also includes a working point which I tuned the HZZ way [4]: same signal efficiencies as in the year before. That's probably the one you want to use in the future. I will make scale factors for it when the time comes.
I hope this PR clears op the confusion and I won't get any more questions about that in the future :D Is there any quick way for me to test that the ID output is indeed the same as before this PR?
Cheers,
Jonas
[1] https://rembserj.web.cern.ch/rembserj/slides/180321_egamma.pdf
[2] https://rembserj.web.cern.ch/rembserj/slides/180530_egamma.pdf
[3] cms-sw/cmssw#23473
[4] https://github.com/cms-sw/cmssw/pull/23473/files#diff-cbd72b944578b1f5bb3583e526aa8b14R30","Hi CJLST,
here a small PR to integrate the currently used 2017 Electron ID into ZZAnalysis in order to make it independent from two of my private repositories and above all, take the occasion to rename the currently used ID.
The problem is that now that the official 2017 Fall17V2 ID is out, I often get emails from people who are confused that they don't get the same BDT values as HZZ. That's because the ""V2"" ID used in this analysis is actually not the V2 in Egamma (trained with xgboost) but basically the V1 (trained with TMVA) retrained on 94X DY+Jets instead of 92X DY+Jets.
So in bullet points:

POG V1: trained on 92X (Summer17 MC campaign) samples with TMVA
The inofficial V2 used in ZZAnalysis now (which I propose to call V1_94X in this PR): trained on 94X (Fall17 MC campaign) samples with TMVA
POG V2: trained on 94X (Fall17 MC campaign) samples with xgboost

Small note on the POG ID: is was trained with xgboost instead of TMVA for better performance and faster training [1,2,3]. It also includes a working point which I tuned the HZZ way [4]: same signal efficiencies as in the year before. That's probably the one you want to use in the future. I will make scale factors for it when the time comes.
I hope this PR clears op the confusion and I won't get any more questions about that in the future :D Is there any quick way for me to test that the ID output is indeed the same as before this PR?
Cheers,
Jonas
[1] https://rembserj.web.cern.ch/rembserj/slides/180321_egamma.pdf
[2] https://rembserj.web.cern.ch/rembserj/slides/180530_egamma.pdf
[3] cms-sw/cmssw#23473
[4] https://github.com/cms-sw/cmssw/pull/23473/files#diff-cbd72b944578b1f5bb3583e526aa8b14R30",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,60,2018-06-26T12:23:12Z,2019-05-01T12:48:16Z,2019-05-01T12:48:16Z,CLOSED,False,475,22,18,https://github.com/guitargeek,Rename and integrate Fall17 Electron MVA,1,[],https://github.com/CJLST/ZZAnalysis/pull/60,https://github.com/usarica,2,https://github.com/CJLST/ZZAnalysis/pull/60#issuecomment-400311134,"Hi CJLST,
here a small PR to integrate the currently used 2017 Electron ID into ZZAnalysis in order to make it independent from two of my private repositories and above all, take the occasion to rename the currently used ID.
The problem is that now that the official 2017 Fall17V2 ID is out, I often get emails from people who are confused that they don't get the same BDT values as HZZ. That's because the ""V2"" ID used in this analysis is actually not the V2 in Egamma (trained with xgboost) but basically the V1 (trained with TMVA) retrained on 94X DY+Jets instead of 92X DY+Jets.
So in bullet points:

POG V1: trained on 92X (Summer17 MC campaign) samples with TMVA
The inofficial V2 used in ZZAnalysis now (which I propose to call V1_94X in this PR): trained on 94X (Fall17 MC campaign) samples with TMVA
POG V2: trained on 94X (Fall17 MC campaign) samples with xgboost

Small note on the POG ID: is was trained with xgboost instead of TMVA for better performance and faster training [1,2,3]. It also includes a working point which I tuned the HZZ way [4]: same signal efficiencies as in the year before. That's probably the one you want to use in the future. I will make scale factors for it when the time comes.
I hope this PR clears op the confusion and I won't get any more questions about that in the future :D Is there any quick way for me to test that the ID output is indeed the same as before this PR?
Cheers,
Jonas
[1] https://rembserj.web.cern.ch/rembserj/slides/180321_egamma.pdf
[2] https://rembserj.web.cern.ch/rembserj/slides/180530_egamma.pdf
[3] cms-sw/cmssw#23473
[4] https://github.com/cms-sw/cmssw/pull/23473/files#diff-cbd72b944578b1f5bb3583e526aa8b14R30","Hi Jonas,
Does this change anything in the object id currently used by the code? If it does, and scale factors are not derived yet, I would suggest we keep it in a separate branch until scale factors and their uncertainties are finalized. Otherwise, would you please check what effect this PR does explicitly by comparing a MC chunk (say ggH125_Chunk0)?
Thanks.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,60,2018-06-26T12:23:12Z,2019-05-01T12:48:16Z,2019-05-01T12:48:16Z,CLOSED,False,475,22,18,https://github.com/guitargeek,Rename and integrate Fall17 Electron MVA,1,[],https://github.com/CJLST/ZZAnalysis/pull/60,https://github.com/guitargeek,3,https://github.com/CJLST/ZZAnalysis/pull/60#issuecomment-400314595,"Hi CJLST,
here a small PR to integrate the currently used 2017 Electron ID into ZZAnalysis in order to make it independent from two of my private repositories and above all, take the occasion to rename the currently used ID.
The problem is that now that the official 2017 Fall17V2 ID is out, I often get emails from people who are confused that they don't get the same BDT values as HZZ. That's because the ""V2"" ID used in this analysis is actually not the V2 in Egamma (trained with xgboost) but basically the V1 (trained with TMVA) retrained on 94X DY+Jets instead of 92X DY+Jets.
So in bullet points:

POG V1: trained on 92X (Summer17 MC campaign) samples with TMVA
The inofficial V2 used in ZZAnalysis now (which I propose to call V1_94X in this PR): trained on 94X (Fall17 MC campaign) samples with TMVA
POG V2: trained on 94X (Fall17 MC campaign) samples with xgboost

Small note on the POG ID: is was trained with xgboost instead of TMVA for better performance and faster training [1,2,3]. It also includes a working point which I tuned the HZZ way [4]: same signal efficiencies as in the year before. That's probably the one you want to use in the future. I will make scale factors for it when the time comes.
I hope this PR clears op the confusion and I won't get any more questions about that in the future :D Is there any quick way for me to test that the ID output is indeed the same as before this PR?
Cheers,
Jonas
[1] https://rembserj.web.cern.ch/rembserj/slides/180321_egamma.pdf
[2] https://rembserj.web.cern.ch/rembserj/slides/180530_egamma.pdf
[3] cms-sw/cmssw#23473
[4] https://github.com/cms-sw/cmssw/pull/23473/files#diff-cbd72b944578b1f5bb3583e526aa8b14R30","Hi Ulascan,
the branch does absolutely nothing except for moving the TMVA weight files from some branch of a private repository of mine to this repository. This way you are sure to always have them.
Before they got fetched by this line in the 9X checkout script:
git clone -b ElectronID_MVA2017_V2 https://github.com/guitargeek/RecoEgamma-ElectronIdentification RecoEgamma/ElectronIdentification/data/

Now they would be in the ZZAnalysis repository and be copied to the relevant place:
cp -r ZZAnalysis/AnalysisStep/data/ElectronMVA/Fall17 RecoEgamma/ElectronIdentification/data/

It has nothing to to with implementing the new ID. If you'd want to use it, I'm of course happy to do the scale factors and set up the ID for you in the future.
And sorry, how do I compare an MC chunk?
Thanks and cheers,
Jonas",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,60,2018-06-26T12:23:12Z,2019-05-01T12:48:16Z,2019-05-01T12:48:16Z,CLOSED,False,475,22,18,https://github.com/guitargeek,Rename and integrate Fall17 Electron MVA,1,[],https://github.com/CJLST/ZZAnalysis/pull/60,https://github.com/usarica,4,https://github.com/CJLST/ZZAnalysis/pull/60#issuecomment-400317819,"Hi CJLST,
here a small PR to integrate the currently used 2017 Electron ID into ZZAnalysis in order to make it independent from two of my private repositories and above all, take the occasion to rename the currently used ID.
The problem is that now that the official 2017 Fall17V2 ID is out, I often get emails from people who are confused that they don't get the same BDT values as HZZ. That's because the ""V2"" ID used in this analysis is actually not the V2 in Egamma (trained with xgboost) but basically the V1 (trained with TMVA) retrained on 94X DY+Jets instead of 92X DY+Jets.
So in bullet points:

POG V1: trained on 92X (Summer17 MC campaign) samples with TMVA
The inofficial V2 used in ZZAnalysis now (which I propose to call V1_94X in this PR): trained on 94X (Fall17 MC campaign) samples with TMVA
POG V2: trained on 94X (Fall17 MC campaign) samples with xgboost

Small note on the POG ID: is was trained with xgboost instead of TMVA for better performance and faster training [1,2,3]. It also includes a working point which I tuned the HZZ way [4]: same signal efficiencies as in the year before. That's probably the one you want to use in the future. I will make scale factors for it when the time comes.
I hope this PR clears op the confusion and I won't get any more questions about that in the future :D Is there any quick way for me to test that the ID output is indeed the same as before this PR?
Cheers,
Jonas
[1] https://rembserj.web.cern.ch/rembserj/slides/180321_egamma.pdf
[2] https://rembserj.web.cern.ch/rembserj/slides/180530_egamma.pdf
[3] cms-sw/cmssw#23473
[4] https://github.com/cms-sw/cmssw/pull/23473/files#diff-cbd72b944578b1f5bb3583e526aa8b14R30","Hi Jonas,
Thanks for the clarification. then we should not expect any differences, but it is always good to check.
You can configure a production with a csv file derived from the main 2017 csv, just for ggH125. then run only Chunk0; we have another copy of it from the previous production, so we can compare a couple events in the two files directly (there should be one-to-one match in both probabilities and lepton momenta).",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,60,2018-06-26T12:23:12Z,2019-05-01T12:48:16Z,2019-05-01T12:48:16Z,CLOSED,False,475,22,18,https://github.com/guitargeek,Rename and integrate Fall17 Electron MVA,1,[],https://github.com/CJLST/ZZAnalysis/pull/60,https://github.com/guitargeek,5,https://github.com/CJLST/ZZAnalysis/pull/60#issuecomment-402507285,"Hi CJLST,
here a small PR to integrate the currently used 2017 Electron ID into ZZAnalysis in order to make it independent from two of my private repositories and above all, take the occasion to rename the currently used ID.
The problem is that now that the official 2017 Fall17V2 ID is out, I often get emails from people who are confused that they don't get the same BDT values as HZZ. That's because the ""V2"" ID used in this analysis is actually not the V2 in Egamma (trained with xgboost) but basically the V1 (trained with TMVA) retrained on 94X DY+Jets instead of 92X DY+Jets.
So in bullet points:

POG V1: trained on 92X (Summer17 MC campaign) samples with TMVA
The inofficial V2 used in ZZAnalysis now (which I propose to call V1_94X in this PR): trained on 94X (Fall17 MC campaign) samples with TMVA
POG V2: trained on 94X (Fall17 MC campaign) samples with xgboost

Small note on the POG ID: is was trained with xgboost instead of TMVA for better performance and faster training [1,2,3]. It also includes a working point which I tuned the HZZ way [4]: same signal efficiencies as in the year before. That's probably the one you want to use in the future. I will make scale factors for it when the time comes.
I hope this PR clears op the confusion and I won't get any more questions about that in the future :D Is there any quick way for me to test that the ID output is indeed the same as before this PR?
Cheers,
Jonas
[1] https://rembserj.web.cern.ch/rembserj/slides/180321_egamma.pdf
[2] https://rembserj.web.cern.ch/rembserj/slides/180530_egamma.pdf
[3] cms-sw/cmssw#23473
[4] https://github.com/cms-sw/cmssw/pull/23473/files#diff-cbd72b944578b1f5bb3583e526aa8b14R30","Hi Ulascan,
sorry for the radio silence. Can you please explain me how to run ggH125 Chunk0 from the main 2017 csv, or point to a step-by-step explanation? I tried to read it in the wiki of this repository, but I can't really follow... It would help me a lot since I have to get familiar with the framework for my own analysis. Thank you!",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,60,2018-06-26T12:23:12Z,2019-05-01T12:48:16Z,2019-05-01T12:48:16Z,CLOSED,False,475,22,18,https://github.com/guitargeek,Rename and integrate Fall17 Electron MVA,1,[],https://github.com/CJLST/ZZAnalysis/pull/60,https://github.com/guitargeek,6,https://github.com/CJLST/ZZAnalysis/pull/60#issuecomment-438300010,"Hi CJLST,
here a small PR to integrate the currently used 2017 Electron ID into ZZAnalysis in order to make it independent from two of my private repositories and above all, take the occasion to rename the currently used ID.
The problem is that now that the official 2017 Fall17V2 ID is out, I often get emails from people who are confused that they don't get the same BDT values as HZZ. That's because the ""V2"" ID used in this analysis is actually not the V2 in Egamma (trained with xgboost) but basically the V1 (trained with TMVA) retrained on 94X DY+Jets instead of 92X DY+Jets.
So in bullet points:

POG V1: trained on 92X (Summer17 MC campaign) samples with TMVA
The inofficial V2 used in ZZAnalysis now (which I propose to call V1_94X in this PR): trained on 94X (Fall17 MC campaign) samples with TMVA
POG V2: trained on 94X (Fall17 MC campaign) samples with xgboost

Small note on the POG ID: is was trained with xgboost instead of TMVA for better performance and faster training [1,2,3]. It also includes a working point which I tuned the HZZ way [4]: same signal efficiencies as in the year before. That's probably the one you want to use in the future. I will make scale factors for it when the time comes.
I hope this PR clears op the confusion and I won't get any more questions about that in the future :D Is there any quick way for me to test that the ID output is indeed the same as before this PR?
Cheers,
Jonas
[1] https://rembserj.web.cern.ch/rembserj/slides/180321_egamma.pdf
[2] https://rembserj.web.cern.ch/rembserj/slides/180530_egamma.pdf
[3] cms-sw/cmssw#23473
[4] https://github.com/cms-sw/cmssw/pull/23473/files#diff-cbd72b944578b1f5bb3583e526aa8b14R30","Hello @usarica, you think it is possible that we can integrate the custom 2017 HZZ ele MVA to this repository and above all: rename it from V2 to V1_94X? This way it is can't be confused anymore with the POG ID with the same name. I would happily help you validating that the BDT score is the same before and after this PR, if you tell me how :)",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,60,2018-06-26T12:23:12Z,2019-05-01T12:48:16Z,2019-05-01T12:48:16Z,CLOSED,False,475,22,18,https://github.com/guitargeek,Rename and integrate Fall17 Electron MVA,1,[],https://github.com/CJLST/ZZAnalysis/pull/60,https://github.com/usarica,7,https://github.com/CJLST/ZZAnalysis/pull/60#issuecomment-438303436,"Hi CJLST,
here a small PR to integrate the currently used 2017 Electron ID into ZZAnalysis in order to make it independent from two of my private repositories and above all, take the occasion to rename the currently used ID.
The problem is that now that the official 2017 Fall17V2 ID is out, I often get emails from people who are confused that they don't get the same BDT values as HZZ. That's because the ""V2"" ID used in this analysis is actually not the V2 in Egamma (trained with xgboost) but basically the V1 (trained with TMVA) retrained on 94X DY+Jets instead of 92X DY+Jets.
So in bullet points:

POG V1: trained on 92X (Summer17 MC campaign) samples with TMVA
The inofficial V2 used in ZZAnalysis now (which I propose to call V1_94X in this PR): trained on 94X (Fall17 MC campaign) samples with TMVA
POG V2: trained on 94X (Fall17 MC campaign) samples with xgboost

Small note on the POG ID: is was trained with xgboost instead of TMVA for better performance and faster training [1,2,3]. It also includes a working point which I tuned the HZZ way [4]: same signal efficiencies as in the year before. That's probably the one you want to use in the future. I will make scale factors for it when the time comes.
I hope this PR clears op the confusion and I won't get any more questions about that in the future :D Is there any quick way for me to test that the ID output is indeed the same as before this PR?
Cheers,
Jonas
[1] https://rembserj.web.cern.ch/rembserj/slides/180321_egamma.pdf
[2] https://rembserj.web.cern.ch/rembserj/slides/180530_egamma.pdf
[3] cms-sw/cmssw#23473
[4] https://github.com/cms-sw/cmssw/pull/23473/files#diff-cbd72b944578b1f5bb3583e526aa8b14R30","Hi Jonas,
I am not sure if I am the right person to ask in terms of whether the implementation is desired or not, but as long as things are backward compatible, and future changes can be implemented, I see no problem.
Does anyone else have an opinion?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,61,2018-07-06T20:21:48Z,2018-07-06T20:21:56Z,2018-07-06T20:21:56Z,MERGED,True,43,37,1,https://github.com/hroskes,some fixes in NNPDF 3.0,2,[],https://github.com/CJLST/ZZAnalysis/pull/61,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/61,"use replicas rather than hessian
divide by the correct central weight","use replicas rather than hessian
divide by the correct central weight",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,62,2018-11-15T11:28:20Z,2018-11-25T22:57:10Z,2018-11-25T22:57:10Z,MERGED,True,1,1,1,https://github.com/cbbrainerd,Typo fix in fixEE2017Params,1,[],https://github.com/CJLST/ZZAnalysis/pull/62,https://github.com/cbbrainerd,1,https://github.com/CJLST/ZZAnalysis/pull/62,The parameters should begin with a lower case letter to match with the definitions in PhysicsTools/PatUtils/python/tools/runMETCorrectionsAndUncertainties.py.,The parameters should begin with a lower case letter to match with the definitions in PhysicsTools/PatUtils/python/tools/runMETCorrectionsAndUncertainties.py.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,63,2018-11-22T16:30:52Z,2018-12-06T15:37:10Z,2018-12-06T15:37:11Z,MERGED,True,39,498,8,https://github.com/usarica,Migrate LHEHandler,7,[],https://github.com/CJLST/ZZAnalysis/pull/63,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/63,Migrating LHEHandler into its own repository so that different analysis groups can use the same tool.,Migrating LHEHandler into its own repository so that different analysis groups can use the same tool.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,63,2018-11-22T16:30:52Z,2018-12-06T15:37:10Z,2018-12-06T15:37:11Z,MERGED,True,39,498,8,https://github.com/usarica,Migrate LHEHandler,7,[],https://github.com/CJLST/ZZAnalysis/pull/63,https://github.com/usarica,2,https://github.com/CJLST/ZZAnalysis/pull/63#issuecomment-443761480,Migrating LHEHandler into its own repository so that different analysis groups can use the same tool.,This PR is final. Please review and merge. You won't be able to process 2018 MC if this PR is not merged since if conditions for year are also fixed.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,64,2018-12-24T15:29:53Z,2018-12-24T15:30:15Z,2018-12-24T15:30:15Z,MERGED,True,3,3,3,https://github.com/usarica,Update LHEHandler version to v1.2.2,1,[],https://github.com/CJLST/ZZAnalysis/pull/64,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/64,"Addresses an additional exception in the WZTo3LNu_3Jets_MLL-50_TuneCP5_13TeV-madgraphMLM-pythia8
Bugfixes the treatment of WWZ_4F_TuneCP5_13TeV-amcatnlo-pythia8: You need to re-run this sample in '17 and '18 if you have done so and would like to get the correct PDF variations.","Addresses an additional exception in the WZTo3LNu_3Jets_MLL-50_TuneCP5_13TeV-madgraphMLM-pythia8
Bugfixes the treatment of WWZ_4F_TuneCP5_13TeV-amcatnlo-pythia8: You need to re-run this sample in '17 and '18 if you have done so and would like to get the correct PDF variations.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/67,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/usarica,2,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-452517262,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","One question
I see these hardcoded pT values: https://github.com/CJLST/ZZAnalysis/blob/miniAOD_80X/AnalysisStep/src/BTaggingSFHelper.cc#L83
I understand the ~1000 number; this appears to be the validity of the range in the csv files, but why 670 GeV for btagged jets? The csv files claim they go up to 1 TeV as well.
Would it not be better to get these numbers from https://github.com/CJLST/ZZAnalysis/blob/miniAOD_80X/AnalysisStep/src/BTagCalibrationStandalone.cc#L668 ?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/giacomoortona,3,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-452622571,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","I agree. As far as I can tell, it looks this is an old remnant from the period where we had the recommendation of doubling uncertainties outside the pt range, but not yet the tools to compute them from BPOG tools.
We can also use: https://github.com/CJLST/ZZAnalysis/blob/miniAOD_80X/AnalysisStep/src/BTagCalibrationStandalone.cc#L659
but it would require a bit more changes to the code",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/usarica,4,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-452663361,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","Hi @giacomoortona,
I see, ok then I will try to implement these bounds. I am hesitant to use eval_auto_bounds because it looks like the implementation does something weird to determine eta ranges: https://github.com/CJLST/ZZAnalysis/blob/miniAOD_80X/AnalysisStep/src/BTagCalibrationStandalone.cc#L531. I do not understand why this condition is not <= (csv files have ranges [0, 2.5] in eta), and why the next line has eta <= sf_bounds_eta.first but eta > sf_bounds_eta.second (shouldn't it just have < or > if both bounds are -+2.5?), so I would be hesitant to implement something I don't fully understand. However, I can implement the other option of using L659.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/namapane,5,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-452666691,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","My general attitude in this case is to go after the official recommended recipe by the POG  (which may have changed since the code was taken) and stick to it as verbatim as possible; if there's a clear bug to report it to the POG as the reasonable fix may give a result that is different from what the actual developers expect. Of course this means, unfortunately, more hassle than just making a reasonable fix.
Also, it's a good idea to add a comment to whatever imported code stating where it was taken from, when, and according to what recommendation (wiki page, etc); this makes it much easier to figure out what to do six months or one year later....",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/usarica,6,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-452676243,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","I think this script was taken from https://github.com/cms-sw/cmssw/blob/master/CondTools/BTau/test/BTagCalibrationStandalone.cpp. In fact the latest commit on this file in March 2018 appears to have created this eta range feature, but I suspect we picked this code from somewhere else because our latest commit on this file is in Feb., pre-dating the CMSSW commit. @tsculac do you know where this file comes from?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/tsculac,7,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-452679785,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.",If I remember correctly there was a problem compiling our framework when migrating from CMSSW 7X to 8X because of btagging and at that time there was no CMSSW commit for this. I think @giacomoortona pointed me to the files from their HH->bbtautau analysis?,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/giacomoortona,8,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-452721954,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","I think the primary source was this:
https://github.com/LLRCMS/KLUBAnalysis/blob/moriond17_arXiv1707-02909/src/BTagCalibrationStandalone.cc
but it is 2 years old now, so high chances is out of date",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/usarica,9,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-463903201,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","Hi all,
May I kindly ask that you merge this PR and then subsequent updates can be made later? As it stand, you are still missing the memory leak fix and featuring hard-coded values that should not be present (especially when the hardcoded pT values for maximum b tagging pT are lower than what is featured in the current SF files).
I also added an update version of LHEHandler, not very relevant for you at the moment but might be worth keeping the versions up to date for sync with other packages.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/tsculac,10,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-463963114,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","Hi @usarica ,
Thank you very much for this work!
However, I am confused about this part 
  
    
      ZZAnalysis/AnalysisStep/test/MasterPy/ZZ4lAnalysis.py
    
    
        Lines 1318 to 1361
      in
      a660b93
    
  
  
    

        
          
           theBTagger="""" 
        

        
          
           theBTaggerThr=0 
        

        
          
           theBTagSFFile="""" 
        

        
          
           theBTagMCEffFile="""" 
        

        
          
           if (LEPTON_SETUP == 2016): #CSVv2M, from https://twiki.cern.ch/twiki/bin/viewauth/CMS/BtagRecommendation80XReReco 
        

        
          
              theBTagger=""pfCombinedInclusiveSecondaryVertexV2BJetTags"" 
        

        
          
              theBTaggerThr=0.8484 
        

        
          
              theBTagSFFile=""ZZAnalysis/AnalysisStep/data/BTagging/CSVv2Moriond17_2017_1_26_BtoH.csv"" #Preliminary Moriond17 SF, from https://twiki.cern.ch/twiki/bin/viewauth/CMS/BtagRecommendation80XReReco 
        

        
          
              theBTagMCEffFile=""ZZAnalysis/AnalysisStep/data/BTagging/bTagEfficiencies_80X_ICHEP.root"" 
        

        
          
           elif (LEPTON_SETUP == 2017 or LEPTON_SETUP == 2018): #DeepCSV, from https://twiki.cern.ch/twiki/bin/viewauth/CMS/BtagRecommendation94X 
        

        
          
              #FIXME: Add 2018 correctly! 
        

        
          
              theBTagger=""pfDeepCSVJetTags:probb"" 
        

        
          
              theBTaggerThr=0.4941 
        

        
          
              theBTagSFFile=""ZZAnalysis/AnalysisStep/data/BTagging/DeepCSV_94XSF_V1_B_F.csv"" 
        

        
          
              theBTagMCEffFile=""ZZAnalysis/AnalysisStep/data/BTagging/bTagEfficiencies_94X_Moriond18_v1.root"" #FIXME!!! Update to Moriond18 file 
        

        
          
           else: 
        

        
          
              sys.exit(""ZZ4lAnalysis.py: Need to define the btagging for the new setup!"") 
        

        
          
            
        

        
          
           process.dressedJets = cms.EDProducer(""JetFiller"", 
        

        
          
               src = cms.InputTag(""slimmedJets""), 
        

        
          
               sampleType = cms.int32(SAMPLE_TYPE), 
        

        
          
               setup = cms.int32(LEPTON_SETUP), 
        

        
          
               cut = cms.string(""pt>20 && abs(eta)<4.7 && userFloat('looseJetID') && userFloat('PUjetID')""), 
        

        
          
               isMC = cms.bool(IsMC), 
        

        
          
               bTaggerName = cms.string(theBTagger), 
        

        
          
               bTaggerThreshold = cms.double(theBTaggerThr), 
        

        
          
               jecType = cms.string(""AK4PFchs""), 
        

        
          
               applyJER = cms.bool(APPLYJER), 
        

        
          
               jerType = cms.string(""AK4PFchs""), 
        

        
          
               bTagSFFile = cms.string(theBTagSFFile), 
        

        
          
               bTagMCEffFile = cms.string(theBTagMCEffFile), 
        

        
          
               flags = cms.PSet() 
        

        
          
               ) 
        

        
          
           if (LEPTON_SETUP == 2017): 
        

        
          
               process.dressedJets.bTaggerName = cms.string(""pfDeepCSVJetTags:probb"") #Moving to Moriond18 new recommended DeepCSV btagger 
        

        
          
               process.dressedJets.bTaggerThreshold = cms.double(0.4941) #https://twiki.cern.ch/twiki/bin/viewauth/CMS/BtagRecommendation94X 
        

        
          
               process.dressedJets.bTagSFFile =  cms.string(""ZZAnalysis/AnalysisStep/data/BTagging/DeepCSV_94XSF_V1_B_F.csv"") 
        

        
          
               process.dressedJets.bTagMCEffFile  = cms.string(""ZZAnalysis/AnalysisStep/data/BTagging/bTagEfficiencies_94X_Moriond18_v1.root"") 
        

        
          
            
        

        
          
           if (LEPTON_SETUP == 2018): #[FIXME] Update to 2018 when available 
        

        
          
               process.dressedJets.bTaggerName = cms.string(""pfDeepCSVJetTags:probb"") #Moving to Moriond18 new recommended DeepCSV btagger 
        

        
          
               process.dressedJets.bTaggerThreshold = cms.double(0.4184) #https://twiki.cern.ch/twiki/bin/viewauth/CMS/BtagRecommendation102X 
        

        
          
               process.dressedJets.bTagSFFile =  cms.string(""ZZAnalysis/AnalysisStep/data/BTagging/DeepCSV_94XSF_V1_B_F.csv"") 
        

        
          
               process.dressedJets.bTagMCEffFile  = cms.string(""ZZAnalysis/AnalysisStep/data/BTagging/bTagEfficiencies_94X_Moriond18_v1.root"") 
        
    
  


There is some duplication of the code right there that might resolve with bugs in future when for example we update WP on one place and it is not propagated to the code since it is overwritten.
Once you fix that part I would be happy to merge this PR!",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/usarica,11,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-464049023,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","Hi @tsculac,
Do you think the update in the latest commit is enough? I also updated the SF file for 2017 to V3, but the eff. file also needs to be updated as well. I would leave that part to you (or however knows how to run those efficiencies from ZZAnalysis).",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/tsculac,12,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-464070259,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","Hi @usarica ,
everything looks fine to me. It is merged. Thanks again!",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,67,2019-01-08T22:38:27Z,2019-02-15T14:32:01Z,2019-02-15T14:33:51Z,MERGED,True,2167,118,12,https://github.com/usarica,Fixes to btagging,7,[],https://github.com/CJLST/ZZAnalysis/pull/67,https://github.com/tsculac,13,https://github.com/CJLST/ZZAnalysis/pull/67#issuecomment-464070733,"Fixes the btagging selection requirement on 2018 data and MC in the helpers
Simplifies the helper reader setup (avoids using eval_auto_bounds as done before)
ZZ4lAnalysis.py is fixed for 2018 to use DeepCSV just like 2017, now consistent with the helper code in selection requirements.
There are some FIXMEs on ZZ4lAnalysis.py that may still need to be addressed separately.","@usarica and just to comment, I will update the eff file as soon as the btagging SFs are available!",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,68,2019-04-20T14:25:10Z,2019-04-25T13:15:42Z,2019-04-25T13:24:19Z,MERGED,True,2278,13,24,https://github.com/usarica,Add METC,2,[],https://github.com/CJLST/ZZAnalysis/pull/68,https://github.com/usarica,1,https://github.com/CJLST/ZZAnalysis/pull/68,"2016, 2017 and 2018 METC
New MET entries after applying corrections.
Systematics need to be correlated with JES, PU etc. A new systematic type, METUp/Dn, should beput into the datacards after applying these corrections to actually account for MET variations because the other variations only change the MC such that the data-MC match is maintained.","2016, 2017 and 2018 METC
New MET entries after applying corrections.
Systematics need to be correlated with JES, PU etc. A new systematic type, METUp/Dn, should beput into the datacards after applying these corrections to actually account for MET variations because the other variations only change the MC such that the data-MC match is maintained.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,68,2019-04-20T14:25:10Z,2019-04-25T13:15:42Z,2019-04-25T13:24:19Z,MERGED,True,2278,13,24,https://github.com/usarica,Add METC,2,[],https://github.com/CJLST/ZZAnalysis/pull/68,https://github.com/usarica,2,https://github.com/CJLST/ZZAnalysis/pull/68#issuecomment-485129660,"2016, 2017 and 2018 METC
New MET entries after applying corrections.
Systematics need to be correlated with JES, PU etc. A new systematic type, METUp/Dn, should beput into the datacards after applying these corrections to actually account for MET variations because the other variations only change the MC such that the data-MC match is maintained.",The first commit just adds file and ensures compilation works. Now working on second commit to interface them into the base CJLST code.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,68,2019-04-20T14:25:10Z,2019-04-25T13:15:42Z,2019-04-25T13:24:19Z,MERGED,True,2278,13,24,https://github.com/usarica,Add METC,2,[],https://github.com/CJLST/ZZAnalysis/pull/68,https://github.com/usarica,3,https://github.com/CJLST/ZZAnalysis/pull/68#issuecomment-485140647,"2016, 2017 and 2018 METC
New MET entries after applying corrections.
Systematics need to be correlated with JES, PU etc. A new systematic type, METUp/Dn, should beput into the datacards after applying these corrections to actually account for MET variations because the other variations only change the MC such that the data-MC match is maintained.","The second commit interfaces the MET corrections. Tests are now in progress, so expect final message, or fix commit, in a few hours.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,68,2019-04-20T14:25:10Z,2019-04-25T13:15:42Z,2019-04-25T13:24:19Z,MERGED,True,2278,13,24,https://github.com/usarica,Add METC,2,[],https://github.com/CJLST/ZZAnalysis/pull/68,https://github.com/usarica,4,https://github.com/CJLST/ZZAnalysis/pull/68#issuecomment-485186890,"2016, 2017 and 2018 METC
New MET entries after applying corrections.
Systematics need to be correlated with JES, PU etc. A new systematic type, METUp/Dn, should beput into the datacards after applying these corrections to actually account for MET variations because the other variations only change the MC such that the data-MC match is maintained.","@mkovac @giacomoortona @tsculac: The code works as it is, so there is no need to have a commit to fix. The PR can be merged, pending your final decision.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,68,2019-04-20T14:25:10Z,2019-04-25T13:15:42Z,2019-04-25T13:24:19Z,MERGED,True,2278,13,24,https://github.com/usarica,Add METC,2,[],https://github.com/CJLST/ZZAnalysis/pull/68,https://github.com/hroskes,5,https://github.com/CJLST/ZZAnalysis/pull/68#issuecomment-486671064,"2016, 2017 and 2018 METC
New MET entries after applying corrections.
Systematics need to be correlated with JES, PU etc. A new systematic type, METUp/Dn, should beput into the datacards after applying these corrections to actually account for MET variations because the other variations only change the MC such that the data-MC match is maintained.",I think we can just merge miniAOD_80X into Run2Legacy.  That's probably the easiest way.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,69,2019-06-28T11:37:49Z,2019-06-28T11:37:57Z,2019-06-28T11:37:57Z,MERGED,True,638,484,15,https://github.com/hroskes,anomalous couplings,10,[],https://github.com/CJLST/ZZAnalysis/pull/69,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/69,"sync anomalous csvs with main ones (dataset versions, lepton stuff, etc.)
JHUGen onshell VBF reweighting: separate ZZ and WW anomalous couplings for VBF for EFT studies.

Main production isn't affected.","sync anomalous csvs with main ones (dataset versions, lepton stuff, etc.)
JHUGen onshell VBF reweighting: separate ZZ and WW anomalous couplings for VBF for EFT studies.

Main production isn't affected.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,70,2019-08-29T12:15:08Z,2019-08-29T18:08:48Z,2019-08-29T18:08:48Z,MERGED,True,156,56,8,https://github.com/hroskes,collected small fixes,9,[],https://github.com/CJLST/ZZAnalysis/pull/70,https://github.com/hroskes,1,https://github.com/CJLST/ZZAnalysis/pull/70,"add ggH uncertainties to some 2018 samples that were missing them
some minor changes in scripts
add a function for AC categorization","add ggH uncertainties to some 2018 samples that were missing them
some minor changes in scripts
add a function for AC categorization",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,72,2019-10-17T13:10:49Z,2019-10-29T12:36:59Z,2019-10-29T12:36:59Z,CLOSED,False,53,85,7,https://github.com/covarell,add VBS csv files,4,[],https://github.com/CJLST/ZZAnalysis/pull/72,https://github.com/covarell,1,https://github.com/CJLST/ZZAnalysis/pull/72,Adding csv tables of additional MC samples needed for the legacy VBS-ZZ analysis,Adding csv tables of additional MC samples needed for the legacy VBS-ZZ analysis,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,72,2019-10-17T13:10:49Z,2019-10-29T12:36:59Z,2019-10-29T12:36:59Z,CLOSED,False,53,85,7,https://github.com/covarell,add VBS csv files,4,[],https://github.com/CJLST/ZZAnalysis/pull/72,https://github.com/covarell,2,https://github.com/CJLST/ZZAnalysis/pull/72#issuecomment-543178505,Adding csv tables of additional MC samples needed for the legacy VBS-ZZ analysis,"PLEASE ALSO NOTICE THE 2nd COMMIT: this should fix PUjetID not applied correctly!
According to:
https://twiki.cern.ch/twiki/bin/viewauth/CMS/PileupJetID#Information_for_13_TeV_data_anal
""The 80X-training of PU jet ID - i.e. the one used for CMSSW_10_X - should only be applied to jets with pT<50 GeV and not applied above.""",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,72,2019-10-17T13:10:49Z,2019-10-29T12:36:59Z,2019-10-29T12:36:59Z,CLOSED,False,53,85,7,https://github.com/covarell,add VBS csv files,4,[],https://github.com/CJLST/ZZAnalysis/pull/72,https://github.com/covarell,3,https://github.com/CJLST/ZZAnalysis/pull/72#issuecomment-547398782,Adding csv tables of additional MC samples needed for the legacy VBS-ZZ analysis,Needs more confirmation on jet performances.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,73,2019-11-04T08:39:05Z,2019-11-06T14:32:50Z,2019-11-06T14:32:50Z,MERGED,True,49,81,7,https://github.com/covarell,"Add VBS csv files, update pileup ID and 2018 JECs (not JER for the moment)",5,[],https://github.com/CJLST/ZZAnalysis/pull/73,https://github.com/covarell,1,https://github.com/CJLST/ZZAnalysis/pull/73,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,74,2019-11-21T13:27:55Z,2019-11-21T13:41:26Z,2019-11-21T13:41:26Z,MERGED,True,23,12,3,https://github.com/bonanomi,STXS Stage 1.2 classification,10,[],https://github.com/CJLST/ZZAnalysis/pull/74,https://github.com/bonanomi,1,https://github.com/CJLST/ZZAnalysis/pull/74,"Added STXS Stage 1.2 classification and modified
checkout_10X.csh to use the correct cmssw classifier.","Added STXS Stage 1.2 classification and modified
checkout_10X.csh to use the correct cmssw classifier.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,75,2019-12-03T20:39:43Z,2019-12-20T08:07:01Z,2019-12-20T08:07:01Z,MERGED,True,8,0,1,https://github.com/skyriacoCMS,Decay RECO probabilitiies AC interf terms,1,[],https://github.com/CJLST/ZZAnalysis/pull/75,https://github.com/skyriacoCMS,1,https://github.com/CJLST/ZZAnalysis/pull/75,Updated some probabilities for AC.,Updated some probabilities for AC.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,76,2020-01-08T14:15:37Z,2020-01-08T14:41:36Z,2020-01-08T14:41:36Z,MERGED,True,503,348,4,https://github.com/bonanomi,New WPs for all three years.,3,[],https://github.com/CJLST/ZZAnalysis/pull/76,https://github.com/bonanomi,1,https://github.com/CJLST/ZZAnalysis/pull/76,"The new working points have been set at 96-99.7% of efficiency in low and high pT respecitvely.
In this pull request there is also an update of the Yields scripts in Plotter_v2: now this script runs ( still to be checked the value returned for the ZX yield though).","The new working points have been set at 96-99.7% of efficiency in low and high pT respecitvely.
In this pull request there is also an update of the Yields scripts in Plotter_v2: now this script runs ( still to be checked the value returned for the ZX yield though).",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,77,2020-01-17T15:49:34Z,2020-01-17T16:01:09Z,2020-01-17T16:01:09Z,MERGED,True,1,1,1,https://github.com/giacomoortona,Fix for THW processes,1,[],https://github.com/CJLST/ZZAnalysis/pull/77,https://github.com/giacomoortona,1,https://github.com/CJLST/ZZAnalysis/pull/77,"In the CSV files, THW was indicated as tHW (non capital). It's easier to protect it in MCHistoryTools than recreate the CSVs...","In the CSV files, THW was indicated as tHW (non capital). It's easier to protect it in MCHistoryTools than recreate the CSVs...",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,78,2020-01-22T18:22:33Z,2020-01-22T23:12:14Z,2020-01-22T23:12:14Z,MERGED,True,1,1,1,https://github.com/acappati,Collier tar file name was changed,1,[],https://github.com/CJLST/ZZAnalysis/pull/78,https://github.com/acappati,1,https://github.com/CJLST/ZZAnalysis/pull/78,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,79,2020-01-27T15:06:21Z,2020-01-27T15:08:06Z,2020-01-27T15:08:06Z,MERGED,True,3,3,1,https://github.com/acappati,new ggZZ samples version - the previous one is invalid on DAS,1,[],https://github.com/CJLST/ZZAnalysis/pull/79,https://github.com/acappati,1,https://github.com/CJLST/ZZAnalysis/pull/79,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,80,2020-02-05T14:33:02Z,2020-02-05T14:35:40Z,2020-02-05T14:35:41Z,MERGED,True,9,3,4,https://github.com/covarell,add private Chinese samples for VBS,1,[],https://github.com/CJLST/ZZAnalysis/pull/80,https://github.com/covarell,1,https://github.com/CJLST/ZZAnalysis/pull/80,"Checked they are not virus-infected  :-)
(also fix eostools.py when running on local files)","Checked they are not virus-infected  :-)
(also fix eostools.py when running on local files)",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,82,2020-03-19T15:49:47Z,2020-03-19T16:08:13Z,2020-03-19T16:08:13Z,MERGED,True,160,95,2,https://github.com/elfontan,Run2_CutBased_BTag16,3,[],https://github.com/CJLST/ZZAnalysis/pull/82,https://github.com/elfontan,1,https://github.com/CJLST/ZZAnalysis/pull/82,Code modified in order to include DeepCSV in 2016 ntuples.,Code modified in order to include DeepCSV in 2016 ntuples.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,83,2020-03-30T15:53:16Z,2020-04-01T13:34:13Z,2020-04-01T13:34:13Z,MERGED,True,84,81,7,https://github.com/elfontan,GT for 2018 MC/Data updated + new b tag root maps added,7,[],https://github.com/CJLST/ZZAnalysis/pull/83,https://github.com/elfontan,1,https://github.com/CJLST/ZZAnalysis/pull/83,"2018 Global Tags modified to match last PPD recommendation:
https://twiki.cern.ch/twiki/bin/viewauth/CMS/PdmVAnalysisSummaryTable","2018 Global Tags modified to match last PPD recommendation:
https://twiki.cern.ch/twiki/bin/viewauth/CMS/PdmVAnalysisSummaryTable",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,84,2020-04-01T17:46:10Z,2020-04-01T17:46:31Z,2020-04-01T17:46:31Z,MERGED,True,890,1817,18,https://github.com/bonanomi,Run2 cut based plotter,9,[],https://github.com/CJLST/ZZAnalysis/pull/84,https://github.com/bonanomi,1,https://github.com/CJLST/ZZAnalysis/pull/84,"Improvement in plot including all the VVV + tt(V)V samples.
Script to compute yields has been removed as outdated.  This step is now done at datacard creation level using the reduced trees.
See: here for more details.","Improvement in plot including all the VVV + tt(V)V samples.
Script to compute yields has been removed as outdated.  This step is now done at datacard creation level using the reduced trees.
See: here for more details.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,85,2020-04-03T09:07:23Z,2020-04-03T09:39:08Z,2020-04-03T09:39:08Z,MERGED,True,17,5,3,https://github.com/bonanomi,Run2 cut based plotter,11,[],https://github.com/CJLST/ZZAnalysis/pull/85,https://github.com/bonanomi,1,https://github.com/CJLST/ZZAnalysis/pull/85,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,86,2020-04-19T16:00:01Z,2020-04-20T12:20:52Z,2020-04-20T12:20:52Z,MERGED,True,33,36,5,https://github.com/elfontan,Muon iso cut included in jet cleaning + fixed SF bugs,19,[],https://github.com/CJLST/ZZAnalysis/pull/86,https://github.com/elfontan,1,https://github.com/CJLST/ZZAnalysis/pull/86,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,87,2020-04-19T16:02:46Z,2020-04-20T12:21:12Z,2020-04-20T12:21:12Z,MERGED,True,94,90,13,https://github.com/elfontan,Muon iso cut included in jet cleaning + fixed SF bugs + updated GT and b tag efficiencies,10,[],https://github.com/CJLST/ZZAnalysis/pull/87,https://github.com/elfontan,1,https://github.com/CJLST/ZZAnalysis/pull/87,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,88,2020-04-21T13:31:35Z,2020-04-21T13:54:22Z,2020-04-21T13:54:22Z,MERGED,True,3,3,2,https://github.com/elfontan,Updated MELA version + modified analyzer_sync scripts,16,[],https://github.com/CJLST/ZZAnalysis/pull/88,https://github.com/elfontan,1,https://github.com/CJLST/ZZAnalysis/pull/88,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,89,2020-04-22T12:38:52Z,2020-04-22T13:30:46Z,2020-04-22T13:30:46Z,MERGED,True,15,16,3,https://github.com/elfontan,Updated 2016 MET part,17,[],https://github.com/CJLST/ZZAnalysis/pull/89,https://github.com/elfontan,1,https://github.com/CJLST/ZZAnalysis/pull/89,Modified 2016 MET part to make it work properly with updateJetCollection.,Modified 2016 MET part to make it work properly with updateJetCollection.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,90,2020-05-28T07:47:15Z,2020-05-28T08:01:12Z,2020-05-28T08:01:13Z,MERGED,True,882,1795,16,https://github.com/bonanomi,Run2 cut based plotter,16,[],https://github.com/CJLST/ZZAnalysis/pull/90,https://github.com/bonanomi,1,https://github.com/CJLST/ZZAnalysis/pull/90,Merge extension of Plotter to VVV samples into main branch ( using Run2_CutBased_BTag16 because it has Btag DeepCSV included for 2016 MC),Merge extension of Plotter to VVV samples into main branch ( using Run2_CutBased_BTag16 because it has Btag DeepCSV included for 2016 MC),True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,91,2020-08-09T00:34:38Z,2020-08-24T07:43:22Z,2020-08-24T07:43:22Z,MERGED,True,979,567,3,https://github.com/lk11235,Restoration of deleted high-mass samples,1,[],https://github.com/CJLST/ZZAnalysis/pull/91,https://github.com/lk11235,1,https://github.com/CJLST/ZZAnalysis/pull/91,"All high-mass samples from branch ""miniAOD_80X"" that were deleted at some point, have been restored in the ""samples_201*_MC.csv"" files. All samples that were in the latest ""Run2Legacy"" version of these files have been included, so nothing is overwritten.
However, there still exist some differences (in xsec or pyFragments files, for example) that must be reconciled between the old and current versions of these samples. These discrepancies have been noted and will be sorted out with the next commit, which should ideally finalize the preparation of these various samples for production.","All high-mass samples from branch ""miniAOD_80X"" that were deleted at some point, have been restored in the ""samples_201*_MC.csv"" files. All samples that were in the latest ""Run2Legacy"" version of these files have been included, so nothing is overwritten.
However, there still exist some differences (in xsec or pyFragments files, for example) that must be reconciled between the old and current versions of these samples. These discrepancies have been noted and will be sorted out with the next commit, which should ideally finalize the preparation of these various samples for production.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,92,2020-08-09T21:33:33Z,2020-08-24T07:43:08Z,2020-08-24T07:43:09Z,MERGED,True,949,0,3,https://github.com/lk11235,Created .csv files for all previously used high-mass samples,1,[],https://github.com/CJLST/ZZAnalysis/pull/92,https://github.com/lk11235,1,https://github.com/CJLST/ZZAnalysis/pull/92,"Restored the high-mass samples from branch miniAOD_80X in a new set of files named ""samples_201*_MC_highmass.csv"". Datasets were updated where possible.","Restored the high-mass samples from branch miniAOD_80X in a new set of files named ""samples_201*_MC_highmass.csv"". Datasets were updated where possible.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,93,2020-08-18T14:32:01Z,2020-08-24T07:42:43Z,2020-08-24T07:42:43Z,MERGED,True,8,2,1,https://github.com/skyriacoCMS,Update Documentation.md,1,[],https://github.com/CJLST/ZZAnalysis/pull/93,https://github.com/skyriacoCMS,1,https://github.com/CJLST/ZZAnalysis/pull/93,Added path to backup location in MARCC for MC /Data and AC samples,Added path to backup location in MARCC for MC /Data and AC samples,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,94,2020-08-31T14:55:14Z,2020-08-31T14:55:22Z,2020-08-31T14:55:23Z,MERGED,True,567,979,3,https://github.com/bonanomi,"Revert ""Restoration of deleted high-mass samples""",1,[],https://github.com/CJLST/ZZAnalysis/pull/94,https://github.com/bonanomi,1,https://github.com/CJLST/ZZAnalysis/pull/94,Reverts #91,Reverts #91,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,95,2020-09-07T18:03:55Z,2020-09-07T18:25:05Z,2020-09-07T18:25:05Z,MERGED,True,2919,200,19,https://github.com/bonanomi,Run2 cut based jec,24,[],https://github.com/CJLST/ZZAnalysis/pull/95,https://github.com/bonanomi,1,https://github.com/CJLST/ZZAnalysis/pull/95,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,96,2020-09-09T21:35:36Z,2020-09-09T21:36:11Z,2020-09-09T21:37:05Z,CLOSED,False,2,2,1,https://github.com/lk11235,Fix ZZ4lAnalysis.py,1,[],https://github.com/CJLST/ZZAnalysis/pull/96,https://github.com/lk11235,1,https://github.com/CJLST/ZZAnalysis/pull/96,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,96,2020-09-09T21:35:36Z,2020-09-09T21:36:11Z,2020-09-09T21:37:05Z,CLOSED,False,2,2,1,https://github.com/lk11235,Fix ZZ4lAnalysis.py,1,[],https://github.com/CJLST/ZZAnalysis/pull/96,https://github.com/lk11235,2,https://github.com/CJLST/ZZAnalysis/pull/96#issuecomment-689835274,,Matteo fixed ZZ4lAnalysis.py. PR no longer needed.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,97,2021-01-27T16:06:58Z,,2021-01-27T16:06:58Z,OPEN,False,8,0,1,https://github.com/lk11235,Update Documentation.md,1,[],https://github.com/CJLST/ZZAnalysis/pull/97,https://github.com/lk11235,1,https://github.com/CJLST/ZZAnalysis/pull/97,"Included location of POWHEG, PHANTOM, and off-shell AC gg and VBF samples on MARCC.","Included location of POWHEG, PHANTOM, and off-shell AC gg and VBF samples on MARCC.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,98,2021-04-19T12:40:10Z,2021-04-19T12:53:29Z,2021-04-19T12:53:30Z,MERGED,True,45,56,6,https://github.com/asculac,UltraLegacy eleID complete,21,[],https://github.com/CJLST/ZZAnalysis/pull/98,https://github.com/asculac,1,https://github.com/CJLST/ZZAnalysis/pull/98,"Update for electronID Ultra Legacy for 2016, 2017 and 2018","Update for electronID Ultra Legacy for 2016, 2017 and 2018",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,99,2021-04-28T10:13:21Z,2021-04-28T11:44:01Z,2021-04-28T11:44:01Z,CLOSED,False,5733,792,25,https://github.com/bonanomi,Fiducial measurements + JES Splitting,25,[],https://github.com/CJLST/ZZAnalysis/pull/99,https://github.com/bonanomi,1,https://github.com/CJLST/ZZAnalysis/pull/99,"Gen-level discriminants and ZZCand selection for fiducial measurements
Inclusion of all JES","Gen-level discriminants and ZZCand selection for fiducial measurements
Inclusion of all JES",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,99,2021-04-28T10:13:21Z,2021-04-28T11:44:01Z,2021-04-28T11:44:01Z,CLOSED,False,5733,792,25,https://github.com/bonanomi,Fiducial measurements + JES Splitting,25,[],https://github.com/CJLST/ZZAnalysis/pull/99,https://github.com/bonanomi,2,https://github.com/CJLST/ZZAnalysis/pull/99#issuecomment-828387171,"Gen-level discriminants and ZZCand selection for fiducial measurements
Inclusion of all JES",Merged with commit,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,100,2021-04-28T11:45:07Z,2021-04-28T11:52:34Z,2021-04-28T11:58:41Z,MERGED,True,48675,213,21,https://github.com/bonanomi,Run2 ultra legacy,7,[],https://github.com/CJLST/ZZAnalysis/pull/100,https://github.com/bonanomi,1,https://github.com/CJLST/ZZAnalysis/pull/100,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,101,2021-07-12T12:12:44Z,2021-07-16T07:58:53Z,2021-07-16T07:58:53Z,CLOSED,False,19,16,2,https://github.com/AlessandroTarabini,Fix globalTag and JER database - MC setup should be ok now,3,[],https://github.com/CJLST/ZZAnalysis/pull/101,https://github.com/AlessandroTarabini,1,https://github.com/CJLST/ZZAnalysis/pull/101,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,102,2021-07-16T08:21:17Z,2021-07-16T08:21:58Z,2021-07-16T08:21:58Z,MERGED,True,19,16,2,https://github.com/AlessandroTarabini,Run2 cut based ul,3,[],https://github.com/CJLST/ZZAnalysis/pull/102,https://github.com/AlessandroTarabini,1,https://github.com/CJLST/ZZAnalysis/pull/102,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,103,2021-07-19T15:12:11Z,2021-07-19T15:12:24Z,2021-07-19T15:12:24Z,MERGED,True,29,25,8,https://github.com/namapane,Fix: scram does not support running shell commands any longer. ,1,[],https://github.com/CJLST/ZZAnalysis/pull/103,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/103,"Temporary switch to forks for JHUGenMELA and CommonLHETools for the same reason, while they are fixed upstream.","Temporary switch to forks for JHUGenMELA and CommonLHETools for the same reason, while they are fixed upstream.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,104,2021-07-22T10:13:54Z,2021-09-17T13:28:38Z,2021-09-17T13:28:39Z,MERGED,True,36,36,8,https://github.com/amecca,Fixed build files to comply with SCRAM update and migrated MELA to JHUGenMELA,3,[],https://github.com/CJLST/ZZAnalysis/pull/104,https://github.com/amecca,1,https://github.com/CJLST/ZZAnalysis/pull/104,The references to bonanomi's forks of cmssw were removed from checkout_10X.csh,The references to bonanomi's forks of cmssw were removed from checkout_10X.csh,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,104,2021-07-22T10:13:54Z,2021-09-17T13:28:38Z,2021-09-17T13:28:39Z,MERGED,True,36,36,8,https://github.com/amecca,Fixed build files to comply with SCRAM update and migrated MELA to JHUGenMELA,3,[],https://github.com/CJLST/ZZAnalysis/pull/104,https://github.com/amecca,2,https://github.com/CJLST/ZZAnalysis/pull/104#issuecomment-921758224,The references to bonanomi's forks of cmssw were removed from checkout_10X.csh,@namapane ci sono novità su questa PR?,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,104,2021-07-22T10:13:54Z,2021-09-17T13:28:38Z,2021-09-17T13:28:39Z,MERGED,True,36,36,8,https://github.com/amecca,Fixed build files to comply with SCRAM update and migrated MELA to JHUGenMELA,3,[],https://github.com/CJLST/ZZAnalysis/pull/104,https://github.com/namapane,3,https://github.com/CJLST/ZZAnalysis/pull/104#issuecomment-921769320,The references to bonanomi's forks of cmssw were removed from checkout_10X.csh,"@namapane ci sono novità su questa PR?

Ciao @amecca , as for the comments above - can you push a commit to the same branch, switching to official
CommonLHETools v1.3.5 and JHUGenMELA v2.3.5 ? Then I can merge it right away.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,104,2021-07-22T10:13:54Z,2021-09-17T13:28:38Z,2021-09-17T13:28:39Z,MERGED,True,36,36,8,https://github.com/amecca,Fixed build files to comply with SCRAM update and migrated MELA to JHUGenMELA,3,[],https://github.com/CJLST/ZZAnalysis/pull/104,https://github.com/amecca,4,https://github.com/CJLST/ZZAnalysis/pull/104#issuecomment-921779201,The references to bonanomi's forks of cmssw were removed from checkout_10X.csh,Done,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,105,2021-07-26T12:29:18Z,2021-07-26T12:29:36Z,2021-07-26T12:29:36Z,MERGED,True,6,10,1,https://github.com/namapane,Update MELA and CommonLHETools versions,1,[],https://github.com/CJLST/ZZAnalysis/pull/105,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/105,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,106,2021-10-18T14:40:09Z,2021-10-18T14:43:18Z,2021-10-18T14:43:18Z,MERGED,True,5,5,3,https://github.com/antoniovagnerini,Fixed minor warnings,2,[],https://github.com/CJLST/ZZAnalysis/pull/106,https://github.com/antoniovagnerini,1,https://github.com/CJLST/ZZAnalysis/pull/106,There were lines in the BuildFiles that still referred to ZZMatrixElement,There were lines in the BuildFiles that still referred to ZZMatrixElement,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,107,2021-11-08T17:04:23Z,2021-11-08T17:13:33Z,2021-11-08T17:13:33Z,CLOSED,False,262,253,15,https://github.com/AlessandroTarabini,Run2 cut based ul,4,[],https://github.com/CJLST/ZZAnalysis/pull/107,https://github.com/AlessandroTarabini,1,https://github.com/CJLST/ZZAnalysis/pull/107,"Version of the framework after the first step of the synch with BBBF.
Synch checked with ggH 2017 UL sample
In synch on the jets and leptons kinematics, and event selection","Version of the framework after the first step of the synch with BBBF.
Synch checked with ggH 2017 UL sample
In synch on the jets and leptons kinematics, and event selection",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,108,2021-11-08T17:21:30Z,2021-11-09T08:37:00Z,2021-11-09T11:02:27Z,MERGED,True,222,212,12,https://github.com/AlessandroTarabini,First version of the UL fwk,6,[],https://github.com/CJLST/ZZAnalysis/pull/108,https://github.com/AlessandroTarabini,1,https://github.com/CJLST/ZZAnalysis/pull/108,"Version of the framework after the 1st step of the synch with BBBF
Synch done with 2017UL ggH
In synch on jets and leptons kinematics, and event selection","Version of the framework after the 1st step of the synch with BBBF
Synch done with 2017UL ggH
In synch on jets and leptons kinematics, and event selection",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,108,2021-11-08T17:21:30Z,2021-11-09T08:37:00Z,2021-11-09T11:02:27Z,MERGED,True,222,212,12,https://github.com/AlessandroTarabini,First version of the UL fwk,6,[],https://github.com/CJLST/ZZAnalysis/pull/108,https://github.com/namapane,2,https://github.com/CJLST/ZZAnalysis/pull/108#issuecomment-964005421,"Version of the framework after the 1st step of the synch with BBBF
Synch done with 2017UL ggH
In synch on jets and leptons kinematics, and event selection","I'm afraid you missed my comments, see above. In particular, I think that changing  isSynchronization to true is a mistake; can you please have a look ASAP?",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,108,2021-11-08T17:21:30Z,2021-11-09T08:37:00Z,2021-11-09T11:02:27Z,MERGED,True,222,212,12,https://github.com/AlessandroTarabini,First version of the UL fwk,6,[],https://github.com/CJLST/ZZAnalysis/pull/108,https://github.com/AlessandroTarabini,3,https://github.com/CJLST/ZZAnalysis/pull/108#issuecomment-964015380,"Version of the framework after the 1st step of the synch with BBBF
Synch done with 2017UL ggH
In synch on jets and leptons kinematics, and event selection","Hi Nicola,
Sorry but I can't see your comments. Anyway, you are right about the flag ""isSynchronisation"". I set it to true for the synchronisation exercise and then forgot to set it to False again. Now I will fix it.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,108,2021-11-08T17:21:30Z,2021-11-09T08:37:00Z,2021-11-09T11:02:27Z,MERGED,True,222,212,12,https://github.com/AlessandroTarabini,First version of the UL fwk,6,[],https://github.com/CJLST/ZZAnalysis/pull/108,https://github.com/namapane,4,https://github.com/CJLST/ZZAnalysis/pull/108#issuecomment-964023531,"Version of the framework after the 1st step of the synch with BBBF
Synch done with 2017UL ggH
In synch on jets and leptons kinematics, and event selection",No idea of why it does not show up.... here it is:,True,{'THUMBS_UP': ['https://github.com/acappati']}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,108,2021-11-08T17:21:30Z,2021-11-09T08:37:00Z,2021-11-09T11:02:27Z,MERGED,True,222,212,12,https://github.com/AlessandroTarabini,First version of the UL fwk,6,[],https://github.com/CJLST/ZZAnalysis/pull/108,https://github.com/namapane,5,https://github.com/CJLST/ZZAnalysis/pull/108#issuecomment-964024919,"Version of the framework after the 1st step of the synch with BBBF
Synch done with 2017UL ggH
In synch on jets and leptons kinematics, and event selection","Regarding isSynchronization, best is to set it in the sync script, as eg: https://github.com/CJLST/ZZAnalysis/blob/Run2_CutBased_UL/AnalysisStep/test/analyzer_Sync_2018.py#L60",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,108,2021-11-08T17:21:30Z,2021-11-09T08:37:00Z,2021-11-09T11:02:27Z,MERGED,True,222,212,12,https://github.com/AlessandroTarabini,First version of the UL fwk,6,[],https://github.com/CJLST/ZZAnalysis/pull/108,https://github.com/AlessandroTarabini,6,https://github.com/CJLST/ZZAnalysis/pull/108#issuecomment-964039652,"Version of the framework after the 1st step of the synch with BBBF
Synch done with 2017UL ggH
In synch on jets and leptons kinematics, and event selection","Ok, I have got it, thanks. I will implement your suggestions and pull again",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,108,2021-11-08T17:21:30Z,2021-11-09T08:37:00Z,2021-11-09T11:02:27Z,MERGED,True,222,212,12,https://github.com/AlessandroTarabini,First version of the UL fwk,6,[],https://github.com/CJLST/ZZAnalysis/pull/108,https://github.com/namapane,7,https://github.com/CJLST/ZZAnalysis/pull/108#issuecomment-964041754,"Version of the framework after the 1st step of the synch with BBBF
Synch done with 2017UL ggH
In synch on jets and leptons kinematics, and event selection","Ah I found a ""submit review"" button so the comments were just pending waiting to be submitted...
Good to know for next PRs :-)",True,"{'THUMBS_UP': ['https://github.com/AlessandroTarabini', 'https://github.com/acappati']}"
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,109,2021-11-09T11:05:30Z,2021-11-09T14:50:13Z,2021-11-09T14:50:14Z,MERGED,True,118,9,3,https://github.com/AlessandroTarabini,Suggestions from Nicola,4,[],https://github.com/CJLST/ZZAnalysis/pull/109,https://github.com/AlessandroTarabini,1,https://github.com/CJLST/ZZAnalysis/pull/109,Implemented advice from Nicola relative to the previous pull request #108,Implemented advice from Nicola relative to the previous pull request #108,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,110,2021-12-08T10:10:31Z,2021-12-08T14:22:47Z,2021-12-08T14:22:47Z,MERGED,True,78,34,24,https://github.com/asculac,Updated electron ID and RECO SF for UltraLegacy + pre/postVFP adaptation for UL16 samples,10,[],https://github.com/CJLST/ZZAnalysis/pull/110,https://github.com/asculac,1,https://github.com/CJLST/ZZAnalysis/pull/110,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,111,2021-12-13T17:38:21Z,2021-12-13T17:57:52Z,2021-12-13T17:57:52Z,MERGED,True,4,4,2,https://github.com/amecca,make const the get functions,1,[],https://github.com/CJLST/ZZAnalysis/pull/111,https://github.com/amecca,1,https://github.com/CJLST/ZZAnalysis/pull/111,Same fix already applied in branch Run2Legacy (commit e46fbd0),Same fix already applied in branch Run2Legacy (commit e46fbd0),True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,112,2021-12-15T10:24:47Z,2021-12-15T10:42:11Z,2021-12-15T10:42:11Z,MERGED,True,569,0,3,https://github.com/AlessandroTarabini,csv files for 2018UL and 2017UL production,3,[],https://github.com/CJLST/ZZAnalysis/pull/112,https://github.com/AlessandroTarabini,1,https://github.com/CJLST/ZZAnalysis/pull/112,csv files for 2018UL and 2017UL production are added. All the samples available to date 15/12/2021 have been added.,csv files for 2018UL and 2017UL production are added. All the samples available to date 15/12/2021 have been added.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,113,2021-12-15T13:00:49Z,2021-12-15T13:06:06Z,2021-12-15T13:06:06Z,MERGED,True,637,0,5,https://github.com/AlessandroTarabini,csv files for 2017UL and 2018UL,4,[],https://github.com/CJLST/ZZAnalysis/pull/113,https://github.com/AlessandroTarabini,1,https://github.com/CJLST/ZZAnalysis/pull/113,,,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,114,2021-12-17T15:28:48Z,2021-12-20T14:30:25Z,2021-12-20T14:30:25Z,MERGED,True,175,909,7,https://github.com/namapane,Improve submission scripts,2,[],https://github.com/CJLST/ZZAnalysis/pull/114,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/114,"Some tweaks to production scripts:

batch_Condor.py, eostools.py

prevent overwriting job scripts with empty files, which happens in some exotic failure cases
propagate ""pattern"" from csv properly (can be used to force a redirector)
remove unused options; add options to set flavour and memory requirement; tweak verbosity
can now generate jobs to process nanoAODs
all condor logs in the same directory for simplicity


hadd.py

hadd preserves compression level of inputs (-ff)
do not create empty directories
cp instead of hadd when only 1 file is present


resubmit_Condor.py: fix missing comment (giving an error message, not critical)
Remove obsolete LSF scripts","Some tweaks to production scripts:

batch_Condor.py, eostools.py

prevent overwriting job scripts with empty files, which happens in some exotic failure cases
propagate ""pattern"" from csv properly (can be used to force a redirector)
remove unused options; add options to set flavour and memory requirement; tweak verbosity
can now generate jobs to process nanoAODs
all condor logs in the same directory for simplicity


hadd.py

hadd preserves compression level of inputs (-ff)
do not create empty directories
cp instead of hadd when only 1 file is present


resubmit_Condor.py: fix missing comment (giving an error message, not critical)
Remove obsolete LSF scripts",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,115,2021-12-20T10:43:49Z,2021-12-21T10:31:48Z,2021-12-21T10:31:48Z,MERGED,True,188,0,2,https://github.com/AlessandroTarabini,2016UL,7,[],https://github.com/CJLST/ZZAnalysis/pull/115,https://github.com/AlessandroTarabini,1,https://github.com/CJLST/ZZAnalysis/pull/115,"csv files for 2016UL data and 2016postVFP MC. 2016 preVFP MC samples are not ready yet, the related csv file will be produced later","csv files for 2016UL data and 2016postVFP MC. 2016 preVFP MC samples are not ready yet, the related csv file will be produced later",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,116,2021-12-27T16:58:34Z,2021-12-27T17:10:41Z,2021-12-27T17:10:42Z,MERGED,True,92,71,6,https://github.com/namapane,Small edits in background samples + Improvements in prod scripts,1,[],https://github.com/CJLST/ZZAnalysis/pull/116,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/116,"correct naming and small tuning of split factors for minor background samples
new script forceRedirector.csh : edits already created jobs to force using global redirector
improved reporting of failures in checkProd.csh
resubmit_Condor.csh now refuses to submit jobs if previously run and not cleaned up","correct naming and small tuning of split factors for minor background samples
new script forceRedirector.csh : edits already created jobs to force using global redirector
improved reporting of failures in checkProd.csh
resubmit_Condor.csh now refuses to submit jobs if previously run and not cleaned up",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,117,2022-01-14T20:02:12Z,2022-01-14T20:02:50Z,2022-01-14T20:02:50Z,MERGED,True,4,3,2,https://github.com/namapane,Fix bug in calling LHEHandler,1,[],https://github.com/CJLST/ZZAnalysis/pull/117,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/117,"Resolve a subtle bug in calling LHEHandler:
the initialization variable ""firstRun"" in HZZ4lNtupleMaker was a static in local scope. However, we have different instances of HZZ4lNtupleMaker for the SR and for CRs. Given that the static is shared among all instances, lheHandler->setHeaderFromRunInfo(&lhe_runinfo); was callled only for one of the instances, and not for the others.
Side effects:

For some special UL samples (VVV, DYJets), that are labelled as specialPDF_NNPDF31_NNLO_as_0118_Madgraph_1000offset_Case2 by LHEHandler, the missing initialization leads to an unexpected condition and crash;
For other samples, the missing initialization means that LHEHandler may be fooled in interpreting the type of sample and this can possibly affect how it computes alternate weights.","Resolve a subtle bug in calling LHEHandler:
the initialization variable ""firstRun"" in HZZ4lNtupleMaker was a static in local scope. However, we have different instances of HZZ4lNtupleMaker for the SR and for CRs. Given that the static is shared among all instances, lheHandler->setHeaderFromRunInfo(&lhe_runinfo); was callled only for one of the instances, and not for the others.
Side effects:

For some special UL samples (VVV, DYJets), that are labelled as specialPDF_NNPDF31_NNLO_as_0118_Madgraph_1000offset_Case2 by LHEHandler, the missing initialization leads to an unexpected condition and crash;
For other samples, the missing initialization means that LHEHandler may be fooled in interpreting the type of sample and this can possibly affect how it computes alternate weights.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,118,2022-01-17T13:26:05Z,2022-01-17T13:29:50Z,2022-01-24T10:52:18Z,MERGED,True,16,3,2,https://github.com/namapane,Allow option to hadd directly to a destination folder,1,[],https://github.com/CJLST/ZZAnalysis/pull/118,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/118,"new option -d in haddChunks to specify a destination directory, so that it is possible to hadd directly to the final eos area, saving a copy operation.
Default behaviour is unchanged (ie hadd to the same folder where chunks reside)","new option -d in haddChunks to specify a destination directory, so that it is possible to hadd directly to the final eos area, saving a copy operation.
Default behaviour is unchanged (ie hadd to the same folder where chunks reside)",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,119,2022-01-24T10:51:11Z,2022-01-24T10:51:25Z,2022-01-24T10:51:34Z,MERGED,True,1,1,1,https://github.com/namapane,New version of CommonLHETools to fix crash for some samples,1,[],https://github.com/CJLST/ZZAnalysis/pull/119,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/119,"Required to process TTZZ, TTZJets, TTWW.","Required to process TTZZ, TTZJets, TTWW.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,121,2022-02-09T10:40:18Z,2022-02-11T10:45:24Z,2022-02-11T10:45:25Z,MERGED,True,1579,39,4,https://github.com/AlessandroTarabini,JES splitting,10,[],https://github.com/CJLST/ZZAnalysis/pull/121,https://github.com/AlessandroTarabini,1,https://github.com/CJLST/ZZAnalysis/pull/121,"Computation of JES variations is fixed. Before JES variations were computed for JEC-corrected but not JER-corrected jets. JES variations should be computed on fully-corrected jets. JetFiller has been modified accordingly.
JES variation splitting is now computed for data, too.","Computation of JES variations is fixed. Before JES variations were computed for JEC-corrected but not JER-corrected jets. JES variations should be computed on fully-corrected jets. JetFiller has been modified accordingly.
JES variation splitting is now computed for data, too.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,122,2022-02-09T13:20:34Z,2022-03-16T15:57:02Z,2022-03-16T15:57:02Z,CLOSED,False,5324,53,17,https://github.com/GlennnLiu,The batch_Condor used to separate output and condor area,6,[],https://github.com/CJLST/ZZAnalysis/pull/122,https://github.com/GlennnLiu,1,https://github.com/CJLST/ZZAnalysis/pull/122,"To whom it may concern,
I updated one document (scripts/batch_Condor_Out.py), used to separate the output folders from condor submit area, in case it is helpful for those who don't have a AFS workspace, as discussed in #120. I will also write a Wiki page about how to use it.
Thank you!
Yours Sincerely,
Geliang Liu","To whom it may concern,
I updated one document (scripts/batch_Condor_Out.py), used to separate the output folders from condor submit area, in case it is helpful for those who don't have a AFS workspace, as discussed in #120. I will also write a Wiki page about how to use it.
Thank you!
Yours Sincerely,
Geliang Liu",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,122,2022-02-09T13:20:34Z,2022-03-16T15:57:02Z,2022-03-16T15:57:02Z,CLOSED,False,5324,53,17,https://github.com/GlennnLiu,The batch_Condor used to separate output and condor area,6,[],https://github.com/CJLST/ZZAnalysis/pull/122,https://github.com/namapane,2,https://github.com/CJLST/ZZAnalysis/pull/122#issuecomment-1040572406,"To whom it may concern,
I updated one document (scripts/batch_Condor_Out.py), used to separate the output folders from condor submit area, in case it is helpful for those who don't have a AFS workspace, as discussed in #120. I will also write a Wiki page about how to use it.
Thank you!
Yours Sincerely,
Geliang Liu","Thanks Geliang,
Actually I have been discussing with @bonanomi and I would like to try with only setting an AFS path for logs. In any case we need to integrate this option to the existing script - having a separate script makes maintenance difficult.
Cheers
N.",True,{'THUMBS_UP': ['https://github.com/bonanomi']}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,122,2022-02-09T13:20:34Z,2022-03-16T15:57:02Z,2022-03-16T15:57:02Z,CLOSED,False,5324,53,17,https://github.com/GlennnLiu,The batch_Condor used to separate output and condor area,6,[],https://github.com/CJLST/ZZAnalysis/pull/122,https://github.com/GlennnLiu,3,https://github.com/CJLST/ZZAnalysis/pull/122#issuecomment-1041264467,"To whom it may concern,
I updated one document (scripts/batch_Condor_Out.py), used to separate the output folders from condor submit area, in case it is helpful for those who don't have a AFS workspace, as discussed in #120. I will also write a Wiki page about how to use it.
Thank you!
Yours Sincerely,
Geliang Liu","Hi Nicola,
Thanks for your message. Okay I get it. Then probably we can close the request now?
Best,
Geliang",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,123,2022-02-11T14:40:56Z,2022-02-11T14:41:14Z,2022-02-11T14:41:14Z,MERGED,True,120,1650,22,https://github.com/namapane,UL development - first updates,4,[],https://github.com/CJLST/ZZAnalysis/pull/123,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/123,"First set of updates agreed for coming UL analyses:
-Remove PATMuonCleanerBySegments (can be optionally re-inserted for checks)
-Fix application of Rochester corrections (to all muons)
-Some general cleanup","First set of updates agreed for coming UL analyses:
-Remove PATMuonCleanerBySegments (can be optionally re-inserted for checks)
-Fix application of Rochester corrections (to all muons)
-Some general cleanup",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,124,2022-02-11T17:14:48Z,2022-02-11T17:15:13Z,2022-02-11T17:15:13Z,MERGED,True,51,58,7,https://github.com/namapane,Fix muon ID,2,[],https://github.com/CJLST/ZZAnalysis/pull/124,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/124,"ID fixes:

fix muon arbitration
standard trackerHighPtID
use standard dxy, dz values (do not recompute based of a selected PV)","ID fixes:

fix muon arbitration
standard trackerHighPtID
use standard dxy, dz values (do not recompute based of a selected PV)",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,125,2022-02-21T14:24:39Z,2022-02-23T18:37:22Z,2022-02-23T18:37:22Z,MERGED,True,66,66,3,https://github.com/namapane,Remove k-factors from ggH samples,2,[],https://github.com/CJLST/ZZAnalysis/pull/125,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/125,...since they should not be applied to these samples.,...since they should not be applied to these samples.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,126,2022-02-26T12:46:19Z,2022-03-01T16:14:16Z,2022-03-01T16:14:16Z,MERGED,True,49,50,4,https://github.com/AlessandroTarabini,UL Muon SF,1,[],https://github.com/CJLST/ZZAnalysis/pull/126,https://github.com/AlessandroTarabini,1,https://github.com/CJLST/ZZAnalysis/pull/126,UL muon SFs blessed by the muonPOG,UL muon SFs blessed by the muonPOG,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,127,2022-02-26T13:49:28Z,2022-03-01T16:14:32Z,2022-03-01T16:14:32Z,MERGED,True,49,50,4,https://github.com/namapane,UL Muon SF,1,[],https://github.com/CJLST/ZZAnalysis/pull/127,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/127,Port of #126 to Run2UL_22,Port of #126 to Run2UL_22,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,128,2022-03-16T11:27:13Z,2022-03-16T11:27:48Z,2022-03-16T11:27:48Z,MERGED,True,17,114,7,https://github.com/namapane,Remove code and support for FSRMODE=Legacy,1,[],https://github.com/CJLST/ZZAnalysis/pull/128,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/128,"Since that is not functional anymore.
No change in results.","Since that is not functional anymore.
No change in results.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,129,2022-03-17T10:02:16Z,2022-03-17T10:02:23Z,2022-03-17T10:02:23Z,MERGED,True,33,40,3,https://github.com/namapane,FSR fixes,1,[],https://github.com/CJLST/ZZAnalysis/pull/129,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/129,"Extend FSR to the full electron eta range (|eta_ele|<2.5)
include all electrons in FSR footprint veto (not just prompt ones)
More details in [https://indico.cern.ch/event/1109091/#31-h4l-object-selection-toward](this presentation).
Effects are tiny; very rare additional FSR for electrons above 2.4<|eta|<2.5, and a very slight suppression of fake FSRs due to extending the footprint veto.","Extend FSR to the full electron eta range (|eta_ele|<2.5)
include all electrons in FSR footprint veto (not just prompt ones)
More details in [https://indico.cern.ch/event/1109091/#31-h4l-object-selection-toward](this presentation).
Effects are tiny; very rare additional FSR for electrons above 2.4<|eta|<2.5, and a very slight suppression of fake FSRs due to extending the footprint veto.",True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,130,2022-05-02T15:40:45Z,2022-05-02T15:41:03Z,2022-05-02T15:41:03Z,MERGED,True,3,2,1,https://github.com/namapane,Revert bug introduced in the PU reweighting control plots,1,[],https://github.com/CJLST/ZZAnalysis/pull/130,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/130,These plots are used to check the correctness of the PU reweighting; they have nothing to do with gen MC weight.,These plots are used to check the correctness of the PU reweighting; they have nothing to do with gen MC weight.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,131,2022-05-02T15:49:38Z,2022-05-02T15:49:49Z,2022-05-02T15:49:49Z,MERGED,True,3,2,1,https://github.com/namapane,Revert bug introduced in the PU reweighting control plots,1,[],https://github.com/CJLST/ZZAnalysis/pull/131,https://github.com/namapane,1,https://github.com/CJLST/ZZAnalysis/pull/131,Port of #130 to Run2_CutBased_UL.,Port of #130 to Run2_CutBased_UL.,True,{}
CJLST/ZZAnalysis,https://github.com/CJLST/ZZAnalysis,132,2022-05-27T13:31:07Z,,2022-05-27T13:32:03Z,OPEN,False,220,79,5,https://github.com/AlessandroTarabini,JES and MiniAOD,3,[],https://github.com/CJLST/ZZAnalysis/pull/132,https://github.com/AlessandroTarabini,1,https://github.com/CJLST/ZZAnalysis/pull/132,"csv files updated with missing MiniAODv2.
Small change in the pT cut in JetFiller. It is lowered to 20 GeV to help in the computation of JES variations","csv files updated with missing MiniAODv2.
Small change in the pT cut in JetFiller. It is lowered to 20 GeV to help in the computation of JES variations",True,{}
